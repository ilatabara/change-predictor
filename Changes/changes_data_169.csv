id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-neutron-api-plugin-ironic~master~I0ddb7626e061448459790f202578a827ce8d654e,openstack/charm-neutron-api-plugin-ironic,master,I0ddb7626e061448459790f202578a827ce8d654e,Add impish to metadata.yaml,MERGED,2021-06-03 09:20:03.000000000,2021-06-07 11:18:27.000000000,2021-06-07 11:18:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:20:03.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/c1c163283a0d99d70c9f2d6c10fed3df84bd9e59', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I0ddb7626e061448459790f202578a827ce8d654e\n'}]",0,794524,c1c163283a0d99d70c9f2d6c10fed3df84bd9e59,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I0ddb7626e061448459790f202578a827ce8d654e
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/24/794524/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,c1c163283a0d99d70c9f2d6c10fed3df84bd9e59,charm-metadata-impish,- impish,,1,0
openstack%2Fheat~master~I6b414770985afd3d71c6cc718ea366fbd384e88c,openstack/heat,master,I6b414770985afd3d71c6cc718ea366fbd384e88c,Fix zuul config for heat-functional,MERGED,2021-05-18 15:49:43.000000000,2021-06-07 10:54:21.000000000,2021-06-07 10:50:18.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 15:49:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/9652d45e307c62d70712f17f72e2d484bd232b23', 'message': ""Fix zuul config for heat-functional\n\nYAML indentation is wrong, instead of their appropriate sections\noptions are set to the DEFAULT section of config like the following\n\n  [DEFAULT]\n  heat_api = {'workers': 2}\n\nnot sure if oslo.config handles that properly so better fix this.\n\nChange-Id: I6b414770985afd3d71c6cc718ea366fbd384e88c\n""}]",0,792004,9652d45e307c62d70712f17f72e2d484bd232b23,8,2,1,9542,,,0,"Fix zuul config for heat-functional

YAML indentation is wrong, instead of their appropriate sections
options are set to the DEFAULT section of config like the following

  [DEFAULT]
  heat_api = {'workers': 2}

not sure if oslo.config handles that properly so better fix this.

Change-Id: I6b414770985afd3d71c6cc718ea366fbd384e88c
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/792004/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9652d45e307c62d70712f17f72e2d484bd232b23,fix-zuul-post-config, heat_api: workers: 2 heat_api_cfn: workers: 2 cache: enabled: True eventlet_opts: client_socket_timeout: 120 oslo_messaging_notifications: driver: messagingv2, heat_api: workers: 2 heat_api_cfn: workers: 2 cache: enabled: True eventlet_opts: client_socket_timeout: 120 oslo_messaging_notifications: driver: messagingv2,10,10
openstack%2Fkolla-ansible~master~I2e6952a57004c52a538e22e029cd511be816e587,openstack/kolla-ansible,master,I2e6952a57004c52a538e22e029cd511be816e587,Improve docs on rabbitmq tuning params,ABANDONED,2021-06-04 13:11:59.000000000,2021-06-07 10:54:11.000000000,,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 13:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/774a8388b9ffd75c8873869edc3c9b973989f5ce', 'message': 'Improve docs on rabbitmq tuning params\n\nTrivialFix\n\nChange-Id: I2e6952a57004c52a538e22e029cd511be816e587\n'}, {'number': 2, 'created': '2021-06-07 08:08:57.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56025c30c35111b7ab642dbb6acb1bcadf847b2a', 'message': 'Improve docs on rabbitmq tuning params\n\nTrivialFix\n\nChange-Id: I2e6952a57004c52a538e22e029cd511be816e587\n'}]",3,794805,56025c30c35111b7ab642dbb6acb1bcadf847b2a,12,3,2,782,,,0,"Improve docs on rabbitmq tuning params

TrivialFix

Change-Id: I2e6952a57004c52a538e22e029cd511be816e587
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/794805/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,774a8388b9ffd75c8873869edc3c9b973989f5ce,,"# More details can be found in the rabbit docs: # https://www.rabbitmq.com/runtime.html#scheduling # https://www.rabbitmq.com/runtime.html#busy-waiting # for example, you can set rabbit to always use two cores, # and tell it not to busy wait: # ""+S 2:2 +sbwt none""",,6,0
openstack%2Fpython-venusclient~master~Ica4e825cb7687a5157ce75fc63800f96156fde4e,openstack/python-venusclient,master,Ica4e825cb7687a5157ce75fc63800f96156fde4e,return orign data of interface,MERGED,2021-06-07 09:56:53.000000000,2021-06-07 10:26:19.000000000,2021-06-07 10:26:19.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-06-07 09:56:53.000000000', 'files': ['venusclient/v1/config.py', 'venusclient/v1/config_shell.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/7aee4c35e66f989e4534c07773152329d52c676d', 'message': 'return orign data of interface\n\nChange-Id: Ica4e825cb7687a5157ce75fc63800f96156fde4e\n'}]",0,795079,7aee4c35e66f989e4534c07773152329d52c676d,6,2,1,30455,,,0,"return orign data of interface

Change-Id: Ica4e825cb7687a5157ce75fc63800f96156fde4e
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/79/795079/1 && git format-patch -1 --stdout FETCH_HEAD,"['venusclient/v1/config.py', 'venusclient/v1/config_shell.py']",2,7aee4c35e66f989e4534c07773152329d52c676d,, return endpoint return endpoint,,4,0
openstack%2Ftacker~master~I9adb06bea6a973319488c3a203bc32e83bb1bb98,openstack/tacker,master,I9adb06bea6a973319488c3a203bc32e83bb1bb98,[DNM] Test zuul FT for k8s-cluster,NEW,2021-04-08 03:21:36.000000000,2021-06-07 09:56:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-04-08 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/78a96869e4d6372698f7a1ed151706e63cb20811', 'message': '[DNM] Test single node for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 2, 'created': '2021-04-08 04:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1e4a869303dadbdc27ae2e6d2d8ad5c22099759e', 'message': '[DNM] Test single node for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 3, 'created': '2021-04-13 02:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/37eb7477e3a2bf1e5af5d66fed46206c6941629c', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 4, 'created': '2021-04-13 02:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/44e3074ac08067534f7ccb8d82b64eb4a7c41327', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 5, 'created': '2021-04-13 04:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3c38573cd06fb17c40856954937a45d6e59741f9', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 6, 'created': '2021-04-13 05:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/94f258c68ab719022ef958a32cb9e66c20b4a29e', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 7, 'created': '2021-04-14 01:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6329117a9d739e5ee1d01ae5bcfbc246a73a6208', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 8, 'created': '2021-04-26 05:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8ad7fc30e9383c229e6815507ab5fbd226c8beb4', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 9, 'created': '2021-04-26 08:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5605250b3fd815e6d137117ebf405287c8218ed4', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 10, 'created': '2021-04-26 09:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8faaccfb1a375278057e31187875562b66033a22', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 11, 'created': '2021-04-28 07:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/258af3c0bccaac622441a80627a0eb54db342ad3', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 12, 'created': '2021-04-29 07:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2c44dfd0484027aa7bf1dfc30cd8bc3d3d975748', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 13, 'created': '2021-04-30 03:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/aff8a0c252b90982aa5cb9d703fd3c87155bdbec', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 14, 'created': '2021-05-04 02:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fc9de6ac79231ec4a941a97c43b3fcc8dffb2c95', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 15, 'created': '2021-05-06 04:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/81057cd798e5c9ef72f26fdf8d503ddaadf3b54d', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 16, 'created': '2021-05-07 01:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f713733912f3eba1b04478ccc919ebbaa164ecbd', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 17, 'created': '2021-05-10 09:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2092e1ac28990643a2368e5b639a0bcc0990ac80', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 18, 'created': '2021-05-11 01:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1c4e4525cf6b8557f4bfbbb56eb0450c7973091a', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 19, 'created': '2021-05-12 07:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/482042331a290a03732a04d199a225d7134dd7b0', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 20, 'created': '2021-05-12 07:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fce60a6dfd2f045cbcc885cc8a9bd3267f1ffc27', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 21, 'created': '2021-05-13 05:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7e909bb23b85516c78a88bc7ea6d712dcd3ee93a', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 22, 'created': '2021-05-13 08:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/53162702425446928a24fd6d6f98dc6afdb9b668', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 23, 'created': '2021-05-17 01:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/954cd2ab859c6e91c4ecdbe7e6d1bb1663f0e156', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 24, 'created': '2021-05-17 06:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/95668daf859cfec2d1e115a1249daa560aae9511', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 25, 'created': '2021-05-18 01:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e7276a17c125e786712a2bc7623bd8dd80bb2a87', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 26, 'created': '2021-05-19 01:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0f41f74c46e1adf44a03f388e689d33938e0e36e', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}, {'number': 27, 'created': '2021-06-07 05:30:12.000000000', 'files': ['tacker/tests/functional/sol_kubernetes_cluster/__init__.py', 'roles/setup-default-vim-cluster/tasks/main.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/BaseHOT/simple/nested/base_hot_nested_master.yaml', 'playbooks/devstack/run_cluster.yaml', 'tacker/tests/etc/samples/etsi/nfv/common_mgmt_cluster/Scripts/install_k8s_cluster.sh', 'tacker/tests/etc/samples/etsi/nfv/test_scenario_b/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/common_mgmt_cluster/Scripts/kubernetes_mgmt.py', 'tacker/tests/etc/samples/etsi/nfv/test_scenario_b/Files/kubernetes/deployment.yaml', 'tacker/tests/functional/sol_kubernetes_cluster/vnflcm/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/common_mgmt_cluster/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/BaseHOT/simple/base_hot_top.yaml', 'playbooks/devstack/pre_cluster.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/BaseHOT/simple/nested/base_hot_nested_worker.yaml', '.zuul.yaml', 'tacker/vnfm/mgmt_drivers/kubernetes_mgmt.py', 'tacker/tests/functional/sol_kubernetes_cluster/vnflcm/test_kubernetes_mgmt.py', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/UserData/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/UserData/k8s_cluster_user_data.py', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/common_mgmt_cluster/Definitions/helloworld3_top.vnfd.yaml', 'setup.cfg', 'tacker/tests/etc/samples/etsi/nfv/test_single_master_k8s_cluster/TOSCA-Metadata/TOSCA.meta', 'tox.ini', 'tacker/vnflcm/vnflcm_driver.py', 'tools/test-setup-default-vim-cluster.sh', 'tacker/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/b827d6efe79666dae1d501ccdfccbe79e022c984', 'message': '[DNM] Test zuul FT for k8s-cluster\n\nChange-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98\n'}]",8,785303,b827d6efe79666dae1d501ccdfccbe79e022c984,109,2,27,31821,,,0,"[DNM] Test zuul FT for k8s-cluster

Change-Id: I9adb06bea6a973319488c3a203bc32e83bb1bb98
",git fetch https://review.opendev.org/openstack/tacker refs/changes/03/785303/25 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/pre_cluster.yaml', 'roles/setup-default-vim-cluster/tasks/main.yaml', '.zuul.yaml', 'playbooks/devstack/run_cluster.yaml', 'tools/test-setup-default-vim-cluster.sh']",5,78a96869e4d6372698f7a1ed151706e63cb20811,add-test-zuul-k8s-cluster,"#!/bin/bash -xe # This script is used to set up default vim # for functional testing, which cannot be put # in devstack/plugin.sh because new zuul3 CI # cannot keep the devstack plugins order # # Also, this script updates the following # parameter which has been modified # unintentionally by ansible playbook # `roles/setup-default-vim/tasks/main.yaml` # according to the execution environment of # Zuul. # # --os-auth-url # --config-file openstack vim register \ --os-username nfv_user \ --os-project-name nfv \ --os-password devstack \ --os-auth-url http://127.0.0.1/identity \ --os-project-domain-name Default \ --os-user-domain-name Default \ --is-default \ --description ""Default VIM"" \ --config-file /opt/stack/tacker/tacker/tests/etc/samples/local-vim.yaml \ VIM0 #add router between public and net0 auth='--os-username nfv_user --os-project-name nfv --os-password devstack --os-auth-url http://127.0.0.1/identity --os-project-domain-name Default --os-user-domain-name Default' router_id=`openstack router create router-net0 $auth | grep -w 'id' | awk '{print $4}'` openstack router set --external-gateway public router-net0 $auth openstack router show $router_id $auth openstack router add subnet router-net0 subnet0 $auth router_external_ip=`openstack router show $router_id $auth | \ grep 'external_gateway_info' | sed 's/,/\n/g' | grep 'ip_address' | \ grep '\.' | sed 's/:/\n/g' | sed '1d' | sed 's/}//g' | sed 's/""//g'` echo $router_external_ip router_net0_subnet_id=`openstack router show $router_id $auth | \ grep 'interfaces_info'| awk '{print $9}' | sed 's/}]//g' | sed 's/""//g' | sed 's/},//g'` echo $router_net0_subnet_id net0_cidr=`openstack subnet show $router_net0_subnet_id $auth | grep cidr | awk '{print $4}'` sudo route add -net $net0_cidr gw $router_external_ip ip route route -n #add security group for k8s-cluster nfv_project_id=`openstack project list $auth | grep 'nfv' | awk '{print $2}'` default_id=`openstack security group list $auth | grep 'default' | grep $nfv_project_id | awk '{print $2}'` #all icmp openstack security group rule create --protocol icmp $default_id $auth #get br_ex_ip and ens3_ip br_ex_ip=`ip -4 addr | grep 'br-ex' | grep -oP '(?<=inet\s)\d+(\.\d+){3}'` echo $br_ex_ip ens3_ip=`ip -4 addr | grep 'ens3' | grep -oP '(?<=inet\s)\d+(\.\d+){3}' | cat` echo $ens3_ip #get router1_ip openstack router show router1 $auth router_external_ip_private=`openstack router show router1 $auth | \ grep 'external_gateway_info' | sed 's/,/\n/g' | grep 'ip_address' | \ grep '\.' | sed 's/:/\n/g' | sed '1d' | sed 's/}//g' | sed 's/""//g'` echo $router_external_ip_private router_private_ip=`openstack router show router1 $auth | \ grep 'interfaces_info' | sed 's/,/\n/g' | grep 'ip_address' | \ grep '\.' | sed 's/:/\n/g' | sed '1d' | sed 's/}//g' | sed 's/""//g' | sed '2d' | sed '2d'` echo $router_private_ip ping -c 5 $br_ex_ip >/home/zuul/cluster.log & sleep 10 cat /home/zuul/cluster.log ping -c 5 $ens3_ip >/home/zuul/cluster.log & sleep 10 cat /home/zuul/cluster.log #test private network ping -c 5 $router_external_ip_private >/home/zuul/cluster.log & sleep 10 cat /home/zuul/cluster.log ping -c 5 $router_private_ip >/home/zuul/cluster.log & sleep 10 cat /home/zuul/cluster.log #test router-net0 ping -c 3 $router_external_ip >/home/zuul/cluster.log & sleep 10 cat /home/zuul/cluster.log openstack router show $router_id $auth router_net0_ip=`openstack router show $router_id $auth | \ grep 'interfaces_info' | sed 's/,/\n/g' | grep 'ip_address' | \ grep '\.' | sed 's/:/\n/g' | sed '1d' | sed 's/}//g' | sed 's/""//g' | sed '2d' | sed '2d'` echo $router_net0_ip ping -c 3 $router_net0_ip >/home/zuul/cluster.log & sleep 10 cat /home/zuul/cluster.log #test VM on net0 openstack server create --flavor m1.small --image cirros-0.4.0-x86_64-disk --network net0 test-VM $auth sleep 60 openstack server show test-VM $auth net0_CIP=`openstack server show test-VM $auth | grep 'addresses' | awk '{print $4}'` ping -c 100 ${net0_CIP#*=} >/home/zuul/cluster.log & cat /home/zuul/cluster.log FIP=`openstack floating ip create public $auth | grep -w 'floating_ip_address' | awk '{print $4}'` openstack server add floating ip test-VM $FIP $auth ping -c 100 $FIP >/home/zuul/cluster.log & sleep 60 cat /home/zuul/cluster.log #ssh 22 port openstack security group rule create --protocol tcp --dst-port 22 $default_id $auth #all tcp openstack security group rule create --protocol tcp $default_id $auth #all icmp #openstack security group rule create --protocol icmp $default_id $auth #all udp openstack security group rule create --protocol udp $default_id $auth #dns 53 port openstack security group rule create --protocol tcp --dst-port 53 $default_id $auth #k8s port openstack security group rule create --protocol tcp --dst-port 6443 $default_id $auth openstack security group rule create --protocol tcp --dst-port 16443 $default_id $auth openstack security group rule create --protocol tcp --dst-port 2379:2380 $default_id $auth openstack security group rule create --protocol tcp --dst-port 10250:10255 $default_id $auth openstack security group rule create --protocol tcp --dst-port 30000:32767 $default_id $auth ",,399,4
openstack%2Fopenstacksdk~master~Ib2c343daa8fbec569ae57a1c024b8633262a8b19,openstack/openstacksdk,master,Ib2c343daa8fbec569ae57a1c024b8633262a8b19,Fix import order in block_storage tests,ABANDONED,2021-06-01 09:48:00.000000000,2021-06-07 09:51:27.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-01 09:48:00.000000000', 'files': ['openstack/tests/unit/block_storage/v3/test_snapshot.py', 'openstack/tests/unit/block_storage/v2/test_stats.py', 'openstack/tests/unit/block_storage/v2/test_snapshot.py', 'openstack/tests/unit/block_storage/v3/test_type.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'openstack/tests/unit/block_storage/v3/test_availability_zone.py', 'tox.ini', 'openstack/tests/unit/block_storage/v3/test_backup.py', 'openstack/tests/unit/block_storage/v3/test_type_encryption.py', 'openstack/tests/unit/block_storage/v2/test_type.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29871bf9ec10f80b926834b06ebb23f467f5631d', 'message': 'Fix import order in block_storage tests\n\nRemove tox filter\n\nChange-Id: Ib2c343daa8fbec569ae57a1c024b8633262a8b19\n'}]",0,793934,29871bf9ec10f80b926834b06ebb23f467f5631d,5,3,1,23851,,,0,"Fix import order in block_storage tests

Remove tox filter

Change-Id: Ib2c343daa8fbec569ae57a1c024b8633262a8b19
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/34/793934/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v3/test_snapshot.py', 'openstack/tests/unit/block_storage/v2/test_stats.py', 'openstack/tests/unit/block_storage/v2/test_snapshot.py', 'openstack/tests/unit/block_storage/v3/test_type.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'openstack/tests/unit/block_storage/v3/test_availability_zone.py', 'tox.ini', 'openstack/tests/unit/block_storage/v3/test_backup.py', 'openstack/tests/unit/block_storage/v2/test_type.py', 'openstack/tests/unit/block_storage/v3/test_type_encryption.py']",10,29871bf9ec10f80b926834b06ebb23f467f5631d,apply-import-order,from openstack.block_storage.v3 import type,from openstack.block_storage.v3 import type,12,12
openstack%2Fironic-python-agent~master~If432ef795d64d76442d739eb4f7d155ff847041e,openstack/ironic-python-agent,master,If432ef795d64d76442d739eb4f7d155ff847041e,Ignore efi grub2-install failure,MERGED,2021-06-03 01:52:20.000000000,2021-06-07 09:48:41.000000000,2021-06-07 09:47:12.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-03 01:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4e43864d6cd9643ef32d10dda52c868a9c404df9', 'message': ""Ignore efi grub2-install failure\n\nRecent releases of redhat grub2 will always fail when installing to\nEFI paths, to encourage a transition to the signed shim bootloader.\n\nPartition image deploys avoid calling grub2-install with the\npreserve-efi-assets functions. Deploying whole disk images doesn't\nrequire grub2-install. This leaves whole disk images installed onto\nsoftraid devices, which still attempts to call grub2-install.\n\nThis change will still attempt to run grub2-install in this\none remaining case, but will ignore any failure.\n\nA future enhancement can avoid calling grub2-install entirely so that\nnon-redhat secure-boot capable images can keep their signed\nbootloaders.\n\nStory: 2008070\nTask: 42557\nChange-Id: If432ef795d64d76442d739eb4f7d155ff847041e\n""}, {'number': 2, 'created': '2021-06-03 01:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fdfea93b941e4d42f5f2134320b09a3ab339a47a', 'message': ""Ignore efi grub2-install failure\n\nRecent releases of redhat grub2 will always fail when installing to\nEFI paths, to encourage a transition to the signed shim bootloader.\n\nPartition image deploys avoid calling grub2-install with the\npreserve-efi-assets functions. Deploying whole disk images doesn't\nrequire grub2-install. This leaves whole disk images installed onto\nsoftraid devices, which still attempts to call grub2-install.\n\nThis change will still attempt to run grub2-install in this\none remaining case, but will ignore any failure.\n\nA future enhancement can avoid calling grub2-install entirely so that\nnon-redhat secure-boot capable images can keep their signed\nbootloaders.\n\nStory: 2008923\nTask: 42521\nChange-Id: If432ef795d64d76442d739eb4f7d155ff847041e\n""}, {'number': 3, 'created': '2021-06-03 22:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7af46564adc2c748f4daefee3739dbc6ccbba7eb', 'message': ""Ignore efi grub2-install failure\n\nRecent releases of redhat grub2 will always fail when installing to\nEFI paths, to encourage a transition to the signed shim bootloader.\n\nPartition image deploys avoid calling grub2-install with the\npreserve-efi-assets functions. Deploying whole disk images doesn't\nrequire grub2-install. This leaves whole disk images installed onto\nsoftraid devices, which still attempts to call grub2-install.\n\nThis change will still attempt to run grub2-install in this\none remaining case, but will ignore any failure.\n\nA future enhancement can avoid calling grub2-install entirely so that\nnon-redhat secure-boot capable images can keep their signed\nbootloaders.\n\nStory: 2008923\nTask: 42521\nChange-Id: If432ef795d64d76442d739eb4f7d155ff847041e\n""}, {'number': 4, 'created': '2021-06-03 22:04:14.000000000', 'files': ['releasenotes/notes/ignore-grub-efi-fail-dcf7eb07f61f4388.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a057be7dadc898ec813b2cac14913cd8523fbbcc', 'message': ""Ignore efi grub2-install failure\n\nRecent releases of redhat grub2 will always fail when installing to\nEFI paths, to encourage a transition to the signed shim bootloader.\n\nPartition image deploys avoid calling grub2-install with the\npreserve-efi-assets functions. Deploying whole disk images doesn't\nrequire grub2-install. This leaves whole disk images installed onto\nsoftraid devices, which still attempts to call grub2-install.\n\nThis change will still attempt to run grub2-install in this\none remaining case, but will ignore any failure.\n\nA future enhancement can avoid calling grub2-install entirely so that\nnon-redhat secure-boot capable images can keep their signed\nbootloaders.\n\nStory: 2008923\nTask: 42521\nChange-Id: If432ef795d64d76442d739eb4f7d155ff847041e\n""}]",5,794363,a057be7dadc898ec813b2cac14913cd8523fbbcc,14,6,4,4571,,,0,"Ignore efi grub2-install failure

Recent releases of redhat grub2 will always fail when installing to
EFI paths, to encourage a transition to the signed shim bootloader.

Partition image deploys avoid calling grub2-install with the
preserve-efi-assets functions. Deploying whole disk images doesn't
require grub2-install. This leaves whole disk images installed onto
softraid devices, which still attempts to call grub2-install.

This change will still attempt to run grub2-install in this
one remaining case, but will ignore any failure.

A future enhancement can avoid calling grub2-install entirely so that
non-redhat secure-boot capable images can keep their signed
bootloaders.

Story: 2008923
Task: 42521
Change-Id: If432ef795d64d76442d739eb4f7d155ff847041e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/63/794363/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,4e43864d6cd9643ef32d10dda52c868a9c404df9,story/2008923," try: # FIXME(rg): does not work in cross boot mode case (target # boot mode differs from ramdisk one) # Probe for the correct target (depends on the arch, example # --target=x86_64-efi) utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) except processutils.ProcessExecutionError as e: LOG.warning('Ignoring GRUB2 boot loader installation failure: ' '%s.', e) try: # Also run grub-install with --removable, this installs grub to # the EFI fallback path. Useful if the NVRAM wasn't written # correctly, was reset or if testing with virt as libvirt # resets the NVRAM on instance start. # This operation is essentially a copy operation. Use of the # --removable flag, per the grub-install source code changes # the default file to be copied, destination file name, and # prevents NVRAM from being updated. # We only run grub2_install for uefi if we can't verify the # uefi bits utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install --removable""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) except processutils.ProcessExecutionError as e: LOG.warning('Ignoring GRUB2 boot loader installation failure: ' '%s.', e)"," # FIXME(rg): does not work in cross boot mode case (target # boot mode differs from ramdisk one) # Probe for the correct target (depends on the arch, example # --target=x86_64-efi) utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) # Also run grub-install with --removable, this installs grub to # the EFI fallback path. Useful if the NVRAM wasn't written # correctly, was reset or if testing with virt as libvirt # resets the NVRAM on instance start. # This operation is essentially a copy operation. Use of the # --removable flag, per the grub-install source code changes # the default file to be copied, destination file name, and # prevents NVRAM from being updated. # We only run grub2_install for uefi if we can't verify the # uefi bits utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install --removable""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable })",55,29
openstack%2Fopenstacksdk~master~I298e3f0d5a2c53fbe31c56dfecf6ea54676c564e,openstack/openstacksdk,master,I298e3f0d5a2c53fbe31c56dfecf6ea54676c564e,Fix import order in cloud tests,ABANDONED,2021-06-01 09:43:13.000000000,2021-06-07 09:45:10.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-01 09:43:13.000000000', 'files': ['openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/tests/unit/cloud/test_aggregate.py', 'openstack/tests/unit/cloud/test_server_group.py', 'openstack/tests/unit/cloud/test_server_console.py', 'openstack/tests/unit/cloud/test_endpoints.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/tests/unit/cloud/test_shared_file_system.py', 'openstack/tests/unit/cloud/test_identity_roles.py', 'openstack/tests/unit/cloud/test_clustering.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/tests/unit/cloud/test_cluster_templates.py', 'openstack/tests/unit/cloud/test_stack.py', 'openstack/tests/unit/cloud/test_availability_zones.py', 'openstack/tests/unit/cloud/test_image.py', 'openstack/tests/unit/cloud/test_security_groups.py', 'openstack/tests/unit/cloud/test_services.py', 'openstack/tests/unit/cloud/test_floating_ip_pool.py', 'openstack/tests/unit/cloud/test_accelerator.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/tests/unit/cloud/test_zone.py', 'openstack/tests/unit/cloud/test_floating_ip_common.py', 'openstack/tests/unit/cloud/test_recordset.py', 'openstack/tests/unit/cloud/test_operator.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d0391245881b6b10a19b973b571f098362f125e4', 'message': 'Fix import order in cloud tests\n\nRemove tox filter\n\nChange-Id: I298e3f0d5a2c53fbe31c56dfecf6ea54676c564e\n'}]",0,793911,d0391245881b6b10a19b973b571f098362f125e4,5,3,1,23851,,,0,"Fix import order in cloud tests

Remove tox filter

Change-Id: I298e3f0d5a2c53fbe31c56dfecf6ea54676c564e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/11/793911/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_role_assignment.py', 'openstack/tests/unit/cloud/test_aggregate.py', 'openstack/tests/unit/cloud/test_server_group.py', 'openstack/tests/unit/cloud/test_server_console.py', 'openstack/tests/unit/cloud/test_endpoints.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/tests/unit/cloud/test_shared_file_system.py', 'openstack/tests/unit/cloud/test_identity_roles.py', 'openstack/tests/unit/cloud/test_clustering.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/tests/unit/cloud/test_cluster_templates.py', 'openstack/tests/unit/cloud/test_stack.py', 'openstack/tests/unit/cloud/test_availability_zones.py', 'openstack/tests/unit/cloud/test_image.py', 'openstack/tests/unit/cloud/test_security_groups.py', 'openstack/tests/unit/cloud/test_services.py', 'openstack/tests/unit/cloud/test_floating_ip_pool.py', 'openstack/tests/unit/cloud/test_accelerator.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/tests/unit/cloud/test_zone.py', 'openstack/tests/unit/cloud/test_floating_ip_common.py', 'openstack/tests/unit/cloud/test_recordset.py', 'openstack/tests/unit/cloud/test_operator.py', 'tox.ini']",29,d0391245881b6b10a19b973b571f098362f125e4,apply-import-order,," openstack/tests/unit/cloud/*:H306,I100,I201,I202",44,31
openstack%2Fcharm-magnum~master~Iff75de0f3c359d0c746ec4baddcfabf315d2f304,openstack/charm-magnum,master,Iff75de0f3c359d0c746ec4baddcfabf315d2f304,Add impish to metadata.yaml,MERGED,2021-06-03 09:15:55.000000000,2021-06-07 09:43:53.000000000,2021-06-07 09:43:53.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:15:55.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/2581cf87eeeab21b77109b43f2938c8182332640', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Iff75de0f3c359d0c746ec4baddcfabf315d2f304\n'}]",0,794510,2581cf87eeeab21b77109b43f2938c8182332640,6,2,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Iff75de0f3c359d0c746ec4baddcfabf315d2f304
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/10/794510/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2581cf87eeeab21b77109b43f2938c8182332640,charm-metadata-impish,- openstack series: - bionic - focal - groovy - hirsute - impish, - openstack series: - bionic - focal - groovy - hirsute,6,5
openstack%2Fcharm-designate~master~I69bb50af882e9aaef99cdff0e92ff00e93008934,openstack/charm-designate,master,I69bb50af882e9aaef99cdff0e92ff00e93008934,Add impish to metadata.yaml,MERGED,2021-06-03 09:11:22.000000000,2021-06-07 09:43:33.000000000,2021-06-07 09:43:33.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:11:22.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c765df87055053dd167007344684922e0d3321bd', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I69bb50af882e9aaef99cdff0e92ff00e93008934\n'}]",0,794496,c765df87055053dd167007344684922e0d3321bd,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I69bb50af882e9aaef99cdff0e92ff00e93008934
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/96/794496/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,c765df87055053dd167007344684922e0d3321bd,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-barbican-vault~master~I5c8aa5d29bdbbb7fbbbb66c7d8f9d0dcc3252f46,openstack/charm-barbican-vault,master,I5c8aa5d29bdbbb7fbbbb66c7d8f9d0dcc3252f46,Add impish to metadata.yaml,MERGED,2021-06-03 09:03:52.000000000,2021-06-07 09:40:35.000000000,2021-06-07 09:40:35.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:03:52.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/3136ffcc19a63d3eac16b08a3b1a16247699f7b8', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I5c8aa5d29bdbbb7fbbbb66c7d8f9d0dcc3252f46\n'}]",0,794477,3136ffcc19a63d3eac16b08a3b1a16247699f7b8,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I5c8aa5d29bdbbb7fbbbb66c7d8f9d0dcc3252f46
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/77/794477/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,3136ffcc19a63d3eac16b08a3b1a16247699f7b8,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-manila-netapp~master~Id527519dfbd5745cf0e286d15c64a487f5d7b042,openstack/charm-manila-netapp,master,Id527519dfbd5745cf0e286d15c64a487f5d7b042,Add impish to metadata.yaml,MERGED,2021-06-03 09:17:54.000000000,2021-06-07 09:39:17.000000000,2021-06-07 09:39:17.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:17:54.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-netapp/commit/2cb48e9b96d68c5079d2b3fbfdf8e3c7170bd02a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Id527519dfbd5745cf0e286d15c64a487f5d7b042\n'}]",0,794516,2cb48e9b96d68c5079d2b3fbfdf8e3c7170bd02a,6,2,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Id527519dfbd5745cf0e286d15c64a487f5d7b042
",git fetch https://review.opendev.org/openstack/charm-manila-netapp refs/changes/16/794516/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,2cb48e9b96d68c5079d2b3fbfdf8e3c7170bd02a,charm-metadata-impish, - impish,,1,0
openstack%2Fcharm-barbican~master~I6fd115af6201a7ceec0f28fdfe87544edb11ba5b,openstack/charm-barbican,master,I6fd115af6201a7ceec0f28fdfe87544edb11ba5b,Add impish to metadata.yaml,MERGED,2021-06-03 09:02:24.000000000,2021-06-07 09:39:11.000000000,2021-06-07 09:39:11.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:02:24.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/ef65af85887ecd7f1d691beb29ca839152dc9ee9', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I6fd115af6201a7ceec0f28fdfe87544edb11ba5b\n'}]",0,794474,ef65af85887ecd7f1d691beb29ca839152dc9ee9,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I6fd115af6201a7ceec0f28fdfe87544edb11ba5b
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/74/794474/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,ef65af85887ecd7f1d691beb29ca839152dc9ee9,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ceilometer~master~I40a81b714058179f397bc2b112eac0440a1b029f,openstack/charm-ceilometer,master,I40a81b714058179f397bc2b112eac0440a1b029f,Add impish to metadata.yaml,MERGED,2021-06-03 09:04:43.000000000,2021-06-07 09:38:55.000000000,2021-06-07 09:38:55.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:04:43.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b83b0b7ca8c17ca50a6077e5e224fc36c0cd9c7d', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I40a81b714058179f397bc2b112eac0440a1b029f\n'}]",0,794478,b83b0b7ca8c17ca50a6077e5e224fc36c0cd9c7d,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I40a81b714058179f397bc2b112eac0440a1b029f
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/78/794478/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,b83b0b7ca8c17ca50a6077e5e224fc36c0cd9c7d,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-glance-simplestreams-sync~master~Ia66b27b90dcbab7985f7478ac647036d1fef7aa2,openstack/charm-glance-simplestreams-sync,master,Ia66b27b90dcbab7985f7478ac647036d1fef7aa2,Add impish to metadata.yaml,MERGED,2021-06-03 09:12:19.000000000,2021-06-07 09:38:37.000000000,2021-06-07 09:38:37.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:12:19.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/b475e544f767d0b707fc232c571feba2948917ab', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ia66b27b90dcbab7985f7478ac647036d1fef7aa2\n'}]",0,794499,b475e544f767d0b707fc232c571feba2948917ab,9,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ia66b27b90dcbab7985f7478ac647036d1fef7aa2
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/99/794499/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,b475e544f767d0b707fc232c571feba2948917ab,charm-metadata-impish,- impish,,1,0
openstack%2Fopenstacksdk~master~Ife111995d939f8373637b1668be2f955b58c6189,openstack/openstacksdk,master,Ife111995d939f8373637b1668be2f955b58c6189,Fix import order in clustering tests,ABANDONED,2021-06-01 09:30:12.000000000,2021-06-07 09:38:06.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 09:30:12.000000000', 'files': ['openstack/tests/unit/clustering/test_version.py', 'openstack/tests/unit/clustering/v1/test_event.py', 'openstack/tests/unit/clustering/v1/test_cluster_policy.py', 'openstack/tests/unit/clustering/v1/test_profile.py', 'openstack/tests/unit/clustering/v1/test_receiver.py', 'openstack/tests/unit/clustering/v1/test_cluster_attr.py', 'openstack/tests/unit/clustering/v1/test_policy_type.py', 'openstack/tests/unit/clustering/v1/test_policy.py', 'tox.ini', 'openstack/tests/unit/clustering/v1/test_action.py', 'openstack/tests/unit/clustering/v1/test_build_info.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8aef77c7196d75c1972327e9a738dd627104b422', 'message': 'Fix import order in clustering tests\n\nRemove tox filter\n\nChange-Id: Ife111995d939f8373637b1668be2f955b58c6189\n'}]",0,793910,8aef77c7196d75c1972327e9a738dd627104b422,5,2,1,23851,,,0,"Fix import order in clustering tests

Remove tox filter

Change-Id: Ife111995d939f8373637b1668be2f955b58c6189
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/10/793910/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/clustering/test_version.py', 'openstack/tests/unit/clustering/v1/test_event.py', 'openstack/tests/unit/clustering/v1/test_cluster_policy.py', 'openstack/tests/unit/clustering/v1/test_profile.py', 'openstack/tests/unit/clustering/v1/test_receiver.py', 'openstack/tests/unit/clustering/v1/test_cluster_attr.py', 'openstack/tests/unit/clustering/v1/test_policy_type.py', 'openstack/tests/unit/clustering/v1/test_policy.py', 'tox.ini', 'openstack/tests/unit/clustering/v1/test_action.py', 'openstack/tests/unit/clustering/v1/test_build_info.py']",11,8aef77c7196d75c1972327e9a738dd627104b422,apply-import-order,from openstack.tests.unit import base,from openstack.tests.unit import base ,10,20
openstack%2Fcharm-aodh~master~Id4c0fe4a9281370a4f46df1778bd5b9da6831e1e,openstack/charm-aodh,master,Id4c0fe4a9281370a4f46df1778bd5b9da6831e1e,Add impish to metadata.yaml,MERGED,2021-06-03 09:02:05.000000000,2021-06-07 09:35:48.000000000,2021-06-07 09:35:48.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:02:05.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9e647798259e71229390b516d52bca9768cb1839', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Id4c0fe4a9281370a4f46df1778bd5b9da6831e1e\n'}]",0,794473,9e647798259e71229390b516d52bca9768cb1839,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Id4c0fe4a9281370a4f46df1778bd5b9da6831e1e
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/73/794473/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,9e647798259e71229390b516d52bca9768cb1839,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ceilometer-agent~master~I4fb40bfe36de6d49f10604d31c58f0d5cb0ad174,openstack/charm-ceilometer-agent,master,I4fb40bfe36de6d49f10604d31c58f0d5cb0ad174,Add impish to metadata.yaml,MERGED,2021-06-03 09:05:48.000000000,2021-06-07 09:35:43.000000000,2021-06-07 09:35:43.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:05:48.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/1f106fb79807c1d0e0d5cdab0eaf14e09c7079e4', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I4fb40bfe36de6d49f10604d31c58f0d5cb0ad174\n'}]",0,794480,1f106fb79807c1d0e0d5cdab0eaf14e09c7079e4,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I4fb40bfe36de6d49f10604d31c58f0d5cb0ad174
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/80/794480/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,1f106fb79807c1d0e0d5cdab0eaf14e09c7079e4,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-heat~master~I501ec22ef9bad06e84772e7e7b70a355631bf010,openstack/charm-heat,master,I501ec22ef9bad06e84772e7e7b70a355631bf010,Add impish to metadata.yaml,MERGED,2021-06-03 09:13:13.000000000,2021-06-07 09:35:27.000000000,2021-06-07 09:35:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:13:13.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/4b11fd0b2b0388be103a80b975f3f8026c69e898', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I501ec22ef9bad06e84772e7e7b70a355631bf010\n'}]",0,794502,4b11fd0b2b0388be103a80b975f3f8026c69e898,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I501ec22ef9bad06e84772e7e7b70a355631bf010
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/02/794502/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,4b11fd0b2b0388be103a80b975f3f8026c69e898,charm-metadata-impish,- impish,,1,0
openstack%2Fopenstacksdk~master~I397c715192ac4e47cfe867df22323d30581ba1aa,openstack/openstacksdk,master,I397c715192ac4e47cfe867df22323d30581ba1aa,Fix import order in orchestration tests,ABANDONED,2021-06-01 09:25:10.000000000,2021-06-07 09:35:15.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 09:25:10.000000000', 'files': ['openstack/tests/unit/orchestration/v1/test_stack_environment.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_software_config.py', 'openstack/tests/unit/orchestration/test_version.py', 'openstack/tests/unit/orchestration/v1/test_resource.py', 'openstack/tests/unit/orchestration/v1/test_stack_template.py', 'openstack/tests/unit/orchestration/v1/test_software_deployment.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6be26efb3b378a9f9b36f8ac56d075f580c1778e', 'message': 'Fix import order in orchestration tests\n\nRemove tox filter\n\nChange-Id: I397c715192ac4e47cfe867df22323d30581ba1aa\n'}]",0,793908,6be26efb3b378a9f9b36f8ac56d075f580c1778e,5,2,1,23851,,,0,"Fix import order in orchestration tests

Remove tox filter

Change-Id: I397c715192ac4e47cfe867df22323d30581ba1aa
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/08/793908/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_stack_environment.py', 'openstack/tests/unit/orchestration/v1/test_software_config.py', 'openstack/tests/unit/orchestration/test_version.py', 'openstack/tests/unit/orchestration/v1/test_resource.py', 'openstack/tests/unit/orchestration/v1/test_stack_template.py', 'openstack/tests/unit/orchestration/v1/test_software_deployment.py', 'tox.ini']",8,6be26efb3b378a9f9b36f8ac56d075f580c1778e,apply-import-order,," openstack/tests/unit/orchestration/*:H306,I100,I201,I202",8,11
openstack%2Fopenstacksdk~master~I810a5c6718df520323568cb74ad7fcdc2992f85e,openstack/openstacksdk,master,I810a5c6718df520323568cb74ad7fcdc2992f85e,Fix import order in identity tests,ABANDONED,2021-05-31 13:12:52.000000000,2021-06-07 09:34:48.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 13:12:52.000000000', 'files': ['openstack/tests/unit/identity/v3/test_role_domain_user_assignment.py', 'openstack/tests/unit/identity/v3/test_role_project_user_assignment.py', 'openstack/tests/unit/identity/v2/test_user.py', 'openstack/tests/unit/identity/v3/test_mapping.py', 'openstack/tests/unit/identity/v3/test_endpoint.py', 'openstack/tests/unit/identity/v3/test_role_project_group_assignment.py', 'openstack/tests/unit/identity/v3/test_user.py', 'openstack/tests/unit/identity/v3/test_policy.py', 'openstack/tests/unit/identity/v3/test_service.py', 'openstack/tests/unit/identity/v3/test_group.py', 'openstack/tests/unit/identity/v3/test_limit.py', 'openstack/tests/unit/identity/v3/test_role_domain_group_assignment.py', 'openstack/tests/unit/identity/v3/test_domain.py', 'openstack/tests/unit/identity/v3/test_role.py', 'openstack/tests/unit/identity/v3/test_role_assignment.py', 'openstack/tests/unit/identity/v2/test_role.py', 'openstack/tests/unit/identity/v3/test_identity_provider.py', 'openstack/tests/unit/identity/v3/test_project.py', 'openstack/tests/unit/identity/v3/test_registered_limit.py', 'openstack/tests/unit/identity/v2/test_tenant.py', 'openstack/tests/unit/identity/v3/test_federation_protocol.py', 'openstack/tests/unit/identity/v3/test_region.py', 'openstack/tests/unit/identity/v3/test_credential.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'tox.ini', 'openstack/tests/unit/identity/v3/test_trust.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/06ee3f601609aa40796f292a45b1079f7452971b', 'message': 'Fix import order in identity tests\n\nRemove tox filter\n\nChange-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e\n'}]",0,793789,06ee3f601609aa40796f292a45b1079f7452971b,6,2,1,23851,,,0,"Fix import order in identity tests

Remove tox filter

Change-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/793789/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/identity/v3/test_role_domain_user_assignment.py', 'openstack/tests/unit/identity/v3/test_role_project_user_assignment.py', 'openstack/tests/unit/identity/v2/test_user.py', 'openstack/tests/unit/identity/v3/test_mapping.py', 'openstack/tests/unit/identity/v3/test_endpoint.py', 'openstack/tests/unit/identity/v3/test_role_project_group_assignment.py', 'openstack/tests/unit/identity/v3/test_user.py', 'openstack/tests/unit/identity/v3/test_policy.py', 'openstack/tests/unit/identity/v3/test_service.py', 'openstack/tests/unit/identity/v3/test_group.py', 'openstack/tests/unit/identity/v3/test_limit.py', 'openstack/tests/unit/identity/v3/test_role_domain_group_assignment.py', 'openstack/tests/unit/identity/v3/test_domain.py', 'openstack/tests/unit/identity/v3/test_role.py', 'openstack/tests/unit/identity/v3/test_role_assignment.py', 'openstack/tests/unit/identity/v2/test_role.py', 'openstack/tests/unit/identity/v3/test_identity_provider.py', 'openstack/tests/unit/identity/v3/test_project.py', 'openstack/tests/unit/identity/v3/test_registered_limit.py', 'openstack/tests/unit/identity/v2/test_tenant.py', 'openstack/tests/unit/identity/v3/test_federation_protocol.py', 'openstack/tests/unit/identity/v3/test_region.py', 'openstack/tests/unit/identity/v3/test_credential.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'tox.ini', 'openstack/tests/unit/identity/v3/test_trust.py']",26,06ee3f601609aa40796f292a45b1079f7452971b,apply-import-order,from openstack.identity.v3 import trust,from openstack.identity.v3 import trust,28,26
openstack%2Fcharm-magpie~master~Ib5431b61e4a51877179cc1f462c4a46646c0dcac,openstack/charm-magpie,master,Ib5431b61e4a51877179cc1f462c4a46646c0dcac,Add impish to metadata.yaml,MERGED,2021-06-03 09:15:24.000000000,2021-06-07 09:32:15.000000000,2021-06-07 09:32:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:15:24.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/e3386a32a91843686c5f0b1488868c2a6173fd9e', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ib5431b61e4a51877179cc1f462c4a46646c0dcac\n'}]",0,794509,e3386a32a91843686c5f0b1488868c2a6173fd9e,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ib5431b61e4a51877179cc1f462c4a46646c0dcac
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/09/794509/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,e3386a32a91843686c5f0b1488868c2a6173fd9e,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-keystone~master~I250b324d8b53bee3e6bf8bcc8900bac97bebc223,openstack/charm-keystone,master,I250b324d8b53bee3e6bf8bcc8900bac97bebc223,Add impish to metadata.yaml,MERGED,2021-06-03 09:14:11.000000000,2021-06-07 09:31:19.000000000,2021-06-07 09:31:19.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:14:11.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/de9623b9d2a507690dee86f08171d978b6dc5b0b', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I250b324d8b53bee3e6bf8bcc8900bac97bebc223\n'}]",0,794505,de9623b9d2a507690dee86f08171d978b6dc5b0b,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I250b324d8b53bee3e6bf8bcc8900bac97bebc223
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/05/794505/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,de9623b9d2a507690dee86f08171d978b6dc5b0b,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-keystone-ldap~master~Iedf84117b35efb861a7f27bb4a3329452398fbae,openstack/charm-keystone-ldap,master,Iedf84117b35efb861a7f27bb4a3329452398fbae,Add impish to metadata.yaml,MERGED,2021-06-03 09:14:48.000000000,2021-06-07 09:28:26.000000000,2021-06-07 09:28:26.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:14:48.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/4a80d347becbae3a9152ffe2a29a6da92f0dddd6', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Iedf84117b35efb861a7f27bb4a3329452398fbae\n'}]",0,794507,4a80d347becbae3a9152ffe2a29a6da92f0dddd6,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Iedf84117b35efb861a7f27bb4a3329452398fbae
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/07/794507/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,4a80d347becbae3a9152ffe2a29a6da92f0dddd6,charm-metadata-impish,- impish,,1,0
openstack%2Fmonasca-api~master~Ifb067429dd66fd350110187ac3a8b6a9977bad90,openstack/monasca-api,master,Ifb067429dd66fd350110187ac3a8b6a9977bad90,"Add Support for Falcon 3.0.0, 3.0.1",MERGED,2021-06-04 09:53:54.000000000,2021-06-07 09:27:25.000000000,2021-06-07 09:25:12.000000000,"[{'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-06-04 09:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b7ec2041988a1d978097f973dd5e4e1404ef1995', 'message': ""Remove Falcon's class OptionalRepresentation\n\nStarting from Falcon 3.0.0 version the class OptionalRepresentation\nwas removed. [1]\n\n[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes\n\nChange-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90\n""}, {'number': 2, 'created': '2021-06-06 11:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d810b44581560c5ee9712b573ef624bf09b010cd', 'message': ""Add Support for Falcon 3.0.0, 3.0.1\n\n- Support to new Falcon 3.0.0 and 3.0.1 keeping compatibility\nfor version 2.0.0\n\n- Remove Falcon's class OptionalRepresentation\nStarting from Falcon 3.0.0 version the class OptionalRepresentation\nwas removed. [1]\n\n- Remove unnecessary URL slashes which are not compatible\nwith Falcon >= 3.0.0\n\n- Keep facon.API instead of new falcon.App to keep support for\nversion 2.0.0\n\n[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes\n\nChange-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90\n""}, {'number': 3, 'created': '2021-06-06 14:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c0bae42797e55fd5301268e262b2603453c41be0', 'message': ""Add Support for Falcon 3.0.0, 3.0.1\n\n- Support to new Falcon 3.0.0 and 3.0.1 keeping compatibility\nfor version 2.0.0\n\n- Remove Falcon's class OptionalRepresentation\nStarting from Falcon 3.0.0 version the class OptionalRepresentation\nwas removed. [1]\n\n- Remove unnecessary URL slashes which are not compatible\nwith Falcon >= 3.0.0\n\n- Keep facon.API instead of new falcon.App to keep support for\nversion 2.0.0\n\n- Disable temporary docker-build and docker-publish Zuul jobs.\n\n[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes\n\nChange-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90\n""}, {'number': 4, 'created': '2021-06-06 14:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ec1fc73fe642709d99ee9eecf7d7ef1e070cc21e', 'message': ""Add Support for Falcon 3.0.0, 3.0.1\n\n- Support to new Falcon 3.0.0 and 3.0.1 keeping compatibility\nfor version 2.0.0\n\n- Remove Falcon's class OptionalRepresentation\nStarting from Falcon 3.0.0 version the class OptionalRepresentation\nwas removed. [1]\n\n- Remove unnecessary URL slashes which are not compatible\nwith Falcon >= 3.0.0\n\n- Keep facon.API instead of new falcon.App to keep support for\nversion 2.0.0\n\n- Disable temporary docker-build and docker-publish Zuul jobs.\n\n[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes\n\nChange-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90\n""}, {'number': 5, 'created': '2021-06-06 14:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/53adeb68cdca2e4e085d75d32e275556ee547371', 'message': ""Add Support for Falcon 3.0.0, 3.0.1\n\n- Support to new Falcon 3.0.0 and 3.0.1 keeping compatibility\nfor version 2.0.0\n\n- Remove Falcon's class OptionalRepresentation\nStarting from Falcon 3.0.0 version the class OptionalRepresentation\nwas removed. [1]\n\n- Remove unnecessary URL slashes which are not compatible\nwith Falcon >= 3.0.0\n\n- Keep facon.API instead of new falcon.App to keep support for\nversion 2.0.0\n\n- Disable temporary docker-build and docker-publish Zuul jobs.\n\n[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes\n\nChange-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90\n""}, {'number': 6, 'created': '2021-06-06 19:29:58.000000000', 'files': ['monasca_api/v2/reference/helpers.py', '.zuul.yaml', 'monasca_api/api/core/log/exceptions.py', 'monasca_api/api/server.py', 'monasca_api/tests/test_alarms.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a6e56ab63ccacdc2cc8edd641bfc1dd650c0c73c', 'message': ""Add Support for Falcon 3.0.0, 3.0.1\n\n- Support to new Falcon 3.0.0 and 3.0.1 keeping compatibility\nfor version 2.0.0\n\n- Remove Falcon's class OptionalRepresentation\nStarting from Falcon 3.0.0 version the class OptionalRepresentation\nwas removed. [1]\n\n- Remove unnecessary URL slashes which are not compatible\nwith Falcon >= 3.0.0\n\n- Keep facon.API instead of new falcon.App to keep support for\nversion 2.0.0\n\n- Disable temporary docker-build and docker-publish Zuul jobs.\n\n[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes\n\nChange-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90\n""}]",2,794765,a6e56ab63ccacdc2cc8edd641bfc1dd650c0c73c,18,4,6,28062,,,0,"Add Support for Falcon 3.0.0, 3.0.1

- Support to new Falcon 3.0.0 and 3.0.1 keeping compatibility
for version 2.0.0

- Remove Falcon's class OptionalRepresentation
Starting from Falcon 3.0.0 version the class OptionalRepresentation
was removed. [1]

- Remove unnecessary URL slashes which are not compatible
with Falcon >= 3.0.0

- Keep facon.API instead of new falcon.App to keep support for
version 2.0.0

- Disable temporary docker-build and docker-publish Zuul jobs.

[1] https://falcon.readthedocs.io/en/stable/changes/3.0.0.html#breaking-changes

Change-Id: Ifb067429dd66fd350110187ac3a8b6a9977bad90
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/65/794765/4 && git format-patch -1 --stdout FETCH_HEAD,['monasca_api/api/core/log/exceptions.py'],1,b7ec2041988a1d978097f973dd5e4e1404ef1995,794765,# Copyright 2021 FUJITSU LIMITEDclass HTTPUnprocessableEntity(falcon.HTTPError):,"# Copyright 2015 kornicameister@gmail.com # Copyright 2015 FUJITSU LIMITEDclass HTTPUnprocessableEntity(falcon.OptionalRepresentation, falcon.HTTPError): :py:class:`falcon.OptionalRepresentation` and",2,4
openstack%2Fcharm-neutron-dynamic-routing~master~Iaf3302b712c8d3f0fb7a538b7e93ccb2233b4a1b,openstack/charm-neutron-dynamic-routing,master,Iaf3302b712c8d3f0fb7a538b7e93ccb2233b4a1b,Add impish to metadata.yaml,MERGED,2021-06-03 09:20:42.000000000,2021-06-07 09:24:51.000000000,2021-06-07 09:24:51.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:20:42.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/bce45f15c876cbd3ed7daf5a86fce4690f5637d6', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Iaf3302b712c8d3f0fb7a538b7e93ccb2233b4a1b\n'}]",0,794526,bce45f15c876cbd3ed7daf5a86fce4690f5637d6,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Iaf3302b712c8d3f0fb7a538b7e93ccb2233b4a1b
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/26/794526/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,bce45f15c876cbd3ed7daf5a86fce4690f5637d6,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-manila-dashboard~master~Ic6ddaddb94d6151cf1b4d9a77128bfb0879f8396,openstack/charm-manila-dashboard,master,Ic6ddaddb94d6151cf1b4d9a77128bfb0879f8396,Add impish to metadata.yaml,MERGED,2021-06-03 09:17:02.000000000,2021-06-07 09:24:33.000000000,2021-06-07 09:24:33.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:17:02.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/1cf95364bbc738c31f6ec4ec135bc7d0ea7bb062', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ic6ddaddb94d6151cf1b4d9a77128bfb0879f8396\n'}]",0,794513,1cf95364bbc738c31f6ec4ec135bc7d0ea7bb062,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ic6ddaddb94d6151cf1b4d9a77128bfb0879f8396
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/13/794513/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,1cf95364bbc738c31f6ec4ec135bc7d0ea7bb062,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-nova-cell-controller~master~Ie870ce136f98bb7f5d04bb1e14a9f366ecab17c1,openstack/charm-nova-cell-controller,master,Ie870ce136f98bb7f5d04bb1e14a9f366ecab17c1,Add impish to metadata.yaml,MERGED,2021-06-03 09:21:37.000000000,2021-06-07 09:23:52.000000000,2021-06-07 09:23:52.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:21:37.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/ae90d0426e2f7e56debf5f046639d13da34986a4', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ie870ce136f98bb7f5d04bb1e14a9f366ecab17c1\n'}]",0,794529,ae90d0426e2f7e56debf5f046639d13da34986a4,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ie870ce136f98bb7f5d04bb1e14a9f366ecab17c1
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/29/794529/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,ae90d0426e2f7e56debf5f046639d13da34986a4,charm-metadata-impish,- impish,,1,1
openstack%2Fpython-venusclient~master~I2ff0de191daa0aea7c7a3e32dbfc672f5e910595,openstack/python-venusclient,master,I2ff0de191daa0aea7c7a3e32dbfc672f5e910595,fix the function name of get-log,MERGED,2021-06-07 09:04:37.000000000,2021-06-07 09:17:13.000000000,2021-06-07 09:17:13.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-06-07 09:04:37.000000000', 'files': ['venusclient/v1/config_shell.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/0b49b93c349ae32c7ee45305296c473a62c71d62', 'message': 'fix the function name of get-log\n\nChange-Id: I2ff0de191daa0aea7c7a3e32dbfc672f5e910595\n'}]",0,795069,0b49b93c349ae32c7ee45305296c473a62c71d62,6,2,1,30455,,,0,"fix the function name of get-log

Change-Id: I2ff0de191daa0aea7c7a3e32dbfc672f5e910595
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/69/795069/1 && git format-patch -1 --stdout FETCH_HEAD,['venusclient/v1/config_shell.py'],1,0b49b93c349ae32c7ee45305296c473a62c71d62,, endpoint = cs.config.get_logs(args), endpoint = cs.config.search_logs(args),1,1
openstack%2Fproject-team-guide~master~I5c5fe7ec5121f6429ec7d198f88cb72d18204769,openstack/project-team-guide,master,I5c5fe7ec5121f6429ec7d198f88cb72d18204769,Required Updates for TC and UC merge,MERGED,2021-06-04 15:27:00.000000000,2021-06-07 09:14:42.000000000,2021-06-07 09:12:56.000000000,"[{'_account_id': 308}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/109615e2fc91dd078e2550ccce930383d4cb0935', 'message': 'Required uUpdates for TC and UC merge\n\nUC has been merged into TC since June 2020, this\ncommit clarify it in project team guide docs and\nremove the explicit reference of old committee.\n\nChange-Id: I5c5fe7ec5121f6429ec7d198f88cb72d18204769\n'}, {'number': 2, 'created': '2021-06-04 15:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/9ef1f382cfa4d47dd1ce22dc14c24d882aa58681', 'message': 'Required Updates for TC and UC merge\n\nUC has been merged into TC since June 2020, this\ncommit clarify it in project team guide docs and\nremove the explicit reference of old committee.\n\nChange-Id: I5c5fe7ec5121f6429ec7d198f88cb72d18204769\n'}, {'number': 3, 'created': '2021-06-05 13:18:54.000000000', 'files': ['doc/source/ptl.rst', 'doc/source/open-community.rst', 'doc/source/introduction.rst', 'doc/source/open-design.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/fc365df1876ff350fd79eed1056462f9d4ae1c4e', 'message': 'Required Updates for TC and UC merge\n\nUC has been merged into TC since June 2020, this\ncommit clarify it in project team guide docs and\nremove the explicit reference of old committee.\n\nChange-Id: I5c5fe7ec5121f6429ec7d198f88cb72d18204769\n'}]",4,794852,fc365df1876ff350fd79eed1056462f9d4ae1c4e,19,4,3,8556,,,0,"Required Updates for TC and UC merge

UC has been merged into TC since June 2020, this
commit clarify it in project team guide docs and
remove the explicit reference of old committee.

Change-Id: I5c5fe7ec5121f6429ec7d198f88cb72d18204769
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/52/794852/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ptl.rst', 'doc/source/open-community.rst', 'doc/source/introduction.rst', 'doc/source/open-design.rst']",4,109615e2fc91dd078e2550ccce930383d4cb0935,uc-tc-merge,"including Technical Committee members and Foundation staff, based on input from the community.","including User Committee members, Technical Committee members and Foundation staff, based on input from the community.",5,12
openstack%2Fkolla-ansible~master~I134e8aa8ed5eae479e5af743464dc2a0e40a1353,openstack/kolla-ansible,master,I134e8aa8ed5eae479e5af743464dc2a0e40a1353,Bump min Docker version,MERGED,2021-05-21 12:05:06.000000000,2021-06-07 09:02:16.000000000,2021-06-07 09:00:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-21 12:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07371ceadb1a37441e0d6d91482c11ebd2942a99', 'message': 'Bump min Docker version\n\nAnd python-docker version.\nMake them less scary.\n\nChange-Id: I134e8aa8ed5eae479e5af743464dc2a0e40a1353\n'}, {'number': 2, 'created': '2021-05-28 13:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32e33ddb2758bd308da4d88d3e2a55bdcb594cb0', 'message': 'Bump min Docker version\n\nAnd python-docker version.\nMake them less scary.\n\nChange-Id: I134e8aa8ed5eae479e5af743464dc2a0e40a1353\n'}, {'number': 3, 'created': '2021-05-28 13:22:38.000000000', 'files': ['releasenotes/notes/bump-minimum-docker-version-18-09-37af3b4c134da67e.yaml', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3caf8c3a007ac636623519a95e6d41e8f19ad82', 'message': 'Bump min Docker version\n\nAnd python-docker version.\nMake them less scary.\n\nChange-Id: I134e8aa8ed5eae479e5af743464dc2a0e40a1353\n'}]",10,792583,a3caf8c3a007ac636623519a95e6d41e8f19ad82,27,4,3,30491,,,0,"Bump min Docker version

And python-docker version.
Make them less scary.

Change-Id: I134e8aa8ed5eae479e5af743464dc2a0e40a1353
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/792583/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/vars/main.yml'],1,07371ceadb1a37441e0d6d91482c11ebd2942a99,bump-min-docker-version,docker_version_min: '18.09' docker_py_version_min: '3.4.1',docker_version_min: '1.10.0' docker_py_version_min: '2.0.0',2,2
openstack%2Fpython-ironic-inspector-client~master~I292b9b20dd2b1eb1440b5047f5cf89ea47443e5b,openstack/python-ironic-inspector-client,master,I292b9b20dd2b1eb1440b5047f5cf89ea47443e5b,Expose more interface fields,MERGED,2021-06-04 14:54:51.000000000,2021-06-07 08:59:57.000000000,2021-06-07 08:58:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-04 14:54:51.000000000', 'files': ['releasenotes/notes/expose-more-interface-fields-de82d634c2af05e0.yaml', 'ironic_inspector_client/resource.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/0687489c43f58f76183a611f5a25baba0e477c3c', 'message': 'Expose more interface fields\n\n``switch_mgmt_addresses`` and ``switch_system_description`` are\nuseful for identification purposes.\n\nChange-Id: I292b9b20dd2b1eb1440b5047f5cf89ea47443e5b\n'}]",0,794843,0687489c43f58f76183a611f5a25baba0e477c3c,8,3,1,30491,,,0,"Expose more interface fields

``switch_mgmt_addresses`` and ``switch_system_description`` are
useful for identification purposes.

Change-Id: I292b9b20dd2b1eb1440b5047f5cf89ea47443e5b
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/43/794843/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/expose-more-interface-fields-de82d634c2af05e0.yaml', 'ironic_inspector_client/resource.py']",2,0687489c43f58f76183a611f5a25baba0e477c3c,expose-more-interface-fields," 'switch_mgmt_addresses': 'Switch Management Addresses', 'switch_system_description': 'Switch System Description',",,7,0
openstack%2Fkolla-ansible~master~I1c4436072c2d47a95625e64b731edb473384b395,openstack/kolla-ansible,master,I1c4436072c2d47a95625e64b731edb473384b395,chrony: allow to remove the container,MERGED,2021-05-19 10:29:25.000000000,2021-06-07 08:57:04.000000000,2021-06-07 08:55:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 10:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/110f4d289d3a443d6372b3c2cb6b2d886941fe81', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 2, 'created': '2021-05-19 17:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71b8a9b89b850903a62de90d199d5a2fde08f89d', 'message': 'WIP: chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 3, 'created': '2021-05-19 18:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71a9455b4f69e1bb5e186bfb334a48df4b87780a', 'message': 'WIP: chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 4, 'created': '2021-05-21 09:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e21803130c92d27ae89665550de6a4bb81c6c2c', 'message': 'WIP: chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 5, 'created': '2021-05-24 09:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d343b66adaf85087ade1e482725cdfaa1702c913', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 6, 'created': '2021-05-24 09:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/322681c35f21c6558ec141e4f4e498bb649d8737', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 7, 'created': '2021-05-25 09:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f17af8f17924d41f852ffeed8e9cc9c4c726d7c', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 8, 'created': '2021-05-25 14:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c687e688439bbe07bc1ecddc127d33dc9250029', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 9, 'created': '2021-05-28 12:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f3718ee1fca3d9425da7f9721d8cf478a66579f', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 10, 'created': '2021-05-28 15:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd1577c53b1053d5b28c2670b7e2bb731cf956f8', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 11, 'created': '2021-05-31 09:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/296a1a3948d256ed19caf8d67483fd870b774c56', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 12, 'created': '2021-05-31 10:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bfd7e35ad81ec9e9402a7b51b0ae9e03928dad4', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 13, 'created': '2021-05-31 15:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/247142617b0146337c90475b81ad904a0b0c1a70', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 14, 'created': '2021-06-02 11:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff9ace985f56f0e7d1e5e9ffecc0cab3269a8b82', 'message': 'chrony: remove during upgrade when disabled\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change removes the container on upgrade if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}, {'number': 15, 'created': '2021-06-02 17:28:46.000000000', 'files': ['ansible/roles/chrony/tasks/cleanup.yml', 'ansible/roles/prechecks/defaults/main.yml', 'ansible/roles/prechecks/tasks/timesync_checks.yml', 'ansible/chrony-cleanup.yml', 'tests/pre.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/deprecate-chrony-077a8686e79a919e.yaml', 'tools/kolla-ansible', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84ac7b309629a5c253dd4774b75708c673374e5f', 'message': 'chrony: allow to remove the container\n\nThe chrony container is deprecated in Wallaby, and disabled by default.\nThis change allows to remove the container if chrony is disabled.\n\nChange-Id: I1c4436072c2d47a95625e64b731edb473384b395\n'}]",34,792119,84ac7b309629a5c253dd4774b75708c673374e5f,78,5,15,14826,,,0,"chrony: allow to remove the container

The chrony container is deprecated in Wallaby, and disabled by default.
This change allows to remove the container if chrony is disabled.

Change-Id: I1c4436072c2d47a95625e64b731edb473384b395
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/792119/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/chrony/tasks/cleanup.yml', 'ansible/site.yml', 'releasenotes/notes/deprecate-chrony-077a8686e79a919e.yaml']",3,110f4d289d3a443d6372b3c2cb6b2d886941fe81,," Due to deprecation, ``chrony`` is no longer enabled by default. If disabled, the container will be removed during ``kolla-ansible upgrade``."," Due to deprecation, ``chrony`` is no longer enabled by default.",29,1
openstack%2Frpm-packaging~master~I58ae0749da7b9b727213a7349303af7f55c9f2d2,openstack/rpm-packaging,master,I58ae0749da7b9b727213a7349303af7f55c9f2d2,magnum: run tests serially,MERGED,2021-05-31 19:08:04.000000000,2021-06-07 08:37:18.000000000,2021-06-07 08:37:18.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-31 19:08:04.000000000', 'files': ['openstack/magnum/magnum.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/be52197f025dea2417f4d2eeda67b04ee31392c9', 'message': 'magnum: run tests serially\n\nFor some reason the tests are still unreliable with\n--concurrency = 2 in SUSE CI.\n\nChange-Id: I58ae0749da7b9b727213a7349303af7f55c9f2d2\n'}]",0,793841,be52197f025dea2417f4d2eeda67b04ee31392c9,9,7,1,6593,,,0,"magnum: run tests serially

For some reason the tests are still unreliable with
--concurrency = 2 in SUSE CI.

Change-Id: I58ae0749da7b9b727213a7349303af7f55c9f2d2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/41/793841/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/magnum/magnum.spec.j2'],1,be52197f025dea2417f4d2eeda67b04ee31392c9,,python3 -m stestr.cli run --concurrency 1,python3 -m stestr.cli run --concurrency 2,1,1
openstack%2Frpm-packaging~master~I02bc6a329ea73ebd46133e71103ee1b5adfe293d,openstack/rpm-packaging,master,I02bc6a329ea73ebd46133e71103ee1b5adfe293d,Update ironic-lib and python-ironicclient to latest versions,MERGED,2021-05-27 13:00:14.000000000,2021-06-07 08:36:31.000000000,2021-06-07 08:36:31.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-27 13:00:14.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/745a0fa924c0bcc52512f3ba042000dd78bb08af', 'message': 'Update ironic-lib and python-ironicclient to latest versions\n\nBoth are at version 4.7.0\n\nChange-Id: I02bc6a329ea73ebd46133e71103ee1b5adfe293d\n'}]",0,793399,745a0fa924c0bcc52512f3ba042000dd78bb08af,13,7,1,23851,,,0,"Update ironic-lib and python-ironicclient to latest versions

Both are at version 4.7.0

Change-Id: I02bc6a329ea73ebd46133e71103ee1b5adfe293d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/99/793399/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2']",2,745a0fa924c0bcc52512f3ba042000dd78bb08af,update-ironic-lib-client,{% set upstream_version = upstream_version('4.7.0') %},{% set upstream_version = upstream_version('4.6.1') %},2,2
openstack%2Fcharm-nova-cloud-controller~master~I38c7a029d5db34139f95cb63c3b367164ce417bc,openstack/charm-nova-cloud-controller,master,I38c7a029d5db34139f95cb63c3b367164ce417bc,Add impish to metadata.yaml,MERGED,2021-06-03 09:21:57.000000000,2021-06-07 08:16:39.000000000,2021-06-07 08:16:39.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:21:57.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/58f11c616113c9fdc48edac4ef7109ec37ed3b57', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I38c7a029d5db34139f95cb63c3b367164ce417bc\n'}]",0,794530,58f11c616113c9fdc48edac4ef7109ec37ed3b57,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I38c7a029d5db34139f95cb63c3b367164ce417bc
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/30/794530/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,58f11c616113c9fdc48edac4ef7109ec37ed3b57,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-nova-compute~master~I97b9645ef3679e0c795602a53c445ca0cb2fc0bc,openstack/charm-nova-compute,master,I97b9645ef3679e0c795602a53c445ca0cb2fc0bc,Add impish to metadata.yaml,MERGED,2021-06-03 09:22:17.000000000,2021-06-07 08:09:27.000000000,2021-06-07 08:09:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:22:17.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1f6d8c2aa7abcda55414744d520ec0b5c3f988c1', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I97b9645ef3679e0c795602a53c445ca0cb2fc0bc\n'}]",0,794531,1f6d8c2aa7abcda55414744d520ec0b5c3f988c1,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I97b9645ef3679e0c795602a53c445ca0cb2fc0bc
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/31/794531/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,1f6d8c2aa7abcda55414744d520ec0b5c3f988c1,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-octavia-dashboard~master~I017858e1a0139ac26b276da4f0c5aedaa53e4663,openstack/charm-octavia-dashboard,master,I017858e1a0139ac26b276da4f0c5aedaa53e4663,Add impish to metadata.yaml,MERGED,2021-06-03 09:22:56.000000000,2021-06-07 08:09:07.000000000,2021-06-07 08:09:07.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:22:56.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/7a4c982c91f82084b4281239ea0a546e31df7873', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I017858e1a0139ac26b276da4f0c5aedaa53e4663\n'}]",0,794533,7a4c982c91f82084b4281239ea0a546e31df7873,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I017858e1a0139ac26b276da4f0c5aedaa53e4663
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/33/794533/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,7a4c982c91f82084b4281239ea0a546e31df7873,charm-metadata-impish,- impish,,1,0
openstack%2Fpython-venusclient~master~I646a0a2613aa5fda60cb4a69da15db7f093f3346,openstack/python-venusclient,master,I646a0a2613aa5fda60cb4a69da15db7f093f3346,add new interface,MERGED,2021-06-07 07:14:14.000000000,2021-06-07 08:06:29.000000000,2021-06-07 08:06:29.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-06-07 07:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/e3415a250bc74656fa9041a01123813ef82054fd', 'message': 'add new interface\n\nChange-Id: I646a0a2613aa5fda60cb4a69da15db7f093f3346\n'}, {'number': 2, 'created': '2021-06-07 07:44:30.000000000', 'files': ['venusclient/v1/config.py', 'venusclient/common/httpclient.py', 'venusclient/v1/config_shell.py', 'venusclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/6cc55a8842ec005a067d60b489e5fe53ea52f007', 'message': 'add new interface\n\nChange-Id: I646a0a2613aa5fda60cb4a69da15db7f093f3346\n'}]",3,795026,6cc55a8842ec005a067d60b489e5fe53ea52f007,8,2,2,30455,,,0,"add new interface

Change-Id: I646a0a2613aa5fda60cb4a69da15db7f093f3346
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/26/795026/1 && git format-patch -1 --stdout FETCH_HEAD,"['venusclient/v1/config.py', 'venusclient/v1/config_shell.py', 'venusclient/shell.py']",3,e3415a250bc74656fa9041a01123813ef82054fd,, print(os.environ),,16,0
openstack%2Fcharm-pacemaker-remote~master~I90cf48ed4a45f7ac34711c0b52b90a942c07d70d,openstack/charm-pacemaker-remote,master,I90cf48ed4a45f7ac34711c0b52b90a942c07d70d,Add impish to metadata.yaml,MERGED,2021-06-03 09:24:43.000000000,2021-06-07 08:04:15.000000000,2021-06-07 08:04:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:24:43.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/1bbafe4eab469b71eb1c83628edd4003fd01cd75', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I90cf48ed4a45f7ac34711c0b52b90a942c07d70d\n'}]",0,794539,1bbafe4eab469b71eb1c83628edd4003fd01cd75,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I90cf48ed4a45f7ac34711c0b52b90a942c07d70d
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/39/794539/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,1bbafe4eab469b71eb1c83628edd4003fd01cd75,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-placement~master~Ia3f565a876cb6e06b61a93434a29979d9beadf6f,openstack/charm-placement,master,Ia3f565a876cb6e06b61a93434a29979d9beadf6f,Add impish to metadata.yaml,MERGED,2021-06-03 09:25:01.000000000,2021-06-07 08:03:29.000000000,2021-06-07 08:03:29.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:25:01.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/20500c543a98d7dad92bf0b6a6222db5d54acfe5', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ia3f565a876cb6e06b61a93434a29979d9beadf6f\n'}]",0,794540,20500c543a98d7dad92bf0b6a6222db5d54acfe5,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ia3f565a876cb6e06b61a93434a29979d9beadf6f
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/40/794540/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,20500c543a98d7dad92bf0b6a6222db5d54acfe5,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-rabbitmq-server~master~Id6cfec5cf66a86164974ef485c09d90460cefdba,openstack/charm-rabbitmq-server,master,Id6cfec5cf66a86164974ef485c09d90460cefdba,Add impish to metadata.yaml,MERGED,2021-06-03 09:25:30.000000000,2021-06-07 08:03:25.000000000,2021-06-07 08:03:25.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:25:30.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e420e111a4dc5e1234f5a349b49220ba6eeb0f3b', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Id6cfec5cf66a86164974ef485c09d90460cefdba\n'}]",0,794541,e420e111a4dc5e1234f5a349b49220ba6eeb0f3b,7,3,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Id6cfec5cf66a86164974ef485c09d90460cefdba
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/41/794541/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,e420e111a4dc5e1234f5a349b49220ba6eeb0f3b,charm-metadata-impish,- impish,,1,0
openstack%2Fansible-role-collect-logs~master~Id3a20500830855da8b01bf0caae96f26671a4590,openstack/ansible-role-collect-logs,master,Id3a20500830855da8b01bf0caae96f26671a4590,add tempest_run.log to logstash,MERGED,2021-06-03 18:30:07.000000000,2021-06-07 07:59:54.000000000,2021-06-07 07:59:54.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 18:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f2a82dade0e325678ae1a16b5b50379f73ececea', 'message': 'add tempest_run.log to logstash\n\nWe need to be able to see which jobs are failing\non tempest via tripleo-health.  The initial\nquery would be the sova query ( ... FAILED )\n\nIn the future.. we could add the tempest test name\nand build_status:failed to determine how often\ncertain tempest tests are failing.\n\nChange-Id: Id3a20500830855da8b01bf0caae96f26671a4590\n'}, {'number': 2, 'created': '2021-06-03 21:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/31912da3af32c269505917b983b453183e4e3fae', 'message': 'add tempest_run.log to logstash\n\nWe need to be able to see which jobs are failing\non tempest via tripleo-health.  The initial\nquery would be the sova query ( ... FAILED )\n\nIn the future.. we could add the tempest test name\nand build_status:failed to determine how often\ncertain tempest tests are failing.\n\nChange-Id: Id3a20500830855da8b01bf0caae96f26671a4590\n'}, {'number': 3, 'created': '2021-06-05 16:14:40.000000000', 'files': ['roles/collect_logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2f4efe8028caac4d203a1534ba987c20ac8d7f2a', 'message': 'add tempest_run.log to logstash\n\nWe need to be able to see which jobs are failing\non tempest via tripleo-health.  The initial\nquery would be the sova query ( ... FAILED )\n\nIn the future.. we could add the tempest test name\nand build_status:failed to determine how often\ncertain tempest tests are failing.\n\nChange-Id: Id3a20500830855da8b01bf0caae96f26671a4590\n'}]",1,794664,2f4efe8028caac4d203a1534ba987c20ac8d7f2a,19,4,3,9592,,,0,"add tempest_run.log to logstash

We need to be able to see which jobs are failing
on tempest via tripleo-health.  The initial
query would be the sova query ( ... FAILED )

In the future.. we could add the tempest test name
and build_status:failed to determine how often
certain tempest tests are failing.

Change-Id: Id3a20500830855da8b01bf0caae96f26671a4590
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/64/794664/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/defaults/main.yml'],1,f2a82dade0e325678ae1a16b5b50379f73ececea,, - /var/log/tempest/tempest/tempest_run.log,,1,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I5870c0689434eaca8d114cd83e1164e1454565d7,openstack/puppet-tripleo,stable/ussuri,I5870c0689434eaca8d114cd83e1164e1454565d7,Add option to set rsyslog reopenOnTruncate parameter for all services,MERGED,2021-06-04 15:16:37.000000000,2021-06-07 07:54:44.000000000,2021-06-07 07:54:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 15:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/10a4b5ca281e21aac1a9b4c7ce95476bb318fa9f', 'message': 'Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n(cherry picked from commit 8f3a88ba27911eead71a5bf45e2540b0ab20e22a)\n(cherry picked from commit 94936054ac322eef42b880914d06ff4d1ae8cba8)\n'}, {'number': 2, 'created': '2021-06-04 15:18:08.000000000', 'files': ['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e525aa1583199daea6976016297a6cda6d3b1f5b', 'message': 'Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n(cherry picked from commit 94936054ac322eef42b880914d06ff4d1ae8cba8)\n'}]",0,794848,e525aa1583199daea6976016297a6cda6d3b1f5b,9,3,2,31510,,,0,"Add option to set rsyslog reopenOnTruncate parameter for all services

If defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence

Change-Id: I5870c0689434eaca8d114cd83e1164e1454565d7
(cherry picked from commit 94936054ac322eef42b880914d06ff4d1ae8cba8)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/48/794848/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp']",2,10a4b5ca281e21aac1a9b4c7ce95476bb318fa9f,rsyslog-reopen-on-truncate-ussuri,"# [*reopen_on_truncate*] # (Optional) String. Set all rsyslog imfile reopenOnTruncate parameters # unless it is already specified in hiera # Defaults to undef # $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ', Optional[Enum['on','off']] $reopen_on_truncate = undef if ! $config['reopenOnTruncate'] { if $reopen_on_truncate { $record2 = $record + {'reopenOnTruncate' => $reopen_on_truncate} } else { $record2 = $record } } else { $record2 = $record } $memo + [$record2]", $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ' $memo + [$record],29,3
openstack%2Fceilometer~stable%2Fussuri~I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,openstack/ceilometer,stable/ussuri,I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,Cap tenacity < 7.0.0,MERGED,2021-03-29 06:17:06.000000000,2021-06-07 07:52:30.000000000,2021-06-07 07:51:14.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 06:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/003e1447f14068732593de910bc362bdc7f0c11a', 'message': 'Cap tenacity < 7.0.0\n\nhttps://github.com/jd/tenacity/pull/274/files removed code\nwhich was still in use.\n\nChange-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013\n(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)\n'}, {'number': 2, 'created': '2021-03-29 06:42:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/baee38e9aef0bbe1c9fa809344be47ded6b75dea', 'message': 'Cap tenacity < 7.0.0\n\nhttps://github.com/jd/tenacity/pull/274/files removed code\nwhich was still in use.\n\nChange-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013\n(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)\n'}]",0,783602,baee38e9aef0bbe1c9fa809344be47ded6b75dea,13,2,2,4264,,,0,"Cap tenacity < 7.0.0

https://github.com/jd/tenacity/pull/274/files removed code
which was still in use.

Change-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013
(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/02/783602/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,003e1447f14068732593de910bc362bdc7f0c11a,ussuri_tenacity,"tenacity>=4.4.0,7.0.0 # Apache-2.0",tenacity>=4.4.0 # Apache-2.0,1,1
openstack%2Fcharm-octavia~master~Ib4391f384c18fdb078c080e7bd94f906b71e900b,openstack/charm-octavia,master,Ib4391f384c18fdb078c080e7bd94f906b71e900b,README: Fix example certificate generation for internal octavia/amphora comms,MERGED,2021-05-21 02:18:30.000000000,2021-06-07 07:41:58.000000000,2021-06-07 07:41:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-21 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/cc0a7f7d830d52dfcb0ad949bb95200636fb0646', 'message': 'README: Fix example certificate generation for internal octavia/amphora comms\n\nCloses-Bug: #1927664\nChange-Id: Ib4391f384c18fdb078c080e7bd94f906b71e900b\n'}, {'number': 2, 'created': '2021-05-22 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/462a61a215a362c3dbdd850535d2bb8106ec9bf6', 'message': 'README: Fix example certificate generation for internal octavia/amphora comms\n\nCloses-Bug: #1927664\nChange-Id: Ib4391f384c18fdb078c080e7bd94f906b71e900b\n'}, {'number': 3, 'created': '2021-06-03 14:19:37.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/654258c9827bf3f8dde8481a5b4923d5fa7d1a47', 'message': 'README: Fix example certificate generation for internal octavia/amphora comms\n\nCloses-Bug: #1927664\nChange-Id: Ib4391f384c18fdb078c080e7bd94f906b71e900b\n'}]",1,792492,654258c9827bf3f8dde8481a5b4923d5fa7d1a47,19,3,3,13686,,,0,"README: Fix example certificate generation for internal octavia/amphora comms

Closes-Bug: #1927664
Change-Id: Ib4391f384c18fdb078c080e7bd94f906b71e900b
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/92/792492/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,cc0a7f7d830d52dfcb0ad949bb95200636fb0646,charm-octavia," lb-mgmt-issuing-cacert=""$(base64 issuing_ca.pem)"" \ lb-mgmt-issuing-ca-private-key=""$(base64 issuing_ca_key.pem)"" \"," lb-mgmt-issuing-cacert=""$(base64 controller_ca.pem)"" \ lb-mgmt-issuing-ca-private-key=""$(base64 controller_ca_key.pem)"" \",2,2
openstack%2Fcharm-octavia~master~I5852b3298d3d3e26ad077261fea07eb1d99d6e1c,openstack/charm-octavia,master,I5852b3298d3d3e26ad077261fea07eb1d99d6e1c,Use separate application for Octavia's ovn-chassis subordinate,MERGED,2020-07-22 15:33:22.000000000,2021-06-07 07:41:01.000000000,2021-06-07 07:41:01.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-22 15:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/238d653497da14ff59f3a3a52dd64c95a0edc324', 'message': ""Use separate application for Octavia's ovn-chassis subordinate\n\nJust like with legacy Neutron ML2+OVS, the recommended deployment\ntopology for Octavia is to use a separate application for the\novn-chassis subordinate co-located with Octavia.\n\nWe do this because the ovn-chassis application related to\nnova-compute units will most likely have configuration set that\nmakes no sense for the Octavia units. (For example physical port\nconfiguration, DPDK, SR-IOV, Hardware offloading etc etc)\n\nNot adding this in the original Octavia OVN gate bundles was an\noversight, let's get it in.\n\nChange-Id: I5852b3298d3d3e26ad077261fea07eb1d99d6e1c\n""}, {'number': 2, 'created': '2020-07-23 08:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a0f6d042fb4a2c4fdb6947595b33400144fbfaed', 'message': ""Use separate application for Octavia's ovn-chassis subordinate\n\nJust like with legacy Neutron ML2+OVS, the recommended deployment\ntopology for Octavia is to use a separate application for the\novn-chassis subordinate co-located with Octavia.\n\nWe do this because the ovn-chassis application related to\nnova-compute units will most likely have configuration set that\nmakes no sense for the Octavia units. (For example physical port\nconfiguration, DPDK, SR-IOV, Hardware offloading etc etc)\n\nNot adding this in the original Octavia OVN gate bundles was an\noversight, let's get it in.\n\nChange-Id: I5852b3298d3d3e26ad077261fea07eb1d99d6e1c\n""}, {'number': 3, 'created': '2021-05-21 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/d4840d9f478971a970515fb2b2123ae5b2b3b005', 'message': ""Use separate application for Octavia's ovn-chassis subordinate\n\nJust like with legacy Neutron ML2+OVS, the recommended deployment\ntopology for Octavia is to use a separate application for the\novn-chassis subordinate co-located with Octavia.\n\nWe do this because the ovn-chassis application related to\nnova-compute units will most likely have configuration set that\nmakes no sense for the Octavia units. (For example physical port\nconfiguration, DPDK, SR-IOV, Hardware offloading etc etc)\n\nNot adding this in the original Octavia OVN gate bundles was an\noversight, let's get it in.\n\nChange-Id: I5852b3298d3d3e26ad077261fea07eb1d99d6e1c\n""}, {'number': 4, 'created': '2021-05-22 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2f2e3c3143d7344ef90e778742ef6977d396c8de', 'message': ""Use separate application for Octavia's ovn-chassis subordinate\n\nJust like with legacy Neutron ML2+OVS, the recommended deployment\ntopology for Octavia is to use a separate application for the\novn-chassis subordinate co-located with Octavia.\n\nWe do this because the ovn-chassis application related to\nnova-compute units will most likely have configuration set that\nmakes no sense for the Octavia units. (For example physical port\nconfiguration, DPDK, SR-IOV, Hardware offloading etc etc)\n\nNot adding this in the original Octavia OVN gate bundles was an\noversight, let's get it in.\n\nChange-Id: I5852b3298d3d3e26ad077261fea07eb1d99d6e1c\n""}, {'number': 5, 'created': '2021-06-03 14:19:37.000000000', 'files': ['src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7cbd4de09e86ed677cdfde4fa9a4232fc8a86a75', 'message': ""Use separate application for Octavia's ovn-chassis subordinate\n\nJust like with legacy Neutron ML2+OVS, the recommended deployment\ntopology for Octavia is to use a separate application for the\novn-chassis subordinate co-located with Octavia.\n\nWe do this because the ovn-chassis application related to\nnova-compute units will most likely have configuration set that\nmakes no sense for the Octavia units. (For example physical port\nconfiguration, DPDK, SR-IOV, Hardware offloading etc etc)\n\nNot adding this in the original Octavia OVN gate bundles was an\noversight, let's get it in.\n\nChange-Id: I5852b3298d3d3e26ad077261fea07eb1d99d6e1c\n""}]",0,742459,7cbd4de09e86ed677cdfde4fa9a4232fc8a86a75,29,4,5,13686,,,0,"Use separate application for Octavia's ovn-chassis subordinate

Just like with legacy Neutron ML2+OVS, the recommended deployment
topology for Octavia is to use a separate application for the
ovn-chassis subordinate co-located with Octavia.

We do this because the ovn-chassis application related to
nova-compute units will most likely have configuration set that
makes no sense for the Octavia units. (For example physical port
configuration, DPDK, SR-IOV, Hardware offloading etc etc)

Not adding this in the original Octavia OVN gate bundles was an
oversight, let's get it in.

Change-Id: I5852b3298d3d3e26ad077261fea07eb1d99d6e1c
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/59/742459/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml']",3,238d653497da14ff59f3a3a52dd64c95a0edc324,charm-octavia,- - ovn-chassis-octavia:ovsdb-subordinate- - ovn-chassis-octavia:certificates - vault:certificates - - ovn-chassis-octavia:ovsdb - ovn-central:ovsdb ovn-chassis-octavia: charm: cs:~openstack-charmers-next/ovn-chassis,- - ovn-chassis:ovsdb-subordinate,21,3
openstack%2Ftripleo-specs~master~I23716b5880694f5915bad644d0fdb69735e033ad,openstack/tripleo-specs,master,I23716b5880694f5915bad644d0fdb69735e033ad,DNM - testing master build,ABANDONED,2021-06-07 07:26:29.000000000,2021-06-07 07:40:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-07 07:26:29.000000000', 'files': ['specs/policy-template.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/6f857252b5394a246f23e845d5d1f1248d7be6f9', 'message': 'DNM - testing master build\n\nChange-Id: I23716b5880694f5915bad644d0fdb69735e033ad\n'}]",0,795028,6f857252b5394a246f23e845d5d1f1248d7be6f9,4,2,1,28223,,,0,"DNM - testing master build

Change-Id: I23716b5880694f5915bad644d0fdb69735e033ad
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/28/795028/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy-template.rst'],1,6f857252b5394a246f23e845d5d1f1248d7be6f9,ci-test,,,1,0
openstack%2Fcharm-octavia~master~I098e449723bce128e8c2efda1e9fafc9156a71e5,openstack/charm-octavia,master,I098e449723bce128e8c2efda1e9fafc9156a71e5,Confirm operational status of mgmt port,MERGED,2020-10-22 06:19:12.000000000,2021-06-07 07:40:13.000000000,2021-06-07 07:40:13.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-10-22 06:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3c98073ee3a42ec5e8ce8fa0d4338ce4f7251a55', 'message': '[WIP] Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 2, 'created': '2020-10-22 07:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/266235c0f63cf93e136636a3e3865e42e3b796a9', 'message': '[WIP] Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 3, 'created': '2020-10-22 08:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/cc577d61e381505459ce40221f21fb75c89003eb', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/453\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 4, 'created': '2020-10-22 12:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/71d2679286834209c7c6f58aadeaf098b9ac49af', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/453\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 5, 'created': '2020-10-26 15:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c1e00769d0e11d74779cba29b1abb422a767bf0d', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/453\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 6, 'created': '2020-10-27 10:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2c866eb15e76c8678b634826f9d39a8782b24c62', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/453\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 7, 'created': '2020-10-27 10:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/44f62a03f1981b83d308b8422e9366e04b391b6f', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/453\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 8, 'created': '2020-10-27 11:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6dee45cc58fdf2bfa29e078aabf0e024c444bacd', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/453\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 9, 'created': '2020-10-27 14:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b208fca2b02ff01409ace04761292152236ff551', 'message': '[WIP] Confirm operational status of mgmt port\n\n__NOTE__\nThis patch set contains in-flight interface code and makes\nchanges to test definitions with the purpose of quickly\ntesting in-flight changes. These must be removed/restored\nbefore merging.\n__NOTE__\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 10, 'created': '2020-11-03 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0339637da7b80605d6b5fe29566b419d1f9e5cf3', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 11, 'created': '2020-11-03 09:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9dc6c33cf354db94ae6e48ec01982c52099e2140', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nRe-enable bionic-ussuri gate and drop proposed from bionic-ussuri\nbundles.\n\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 12, 'created': '2020-11-05 06:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3c2845f1e53887b0d03d0ad32fa56a652893b989', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/446\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 13, 'created': '2020-11-05 14:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5ac4d65c6964a735570d0fe8d2377785aa6231be', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/446\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 14, 'created': '2021-01-06 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2f58be8a2b82974859a6915e08a12d3a7d717c07', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/446\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 15, 'created': '2021-03-09 10:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bfd0bca55a1d99cc9735e72b807c7cb9341691b7', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/446\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 16, 'created': '2021-03-10 09:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ef82c19b96bfe819a1c7500e4cbfdef90dbfd7ba', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/446\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 17, 'created': '2021-03-11 09:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/078bd114320a89ea999ecbe543e5651ba36b0d68', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 18, 'created': '2021-05-21 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/914b96635b7a6c020502e32541bcf8624709887e', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 19, 'created': '2021-05-22 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/55ab8e3c307abbea43035544ae18db5eef6d6f13', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}, {'number': 20, 'created': '2021-06-03 14:19:37.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'unit_tests/test_octavia_handlers.py', 'src/wheelhouse.txt', 'src/lib/charm/openstack/api_crud.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/762bfc6b29136eb94113baff8946a70aa1590706', 'message': 'Confirm operational status of mgmt port\n\nPut charm into a blocked state if the unit local port to mgmt.\nnetwork does not come up.\n\nAdd workaround in functional test that allows to re-enable\nbionic-ussuri gate. Drop proposed from bionic-ussuri\nbundles.\n\nCloses-Bug: #1893446\nChange-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5\n'}]",0,759185,762bfc6b29136eb94113baff8946a70aa1590706,137,6,20,13686,,,0,"Confirm operational status of mgmt port

Put charm into a blocked state if the unit local port to mgmt.
network does not come up.

Add workaround in functional test that allows to re-enable
bionic-ussuri gate. Drop proposed from bionic-ussuri
bundles.

Closes-Bug: #1893446
Change-Id: I098e449723bce128e8c2efda1e9fafc9156a71e5
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/85/759185/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/octavia.py', 'interfaces/ovsdb-subordinate/ovsdb_subordinate_common.py', 'interfaces/ovsdb-subordinate/provides.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'interfaces/ovsdb-subordinate/interface.yaml', 'unit_tests/test_octavia_handlers.py', 'interfaces/ovsdb-subordinate/requires.py', 'src/lib/charm/openstack/api_crud.py']",9,3c98073ee3a42ec5e8ce8fa0d4338ce4f7251a55,charm-octavia,"import tenacitydef is_hm_port_up(identity_service, local_unit_name): """"""Retrieve operational status of Neutron port for local unit. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param local_unit_name: Name of juju unit, used to build tag name for port :type local_unit_name: str :returns: True if up, False if down, None if no port found :rtype: Optional[bool] :raises: api_crud.APIUnavailable """""" session = session_from_identity_service(identity_service) try: nc = init_neutron_client(session) port = lookup_hm_port(nc, local_unit_name) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) if port: return port['status'] == 'UP' def wait_for_hm_port(identity_service, local_unit_name, status=None): """"""Wait for operational status of Neutron port for local unit. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param local_unit_name: Name of juju unit, used to build tag name for port :type local_unit_name: str :param status: Status to wait for, defaults top 'UP' :type status: Optional[str] :returns: True if state was reached, False otherwise """""" try: for attempt in tenacity.Retrying( stop=tenacity.stop_after_attempt(3), wait=tenacity.wait_exponential( multiplier=1, min=2, max=10)): with attempt: port_up = is_hm_port_up( identity_service, local_unit_name) assert port_up is True return port_up except tenacity.RetryError: return False # TODO: We should add/update the OVS port and interface parameters on # every call. Otherwise mac-address binding may get out of sync with # what is in Neutron on port re-create etc. Remove the pre-flight ip # link check and call ovs-vsctl with ``--may-exist`` instead. We would # need to add some code to check if something changed or not. ",,384,1
openstack%2Fcharm-octavia~master~I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e,openstack/charm-octavia,master,I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e,Retrieve chassis certificates from subordinate relation,MERGED,2021-05-12 08:56:20.000000000,2021-06-07 07:28:33.000000000,2021-06-07 07:28:33.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-12 08:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/237ff3bbbfad98dacf20def77f086571e2ae58d5', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/572\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}, {'number': 2, 'created': '2021-05-12 09:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6d06eee3f3725a97a76401daf0e46abc8fa295fd', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/572\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}, {'number': 3, 'created': '2021-05-19 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2fc606be7f5f479157806932d19cd90e6eae7bc0', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/572\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}, {'number': 4, 'created': '2021-05-21 00:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5c8ffcaf450832c9d5511b49e716a7076c5adbf3', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}, {'number': 5, 'created': '2021-05-21 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b17b5212ca266e1123561186bea10846a20ed687', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}, {'number': 6, 'created': '2021-05-22 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8fe5df8af4262dc7852d01691cf8bc38137cce8c', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}, {'number': 7, 'created': '2021-06-03 14:19:37.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/templates/victoria/ovn_private_key.pem', 'src/templates/victoria/octavia.conf', 'src/templates/victoria/ovn_certificate.pem', 'src/templates/victoria/ovn_ca_cert.pem'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f1a602ca41af1d0ed2f42f17e3ac7c9316fb2628', 'message': 'Retrieve chassis certificates from subordinate relation\n\nWhen OVN provider driver is enabled, retrieve chassis\ncertificates from subordinate.\n\nWhile a principal and subordinate charm executes in the same\nenvironment, the payload usually execute under different service\naccounts and as such it is impractical and may be less secure to\nattempt to provide direct on-disk file access.\n\nAlso reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.\n\nCloses-Bug: #1918271\nRelated-Bug: #1885936\nChange-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e\n'}]",0,790924,f1a602ca41af1d0ed2f42f17e3ac7c9316fb2628,41,4,7,13686,,,0,"Retrieve chassis certificates from subordinate relation

When OVN provider driver is enabled, retrieve chassis
certificates from subordinate.

While a principal and subordinate charm executes in the same
environment, the payload usually execute under different service
accounts and as such it is impractical and may be less secure to
attempt to provide direct on-disk file access.

Also reverts commit bc0f83fee6af481324f2f9c7e8f01a5c3bde991c.

Closes-Bug: #1918271
Related-Bug: #1885936
Change-Id: I4bc65ea1fcf3c01b68ed92b31e91a64940afe10e
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/24/790924/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/octavia.py', 'src/templates/victoria/ovn_private_key.pem', 'src/templates/victoria/octavia.conf', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/templates/victoria/ovn_certificate.pem', 'interfaces/interface-ovsdb-subordinate/provides.py', 'interfaces/interface-ovsdb-subordinate/requires.py', 'interfaces/interface-ovsdb-subordinate/ovsdb_subordinate_common.py', 'src/templates/victoria/ovn_ca_cert.pem', 'interfaces/interface-ovsdb-subordinate/interface.yaml']",10,237ff3bbbfad98dacf20def77f086571e2ae58d5,charm-octavia,name: ovsdb-subordinate summary: Interface for subordinate relation between ovn-chassis and principle maintainer: OpenStack Charmers <openstack-charmers@lists.ubuntu.com> repo: https://opendev.org/x/charm-interface-ovsdb.git subdir: src/ovsdb_subordinate ,,356,11
openstack%2Fcharm-deployment-guide~master~I53a7fe8deda444e31b1842ec72ddb13f53406042,openstack/charm-deployment-guide,master,I53a7fe8deda444e31b1842ec72ddb13f53406042,Add operation: live migrate VMs,MERGED,2021-05-19 19:54:43.000000000,2021-06-07 07:28:12.000000000,2021-06-07 07:26:13.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-19 19:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4310d17465ae022450ea1a915c2e8d0f426d84bc', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 2, 'created': '2021-05-19 20:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/db1175401d1bedd469f496448eb2bda71aed79e2', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 3, 'created': '2021-05-20 23:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/39a09418b8c3e4cea00b898bad9296356ddcfd29', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 4, 'created': '2021-05-21 00:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8f564df09429530f2518f1abed03fdfb2f50afe1', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 5, 'created': '2021-05-21 22:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d175e7cb02d407108bf407c8aa9fe55b258efa12', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 6, 'created': '2021-05-28 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3f740418d6d7f92b0275789da65f547ae5d39cc5', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 7, 'created': '2021-05-28 22:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/399868cecd6cf5c5ab169914957cd4e5b23d68b9', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 8, 'created': '2021-05-28 23:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ba6a8b833b4eb007d97de9b2e60c1c8f65bdf26d', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 9, 'created': '2021-05-31 20:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/202d34a8fa98c2a74d34b54333ed3856d2e80b07', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 10, 'created': '2021-05-31 22:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0e1da1125675c33ebb5f4cbef656332bad1c3067', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 11, 'created': '2021-06-01 03:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/bb4162577636a63521ce90820cfb561556bef3c0', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 12, 'created': '2021-06-01 16:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f39a3ef8fe28991563610588cdfd0e70f2f22849', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}, {'number': 13, 'created': '2021-06-03 14:27:40.000000000', 'files': ['deploy-guide/source/ops-live-migrate-vms.rst', 'deploy-guide/source/keystone.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d7b4a9e4d1f4b1a823c222f4d8a71963730b034c', 'message': 'Add operation: live migrate VMs\n\nAdd a cloud operation for live migrating VMs\n\nChange-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042\n'}]",6,792256,d7b4a9e4d1f4b1a823c222f4d8a71963730b034c,42,4,13,30561,,,0,"Add operation: live migrate VMs

Add a cloud operation for live migrating VMs

Change-Id: I53a7fe8deda444e31b1842ec72ddb13f53406042
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/56/792256/7 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-migrate-compute-node-vms.rst', 'deploy-guide/source/operational-tasks.rst']",2,4310d17465ae022450ea1a915c2e8d0f426d84bc,cdg-ops,* :doc:`Live migrate VMs from a running compute node <ops-live-migrate-vms>`,,110,0
openstack%2Fcharm-octavia~master~Ie2dedbb90bc0b6bfb695d696467a631b1c848fde,openstack/charm-octavia,master,Ie2dedbb90bc0b6bfb695d696467a631b1c848fde,Add deprecation notice for spares pool support,MERGED,2020-10-19 09:17:59.000000000,2021-06-07 07:25:27.000000000,2021-06-07 07:25:27.000000000,"[{'_account_id': 8992}, {'_account_id': 13686}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-10-19 09:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/1b61676027ca0894bb0db65cfefb2a9443e3bcea', 'message': 'Add deprecation notice for spares pool support\n\nChange-Id: Ie2dedbb90bc0b6bfb695d696467a631b1c848fde\n'}, {'number': 2, 'created': '2021-05-21 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/94a24cd91189d7522644cd5d6eb629028db7dbff', 'message': 'Add deprecation notice for spares pool support\n\nAt the same time reduce the memory footprint of each func-target\njob by 26G.\n\nChange-Id: Ie2dedbb90bc0b6bfb695d696467a631b1c848fde\n'}, {'number': 3, 'created': '2021-05-22 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/95d60135f4ff86530427b587dc529e4b74c6f826', 'message': 'Add deprecation notice for spares pool support\n\nAt the same time reduce the memory footprint of each func-target\njob by 26G.\n\nChange-Id: Ie2dedbb90bc0b6bfb695d696467a631b1c848fde\n'}, {'number': 4, 'created': '2021-05-25 04:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8fa4c21580e848f21518bbfc52fe6c8951ef8fc0', 'message': 'Add deprecation notice for spares pool support\n\nAt the same time reduce the memory footprint of each func-target\njob by 26G.\n\nChange-Id: Ie2dedbb90bc0b6bfb695d696467a631b1c848fde\n'}, {'number': 5, 'created': '2021-06-03 14:19:37.000000000', 'files': ['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/config.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/062d9971f1269ff83ebb845ba58f4da55401ef10', 'message': 'Add deprecation notice for spares pool support\n\nAt the same time reduce the memory footprint of each func-target\njob by 26G.\n\nChange-Id: Ie2dedbb90bc0b6bfb695d696467a631b1c848fde\n'}]",1,758738,062d9971f1269ff83ebb845ba58f4da55401ef10,46,6,5,13686,,,0,"Add deprecation notice for spares pool support

At the same time reduce the memory footprint of each func-target
job by 26G.

Change-Id: Ie2dedbb90bc0b6bfb695d696467a631b1c848fde
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/38/758738/5 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,1b61676027ca0894bb0db65cfefb2a9443e3bcea,charm-octavia, . NOTE: As of OpenStack Victoria this configuration option is DEPRECATED and support for the feature will be removed from Octavia in the OpenStack X release.,,4,0
openstack%2Ftripleo-validations~master~Iadeb6e64918d6950dfdecdf2e215819955e4a73c,openstack/tripleo-validations,master,Iadeb6e64918d6950dfdecdf2e215819955e4a73c,Removes deprecated 'overcloudrc' module,ABANDONED,2021-06-04 07:32:11.000000000,2021-06-07 07:03:30.000000000,,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-04 07:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c1f0639218a31d27494c3f800fb61ad9fb93607f', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c\n""}, {'number': 2, 'created': '2021-06-04 07:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6dcf476e425c5444a0422de5c678b67818473a02', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c\n""}, {'number': 3, 'created': '2021-06-04 07:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/23d34b190431313c77690f974b2e9434897cedab', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c\n""}, {'number': 4, 'created': '2021-06-04 14:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aca211f1db1908c48ab1bc82e473c3ce9721009c', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nRelease notes updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c\n""}, {'number': 5, 'created': '2021-06-04 14:19:48.000000000', 'files': ['library/overcloudrc.py', 'doc/source/modules/modules-overcloudrc.rst', 'releasenotes/notes/remove-overcloudrc-a6c28a4a34dad951.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2654377ef9798370618abc90775275dea66b3954', 'message': ""Removes deprecated 'overcloudrc' module\n\nPotentially concerned parties were warned by deprecation\nwarning in a previous patch.\n\nRelease notes updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c\n""}]",3,794721,2654377ef9798370618abc90775275dea66b3954,12,10,5,32926,,,0,"Removes deprecated 'overcloudrc' module

Potentially concerned parties were warned by deprecation
warning in a previous patch.

Release notes updated.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/21/794721/5 && git format-patch -1 --stdout FETCH_HEAD,['library/overcloudrc.py'],1,c1f0639218a31d27494c3f800fb61ad9fb93607f,overcloudrc/removal,,"#!/usr/bin/env python # -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import os.path import subprocess import logging from ansible.module_utils.basic import AnsibleModule from yaml import safe_load as yaml_safe_load DOCUMENTATION = ''' --- module: overcloudrc short_description: Source the overcloudrc file description: - Source the overcloudrc file - Deprecated since the Train release - Not used by any validation at this time options: path: required: true description: - The file path type: str author: ""Tomas Sedovic"" ''' EXAMPLES = ''' - hosts: webservers tasks: - name: Source overcloudrc overcloudrc: path: /home/stack/overcloudrc ''' def main(): logging.warning( ( ""This module is deprecated and will be removed soon.\n"" ""Please contact the developers if you are using it.\n"" ""Before it is too late..."")) module = AnsibleModule( argument_spec=yaml_safe_load(DOCUMENTATION)['options'] ) overcloudrc_path = os.path.expanduser(module.params.get('path')) if not os.path.isfile(overcloudrc_path): module.fail_json( msg=""The overcloudrc file at {} does not exist."".format( overcloudrc_path)) # Use bash to source overcloudrc and print the environment: command = ['bash', '-c', 'source ' + overcloudrc_path + ' && env'] proc = subprocess.Popen( command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True ) if proc.wait() != 0: msg = ""Could not source '{}'. Return code: {}.\nSTDERR:\n{}"".format( overcloudrc_path, proc.returncode, proc.stderr.read()) module.fail_json(msg=msg) facts = {} for line in proc.stdout: (key, _, value) = line.partition(""="") if key.startswith(""OS_""): facts[key] = value.rstrip() module.exit_json(changed=False, ansible_facts={'overcloudrc': facts}) if __name__ == '__main__': main() ",0,88
openstack%2Ftripleo-validations~master~Ic70003f694e161a9f43e5ad4e1a27af646abd83e,openstack/tripleo-validations,master,Ic70003f694e161a9f43e5ad4e1a27af646abd83e,Deprecation notice for an unused module,ABANDONED,2021-06-04 07:29:43.000000000,2021-06-07 06:57:16.000000000,,"[{'_account_id': 4330}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-04 07:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8e6f4c64e433b6841ef76fde3ebfa013fbdeb8d6', 'message': ""Deprecation notice for unused module\nThe 'overcloudrc' module isn't used by any known validation\nand from the looks of it, it hasn't been for a while.\n\nThis is simple notification about its state and impending\nremoval from the repo.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic70003f694e161a9f43e5ad4e1a27af646abd83e\n""}, {'number': 2, 'created': '2021-06-04 07:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ef3ca8b262c5cf246c356e362a44b8b7054ac842', 'message': ""Deprecation notice for an unused module\n\nThe 'overcloudrc' module isn't used by any known validation\nand from the looks of it, it hasn't been for a while.\n\nThis is a simple notification about its state and impending\nremoval from the repo.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic70003f694e161a9f43e5ad4e1a27af646abd83e\n""}, {'number': 3, 'created': '2021-06-07 06:56:17.000000000', 'files': ['library/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4dc20bcb67be545347f54451745636375b2f90fb', 'message': ""Deprecation notice for an unused module\n\nThe 'overcloudrc' module isn't used by any known validation\nand from the looks of it, it hasn't been for a while.\n\nThis is a simple notification about its state and impending\nremoval from the repo.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic70003f694e161a9f43e5ad4e1a27af646abd83e\n""}]",1,794719,4dc20bcb67be545347f54451745636375b2f90fb,8,10,3,32926,,,0,"Deprecation notice for an unused module

The 'overcloudrc' module isn't used by any known validation
and from the looks of it, it hasn't been for a while.

This is a simple notification about its state and impending
removal from the repo.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic70003f694e161a9f43e5ad4e1a27af646abd83e
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/19/794719/1 && git format-patch -1 --stdout FETCH_HEAD,['library/overcloudrc.py'],1,8e6f4c64e433b6841ef76fde3ebfa013fbdeb8d6,overcloudrc/removal,"import logging - Deprecated since the Train release - Not used by any validation at this time logging.warning( ( ""This module is deprecated and will be removed soon.\n"" ""Please contact the developers if you are using it.\n"" ""Before it is too late...""))",,8,0
openstack%2Foctavia~master~Ie0e6e893e52a7bdebdf1290a6e844f8d4309d34f,openstack/octavia,master,Ie0e6e893e52a7bdebdf1290a6e844f8d4309d34f,Imported Translations from Zanata,MERGED,2021-06-05 07:22:24.000000000,2021-06-07 06:34:50.000000000,2021-06-07 06:32:16.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 07:22:24.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e1adb335c788dbd902bfd8a00f748da4abb8b06b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie0e6e893e52a7bdebdf1290a6e844f8d4309d34f\n'}]",0,794956,e1adb335c788dbd902bfd8a00f748da4abb8b06b,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie0e6e893e52a7bdebdf1290a6e844f8d4309d34f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/794956/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,e1adb335c788dbd902bfd8a00f748da4abb8b06b,zanata/translations,"""POT-Creation-Date: 2021-06-05 00:53+0000\n""msgid ""2.1.2-11"" msgstr ""2.1.2-11""","""POT-Creation-Date: 2020-10-14 14:35+0000\n""msgid ""2.1.2-14"" msgstr ""2.1.2-14""msgid ""5.0.2-15"" msgstr ""5.0.2-15"" msgid ""6.0.1-26"" msgstr ""6.0.1-26"" ",3,9
openstack%2Fceilometer~stable%2Ftrain~I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,openstack/ceilometer,stable/train,I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,Cap tenacity < 7.0.0,MERGED,2021-03-29 06:18:45.000000000,2021-06-07 06:16:58.000000000,2021-06-07 06:14:29.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 06:18:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a89d6cc5d9379742cda276c6145eb3b4e241deaf', 'message': 'Cap tenacity < 7.0.0\n\nhttps://github.com/jd/tenacity/pull/274/files removed code\nwhich was still in use.\n\nChange-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013\n(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)\n'}]",0,783603,a89d6cc5d9379742cda276c6145eb3b4e241deaf,11,2,1,4264,,,0,"Cap tenacity < 7.0.0

https://github.com/jd/tenacity/pull/274/files removed code
which was still in use.

Change-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013
(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/03/783603/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a89d6cc5d9379742cda276c6145eb3b4e241deaf,train_tenacity,"tenacity>=4.4.0,<7.0.0 # Apache-2.0",tenacity>=4.4.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a,openstack/tripleo-heat-templates,stable/ussuri,Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a,Add dependency on OVNMacAddressNetwork for role ResourceGroup,MERGED,2021-05-21 09:37:34.000000000,2021-06-07 04:05:41.000000000,2021-06-07 04:05:41.000000000,"[{'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-21 09:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2402c6af2c355ab6c1db466a6d47294c29561c16', 'message': 'Add dependency on OVNMacAddressNetwork for role ResourceGroup\n\nThe role ResourceGroup (puppet/role.role.j2.yaml template) tries to\ncreate a port on the OVNMacAddressNetwork, as such we need a dependency\nin the top level stack, otherwise the network may not exist before Heat\nattempts to create the port.\n\nChange-Id: Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 7a4a43d55d8437cb154d1ae715b50a586080ff0a)\n'}, {'number': 2, 'created': '2021-05-31 19:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6a211112dd3488dddeb183e6e3e1f77134c7f10', 'message': 'Add dependency on OVNMacAddressNetwork for role ResourceGroup\n\nThe role ResourceGroup (puppet/role.role.j2.yaml template) tries to\ncreate a port on the OVNMacAddressNetwork, as such we need a dependency\nin the top level stack, otherwise the network may not exist before Heat\nattempts to create the port.\n\nChange-Id: Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 7a4a43d55d8437cb154d1ae715b50a586080ff0a)\n'}, {'number': 3, 'created': '2021-06-02 08:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1147a95a4ed6837f0a33b0e5e6b832687a6630de', 'message': 'Add dependency on OVNMacAddressNetwork for role ResourceGroup\n\nThe role ResourceGroup (puppet/role.role.j2.yaml template) tries to\ncreate a port on the OVNMacAddressNetwork, as such we need a dependency\nin the top level stack, otherwise the network may not exist before Heat\nattempts to create the port.\n\nChange-Id: Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 7a4a43d55d8437cb154d1ae715b50a586080ff0a)\n'}, {'number': 4, 'created': '2021-06-06 17:49:09.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4e6c8e3c02c1de77c102e00ec6edceb34f94349', 'message': 'Add dependency on OVNMacAddressNetwork for role ResourceGroup\n\nThe role ResourceGroup (puppet/role.role.j2.yaml template) tries to\ncreate a port on the OVNMacAddressNetwork, as such we need a dependency\nin the top level stack, otherwise the network may not exist before Heat\nattempts to create the port.\n\nChange-Id: Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 7a4a43d55d8437cb154d1ae715b50a586080ff0a)\n'}]",0,792519,a4e6c8e3c02c1de77c102e00ec6edceb34f94349,33,5,4,24245,,,0,"Add dependency on OVNMacAddressNetwork for role ResourceGroup

The role ResourceGroup (puppet/role.role.j2.yaml template) tries to
create a port on the OVNMacAddressNetwork, as such we need a dependency
in the top level stack, otherwise the network may not exist before Heat
attempts to create the port.

Change-Id: Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 7a4a43d55d8437cb154d1ae715b50a586080ff0a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/792519/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,2402c6af2c355ab6c1db466a6d47294c29561c16,ovn-distributed-vlan-traffic, depends_on: - Networks - OVNMacAddressNetwork, depends_on: Networks,3,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I785400969efba0062aabdca9af2726a7603ef840,openstack/puppet-tripleo,stable/ussuri,I785400969efba0062aabdca9af2726a7603ef840,Set ovn_chassis_mac_map in ovn::controller,MERGED,2021-03-24 14:54:10.000000000,2021-06-07 03:03:53.000000000,2021-06-07 03:03:53.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-24 14:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/15d65f57dacd93228767b03f3931b44b2caf3384', 'message': 'Set ovn_chassis_mac_map in ovn::controller\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nDepends-On: https://review.opendev.org/782763\nRelated-Bug: #1881593\nChange-Id: I785400969efba0062aabdca9af2726a7603ef840\n(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)\n(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)\n'}, {'number': 2, 'created': '2021-03-26 13:10:03.000000000', 'files': ['manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3c3b7cf182ecd08f91cd3b06e44b7df2bbc111b', 'message': 'Set ovn_chassis_mac_map in ovn::controller\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nDepends-On: https://review.opendev.org/782763\nRelated-Bug: #1881593\nChange-Id: I785400969efba0062aabdca9af2726a7603ef840\n(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)\n(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)\n'}]",0,782772,e3c3b7cf182ecd08f91cd3b06e44b7df2bbc111b,62,5,2,11082,,,0,"Set ovn_chassis_mac_map in ovn::controller

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Depends-On: https://review.opendev.org/782763
Related-Bug: #1881593
Change-Id: I785400969efba0062aabdca9af2726a7603ef840
(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)
(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/72/782772/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/agents/ovn.pp'],1,15d65f57dacd93228767b03f3931b44b2caf3384,ovn-distributed-vlan-traffic,"# [*ovn_chassis_mac_map*] # (optional) A list of key-value pairs that map a chassis specific mac to # a physical network name. An example # value mapping two chassis macs to two physical network names would be: # physnet1:aa:bb:cc:dd:ee:ff,physnet2:a1:b2:c3:d4:e5:f6 # These are the macs that ovn-controller will replace a router port # mac with, if packet is going from a distributed router port on # vlan type logical switch. # Defaults to hiera('ovn_chassis_mac_map') # $ovn_db_host = hiera('ovn_dbs_vip'), $ovn_sbdb_port = hiera('ovn::southbound::port'), $protocol = 'tcp', $step = Integer(hiera('step')), $ovn_chassis_mac_map = hiera('ovn_chassis_mac_map', undef), ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'), ovn_chassis_mac_map => $ovn_chassis_mac_map,"," $ovn_db_host = hiera('ovn_dbs_vip'), $ovn_sbdb_port = hiera('ovn::southbound::port'), $protocol = 'tcp', $step = Integer(hiera('step')) ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",17,5
openstack%2Fkarbor~master~I468956c180d3a1ca5ece6b6ca58ade612f6fa5ad,openstack/karbor,master,I468956c180d3a1ca5ece6b6ca58ade612f6fa5ad,fix restore triggers error,ABANDONED,2020-12-09 05:58:12.000000000,2021-06-07 01:48:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-09 05:58:12.000000000', 'files': ['karbor/services/operationengine/manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/43f063ea84716221a4e864bf6a875a7df8006f2b', 'message': ""fix restore triggers error\n\nThe 'add_trigger' function may raise exception when initializing a trigger,\nit will cause the operationengine service always quit, we need to catch it to avaid that.\n\nChange-Id: I468956c180d3a1ca5ece6b6ca58ade612f6fa5ad\n""}]",0,766131,43f063ea84716221a4e864bf6a875a7df8006f2b,3,1,1,32245,,,0,"fix restore triggers error

The 'add_trigger' function may raise exception when initializing a trigger,
it will cause the operationengine service always quit, we need to catch it to avaid that.

Change-Id: I468956c180d3a1ca5ece6b6ca58ade612f6fa5ad
",git fetch https://review.opendev.org/openstack/karbor refs/changes/31/766131/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/operationengine/manager.py'],1,43f063ea84716221a4e864bf6a875a7df8006f2b,fix_restore_triggers," try: self.trigger_manager.add_trigger(trigger.id, trigger.type, trigger.properties) except Exception as e: LOG.error('Add trigger (id: ""%s"" type: ""%s"" properties: ' '""%s"") to manager error, reason: %s', trigger.id, trigger.type, trigger.properties, str(e)) "," self.trigger_manager.add_trigger(trigger.id, trigger.type, trigger.properties)",9,2
openstack%2Fkarbor~master~Iaab3aee377857dc1d431531dc150520365a93482,openstack/karbor,master,Iaab3aee377857dc1d431531dc150520365a93482,fix get 'force' parameter from parameters,ABANDONED,2020-10-28 01:13:07.000000000,2021-06-07 01:48:15.000000000,,"[{'_account_id': 2023}, {'_account_id': 13070}, {'_account_id': 17151}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2020-10-28 01:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9619340e3a1edb5c12fe3fba1dac2a2cb84ee436', 'message': ""fix for get 'force' parameter from parameters\n\nWhen we use parameter.get('force',False), if 'force' in parameters,\nwe will get a string 'True' or 'False', which type is not boolean.\n\nThis will affect later judgment.\n\nChange-Id: Iaab3aee377857dc1d431531dc150520365a93482\n""}, {'number': 2, 'created': '2020-10-28 01:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/aefbde783f989fd782d89000fd0f2b514dc621c2', 'message': ""fix get 'force' parameter from parameters\n\nWhen we use parameter.get('force',False), if 'force' in parameters,\nwe will get a string 'True' or 'False', which type is not boolean.\n\nThis will affect later judgment.\n\nChange-Id: Iaab3aee377857dc1d431531dc150520365a93482\n""}, {'number': 3, 'created': '2020-12-04 09:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/fa0f91c5be871473bd8a64109da6773a8f9ac1e0', 'message': ""fix get 'force' parameter from parameters\n\nWhen we use parameter.get('force',False), if 'force' in parameters,\nwe will get a string 'True' or 'False', which type is not boolean.\n\nChange-Id: Iaab3aee377857dc1d431531dc150520365a93482\n""}, {'number': 4, 'created': '2020-12-09 07:25:31.000000000', 'files': ['karbor/services/protection/protection_plugins/share/share_snapshot_plugin.py', 'karbor/services/protection/protection_plugins/volume/cinder_protection_plugin.py', 'karbor/services/protection/protection_plugins/volume/volume_snapshot_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/2a7720a85c090c8194cce0e4f66462eec41df8e3', 'message': ""fix get 'force' parameter from parameters\n\nWhen we use parameter.get('force',False), if 'force' in parameters,\nwe will get a string 'True' or 'False', which type is not boolean.\n\nChange-Id: Iaab3aee377857dc1d431531dc150520365a93482\n""}]",0,759979,2a7720a85c090c8194cce0e4f66462eec41df8e3,10,8,4,32245,,,0,"fix get 'force' parameter from parameters

When we use parameter.get('force',False), if 'force' in parameters,
we will get a string 'True' or 'False', which type is not boolean.

Change-Id: Iaab3aee377857dc1d431531dc150520365a93482
",git fetch https://review.opendev.org/openstack/karbor refs/changes/79/759979/3 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protection_plugins/share/share_snapshot_plugin.py', 'karbor/services/protection/protection_plugins/volume/cinder_protection_plugin.py', 'karbor/services/protection/protection_plugins/volume/volume_snapshot_plugin.py']",3,9619340e3a1edb5c12fe3fba1dac2a2cb84ee436,fix_get_force_parameter," force = False if parameters.get('force', 'False') == 'False' else True"," force = parameters.get('force', False)",3,3
openstack%2Fpython-ironicclient~master~I41dac340cf679b86825638f56de8ef9999cfb3ff,openstack/python-ironicclient,master,I41dac340cf679b86825638f56de8ef9999cfb3ff,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 01:20:43.000000000,2021-06-06 23:19:16.000000000,2021-06-06 23:17:51.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-04 01:20:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8bf8769f2d67b9dcf3821f49e98d5f9868ebc1ca', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I41dac340cf679b86825638f56de8ef9999cfb3ff\n""}]",0,794690,8bf8769f2d67b9dcf3821f49e98d5f9868ebc1ca,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I41dac340cf679b86825638f56de8ef9999cfb3ff
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/90/794690/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8bf8769f2d67b9dcf3821f49e98d5f9868ebc1ca,update-min-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fironic-lib~master~Ia879595d00501f3f06ae5dc2a9dca9c5ea234501,openstack/ironic-lib,master,Ia879595d00501f3f06ae5dc2a9dca9c5ea234501,Remove the logic specific to the way deployment works,MERGED,2021-05-10 11:02:35.000000000,2021-06-06 23:19:07.000000000,2021-06-06 23:17:48.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:02:35.000000000', 'files': ['requirements.txt', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/6aa94252dd65343cf491fe31557e294ec9900639', 'message': 'Remove the logic specific to the way deployment works\n\nThis code used to be shared between the iSCSI and the direct deploy\ninterfaces. Now that iSCSI is gone, this code has been moved to IPA:\nhttps://opendev.org/openstack/ironic-python-agent/commit/24951b1029170840484a50fdd38d2a57858a578c\n\nChange-Id: Ia879595d00501f3f06ae5dc2a9dca9c5ea234501\n'}]",0,790411,6aa94252dd65343cf491fe31557e294ec9900639,14,4,1,10239,,,0,"Remove the logic specific to the way deployment works

This code used to be shared between the iSCSI and the direct deploy
interfaces. Now that iSCSI is gone, this code has been moved to IPA:
https://opendev.org/openstack/ironic-python-agent/commit/24951b1029170840484a50fdd38d2a57858a578c

Change-Id: Ia879595d00501f3f06ae5dc2a9dca9c5ea234501
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/11/790411/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",3,6aa94252dd65343cf491fe31557e294ec9900639,no-iscsi,,"import base64 import gzip import ioimport mathimport shutilimport tempfileimport requestsdef _get_configdrive(configdrive, node_uuid, tempdir=None): """"""Get the information about size and location of the configdrive. :param configdrive: Base64 encoded Gzipped configdrive content or configdrive HTTP URL. :param node_uuid: Node's uuid. Used for logging. :param tempdir: temporary directory for the temporary configdrive file :raises: InstanceDeployFailure if it can't download or decode the config drive. :returns: A tuple with the size in MiB and path to the uncompressed configdrive file. """""" # Check if the configdrive option is a HTTP URL or the content directly is_url = utils.is_http_url(configdrive) if is_url: try: data = requests.get(configdrive).content except requests.exceptions.RequestException as e: raise exception.InstanceDeployFailure( _(""Can't download the configdrive content for node %(node)s "" ""from '%(url)s'. Reason: %(reason)s"") % {'node': node_uuid, 'url': configdrive, 'reason': e}) else: data = configdrive configdrive_file = tempfile.NamedTemporaryFile(delete=False, prefix='configdrive', dir=tempdir) try: data = io.BytesIO(base64.b64decode(data)) except Exception as exc: if isinstance(data, bytes): LOG.debug('Config drive for node %(node)s is not base64 encoded ' '(%(error)s), assuming binary', {'node': node_uuid, 'error': exc}) configdrive_mb = int(math.ceil(len(data) / units.Mi)) configdrive_file.write(data) configdrive_file.close() return (configdrive_mb, configdrive_file.name) else: configdrive_file.close() utils.unlink_without_raise(configdrive_file.name) error_msg = (_('Config drive for node %(node)s is not base64 ' 'encoded or the content is malformed. ' '%(cls)s: %(err)s.') % {'node': node_uuid, 'err': exc, 'cls': type(exc).__name__}) if is_url: error_msg += _(' Downloaded from ""%s"".') % configdrive raise exception.InstanceDeployFailure(error_msg) configdrive_mb = 0 with gzip.GzipFile('configdrive', 'rb', fileobj=data) as gunzipped: try: shutil.copyfileobj(gunzipped, configdrive_file) except EnvironmentError as e: # Delete the created file utils.unlink_without_raise(configdrive_file.name) raise exception.InstanceDeployFailure( _('Encountered error while decompressing and writing ' 'config drive for node %(node)s. Error: %(exc)s') % {'node': node_uuid, 'exc': e}) else: # Get the file size and convert to MiB configdrive_file.seek(0, os.SEEK_END) bytes_ = configdrive_file.tell() configdrive_mb = int(math.ceil(float(bytes_) / units.Mi)) finally: configdrive_file.close() return (configdrive_mb, configdrive_file.name) def work_on_disk(dev, root_mb, swap_mb, ephemeral_mb, ephemeral_format, image_path, node_uuid, preserve_ephemeral=False, configdrive=None, boot_option=""netboot"", boot_mode=""bios"", tempdir=None, disk_label=None, cpu_arch="""", conv_flags=None): """"""Create partitions and copy an image to the root partition. :param dev: Path for the device to work on. :param root_mb: Size of the root partition in megabytes. :param swap_mb: Size of the swap partition in megabytes. :param ephemeral_mb: Size of the ephemeral partition in megabytes. If 0, no ephemeral partition will be created. :param ephemeral_format: The type of file system to format the ephemeral partition. :param image_path: Path for the instance's disk image. If ``None``, the root partition is prepared but not populated. :param node_uuid: node's uuid. Used for logging. :param preserve_ephemeral: If True, no filesystem is written to the ephemeral block device, preserving whatever content it had (if the partition table has not changed). :param configdrive: Optional. Base64 encoded Gzipped configdrive content or configdrive HTTP URL. :param boot_option: Can be ""local"" or ""netboot"". ""netboot"" by default. :param boot_mode: Can be ""bios"" or ""uefi"". ""bios"" by default. :param tempdir: A temporary directory :param disk_label: The disk label to be used when creating the partition table. Valid values are: ""msdos"", ""gpt"" or None; If None Ironic will figure it out according to the boot_mode parameter. :param cpu_arch: Architecture of the node the disk device belongs to. When using the default value of None, no architecture specific steps will be taken. This default should be used for x86_64. When set to ppc64*, architecture specific steps are taken for booting a partition image locally. :param conv_flags: Flags that need to be sent to the dd command, to control the conversion of the original file when copying to the host. It can contain several options separated by commas. :returns: a dictionary containing the following keys: 'root uuid': UUID of root partition 'efi system partition uuid': UUID of the uefi system partition (if boot mode is uefi). `partitions`: mapping of partition types to their device paths. NOTE: If key exists but value is None, it means partition doesn't exist. """""" # the only way for preserve_ephemeral to be set to true is if we are # rebuilding an instance with --preserve_ephemeral. commit = not preserve_ephemeral # now if we are committing the changes to disk clean first. if commit: destroy_disk_metadata(dev, node_uuid) try: # If requested, get the configdrive file and determine the size # of the configdrive partition configdrive_mb = 0 configdrive_file = None if configdrive: configdrive_mb, configdrive_file = _get_configdrive( configdrive, node_uuid, tempdir=tempdir) part_dict = make_partitions(dev, root_mb, swap_mb, ephemeral_mb, configdrive_mb, node_uuid, commit=commit, boot_option=boot_option, boot_mode=boot_mode, disk_label=disk_label, cpu_arch=cpu_arch) LOG.info(""Successfully completed the disk device"" "" %(dev)s partitioning for node %(node)s"", {'dev': dev, ""node"": node_uuid}) ephemeral_part = part_dict.get('ephemeral') swap_part = part_dict.get('swap') configdrive_part = part_dict.get('configdrive') root_part = part_dict.get('root') if not is_block_device(root_part): raise exception.InstanceDeployFailure( _(""Root device '%s' not found"") % root_part) for part in ('swap', 'ephemeral', 'configdrive', 'efi system partition', 'PReP Boot partition'): part_device = part_dict.get(part) LOG.debug(""Checking for %(part)s device (%(dev)s) on node "" ""%(node)s."", {'part': part, 'dev': part_device, 'node': node_uuid}) if part_device and not is_block_device(part_device): raise exception.InstanceDeployFailure( _(""'%(partition)s' device '%(part_device)s' not found"") % {'partition': part, 'part_device': part_device}) # If it's a uefi localboot, then we have created the efi system # partition. Create a fat filesystem on it. if boot_mode == ""uefi"" and boot_option == ""local"": efi_system_part = part_dict.get('efi system partition') utils.mkfs(fs='vfat', path=efi_system_part, label='efi-part') if configdrive_part: # Copy the configdrive content to the configdrive partition dd(configdrive_file, configdrive_part, conv_flags=conv_flags) LOG.info(""Configdrive for node %(node)s successfully copied "" ""onto partition %(partition)s"", {'node': node_uuid, 'partition': configdrive_part}) finally: # If the configdrive was requested make sure we delete the file # after copying the content to the partition if configdrive_file: utils.unlink_without_raise(configdrive_file) if image_path is not None: populate_image(image_path, root_part, conv_flags=conv_flags) LOG.info(""Image for %(node)s successfully populated"", {'node': node_uuid}) else: LOG.debug(""Root partition for %s was created, but not populated"", node_uuid) if swap_part: utils.mkfs(fs='swap', path=swap_part, label='swap1') LOG.info(""Swap partition %(swap)s successfully formatted "" ""for node %(node)s"", {'swap': swap_part, 'node': node_uuid}) if ephemeral_part and not preserve_ephemeral: utils.mkfs(fs=ephemeral_format, path=ephemeral_part, label=""ephemeral0"") LOG.info(""Ephemeral partition %(ephemeral)s successfully "" ""formatted for node %(node)s"", {'ephemeral': ephemeral_part, 'node': node_uuid}) uuids_to_return = { 'root uuid': root_part, 'efi system partition uuid': part_dict.get('efi system partition'), } if cpu_arch.startswith('ppc'): uuids_to_return[ 'PReP Boot partition uuid' ] = part_dict.get('PReP Boot partition') try: for part, part_dev in uuids_to_return.items(): if part_dev: uuids_to_return[part] = block_uuid(part_dev) except processutils.ProcessExecutionError: with excutils.save_and_reraise_exception(): LOG.error(""Failed to detect %s"", part) return dict(partitions=part_dict, **uuids_to_return) def _is_disk_larger_than_max_size(device, node_uuid): """"""Check if total disk size exceeds 2TB msdos limit :param device: device path. :param node_uuid: node's uuid. Used for logging. :raises: InstanceDeployFailure, if any disk partitioning related commands fail. :returns: True if total disk size exceeds 2TB. Returns False otherwise. """""" try: disksize_bytes, err = utils.execute('blockdev', '--getsize64', device, use_standard_locale=True, run_as_root=True) except (processutils.UnknownArgumentError, processutils.ProcessExecutionError, OSError) as e: msg = (_('Failed to get size of disk %(disk)s for node %(node)s. ' 'Error: %(error)s') % {'disk': device, 'node': node_uuid, 'error': e}) LOG.error(msg) raise exception.InstanceDeployFailure(msg) disksize_mb = int(disksize_bytes.strip()) // 1024 // 1024 return disksize_mb > MAX_DISK_SIZE_MB_SUPPORTED_BY_MBR def _get_labelled_partition(device_path, label, node_uuid): """"""Check and return if partition with given label exists :param device_path: The device path. :param label: Partition label :param node_uuid: UUID of the Node. Used for logging. :raises: InstanceDeployFailure, if any disk partitioning related commands fail. :returns: block device file for partition if it exists; otherwise it returns None. """""" partprobe(device_path) try: output, err = utils.execute('lsblk', '-Po', 'name,label', device_path, check_exit_code=[0, 1], use_standard_locale=True, run_as_root=True) except (processutils.UnknownArgumentError, processutils.ProcessExecutionError, OSError) as e: msg = (_('Failed to retrieve partition labels on disk %(disk)s ' 'for node %(node)s. Error: %(error)s') % {'disk': device_path, 'node': node_uuid, 'error': e}) LOG.error(msg) raise exception.InstanceDeployFailure(msg) found_part = None if output: for dev in utils.parse_device_tags(output): if dev['LABEL'].upper() == label.upper(): if found_part: found_2 = '/dev/%(part)s' % {'part': dev['NAME'].strip()} found = [found_part, found_2] raise exception.InstanceDeployFailure( _('More than one partition with label ""%(label)s"" ' 'exists on device %(device)s for node %(node)s: ' '%(found)s.') % {'label': label, 'device': device_path, 'node': node_uuid, 'found': ' and '.join(found)}) found_part = '/dev/%(part)s' % {'part': dev['NAME'].strip()} return found_part def create_config_drive_partition(node_uuid, device, configdrive): """"""Create a partition for config drive Checks if the device is GPT or MBR partitioned and creates config drive partition accordingly. :param node_uuid: UUID of the Node. :param device: The device path. :param configdrive: Base64 encoded Gzipped configdrive content or configdrive HTTP URL. :raises: InstanceDeployFailure if config drive size exceeds maximum limit or if it fails to create config drive. """""" confdrive_file = None try: config_drive_part = _get_labelled_partition(device, CONFIGDRIVE_LABEL, node_uuid) confdrive_mb, confdrive_file = _get_configdrive(configdrive, node_uuid) if confdrive_mb > MAX_CONFIG_DRIVE_SIZE_MB: raise exception.InstanceDeployFailure( _('Config drive size exceeds maximum limit of 64MiB. ' 'Size of the given config drive is %(size)d MiB for ' 'node %(node)s.') % {'size': confdrive_mb, 'node': node_uuid}) LOG.debug(""Adding config drive partition %(size)d MiB to "" ""device: %(dev)s for node %(node)s"", {'dev': device, 'size': confdrive_mb, 'node': node_uuid}) fix_gpt_partition(device, node_uuid) if config_drive_part: LOG.debug(""Configdrive for node %(node)s exists at "" ""%(part)s"", {'node': node_uuid, 'part': config_drive_part}) else: cur_parts = set(part['number'] for part in list_partitions(device)) if get_partition_table_type(device) == 'gpt': create_option = '0:-%dMB:0' % MAX_CONFIG_DRIVE_SIZE_MB utils.execute('sgdisk', '-n', create_option, device, run_as_root=True) else: # Check if the disk has 4 partitions. The MBR based disk # cannot have more than 4 partitions. # TODO(stendulker): One can use logical partitions to create # a config drive if there are 3 primary partitions. # https://bugs.launchpad.net/ironic/+bug/1561283 try: pp_count, lp_count = count_mbr_partitions(device) except ValueError as e: raise exception.InstanceDeployFailure( _('Failed to check the number of primary partitions ' 'present on %(dev)s for node %(node)s. Error: ' '%(error)s') % {'dev': device, 'node': node_uuid, 'error': e}) if pp_count > 3: raise exception.InstanceDeployFailure( _('Config drive cannot be created for node %(node)s. ' 'Disk (%(dev)s) uses MBR partitioning and already ' 'has %(parts)d primary partitions.') % {'node': node_uuid, 'dev': device, 'parts': pp_count}) # Check if disk size exceeds 2TB msdos limit startlimit = '-%dMiB' % MAX_CONFIG_DRIVE_SIZE_MB endlimit = '-0' if _is_disk_larger_than_max_size(device, node_uuid): # Need to create a small partition at 2TB limit LOG.warning(""Disk size is larger than 2TB for "" ""node %(node)s. Creating config drive "" ""at the end of the disk %(disk)s."", {'node': node_uuid, 'disk': device}) startlimit = (MAX_DISK_SIZE_MB_SUPPORTED_BY_MBR - MAX_CONFIG_DRIVE_SIZE_MB - 1) endlimit = MAX_DISK_SIZE_MB_SUPPORTED_BY_MBR - 1 utils.execute('parted', '-a', 'optimal', '-s', '--', device, 'mkpart', 'primary', 'fat32', startlimit, endlimit, run_as_root=True) # Trigger device rescan trigger_device_rescan(device) upd_parts = set(part['number'] for part in list_partitions(device)) new_part = set(upd_parts) - set(cur_parts) if len(new_part) != 1: raise exception.InstanceDeployFailure( _('Disk partitioning failed on device %(device)s. ' 'Unable to retrieve config drive partition information.') % {'device': device}) config_drive_part = partition_index_to_path(device, new_part.pop()) udev_settle() # NOTE(vsaienko): check that devise actually exists, # it is not handled by udevadm when using ISCSI, for more info see: # https://bugs.launchpad.net/ironic/+bug/1673731 # Do not use 'udevadm settle --exit-if-exist' here LOG.debug('Waiting for the config drive partition %(part)s ' 'on node %(node)s to be ready for writing.', {'part': config_drive_part, 'node': node_uuid}) utils.execute('test', '-e', config_drive_part, attempts=15, delay_on_retry=True) dd(confdrive_file, config_drive_part) LOG.info(""Configdrive for node %(node)s successfully "" ""copied onto partition %(part)s"", {'node': node_uuid, 'part': config_drive_part}) except (processutils.UnknownArgumentError, processutils.ProcessExecutionError, OSError) as e: msg = (_('Failed to create config drive on disk %(disk)s ' 'for node %(node)s. Error: %(error)s') % {'disk': device, 'node': node_uuid, 'error': e}) LOG.error(msg) raise exception.InstanceDeployFailure(msg) finally: # If the configdrive was requested make sure we delete the file # after copying the content to the partition if confdrive_file: utils.unlink_without_raise(confdrive_file)",2,1534
openstack%2Fpython-tripleoclient~master~I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1,openstack/python-tripleoclient,master,I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1,Don't download configs twice for --setup-only,MERGED,2021-05-26 05:47:23.000000000,2021-06-06 21:32:25.000000000,2021-06-06 21:31:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-26 05:47:23.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4243df7de1310439a6ab1574929327e0cf3554bf', 'message': ""Don't download configs twice for --setup-only\n\nAlso fixes to download the contents to the consistent\nworking directory by default.\n\nChange-Id: I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1\n""}]",0,793100,4243df7de1310439a6ab1574929327e0cf3554bf,9,4,1,8833,,,0,"Don't download configs twice for --setup-only

Also fixes to download the contents to the consistent
working directory by default.

Change-Id: I33944b3d21a4448a5d89f6d5f1bf539f0b7c9cd1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/793100/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,4243df7de1310439a6ab1574929327e0cf3554bf,," default=None, if parsed_args.config_download: if not parsed_args.config_download_only: if not parsed_args.setup_only: deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.make_config_download_dir(config_download_dir, parsed_args.stack) deployment.config_download( self.log, self.clients, stack, parsed_args.overcloud_ssh_network, config_download_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks) else: config_dir = parsed_args.config_dir or config_download_dir"," default=os.path.join( constants.CLOUD_HOME_DIR, 'tripleo-config' ), if parsed_args.config_download or parsed_args.setup_only: if not parsed_args.config_download_only and \ not parsed_args.setup_only: deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.make_config_download_dir(config_download_dir, parsed_args.stack) deployment.config_download( self.log, self.clients, stack, parsed_args.overcloud_ssh_network, config_download_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ), forks=parsed_args.ansible_forks, setup_only=parsed_args.setup_only ) if parsed_args.setup_only: config_dir = os.path.abspath(parsed_args.config_dir) # Run admin authorize deployment.get_hosts_and_enable_ssh_admin( stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type ) ",32,67
openstack%2Fpython-tripleoclient~master~I2638192fb8e4aeb8b22f054bd65690261fc4ccfa,openstack/python-tripleoclient,master,I2638192fb8e4aeb8b22f054bd65690261fc4ccfa,Fix backup/restore file name for ephemeral heat,MERGED,2021-05-31 09:22:29.000000000,2021-06-06 21:09:03.000000000,2021-06-06 21:07:41.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-31 09:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3552ba1fe697d46c6a45dfaff7d8b156667162f8', 'message': 'Fix backup/restore file name for ephemeral heat\n\nWe seem to be using different names for db backups.\n\nChange-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa\n'}, {'number': 2, 'created': '2021-05-31 09:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45bd8b58ed0114662944c4ae5f7195cd1764f751', 'message': 'Fix backup/restore file name for ephemeral heat\n\nWe seem to be using different name when restoring.\n\nChange-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa\n'}, {'number': 3, 'created': '2021-06-03 12:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0d7dcad055002c795dd06001c5901cef6a640747', 'message': 'Fix backup/restore file name for ephemeral heat\n\nWe seem to be using different name when restoring.\n\nChange-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa\n'}, {'number': 4, 'created': '2021-06-03 12:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/faa6648a4179ececfc77cd79941b42930bc96ea6', 'message': 'Fix backup/restore file name for ephemeral heat\n\nWe seem to be using different name when restoring.\n\nChange-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa\n'}, {'number': 5, 'created': '2021-06-03 13:01:44.000000000', 'files': ['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/899f86285f58da280a226f653fe74f7bb1c3f76f', 'message': 'Fix backup/restore file name for ephemeral heat\n\nWe seem to be using different name when restoring.\n\nChange-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa\n'}]",9,793746,899f86285f58da280a226f653fe74f7bb1c3f76f,21,4,5,8833,,,0,"Fix backup/restore file name for ephemeral heat

We seem to be using different name when restoring.

Change-Id: I2638192fb8e4aeb8b22f054bd65690261fc4ccfa
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/793746/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,3552ba1fe697d46c6a45dfaff7d8b156667162f8,fix_ephemeral," tf_name = '{}-{}{}'.format(file_path, self.timestamp, self.zipped_db_suffix) '{}-*{}'.format (self.db_dump_path,"," tf_name = '{}-{}.tar.bzip2'.format(file_path, self.timestamp) '{}/heat-db-dump*{}'.format (self.heat_dir,",4,3
openstack%2Fvalidations-libs~master~Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7,openstack/validations-libs,master,Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7,Paths no longer contain double '/',MERGED,2021-01-20 15:09:45.000000000,2021-06-06 21:08:54.000000000,2021-06-06 21:07:37.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 31245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-20 15:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/133138b992c7d59086c590e6d1e14a30d3a98376', 'message': ""Paths no longer contain double '/'\n\nPaths created trough formatted string included double '/'.\nWhile still parsable, and as far as I know posix valid,\nit is nonetheless a bit confusing.\n\nThis change merely removes one of the '/',\nresulting in path that is just as valid, just easier on the eye.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7\n""}, {'number': 2, 'created': '2021-02-25 08:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/567a5f150f5ba07e6883e553228b635d5314f9c6', 'message': ""Paths no longer contain double '/'\n\nPaths created trough formatted string included double '/'.\nWhile still parsable, and as far as I know posix valid,\nit is nonetheless a bit confusing.\n\nThis change merely removes one of the '/',\nresulting in path that is just as valid, just easier on the eye.\n\nTests were adjusted to check against new path constant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7\n""}, {'number': 3, 'created': '2021-03-15 12:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/047a385b2b579ef478f3fd562bf857b1efe3d4d8', 'message': ""Paths no longer contain double '/'\n\nPaths created trough formatted string included double '/'.\nWhile still parsable, and as far as I know posix valid,\nit is nonetheless a bit confusing.\n\nThis change merely removes one of the '/',\nresulting in path that is just as valid, just easier on the eye.\n\nTests were adjusted to check against new path constant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7\n""}, {'number': 4, 'created': '2021-03-15 12:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2c6326031a72bb04d5115baef5a9fbb4232f6e68', 'message': ""Paths no longer contain double '/'\n\nPaths created trough formatted string included double '/'.\nWhile still parsable, and as far as I know posix valid,\nit is nonetheless a bit confusing.\n\nThis change merely removes one of the '/',\nresulting in path that is just as valid, just easier on the eye.\n\nTests were adjusted to check against new path constant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7\n""}, {'number': 5, 'created': '2021-05-31 05:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ca0e457b9b72d1060a4c7ca8bbc4d0a13d3f5e1d', 'message': ""Paths no longer contain double '/'\n\nPaths created trough formatted string included double '/'.\nWhile still parsable, and as far as I know posix valid,\nit is nonetheless a bit confusing.\n\nThis change merely removes one of the '/',\nresulting in path that is just as valid, just easier on the eye.\n\nTests were adjusted to check against new path constant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7\n""}, {'number': 6, 'created': '2021-05-31 07:35:19.000000000', 'files': ['validations_libs/constants.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ea125c171521d94259d5bc959cdf1f2aabeb117b', 'message': ""Paths no longer contain double '/'\n\nPaths created trough formatted string included double '/'.\nWhile still parsable, and as far as I know posix valid,\nit is nonetheless a bit confusing.\n\nThis change merely removes one of the '/',\nresulting in path that is just as valid, just easier on the eye.\n\nTests were adjusted to reflect the change.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7\n""}]",0,771656,ea125c171521d94259d5bc959cdf1f2aabeb117b,32,6,6,32926,,,0,"Paths no longer contain double '/'

Paths created trough formatted string included double '/'.
While still parsable, and as far as I know posix valid,
it is nonetheless a bit confusing.

This change merely removes one of the '/',
resulting in path that is just as valid, just easier on the eye.

Tests were adjusted to reflect the change.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic6bf6d0a02bead00c0e3c5a858476cf5f7c0d2a7
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/56/771656/3 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,133138b992c7d59086c590e6d1e14a30d3a98376,constants/doubleslash,DEFAULT_VALIDATIONS_BASEDIR = '/usr/share/ansible'VALIDATIONS_LOG_BASEDIR = '/var/log/validations',DEFAULT_VALIDATIONS_BASEDIR = '/usr/share/ansible/'VALIDATIONS_LOG_BASEDIR = '/var/log/validations/',2,2
openstack%2Fhorizon~stable%2Fvictoria~I10102ce506ee7ee60e6cb50f5950f556132366e3,openstack/horizon,stable/victoria,I10102ce506ee7ee60e6cb50f5950f556132366e3,Imported Translations from Zanata,MERGED,2021-06-05 06:45:51.000000000,2021-06-06 20:56:22.000000000,2021-06-06 20:55:05.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-05 06:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8f79c81b34357628ec97e8e61cf23d4b27c3fc5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I10102ce506ee7ee60e6cb50f5950f556132366e3\n'}, {'number': 2, 'created': '2021-06-06 06:43:11.000000000', 'files': ['openstack_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f230afdbc870e1e8f5ae1516bc153c7d037c9e4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I10102ce506ee7ee60e6cb50f5950f556132366e3\n'}]",0,794954,7f230afdbc870e1e8f5ae1516bc153c7d037c9e4,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I10102ce506ee7ee60e6cb50f5950f556132366e3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/794954/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/es/LC_MESSAGES/django.po'],1,c8f79c81b34357628ec97e8e61cf23d4b27c3fc5,zanata/translations,"""POT-Creation-Date: 2021-06-04 10:52+0000\n""""PO-Revision-Date: 2021-06-04 10:28+0000\n""msgid """" ""\n"" "" If a snapshot is specified here only the specified snapshot of the volume\n"" "" will be backed up.\n"" "" </p>\n"" "" "" msgstr """" ""\n"" "" Si se especifica una instantnea aqu, solo se respaldar la instantnea\n"" "" de volumen.\n"" "" </p>"" msgid """" ""\n"" "" If no container name is provided, a default container named volumebackups\n"" "" will be provisioned for you.\n"" "" Backups will be the same size as the volume they originate from.\n"" "" "" msgstr """" ""\n"" ""Si no se porporciona el nombre de un contenedor, un contenedor "" ""predeterminado de nombre\n"" "" volumebackups ser aprovisionado.\n"" "" Las copias de seguridad sern del mismo tamao que el volumen que las "" ""origine.\n"" "" "" msgid """" ""\n"" "" Volume Backups are stored using one of cinder-backup drivers\n"" "" (object storage service, Ceph, NFS, etc ...).\n"" "" You must have one of these services activated in order to create a "" ""backup.\n"" "" "" msgstr """" ""\n"" ""Las copias de seguridad de volumen se almacenan usando uno de los "" ""controladores de cinder\n"" "" (object storage service, Ceph, NFS, etc ...).\n"" "" Debe tener uno de estos servicios activados para crear una copia de "" ""seguridad.\n"" "" "" msgid ""%(role)s (through group %(group)s)"" msgstr ""%(role)s (through group %(group)s)"" #, python-formatmsgid ""(No IP address)"" msgstr ""(Sin direcciones IP)"" msgid ""1 (icmp) should be specified for IPv4 instead of 58."" msgstr ""Para IPv4 debe especificarse 1 (icmp) en lugar de 58."" msgid ""58 (ipv6-icmp) should be specified for IPv6 instead of 1."" msgstr ""Para IPv6 debe especificarse 58 (ipv6-icmp) en lugar de 1."" msgid """" ""<b>Warning:</b> If you change security groups here, the change will be "" ""applied to all interfaces of the instance. If you have multiple interfaces "" ""on this instance and apply different security groups per port, use \""Edit "" ""Port Security Groups\"" action instead."" msgstr """" ""<b>Advertencia:</b> Si cambia los grupos de seguridad aqu, el cambio se "" ""aplicar a todas las interfaces de la instancia. Si tiene mltiples "" ""interfaces en esta instancia y aplica diferentes grupos de seguridad por "" ""puerto, use la accin \""Editar grupos de seguridad por puerto\"" en su lugar."" #, python-format msgid ""<span class='word-wrap'>Flavor Details: %(name)s</span>\"">%(name)s"" msgstr ""<span class='word-wrap'>Detalles del sabor: %(name)s</span>\"">%(name)s"" msgid ""A brief description of the security group rule you are adding"" msgstr ""Una breve descripcin del grupo de seguridad que est aadiendo"" msgid ""Add Rule (Quota exceeded)"" msgstr ""Agregar regla"" msgid """" ""Add volume types to this group. Multiple volume types can be added to the "" ""same group only if they are associated with same back end."" msgstr """" ""Aadir tipos de volmenes a este grupo. Se pueden aadir mltiples tipos de "" ""volmenes al mismo grupo solo si estn asociados al mismo \""back end\""."" msgid """" ""Add/remove volumes to/from this group. Only volumes associated with the "" ""volume type(s) assigned to this group will be available for selection."" msgstr """" ""Aadir/quitar volmenes desde/a este grupo. Solo se podrn seleccionar los "" ""volmenes asociados con este tipo(s) de volumen asignado a este grupo."" msgid ""Age (Seconds)"" msgstr ""Edad (segundos)"" msgctxt ""Current status of Volume Group"" msgid ""Available"" msgstr ""Disponible"" msgctxt ""Current status of Volume Group Snapshot"" msgid ""Available"" msgstr ""Disponible"" msgid ""Backup Snapshot"" msgstr ""Instantnea de copia de seguridad"" msgstr ""Bloqueada""msgid ""Clone Group"" msgstr ""Clonar grupo"" #, python-format msgid ""Cloning volume group \""%s\""."" msgstr ""Clonando el grupo de volmenes \""%s\""."" msgid ""Confirm"" msgstr ""Confirmar"" msgstr ""Rota""msgid ""Create Group Snapshot"" msgstr ""Crear instantnea de grupo"" msgctxt ""Action log of an instance"" msgid ""Create Image"" msgstr ""Crear imagen"" msgid ""Create Volume Group"" msgstr ""Crear grupo de volmenes"" msgid """" ""Create a Group that will contain newly created volumes cloned from each of "" ""the snapshots in the source Group Snapshot."" msgstr """" ""Crear un grupo que contendr volmenes nuevos clonados desde cada instancia "" ""en el grupo origen de instantneas."" msgid ""Created At"" msgstr ""Creado en"" msgid ""Creating group \""%s\""."" msgstr ""Creando grupo \""%s\""."" #, python-format msgid ""Creating group snapshot \""%s\""."" msgstr ""Creando instantnea de grupo \""%s\""."" #, python-formatmsgid ""DNS Domain"" msgstr ""Dominio DNS"" msgctxt ""Current status of Volume Group"" msgid ""Deleting"" msgstr ""Borrando"" #, python-format msgid ""Deleting volume group \""%s\"""" msgstr ""Borrando el grupo de volmenes \""%s\"""" msgid ""Deprecated Settings"" msgstr ""Ajustes obsoletos"" msgid ""Deprecated settings: {}."" msgstr ""Ajustes obsoletos: {}."" msgid ""Disassociate floating IP"" msgstr ""Desasociar IP flotante"" msgid ""Edit Port Security Groups"" msgstr ""Editar grupos de seguridad por puerto"" msgctxt ""Current status of Volume Group"" msgid ""Error"" msgstr ""Error"" msgctxt ""Current status of Volume Group Snapshot"" msgid ""Error"" msgstr ""Error"" msgid ""Errors occurred in deleting group."" msgstr ""Ha habido errores al borrar el grupo."" msgid ""Errors occurred in removing volumes from group."" msgstr ""Ha habido errores al borrar volmenes del grupo."" msgid ""Event Id"" msgstr ""Id de evento"" msgstr ""Errnea""msgid ""Failed to add route"" msgstr ""No se ha podido aadir la ruta"" msgid ""Failed to check if description field is supported."" msgstr """" ""Ha ocurrido un fallo al comprobar si el campo descripcin est soportado."" msgid ""Failed to create network \""%s\""."" msgstr ""Ha ocurrido un fallo al crear red \""%s\""."" #, python-formatmsgid ""Failed to create router."" msgstr ""Ha fallado la creacin del router."" #, python-format msgid ""Failed to create subnet \""%(sub)s\"" for network \""%(net)s\""."" msgstr """" ""Ha ocurrido un fallo al crear la subred \""%(sub)s\"" de la red \""%(net)s\""."" #, python-format msgid ""Failed to create subnet \""%(sub)s\""."" msgstr ""Ha ocurrido un fallo al crear la subred \""%(sub)s\""."" msgid ""Failed to get attached volume."" msgstr ""Ha ocurrido un error al obtener el volumen asociado."" msgid ""Failed to get instance interfaces."" msgstr ""Ha ocurrido un error al obtener las interfaces de la instancia."" msgid ""Failed to set gateway."" msgstr ""Ha ocurrido un fallo al establecer la puerta de enlace."" #, python-format msgid ""Failed to update subnet \""%s\""."" msgstr ""Ha fallado la actualizacin de la subred \""%s\""."" msgid ""Group Name"" msgstr ""Nombre de grupo"" msgid """" ""Group which the new volume belongs to. Choose 'No group' if the new volume "" ""belongs to no group."" msgstr """" ""Grupo al que pertenece el nuevo volumen. Seleccion 'sin grupo' si el nuevo "" ""volumen no pertenece a ningn grupo."" msgid ""Guaranteed Until"" msgstr ""Garantizado hasta"" msgstr[0] ""Reiniciar instancia de manera forzada"" msgstr[1] ""Reiniciar instancias de manera forzada""msgstr ""Reinicio forzado iniciado""msgstr[0] ""Instancia reiniciada forzadamente"" msgstr[1] ""Instancias reiniciadas forzadamente""msgid ""Has Snapshots"" msgstr ""Tiene instantneas"" ""IP address of Gateway (e.g. 192.168.0.254) If you do not want to use a "" ""gateway, check 'Disable Gateway' below."" msgstr """" ""Direccin IP de la puerta de enlace (por ejemplo, 192.168.0.254). Si no "" ""desea utilizar una puerta de enlace, consulte 'Desactivar puerta de enlace' "" ""a continuacin."" msgid """"msgid ""If checked, the port will be enabled."" msgstr ""Si se marca, el puerto estar habilitado."" msgid ""If checked, the router will be enabled."" msgstr ""Si se marca el router estar habilitado."" msgid ""If checked, the selected floating IP will be released at the same time."" msgstr ""Si se marca, la IP flotante seleccionada ser liberada a la vez."" msgctxt ""Current status of Volume Group"" msgid ""In-use"" msgstr ""En uso"" msgctxt ""Current status of Volume Group Snapshot"" msgid ""In-use"" msgstr ""En uso"" msgid ""Key Pair Type"" msgstr ""Tipo de par de clave"" msgid ""Key Type"" msgstr ""Tipo de clave"" msgid ""Launch Index"" msgstr ""ndice de lanzamiento"" msgctxt ""Action log of an instance"" msgid ""Lock"" msgstr ""Bloquear"" msgstr ""Gestionar asociaciones""msgid ""Message Level"" msgstr ""Nivel de mensaje"" msgctxt ""Action log of an instance"" msgid ""Migrate"" msgstr ""Migrar"" msgid ""Missing required settings: {}."" msgstr ""Ajustes obligatorios que faltan: {}."" msgid ""Multiattach volumes are not yet supported."" msgstr ""No estn soportados an los volmenes multiasociados."" msgid ""No group"" msgstr ""Sin grupo"" msgid ""No snapshot for this volume"" msgstr ""Este volumen no tienen instantneas"" msgid ""Password Expires At"" msgstr ""La contrasea caduca en"" msgid ""Password is locked."" msgstr ""La contrasea est bloqueada."" msgstr ""Pausando""msgid ""Quota exceeded for creating snapshots"" msgstr ""Se ha superado la cuota para crear instantneas"" msgstr ""Reconstruir el mapeo del dispositivo de bloques""msgstr ""Reconstruir generacin""msgid ""Remove Volumes from Group"" msgstr ""Eliminar volmenes del grupo"" #, python-format msgid ""Removing volumes from volume group \""%s\"""" msgstr ""Eliminando volmenes del grupo de volmenes \""%s\"""" msgid ""Required Settings"" msgstr ""Ajustes obligatorios"" msgctxt ""Action log of an instance"" msgid ""Rescue"" msgstr ""Rescatar"" msgid ""Reservation ID"" msgstr ""ID reserva"" msgid ""Role assignments"" msgstr ""Asignaciones de rol"" msgid ""SSH Key"" msgstr ""Clave SSH"" msgid ""Select a floating IP to disassociate"" msgstr ""Seleccionar IP flotante a desasociar"" msgid ""Select group type"" msgstr ""Seleccionar tipo de grupo"" msgid ""Select snapshot to backup (Optional)"" msgstr ""Seleccione instantnea a respaldar (opcional)"" msgid ""Select the floating IP to be disassociated from the instance."" msgstr ""Seleccione la IP flotante a desasociar de la instancia."" msgctxt ""Action log of an instance"" msgid ""Shelve"" msgstr ""Almacenar"" msgstr[0] ""Almacenar Instancia"" msgstr[1] ""Almacenar Instancias""msgstr[0] ""Instancia almacenada"" msgstr[1] ""Instancias almacenadas""msgstr ""Almacenando""msgstr ""Imagen almacenada pendiente de subir""msgstr ""Subiendo imagen almacenada""msgstr ""Almacenando""msgstr ""Apagada""msgstr ""Apagada""msgstr ""Borrando (soft)""msgstr[0] ""Instancia reiniciada"" msgstr[1] ""Instancias reiniciadas""msgid ""Specify network address"" msgstr ""Especificar direccin de red"" msgid ""Successfully disassociated and released floating IP %s"" msgstr ""Se ha desasociado y liberado correctamente la IP flotante %s"" #, python-format msgid ""Successfully disassociated floating IP %s"" msgstr ""Se ha desasociado correctamente la IP flotante %s"" #, python-formatmsgid ""Successfully rescued instance"" msgstr ""Instancia rescatada correctamente"" msgid ""The new type must be different from the current volume type."" msgstr ""El nuevo tipo debe ser diferente del tipo de volumen actual."" msgid ""The output format"" msgstr ""Formato de salida"" msgid ""The specified floating IP no longer exists."" msgstr ""Ya no existe la IP flotante especificada."" msgid ""Unable to clone empty group."" msgstr ""No ha sido posible clonar un grupo vaco."" msgid ""Unable to clone group."" msgstr ""No ha sido posible clonar el grupo."" #, python-format msgid ""Unable to confirm resize instance \""%s\""."" msgstr ""No se ha podido confirmar la redimensin de la instancia \""%s\""."" #, python-format msgid ""Unable to create group \""%s\"" from snapshot."" msgstr ""No se ha posido crear el grupo \""%s\"" desde instantnea."" msgid ""Unable to create group due to exceeding volume quota limit."" msgstr """" ""No ha sido posible crear el grupo debido a que excede el lmite de la cuota "" ""de volmenes."" msgid ""Unable to create group snapshot."" msgstr ""No ha sido posible crear instantnea de grupo."" msgid ""Unable to create snapshot. group must contain volumes."" msgstr """" ""No ha sido posible crear instantnea. El grupo debe contener volmenes."" #, python-format msgid ""Unable to disassociate floating IP %s"" msgstr ""No ha sido posible desasociar la IP flotante %s"" msgid ""Unable to display role assignment through groups."" msgstr ""No ha sido posible mostrar los grupos para este usuario."" msgid ""Unable to display the groups of this user."" msgstr ""No fue posible obtener la informacin del usuario."" msgid ""Unable to display the role assignments of this user."" msgstr ""No ha sido posible mostrar las asignaciones de rol para este usuario."" msgid ""Unable to fetch snapshot"" msgstr ""No ha sido posible obtener la instantnea"" msgid ""Unable to fetch snapshots"" msgstr ""No ha sido posible obtener las instantneas"" msgid ""Unable to load the specified group."" msgstr ""No ha sido posible cargar el grupo especificado."" msgid ""Unable to rescue instance"" msgstr ""No ha sido posible rescatar la instancia"" msgid ""Unable to retrieve a list of external networks."" msgstr ""No ha sido posible obtener una lista de redes externas."" msgid ""Unable to retrieve community images."" msgstr ""No ha sido posible obtener las imgenes de comunidad."" msgid ""Unable to retrieve group"" msgstr ""No ha sido posible obtener el grupo"" msgid ""Unable to retrieve group details."" msgstr ""No ha sido posible obtener los detalles del grupo."" msgid ""Unable to retrieve group information."" msgstr ""No ha sido posible obtener la informacin del grupo."" msgid ""Unable to retrieve group snapshot details."" msgstr ""No ha sido posible obtener los detalles de la instantnea de grupo."" msgid ""Unable to retrieve group."" msgstr ""No se ha podido obtener el grupo."" msgid ""Unable to retrieve snapshot messages."" msgstr ""No ha sido posible obtener los mensajes de la instantnea."" msgid ""Unable to retrieve the volume group list."" msgstr ""No se ha podido obtener la lista de grupos de volmenes."" msgid ""Unable to retrieve user domain."" msgstr ""No ha sido posible obtener el dominio de usuario."" msgid ""Unable to retrieve volume groups"" msgstr ""No se han podido obtener los grupos de volmenes."" msgid ""Unable to retrieve volumes."" msgstr ""No ha sido posible obtener los volmenes."" #, python-format msgid ""Unable to revert resize instance \""%s\""."" msgstr ""No ha se ha podido revertir la redimensin de la instancia \""%s\""."" msgid ""Unable to update instance security group."" msgstr ""No se ha podido actualizar el grupo de seguridad de la instancia."" msgid ""Unable to update volume group."" msgstr ""No ha sido posible actualizar el grupo de volmenes."" msgid ""Unknown Settings"" msgstr ""Ajustes desconocidos"" msgid ""Unknown settings: {}."" msgstr ""Ajustes desconocidos: {}."" msgctxt ""Action log of an instance"" msgid ""Unlock"" msgstr ""Desbloquear"" msgctxt ""Action log of an instance"" msgid ""Unrescue"" msgstr ""Arrancar tras rescatar"" msgid ""Unrescue Instance"" msgid_plural ""Unrescue Instances"" msgstr[0] ""Arrancar instancia rescatada"" msgstr[1] ""Arrancar instancias rescatadas"" msgid ""Unrescued Instance"" msgid_plural ""Unrescued Instances"" msgstr[0] ""Instancia rescatada arrancada"" msgstr[1] ""Instancias rescatadas arrancadas"" msgstr ""Saliendo de modo rescate""msgctxt ""Action log of an instance"" msgid ""Unshelve"" msgstr ""Restaurar almacenada"" msgstr[0] ""Restaurar instancia almacenada"" msgstr[1] ""Restaurar instancias almacenadas""msgstr[0] ""Instancia almacenada restaurada"" msgstr[1] ""Instancias almacenadas restauradas""msgstr ""Restaurando instancia almacenada""msgctxt ""Current status of Volume Group"" msgid ""Updating"" msgstr ""Actualizando"" msgid ""Updating volume group \""%s\"""" msgstr ""Actualizando grupo de volmenes \""%s\"""" #, python-formatmsgid ""Use a group as source"" msgstr ""Utilice un grupo como origen"" msgid ""User Data"" msgstr ""Datos de usuario"" msgid ""User Message"" msgstr ""Mensaje de usuario"" msgid ""X509 Certificate"" msgstr ""Certificado X509"" ","""POT-Creation-Date: 2021-05-25 18:32+0000\n""""PO-Revision-Date: 2021-06-03 07:48+0000\n""msgstr ""Bloqueado""msgstr ""Estrellado""msgstr ""Errneo""msgstr[0] ""Reiniciar inmediatamente instancia"" msgstr[1] ""Reiniciar inmediatamente instancias""msgstr ""Rearrancado en fro iniciado""msgstr[0] ""Instancia de Reiniciado Duro"" msgstr[1] ""Instancias de Reiniciado Duro""msgstr ""Administrar asociaciones""msgstr ""Ponindose en pausa""msgstr ""Reconstruyendo el mapeo del dispositivo de bloques""msgstr ""Reconstruyendo la semilla""msgstr[0] ""Aislar Instancia"" msgstr[1] ""Aislar Instancias""msgstr[0] ""Instancia Aislada"" msgstr[1] ""Instancias Aisladas""msgstr ""Posponiendo""msgstr ""Imagen pospuesta pendiente de cargar""msgstr ""Posponiendo carga de imagen""msgstr ""Posponiendo descarga""msgstr ""Cerrar""msgstr ""Apagado""msgstr ""Borrado no definitivo""msgstr[0] ""Instancia de Reiniciado Suave"" msgstr[1] ""Instancias de Reiniciado Suave""msgstr ""Cancelando rescate""msgstr[0] ""Recuperar Instancia"" msgstr[1] ""Recuperar Instancias""msgstr[0] ""Instancia Recuperada"" msgstr[1] ""Instancias Recuperadas""msgstr ""Desunir""",541,33
openstack%2Fpython-tripleoclient~master~I3d277cdefda431d08fd8fbc103b53304ea44eb29,openstack/python-tripleoclient,master,I3d277cdefda431d08fd8fbc103b53304ea44eb29,Remove references to tripleo-validations legacy directory,MERGED,2021-06-02 05:18:04.000000000,2021-06-06 19:44:03.000000000,2021-06-06 19:43:01.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-02 05:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0dd8e6ce88a78c218d6e1551ead3de107d8a2d39', 'message': ""Remove references to tripleo-validations legacy directory\n\n'/usr/share/openstack-tripleo-validations' doesn't exist anymore since\nTrain. Tripleo-validations installs its bits in '/usr/share/ansible/'.\nIt is now quite safe to remove the references to this legacy directory.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I3d277cdefda431d08fd8fbc103b53304ea44eb29\n""}, {'number': 2, 'created': '2021-06-02 05:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3a8c7543c5cf6e1557d5f529cd95054025add7e9', 'message': ""Remove references to tripleo-validations legacy directory\n\n'/usr/share/openstack-tripleo-validations' doesn't exist anymore since\nTrain. Tripleo-validations installs its bits in '/usr/share/ansible/'.\nIt is now quite safe to remove the references to this legacy directory.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I3d277cdefda431d08fd8fbc103b53304ea44eb29\n""}, {'number': 3, 'created': '2021-06-02 06:55:35.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2b8d55e31e6d46041a180d05b0fcd035c462a75c', 'message': ""Remove references to tripleo-validations legacy directory\n\n'/usr/share/openstack-tripleo-validations' doesn't exist anymore since\nTrain. Tripleo-validations installs its bits in '/usr/share/ansible/'.\nIt is now quite safe to remove the references to this legacy directory.\n\n**Note**\nThis patch will be applied to master and stable/wallaby only. This logic\nwill be kept as is for stable/train like this directory may still be\npresent during an upgrade.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I3d277cdefda431d08fd8fbc103b53304ea44eb29\n""}]",12,794117,2b8d55e31e6d46041a180d05b0fcd035c462a75c,24,7,3,11491,,,0,"Remove references to tripleo-validations legacy directory

'/usr/share/openstack-tripleo-validations' doesn't exist anymore since
Train. Tripleo-validations installs its bits in '/usr/share/ansible/'.
It is now quite safe to remove the references to this legacy directory.

**Note**
This patch will be applied to master and stable/wallaby only. This logic
will be kept as is for stable/train like this directory may still be
present during an upgrade.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I3d277cdefda431d08fd8fbc103b53304ea44eb29
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/794117/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/utils.py']",2,0dd8e6ce88a78c218d6e1551ead3de107d8a2d39,remove_tripleo-validations_legacy_dir, constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR," constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR",8,25
openstack%2Fvalidations-common~master~Ie0796b1dcb8beacc08755fa04ff3cd4dd884ef59,openstack/validations-common,master,Ie0796b1dcb8beacc08755fa04ff3cd4dd884ef59,Renamed variable to something more illuminating.,MERGED,2021-01-25 10:03:03.000000000,2021-06-06 19:12:18.000000000,2021-06-06 19:11:16.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-25 10:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c1e64a3d5ffdcd5079bef7cde9d5065191349acb', 'message': ""Renamed variable to something more illuminating.\n\nThe variable storing start time of playbook run was named 't0'.\nWhile perfecly fine from a functional standpoint,\nand also in statistics and physics with subscript,\nit is nonetheless a bit hard on the eye.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie0796b1dcb8beacc08755fa04ff3cd4dd884ef59\n""}, {'number': 2, 'created': '2021-06-02 20:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/80be9e5ee2d819632dcd0699e068b9d3824bde8f', 'message': ""Renamed variable to something more illuminating.\n\nThe variable storing start time of playbook run was named 't0'.\nWhile perfecly fine from a functional standpoint,\nand also in statistics and physics with subscript,\nit is nonetheless a bit hard on the eye.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie0796b1dcb8beacc08755fa04ff3cd4dd884ef59\n""}, {'number': 3, 'created': '2021-06-03 06:41:11.000000000', 'files': ['validations_common/callback_plugins/validation_stdout.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'validations_common/tests/callback_plugins/test_validation_json.py', 'validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2e3e7f3f2bc5aada5a899b107d930f34cae14814', 'message': ""Renamed variable to something more illuminating.\n\nThe variable storing start time of playbook run was named 't0'.\nWhile perfecly fine from a functional standpoint,\nand also in statistics and physics with subscript,\nit is nonetheless a bit hard on the eye.\n\nTests were adjusted to reflect new var name.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie0796b1dcb8beacc08755fa04ff3cd4dd884ef59\n""}]",0,772282,2e3e7f3f2bc5aada5a899b107d930f34cae14814,16,6,3,32926,,,0,"Renamed variable to something more illuminating.

The variable storing start time of playbook run was named 't0'.
While perfecly fine from a functional standpoint,
and also in statistics and physics with subscript,
it is nonetheless a bit hard on the eye.

Tests were adjusted to reflect new var name.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie0796b1dcb8beacc08755fa04ff3cd4dd884ef59
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/82/772282/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/callback_plugins/validation_stdout.py', 'validations_common/callback_plugins/validation_json.py']",2,c1e64a3d5ffdcd5079bef7cde9d5065191349acb,style/inittimevar, self.start_time = None self.start_time = time.time() time_elapsed = secondsToStr(time.time() - self.start_time), self.t0 = None self.t0 = time.time() time_elapsed = secondsToStr(time.time() - self.t0),4,4
openstack%2Fvalidations-libs~master~Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4,openstack/validations-libs,master,Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4,Improved log path handling,MERGED,2021-06-04 05:17:51.000000000,2021-06-06 18:49:15.000000000,2021-06-06 18:48:07.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-04 05:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0c3f3d7b4b623c6f421abb69cc7a33e66455ed11', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}, {'number': 2, 'created': '2021-06-04 05:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/93ddc2ee397b0e6476c9c528b1185fdc08ddf1ff', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nutils.py contains new test function to detect and log\nwhen validations logs are stored in volatile /tmp.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}, {'number': 3, 'created': '2021-06-04 05:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/190ba2acd0fb5b99cbd3561c2196c0cc1f6ccfeb', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}, {'number': 4, 'created': '2021-06-04 05:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9b261470cb18c780159af30e8b70de44e701941d', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}, {'number': 5, 'created': '2021-06-04 06:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f45102f09398c15bdcbb3c9159e8f58185e97051', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}, {'number': 6, 'created': '2021-06-04 11:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a55390c21e20434e15ddeb6eba1b23850bc93f49', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}, {'number': 7, 'created': '2021-06-04 12:03:54.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/constants.py', 'validations_libs/validation_actions.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f2830c52446b1bd57383e91e6eb3da84cfdab1c7', 'message': 'Improved log path handling\n\nValidations logging now has several documented fallbacks.\nconstants.py now includes constant default path,\nin order to improve readability and provide reference.\n\nTests are included.\n\nComplementary patch for validations_commons callbacks\nis optional, as the behavior should stay largely the same.\n\nCo-Authored-By: mbu <mat.bultel@gmail.com>\nChange-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4\n'}]",0,794706,f2830c52446b1bd57383e91e6eb3da84cfdab1c7,21,7,7,32926,,,0,"Improved log path handling

Validations logging now has several documented fallbacks.
constants.py now includes constant default path,
in order to improve readability and provide reference.

Tests are included.

Complementary patch for validations_commons callbacks
is optional, as the behavior should stay largely the same.

Co-Authored-By: mbu <mat.bultel@gmail.com>
Change-Id: Iab5f246f22fa6998ea6cec578eec6ebb5de13ad4
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/06/794706/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/test_utils.py', 'validations_libs/constants.py', 'validations_libs/validation_actions.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py']",5,0c3f3d7b4b623c6f421abb69cc7a33e66455ed11,logpath/cli," def test_validation_skip_validation(self, mock_validation_play): @mock.patch('validations_libs.utils.current_time', return_value='time') @mock.patch('validations_libs.utils.uuid.uuid4', return_value='123') @mock.patch('validations_libs.utils.os.makedirs') @mock.patch('validations_libs.utils.os.path.exists', return_value=True) def test_validation_skip_on_specific_host(self, mock_ansible_run, mock_validation_play, mock_exists, mock_makedirs, mock_uuid, mock_time): 'workdir': '/var/log/validations/artifacts/123_fake.yaml_time', 'ansible_artifact_path': '/var/log/validations/artifacts/123_fake.yaml_time', 'log_path': '/var/log/validations', log_path='/var/log/validations', @mock.patch('validations_libs.utils.current_time', return_value='time') @mock.patch('validations_libs.utils.uuid.uuid4', return_value='123') @mock.patch('validations_libs.utils.os.makedirs') @mock.patch('validations_libs.utils.os.path.exists', return_value=True) def test_validation_skip_with_limit_host(self, mock_ansible_run, mock_validation_play, mock_exists, mock_makedirs, mock_uuid, mock_time): 'workdir': '/var/log/validations/artifacts/123_fake.yaml_time', 'ansible_artifact_path': '/var/log/validations/artifacts/123_fake.yaml_time', 'log_path': '/var/log/validations', log_path='/var/log/validations', @mock.patch('validations_libs.validation_actions.ValidationLogs.get_results', side_effect=fakes.FAKE_SUCCESS_RUN) def test_validation_run_success(self, mock_ansible_run, mock_validation_dir, mock_results): expected_run_return = fakes.FAKE_SUCCESS_RUN[0] def test_validation_run_failed(self, mock_ansible_run, mock_validation_dir, mock_results): "," @mock.patch('validations_libs.utils.create_artifacts_dir', return_value=('1234', '/tmp/')) def test_validation_skip_validation(self, mock_validation_play, mock_tmp): @mock.patch('validations_libs.utils.create_artifacts_dir', return_value=('1234', '/tmp/')) def test_validation_skip_on_specific_host(self, mock_tmp, mock_ansible_run, mock_validation_play): 'workdir': '/tmp/', 'ansible_artifact_path': '/tmp/', 'log_path': None, @mock.patch('validations_libs.utils.create_artifacts_dir', return_value=('1234', '/tmp/')) def test_validation_skip_with_limit_host(self, mock_tmp, mock_ansible_run, mock_validation_play): 'workdir': '/tmp/', 'ansible_artifact_path': '/tmp/', 'log_path': None, @mock.patch('validations_libs.validation_logs.ValidationLogs.get_results') @mock.patch('validations_libs.utils.create_artifacts_dir', return_value=('1234', '/tmp/')) def test_validation_run_success(self, mock_tmp, mock_ansible_run, mock_validation_dir, mock_results): mock_results.return_value = [{'Duration': '0:00:01.761', 'Host_Group': 'overcloud', 'Status': 'PASSED', 'Status_by_Host': 'subnode-1,PASSED', 'UUID': 'foo', 'Unreachable_Hosts': '', 'Validations': 'ntp'}] expected_run_return = [{'Duration': '0:00:01.761', 'Host_Group': 'overcloud', 'Status': 'PASSED', 'Status_by_Host': 'subnode-1,PASSED', 'UUID': 'foo', 'Unreachable_Hosts': '', 'Validations': 'ntp'}] @mock.patch('validations_libs.utils.create_artifacts_dir', return_value=('1234', '/tmp/')) def test_validation_run_failed(self, mock_tmp, mock_ansible_run, mock_validation_dir, mock_results):",93,65
openstack%2Fpython-tripleoclient~master~Icba1345ce6ab9819ad5683c3227573fb961c7f0d,openstack/python-tripleoclient,master,Icba1345ce6ab9819ad5683c3227573fb961c7f0d,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 06:56:48.000000000,2021-06-06 17:48:10.000000000,2021-06-06 17:45:45.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b6ee9bfa0d450e4cad9fae7b6a7fd42bfe3abdd', 'message': 'Changed minversion in tox to 3.18.0\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n[2]: https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Icba1345ce6ab9819ad5683c3227573fb961c7f0d\n'}, {'number': 2, 'created': '2021-06-03 06:59:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3c66b09cd3375fb1568cfcbda752944e8863fabf', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Icba1345ce6ab9819ad5683c3227573fb961c7f0d\n""}]",0,794408,3c66b09cd3375fb1568cfcbda752944e8863fabf,10,3,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Icba1345ce6ab9819ad5683c3227573fb961c7f0d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/794408/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0b6ee9bfa0d450e4cad9fae7b6a7fd42bfe3abdd,update-min-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.2.0whitelist_externals = make,2,2
openstack%2Ftripleo-heat-templates~master~I6fac9ff39892c08453c050816f61a4bcee4bddf0,openstack/tripleo-heat-templates,master,I6fac9ff39892c08453c050816f61a4bcee4bddf0,Add param for RBD disk cache modes,MERGED,2021-05-21 08:04:56.000000000,2021-06-06 17:47:21.000000000,2021-06-06 17:45:54.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29268}]","[{'number': 1, 'created': '2021-05-21 08:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1381c5ade88840d30e9eeb0860b2729c09b41c88', 'message': 'Add param for RBD disk cache modes\n\nChange defaults to use writethrough. The writeback disk caching should\nnever be used since it leads to corrupted data. New parameter controls\nthe value that it takes in hiera.\n\nDepends-On: https://review.opendev.org/792326\nChange-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-05-21 08:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1cfeccdb4987760f4139c2ffac005e1878b8206', 'message': 'Add param for RBD disk cache modes\n\nChange defaults to use writethrough. The writeback disk caching should\nnever be used since it leads to corrupted data. New parameter controls\nthe value that it takes in hiera.\n\nDepends-On: https://review.opendev.org/792326\nChange-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-05-21 13:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e26e4a772294f923eda41b7e08286e5839c458e', 'message': 'Add param for RBD disk cache modes\n\nNew parameter to control RBD disk caching modes.\n\nDepends-On: https://review.opendev.org/792326\nChange-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-05-21 14:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0bea53cd9c7dba532337cbcd2272b601df18a48', 'message': 'Add param for RBD disk cache modes\n\nNew parameter to control RBD disk caching modes.\n\nDepends-On: https://review.opendev.org/792326\nChange-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-05-31 14:35:24.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/rbd-disk-cache-modes-284a73271741ea62.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a3cf6aa87ce5c4bcd9bc2713b7b2a86546bc450', 'message': 'Add param for RBD disk cache modes\n\nNew parameter to control RBD disk caching modes.\n\nDepends-On: https://review.opendev.org/792326\nChange-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,792534,8a3cf6aa87ce5c4bcd9bc2713b7b2a86546bc450,52,8,5,6926,,,0,"Add param for RBD disk cache modes

New parameter to control RBD disk caching modes.

Depends-On: https://review.opendev.org/792326
Change-Id: I6fac9ff39892c08453c050816f61a4bcee4bddf0
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/792534/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/rbd-disk-cache-modes-284a73271741ea62.yaml']",3,1381c5ade88840d30e9eeb0860b2729c09b41c88,,--- features: - | New parameter `RbdDiskCachemodes` allows to override the disk cache modes for RBD. Defaults to ['network = writethrough']. upgrade: - Disk cache modes for RBD changed from `writeback` to `writethrough` to mitigate possible data corruption that might happen upon a hypervisor abrupt shutdown or fencing action. ,,26,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia1a03cf798436b5f9865b527a8c742d13bbff180,openstack/tripleo-heat-templates,stable/ussuri,Ia1a03cf798436b5f9865b527a8c742d13bbff180,Disable tunnelled migration,MERGED,2021-06-03 14:59:35.000000000,2021-06-06 17:45:40.000000000,2021-06-06 17:45:40.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 14:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68a33039562b67ea302a8a48303a377d67f10d12', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 1a42c86ede12300c57459e6da567574272def5fa)\n(cherry picked from commit 5271a5b5a84aa887539e78289ab9cbc91a23607f)\n'}, {'number': 2, 'created': '2021-06-03 15:09:44.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76059627b8e815b923de580c9121a5b0bb45c7d3', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 0efd6f0679ca5b324e06843619aec780bc129715)\n(cherry picked from commit 069005186427fbcf2034e07dbcac96d8d81ea4c4)\n'}]",0,794615,76059627b8e815b923de580c9121a5b0bb45c7d3,19,6,2,27419,,,0,"Disable tunnelled migration

Tunnelled migration is not compatible with post_copy as pointed by the
related BZ. It was disabled up until we fixed the puppet namespace in
I845bc3c533e55dd5398d6a74ee48762cfd32b8a9

Closes-bug: 1930599
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1967130
Change-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180
(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)
(cherry picked from commit 0efd6f0679ca5b324e06843619aec780bc129715)
(cherry picked from commit 069005186427fbcf2034e07dbcac96d8d81ea4c4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/794615/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,68a33039562b67ea302a8a48303a377d67f10d12,, # TUNNELLED mode is not compatible with post_copy. nova::migration::libvirt::live_migration_tunnelled: false," enable_live_migration_tunnelled: and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration # TUNNELLED mode provides a security improvement for migration, but # can't be used in combination with block migration. So we only enable it # when shared storage is available (Ceph RDB is currently the only option). # See https://bugzilla.redhat.com/show_bug.cgi?id=1301986#c12 # In future versions of QEMU (2.6, mostly), danpb's native # encryption work will obsolete the need to use TUNNELLED transport # mode. nova::migration::libvirt::live_migration_tunnelled: if: - enable_live_migration_tunnelled - true - false",2,27
openstack%2Fceilometer~master~I02c97c74cd04be4d6273e90c1ffdb63eedd6cef8,openstack/ceilometer,master,I02c97c74cd04be4d6273e90c1ffdb63eedd6cef8,Add Python3 xena unit tests,MERGED,2021-03-22 09:28:02.000000000,2021-06-06 16:50:56.000000000,2021-06-06 16:49:04.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-22 09:28:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/01fae3c4711b8b7f751f1b9e779029451f3e085a', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I02c97c74cd04be4d6273e90c1ffdb63eedd6cef8\n'}]",0,782102,01fae3c4711b8b7f751f1b9e779029451f3e085a,17,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I02c97c74cd04be4d6273e90c1ffdb63eedd6cef8
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/02/782102/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,01fae3c4711b8b7f751f1b9e779029451f3e085a,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fceilometer~stable%2Ftrain~I00c994316653446748823867eb7c1a1ba5abfbea,openstack/ceilometer,stable/train,I00c994316653446748823867eb7c1a1ba5abfbea,[stable-only] Add font for PDF generation and fix lower constraints,MERGED,2021-06-06 06:32:07.000000000,2021-06-06 16:13:41.000000000,2021-06-06 16:12:26.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-06 06:32:07.000000000', 'files': ['requirements.txt', 'bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1d2abc85a4ecd831d451dda980c354b1337f7340', 'message': ""[stable-only] Add font for PDF generation and fix lower constraints\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nWith the new pip resolver (introduced in pip 20.3) the constraints\nchecking is now working better, thus reveals multiple constrain\nconflicts. This patch also fixes those problems:\n- no extra is allowed for constraints\n- futurist 1.8.0 depends on six>=1.10.0\n- keystoneauth1 3.9.0 depends on requests>=2.14.2\n- oslo.upgradecheck==0.1.1 was not listed among lower constraints\n\nConflicts:\n    lower-constraints.txt\n    requirements.txt\n\nChange-Id: I00c994316653446748823867eb7c1a1ba5abfbea\n(cherry picked from commit 418af55c7bb8446af5361bbdd0f24d62cabb2ef4)\n(cherry picked from commit ea7014ba6d67e6745e7feb7e93edd4e37d38966a)\n""}]",0,794973,1d2abc85a4ecd831d451dda980c354b1337f7340,7,2,1,17685,,,0,"[stable-only] Add font for PDF generation and fix lower constraints

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

With the new pip resolver (introduced in pip 20.3) the constraints
checking is now working better, thus reveals multiple constrain
conflicts. This patch also fixes those problems:
- no extra is allowed for constraints
- futurist 1.8.0 depends on six>=1.10.0
- keystoneauth1 3.9.0 depends on requests>=2.14.2
- oslo.upgradecheck==0.1.1 was not listed among lower constraints

Conflicts:
    lower-constraints.txt
    requirements.txt

Change-Id: I00c994316653446748823867eb7c1a1ba5abfbea
(cherry picked from commit 418af55c7bb8446af5361bbdd0f24d62cabb2ef4)
(cherry picked from commit ea7014ba6d67e6745e7feb7e93edd4e37d38966a)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/73/794973/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'bindep.txt', 'lower-constraints.txt']",3,1d2abc85a4ecd831d451dda980c354b1337f7340,missing-tgtermes.sty,oslo.upgradecheck==0.1.1requests==2.14.2six==1.10.0tooz==1.47.0,oslo.messaging[kafka]==6.2.0requests==2.8.1six==1.9.0tooz[zake]==1.47.0,9,6
openstack%2Fceilometer~stable%2Fvictoria~I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,openstack/ceilometer,stable/victoria,I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013,Cap tenacity < 7.0.0,MERGED,2021-03-29 06:15:11.000000000,2021-06-06 16:13:39.000000000,2021-06-06 16:12:29.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 06:15:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e953512dfb55fb435b7b75bba99dc2293c9168d5', 'message': 'Cap tenacity < 7.0.0\n\nhttps://github.com/jd/tenacity/pull/274/files removed code\nwhich was still in use.\n\nChange-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013\n(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)\n'}]",0,783601,e953512dfb55fb435b7b75bba99dc2293c9168d5,12,2,1,4264,,,0,"Cap tenacity < 7.0.0

https://github.com/jd/tenacity/pull/274/files removed code
which was still in use.

Change-Id: I8ac6684d9f03a48cc5dd3d712cbd2868b34e1013
(cherry picked from commit e7abc7070e9de182b7f4c5ae16e1d615f8d35c96)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/01/783601/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e953512dfb55fb435b7b75bba99dc2293c9168d5,victoria_tenacity,"tenacity>=4.12.0,<7.0.0 # Apache-2.0",tenacity>=4.12.0 # Apache-2.0,1,1
openstack%2Fhorizon~master~I03a5b8345ce41d4f61ac46314e0b7744da6954cb,openstack/horizon,master,I03a5b8345ce41d4f61ac46314e0b7744da6954cb,Imported Translations from Zanata,MERGED,2021-06-05 06:48:33.000000000,2021-06-06 14:51:50.000000000,2021-06-06 14:50:33.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-05 06:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/980a1aa4215d101aaafa0bb8214f4afe6141bd73', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I03a5b8345ce41d4f61ac46314e0b7744da6954cb\n'}, {'number': 2, 'created': '2021-06-06 06:49:11.000000000', 'files': ['openstack_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/09e57d6ebb9f9524f77a289a754f8c104fc7ca4d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I03a5b8345ce41d4f61ac46314e0b7744da6954cb\n'}]",0,794955,09e57d6ebb9f9524f77a289a754f8c104fc7ca4d,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I03a5b8345ce41d4f61ac46314e0b7744da6954cb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/794955/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/es/LC_MESSAGES/django.po'],1,980a1aa4215d101aaafa0bb8214f4afe6141bd73,zanata/translations,"""POT-Creation-Date: 2021-06-04 18:55+0000\n""""PO-Revision-Date: 2021-06-04 09:14+0000\n""msgstr ""No se ha podido aadir la ruta""msgstr[0] ""Reiniciar instancia de manera forzada"" msgstr[1] ""Reiniciar instancias de manera forzada""msgstr[0] ""Instancia reiniciada forzadamente"" msgstr[1] ""Instancias reiniciadas forzadamente""msgstr ""Apagada""msgstr ""Apagada""msgstr[0] ""Instancia reiniciada"" msgstr[1] ""Instancias reiniciadas""","""POT-Creation-Date: 2021-06-03 13:59+0000\n""""PO-Revision-Date: 2021-06-03 06:51+0000\n""msgstr ""Ha fallado el aadir el router""msgstr[0] ""Reiniciar inmediatamente instancia"" msgstr[1] ""Reiniciar inmediatamente instancias""msgstr[0] ""Instancia de Reiniciado Duro"" msgstr[1] ""Instancias de Reiniciado Duro""msgstr ""Apagar""msgstr ""Apagado""msgstr[0] ""Instancia de Reiniciado Suave"" msgstr[1] ""Instancias de Reiniciado Suave""",11,11
openstack%2Fmasakari~master~Ib6a47d24355ae2a5dd70a0cc60922c616bc4a191,openstack/masakari,master,Ib6a47d24355ae2a5dd70a0cc60922c616bc4a191,Add the functional job to periodic,MERGED,2021-06-05 13:13:42.000000000,2021-06-06 14:15:41.000000000,2021-06-06 14:13:51.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-05 13:13:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/47341efa8c0c32305db84a1f96671bd139291327', 'message': 'Add the functional job to periodic\n\nIt broke recently and we would benefit from sampling its health\nday to day.\n\nChange-Id: Ib6a47d24355ae2a5dd70a0cc60922c616bc4a191\n'}]",0,794958,47341efa8c0c32305db84a1f96671bd139291327,7,2,1,30491,,,0,"Add the functional job to periodic

It broke recently and we would benefit from sampling its health
day to day.

Change-Id: Ib6a47d24355ae2a5dd70a0cc60922c616bc4a191
",git fetch https://review.opendev.org/openstack/masakari refs/changes/58/794958/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,47341efa8c0c32305db84a1f96671bd139291327,ci-functional-periodic, periodic: jobs: - masakari-functional-devstack-multinode,,3,0
openstack%2Fmasakari~master~I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e,openstack/masakari,master,I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e,[CI] Fix the functional job,MERGED,2021-06-05 13:53:13.000000000,2021-06-06 13:45:32.000000000,2021-06-06 13:43:57.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-05 13:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae84b29d7199c2c12141923cd8884e409e952f2f', 'message': '[WIP] [CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nTODO: Lorem ipsum...\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}, {'number': 2, 'created': '2021-06-05 18:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3ba4d9fb3181b479b37eaa267877d3da80e9dd1e', 'message': '[WIP] [CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nTODO: Lorem ipsum...\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}, {'number': 3, 'created': '2021-06-05 19:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a56d8a7a4b23f3b786488f23231ef071b67c9927', 'message': '[WIP] [CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nTODO: Lorem ipsum...\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}, {'number': 4, 'created': '2021-06-06 10:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/baca8412762778916882cf0d466bc238f4f3e3b7', 'message': '[CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nIt cleans up the job definition to reuse defaults as\nmuch as possible.\nThe Swift (as previously) and Cinder (since now) are\ndisabled as they are irrelevant to Masakari.\n\nThis patch also turns off bindep (not useful in\nfunctional tests) and limits tox installation to\nthe controller node.\n\nThe DevStack insallation has been moved to the run\nphase to avoid wasting time on (pre stage) retries\nwhen Masakari fails to install via DevStack.\n\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}, {'number': 5, 'created': '2021-06-06 10:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0e4e674a00165cb7959f0962d334132105e5d24c', 'message': '[CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nIt cleans up the job definition to reuse defaults as\nmuch as possible.\nThe Swift (as previously) and Cinder (since now) are\ndisabled as they are irrelevant to Masakari.\n\nThis patch also turns off bindep (not useful in\nfunctional tests) and limits tox installation to\nthe controller node.\n\nThe DevStack insallation has been moved to the run\nphase to avoid wasting time on (pre stage) retries\nwhen Masakari fails to install via DevStack.\n\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}, {'number': 6, 'created': '2021-06-06 10:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f452abfec3092bc6f6260d1b9a681fc18c75f757', 'message': '[CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nIt cleans up the job definition to reuse defaults as\nmuch as possible to avoid similar issues in the future.\nThe Swift (as previously) and Cinder (since now) are\ndisabled as they are irrelevant to Masakari.\n\nThis patch also turns off bindep (not useful in\nfunctional tests) and limits tox installation to\nthe controller node (where it runs from).\n\nThe DevStack orchestration has been moved to the run\nphase to avoid wasting time on (pre stage) retries\nwhen Masakari fails to install via DevStack.\n\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}, {'number': 7, 'created': '2021-06-06 10:52:58.000000000', 'files': ['playbooks/devstack/pre.yaml', '.zuul.yaml', 'playbooks/devstack/run.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/3102b8af3eb50c669799aea9d644b6608b9c8c0d', 'message': '[CI] Fix the functional job\n\nMake it compatible with the DevStack switch to OVN.\n\nIt cleans up the job definition to reuse defaults as\nmuch as possible to avoid similar issues in the future.\nThe Swift (as previously) and Cinder (since now) are\ndisabled as they are irrelevant to Masakari.\n\nThis patch also turns off bindep (not useful in\nfunctional tests) and limits tox installation to\nthe controller node (where it runs from).\n\nThe DevStack orchestration has been moved to the ``run``\nphase to avoid wasting time on (``pre-run`` phase)\nretries when Masakari fails to install via DevStack.\n\nChange-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e\n'}]",0,794959,3102b8af3eb50c669799aea9d644b6608b9c8c0d,23,2,7,30491,,,0,"[CI] Fix the functional job

Make it compatible with the DevStack switch to OVN.

It cleans up the job definition to reuse defaults as
much as possible to avoid similar issues in the future.
The Swift (as previously) and Cinder (since now) are
disabled as they are irrelevant to Masakari.

This patch also turns off bindep (not useful in
functional tests) and limits tox installation to
the controller node (where it runs from).

The DevStack orchestration has been moved to the ``run``
phase to avoid wasting time on (``pre-run`` phase)
retries when Masakari fails to install via DevStack.

Change-Id: I70a10eb29e1fbef2786c2e7229aa2c615f6e5a5e
",git fetch https://review.opendev.org/openstack/masakari refs/changes/59/794959/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/pre.yaml', '.zuul.yaml', 'playbooks/devstack/run.yaml']",3,ae84b29d7199c2c12141923cd8884e409e952f2f,ci-functional-fix,"- hosts: all roles: - orchestrate-devstack - role: bindep bindep_profile: test bindep_dir: ""{{ zuul_work_dir }}"" - ensure-tox ",,13,109
openstack%2Ftripleo-heat-templates~master~Ieffe2852111c3ec8347343a042dd78bbf691d79a,openstack/tripleo-heat-templates,master,Ieffe2852111c3ec8347343a042dd78bbf691d79a,Allow customizing podman's [engine]/events_logger,MERGED,2021-06-03 13:47:41.000000000,2021-06-06 13:37:47.000000000,2021-06-06 13:37:47.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70ced830ba569853310672f61e5d48c0a9b49b79', 'message': 'WIP Allow changing events_logger\n\nDepends-On: I780103e17f1bb42a0546c30bd6c001c642ad88b3\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n'}, {'number': 2, 'created': '2021-06-03 13:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee545ca63d5141f7a3261cc99f0b145d7a79b70c', 'message': 'WIP Allow changing events_logger\n\nDepends-On: I780103e17f1bb42a0546c30bd6c001c642ad88b3\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n'}, {'number': 3, 'created': '2021-06-03 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5f267692c2708ebc57ca029393bda4e3868f2af', 'message': 'WIP Allow changing events_logger\n\nDepends-On: I780103e17f1bb42a0546c30bd6c001c642ad88b3\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n'}, {'number': 4, 'created': '2021-06-04 07:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31db48f61d1863a73c04e89d0547848db0661957', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: I780103e17f1bb42a0546c30bd6c001c642ad88b3\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n""}, {'number': 5, 'created': '2021-06-04 13:28:01.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ea2a6eb7c84682d49b50f1e087c64b7dce13103', 'message': ""Allow customizing podman's [engine]/events_logger\n\nIn I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the\njournald default for the events_logger key. With this change we\nallow to change this new default, in case we do need to change it\nfor some reason.\n\nRelated-Bug: #1923607\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794485\nChange-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a\n""}]",2,794592,4ea2a6eb7c84682d49b50f1e087c64b7dce13103,23,5,5,20172,,,0,"Allow customizing podman's [engine]/events_logger

In I780103e17f1bb42a0546c30bd6c001c642ad88b3 we introduced the
journald default for the events_logger key. With this change we
allow to change this new default, in case we do need to change it
for some reason.

Related-Bug: #1923607

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/794485
Change-Id: Ieffe2852111c3ec8347343a042dd78bbf691d79a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/794592/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,70ced830ba569853310672f61e5d48c0a9b49b79,events-logger," ContainerDefaultEventsLogger: type: string default: none description: Setting to configure where podman logs its events. constraints: - allowed_values: ['journald', 'file', 'none'] container_events_logger_mechanism: {get_param: ContainerDefaultEventsLogger} tripleo_container_events_logger_mechanism: ""{{ container_events_logger_mechanism }}""",,8,0
openstack%2Ftripleo-common~stable%2Fwallaby~I3773b5736a197915d50c6b68cd62a806c9570c38,openstack/tripleo-common,stable/wallaby,I3773b5736a197915d50c6b68cd62a806c9570c38,Remove xinetd from the mariadb container,MERGED,2021-06-05 15:21:50.000000000,2021-06-06 10:36:56.000000000,2021-06-06 10:35:42.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-05 15:21:50.000000000', 'files': ['container-images/tcib/base/mariadb/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/acead38016001e6f7c5e9f9431b5ec7eb1ca5cfd', 'message': 'Remove xinetd from the mariadb container\n\nVia I7d87b5861a576cf4849a25cd1d3f5e77568de1e4 ""Make clustercheck service\naccessible over socat"" we switched to using socat instead of xinetd for\nthe clustercheck.\n\nLet\'s remove it from the container and also make sure that socat is\nincluded explicitely in order to avoid surprises.\n\nRelated-Bug: #1928693\n\nChange-Id: I3773b5736a197915d50c6b68cd62a806c9570c38\n(cherry picked from commit fbc188ddbb5e97a2c9eb1a6a4d674ba95cabc8de)\n'}]",0,794947,acead38016001e6f7c5e9f9431b5ec7eb1ca5cfd,9,4,1,20172,,,0,"Remove xinetd from the mariadb container

Via I7d87b5861a576cf4849a25cd1d3f5e77568de1e4 ""Make clustercheck service
accessible over socat"" we switched to using socat instead of xinetd for
the clustercheck.

Let's remove it from the container and also make sure that socat is
included explicitely in order to avoid surprises.

Related-Bug: #1928693

Change-Id: I3773b5736a197915d50c6b68cd62a806c9570c38
(cherry picked from commit fbc188ddbb5e97a2c9eb1a6a4d674ba95cabc8de)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/47/794947/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/mariadb/mariadb.yaml'],1,acead38016001e6f7c5e9f9431b5ec7eb1ca5cfd,socat-stable/wallaby, - socat, - xinetd,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~Ia0baf8501884d9ed2324938c9acbb30d1687cf27,openstack/tripleo-common,stable/wallaby,Ia0baf8501884d9ed2324938c9acbb30d1687cf27,Fix config parsing in memcached healthcheck,MERGED,2021-06-04 07:44:11.000000000,2021-06-06 10:33:23.000000000,2021-06-06 10:32:12.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 07:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cc9ed55111fba10c4c55fed3589040a507fe015d', 'message': 'Fix config parsing in memcached healthcheck\n\nWhen memcached is configured to listen on multiple IP, or\nis configured with TLS-e, make sure the healthcheck parses\nthe right IP to connect to and its associated port.\n\nChange-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27\nCloses-Bug: #1929881\n'}, {'number': 2, 'created': '2021-06-04 08:09:19.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10ea69441d4d47d5da2daa771abe9d2f2664df06', 'message': 'Fix config parsing in memcached healthcheck\n\nWhen memcached is configured to listen on multiple IP, or\nis configured with TLS-e, make sure the healthcheck parses\nthe right IP to connect to and its associated port.\n\nChange-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27\nCloses-Bug: #1929881\n(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)\n'}]",0,794631,10ea69441d4d47d5da2daa771abe9d2f2664df06,13,4,2,20778,,,0,"Fix config parsing in memcached healthcheck

When memcached is configured to listen on multiple IP, or
is configured with TLS-e, make sure the healthcheck parses
the right IP to connect to and its associated port.

Change-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27
Closes-Bug: #1929881
(cherry picked from commit 3f84495b8f8dc0a20148dfa8eaaa22d750ada39d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/794631/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,cc9ed55111fba10c4c55fed3589040a507fe015d,bug/1929881-stable/wallaby,"# if memcached has TLS enabled, look for a notls ip entry in the options listen_addr=$(awk 'match($0, /notls:([0-9a-fA-F\.\:]+):11211[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) if [ -z ""$listen_addr"" ]; then # otherwise look for the first ip available among all the possible ones # passed to the -l option listen_addr=$(awk 'match($0, /-l +([0-9a-fA-F\.\:]+)[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) # get the configured memcached port or the default one port=$(awk -F= '$1==""PORT"" {gsub(/""/, """",$2); print $2}' /etc/sysconfig/memcached) port=${port:-11211} else # with TLS-e, TripleO always exposes the notls IP on port 11211 port=11211 fi listen_addr=$(wrap_ipv6 $listen_addr) echo ""version"" | socat - TCP:$listen_addr:$port 1>/dev/null","listen_addr=$(wrap_ipv6 $(awk 'match($0, /-l +([0-9a-fA-F\.\:]+) /, a) {print a[1]}' /etc/sysconfig/memcached)) echo ""version"" | socat - TCP:$listen_addr:11211 1>/dev/null",16,2
openstack%2Fmasakari~master~I34b34810333917cf50431df00fbbcc61bc7ea382,openstack/masakari,master,I34b34810333917cf50431df00fbbcc61bc7ea382,[CI] Update ignored-files,MERGED,2021-06-06 09:18:56.000000000,2021-06-06 10:33:03.000000000,2021-06-06 10:31:18.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-06 09:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a6a4feb4c7de5b9f5128321554a3ea359efac0ab', 'message': '[DNM] Test what jobs are going to get triggered\n\nChange-Id: I34b34810333917cf50431df00fbbcc61bc7ea382\n'}, {'number': 2, 'created': '2021-06-06 09:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/31889db8f7318fc142459aa22de10c979d2f6bd2', 'message': '[DNM] Test what jobs are going to get triggered\n\nChange-Id: I34b34810333917cf50431df00fbbcc61bc7ea382\n'}, {'number': 3, 'created': '2021-06-06 09:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b81460615cff9b54f31d087d39da9a02290ee77a', 'message': '[DNM] Test what jobs are going to get triggered\n\nChange-Id: I34b34810333917cf50431df00fbbcc61bc7ea382\n'}, {'number': 4, 'created': '2021-06-06 10:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e232f0c4f85b588fe3d7cffcb1eb86caff5f2f3f', 'message': '[CI] Update ignored-files\n\nFixes the functional job to ignore all *.rst files\nas it should.\n\nChange-Id: I34b34810333917cf50431df00fbbcc61bc7ea382\n'}, {'number': 5, 'created': '2021-06-06 10:06:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/fb0d8f73af2e80afb045208d686be387372b6924', 'message': '[CI] Update ignored-files\n\nFixes the functional job to ignore all *.rst files\nas it should.\nZuul currently always matches at the beginning of\nthe string (i.e., implicit ^).\n\nChange-Id: I34b34810333917cf50431df00fbbcc61bc7ea382\n'}]",0,794985,fb0d8f73af2e80afb045208d686be387372b6924,13,2,5,30491,,,0,"[CI] Update ignored-files

Fixes the functional job to ignore all *.rst files
as it should.
Zuul currently always matches at the beginning of
the string (i.e., implicit ^).

Change-Id: I34b34810333917cf50431df00fbbcc61bc7ea382
",git fetch https://review.opendev.org/openstack/masakari refs/changes/85/794985/3 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,a6a4feb4c7de5b9f5128321554a3ea359efac0ab,, test,,2,0
openstack%2Ftripleo-heat-templates~master~I4423fcbd62b09ef323590fc740dd29e1a17777f5,openstack/tripleo-heat-templates,master,I4423fcbd62b09ef323590fc740dd29e1a17777f5,Fix cinder's cephx keyring file permissions,MERGED,2021-06-02 21:05:06.000000000,2021-06-06 08:08:59.000000000,2021-06-06 08:08:59.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-02 21:05:06.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1cd8006fec9f3f68cee21fc2139fb985b0b1fac', 'message': ""Fix cinder's cephx keyring file permissions\n\nThis patch updates cinder's kolla permissions so that cinder can\naccess any cephx keyring associated with CephExternalMultiConfig\nceph clusters. The new approach parses the cluster names out of the\nCephExternalMultiConfig array, and uses a wildcard to grant access\nto all keys (regardless of the key name) defined for each cluster.\nThere is no risk of the wildcard granting improper access to a\nprivileged key (e.g. the admin key), because CephExternalMultiConfig\ndoesn't include privileged keys.\n\nThis patch replaces similar (but more restrictive) code added in\nI73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder\nto access cephx keyrings associated with a new CinderRbdMultiConfig\nparameter, but it didn't cover all potential use cases. For example,\nin a DCN/Edge deployment, cinder services running at the edge need\naccess to the central site's client key in order to perform operations\nlike offline volume migration.\n\nCloses-Bug: #1930620\nResolves: rhbz#1962304\nChange-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5\n""}]",1,794341,f1cd8006fec9f3f68cee21fc2139fb985b0b1fac,13,6,1,21129,,,0,"Fix cinder's cephx keyring file permissions

This patch updates cinder's kolla permissions so that cinder can
access any cephx keyring associated with CephExternalMultiConfig
ceph clusters. The new approach parses the cluster names out of the
CephExternalMultiConfig array, and uses a wildcard to grant access
to all keys (regardless of the key name) defined for each cluster.
There is no risk of the wildcard granting improper access to a
privileged key (e.g. the admin key), because CephExternalMultiConfig
doesn't include privileged keys.

This patch replaces similar (but more restrictive) code added in
I73af5b868de629870a35d38f8436e7025aae791e. That patch allowed cinder
to access cephx keyrings associated with a new CinderRbdMultiConfig
parameter, but it didn't cover all potential use cases. For example,
in a DCN/Edge deployment, cinder services running at the edge need
access to the central site's client key in order to perform operations
like offline volume migration.

Closes-Bug: #1930620
Resolves: rhbz#1962304
Change-Id: I4423fcbd62b09ef323590fc740dd29e1a17777f5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/794341/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,f1cd8006fec9f3f68cee21fc2139fb985b0b1fac,cinder-cephx-perms," CephExternalMultiConfig: hidden: true List of maps describing extra overrides which will be applied when configuring extra external Ceph clusters. If this list is non-empty, ceph-ansible will run an extra count(list) times using the same parameters as the first run except each parameter within each map will override the defaults. If the following were used, the second run would configure the overcloud to also use the ceph2 cluster with all the previous parameters except /etc/ceph/ceph2.conf would have a mon_host entry containing the value of external_cluster_mon_ips below, and not the default CephExternalMonHost. Subsequent ceph-ansible runs are restricted to just ceph clients. CephExternalMultiConfig may not be used to deploy additional internal Ceph clusters within one Heat stack. The map for each list should contain not tripleo-heat-template parameters but ceph-ansible parameters. - cluster: 'ceph2' fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' external_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" dashboard_enabled: false default: [] path: /etc/ceph/<%cluster%>.client.*.keyring <%cluster%>: yaql: expression: $.data.multiconfig.select($.cluster) data: multiconfig: {get_param: CephExternalMultiConfig}"," CinderRbdMultiConfig: default: {} Dictionary of settings when configuring multiple RBD backends. The hash key is the backend name, and the value is a dictionary of parameter values unique to that backend. The following parameters are required, and must match the corresponding value defined in CephExternalMultiConfig. CephClusterName (must match the CephExternalMultiConfig entry's 'cluster') CephClusterFSID (must match the CephExternalMultiConfig entry's 'fsid') The following parameters are optional, and override the corresponding parameter's default value. CephClientUserName CinderRbdPoolName CinderRbdExtraPools CinderRbdAvailabilityZone CinderRbdFlattenVolumeFromSnapshot path: /etc/ceph/<%keyring%> <%keyring%>: yaql: expression: let(u => $.data.default_user) -> $.data.multiconfig.values().select(""{0}.client.{1}.keyring"".format($.CephClusterName, $.get(""CephClientUserName"", $u))) data: default_user: {get_param: CephClientUserName} multiconfig: {get_param: CinderRbdMultiConfig}",30,20
openstack%2Fneutron~stable%2Frocky~I98e55242d381ada642ca0729e9aefdea7628c945,openstack/neutron,stable/rocky,I98e55242d381ada642ca0729e9aefdea7628c945,Fix update of trunk subports during live migration,MERGED,2021-02-11 09:00:11.000000000,2021-06-06 07:34:11.000000000,2021-06-06 07:34:11.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 09:00:11.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d570871e57f6d65c1eedad902754aa098a942829', 'message': 'Fix update of trunk subports during live migration\n\nDuring the live migration trunk subports where updated only based\non the ""host_id"" field. But when rpc message to update subports\nis send trunk\'s port is still bound to the old host and has\n""migrating_to"" field in binding:profile set to the new host.\nBecause of that binding:host_id for the subport\'s port wasn\'t updated\nproberly and port was set to DOWN on the new host.\nThat could even cause connectivity break if L2population is used in the\ncloud.\n\nThis patch fixes that by updating subport\'s binding:host_id field based\non the migrating_to field if that is available and not empty.\n\nCloses-Bug: #1914747\nChange-Id: I98e55242d381ada642ca0729e9aefdea7628c945\n(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)\n'}]",0,775103,d570871e57f6d65c1eedad902754aa098a942829,116,3,1,11975,,,0,"Fix update of trunk subports during live migration

During the live migration trunk subports where updated only based
on the ""host_id"" field. But when rpc message to update subports
is send trunk's port is still bound to the old host and has
""migrating_to"" field in binding:profile set to the new host.
Because of that binding:host_id for the subport's port wasn't updated
proberly and port was set to DOWN on the new host.
That could even cause connectivity break if L2population is used in the
cloud.

This patch fixes that by updating subport's binding:host_id field based
on the migrating_to field if that is available and not empty.

Closes-Bug: #1914747
Change-Id: I98e55242d381ada642ca0729e9aefdea7628c945
(cherry picked from commit e05101c8ac953cc2823b35aaed3d499afc101988)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/775103/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,d570871e57f6d65c1eedad902754aa098a942829,bug/1914747-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky," def test_update_subport_bindings_during_migration(self): with self.port() as _parent_port: parent_port = _parent_port trunk = self._create_test_trunk(parent_port) subports = [] for vid in range(0, 3): with self.port() as new_port: obj = trunk_obj.SubPort( context=self.context, trunk_id=trunk['id'], port_id=new_port['port']['id'], segmentation_type='vlan', segmentation_id=vid) subports.append(obj) expected_calls = [ mock.call( mock.ANY, subport['port_id'], {'port': {portbindings.HOST_ID: 'new_trunk_host_id', 'device_owner': constants.TRUNK_SUBPORT_OWNER}}) for subport in subports] test_obj = server.TrunkSkeleton() test_obj._trunk_plugin = self.trunk_plugin test_obj._core_plugin = self.core_plugin port_data = { portbindings.HOST_ID: 'trunk_host_id', portbindings.PROFILE: {'migrating_to': 'new_trunk_host_id'}} with mock.patch.object( self.core_plugin, ""get_port"", return_value=port_data), \ mock.patch.object( test_obj, ""_safe_update_trunk""): test_obj.update_subport_bindings(self.context, subports=subports) for expected_call in expected_calls: self.assertIn(expected_call, self.mock_update_port.mock_calls) ",,43,0
openstack%2Fneutron~stable%2Fwallaby~Iffb6643359562487414460f5a7e19a7fae9f935c,openstack/neutron,stable/wallaby,Iffb6643359562487414460f5a7e19a7fae9f935c,[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses,MERGED,2021-05-14 14:39:42.000000000,2021-06-06 06:47:49.000000000,2021-06-06 06:46:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a03452629a36ff74878582586ffa885d0be91dd5', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 2, 'created': '2021-06-04 15:08:09.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb746e2ca454885ba5cf653493b9bb0e91480759', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}]",0,791464,cb746e2ca454885ba5cf653493b9bb0e91480759,84,3,2,11975,,,0,"[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses

Neighbor Advertisments are used to inform other machines of the MAC
address to use to reach an IPv6. This commits prevents VMs from
pretending they are assigned IPv6 they should not use.

It also prevents sending UDP packets with spoofed IP or MAC even using
DHCP(v6) request ports.

Co-authored-by: David Sinquin <david.sinquin@gandi.net>

Closes-bug: #1902917

Change-Id: Iffb6643359562487414460f5a7e19a7fae9f935c
(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/791464/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,a03452629a36ff74878582586ffa885d0be91dd5,bug/1902917-stable/wallaby," for icmp_type in agent_firewall.ICMPV6_RESTRICTED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, nd_target='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE)))",,61,24
openstack%2Fironic~master~I17337ed083e6133bfa1c30a1811c6ceb2d43510b,openstack/ironic,master,I17337ed083e6133bfa1c30a1811c6ceb2d43510b,API: Node Tags API,NEW,2021-05-28 08:36:51.000000000,2021-06-06 05:53:42.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 08:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0177db4283567278c276093cada92d6f502c2ddf', 'message': ""WIP:API: Node Tags API\n\nBumps the API microversion to 1.74.\n\nAdds basic CRUD on tags, including set and delete of individual tags.\n\nThis adss six APIs to manage node's tags:\n* GET /nodes/{node_uuid}/tags. Lists all tags for the node.\n* PUT /nodes/{node_uuid}/tags. Replaces all tags on specified node\n  with the new set of tags.\n* DELETE /nodes/{node_uuid}/tags. Deletes all tags from the specified\n  node.\n* PUT /nodes/{node_uuid}/tags/{tag}. Adds a single tag to the node.\n* DELETE /nodes/{node_uuid}/tags/{tag}. Deletes a single tag from\n\nPartial-Bug:#1526266\nChange-Id: I17337ed083e6133bfa1c30a1811c6ceb2d43510b\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\n""}, {'number': 2, 'created': '2021-05-28 11:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3db06bc04c376672fc750141b30f9efe3ce3a349', 'message': ""API: Node Tags API\n\nBumps the API microversion to 1.74.\n\nAdds basic CRUD on tags, including set and delete of individual tags.\n\nThis adss six APIs to manage node's tags:\n* GET /nodes/{node_uuid}/tags. Lists all tags for the node.\n* PUT /nodes/{node_uuid}/tags. Replaces all tags on specified node\n  with the new set of tags.\n* DELETE /nodes/{node_uuid}/tags. Deletes all tags from the specified\n  node.\n* PUT /nodes/{node_uuid}/tags/{tag}. Adds a single tag to the node.\n* DELETE /nodes/{node_uuid}/tags/{tag}. Deletes a single tag from\n\nPartial-Bug:#1526266\nChange-Id: I17337ed083e6133bfa1c30a1811c6ceb2d43510b\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\n""}, {'number': 3, 'created': '2021-06-01 08:49:16.000000000', 'files': ['ironic/tests/unit/common/test_release_mappings.py', 'ironic/tests/unit/objects/test_tag.py', 'ironic/objects/tag.py', 'ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/db/test_node_tags.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/conductor/rpcapi.py', 'ironic/conductor/manager.py', 'ironic/api/controllers/v1/versions.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/api/controllers/v1/node.py', 'ironic/db/api.py', 'ironic/objects/__init__.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/36b0f30d5d59042c58e19cdf4f99648ba100b488', 'message': ""API: Node Tags API\n\nBumps the API microversion to 1.74.\n\nAdds basic CRUD on tags, including set and delete of individual tags.\n\nThis adss six APIs to manage node's tags:\n* GET /nodes/{node_uuid}/tags. Lists all tags for the node.\n* PUT /nodes/{node_uuid}/tags. Replaces all tags on specified node\n  with the new set of tags.\n* DELETE /nodes/{node_uuid}/tags. Deletes all tags from the specified\n  node.\n* PUT /nodes/{node_uuid}/tags/{tag}. Adds a single tag to the node.\n* DELETE /nodes/{node_uuid}/tags/{tag}. Deletes a single tag from\n\nPartial-Bug:#1526266\nChange-Id: I17337ed083e6133bfa1c30a1811c6ceb2d43510b\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\n""}]",2,793573,36b0f30d5d59042c58e19cdf4f99648ba100b488,20,2,3,26580,,,0,"API: Node Tags API

Bumps the API microversion to 1.74.

Adds basic CRUD on tags, including set and delete of individual tags.

This adss six APIs to manage node's tags:
* GET /nodes/{node_uuid}/tags. Lists all tags for the node.
* PUT /nodes/{node_uuid}/tags. Replaces all tags on specified node
  with the new set of tags.
* DELETE /nodes/{node_uuid}/tags. Deletes all tags from the specified
  node.
* PUT /nodes/{node_uuid}/tags/{tag}. Adds a single tag to the node.
* DELETE /nodes/{node_uuid}/tags/{tag}. Deletes a single tag from

Partial-Bug:#1526266
Change-Id: I17337ed083e6133bfa1c30a1811c6ceb2d43510b
Signed-off-by: Armstrong Liu <vpbvmw651078@gmail.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/793573/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/tag.py', 'ironic/conductor/manager.py', 'ironic/api/controllers/v1/versions.py', 'ironic/db/sqlalchemy/api.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/api/controllers/v1/node.py', 'ironic/conductor/rpcapi.py', 'ironic/db/api.py', 'ironic/objects/__init__.py']",10,0177db4283567278c276093cada92d6f502c2ddf,bug/1526266, __import__('ironic.objects.tag'),,346,9
openstack%2Fmanila-tempest-plugin~master~Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8,openstack/manila-tempest-plugin,master,Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8,Setup snapshot extra specs only if required,MERGED,2021-04-08 06:25:10.000000000,2021-06-06 04:38:49.000000000,2021-06-06 04:38:49.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-04-08 06:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/18a8dc6fd844fe4dd430408b033359b6f57be8db', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-04-08 11:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/273c3ba64dff2e18669014af704c11aaf45e88c3', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-04-08 13:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/85efaa2eb812e938d67d4262f973ea2d0866f000', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-04-08 16:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a13e7646d2036fa6fcf1f684caa4dc155096c96e', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2021-04-08 18:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b7f0083fcaa0d7773593a3b973076dfaf50271a7', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2021-04-10 02:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/621303ba664a3f388a49348396184067d7ef8c81', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2021-04-21 13:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/86f1d3862fb67d80fe227ab67d8b7b3fad01497c', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2021-05-27 04:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6611b9d2ba8d66763585371feb0142f3c730ac39', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2021-05-27 06:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/aa0d9b397ff3fd198a23c307843cc433f3baef9b', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2021-05-31 07:10:46.000000000', 'files': ['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations.py', 'manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances_negative.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_shares_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b60fddac7f00824028e7f93678d3daaa62ea9adf', 'message': 'Setup snapshot extra specs only if required\n\nFor legacy reasons we always included snapshot_support\nand create_share_from_snapshot_support in all the\nshare types the tests created. These extra-specs are\nno different from any other optional extra-specs in\nmanila, atleast since API version 2.24 (snapshot_support\nwas ""implied""/""required"" until API version 2.23). 2.24\nis a really old version to support for tempest testing.\n\nSince we always use the latest API version to create the\nshare types necessary, we only ever need 1 required\nextra spec (driver_handles_share_servers) - lets supply\nthe rest only within tests that need to test snapshots\nand shares from snapshots.\n\nThis patch also adds missing skip decorators for share\ngroup tests that were testing snapshots.\n\nChange-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8\nRelated-Bug: #1922784\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",16,785307,b60fddac7f00824028e7f93678d3daaa62ea9adf,44,5,10,16643,,,0,"Setup snapshot extra specs only if required

For legacy reasons we always included snapshot_support
and create_share_from_snapshot_support in all the
share types the tests created. These extra-specs are
no different from any other optional extra-specs in
manila, atleast since API version 2.24 (snapshot_support
was ""implied""/""required"" until API version 2.23). 2.24
is a really old version to support for tempest testing.

Since we always use the latest API version to create the
share types necessary, we only ever need 1 required
extra spec (driver_handles_share_servers) - lets supply
the rest only within tests that need to test snapshots
and shares from snapshots.

This patch also adds missing skip decorators for share
group tests that were testing snapshots.

Change-Id: Ifaceab574e3242e44a9cf1bea77a4be9e505d8b8
Related-Bug: #1922784
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/07/785307/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations.py', 'manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances_negative.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_shares_negative.py']",28,18a8dc6fd844fe4dd430408b033359b6f57be8db,snapshot_extra_specs, extra_specs = {} if CONF.share.capability_snapshot_support: extra_specs.update({'snapshot_support': True}) if CONF.share.capability_create_share_from_snapshot_support: extra_specs.update({'create_share_from_snapshot_support': True}) cls.share_type = cls._create_share_type(specs=extra_specs), cls.share_type = cls._create_share_type(),235,109
openstack%2Fpython-tripleoclient~stable%2Fussuri~I57b43a550d8baf23add7794150e1f8591f756275,openstack/python-tripleoclient,stable/ussuri,I57b43a550d8baf23add7794150e1f8591f756275,BnR added error msg in case there is no inventory,MERGED,2021-05-26 11:53:08.000000000,2021-06-06 02:37:01.000000000,2021-06-06 02:35:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 11:53:08.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7cda9f185345ca6561e902ba94bbb71c628de17c', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}]",0,793047,7cda9f185345ca6561e902ba94bbb71c628de17c,16,2,1,22954,,,0,"BnR added error msg in case there is no inventory

Currently both the undercloud backup and the overcloud backup
dont show any error msg when the inventory file does not exit.

This patch adds an error msg in case the inventory file does not exit

Change-Id: I57b43a550d8baf23add7794150e1f8591f756275
(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/793047/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py']",4,7cda9f185345ca6561e902ba94bbb71c628de17c,bnr_inventory_check-stable/wallaby-stable/victoria-stable/ussuri," if not (os.path.isfile(parsed_args.inventory) and os.access(parsed_args.inventory, os.R_OK)): raise RuntimeError( _('The inventory file {} does not exist or is not ' 'readable'.format(parsed_args.inventory))) ",,204,28
openstack%2Fvalidations-libs~master~I72524eeb3fc1ac0f384dcef25de61089ff15f67f,openstack/validations-libs,master,I72524eeb3fc1ac0f384dcef25de61089ff15f67f,Override cliff command parser to handle argparser conflict_handler,MERGED,2021-06-03 16:46:09.000000000,2021-06-06 02:37:00.000000000,2021-06-06 02:35:47.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-03 16:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/21f2f389183cfedb4d752944c6150f68623555f4', 'message': ""Override cliff command parser to handle argarser conflict_handler\n\nThe argparse conflict_handler is hardcoded in Cliff, this patch\noverride the command.Command().get_parser from Cliff in order\nto change the value.\n\nThe conflict_handler from argparse is important for the VF because\nit's allow callers to override VF CLI args.\n\nChange-Id: I72524eeb3fc1ac0f384dcef25de61089ff15f67f\n""}, {'number': 2, 'created': '2021-06-03 21:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9ba9c9ce623f35e3a6597397ab19770ce7961435', 'message': ""Override cliff command parser to handle argarser conflict_handler\n\nThe argparse conflict_handler is hardcoded in Cliff, this patch\noverride the command.Command().get_parser from Cliff in order\nto change the value.\n\nThe conflict_handler from argparse is important for the VF because\nit's allow callers to override VF CLI args.\n\nChange-Id: I72524eeb3fc1ac0f384dcef25de61089ff15f67f\n""}, {'number': 3, 'created': '2021-06-03 21:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9d9f68afa1d41f2cc2e5f00902b266c33a6f17c9', 'message': ""Override cliff command parser to handle argarser conflict_handler\n\nThe argparse conflict_handler is hardcoded in Cliff, this patch\noverride the command.Command().get_parser from Cliff in order\nto change the value.\n\nThe conflict_handler from argparse is important for the VF because\nit's allow callers to override VF CLI args.\n\nChange-Id: I72524eeb3fc1ac0f384dcef25de61089ff15f67f\n""}, {'number': 4, 'created': '2021-06-04 09:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9c4ca16583574343b8bd254c84f636e37a414fe5', 'message': ""Override cliff command parser to handle argarser conflict_handler\n\nThe argparse conflict_handler is hardcoded in Cliff, this patch\noverride the command.Command().get_parser from Cliff in order\nto change the value.\n\nThe conflict_handler from argparse is important for the VF because\nit's allow callers to override VF CLI args.\n\nChange-Id: I72524eeb3fc1ac0f384dcef25de61089ff15f67f\n""}, {'number': 5, 'created': '2021-06-04 10:15:17.000000000', 'files': ['validations_libs/cli/base.py', 'validations_libs/cli/history.py', 'validations_libs/cli/run.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/29b147e431e101f4de82e01bc2634a08b290bde2', 'message': ""Override cliff command parser to handle argparser conflict_handler\n\nThe argparse conflict_handler is hardcoded in Cliff, this patch\noverride the command.Command().get_parser from Cliff in order\nto change the value.\n\nThe conflict_handler from argparse is important for the VF because\nit's allow callers to override VF CLI args.\n\nChange-Id: I72524eeb3fc1ac0f384dcef25de61089ff15f67f\n""}]",7,794638,29b147e431e101f4de82e01bc2634a08b290bde2,24,4,5,16515,,,0,"Override cliff command parser to handle argparser conflict_handler

The argparse conflict_handler is hardcoded in Cliff, this patch
override the command.Command().get_parser from Cliff in order
to change the value.

The conflict_handler from argparse is important for the VF because
it's allow callers to override VF CLI args.

Change-Id: I72524eeb3fc1ac0f384dcef25de61089ff15f67f
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/38/794638/3 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/base.py', 'validations_libs/cli/run.py']",2,21f2f389183cfedb4d752944c6150f68623555f4,conflict/handler,from validations_libs.cli.base import BaseCommandclass Run(BaseCommand):,from cliff.command import Command class Run(Command):,38,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id6a1ab51041a3cd870449399b6793c10bbb1fdca,openstack/tripleo-heat-templates,stable/victoria,Id6a1ab51041a3cd870449399b6793c10bbb1fdca,Unify cinder's volume and backup kolla_config settings,MERGED,2021-06-02 19:00:16.000000000,2021-06-05 23:31:27.000000000,2021-06-05 23:31:27.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 19:00:16.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51a9a07810b7bfb4a064d43ec1796aa764600477', 'message': ""Unify cinder's volume and backup kolla_config settings\n\nDefine a common set of kolla config_files and permissions for use by\ncinder's volume and backup services (both pcmk and non-pcmk variants).\nPreviously, there were four different sets and some of them contained\nsubtle errors.\n\nChange-Id: Id6a1ab51041a3cd870449399b6793c10bbb1fdca\n(cherry picked from commit 8d38363a784cfaafddda9e4702dc2289324aea4f)\n""}]",0,794330,51a9a07810b7bfb4a064d43ec1796aa764600477,19,4,1,21129,,,0,"Unify cinder's volume and backup kolla_config settings

Define a common set of kolla config_files and permissions for use by
cinder's volume and backup services (both pcmk and non-pcmk variants).
Previously, there were four different sets and some of them contained
subtle errors.

Change-Id: Id6a1ab51041a3cd870449399b6793c10bbb1fdca
(cherry picked from commit 8d38363a784cfaafddda9e4702dc2289324aea4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/794330/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",5,51a9a07810b7bfb4a064d43ec1796aa764600477,cinder-kolla-config," CephClientUserName: default: openstack type: string CephClusterName: type: string default: ceph description: The Ceph cluster name. constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The Ceph cluster name must be at least 1 character and contain only letters and numbers. cinder_common_kolla_config_files: description: Common kolla config_files for cinder-volume and cinder-backup services value: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-ceph/"" dest: ""/etc/ceph/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-iscsid/*"" dest: ""/etc/iscsi/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true cinder_common_kolla_permissions: description: Common kolla permissions for cinder-volume and cinder-backup services value: - path: /var/log/cinder owner: cinder:cinder recurse: true - path: str_replace: template: /etc/ceph/CLUSTER.client.USER.keyring params: CLUSTER: {get_param: CephClusterName} USER: {get_param: CephClientUserName} owner: cinder:cinder perm: '0600' - path: /etc/pki/tls/certs/etcd.crt owner: cinder:cinder - path: /etc/pki/tls/private/etcd.key owner: cinder:cinder ",,60,133
openstack%2Fpuppet-panko~master~Ib197d48165a76ab26c3c2d1ad12375bb7795769a,openstack/puppet-panko,master,Ib197d48165a76ab26c3c2d1ad12375bb7795769a,"add parameter to specify wsgi script source and path, introduce hiera",ABANDONED,2020-10-23 17:42:43.000000000,2021-06-05 23:20:28.000000000,,"[{'_account_id': 7888}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-23 17:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/f2a182ff5ffd87a00aad19d9f48aba225416f078', 'message': 'add parameter to specify wsgi script source and path, introduce hiera\n\nAdd the parameters to sepcify wsgi script and source. The defaults per\nos-family are defined with hiera. The former default was defined in panko::params.\n\nFor transition the parameters are also added to the params class and\na hiera lookup in common.yaml ensures the same values as defined  for\nthe panko::wsgi::apache class.\n\nChange-Id: Ib197d48165a76ab26c3c2d1ad12375bb7795769a\n'}, {'number': 2, 'created': '2020-10-23 19:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/551999be3d70a0c1ebed8f9994548eb0efb67d5f', 'message': 'add parameter to specify wsgi script source and path, introduce hiera\n\nAdd the parameters to sepcify wsgi script and source. The defaults per\nos-family are defined with hiera. The former default was defined in panko::params.\n\nFor transition the parameters are also added to the params class and\na hiera lookup in common.yaml ensures the same values as defined  for\nthe panko::wsgi::apache class.\n\nChange-Id: Ib197d48165a76ab26c3c2d1ad12375bb7795769a\n'}, {'number': 3, 'created': '2020-10-23 22:00:51.000000000', 'files': ['data/common.yaml', 'manifests/wsgi/apache.pp', 'data/osfamily-RedHat.yaml', 'hiera.yaml', 'releasenotes/notes/fix_wsgi_source_path-88bf2e1d3b4f622a.yaml', 'manifests/params.pp', 'data/osfamily-Debian.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/1b33500d71f0498fa6906af19ad349e1fb2f5205', 'message': 'add parameter to specify wsgi script source and path, introduce hiera\n\nAdd the parameters to sepcify wsgi script and source. The defaults per\nos-family are defined with hiera. The former default was defined in panko::params.\n\nFor transition the parameters are also added to the params class and\na hiera lookup in common.yaml ensures the same values as defined  for\nthe panko::wsgi::apache class.\n\nChange-Id: Ib197d48165a76ab26c3c2d1ad12375bb7795769a\n'}]",3,759496,1b33500d71f0498fa6906af19ad349e1fb2f5205,10,3,3,7888,,,0,"add parameter to specify wsgi script source and path, introduce hiera

Add the parameters to sepcify wsgi script and source. The defaults per
os-family are defined with hiera. The former default was defined in panko::params.

For transition the parameters are also added to the params class and
a hiera lookup in common.yaml ensures the same values as defined  for
the panko::wsgi::apache class.

Change-Id: Ib197d48165a76ab26c3c2d1ad12375bb7795769a
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/96/759496/1 && git format-patch -1 --stdout FETCH_HEAD,"['data/common.yaml', 'manifests/wsgi/apache.pp', 'data/osfamily-RedHat.yaml', 'hiera.yaml', 'releasenotes/notes/fix_wsgi_source_path-88bf2e1d3b4f622a.yaml', 'manifests/params.pp', 'data/osfamily-Debian.yaml']",7,f2a182ff5ffd87a00aad19d9f48aba225416f078,fix_wsgi_source_path,--- # osfamily-Debian.yaml panko::wsgi::apache::wsgi_script_dir: '/usr/lib/cgi-bin/panko' panko::wsgi::apache::wsgi_script_source: '/usr/bin/panko-api' ,,51,7
openstack%2Ftripleo-ansible~master~I780103e17f1bb42a0546c30bd6c001c642ad88b3,openstack/tripleo-ansible,master,I780103e17f1bb42a0546c30bd6c001c642ad88b3,Add podman's events_logger option by default set to journald,MERGED,2021-06-03 09:08:16.000000000,2021-06-05 20:53:26.000000000,2021-06-05 20:53:26.000000000,"[{'_account_id': 9257}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-03 09:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/582a0cd2d4671128f47924aab529c9d3fedbbb37', 'message': 'WIP/DNM add event logger option\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n'}, {'number': 2, 'created': '2021-06-03 11:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/01a20b3b758e9251514f5b0f1c13c82e2f583753', 'message': 'WIP/DNM add event logger option\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n'}, {'number': 3, 'created': '2021-06-03 12:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a08b60bec9333ac335050b8efca3dd2cd05c787b', 'message': 'Add podman\'s events_logger option by default set to none\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box. So let\'s switch to the none backend for the events\nlogging. I do not believe we are using it these events for any\ndiagnostics anyways.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""none""\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n'}, {'number': 4, 'created': '2021-06-04 07:22:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f31bab878bfd3332c20a10bf9ca26d443028d214', 'message': 'Add podman\'s events_logger option by default set to journald\n\nBy default podman 3.0.x sets the [engine]/events_logger to ""file"".\nThis causes every exec in podman to create a line of text in\n/run/libpod/events/events.log like the following:\n\n  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}\n\nSince by default /run is mounted on tmpfs, this has the side-effect of\nincreasing kernel slab objects over time indefinitely eventually causing\nan OOM of the box.\n\nWe initially wanted to switch to the \'none\' backend, but the podman\nfolks recommended using the journald backend because events logs are\nused by podman in case of a rare race when running ""podman run --rm"".\nGiven that we call run with --rm from in a multithreaded fashion this\nseems to be the safest approach. The drawback of using journald is\nthat events won\'t be logged for rootless containers unless the user\nis part of the \'wheel\' group. We believe we\'re not using those\ncontainers in tripleo anyways, so this should be safe.\n\nTested by applying a backport of this patch to Train + podman 3.0.x and\ngot the following:\n[root@controller-0 containers]# ls -la /run/libpod/events/\ntotal 0\ndrwx------. 2 root root  40 Jun  3 11:55 .\ndrwxr-x--x. 5 root root 140 Jun  3 11:55 ..\n\n[root@controller-0 containers]# more /etc/containers/containers.conf\n[containers]\npids_limit = 4096\n[engine]\nevents_logger = ""journald""\n\nAlso tested the override via the corresponding THT change in\nIeffe2852111c3ec8347343a042dd78bbf691d79a.\n\nCloses-Bug: #1923607\n\nChange-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3\n'}]",0,794485,f31bab878bfd3332c20a10bf9ca26d443028d214,28,6,4,20172,,,0,"Add podman's events_logger option by default set to journald

By default podman 3.0.x sets the [engine]/events_logger to ""file"".
This causes every exec in podman to create a line of text in
/run/libpod/events/events.log like the following:

  {""ID"":""412b6770c0b418e6d49a4801e71a198ddb81bbbefdaf1c9aad4d7948f77910ee"",""Image"":""quay.io/centos/centos:latest"",""Name"":""leak-test-7"",""Status"":""exec"",""Time"":""2021-06-03T08:36:05.237964012Z"",""Type"":""container"",""Attributes"":{""org.label-schema.build-date"":""20201204"",""org.label-schema.license"":""GPLv2"",""org.label-schema.name"":""CentOS Base Image"",""org.label-schema.schema-version"":""1.0"",""org.label-schema.vendor"":""CentOS""}}

Since by default /run is mounted on tmpfs, this has the side-effect of
increasing kernel slab objects over time indefinitely eventually causing
an OOM of the box.

We initially wanted to switch to the 'none' backend, but the podman
folks recommended using the journald backend because events logs are
used by podman in case of a rare race when running ""podman run --rm"".
Given that we call run with --rm from in a multithreaded fashion this
seems to be the safest approach. The drawback of using journald is
that events won't be logged for rootless containers unless the user
is part of the 'wheel' group. We believe we're not using those
containers in tripleo anyways, so this should be safe.

Tested by applying a backport of this patch to Train + podman 3.0.x and
got the following:
[root@controller-0 containers]# ls -la /run/libpod/events/
total 0
drwx------. 2 root root  40 Jun  3 11:55 .
drwxr-x--x. 5 root root 140 Jun  3 11:55 ..

[root@controller-0 containers]# more /etc/containers/containers.conf
[containers]
pids_limit = 4096
[engine]
events_logger = ""journald""

Also tested the override via the corresponding THT change in
Ieffe2852111c3ec8347343a042dd78bbf691d79a.

Closes-Bug: #1923607

Change-Id: I780103e17f1bb42a0546c30bd6c001c642ad88b3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/794485/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,582a0cd2d4671128f47924aab529c9d3fedbbb37,events-logger," section: ""{{ item.section }}"" option: ""{{ item.option }}"" value: ""{{ item.value }}"" loop: - section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}"" - section: engine option: events_logger value: ""{{ tripleo_container_events_logger_mechanism }}"""," section: containers option: pids_limit value: ""{{ tripleo_container_default_pids_limit }}""",11,3
openstack%2Fironic-inspector~stable%2Fwallaby~I043fdd5b5582971e43211c9a860d6b28ca73dc4e,openstack/ironic-inspector,stable/wallaby,I043fdd5b5582971e43211c9a860d6b28ca73dc4e,[doc] Improvements in processing_hooks docs,MERGED,2021-06-04 13:37:54.000000000,2021-06-05 18:38:31.000000000,2021-06-05 18:37:22.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 13:37:54.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0d868c61fc26abc12bd57a31338a1471625b5986', 'message': '[doc] Improvements in processing_hooks docs\n\n* Emphasise that order matters.\n* Make order of LLDP-related hooks the recommended one.\n* Fix some related wording.\n* Mention IPA param requirements already in lldp_basic hook.\n\nChange-Id: I043fdd5b5582971e43211c9a860d6b28ca73dc4e\n(cherry picked from commit 1ba0849b6b726823711431409dc03a90fddbd376)\n'}]",0,794813,0d868c61fc26abc12bd57a31338a1471625b5986,9,2,1,30491,,,0,"[doc] Improvements in processing_hooks docs

* Emphasise that order matters.
* Make order of LLDP-related hooks the recommended one.
* Fix some related wording.
* Mention IPA param requirements already in lldp_basic hook.

Change-Id: I043fdd5b5582971e43211c9a860d6b28ca73dc4e
(cherry picked from commit 1ba0849b6b726823711431409dc03a90fddbd376)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/13/794813/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/usage.rst'],1,0d868c61fc26abc12bd57a31338a1471625b5986,doc-lldp-order-stable/wallaby,"introspection data. Note that order **does** matter in this option, especially``lldp_basic`` Processes LLDP data returned from inspection, parses TLVs from the Basic Management (802.1AB), 802.1Q, and 802.3 sets and stores the processed data back in the Ironic inspector database. To enable LLDP in the inventory from IPA, ``ipa-collect-lldp=1`` should be passed as a kernel parameter to the IPA ramdisk. Processes LLDP data returned from inspection, specifically looking for the port ID and chassis ID. If found, it configures the local link connection information on the Ironic ports with that data. To enable LLDP in the inventory from IPA, ``ipa-collect-lldp=1`` should be passed as a kernel parameter to the IPA ramdisk. In order to avoid processing the raw LLDP","introspection data. Note that order does matter in this option, especially Processes LLDP data returned from inspection specifically looking for the port ID and chassis ID, if found it configures the local link connection information on the nodes Ironic ports with that data. To enable LLDP in the inventory from IPA ``ipa-collect-lldp=1`` should be passed as a kernel parameter to the IPA ramdisk. In order to avoid processing the raw LLDP``lldp_basic`` Processes LLDP data returned from inspection and parses TLVs from the Basic Management (802.1AB), 802.1Q, and 802.3 sets and stores the processed data back to the Ironic inspector data in Swift.",12,10
openstack%2Fkolla~master~I4340ac228dc9624e59ed613265e47c3e95d2dc50,openstack/kolla,master,I4340ac228dc9624e59ed613265e47c3e95d2dc50,Sort the package lists in openstack-base alphabetically,MERGED,2021-05-25 18:32:46.000000000,2021-06-05 16:58:14.000000000,2021-06-05 16:57:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-25 18:32:46.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c82683a9ef8e807f0561f07a9110432c99e848d4', 'message': 'Sort the package lists in openstack-base alphabetically\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: I4340ac228dc9624e59ed613265e47c3e95d2dc50\n'}]",0,793027,c82683a9ef8e807f0561f07a9110432c99e848d4,13,3,1,167,,,0,"Sort the package lists in openstack-base alphabetically

Signed-off-by: Christian Berendt <berendt@betacloud-solutions.de>
Change-Id: I4340ac228dc9624e59ed613265e47c3e95d2dc50
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/793027/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,c82683a9ef8e807f0561f07a9110432c99e848d4,feat/sort-openstack-base-packages," 'python3-PyYAML', 'WebOb', 'cryptography', 'os-client-config',"," 'python3-PyYAML', 'WebOb', 'cryptography', 'os-client-config',",4,4
openstack%2Fkolla-ansible~master~Ib411c4c47311bc1161e94cb73c220dd118b78acd,openstack/kolla-ansible,master,Ib411c4c47311bc1161e94cb73c220dd118b78acd,[DNM] Run SFC tests in NFV scenario,ABANDONED,2020-04-09 19:01:49.000000000,2021-06-05 15:30:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-09 19:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ff824d3851ba1a79ecaa232fd799ef5cd14738a', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 2, 'created': '2020-04-09 19:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/50814b7312f75f59d0d1cac143dd06705fdcfc2d', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 3, 'created': '2020-04-09 19:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0110b8886dafdebef92c7aa9bde02727ab3c94c4', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 4, 'created': '2020-04-09 19:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/356017fd503561448d5a512677450c6b4be48b2d', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 5, 'created': '2020-04-09 19:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3d837bf182d63b7b08ac0d3546d86abe4b67fbd', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 6, 'created': '2020-04-10 08:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38f675c215b25ebe63bec1e3c90442fba86b52f3', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 7, 'created': '2020-04-10 10:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74d3ef71ae740c99ad74f161b2dea1c0a7b31cc4', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 8, 'created': '2020-04-10 13:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a94242914eb33a62be76f476f826ddac32439b6', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 9, 'created': '2020-04-10 17:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8637665cdabc931a59e898260fa4966e14b1c53b', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 10, 'created': '2020-04-10 17:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8700c71278afb8ada24c5abf500cac7a315c62af', 'message': '[DNM] run nfv test\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 11, 'created': '2020-12-06 16:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5de7dcbdb32544b4803cf19b0d0c03a33543c4e3', 'message': 'Run SFC tests in NFV scenario\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/764816\n'}, {'number': 12, 'created': '2021-05-29 09:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b91b33572639ced4692ca69d32f5cfcc449074a9', 'message': '[DNM] Run SFC tests in NFV scenario\n\nAlso add Ubuntu variant.\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}, {'number': 13, 'created': '2021-06-05 14:35:47.000000000', 'files': ['contrib/demos/tacker/cleanup-tacker', 'tests/test-scenario-nfv.sh', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'contrib/demos/tacker/deploy-tacker-demo-sfc', 'contrib/demos/tacker/deploy-tacker-demo', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54750b260b1ee3b23b8192e5f13e34a4937fe00d', 'message': '[DNM] Run SFC tests in NFV scenario\n\nAlso add Ubuntu variant.\n\nChange-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd\n'}]",2,718773,54750b260b1ee3b23b8192e5f13e34a4937fe00d,41,2,13,30491,,,0,"[DNM] Run SFC tests in NFV scenario

Also add Ubuntu variant.

Change-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/718773/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,5ff824d3851ba1a79ecaa232fd799ef5cd14738a,dnm-run-nfv-test, # templates: # - check-requirements # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-ussuri-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 # - periodic-stable-jobs # - kolla-ansible-centos8-source # - kolla-ansible-debian-source # - kolla-ansible-ubuntu-source # - kolla-ansible-ubuntu-source-multinode-ipv6 # - kolla-ansible-centos8-source-bifrost # - kolla-ansible-centos8-source-zun # - kolla-ansible-ubuntu-source-zun # - kolla-ansible-centos8-source-swift # - kolla-ansible-ubuntu-source-swift # - kolla-ansible-centos8-source-masakari # - kolla-ansible-ubuntu-source-masakari # - kolla-ansible-centos8-source-ironic # - kolla-ansible-centos8-binary-ironic # - kolla-ansible-ubuntu-source-ironic # - kolla-ansible-centos8-source-upgrade # - kolla-ansible-debian-source-upgrade # - kolla-ansible-ubuntu-source-upgrade # - kolla-ansible-centos8-binary # - kolla-ansible-ubuntu-binary # - kolla-ansible-centos8-source-cells # - kolla-ansible-centos8-source-mariadb # - kolla-ansible-ubuntu-source-mariadb # - kolla-ansible-centos8-source-ceph-ansible # - kolla-ansible-ubuntu-source-ceph-ansible # - kolla-ansible-centos8-source-upgrade-ceph-ansible # - kolla-ansible-ubuntu-source-upgrade-ceph-ansible # - kolla-ansible-ubuntu-source-linuxbridge # check-arm64: # jobs: # - kolla-ansible-debian-source-aarch64, templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-ceph-ansible - kolla-ansible-ubuntu-source-ceph-ansible - kolla-ansible-centos8-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-linuxbridge check-arm64: jobs: - kolla-ansible-debian-source-aarch64,39,38
openstack%2Ftripleo-common~master~Ia0baf8501884d9ed2324938c9acbb30d1687cf27,openstack/tripleo-common,master,Ia0baf8501884d9ed2324938c9acbb30d1687cf27,Fix config parsing in memcached healthcheck,MERGED,2021-05-27 22:28:27.000000000,2021-06-05 15:17:08.000000000,2021-06-05 15:15:54.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 22:28:27.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f84495b8f8dc0a20148dfa8eaaa22d750ada39d', 'message': 'Fix config parsing in memcached healthcheck\n\nWhen memcached is configured to listen on multiple IP, or\nis configured with TLS-e, make sure the healthcheck parses\nthe right IP to connect to and its associated port.\n\nChange-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27\nCloses-Bug: #1929881\n'}]",0,793507,3f84495b8f8dc0a20148dfa8eaaa22d750ada39d,38,5,1,20778,,,0,"Fix config parsing in memcached healthcheck

When memcached is configured to listen on multiple IP, or
is configured with TLS-e, make sure the healthcheck parses
the right IP to connect to and its associated port.

Change-Id: Ia0baf8501884d9ed2324938c9acbb30d1687cf27
Closes-Bug: #1929881
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/793507/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,3f84495b8f8dc0a20148dfa8eaaa22d750ada39d,bug/1929881,"# if memcached has TLS enabled, look for a notls ip entry in the options listen_addr=$(awk 'match($0, /notls:([0-9a-fA-F\.\:]+):11211[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) if [ -z ""$listen_addr"" ]; then # otherwise look for the first ip available among all the possible ones # passed to the -l option listen_addr=$(awk 'match($0, /-l +([0-9a-fA-F\.\:]+)[, ]/, a) {print a[1]}' /etc/sysconfig/memcached) # get the configured memcached port or the default one port=$(awk -F= '$1==""PORT"" {gsub(/""/, """",$2); print $2}' /etc/sysconfig/memcached) port=${port:-11211} else # with TLS-e, TripleO always exposes the notls IP on port 11211 port=11211 fi listen_addr=$(wrap_ipv6 $listen_addr) echo ""version"" | socat - TCP:$listen_addr:$port 1>/dev/null","listen_addr=$(wrap_ipv6 $(awk 'match($0, /-l +([0-9a-fA-F\.\:]+) /, a) {print a[1]}' /etc/sysconfig/memcached)) echo ""version"" | socat - TCP:$listen_addr:11211 1>/dev/null",16,2
openstack%2Ftripleo-ansible~stable%2Fvictoria~I79b03709deffe6cb788aba9e24c63ca33bd297ee,openstack/tripleo-ansible,stable/victoria,I79b03709deffe6cb788aba9e24c63ca33bd297ee,Do not convert amphora images to raw if they are already raw,MERGED,2021-05-20 16:54:51.000000000,2021-06-05 15:15:51.000000000,2021-06-05 15:15:51.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 16:54:51.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a34d5623111acb527d77f72e7b2312b28ca7efd', 'message': 'Do not convert amphora images to raw if they are already raw\n\nAdds a check on the provided image to see if it is raw before conversion\n(if requested).\n\nChange-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee\nRelated-Bug: #1843059\n(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)\n'}]",0,792456,9a34d5623111acb527d77f72e7b2312b28ca7efd,12,3,1,6681,,,0,"Do not convert amphora images to raw if they are already raw

Adds a check on the provided image to see if it is raw before conversion
(if requested).

Change-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee
Related-Bug: #1843059
(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/792456/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'],1,9a34d5623111acb527d77f72e7b2312b28ca7efd,bug/1843059-victoria,"- name: Check the amphora image file format command: | qemu-img info --output=json ""{{ image_filename }}"" register: image_file_format - name: Set the image format set_fact: img_format: ""{{ (image_file_format.stdout | from_json).format }}"" - img_format != ""raw"" - name: setting amphora format to raw set_fact: img_format: raw openstack image create --disk-format {{ img_format|default('qcow2') }} \", - name: setting amphora format to raw set_fact: raw_format: raw openstack image create --disk-format {{ raw_format|default('qcow2') }} \,15,5
openstack%2Fdevstack~master~Icfaf8ea17b3ce2e405414c23f8075b18d297bf8b,openstack/devstack,master,Icfaf8ea17b3ce2e405414c23f8075b18d297bf8b,"Revert ""Temporary add feature pragma""",MERGED,2021-06-04 21:32:17.000000000,2021-06-05 15:07:38.000000000,2021-06-05 15:05:53.000000000,"[{'_account_id': 2}, {'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11952}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27900}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 21:32:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3ad1661384636eee78a4bf5196812b6223e1b0a6', 'message': 'Revert ""Temporary add feature pragma""\n\nThis reverts commit 6843bc798c3fe5f17286e1c07ede95171bb49a25.\n\nReason for revert: not sure why but this end up disabling the integration job on check pipeline,\n\nChange-Id: Icfaf8ea17b3ce2e405414c23f8075b18d297bf8b\nexample: latest recheck on PS12 check pipeline job for neutron - https://review.opendev.org/c/openstack/neutron/+/790060\n'}]",0,794822,3ad1661384636eee78a4bf5196812b6223e1b0a6,21,9,1,8556,,,0,"Revert ""Temporary add feature pragma""

This reverts commit 6843bc798c3fe5f17286e1c07ede95171bb49a25.

Reason for revert: not sure why but this end up disabling the integration job on check pipeline,

Change-Id: Icfaf8ea17b3ce2e405414c23f8075b18d297bf8b
example: latest recheck on PS12 check pipeline job for neutron - https://review.opendev.org/c/openstack/neutron/+/790060
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/794822/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3ad1661384636eee78a4bf5196812b6223e1b0a6,,,- pragma: # NOTE(gtema): this is required for the changes in SDK feature/r1 branch to # be using devstack # TODO(gtema): delete this once r1 branch is merged into master implied-branches: - feature/r1 ,0,7
openstack%2Fpython-tripleoclient~stable%2Ftrain~I57b43a550d8baf23add7794150e1f8591f756275,openstack/python-tripleoclient,stable/train,I57b43a550d8baf23add7794150e1f8591f756275,BnR added error msg in case there is no inventory,MERGED,2021-05-26 11:53:50.000000000,2021-06-05 14:26:07.000000000,2021-06-05 14:24:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 11:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f17646e876b7c42df13bb31fe83438d0fe45d14', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}, {'number': 2, 'created': '2021-05-26 12:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1dceaf55015a8482aee9a259863a778ce898a510', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}, {'number': 3, 'created': '2021-05-26 13:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b6976aea6e6080c638692ff1be373ddc4b691b5', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}, {'number': 4, 'created': '2021-05-26 13:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/879688f0d246ab18d946edaa77dcf9c0c6d55607', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}, {'number': 5, 'created': '2021-05-27 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0eb4c3ecb4ec82be441c81b6d54c17e805549377', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}, {'number': 6, 'created': '2021-05-31 09:14:16.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13bf35eb805ec02b2f0a54e6d0c282f7de918852', 'message': 'BnR added error msg in case there is no inventory\n\nCurrently both the undercloud backup and the overcloud backup\ndont show any error msg when the inventory file does not exit.\n\nThis patch adds an error msg in case the inventory file does not exit\n\nChange-Id: I57b43a550d8baf23add7794150e1f8591f756275\n(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)\n'}]",97,793048,13bf35eb805ec02b2f0a54e6d0c282f7de918852,18,2,6,22954,,,0,"BnR added error msg in case there is no inventory

Currently both the undercloud backup and the overcloud backup
dont show any error msg when the inventory file does not exit.

This patch adds an error msg in case the inventory file does not exit

Change-Id: I57b43a550d8baf23add7794150e1f8591f756275
(cherry picked from commit f737dfcc025536c87c7b344f813150fad877f4e6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/48/793048/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py']",4,0f17646e876b7c42df13bb31fe83438d0fe45d14,change-793048-2," if not (os.path.isfile(parsed_args.inventory) and os.access(parsed_args.inventory, os.R_OK)): raise RuntimeError( _('The inventory file {} does not exist or is not ' 'readable'.format(parsed_args.inventory))) ",,212,26
openstack%2Ftripleo-common~master~I3773b5736a197915d50c6b68cd62a806c9570c38,openstack/tripleo-common,master,I3773b5736a197915d50c6b68cd62a806c9570c38,Remove xinetd from the mariadb container,MERGED,2021-06-04 12:44:50.000000000,2021-06-05 14:26:04.000000000,2021-06-05 14:24:28.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 12:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c3e6137b5da127b66f39b143efc19f6349ab71c', 'message': 'Remove xinetd from the mariadb container\n\nVia I7d87b5861a576cf4849a25cd1d3f5e77568de1e4 ""Make clustercheck service\naccessible over socat"" we switched to using socat instead of xinetd for\nthe clustercheck.\n\nLet\'s remove it from the container and also make sure that socat is\nincluded explicitely in order to avoid surprises.\n\nChange-Id: I3773b5736a197915d50c6b68cd62a806c9570c38\n'}, {'number': 2, 'created': '2021-06-04 12:46:52.000000000', 'files': ['container-images/tcib/base/mariadb/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fbc188ddbb5e97a2c9eb1a6a4d674ba95cabc8de', 'message': 'Remove xinetd from the mariadb container\n\nVia I7d87b5861a576cf4849a25cd1d3f5e77568de1e4 ""Make clustercheck service\naccessible over socat"" we switched to using socat instead of xinetd for\nthe clustercheck.\n\nLet\'s remove it from the container and also make sure that socat is\nincluded explicitely in order to avoid surprises.\n\nRelated-Bug: #1928693\n\nChange-Id: I3773b5736a197915d50c6b68cd62a806c9570c38\n'}]",0,794798,fbc188ddbb5e97a2c9eb1a6a4d674ba95cabc8de,10,4,2,20172,,,0,"Remove xinetd from the mariadb container

Via I7d87b5861a576cf4849a25cd1d3f5e77568de1e4 ""Make clustercheck service
accessible over socat"" we switched to using socat instead of xinetd for
the clustercheck.

Let's remove it from the container and also make sure that socat is
included explicitely in order to avoid surprises.

Related-Bug: #1928693

Change-Id: I3773b5736a197915d50c6b68cd62a806c9570c38
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/794798/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/mariadb/mariadb.yaml'],1,9c3e6137b5da127b66f39b143efc19f6349ab71c,socat, - socat, - xinetd,1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I79b03709deffe6cb788aba9e24c63ca33bd297ee,openstack/tripleo-ansible,stable/wallaby,I79b03709deffe6cb788aba9e24c63ca33bd297ee,Do not convert amphora images to raw if they are already raw,MERGED,2021-05-20 16:53:08.000000000,2021-06-05 14:25:06.000000000,2021-06-05 14:25:06.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 16:53:08.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b784bd8c6b94c35ddf33ae7873bbc32d669bf17', 'message': 'Do not convert amphora images to raw if they are already raw\n\nAdds a check on the provided image to see if it is raw before conversion\n(if requested).\n\nChange-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee\nRelated-Bug: #1843059\n(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)\n'}]",0,792453,4b784bd8c6b94c35ddf33ae7873bbc32d669bf17,13,3,1,6681,,,0,"Do not convert amphora images to raw if they are already raw

Adds a check on the provided image to see if it is raw before conversion
(if requested).

Change-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee
Related-Bug: #1843059
(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/792453/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'],1,4b784bd8c6b94c35ddf33ae7873bbc32d669bf17,bug/1843059,"- name: Check the amphora image file format command: | qemu-img info --output=json ""{{ image_filename }}"" register: image_file_format - name: Set the image format set_fact: img_format: ""{{ (image_file_format.stdout | from_json).format }}"" - img_format != ""raw"" - name: setting amphora format to raw set_fact: img_format: raw openstack image create --disk-format {{ img_format|default('qcow2') }} \", - name: setting amphora format to raw set_fact: raw_format: raw openstack image create --disk-format {{ raw_format|default('qcow2') }} \,15,5
openstack%2Ftripleo-ansible~stable%2Fussuri~I79b03709deffe6cb788aba9e24c63ca33bd297ee,openstack/tripleo-ansible,stable/ussuri,I79b03709deffe6cb788aba9e24c63ca33bd297ee,Do not convert amphora images to raw if they are already raw,MERGED,2021-05-20 16:54:30.000000000,2021-06-05 14:25:01.000000000,2021-06-05 14:25:01.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 16:54:30.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a171e2db1c85c94a464c5530f652926805b276e', 'message': 'Do not convert amphora images to raw if they are already raw\n\nAdds a check on the provided image to see if it is raw before conversion\n(if requested).\n\nChange-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee\nRelated-Bug: #1843059\n(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)\n'}]",0,792455,1a171e2db1c85c94a464c5530f652926805b276e,12,3,1,6681,,,0,"Do not convert amphora images to raw if they are already raw

Adds a check on the provided image to see if it is raw before conversion
(if requested).

Change-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee
Related-Bug: #1843059
(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/792455/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'],1,1a171e2db1c85c94a464c5530f652926805b276e,bug/1843059-ussuri,"- name: Check the amphora image file format command: | qemu-img info --output=json ""{{ image_filename }}"" register: image_file_format - name: Set the image format set_fact: img_format: ""{{ (image_file_format.stdout | from_json).format }}"" - img_format != ""raw"" - name: setting amphora format to raw set_fact: img_format: raw openstack image create --disk-format {{ img_format|default('qcow2') }} \", - name: setting amphora format to raw set_fact: raw_format: raw openstack image create --disk-format {{ raw_format|default('qcow2') }} \,15,5
openstack%2Ftripleo-ansible~stable%2Ftrain~I79b03709deffe6cb788aba9e24c63ca33bd297ee,openstack/tripleo-ansible,stable/train,I79b03709deffe6cb788aba9e24c63ca33bd297ee,Do not convert amphora images to raw if they are already raw,MERGED,2021-05-20 16:55:52.000000000,2021-06-05 14:24:52.000000000,2021-06-05 14:24:52.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-20 16:55:52.000000000', 'files': ['tripleo_ansible/roles/octavia-undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d1ebe943a85476d8f8c6be9e881eeb519a4f5fe', 'message': 'Do not convert amphora images to raw if they are already raw\n\nAdds a check on the provided image to see if it is raw before conversion\n(if requested).\n\nChange-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee\nRelated-Bug: #1843059\n(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)\n'}]",0,792457,0d1ebe943a85476d8f8c6be9e881eeb519a4f5fe,12,3,1,6681,,,0,"Do not convert amphora images to raw if they are already raw

Adds a check on the provided image to see if it is raw before conversion
(if requested).

Change-Id: I79b03709deffe6cb788aba9e24c63ca33bd297ee
Related-Bug: #1843059
(cherry picked from commit 820f84ef42a9c36c677481760989ad36f13de4c0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/792457/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-undercloud/tasks/image_mgmt.yml'],1,0d1ebe943a85476d8f8c6be9e881eeb519a4f5fe,bug/1843059-train,"- name: Check the amphora image file format command: | qemu-img info --output=json ""{{ image_filename }}"" register: image_file_format - name: Set the image format set_fact: img_format: ""{{ (image_file_format.stdout | from_json).format }}"" - img_format != ""raw"" - name: setting amphora format to raw set_fact: img_format: raw openstack image create --disk-format {{ img_format|default('qcow2') }} \", - name: setting amphora format to raw set_fact: raw_format: raw openstack image create --disk-format {{ raw_format|default('qcow2') }} \,15,5
openstack%2Fmasakari~master~I1d8ff80322deffb904d1bfe16b5a5ad9d4d9fc07,openstack/masakari,master,I1d8ff80322deffb904d1bfe16b5a5ad9d4d9fc07,[community goal] Update contributor documentation,MERGED,2021-05-14 21:39:13.000000000,2021-06-05 14:21:50.000000000,2021-06-05 14:20:48.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 21:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d2987861eb685891e23747f002e24e5d43ff0fdd', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: I1d8ff80322deffb904d1bfe16b5a5ad9d4d9fc07\n'}, {'number': 2, 'created': '2021-05-31 20:33:52.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/44cae8ad7fef17ace1b3fe6ae5258b12417b2c08', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: I1d8ff80322deffb904d1bfe16b5a5ad9d4d9fc07\n'}]",0,791563,44cae8ad7fef17ace1b3fe6ae5258b12417b2c08,14,3,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38536
Change-Id: I1d8ff80322deffb904d1bfe16b5a5ad9d4d9fc07
",git fetch https://review.opendev.org/openstack/masakari refs/changes/63/791563/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,d2987861eb685891e23747f002e24e5d43ff0fdd,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to Masakari please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing ,,69,10
openstack%2Fkolla-ansible~stable%2Fvictoria~I90986e7521779997df2782767bb95efcbd8ef232,openstack/kolla-ansible,stable/victoria,I90986e7521779997df2782767bb95efcbd8ef232,Use mariadb-server image for mariabackup,MERGED,2021-05-28 13:49:53.000000000,2021-06-05 14:16:53.000000000,2021-06-05 14:13:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 13:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ebcf641a7b33b1f9aff4c4b8e5323ae91c2bdea', 'message': 'Use mariadb-server image for mariabackup\n\nThe mariadb image was removed in Wallaby, leading to database backup\nfailures.\n\nChange-Id: I90986e7521779997df2782767bb95efcbd8ef232\nCloses-Bug: #1928129\n(cherry picked from commit bb56861cc5271f3612cb40057f21889ddb8c3a23)\n'}, {'number': 2, 'created': '2021-05-28 20:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e3ebeafe12bb81596ee66ccdafb2a3e8361788a', 'message': 'Use mariadb-server image for mariabackup\n\nThe mariadb image was removed in Wallaby, leading to database backup\nfailures.\n\nChange-Id: I90986e7521779997df2782767bb95efcbd8ef232\n(cherry picked from commit bb56861cc5271f3612cb40057f21889ddb8c3a23)\n'}, {'number': 3, 'created': '2021-05-28 20:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/209529fc66cf6122515a4c4eb4cd673b384bc849', 'message': 'Use mariadb-server image for mariabackup\n\nThe mariadb image is deprecated in Victoria. Use the mariadb-server\nimage instead.\n\nChange-Id: I90986e7521779997df2782767bb95efcbd8ef232\n(cherry picked from commit bb56861cc5271f3612cb40057f21889ddb8c3a23)\n'}, {'number': 4, 'created': '2021-05-31 09:23:01.000000000', 'files': ['releasenotes/notes/mariabackup-image-8b31622f59890e28.yaml', 'ansible/roles/mariadb/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7244e4744c36104421da50329fe9f4998fd3c7a8', 'message': 'Use mariadb-server image for mariabackup\n\nThe mariadb image is deprecated in Victoria and will be removed in\nWallaby. Use the mariadb-server image instead.\n\nNOTE(priteau): Release note changed from `fixes` to `other` and wording\nupdated for Victoria.\n\nChange-Id: I90986e7521779997df2782767bb95efcbd8ef232\n(cherry picked from commit bb56861cc5271f3612cb40057f21889ddb8c3a23)\n'}]",0,793604,7244e4744c36104421da50329fe9f4998fd3c7a8,25,4,4,15197,,,0,"Use mariadb-server image for mariabackup

The mariadb image is deprecated in Victoria and will be removed in
Wallaby. Use the mariadb-server image instead.

NOTE(priteau): Release note changed from `fixes` to `other` and wording
updated for Victoria.

Change-Id: I90986e7521779997df2782767bb95efcbd8ef232
(cherry picked from commit bb56861cc5271f3612cb40057f21889ddb8c3a23)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/793604/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mariabackup-image-8b31622f59890e28.yaml', 'ansible/roles/mariadb/defaults/main.yml']",2,0ebcf641a7b33b1f9aff4c4b8e5323ae91c2bdea,bug/1928129,"mariabackup_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ mariadb_install_type }}-mariadb-server""","mariabackup_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ mariadb_install_type }}-mariadb""",7,1
openstack%2Fkolla-ansible~stable%2Fussuri~I3a2587f95424fa0fd827e2a57b08325282ef5649,openstack/kolla-ansible,stable/ussuri,I3a2587f95424fa0fd827e2a57b08325282ef5649,Fix duplicate dashboard section in tempest.conf.j2,MERGED,2021-06-02 20:41:56.000000000,2021-06-05 14:16:45.000000000,2021-06-05 14:13:38.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-02 20:41:56.000000000', 'files': ['ansible/roles/tempest/templates/tempest.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/622767ead29ed02945e8e4c7252faee1f1becc21', 'message': ""Fix duplicate dashboard section in tempest.conf.j2\n\nThis change removes the duplicate dashboard section in the template\nwhich creates the incorrect section in the target configuration file\nlooks like:\n\n[dashboard]\ndashboard_url = http://example.com\ndashboard_url = http://example.com/\nlogin_url = http://example.com/auth/login/\nlogin_url = http://example.com/auth/login\n\nThis wrong configuration causes an 'duplicate error' during tests.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I3a2587f95424fa0fd827e2a57b08325282ef5649\n""}]",0,794338,622767ead29ed02945e8e4c7252faee1f1becc21,12,6,1,14200,,,0,"Fix duplicate dashboard section in tempest.conf.j2

This change removes the duplicate dashboard section in the template
which creates the incorrect section in the target configuration file
looks like:

[dashboard]
dashboard_url = http://example.com
dashboard_url = http://example.com/
login_url = http://example.com/auth/login/
login_url = http://example.com/auth/login

This wrong configuration causes an 'duplicate error' during tests.

Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Change-Id: I3a2587f95424fa0fd827e2a57b08325282ef5649
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/794338/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/tempest/templates/tempest.conf.j2'],1,622767ead29ed02945e8e4c7252faee1f1becc21,tempest-fix-template,,[dashboard] dashboard_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}/ login_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}/auth/login ,0,4
openstack%2Fkolla-ansible~stable%2Ftrain~I2827a657c8716a9c40391c6bdb7ff1a2a9c1260e,openstack/kolla-ansible,stable/train,I2827a657c8716a9c40391c6bdb7ff1a2a9c1260e,CI: Use PATH to find kolla-ansible script,MERGED,2021-05-28 12:42:04.000000000,2021-06-05 14:15:52.000000000,2021-06-05 14:12:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 12:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/037f38f7426adf324acf172cb91d6b2457676584', 'message': 'CI: Use PATH to find kolla-ansible script\n\nThis change also updates the CI test scripts to use PATH to find the\nkolla-ansible script, rather than relying on the file in the source\ncheckout.\n\nUsing the script in the source checkout was hiding an issue with pip\ninstall --user, although that has now been fixed in\nI5b47a146627d06bb3fe4a747c5f20290c726b0f9.\n\nRelated-Bug: #1915527\n\nChange-Id: I2827a657c8716a9c40391c6bdb7ff1a2a9c1260e\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/775586\n(cherry picked from commit 1ea99147c14068b7edbaf36a23199bc93a5ef493)\n'}, {'number': 2, 'created': '2021-05-28 12:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d0524c093d39b6416170c2799993b3bb0895e22', 'message': 'CI: Use PATH to find kolla-ansible script\n\nThis change also updates the CI test scripts to use PATH to find the\nkolla-ansible script, rather than relying on the file in the source\ncheckout.\n\nUsing the script in the source checkout was hiding an issue with pip\ninstall --user, although that has now been fixed in\nI5b47a146627d06bb3fe4a747c5f20290c726b0f9.\n\nRelated-Bug: #1915527\n\nChange-Id: I2827a657c8716a9c40391c6bdb7ff1a2a9c1260e\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/775586\n(cherry picked from commit 1ea99147c14068b7edbaf36a23199bc93a5ef493)\n'}, {'number': 3, 'created': '2021-05-28 17:46:54.000000000', 'files': ['tests/reconfigure.sh', 'tests/deploy-bifrost.sh', 'tests/deploy.sh', 'tests/test-mariadb.sh', 'tests/setup_gate.sh', 'tests/upgrade-bifrost.sh', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4920980add9f978499770e7ec9afcdc7e8a15ec2', 'message': 'CI: Use PATH to find kolla-ansible script\n\nThis change also updates the CI test scripts to use PATH to find the\nkolla-ansible script, rather than relying on the file in the source\ncheckout.\n\nUsing the script in the source checkout was hiding an issue with pip\ninstall --user, although that has now been fixed in\nI5b47a146627d06bb3fe4a747c5f20290c726b0f9.\n\nRelated-Bug: #1915527\n\nChange-Id: I2827a657c8716a9c40391c6bdb7ff1a2a9c1260e\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/793570\n(cherry picked from commit 1ea99147c14068b7edbaf36a23199bc93a5ef493)\n'}]",0,793567,4920980add9f978499770e7ec9afcdc7e8a15ec2,17,4,3,30491,,,0,"CI: Use PATH to find kolla-ansible script

This change also updates the CI test scripts to use PATH to find the
kolla-ansible script, rather than relying on the file in the source
checkout.

Using the script in the source checkout was hiding an issue with pip
install --user, although that has now been fixed in
I5b47a146627d06bb3fe4a747c5f20290c726b0f9.

Related-Bug: #1915527

Change-Id: I2827a657c8716a9c40391c6bdb7ff1a2a9c1260e
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/793570
(cherry picked from commit 1ea99147c14068b7edbaf36a23199bc93a5ef493)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/793567/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/deploy-bifrost.sh', 'tests/reconfigure.sh', 'tests/deploy.sh', 'tests/test-mariadb.sh', 'tests/setup_gate.sh', 'tests/upgrade-bifrost.sh', 'tests/upgrade.sh']",7,037f38f7426adf324acf172cb91d6b2457676584,,"<<<<<<< HEAD (c12330 [CI] Remove setup_gate.sh symlink)======= # generate self-signed certificates for the optional internal TLS tests if [[ ""$TLS_ENABLED"" = ""True"" ]]; then kolla-ansible -i ${RAW_INVENTORY} -vvv certificates > /tmp/logs/ansible/certificates fi kolla-ansible -i ${RAW_INVENTORY} -vvv prechecks &> /tmp/logs/ansible/upgrade-prechecks kolla-ansible -i ${RAW_INVENTORY} -vvv pull &> /tmp/logs/ansible/pull-upgrade kolla-ansible -i ${RAW_INVENTORY} -vvv upgrade &> /tmp/logs/ansible/upgrade kolla-ansible -i ${RAW_INVENTORY} -vvv check &> /tmp/logs/ansible/check-upgrade >>>>>>> CHANGE (894ff9 CI: Use PATH to find kolla-ansible script)",,31,13
openstack%2Fkolla-ansible~stable%2Fvictoria~Icea1a5f882e2e032c22d897efbd1f137536ae580,openstack/kolla-ansible,stable/victoria,Icea1a5f882e2e032c22d897efbd1f137536ae580,[CI] Drop Zuul host groups,MERGED,2021-06-02 16:59:50.000000000,2021-06-05 14:15:49.000000000,2021-06-05 14:13:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-02 16:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08d6bca28ba54cb719b8f06049b4258ceb0c22bb', 'message': '[CI] Drop Zuul host groups\n\nThey are not used.\n\nChange-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580\n(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)\n'}, {'number': 2, 'created': '2021-06-02 17:01:50.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cece51910ec6d089201f4928daa7feaca54a3d9b', 'message': '[CI] Drop Zuul host groups\n\nThey are not used.\n\nChange-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580\n(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)\n'}]",0,794188,cece51910ec6d089201f4928daa7feaca54a3d9b,10,3,2,30491,,,0,"[CI] Drop Zuul host groups

They are not used.

Change-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580
(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/794188/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,08d6bca28ba54cb719b8f06049b4258ceb0c22bb,ci-drop-groups-stable/wallaby-stable/victoria,<<<<<<< HEAD (dda891 docs: Update Freenode to OFTC) ======= name: kolla-ansible-centos8s-multi nodes: - name: primary label: centos-8-stream - name: secondary1 label: centos-8-stream - name: secondary2 label: centos-8-stream - nodeset: >>>>>>> CHANGE (12382b [CI] Drop Zuul host groups)<<<<<<< HEAD (dda891 docs: Update Freenode to OFTC) ======= - nodeset: name: kolla-ansible-centos8s-nested-virt nodes: - name: primary label: nested-virt-centos-8-stream - nodeset: name: kolla-ansible-centos8-multi-monasca nodes: - name: primary label: centos-8 - name: secondary1 label: centos-8 - name: secondary2 label: centos-8 - name: secondary3 label: centos-8 - name: secondary4 label: centos-8 - name: secondary5 label: centos-8 - nodeset: name: kolla-ansible-centos8s-multi-monasca nodes: - name: primary label: centos-8-stream - name: secondary1 label: centos-8-stream - name: secondary2 label: centos-8-stream - name: secondary3 label: centos-8-stream - name: secondary4 label: centos-8-stream - name: secondary5 label: centos-8-stream - nodeset: name: kolla-ansible-focal-masakari nodes: - name: primary label: ubuntu-focal - name: secondary label: ubuntu-focal - name: ternary1 label: ubuntu-focal - name: ternary2 label: ubuntu-focal - nodeset: name: kolla-ansible-centos8s-masakari nodes: - name: primary label: centos-8-stream - name: secondary label: centos-8-stream - name: ternary1 label: centos-8-stream - name: ternary2 label: centos-8-stream >>>>>>> CHANGE (12382b [CI] Drop Zuul host groups), groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2 groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2,78,16
openstack%2Fkolla-ansible~stable%2Fussuri~Icea1a5f882e2e032c22d897efbd1f137536ae580,openstack/kolla-ansible,stable/ussuri,Icea1a5f882e2e032c22d897efbd1f137536ae580,[CI] Drop Zuul host groups,MERGED,2021-06-02 17:02:12.000000000,2021-06-05 14:15:47.000000000,2021-06-05 14:13:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-02 17:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ec510d4abd7c8b2f759e6990f5bedec3751fea3', 'message': '[CI] Drop Zuul host groups\n\nThey are not used.\n\nChange-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580\n(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)\n'}, {'number': 2, 'created': '2021-06-02 17:03:14.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b80a7922a1d29d5fdf0b5c78789dc8537492fde8', 'message': '[CI] Drop Zuul host groups\n\nThey are not used.\n\nChange-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580\n(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)\n'}]",0,794189,b80a7922a1d29d5fdf0b5c78789dc8537492fde8,10,3,2,30491,,,0,"[CI] Drop Zuul host groups

They are not used.

Change-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580
(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/794189/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,9ec510d4abd7c8b2f759e6990f5bedec3751fea3,ci-drop-groups-stable/wallaby-stable/victoria-stable/ussuri,<<<<<<< HEAD (90c572 docs: Update Freenode to OFTC)======= label: ubuntu-focal >>>>>>> CHANGE (cece51 [CI] Drop Zuul host groups)<<<<<<< HEAD (90c572 docs: Update Freenode to OFTC)======= - nodeset: name: kolla-ansible-focal-nested-virt nodes: - name: primary label: nested-virt-ubuntu-focal - nodeset: name: kolla-ansible-centos8-nested-virt nodes: - name: primary label: nested-virt-centos-8 >>>>>>> CHANGE (cece51 [CI] Drop Zuul host groups),,19,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Icea1a5f882e2e032c22d897efbd1f137536ae580,openstack/kolla-ansible,stable/wallaby,Icea1a5f882e2e032c22d897efbd1f137536ae580,[CI] Drop Zuul host groups,MERGED,2021-06-02 16:55:23.000000000,2021-06-05 14:15:45.000000000,2021-06-05 14:12:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-02 16:55:23.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12382be7a6bc58e84f232867ced7d1b1054ecda4', 'message': '[CI] Drop Zuul host groups\n\nThey are not used.\n\nChange-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580\n(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)\n'}]",0,794185,12382be7a6bc58e84f232867ced7d1b1054ecda4,8,3,1,30491,,,0,"[CI] Drop Zuul host groups

They are not used.

Change-Id: Icea1a5f882e2e032c22d897efbd1f137536ae580
(cherry picked from commit e48d0a7fab712b1559247763b2f0352cc580ce65)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/794185/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,12382be7a6bc58e84f232867ced7d1b1054ecda4,ci-drop-groups-stable/wallaby,, groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2 groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2 groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2 groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2 - secondary3 - secondary4 - secondary5 groups: - name: switch nodes: - primary - name: peers nodes: - secondary1 - secondary2 - secondary3 - secondary4 - secondary5,0,46
openstack%2Fkolla-ansible~stable%2Fstein~I5b47a146627d06bb3fe4a747c5f20290c726b0f9,openstack/kolla-ansible,stable/stein,I5b47a146627d06bb3fe4a747c5f20290c726b0f9,Fix installation with pip install --user,MERGED,2021-05-28 17:46:17.000000000,2021-06-05 13:57:52.000000000,2021-06-05 13:56:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 17:46:17.000000000', 'files': ['releasenotes/notes/fix-pip-install-user-5f871f67433e465a.yaml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0000cb5796705848a21552aec73e126cd22eb4c6', 'message': ""Fix installation with pip install --user\n\nIf kolla-ansible is installed via pip install --user, currently the\nkolla-ansible script is unable to locate the installed playbooks.\nThis leads to a failure when running commands.\n\nThis change fixes the issue by checking for the user's .local directory\nas a possible installation path.\n\nThis fixes some of the scenario tests which were failing after switching\nto a user installation in Ifaf1948ed5d42eebaa62d7bad375bbfc12b134d5.\nMost tests did not fail since the kolla-ansible script in the source\ncheckout was used.\n\nCloses-Bug: #1915527\n\nChange-Id: I5b47a146627d06bb3fe4a747c5f20290c726b0f9\n(cherry picked from commit 519ca1c08322d1e670c13e60f31b22230fbdc9d3)\n(cherry picked from commit 12247f7a91fcf4158203a13dbaea8f597c080ae9)\n""}]",0,793570,0000cb5796705848a21552aec73e126cd22eb4c6,8,3,1,30491,,,0,"Fix installation with pip install --user

If kolla-ansible is installed via pip install --user, currently the
kolla-ansible script is unable to locate the installed playbooks.
This leads to a failure when running commands.

This change fixes the issue by checking for the user's .local directory
as a possible installation path.

This fixes some of the scenario tests which were failing after switching
to a user installation in Ifaf1948ed5d42eebaa62d7bad375bbfc12b134d5.
Most tests did not fail since the kolla-ansible script in the source
checkout was used.

Closes-Bug: #1915527

Change-Id: I5b47a146627d06bb3fe4a747c5f20290c726b0f9
(cherry picked from commit 519ca1c08322d1e670c13e60f31b22230fbdc9d3)
(cherry picked from commit 12247f7a91fcf4158203a13dbaea8f597c080ae9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/793570/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-pip-install-user-5f871f67433e465a.yaml', 'tools/kolla-ansible']",2,0000cb5796705848a21552aec73e126cd22eb4c6,, elif [[ ${dir_name} == ~/.local/bin ]]; then BASEDIR=~/.local/share/kolla-ansible,,8,0
openstack%2Ftripleo-quickstart~master~I4bda9e3c494a130b1e8d4b82ce1a5bbbf1d346f9,openstack/tripleo-quickstart,master,I4bda9e3c494a130b1e8d4b82ce1a5bbbf1d346f9,Adding test_minimum_basic_scenario test on fs030,MERGED,2021-06-04 11:34:49.000000000,2021-06-05 13:44:08.000000000,2021-06-05 13:43:01.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-04 11:34:49.000000000', 'files': ['config/general_config/featureset030.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cd628d6b4408a2870411221c7851c2ddeaf8adcd', 'message': 'Adding test_minimum_basic_scenario test on fs030\n\nRight now the test_network_basic_ops is on skiplist and skipped, and tempest\nmust always have at least one job running.\n\nChange-Id: I4bda9e3c494a130b1e8d4b82ce1a5bbbf1d346f9\n'}]",0,794778,cd628d6b4408a2870411221c7851c2ddeaf8adcd,11,8,1,8367,,,0,"Adding test_minimum_basic_scenario test on fs030

Right now the test_network_basic_ops is on skiplist and skipped, and tempest
must always have at least one job running.

Change-Id: I4bda9e3c494a130b1e8d4b82ce1a5bbbf1d346f9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/794778/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset030.yml'],1,cd628d6b4408a2870411221c7851c2ddeaf8adcd,test-scen007, - 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario',,1,0
openstack%2Fpuppet-tripleo~master~I045a7ac2a36507c201b9a0745cc57587282f8596,openstack/puppet-tripleo,master,I045a7ac2a36507c201b9a0745cc57587282f8596,Replace deprecated ceilometer::agent::auth,MERGED,2021-04-06 13:20:12.000000000,2021-06-05 13:43:05.000000000,2021-06-05 13:43:05.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 13:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/244c170d81913a8a975b85d6351fe429847fc0f5', 'message': 'Replace deprecated ceilometer::agent::auth\n\n... with the new ceilometer::agent::service_credentials class.\n\nDepends-on: https://review.opendev.org/775730\nDepends-on: https://review.opendev.org/784952\nChange-Id: I045a7ac2a36507c201b9a0745cc57587282f8596\n'}, {'number': 2, 'created': '2021-04-06 13:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8373e56bf6db9eb59397db174b1224c13bf0917d', 'message': 'Replace deprecated ceilometer::agent::auth\n\n... with the new ceilometer::agent::service_credentials class.\n\nDepends-on: https://review.opendev.org/775730\nDepends-on: https://review.opendev.org/784952\nChange-Id: I045a7ac2a36507c201b9a0745cc57587282f8596\n'}, {'number': 3, 'created': '2021-04-24 02:03:31.000000000', 'files': ['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_notification_spec.rb', 'manifests/profile/base/ceilometer/agent/notification.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_polling_spec.rb', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ff7636d3f9b198ec745110d39e71e1a38a9053d7', 'message': 'Replace deprecated ceilometer::agent::auth\n\n... with the new ceilometer::agent::service_credentials class.\n\nDepends-on: https://review.opendev.org/775730\nDepends-on: https://review.opendev.org/784952\nChange-Id: I045a7ac2a36507c201b9a0745cc57587282f8596\n'}]",0,784955,ff7636d3f9b198ec745110d39e71e1a38a9053d7,15,3,3,9816,,,0,"Replace deprecated ceilometer::agent::auth

... with the new ceilometer::agent::service_credentials class.

Depends-on: https://review.opendev.org/775730
Depends-on: https://review.opendev.org/784952
Change-Id: I045a7ac2a36507c201b9a0745cc57587282f8596
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/784955/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_polling_spec.rb']",2,244c170d81913a8a975b85d6351fe429847fc0f5,ceilo-service_credentials, is_expected.to_not contain_class('ceilometer::agent::service_credentials') is_expected.to contain_class('ceilometer::agent::service_credentials')," let(:pre_condition) do ""class { 'ceilometer::agent::auth': auth_password => 'password' }"" end ",3,6
openstack%2Fmasakari-monitors~master~Ib2e9cd7b736a7488ebad350aa2eb95311fd99f5c,openstack/masakari-monitors,master,Ib2e9cd7b736a7488ebad350aa2eb95311fd99f5c,[community goal] Update contributor documentation,MERGED,2021-05-14 21:36:43.000000000,2021-06-05 13:05:09.000000000,2021-06-05 13:04:03.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 21:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/813f020aad746f1ea8e0646c45f398f8200d5767', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: Ib2e9cd7b736a7488ebad350aa2eb95311fd99f5c\n'}, {'number': 2, 'created': '2021-05-31 20:34:01.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/fe5247c228087dd70a7c43f76eed4b445ef10ad2', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: Ib2e9cd7b736a7488ebad350aa2eb95311fd99f5c\n'}]",0,791561,fe5247c228087dd70a7c43f76eed4b445ef10ad2,11,3,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38536
Change-Id: Ib2e9cd7b736a7488ebad350aa2eb95311fd99f5c
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/61/791561/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst']",4,813f020aad746f1ea8e0646c45f398f8200d5767,project-ptl-and-contrib-docs, For Contributors ================ * If you are a new contributor to Masakari Monitors please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing, contributing,69,15
openstack%2Fpython-masakariclient~master~Iec0f194977d124db20534f41cfef5a59698df842,openstack/python-masakariclient,master,Iec0f194977d124db20534f41cfef5a59698df842,[community goal] Update contributor documentation,MERGED,2021-05-14 21:36:47.000000000,2021-06-05 13:02:33.000000000,2021-06-05 13:01:13.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 21:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/bc22b224502cd5d2622efe63f046ef842e733a1b', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: Iec0f194977d124db20534f41cfef5a59698df842\n'}, {'number': 2, 'created': '2021-05-17 14:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/cdcd999a7016508f2fa5bc3fbc10ec0a14362465', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: Iec0f194977d124db20534f41cfef5a59698df842\n'}, {'number': 3, 'created': '2021-05-31 20:34:10.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/6d9610424e5ebad2d943651ee81f3eeaf9aad2f7', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: Iec0f194977d124db20534f41cfef5a59698df842\n'}]",1,791562,6d9610424e5ebad2d943651ee81f3eeaf9aad2f7,14,3,3,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38536
Change-Id: Iec0f194977d124db20534f41cfef5a59698df842
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/62/791562/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst']",3,bc22b224502cd5d2622efe63f046ef842e733a1b,project-ptl-and-contrib-docs,For Contributors ================ * If you are a new contributor to Python-masakariclient please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing ,,68,14
openstack%2Fmasakari-specs~master~I54df12d44c8a20a07f407ca93598f8001baeada7,openstack/masakari-specs,master,I54df12d44c8a20a07f407ca93598f8001baeada7,[community goal] Update contributor documentation,MERGED,2021-05-14 21:41:04.000000000,2021-06-05 13:02:32.000000000,2021-06-05 13:00:56.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 21:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/31efe53a8d8cefc5f9c158b75354f0f5ea7e5b11', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: I54df12d44c8a20a07f407ca93598f8001baeada7\n'}, {'number': 2, 'created': '2021-05-17 14:19:37.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/9631ab25d3f82af47090b89acf4025d7097fc95a', 'message': '[community goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38536\nChange-Id: I54df12d44c8a20a07f407ca93598f8001baeada7\n'}]",2,791564,9631ab25d3f82af47090b89acf4025d7097fc95a,14,3,2,8556,,,0,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38536
Change-Id: I54df12d44c8a20a07f407ca93598f8001baeada7
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/64/791564/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,31efe53a8d8cefc5f9c158b75354f0f5ea7e5b11,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/masakari-specs Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html This repository is for doing design review on feature proposal in Heat. Please refer to `this document <https://opendev.org/openstack/masakari-specs/src/branch/master/README.rst>`_ for more information. ",,14,0
openstack%2Ftripleo-quickstart~master~I1b4b96449e95e9748a428153324e2b0bdbc5d6b1,openstack/tripleo-quickstart,master,I1b4b96449e95e9748a428153324e2b0bdbc5d6b1,Exclude buggy edk2-ovmf for stable branches,MERGED,2021-06-04 08:25:55.000000000,2021-06-05 12:12:49.000000000,2021-06-05 12:10:27.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-04 08:25:55.000000000', 'files': ['config/release/trunk/train.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/trunk/victoria.yml', 'config/release/trunk/ussuri.yml', 'config/release/centosci/ussuri-current-tripleo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/25612de3f223256e3019f72264c6d5eef2010c56', 'message': 'Exclude buggy edk2-ovmf for stable branches\n\nFollowup of [1] to add exclude for buggy edk2-ovmp\nto pending c8-stream releases.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098\n\nRelated-Bug: #1929634\nRelated-Bug: rhbz#1961558\nChange-Id: I1b4b96449e95e9748a428153324e2b0bdbc5d6b1\n'}]",0,794737,25612de3f223256e3019f72264c6d5eef2010c56,11,8,1,13861,,,0,"Exclude buggy edk2-ovmf for stable branches

Followup of [1] to add exclude for buggy edk2-ovmp
to pending c8-stream releases.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/793098

Related-Bug: #1929634
Related-Bug: rhbz#1961558
Change-Id: I1b4b96449e95e9748a428153324e2b0bdbc5d6b1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/794737/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/trunk/train.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/wallaby.yml', 'config/release/trunk/victoria.yml', 'config/release/trunk/ussuri.yml', 'config/release/centosci/ussuri-current-tripleo.yml']",9,25612de3f223256e3019f72264c6d5eef2010c56,bug/1929634, # Remove the exclude once https://bugzilla.redhat.com/show_bug.cgi?id=1961562 is fixed. exclude: - edk2-ovmf-20200602gitca407c7246bf-5*,,27,0
openstack%2Fansible-role-collect-logs~master~I7f3eab6ac44f53451114dcd8841bf4300500ab11,openstack/ansible-role-collect-logs,master,I7f3eab6ac44f53451114dcd8841bf4300500ab11,Avoid using openstack constraints,MERGED,2021-06-03 20:56:56.000000000,2021-06-05 12:11:27.000000000,2021-06-05 12:11:27.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-03 20:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/ce011ba6e6ed3541282606bb13bda575625ac5eb', 'message': 'set upperconstraints to stable/wallaby\n\nmaster requirements have a conflict\nwith molecule and click\n\nChange-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11\n'}, {'number': 2, 'created': '2021-06-03 21:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f6818e86c108e64375fcde60d302ca288f846a12', 'message': 'set upperconstraints to stable/wallaby\n\nmaster requirements have a conflict\nwith molecule and click\n\nChange-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11\n'}, {'number': 3, 'created': '2021-06-04 04:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5524e680d9ffc822a33a1ffe357f5ff6d1b40e84', 'message': 'set upperconstraints to stable/wallaby\n\nmaster requirements have a conflict\nwith molecule and click\n\nChange-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11\n'}, {'number': 4, 'created': '2021-06-04 09:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b9912afe41dcc674517606ac57d2c474bfd5e01e', 'message': 'set upperconstraints to stable/wallaby\n\nmaster requirements have a conflict\nwith molecule and click\n\nChange-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11\n'}, {'number': 5, 'created': '2021-06-04 09:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4e66cda096d4c86524c8e48c1dad02410a876041', 'message': 'Avoid using openstack constrains\n\nThis repository should not make use of openstack containt files.\n\nChange-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11\n'}, {'number': 6, 'created': '2021-06-04 13:53:03.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c3483e88307e5d1cf04d3898a711d47dc3c80b61', 'message': 'Avoid using openstack constraints\n\nThis repository should not make use of openstack containt files and addresses sanity job failure\ncaused by switch of nodeset image used for testing.\n\nChange-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11\n'}]",0,794679,c3483e88307e5d1cf04d3898a711d47dc3c80b61,26,9,6,9592,,,0,"Avoid using openstack constraints

This repository should not make use of openstack containt files and addresses sanity job failure
caused by switch of nodeset image used for testing.

Change-Id: I7f3eab6ac44f53451114dcd8841bf4300500ab11
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/79/794679/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce011ba6e6ed3541282606bb13bda575625ac5eb,,# master is failing on click 8.0.1 in upper and molecule < 8.0 #install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:}https://opendev.org/openstack/requirements/raw/branch/stable/wallaby/upper-constraints.txt {opts} {packages},install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},3,1
openstack%2Ftripleo-ansible~master~Iadf52ec1cec555e656207cc6279c6b11a9a0887d,openstack/tripleo-ansible,master,Iadf52ec1cec555e656207cc6279c6b11a9a0887d,Remove leftover of Panko support,MERGED,2021-06-02 07:54:06.000000000,2021-06-05 12:10:53.000000000,2021-06-05 12:10:53.000000000,"[{'_account_id': 4264}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-02 07:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c4d928deeca117e6c45e57030b8f64cf37a2559', 'message': 'Remove Panko support\n\n... because support for Panko in TripleO was removed and Panko itself\nhas been removed\n\nChange-Id: Iadf52ec1cec555e656207cc6279c6b11a9a0887d\n'}, {'number': 2, 'created': '2021-06-02 09:58:21.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d7559800624a32f97538b822f8fc3ed2c0eb223', 'message': 'Remove leftover of Panko support\n\n... because support for Panko in TripleO was removed during Ussuri\ncycle (actually it was removed during Train cycle but removal was\nreverted in Train) and Panko itself has been removed\n\nCo-authored-by: Matthias Runge <mrunge@redhat.com>\nChange-Id: Iadf52ec1cec555e656207cc6279c6b11a9a0887d\n'}]",0,794152,9d7559800624a32f97538b822f8fc3ed2c0eb223,14,7,2,9816,,,0,"Remove leftover of Panko support

... because support for Panko in TripleO was removed during Ussuri
cycle (actually it was removed during Train cycle but removal was
reverted in Train) and Panko itself has been removed

Co-authored-by: Matthias Runge <mrunge@redhat.com>
Change-Id: Iadf52ec1cec555e656207cc6279c6b11a9a0887d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/794152/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml']",3,2c4d928deeca117e6c45e57030b8f64cf37a2559,retire_panko,, pankoclient: present,0,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,openstack/tripleo-heat-templates,stable/ussuri,I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,Correct metrics_qdr logging path and regex parsing,MERGED,2021-05-05 12:34:57.000000000,2021-06-05 12:10:21.000000000,2021-06-05 12:10:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 12:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07acfae8a53788f7a393c86928aaec4292dc5bf5', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\n(cherry picked from commit 1785dabb83659aa6c2f331769a0214f813ed9c53)\n'}, {'number': 2, 'created': '2021-06-01 12:52:12.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad5ab191e49a2b7344031941df117484b6e05064', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\n(cherry picked from commit 1785dabb83659aa6c2f331769a0214f813ed9c53)\n'}]",0,789804,ad5ab191e49a2b7344031941df117484b6e05064,26,3,2,31510,,,0,"Correct metrics_qdr logging path and regex parsing

Change-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592
(cherry picked from commit 1785dabb83659aa6c2f331769a0214f813ed9c53)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/789804/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml']",2,07acfae8a53788f7a393c86928aaec4292dc5bf5,, file: /var/log/containers/metrics_qdr/metrics_qdr.log startmsg.regex: '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ \\+[0-9]+)? [A-Z]+ \\([a-z]+\\) '," file: /var/log/containers/qdrouterd/metrics_qdr.log startmsg.regex: ""^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ \\+[0-9]+)? [A-Z]+ \\([a-z]+\\) """,3,3
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I5870c0689434eaca8d114cd83e1164e1454565d7,openstack/puppet-tripleo,stable/victoria,I5870c0689434eaca8d114cd83e1164e1454565d7,Add option to set rsyslog reopenOnTruncate parameter for all services,MERGED,2021-06-03 14:35:05.000000000,2021-06-05 12:10:17.000000000,2021-06-05 12:10:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 14:35:05.000000000', 'files': ['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/94936054ac322eef42b880914d06ff4d1ae8cba8', 'message': 'Add option to set rsyslog reopenOnTruncate parameter for all services\n\nIf defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence\n\nChange-Id: I5870c0689434eaca8d114cd83e1164e1454565d7\n(cherry picked from commit 8f3a88ba27911eead71a5bf45e2540b0ab20e22a)\n'}]",0,794600,94936054ac322eef42b880914d06ff4d1ae8cba8,8,2,1,31510,,,0,"Add option to set rsyslog reopenOnTruncate parameter for all services

If defined, set reopenOnTruncate rsyslog imfile option for all services. Paremeter definition set by the services takes precedence

Change-Id: I5870c0689434eaca8d114cd83e1164e1454565d7
(cherry picked from commit 8f3a88ba27911eead71a5bf45e2540b0ab20e22a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/00/794600/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp']",2,94936054ac322eef42b880914d06ff4d1ae8cba8,rsyslog-reopen-on-truncate-stable/victoria,"# [*reopen_on_truncate*] # (Optional) String. Set all rsyslog imfile reopenOnTruncate parameters # unless it is already specified in hiera # Defaults to undef # $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ', Optional[Enum['on','off']] $reopen_on_truncate = undef if ! $config['reopenOnTruncate'] { if $reopen_on_truncate { $record2 = $record + {'reopenOnTruncate' => $reopen_on_truncate} } else { $record2 = $record } } else { $record2 = $record } $memo + [$record2]", $default_startmsg = '^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+ [0-9]+)? (DEBUG|INFO|WARNING|ERROR) ' $memo + [$record],29,3
openstack%2Fglance~master~Ifc2adcb7f8eaa7da2e7b063a8b79175025582500,openstack/glance,master,Ifc2adcb7f8eaa7da2e7b063a8b79175025582500,Fix missing context args to get_flow(),MERGED,2021-06-02 15:08:00.000000000,2021-06-05 10:56:17.000000000,2021-06-04 17:16:17.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dcc1c42028b4868215d3d82602d86db7ff529b6a', 'message': 'Fix missing context args to get_flow()\n\nTaskExecutor._get_flow() passes a context argument to the task\ninitialization routine, but a couple of tests that short-circuit that\ndo not. This makes those tests mimic the real behavior separately\nfrom the later patch that needs it to make it clear that it is not\nactually requiring a new argument at runtime.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ifc2adcb7f8eaa7da2e7b063a8b79175025582500\n'}, {'number': 2, 'created': '2021-06-02 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e69d621346a074169c6666ce0ae285d92bfb5fb9', 'message': 'Fix missing context args to get_flow()\n\nTaskExecutor._get_flow() passes a context argument to the task\ninitialization routine, but a couple of tests that short-circuit that\ndo not. This makes those tests mimic the real behavior separately\nfrom the later patch that needs it to make it clear that it is not\nactually requiring a new argument at runtime.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ifc2adcb7f8eaa7da2e7b063a8b79175025582500\n'}, {'number': 3, 'created': '2021-06-04 14:09:35.000000000', 'files': ['glance/tests/unit/async_/test_async.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4f20e5007f3cef4b2406051744356ee56c1d3c25', 'message': 'Fix missing context args to get_flow()\n\nTaskExecutor._get_flow() passes a context argument to the task\ninitialization routine, but a couple of tests that short-circuit that\ndo not. This makes those tests mimic the real behavior separately\nfrom the later patch that needs it to make it clear that it is not\nactually requiring a new argument at runtime.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ifc2adcb7f8eaa7da2e7b063a8b79175025582500\n'}]",0,794246,4f20e5007f3cef4b2406051744356ee56c1d3c25,14,3,3,4393,,,0,"Fix missing context args to get_flow()

TaskExecutor._get_flow() passes a context argument to the task
initialization routine, but a couple of tests that short-circuit that
do not. This makes those tests mimic the real behavior separately
from the later patch that needs it to make it clear that it is not
actually requiring a new argument at runtime.

Related to blueprint glance-unified-quotas

Change-Id: Ifc2adcb7f8eaa7da2e7b063a8b79175025582500
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/794246/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/test_async.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",2,dcc1c42028b4868215d3d82602d86db7ff529b6a,bp/glance-unified-quotas," context=self.context,",,3,1
openstack%2Fproject-team-guide~master~I99571c860b6e91229d9eb1692c5d1234b6303eec,openstack/project-team-guide,master,I99571c860b6e91229d9eb1692c5d1234b6303eec,Fix TC meeting & ofifce hour link,MERGED,2021-06-04 15:54:35.000000000,2021-06-05 10:13:30.000000000,2021-06-05 10:11:29.000000000,"[{'_account_id': 308}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 15:54:35.000000000', 'files': ['doc/source/open-community.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/6efa0e72951ed965838348b4a803a376a227b9bf', 'message': 'Fix TC meeting & ofifce hour link\n\nChange-Id: I99571c860b6e91229d9eb1692c5d1234b6303eec\n'}]",0,794855,6efa0e72951ed965838348b4a803a376a227b9bf,9,4,1,8556,,,0,"Fix TC meeting & ofifce hour link

Change-Id: I99571c860b6e91229d9eb1692c5d1234b6303eec
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/55/794855/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/open-community.rst'],1,6efa0e72951ed965838348b4a803a376a227b9bf,,`TC Meetings`_)... _TC Meetings: https://governance.openstack.org/tc/#meeting-office-hour,`TC office hours`_)... _TC office hours: https://governance.openstack.org/tc/#office-hours,2,2
openstack%2Fproject-team-guide~master~I34c5e9522981513a2bd9293b2592a07746bacf43,openstack/project-team-guide,master,I34c5e9522981513a2bd9293b2592a07746bacf43,Update for ask.openstack.org retirement,MERGED,2021-06-04 15:30:06.000000000,2021-06-05 10:12:39.000000000,2021-06-05 10:11:26.000000000,"[{'_account_id': 308}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 15:30:06.000000000', 'files': ['doc/source/open-community.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/53da1d7fc668e2e1ce6693044c8973089a99d57e', 'message': 'Update for ask.openstack.org retirement\n\nThe ask.openstack.org site was shutdown in May 2021.\n- https://ask.openstack.org/\n\nRemoving the reference of it from project team guide docs.\n\nChange-Id: I34c5e9522981513a2bd9293b2592a07746bacf43\n'}]",0,794853,53da1d7fc668e2e1ce6693044c8973089a99d57e,9,4,1,8556,,,0,"Update for ask.openstack.org retirement

The ask.openstack.org site was shutdown in May 2021.
- https://ask.openstack.org/

Removing the reference of it from project team guide docs.

Change-Id: I34c5e9522981513a2bd9293b2592a07746bacf43
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/53/794853/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/open-community.rst'],1,53da1d7fc668e2e1ce6693044c8973089a99d57e,,,* ask.openstack.org_* Looking weekly at ask.openstack.org_ for open queries related to your project... _ask.openstack.org: https://ask.openstack.org/,0,4
openstack%2Fhacking~master~I67c7fb8eebc0334d3dba4c821d1fa5af4b672145,openstack/hacking,master,I67c7fb8eebc0334d3dba4c821d1fa5af4b672145,setup.cfg: Replace dashes with underscores,MERGED,2021-05-29 19:09:23.000000000,2021-06-05 10:04:54.000000000,2021-06-05 10:03:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-29 19:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/8df6fd7e0b9380229df3835a8fd6002666180fa2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I67c7fb8eebc0334d3dba4c821d1fa5af4b672145\n""}, {'number': 2, 'created': '2021-06-02 10:45:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/hacking/commit/50f6cbea134f5b9395bf0d7f2588ac8a9f83f8de', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I67c7fb8eebc0334d3dba4c821d1fa5af4b672145\n""}]",2,793661,50f6cbea134f5b9395bf0d7f2588ac8a9f83f8de,11,3,2,33379,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I67c7fb8eebc0334d3dba4c821d1fa5af4b672145
",git fetch https://review.opendev.org/openstack/hacking refs/changes/61/793661/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8df6fd7e0b9380229df3835a8fd6002666180fa2,,home_page = https://docs.openstack.org/hacking/latest/ flake8_docstrings==0.2.1.post1 # MIT,home-page = https://docs.openstack.org/hacking/latest/ flake8-docstrings==0.2.1.post1 # MIT,2,2
openstack%2Fneutron~master~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,master,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-04-15 12:53:15.000000000,2021-06-05 10:04:30.000000000,2021-06-05 04:06:07.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-04-15 12:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b375d8acfe72af378ec20c84debf43b140279ef', 'message': 'Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n'}, {'number': 2, 'created': '2021-04-15 19:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49ca7f9e1093fef9eedd7308b43f22a2e5842c2c', 'message': 'Improve Subnet create performance\n\n- pass network obj from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n'}, {'number': 3, 'created': '2021-04-16 05:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/384c2917dbbad5cb4d1f059bac0b9b2cff75c20f', 'message': 'Improve Subnet create performance\n\n- pass network obj from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n'}, {'number': 4, 'created': '2021-04-16 08:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c507b5c2dfec319e690e50c06809520a41b9b38', 'message': 'Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n'}, {'number': 5, 'created': '2021-04-28 13:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88efe49e6d2ba6e1153ab4a348a38b0d42fd83bb', 'message': ""Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n- don't count subnets (DB request) if subnet has no segment\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n""}, {'number': 6, 'created': '2021-05-21 15:03:52.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f52280287f956f67c7b9c5c53ad945d96dd69103', 'message': ""Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n- don't count subnets (DB request) if subnet has no segment\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n""}]",0,786399,f52280287f956f67c7b9c5c53ad945d96dd69103,60,5,6,5948,,,0,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/786399/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",2,9b375d8acfe72af378ec20c84debf43b140279ef,subnet_create_opt," self._create_subnet_postcommit(context, result, network=mech_context.network.current)"," self._create_subnet_postcommit(context, result)",5,4
openstack%2Fproject-team-guide~master~Iea704badcc0bd0e011316b56cd0833af9f4f3592,openstack/project-team-guide,master,Iea704badcc0bd0e011316b56cd0833af9f4f3592,Update Planet OpenStack service retirement,MERGED,2021-06-04 15:17:38.000000000,2021-06-05 10:01:27.000000000,2021-06-05 10:00:10.000000000,"[{'_account_id': 308}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 15:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/cac7a1be13b353c8d688b0e57709bd248ce3d78f', 'message': 'Update Planet OpenStack service retirement\n\nplanet OpenStack service is no lnger active and\nretired in April 2021\n\n- https://opendev.org/openstack/openstack-planet\n\nChange-Id: Iea704badcc0bd0e011316b56cd0833af9f4f3592\n'}, {'number': 2, 'created': '2021-06-04 15:58:10.000000000', 'files': ['doc/source/open-community.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/97351a17c4a30118509efd04d35a206731a05afe', 'message': 'Update Planet OpenStack service retirement\n\nplanet OpenStack service is no lnger active and\nretired in April 2021\n\n- https://opendev.org/openstack/openstack-planet\n\nChange-Id: Iea704badcc0bd0e011316b56cd0833af9f4f3592\n'}]",0,794849,97351a17c4a30118509efd04d35a206731a05afe,11,4,2,8556,,,0,"Update Planet OpenStack service retirement

planet OpenStack service is no lnger active and
retired in April 2021

- https://opendev.org/openstack/openstack-planet

Change-Id: Iea704badcc0bd0e011316b56cd0833af9f4f3592
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/49/794849/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/open-community.rst'],1,cac7a1be13b353c8d688b0e57709bd248ce3d78f,,The `Planet OpenStack`_ service was retired in April 2021... _Planet OpenStack: https://opendev.org/openstack/openstack-planet ,"`Planet OpenStack`_ is a collection of thoughts from developers and other key players in the OpenStack project ecosystem. If your project contains active bloggers, it's a good idea to make sure their blogs are listed here. This is a nice way to provide an avenue of communication for developers in your project to share their thoughts and ideas around the work they are doing throughout the cycle. To list your blog in the Planet OpenStack aggregator, follow the steps outlined on the wiki for `adding your blog`_. .. _Planet OpenStack: http://planet.openstack.org/",2,11
openstack%2Fideas~master~I2c05d5868338a7e5fc887fc19679ded8ee7aee63,openstack/ideas,master,I2c05d5868338a7e5fc887fc19679ded8ee7aee63,Replace freenode ref with OFTC,MERGED,2021-05-31 21:17:18.000000000,2021-06-05 09:53:14.000000000,2021-06-05 09:52:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-31 21:17:18.000000000', 'files': ['doc/source/ideas/pylon/synchronous-and-pseudo-synchronous-comms.rst'], 'web_link': 'https://opendev.org/openstack/ideas/commit/be22db72ff5a3b9944c9df5da6ab95753467a7ba', 'message': 'Replace freenode ref with OFTC\n\nChange-Id: I2c05d5868338a7e5fc887fc19679ded8ee7aee63\n'}]",0,793865,be22db72ff5a3b9944c9df5da6ab95753467a7ba,8,2,1,8556,,,0,"Replace freenode ref with OFTC

Change-Id: I2c05d5868338a7e5fc887fc19679ded8ee7aee63
",git fetch https://review.opendev.org/openstack/ideas refs/changes/65/793865/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ideas/pylon/synchronous-and-pseudo-synchronous-comms.rst'],1,be22db72ff5a3b9944c9df5da6ab95753467a7ba,oftc,example is OpenDev's meetpad service and our OFTC IRC channels.,example is OpenDev's meetpad service and our freenode IRC channels.,1,1
openstack%2Fetcd3gw~master~I7d91bd9d2b3af880dcad33e06771c7d241956579,openstack/etcd3gw,master,I7d91bd9d2b3af880dcad33e06771c7d241956579,setup.cfg: Replace dashes with underscores,MERGED,2021-05-18 02:40:31.000000000,2021-06-05 09:47:28.000000000,2021-06-05 09:46:09.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 02:40:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/dc9f55975ecd5b291eb1014b9fe8393dcd6d7e5c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I7d91bd9d2b3af880dcad33e06771c7d241956579\n""}]",0,791868,dc9f55975ecd5b291eb1014b9fe8393dcd6d7e5c,8,2,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I7d91bd9d2b3af880dcad33e06771c7d241956579
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/68/791868/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dc9f55975ecd5b291eb1014b9fe8393dcd6d7e5c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/etcd3gw/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/etcd3gw/latest/ python-requires = >=3.6,4,4
openstack%2Fkolla-ansible~master~I73c2b0ab9c81bfad59725a3ea16eab5c13e07815,openstack/kolla-ansible,master,I73c2b0ab9c81bfad59725a3ea16eab5c13e07815,Fix release note markup,MERGED,2021-05-31 09:14:51.000000000,2021-06-05 09:34:38.000000000,2021-06-05 09:32:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-31 09:14:51.000000000', 'files': ['releasenotes/notes/bug-1922721-19163cfb491d0035.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/887bf6f1f35d5ca16a106c94082bf4ef4531146b', 'message': 'Fix release note markup\n\nChange-Id: I73c2b0ab9c81bfad59725a3ea16eab5c13e07815\n'}]",0,793744,887bf6f1f35d5ca16a106c94082bf4ef4531146b,10,3,1,15197,,,0,"Fix release note markup

Change-Id: I73c2b0ab9c81bfad59725a3ea16eab5c13e07815
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/793744/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1922721-19163cfb491d0035.yaml'],1,887bf6f1f35d5ca16a106c94082bf4ef4531146b,," Fixes an issue preventing prechecks from succeeding when a ""non-native"" NTP daemon was used, such as ``ntpd`` as opposed to ``systemd-timesyncd``"," Fixes an issue preventing prechecks from succeeding when ""non-native"" NTP daemon was used, such as ``ntpd` as opposed to ``systemd-timesyncd``",2,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I73c2b0ab9c81bfad59725a3ea16eab5c13e07815,openstack/kolla-ansible,stable/wallaby,I73c2b0ab9c81bfad59725a3ea16eab5c13e07815,Fix release note markup,MERGED,2021-05-28 20:53:03.000000000,2021-06-05 09:33:47.000000000,2021-06-05 09:32:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 20:53:03.000000000', 'files': ['releasenotes/notes/bug-1922721-19163cfb491d0035.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b971b61d35bddffe2b058b744301f8f9c428c38', 'message': 'Fix release note markup\n\nChange-Id: I73c2b0ab9c81bfad59725a3ea16eab5c13e07815\n'}]",0,793649,0b971b61d35bddffe2b058b744301f8f9c428c38,13,3,1,15197,,,0,"Fix release note markup

Change-Id: I73c2b0ab9c81bfad59725a3ea16eab5c13e07815
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/793649/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1922721-19163cfb491d0035.yaml'],1,0b971b61d35bddffe2b058b744301f8f9c428c38,," Fixes an issue preventing prechecks from succeeding when a ""non-native"" NTP daemon was used, such as ``ntpd`` as opposed to ``systemd-timesyncd``"," Fixes an issue preventing prechecks from succeeding when ""non-native"" NTP daemon was used, such as ``ntpd` as opposed to ``systemd-timesyncd``",2,2
openstack%2Fkolla-ansible~master~Ic45f618204875684f52133ec0f69fe7512ec9e2c,openstack/kolla-ansible,master,Ic45f618204875684f52133ec0f69fe7512ec9e2c,[TrivialFix] Remove extra slash,MERGED,2021-06-04 10:34:41.000000000,2021-06-05 09:33:37.000000000,2021-06-05 09:32:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-04 10:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6748b0ae88c412aed61fb14a19ec60cd8238c483', 'message': 'This underscore is not needed for cleanup-host\n\nChange-Id: Ic45f618204875684f52133ec0f69fe7512ec9e2c\n'}, {'number': 2, 'created': '2021-06-05 02:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/702cad6d3e604149a2b0ea92e0a87c7c5777b4dc', 'message': 'This underscore is not needed for cleanup-host\n\nChange-Id: Ic45f618204875684f52133ec0f69fe7512ec9e2c\n'}, {'number': 3, 'created': '2021-06-05 07:14:31.000000000', 'files': ['tools/cleanup-host'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cccf4f7771868bbd2bcd043c2ae87dbfed8224aa', 'message': '[TrivialFix] Remove extra slash\n\nChange-Id: Ic45f618204875684f52133ec0f69fe7512ec9e2c\n'}]",0,794775,cccf4f7771868bbd2bcd043c2ae87dbfed8224aa,16,2,3,32029,,,0,"[TrivialFix] Remove extra slash

Change-Id: Ic45f618204875684f52133ec0f69fe7512ec9e2c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/794775/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/cleanup-host'],1,6748b0ae88c412aed61fb14a19ec60cd8238c483,cleanup-host,"if [[ -e ""${FOLDER_PATH}ovsdpdk-db/ovs-dpdkctl.sh"" ]]; then","if [[ -e ""$FOLDER_PATH/ovsdpdk-db/ovs-dpdkctl.sh"" ]]; then",1,1
openstack%2Fneutron~master~I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff,openstack/neutron,master,I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff,[Fullstack] Add segmentation_id update test,MERGED,2021-03-29 21:26:38.000000000,2021-06-05 09:29:59.000000000,2021-06-05 09:28:15.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-03-29 21:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/527ae55a4f2812e36f2381ee3b78b250544a5397', 'message': '[Fullstack] Add segmentation_id update test\n\nThis patch adds new fullstack test which spawns 2 ""hosts"" and 2 ""VMs"" on\nthose hosts. Both VMs are plugged to the vlan network with some\nsegmentation id. Next segmentation id of the network is updated and test\nensures that new vlan id is configured in the physical bridge on both\n""hosts"" and connectivity between VMs still works fine.\n\nTest runs only with Openvswitch agents as Linuxbridge don\'t supports\nlive update of the segmentation_id in the network.\n\nChange-Id: I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff\n'}, {'number': 2, 'created': '2021-04-16 13:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2cfea80caf610fa0e3ad73fdfb8dbd87f934356', 'message': '[Fullstack] Add segmentation_id update test\n\nThis patch adds new fullstack test which spawns 2 ""hosts"" and 2 ""VMs"" on\nthose hosts. Both VMs are plugged to the vlan network with some\nsegmentation id. Next segmentation id of the network is updated and test\nensures that new vlan id is configured in the physical bridge on both\n""hosts"" and connectivity between VMs still works fine.\n\nTest runs only with Openvswitch agents as Linuxbridge don\'t supports\nlive update of the segmentation_id in the network.\n\nChange-Id: I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff\n'}, {'number': 3, 'created': '2021-04-27 07:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/941b75543cb8a5bade8e346c6ee32a749229467e', 'message': '[Fullstack] Add segmentation_id update test\n\nThis patch adds new fullstack test which spawns 2 ""hosts"" and 2 ""VMs"" on\nthose hosts. Both VMs are plugged to the vlan network with some\nsegmentation id. Next segmentation id of the network is updated and test\nensures that new vlan id is configured in the physical bridge on both\n""hosts"" and connectivity between VMs still works fine.\n\nTest runs only with Openvswitch agents as Linuxbridge don\'t supports\nlive update of the segmentation_id in the network.\n\nChange-Id: I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff\n'}, {'number': 4, 'created': '2021-04-27 07:41:37.000000000', 'files': ['neutron/tests/fullstack/base.py', 'neutron/tests/common/agents/l2_extensions.py', 'neutron/tests/fullstack/test_segmentation_id.py', 'neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87a7a5e32e3ebe41ac66646290022802383dd644', 'message': '[Fullstack] Add segmentation_id update test\n\nThis patch adds new fullstack test which spawns 2 ""hosts"" and 2 ""VMs"" on\nthose hosts. Both VMs are plugged to the vlan network with some\nsegmentation id. Next segmentation id of the network is updated and test\nensures that new vlan id is configured in the physical bridge on both\n""hosts"" and connectivity between VMs still works fine.\n\nTest runs only with Openvswitch agents as Linuxbridge doesn\'t supports\nlive update of the segmentation_id in the network.\n\nChange-Id: I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff\n'}]",12,783748,87a7a5e32e3ebe41ac66646290022802383dd644,133,7,4,11975,,,0,"[Fullstack] Add segmentation_id update test

This patch adds new fullstack test which spawns 2 ""hosts"" and 2 ""VMs"" on
those hosts. Both VMs are plugged to the vlan network with some
segmentation id. Next segmentation id of the network is updated and test
ensures that new vlan id is configured in the physical bridge on both
""hosts"" and connectivity between VMs still works fine.

Test runs only with Openvswitch agents as Linuxbridge doesn't supports
live update of the segmentation_id in the network.

Change-Id: I459aac7f4e9afe679d8ece1c27d0be49cec8e4ff
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/783748/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/base.py', 'neutron/tests/common/agents/l2_extensions.py', 'neutron/tests/fullstack/test_connectivity.py', 'neutron/tests/fullstack/test_segmentation_id.py']",4,527ae55a4f2812e36f2381ee3b78b250544a5397,segmentation-id-update-test-case,"from neutron.tests.common.agents import l2_extensionsclass BaseSegmentationIdTest(base.BaseFullStackTestCase): network_type = ""vlan"" l2_agent_type=self.l2_agent_type, l3_agent=False ) for _ in range(self.num_hosts)] environment.EnvironmentDescription( network_type=self.network_type), super(BaseSegmentationIdTest, self).setUp(env) self.project_id = uuidutils.generate_uuid() self.project_id, network_type=self.network_type, segmentation_id=seg_id, return network class TestSegmentationId(BaseSegmentationIdTest): scenarios = [ ('Open vSwitch Agent', {'l2_agent_type': constants.AGENT_TYPE_OVS}), ('Linux Bridge Agent', { 'l2_agent_type': constants.AGENT_TYPE_LINUXBRIDGE})] num_hosts = 1 # Now change segmentation_id to some other value self.project_id, network['id'], '20.0.0.0/24') self.safe_client.create_port(self.project_id, network['id']) self.safe_client.create_port(self.project_id, network['id'], self.project_id, network['id'], '20.0.0.0/24') self.safe_client.create_port(self.project_id, network['id'], class TestSegmentationIdConnectivity(BaseSegmentationIdTest): scenarios = [ ('Open vSwitch Agent', {'l2_agent_type': constants.AGENT_TYPE_OVS})] num_hosts = 2 def _ensure_vlan_id_set_in_flows(self, vlan_id): for host in self.environment.hosts: l2_extensions.wait_for_mod_vlan_id_applied(host.br_phys, vlan_id) def test_connectivity_after_segmentation_id_update(self): network = self._create_network() self.safe_client.create_subnet( self.project_id, network['id'], cidr='10.0.0.0/24', gateway_ip='10.0.0.1', name='subnet-test', enable_dhcp=False) vms = self._prepare_vms_in_net(self.project_id, network, False) self._ensure_vlan_id_set_in_flows(network['provider:segmentation_id']) vms.ping_all() network = self._update_segmentation_id(network) self._ensure_vlan_id_set_in_flows(network['provider:segmentation_id']) vms.ping_all()","class TestSegmentationId(base.BaseFullStackTestCase): scenarios = [ ('Open vSwitch Agent', {'l2_agent_type': constants.AGENT_TYPE_OVS}), ('Linux Bridge Agent', { 'l2_agent_type': constants.AGENT_TYPE_LINUXBRIDGE})] l2_agent_type=self.l2_agent_type, l3_agent=False)] environment.EnvironmentDescription(), super(TestSegmentationId, self).setUp(env) self.tenant_id = uuidutils.generate_uuid() self.tenant_id, network_type=""vlan"", segmentation_id=seg_id, # Now change segmentation_id to some other value self.tenant_id, network['id'], '20.0.0.0/24') self.safe_client.create_port(self.tenant_id, network['id']) self.safe_client.create_port(self.tenant_id, network['id'], self.tenant_id, network['id'], '20.0.0.0/24') self.safe_client.create_port(self.tenant_id, network['id'],",93,32
openstack%2Fneutron~master~I34f850782092f771482a297ae1e68a63ffb027c1,openstack/neutron,master,I34f850782092f771482a297ae1e68a63ffb027c1,Improve Subnet delete performance,MERGED,2021-04-28 13:54:25.000000000,2021-06-05 09:02:20.000000000,2021-06-05 00:57:35.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 13:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb8f0baa4e275b0619052d034ee32c8e1755cf65', 'message': ""Improve Subnet delete performance\n\n- don't re-fetch subnet object from DB\n- network is not used in SubnetContext when deleting subnet\n\nAbove gives ~35% improvement\n\nChange-Id: I34f850782092f771482a297ae1e68a63ffb027c1\n""}, {'number': 2, 'created': '2021-05-21 15:03:38.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdd50ffcde2875c877127975294dd5a29213e92b', 'message': ""Improve Subnet delete performance\n\n- don't re-fetch subnet object from DB\n- network is not used in SubnetContext when deleting subnet\n\nAbove gives ~35% improvement\n\nChange-Id: I34f850782092f771482a297ae1e68a63ffb027c1\n""}]",0,788497,bdd50ffcde2875c877127975294dd5a29213e92b,41,3,2,5948,,,0,"Improve Subnet delete performance

- don't re-fetch subnet object from DB
- network is not used in SubnetContext when deleting subnet

Above gives ~35% improvement

Change-Id: I34f850782092f771482a297ae1e68a63ffb027c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/788497/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",2,fb8f0baa4e275b0619052d034ee32c8e1755cf65,subnet_del_opt," subnet_obj = (kwargs.get('subnet_obj') or self._get_subnet_object(context, subnet_id)) subnet, network=None)"," subnet_obj = self._get_subnet_object(context, subnet_id) network = self.get_network(context, subnet['network_id']) subnet, network)",5,4
openstack%2Fcastellan~stable%2Fvictoria~I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,openstack/castellan,stable/victoria,I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,Add missing font for PDF doc generation,MERGED,2021-06-04 11:55:42.000000000,2021-06-05 08:48:43.000000000,2021-06-05 08:47:28.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 11:55:42.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/90878d373199ebd0296c37e2d30a34996eac2672', 'message': ""Add missing font for PDF doc generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30\n(cherry picked from commit 0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99)\n(cherry picked from commit 3775cf425396776ae401a5560ae1dfa55a429116)\n""}]",0,794785,90878d373199ebd0296c37e2d30a34996eac2672,17,3,1,17685,,,0,"Add missing font for PDF doc generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30
(cherry picked from commit 0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99)
(cherry picked from commit 3775cf425396776ae401a5560ae1dfa55a429116)
",git fetch https://review.opendev.org/openstack/castellan refs/changes/85/794785/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,90878d373199ebd0296c37e2d30a34996eac2672,missing-tgtermes.sty, # PDF Docs package dependencies tex-gyre [doc platform:dpkg],,3,0
openstack%2Fneutron~master~Ib40eabd6a8e9d59896e0e20383d8061eb4b5c710,openstack/neutron,master,Ib40eabd6a8e9d59896e0e20383d8061eb4b5c710,Set the default ``Backend.lookup`` timeout to 2 seconds,MERGED,2021-05-12 08:01:29.000000000,2021-06-05 08:00:03.000000000,2021-06-04 23:20:10.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-12 08:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3a1f7ad0c3729964a91bd40d80cd384e268c2bf', 'message': ""Set the default ``Backend.lookup`` timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don't pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\novsdbapp library is bumped to version 1.10.0 to receive the change\nthat introduces the active wait in ``Backend.lookup`` and adds the\ntimeout parameter to the method signature.\n\nChange-Id: Ib40eabd6a8e9d59896e0e20383d8061eb4b5c710\nRelated-Bug: #1922934\n""}, {'number': 2, 'created': '2021-05-13 13:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/311a5565c0e7315400e1c85107dcd9c5d62614f6', 'message': ""Set the default ``Backend.lookup`` timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don't pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\novsdbapp library is bumped to version 1.10.0 to receive the change\nthat introduces the active wait in ``Backend.lookup`` and adds the\ntimeout parameter to the method signature.\n\nChange-Id: Ib40eabd6a8e9d59896e0e20383d8061eb4b5c710\nRelated-Bug: #1922934\n""}, {'number': 3, 'created': '2021-05-17 07:46:02.000000000', 'files': ['requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9bda4b1e439b5e761b445ce6686166eb41a0e45', 'message': ""Set the default ``Backend.lookup`` timeout to 2 seconds\n\nIn order to broadly cover the issue described in the referred bug,\nthis patch sets a default timeout of 2 seconds in the\n``ovs_idl.Backend.lookup`` method.\n\nThis timeout should cover most of the situations where the IDL local\ncache update is delayed. This patch does not change the default\nbehavior, except it will not fail if the DB cache is synchronized\nwithin 2 seconds.\n\nIf we don't pass the notify handler or the backend does not implement\none, in case of not finding the requested register, the method will\nraise like before.\n\novsdbapp library is bumped to version 1.10.0 to receive the change\nthat introduces the active wait in ``Backend.lookup`` and adds the\ntimeout parameter to the method signature.\n\nChange-Id: Ib40eabd6a8e9d59896e0e20383d8061eb4b5c710\nRelated-Bug: #1922934\n""}]",5,790912,f9bda4b1e439b5e761b445ce6686166eb41a0e45,38,5,3,16688,,,0,"Set the default ``Backend.lookup`` timeout to 2 seconds

In order to broadly cover the issue described in the referred bug,
this patch sets a default timeout of 2 seconds in the
``ovs_idl.Backend.lookup`` method.

This timeout should cover most of the situations where the IDL local
cache update is delayed. This patch does not change the default
behavior, except it will not fail if the DB cache is synchronized
within 2 seconds.

If we don't pass the notify handler or the backend does not implement
one, in case of not finding the requested register, the method will
raise like before.

ovsdbapp library is bumped to version 1.10.0 to receive the change
that introduces the active wait in ``Backend.lookup`` and adds the
timeout parameter to the method signature.

Change-Id: Ib40eabd6a8e9d59896e0e20383d8061eb4b5c710
Related-Bug: #1922934
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/790912/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'lower-constraints.txt']",3,e3a1f7ad0c3729964a91bd40d80cd384e268c2bf,bug/1922934,ovsdbapp==1.10.0,ovsdbapp==1.7.0,11,2
openstack%2Fvalidations-libs~master~Ibd241db35168c495806eaba183325c485f872df3,openstack/validations-libs,master,Ibd241db35168c495806eaba183325c485f872df3,Update Validations Framework IRC channels,MERGED,2021-06-04 08:01:22.000000000,2021-06-05 05:22:50.000000000,2021-06-05 05:21:37.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-04 08:01:22.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/04e84c81ee8dea8f2beb4cd6f39d3ddb9c593848', 'message': 'Update Validations Framework IRC channels\n\nThis patch updates the information about the `#tripleo` IRC channel\nafter the OFTC migration and adds our brand new channel at Libera named\n`#validation-framework`.\n\nChange-Id: Ibd241db35168c495806eaba183325c485f872df3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,794731,04e84c81ee8dea8f2beb4cd6f39d3ddb9c593848,10,7,1,11491,,,0,"Update Validations Framework IRC channels

This patch updates the information about the `#tripleo` IRC channel
after the OFTC migration and adds our brand new channel at Libera named
`#validation-framework`.

Change-Id: Ibd241db35168c495806eaba183325c485f872df3
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/31/794731/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,04e84c81ee8dea8f2beb4cd6f39d3ddb9c593848,add_libera_chan_info,Communication ------------- * IRC channel ``#validation-framework`` at `Libera`_ (For all subject-matters) * IRC channel ``#tripleo`` at `OFTC`_ (OpenStack and TripleO discussions) .. _Libera: https://libera.chat/ .. _OFTC: https://www.oftc.net/,#tripleo on Freenode IRC Network -------------------------------- There is a very active chat channel at irc://freenode.net/#tripleo. This is usually the best place to ask questions and find your way around. IRC stands for Internet Relay Chat and it is a way to chat online in real time. You can ask a question and come back later to read the answer in the log files. Logs for the #tripleo IRC channel are stored at http://eavesdrop.openstack.org/irclogs/%23tripleo/.,7,8
openstack%2Fvalidations-common~master~I48e856b688b9e724ca49858d4aca0d3f32ca2de2,openstack/validations-common,master,I48e856b688b9e724ca49858d4aca0d3f32ca2de2,Update Validations Framework IRC channels,MERGED,2021-06-04 08:05:04.000000000,2021-06-05 05:22:47.000000000,2021-06-05 05:21:15.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-04 08:05:04.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/92f51eadc73438fe3cb91c608aa47714a02d20e2', 'message': 'Update Validations Framework IRC channels\n\nThis patch updates the information about the `#tripleo` IRC channel\nafter the OFTC migration and adds our brand new channel at Libera named\n`#validation-framework`.\n\nChange-Id: I48e856b688b9e724ca49858d4aca0d3f32ca2de2\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,794732,92f51eadc73438fe3cb91c608aa47714a02d20e2,9,7,1,11491,,,0,"Update Validations Framework IRC channels

This patch updates the information about the `#tripleo` IRC channel
after the OFTC migration and adds our brand new channel at Libera named
`#validation-framework`.

Change-Id: I48e856b688b9e724ca49858d4aca0d3f32ca2de2
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/32/794732/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,92f51eadc73438fe3cb91c608aa47714a02d20e2,add_libera_chan_info,Communication ------------- * IRC channel ``#validation-framework`` at `Libera`_ (For all subject-matters) * IRC channel ``#tripleo`` at `OFTC`_ (OpenStack and TripleO discussions) .. _Libera: https://libera.chat/ .. _OFTC: https://www.oftc.net/ ,,8,0
openstack%2Ftripleo-validations~master~I8c0c1c90e92d323a04570940eba9456fc34d92da,openstack/tripleo-validations,master,I8c0c1c90e92d323a04570940eba9456fc34d92da,Update Validations Framework IRC channels,MERGED,2021-06-04 07:53:41.000000000,2021-06-05 05:21:11.000000000,2021-06-05 05:21:11.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-04 07:53:41.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/089eaf92010f26beea9f76fd3987d5c0bf212eee', 'message': 'Update Validations Framework IRC channels\n\nThis patch updates the information about the `#tripleo` IRC channel\nafter the OFTC migration and adds our brand new channel at Libera named\n`#validation-framework`.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I8c0c1c90e92d323a04570940eba9456fc34d92da\n'}]",0,794727,089eaf92010f26beea9f76fd3987d5c0bf212eee,8,7,1,11491,,,0,"Update Validations Framework IRC channels

This patch updates the information about the `#tripleo` IRC channel
after the OFTC migration and adds our brand new channel at Libera named
`#validation-framework`.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I8c0c1c90e92d323a04570940eba9456fc34d92da
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/794727/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,089eaf92010f26beea9f76fd3987d5c0bf212eee,add_libera_chan_info,* IRC channel ``#validation-framework`` at `Libera`_ (For all subject-matters) * IRC channel ``#tripleo`` at `OFTC`_ (OpenStack and TripleO discussions).. _Libera: https://libera.chat/ .. _OFTC: https://www.oftc.net/ ,* IRC channel ``#tripleo`` at FreeNode,5,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,openstack/tripleo-heat-templates,stable/wallaby,I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,Add OVNCMSOptions to Controller and Networker roles,MERGED,2021-06-02 00:10:42.000000000,2021-06-05 05:21:05.000000000,2021-06-05 05:21:05.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 00:10:42.000000000', 'files': ['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2', 'message': 'Add OVNCMSOptions to Controller and Networker roles\n\nOVN is a default networking service for Neutron.\nThe default configurations for OVN were implemented but OVNCMSOptions\nwas missing.\nThis change introduces OVNCMSOptions to Controller and Networker roles.\n\nCloses-Bug: #1928901\nChange-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2\n(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)\n'}]",0,794062,e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2,11,4,1,25613,,,0,"Add OVNCMSOptions to Controller and Networker roles

OVN is a default networking service for Neutron.
The default configurations for OVN were implemented but OVNCMSOptions
was missing.
This change introduces OVNCMSOptions to Controller and Networker roles.

Closes-Bug: #1928901
Change-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2
(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/794062/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml']",11,e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2,add_OVNCMSOption_to_roles-stable/wallaby," RoleParametersDefault: OVNCMSOptions: ""enable-chassis-as-gw""",,22,0
openstack%2Ffreezer-tempest-plugin~master~I1df7562dd0ffcd8570b51ca238559ee9e2a2e654,openstack/freezer-tempest-plugin,master,I1df7562dd0ffcd8570b51ca238559ee9e2a2e654,Remove the below nodeset setting to Bionic,MERGED,2021-06-05 02:37:31.000000000,2021-06-05 03:57:33.000000000,2021-06-05 03:57:33.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 02:37:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/aaf0e2c3d48645b6c824126a6dabfe552123086b', 'message': 'Remove the below nodeset setting to Bionic\n\nThe bug https://bugs.launchpad.net/freezer/+bug/1896648 is fixed.\nOnce nodeset is removed form here then devstack-tempest job\nwill automatically run this job on Ubuntu Focal nodeset from\nVictoria gate onwards.\n\nChange-Id: I1df7562dd0ffcd8570b51ca238559ee9e2a2e654\n'}]",0,794908,aaf0e2c3d48645b6c824126a6dabfe552123086b,6,2,1,21069,,,0,"Remove the below nodeset setting to Bionic

The bug https://bugs.launchpad.net/freezer/+bug/1896648 is fixed.
Once nodeset is removed form here then devstack-tempest job
will automatically run this job on Ubuntu Focal nodeset from
Victoria gate onwards.

Change-Id: I1df7562dd0ffcd8570b51ca238559ee9e2a2e654
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/08/794908/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aaf0e2c3d48645b6c824126a6dabfe552123086b,, # nodeset: openstack-single-node-bionic, nodeset: openstack-single-node-bionic,1,1
openstack%2Fpuppet-rally~stable%2Fvictoria~Iefb7707708ed8b89f2e53296077fb3a9712c62cc,openstack/puppet-rally,stable/victoria,Iefb7707708ed8b89f2e53296077fb3a9712c62cc,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:22.000000000,2021-06-05 03:18:18.000000000,2021-06-05 03:18:18.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:22.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/cc6af6673e2c4d37306716bc0d21a8807a39ca62', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Iefb7707708ed8b89f2e53296077fb3a9712c62cc\n(cherry picked from commit 9efde790ad7856892ca3bfd93bba69a71cd93c8c)\n'}]",0,794928,cc6af6673e2c4d37306716bc0d21a8807a39ca62,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Iefb7707708ed8b89f2e53296077fb3a9712c62cc
(cherry picked from commit 9efde790ad7856892ca3bfd93bba69a71cd93c8c)
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/28/794928/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,cc6af6673e2c4d37306716bc0d21a8807a39ca62,cherrypick-bug/1930403-stable/wallaby-ew0154imud,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-senlin~stable%2Fvictoria~I971e9c0f3b99c0f8f46807ba38026d78322383aa,openstack/puppet-senlin,stable/victoria,I971e9c0f3b99c0f8f46807ba38026d78322383aa,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:20.000000000,2021-06-05 03:14:40.000000000,2021-06-05 03:14:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:20.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/e6f48d16002a49d272aefe80e24d29350165eb35', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I971e9c0f3b99c0f8f46807ba38026d78322383aa\n(cherry picked from commit e4734e5ddee66bfc47c7d1b271f6c19b3ec75421)\n'}]",0,794926,e6f48d16002a49d272aefe80e24d29350165eb35,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I971e9c0f3b99c0f8f46807ba38026d78322383aa
(cherry picked from commit e4734e5ddee66bfc47c7d1b271f6c19b3ec75421)
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/26/794926/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,e6f48d16002a49d272aefe80e24d29350165eb35,cherrypick-bug/1930403-stable/wallaby-ew0154imud,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-qdr~stable%2Fvictoria~Ib8754c6a53c4fbd984583107c418fbd29c924fc3,openstack/puppet-qdr,stable/victoria,Ib8754c6a53c4fbd984583107c418fbd29c924fc3,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:19.000000000,2021-06-05 03:13:33.000000000,2021-06-05 03:13:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:19.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/00776bc5af24ec6ba86c49ad07608bd9f6b3d033', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ib8754c6a53c4fbd984583107c418fbd29c924fc3\n(cherry picked from commit fc36b7462980d0b6641c2be0230117795898faf5)\n'}]",0,794924,00776bc5af24ec6ba86c49ad07608bd9f6b3d033,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ib8754c6a53c4fbd984583107c418fbd29c924fc3
(cherry picked from commit fc36b7462980d0b6641c2be0230117795898faf5)
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/24/794924/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,00776bc5af24ec6ba86c49ad07608bd9f6b3d033,cherrypick-bug/1930403-stable/wallaby-ew0154imud,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-monasca~stable%2Fvictoria~Ic6af657059b55368897b04e2f537bb0b60298b31,openstack/puppet-monasca,stable/victoria,Ic6af657059b55368897b04e2f537bb0b60298b31,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:18.000000000,2021-06-05 03:13:25.000000000,2021-06-05 03:13:25.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:18.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/adb95007e91c8b02a99ad5492005187a841ee3e3', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ic6af657059b55368897b04e2f537bb0b60298b31\n(cherry picked from commit a17e3363dda9ad6789f0e5af5ac5fd14a9ac4ca7)\n'}]",0,794922,adb95007e91c8b02a99ad5492005187a841ee3e3,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ic6af657059b55368897b04e2f537bb0b60298b31
(cherry picked from commit a17e3363dda9ad6789f0e5af5ac5fd14a9ac4ca7)
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/22/794922/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,adb95007e91c8b02a99ad5492005187a841ee3e3,cherrypick-bug/1930403-stable/wallaby-ew0154imud,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-freezer~stable%2Fvictoria~Ic97244e31dbd8f6df843ae91c82369fc17c225d0,openstack/puppet-freezer,stable/victoria,Ic97244e31dbd8f6df843ae91c82369fc17c225d0,Set fixture paths for unit tests,MERGED,2021-06-05 00:35:17.000000000,2021-06-05 03:11:11.000000000,2021-06-05 03:11:11.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-05 00:35:17.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/d568517a0cabb25c48f83382d2e87f534973f26b', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ic97244e31dbd8f6df843ae91c82369fc17c225d0\n(cherry picked from commit 2420f2b314a138038b9d4ac2e8a0af5c76a43bde)\n'}]",0,794920,d568517a0cabb25c48f83382d2e87f534973f26b,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ic97244e31dbd8f6df843ae91c82369fc17c225d0
(cherry picked from commit 2420f2b314a138038b9d4ac2e8a0af5c76a43bde)
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/20/794920/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,d568517a0cabb25c48f83382d2e87f534973f26b,cherrypick-bug/1930403-stable/wallaby-ew0154imud,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fneutron~master~If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,openstack/neutron,master,If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,Make phynet paramter also is optional when network_segment_range enabled,MERGED,2021-02-07 10:04:13.000000000,2021-06-05 01:05:30.000000000,2021-06-05 01:03:45.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-07 10:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/324c7289041f895dcc21bb91a656e12260562aa8', 'message': 'Fix bug 1914842\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 2, 'created': '2021-02-07 10:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a397f7ad19b1abc78e3de87d00da7f6b3dc53a5', 'message': 'Fix bug #1914842\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 3, 'created': '2021-02-09 07:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08f3570c5ccdca464ccee6412c07410cdf372041', 'message': 'Randomly select one when physnet not provided with network segment range\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 4, 'created': '2021-03-15 11:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ba8cf97c2c80455b760d8d0ef937416fe13a032', 'message': ""Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin not enabled. we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe shoule support don't provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n""}, {'number': 5, 'created': '2021-03-19 07:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4950ef426b64f6bc355258f44dd4bd618eba51cf', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 6, 'created': '2021-03-20 02:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1caeb1104502d7644749296832219e000840cdcf', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 7, 'created': '2021-05-09 02:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0565749b7e96aa132ac6a97166a8effc0b530035', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 8, 'created': '2021-05-13 06:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4457190abcfc9fcff5e7646a7fdaed09ceeeddd', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}, {'number': 9, 'created': '2021-05-16 09:10:59.000000000', 'files': ['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n'}]",19,774375,fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7,89,6,9,28329,,,0,"Make phynet paramter also is optional when network_segment_range enabled

When network_segment_range plugin is not enabled, we can create a provider
network without physical_network parameter. In order to compatibility,
We should support to not provide physical_network parameter when create
provider network with network_segment_range plugin enabled.

Closes-Bug: #1914842
Change-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/774375/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/network_segment_range.py'],1,324c7289041f895dcc21bb91a656e12260562aa8,bug/1914842," _filters.get('physical_network', '*')) _filters.get('physical_network', '*'))", _filters['physical_network']) _filters['physical_network']),2,2
openstack%2Ftripleo-puppet-elements~master~I39512429effde741b514a24e138ac509e30c2dde,openstack/tripleo-puppet-elements,master,I39512429effde741b514a24e138ac509e30c2dde,Remove pankoclient,MERGED,2021-06-02 07:39:33.000000000,2021-06-05 01:04:27.000000000,2021-06-05 01:04:27.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 07:39:33.000000000', 'files': ['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/0d0067a51a13f1e084255851328a872fbc10df3c', 'message': 'Remove pankoclient\n\nit is removed from upstream and removed from tht since ussuri.\n\nChange-Id: I39512429effde741b514a24e138ac509e30c2dde\n'}]",0,794148,0d0067a51a13f1e084255851328a872fbc10df3c,9,4,1,4264,,,0,"Remove pankoclient

it is removed from upstream and removed from tht since ussuri.

Change-Id: I39512429effde741b514a24e138ac509e30c2dde
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/48/794148/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients'],1,0d0067a51a13f1e084255851328a872fbc10df3c,retire_panko,,pankoclient_package,0,1
openstack%2Ftripleo-ci~master~Idac8390c22082d1b2704c2706d2a0c85cca44407,openstack/tripleo-ci,master,Idac8390c22082d1b2704c2706d2a0c85cca44407,Adding test_minimum_basic_scenario test on scenario007,MERGED,2021-06-04 08:54:22.000000000,2021-06-05 01:04:22.000000000,2021-06-05 01:04:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-04 08:54:22.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/861edce025e963880f6236eb6e1e30712e85ade9', 'message': 'Adding test_minimum_basic_scenario test on scenario007\n\nThis job is failing because right now test_network_basic_ops is being\nskipped, and tempest must always have at least one job running.\n\nChange-Id: Idac8390c22082d1b2704c2706d2a0c85cca44407\n'}]",0,794750,861edce025e963880f6236eb6e1e30712e85ade9,11,8,1,8367,,,0,"Adding test_minimum_basic_scenario test on scenario007

This job is failing because right now test_network_basic_ops is being
skipped, and tempest must always have at least one job running.

Change-Id: Idac8390c22082d1b2704c2706d2a0c85cca44407
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/794750/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,861edce025e963880f6236eb6e1e30712e85ade9,test-scen007, - 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario',,1,0
openstack%2Foctavia~stable%2Fvictoria~I39391070cea170a6039f901093f09fc89ba06123,openstack/octavia,stable/victoria,I39391070cea170a6039f901093f09fc89ba06123,Fix using subnets with host_routes in amphorav2 driver,MERGED,2021-05-17 07:07:43.000000000,2021-06-05 00:46:42.000000000,2021-06-05 00:42:46.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:07:43.000000000', 'files': ['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'releasenotes/notes/fix-subnet-host_routes-amphorav2-3c079c5a3bfa1b3d.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a139d2f97c54e88c508d9ffa85a5c6268538b84e', 'message': 'Fix using subnets with host_routes in amphorav2 driver\n\nWhen using subnets with host_routes in amphorav2, the host_routes\nattribute in the Subnet data structure was not correctly converted to a\nHostRoute data structure. It triggered exceptions and failed to\nprovision the load balancer.\n\nStory 2008738\nTask 42092\n\nChange-Id: I39391070cea170a6039f901093f09fc89ba06123\n(cherry picked from commit d0ec3aaf23eba0ffc8fe7bc86b51d4857e0cc507)\n'}]",0,791646,a139d2f97c54e88c508d9ffa85a5c6268538b84e,9,5,1,6469,,,0,"Fix using subnets with host_routes in amphorav2 driver

When using subnets with host_routes in amphorav2, the host_routes
attribute in the Subnet data structure was not correctly converted to a
HostRoute data structure. It triggered exceptions and failed to
provision the load balancer.

Story 2008738
Task 42092

Change-Id: I39391070cea170a6039f901093f09fc89ba06123
(cherry picked from commit d0ec3aaf23eba0ffc8fe7bc86b51d4857e0cc507)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/791646/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'releasenotes/notes/fix-subnet-host_routes-amphorav2-3c079c5a3bfa1b3d.yaml']",3,a139d2f97c54e88c508d9ffa85a5c6268538b84e,,--- fixes: - | Fix load balancers that use customized host_routes in the VIP or the member subnets in amphorav2. ,,105,5
openstack%2Foctavia~stable%2Fwallaby~I987535e90cbf13917c50c5905c64b614188928ec,openstack/octavia,stable/wallaby,I987535e90cbf13917c50c5905c64b614188928ec,Fix devstack cleanup when using amphorav2,MERGED,2021-05-17 07:13:37.000000000,2021-06-05 00:45:26.000000000,2021-06-05 00:42:42.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:13:37.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/168f1a121266bd0c4ae15b1887f8e9e14022824d', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled.\nThis commit move the stop_redis step to the octavia_stop step and\nensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)\n""}]",0,791651,168f1a121266bd0c4ae15b1887f8e9e14022824d,9,5,1,6469,,,0,"Fix devstack cleanup when using amphorav2

When cleaning up a devstack environment with amphorav2 enabled,
./clean.sh might fail because redis has already been stopped and
uninstalled.
This commit move the stop_redis step to the octavia_stop step and
ensures that stopping redis doesn't fail.

Change-Id: I987535e90cbf13917c50c5905c64b614188928ec
(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/791651/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,168f1a121266bd0c4ae15b1887f8e9e14022824d,,function stop_redis { stop_service redis || true } if [[ ${OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD} == True ]]; then stop_redis fi, stop_service redis ,8,3
openstack%2Foctavia~master~I55136f570db33cfd22e919019c18e9028a6a9bf7,openstack/octavia,master,I55136f570db33cfd22e919019c18e9028a6a9bf7,Fix race conditions between API and worker DB calls,MERGED,2021-05-03 18:05:54.000000000,2021-06-05 00:45:24.000000000,2021-06-05 00:43:04.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 18:05:54.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cd272ae5a948c22e26b0ea678ea452f559e14d62', 'message': ""Fix race conditions between API and worker DB calls\n\nThe Octavia API creates new resource in the DB and passes the resource\nand its ID to the worker. The worker then accesses to the resource using\nthe database, but it might try to fetch the element before it's\ncommited by the API.\nThis commit ensures that the resource has been commited to the DB before\nprocessing the request.\n\nStory 2008878\nTask 42423\n\nChange-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7\n""}]",5,789396,cd272ae5a948c22e26b0ea678ea452f559e14d62,11,4,1,29244,,,0,"Fix race conditions between API and worker DB calls

The Octavia API creates new resource in the DB and passes the resource
and its ID to the worker. The worker then accesses to the resource using
the database, but it might try to fetch the element before it's
commited by the API.
This commit ensures that the resource has been commited to the DB before
processing the request.

Story 2008878
Task 42423

Change-Id: I55136f570db33cfd22e919019c18e9028a6a9bf7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/789396/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",2,cd272ae5a948c22e26b0ea678ea452f559e14d62,," db_member = self._member_repo.get(db_apis.get_session(), id=member[constants.MEMBER_ID]) if not db_member: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7member', member[constants.MEMBER_ID]) raise db_exceptions.NoResultFound pool = db_member.pool db_l7policy = self._l7policy_repo.get( db_apis.get_session(), id=l7policy[constants.L7POLICY_ID]) if not db_l7policy: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7policy', l7policy[constants.L7POLICY_ID]) raise db_exceptions.NoResultFound db_listener = db_l7policy.listener db_l7rule = self._l7rule_repo.get(db_apis.get_session(), id=l7rule[constants.L7RULE_ID]) if not db_l7rule: LOG.warning('Failed to fetch %s %s from DB. Retrying for up to ' '60 seconds.', 'l7rule', l7rule[constants.L7RULE_ID]) raise db_exceptions.NoResultFound db_l7policy = db_l7rule.l7policy"," pool = self._pool_repo.get(db_apis.get_session(), id=member[constants.POOL_ID]) db_listener = self._listener_repo.get( db_apis.get_session(), id=l7policy[constants.LISTENER_ID]) db_l7policy = self._l7policy_repo.get(db_apis.get_session(), id=l7rule[constants.L7POLICY_ID])",29,7
openstack%2Foctavia~stable%2Fvictoria~I987535e90cbf13917c50c5905c64b614188928ec,openstack/octavia,stable/victoria,I987535e90cbf13917c50c5905c64b614188928ec,Fix devstack cleanup when using amphorav2,MERGED,2021-05-17 07:14:08.000000000,2021-06-05 00:45:19.000000000,2021-06-05 00:42:38.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:14:08.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d49484eb6ae4fc1cf59c110a725d33aaad0b038', 'message': ""Fix devstack cleanup when using amphorav2\n\nWhen cleaning up a devstack environment with amphorav2 enabled,\n./clean.sh might fail because redis has already been stopped and\nuninstalled.\nThis commit move the stop_redis step to the octavia_stop step and\nensures that stopping redis doesn't fail.\n\nChange-Id: I987535e90cbf13917c50c5905c64b614188928ec\n(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)\n(cherry picked from commit 168f1a121266bd0c4ae15b1887f8e9e14022824d)\n""}]",0,791652,5d49484eb6ae4fc1cf59c110a725d33aaad0b038,9,5,1,6469,,,0,"Fix devstack cleanup when using amphorav2

When cleaning up a devstack environment with amphorav2 enabled,
./clean.sh might fail because redis has already been stopped and
uninstalled.
This commit move the stop_redis step to the octavia_stop step and
ensures that stopping redis doesn't fail.

Change-Id: I987535e90cbf13917c50c5905c64b614188928ec
(cherry picked from commit 5d470357ec6acd7f31a626283be14154968c0798)
(cherry picked from commit 168f1a121266bd0c4ae15b1887f8e9e14022824d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/52/791652/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5d49484eb6ae4fc1cf59c110a725d33aaad0b038,,function stop_redis { stop_service redis || true } if [[ ${OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD} == True ]]; then stop_redis fi, stop_service redis ,8,3
openstack%2Foctavia~stable%2Fvictoria~Ic97a991437144f3a220d9b96839cec5b63565f8c,openstack/octavia,stable/victoria,Ic97a991437144f3a220d9b96839cec5b63565f8c,Make /healthcheck cache results,MERGED,2021-05-17 07:04:21.000000000,2021-06-05 00:04:54.000000000,2021-06-05 00:03:42.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 07:04:21.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/functional/api/test_healthcheck.py', 'releasenotes/notes/healthcheck-cache-641f0a64e6f5856c.yaml', 'octavia/api/healthcheck/healthcheck_plugins.py', 'doc/source/admin/healthcheck.rst', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/582b4bab0ed0362a0e795590c806d930414acfba', 'message': 'Make /healthcheck cache results\n\nThe healthcheck endpoint should cache results to reduce the potential load on the backend systems being tested.\nThis patch adds the caching and a configuration setting for the interval\nbetween cache refreshes.\n\nChange-Id: Ic97a991437144f3a220d9b96839cec5b63565f8c\nStory: 2008203\nTask: 40987\n(cherry picked from commit 6c54eab5b5d8fd5300cd5d62e23e6cadc1641636)\n'}]",0,791643,582b4bab0ed0362a0e795590c806d930414acfba,9,4,1,6469,,,0,"Make /healthcheck cache results

The healthcheck endpoint should cache results to reduce the potential load on the backend systems being tested.
This patch adds the caching and a configuration setting for the interval
between cache refreshes.

Change-Id: Ic97a991437144f3a220d9b96839cec5b63565f8c
Story: 2008203
Task: 40987
(cherry picked from commit 6c54eab5b5d8fd5300cd5d62e23e6cadc1641636)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/791643/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/functional/api/test_healthcheck.py', 'releasenotes/notes/healthcheck-cache-641f0a64e6f5856c.yaml', 'octavia/api/healthcheck/healthcheck_plugins.py', 'doc/source/admin/healthcheck.rst', 'etc/octavia.conf']",6,582b4bab0ed0362a0e795590c806d930414acfba,,"# The interval healthcheck plugins should cache results, in seconds. # healthcheck_refresh_interval = 5 ",,60,2
openstack%2Fpython-tripleoclient~master~I67a15f637a62e2cb683e6e160483201f7ba093e9,openstack/python-tripleoclient,master,I67a15f637a62e2cb683e6e160483201f7ba093e9,Baremetal deploy - user playbook interface,MERGED,2021-04-13 13:09:31.000000000,2021-06-05 00:00:20.000000000,2021-06-04 23:59:05.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-13 13:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fc16965b538de07abc30e79c262743b9c88694a6', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}, {'number': 2, 'created': '2021-05-06 12:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb1055289428e37bfe2481a746523f8ea7e40da9', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}, {'number': 3, 'created': '2021-05-07 17:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c6881d25e2dc48ca3dd609a641e7ca8d3f1452a6', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}, {'number': 4, 'created': '2021-05-18 16:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e798d0e4e8ac193e97df879785caff0942361df7', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}, {'number': 5, 'created': '2021-05-19 10:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cae6be2fcd5809edf0957c7d81cf7f608e3e8478', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}, {'number': 6, 'created': '2021-06-01 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0154bcece2fff433a0c6505996b231472f2540f0', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}, {'number': 7, 'created': '2021-06-03 07:29:59.000000000', 'files': ['tripleoclient/v2/overcloud_node.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d2547cc7f9bd28a1dde447c93ec7f0ec9dd4af4', 'message': ""Baremetal deploy - user playbook interface\n\nExtend the overcloud node provision command to run\nansible playbooks defined in the baremetal deployment\ndefinition against the provisioned nodes.\n\nTo ensure the playbook is applied prior to node network\nconfiguration set 'pre_network: true'. Additonal ansible\nvars can be defined as 'extra_vars' for each ansible\nplaybook definition.\n\nImplements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/786045\nChange-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9\n""}]",1,786046,1d2547cc7f9bd28a1dde447c93ec7f0ec9dd4af4,44,5,7,24245,,,0,"Baremetal deploy - user playbook interface

Extend the overcloud node provision command to run
ansible playbooks defined in the baremetal deployment
definition against the provisioned nodes.

To ensure the playbook is applied prior to node network
configuration set 'pre_network: true'. Additonal ansible
vars can be defined as 'extra_vars' for each ansible
playbook definition.

Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/786045
Change-Id: I67a15f637a62e2cb683e6e160483201f7ba093e9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/786046/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_node.py', 'tripleoclient/exceptions.py']",2,fc16965b538de07abc30e79c262743b9c88694a6,network-data-v2," class PlaybookNotFound(NotFound): """"""Playbook not found"""""" class InvalidPlaybook(Base): """"""Invalid playbook path specified""""""",,70,10
openstack%2Ftripleo-ansible~stable%2Fwallaby~I12155b4a88b811d701f9fb6d1506b5592b58767b,openstack/tripleo-ansible,stable/wallaby,I12155b4a88b811d701f9fb6d1506b5592b58767b,Make ceph-nfs service source path for /etc/ceph configurable,MERGED,2021-06-01 11:30:01.000000000,2021-06-04 23:59:09.000000000,2021-06-04 23:59:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-01 11:30:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c69fcc1bcfdfa87bd4ea4019a96234485ad2ac2', 'message': 'Make ceph-nfs service source path for /etc/ceph configurable\n\nWithin the container this directory will always appear mounted in\n/etc/ceph but the ceph_client role itself might have generated it\nin a different path (on the host) depending on CephConfigPath param\n\nChange-Id: I12155b4a88b811d701f9fb6d1506b5592b58767b\n(cherry picked from commit b2bfda46583fc9648ddf8dc8b29c70539d5f7f96)\n'}]",0,793921,3c69fcc1bcfdfa87bd4ea4019a96234485ad2ac2,17,3,1,6796,,,0,"Make ceph-nfs service source path for /etc/ceph configurable

Within the container this directory will always appear mounted in
/etc/ceph but the ceph_client role itself might have generated it
in a different path (on the host) depending on CephConfigPath param

Change-Id: I12155b4a88b811d701f9fb6d1506b5592b58767b
(cherry picked from commit b2bfda46583fc9648ddf8dc8b29c70539d5f7f96)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/793921/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2']",2,3c69fcc1bcfdfa87bd4ea4019a96234485ad2ac2,ganesha-config-mount-stable/wallaby, -v {{ tripleo_ceph_client_config_home }}:/etc/ceph:z \, -v /etc/ceph:/etc/ceph:z \,2,1
openstack%2Fpuppet-heat~stable%2Fwallaby~Ifd966b0f62cd5f682d5ba70927597d6923f3fa47,openstack/puppet-heat,stable/wallaby,Ifd966b0f62cd5f682d5ba70927597d6923f3fa47,Set fixture paths for unit tests,MERGED,2021-06-03 06:17:17.000000000,2021-06-04 23:48:41.000000000,2021-06-04 23:48:41.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:17:17.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/62e45b088e31cb891c4d003df62601a0d955e3d0', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: Ifd966b0f62cd5f682d5ba70927597d6923f3fa47\n(cherry picked from commit bd7d486b522ede2e78367bd18ce7ddf19f3b597c)\n'}]",0,794414,62e45b088e31cb891c4d003df62601a0d955e3d0,11,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ifd966b0f62cd5f682d5ba70927597d6923f3fa47
(cherry picked from commit bd7d486b522ede2e78367bd18ce7ddf19f3b597c)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/14/794414/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,62e45b088e31cb891c4d003df62601a0d955e3d0,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-ironic~stable%2Fwallaby~If66e6478563f9968ce1c25d7739a4feefbe0f8b1,openstack/puppet-ironic,stable/wallaby,If66e6478563f9968ce1c25d7739a4feefbe0f8b1,Set fixture paths for unit tests,MERGED,2021-06-03 06:12:32.000000000,2021-06-04 23:43:22.000000000,2021-06-04 23:43:22.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:12:32.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/122bd74ff17b7906a2c8757aab605bfb50460024', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If66e6478563f9968ce1c25d7739a4feefbe0f8b1\n(cherry picked from commit cbca433a2c24b581fec944a9389f2c8decd3b30c)\n'}]",0,794384,122bd74ff17b7906a2c8757aab605bfb50460024,11,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If66e6478563f9968ce1c25d7739a4feefbe0f8b1
(cherry picked from commit cbca433a2c24b581fec944a9389f2c8decd3b30c)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/84/794384/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,122bd74ff17b7906a2c8757aab605bfb50460024,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fcharm-deployment-guide~master~If1cc0024d6b4c526b1e78c2faf837f4a88b1d9ac,openstack/charm-deployment-guide,master,If1cc0024d6b4c526b1e78c2faf837f4a88b1d9ac,De-appendicize swift page,MERGED,2021-06-04 20:21:24.000000000,2021-06-04 23:41:40.000000000,2021-06-04 23:40:33.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 20:21:24.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/swift.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/index.rst', 'deploy-guide/source/app-ha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/954466f136d3cd1c5eac3fc0d7db8b45609a4b32', 'message': 'De-appendicize swift page\n\nRename the swift page\n\nAdd a corresponding redirect and redirect test\n\nMake appropriate edits in the doc set where required\n\nChange-Id: If1cc0024d6b4c526b1e78c2faf837f4a88b1d9ac\n'}]",0,794896,954466f136d3cd1c5eac3fc0d7db8b45609a4b32,7,2,1,30561,,,0,"De-appendicize swift page

Rename the swift page

Add a corresponding redirect and redirect test

Make appropriate edits in the doc set where required

Change-Id: If1cc0024d6b4c526b1e78c2faf837f4a88b1d9ac
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/96/794896/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/swift.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/index.rst', 'deploy-guide/source/app-ha.rst']",5,954466f136d3cd1c5eac3fc0d7db8b45609a4b32,de-app,Refer to the :doc:`Swift <swift>` page for more information on how to deploy Swift.,Refer to appendix :doc:`Swift usage <app-swift>` for more information on how to deploy Swift.,5,5
openstack%2Fcharm-barbican-vault~master~I5b1c0fd91f39593240cba411f5565bd22bff54d3,openstack/charm-barbican-vault,master,I5b1c0fd91f39593240cba411f5565bd22bff54d3,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:02.000000000,2021-06-04 23:40:36.000000000,2021-06-04 23:40:36.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:08:02.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/d94cd0443163aa8b24b19287fceb0e6b692397bb', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I5b1c0fd91f39593240cba411f5565bd22bff54d3\n'}]",0,791182,d94cd0443163aa8b24b19287fceb0e6b692397bb,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I5b1c0fd91f39593240cba411f5565bd22bff54d3
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/82/791182/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d94cd0443163aa8b24b19287fceb0e6b692397bb,batch-update,f9bc0b3e-b3eb-11eb-b165-c3a9d0cc3d4f,be81cb8c-64d9-11eb-bee7-6f027a499257,1,1
openstack%2Fcharm-octavia-dashboard~master~Icd90509cfb4e33684caf3bbcacbd4fae9a4321e2,openstack/charm-octavia-dashboard,master,Icd90509cfb4e33684caf3bbcacbd4fae9a4321e2,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:12:23.000000000,2021-06-04 23:39:57.000000000,2021-06-04 23:39:57.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:12:23.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/53911be3327b3c5a5d1b74af9cda6f243d1b9493', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Icd90509cfb4e33684caf3bbcacbd4fae9a4321e2\n'}]",0,791214,53911be3327b3c5a5d1b74af9cda6f243d1b9493,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Icd90509cfb4e33684caf3bbcacbd4fae9a4321e2
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/14/791214/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,53911be3327b3c5a5d1b74af9cda6f243d1b9493,batch-update,fa406b22-b3eb-11eb-b94d-3b17cdf5917d,831f5ed4-5745-11eb-a796-6b95b5de6576,1,1
openstack%2Fcharm-magnum~master~I007be2ef5b09bfbc3081d09bb9b758a128eeda4a,openstack/charm-magnum,master,I007be2ef5b09bfbc3081d09bb9b758a128eeda4a,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:52.000000000,2021-06-04 23:39:35.000000000,2021-06-04 23:39:35.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:09:52.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/0f3029e4eac27cddd760f9203121cda5ef934ae1', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I007be2ef5b09bfbc3081d09bb9b758a128eeda4a\n'}]",0,791196,0f3029e4eac27cddd760f9203121cda5ef934ae1,7,2,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I007be2ef5b09bfbc3081d09bb9b758a128eeda4a
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/96/791196/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,0f3029e4eac27cddd760f9203121cda5ef934ae1,batch-update,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new fa0813a8-b3eb-11eb-a7ee-87e5c342cd2d ",,5,0
openstack%2Fcharm-octavia-diskimage-retrofit~master~I0cd7d0f3120cf7954ec24ab04ab2e6ea642d77c4,openstack/charm-octavia-diskimage-retrofit,master,I0cd7d0f3120cf7954ec24ab04ab2e6ea642d77c4,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:12:34.000000000,2021-06-04 23:39:30.000000000,2021-06-04 23:39:30.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:12:34.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/2fc1f99a25a4c532f7085ea93d702cfd3c6cae2c', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I0cd7d0f3120cf7954ec24ab04ab2e6ea642d77c4\n'}]",0,791215,2fc1f99a25a4c532f7085ea93d702cfd3c6cae2c,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I0cd7d0f3120cf7954ec24ab04ab2e6ea642d77c4
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/15/791215/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,2fc1f99a25a4c532f7085ea93d702cfd3c6cae2c,batch-update,fa42d074-b3eb-11eb-b97b-4f8eacaf2bb4,8321c6ec-5745-11eb-b793-47c28b8f9751,1,1
openstack%2Fcharm-placement~master~Iea188f05260bf42c8fc22a757cf22e6126f86416,openstack/charm-placement,master,Iea188f05260bf42c8fc22a757cf22e6126f86416,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:13:26.000000000,2021-06-04 23:38:18.000000000,2021-06-04 23:38:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:13:26.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/f37a2fa9c53728e0dc98e79c8552fe36bb6a453a', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Iea188f05260bf42c8fc22a757cf22e6126f86416\n'}]",0,791220,f37a2fa9c53728e0dc98e79c8552fe36bb6a453a,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Iea188f05260bf42c8fc22a757cf22e6126f86416
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/20/791220/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f37a2fa9c53728e0dc98e79c8552fe36bb6a453a,batch-update,fa53fdf4-b3eb-11eb-9a07-c3f88c787e14,bed1030a-64d9-11eb-92ff-17f792394591,1,1
openstack%2Fcharm-pacemaker-remote~master~I634fcf70d4b374267108e0570f1fa19c5b8ecdab,openstack/charm-pacemaker-remote,master,I634fcf70d4b374267108e0570f1fa19c5b8ecdab,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:13:19.000000000,2021-06-04 23:38:13.000000000,2021-06-04 23:38:13.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:13:19.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/308fc06e5686bb6e9d98ab8cba4c88b6b4421de7', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I634fcf70d4b374267108e0570f1fa19c5b8ecdab\n'}]",0,791219,308fc06e5686bb6e9d98ab8cba4c88b6b4421de7,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I634fcf70d4b374267108e0570f1fa19c5b8ecdab
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/19/791219/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,308fc06e5686bb6e9d98ab8cba4c88b6b4421de7,batch-update,fa4ea1d8-b3eb-11eb-be2d-33ffca71baf3,bece4084-64d9-11eb-a63c-8bd178a54843,1,1
openstack%2Fcharm-manila-dashboard~master~I6f8845474d49fc983391b12e1b148240f4314bbf,openstack/charm-manila-dashboard,master,I6f8845474d49fc983391b12e1b148240f4314bbf,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:18.000000000,2021-06-04 23:37:56.000000000,2021-06-04 23:37:56.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:10:18.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/7478829edd352a306f6fa13705c0333487a008aa', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I6f8845474d49fc983391b12e1b148240f4314bbf\n'}]",0,791199,7478829edd352a306f6fa13705c0333487a008aa,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I6f8845474d49fc983391b12e1b148240f4314bbf
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/99/791199/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,7478829edd352a306f6fa13705c0333487a008aa,batch-update,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new fa0feaf6-b3eb-11eb-888c-7b0c0129d5a0 ",,5,0
openstack%2Fcharm-trilio-dm-api~master~I061e4b7ab6ef2d57219a69b4d16348fb6a861e77,openstack/charm-trilio-dm-api,master,I061e4b7ab6ef2d57219a69b4d16348fb6a861e77,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:13:44.000000000,2021-06-04 23:37:51.000000000,2021-06-04 23:37:51.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:13:44.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/82a0da8aad801c279ff6deeba6561e6f0bafaed3', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I061e4b7ab6ef2d57219a69b4d16348fb6a861e77\n'}]",0,791222,82a0da8aad801c279ff6deeba6561e6f0bafaed3,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I061e4b7ab6ef2d57219a69b4d16348fb6a861e77
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/22/791222/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,82a0da8aad801c279ff6deeba6561e6f0bafaed3,batch-update,fa62390a-b3eb-11eb-8532-4f50d30ce900,bed9bd9c-64d9-11eb-a460-dbfda2715df6,1,1
openstack%2Fcharm-masakari-monitors~master~Icb1a89fb7f1759ce4c0a9081e72db75a84415f10,openstack/charm-masakari-monitors,master,Icb1a89fb7f1759ce4c0a9081e72db75a84415f10,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:52.000000000,2021-06-04 23:36:50.000000000,2021-06-04 23:36:50.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:10:52.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/7991de8a8ca8d579e7810952ce1d748403ae49c2', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Icb1a89fb7f1759ce4c0a9081e72db75a84415f10\n'}]",0,791205,7991de8a8ca8d579e7810952ce1d748403ae49c2,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Icb1a89fb7f1759ce4c0a9081e72db75a84415f10
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/05/791205/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,7991de8a8ca8d579e7810952ce1d748403ae49c2,batch-update,fa1b7830-b3eb-11eb-b9e2-d3549354239f,bea96a52-64d9-11eb-af2b-5fba898e144f,1,1
openstack%2Fcharm-nova-cell-controller~master~I1d61c7c7e2c6bca16434924a628a6a8871c6be83,openstack/charm-nova-cell-controller,master,I1d61c7c7e2c6bca16434924a628a6a8871c6be83,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:58.000000000,2021-06-04 23:36:47.000000000,2021-06-04 23:36:47.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:11:58.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/38e030fee1233c270522970a4469cd467e779788', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I1d61c7c7e2c6bca16434924a628a6a8871c6be83\n'}]",0,791212,38e030fee1233c270522970a4469cd467e779788,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I1d61c7c7e2c6bca16434924a628a6a8871c6be83
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/12/791212/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,38e030fee1233c270522970a4469cd467e779788,batch-update,fa352122-b3eb-11eb-bbb3-433c6f3bfc44,bebc0996-64d9-11eb-9ec3-7fd130fb558b,1,1
openstack%2Fcharm-trilio-data-mover~master~I7125d61c06641a9791e1ddb478ca847a44a5a6bb,openstack/charm-trilio-data-mover,master,I7125d61c06641a9791e1ddb478ca847a44a5a6bb,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:13:34.000000000,2021-06-04 23:36:04.000000000,2021-06-04 23:36:04.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:13:34.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/7d5b872dfd1a0a9c103e2a9b9c6acf6103789322', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I7125d61c06641a9791e1ddb478ca847a44a5a6bb\n'}]",0,791221,7d5b872dfd1a0a9c103e2a9b9c6acf6103789322,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I7125d61c06641a9791e1ddb478ca847a44a5a6bb
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/21/791221/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,7d5b872dfd1a0a9c103e2a9b9c6acf6103789322,batch-update,fa600f40-b3eb-11eb-af42-73871e9ba155,bed7205a-64d9-11eb-93d8-239324b1b5c0,1,1
openstack%2Fcharm-trilio-horizon-plugin~master~Ibea3456472e06ff1c06d5ad208a51b8634e9c1e2,openstack/charm-trilio-horizon-plugin,master,Ibea3456472e06ff1c06d5ad208a51b8634e9c1e2,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:13:55.000000000,2021-06-04 23:35:57.000000000,2021-06-04 23:35:57.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:13:55.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/eee986a817530d747a8bd26e7f6f8a77af6cc4b1', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ibea3456472e06ff1c06d5ad208a51b8634e9c1e2\n'}]",0,791223,eee986a817530d747a8bd26e7f6f8a77af6cc4b1,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ibea3456472e06ff1c06d5ad208a51b8634e9c1e2
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/23/791223/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,eee986a817530d747a8bd26e7f6f8a77af6cc4b1,batch-update,fa64ef1a-b3eb-11eb-b9e4-333ffea37d99,bedc5336-64d9-11eb-9eba-67cbd9800d64,1,1
openstack%2Fcharm-ceph-rbd-mirror~master~I538683f77566b3719dfd0c6d7b4782bfa72be0d4,openstack/charm-ceph-rbd-mirror,master,I538683f77566b3719dfd0c6d7b4782bfa72be0d4,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:19.000000000,2021-06-04 23:35:50.000000000,2021-06-04 23:35:50.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:08:19.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/4d194c7482f03402767126e47b7753ea994994a4', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I538683f77566b3719dfd0c6d7b4782bfa72be0d4\n'}]",0,791184,4d194c7482f03402767126e47b7753ea994994a4,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I538683f77566b3719dfd0c6d7b4782bfa72be0d4
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/84/791184/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,4d194c7482f03402767126e47b7753ea994994a4,batch-update,f9d3918c-b3eb-11eb-a947-c3dd9a34b317,82c053f8-5745-11eb-b798-b32b668d6814,1,1
openstack%2Fcharm-percona-cluster~master~Id512e0c6684ec4ccab7f917b0a4bb6caf4f78222,openstack/charm-percona-cluster,master,Id512e0c6684ec4ccab7f917b0a4bb6caf4f78222,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:37.000000000,2021-06-04 23:35:43.000000000,2021-06-04 23:35:43.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:37.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/bc762294c6d43a020447e586c64d52909c4939af', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Id512e0c6684ec4ccab7f917b0a4bb6caf4f78222\n'}]",0,791171,bc762294c6d43a020447e586c64d52909c4939af,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Id512e0c6684ec4ccab7f917b0a4bb6caf4f78222
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/71/791171/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,bc762294c6d43a020447e586c64d52909c4939af,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-barbican~master~Ie69ab17f330c6dfc06f09f51dde34b96fb677794,openstack/charm-barbican,master,Ie69ab17f330c6dfc06f09f51dde34b96fb677794,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:07:41.000000000,2021-06-04 23:35:26.000000000,2021-06-04 23:35:26.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:07:41.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/a85044fe2eb2baf33565562d3764c793080bca19', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ie69ab17f330c6dfc06f09f51dde34b96fb677794\n'}]",0,791180,a85044fe2eb2baf33565562d3764c793080bca19,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ie69ab17f330c6dfc06f09f51dde34b96fb677794
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/80/791180/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a85044fe2eb2baf33565562d3764c793080bca19,batch-update,f9b70d46-b3eb-11eb-a72e-379d965894fc,be7f7e0e-64d9-11eb-b7d2-3f64765554a6,1,1
openstack%2Fcharm-neutron-dynamic-routing~master~I733d30de317723b8e500b4f93967ea8fbc1bcf90,openstack/charm-neutron-dynamic-routing,master,I733d30de317723b8e500b4f93967ea8fbc1bcf90,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:50.000000000,2021-06-04 23:35:08.000000000,2021-06-04 23:35:08.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:11:50.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/71133c3825095e07e3c9f61447494a8d15a1a4c1', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I733d30de317723b8e500b4f93967ea8fbc1bcf90\n'}]",0,791211,71133c3825095e07e3c9f61447494a8d15a1a4c1,8,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I733d30de317723b8e500b4f93967ea8fbc1bcf90
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/11/791211/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,71133c3825095e07e3c9f61447494a8d15a1a4c1,batch-update,fa2caf60-b3eb-11eb-9eba-373a58f25e07,beb97190-64d9-11eb-9db7-df41a3bece81,1,1
openstack%2Fcharm-cinder-backup~master~If502e7383a4e487da5eaaadd635295dc5e6153df,openstack/charm-cinder-backup,master,If502e7383a4e487da5eaaadd635295dc5e6153df,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:10.000000000,2021-06-04 23:34:56.000000000,2021-06-04 23:34:56.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:10.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/613676ab62edcdcd2406aa79f80e4d729aa110f3', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: If502e7383a4e487da5eaaadd635295dc5e6153df\n'}]",0,791159,613676ab62edcdcd2406aa79f80e4d729aa110f3,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: If502e7383a4e487da5eaaadd635295dc5e6153df
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/59/791159/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",5,613676ab62edcdcd2406aa79f80e4d729aa110f3,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",36,19
openstack%2Fcharm-rabbitmq-server~master~I02e43c7b9f8b31521197e42546f3c81c16815564,openstack/charm-rabbitmq-server,master,I02e43c7b9f8b31521197e42546f3c81c16815564,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:47:44.000000000,2021-06-04 23:34:48.000000000,2021-06-04 23:34:48.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:47:44.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fb511a4186451deaa9642b9a823bff3b6a048a03', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I02e43c7b9f8b31521197e42546f3c81c16815564\n'}]",0,791172,fb511a4186451deaa9642b9a823bff3b6a048a03,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I02e43c7b9f8b31521197e42546f3c81c16815564
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/72/791172/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,fb511a4186451deaa9642b9a823bff3b6a048a03,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-keystone~master~I69d391eceb24eac874d3438a499ccffcf111d9b2,openstack/charm-keystone,master,I69d391eceb24eac874d3438a499ccffcf111d9b2,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:41:22.000000000,2021-06-04 23:34:21.000000000,2021-06-04 23:34:21.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:41:22.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/abeaf7bc4a1cebabae6b3e4f9f031e824db289f1', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I69d391eceb24eac874d3438a499ccffcf111d9b2\n'}]",0,791149,abeaf7bc4a1cebabae6b3e4f9f031e824db289f1,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I69d391eceb24eac874d3438a499ccffcf111d9b2
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/49/791149/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,abeaf7bc4a1cebabae6b3e4f9f031e824db289f1,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-ceph-proxy~master~I29bbef00f15c349e29d594d2d7d59086b860338a,openstack/charm-ceph-proxy,master,I29bbef00f15c349e29d594d2d7d59086b860338a,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:45:46.000000000,2021-06-04 23:33:50.000000000,2021-06-04 23:33:50.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:45:46.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/c205f68b7c744290d038f05c7e59a941682f803a', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I29bbef00f15c349e29d594d2d7d59086b860338a\n'}]",0,791156,c205f68b7c744290d038f05c7e59a941682f803a,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I29bbef00f15c349e29d594d2d7d59086b860338a
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/56/791156/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,c205f68b7c744290d038f05c7e59a941682f803a,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-ceilometer~master~I1300ef630b538400e3211b3fe1bd3c731d4f0c26,openstack/charm-ceilometer,master,I1300ef630b538400e3211b3fe1bd3c731d4f0c26,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:45:19.000000000,2021-06-04 23:33:21.000000000,2021-06-04 23:33:21.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:45:19.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b98af6c3242bf972761e5f842fbc9c10594e5ced', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I1300ef630b538400e3211b3fe1bd3c731d4f0c26\n'}]",0,791152,b98af6c3242bf972761e5f842fbc9c10594e5ced,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I1300ef630b538400e3211b3fe1bd3c731d4f0c26
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/52/791152/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,b98af6c3242bf972761e5f842fbc9c10594e5ced,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-ceph-mon~master~Id4886deff01dbf04861d8815d6816f13b0c6b735,openstack/charm-ceph-mon,master,Id4886deff01dbf04861d8815d6816f13b0c6b735,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:45:33.000000000,2021-06-04 23:32:00.000000000,2021-06-04 23:32:00.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/97fbf2ea4985deade6e2140ec6ab87ca72d5f9e8', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Id4886deff01dbf04861d8815d6816f13b0c6b735\n'}, {'number': 2, 'created': '2021-06-04 19:13:10.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c21d0c562cfdc0b35665bf2c3db95d3d918fa705', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Id4886deff01dbf04861d8815d6816f13b0c6b735\n'}]",0,791154,c21d0c562cfdc0b35665bf2c3db95d3d918fa705,14,3,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Id4886deff01dbf04861d8815d6816f13b0c6b735
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/54/791154/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,97fbf2ea4985deade6e2140ec6ab87ca72d5f9e8,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-designate~master~Ibf5f1b4d284b9040740ad24d442ee4a46cb69db4,openstack/charm-designate,master,Ibf5f1b4d284b9040740ad24d442ee4a46cb69db4,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:44.000000000,2021-06-04 23:31:44.000000000,2021-06-04 23:31:44.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:08:44.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/ed1c6c502123c5be64954f8b4cb43b131f5aa236', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ibf5f1b4d284b9040740ad24d442ee4a46cb69db4\n'}]",0,791187,ed1c6c502123c5be64954f8b4cb43b131f5aa236,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ibf5f1b4d284b9040740ad24d442ee4a46cb69db4
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/87/791187/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ed1c6c502123c5be64954f8b4cb43b131f5aa236,batch-update,f9e3df7e-b3eb-11eb-b248-6f12f59ca343,be897dd2-64d9-11eb-a36a-1b73cd2a61ab,1,1
openstack%2Fcharm-glance-simplestreams-sync~master~Ic066d5e0c7be9ca0f17db3eb8e73ae2002a6203d,openstack/charm-glance-simplestreams-sync,master,Ic066d5e0c7be9ca0f17db3eb8e73ae2002a6203d,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:34.000000000,2021-06-04 23:31:01.000000000,2021-06-04 23:31:01.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:34.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3997b01ce105eeabe4a044e1daef1278b4052568', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ic066d5e0c7be9ca0f17db3eb8e73ae2002a6203d\n'}]",0,791162,3997b01ce105eeabe4a044e1daef1278b4052568,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ic066d5e0c7be9ca0f17db3eb8e73ae2002a6203d
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/62/791162/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py']",5,3997b01ce105eeabe4a044e1daef1278b4052568,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",36,19
openstack%2Fneutron~master~I592d8b7bb2afe5cd93cbb0d0ea7062f1b724ff2a,openstack/neutron,master,I592d8b7bb2afe5cd93cbb0d0ea7062f1b724ff2a,"Skip ""test_keepalived_spawns_conflicting_*"" tests",MERGED,2021-05-18 14:30:26.000000000,2021-06-04 23:28:25.000000000,2021-06-04 23:26:31.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e9f7dee6691e84f6cbb924f169ae76439525442', 'message': 'Skip ""test_keepalived_spawns_conflicting_*"" tests\n\nSIGHUP signal command to stop those processes does not return and\nthe test (and eventually the whole testsuit) timeouts.\n\nUntil a proper fix is implemented, these tests will be skipped\ntemporarily.\n\nChange-Id: I592d8b7bb2afe5cd93cbb0d0ea7062f1b724ff2a\nRelated-Bug: #1921154\n'}, {'number': 2, 'created': '2021-05-19 08:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a22989d65ef116a895412d592723548145b9bea', 'message': 'Skip ""test_keepalived_spawns_conflicting_*"" tests\n\nSIGHUP signal command to stop those processes does not return and\nthe test (and eventually the whole testsuit) timeouts.\n\nUntil a proper fix is implemented, these tests will be skipped\ntemporarily.\n\nChange-Id: I592d8b7bb2afe5cd93cbb0d0ea7062f1b724ff2a\nRelated-Bug: #1921154\n'}, {'number': 3, 'created': '2021-05-20 07:56:29.000000000', 'files': ['neutron/tests/functional/agent/linux/test_keepalived.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/54420d04dd2abc2bdeb78b9490032e1b1ebd3fac', 'message': 'Skip ""test_keepalived_spawns_conflicting_*"" tests\n\nSIGHUP signal command to stop those processes does not return and\nthe test (and eventually the whole testsuit) timeouts.\n\nUntil a proper fix is implemented, these tests will be skipped\ntemporarily.\n\nChange-Id: I592d8b7bb2afe5cd93cbb0d0ea7062f1b724ff2a\nRelated-Bug: #1921154\n'}]",3,791986,54420d04dd2abc2bdeb78b9490032e1b1ebd3fac,51,3,3,16688,,,0,"Skip ""test_keepalived_spawns_conflicting_*"" tests

SIGHUP signal command to stop those processes does not return and
the test (and eventually the whole testsuit) timeouts.

Until a proper fix is implemented, these tests will be skipped
temporarily.

Change-Id: I592d8b7bb2afe5cd93cbb0d0ea7062f1b724ff2a
Related-Bug: #1921154
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/791986/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_keepalived.py'],1,5e9f7dee6691e84f6cbb924f169ae76439525442,bug/1921154, def test_keepalived_spawns_conflicting_pid_base_process(self): self.skipTest('bug 1921154') def test_keepalived_spawns_conflicting_pid_vrrp_subprocess(self): self.skipTest('bug 1921154')," @tests_base.unstable_test(""bug 1921154"") def test_keepalived_spawns_conflicting_pid_base_process(self): @tests_base.unstable_test(""bug 1921154"") def test_keepalived_spawns_conflicting_pid_vrrp_subprocess(self):",2,2
openstack%2Fneutron~master~I4f98c6fcd781459fd7150aff426d19c7fdfa98c1,openstack/neutron,master,I4f98c6fcd781459fd7150aff426d19c7fdfa98c1,New Quota driver ``DbQuotaNoLockDriver``,MERGED,2021-05-06 12:57:44.000000000,2021-06-04 23:22:08.000000000,2021-06-04 23:19:37.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-06 12:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ab1c43380df46353ce2c925fb7e4f1868140147', 'message': '[WIP][POC] New Quota driver\n\nTODO: everything (testing, documentation, etc).\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 2, 'created': '2021-05-06 16:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66c39594916ca8f0925a895998c4b5dc5c2de58c', 'message': '[WIP][POC] New Quota driver\n\nTODO: everything (testing, documentation, etc).\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 3, 'created': '2021-05-07 09:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8946ef9766f83867450c8aee3254b6bf7604753', 'message': '[WIP][POC] New Quota driver\n\nTODO: everything (testing, documentation, etc).\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 4, 'created': '2021-05-07 15:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eb60c94d39a1730613c07e8b1c53c50728c47da', 'message': '[WIP]New Quota driver ``DbQuotaNoLockDriver``\n\nTODO: this commit is still not handling the stale Reservations\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 5, 'created': '2021-05-10 08:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6d32c076407d591cfceab681ff8fbd596e4dc28', 'message': '[WIP]New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 6, 'created': '2021-05-10 11:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/765a40803e6520a628441e9ba371ef3ade0594b1', 'message': '[WIP]New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 7, 'created': '2021-05-11 16:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78bd8b9394ad8f18b7e7edfb4bf5c8dcf8480e66', 'message': 'New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and\n  ``TrackedResource`` will be joined in a single class. This resource\n  class will have a count method (countable) or a hard dependency on a\n  database table (tracked resource). The only difference will be the\n  ""count"" method implementation.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 8, 'created': '2021-05-12 11:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2b173f9034c7d744ecbd16685e06f97f234bd85', 'message': 'New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and\n  ``TrackedResource`` will be joined in a single class. This resource\n  class will have a count method (countable) or a hard dependency on a\n  database table (tracked resource). The only difference will be the\n  ""count"" method implementation.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 9, 'created': '2021-05-12 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fad6976853c5d41c1a9d407e12e6163a74a9b86', 'message': 'New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and\n  ``TrackedResource`` will be joined in a single class. This resource\n  class will have a count method (countable) or a hard dependency on a\n  database table (tracked resource). The only difference will be the\n  ""count"" method implementation.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 10, 'created': '2021-05-13 06:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/202f667d59e9b89fb1ce984fb06a556d0f62cc52', 'message': 'New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and\n  ``TrackedResource`` will be joined in a single class. This resource\n  class will have a count method (countable) or a hard dependency on a\n  database table (tracked resource). The only difference will be the\n  ""count"" method implementation.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 11, 'created': '2021-05-18 11:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2892e093365a00df04247da7649fed0b509d7eba', 'message': 'New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and\n  ``TrackedResource`` will be joined in a single class. This resource\n  class will have a count method (countable) or a hard dependency on a\n  database table (tracked resource). The only difference will be the\n  ""count"" method implementation.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}, {'number': 12, 'created': '2021-05-20 07:55:59.000000000', 'files': ['neutron/tests/unit/quota/test_resource.py', 'neutron/db/quota/driver_nolock.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'releasenotes/notes/new-quota-driver-DbQuotaNoLockDriver-5f8a44915ec16a1b.yaml', 'neutron/conf/quota.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/tests/unit/extensions/test_quotasv2.py', 'neutron/tests/unit/quota/test_resource_registry.py', 'doc/source/contributor/internals/quota.rst', 'neutron/extensions/quotasv2_detail.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e135a8221dba3beac4047ca9351bdfe600fcf01a', 'message': 'New Quota driver ``DbQuotaNoLockDriver``\n\nThis new quota driver, ``DbQuotaNoLockDriver``, does not create a lock\nper (resource, project_id) but retrieves the instant (resource,\nproject_id) usage and the current (resource, project_id) reservations.\nIf the requested number of resources fit the available quota, a new\n``Reservation`` register is created with the amount of units requested.\n\nAll those operations are done inside a DB transaction context. That\nmeans the amount of resources and reservations is guaranteed inside\nthis transaction (depending on the DB backend isolation level defined)\nand the new reservation created will not clash with other DB transation.\nThat will guarantee the number of resources and instant reservations\nnever exceed the quota limits defined for this (resource, project_id).\n\nNOTES:\n- This change tries to be as unobtrusive as possible. The new driver\n  uses the same ``DbQuotaDriver`` dabatase tables (except for\n  ``QuotaUsage``) and the same Quota engine API, located in\n  ``neutron.quota``. However, the Quota engine resources implements some\n  particular API actions like ""dirty"", that are not used in the new\n  driver.\n- The Pecan Quota enforcement hooks,\n  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like\n  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has\n  no meaning in the new driver.\n- The isolation between the Quota engine and the Pecan hook, and the\n  driver itself is not clearly defined. A refactor of the Quota engine,\n  Quota service, Quota drivers and a common API between the driver and\n  the engine is needed.\n- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and\n  ``TrackedResource`` will be joined in a single class. This resource\n  class will have a count method (countable) or a hard dependency on a\n  database table (tracked resource). The only difference will be the\n  ""count"" method implementation.\n\nCloses-Bug: #1926787\n\nChange-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1\n'}]",38,790060,e135a8221dba3beac4047ca9351bdfe600fcf01a,168,7,12,16688,,,0,"New Quota driver ``DbQuotaNoLockDriver``

This new quota driver, ``DbQuotaNoLockDriver``, does not create a lock
per (resource, project_id) but retrieves the instant (resource,
project_id) usage and the current (resource, project_id) reservations.
If the requested number of resources fit the available quota, a new
``Reservation`` register is created with the amount of units requested.

All those operations are done inside a DB transaction context. That
means the amount of resources and reservations is guaranteed inside
this transaction (depending on the DB backend isolation level defined)
and the new reservation created will not clash with other DB transation.
That will guarantee the number of resources and instant reservations
never exceed the quota limits defined for this (resource, project_id).

NOTES:
- This change tries to be as unobtrusive as possible. The new driver
  uses the same ``DbQuotaDriver`` dabatase tables (except for
  ``QuotaUsage``) and the same Quota engine API, located in
  ``neutron.quota``. However, the Quota engine resources implements some
  particular API actions like ""dirty"", that are not used in the new
  driver.
- The Pecan Quota enforcement hooks,
  ``neutron.pecan_wgsi.hooks.quota_enforcement``, execute actions like
  ""resync"", ""mark_resources_dirty"" or ""set_resources_dirty"", that has
  no meaning in the new driver.
- The isolation between the Quota engine and the Pecan hook, and the
  driver itself is not clearly defined. A refactor of the Quota engine,
  Quota service, Quota drivers and a common API between the driver and
  the engine is needed.
- If ``DbQuotaDriver`` is deprecated, ``CountableResource`` and
  ``TrackedResource`` will be joined in a single class. This resource
  class will have a count method (countable) or a hard dependency on a
  database table (tracked resource). The only difference will be the
  ""count"" method implementation.

Closes-Bug: #1926787

Change-Id: I4f98c6fcd781459fd7150aff426d19c7fdfa98c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/790060/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/quota.py', 'neutron/quota/resource.py', 'neutron/db/quota/driver_nodblock.py']",3,0ab1c43380df46353ce2c925fb7e4f1868140147,bug/1926787,"# Copyright 2011 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import attributes from neutron_lib.db import api as db_api from neutron_lib import exceptions from neutron_lib.plugins import constants from neutron_lib.plugins import directory from oslo_log import log from neutron.db.quota import api as quota_api from neutron.objects import quota as quota_obj from neutron.quota import resource as res LOG = log.getLogger(__name__) class DbQuotaNoLockDriver(object): """"""RAH: todo. """""" @staticmethod def get_default_quotas(context, resources, project_id): """"""Given a list of resources, retrieve the default quotas set for a tenant. :param context: The request context, for access checks. :param resources: A dictionary of the registered resource keys. :param tenant_id: The ID of the tenant to return default quotas for. :return: dict from resource name to dict of name and limit """""" return dict((key, resource.default) for key, resource in resources.items()) @staticmethod @db_api.retry_if_session_inactive() def get_tenant_quotas(context, resources, project_id): """"""Given a list of resources, retrieve the quotas for the given tenant. If no limits are found for the specified tenant, the operation returns the default limits. :param context: The request context, for access checks. :param resources: A dictionary of the registered resource keys. :param tenant_id: The ID of the tenant to return quotas for. :return: dict from resource name to dict of name and limit """""" tenant_quota = dict((key, resource.default) for key, resource in resources.items()) quota_objs = quota_obj.Quota.get_objects(context, project_id=project_id) for item in quota_objs: tenant_quota[item['resource']] = item['limit'] return tenant_quota @staticmethod @db_api.retry_if_session_inactive() def get_detailed_tenant_quotas(context, resources, project_id): """"""Given a list of resources and a sepecific tenant, retrieve the detailed quotas (limit, used, reserved). :param context: The request context, for access checks. :param resources: A dictionary of the registered resource keys. :return dict: mapping resource name in dict to its corresponding limit used and reserved. Reserved currently returns default value of 0 """""" res_reserve_info = quota_api.get_reservations_for_resources( context, project_id, resources.keys()) tenant_quota_ext = {} for key, resource in resources.items(): if isinstance(resource, res.TrackedResource): used = resource.count_used(context, project_id, resync_usage=False) else: # NOTE(ihrachys) .count won't use the plugin we pass, but we # pass it regardless to keep the quota driver API intact plugins = directory.get_plugins() plugin = plugins.get(key, plugins[constants.CORE]) used = resource.count(context, plugin, project_id) tenant_quota_ext[key] = { 'limit': resource.default, 'used': used, 'reserved': res_reserve_info.get(key, 0), } # update with specific tenant limits quota_objs = quota_obj.Quota.get_objects(context, project_id=project_id) for item in quota_objs: tenant_quota_ext[item['resource']]['limit'] = item['limit'] return tenant_quota_ext @staticmethod @db_api.retry_if_session_inactive() def delete_tenant_quota(context, project_id): """"""Delete the quota entries for a given project_id. After deletion, this tenant will use default quota values in conf. Raise a ""not found"" error if the quota for the given tenant was never defined. """""" if quota_obj.Quota.delete_objects(context, project_id=project_id) < 1: raise exceptions.TenantQuotaNotFound(tenant_id=project_id) @staticmethod @db_api.retry_if_session_inactive() def get_all_quotas(context, resources): """"""Given a list of resources, retrieve the quotas for the all tenants. :param context: The request context, for access checks. :param resources: A dictionary of the registered resource keys. :return: quotas list of dict of tenant_id:, resourcekey1: resourcekey2: ... """""" tenant_default = dict((key, resource.default) for key, resource in resources.items()) all_tenant_quotas = {} for quota in quota_obj.Quota.get_objects(context): tenant_id = quota['project_id'] # avoid setdefault() because only want to copy when actually # required tenant_quota = all_tenant_quotas.get(tenant_id) if tenant_quota is None: tenant_quota = tenant_default.copy() tenant_quota['tenant_id'] = tenant_id attributes.populate_project_info(tenant_quota) all_tenant_quotas[tenant_id] = tenant_quota tenant_quota[quota['resource']] = quota['limit'] # Convert values to a list to as caller expect an indexable iterable, # where python3's dict_values does not support indexing return list(all_tenant_quotas.values()) @staticmethod @db_api.retry_if_session_inactive() def update_quota_limit(context, tenant_id, resource, limit): tenant_quotas = quota_obj.Quota.get_objects( context, project_id=tenant_id, resource=resource) if tenant_quotas: tenant_quotas[0].limit = limit tenant_quotas[0].update() else: quota_obj.Quota(context, project_id=tenant_id, resource=resource, limit=limit).create() def _handle_expired_reservations(self, context, tenant_id): LOG.debug(""Deleting expired reservations for tenant:%s"", tenant_id) # Delete expired reservations (we don't want them to accrue # in the database) quota_api.remove_expired_reservations( context, tenant_id=tenant_id) @db_api.retry_if_session_inactive() def make_reservation(self, context, project_id, resources, deltas, plugin): resources_over_limit = [] with db_api.CONTEXT_WRITER.using(context): current_limits = self.get_tenant_quotas(context, resources, project_id) unlimited_resources = set([resource for (resource, limit) in current_limits.items() if limit < 0]) requested_resources = (set(deltas.keys()) - unlimited_resources) for resource_name in requested_resources: tracked_resource = resources.get(resource_name) if not tracked_resource: continue used = tracked_resource.count_used_db(context, project_id) reserved = tracked_resource.count_reserved(context, project_id) resource_num = deltas[resource_name] if current_limits[resource_name] < (used + reserved + resource_num): resources_over_limit.append(resource_name) if resources_over_limit: raise exceptions.OverQuota(overs=sorted(resources_over_limit)) return quota_api.create_reservation(context, project_id, deltas) def commit_reservation(self, context, reservation_id): quota_api.remove_reservation(context, reservation_id, set_dirty=False) def cancel_reservation(self, context, reservation_id): self.commit_reservation(context, reservation_id) ",,204,2
openstack%2Fcharm-gnocchi~master~I408bb3da8e246b4408f4d95337e93ae7020ba1f7,openstack/charm-gnocchi,master,I408bb3da8e246b4408f4d95337e93ae7020ba1f7,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:58.000000000,2021-06-04 23:13:59.000000000,2021-06-04 23:13:59.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:08:58.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/432a733a371f4bbc5147167716b8250862afbcbb', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I408bb3da8e246b4408f4d95337e93ae7020ba1f7\n'}]",0,791189,432a733a371f4bbc5147167716b8250862afbcbb,10,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I408bb3da8e246b4408f4d95337e93ae7020ba1f7
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/89/791189/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,432a733a371f4bbc5147167716b8250862afbcbb,batch-update,f9ee6bce-b3eb-11eb-bbfe-6bce97d054ab,0da90310-75e3-4a9f-a5f2-2bb4bc85a934,1,1
openstack%2Frequirements~master~I9e4f9960d51b66129a37911a73b51657a6ec3b05,openstack/requirements,master,I9e4f9960d51b66129a37911a73b51657a6ec3b05,Correct regression in Sphinx version,MERGED,2021-06-04 20:14:15.000000000,2021-06-04 22:56:57.000000000,2021-06-04 22:55:44.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 20:14:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a9c6d950c9cf5acbe12040c113febac6cfba5ec6', 'message': 'Correct regression in Sphinx version\n\nChange I652c88b4df194a123c0101109854f9c4d181332a modified the\nupper constraint for Sphinx backward from 3.5.4 to 3.4.3.  This\nbreaks at least the cinder docs job, which has been happily using\nSphinx>=3.5.1 since commit b14cb5e13a4fd during wallaby development.\n\nChange-Id: I9e4f9960d51b66129a37911a73b51657a6ec3b05\n'}]",0,794894,a9c6d950c9cf5acbe12040c113febac6cfba5ec6,9,3,1,5314,,,0,"Correct regression in Sphinx version

Change I652c88b4df194a123c0101109854f9c4d181332a modified the
upper constraint for Sphinx backward from 3.5.4 to 3.4.3.  This
breaks at least the cinder docs job, which has been happily using
Sphinx>=3.5.1 since commit b14cb5e13a4fd during wallaby development.

Change-Id: I9e4f9960d51b66129a37911a73b51657a6ec3b05
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/794894/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a9c6d950c9cf5acbe12040c113febac6cfba5ec6,drop-v2,Sphinx===3.5.4,Sphinx===3.4.3,1,1
openstack%2Frequirements~stable%2Ftrain~I65f58adb2d2f1e36609cd011748e12ed469f3629,openstack/requirements,stable/train,I65f58adb2d2f1e36609cd011748e12ed469f3629,update constraint for paunch to new release 5.5.1,MERGED,2021-06-04 17:44:52.000000000,2021-06-04 22:55:40.000000000,2021-06-04 22:55:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 17:44:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7942ec8ae16ac03882ddb4b865963e4fce76342f', 'message': 'update constraint for paunch to new release 5.5.1\n\nmeta: version: 5.5.1\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I3be1607ea03e4a30dcd122501a409f294f52fb1e\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I65f58adb2d2f1e36609cd011748e12ed469f3629\n'}]",0,794870,7942ec8ae16ac03882ddb4b865963e4fce76342f,6,2,1,11131,,,0,"update constraint for paunch to new release 5.5.1

meta: version: 5.5.1
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I3be1607ea03e4a30dcd122501a409f294f52fb1e
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I65f58adb2d2f1e36609cd011748e12ed469f3629
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/794870/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7942ec8ae16ac03882ddb4b865963e4fce76342f,new-release,paunch===5.5.1,paunch===5.5.0,1,1
openstack%2Frequirements~stable%2Ftrain~I41a9c4732e1c02e16f1e5899a2c3a780f372dbb1,openstack/requirements,stable/train,I41a9c4732e1c02e16f1e5899a2c3a780f372dbb1,update constraint for tripleo-common to new release 11.7.0,MERGED,2021-06-04 17:45:08.000000000,2021-06-04 22:55:36.000000000,2021-06-04 22:55:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 17:45:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4bae21598a894893fee40bd4fbfd5b4365cb683a', 'message': 'update constraint for tripleo-common to new release 11.7.0\n\nmeta: version: 11.7.0\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I3be1607ea03e4a30dcd122501a409f294f52fb1e\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I41a9c4732e1c02e16f1e5899a2c3a780f372dbb1\n'}]",0,794871,4bae21598a894893fee40bd4fbfd5b4365cb683a,7,3,1,11131,,,0,"update constraint for tripleo-common to new release 11.7.0

meta: version: 11.7.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I3be1607ea03e4a30dcd122501a409f294f52fb1e
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I41a9c4732e1c02e16f1e5899a2c3a780f372dbb1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/794871/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4bae21598a894893fee40bd4fbfd5b4365cb683a,new-release,tripleo-common===11.7.0,tripleo-common===11.6.0,1,1
openstack%2Fdevstack~master~I671b589150fe731125e16316a994a5942219920b,openstack/devstack,master,I671b589150fe731125e16316a994a5942219920b,Temporary add feature pragma,MERGED,2021-05-14 19:52:09.000000000,2021-06-04 21:32:17.000000000,2021-06-04 17:52:46.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27900}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-14 19:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c0dd8ef8d52e883eb6a28b7e8a1c8bfda708cf83', 'message': 'DNM add feature pragma\n\nChange-Id: I671b589150fe731125e16316a994a5942219920b\n'}, {'number': 2, 'created': '2021-05-18 08:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfdbfa9f73ba3ca29b25456223a47a5f46de7722', 'message': 'Temporary add feature pragma\n\nOpenStackSDK has a feature branch ""feature/r1"" as a preparation for the\nR1.0 release. Due to different branch naming functional tests with\ndevstack are not running. Add temporarily (for the duration of the\nfeature branch) pragma to the zuul.yaml to allow Zuul run functional\ntests. It will be dropped once SDK gets next major release.\n\nChange-Id: I671b589150fe731125e16316a994a5942219920b\n'}, {'number': 3, 'created': '2021-06-04 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d683be003f7d47de55910a6658cf2609051d7171', 'message': 'Temporary add feature pragma\n\nOpenStackSDK has a feature branch ""feature/r1"" as a preparation for the\nR1.0 release. Due to different branch naming functional tests with\ndevstack are not running. Add temporarily (for the duration of the\nfeature branch) pragma to the zuul.yaml to allow Zuul run functional\ntests. It will be dropped once SDK gets next major release.\n\nChange-Id: I671b589150fe731125e16316a994a5942219920b\n'}, {'number': 4, 'created': '2021-06-04 15:28:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6843bc798c3fe5f17286e1c07ede95171bb49a25', 'message': 'Temporary add feature pragma\n\nOpenStackSDK has a feature branch ""feature/r1"" as a preparation for the\nR1.0 release. Due to different branch naming functional tests with\ndevstack are not running. Add temporarily (for the duration of the\nfeature branch) pragma to the zuul.yaml to allow Zuul run functional\ntests. It will be dropped once SDK gets next major release.\n\nChange-Id: I671b589150fe731125e16316a994a5942219920b\n'}]",2,791541,6843bc798c3fe5f17286e1c07ede95171bb49a25,20,6,4,2,,,0,"Temporary add feature pragma

OpenStackSDK has a feature branch ""feature/r1"" as a preparation for the
R1.0 release. Due to different branch naming functional tests with
devstack are not running. Add temporarily (for the duration of the
feature branch) pragma to the zuul.yaml to allow Zuul run functional
tests. It will be dropped once SDK gets next major release.

Change-Id: I671b589150fe731125e16316a994a5942219920b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/791541/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c0dd8ef8d52e883eb6a28b7e8a1c8bfda708cf83,,- pragma: implied-branches: - feature/r1 ,,4,0
openstack%2Ftripleo-heat-templates~master~Ib4d0551d99afd55fbb513f8c5050fb835dc332b4,openstack/tripleo-heat-templates,master,Ib4d0551d99afd55fbb513f8c5050fb835dc332b4,Set default for network.ip_subnet,MERGED,2021-05-27 14:25:33.000000000,2021-06-04 21:19:50.000000000,2021-06-04 21:19:50.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-27 14:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4aa82cfa8c186bde21a4a97fe06eb1da20914a8', 'message': 'Set default for network.ip_subnet\n\nJinja2 rendering failed when using network-v2 format\nbecause the network_data yaml does not include the\nip_subnet key.\n\nDefault netwrok.ip_subnet to """" in the places it doesn\'t\ndefault to that already.\n\nCloses-Bug: #1929835\nChange-Id: Ib4d0551d99afd55fbb513f8c5050fb835dc332b4\n'}, {'number': 2, 'created': '2021-06-02 08:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20669b32fd19daeadc77c0462ab0f7dc03bee423', 'message': 'Set default for network.ip_subnet\n\nJinja2 rendering failed when using network-v2 format\nbecause the network_data yaml does not include the\nip_subnet key at the network level.\n\nDefault network.ip_subnet to """" in the places were it\ndoes not have a the default already.\n\nThese templates are not used with network-v2.\n\nCloses-Bug: #1929835\nChange-Id: Ib4d0551d99afd55fbb513f8c5050fb835dc332b4\n'}, {'number': 3, 'created': '2021-06-03 12:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebdf4fe57c17fa4e7d1066413cca10bd5e5e6304', 'message': 'Set default for network.ip_subnet\n\nJinja2 rendering failed when using network-v2 format\nbecause the network_data yaml does not include the\nip_subnet key at the network level.\n\nDefault network.ip_subnet to """" in the places were it\ndoes not have a the default already.\n\nThese templates are not used with network-v2.\n\nCloses-Bug: #1929835\nChange-Id: Ib4d0551d99afd55fbb513f8c5050fb835dc332b4\n'}, {'number': 4, 'created': '2021-06-03 17:41:15.000000000', 'files': ['network/network.j2', 'network/ports/port_from_pool.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed8bdde212ef6bd0af7e1438f7a74bda3f637e67', 'message': 'Set default for network.ip_subnet\n\nJinja2 rendering failed when using network-v2 format\nbecause the network_data yaml does not include the\nip_subnet key at the network level.\n\nDefault network.ip_subnet to """" in the places were it\ndoes not have a the default already.\n\nThese templates are not used with network-v2.\n\nCloses-Bug: #1929835\nChange-Id: Ib4d0551d99afd55fbb513f8c5050fb835dc332b4\n'}]",4,793416,ed8bdde212ef6bd0af7e1438f7a74bda3f637e67,28,5,4,24245,,,0,"Set default for network.ip_subnet

Jinja2 rendering failed when using network-v2 format
because the network_data yaml does not include the
ip_subnet key at the network level.

Default network.ip_subnet to """" in the places were it
does not have a the default already.

These templates are not used with network-v2.

Closes-Bug: #1929835
Change-Id: Ib4d0551d99afd55fbb513f8c5050fb835dc332b4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/793416/3 && git format-patch -1 --stdout FETCH_HEAD,['network/network.j2'],1,b4aa82cfa8c186bde21a4a97fe06eb1da20914a8,bug/1929835,"{%- if "":"" in network.ip_subnet|default("""") or network.ipv6 or ipv6_override %}{%- if "":"" in network.ip_subnet|default("""") or network.ipv6 or ipv6_override %}{%- if "":"" in network.ip_subnet|default("""") or network.ipv6 or ipv6_override %}{%- if "":"" in network.ip_subnet|default("""") or network.ipv6 or ipv6_override %}","{%- if "":"" in network.ip_subnet or network.ipv6 or ipv6_override %}{%- if "":"" in network.ip_subnet or network.ipv6 or ipv6_override %}{%- if "":"" in network.ip_subnet or network.ipv6 or ipv6_override %}{%- if "":"" in network.ip_subnet or network.ipv6 or ipv6_override %}",4,4
openstack%2Ftripleo-upgrade~master~I601b787fcc710ad06481db6727fad68eff9af672,openstack/tripleo-upgrade,master,I601b787fcc710ad06481db6727fad68eff9af672,Switch off evacute for 1 compute topology,MERGED,2021-06-03 10:48:41.000000000,2021-06-04 21:19:45.000000000,2021-06-04 21:19:45.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-06-03 10:48:41.000000000', 'files': ['infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0b067006de1d83e24d0aca062c600e51cc5ad020', 'message': 'Switch off evacute for 1 compute topology\n\nSigned-off-by: ciecierski <mciecier@redhat.com>\nChange-Id: I601b787fcc710ad06481db6727fad68eff9af672\n(cherry picked from commit 427d5207ffa90535a3627fee79fa10aa9e6f7bdd)\n'}]",0,794448,0b067006de1d83e24d0aca062c600e51cc5ad020,7,3,1,6816,,,0,"Switch off evacute for 1 compute topology

Signed-off-by: ciecierski <mciecier@redhat.com>
Change-Id: I601b787fcc710ad06481db6727fad68eff9af672
(cherry picked from commit 427d5207ffa90535a3627fee79fa10aa9e6f7bdd)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/48/794448/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/main.yml'],1,0b067006de1d83e24d0aca062c600e51cc5ad020,, when: - install.upgrade.compute.evacuate - groups['compute'] | length > 1, when: install.upgrade.compute.evacuate,3,1
openstack%2Fneutron~stable%2Fvictoria~Iffb6643359562487414460f5a7e19a7fae9f935c,openstack/neutron,stable/victoria,Iffb6643359562487414460f5a7e19a7fae9f935c,[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses,MERGED,2021-05-14 14:40:12.000000000,2021-06-04 20:52:46.000000000,2021-06-04 20:51:01.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60953ec25193ab57fe3c04cc892476255d473f47', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 2, 'created': '2021-06-04 15:08:04.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb2851561a89338c5843521128cbef3c1c7de10c', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}]",0,791465,eb2851561a89338c5843521128cbef3c1c7de10c,40,3,2,11975,,,0,"[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses

Neighbor Advertisments are used to inform other machines of the MAC
address to use to reach an IPv6. This commits prevents VMs from
pretending they are assigned IPv6 they should not use.

It also prevents sending UDP packets with spoofed IP or MAC even using
DHCP(v6) request ports.

Co-authored-by: David Sinquin <david.sinquin@gandi.net>

Closes-bug: #1902917

Change-Id: Iffb6643359562487414460f5a7e19a7fae9f935c
(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/791465/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,60953ec25193ab57fe3c04cc892476255d473f47,bug/1902917-stable/wallaby-stable/victoria," for icmp_type in agent_firewall.ICMPV6_RESTRICTED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, nd_target='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE)))",,61,24
openstack%2Fdevstack~master~I6b8e791c06319fa5fa0935337520c36800b1abd6,openstack/devstack,master,I6b8e791c06319fa5fa0935337520c36800b1abd6,setup.cfg: Replace dashes with underscores,MERGED,2021-05-28 06:07:26.000000000,2021-06-04 20:39:55.000000000,2021-06-04 20:38:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-28 06:07:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/devstack/commit/58f6048dd488664aab6ae42efeb9deb90b051acf', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I6b8e791c06319fa5fa0935337520c36800b1abd6\n""}]",0,793540,58f6048dd488664aab6ae42efeb9deb90b051acf,15,4,1,33379,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I6b8e791c06319fa5fa0935337520c36800b1abd6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/793540/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,58f6048dd488664aab6ae42efeb9deb90b051acf,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/devstack/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/devstack/latest,3,3
openstack%2Fopenstack-helm~master~Ieed80cbb7785aeecf3782d2de401af0917e48015,openstack/openstack-helm,master,Ieed80cbb7785aeecf3782d2de401af0917e48015,[DNM] Testing TLS with support to rabbitmq prometheus exporter,ABANDONED,2021-06-02 16:24:52.000000000,2021-06-04 20:38:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-02 16:24:52.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5eaa4c1ecea1cd027feca956935e251a34f9a60d', 'message': '[DNM] Testing TLS with support to rabbitmq prometheus exporter\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/794018\nChange-Id: Ieed80cbb7785aeecf3782d2de401af0917e48015\n'}]",0,794272,5eaa4c1ecea1cd027feca956935e251a34f9a60d,25,1,1,30495,,,0,"[DNM] Testing TLS with support to rabbitmq prometheus exporter

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/794018
Change-Id: Ieed80cbb7785aeecf3782d2de401af0917e48015
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/794272/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,5eaa4c1ecea1cd027feca956935e251a34f9a60d,test-exporter,, nodeset: openstack-helm-single-32GB-node,1,1
openstack%2Fceilometer~stable%2Fussuri~I00c994316653446748823867eb7c1a1ba5abfbea,openstack/ceilometer,stable/ussuri,I00c994316653446748823867eb7c1a1ba5abfbea,[stable-only] Add font for PDF generation and fix lower constraints,MERGED,2021-06-04 17:22:31.000000000,2021-06-04 20:31:24.000000000,2021-06-04 20:30:04.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 17:22:31.000000000', 'files': ['requirements.txt', 'bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ea7014ba6d67e6745e7feb7e93edd4e37d38966a', 'message': ""[stable-only] Add font for PDF generation and fix lower constraints\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nWith the new pip resolver (introduced in pip 20.3) the constraints\nchecking is now working better, thus reveals multiple constrain\nconflicts. This patch also fixes those problems:\n- no extra is allowed for constraints\n- futurist 1.8.0 depends on six>=1.10.0\n- keystoneauth1 3.9.0 depends on requests>=2.14.2\n- oslo.upgradecheck==0.1.1 was not listed among lower constraints\n\nConflicts:\n    lower-constraints.txt\n    requirements.txt\n\nChange-Id: I00c994316653446748823867eb7c1a1ba5abfbea\n(cherry picked from commit 418af55c7bb8446af5361bbdd0f24d62cabb2ef4)\n""}]",0,794867,ea7014ba6d67e6745e7feb7e93edd4e37d38966a,7,2,1,17685,,,0,"[stable-only] Add font for PDF generation and fix lower constraints

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

With the new pip resolver (introduced in pip 20.3) the constraints
checking is now working better, thus reveals multiple constrain
conflicts. This patch also fixes those problems:
- no extra is allowed for constraints
- futurist 1.8.0 depends on six>=1.10.0
- keystoneauth1 3.9.0 depends on requests>=2.14.2
- oslo.upgradecheck==0.1.1 was not listed among lower constraints

Conflicts:
    lower-constraints.txt
    requirements.txt

Change-Id: I00c994316653446748823867eb7c1a1ba5abfbea
(cherry picked from commit 418af55c7bb8446af5361bbdd0f24d62cabb2ef4)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/67/794867/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'bindep.txt', 'lower-constraints.txt']",3,ea7014ba6d67e6745e7feb7e93edd4e37d38966a,missing-tgtermes.sty,oslo.upgradecheck==0.1.1requests==2.14.2six==1.10.0tooz==1.47.0,oslo.messaging[kafka]==6.2.0requests==2.8.1six==1.9.0tooz[zake]==1.47.0,9,6
openstack%2Freleases~master~I318e5d93b5dce5ba3e9dcc6536f2a5f2f22932bf,openstack/releases,master,I318e5d93b5dce5ba3e9dcc6536f2a5f2f22932bf,[solum] Transition Train to EM,MERGED,2021-05-11 15:22:01.000000000,2021-06-04 20:28:22.000000000,2021-06-04 20:28:22.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:22:01.000000000', 'files': ['deliverables/train/python-solumclient.yaml', 'deliverables/train/solum-dashboard.yaml', 'deliverables/train/solum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/db86ceff81ba166c936e4634e4dd12a7ba773e43', 'message': '[solum] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I318e5d93b5dce5ba3e9dcc6536f2a5f2f22932bf\n'}]",0,790772,db86ceff81ba166c936e4634e4dd12a7ba773e43,11,4,1,17685,,,0,"[solum] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I318e5d93b5dce5ba3e9dcc6536f2a5f2f22932bf
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/790772/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-solumclient.yaml', 'deliverables/train/solum-dashboard.yaml', 'deliverables/train/solum.yaml']",3,db86ceff81ba166c936e4634e4dd12a7ba773e43,train-em, - version: train-em projects: - repo: openstack/solum hash: 24fa3f5e3d05162599748dc86419dadc0c71f346,,12,0
openstack%2Freleases~master~Ie83f1c4e50ae28d5ec64d54dce148d96ab80bbdf,openstack/releases,master,Ie83f1c4e50ae28d5ec64d54dce148d96ab80bbdf,[senlin] Transition Train to EM,MERGED,2021-05-11 15:21:50.000000000,2021-06-04 20:27:18.000000000,2021-06-04 20:27:18.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:21:50.000000000', 'files': ['deliverables/train/senlin-dashboard.yaml', 'deliverables/train/senlin.yaml', 'deliverables/train/python-senlinclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22fa9e32908bfcf2122710a563d566a0c6b06947', 'message': '[senlin] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ie83f1c4e50ae28d5ec64d54dce148d96ab80bbdf\n'}]",0,790771,22fa9e32908bfcf2122710a563d566a0c6b06947,10,4,1,17685,,,0,"[senlin] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ie83f1c4e50ae28d5ec64d54dce148d96ab80bbdf
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/790771/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/senlin-dashboard.yaml', 'deliverables/train/senlin.yaml', 'deliverables/train/python-senlinclient.yaml']",3,22fa9e32908bfcf2122710a563d566a0c6b06947,train-em, - version: train-em projects: - repo: openstack/python-senlinclient hash: eca92571e99f1e65cdc72d5e1c603ca2b57f1a4d,,12,0
openstack%2Freleases~master~Ic9ec45b9bde1102006e897f676a1c85d1c13ba4e,openstack/releases,master,Ic9ec45b9bde1102006e897f676a1c85d1c13ba4e,[murano] Transition Train to EM,MERGED,2021-05-11 15:12:11.000000000,2021-06-04 20:27:12.000000000,2021-06-04 20:27:12.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:12:11.000000000', 'files': ['deliverables/train/murano.yaml', 'deliverables/train/murano-dashboard.yaml', 'deliverables/train/python-muranoclient.yaml', 'deliverables/train/murano-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e6ee7c4827b3a53e846b9d7704eef972ddd6d887', 'message': '[murano] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ic9ec45b9bde1102006e897f676a1c85d1c13ba4e\n'}]",0,790759,e6ee7c4827b3a53e846b9d7704eef972ddd6d887,11,4,1,17685,,,0,"[murano] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ic9ec45b9bde1102006e897f676a1c85d1c13ba4e
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/790759/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/murano.yaml', 'deliverables/train/murano-dashboard.yaml', 'deliverables/train/python-muranoclient.yaml', 'deliverables/train/murano-agent.yaml']",4,e6ee7c4827b3a53e846b9d7704eef972ddd6d887,train-em, - version: train-em projects: - repo: openstack/murano-agent hash: a026aa2e2f38bcfe072fb9cdfa6e9719f6fda5c6,,16,0
openstack%2Fceilometer~stable%2Fvictoria~I00c994316653446748823867eb7c1a1ba5abfbea,openstack/ceilometer,stable/victoria,I00c994316653446748823867eb7c1a1ba5abfbea,[stable-only] Add font for PDF generation and fix lower constraints,MERGED,2021-06-04 12:13:01.000000000,2021-06-04 20:25:45.000000000,2021-06-04 20:24:18.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 12:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b029bd9b0f84b2e04bc35bf8fbeb9248c01ff25d', 'message': ""[stable-only] Add missing font for PDF generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: I00c994316653446748823867eb7c1a1ba5abfbea\n""}, {'number': 2, 'created': '2021-06-04 14:23:12.000000000', 'files': ['requirements.txt', 'bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/418af55c7bb8446af5361bbdd0f24d62cabb2ef4', 'message': ""[stable-only] Add font for PDF generation and fix lower constraints\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nWith the new pip resolver (introduced in pip 20.3) the constraints\nchecking is now working better, thus reveals multiple constrain\nconflicts. This patch also fixes those problems:\n- no extra is allowed for constraints\n- futurist 1.8.0 depends on six>=1.10.0\n- keystoneauth1 3.9.0 depends on requests>=2.14.2\n- oslo.upgradecheck==0.1.1 was not listed among lower constraints\n\nChange-Id: I00c994316653446748823867eb7c1a1ba5abfbea\n""}]",0,794790,418af55c7bb8446af5361bbdd0f24d62cabb2ef4,10,2,2,17685,,,0,"[stable-only] Add font for PDF generation and fix lower constraints

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

With the new pip resolver (introduced in pip 20.3) the constraints
checking is now working better, thus reveals multiple constrain
conflicts. This patch also fixes those problems:
- no extra is allowed for constraints
- futurist 1.8.0 depends on six>=1.10.0
- keystoneauth1 3.9.0 depends on requests>=2.14.2
- oslo.upgradecheck==0.1.1 was not listed among lower constraints

Change-Id: I00c994316653446748823867eb7c1a1ba5abfbea
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/90/794790/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b029bd9b0f84b2e04bc35bf8fbeb9248c01ff25d,missing-tgtermes.sty, # PDF Docs package dependencies tex-gyre [platform:dpkg doc],,3,0
openstack%2Freleases~master~Ief89d3034de2bee7a5ec781d91cf038615fbe9c2,openstack/releases,master,Ief89d3034de2bee7a5ec781d91cf038615fbe9c2,[tripleo] Transition Train to EM,MERGED,2021-05-11 15:27:46.000000000,2021-06-04 19:31:29.000000000,2021-06-04 19:31:29.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0ea065379b13997a9a24df4da7536af247d15d18', 'message': '[tripleo] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ief89d3034de2bee7a5ec781d91cf038615fbe9c2\n'}, {'number': 2, 'created': '2021-05-11 15:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/21cdb997619574cfb6914db227021e7aebd968b3', 'message': '[tripleo] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ief89d3034de2bee7a5ec781d91cf038615fbe9c2\n'}, {'number': 3, 'created': '2021-06-03 12:53:56.000000000', 'files': ['deliverables/train/os-net-config.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/os-refresh-config.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/33e27362ff38ae98d14985664d885811f6c6bdb4', 'message': '[tripleo] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nChange-Id: Ief89d3034de2bee7a5ec781d91cf038615fbe9c2\n'}]",1,790778,33e27362ff38ae98d14985664d885811f6c6bdb4,24,5,3,17685,,,0,"[tripleo] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Co-Authored-By: Marios Andreou <marios@redhat.com>
Change-Id: Ief89d3034de2bee7a5ec781d91cf038615fbe9c2
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/790778/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-net-config.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/os-refresh-config.yaml', 'deliverables/train/tripleo-ipsec.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml']",14,0ea065379b13997a9a24df4da7536af247d15d18,train-em, - version: train-em projects: - repo: openstack/python-tripleoclient hash: 1a88932ff9319d002c217cc78dfdd21ee33c868e,,56,0
openstack%2Fkeystone~stable%2Ftrain~Id51241989b22c52810391f3e8e1cadbf8613d873,openstack/keystone,stable/train,Id51241989b22c52810391f3e8e1cadbf8613d873,Hide AccountLocked exception from end users,MERGED,2021-05-10 15:53:27.000000000,2021-06-04 19:14:52.000000000,2021-06-04 19:13:15.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 15:53:27.000000000', 'files': ['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1b573ae7d1c20e0ebfbde79bbe7538a09589c75d', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain insight from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)\n'}]",0,790444,1b573ae7d1c20e0ebfbde79bbe7538a09589c75d,9,3,1,21420,,,0,"Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.

The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/790444/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py']",4,1b573ae7d1c20e0ebfbde79bbe7538a09589c75d,bug/1688137-stable/train," self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized,"," self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked,",16,6
openstack%2Ftripleo-upgrade~stable%2Fussuri~I601b787fcc710ad06481db6727fad68eff9af672,openstack/tripleo-upgrade,stable/ussuri,I601b787fcc710ad06481db6727fad68eff9af672,Switch off evacute for 1 compute topology,MERGED,2021-06-03 10:48:02.000000000,2021-06-04 19:03:50.000000000,2021-06-04 19:03:50.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-06-03 10:48:02.000000000', 'files': ['infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/23d2eab185ca3f41d42e084fe941d1d9e05878ae', 'message': 'Switch off evacute for 1 compute topology\n\nSigned-off-by: ciecierski <mciecier@redhat.com>\nChange-Id: I601b787fcc710ad06481db6727fad68eff9af672\n(cherry picked from commit 427d5207ffa90535a3627fee79fa10aa9e6f7bdd)\n'}]",0,794446,23d2eab185ca3f41d42e084fe941d1d9e05878ae,7,3,1,6816,,,0,"Switch off evacute for 1 compute topology

Signed-off-by: ciecierski <mciecier@redhat.com>
Change-Id: I601b787fcc710ad06481db6727fad68eff9af672
(cherry picked from commit 427d5207ffa90535a3627fee79fa10aa9e6f7bdd)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/46/794446/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/main.yml'],1,23d2eab185ca3f41d42e084fe941d1d9e05878ae,, when: - install.upgrade.compute.evacuate - groups['compute'] | length > 1, when: install.upgrade.compute.evacuate,3,1
openstack%2Fhorizon~master~Ibfb80a47a8aaed8f33e4e1dcfb428e70c829f0dd,openstack/horizon,master,Ibfb80a47a8aaed8f33e4e1dcfb428e70c829f0dd,Default role checker should be case-insensitive.,MERGED,2021-05-13 18:30:20.000000000,2021-06-04 18:47:24.000000000,2021-06-04 18:45:49.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-13 18:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f0e9f50b462198e5eb3a73db6f09b9bdae4f1608', 'message': 'Default role checker should be case-insensitive.\n\nSometimes Keystone and Horizon default roles have the same meaning,\nbut different cases.\nFor instance, Keystone default role is ""Member"", Horizon - ""member"".\nWe should check default role in case-insensitive manner.\n\nChange-Id: Ibfb80a47a8aaed8f33e4e1dcfb428e70c829f0dd\n'}, {'number': 2, 'created': '2021-05-21 18:07:52.000000000', 'files': ['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3aaeadf895e96598acc64d54d8dd55e2b616e7ad', 'message': ""Default role checker should be case-insensitive.\n\nKeystone role names are case-insensistive and\nHorizon should handle role names in a case-insensitive manner.\nFor example, when keystone bootstraps default roles,\nit creates admin, member, and reader.\nIf another role, Member (note the upper case M) is created,\nkeystone will return a 409 Conflict since it considers the name Member equivalent to member.\nNote that case is preserved in this event.\nhttps://docs.openstack.org/keystone/latest/admin/case-insensitive.html#roles\nAlso whatever is written in defaults can be overridden in settings by the operator -\nespecially these days when actually the default should be 'member'\n(one of the default roles created by Keystone during the bootstrap),\nnot _member_ which is there for legacy reasons I presume.\n\nChange-Id: Ibfb80a47a8aaed8f33e4e1dcfb428e70c829f0dd\n""}]",8,791301,3aaeadf895e96598acc64d54d8dd55e2b616e7ad,25,3,2,32927,,,0,"Default role checker should be case-insensitive.

Keystone role names are case-insensistive and
Horizon should handle role names in a case-insensitive manner.
For example, when keystone bootstraps default roles,
it creates admin, member, and reader.
If another role, Member (note the upper case M) is created,
keystone will return a 409 Conflict since it considers the name Member equivalent to member.
Note that case is preserved in this event.
https://docs.openstack.org/keystone/latest/admin/case-insensitive.html#roles
Also whatever is written in defaults can be overridden in settings by the operator -
especially these days when actually the default should be 'member'
(one of the default roles created by Keystone during the bootstrap),
not _member_ which is there for legacy reasons I presume.

Change-Id: Ibfb80a47a8aaed8f33e4e1dcfb428e70c829f0dd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/791301/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py']",2,f0e9f50b462198e5eb3a73db6f09b9bdae4f1608,case_insensitive_default_role," default = settings.OPENSTACK_KEYSTONE_DEFAULT_ROLE.lower() if default in (role.id.lower(), role.name.lower()):"," default = settings.OPENSTACK_KEYSTONE_DEFAULT_ROLE if default in (role.id, role.name):",27,2
openstack%2Fcharm-heat~master~I3d4b84cd8de6fa61b06e9dc065c8018601859545,openstack/charm-heat,master,I3d4b84cd8de6fa61b06e9dc065c8018601859545,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:48.000000000,2021-06-04 18:46:18.000000000,2021-06-04 18:46:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:48.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/d84213577fbbfa32351bf12f3bee71e5f22856a8', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I3d4b84cd8de6fa61b06e9dc065c8018601859545\n'}]",0,791164,d84213577fbbfa32351bf12f3bee71e5f22856a8,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I3d4b84cd8de6fa61b06e9dc065c8018601859545
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/64/791164/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,d84213577fbbfa32351bf12f3bee71e5f22856a8,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Ftripleo-heat-templates~master~Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8,openstack/tripleo-heat-templates,master,Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8,Include the standalone ganesha tasks when ceph is external,MERGED,2021-05-27 16:24:10.000000000,2021-06-04 18:42:49.000000000,2021-06-04 18:42:49.000000000,"[{'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 16:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3504d7b878f4757b3419c801c0fa4b63af4a5cc', 'message': 'Include the standalone ganesha tasks when ceph is external\n\nWhen Ceph is external, we can use [1] to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyrings.\n\n[1] https://review.opendev.org/786871\n\nDepends-On: Ied85643d888d6729aa97172d836c8d1e04bb469f\nChange-Id: Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8\n'}, {'number': 2, 'created': '2021-06-01 12:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6b695db0a1d5d895ab7fb015f22faf6d22f3747', 'message': 'Include the standalone ganesha tasks when ceph is external\n\nWhen Ceph is external, we can use [1] to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyrings.\n\n[1] https://review.opendev.org/786871\n\nDepends-On: Ied85643d888d6729aa97172d836c8d1e04bb469f\nChange-Id: Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8\n'}, {'number': 3, 'created': '2021-06-01 12:54:51.000000000', 'files': ['deployment/cephadm/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49c49d3c03e4ca7f0e147e8946951885d062dfc3', 'message': 'Include the standalone ganesha tasks when ceph is external\n\nWhen Ceph is external, we can use [1] to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyrings.\n\n[1] https://review.opendev.org/786871\n\nDepends-On: Ied85643d888d6729aa97172d836c8d1e04bb469f\nChange-Id: Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8\n'}]",4,793468,49c49d3c03e4ca7f0e147e8946951885d062dfc3,26,6,3,25402,,,0,"Include the standalone ganesha tasks when ceph is external

When Ceph is external, we can use [1] to deploy standalone ganesha
instances; these instances can be connected to the external ceph
cluster via the related ceph.conf and keyrings.

[1] https://review.opendev.org/786871

Depends-On: Ied85643d888d6729aa97172d836c8d1e04bb469f
Change-Id: Ib5f83f7fcbf7ecbbbea41a62275970d13d589ae8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/793468/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-client.yaml'],1,f3504d7b878f4757b3419c801c0fa4b63af4a5cc,cephadm_ganesha," - name: Load variables for external ganesha include_vars: ""{{ playbook_dir }}/cephadm/cephadm-extra-vars-heat.yml"" when: - groups['ceph_mon'] | default([]) | length == 0 - groups['ceph_nfs'] | default([]) | length > 0 - name: Config External Ganesha include_role: name: tripleo_cephadm tasks_from: nfs when: - groups['ceph_mon'] | default([]) | length == 0 - groups['ceph_nfs'] | default([]) | length > 0",,12,0
openstack%2Fcharm-glance~master~I7e70e466f0babe940f520cd4a240a06de61f51c0,openstack/charm-glance,master,I7e70e466f0babe940f520cd4a240a06de61f51c0,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:46:26.000000000,2021-06-04 18:39:00.000000000,2021-06-04 18:39:00.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:46:26.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/cfc03e5b78702924052166f46706d694532160e6', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I7e70e466f0babe940f520cd4a240a06de61f51c0\n'}]",0,791161,cfc03e5b78702924052166f46706d694532160e6,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I7e70e466f0babe940f520cd4a240a06de61f51c0
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/61/791161/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/fetch/ubuntu.py']",6,cfc03e5b78702924052166f46706d694532160e6,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Ftripleo-ansible~master~I78273aa98ff49a5fafc94f0e346c1d5b5bc44921,openstack/tripleo-ansible,master,I78273aa98ff49a5fafc94f0e346c1d5b5bc44921,Remove todo comment for is_hci feature,MERGED,2021-06-03 19:38:13.000000000,2021-06-04 18:29:46.000000000,2021-06-04 18:29:46.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-03 19:38:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c344730eca5a7c086850469f1d4e954036a2ae36', 'message': ""Remove todo comment for is_hci feature\n\nAs per doc patch I3798d7e366c6e522368d326a44150599d2805b59,\nwe can configure cephadm's autotune_memory_target_ratio for\nHCI deployments, so we have addressed the functionality that\nceph-ansible's is_hci provides via cephadm.\n\nChange-Id: I78273aa98ff49a5fafc94f0e346c1d5b5bc44921\n""}]",0,794676,c344730eca5a7c086850469f1d4e954036a2ae36,11,5,1,18002,,,0,"Remove todo comment for is_hci feature

As per doc patch I3798d7e366c6e522368d326a44150599d2805b59,
we can configure cephadm's autotune_memory_target_ratio for
HCI deployments, so we have addressed the functionality that
ceph-ansible's is_hci provides via cephadm.

Change-Id: I78273aa98ff49a5fafc94f0e346c1d5b5bc44921
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/794676/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'],1,c344730eca5a7c086850469f1d4e954036a2ae36,cephadm_hci,,# todo(fultonj) add is_hci boolean for target memory # https://lists.ceph.io/hyperkitty/list/dev@ceph.io/thread/Z77XO23JPXDNHKM7IG6UN4URYKA6L7VH/,0,2
openstack%2Fcharm-ceph-osd~master~Ic2b610be597fb6b84e8c8bb48409a4f080447474,openstack/charm-ceph-osd,master,Ic2b610be597fb6b84e8c8bb48409a4f080447474,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:45:39.000000000,2021-06-04 18:27:06.000000000,2021-06-04 18:27:06.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:45:39.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/18bbada2880345c4a52c6454b9d229973009f829', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ic2b610be597fb6b84e8c8bb48409a4f080447474\n'}]",0,791155,18bbada2880345c4a52c6454b9d229973009f829,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ic2b610be597fb6b84e8c8bb48409a4f080447474
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/55/791155/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,18bbada2880345c4a52c6454b9d229973009f829,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fcharm-ceph-radosgw~master~I083014f4886f2c7df643ca67a324bdc2f476cf81,openstack/charm-ceph-radosgw,master,I083014f4886f2c7df643ca67a324bdc2f476cf81,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-05-13 12:45:53.000000000,2021-06-04 18:26:13.000000000,2021-06-04 18:26:13.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 12:45:53.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/147589b87b2912c7cbaa38bd2db2dec255992411', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I083014f4886f2c7df643ca67a324bdc2f476cf81\n'}]",0,791157,147589b87b2912c7cbaa38bd2db2dec255992411,10,3,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I083014f4886f2c7df643ca67a324bdc2f476cf81
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/57/791157/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,147589b87b2912c7cbaa38bd2db2dec255992411,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",45,21
openstack%2Fkeystoneauth~master~I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda,openstack/keystoneauth,master,I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda,Fix trust-scoped token create another token,ABANDONED,2019-10-24 05:57:19.000000000,2021-06-04 18:24:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-24 05:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f1dc1414917c746badc074b1e998b3ad01cacf6d', 'message': ""Fix trust-scoped token create another token\n\nWhen creating volume that encrypt it with barbican using trust-scoped\ntoken, it failed. Because the trust-scoped token will create another\ntoken, but keystone don't allow tokens used for delegation to create\nanother token. So we should prevent the trust-scoped to create another\ntoken.\n\nChange-Id: I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda\nCloses-Bug: #1849589\n""}, {'number': 2, 'created': '2019-10-24 08:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/bf36e755f221224809fb8e1a3f5504f3c5db82c2', 'message': ""Fix trust-scoped token create another token\n\nWhen creating volume that encrypt it with barbican using trust-scoped\ntoken, it failed. Because the trust-scoped token will create another\ntoken, but keystone don't allow tokens used for delegation to create\nanother token. So we should prevent the trust-scoped to create another\ntoken.\n\nChange-Id: I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda\nCloses-Bug: #1849589\n""}, {'number': 3, 'created': '2019-10-24 12:49:06.000000000', 'files': ['keystoneauth1/identity/v3/base.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8d651838fbce65554c1e897b62d1e3cf1ee6277c', 'message': ""Fix trust-scoped token create another token\n\nWhen creating volume that encrypt it with barbican using trust-scoped\ntoken, it failed. Because the trust-scoped token will create another\ntoken, but keystone don't allow tokens used for delegation to create\nanother token. So we should prevent the trust-scoped to create another\ntoken.\n\nChange-Id: I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda\nCloses-Bug: #1849589\n""}]",0,690812,8d651838fbce65554c1e897b62d1e3cf1ee6277c,8,2,3,17144,,,0,"Fix trust-scoped token create another token

When creating volume that encrypt it with barbican using trust-scoped
token, it failed. Because the trust-scoped token will create another
token, but keystone don't allow tokens used for delegation to create
another token. So we should prevent the trust-scoped to create another
token.

Change-Id: I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda
Closes-Bug: #1849589
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/12/690812/2 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/base.py'],1,f1dc1414917c746badc074b1e998b3ad01cacf6d,bug/1849589," # NOTE(jun923.gu): We should identify the token is trust-scoped. # Because trust-scoped token can't create another token. # If the token is trust-scoped, we should return the token directly. token = auth_data.get('id') if token: headers.update({ ""X-Subject-Token"": token, ""X-Auth-Token"": token }) resp = session.get(token_url, headers=headers, authenticated=False, log=False) try: _logger.debug(json.dumps(resp.json())) resp_data = resp.json() except ValueError: raise exceptions.InvalidResponse(response=resp) if 'token' not in resp_data: raise exceptions.InvalidResponse(response=resp) if 'OS-TRUST:trust' in resp_data['token']: return access.AccessInfoV3(auth_token=token, body=resp_data) ",,23,0
openstack%2Fkeystoneauth~master~Ic7aba0894277e253c572b872d9a51603a96a7151,openstack/keystoneauth,master,Ic7aba0894277e253c572b872d9a51603a96a7151,WIP Add typing flag file,ABANDONED,2019-10-03 13:32:48.000000000,2021-06-04 18:24:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-03 13:32:48.000000000', 'files': ['keystoneauth1/py.typed'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b6fe0f42fdf1bda69731ce197cdd664ecdd6d96b', 'message': ""WIP Add typing flag file\n\nThis indicates that keystoneauth supports typing. While we haven't\nstarted to add annotations yet, it's helpful for consuming libraries\nthat want to, and means as we add them, they can be picked up by\nconsuming libraries.\n\nChange-Id: Ic7aba0894277e253c572b872d9a51603a96a7151\n""}]",0,686401,b6fe0f42fdf1bda69731ce197cdd664ecdd6d96b,3,1,1,2,,,0,"WIP Add typing flag file

This indicates that keystoneauth supports typing. While we haven't
started to add annotations yet, it's helpful for consuming libraries
that want to, and means as we add them, they can be picked up by
consuming libraries.

Change-Id: Ic7aba0894277e253c572b872d9a51603a96a7151
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/01/686401/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/py.typed'],1,b6fe0f42fdf1bda69731ce197cdd664ecdd6d96b,,,,0,0
openstack%2Fkeystone~master~Ic7472c11e2eda3541d9302ee1baf22fdd49d707f,openstack/keystone,master,Ic7472c11e2eda3541d9302ee1baf22fdd49d707f,discourage using X.509 with external auth,ABANDONED,2019-07-10 01:21:44.000000000,2021-06-04 18:24:39.000000000,,"[{'_account_id': 1916}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-10 01:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5fcab40996667510c7d7e0ee9ad4b79e7de3cfb4', 'message': 'discourage using X.509 with external auth\n\nWe should not be recommending using X.509 SSL client certificate with\nexternal auth as external auth is limited to a single domain. Instead,\nX.509 should be used with federation.\n\nChange-Id: Ic7472c11e2eda3541d9302ee1baf22fdd49d707f\nCloses-Bug: 1813335\n'}, {'number': 2, 'created': '2019-07-26 00:01:24.000000000', 'files': ['doc/source/admin/external-authentication.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b916f9632bb86f47396be50013cbadc99a05fc31', 'message': 'discourage using X.509 with external auth\n\nWe should not be recommending using X.509 SSL client certificate with\nexternal auth as external auth is limited to a single domain. Instead,\nX.509 should be used with federation.\n\nThe existing snippet for the Apache configuration for X.509 auth is\nreplaced with the one showing Kerberos auth.\n\nChange-Id: Ic7472c11e2eda3541d9302ee1baf22fdd49d707f\nCloses-Bug: 1813335\n'}]",10,669959,b916f9632bb86f47396be50013cbadc99a05fc31,15,6,2,1916,,,0,"discourage using X.509 with external auth

We should not be recommending using X.509 SSL client certificate with
external auth as external auth is limited to a single domain. Instead,
X.509 should be used with federation.

The existing snippet for the Apache configuration for X.509 auth is
replaced with the one showing Kerberos auth.

Change-Id: Ic7472c11e2eda3541d9302ee1baf22fdd49d707f
Closes-Bug: 1813335
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/669959/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/external-authentication.rst'],1,5fcab40996667510c7d7e0ee9ad4b79e7de3cfb4,bug/1813335,".. CAUTION:: Using X.509 SSL client certificate authentication with `external` method is not recommended as `external` method is limited to a single domain. Furthermore, there's no way to effectively distinguish SSL certificates used for secure communication from SSL certificates used for user authentication. X.509 SSL client certificate authentication should be use with federation instead.",X.509 example ------------- The following snippet for the Apache conf will authenticate the user based on a valid X.509 certificate from a known CA:: <VirtualHost _default_:5000> SSLEngine on SSLCertificateFile /etc/ssl/certs/ssl.cert SSLCertificateKeyFile /etc/ssl/private/ssl.key SSLCACertificatePath /etc/ssl/allowed_cas SSLCARevocationPath /etc/ssl/allowed_cas SSLUserName SSL_CLIENT_S_DN_CN SSLVerifyClient require SSLVerifyDepth 10 (...) </VirtualHost>,7,18
openstack%2Fkeystone~master~I57180272cfd07cf33712d77230e305a8cf107049,openstack/keystone,master,I57180272cfd07cf33712d77230e305a8cf107049,Modify the exception for assert_user_enabled,ABANDONED,2019-09-04 03:17:11.000000000,2021-06-04 18:24:37.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-04 03:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8bacdcc809b61ae3acc5f92e9411f546910b4642', 'message': ""Modify the exception for assert_user_enabled\n\nWhen user is disabled, assert_user_enabled function will raise\nAssertionError exception that can't be identified easily by client.\nkeysotne should raise UserDisabled exception.\n\nChange-Id: I57180272cfd07cf33712d77230e305a8cf107049\nRelated-bug: #1842416\n""}, {'number': 2, 'created': '2019-09-04 03:37:13.000000000', 'files': ['keystone/identity/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/17e2940069a82cb6f22acd90882f2b104ca8a463', 'message': ""Modify the exception for assert_user_enabled\n\nWhen user is disabled, assert_user_enabled function will raise\nAssertionError exception that can't be identified easily by client.\nkeysotne should raise UserDisabled exception.\n\nChange-Id: I57180272cfd07cf33712d77230e305a8cf107049\nRelated-bug: #1842416\n""}]",1,679893,17e2940069a82cb6f22acd90882f2b104ca8a463,6,3,2,17144,,,0,"Modify the exception for assert_user_enabled

When user is disabled, assert_user_enabled function will raise
AssertionError exception that can't be identified easily by client.
keysotne should raise UserDisabled exception.

Change-Id: I57180272cfd07cf33712d77230e305a8cf107049
Related-bug: #1842416
",git fetch https://review.opendev.org/openstack/keystone refs/changes/93/679893/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/core.py'],1,8bacdcc809b61ae3acc5f92e9411f546910b4642,bug/1842416, raise exception.UserDisabled(user_id=user_id), raise AssertionError(_('User is disabled: %s') % user_id),1,1
openstack%2Fkeystoneauth~master~Ia982405d8790c10d8903fa04a3ddaeaa5a83f6d8,openstack/keystoneauth,master,Ia982405d8790c10d8903fa04a3ddaeaa5a83f6d8,Add blueprints for the document,ABANDONED,2019-09-11 08:41:25.000000000,2021-06-04 18:24:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-11 08:41:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/cdc2280ae22128f87e56d4e78dba6eea29c353f9', 'message': 'Add blueprints for the document\n\nChange-Id: Ia982405d8790c10d8903fa04a3ddaeaa5a83f6d8\n'}]",1,681407,cdc2280ae22128f87e56d4e78dba6eea29c353f9,4,2,1,27399,,,0,"Add blueprints for the document

Change-Id: Ia982405d8790c10d8903fa04a3ddaeaa5a83f6d8
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/07/681407/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,cdc2280ae22128f87e56d4e78dba6eea29c353f9,devloper,* Blueprints and feature specifications: https://blueprints.launchpad.net/keystoneauth,,1,0
openstack%2Fkeystone~master~I9812c5be067ee43be18be76f31bc16dc2693a292,openstack/keystone,master,I9812c5be067ee43be18be76f31bc16dc2693a292,Update the caching guide,ABANDONED,2019-07-22 17:32:41.000000000,2021-06-04 18:24:32.000000000,,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 17:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/13feeb03ab9b9358e40377c4c7a6fa4a44206c33', 'message': 'Update the caching guide\n\nDuring the virtual midcycle, we came up with a list of things we can\nupdate in the caching guide to make it more useful for operators:\n\n  https://etherpad.openstack.org/p/keystone-train-midcycle-topics\n\nThis commit attempts to work that feedback into the existing caching\nconfiguration guide.\n\nChange-Id: I9812c5be067ee43be18be76f31bc16dc2693a292\n'}, {'number': 2, 'created': '2019-07-25 15:07:44.000000000', 'files': ['doc/source/admin/caching-layer.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b0c68cf9137f23e40701ec2a77d7a17a9260f925', 'message': 'Update the caching guide\n\nDuring the virtual midcycle, we came up with a list of things we can\nupdate in the caching guide to make it more useful for operators:\n\n  https://etherpad.openstack.org/p/keystone-train-midcycle-topics\n\nThis commit attempts to work that feedback into the existing caching\nconfiguration guide.\n\nChange-Id: I9812c5be067ee43be18be76f31bc16dc2693a292\n'}]",21,672120,b0c68cf9137f23e40701ec2a77d7a17a9260f925,10,5,2,5046,,,0,"Update the caching guide

During the virtual midcycle, we came up with a list of things we can
update in the caching guide to make it more useful for operators:

  https://etherpad.openstack.org/p/keystone-train-midcycle-topics

This commit attempts to work that feedback into the existing caching
configuration guide.

Change-Id: I9812c5be067ee43be18be76f31bc16dc2693a292
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/672120/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/caching-layer.rst'],1,13feeb03ab9b9358e40377c4c7a6fa4a44206c33,,"Caching guideKeystone supports a wide variety of caching options. These options allow operators to prescriptively cache certain resources in specific ways or apply a generic caching strategy to all keystone resources. Caching data within keystone is imperative to responsive OpenStack cluster. Keystone's caching strategy is driven by the `oslo.cache <https://docs.openstack.org/oslo.cache/latest/>`__ library. This section of the configuration guide describes caching best practices. Global configuration -------------------- Keystone exposes `oslo.cache` configuration options. These options are relatively generic and control the overall behavior of your caching strategy. You can find these options in the ``[cache]`` section of your ``keystone.conf`` configuration file. This section includes a system-wide toggle that enables or disables caching. You want to make sure ``keystone.conf [cache] enabled`` is set to ``true`` if you want keystone to cache anything at all. .. code-block:: ini [cache] enabled=true Resource configuration ---------------------- In addition to generic configuration options, keystone supplies resource specific configuration options that describe the behavior for caching within a specific subsystem. For example, if you want to disable caching of identity data (e.g., user and groups), you can set ``keystone.conf [identity] caching`` to ``False``. Additionally, you can specify specific timeouts for each subsystem. For example, setting some resources to have shorter timeouts that others. These options give you more control over, especially if you don't want the one-size-fits-all approach available from `oslo.limit`. By default, keystone enables caching for all subsystems, which is highly recommended. For example, the following configuration disables all backends with the exception of the token backend:Backend configuration --------------------- Keystone supports backend drivers for multiple caching backing via `oslo.cache`. The default backend is a null backend that doesn't do anything. Other options include Redis and Memcached. Please be aware of Redis licensing `changes <https://redislabs.com/blog/redis-labs-modules-license-changes/>`_ if you're planning on using Redis in your deployment. It is important to note the ways in which keystone can use caching backends and what implications it has on performance. A common deployment strategy is to deploy a Memcached instance alongside keystone. Keystone can reference a local copy of Memcached to store data for requests that specific keystone instance serves. If you're deployment is highly available and scales linearly, this might not be the most efficient caching option since each keystone instance caches requests in separate, local, Memcached instances. For example, a request to ``GET /v3/users/6ec6a3c`` on one keystone node will result in ``6ec6a3c`` being cached locally, but a subsequent request to get the same user from another keystone server in the same deployment will require a round trip to the database since other keystone nodes aren't guaranteed to have user ``6ec6a3c`` in their local Memcached instance. In the worst case, each keystone node needs to cache the same user before the performance benefits take place. To help mitigate this issue, you can configure keystone to shard cache keys across a cluster of Memcached servers. Supplying the same backend configuration across each keystone node allows a cache entry from one keystone node to be visible to others. Now when a request for ``GET /v3/users/6ec6a3c`` is routed to another keystone node, it results in a cache hit instead of a miss since all keystone instances are sharing a common cache. You can take advantage of this by specifying the same server order for ``keystone.conf [cache] memcached_servers`` across all keystone nodes. The following configuration shows how to setup caching to shard cache results across two different instances of Memcached: .. code-block:: ini [cache] enabled = true backend = dogpile.cache.memcached backend_argument = url:192.168.1.1:11211,url:192.168.1.2:11221","Caching layerOpenStack Identity supports a caching layer that is above the configurable subsystems (for example, token). This gives you the flexibility to setup caching for all or some subsystems. OpenStack Identity uses the `oslo.cache <https://docs.openstack.org/oslo.cache/latest/>`__ library which allows flexible cache back ends. The majority of the caching configuration options are set in the ``[cache]`` section of the ``/etc/keystone/keystone.conf`` file. The ``enabled`` option of the ``[cache]`` section must be set to ``True`` in order for any subsystem to cache responses. Each section that has the capability to be cached will have a ``caching`` boolean value that toggles caching behavior of that particular subsystem. So to enable only the token back end caching, set the values as follows:.. note:: Each subsystem is configured to cache by default. However, the global toggle for caching defaults to ``False``. A subsystem is only able to cache responses if the global toggle is enabled. Current functional back ends are: ``dogpile.cache.null`` A ""null"" backend that effectively disables all cache operations.(Default) ``dogpile.cache.memcached`` Memcached back end using the standard ``python-memcached`` library. ``dogpile.cache.pylibmc`` Memcached back end using the ``pylibmc`` library. ``dogpile.cache.bmemcached`` Memcached using the ``python-binary-memcached`` library. ``dogpile.cache.redis`` Redis back end. ``dogpile.cache.dbm`` Local DBM file back end. ``dogpile.cache.memory`` In-memory cache, not suitable for use outside of testing as it does not cleanup its internal cache on cache expiration and does not share cache between processes. This means that caching and cache invalidation will not be consistent or reliable. ``dogpile.cache.memory_pickle`` In-memory cache, but serializes objects with pickle lib. It's not suitable for use outside of testing. The reason is the same with ``dogpile.cache.memory`` ``oslo_cache.mongo`` MongoDB as caching back end. ``oslo_cache.memcache_pool`` Memcached backend that does connection pooling. ``oslo_cache.etcd3gw`` Uses etcd 3.x for storage. ``oslo_cache.dict`` A DictCacheBackend based on dictionary, not suitable for use outside of testing as it does not share cache between processes.This means that caching and cache invalidation will not be consistent or reliable. Configure the Memcached back end example ---------------------------------------- The following example shows how to configure the memcached back end: .. code-block:: ini [cache] enabled = true backend = dogpile.cache.memcached backend_argument = url:127.0.0.1:11211 You need to specify the URL to reach the ``memcached`` instance with the ``backend_argument`` parameter.",76,72
openstack%2Fkeystone~master~Iec82685cd3cd27b566d384845b9f823220c28ed3,openstack/keystone,master,Iec82685cd3cd27b566d384845b9f823220c28ed3,backends/ldap: Fix auth for UTF-8 user names,ABANDONED,2019-06-26 15:07:49.000000000,2021-06-04 18:24:30.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-26 15:07:49.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/af2de9efe85e8109855700515af6590e04cfd868', 'message': 'backends/ldap: Fix auth for UTF-8 user names\n\nKeystone throws a `UnicodeDecodeError` exception when a user with\nnon-ascii charaters in their name tries to authenticate.\n\nThis commit decodes `ldap_filter` to UTF-8, which fixes the string\nformatting that constructs the LDAP query.\n\nChange-Id: Iec82685cd3cd27b566d384845b9f823220c28ed3\nCloses-Bug: #1834342\n'}]",2,667645,af2de9efe85e8109855700515af6590e04cfd868,5,3,1,18152,,,0,"backends/ldap: Fix auth for UTF-8 user names

Keystone throws a `UnicodeDecodeError` exception when a user with
non-ascii charaters in their name tries to authenticate.

This commit decodes `ldap_filter` to UTF-8, which fixes the string
formatting that constructs the LDAP query.

Change-Id: Iec82685cd3cd27b566d384845b9f823220c28ed3
Closes-Bug: #1834342
",git fetch https://review.opendev.org/openstack/keystone refs/changes/45/667645/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,af2de9efe85e8109855700515af6590e04cfd868,bug/1834342," utf8_decode(ldap_filter or self.ldap_filter or ''),"," ldap_filter or self.ldap_filter or '',",1,1
openstack%2Fkeystone~master~Ib88ad4ec7c619138f785223982171d901b0e7e3e,openstack/keystone,master,Ib88ad4ec7c619138f785223982171d901b0e7e3e,[doc] Fix the incorrect command,ABANDONED,2019-06-20 12:44:54.000000000,2021-06-04 18:24:27.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 12:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed21445bd6bbd3f6c8e02d9c70006c5bf1151e5e', 'message': '[doc] Fix the incorrect command\n\nln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/\nshould be:\nln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/wsgi-keystone.conf\n\nChange-Id: Ib88ad4ec7c619138f785223982171d901b0e7e3e\nCloses-Bug: #1833554\n'}, {'number': 2, 'created': '2019-06-20 12:47:37.000000000', 'files': ['doc/source/install/keystone-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a8a971321d3996dc104190fbebeed86cb68c6548', 'message': '[doc] Fix the incorrect command\n\nln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/\nshould be:\nln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/wsgi-keystone.conf\n\nbackport: stein rocky\n\nChange-Id: Ib88ad4ec7c619138f785223982171d901b0e7e3e\nCloses-Bug: #1833554\n'}]",0,666554,a8a971321d3996dc104190fbebeed86cb68c6548,5,2,2,19779,,,0,"[doc] Fix the incorrect command

ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/
should be:
ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/wsgi-keystone.conf

backport: stein rocky

Change-Id: Ib88ad4ec7c619138f785223982171d901b0e7e3e
Closes-Bug: #1833554
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/666554/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/keystone-install-rdo.rst'],1,ed21445bd6bbd3f6c8e02d9c70006c5bf1151e5e,bug/1833554, # ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/wsgi-keystone.conf, # ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/,1,1
openstack%2Fkeystone~master~I6c69012fe001ce1a4f374a9ea06a0fbea115b77b,openstack/keystone,master,I6c69012fe001ce1a4f374a9ea06a0fbea115b77b,Add cadf auditing to ec2 credentials,ABANDONED,2019-06-10 17:32:16.000000000,2021-06-04 18:16:54.000000000,,"[{'_account_id': 8482}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-10 17:32:16.000000000', 'files': ['keystone/credential/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/040c77d5ab0b135b880336938c42d12c3d18cfb0', 'message': 'Add cadf auditing to ec2 credentials\n\nChange-Id: I6c69012fe001ce1a4f374a9ea06a0fbea115b77b\n'}]",4,664407,040c77d5ab0b135b880336938c42d12c3d18cfb0,7,4,1,25231,,,0,"Add cadf auditing to ec2 credentials

Change-Id: I6c69012fe001ce1a4f374a9ea06a0fbea115b77b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/07/664407/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/credential/core.py'],1,040c77d5ab0b135b880336938c42d12c3d18cfb0,,"from keystone import notifications def create_credential(self, credential_id, credential, initiator=None): notifications.Audit.created( self._CRED, credential['id'], initiator) def delete_credential(self, credential_id, initiator=None): notifications.Audit.deleted( self._CRED, credential_id, initiator)"," def create_credential(self, credential_id, credential): def delete_credential(self, credential_id):",11,2
openstack%2Fkeystone~master~Ibbbb8e42166e62f80975c0219eaee483a6df2d4f,openstack/keystone,master,Ibbbb8e42166e62f80975c0219eaee483a6df2d4f,Fix XSS issues,ABANDONED,2019-05-18 08:53:37.000000000,2021-06-04 18:16:52.000000000,,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-18 08:53:37.000000000', 'files': ['keystone/tests/unit/test_middleware.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/exception.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/tests/unit/test_exception.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/68acb2d5c56613daf03b0a18393b024d282d2c21', 'message': 'Fix XSS issues\n\nUsing webinspect tool to test, the test results show that there is XSS issues.\n\nChange-Id: Ibbbb8e42166e62f80975c0219eaee483a6df2d4f\n'}]",0,659901,68acb2d5c56613daf03b0a18393b024d282d2c21,6,4,1,24115,,,0,"Fix XSS issues

Using webinspect tool to test, the test results show that there is XSS issues.

Change-Id: Ibbbb8e42166e62f80975c0219eaee483a6df2d4f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/659901/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_middleware.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/exception.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/tests/unit/test_exception.py']",5,68acb2d5c56613daf03b0a18393b024d282d2c21,, if not six.PY2: if not six.PY2:," self.assertIn(target, six.text_type(e)) self.assertIn(attribute, six.text_type(e)) self.assertIn(target, six.text_type(e)) if six.PY2: self.assertIn(u'\u2013', six.text_type(e)) else: if six.PY2: self.assertIn('%(attribute)', six.text_type(e)) else:",23,36
openstack%2Fkeystone~master~I9d59b1686298e752e56d61d25313f81dbd9a93ba,openstack/keystone,master,I9d59b1686298e752e56d61d25313f81dbd9a93ba,Use ignore_change_password_on_first_use for admin,ABANDONED,2019-05-16 15:29:02.000000000,2021-06-04 18:16:49.000000000,,"[{'_account_id': 8482}, {'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 15:29:02.000000000', 'files': ['keystone/cmd/bootstrap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/62d5b8834d11838fdca391cf7846f85e108da04b', 'message': ""Use ignore_change_password_on_first_use for admin\n\nusually deployment via configuration mgmt involves rendering config of\nthe service, executing the scripts and then staring a service.\n\nIf password expiry and change password on first use are set in Keystone,\nthe admin user created by bootstrap will be useless for further\nautomation, so let's create the user with at least\n'ignore_change_password_on_first_use' set to True, giving automation a\nchance to set any other options on it\n(password_expiry is in days, so presumably automation has time to\nfinish).\n\nChange-Id: I9d59b1686298e752e56d61d25313f81dbd9a93ba\n""}]",0,659600,62d5b8834d11838fdca391cf7846f85e108da04b,6,3,1,9542,,,0,"Use ignore_change_password_on_first_use for admin

usually deployment via configuration mgmt involves rendering config of
the service, executing the scripts and then staring a service.

If password expiry and change password on first use are set in Keystone,
the admin user created by bootstrap will be useless for further
automation, so let's create the user with at least
'ignore_change_password_on_first_use' set to True, giving automation a
chance to set any other options on it
(password_expiry is in days, so presumably automation has time to
finish).

Change-Id: I9d59b1686298e752e56d61d25313f81dbd9a93ba
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/659600/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/cmd/bootstrap.py'],1,62d5b8834d11838fdca391cf7846f85e108da04b,bootstrap-ignore," except (AssertionError, exception.PasswordExpired): # NOTE(pas-ha) PasswordExpired is raised when the bootstrap # script is executed twice and security_compliance option # change_password_on_first_use is set. update['options'] = { 'ignore_change_password_upon_first_use': True} 'options': { 'ignore_change_password_upon_first_use': True},", except AssertionError:,8,1
openstack%2Fkeystone~master~Ic3c735a099022d8da130e9cf271730ac392b8478,openstack/keystone,master,Ic3c735a099022d8da130e9cf271730ac392b8478,Converting the API tests to use flask's test_client,ABANDONED,2019-03-04 08:27:21.000000000,2021-06-04 18:16:47.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-04 08:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/19ecff033577ab2b6fc33cc8e6c6390dfcc03892', 'message': ""Converting the API tests to use flask's test_client\n\nFor each API unit test class, the methods are converted to use the\nFlask app test_client context manager.\n\nChange-Id: Ic3c735a099022d8da130e9cf271730ac392b8478\n""}, {'number': 2, 'created': '2019-05-17 20:43:57.000000000', 'files': ['keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_v3.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd9f616f54dfff9f9c81e55349bf81d4a14daa4a', 'message': ""Converting the API tests to use flask's test_client\n\nFor each API unit test class, the methods are converted to use the\nFlask app test_client context manager.\n\nPartial-bug: #1829573\n\nChange-Id: Ic3c735a099022d8da130e9cf271730ac392b8478\n""}]",0,640692,dd9f616f54dfff9f9c81e55349bf81d4a14daa4a,6,2,2,29355,,,0,"Converting the API tests to use flask's test_client

For each API unit test class, the methods are converted to use the
Flask app test_client context manager.

Partial-bug: #1829573

Change-Id: Ic3c735a099022d8da130e9cf271730ac392b8478
",git fetch https://review.opendev.org/openstack/keystone refs/changes/92/640692/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_v3.py']",2,19ecff033577ab2b6fc33cc8e6c6390dfcc03892,assignment," entities = resp.json.get(key) self.assertValidListLinks(resp.json.get('links'), entity = resp.json.get(key) for entity in resp.json.get('roles'): entities = resp.json.get('role_assignments') self.assertValidListLinks(resp.json.get('links'), for entity in resp.json.get('role_assignments'):"," entities = resp.result.get(key) self.assertValidListLinks(resp.result.get('links'), entity = resp.result.get(key) for entity in resp.result.get('roles'): entities = resp.result.get('role_assignments') self.assertValidListLinks(resp.result.get('links'), for entity in resp.result.get('role_assignments'):",2401,2030
openstack%2Fkeystone~master~Idc163449673c32566c5bf5ea1f377d6291fba14c,openstack/keystone,master,Idc163449673c32566c5bf5ea1f377d6291fba14c,Allow domain admin listing their domain,ABANDONED,2018-06-07 16:52:51.000000000,2021-06-04 18:16:44.000000000,,"[{'_account_id': 8482}, {'_account_id': 13478}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-07 16:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0c6a665c3dc78f4ef471944095f570e6f55130f', 'message': 'Allow domain admin listing their domain\n\nWhen `openstack user list --domain DomainName` is executed,\nopenstackcli needs to find out id of the domain, so that it\ncould be used to fetch users. It does that by listing domains\nfiltering them by name, and using the id from the list. Today with\ndefault policy.v3cloudsample.json this is not possible.\n\nThe change allows domain admin to fetch domain list if it is filtered\nby domain name.\n\nPlease note that the issue can be fixed in any existing deployment\nby just changing policies the way it is done in this commit, but it\nis still good to have the policies correct by default.\n\nChange-Id: Idc163449673c32566c5bf5ea1f377d6291fba14c\nCloses-Bug: 1732502\n'}, {'number': 2, 'created': '2018-06-08 09:09:49.000000000', 'files': ['keystone/tests/unit/test_v3_protection.py', 'etc/policy.v3cloudsample.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7f18a4ece231d55c0d1b12f89ff16552b100cb6', 'message': 'Allow domain admin listing their domain\n\nWhen `openstack user list --domain DomainName` or `openstack project\nlist --domain DomainName` is executed, openstackcli needs to find out\nid of the domain, so that it could be used to fetch users. It does\nthat by listing domains filtering them by name, and using the id from\nthe list. Today with default policy.v3cloudsample.json this is not\npossible, because domains can be listed only by cloud admin.\n\nThe change allows domain admin to fetch domain list if it is filtered\nby domain name.\n\nPlease note that the issue can be fixed in any existing deployment\nby just changing policies the way it is done in this commit, but it\nis still good to have the policies correct by default.\n\nChange-Id: Idc163449673c32566c5bf5ea1f377d6291fba14c\nCloses-Bug: 1732502\n'}]",0,573365,a7f18a4ece231d55c0d1b12f89ff16552b100cb6,9,4,2,13478,,,0,"Allow domain admin listing their domain

When `openstack user list --domain DomainName` or `openstack project
list --domain DomainName` is executed, openstackcli needs to find out
id of the domain, so that it could be used to fetch users. It does
that by listing domains filtering them by name, and using the id from
the list. Today with default policy.v3cloudsample.json this is not
possible, because domains can be listed only by cloud admin.

The change allows domain admin to fetch domain list if it is filtered
by domain name.

Please note that the issue can be fixed in any existing deployment
by just changing policies the way it is done in this commit, but it
is still good to have the policies correct by default.

Change-Id: Idc163449673c32566c5bf5ea1f377d6291fba14c
Closes-Bug: 1732502
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/573365/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_protection.py', 'etc/policy.v3cloudsample.json']",2,c0c6a665c3dc78f4ef471944095f570e6f55130f,bug/1732502," ""identity:list_domains"": ""rule:cloud_admin or (rule:admin_required and domain_name:%(name)s)"","," ""identity:list_domains"": ""rule:cloud_admin"",",18,1
openstack%2Fkeystone~master~Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a,openstack/keystone,master,Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a,Change DevStack plugin to setup multi-Keystone,ABANDONED,2016-11-18 09:34:02.000000000,2021-06-04 18:16:42.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 4656}, {'_account_id': 5046}, {'_account_id': 7331}, {'_account_id': 8482}, {'_account_id': 8871}, {'_account_id': 11022}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24441}]","[{'number': 1, 'created': '2016-11-18 09:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6f7531b6c720b523fa79ccca88dcbff396dd9e40', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 2, 'created': '2016-11-18 11:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4284e22dd2317c277dbcae8c847f038b7585704f', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 3, 'created': '2016-11-21 10:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d53a25b5d9665327b809d88e9d4b4b34a267ebbf', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 4, 'created': '2016-11-22 09:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/073d30ac22ea562a864b76c49f7b9c7ae3224edd', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 5, 'created': '2016-11-22 10:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a1b6d3dfd6760b803d9f29847539a442371c7fb4', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 6, 'created': '2016-11-22 13:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2c358e2a04830c7bc9f630306a70b43c7daa916c', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 7, 'created': '2016-11-23 08:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/05692528e05058f8c15a3708b4b94e5dba211105', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\nPartially-Implements: bp rolling-upgrade-testing\n'}, {'number': 8, 'created': '2016-12-02 13:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bf902f6d5e6f57a8b1bc6e71c5b3a927f8ed6f25', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 9, 'created': '2016-12-02 13:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/133fc67b792b9e5fc44fa81b1133192e261f1a2c', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 10, 'created': '2016-12-02 13:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64872278e32c7c4bdc9fa5f571ee6667ba7f9420', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 11, 'created': '2016-12-05 08:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/88470070a1b7777c61dc8bc6b2107a2f740e40cb', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 12, 'created': '2016-12-09 10:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ac6d55f04b039e19d87a18eaf07ca94ae5dd7d61', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 13, 'created': '2016-12-09 13:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0977d84ae56622ac4844ef06b27a6efb375a1b26', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 14, 'created': '2016-12-12 07:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0380381ffcc77cbd6a9518ab5f62bd4aa94df2d3', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 15, 'created': '2016-12-14 12:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d2abfb8d571b2897c29e4b2414910b74bf0aa890', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 16, 'created': '2016-12-19 09:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3bb4a1da4cfc1e8c87d1863f893cce9b4b25d3a8', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 17, 'created': '2016-12-19 11:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d80daea480198578dfb7482062d7642e91ee37c8', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 18, 'created': '2016-12-19 12:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/154313a37c8d29d187923073f541899e9598da45', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 19, 'created': '2016-12-20 04:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/06a50851324f181c562d98b7ad4af848f3b1518c', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 20, 'created': '2016-12-20 10:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b7b654fd355a153493f2af7dc1b30320d19c8ae5', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 21, 'created': '2016-12-20 13:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3831f956c9cfa56a127e37b054377d71093c1899', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 22, 'created': '2016-12-22 08:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/affef4506c9d0c55a269a593f7af9a413c1ca99d', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 23, 'created': '2016-12-23 12:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0f4b7d22f9d4964e807125e9c4a24c465c25ee54', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 24, 'created': '2016-12-26 11:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1d36eb5ae8c21ca585ea63d9ed5b2c0e48ac15e7', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 25, 'created': '2016-12-29 06:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4c8501ac7e4746fd1dc378ed4fe8be7de5249e63', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 26, 'created': '2017-01-09 08:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7eabfb1dbaf528662f07ad11cd3b723b145005c', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 27, 'created': '2017-01-09 08:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e7e7c824e56725de34045068b64663e212dfea29', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 28, 'created': '2017-01-10 07:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5685347f1f5293654c8367b03635b329e6edc663', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}, {'number': 29, 'created': '2017-01-10 10:54:40.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/haproxy.sh'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f105d6c3a50f9a65f73df7aed136f9389d1f6456', 'message': 'Change DevStack plugin to setup multi-Keystone\n\nChange DevStack plugin to allow setup of 2 Keystone services on different\nnodes in order to run multinode Grenade job. This plugin will setup HAProxy\nin round-robin mode to bind Keystone services together.\n\nPartially-Implements: bp rolling-upgrade-testing\n\nDepends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6\n\nChange-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a\n'}]",66,399472,f105d6c3a50f9a65f73df7aed136f9389d1f6456,150,13,29,7331,,,0,"Change DevStack plugin to setup multi-Keystone

Change DevStack plugin to allow setup of 2 Keystone services on different
nodes in order to run multinode Grenade job. This plugin will setup HAProxy
in round-robin mode to bind Keystone services together.

Partially-Implements: bp rolling-upgrade-testing

Depends-On: I577eb46b82bef54f89eed5c8a43a472341ff17a6

Change-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/399472/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6f7531b6c720b523fa79ccca88dcbff396dd9e40,bp/rolling-upgrade-testing,"HAPROXY_CONF=""/etc/haproxy/haproxy.cfg"" HAPROXY_DEFAULT_SETTINGS=""/etc/default/haproxy"" KEYSTONE_FRONTEND_PORT=${KEYSTONE_FRONTEND_PORT:-5001} FERNET_KEYS=""/etc/keystone/fernet-keys"" if [[ ""$1"" == ""stack"" && ""$2"" == ""pre-install"" ]]; then # This phase is executed after the projects have been installed echo ""Keystone plugin - Pre-Install phase"" if [[ ""$MULTI_KEYSTONE"" -eq ""1"" ]]; then if [[ ""$HOST_IP"" != ""$SERVICE_HOST"" ]]; then sed -i '/^MYSQL_HOST/d' $TOP_DIR/local.conf fi fi elif [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then if [[ ""$MULTI_KEYSTONE"" -eq ""1"" ]]; then if [[ ""$SERVICE_HOST"" == ""$HOST_IP"" ]]; then sudo apt-get install -y -q haproxy sudo chmod 777 $HAPROXY_DEFAULT_SETTINGS echo ""ENABLED=1"" > $HAPROXY_DEFAULT_SETTINGS sudo chmod 777 $HAPROXY_CONF cat <<EOF >> $HAPROXY_CONF frontend keystone-service-front bind ${SERVICE_HOST}:${KEYSTONE_FRONTEND_PORT} default_backend keystone-service-back backend keystone-service-back balance roundrobin server controller ${SERVICE_HOST}:5000 check port 5000 inter 12000 rise 1 fall 1 EOF sudo service haproxy start else sudo apt-get install sshpass conf_line=""server keystone ${HOST_IP}:5000 "" conf_line+=""check port 5000 inter 12000 rise 1 fall 1"" echo $conf_line | sshpass -p ""stack"" \ ssh stack@$SERVICE_HOST ""cat >> ${HAPROXY_CONF}"" sshpass -p ""stack"" ssh stack@$SERVICE_HOST \ ""sudo service haproxy restart"" for i in {0..1} do sshpass -p ""stack"" \ scp stack@$SERVICE_HOST:$FERNET_KEYS/$i $FERNET_KEYS/$i done # Change database connection string sed -i -e ""s/127.0.0.1/${SERVICE_HOST}/g"" /etc/keystone/keystone.conf sudo service apache2 restart fi fi if [[ ""$MULTI_KEYSTONE"" -eq ""1"" ]]; then if [[ ""$HOST_IP"" == ""$SERVICE_HOST"" ]]; then sudo service haproxy stop sudo apt-get purge -y -q --auto-remove haproxy fi fi"," if [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then",53,1
openstack%2Fkeystone~master~Idd1ae05a5e9b486416b7833ed83055a83f440215,openstack/keystone,master,Idd1ae05a5e9b486416b7833ed83055a83f440215,WIP - Document functional testing and devstack plugin,ABANDONED,2017-03-22 20:14:46.000000000,2021-06-04 18:14:20.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}]","[{'number': 1, 'created': '2017-03-22 20:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3f2abbe7d081758a605e11568a4fcacbc71e6091', 'message': ""WIP - Document functional testing and devstack plugin\n\nThere's a knowledge gap about the state of functional testing in\nkeystone. This resolves it by documenting the tempest plugin and\ndevstack plugin and the overall structure of our functional gate\njobs.\n\nChange-Id: Idd1ae05a5e9b486416b7833ed83055a83f440215\n""}, {'number': 2, 'created': '2017-04-10 21:13:57.000000000', 'files': ['doc/source/index.rst', 'doc/source/devref/functional_testing.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/41cd72834db869ea9b9ad71a9b546d93b36206ac', 'message': ""WIP - Document functional testing and devstack plugin\n\nThere's a knowledge gap about the state of functional testing in\nkeystone. This resolves it by documenting the tempest plugin and\ndevstack plugin and the overall structure of our functional gate\njobs.\n\nChange-Id: Idd1ae05a5e9b486416b7833ed83055a83f440215\n""}]",3,448773,41cd72834db869ea9b9ad71a9b546d93b36206ac,9,3,2,16465,,,0,"WIP - Document functional testing and devstack plugin

There's a knowledge gap about the state of functional testing in
keystone. This resolves it by documenting the tempest plugin and
devstack plugin and the overall structure of our functional gate
jobs.

Change-Id: Idd1ae05a5e9b486416b7833ed83055a83f440215
",git fetch https://review.opendev.org/openstack/keystone refs/changes/73/448773/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/devref/functional_testing.rst']",2,3f2abbe7d081758a605e11568a4fcacbc71e6091,docs-functional-testing,".. Copyright 2017 Massachusetts Open Cloud All Rights Reserved. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ================== Functional Testing ================== Functional tests are currently run in two gates using the tempest plugin available under ``keystone_tempest_plugin``. - gate1 - is voting and exposes both the v2 and v3 endpoint. - gate2 - is non-voting and exposes only the v3 endpoint, but additionally, it runs federation tests. Devstack Plugin =============== To help with automating an appropriate environment on which to run functional tests, keystone provides a Devstack plugin. As of right now, the plugin only supports setting up and environment with federation and keystone as a service provider, but more features are to come. To enable the plugin add enable_plugin keystone git://git.openstack.org/openstack/keystone.git Keystone as an SP ----------------- Document the exposed fields via settings. ",,45,0
openstack%2Fkeystone~master~I112a91dba76a040746723c752e6f2347668bce3f,openstack/keystone,master,I112a91dba76a040746723c752e6f2347668bce3f,Add user_id_attribute support to _dn_to_id,ABANDONED,2017-05-19 19:31:05.000000000,2021-06-04 18:14:18.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10068}, {'_account_id': 16465}]","[{'number': 1, 'created': '2017-05-19 19:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3810605d81bc190867298e00d6713d78b8b9553d', 'message': 'Add user_id_attribute support to _dn_to_id\n\nThis is required for LDAP configurations that use user_id_attribute other than default so users can be found in groups\n\nChange-Id: I112a91dba76a040746723c752e6f2347668bce3f\nCloses-Bug: #1692090\n'}, {'number': 2, 'created': '2017-05-22 16:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c70f5115e55806775ee633df07c2c502bd10ff9f', 'message': 'Add user_id_attribute support to _dn_to_id\n\nThis is required for LDAP configurations that use user_id_attribute\nother than default so users can be found in groups.\n\nChange-Id: I112a91dba76a040746723c752e6f2347668bce3f\nCloses-Bug: #1692090\n'}, {'number': 3, 'created': '2017-05-22 20:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f26e0cad2fcc3c64882b9d215c5bb1d9efe54883', 'message': 'Add user_id_attribute support to _dn_to_id\n\nThis is required for LDAP configurations that use user_id_attribute\nother than default so users can be found in groups.\n\nChange-Id: I112a91dba76a040746723c752e6f2347668bce3f\nCloses-Bug: #1692090\n'}, {'number': 4, 'created': '2017-05-24 16:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9c355e2a70c86736a057f4b408244fc032c53614', 'message': 'Add user_id_attribute support to _dn_to_id\n\nThis is required for LDAP configurations that use user_id_attribute\nother than default so users can be found in groups.\n\nChange-Id: I112a91dba76a040746723c752e6f2347668bce3f\nCloses-Bug: #1692090\n'}, {'number': 5, 'created': '2017-05-25 20:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5c154e7b4f859434a6ab9d1a4d272789bd75dd5f', 'message': 'Add user_id_attribute support to _dn_to_id\n\nThis is necessary for _dn_to_id to return the correct user id with\nLDAP configurations that have user_id_attribute set to a value other\nthan the first attribute of the user dn.\n\nChange-Id: I112a91dba76a040746723c752e6f2347668bce3f\nCloses-Bug: #1692090\n'}, {'number': 6, 'created': '2017-05-26 22:07:44.000000000', 'files': ['etc/keystone.conf.sample', 'keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/704037df7ff95847cd1d9dbdbee87aa0683c9c4c', 'message': 'Add user_id_attribute support to _dn_to_id\n\nThis is necessary for _dn_to_id to return the correct user id with\nLDAP configurations that have user_id_attribute set to a value other\nthan the first attribute of the user dn.\n\nChange-Id: I112a91dba76a040746723c752e6f2347668bce3f\nCloses-Bug: #1692090\n'}]",5,466389,704037df7ff95847cd1d9dbdbee87aa0683c9c4c,19,4,6,25013,,,0,"Add user_id_attribute support to _dn_to_id

This is necessary for _dn_to_id to return the correct user id with
LDAP configurations that have user_id_attribute set to a value other
than the first attribute of the user dn.

Change-Id: I112a91dba76a040746723c752e6f2347668bce3f
Closes-Bug: #1692090
",git fetch https://review.opendev.org/openstack/keystone refs/changes/89/466389/6 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,3810605d81bc190867298e00d6713d78b8b9553d,bug/1692090," def _dn_to_id(self, dn): dn_search = self.get_connection().search_s( dn, ldap.SCOPE_BASE, '(objectClass=%(objclass)s)' % {'objclass': self.object_class}) if dn_search: return dn_search[0][1][self.id_attr][0] else: return utf8_decode(ldap.dn.str2dn(utf8_encode(dn))[0][0][1])", @staticmethod def _dn_to_id(dn): return utf8_decode(ldap.dn.str2dn(utf8_encode(dn))[0][0][1]),9,3
openstack%2Fkeystone~master~I41dd48f7e44d6bf51b64c97bb987c85ad2d6c203,openstack/keystone,master,I41dd48f7e44d6bf51b64c97bb987c85ad2d6c203,Allow test migration by module name,ABANDONED,2016-06-27 17:02:24.000000000,2021-06-04 18:14:16.000000000,,"[{'_account_id': 8482}, {'_account_id': 13055}, {'_account_id': 13063}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-06-27 17:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/933e78ea68a3f5d635fd6a9a110b6582c5060033', 'message': 'Allow test migration by module name\n\nCurrently SQL upgrades are tested by:\n  - upgrading to version prior to tested\n  - verifying that changes are not applied\n  - upgrading to tested version\n  - verifying that changes are applied\n\nThis forces us to upgrade script version both in the file name and in tests.\nThe patch proposes to use migration name rather than number,\nthat will remove the necessity to update tests.\n\nChange-Id: I41dd48f7e44d6bf51b64c97bb987c85ad2d6c203\n'}, {'number': 2, 'created': '2016-06-27 18:49:49.000000000', 'files': ['keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3142c8b32fad95acdfde72ec59200e901edb0f88', 'message': 'Allow test migration by module name\n\nCurrently SQL upgrades are tested by:\n  - upgrading to version prior to tested\n  - verifying that changes are not applied\n  - upgrading to tested version\n  - verifying that changes are applied\n\nThis forces us to upgrade script version both in the file name and in tests.\nThe patch proposes to use migration name rather than number,\nthat will remove the necessity to update tests.\n\nChange-Id: I41dd48f7e44d6bf51b64c97bb987c85ad2d6c203\n'}]",2,334568,3142c8b32fad95acdfde72ec59200e901edb0f88,13,4,2,13055,,,0,"Allow test migration by module name

Currently SQL upgrades are tested by:
  - upgrading to version prior to tested
  - verifying that changes are not applied
  - upgrading to tested version
  - verifying that changes are applied

This forces us to upgrade script version both in the file name and in tests.
The patch proposes to use migration name rather than number,
that will remove the necessity to update tests.

Change-Id: I41dd48f7e44d6bf51b64c97bb987c85ad2d6c203
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/334568/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_upgrade.py'],1,933e78ea68a3f5d635fd6a9a110b6582c5060033,,"import re def upgrade_by_name(self, upgrade_name): version_re = re.compile(r'(\d+)_%s' % upgrade_name) for version in self.schema_.repository.versions.versions.values(): module_name = version.script().module.__name__ match = version_re.match(module_name) if match: version = int(match.groups()[0]) self._migrate(version) break else: raise exception.VersionNotFound(version=upgrade_name) ",,13,0
openstack%2Fkeystone~master~I5a83d8e6409a881de80f62ab7076e23e76a40892,openstack/keystone,master,I5a83d8e6409a881de80f62ab7076e23e76a40892,Redis cache backend using hash as a native region,ABANDONED,2016-10-05 17:06:58.000000000,2021-06-04 18:14:13.000000000,,"[{'_account_id': 8482}, {'_account_id': 13055}]","[{'number': 1, 'created': '2016-10-05 17:06:58.000000000', 'files': ['keystone/common/cache/backends/redis_hash.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/172d2fe037342cad483aac3c5658d022cd279682', 'message': 'Redis cache backend using hash as a native region\n\nChange-Id: I5a83d8e6409a881de80f62ab7076e23e76a40892\n'}]",0,382576,172d2fe037342cad483aac3c5658d022cd279682,6,2,1,13055,,,0,"Redis cache backend using hash as a native region

Change-Id: I5a83d8e6409a881de80f62ab7076e23e76a40892
",git fetch https://review.opendev.org/openstack/keystone refs/changes/76/382576/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/cache/backends/redis_hash.py'],1,172d2fe037342cad483aac3c5658d022cd279682,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from dogpile.cache import make_region from dogpile.cache.api import NO_VALUE from dogpile.cache.backends import redis import pickle from dogpile.cache import register_backend class RedisHashBackend(redis.RedisBackend): def __init__(self, arguments): super(RedisHashBackend, self).__init__(arguments) self.hash_name = arguments.pop('hash_name') def get_mutex(self, key): if self.distributed_lock: return self.client.lock( '_lock{0}_{1}'.format(self.hash_name, key), self.lock_timeout, self.lock_sleep) else: return None def get(self, key): value = self.client.hget(self.hash_name, key) if value is None: return NO_VALUE return pickle.loads(value) def get_multi(self, keys): if not keys: return [] values = self.client.hmget(self.hash_name, keys) return [ pickle.loads(v) if v is not None else NO_VALUE for v in values] def set(self, key, value): self.client.hset( self.hash_name, key, pickle.dumps(value, pickle.HIGHEST_PROTOCOL)) def set_multi(self, mapping): mapping = dict( (k, pickle.dumps(v, pickle.HIGHEST_PROTOCOL)) for k, v in mapping.items() ) if not self.redis_expiration_time: self.client.hmset(self.hash_name, mapping) def delete(self, key): self.client.hdel(self.hash_name, key) def delete_multi(self, keys): self.client.hdel(self.hash_name, *keys) register_backend(""redis_hash"", __name__, ""RedisHashBackend"") region = make_region().configure( 'redis_hash', arguments={ 'hash_name': 'myhash' } ) ",,75,0
openstack%2Fkeystone~master~Id9663980ba9bf6775c11e96a1beac39b9480b768,openstack/keystone,master,Id9663980ba9bf6775c11e96a1beac39b9480b768,Remove simple cert support,ABANDONED,2017-10-26 08:18:34.000000000,2021-06-04 18:14:10.000000000,,"[{'_account_id': 8482}, {'_account_id': 10873}, {'_account_id': 17645}, {'_account_id': 19853}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-26 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/50703bf059a921b056c911cd0c5680daaae15ba8', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 2, 'created': '2017-10-26 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/da67c5d61f850208ff34a9f707a80577f2d75447', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 3, 'created': '2017-10-26 09:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64e17f51f8ffa7b33f55a76a31a6ed6ea9cff717', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 4, 'created': '2017-10-27 01:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/16c910662c1bf8c1d8262ffcfd521c505f425aa3', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 5, 'created': '2017-10-27 03:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0becad6bfb08b5f7562833113366c820859e5558', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 6, 'created': '2017-10-27 06:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/07f68e72878175d660877ab1b7aa65c971b8cb8e', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 7, 'created': '2017-11-09 06:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/37e17ff979c10290c7bf76c3beda2c7f1ff476c6', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 8, 'created': '2017-11-09 06:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b240df387f55d18ace0a8ddd9c706105740aa161', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 9, 'created': '2017-11-10 03:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/19fda0a4149b282eae294c22228e3070e24af2d0', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}, {'number': 10, 'created': '2017-11-10 06:00:01.000000000', 'files': ['api-ref/source/v3-ext/simple-cert.inc', 'keystone/version/service.py', 'releasenotes/notes/deprecate-simple-cert-api-92e66973bbc75a6d.yaml', 'keystone/token/_simple_cert.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8831669a8dfd42a8c2322264579e156e821a74cd', 'message': ""Remove simple cert support\n\nThis is only used in support of the PKI/PKIz token providers.\nSince pki/pkiz had been removed in 'O' release, this is no\nlonger needed.\n\nChange-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768\n""}]",2,515309,8831669a8dfd42a8c2322264579e156e821a74cd,24,5,10,17645,,,0,"Remove simple cert support

This is only used in support of the PKI/PKIz token providers.
Since pki/pkiz had been removed in 'O' release, this is no
longer needed.

Change-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768
",git fetch https://review.opendev.org/openstack/keystone refs/changes/09/515309/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/version/service.py', 'keystone/token/_simple_cert.py']",2,50703bf059a921b056c911cd0c5680daaae15ba8,depracate-simplecert-api,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # TODO(morganfainberg): Remove this file and extension in the ""O"" release as # it is only used in support of the PKI/PKIz token providers. import functools import webob from keystone.common import controller from keystone.common import dependency from keystone.common import extension from keystone.common import json_home from keystone.common import wsgi import keystone.conf from keystone import exception CONF = keystone.conf.CONF EXTENSION_DATA = { 'name': 'OpenStack Simple Certificate API', 'namespace': 'https://docs.openstack.org/identity/api/ext/' 'OS-SIMPLE-CERT/v1.0', 'alias': 'OS-SIMPLE-CERT', 'updated': '2014-01-20T12:00:0-00:00', 'description': 'OpenStack simple certificate retrieval extension', 'links': [ { 'rel': 'describedby', 'type': 'text/html', 'href': 'https://developer.openstack.org/' 'api-ref-identity-v2-ext.html', } ]} extension.register_admin_extension(EXTENSION_DATA['alias'], EXTENSION_DATA) extension.register_public_extension(EXTENSION_DATA['alias'], EXTENSION_DATA) build_resource_relation = functools.partial( json_home.build_v3_extension_resource_relation, extension_name='OS-SIMPLE-CERT', extension_version='1.0') class Routers(wsgi.RoutersBase): def _construct_url(self, suffix): return ""/OS-SIMPLE-CERT/%s"" % suffix def append_v3_routers(self, mapper, routers): controller = SimpleCert() self._add_resource( mapper, controller, path=self._construct_url('ca'), get_head_action='get_ca_certificate', rel=build_resource_relation(resource_name='ca_certificate')) self._add_resource( mapper, controller, path=self._construct_url('certificates'), get_head_action='list_certificates', rel=build_resource_relation(resource_name='certificates')) @dependency.requires('token_provider_api') class SimpleCert(controller.V3Controller): def _get_certificate(self, name): try: with open(name, 'r') as f: body = f.read() except IOError: raise exception.CertificateFilesUnavailable() # NOTE(jamielennox): We construct the webob Response ourselves here so # that we don't pass through the JSON encoding process. headers = [('Content-Type', 'application/x-pem-file')] return webob.Response(body=body, headerlist=headers, status=""200 OK"", charset='utf-8') def get_ca_certificate(self, context): return self._get_certificate(CONF.signing.ca_certs) def list_certificates(self, context): return self._get_certificate(CONF.signing.certfile) ",1,95
openstack%2Fkeystone~master~I5e082fe1d287af490cab0a11e318d50ce7e9f469,openstack/keystone,master,I5e082fe1d287af490cab0a11e318d50ce7e9f469,DNM test bootstrap under more sec-comp,ABANDONED,2019-03-14 10:09:36.000000000,2021-06-04 18:14:08.000000000,,"[{'_account_id': 9542}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-14 10:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2520f8918a9954f31781914dabbefe3944af0df2', 'message': 'DNM test bootstrap under more sec-comp\n\nwe stumbled on this, as the bootstrap seems to fail when the\nchenge password on first use is enabled from the start.\n\nChange-Id: I5e082fe1d287af490cab0a11e318d50ce7e9f469\n'}, {'number': 2, 'created': '2019-03-14 15:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed3296a427c9588bd1ff8ffea2260234c4c4ddb9', 'message': 'DNM test bootstrap under more sec-comp\n\nwe stumbled on this, as the bootstrap seems to fail when the\nchenge password on first use is enabled from the start.\n\nChange-Id: I5e082fe1d287af490cab0a11e318d50ce7e9f469\n'}, {'number': 3, 'created': '2019-03-14 15:50:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3b510302713c5e8198e2405a785c3b1313dc27c', 'message': 'DNM test bootstrap under more sec-comp\n\nwe stumbled on this, as the bootstrap seems to fail when the\nchenge password on first use is enabled from the start.\n\nChange-Id: I5e082fe1d287af490cab0a11e318d50ce7e9f469\n'}]",1,643266,b3b510302713c5e8198e2405a785c3b1313dc27c,11,3,3,9542,,,0,"DNM test bootstrap under more sec-comp

we stumbled on this, as the bootstrap seems to fail when the
chenge password on first use is enabled from the start.

Change-Id: I5e082fe1d287af490cab0a11e318d50ce7e9f469
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/643266/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2520f8918a9954f31781914dabbefe3944af0df2,sec-comp-bootsrap, devstack_local_conf: $KEYSTONE_CONF: security_compliance: change_password_upon_first_use: true ,,5,0
openstack%2Fkeystone~master~Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74,openstack/keystone,master,Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74,Use auth_context in issue_token exclusively,ABANDONED,2018-07-13 16:32:51.000000000,2021-06-04 18:14:05.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11022}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-07-13 16:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6e8ea1c500fe5df3e1f7629455da982211d19b83', 'message': 'Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan option argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n'}, {'number': 2, 'created': '2018-08-01 19:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/024252b24aaf9c26183d5b5bc5b22e21b6cafa09', 'message': 'Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan option argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n'}, {'number': 3, 'created': '2018-08-01 21:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/567b67e6e831c1353adc1066b89c84aafb85f539', 'message': 'Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan option argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n'}, {'number': 4, 'created': '2018-10-12 20:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8bef09254b105aaa5392bc8858059c36defe0dd0', 'message': ""Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan option argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context. The auth_context is always\npresent so let's just make it a required parameter of the method.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n""}, {'number': 5, 'created': '2018-10-12 20:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cd9b87341d378cef7cfe73ae2061a22a386d458b', 'message': ""Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan option argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context. The auth_context is always\npresent so let's just make it a required parameter of the method.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n""}, {'number': 6, 'created': '2018-12-10 15:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9138837f55093ae3246f34559d3274ee1559892f', 'message': ""Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan option argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context. The auth_context is always\npresent so let's just make it a required parameter of the method.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n""}, {'number': 7, 'created': '2019-02-25 21:48:31.000000000', 'files': ['keystone/token/provider.py', 'keystone/api/_shared/EC2_S3_Resource.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'keystone/api/_shared/authentication.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/257ca4b5a63b09b7aee0da85817ce8abd42c6e31', 'message': 'Use auth_context in issue_token exclusively\n\nThe method for issuing a token accepted an argument for user_id and\nan optional argument for auth_context, which also contained a user_id\nvalue. Despite having two ways to pass in the same information, the\nuser_id only ever comes from auth_context.\n\nThis patch simplifies the issue_token API by removing the user_id\nparameter since it is redundant. It also updates callers where\nnecessary to build an auth_context so that everything calling the API\nfor issuing tokens uses consistent variables.\n\nChange-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74\n'}]",11,582635,257ca4b5a63b09b7aee0da85817ce8abd42c6e31,29,7,7,5046,,,0,"Use auth_context in issue_token exclusively

The method for issuing a token accepted an argument for user_id and
an optional argument for auth_context, which also contained a user_id
value. Despite having two ways to pass in the same information, the
user_id only ever comes from auth_context.

This patch simplifies the issue_token API by removing the user_id
parameter since it is redundant. It also updates callers where
necessary to build an auth_context so that everything calling the API
for issuing tokens uses consistent variables.

Change-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/582635/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/token/provider.py', 'keystone/contrib/ec2/controllers.py', 'keystone/tests/unit/token/test_fernet_provider.py']",4,6e8ea1c500fe5df3e1f7629455da982211d19b83,bug/1778945," auth_context = {'user_id': user_ref['id']} method_names, auth_context=auth_context) method_names, auth_context=auth_context) auth_context = {'user_id': user_ref['id']} method_names, project_id=project_ref['id'], trust_id=trust_ref['id'], auth_context=auth_context)"," user_ref['id'], method_names) user_ref['id'], method_names, auth_context=auth_context) user_ref['id'], method_names, project_id=project_ref['id'], trust_id=trust_ref['id'])",15,14
openstack%2Fkeystone~master~Iac183078834f912df32c7bfcc66de7bd2524b237,openstack/keystone,master,Iac183078834f912df32c7bfcc66de7bd2524b237,Fixes missing name on filtered queries,ABANDONED,2018-12-09 10:46:03.000000000,2021-06-04 18:14:03.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11816}, {'_account_id': 13158}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-09 10:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/12a065991b57ed8fc54e04f2674b19ed70fc96ce', 'message': 'Fixes missing name on filtered queries\n\nSome model properties (e.g. user name) might be missing in the query\nresult when the limit query is on. This is caused by the generated\nquery string does not have an ordering setting, in which case MySQL\nmay return different result sets for join, leaving some properties\nwithout values in the joined table.\n\nThe generated query for join is:\n  SELECT ...\n     FROM (SELECT user.id AS user_id, user.domain_id AS user_domain_id\n           FROM user LIMIT %(param)s) AS anon_1\n     INNER JOIN local_user ON ...\n\nWhile before sqlalchemy collects result metadata, the generated\nquery is:\n  SELECT user.enabled AS user_enabled, user.id AS user_id,\n     ...\n  FROM user LIMIT %(param)s\n\nNote: These two queries may show the differences in MySQL\n  1) SELECT user.enabled AS user_enabled,\n       user.id AS user_id FROM user LIMIT 100;\n  2) SELECT user.id AS user_id FROM user LIMIT 100;\n\nChange-Id: Iac183078834f912df32c7bfcc66de7bd2524b237\n'}, {'number': 2, 'created': '2018-12-09 12:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/75bc06ffd82a47d9a96fa3a5a268ba9862a70a0b', 'message': 'Fixes missing name on filtered queries\n\nSome model properties (e.g. user name) might be missing in the query\nresult when the limit query is on. This is caused by the generated\nquery string does not have an ordering setting, in which case MySQL\nmay return different result sets for join, leaving some properties\nwithout values in the joined table.\n\nThe generated query for join is:\n  SELECT ...\n     FROM (SELECT user.id AS user_id, user.domain_id AS user_domain_id\n           FROM user LIMIT %(param)s) AS anon_1\n     INNER JOIN local_user ON ...\n\nWhile before sqlalchemy collects result metadata, the generated\nquery is:\n  SELECT user.enabled AS user_enabled, user.id AS user_id,\n     ...\n  FROM user LIMIT %(param)s\n\nNote: These two queries may show the differences in MySQL\n  1) SELECT user.enabled AS user_enabled,\n       user.id AS user_id FROM user LIMIT 100;\n  2) SELECT user.id AS user_id FROM user LIMIT 100;\n\nChange-Id: Iac183078834f912df32c7bfcc66de7bd2524b237\n'}, {'number': 3, 'created': '2018-12-17 01:13:13.000000000', 'files': ['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_v3_filters.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/283d6cca8d8edce9c0c276597a83bbb27ed7aea3', 'message': 'Fixes missing name on filtered queries\n\nSome model properties (e.g. user name) might be missing in the query\nresult when the limit query is on. This is caused by the generated\nquery string does not have an ordering setting, in which case MySQL\nmay return different result sets for join, leaving some properties\nwithout values in the joined table.\n\nThe generated query for join is:\n  SELECT ...\n     FROM (SELECT user.id AS user_id, user.domain_id AS user_domain_id\n           FROM user LIMIT %(param)s) AS anon_1\n     INNER JOIN local_user ON ...\n\nWhile before sqlalchemy collects result metadata, the generated\nquery is:\n  SELECT user.enabled AS user_enabled, user.id AS user_id,\n     ...\n  FROM user LIMIT %(param)s\n\nNote: These two queries may show the differences in MySQL\n  1) SELECT user.enabled AS user_enabled,\n       user.id AS user_id FROM user LIMIT 100;\n  2) SELECT user.id AS user_id FROM user LIMIT 100;\n\nChange-Id: Iac183078834f912df32c7bfcc66de7bd2524b237\nCloses-Bug: #1807805\n'}]",5,623928,283d6cca8d8edce9c0c276597a83bbb27ed7aea3,13,5,3,13158,,,0,"Fixes missing name on filtered queries

Some model properties (e.g. user name) might be missing in the query
result when the limit query is on. This is caused by the generated
query string does not have an ordering setting, in which case MySQL
may return different result sets for join, leaving some properties
without values in the joined table.

The generated query for join is:
  SELECT ...
     FROM (SELECT user.id AS user_id, user.domain_id AS user_domain_id
           FROM user LIMIT %(param)s) AS anon_1
     INNER JOIN local_user ON ...

While before sqlalchemy collects result metadata, the generated
query is:
  SELECT user.enabled AS user_enabled, user.id AS user_id,
     ...
  FROM user LIMIT %(param)s

Note: These two queries may show the differences in MySQL
  1) SELECT user.enabled AS user_enabled,
       user.id AS user_id FROM user LIMIT 100;
  2) SELECT user.id AS user_id FROM user LIMIT 100;

Change-Id: Iac183078834f912df32c7bfcc66de7bd2524b237
Closes-Bug: #1807805
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/623928/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_v3_filters.py']",2,12a065991b57ed8fc54e04f2674b19ed70fc96ce,," sorted_users = sorted([self.user, self.user3], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id']) sorted_users = sorted([self.user, self.user2], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id']) sorted_users = sorted([self.user, self.user2], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id']) sorted_users = sorted([self.user2, self.user3], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id']) sorted_users = sorted([self.user2, self.user3], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id']) sorted_users = sorted([self.user2, self.user3], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id']) sorted_users = sorted([self.user2, self.user3], key=lambda x: x['id']) self.assertEqual(sorted_users[0]['id'], resp_users[0]['id']) self.assertEqual(sorted_users[1]['id'], resp_users[1]['id'])"," self.assertEqual(self.user['id'], resp_users[0]['id']) self.assertEqual(self.user3['id'], resp_users[1]['id']) self.assertEqual(self.user['id'], resp_users[0]['id']) self.assertEqual(self.user2['id'], resp_users[1]['id']) self.assertEqual(self.user['id'], resp_users[0]['id']) self.assertEqual(self.user2['id'], resp_users[1]['id']) self.assertEqual(self.user2['id'], resp_users[0]['id']) self.assertEqual(self.user3['id'], resp_users[1]['id']) self.assertEqual(self.user2['id'], resp_users[0]['id']) self.assertEqual(self.user3['id'], resp_users[1]['id']) self.assertEqual(self.user2['id'], resp_users[0]['id']) self.assertEqual(self.user3['id'], resp_users[1]['id']) self.assertEqual(self.user2['id'], resp_users[0]['id']) self.assertEqual(self.user3['id'], resp_users[1]['id'])",36,18
openstack%2Fkeystone~master~Ie7399d7d117fce7184956646d1ba83b76543264f,openstack/keystone,master,Ie7399d7d117fce7184956646d1ba83b76543264f,Enable keystone-dsvm-py35-functional-federation on arm64,ABANDONED,2018-11-15 16:42:55.000000000,2021-06-04 18:14:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-15 16:42:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/27cac7373c99a8a9c7059fd41a83b02b82f2906a', 'message': 'Enable keystone-dsvm-py35-functional-federation on arm64\n\nAdd an arm64 variant of the keystone-dsvm-py35-functional-federation\ntest.\n\nChange-Id: Ie7399d7d117fce7184956646d1ba83b76543264f\n'}]",0,618219,27cac7373c99a8a9c7059fd41a83b02b82f2906a,3,1,1,6088,,,0,"Enable keystone-dsvm-py35-functional-federation on arm64

Add an arm64 variant of the keystone-dsvm-py35-functional-federation
test.

Change-Id: Ie7399d7d117fce7184956646d1ba83b76543264f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/618219/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,27cac7373c99a8a9c7059fd41a83b02b82f2906a,ci-on-arm64,- job: name: keystone-dsvm-py35-functional-federation-arm64 parent: keystone-dsvm-py35-functional-federation description: | Keystone DSVM functional federation tests executed on arm64 nodeset: ubuntu-xenial-arm64 - keystone-dsvm-py35-functional-federation-arm64,,8,0
openstack%2Fkeystone~master~Ib93de8d1451cc60029047f97d7f03ec896f1981c,openstack/keystone,master,Ib93de8d1451cc60029047f97d7f03ec896f1981c,Enable keystone-dsvm-functional-federation test on arm64,ABANDONED,2018-11-15 16:42:26.000000000,2021-06-04 18:13:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-15 16:42:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1743eb4b95df80ab0d23a7211beac9f8df7f3d41', 'message': 'Enable keystone-dsvm-functional-federation test on arm64\n\nAdd an arm64 variant of the keystone-dsvm-functional-federation test.\n\nChange-Id: Ib93de8d1451cc60029047f97d7f03ec896f1981c\n'}]",0,618218,1743eb4b95df80ab0d23a7211beac9f8df7f3d41,3,1,1,6088,,,0,"Enable keystone-dsvm-functional-federation test on arm64

Add an arm64 variant of the keystone-dsvm-functional-federation test.

Change-Id: Ib93de8d1451cc60029047f97d7f03ec896f1981c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/18/618218/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1743eb4b95df80ab0d23a7211beac9f8df7f3d41,ci-on-arm64, name: keystone-dsvm-functional-federation-arm64 parent: keystone-dsvm-functional-federation description: | Keystone DSVM functional federation tests executed on arm64 nodeset: ubuntu-xenial-arm64 - job: - keystone-dsvm-functional-federation-arm64,,8,0
openstack%2Fneutron~master~I445707a11cbfd6c9d474e5190787be4b0e71cb5d,openstack/neutron,master,I445707a11cbfd6c9d474e5190787be4b0e71cb5d,"[FT] Skip ""test_models_sync""",ABANDONED,2021-05-25 11:29:52.000000000,2021-06-04 18:13:17.000000000,,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61f5f245bd09df5aa0cf9e1e7ddd4735d72e4cd5', 'message': '[FT] Skip ""test_models_sync""\n\nOnce [1] is fixed and released, we\'ll be able to create SQL tables\nspecifying the ""_constraints_included"" flag. When creating a table,\nthis flag should be set to ""False"" in order to be able to set the\n""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now. We\'ll probably need to add this new flag\nto all table creation operations.\n\nRelated-Bug: #1929518\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I445707a11cbfd6c9d474e5190787be4b0e71cb5d\n'}, {'number': 2, 'created': '2021-05-25 14:20:32.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99bc9c0eafc3638c53a1229eac79e51a7dcfead0', 'message': '[FT] Skip ""test_models_sync""\n\nOnce [1] is fixed and released, we\'ll be able to create SQL tables\nspecifying the ""_constraints_included"" flag. When creating a table,\nthis flag should be set to ""False"" in order to be able to set the\n""index"" and ""unique"" parameters for each column in the table\ndefinition, as we do now. We\'ll probably need to add this new flag\nto all table creation operations.\n\nRelated-Bug: #1929518\n\n[1]https://github.com/sqlalchemy/alembic/issues/848\n\nChange-Id: I445707a11cbfd6c9d474e5190787be4b0e71cb5d\n'}]",0,792945,99bc9c0eafc3638c53a1229eac79e51a7dcfead0,17,8,2,16688,,,0,"[FT] Skip ""test_models_sync""

Once [1] is fixed and released, we'll be able to create SQL tables
specifying the ""_constraints_included"" flag. When creating a table,
this flag should be set to ""False"" in order to be able to set the
""index"" and ""unique"" parameters for each column in the table
definition, as we do now. We'll probably need to add this new flag
to all table creation operations.

Related-Bug: #1929518

[1]https://github.com/sqlalchemy/alembic/issues/848

Change-Id: I445707a11cbfd6c9d474e5190787be4b0e71cb5d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/792945/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,61f5f245bd09df5aa0cf9e1e7ddd4735d72e4cd5,bug/1929518, self.skipTest('bug 1929518'),,1,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I106180bf4211529cdfd35672293b344a35bcca46,openstack/tripleo-ansible,stable/wallaby,I106180bf4211529cdfd35672293b344a35bcca46,Remove CephConfigOverrides from tripleo ceph client role,MERGED,2021-06-04 05:07:44.000000000,2021-06-04 18:10:53.000000000,2021-06-04 18:10:53.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 05:07:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b1f2a955b0f023eb0216cca0a827d12abc7fba4', 'message': ""Remove CephConfigOverrides from tripleo ceph client role\n\nThere's no reason to process overrides outside the client section\nin this role; most of the options provided by CephConfigOverrides\nare used by the ceph server daemons, and can be ignored here.\nThis change just removes the involved code, leaving the ability\nto process the client section only.\n\nChange-Id: I106180bf4211529cdfd35672293b344a35bcca46\n(cherry picked from commit bb0ce71dfdc63afa7b0e895745eebc7573826303)\n""}]",0,794628,1b1f2a955b0f023eb0216cca0a827d12abc7fba4,8,5,1,25402,,,0,"Remove CephConfigOverrides from tripleo ceph client role

There's no reason to process overrides outside the client section
in this role; most of the options provided by CephConfigOverrides
are used by the ceph server daemons, and can be ignored here.
This change just removes the involved code, leaving the ability
to process the client section only.

Change-Id: I106180bf4211529cdfd35672293b344a35bcca46
(cherry picked from commit bb0ce71dfdc63afa7b0e895745eebc7573826303)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/794628/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'],1,1b1f2a955b0f023eb0216cca0a827d12abc7fba4,,{% if (['client']) | intersect([key]) %},"{# Build CephConfigOverrides #} {% for key, value in (config_overrides | default({})).items() %} {% if not (['global', 'mon', 'mgr', 'osd', 'mds', 'client']) | intersect([key]) %} {{ key }} = {{ value }} {% elif (['global']) | intersect([key]) %} {# Merge global defined values into this section #} {{ render_map(value) }} {% endif %} {% endfor %} {% if (['mon', 'mgr', 'osd', 'mds', 'client']) | intersect([key]) %}",1,11
openstack%2Fkeystone~master~I5d8d9d28d7c3b986b3022a33e890e7dd1e1e933d,openstack/keystone,master,I5d8d9d28d7c3b986b3022a33e890e7dd1e1e933d,fix get_security_compliance_domain_config policy rule typo,MERGED,2021-06-02 03:27:14.000000000,2021-06-04 18:07:07.000000000,2021-06-04 18:05:01.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 03:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e414dfdf598e0ff930ee978322734d545a2f59b', 'message': 'fix get_security_compliance_domain_config policy\n\nfix get_security_compliance_domain_config policy\n\nChange-Id: I5d8d9d28d7c3b986b3022a33e890e7dd1e1e933d\n'}, {'number': 2, 'created': '2021-06-02 04:30:35.000000000', 'files': ['keystone/common/policies/domain_config.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0783e46e33236dc29833c2896920ade3d3f45126', 'message': ""fix get_security_compliance_domain_config policy rule typo\n\nThere is a typo in the get_security_compliance_domain_config policy rule path, it should be '/v3/domains/{domain_id}/config/security_compliance/{option}'\n\nChange-Id: I5d8d9d28d7c3b986b3022a33e890e7dd1e1e933d\n""}]",0,794088,0783e46e33236dc29833c2896920ade3d3f45126,11,5,2,33196,,,0,"fix get_security_compliance_domain_config policy rule typo

There is a typo in the get_security_compliance_domain_config policy rule path, it should be '/v3/domains/{domain_id}/config/security_compliance/{option}'

Change-Id: I5d8d9d28d7c3b986b3022a33e890e7dd1e1e933d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/88/794088/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/domain_config.py'],1,5e414dfdf598e0ff930ee978322734d545a2f59b,, 'path': ('/v3/domains/{domain_id}/config/' 'path': ('/v3/domains/{domain_id}/config/', 'path': ('v3/domains/{domain_id}/config/' 'path': ('v3/domains/{domain_id}/config/',2,2
openstack%2Fkeystone~master~I0a1d602e44a7e79795a3ed787bd04fc564f1cf5c,openstack/keystone,master,I0a1d602e44a7e79795a3ed787bd04fc564f1cf5c,Closes-bug: #1779889,ABANDONED,2018-11-02 23:04:07.000000000,2021-06-04 18:06:33.000000000,,"[{'_account_id': 8482}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 29402}]","[{'number': 1, 'created': '2018-11-02 23:04:07.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0b0d9b13092d9dc2aec1988b976ec1a6ec23f87b', 'message': 'Closes-bug: #1779889\n\nChange-Id: I0a1d602e44a7e79795a3ed787bd04fc564f1cf5c\n'}]",0,615354,0b0d9b13092d9dc2aec1988b976ec1a6ec23f87b,7,5,1,29402,,,0,"Closes-bug: #1779889

Change-Id: I0a1d602e44a7e79795a3ed787bd04fc564f1cf5c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/54/615354/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,0b0d9b13092d9dc2aec1988b976ec1a6ec23f87b,bug/1779889,"requests. Since 4.12.0 release, fetching expired tokens when using a valid service token is allowed.",requests.,1,1
openstack%2Fkeystone~master~I5bd7e3b17c846c9f93ee96e4a3dde46516fae66c,openstack/keystone,master,I5bd7e3b17c846c9f93ee96e4a3dde46516fae66c,DNM: testing system_scope,ABANDONED,2018-11-07 06:02:34.000000000,2021-06-04 18:06:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-07 06:02:34.000000000', 'files': ['keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cb51fb6cc3cabfe37aad056a9fac94e579ccbca0', 'message': 'DNM: testing system_scope\n\nChange-Id: I5bd7e3b17c846c9f93ee96e4a3dde46516fae66c\n'}]",0,616075,cb51fb6cc3cabfe37aad056a9fac94e579ccbca0,3,1,1,8556,,,0,"DNM: testing system_scope

Change-Id: I5bd7e3b17c846c9f93ee96e4a3dde46516fae66c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/616075/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/credential.py'],1,cb51fb6cc3cabfe37aad056a9fac94e579ccbca0,,," deprecated_rule=deprecated_create_credential, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN",0,3
openstack%2Fkeystone~master~Ic3d29a96dd4e81fead157bade0c24e1d984f9518,openstack/keystone,master,Ic3d29a96dd4e81fead157bade0c24e1d984f9518,Changed the port numbers,ABANDONED,2018-11-02 06:58:20.000000000,2021-06-04 18:06:28.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-11-02 06:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/986e488f721cf59614370c3694c603d2ccfefe06', 'message': '  Changed the port numbers.\n  No more seperate ports.\n\n  Before keystone needed to be run on two separate ports to accommodate the Identity v2 API which ran a separate admin-only service commonly on port 35357. With the removal of the v2 API, keystone runs only on port 5000.\n\n  Change-Id: I012662ea2af80441c99bafee757569d8b0d40ff3\n\nChange-Id: Ic3d29a96dd4e81fead157bade0c24e1d984f9518\n'}, {'number': 2, 'created': '2018-11-02 09:58:27.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/927baccf98628a84720d065fb6db1a546252f719', 'message': '  Changed the port numbers\n\n  Before keystone needed to be run on two separate ports to accommodate the Identity v2 API which ran a separate admin-only service commonly on port 35357. With the removal of the v2 API, keystone runs only on port 5000.\n\n  Change-Id: I012662ea2af80441c99bafee757569d8b0d40ff3\n\nChange-Id: Ic3d29a96dd4e81fead157bade0c24e1d984f9518\n'}]",3,615044,927baccf98628a84720d065fb6db1a546252f719,9,3,2,29373,,,0,"  Changed the port numbers

  Before keystone needed to be run on two separate ports to accommodate the Identity v2 API which ran a separate admin-only service commonly on port 35357. With the removal of the v2 API, keystone runs only on port 5000.

  Change-Id: I012662ea2af80441c99bafee757569d8b0d40ff3

Change-Id: Ic3d29a96dd4e81fead157bade0c24e1d984f9518
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/615044/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,986e488f721cf59614370c3694c603d2ccfefe06,new-branch, $ export OS_AUTH_URL=http://localhost:5000/v3 $ export OS_AUTH_URL=http://localhost:5000/v3 $ openstack --os-username=admin --os-password=secret --os-project-name=admin --os-auth-url=http://localhost:5000/v3 user list $ openstack --os-username=admin --os-password=secret --os-project-name=admin --os-auth-url=http://localhost:5000/v3 project create demo, $ export OS_AUTH_URL=http://localhost:35357/v3 $ export OS_AUTH_URL=http://localhost:35357/v3 $ openstack --os-username=admin --os-password=secret --os-project-name=admin --os-auth-url=http://localhost:35357/v3 user list $ openstack --os-username=admin --os-password=secret --os-project-name=admin --os-auth-url=http://localhost:35357/v3 project create demo,4,4
openstack%2Fkeystone~master~I08407e2abae355321d02816596da1726809b18ee,openstack/keystone,master,I08407e2abae355321d02816596da1726809b18ee,Add validation for user when get user display name,ABANDONED,2017-09-01 10:22:18.000000000,2021-06-04 18:06:24.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 17645}]","[{'number': 1, 'created': '2017-09-01 10:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/69545175e21fb05238865271b395b4cf7ced6ade', 'message': 'Fix Bug 1711883\n\nWhen enable SSO(Single Sign On) on OpenStack, I found a KEYERROR\nwill be raised by keystone service when I tried to logon on\nOpenStack with my Google account.\n\nThe root cause is, in function\nget_user_unique_id_and_display_name() of\nkeystone/auth/plugins/mapped.py, the checking of user dict\'s key\n""name"" is not very strict. So, we need to add more strict\nvalidation here.\n\nChange-Id: I08407e2abae355321d02816596da1726809b18ee\n'}, {'number': 2, 'created': '2017-09-01 10:35:03.000000000', 'files': ['keystone/auth/plugins/mapped.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a98088877e1bcac66fe5e3e2d9e36dda14600703', 'message': 'Add validation for user when get user display name\n\nWhen enable SSO(Single Sign On) on OpenStack, I found a KEYERROR\nwill be raised by keystone service when I tried to logon on\nOpenStack with my Google account.\n\nThe root cause is, in function\nget_user_unique_id_and_display_name() of\nkeystone/auth/plugins/mapped.py, the checking of user dict\'s key\n""name"" is not very strict. So, we need to add more strict\nvalidation here.\n\nChange-Id: I08407e2abae355321d02816596da1726809b18ee\n'}]",1,499959,a98088877e1bcac66fe5e3e2d9e36dda14600703,8,3,2,25531,,,0,"Add validation for user when get user display name

When enable SSO(Single Sign On) on OpenStack, I found a KEYERROR
will be raised by keystone service when I tried to logon on
OpenStack with my Google account.

The root cause is, in function
get_user_unique_id_and_display_name() of
keystone/auth/plugins/mapped.py, the checking of user dict's key
""name"" is not very strict. So, we need to add more strict
validation here.

Change-Id: I08407e2abae355321d02816596da1726809b18ee
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/499959/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/auth/plugins/mapped.py'],1,69545175e21fb05238865271b395b4cf7ced6ade,fix_bug_1711883, if not user.get('name'): user['name'] = user_name,,2,0
openstack%2Fkeystone~master~I8fb147d878534e9ab73fe39777a836fa3058cfd4,openstack/keystone,master,I8fb147d878534e9ab73fe39777a836fa3058cfd4,"Change ""a SQL"" to ""an SQL""",ABANDONED,2018-07-02 04:39:27.000000000,2021-06-04 18:06:21.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 14320}, {'_account_id': 15699}, {'_account_id': 22348}, {'_account_id': 25903}, {'_account_id': 26072}, {'_account_id': 28427}]","[{'number': 1, 'created': '2018-07-02 04:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8446f1a8dc1b6428f04127fdcc7d738def66313f', 'message': 'Change ""a SQL"" to ""an SQL""\n\nAccording to the word choice convention in:\nhttp://docs.openstack.org/contributor-guide/writing-style/word-choice.html\nWe should use ""an SQL"" instead of ""a SQL"".\n\nChange-Id: I8fb147d878534e9ab73fe39777a836fa3058cfd4\n'}, {'number': 2, 'created': '2018-07-06 02:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/35c1e16454d8415951a1f2ea0c9c2d26b381bfda', 'message': 'Change ""a SQL"" to ""an SQL""\n\nAccording to the word choice convention in:\nhttp://docs.openstack.org/contributor-guide/writing-style/word-choice.html\nWe should use ""an SQL"" instead of ""a SQL"".\n\nChange-Id: I8fb147d878534e9ab73fe39777a836fa3058cfd4\n'}, {'number': 3, 'created': '2018-07-16 07:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee63e449014e991d3271c90749a00d8a7cc99f26', 'message': 'Change ""a SQL"" to ""an SQL""\n\nAccording to the word choice convention in:\nhttp://docs.openstack.org/contributor-guide/writing-style/word-choice.html\nWe should use ""an SQL"" instead of ""a SQL"".\n\nChange-Id: I8fb147d878534e9ab73fe39777a836fa3058cfd4\n'}, {'number': 4, 'created': '2018-07-17 09:16:53.000000000', 'files': ['keystone/conf/identity.py', 'doc/source/configuration.rst', 'doc/source/admin/token-support-matrix.ini', 'keystone/assignment/role_backends/sql.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_backend_sql.py', 'doc/source/contributor/testing-keystone.rst', 'keystone/tests/unit/test_v3_filters.py', 'keystone/conf/assignment.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f46c8e45de17f83e616136afa1626c3ebd383ba1', 'message': 'Change ""a SQL"" to ""an SQL""\n\nAccording to the word choice convention in:\nhttp://docs.openstack.org/contributor-guide/writing-style/word-choice.html\nWe should use ""an SQL"" instead of ""a SQL"".\n\nChange-Id: I8fb147d878534e9ab73fe39777a836fa3058cfd4\n'}]",3,579432,f46c8e45de17f83e616136afa1626c3ebd383ba1,20,8,4,28427,,,0,"Change ""a SQL"" to ""an SQL""

According to the word choice convention in:
http://docs.openstack.org/contributor-guide/writing-style/word-choice.html
We should use ""an SQL"" instead of ""a SQL"".

Change-Id: I8fb147d878534e9ab73fe39777a836fa3058cfd4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/32/579432/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/identity.py', 'doc/source/admin/token-support-matrix.ini', 'doc/source/configuration.rst', 'keystone/assignment/role_backends/sql.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_backend_sql.py', 'doc/source/admin/identity-security-compliance.rst', 'doc/source/contributor/testing-keystone.rst', 'keystone/tests/unit/test_v3_filters.py', 'keystone/conf/assignment.py']",10,8446f1a8dc1b6428f04127fdcc7d738def66313f,fix_a_to_an_SQL,stored) in the `keystone.assignment` namespace. Only an SQL driver is supplied,stored) in the `keystone.assignment` namespace. Only a SQL driver is supplied,12,12
openstack%2Fkeystonemiddleware~master~I57e1883fd85e0d9452ca954bee8a8d5c125845c1,openstack/keystonemiddleware,master,I57e1883fd85e0d9452ca954bee8a8d5c125845c1,Catch more keystoneauth exceptions,ABANDONED,2018-09-07 21:58:10.000000000,2021-06-04 18:06:19.000000000,,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-07 21:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4ed33043d3fa9da2cec17f176f1239fbad6c9538', 'message': ""Catch more keystoneauth exceptions\n\nConnection timeouts and SSL errors should be treated much the same way\nas connection failures.\n\nSimilarly, if we *can* connect to the Keystone server but it says it's\nbusted or starts talking gibberish, treat it the same as when we can't\ntalk to Keystone at all.\n\nChange-Id: I57e1883fd85e0d9452ca954bee8a8d5c125845c1\n""}, {'number': 2, 'created': '2018-09-11 06:38:16.000000000', 'files': ['keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/90a33021bf1f012c8f5412b78c3de1d3c407bc21', 'message': ""Catch more keystoneauth exceptions\n\nConnection timeouts and SSL errors should be treated much the same way\nas connection failures.\n\nSimilarly, if we *can* connect to the Keystone server but it says it's\nbusted or starts talking gibberish, treat it the same as when we can't\ntalk to Keystone at all.\n\nChange-Id: I57e1883fd85e0d9452ca954bee8a8d5c125845c1\n""}]",11,600874,90a33021bf1f012c8f5412b78c3de1d3c407bc21,9,4,2,15343,,,0,"Catch more keystoneauth exceptions

Connection timeouts and SSL errors should be treated much the same way
as connection failures.

Similarly, if we *can* connect to the Keystone server but it says it's
busted or starts talking gibberish, treat it the same as when we can't
talk to Keystone at all.

Change-Id: I57e1883fd85e0d9452ca954bee8a8d5c125845c1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/74/600874/2 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/__init__.py'],1,4ed33043d3fa9da2cec17f176f1239fbad6c9538,," except (ksa_exceptions.ConnectionError, ksa_exceptions.HttpServerError, ksa_exceptions.InvalidResponse,"," except (ksa_exceptions.ConnectFailure,",3,1
openstack%2Fkeystone~master~I303033329b315d45956887c1523002745893e2a6,openstack/keystone,master,I303033329b315d45956887c1523002745893e2a6,Explicitly assigning the exception to a variable for reraise,ABANDONED,2018-08-10 02:40:27.000000000,2021-06-04 18:06:16.000000000,,"[{'_account_id': 4428}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-08-10 02:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f8ceb3d72c595b7837365df9f97ed44433ba83d8', 'message': 'Explicitly assigning the exception to a variable for reraise\n\nWhen running keystone-manage bootstrap multiple times, TypeError\nwill be raised in notification sending wrapper.\n\nIf a method called in the expect block clears the exception info, raise\nwithout an argument will result in the exceptions must be exception\nagain. So explicitly assigning the exception to a variable with\nexcept  as is safer [1]\n\n[1]: https://stackoverflow.com/questions/27438986/exceptions-must-be-old-style-classes-or-derived-from-baseexception-not-nonetype\n\nChange-Id: I303033329b315d45956887c1523002745893e2a6\nCloses-bug: #1786383\n'}, {'number': 2, 'created': '2018-08-10 05:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/52e3a2c51596f27ce88b0abb3f33d60264993e46', 'message': 'Explicitly assigning the exception to a variable for reraise\n\nWhen running keystone-manage bootstrap multiple times, TypeError\nwill be raised in notification sending wrapper.\n\nIf a method called in the expect block clears the exception info, raise\nwithout an argument will result in the exceptions must be exception\nagain. So explicitly assigning the exception to a variable with\nexcept  as is safer [1]\n\n[1]: https://stackoverflow.com/questions/27438986/exceptions-must-be-old-style-classes-or-derived-from-baseexception-not-nonetype\n\nChange-Id: I303033329b315d45956887c1523002745893e2a6\nCloses-bug: #1786383\n'}, {'number': 3, 'created': '2018-08-10 08:15:00.000000000', 'files': ['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e2b12bf186460e2ba21540daa1630d5eafb77ed', 'message': 'Explicitly assigning the exception to a variable for reraise\n\nWhen running keystone-manage bootstrap multiple times, TypeError\nwill be raised in notification sending wrapper.\n\nIf a method called in the expect block clears the exception info, raise\nwithout an argument will result in the exceptions must be exception\nagain. So explicitly assigning the exception to a variable with\nexcept  as is safer [1]\n\n[1]: https://stackoverflow.com/questions/27438986/exceptions-must-be-old-style-classes-or-derived-from-baseexception-not-nonetype\n\nChange-Id: I303033329b315d45956887c1523002745893e2a6\nCloses-bug: #1786383\n'}]",2,590606,5e2b12bf186460e2ba21540daa1630d5eafb77ed,14,4,3,4428,,,0,"Explicitly assigning the exception to a variable for reraise

When running keystone-manage bootstrap multiple times, TypeError
will be raised in notification sending wrapper.

If a method called in the expect block clears the exception info, raise
without an argument will result in the exceptions must be exception
again. So explicitly assigning the exception to a variable with
except  as is safer [1]

[1]: https://stackoverflow.com/questions/27438986/exceptions-must-be-old-style-classes-or-derived-from-baseexception-not-nonetype

Change-Id: I303033329b315d45956887c1523002745893e2a6
Closes-bug: #1786383
",git fetch https://review.opendev.org/openstack/keystone refs/changes/06/590606/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/notifications.py'],1,f8ceb3d72c595b7837365df9f97ed44433ba83d8,bug/1786383, raise ex except Exception ae e: raise e except Exception as e: raise e, raise except Exception: raise except Exception: raise,5,5
openstack%2Fkeystone~master~Ib99d7d36ae97961d210273154eb0d10015a60f21,openstack/keystone,master,Ib99d7d36ae97961d210273154eb0d10015a60f21,Fix the incorrect file path of keystone apache2 configuration,ABANDONED,2018-07-30 03:26:58.000000000,2021-06-04 18:04:21.000000000,,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 19779}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26431}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-07-30 03:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/35d5fd70b598d74855e658f27eec9169b3bc718a', 'message': 'Fix the incorrect file path of keystone apache2 configuration\n\nChange-Id: Ib99d7d36ae97961d210273154eb0d10015a60f21\nCloses-Bug: #1783010\n'}, {'number': 2, 'created': '2018-08-13 16:07:55.000000000', 'files': ['doc/source/install/keystone-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bbeacf4c05f336192876642e0f68b09b19dd25b6', 'message': 'Fix the incorrect file path of keystone apache2 configuration\n\nChange-Id: Ib99d7d36ae97961d210273154eb0d10015a60f21\nCloses-Bug: #1783010\n'}]",4,586930,bbeacf4c05f336192876642e0f68b09b19dd25b6,13,7,2,19779,,,0,"Fix the incorrect file path of keystone apache2 configuration

Change-Id: Ib99d7d36ae97961d210273154eb0d10015a60f21
Closes-Bug: #1783010
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/586930/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/keystone-install-ubuntu.rst'],1,35d5fd70b598d74855e658f27eec9169b3bc718a,bug/1783010,#. Edit the ``/etc/apache2/sites-enabled/keystone.conf`` file and configure the .. path /etc/apache2/sites-enabled/keystone.conf <VirtualHost *:5000> ServerName controller ... </VirtualHost>,#. Edit the ``/etc/apache2/apache2.conf`` file and configure the .. path /etc/apache2/apache2.conf ServerName controller,6,3
openstack%2Fkeystone~master~I2dd601b7bdc56f2c19628304095d0f7be0a33d87,openstack/keystone,master,I2dd601b7bdc56f2c19628304095d0f7be0a33d87,Enable trusts for federated users,ABANDONED,2016-12-28 22:48:28.000000000,2021-06-04 18:04:17.000000000,,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 6486}, {'_account_id': 7725}, {'_account_id': 9237}, {'_account_id': 13478}, {'_account_id': 17860}, {'_account_id': 18338}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2016-12-28 22:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8524f1fdb934fdfeed98de71e4241cf4733e54c5', 'message': ""Enable trusts for federated users\n\n1. Add federated shadow user to groups on user creation\n2. Do not always check domains because federated user doesn't belong\nto a domain\n\nThis should probably be broken into 2 patches\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\nCloses-Bug: 1589993\n""}, {'number': 2, 'created': '2017-01-24 17:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/48205513baaedce26fdba88911985096d8a0165d', 'message': ""Enable trusts for federated users\n\n1. Add federated shadow user to groups on user creation\n2. Do not always check domains because federated user doesn't belong\nto a domain\n\nChange number 2 will be reverted after bug 1642687 is closed.\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\nCloses-Bug: 1589993\n""}, {'number': 3, 'created': '2017-01-26 02:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e7d59d6d647b4b5499cbde4bf49217e65d1073c8', 'message': 'Enable trusts for federated users\n\n1. Add federated shadow user to groups on user creation\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\nCloses-Bug: 1589993\n'}, {'number': 4, 'created': '2017-01-26 16:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/67e1b4d13869798547fb897878084156b706be33', 'message': ""Enable trusts for federated users\n\nTrusts for federated users didn't work because trust controller\nfetched assignments only for user in a database. With federated user\nsome assignments are calculated only when the user is authenicated\nfrom user's group.\n\nAdd groups to request context and use them to fetch current user's\nroles.\n\nNote: trust creation will still fail in a case when the trust is\nredelegated from a federated user by a federated user and the role\nbeing passed comes from that user group membership.\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\nCloses-Bug: 1589993\n""}, {'number': 5, 'created': '2017-02-08 11:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d474eac49cdb62f0f43724e0cc2fccc9f8c69f4', 'message': ""Enable trusts for federated users\n\n1. Add federated shadow user to groups on user creation and remove from\nold groups\n2. Do not always check domains because federated user doesn't belong\nto a domain\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\n""}, {'number': 6, 'created': '2017-02-08 14:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dac6415fb66f99f134388efa274ebf0dca6fc932', 'message': 'Enable trusts for federated users\n\nAdd federated shadow user to groups on user creation and remove from\nold groups\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\n'}, {'number': 7, 'created': '2018-05-01 14:39:59.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'keystone/auth/plugins/mapped.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c614a593ff39050d527f9b4ac3fc0ec847956db2', 'message': 'Enable trusts for federated users\n\nAdd federated shadow user to groups on user creation and remove from\nold groups\n\nChange-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87\n'}]",5,415545,c614a593ff39050d527f9b4ac3fc0ec847956db2,31,10,7,13478,,,0,"Enable trusts for federated users

Add federated shadow user to groups on user creation and remove from
old groups

Change-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87
",git fetch https://review.opendev.org/openstack/keystone refs/changes/45/415545/7 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/token/providers/common.py', 'keystone/identity/core.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/auth/plugins/mapped.py']",4,8524f1fdb934fdfeed98de71e4241cf4733e54c5,bug/1642687," for group_id in group_ids: identity_api.add_user_to_group(user_id, group_id)",,50,4
openstack%2Fcastellan~stable%2Fwallaby~I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,openstack/castellan,stable/wallaby,I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,Add missing font for PDF doc generation,MERGED,2021-06-04 11:55:27.000000000,2021-06-04 18:04:15.000000000,2021-06-04 18:02:51.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 11:55:27.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/3775cf425396776ae401a5560ae1dfa55a429116', 'message': ""Add missing font for PDF doc generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30\n(cherry picked from commit 0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99)\n""}]",0,794784,3775cf425396776ae401a5560ae1dfa55a429116,9,3,1,17685,,,0,"Add missing font for PDF doc generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30
(cherry picked from commit 0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99)
",git fetch https://review.opendev.org/openstack/castellan refs/changes/84/794784/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,3775cf425396776ae401a5560ae1dfa55a429116,missing-tgtermes.sty, # PDF Docs package dependencies tex-gyre [doc platform:dpkg],,3,0
openstack%2Fkeystone~master~If573798f67a62ca925ac85222f0a03d78aa94716,openstack/keystone,master,If573798f67a62ca925ac85222f0a03d78aa94716,Checking safety before keys rotation,ABANDONED,2018-07-31 07:51:55.000000000,2021-06-04 18:04:13.000000000,,"[{'_account_id': 11022}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 07:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/89abdacbd7c22c29a72da273a7ad9ea40ddc473c', 'message': ""Checking safety before keys rotation\n\nWe'd better check whether another process is rotating keys\non the node or other nodes in a cluster. Adding this step is\nbeneficial to safely rotation.\n\nChange-Id: If573798f67a62ca925ac85222f0a03d78aa94716\n""}, {'number': 2, 'created': '2018-08-01 02:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eac0143ae936439022aa6d3447ce97971f620067', 'message': ""Checking safety before keys rotation\n\nWe'd better check whether another process is rotating keys\non the node or other nodes in a cluster. Adding this step is\nbeneficial to safely rotation.\n\nChange-Id: If573798f67a62ca925ac85222f0a03d78aa94716\n""}, {'number': 3, 'created': '2018-08-01 06:54:42.000000000', 'files': ['keystone/common/fernet_utils.py', 'keystone/tests/unit/token/test_fernet_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d066478c2db03eb8e69716c3eb50080b49e248bf', 'message': ""Checking safety before keys rotation\n\nWe'd better check whether another process is rotating keys\non the node or other nodes in a cluster. Adding this step is\nbeneficial to safely rotation.\n\nChange-Id: If573798f67a62ca925ac85222f0a03d78aa94716\n""}]",2,587326,d066478c2db03eb8e69716c3eb50080b49e248bf,10,3,3,25273,,,0,"Checking safety before keys rotation

We'd better check whether another process is rotating keys
on the node or other nodes in a cluster. Adding this step is
beneficial to safely rotation.

Change-Id: If573798f67a62ca925ac85222f0a03d78aa94716
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/587326/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/fernet_utils.py', 'keystone/tests/unit/token/test_fernet_provider.py']",2,89abdacbd7c22c29a72da273a7ad9ea40ddc473c,," def test_rotation_another_process_rotating(self): active_keys = 2 self.assertRepositoryState(expected_size=active_keys) os.rename( os.path.join(self.key_repository, '0'), os.path.join(self.key_repository, '2') ) key_utils = fernet_utils.FernetUtils( CONF.fernet_tokens.key_repository, CONF.fernet_tokens.max_active_keys, 'fernet_tokens' ) key_utils.rotate_keys() keys = key_utils.load_keys() self.assertEqual(2, len(keys)) ",,21,0
openstack%2Fkeystoneauth~master~Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f,openstack/keystoneauth,master,Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f,Allow registering additional plugin loaders,ABANDONED,2016-06-23 06:28:40.000000000,2021-06-04 18:04:11.000000000,,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 2218}, {'_account_id': 8866}, {'_account_id': 17860}, {'_account_id': 21465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-23 06:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/dfbc75e72b6212374d8cc22053120da623d9c80b', 'message': ""Allow registering additional plugin loaders\n\nAllow applications to register plugin loaders into a global pool. This\nway if they need to provide a plugin entry point for their application\n(as openstackclient currently does) they don't need to register it\nsystem wide.\n\nChange-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f\nCloses-Bug: #1451300\n""}, {'number': 2, 'created': '2016-06-23 06:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b339e935625375819b6d46b227054f4a73fd857d', 'message': ""Allow registering additional plugin loaders\n\nAllow applications to register plugin loaders into a global pool. This\nway if they need to provide a plugin entry point for their application\n(as openstackclient currently does) they don't need to register it\nsystem wide.\n\nCloses-Bug: #1451300\nChange-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f\n""}, {'number': 3, 'created': '2016-06-23 11:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/dc004446fd59d85dc88728a08f0430fbeec054d1', 'message': ""Allow registering additional plugin loaders\n\nAllow applications to register plugin loaders into a global pool. This\nway if they need to provide a plugin entry point for their application\n(as openstackclient currently does) they don't need to register it\nsystem wide.\n\nCloses-Bug: #1451300\nChange-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f\n""}, {'number': 4, 'created': '2016-07-08 23:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d0cc86e969919d25683a9a2602f18c0791234902', 'message': ""Allow registering additional plugin loaders\n\nAllow applications to register plugin loaders into a global pool. This\nway if they need to provide a plugin entry point for their application\n(as openstackclient currently does) they don't need to register it\nsystem wide.\n\nCloses-Bug: #1451300\nChange-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f\n""}, {'number': 5, 'created': '2018-05-16 16:20:56.000000000', 'files': ['keystoneauth1/tests/unit/loading/test_loading.py', 'keystoneauth1/loading/base.py', 'keystoneauth1/loading/__init__.py', 'releasenotes/notes/additional-loaders-b78c49373e57c34f.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7954f00b30003e0ed55c7768133469b8c3d7ee30', 'message': ""Allow registering additional plugin loaders\n\nAllow applications to register plugin loaders into a global pool. This\nway if they need to provide a plugin entry point for their application\n(as openstackclient currently does) they don't need to register it\nsystem wide.\n\nCloses-Bug: #1451300\nChange-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f\n""}]",1,333126,7954f00b30003e0ed55c7768133469b8c3d7ee30,16,7,5,7191,,,0,"Allow registering additional plugin loaders

Allow applications to register plugin loaders into a global pool. This
way if they need to provide a plugin entry point for their application
(as openstackclient currently does) they don't need to register it
system wide.

Closes-Bug: #1451300
Change-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/26/333126/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/loading/test_loading.py', 'keystoneauth1/loading/base.py', 'keystoneauth1/loading/__init__.py']",3,dfbc75e72b6212374d8cc22053120da623d9c80b,bug/1451300," 'register_plugin_loader',",,121,3
openstack%2Fkeystoneauth~master~I2eef707e1f48f48c4d60725e1151507578f37985,openstack/keystoneauth,master,I2eef707e1f48f48c4d60725e1151507578f37985,Use defusedxml for XML parsing in SAML,ABANDONED,2018-01-23 10:55:27.000000000,2021-06-04 18:04:08.000000000,,"[{'_account_id': 2}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8871}, {'_account_id': 9542}, {'_account_id': 14676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-23 10:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/44e09f3aa5009502c7883e8e85752d3f5619d169', 'message': 'replace lxml with defusedxml\n\nlxml was considered as vulnerable to different atacks. it is\nrecommended to replace this library with defused_xml\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 2, 'created': '2018-01-26 14:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d34ff443b7f9ece3c6beee00d45e68f2a4cd681f', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 3, 'created': '2018-01-30 10:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8422e9cbb9ca8f1ea704cbe77480936e4e74a157', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 4, 'created': '2018-03-05 07:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7d09469de1ee979f6c59561d92df18235e7863be', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 5, 'created': '2018-03-05 09:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/406d9e7eecbaed94b2de045b3d8c1da7138ee525', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 6, 'created': '2018-03-05 10:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5da1333be90482edfb3b291b69289527478d0b03', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\nunfortunately, defusedxml lacks som e lxml functionality,\nso we still have to use lxml in some safe cases.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 7, 'created': '2018-03-05 13:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a14d246f0a61d17160cbda985a386e50aca97809', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\nunfortunately, defusedxml lacks som e lxml functionality,\nso we still have to use lxml in some safe cases.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 8, 'created': '2018-03-06 06:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/52bc8592bff3997b7937de6d390b615b8a9ed643', 'message': 'use defusedxml for XML parsing\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. it is recommended to use defusedxml library for xml\nparsing. when we parse from tructed and hard-coded sources we\ncan still use lxml.\nunfortunately, defusedxml lacks som e lxml functionality,\nso we still have to use lxml in some safe cases.\n\nCloses-Bug: #1534284\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\n'}, {'number': 9, 'created': '2018-04-16 17:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/4698bf519fd8ad83e7948e00a8534309a4d24371', 'message': 'Use defusedxml for XML parsing in SAML\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. It is recommended to use defusedxml library for xml\nparsing. When we parse from tructed and hard-coded sources we\ncan still use lxml.\n\nOn order to catch XML parsing exceptions we still continue to import\nlxml, just to get a handle for those exception classes.\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\nPartial-Bug: #1534284\n'}, {'number': 10, 'created': '2018-04-17 06:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a6c60e99b0a0270c7a010d7dee1b5df79ba85f45', 'message': 'Use defusedxml for XML parsing in SAML\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. It is recommended to use defusedxml library for xml\nparsing. When we parse from tructed and hard-coded sources we\ncan still use lxml.\n\nOn order to catch XML parsing exceptions we still continue to import\nlxml, just to get a handle for those exception classes.\n\nSome minor pep8 changes to pass the gate are also made.\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\nPartial-Bug: #1534284\n'}, {'number': 11, 'created': '2018-05-10 15:12:00.000000000', 'files': ['keystoneauth1/extras/_saml2/v3/base.py', 'keystoneauth1/extras/_saml2/v3/saml2.py', 'test-requirements.txt', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/95d56534c1c5607d655b6709fefbe3f8cbff9417', 'message': 'Use defusedxml for XML parsing in SAML\n\nlxml was considered as vulnerable to different atacks when parsing\nXML files. It is recommended to use defusedxml library for xml\nparsing. When we parse from trusted and hard-coded sources we\ncan still use lxml.\n\nOn order to catch XML parsing exceptions we still continue to import\nlxml, just to get a handle for those exception classes.\n\nChange-Id: I2eef707e1f48f48c4d60725e1151507578f37985\nPartial-Bug: #1534284\n'}]",20,536761,95d56534c1c5607d655b6709fefbe3f8cbff9417,37,7,11,14676,,,0,"Use defusedxml for XML parsing in SAML

lxml was considered as vulnerable to different atacks when parsing
XML files. It is recommended to use defusedxml library for xml
parsing. When we parse from trusted and hard-coded sources we
can still use lxml.

On order to catch XML parsing exceptions we still continue to import
lxml, just to get a handle for those exception classes.

Change-Id: I2eef707e1f48f48c4d60725e1151507578f37985
Partial-Bug: #1534284
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/61/536761/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/extras/_saml2/v3/base.py', 'keystoneauth1/extras/_saml2/v3/saml2.py', 'requirements.txt', 'keystoneauth1/extras/_saml2/v3/adfs.py']",4,44e09f3aa5009502c7883e8e85752d3f5619d169,bug/1534284,from defusedxml import lxml as secure_lxml root = secure_lxml.etree.Element( header = secure_lxml.etree.SubElement( action = secure_lxml.etree.SubElement( messageID = secure_lxml.etree.SubElement( replyID = secure_lxml.etree.SubElement( address = secure_lxml.etree.SubElement( to = secure_lxml.etree.SubElement( security = secure_lxml.etree.SubElement( timestamp = secure_lxml.etree.SubElement( created = secure_lxml.etree.SubElement( expires = secure_lxml.etree.SubElement( usernametoken = secure_lxml.etree.SubElement( username = secure_lxml.etree.SubElement( password = secure_lxml.etree.SubElement( body = secure_lxml.etree.SubElement( request_security_token = secure_lxml.etree.SubElement( applies_to = secure_lxml.etree.SubElement( endpoint_reference = secure_lxml.etree.SubElement( wsa_address = secure_lxml.etree.SubElement( keytype = secure_lxml.etree.SubElement( request_type = secure_lxml.etree.SubElement( token_type = secure_lxml.etree.SubElement(,try: from lxml import etree except ImportError: etree = None root = etree.Element( header = etree.SubElement( action = etree.SubElement( messageID = etree.SubElement( replyID = etree.SubElement( address = etree.SubElement( to = etree.SubElement( security = etree.SubElement( timestamp = etree.SubElement( created = etree.SubElement( expires = etree.SubElement( usernametoken = etree.SubElement( username = etree.SubElement( password = etree.SubElement( body = etree.SubElement( request_security_token = etree.SubElement( applies_to = etree.SubElement( endpoint_reference = etree.SubElement( wsa_address = etree.SubElement( keytype = etree.SubElement( request_type = etree.SubElement( token_type = etree.SubElement(,33,44
openstack%2Fkeystonemiddleware~master~Id6b2fcd0780189c45bca2c4fb32abccc4e31996d,openstack/keystonemiddleware,master,Id6b2fcd0780189c45bca2c4fb32abccc4e31996d,Remove service warning log from keystone middleware.,ABANDONED,2018-03-01 03:08:30.000000000,2021-06-04 18:04:06.000000000,,"[{'_account_id': 8482}, {'_account_id': 17430}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 03:08:30.000000000', 'files': ['releasenotes/notes/bug-1743603-6b49a82c38bb6917.yaml', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6c3a8ccebc2155396f7cd7cd4dfa1270f5d7dcb3', 'message': ""Remove service warning log from keystone middleware.\n\nService token warning should be removed. Because in the keystone project,\nthe parameter like 'service_token_roles_required' is not set and the\nwarning log appears which is very confusing. When auth request is from\nnova to keystone, the keystone warning log would occurs while in nova log\nnot, for setting 'service_token_roles_required' in [nova.keystone_authtoken].\n\nChange-Id: Id6b2fcd0780189c45bca2c4fb32abccc4e31996d\n""}]",0,548736,6c3a8ccebc2155396f7cd7cd4dfa1270f5d7dcb3,5,3,1,17430,,,0,"Remove service warning log from keystone middleware.

Service token warning should be removed. Because in the keystone project,
the parameter like 'service_token_roles_required' is not set and the
warning log appears which is very confusing. When auth request is from
nova to keystone, the keystone warning log would occurs while in nova log
not, for setting 'service_token_roles_required' in [nova.keystone_authtoken].

Change-Id: Id6b2fcd0780189c45bca2c4fb32abccc4e31996d
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/36/548736/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1743603-6b49a82c38bb6917.yaml', 'keystonemiddleware/auth_token/__init__.py']",2,6c3a8ccebc2155396f7cd7cd4dfa1270f5d7dcb3,bug/1743603,," self._service_token_warning_emitted = False if not self._service_token_warning_emitted: self.log.warning('A valid token was submitted as ' 'a service token, but it was not ' 'a valid service token. This is ' 'incorrect but backwards ' 'compatible behaviour. This will ' 'be removed in future releases.') # prevent log spam on every single request self._service_token_warning_emitted = True ",10,11
openstack%2Fkeystone~master~I9e5d59dcc71c0561b1d68ea358abab20a047b577,openstack/keystone,master,I9e5d59dcc71c0561b1d68ea358abab20a047b577,Keystone ldap tree_dn does not support Chinese Change-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577,ABANDONED,2017-02-08 01:31:28.000000000,2021-06-04 18:04:02.000000000,,"[{'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 13063}, {'_account_id': 27383}]","[{'number': 1, 'created': '2017-02-08 01:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ae1ecd8ed9b2fe47e0178aae42048347daf07035', 'message': 'Keystone ldap tree_dn does not support Chinese\n\nChange-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577\n'}, {'number': 2, 'created': '2017-02-10 02:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/aa9407334313a063cfb64785820e4095f496aa73', 'message': 'Keystone ldap tree_dn does not support Chinese,\nencoding comment adding it to the top of the file\nChange-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577\n'}, {'number': 3, 'created': '2017-02-10 06:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a78a2ac05ed149a77c514c616b5b37e573805706', 'message': 'Keystone ldap tree_dn does not support Chinese\nChange-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577\n'}, {'number': 4, 'created': '2017-02-10 07:56:18.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/67b0205727b89930f9aa2711dd6c8ab26ced5473', 'message': 'Keystone ldap tree_dn does not support Chinese\nChange-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577\n'}]",7,430495,67b0205727b89930f9aa2711dd6c8ab26ced5473,19,4,4,22961,,,0,"Keystone ldap tree_dn does not support Chinese
Change-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577
",git fetch https://review.opendev.org/openstack/keystone refs/changes/95/430495/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,ae1ecd8ed9b2fe47e0178aae42048347daf07035,Bug1641026,# -*- coding: utf-8 -*-,,1,1
openstack%2Fkeystone~master~I66ec666d498927b4ad84167acb837a7f78b9e526,openstack/keystone,master,I66ec666d498927b4ad84167acb837a7f78b9e526,Api-refs for extending user api for fed attributes,ABANDONED,2017-01-31 17:33:35.000000000,2021-06-04 18:03:59.000000000,,[],"[{'number': 1, 'created': '2017-01-31 17:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/817b04d000a600c214de770d58ce53a464f19e4c', 'message': 'Api-refs for extending user api for fed attributes\n\nThis patch is dependent on [1] and add the api-ref changes needed\nfor the change.\n\n[1]: https://review.openstack.org/#/c/426449\n\nChange-Id: I66ec666d498927b4ad84167acb837a7f78b9e526\n'}, {'number': 2, 'created': '2017-01-31 17:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cd122f63af918c6c67f000924f4b9d1b880f90e3', 'message': 'Api-refs for extending user api for fed attributes\n\nThis patch is dependent on [1] and add the api-ref changes needed\nfor the change.\n\n[1]: https://review.openstack.org/#/c/426449\n\nChange-Id: I66ec666d498927b4ad84167acb837a7f78b9e526\n'}, {'number': 3, 'created': '2017-02-15 18:17:59.000000000', 'files': ['api-ref/source/v3/samples/admin/user-update-response.json', 'api-ref/source/v3/samples/admin/user-create-request-with-federated.json', 'api-ref/source/v3/users.inc', 'api-ref/source/v3/samples/admin/user-show-response.json', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/064dd0fe29e00f4df2fbed324241633f137513de', 'message': 'Api-refs for extending user api for fed attributes\n\nThis patch is dependent on [1] and add the api-ref changes needed\nfor the change.\n\n[1]: https://review.openstack.org/#/c/426449\n\nChange-Id: I66ec666d498927b4ad84167acb837a7f78b9e526\n'}]",0,427320,064dd0fe29e00f4df2fbed324241633f137513de,7,0,3,18464,,,0,"Api-refs for extending user api for fed attributes

This patch is dependent on [1] and add the api-ref changes needed
for the change.

[1]: https://review.openstack.org/#/c/426449

Change-Id: I66ec666d498927b4ad84167acb837a7f78b9e526
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/427320/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/admin/user-update-response.json', 'api-ref/source/v3/samples/admin/user-create-request-with-federated.json', 'api-ref/source/v3/users.inc', 'api-ref/source/v3/samples/admin/user-show-response.json', 'api-ref/source/v3/parameters.yaml']",5,817b04d000a600c214de770d58ce53a464f19e4c,extend_user_api,"federated_object: description: | A list of ``federated`` objects, containing: in: body required: true type: arrayidp_id_request_body: description: | The ID of the identity provider. in: body required: false type: string idp_id_response_body: description: | The ID of the identity provider associated with the federated user. in: body required: false type: stringprotocol_id_request_body: description: | The ID of the protocol. in: body required: false type: string protocol_id_response_body: description: | The ID of the protocol associated with the federated user. in: body required: false type: string protocols: description: | A list of ``protocols`` objects, containing: in: body required: false type: arrayunique_id_request_body: description: | The ID of the unique identifier. in: body required: false type: string unique_id_response_body: description: | The ID of the unique identifier associated with the federated user. in: body required: false type: string",,111,0
openstack%2Fkeystone~master~I452a1d9f8a5cb8d61cf99afae9dcf8f8415fcb28,openstack/keystone,master,I452a1d9f8a5cb8d61cf99afae9dcf8f8415fcb28,Drop support for ephemeral  user type,ABANDONED,2018-05-28 04:33:32.000000000,2021-06-04 18:01:30.000000000,,"[{'_account_id': 15699}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-28 04:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/11b3a07e1753c89f5b2ec63e084844dea3017f3b', 'message': 'Drop support for ephemeral  user type\n\nWith the implementation of shadow user, ephemeral users are\nno longer valid. This patch\n\n* refactor code to drop support for ephemeral user type and\n  treat ephemeral users as local users.\n* removes test cases corresponding to ephemeral user type.\n\nChange-Id: I452a1d9f8a5cb8d61cf99afae9dcf8f8415fcb28\nCloses-Bug: #1601910\n'}, {'number': 2, 'created': '2018-08-28 19:07:59.000000000', 'files': ['doc/source/advanced-topics/federation/mapping_combinations.rst', 'keystone/tests/unit/test_middleware.py', 'keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/auth/plugins/mapped.py', 'keystone/common/tokenless_auth.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/tests/unit/contrib/federation/test_utils.py', 'keystone/middleware/auth.py', 'doc/source/advanced-topics/configure_tokenless_x509.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/417d723a5f636f4a7298932c1f26156d9893f27d', 'message': 'Drop support for ephemeral  user type\n\nWith the implementation of shadow user, ephemeral users are\nno longer valid. This patch\n\n* refactor code to drop support for ephemeral user type and\n  treat ephemeral users as local users.\n* removes test cases corresponding to ephemeral user type.\n\nChange-Id: I452a1d9f8a5cb8d61cf99afae9dcf8f8415fcb28\nCloses-Bug: #1601910\n'}]",0,570706,417d723a5f636f4a7298932c1f26156d9893f27d,7,2,2,15699,,,0,"Drop support for ephemeral  user type

With the implementation of shadow user, ephemeral users are
no longer valid. This patch

* refactor code to drop support for ephemeral user type and
  treat ephemeral users as local users.
* removes test cases corresponding to ephemeral user type.

Change-Id: I452a1d9f8a5cb8d61cf99afae9dcf8f8415fcb28
Closes-Bug: #1601910
",git fetch https://review.opendev.org/openstack/keystone refs/changes/06/570706/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/advanced-topics/federation/mapping_combinations.rst', 'keystone/tests/unit/test_middleware.py', 'keystone/federation/utils.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/auth/plugins/mapped.py', 'keystone/common/tokenless_auth.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/tests/unit/contrib/federation/test_utils.py', 'keystone/middleware/auth.py', 'doc/source/advanced-topics/configure_tokenless_x509.rst']",11,11b3a07e1753c89f5b2ec63e084844dea3017f3b,bug/1601910,"certificate as a user to yield a valid local user. For example, the client certificate has ``Subject DN`` as ``CN=alex,OU=eng,O=nice-network ,L=Sunnyvale,ST=California,C=US``, in the following examples, ``user_name ``will be mapped to``alex`` and ``domain_name`` will be mapped to ``nice-network``. }For federated users, mapping must yield at least one valid group. For example: ""name"": ""{0}"" -d '{""mapping"": {""rules"": [{""local"": [{""user"": {""name"": ""{0}""}},{""group"": {""id"": ""<GROUPID>""}}],""remote"": [{""type"": ""SSL_CLIENT_S_DN_CN""}]}]}}' \","certificate as a user to yield a valid local user if the user's ``type`` defined as ``local`` in the mapping. For example, the client certificate has ``Subject DN`` as ``CN=alex,OU=eng,O=nice-network,L=Sunnyvale, ST=California,C=US``, in the following examples, ``user_name`` will be mapped to``alex`` and ``domain_name`` will be mapped to ``nice-network``. And it has user's ``type`` set to ``local``. If user's ``type`` is not defined, it defaults to ``ephemeral``. }, ""type"": ""local""When user's ``type`` is not defined or set to ``ephemeral``, the mapped user does not have to be a valid local user but the mapping must yield at least one valid local group. For example: ""name"": ""{0}"", ""type"": ""ephemeral"" -d '{""mapping"": {""rules"": [{""local"": [{""user"": {""name"": ""{0}"",""type"": ""ephemeral""}},{""group"": {""id"": ""<GROUPID>""}}],""remote"": [{""type"": ""SSL_CLIENT_S_DN_CN""}]}]}}' \",79,199
openstack%2Fkeystone~master~Ib8eafade500b3d8af2522ac1f7e1e64ed7a7f93a,openstack/keystone,master,Ib8eafade500b3d8af2522ac1f7e1e64ed7a7f93a,Return the local user roles for a federated user mapped to a local user,ABANDONED,2017-03-30 00:19:35.000000000,2021-06-04 18:01:00.000000000,,[{'_account_id': 18338}],"[{'number': 1, 'created': '2017-03-30 00:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d5333e195b6522e8b7e466cdd22580cdd4929d2', 'message': 'Return the local user roles for federated users mapped to local users\n\nChange-Id: Ib8eafade500b3d8af2522ac1f7e1e64ed7a7f93a\nCloses-Bug: #1667070\n'}, {'number': 2, 'created': '2017-03-30 00:20:21.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/12b4ae1c54837eff1275de80fd033016b7314c68', 'message': 'Return the local user roles for a federated user mapped to a local user\n\nChange-Id: Ib8eafade500b3d8af2522ac1f7e1e64ed7a7f93a\nCloses-Bug: #1667070\n'}]",0,451604,12b4ae1c54837eff1275de80fd033016b7314c68,6,1,2,18338,,,0,"Return the local user roles for a federated user mapped to a local user

Change-Id: Ib8eafade500b3d8af2522ac1f7e1e64ed7a7f93a
Closes-Bug: #1667070
",git fetch https://review.opendev.org/openstack/keystone refs/changes/04/451604/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v3_federation.py'],1,0d5333e195b6522e8b7e466cdd22580cdd4929d2,(detached," def test_mapped_local_user_roles(self): # create local user user = self._create_user() # create project and role project_ref = unit.new_project_ref( domain_id=CONF.identity.default_domain_id) self.resource_api.create_project(project_ref['id'], project_ref) role_ref = unit.new_role_ref() self.role_api.create_role(role_ref['id'], role_ref) # assign project role to the local user self.assignment_api.add_role_to_user_and_project( user['id'], project_ref['id'], role_ref['id']) # create a mapping that maps the federated user to the local user # request unscoped token # request scoped token # validate local user role exists def _create_user(self): user = { 'name': uuid.uuid4().hex, 'domain_id': CONF.identity.default_domain_id, 'enabled': True, 'password': uuid.uuid4().hex } return self.identity_api.create_user(user) ",,32,0
openstack%2Fkeystone~master~I3cca2bd1f103ccdd1e59024a8db7efc09ddee089,openstack/keystone,master,I3cca2bd1f103ccdd1e59024a8db7efc09ddee089,admin gets is_admin_project by default,ABANDONED,2016-04-29 17:21:37.000000000,2021-06-04 18:00:58.000000000,,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 8866}, {'_account_id': 10608}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-04-29 17:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e51c7a8625d63890372587117034c30874ff152e', 'message': 'admin gets is_admin_project by default\n\nset is_admin_project true on the token when admin_project_name is\nnot set in CONF and the role is admin, as a way to maintain backward\ncompatibility for users depending on the legacy behavior that anyone\nwith the admin role is not restricted to the scope of their token\n\nChange-Id: I3cca2bd1f103ccdd1e59024a8db7efc09ddee089\n'}, {'number': 2, 'created': '2016-05-12 19:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c2faedc19e63122a3a7d846abb04a96d5c7de060', 'message': 'admin gets is_admin_project by default\n\nset is_admin_project true on the token when admin_project_name is\nnot set in CONF and the role is admin, as a way to maintain backward\ncompatibility for users depending on the legacy behavior that anyone\nwith the admin role is not restricted to the scope of their token\n\nChange-Id: I3cca2bd1f103ccdd1e59024a8db7efc09ddee089\nCloses-Bug: #968696\n'}, {'number': 3, 'created': '2016-11-15 22:13:28.000000000', 'files': ['keystone/token/providers/common.py', 'keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0b535a1ff8dd5ea5dd890bc7cdc67a278fae0e82', 'message': 'admin gets is_admin_project by default\n\nSet is_admin_project true on the token when admin_project_name is\nnot set in CONF and the role is admin, as a way to maintain backward\ncompatibility for users depending on the legacy behavior that anyone\nwith the admin role is not restricted to the scope of their token\n\nChecking that the role is admin is key. Without this check, deployers\ncould inadvertently end up with global access (i.e. not restricted to\nproject) for other roles, depending on their policy settings. Only\nthe admin role had global access prior to the advent of\nis_admin_project, and therefore only the admin role needs this patch\nfor backward compatibility.\n\nChange-Id: I3cca2bd1f103ccdd1e59024a8db7efc09ddee089\nCloses-Bug: #968696\n'}]",16,311203,0b535a1ff8dd5ea5dd890bc7cdc67a278fae0e82,33,7,3,10608,,,0,"admin gets is_admin_project by default

Set is_admin_project true on the token when admin_project_name is
not set in CONF and the role is admin, as a way to maintain backward
compatibility for users depending on the legacy behavior that anyone
with the admin role is not restricted to the scope of their token

Checking that the role is admin is key. Without this check, deployers
could inadvertently end up with global access (i.e. not restricted to
project) for other roles, depending on their policy settings. Only
the admin role had global access prior to the advent of
is_admin_project, and therefore only the admin role needs this patch
for backward compatibility.

Change-Id: I3cca2bd1f103ccdd1e59024a8db7efc09ddee089
Closes-Bug: #968696
",git fetch https://review.opendev.org/openstack/keystone refs/changes/03/311203/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/token/providers/common.py'],1,e51c7a8625d63890372587117034c30874ff152e,admin_proj," # (edmondsw) Also set is_admin_project when admin_project_name is # not set in CONF and the role is admin, as a way to maintain backward # compatibility for users depending on the legacy behavior that anyone # with the admin role is not restricted to the scope of their token elif r.admin_project_name == None: for role in token_data['roles']: if role['name'] == 'admin': token_data['is_admin_project'] = True if token_data.get('project'): self._populate_is_admin_project(token_data)", if token_data.get('project'): self._populate_is_admin_project(token_data),10,2
openstack%2Fkeystone~master~I4a6362fae9b82f13e6bc869f26699ecf02e17e98,openstack/keystone,master,I4a6362fae9b82f13e6bc869f26699ecf02e17e98,WIP - Add framework for supporting microversions,ABANDONED,2016-06-16 16:17:32.000000000,2021-06-04 18:00:54.000000000,,"[{'_account_id': 17491}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-06-16 16:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0c19e84757836c084b33a639735f8fb10c29d0a8', 'message': 'WIP - Add framework for supporting microversions\n\nThis is very much a copy of the nova approach, adapted to our\nuse of wsgi & controllers.\n\nTODO:\n- Add a precursor patch that fixes up a few places where request\n  is not properly being named as a parameter\n- Add testing for microversion\n\nChange-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98\nImplements: blueprint microversions\n'}, {'number': 2, 'created': '2016-06-16 16:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/125a1f87f9e42526497e71ebfbe01b75b914f0cb', 'message': 'WIP - Add framework for supporting microversions\n\nThis is very much a copy of the nova approach, adapted to our\nuse of wsgi & controllers.\n\nTODO:\n- Add a precursor patch that fixes up a few places where request\n  is not properly being named as a parameter\n- Add testing for microversion\n\nChange-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98\nImplements: blueprint microversions\n'}, {'number': 3, 'created': '2016-06-16 17:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6a6fb9a005b833920171d0f47704ac45a2ee11b6', 'message': 'WIP - Add framework for supporting microversions\n\nThis is very much a copy of the nova approach, adapted to our\nuse of wsgi & controllers.\n\nTODO:\n- Add testing for microversion\n\nChange-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98\nImplements: blueprint microversions\n'}, {'number': 4, 'created': '2016-06-28 08:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea933a4d795a82f94b760b636fc3b56e87706b48', 'message': 'WIP - Add framework for supporting microversions\n\nThis is very much a copy of the nova approach, adapted to our\nuse of wsgi & controllers.\n\nTODO:\n- Fix the use of wsgi exception handling for AuthContextMiddleware\n- Add testing for microversion\n\nChange-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98\nImplements: blueprint microversions\n'}, {'number': 5, 'created': '2017-09-13 21:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9c6fa251854aa967676dc375a2e5da67dce22535', 'message': 'WIP - Add framework for supporting microversions\n\nThis is very much a copy of the nova approach, adapted to our\nuse of wsgi & controllers.\n\nTODO:\n- Fix the use of wsgi exception handling for AuthContextMiddleware\n- Add testing for microversion\n\nChange-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98\nImplements: blueprint microversions\n'}, {'number': 6, 'created': '2017-09-21 13:25:15.000000000', 'files': ['keystone/version/controllers.py', 'keystone/common/request.py', 'keystone/common/versioned_method.py', 'requirements.txt', 'keystone/common/api_version_request.py', 'keystone/common/controller.py', 'keystone/exception.py', 'keystone/middleware/auth.py', 'keystone/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/107f3a4cff1b2cfe2a8af6247e30377da2417887', 'message': 'WIP - Add framework for supporting microversions\n\nThis is very much a copy of the nova approach, adapted to our\nuse of wsgi & controllers.\n\nTODO:\n- Fix the use of wsgi exception handling for AuthContextMiddleware\n- Add testing for microversion\n\nChange-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98\nImplements: blueprint microversions\n'}]",0,330674,107f3a4cff1b2cfe2a8af6247e30377da2417887,13,2,6,5707,,,0,"WIP - Add framework for supporting microversions

This is very much a copy of the nova approach, adapted to our
use of wsgi & controllers.

TODO:
- Fix the use of wsgi exception handling for AuthContextMiddleware
- Add testing for microversion

Change-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98
Implements: blueprint microversions
",git fetch https://review.opendev.org/openstack/keystone refs/changes/74/330674/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/common/request.py', 'keystone/common/versioned_method.py', 'keystone/contrib/ec2/controllers.py', 'keystone/common/api_version_request.py', 'keystone/middleware/core.py', 'keystone/common/wsgi.py', 'keystone/federation/controllers.py', 'etc/keystone.conf.sample', 'keystone/version/controllers.py', 'keystone/assignment/controllers.py', 'requirements.txt', 'keystone/common/controller.py', 'keystone/resource/controllers.py', 'keystone/exception.py', 'keystone/oauth1/controllers.py', 'keystone/catalog/controllers.py']",17,0c19e84757836c084b33a639735f8fb10c29d0a8,bp/microversions," request,",,547,138
openstack%2Fkeystone~master~I732600d841e9a84c3dfee7b5c3e8894ece1ae913,openstack/keystone,master,I732600d841e9a84c3dfee7b5c3e8894ece1ae913,Remove unused PKI related file and tests,ABANDONED,2017-07-03 10:02:51.000000000,2021-06-04 18:00:52.000000000,,"[{'_account_id': 1313}, {'_account_id': 5046}, {'_account_id': 16465}]","[{'number': 1, 'created': '2017-07-03 10:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/14fd83eaa6f8761f21ed25711eb10e64c571f000', 'message': 'Remove unused PKI related file and tests\n\nChange-Id: I732600d841e9a84c3dfee7b5c3e8894ece1ae913\n'}, {'number': 2, 'created': '2017-07-03 10:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b586261a68547b3352a922e7aa8144169ae4b5a1', 'message': 'Remove unused PKI related file and tests\n\nChange-Id: I732600d841e9a84c3dfee7b5c3e8894ece1ae913\n'}, {'number': 3, 'created': '2017-07-03 13:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8dcb708f217d889cf853d5438c0a3ccf25e0871b', 'message': 'Remove unused PKI related file and tests\n\nChange-Id: I732600d841e9a84c3dfee7b5c3e8894ece1ae913\n'}, {'number': 4, 'created': '2017-07-03 14:12:12.000000000', 'files': ['releasenotes/notes/removed-as-of-pike-deadbeefdeadbeef.yaml', 'keystone/tests/unit/test_versions.py', 'keystone/version/service.py', 'keystone/tests/unit/test_contrib_simple_cert.py', 'keystone/token/_simple_cert.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a49c654b6fa069fc93e05e89cca140052b4a5258', 'message': 'Remove unused PKI related file and tests\n\nChange-Id: I732600d841e9a84c3dfee7b5c3e8894ece1ae913\n'}]",1,479768,a49c654b6fa069fc93e05e89cca140052b4a5258,13,3,4,1313,,,0,"Remove unused PKI related file and tests

Change-Id: I732600d841e9a84c3dfee7b5c3e8894ece1ae913
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/479768/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_contrib_simple_cert.py', 'keystone/token/_simple_cert.py']",2,14fd83eaa6f8761f21ed25711eb10e64c571f000,clean_pki,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # TODO(morganfainberg): Remove this file and extension in the ""O"" release as # it is only used in support of the PKI/PKIz token providers. import functools import webob from keystone.common import controller from keystone.common import dependency from keystone.common import extension from keystone.common import json_home from keystone.common import wsgi import keystone.conf from keystone import exception CONF = keystone.conf.CONF EXTENSION_DATA = { 'name': 'OpenStack Simple Certificate API', 'namespace': 'https://docs.openstack.org/identity/api/ext/' 'OS-SIMPLE-CERT/v1.0', 'alias': 'OS-SIMPLE-CERT', 'updated': '2014-01-20T12:00:0-00:00', 'description': 'OpenStack simple certificate retrieval extension', 'links': [ { 'rel': 'describedby', 'type': 'text/html', 'href': 'https://developer.openstack.org/' 'api-ref-identity-v2-ext.html', } ]} extension.register_admin_extension(EXTENSION_DATA['alias'], EXTENSION_DATA) extension.register_public_extension(EXTENSION_DATA['alias'], EXTENSION_DATA) build_resource_relation = functools.partial( json_home.build_v3_extension_resource_relation, extension_name='OS-SIMPLE-CERT', extension_version='1.0') class Routers(wsgi.RoutersBase): def _construct_url(self, suffix): return ""/OS-SIMPLE-CERT/%s"" % suffix def append_v3_routers(self, mapper, routers): controller = SimpleCert() self._add_resource( mapper, controller, path=self._construct_url('ca'), get_head_action='get_ca_certificate', rel=build_resource_relation(resource_name='ca_certificate')) self._add_resource( mapper, controller, path=self._construct_url('certificates'), get_head_action='list_certificates', rel=build_resource_relation(resource_name='certificates')) @dependency.requires('token_provider_api') class SimpleCert(controller.V3Controller): def _get_certificate(self, name): try: with open(name, 'r') as f: body = f.read() except IOError: raise exception.CertificateFilesUnavailable() # NOTE(jamielennox): We construct the webob Response ourselves here so # that we don't pass through the JSON encoding process. headers = [('Content-Type', 'application/x-pem-file')] return webob.Response(body=body, headerlist=headers, status=""200 OK"", charset='utf-8') def get_ca_certificate(self, context): return self._get_certificate(CONF.signing.ca_certs) def list_certificates(self, context): return self._get_certificate(CONF.signing.certfile) ",0,155
openstack%2Fkeystone~master~I49b8013c654a54363539e5931619051bda378fc2,openstack/keystone,master,I49b8013c654a54363539e5931619051bda378fc2,WIP - Add caching for get roles on groups,ABANDONED,2016-06-07 06:29:37.000000000,2021-06-04 18:00:49.000000000,,"[{'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 6486}, {'_account_id': 17860}, {'_account_id': 22213}]","[{'number': 1, 'created': '2016-06-07 06:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5ad8b5cc6285c38816036b1728412bdaa60df95', 'message': ""WIP - Add caching for get roles on groups\n\nNon-persistent token caching (e.g. fernet) is done by caching the\nindividual components of the token, rather than the whole token\nitself. Currently, the validation time for a fernet token is 5x\nthe time for a UUID token - so we're missing something,\n\nOne of the things we do differently for ferent tokens is check the\ngroup roles for federation tokens - and this wasn't cached, so\nthis patch adds this.\n\nIt currently fails unit tests since some tests flips the inheritance\nflag mid-test (which effectively invalidates the cache). Also we\ndon't yet invalidate the cache if group membership is changed,\nhence this patch is currently experimental so we can at least\nconfirm that this has positive effect on performance.\n\nChange-Id: I49b8013c654a54363539e5931619051bda378fc2\n""}, {'number': 2, 'created': '2016-06-07 08:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8ed8df3a5e0050503f688410ea324693775018c', 'message': ""WIP - Add caching for get roles on groups\n\nNon-persistent token caching (e.g. fernet) is done by caching the\nindividual components of the token, rather than the whole token\nitself. Currently, the validation time for a fernet token is 5x\nthe time for a UUID token - so we're missing something,\n\nOne of the things we do differently for ferent tokens is check the\ngroup roles for federation tokens - and this wasn't cached, so\nthis patch adds this.\n\nOne test needed to be changed since it fliped the inheritance flag\nmid-test (which effectively invalidates the cache).\n\nWe don't yet invalidate the cache if group membership is changed,\nhence this patch is currently experimental - so we can at least\nconfirm that this has positive effect on performance.\n\nChange-Id: I49b8013c654a54363539e5931619051bda378fc2\n""}, {'number': 3, 'created': '2016-06-07 11:18:31.000000000', 'files': ['keystone/tests/unit/assignment/test_backends.py', 'keystone/assignment/core.py', 'keystone/tests/unit/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c3c15f805b5e8b4e83bedd19fb37eaac4f2d44f8', 'message': ""WIP - Add caching for get roles on groups\n\nNon-persistent token caching (e.g. fernet) is done by caching the\nindividual components of the token, rather than the whole token\nitself. Currently, the validation time for a fernet token is 5x\nthe time for a UUID token - so we're missing something,\n\nOne of the things we do differently for ferent tokens is check the\ngroup roles for federation tokens - and this wasn't cached, so\nthis patch adds this.\n\nOne test needed to be changed since it fliped the inheritance flag\nmid-test (which effectively invalidates the cache).\n\nWe don't yet invalidate the cache if group membership is changed,\nhence this patch is currently experimental - so we can at least\nconfirm that this has positive effect on performance.\n\nChange-Id: I49b8013c654a54363539e5931619051bda378fc2\n""}]",0,326246,c3c15f805b5e8b4e83bedd19fb37eaac4f2d44f8,19,5,3,5707,,,0,"WIP - Add caching for get roles on groups

Non-persistent token caching (e.g. fernet) is done by caching the
individual components of the token, rather than the whole token
itself. Currently, the validation time for a fernet token is 5x
the time for a UUID token - so we're missing something,

One of the things we do differently for ferent tokens is check the
group roles for federation tokens - and this wasn't cached, so
this patch adds this.

One test needed to be changed since it fliped the inheritance flag
mid-test (which effectively invalidates the cache).

We don't yet invalidate the cache if group membership is changed,
hence this patch is currently experimental - so we can at least
confirm that this has positive effect on performance.

Change-Id: I49b8013c654a54363539e5931619051bda378fc2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/46/326246/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/core.py'],1,b5ad8b5cc6285c38816036b1728412bdaa60df95,rolegroupcache," return self._get_roles_for_groups(group_ids, project_id, domain_id) @MEMOIZE_COMPUTED_ASSIGNMENTS def _get_roles_for_groups(self, group_ids, project_id, domain_id):",,4,0
openstack%2Fkeystone~master~If683aa01cdc41518dc25e10b3b32a1f899100be6,openstack/keystone,master,If683aa01cdc41518dc25e10b3b32a1f899100be6,Extend User API to support federated attributes,ABANDONED,2017-01-28 01:55:02.000000000,2021-06-04 18:00:46.000000000,,"[{'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 11022}, {'_account_id': 16465}, {'_account_id': 18338}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-01-28 01:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/06042f8e0014eebabb576f155a7d5fa071aa4807', 'message': 'WIP\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\n'}, {'number': 2, 'created': '2017-01-30 23:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4b23e51b17b7270a0912ceaa860b3d940595dda9', 'message': 'Extend User API to support federated attributes\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\n'}, {'number': 3, 'created': '2017-01-31 16:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91cbf1e782314e9c7a61c28545d017029fdaf541', 'message': ""Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user.\n\nget_user:\nidentity/core.py a key 'federated' gets added to ref and the value\nis what is returned by the shadowbackend sql method get_fed_objects.\nThis will either be an empty list [] or a list of federated objects.\nget_fed_objects simply pulls all rows from federated_users that are\nassociated with the user and then correctly formats them in base to\nsend them back to core.\n\ncreate_user:\nidentity/schema.py added the ability for users to send in federated\nlist of objects inside the user.json post file. This can either be\nan empty list or a list with one or more objects along with the user.\n\nidentity/core.py added _handle_create_user_federated_attributes in\norder to check if there are any federated objects passed in with the\nuser.\nIf there isnt any federated key in the user being passed to be\ncreated, then run driver.create_user as normal, add a empty list in\nfederated and return the user.\nElse we create a copy of the user so that we can del the federated key\nbefore sending the user dict to driver.create_user and use the copy to\niterate over the federated object's idps and protocol_ids to validate\nthat they exist in the database.\nThen the federated list of objects sends each federated object to the\nshadow backend/sql.py create_federated_object where we add the\nfederated object to the federated_user table. Once this is done we\nsend the user back along with the federated key and value that it came\nin with to return back.\n\nupdate_user:\nidentity/core.py\nThis method handles federated attributes similarly to create_user\nexcept that it must replace the associated federated_users with the\nnew list of federated_users passed in with users if one is passed in.\n\nIf user['federated'] is an empty list or isn't passed in then we only\ncheck if there are any federated_users associated with the user and add\nthat to 'federated' key.\nElse we first validate the passed in federated list of objects have\nvalid idp and protocol ids, delete the old federated_users, create the\nnew federated_users based on the list of federated objects the user\nhas passed in user['federated']\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\n""}, {'number': 4, 'created': '2017-01-31 17:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/10879d1accb0d23438378d31a6301b9ea28c3e35', 'message': ""Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user.\n\nget_user:\nidentity/core.py a key 'federated' gets added to ref and the value\nis what is returned by the shadowbackend sql method get_fed_objects.\nThis will either be an empty list [] or a list of federated objects.\nget_fed_objects simply pulls all rows from federated_users that are\nassociated with the user and then correctly formats them in base to\nsend them back to core.\n\ncreate_user:\nidentity/schema.py added the ability for users to send in federated\nlist of objects inside the user.json post file. This can either be\nan empty list or a list with one or more objects along with the user.\n\nidentity/core.py added _handle_create_user_federated_attributes in\norder to check if there are any federated objects passed in with the\nuser.\nIf there isnt any federated key in the user being passed to be\ncreated, then run driver.create_user as normal, add a empty list in\nfederated and return the user.\nElse we create a copy of the user so that we can del the federated key\nbefore sending the user dict to driver.create_user and use the copy to\niterate over the federated object's idps and protocol_ids to validate\nthat they exist in the database.\nThen the federated list of objects sends each federated object to the\nshadow backend/sql.py create_federated_object where we add the\nfederated object to the federated_user table. Once this is done we\nsend the user back along with the federated key and value that it came\nin with to return back.\n\nupdate_user:\nidentity/core.py\nThis method handles federated attributes similarly to create_user\nexcept that it must replace the associated federated_users with the\nnew list of federated_users passed in with users if one is passed in.\n\nIf user['federated'] is an empty list or isn't passed in then we only\ncheck if there are any federated_users associated with the user and add\nthat to 'federated' key.\nElse we first validate the passed in federated list of objects have\nvalid idp and protocol ids, delete the old federated_users, create the\nnew federated_users based on the list of federated objects the user\nhas passed in user['federated']\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\n""}, {'number': 5, 'created': '2017-01-31 21:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c1b04a8ce24c0e4c3805ab47de5906c78d60be2d', 'message': ""Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user.\n\nget_user:\nidentity/core.py a key 'federated' gets added to ref and the value\nis what is returned by the shadowbackend sql method get_fed_objects.\nThis will either be an empty list [] or a list of federated objects.\nget_fed_objects simply pulls all rows from federated_users that are\nassociated with the user and then correctly formats them in base to\nsend them back to core.\n\ncreate_user:\nidentity/schema.py added the ability for users to send in federated\nlist of objects inside the user.json post file. This can either be\nan empty list or a list with one or more objects along with the user.\n\nidentity/core.py added _handle_create_user_federated_attributes in\norder to check if there are any federated objects passed in with the\nuser.\nIf there isnt any federated key in the user being passed to be\ncreated, then run driver.create_user as normal, add a empty list in\nfederated and return the user.\nElse we create a copy of the user so that we can del the federated key\nbefore sending the user dict to driver.create_user and use the copy to\niterate over the federated object's idps and protocol_ids to validate\nthat they exist in the database.\nThen the federated list of objects sends each federated object to the\nshadow backend/sql.py create_federated_object where we add the\nfederated object to the federated_user table. Once this is done we\nsend the user back along with the federated key and value that it came\nin with to return back.\n\nupdate_user:\nidentity/core.py\nThis method handles federated attributes similarly to create_user\nexcept that it must replace the associated federated_users with the\nnew list of federated_users passed in with users if one is passed in.\n\nIf user['federated'] is an empty list or isn't passed in then we only\ncheck if there are any federated_users associated with the user and add\nthat to 'federated' key.\nElse we first validate the passed in federated list of objects have\nvalid idp and protocol ids, delete the old federated_users, create the\nnew federated_users based on the list of federated objects the user\nhas passed in user['federated']\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n""}, {'number': 6, 'created': '2017-02-14 20:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e7b46cbdbd9d56a59412944d9947ff0cdfef6b12', 'message': ""Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user.\n\nget_user:\nidentity/core.py a key 'federated' gets added to ref and the value\nis what is returned by the shadowbackend sql method get_fed_objects.\nThis will either be an empty list [] or a list of federated objects.\nget_fed_objects simply pulls all rows from federated_users that are\nassociated with the user and then correctly formats them in base to\nsend them back to core.\n\ncreate_user:\nidentity/schema.py added the ability for users to send in federated\nlist of objects inside the user.json post file. This can either be\nan empty list or a list with one or more objects along with the user.\n\nidentity/core.py added _handle_create_user_federated_attributes in\norder to check if there are any federated objects passed in with the\nuser.\nIf there isnt any federated key in the user being passed to be\ncreated, then run driver.create_user as normal, add a empty list in\nfederated and return the user.\nElse we create a copy of the user so that we can del the federated key\nbefore sending the user dict to driver.create_user and use the copy to\niterate over the federated object's idps and protocol_ids to validate\nthat they exist in the database.\nThen the federated list of objects sends each federated object to the\nshadow backend/sql.py create_federated_object where we add the\nfederated object to the federated_user table. Once this is done we\nsend the user back along with the federated key and value that it came\nin with to return back.\n\nupdate_user:\nidentity/core.py\nThis method handles federated attributes similarly to create_user\nexcept that it must replace the associated federated_users with the\nnew list of federated_users passed in with users if one is passed in.\n\nIf user['federated'] is an empty list or isn't passed in then we only\ncheck if there are any federated_users associated with the user and add\nthat to 'federated' key.\nElse we first validate the passed in federated list of objects have\nvalid idp and protocol ids, delete the old federated_users, create the\nnew federated_users based on the list of federated objects the user\nhas passed in user['federated']\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n""}, {'number': 7, 'created': '2017-02-14 20:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f39e1773a238ba857dbaff6b295e67222a9eebb3', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 8, 'created': '2017-02-15 17:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5da2a8d35e554ada161f04458ef4eb1ec6439bb2', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 9, 'created': '2017-02-15 18:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e820d66bee2654fa7afff5a48dfd106f215f9d87', 'message': ""Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user.\n\nget_user:\nidentity/core.py a key 'federated' gets added to ref and the value\nis what is returned by the shadowbackend sql method get_fed_objects.\nThis will either be an empty list [] or a list of federated objects.\nget_fed_objects simply pulls all rows from federated_users that are\nassociated with the user and then correctly formats them in base to\nsend them back to core.\n\ncreate_user:\nidentity/schema.py added the ability for users to send in federated\nlist of objects inside the user.json post file. This can either be\nan empty list or a list with one or more objects along with the user.\n\nidentity/core.py added _handle_create_user_federated_attributes in\norder to check if there are any federated objects passed in with the\nuser.\nIf there isnt any federated key in the user being passed to be\ncreated, then run driver.create_user as normal, add a empty list in\nfederated and return the user.\nElse we create a copy of the user so that we can del the federated key\nbefore sending the user dict to driver.create_user and use the copy to\niterate over the federated object's idps and protocol_ids to validate\nthat they exist in the database.\nThen the federated list of objects sends each federated object to the\nshadow backend/sql.py create_federated_object where we add the\nfederated object to the federated_user table. Once this is done we\nsend the user back along with the federated key and value that it came\nin with to return back.\n\nupdate_user:\nidentity/core.py\nThis method handles federated attributes similarly to create_user\nexcept that it must replace the associated federated_users with the\nnew list of federated_users passed in with users if one is passed in.\n\nIf user['federated'] is an empty list or isn't passed in then we only\ncheck if there are any federated_users associated with the user and add\nthat to 'federated' key.\nElse we first validate the passed in federated list of objects have\nvalid idp and protocol ids, delete the old federated_users, create the\nnew federated_users based on the list of federated objects the user\nhas passed in user['federated']\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\n""}, {'number': 10, 'created': '2017-02-15 18:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/485652d37100b9598d8448c2f24a442bc6a28aa1', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 11, 'created': '2017-02-15 18:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e84ea1475ed6d1b07fcc1790193f11a49ec2eab1', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 12, 'created': '2017-02-15 18:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3aa13d7ea9d70751013465034762839dcba1916c', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: https://blueprints.launchpad.net/keystone/+spec/\n            support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 13, 'created': '2017-02-15 18:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2226a97a379d3baa0337560a2c834b3f257bae37', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 14, 'created': '2017-02-15 20:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f1c50ce6db820250439acd41d5db511f1c1d1db3', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: https://blueprints.launchpad.net/keystone/+spec/\n            support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 15, 'created': '2017-02-15 22:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c51653a11a66c83c9f30f76d6bcd0befd2de8b4c', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 16, 'created': '2017-02-15 22:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e7489667437504bb4fa9a7ccb633f4a94d54ba87', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: https://blueprints.launchpad.net/keystone/+spec/\n            support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 17, 'created': '2017-02-15 22:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ed4db28481194429f1899021d6ecc290ec1dd5b', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 18, 'created': '2017-02-17 21:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8cf1431a454c70b1c6a568d7544014044114f73d', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 19, 'created': '2017-02-18 13:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ed1d42cecc1eecb3fc7670d7b32b35b29a1cd753', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user simply pulls all associated federated objects\nand tacks it on before sending it back to be displayed to the user.\ncreate_user allows a user to add in a federated object to be created\nand associated with the user object. update_user allows a user to\nupdate currently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 20, 'created': '2017-02-18 16:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2052462a18fda2c4473b89921f1923af7676d998', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 21, 'created': '2017-02-23 20:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bd12efe4fa683cf985e6bdd42521b19cb5721e9', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 22, 'created': '2017-02-23 20:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8361372156b8d22b0e5aa0c20ba22a705c1e6cdc', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 23, 'created': '2017-02-28 18:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/19b42b0e020d7019037e39b52c679a94f73e2b3e', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 24, 'created': '2017-03-01 07:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b134df9ac1fbee8c1d1e66195e0e3455193e50a0', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 25, 'created': '2017-03-01 07:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e266df04b0c8fd7b9c502eff510c960ddfb089a8', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/support-federated-attr.html\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 26, 'created': '2017-03-01 15:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2d899ada3b438e624c1ff70ca964bef8a33569d8', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 27, 'created': '2017-03-01 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/021f7925c8e9d8dac106f4b9711a4076d15949c3', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 28, 'created': '2017-03-01 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a2956b4432a708c9474a788af91ce28688ab7aac', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 29, 'created': '2017-03-02 00:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c40d7b131ceab2266113b227e7f77a601dc5aa2a', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 30, 'created': '2017-03-02 00:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e2658ca08fe437e5a15c33abdd784e2f111c5e17', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 31, 'created': '2017-03-02 16:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ae70706b417756f651ceda8308900be8af1abca', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 32, 'created': '2017-03-21 18:49:33.000000000', 'files': ['keystone/tests/unit/test_backend_ldap_pool.py', 'releasenotes/notes/extending-federated-users-to-the-user-api-71eda9958337b14a.yaml', 'keystone/identity/schema.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/tests/unit/core.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/identity/shadow_backends/sql.py', 'keystone/tests/unit/identity/test_backends.py', 'keystone/identity/core.py', 'keystone/identity/shadow_backends/base.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/tests/unit/identity/test_core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a8a2c9f45d2e6a1bdc74e639b8bd0d018dad71b', 'message': 'Extend User API to support federated attributes\n\nThis patch involves three api methods: get_user, create_user, and\nupdate_user. Get_user pulls all associated federated objects and tacks\nit on before sending it back to be displayed to the user. create_user\nallows a user to add in a federated object to be created and\nassociated with the user object. update_user allows a user to update\ncurrently associated federated objects to the passed in user.\n\nImplements: bp support-federated-attr\nChange-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6\nDepends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}]",198,426449,5a8a2c9f45d2e6a1bdc74e639b8bd0d018dad71b,102,6,32,18464,,,0,"Extend User API to support federated attributes

This patch involves three api methods: get_user, create_user, and
update_user. Get_user pulls all associated federated objects and tacks
it on before sending it back to be displayed to the user. create_user
allows a user to add in a federated object to be created and
associated with the user object. update_user allows a user to update
currently associated federated objects to the passed in user.

Implements: bp support-federated-attr
Change-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6
Depends-On: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/49/426449/25 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/identity/test_backends.py', 'keystone/tests/unit/test_backend_ldap_pool.py', 'keystone/identity/core.py', 'keystone/identity/schema.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/identity/shadow_backends/base.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/tests/unit/identity/test_core.py', 'keystone/identity/shadow_backends/sql.py']",10,06042f8e0014eebabb576f155a7d5fa071aa4807,bp/support-federated-attr," def delete_federated_users(self, user_id): with sql.session_for_write() as session: q = session.query(model.FederatedUser) q = q.filter(model.FederatedUser.user_id == user_id) q.delete(False) @sql.handle_conflicts(conflict_type='federated_user') def create_federated_object(self, fed_dict): with sql.session_for_write() as session: fed_ref = model.FederatedUser.from_dict(fed_dict) session.add(fed_ref) def get_fed_objects(self, user_id): with sql.session_for_read() as session: query = session.query(model.FederatedUser) query = query.filter(model.FederatedUser.user_id == user_id) fed_ref = [] for row in query: m = model.FederatedUser( idp_id=row.idp_id, protocol_id=row.protocol_id, unique_id=row.unique_id) fed_ref.append(m.to_dict()) return base.filter_federated_objects(fed_ref) ",,423,7
openstack%2Fkeystone~master~I98f02c77009f0141bd81f66638b3c7b30f9afe14,openstack/keystone,master,I98f02c77009f0141bd81f66638b3c7b30f9afe14,Opportunistic LDAP testing,ABANDONED,2016-03-31 22:37:07.000000000,2021-06-04 18:00:42.000000000,,"[{'_account_id': 6486}, {'_account_id': 8119}]","[{'number': 1, 'created': '2016-03-31 22:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b1f9419331052a6ffbed3e28f5b3da20a9ddbc5f', 'message': ""WIP - Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 2, 'created': '2016-04-01 16:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a4b3a4e1746aba64119e55866e66a8901128a513', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 3, 'created': '2016-04-01 16:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/baa12ac030f8d3fe2cfa4e3c8be7ddcd0f814a87', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 4, 'created': '2016-04-01 16:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4b1365f64557ba008be5af24fadab5d296b5252e', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 5, 'created': '2016-04-01 16:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f83e0a7156f5f1af6d32603a051b7fa16e226e12', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 6, 'created': '2016-04-06 19:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/773c706ee34260acf3f2d8d560ee2ad984c03b03', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 7, 'created': '2016-04-11 21:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f74056b4a28257b2e8f7f79a490eab42a66a43b9', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 8, 'created': '2016-04-11 23:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca4a91c26ecd7814564be31a57f7563f26ff2cb0', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 9, 'created': '2016-04-15 18:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/20ab22ecaa429cb797f50e8db7d5bfa78407308c', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}, {'number': 10, 'created': '2016-04-19 13:43:18.000000000', 'files': ['doc/source/developing.rst', 'test-requirements.txt', 'keystone/tests/unit/identity/backends/test_ldap.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7becdc72cfc31948727833c94b372430a18a587b', 'message': ""Opportunistic LDAP testing\n\nIf there's an LDAP running that the tests have access to, run\nthe identity driver tests.\n\nThe user can set environment variables to configure the\nconnection and test parameters.\n\nChange-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14\n""}]",0,300237,7becdc72cfc31948727833c94b372430a18a587b,40,2,10,6486,,,0,"Opportunistic LDAP testing

If there's an LDAP running that the tests have access to, run
the identity driver tests.

The user can set environment variables to configure the
connection and test parameters.

Change-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14
",git fetch https://review.opendev.org/openstack/keystone refs/changes/37/300237/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'keystone/tests/unit/identity/backends/test_ldap.py', 'keystone/tests/unit/identity/test_core.py']",3,b1f9419331052a6ffbed3e28f5b3da20a9ddbc5f,define_driver," 'id': user_id, 'name': uuid.uuid4().hex, } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex 'id': user_id, 'name': uuid.uuid4().hex, } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = domain_id } if self.expected_is_domain_aware: user['domain_id'] = domain_id 'id': user_id, 'name': uuid.uuid4().hex, } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex 'id': user_id, 'name': uuid.uuid4().hex, } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = domain_id } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user1['domain_id'] = domain_id } if self.expected_is_domain_aware: user2['domain_id'] = domain_id } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group1['domain_id'] = domain } if self.expected_is_domain_aware: group2['domain_id'] = domain } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = domain_id } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group1['domain_id'] = domain_id } if self.expected_is_domain_aware: group2['domain_id'] = domain_id } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: group['domain_id'] = uuid.uuid4().hex } if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex if self.expected_is_domain_aware: user['domain_id'] = uuid.uuid4().hex"," 'id': user_id } 'domain_id': uuid.uuid4().hex, 'id': user_id } 'domain_id': domain_id, } 'domain_id': domain_id, } 'id': user_id } 'id': user_id } 'domain_id': domain_id, } 'domain_id': uuid.uuid4().hex } 'domain_id': uuid.uuid4().hex, 'domain_id': domain_id, } 'domain_id': domain_id, } 'domain_id': uuid.uuid4().hex } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, 'domain_id': domain, } 'domain_id': domain, } 'domain_id': uuid.uuid4().hex, } 'domain_id': domain_id, } 'domain_id': uuid.uuid4().hex, } 'domain_id': domain_id, } 'domain_id': domain_id, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, } 'domain_id': uuid.uuid4().hex, 'domain_id': uuid.uuid4().hex,",165,54
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Iee924f673e3c006606071916c906597cbd891962,openstack/puppet-openstack-integration,stable/wallaby,Iee924f673e3c006606071916c906597cbd891962,Skip content provider job for irrelevant files,MERGED,2021-06-03 06:29:05.000000000,2021-06-04 17:54:08.000000000,2021-06-04 17:54:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:29:05.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/28ff2a934c26054a56579ed9dd06aa8063abd8b0', 'message': 'Skip content provider job for irrelevant files\n\nCurrently content provider job is not skipped even when tripleo job is\nskipped, but this is uselesss.\nThis change ensures that we rely on the same list of irrelevant files\nso that the content provider job is skipped when tripleo job is\nskipped.\n\nChange-Id: Iee924f673e3c006606071916c906597cbd891962\n(cherry picked from commit cabac611610011a70307f8e96e49fc3bd248b823)\n'}]",0,794433,28ff2a934c26054a56579ed9dd06aa8063abd8b0,10,5,1,9816,,,0,"Skip content provider job for irrelevant files

Currently content provider job is not skipped even when tripleo job is
skipped, but this is uselesss.
This change ensures that we rely on the same list of irrelevant files
so that the content provider job is skipped when tripleo job is
skipped.

Change-Id: Iee924f673e3c006606071916c906597cbd891962
(cherry picked from commit cabac611610011a70307f8e96e49fc3bd248b823)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/794433/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,28ff2a934c26054a56579ed9dd06aa8063abd8b0,content-provider-stable/wallaby, irrelevant-files: &irrelevant_files - job: name: tripleo-puppet-ci-centos-8-content-provider parent: tripleo-ci-centos-8-content-provider irrelevant-files: *irrelevant_files - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true remove_tags: - build dependencies: - tripleo-puppet-ci-centos-8-content-provider gate: jobs: - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: *undercloud_consumer_vars dependencies: - tripleo-puppet-ci-centos-8-content-provider - job: name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone irrelevant-files: *irrelevant_files - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-content-provider, irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^requirements.txt$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitreview$ - ^.gitignore$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider gate: jobs: - tripleo-ci-centos-8-content-provider - tripleo-puppet-ci-centos-8-undercloud-containers: vars: *undercloud_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - job: name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone irrelevant-files: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider,35,44
openstack%2Fkayobe~master~I4613e8973ccaef4534e44e3c79e910de5041add0,openstack/kayobe,master,I4613e8973ccaef4534e44e3c79e910de5041add0,Optimise order of inspector_processing_hooks,MERGED,2021-06-04 10:13:59.000000000,2021-06-04 17:49:21.000000000,2021-06-04 17:48:01.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 10:13:59.000000000', 'files': ['ansible/group_vars/all/inspector'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a52b3b27be4ddabc49c69ddd8ea2b264427d630c', 'message': 'Optimise order of inspector_processing_hooks\n\nIronic Inspector docs [1] recommend to use lldp_basic before\nlocal_link_connection.\nIt is also how TripleO applies them.\n\n[1] https://docs.openstack.org/ironic-inspector/wallaby/user/usage.html#plugins\n\nChange-Id: I4613e8973ccaef4534e44e3c79e910de5041add0\n'}]",0,794767,a52b3b27be4ddabc49c69ddd8ea2b264427d630c,11,3,1,30491,,,0,"Optimise order of inspector_processing_hooks

Ironic Inspector docs [1] recommend to use lldp_basic before
local_link_connection.
It is also how TripleO applies them.

[1] https://docs.openstack.org/ironic-inspector/wallaby/user/usage.html#plugins

Change-Id: I4613e8973ccaef4534e44e3c79e910de5041add0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/794767/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/inspector'],1,a52b3b27be4ddabc49c69ddd8ea2b264427d630c,ironic-inspector-plugins-order, - local_link_connection, - local_link_connection,1,1
openstack%2Fopenstack-tempest-skiplist~master~I32c57ec6ded6b0ba3a1669e8710d92188402ca31,openstack/openstack-tempest-skiplist,master,I32c57ec6ded6b0ba3a1669e8710d92188402ca31,add four osp16-2 tempest failures,MERGED,2021-06-04 16:51:05.000000000,2021-06-04 17:43:26.000000000,2021-06-04 17:41:51.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 16:51:05.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2a0a72834f45a2ccae83e1dd78db9e5a2bd5d203', 'message': 'add four osp16-2 tempest failures\n\nmostly timeouts and need to checked for\nconsistency\n\nChange-Id: I32c57ec6ded6b0ba3a1669e8710d92188402ca31\n'}]",0,794864,2a0a72834f45a2ccae83e1dd78db9e5a2bd5d203,8,3,1,9592,,,0,"add four osp16-2 tempest failures

mostly timeouts and need to checked for
consistency

Change-Id: I32c57ec6ded6b0ba3a1669e8710d92188402ca31
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/64/794864/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,2a0a72834f45a2ccae83e1dd78db9e5a2bd5d203,, - test: tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_reboot_server_hard deployment: - overcloud releases: - name: train reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1967993 jobs: - periodic-tripleo-ci-rhel-8-bm_envD-3ctlr_1comp-featureset035-rhos-16.2 - test: tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern deployment: - overcloud releases: - name: train reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1967995 jobs: - periodic-tripleo-ci-rhel-8-scenario001-standalone-rhos-16.2 - test: tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern deployment: - overcloud releases: - name: train reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1967995 jobs: - periodic-tripleo-ci-rhel-8-scenario001-standalone-rhos-16.2 - test: barbican_tempest_plugin.tests.scenario.test_volume_encryption.VolumeEncryptionTest.test_encrypted_cinder_volumes_luks deployment: - overcloud releases: - name: train reason: timeout bz: https://bugzilla.redhat.com/show_bug.cgi?id=1967996 jobs: - periodic-tripleo-ci-rhel-8-scenario002-standalone-rhos-16.2,,36,1
openstack%2Fkeystone~stable%2Fussuri~Id51241989b22c52810391f3e8e1cadbf8613d873,openstack/keystone,stable/ussuri,Id51241989b22c52810391f3e8e1cadbf8613d873,Hide AccountLocked exception from end users,MERGED,2021-05-10 15:46:28.000000000,2021-06-04 17:20:40.000000000,2021-06-04 17:17:16.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 15:46:28.000000000', 'files': ['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8ab4eb27be4c13c9bab2b3ea700f00a190521bf8', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain insight from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)\n'}]",0,790443,8ab4eb27be4c13c9bab2b3ea700f00a190521bf8,8,2,1,21420,,,0,"Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.

The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/790443/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py']",4,8ab4eb27be4c13c9bab2b3ea700f00a190521bf8,bug/1688137-stable/ussuri," self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized,"," self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked,",16,6
openstack%2Fdevstack~master~I2d5b0c59d5dd33f639ec685b16768325d67e9dbf,openstack/devstack,master,I2d5b0c59d5dd33f639ec685b16768325d67e9dbf,Updated from generate-devstack-plugins-list,MERGED,2021-05-19 06:09:22.000000000,2021-06-04 17:20:07.000000000,2021-06-04 17:16:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-19 06:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c03e95ba7547639fb4a7f994e2e523b9b7e72394', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I2d5b0c59d5dd33f639ec685b16768325d67e9dbf\n'}, {'number': 2, 'created': '2021-06-01 06:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/91e8fd43b9d25145d1e3c5d36f829f1fc6e5b5c5', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I2d5b0c59d5dd33f639ec685b16768325d67e9dbf\n'}, {'number': 3, 'created': '2021-06-03 06:14:10.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cbc0b64a343e31506b43a9395e6a77fcfd6eb70b', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I2d5b0c59d5dd33f639ec685b16768325d67e9dbf\n'}]",0,792070,cbc0b64a343e31506b43a9395e6a77fcfd6eb70b,12,2,3,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I2d5b0c59d5dd33f639ec685b16768325d67e9dbf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/792070/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,c03e95ba7547639fb4a7f994e2e523b9b7e72394,openstack/devstack/plugins,inspur/venus `https://opendev.org/inspur/venus <https://opendev.org/inspur/venus>`__openstack/glance `https://opendev.org/openstack/glance <https://opendev.org/openstack/glance>`__x/devstack-plugin-tobiko `https://opendev.org/x/devstack-plugin-tobiko <https://opendev.org/x/devstack-plugin-tobiko>`__x/networking-l2gw `https://opendev.org/x/networking-l2gw <https://opendev.org/x/networking-l2gw>`__,openstack/devstack-plugin-pika `https://opendev.org/openstack/devstack-plugin-pika <https://opendev.org/openstack/devstack-plugin-pika>`__ openstack/devstack-plugin-zmq `https://opendev.org/openstack/devstack-plugin-zmq <https://opendev.org/openstack/devstack-plugin-zmq>`__openstack/karbor `https://opendev.org/openstack/karbor <https://opendev.org/openstack/karbor>`__ openstack/karbor-dashboard `https://opendev.org/openstack/karbor-dashboard <https://opendev.org/openstack/karbor-dashboard>`__openstack/monasca-analytics `https://opendev.org/openstack/monasca-analytics <https://opendev.org/openstack/monasca-analytics>`__openstack/monasca-ceilometer `https://opendev.org/openstack/monasca-ceilometer <https://opendev.org/openstack/monasca-ceilometer>`__openstack/monasca-log-api `https://opendev.org/openstack/monasca-log-api <https://opendev.org/openstack/monasca-log-api>`__openstack/monasca-transform `https://opendev.org/openstack/monasca-transform <https://opendev.org/openstack/monasca-transform>`__openstack/networking-l2gw `https://opendev.org/openstack/networking-l2gw <https://opendev.org/openstack/networking-l2gw>`__ openstack/networking-midonet `https://opendev.org/openstack/networking-midonet <https://opendev.org/openstack/networking-midonet>`__openstack/os-loganalyze `https://opendev.org/openstack/os-loganalyze <https://opendev.org/openstack/os-loganalyze>`__openstack/qinling `https://opendev.org/openstack/qinling <https://opendev.org/openstack/qinling>`__ openstack/qinling-dashboard `https://opendev.org/openstack/qinling-dashboard <https://opendev.org/openstack/qinling-dashboard>`__openstack/searchlight `https://opendev.org/openstack/searchlight <https://opendev.org/openstack/searchlight>`__ openstack/searchlight-ui `https://opendev.org/openstack/searchlight-ui <https://opendev.org/openstack/searchlight-ui>`__x/tobiko `https://opendev.org/x/tobiko <https://opendev.org/x/tobiko>`__,4,16
openstack%2Fopenstack-tempest-skiplist~master~Ibe235541493180380adad3b63165b6edd6c09541,openstack/openstack-tempest-skiplist,master,Ibe235541493180380adad3b63165b6edd6c09541,make adding a skip more user friendly,MERGED,2021-06-04 16:23:22.000000000,2021-06-04 17:19:51.000000000,2021-06-04 17:15:01.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 16:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5c23a7a2038f96b0626294f3e9c55658207068f5', 'message': ""make adding a skip more user friendly\n\nAdd a softlink for the file users need to add/remove\na skip test.\nAdd some quick doc for those who don't do this often\n\nChange-Id: Ibe235541493180380adad3b63165b6edd6c09541\n""}, {'number': 2, 'created': '2021-06-04 16:27:05.000000000', 'files': ['README.rst', 'tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e4b897ab7e528a0bb359f837cb02b8e299b5ab60', 'message': ""make adding a skip more user friendly\n\nAdd a softlink for the file users need to add/remove\na skip test.\nAdd some quick doc for those who don't do this often\n\nChange-Id: Ibe235541493180380adad3b63165b6edd6c09541\n""}]",0,794861,e4b897ab7e528a0bb359f837cb02b8e299b5ab60,8,2,2,9592,,,0,"make adding a skip more user friendly

Add a softlink for the file users need to add/remove
a skip test.
Add some quick doc for those who don't do this often

Change-Id: Ibe235541493180380adad3b63165b6edd6c09541
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/61/794861/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tempest_skip.yml']",2,5c23a7a2038f96b0626294f3e9c55658207068f5,,roles/validate-tempest/vars/tempest_skip.yml,,8,0
openstack%2Frequirements~master~I652c88b4df194a123c0101109854f9c4d181332a,openstack/requirements,master,I652c88b4df194a123c0101109854f9c4d181332a,Updated from generate-constraints,MERGED,2021-06-03 06:28:51.000000000,2021-06-04 17:19:46.000000000,2021-06-04 17:16:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/acdbcccf37e81cfd5931e1ac334b04f7cb75528c', 'message': 'Updated from generate-constraints\n\nChange-Id: I652c88b4df194a123c0101109854f9c4d181332a\n'}, {'number': 2, 'created': '2021-06-03 21:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f9066c53a422272d11d88de31930af4df5e214be', 'message': 'Updated from generate-constraints\n\nChange-Id: I652c88b4df194a123c0101109854f9c4d181332a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-06-04 07:16:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/000af79860d04c84e708e72b23a997c526093967', 'message': 'Updated from generate-constraints\n\nChange-Id: I652c88b4df194a123c0101109854f9c4d181332a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,794403,000af79860d04c84e708e72b23a997c526093967,18,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I652c88b4df194a123c0101109854f9c4d181332a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/794403/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,acdbcccf37e81cfd5931e1ac334b04f7cb75528c,openstack/requirements/constraints/noclob,neutron-lib===2.12.0XStatic-Angular===1.8.2.1SQLAlchemy===1.4.17 pyroute2===0.6.3eventlet===0.31.0SQLAlchemy-Utils===0.37.6docutils===0.17.1boto3===1.17.86protobuf===3.17.2Sphinx===4.0.2botocore===1.20.86Django===2.2.24pymemcache===3.4.4pkg-resources===0.0.0python-linstor===1.7.3,neutron-lib===2.11.0XStatic-Angular===1.5.8.0SQLAlchemy===1.3.23 pyroute2===0.5.19eventlet===0.30.2SQLAlchemy-Utils===0.37.5docutils===0.16boto3===1.17.85protobuf===3.17.1Sphinx===3.5.4botocore===1.20.85Django===2.2.23pymemcache===3.4.3python-linstor===1.7.1setuptools===57.0.0,15,15
openstack%2Fopenstack-helm-infra~master~I7a956b0136083eefee14a2b751f8b44aa50b6ab9,openstack/openstack-helm-infra,master,I7a956b0136083eefee14a2b751f8b44aa50b6ab9,docs: Update Freenode to OFTC,MERGED,2021-06-02 01:51:36.000000000,2021-06-04 17:19:40.000000000,2021-06-04 17:08:36.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 01:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32961391f0d4b6453246bc80f61116062b38c9c4', 'message': 'docs: Update Freenode to OFTC\n\nhttp: //lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: I7a956b0136083eefee14a2b751f8b44aa50b6ab9\n'}, {'number': 2, 'created': '2021-06-02 01:52:42.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a152194ee7a2b7a45005ebd17375b7771d05353d', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: I7a956b0136083eefee14a2b751f8b44aa50b6ab9\n'}]",0,794077,a152194ee7a2b7a45005ebd17375b7771d05353d,11,5,2,30449,,,0,"docs: Update Freenode to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html
Change-Id: I7a956b0136083eefee14a2b751f8b44aa50b6ab9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/77/794077/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,32961391f0d4b6453246bc80f61116062b38c9c4,,"* Join us on `IRC <irc://chat.oftc.net/openstack-helm>`_: #openstack-helm on oftc [Every Tuesday @ 3PM UTC], #openstack-meeting-alt on oftc","* Join us on `IRC <irc://chat.freenode.net:6697/openstack-helm>`_: #openstack-helm on freenode [Every Tuesday @ 3PM UTC], #openstack-meeting-alt on freenode",6,6
openstack%2Fopenstack-helm-images~master~I91f33dc2afd4f66f2e515ba4db58ae505bb3bc55,openstack/openstack-helm-images,master,I91f33dc2afd4f66f2e515ba4db58ae505bb3bc55,docs: Update Freenode to OFTC,MERGED,2021-06-02 02:11:04.000000000,2021-06-04 17:19:28.000000000,2021-06-04 17:12:46.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 02:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e5acb61739fa41ebcacc94996e8a0427c2dd8bfd', 'message': 'docs: Update Freenode to OFTC\n\nhttp: //lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: I91f33dc2afd4f66f2e515ba4db58ae505bb3bc55\n'}, {'number': 2, 'created': '2021-06-02 02:16:49.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6a233e34cbb6d32338557927259c893cfe039453', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: I91f33dc2afd4f66f2e515ba4db58ae505bb3bc55\n'}]",0,794080,6a233e34cbb6d32338557927259c893cfe039453,13,5,2,30449,,,0,"docs: Update Freenode to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html
Change-Id: I91f33dc2afd4f66f2e515ba4db58ae505bb3bc55
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/80/794080/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,e5acb61739fa41ebcacc94996e8a0427c2dd8bfd,,"* Join us on `IRC <irc://chat.oftc.net/openstack-helm>`_: #openstack-helm on oftc [Every Tuesday @ 3PM UTC], #openstack-meeting-alt on oftc","* Join us on `IRC <irc://chat.freenode.net:6697/openstack-helm>`_: #openstack-helm on freenode [Every Tuesday @ 3PM UTC], #openstack-meeting-alt on freenode",3,3
openstack%2Freleases~master~I3be1607ea03e4a30dcd122501a409f294f52fb1e,openstack/releases,master,I3be1607ea03e4a30dcd122501a409f294f52fb1e,Make final train tags tripleo repos before extended maintenance,MERGED,2021-06-03 12:47:00.000000000,2021-06-04 17:15:33.000000000,2021-06-04 17:15:33.000000000,"[{'_account_id': 3153}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 12:47:00.000000000', 'files': ['deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ba448f0745b81c7443aff403a0a587c38ccc4bd', 'message': 'Make final train tags tripleo repos before extended maintenance\n\nAs discussed at [1] this makes a last train release for the tripleo\nrepos before they are tagged with train-em. This will not be able to\nmerge until [2] does so validations can pass as we are using that\ncommit to tag puppet-tripleo here.\n\n[1] https://review.opendev.org/c/openstack/releases/+/790778/2#message-e8ee1f6febb4780ccbb703bf378bcfc08776a49a\n[2] https://review.opendev.org/c/openstack/puppet-tripleo/+/794575\n\nChange-Id: I3be1607ea03e4a30dcd122501a409f294f52fb1e\n'}]",0,794583,9ba448f0745b81c7443aff403a0a587c38ccc4bd,11,4,1,8449,,,0,"Make final train tags tripleo repos before extended maintenance

As discussed at [1] this makes a last train release for the tripleo
repos before they are tagged with train-em. This will not be able to
merge until [2] does so validations can pass as we are using that
commit to tag puppet-tripleo here.

[1] https://review.opendev.org/c/openstack/releases/+/790778/2#message-e8ee1f6febb4780ccbb703bf378bcfc08776a49a
[2] https://review.opendev.org/c/openstack/puppet-tripleo/+/794575

Change-Id: I3be1607ea03e4a30dcd122501a409f294f52fb1e
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/794583/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/python-tripleoclient.yaml', 'deliverables/train/tripleo-puppet-elements.yaml']",9,9ba448f0745b81c7443aff403a0a587c38ccc4bd,, - version: 11.3.1 projects: - repo: openstack/tripleo-puppet-elements hash: 9d10d8edbd7b3dc50af3a7ab774961e2d23d3cc5,,36,0
openstack%2Fkeystone~master~I8ab9e15effa05969e3980f64c0799c53fc77dc6a,openstack/keystone,master,I8ab9e15effa05969e3980f64c0799c53fc77dc6a,[WIP] Move fernet utils to backend,ABANDONED,2016-08-17 14:14:37.000000000,2021-06-04 17:06:57.000000000,,"[{'_account_id': 7725}, {'_account_id': 21465}, {'_account_id': 23117}]","[{'number': 1, 'created': '2016-08-17 14:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/78459a31beafe286cac9a933bd6e5ef4806dcfe7', 'message': '[WIP] Move fernet utils to backend\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 2, 'created': '2016-08-18 13:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f92d30fe8cda610e93ee750a42f1e799af9f6591', 'message': '[WIP] Move fernet utils to backend\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 3, 'created': '2016-08-18 15:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3abcce0f5e4636d644e21d6cb2943b4b59b499c5', 'message': '[WIP] Move fernet utils to backend\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 4, 'created': '2016-08-23 14:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/13198778cff8886a212465753ae3f645e5e306b5', 'message': '[WIP] Move fernet utils to backend\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 5, 'created': '2016-08-24 11:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fb0ee25c8c932506617cdd66bb19c25ef0063fce', 'message': '[WIP] Move fernet utils to backend\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 6, 'created': '2016-08-24 12:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cb264627dfc5e7aaa350f1917bd8025c06e750af', 'message': '[WIP] Move fernet utils to backend\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 7, 'created': '2016-08-25 12:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d2eb043f2b425ab46d962bdb0787fc7640d9bc88', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 8, 'created': '2016-08-25 13:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91a4ca4b8bbfd33b576fa0c718ee39d15dc94362', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 9, 'created': '2016-08-26 11:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6a89f3683fb5d8f62a96b0d9153ef4e06711a0a3', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 10, 'created': '2016-08-26 11:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/52f9000954c6647120975ed60a92811ca138d576', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 11, 'created': '2016-08-29 15:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f17f91960d84cf8f9b41726063c08bd8d765c906', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 12, 'created': '2016-08-29 15:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dad2732c35377f1df711b55ff175a13c0dee5b4a', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 13, 'created': '2016-09-01 15:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1ec49d4ad45055cf4a9005d6583437d9b8e1f4e8', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 14, 'created': '2016-09-01 17:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b5d40e0a02002250867e629fad958854ee42579', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 15, 'created': '2016-09-02 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7072528dc11d43062681977fb6c147e746f131ca', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 16, 'created': '2016-09-02 13:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c04bc2a8d489da50d7579b7b751d32317229a2b2', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 17, 'created': '2016-09-05 10:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d58551e464501fab3866763d4441d3073475cb4f', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 18, 'created': '2016-09-08 13:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2e8c2dae21b309e8a914eab5636a1968875b84ba', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}, {'number': 19, 'created': '2016-09-09 13:26:01.000000000', 'files': ['keystone/conf/fernet_tokens.py', 'keystone/tests/unit/test_v2.py', 'keystone/common/fernet_key_store/core.py', 'keystone/common/fernet_key_store/backends/__init__.py', 'keystone/common/fernet_key_store/backends/files.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/tests/unit/test_token_provider.py', 'keystone/tests/unit/common/test_utils.py', 'keystone/tests/unit/credential/test_fernet_provider.py', 'keystone/common/fernet_key_store/__init__.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_credential.py', 'keystone/tests/unit/test_v3_oauth1.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/cmd/cli.py', 'keystone/token/providers/fernet/core.py', 'keystone/tests/unit/test_auth.py', 'keystone/common/fernet_utils.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'keystone/server/backends.py', 'setup.cfg', 'keystone/common/fernet_key_store/backends/base.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c9988b2b02f15667bdc0e028677baf68eb8cb09f', 'message': '[WIP] Move fernet utils to backend\n\nThis change adds manager for fernet key store and moves current fernet key\nutils to new backend. This change serves to allow the implementation of\nadditional backends that will store fernet keys.\n\nPartially-implements: blueprint fernet-key-store\n\nChange-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a\n'}]",5,356499,c9988b2b02f15667bdc0e028677baf68eb8cb09f,61,3,19,21465,,,0,"[WIP] Move fernet utils to backend

This change adds manager for fernet key store and moves current fernet key
utils to new backend. This change serves to allow the implementation of
additional backends that will store fernet keys.

Partially-implements: blueprint fernet-key-store

Change-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/99/356499/18 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/fernet_tokens.py', 'keystone/common/fernet_key_store/__init__.py', 'keystone/common/fernet_key_store/core.py', 'keystone/common/fernet_key_store/backends/__init__.py', 'keystone/common/fernet_utils.py', 'keystone/common/fernet_key_store/backends/files.py', 'keystone/server/backends.py', 'setup.cfg', 'keystone/common/fernet_key_store/backends/base.py']",9,78459a31beafe286cac9a933bd6e5ef4806dcfe7,bp/fernet-key-store,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc import six from keystone import exception @six.add_metaclass(abc.ABCMeta) class FernetUtilsDriver(object): @abc.abstractmethod def validate_key_repository(): raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def create_key_directory(): raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def initialize_key_repository(): raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def rotate_keys(): """"""Create a new primary key and revoke excess active keys. Key rotation utilizes the following behaviors: - The highest key number is used as the primary key (used for encryption). - All keys can be used for decryption. - New keys are always created as key ""0,"" which serves as a placeholder before promoting it to be the primary key. This strategy allows you to safely perform rotation on one node in a cluster, before syncing the results of the rotation to all other nodes (during both key rotation and synchronization, all nodes must recognize all primary keys). """""" raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def load_keys(): """"""Load keys from disk into a list. The first key in the list is the primary key used for encryption. All other keys are active secondary keys that can be used for decrypting tokens. """""" raise exception.NotImplemented() # pragma: no cover ",,427,182
openstack%2Fkeystone~master~I5aefc47d2a0dc81ac7a3655c6cb500331b0680a1,openstack/keystone,master,I5aefc47d2a0dc81ac7a3655c6cb500331b0680a1,WiP: make cache invalidation safe,ABANDONED,2016-01-29 15:55:50.000000000,2021-06-04 17:06:54.000000000,,"[{'_account_id': 7725}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-01-29 15:55:50.000000000', 'files': ['keystone/common/cache/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/76d07aaf9e5d021d179a154ee29d8f46a7224cdb', 'message': 'WiP: make cache invalidation safe\n\nChange-Id: I5aefc47d2a0dc81ac7a3655c6cb500331b0680a1\n'}]",1,274129,76d07aaf9e5d021d179a154ee29d8f46a7224cdb,9,2,1,7725,,,0,"WiP: make cache invalidation safe

Change-Id: I5aefc47d2a0dc81ac7a3655c6cb500331b0680a1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/274129/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/cache/core.py'],1,76d07aaf9e5d021d179a154ee29d8f46a7224cdb,," dogpile_decorator = cache.get_memoization_decorator( CONF, region, group, expiration_group=expiration_group) class safe_invalidate_cache(object): def __call__(self, _callable): decorated_method = dogpile_decorator(_callable) def invalidate(*args, **kwargs): try: return original_invalidate(*args, **kwargs) except Exception as e: pass # TODO(dstanek): log this! original_invalidate = decorated_method.invalidate decorated_method.invalidate = invalidate return decorated_method def __getattr__(self, name): return getattr(dogpile_decorator, name) return safe_invalidate_cache()"," return cache.get_memoization_decorator(CONF, region, group, expiration_group=expiration_group)",20,2
openstack%2Fkeystone~master~I8e5f32d31b7cbc541143078834889b16110d261a,openstack/keystone,master,I8e5f32d31b7cbc541143078834889b16110d261a,Added app for policy enforcement,ABANDONED,2016-05-17 14:22:26.000000000,2021-06-04 17:06:50.000000000,,"[{'_account_id': 13055}, {'_account_id': 17860}, {'_account_id': 21465}]","[{'number': 1, 'created': '2016-05-17 14:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fa1c7ef4abfaaa7af5b05a10b44294eca1564ba1', 'message': 'Added app for policy enforcement\n\nAdded driver and controller to keystone/policy that will handle HttpCheck\nrequests from oslo policy\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 2, 'created': '2016-05-18 13:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5f5ee3e6d68ce130757890194e03749860d66408', 'message': 'Added app for policy enforcement\n\nAdded driver and controller to keystone/policy that will handle HttpCheck\nrequests from oslo policy\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 3, 'created': '2016-05-19 11:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ece923cbaff4e31716565f874f34317abe088fc9', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 4, 'created': '2016-05-24 15:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7d1450a83937227cb8aafa2f3047e3d13fbf6d7', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 5, 'created': '2016-05-25 15:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f52c271f6d64517e3f0d772db77ecaa0bde3faef', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 6, 'created': '2016-05-26 12:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/615a6ea8d22b6dfd7125cac3caa19edcefae6012', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 7, 'created': '2016-05-27 13:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9032e0ad0aa80cd043f5388b16f04d54ec3754a1', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 8, 'created': '2016-05-30 14:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/318ba381c9e2f8c1ae6c6fea7e02e8ad2755a659', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}, {'number': 9, 'created': '2016-06-01 10:25:35.000000000', 'files': ['etc/keystone-paste.ini', 'keystone/policy/controllers.py', 'keystone/common/config.py', 'keystone/tests/unit/test_v3_policy.py', 'keystone/version/service.py', 'keystone/policy/routers.py', 'keystone/policy/backends/static.py', 'etc/custom_policy.json', 'keystone/server/backends.py', 'setup.cfg', 'etc/policy.json', 'keystone/policy/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ced7dfe67fee1fd43083a68a85e8def7b9a288ad', 'message': 'Added app for policy enforcement\n\nAdded keystone policy controller to keystone/policy/controller.py that\nwill handle URL policy check requests. URL must be described in rule in\npolicy.json. URL mapped to /policy_enforcement\n\nChange-Id: I8e5f32d31b7cbc541143078834889b16110d261a\n'}]",0,317529,ced7dfe67fee1fd43083a68a85e8def7b9a288ad,34,3,9,21465,,,0,"Added app for policy enforcement

Added keystone policy controller to keystone/policy/controller.py that
will handle URL policy check requests. URL must be described in rule in
policy.json. URL mapped to /policy_enforcement

Change-Id: I8e5f32d31b7cbc541143078834889b16110d261a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/317529/9 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/policy/controllers.py', 'keystone/version/service.py', 'keystone/policy/routers.py', 'setup.cfg']",4,fa1c7ef4abfaaa7af5b05a10b44294eca1564ba1,, policy_enforcement = keystone.version.service:policy_enforcement_app_factory,,22,0
openstack%2Fkeystone~master~Ie338520ea438e9e5056f4a1481cd1b1fccef860d,openstack/keystone,master,Ie338520ea438e9e5056f4a1481cd1b1fccef860d,Add manager and base interface for fernet key store,ABANDONED,2016-08-29 17:03:08.000000000,2021-06-04 17:06:48.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 17860}, {'_account_id': 21465}]","[{'number': 1, 'created': '2016-08-29 17:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f3e858db1eab5e32bdf15cd7d63be03e59e6130e', 'message': 'Add manager and base interface for fernet key store\n\nThis change add new manager and base interface required for\nimplementation of fernet key store.\n\nThis patch is a preparation for moving the current key managment logic in\nbackend and also allows to implement alternate backends for storage of\nfernet keys.\n\nChange-Id: Ie338520ea438e9e5056f4a1481cd1b1fccef860d\nPartially-implements: blueprint fernet-key-store\n'}, {'number': 2, 'created': '2016-09-12 11:49:53.000000000', 'files': ['keystone/common/fernet_key_store/__init__.py', 'keystone/common/fernet_key_store/core.py', 'keystone/common/fernet_key_store/backends/__init__.py', 'keystone/common/fernet_key_store/backends/base.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd194f38a56e5cd4f10adfc8974abda09dfa6962', 'message': 'Add manager and base interface for fernet key store\n\nThis change add new manager and base interface required for\nimplementation of fernet key store.\n\nThis patch is a preparation for moving the current key managment logic in\nbackend and also allows to implement alternate backends for storage of\nfernet keys.\n\nChange-Id: Ie338520ea438e9e5056f4a1481cd1b1fccef860d\nPartially-implements: blueprint fernet-key-store\n'}]",8,362283,dd194f38a56e5cd4f10adfc8974abda09dfa6962,14,7,2,21465,,,0,"Add manager and base interface for fernet key store

This change add new manager and base interface required for
implementation of fernet key store.

This patch is a preparation for moving the current key managment logic in
backend and also allows to implement alternate backends for storage of
fernet keys.

Change-Id: Ie338520ea438e9e5056f4a1481cd1b1fccef860d
Partially-implements: blueprint fernet-key-store
",git fetch https://review.opendev.org/openstack/keystone refs/changes/83/362283/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/fernet_key_store/__init__.py', 'keystone/common/fernet_key_store/core.py', 'keystone/common/fernet_key_store/backends/__init__.py', 'keystone/common/fernet_key_store/backends/base.py']",4,f3e858db1eab5e32bdf15cd7d63be03e59e6130e,bp/fernet-key-store,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc import six from keystone import exception @six.add_metaclass(abc.ABCMeta) class FernetUtilsDriver(object): @abc.abstractmethod def validate_key_repository(): """"""Validate permissions on the key repository directory."""""" raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def create_key_directory(): """"""Attempt to create the key directory. Create key directory if it doesn't exist and if it is necessary. """""" raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def initialize_key_repository(): """"""Create a key repository and bootstrap it with a key."""""" raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def rotate_keys(): """"""Create a new primary key and revoke excess active keys. Key rotation utilizes the following behaviors: - The highest key number is used as the primary key (used for encryption). - All keys can be used for decryption. - New keys are always created as key ""0,"" which serves as a placeholder before promoting it to be the primary key. """""" raise exception.NotImplemented() # pragma: no cover @abc.abstractmethod def load_keys(): """"""Load keys from repository into a list. The first key in the list is the primary key used for encryption. All other keys are active secondary keys that can be used for decrypting tokens. """""" raise exception.NotImplemented() # pragma: no cover ",,132,0
openstack%2Fkeystone~master~I93912954c62ad50cf40887ef28b701b0f487216a,openstack/keystone,master,I93912954c62ad50cf40887ef28b701b0f487216a,Adds support for array in the values of the endpoint group definition,ABANDONED,2016-11-18 15:31:34.000000000,2021-06-04 17:06:44.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 5575}]","[{'number': 1, 'created': '2016-11-18 15:31:34.000000000', 'files': ['keystone/catalog/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4a44a278c7ec739e0dc3d196f16ba2ee6624354', 'message': 'Adds support for array in the values of the endpoint group definition\n\nModifies the catalog to support arrays as the value of the endpoint\ngroup filters. This requires modifications at API level.\n\nChange-Id: I93912954c62ad50cf40887ef28b701b0f487216a\nCloses-Bug: #1642985\n'}]",3,399638,e4a44a278c7ec739e0dc3d196f16ba2ee6624354,7,3,1,5575,,,0,"Adds support for array in the values of the endpoint group definition

Modifies the catalog to support arrays as the value of the endpoint
group filters. This requires modifications at API level.

Change-Id: I93912954c62ad50cf40887ef28b701b0f487216a
Closes-Bug: #1642985
",git fetch https://review.opendev.org/openstack/keystone refs/changes/38/399638/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/catalog/core.py'],1,e4a44a278c7ec739e0dc3d196f16ba2ee6624354,bug/1642985," if not isinstance(value, list): value = [value] if endpoint[key] not in value:", if endpoint[key] != value:,3,1
openstack%2Fkeystone~master~Ie99f1c0aa8b3c8ff80082496389ed5446384f69b,openstack/keystone,master,Ie99f1c0aa8b3c8ff80082496389ed5446384f69b,Pass request back into wsgi render_reponse,ABANDONED,2016-06-16 17:32:32.000000000,2021-06-04 17:06:40.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 7191}, {'_account_id': 10873}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-16 17:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d912ea7cb168da6bb37fd9a033e71dd022e0e133', 'message': 'Pass request back into wsgi render_reponse\n\nIn follow on patches for microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nPartially implements: microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}, {'number': 2, 'created': '2016-06-28 08:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c159d0478ac2b8ddb72c76bc8b592a06fc56e419', 'message': 'Pass request back into wsgi render_reponse\n\nIn follow on patches for microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nPartially implements: microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}, {'number': 3, 'created': '2016-12-08 15:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce97edc6084855a546efa05f12311287b1840e17', 'message': 'Pass request back into wsgi render_reponse\n\nIn the future, for things like microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nPartially implements: microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}, {'number': 4, 'created': '2016-12-08 15:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8670aac265b74a6485362746c685ffba9da73d85', 'message': 'Pass request back into wsgi render_reponse\n\nIn the future, for things like microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nPartially implements: microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}, {'number': 5, 'created': '2017-09-13 20:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d17a4b5b6a8a5e8084d3ef3acba91100426a6a77', 'message': 'Pass request back into wsgi render_reponse\n\nIn the future, for things like microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nPartially implements: microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}, {'number': 6, 'created': '2017-09-21 13:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3c4e10003ac29e4377ec07f8a0597f931d4400c4', 'message': 'Pass request back into wsgi render_reponse\n\nIn the future, for things like microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nPartially implements: microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}, {'number': 7, 'created': '2017-11-16 15:26:17.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/contrib/ec2/controllers.py', 'keystone/middleware/core.py', 'keystone/contrib/s3/core.py', 'keystone/common/wsgi.py', 'keystone/federation/controllers.py', 'keystone/version/controllers.py', 'keystone/assignment/controllers.py', 'keystone/resource/controllers.py', 'keystone/tests/unit/test_wsgi.py', 'keystone/tests/unit/test_exception.py', 'keystone/oauth1/controllers.py', 'keystone/catalog/controllers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/32789ab56550b4091b0be52845fcf8c18298f404', 'message': 'Pass request back into wsgi render_reponse\n\nIn the future, for things like microversion support, we need to be\nboth set the version in operation in the request as it is\npassed to controllers, as well as to be able to use the\nversion in the request to add it to the response block.\n\nIn preparation for this, we pass the request that was handed to\nthe controller back into wsgi render response.\n\nThere were a couple of places where the recent change to add\nthe request to the controller signature had been missed, which\nare also corrected here.\n\nWork towards the support of microversions is tracked here:\nhttps://trello.com/c/3AtmXIUs/11-microversions-assessment\n\nPartially implements: bp microversions\nChange-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b\n'}]",7,330720,32789ab56550b4091b0be52845fcf8c18298f404,25,8,7,5707,,,0,"Pass request back into wsgi render_reponse

In the future, for things like microversion support, we need to be
both set the version in operation in the request as it is
passed to controllers, as well as to be able to use the
version in the request to add it to the response block.

In preparation for this, we pass the request that was handed to
the controller back into wsgi render response.

There were a couple of places where the recent change to add
the request to the controller signature had been missed, which
are also corrected here.

Work towards the support of microversions is tracked here:
https://trello.com/c/3AtmXIUs/11-microversions-assessment

Partially implements: bp microversions
Change-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/330720/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/contrib/ec2/controllers.py', 'keystone/middleware/core.py', 'keystone/common/wsgi.py', 'keystone/federation/controllers.py', 'keystone/version/controllers.py', 'keystone/assignment/controllers.py', 'keystone/resource/controllers.py', 'keystone/tests/unit/test_wsgi.py', 'keystone/tests/unit/test_exception.py', 'keystone/oauth1/controllers.py', 'keystone/catalog/controllers.py']",12,d912ea7cb168da6bb37fd9a033e71dd022e0e133,wsgi_request2," request,",,104,54
openstack%2Fkeystone~master~Idcb096a951f097230cfbd63eebad1fc61191a0af,openstack/keystone,master,Idcb096a951f097230cfbd63eebad1fc61191a0af,Endpoint Grouping Proof of Concept,ABANDONED,2014-03-26 16:20:43.000000000,2021-06-04 17:06:22.000000000,,"[{'_account_id': 1916}, {'_account_id': 7052}, {'_account_id': 11045}]","[{'number': 1, 'created': '2014-03-26 16:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8b48f89a9e1d5e1be5fec9cc77492856ce77faf9', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 2, 'created': '2014-03-28 18:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1043ed4d4a35a1366d864f5f08af366b02e8ef47', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 3, 'created': '2014-04-04 22:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2dc4a01c9230eb4a4281c59b030469e6d7d8ecf7', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 4, 'created': '2014-04-08 01:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/febdfaf6790cab4056d74444103b72ac245e0a97', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 5, 'created': '2014-04-08 01:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3360832dfdc197b7b830629e673ae95adbeeb93', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 6, 'created': '2014-04-08 15:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d299f07a84c5ec2929ebd5222917ec33c85c1488', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 7, 'created': '2014-04-09 15:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/12cd76ee67bd9b7e4e96b5031a63b0ac2e538f28', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 8, 'created': '2014-04-09 20:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/779cff4a4c0a094228094af577ac86c7515637b2', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 9, 'created': '2014-04-14 07:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/531fba0171969f0bbdfc69d1ec5b362957141878', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}, {'number': 10, 'created': '2014-04-14 09:08:35.000000000', 'files': ['etc/keystone-paste.ini', 'keystone/contrib/endpoint_grouping/__init__.py', 'keystone/contrib/endpoint_grouping/controllers.py', 'keystone/common/config.py', 'keystone/contrib/endpoint_grouping/migrate_repo/versions/001_add_endpoint_grouping_table.py', 'keystone/contrib/endpoint_grouping/migrate_repo/versions/__init__.py', 'keystone/contrib/endpoint_grouping/migrate_repo/migrate.cfg', 'etc/policy.v3cloudsample.json', 'keystone/contrib/endpoint_grouping/core.py', 'keystone/contrib/endpoint_grouping/backends/__init__.py', 'etc/keystone.conf.sample', 'keystone/contrib/endpoint_grouping/backends/catalog_sql.py', 'keystone/service.py', 'keystone/contrib/endpoint_grouping/routers.py', 'keystone/contrib/endpoint_grouping/migrate_repo/__init__.py', 'keystone/contrib/endpoint_grouping/backends/sql.py', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4b4a1d4cd9d5ee4bc151e04d8ad6ebb2a6c603b', 'message': 'Endpoint Grouping Proof of Concept\n\nThis is a PoC for the Endpoint Grouping idea.\nThe code needs to be preceded by an API change in the extensions\nfolder describing the API syntax, behaviour and return statuses.\n\nChange-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af\n'}]",0,83119,c4b4a1d4cd9d5ee4bc151e04d8ad6ebb2a6c603b,10,3,10,7052,,,0,"Endpoint Grouping Proof of Concept

This is a PoC for the Endpoint Grouping idea.
The code needs to be preceded by an API change in the extensions
folder describing the API syntax, behaviour and return statuses.

Change-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/83119/6 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/contrib/endpoint_grouping/__init__.py', 'keystone/contrib/endpoint_grouping/controllers.py', 'keystone/contrib/endpoint_grouping/backends/catalog_sql.py', 'keystone/contrib/endpoint_grouping/migrate_repo/versions/__init__.py', 'keystone/contrib/endpoint_grouping/routers.py', 'keystone/contrib/endpoint_grouping/migrate_repo/__init__.py', 'keystone/contrib/endpoint_grouping/migrate_repo/migrate.cfg', 'keystone/contrib/endpoint_grouping/core.py', 'keystone/contrib/endpoint_grouping/backends/sql.py', 'keystone/contrib/endpoint_grouping/migrate_repo/versions/001_add_endpoint_filtering_table.py', 'keystone/contrib/endpoint_grouping/backends/__init__.py']",11,8b48f89a9e1d5e1be5fec9cc77492856ce77faf9,endpoint_grouping_fixed,,,495,0
openstack%2Fbarbican~stable%2Frocky~Id91f44e8053cf4f40224959021d43736d5525107,openstack/barbican,stable/rocky,Id91f44e8053cf4f40224959021d43736d5525107,Fix stable/rocky gates,ABANDONED,2020-10-30 12:40:28.000000000,2021-06-04 16:59:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-30 12:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fec75d25c279a304284a1c4c737a930bd79151bf', 'message': 'Fix stable/train gates\n\nThis patch is a partial backport of\n\nhttps://review.opendev.org/#/c/685492/\n\nThis patch includes the date fixes for the functional tests and\na documentation fix.\n\nChange-Id: Id91f44e8053cf4f40224959021d43736d5525107\n(cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d)\n'}, {'number': 2, 'created': '2020-10-30 13:16:35.000000000', 'files': ['doc/source/contributor/plugin/crypto.rst', 'functionaltests/api/v1/smoke/test_containers.py', 'functionaltests/api/v1/smoke/test_consumers.py', 'functionaltests/api/v1/functional/test_containers.py', 'functionaltests/api/v1/functional/test_secrets.py', 'functionaltests/api/v1/smoke/test_secrets.py', 'functionaltests/api/v1/functional/test_acls.py', 'functionaltests/api/v1/functional/test_consumers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d77f7ab4a85877f2b7a307c370bccea57c4a7ca', 'message': 'Fix stable/rocky gates\n\nThis patch is a partial backport of\n\nhttps://review.opendev.org/#/c/685492/\n\nThis patch includes the date fixes for the functional tests and\na documentation fix.\n\nChange-Id: Id91f44e8053cf4f40224959021d43736d5525107\n(cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d)\n'}]",0,760547,0d77f7ab4a85877f2b7a307c370bccea57c4a7ca,5,1,2,7973,,,0,"Fix stable/rocky gates

This patch is a partial backport of

https://review.opendev.org/#/c/685492/

This patch includes the date fixes for the functional tests and
a documentation fix.

Change-Id: Id91f44e8053cf4f40224959021d43736d5525107
(cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/47/760547/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/plugin/crypto.rst', 'functionaltests/api/v1/smoke/test_containers.py', 'functionaltests/api/v1/smoke/test_consumers.py', 'functionaltests/api/v1/functional/test_containers.py', 'functionaltests/api/v1/functional/test_secrets.py', 'functionaltests/api/v1/smoke/test_secrets.py', 'functionaltests/api/v1/functional/test_acls.py', 'functionaltests/api/v1/functional/test_consumers.py']",8,fec75d25c279a304284a1c4c737a930bd79151bf,," ""expiration"": ""2030-02-28T19:14:44.180394"","," ""expiration"": ""2020-02-28T19:14:44.180394"",",11,11
openstack%2Fglance~master~I4315bfd68e5a184305f384705e35c4049f75b906,openstack/glance,master,I4315bfd68e5a184305f384705e35c4049f75b906,Make taskflow_executor log get_flow() exceptions,MERGED,2021-06-02 15:08:00.000000000,2021-06-04 16:53:35.000000000,2021-06-03 07:47:43.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/89fa1d650f5b384a630c7b495e82518f48d72433', 'message': 'Make taskflow_executor log get_flow() exceptions\n\nCurrently an exception raised in a get_flow() task builder will be\nsilently swallowed with no logging. This patch makes us log it and\nthen re-raise it so that it will be visible.\n\nChange-Id: I4315bfd68e5a184305f384705e35c4049f75b906\n'}, {'number': 2, 'created': '2021-06-02 17:48:20.000000000', 'files': ['glance/tests/unit/async_/test_taskflow_executor.py', 'glance/async_/taskflow_executor.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a854fcfab8bfeecbfb77497430dcfad36bbcb712', 'message': 'Make taskflow_executor log get_flow() exceptions\n\nCurrently an exception raised in a get_flow() task builder will be\nsilently swallowed with no logging. This patch makes us log it and\nthen re-raise it so that it will be visible.\n\nChange-Id: I4315bfd68e5a184305f384705e35c4049f75b906\n'}]",0,794244,a854fcfab8bfeecbfb77497430dcfad36bbcb712,13,2,2,4393,,,0,"Make taskflow_executor log get_flow() exceptions

Currently an exception raised in a get_flow() task builder will be
silently swallowed with no logging. This patch makes us log it and
then re-raise it so that it will be visible.

Change-Id: I4315bfd68e5a184305f384705e35c4049f75b906
",git fetch https://review.opendev.org/openstack/glance refs/changes/44/794244/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/test_taskflow_executor.py', 'glance/async_/taskflow_executor.py']",2,89fa1d650f5b384a630c7b495e82518f48d72433,bp/glance-unified-quotas," except Exception as e: LOG.exception(_LE('Task initialization failed: %s'), str(e)) raise",,15,0
openstack%2Fpython-tripleoclient~master~I307bbf28dc3ee447a6ed704b5f956118d2099e07,openstack/python-tripleoclient,master,I307bbf28dc3ee447a6ed704b5f956118d2099e07,Don't allow --config-download-only with --baremetal-deployment,MERGED,2021-05-26 02:38:42.000000000,2021-06-04 16:48:14.000000000,2021-06-04 16:46:17.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-26 02:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c1b641d272536c244a8601d1a5ed18396cfae47', 'message': ""Don't allow --config-download-only with --baremetal-deployment\n\nWe would need the stack to be updated for newly provisioned\nnodes.\n\nChange-Id: I307bbf28dc3ee447a6ed704b5f956118d2099e07\n""}, {'number': 2, 'created': '2021-05-26 02:50:23.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8800f06c940cc6326d655d33641cf0b0603b215c', 'message': ""Don't allow --config-download-only with --baremetal-deployment\n\nWe would need the stack to be updated for newly provisioned\nnodes. Therefore --config-download-only and --setup-only\nwould not work with --baremetal-deployment.\n\nChange-Id: I307bbf28dc3ee447a6ed704b5f956118d2099e07\n""}]",2,793086,8800f06c940cc6326d655d33641cf0b0603b215c,19,5,2,8833,,,0,"Don't allow --config-download-only with --baremetal-deployment

We would need the stack to be updated for newly provisioned
nodes. Therefore --config-download-only and --setup-only
would not work with --baremetal-deployment.

Change-Id: I307bbf28dc3ee447a6ed704b5f956118d2099e07
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/793086/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,5c1b641d272536c244a8601d1a5ed18396cfae47,network-data-v2-fixes," if (parsed_args.baremetal_deployment and parsed_args.config_download_only): raise oscexc.CommandError( ""Error: --config-download-only must not be used when using "" ""--baremetal-deployment"") ",,6,0
openstack%2Ftripleo-common~stable%2Fwallaby~Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25,openstack/tripleo-common,stable/wallaby,Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25,Make the clustercheck healthcheck work with socat,MERGED,2021-06-03 17:55:29.000000000,2021-06-04 16:40:43.000000000,2021-06-04 16:39:09.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 17:55:29.000000000', 'files': ['healthcheck/mariadb'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4197668875d22ac23e10ccdb5f8a7b47d31eef02', 'message': 'Make the clustercheck healthcheck work with socat\n\nSince [1] clustercheck can now use socat instead of xinetd,\nso make sure the clustercheck healthcheck gets configured\nwith the right information based on which method is used.\n\nTested by deploying a standone with socat, and another one\nwith xinetd.\n\n[1] I7d87b5861a576cf4849a25cd1d3f5e77568de1e4\n\nChange-Id: Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25\nCloses-Bug: #1930399\n(cherry picked from commit 37369ca44b603537b72a57d628b1bfc121d7e6ef)\n'}]",0,794623,4197668875d22ac23e10ccdb5f8a7b47d31eef02,9,4,1,14985,,,0,"Make the clustercheck healthcheck work with socat

Since [1] clustercheck can now use socat instead of xinetd,
so make sure the clustercheck healthcheck gets configured
with the right information based on which method is used.

Tested by deploying a standone with socat, and another one
with xinetd.

[1] I7d87b5861a576cf4849a25cd1d3f5e77568de1e4

Change-Id: Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25
Closes-Bug: #1930399
(cherry picked from commit 37369ca44b603537b72a57d628b1bfc121d7e6ef)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/794623/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/mariadb'],1,4197668875d22ac23e10ccdb5f8a7b47d31eef02,bug/1930399-stable/wallaby,"SOCAT_CONF=/etc/sysconfig/clustercheck IS_MYSQL= # If the mariadb container is running xinetd with galera-monitor or socat then # it is a clustercheck container, otherwise a mysql/mariadb oneelif pgrep -a socat 2> /dev/null | grep -w clustercheck; then TRIPLEO_SOCAT_BIND=$(sed -nE ""s/^TRIPLEO_SOCAT_BIND='?([^']*)'?$/\1/p"" $SOCAT_CONF) PORT=$(echo $TRIPLEO_SOCAT_BIND | sed -n -E 's/.*listen:([0-9]*),.*/\1/p') ADDR=$(echo $TRIPLEO_SOCAT_BIND | sed -n -E 's/.*bind=""?([^"",]*)""?,?.*/\1/p') else IS_MYSQL=1 fi if [ -n ""$IS_MYSQL"" ]; then mysql -e 'select 1' || exit 1 else"," # If the mariadb container is running xinetd with galera-monitor then it is a # clustercheck container, otherwise a mysql/mariadb oneelse mysql -e 'select 1' || exit 1",15,4
openstack%2Fironic-python-agent~master~If890baf3545cff6cef7c645c42e7f9d9038c9aa7,openstack/ironic-python-agent,master,If890baf3545cff6cef7c645c42e7f9d9038c9aa7,Refactor: use convert_image from ironic_lib,MERGED,2021-06-01 12:07:49.000000000,2021-06-04 16:37:28.000000000,2021-06-04 16:35:00.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-01 12:07:49.000000000', 'files': ['requirements.txt', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33d889c3c4d85cdd272ced73951459edf7a6adb5', 'message': 'Refactor: use convert_image from ironic_lib\n\nChange-Id: If890baf3545cff6cef7c645c42e7f9d9038c9aa7\n'}]",2,793955,33d889c3c4d85cdd272ced73951459edf7a6adb5,10,3,1,10239,,,0,"Refactor: use convert_image from ironic_lib

Change-Id: If890baf3545cff6cef7c645c42e7f9d9038c9aa7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/55/793955/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py']",3,33d889c3c4d85cdd272ced73951459edf7a6adb5,convert_image," disk_utils.convert_image(image, device, out_format='host_device', cache='directsync', out_of_order=True)","from oslo_utils import units # TODO(dtantsur): switch to disk_utils.convert_image when it supports # -t and -W flags and defaults to 2 GiB memory limit. limits = processutils.ProcessLimits(address_space=2048 * units.Mi) # TODO(TheJulia): qemu-img uses a default of 8 * nCPU to determine # how many chunks of memory to allocate based upon the discussion in # https://bugzilla.redhat.com/show_bug.cgi?id=1892773. # Setting MALLOC_AREA_MAX=1 results in a process memory footprint of # ~250mb. Setting it to 3 will allow for multiple areas, but won't # greatly exceed the footprint. env_vars = {'MALLOC_ARENA_MAX': '3'} # Entirely disabling threading results in the same memory footprint # as 1 areana, but multiple threads are useful for performance # as the file could be fragmented/compressed. utils.execute(*command, prlimit=limits, env_variables=env_vars)",14,28
openstack%2Fpython-tripleoclient~master~Idbdfef3a38353061a143bdc184aee7935305b4d1,openstack/python-tripleoclient,master,Idbdfef3a38353061a143bdc184aee7935305b4d1,Move update_args_from_answers_file to utils,ABANDONED,2021-06-04 13:06:07.000000000,2021-06-04 16:36:13.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-04 13:06:07.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/399e3ed994b1f3d4100ea27fdd7b7e27d89de128', 'message': 'Move update_args_from_answers_file to utils\n\nChange-Id: Idbdfef3a38353061a143bdc184aee7935305b4d1\n'}]",0,794803,399e3ed994b1f3d4100ea27fdd7b7e27d89de128,3,1,1,24245,,,0,"Move update_args_from_answers_file to utils

Change-Id: Idbdfef3a38353061a143bdc184aee7935305b4d1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/794803/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,399e3ed994b1f3d4100ea27fdd7b7e27d89de128,overcloud_deploy_cleanup, utils.update_args_from_answers_file(parsed_args)," def _update_args_from_answers_file(self, args): if args.answers_file is not None: with open(args.answers_file, 'r') as answers_file: answers = yaml.safe_load(answers_file) if args.templates is None: args.templates = answers['templates'] if 'environments' in answers: if args.environment_files is not None: answers['environments'].extend(args.environment_files) args.environment_files = answers['environments'] self._update_args_from_answers_file(parsed_args)",16,13
openstack%2Fcastellan~master~I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,openstack/castellan,master,I242da5c4fcc3096a47f85bd8a265ad8f072b2a30,Add missing font for PDF doc generation,MERGED,2021-06-04 11:40:17.000000000,2021-06-04 16:09:54.000000000,2021-06-04 16:08:13.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-04 11:40:17.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99', 'message': ""Add missing font for PDF doc generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30\n""}]",0,794779,0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99,9,3,1,17685,,,0,"Add missing font for PDF doc generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: I242da5c4fcc3096a47f85bd8a265ad8f072b2a30
",git fetch https://review.opendev.org/openstack/castellan refs/changes/79/794779/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0d0c2f2a9ef3e0842dfa5b49467d11e2be00da99,missing-tgtermes.sty, # PDF Docs package dependencies tex-gyre [doc platform:dpkg],,3,0
openstack%2Fneutron~stable%2Fvictoria~I7950de04c497b14d9225abe6584b7bb7d056f79c,openstack/neutron,stable/victoria,I7950de04c497b14d9225abe6584b7bb7d056f79c,Don't run some more complex CI jobs on unrelated changes,MERGED,2021-03-04 14:23:48.000000000,2021-06-04 16:06:30.000000000,2021-06-04 16:00:57.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 14:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ff41a51f8084c8bfefaae70e2b24cb9fd170c9b', 'message': ""Don't run some more complex CI jobs on unrelated changes\n\nWe don't need to run e.g. functional, fullstack and all scenario jobs\non patches which are changing e.g. only documentation or release notes\nor other things like that.\n\nThis patch also removes test-requirements.txt and requirements.txt files\nfrom that list of unrelated files as we want to run our ci jobs when\nrequirements are changed.\n\nConflicts:\n    zuul.d/project.yaml\n\nChange-Id: I7950de04c497b14d9225abe6584b7bb7d056f79c\n(cherry picked from commit 9d63e4c149716149ce29e71158d9c8ab38170f3d)\n""}, {'number': 2, 'created': '2021-03-12 10:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55c5792d97f3aeb4ae05ba03f52d7d9cf0e6c1ee', 'message': ""Don't run some more complex CI jobs on unrelated changes\n\nWe don't need to run e.g. functional, fullstack and all scenario jobs\non patches which are changing e.g. only documentation or release notes\nor other things like that.\n\nThis patch also removes test-requirements.txt and requirements.txt files\nfrom that list of unrelated files as we want to run our ci jobs when\nrequirements are changed.\n\nConflicts:\n    zuul.d/project.yaml\n\nChange-Id: I7950de04c497b14d9225abe6584b7bb7d056f79c\n(cherry picked from commit 9d63e4c149716149ce29e71158d9c8ab38170f3d)\n""}, {'number': 3, 'created': '2021-03-12 10:41:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f35c8e407d6c30c32dcb2b1c377062e3f0da79c4', 'message': ""Don't run some more complex CI jobs on unrelated changes\n\nWe don't need to run e.g. functional, fullstack and all scenario jobs\non patches which are changing e.g. only documentation or release notes\nor other things like that.\n\nThis patch also removes test-requirements.txt and requirements.txt files\nfrom that list of unrelated files as we want to run our ci jobs when\nrequirements are changed.\n\nConflicts:\n    zuul.d/project.yaml\n\nChange-Id: I7950de04c497b14d9225abe6584b7bb7d056f79c\n(cherry picked from commit 9d63e4c149716149ce29e71158d9c8ab38170f3d)\n""}]",6,778707,f35c8e407d6c30c32dcb2b1c377062e3f0da79c4,24,3,3,11975,,,0,"Don't run some more complex CI jobs on unrelated changes

We don't need to run e.g. functional, fullstack and all scenario jobs
on patches which are changing e.g. only documentation or release notes
or other things like that.

This patch also removes test-requirements.txt and requirements.txt files
from that list of unrelated files as we want to run our ci jobs when
requirements are changed.

Conflicts:
    zuul.d/project.yaml

Change-Id: I7950de04c497b14d9225abe6584b7bb7d056f79c
(cherry picked from commit 9d63e4c149716149ce29e71158d9c8ab38170f3d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/778707/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7ff41a51f8084c8bfefaae70e2b24cb9fd170c9b,improve-neutron-ci-stable/victoria, - neutron-functional-with-uwsgi: - neutron-fullstack-with-uwsgi: irrelevant-files: *irrelevant-files - neutron-rally-task: irrelevant-files: *irrelevant-files - neutron-grenade-multinode: irrelevant-files: *irrelevant-files - neutron-grenade-dvr-multinode: irrelevant-files: *irrelevant-files - neutron-tempest-multinode-full-py3: irrelevant-files: *irrelevant-files - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: *irrelevant-files - neutron-tempest-slow-py3: irrelevant-files: *irrelevant-files - neutron-tempest-ipv6-only: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release: irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files irrelevant-files: *irrelevant-files, - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade-ovn: voting: false - neutron-tempest-linuxbridge - neutron-tempest-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release,21,17
openstack%2Fneutron~stable%2Fvictoria~I0db516b184cf621e4539d11726fe1bd47b53ba05,openstack/neutron,stable/victoria,I0db516b184cf621e4539d11726fe1bd47b53ba05,Disable not used services in the tempest and rally jobs,MERGED,2021-03-04 14:23:48.000000000,2021-06-04 16:04:58.000000000,2021-06-04 16:00:25.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-04 14:23:48.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81f72c617dac50857d8b4d8bc065d44d9b8063c7', 'message': ""Disable not used services in the tempest and rally jobs\n\nWe don't need to run Swift, Cinder and etcd services in the\nNeutron jobs so this patch disables those services on all\nsuch jobs defined in the Neutron repository.\nIt will skip some tests which aren't really related to Neutron\nand will safe some resources on test nodes.\n\nThis patch also enables br-ex-tcpdump and br-int-flows services\nin the jobs where it was missing.\nIt may be useful during debugging some failures of those jobs\nin the future.\n\nDepends-On: https://review.opendev.org/762622\n\nConflicts:\n    zuul.d/tempest-multinode.yaml\n    zuul.d/tempest-singlenode.yaml\n\nChange-Id: I0db516b184cf621e4539d11726fe1bd47b53ba05\n(cherry picked from commit 747ac575249c57fe9fe70413e3a75fe81f18c946)\n""}]",0,778705,81f72c617dac50857d8b4d8bc065d44d9b8063c7,33,6,1,11975,,,0,"Disable not used services in the tempest and rally jobs

We don't need to run Swift, Cinder and etcd services in the
Neutron jobs so this patch disables those services on all
such jobs defined in the Neutron repository.
It will skip some tests which aren't really related to Neutron
and will safe some resources on test nodes.

This patch also enables br-ex-tcpdump and br-int-flows services
in the jobs where it was missing.
It may be useful during debugging some failures of those jobs
in the future.

Depends-On: https://review.opendev.org/762622

Conflicts:
    zuul.d/tempest-multinode.yaml
    zuul.d/tempest-singlenode.yaml

Change-Id: I0db516b184cf621e4539d11726fe1bd47b53ba05
(cherry picked from commit 747ac575249c57fe9fe70413e3a75fe81f18c946)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/778705/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml']",3,81f72c617dac50857d8b4d8bc065d44d9b8063c7,improve-neutron-ci-stable/victoria, # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false, c-api: true c-sch: true c-vol: true c-bak: false,123,5
openstack%2Fpuppet-openstack_extras~master~Ie747273e2ce23fadba0f3946e227ee143c1632db,openstack/puppet-openstack_extras,master,Ie747273e2ce23fadba0f3946e227ee143c1632db,Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0,MERGED,2021-05-25 11:35:12.000000000,2021-06-04 16:04:24.000000000,2021-06-04 16:03:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/e73817391050dc98c1521a73958fa2a3749e5a33', 'message': ""Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0\n\nThe RDO and CentOS Advanced Virt repositories contains\npackages that should be considered hotfixes to version\nfound in Base repo and similar and should have priority\nover them.\n\nThe yumrepo_core [1] change that was released in 1.0.7\nadds the module_hotfixes parameter to yumrepo and it's\nincluded in Puppet >= 6.15.0 which we should set to true\nto make sure packages in RDO and CentOS Advanced Virt\nrepos is considered hotfixes upon base packages.\n\nWhen we only support Puppet 7 and forward we should set\nthis by default for the yumrepo resources.\n\n[1] https://github.com/puppetlabs/puppetlabs-yumrepo_core/pull/28/commits/a14c059b7d0c395ff0bdad04da48716272000637\n\nChange-Id: Ie747273e2ce23fadba0f3946e227ee143c1632db\n""}, {'number': 2, 'created': '2021-05-25 11:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/a9b67ac8543fea2241561280a25e78a23bf4aa3e', 'message': ""Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0\n\nThe RDO and CentOS Advanced Virt repositories contains\npackages that should be considered hotfixes to version\nfound in Base repo and similar and should have priority\nover them.\n\nThe yumrepo_core [1] change that was released in 1.0.7\nadds the module_hotfixes parameter to yumrepo and it's\nincluded in Puppet >= 6.15.0 which we should set to true\nto make sure packages in RDO and CentOS Advanced Virt\nrepos is considered hotfixes upon base packages.\n\nWhen we only support Puppet 7 and forward we should set\nthis by default for the yumrepo resources.\n\n[1] https://github.com/puppetlabs/puppetlabs-yumrepo_core/pull/28/commits/a14c059b7d0c395ff0bdad04da48716272000637\n\nChange-Id: Ie747273e2ce23fadba0f3946e227ee143c1632db\n""}, {'number': 3, 'created': '2021-05-25 15:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/2f9a31352865be6a898c71ea35b7b2ff6ab72f79', 'message': ""Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0\n\nThe RDO and CentOS Advanced Virt repositories contains\npackages that should be considered hotfixes to version\nfound in Base repo and similar and should have priority\nover them.\n\nThe yumrepo_core [1] change that was released in 1.0.7\nadds the module_hotfixes parameter to yumrepo and it's\nincluded in Puppet >= 6.15.0 which we should set to true\nto make sure packages in RDO and CentOS Advanced Virt\nrepos is considered hotfixes upon base packages.\n\nWhen we only support Puppet 7 and forward we should set\nthis by default for the yumrepo resources.\n\n[1] https://github.com/puppetlabs/puppetlabs-yumrepo_core/pull/28/commits/a14c059b7d0c395ff0bdad04da48716272000637\n\nDepends-On: https://review.opendev.org/c/792966\nChange-Id: Ie747273e2ce23fadba0f3946e227ee143c1632db\n""}, {'number': 4, 'created': '2021-06-04 07:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/6336c519289b58fe0993a26e0d29efe90a2a24c6', 'message': ""Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0\n\nThe RDO and CentOS Advanced Virt repositories contains\npackages that should be considered hotfixes to version\nfound in Base repo and similar and should have priority\nover them.\n\nThe yumrepo_core [1] change that was released in 1.0.7\nadds the module_hotfixes parameter to yumrepo and it's\nincluded in Puppet >= 6.15.0 which we should set to true\nto make sure packages in RDO and CentOS Advanced Virt\nrepos is considered hotfixes upon base packages.\n\nWhen we only support Puppet 7 and forward we should set\nthis by default for the yumrepo resources.\n\n[1] https://github.com/puppetlabs/puppetlabs-yumrepo_core/pull/28/commits/a14c059b7d0c395ff0bdad04da48716272000637\n\nDepends-On: https://review.opendev.org/c/792966\nChange-Id: Ie747273e2ce23fadba0f3946e227ee143c1632db\n""}, {'number': 5, 'created': '2021-06-04 07:39:08.000000000', 'files': ['manifests/repo/redhat/redhat.pp', 'releasenotes/notes/set-module-hotfixes-redhat-repo-e03358eb341bf820.yaml', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ad70eae45b4f7354e031e1842c8d8d14317bf666', 'message': ""Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0\n\nThe RDO and CentOS Advanced Virt repositories contains\npackages that should be considered hotfixes to version\nfound in Base repo and similar and should have priority\nover them.\n\nThe yumrepo_core [1] change that was released in 1.0.7\nadds the module_hotfixes parameter to yumrepo and it's\nincluded in Puppet >= 6.15.0 which we should set to true\nto make sure packages in RDO and CentOS Advanced Virt\nrepos is considered hotfixes upon base packages.\n\nWhen we only support Puppet 7 and forward we should set\nthis by default for the yumrepo resources.\n\n[1] https://github.com/puppetlabs/puppetlabs-yumrepo_core/pull/28/commits/a14c059b7d0c395ff0bdad04da48716272000637\n\nDepends-On: https://review.opendev.org/c/792966\nChange-Id: Ie747273e2ce23fadba0f3946e227ee143c1632db\n""}]",2,792952,ad70eae45b4f7354e031e1842c8d8d14317bf666,20,3,5,16137,,,0,"Set module_hotfixes=true for yumrepo if Puppet >= 6.15.0

The RDO and CentOS Advanced Virt repositories contains
packages that should be considered hotfixes to version
found in Base repo and similar and should have priority
over them.

The yumrepo_core [1] change that was released in 1.0.7
adds the module_hotfixes parameter to yumrepo and it's
included in Puppet >= 6.15.0 which we should set to true
to make sure packages in RDO and CentOS Advanced Virt
repos is considered hotfixes upon base packages.

When we only support Puppet 7 and forward we should set
this by default for the yumrepo resources.

[1] https://github.com/puppetlabs/puppetlabs-yumrepo_core/pull/28/commits/a14c059b7d0c395ff0bdad04da48716272000637

Depends-On: https://review.opendev.org/c/792966
Change-Id: Ie747273e2ce23fadba0f3946e227ee143c1632db
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/52/792952/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/redhat.pp', 'releasenotes/notes/set-module-hotfixes-redhat-repo-e03358eb341bf820.yaml', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,e73817391050dc98c1521a73958fa2a3749e5a33,," :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/$basearch/openstack-victoria/"", :descr => ""OpenStack Victoria Repository"", :gpgkey => 'file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Cloud', :enabled => '1', :gpgcheck => '1', :mirrorlist => 'absent', :module_hotfixes => true, :notify => 'Exec[yum_refresh]', :require => 'Anchor[openstack_extras_redhat]', :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/virt/$basearch/advancedvirt-common/"", :descr => ""CentOS-#{facts[:operatingsystemmajrelease]}-stream - Advanced Virt"", :gpgkey => 'file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Virtualization', :enabled => '1', :gpgcheck => '1', :mirrorlist => 'absent', :module_hotfixes => true, :notify => 'Exec[yum_refresh]', :require => 'Anchor[openstack_extras_redhat]', context 'with default parameters but puppetversion < 6.15.0' do before do facts.merge!( :puppetversion => '6.14.0' ) end it { should contain_yumrepo('rdo-release').without_module_hotfixes should contain_yumrepo('centos-advanced-virt').without_module_hotfixes } end "," :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/$basearch/openstack-victoria/"", :descr => ""OpenStack Victoria Repository"", :gpgkey => 'file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Cloud', :enabled => '1', :gpgcheck => '1', :mirrorlist => 'absent', :notify => 'Exec[yum_refresh]', :require => 'Anchor[openstack_extras_redhat]', :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/virt/$basearch/advancedvirt-common/"", :descr => ""CentOS-#{facts[:operatingsystemmajrelease]}-stream - Advanced Virt"", :gpgkey => 'file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Virtualization', :enabled => '1', :gpgcheck => '1', :mirrorlist => 'absent', :notify => 'Exec[yum_refresh]', :require => 'Anchor[openstack_extras_redhat]',",54,16
openstack%2Fneutron~stable%2Fvictoria~Icd376c144e1993ca84890c76743fda4196662d9b,openstack/neutron,stable/victoria,Icd376c144e1993ca84890c76743fda4196662d9b,Switch tempest jobs to neutron specific ones,MERGED,2021-03-04 14:23:48.000000000,2021-06-04 16:00:33.000000000,2021-06-04 16:00:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 14:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79efba9eb834f078492e263cb8ef4de838572d44', 'message': 'Switch tempest jobs to neutron specific ones\n\nIn neutron CI queues we were running tempest-slow-py3 and\ntempest-ipv6-only jobs which are defined in tempest repository and runs\nall tests, e.g related to Swift or Cinder.\nThis patch defines new jobs: ""neutron-tempest-slow-py3"" and\n""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but\ndisables Cinder and Swift services.\nAdditionally ""neutron-tempest-ipv6-only"" job now runs only\n""integrated-networking"" tox_envlist.\n\nConflicts:\n    doc/source/contributor/testing/ci_scenario_jobs.rst\n    zuul.d/tempest-singlenode.yaml\n\nChange-Id: Icd376c144e1993ca84890c76743fda4196662d9b\n(cherry picked from commit d1ab4e26ea4e8a767e52f3e9b711021bd66edaf3)\n'}, {'number': 2, 'created': '2021-03-12 10:40:34.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d0410d461beb84e803401fe46b1ff125d6ad175', 'message': 'Switch tempest jobs to neutron specific ones\n\nIn neutron CI queues we were running tempest-slow-py3 and\ntempest-ipv6-only jobs which are defined in tempest repository and runs\nall tests, e.g related to Swift or Cinder.\nThis patch defines new jobs: ""neutron-tempest-slow-py3"" and\n""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but\ndisables Cinder and Swift services.\nAdditionally ""neutron-tempest-ipv6-only"" job now runs only\n""integrated-networking"" tox_envlist.\n\nConflicts:\n    doc/source/contributor/testing/ci_scenario_jobs.rst\n    zuul.d/tempest-singlenode.yaml\n\nChange-Id: Icd376c144e1993ca84890c76743fda4196662d9b\n(cherry picked from commit d1ab4e26ea4e8a767e52f3e9b711021bd66edaf3)\n'}]",0,778706,4d0410d461beb84e803401fe46b1ff125d6ad175,31,3,2,11975,,,0,"Switch tempest jobs to neutron specific ones

In neutron CI queues we were running tempest-slow-py3 and
tempest-ipv6-only jobs which are defined in tempest repository and runs
all tests, e.g related to Swift or Cinder.
This patch defines new jobs: ""neutron-tempest-slow-py3"" and
""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but
disables Cinder and Swift services.
Additionally ""neutron-tempest-ipv6-only"" job now runs only
""integrated-networking"" tox_envlist.

Conflicts:
    doc/source/contributor/testing/ci_scenario_jobs.rst
    zuul.d/tempest-singlenode.yaml

Change-Id: Icd376c144e1993ca84890c76743fda4196662d9b
(cherry picked from commit d1ab4e26ea4e8a767e52f3e9b711021bd66edaf3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/778706/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",3,79efba9eb834f078492e263cb8ef4de838572d44,improve-neutron-ci-stable/victoria, |neutron-tempest-slow-py3 |tempest slow tests | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | |neutron-tempest-ipv6-only |tempest smoke + IPv6 tests | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | |, |neutron-tempest-iptables_hybrid |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | iptables_hybrid | legacy | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |tempest-slow-py3 |tempest slow tests | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | |tempest-ipv6-only |tempest smoke + IPv6 tests | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes |,37,15
openstack%2Fnova~stable%2Ftrain~Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8,openstack/nova,stable/train,Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8,Set migrate_data.vifs only when using multiple port bindings,MERGED,2020-10-21 23:16:05.000000000,2021-06-04 15:56:06.000000000,2021-06-04 15:52:36.000000000,"[{'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 8992}, {'_account_id': 10086}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32220}]","[{'number': 1, 'created': '2020-10-21 23:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/925a4d0631e1e0e787b81b93d729394dc61c9e84', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n'}, {'number': 2, 'created': '2020-10-22 01:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e92ce874277bc1db897acaee99edaaee13c08cf', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n'}, {'number': 3, 'created': '2020-10-23 23:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13f942cfdb9ce97f0500eb1ff18e54379264ccdd', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nConflicts:\n\tnova/tests/unit/compute/test_compute.py\n\tnova/tests/unit/compute/test_compute_mgr.py\n\nNote(wolsen): Conflicts are due to missing\nchange Ie48a9c0a285f77e260f675fbe9282df9f02282b1\nand I3d30fc9f823b02a1651646a01ad83b5c3e781325 in train.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n'}, {'number': 4, 'created': '2021-02-12 23:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d9c64cb126f5650a40a20a1092d8b3680dbc7b7', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nConflicts:\n\tnova/tests/unit/compute/test_compute.py\n\tnova/tests/unit/compute/test_compute_mgr.py\n\nNote(wolsen): Conflicts are due to missing\nchange Ie48a9c0a285f77e260f675fbe9282df9f02282b1\nand I3d30fc9f823b02a1651646a01ad83b5c3e781325 in train. Stubbed\nout nova.virt.libvirt.migration._update_serial_xml and partial pick\nfrom change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 to add the\njobStats, complete_job and fail_job to fakelibvirt. Full change not\npicked as it was part of the numa aware live migration feature in\nVictoria.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n'}, {'number': 5, 'created': '2021-02-17 03:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a37f75f7aaec4a7b3d57ef9ae51409e50914e9', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nConflicts:\n\tnova/tests/unit/compute/test_compute.py\n\tnova/tests/unit/compute/test_compute_mgr.py\n\nNote(wolsen): Conflicts are due to missing\nchange Ie48a9c0a285f77e260f675fbe9282df9f02282b1\nand I3d30fc9f823b02a1651646a01ad83b5c3e781325 in train. Stubbed\nout nova.virt.libvirt.migration._update_serial_xml and partial pick\nfrom change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 to add the\njobStats, complete_job and fail_job to fakelibvirt. Full change not\npicked as it was part of the numa aware live migration feature in\nVictoria.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n'}, {'number': 6, 'created': '2021-04-01 20:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e89fa76cdbb0d6c8bd9d2f83b294c582d5859524', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nChanges to patch:\n  - unit/virt/libvirt/fakelibvirt.py: Include partial pick from\n    change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 to add the\n    jobStats, complete_job and fail_job to fakelibvirt. The full\n    change was not cherry-picked as it was part of the numa aware\n    live migration feature in Victoria.\n  - renamed import of nova.network.neutron to\n    nova.network.neutronv2.api\n  - mocked nova.virt.libvirt.guest.Guest.get_job_info to return\n    fakelibvirt.VIR_DOMAIN_JOB_COMPLETED\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1888395.py\n    nova/tests/unit/compute/test_compute.py\n    nova/tests/unit/compute/test_compute_mgr.py\n    nova/tests/unit/virt/test_virt_drivers.py\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n(cherry picked from commit afa843c8a7e128489a8245ed7a1b391c022b3305)\n'}, {'number': 7, 'created': '2021-04-02 22:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79069184b3903bee27a4c8996878c6e40e2114be', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nChanges to patch:\n  - unit/virt/libvirt/fakelibvirt.py: Include partial pick from\n    change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 to add the\n    jobStats, complete_job and fail_job to fakelibvirt. The full\n    change was not cherry-picked as it was part of the numa aware\n    live migration feature in Victoria.\n  - renamed import of nova.network.neutron to\n    nova.network.neutronv2.api\n  - mocked nova.virt.libvirt.guest.Guest.get_job_info to return\n    fakelibvirt.VIR_DOMAIN_JOB_COMPLETED\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1888395.py\n    nova/tests/unit/compute/test_compute.py\n    nova/tests/unit/compute/test_compute_mgr.py\n    nova/tests/unit/virt/test_virt_drivers.py\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n(cherry picked from commit afa843c8a7e128489a8245ed7a1b391c022b3305)\n'}, {'number': 8, 'created': '2021-04-07 16:37:31.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/restore-rocky-portbinding-semantics-48e9b1fa969cc5e9.yaml', 'nova/tests/functional/regressions/test_bug_1888395.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a6fd88f7aaa18b9cbd7ab594b4e1dac0b7d22ca', 'message': 'Set migrate_data.vifs only when using multiple port bindings\n\nIn the rocky cycle nova was enhanced to support the multiple\nport binding live migration workflow when neutron supports\nthe binding-extended API extension.\nWhen the migration_data object was extended to support\nmultiple port bindings, populating the vifs field was used\nas a sentinel to indicate that the new workflow should\nbe used.\n\nIn the train release\nI734cc01dce13f9e75a16639faf890ddb1661b7eb\n(SR-IOV Live migration indirect port support)\nbroke the semantics of the migrate_data object by\nunconditionally populating the vifs field\n\nThis change restores the rocky semantics, which are depended\non by several parts of the code base, by only conditionally\npopulating vifs if neutron supports multiple port bindings.\n\nChanges to patch:\n  - unit/virt/libvirt/fakelibvirt.py: Include partial pick from\n    change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 to add the\n    jobStats, complete_job and fail_job to fakelibvirt. The full\n    change was not cherry-picked as it was part of the numa aware\n    live migration feature in Victoria.\n  - renamed import of nova.network.neutron to\n    nova.network.neutronv2.api\n  - mocked nova.virt.libvirt.guest.Guest.get_job_info to return\n    fakelibvirt.VIR_DOMAIN_JOB_COMPLETED\n  - replaced from urllib import parse as urlparse with\n    import six.moves.urllib.parse as urlparse for py2.7\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1888395.py\n    nova/tests/unit/compute/test_compute.py\n    nova/tests/unit/compute/test_compute_mgr.py\n    nova/tests/unit/virt/test_virt_drivers.py\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8\nCloses-Bug: #1888395\n(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)\n(cherry picked from commit afa843c8a7e128489a8245ed7a1b391c022b3305)\n'}]",10,759153,5a6fd88f7aaa18b9cbd7ab594b4e1dac0b7d22ca,54,12,8,10086,,,0,"Set migrate_data.vifs only when using multiple port bindings

In the rocky cycle nova was enhanced to support the multiple
port binding live migration workflow when neutron supports
the binding-extended API extension.
When the migration_data object was extended to support
multiple port bindings, populating the vifs field was used
as a sentinel to indicate that the new workflow should
be used.

In the train release
I734cc01dce13f9e75a16639faf890ddb1661b7eb
(SR-IOV Live migration indirect port support)
broke the semantics of the migrate_data object by
unconditionally populating the vifs field

This change restores the rocky semantics, which are depended
on by several parts of the code base, by only conditionally
populating vifs if neutron supports multiple port bindings.

Changes to patch:
  - unit/virt/libvirt/fakelibvirt.py: Include partial pick from
    change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 to add the
    jobStats, complete_job and fail_job to fakelibvirt. The full
    change was not cherry-picked as it was part of the numa aware
    live migration feature in Victoria.
  - renamed import of nova.network.neutron to
    nova.network.neutronv2.api
  - mocked nova.virt.libvirt.guest.Guest.get_job_info to return
    fakelibvirt.VIR_DOMAIN_JOB_COMPLETED
  - replaced from urllib import parse as urlparse with
    import six.moves.urllib.parse as urlparse for py2.7

Conflicts:
    nova/tests/functional/regressions/test_bug_1888395.py
    nova/tests/unit/compute/test_compute.py
    nova/tests/unit/compute/test_compute_mgr.py
    nova/tests/unit/virt/test_virt_drivers.py

Co-Authored-By: Sean Mooney <work@seanmooney.info>
Change-Id: Ia00277ac8a68a635db85f9e0ce2c6d8df396e0d8
Closes-Bug: #1888395
(cherry picked from commit b8f3be6b3c5af91d215b4a0cecb9be098e8d8799)
(cherry picked from commit afa843c8a7e128489a8245ed7a1b391c022b3305)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/759153/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/restore-rocky-portbinding-semantics-48e9b1fa969cc5e9.yaml', 'nova/tests/functional/regressions/test_bug_1888395.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",5,925a4d0631e1e0e787b81b93d729394dc61c9e84,bug/1888395," if self.network_api.supports_port_binding_extension(ctxt): # Create migrate_data vifs migrate_data.vifs = \ migrate_data_obj.\ VIFMigrateData.create_skeleton_migrate_vifs( instance.get_network_info()) # Claim PCI devices for VIFs on destination (if needed) port_id_to_pci = self._claim_pci_for_instance_vifs( ctxt, instance) # Update migrate VIFs with the newly claimed PCI devices self._update_migrate_vifs_profile_with_pci( migrate_data.vifs, port_id_to_pci) using_multiple_port_bindings = ( 'vifs' in migrate_data and migrate_data.vifs) CONF.compute.live_migration_wait_for_vif_plug and using_multiple_port_bindings )"," # Create migrate_data vifs migrate_data.vifs = \ migrate_data_obj.VIFMigrateData.create_skeleton_migrate_vifs( instance.get_network_info()) # Claim PCI devices for VIFs on destination (if needed) port_id_to_pci = self._claim_pci_for_instance_vifs(ctxt, instance) # Update migrate VIFs with the newly claimed PCI devices self._update_migrate_vifs_profile_with_pci(migrate_data.vifs, port_id_to_pci) CONF.compute.live_migration_wait_for_vif_plug)",201,14
openstack%2Fnova~stable%2Ftrain~I470a016d35afe69809321bd67359f466c3feb90a,openstack/nova,stable/train,I470a016d35afe69809321bd67359f466c3feb90a,add functional regression test for bug #1888395,MERGED,2020-10-23 23:22:00.000000000,2021-06-04 15:54:37.000000000,2021-06-04 15:52:03.000000000,"[{'_account_id': 935}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 23:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa5c70ab94e4cc087e6b5ae8de22e7e4915ced01', 'message': 'add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n'}, {'number': 2, 'created': '2020-11-04 22:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e705a1412e3a08ef5b0e2d6fbd32f4d59106a0ac', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}, {'number': 3, 'created': '2021-02-12 23:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f48c53bc8a945929aa1e1fdcd58a7b2fe4ac1045', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n    - include additional setup fixtures, start_computes, and\n      _create_server to get the functional tests working\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}, {'number': 4, 'created': '2021-02-17 03:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b7e49547d7795aa7fdb7da86eb2ca3d4ecb9922', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n    - include additional setup fixtures, start_computes, and\n      _create_server to get the functional tests working\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n""}, {'number': 5, 'created': '2021-03-02 11:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a44a059de415ce3db0d3bbc57811c07e9315657', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}, {'number': 6, 'created': '2021-03-12 11:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbbd9af3d41764395f4bbdd30207de94b787422f', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}, {'number': 7, 'created': '2021-04-01 20:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b24ebc603853359ca01d8847f4cf493a262f84c8', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n    - worked around  lack of create_server and start_computes in integrated\n      helpers in train by inlining the behavior in setUp and test_live_migrate\n    - reverted to python2 compatiable super() syntax\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}, {'number': 8, 'created': '2021-04-02 21:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c6673116bcea3b15716a61a922da8086a0fcd14', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n    - worked around  lack of create_server and start_computes in integrated\n      helpers in train by inlining the behavior in setUp and test_live_migrate\n    - reverted to python2 compatiable super() syntax\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}, {'number': 9, 'created': '2021-04-02 22:00:19.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1888395.py', 'nova/network/neutronv2/constants.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a4e2a6a41239a682c0da553ec5938737d0b85b52', 'message': ""add functional regression test for bug #1888395\n\nThis change adds a funcitonal regression test that\nassert the broken behavior when trying to live migrate\nwith a neutron backend that does not support multiple port\nbindings.\n\nConflicts/Changes:\n  nova/tests/functional/regressions/test_bug_1888395.py:\n    - specify api major version to allow block_migration 'auto'\n    - use TempDir fixture for instances path\n    - worked around  lack of create_server and start_computes in integrated\n      helpers in train by inlining the behavior in setUp and test_live_migrate\n    - reverted to python2 compatiable super() syntax\n  nova/tests/unit/virt/libvirt/fake_imagebackend.py:\n    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848\n      which stubs out the is_file_in_instance_path method. That was\n      included in a feature patch set so just pulling the necessary\n      bit.\n\nChange-Id: I470a016d35afe69809321bd67359f466c3feb90a\nPartial-Bug: #1888395\n(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)\n(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)\n""}]",19,759533,a4e2a6a41239a682c0da553ec5938737d0b85b52,62,8,9,8992,,,0,"add functional regression test for bug #1888395

This change adds a funcitonal regression test that
assert the broken behavior when trying to live migrate
with a neutron backend that does not support multiple port
bindings.

Conflicts/Changes:
  nova/tests/functional/regressions/test_bug_1888395.py:
    - specify api major version to allow block_migration 'auto'
    - use TempDir fixture for instances path
    - worked around  lack of create_server and start_computes in integrated
      helpers in train by inlining the behavior in setUp and test_live_migrate
    - reverted to python2 compatiable super() syntax
  nova/tests/unit/virt/libvirt/fake_imagebackend.py:
    - include portion of change Ia3d7351c1805d98bcb799ab0375673c7f1cb8848
      which stubs out the is_file_in_instance_path method. That was
      included in a feature patch set so just pulling the necessary
      bit.

Change-Id: I470a016d35afe69809321bd67359f466c3feb90a
Partial-Bug: #1888395
(cherry picked from commit 71bc6fc9b89535679252ffe5a737eddad60e4102)
(cherry picked from commit bea55a7d45bdc97679cf08c9faec789cfc90de27)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/759533/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1888395.py', 'nova/network/neutronv2/constants.py']",2,aa5c70ab94e4cc087e6b5ae8de22e7e4915ced01,bug/1888395,PORT_BINDING = 'Port Binding',,100,0
openstack%2Fcharm-openstack-dashboard~master~I5a74d6625cf312fccbb6885cdf2122c2efca119d,openstack/charm-openstack-dashboard,master,I5a74d6625cf312fccbb6885cdf2122c2efca119d,restart apache service on config-changed,ABANDONED,2021-05-27 11:50:18.000000000,2021-06-04 15:47:35.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 11:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f0d64f72928ccec03010077ff1344919416bafe5', 'message': 'restart apache service on config-changed\n\nwhen updating certificate requires an apache service restart in order to\nload new certificates\n\nCloses-Bug: 1927025\nChange-Id: I5a74d6625cf312fccbb6885cdf2122c2efca119d\n'}, {'number': 2, 'created': '2021-05-27 12:25:04.000000000', 'files': ['hooks/horizon_hooks.py', 'unit_tests/test_horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2316262464ed5e31f28d9ef2c67358bcad84631f', 'message': 'restart apache service on config-changed\n\nwhen updating certificate requires an apache service restart in order to\nload new certificates\n\nCloses-Bug: 1927025\nChange-Id: I5a74d6625cf312fccbb6885cdf2122c2efca119d\n'}]",1,793387,2316262464ed5e31f28d9ef2c67358bcad84631f,8,4,2,33340,,,0,"restart apache service on config-changed

when updating certificate requires an apache service restart in order to
load new certificates

Closes-Bug: 1927025
Change-Id: I5a74d6625cf312fccbb6885cdf2122c2efca119d
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/87/793387/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_hooks.py'],1,f0d64f72928ccec03010077ff1344919416bafe5,bug/1927025, service_restart('apache2'),,1,0
openstack%2Ftacker~master~I7742c30ed6cb910d58183c18e859acac244ff3ae,openstack/tacker,master,I7742c30ed6cb910d58183c18e859acac244ff3ae,Avoid FT errors caused by other projects change,MERGED,2021-05-13 14:39:43.000000000,2021-06-04 15:26:57.000000000,2021-06-04 15:24:14.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-05-13 14:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6198f6429edeaec9c78efe1bb126104a96a38900', 'message': '[DNM] Test for FT error\n\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch change ML2 driver to `openvswitch` that was used as default\nvalue.\n\n[1] ""Change Neutron\'s default ML2 driver to OVN""\n    https://review.opendev.org/c/openstack/devstack/+/735097\n\nSince this patch is posted as WorkAround, you should also consider\nchanging the ML2driver to OVN.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 2, 'created': '2021-05-13 14:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/308e4f7200860a4979855398f6563d4676b45cdc', 'message': '[DNM] Test for fixing FT error\n\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change Neutron\'s default ML2 driver to OVN""\n    https://review.opendev.org/c/openstack/devstack/+/735097\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 3, 'created': '2021-05-17 07:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9ddc833037cc7748851690d5149b59747a36624e', 'message': '[DNM] Test for FT error\n\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change Neutron\'s default ML2 driver to OVN""\n    https://review.opendev.org/c/openstack/devstack/+/735097\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 4, 'created': '2021-05-25 07:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/16704efc87bfd9a54b7bbe78472126172cce1784', 'message': '[DNM] Set ML2 driver to OVS for resolving FT error\n\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 5, 'created': '2021-05-25 14:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3447a749dad4cc804c85bc252ec94865d769b8d4', 'message': '[DNM] Set ML2 driver to OVS for resolving FT error\n\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 6, 'created': '2021-05-26 06:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a89614124ded825ad39128d3c716c70148b2ffc2', 'message': '[DNM] Resolving FT error caused by other project change\n\nZuul FT has failed by multiple reasons,\nA: devstack changes default ML2 Driver to OVN.\nB: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 7, 'created': '2021-05-26 06:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9a78f59b559473dec935ddb444ad6f3520beaf8a', 'message': '[DNM] Resolving FT error caused by other project change\n\nZuul FT has failed by multiple reasons,\nA: devstack changes default ML2 Driver to OVN.\nB: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 8, 'created': '2021-05-26 23:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cce6811cfbc5f999fe6762c32a1f242274ed8754', 'message': '[DNM] Resolving FT error caused by other project change\n\nZuul FT has failed by multiple reasons,\nA: devstack changes default ML2 Driver to OVN.\nB: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 9, 'created': '2021-05-27 04:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f43824be7fad78a9233f9d8a52aa7feba167f487', 'message': '[DNM] Resolving FT error caused by other project change\n\nZuul FT has failed by multiple reasons,\nA: devstack changes default ML2 Driver to OVN.\nB: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 10, 'created': '2021-05-27 04:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d2ca34f683e172c5bd7c217531cd4c7fde5fd067', 'message': '[DNM] Resolving FT error caused by other project change\n\nZuul FT has failed by multiple reasons,\nA: devstack changes default ML2 Driver to OVN.\nB: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 11, 'created': '2021-05-27 06:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7b221c413e44f8f85c156fa8c2a9147997daf2f8', 'message': '[DNM] Resolving FT error caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 12, 'created': '2021-05-28 01:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/714d13967e31927ffa877c8c68ecacb5f3ca7a29', 'message': '[DNM] Resolving FT error caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 13, 'created': '2021-06-01 05:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5b8741282bf4ab741f1267e6724e41349df6fe4a', 'message': '[DNM] Resolving FT error caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nTherefore, for resolving FT error, we also need to deal with changes\nfor that patch [2] of "".zuul.yaml"".\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 14, 'created': '2021-06-01 10:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9ebefc72b742a3cf893dc6164b74fb7083c82a76', 'message': '[DNM] Resolving FT error caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nAssuming that FT error is caused by a merged devstack patch [1],\nthis patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is faild to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nThe patch change above seems to be not complete at this time.\nTherefore, in this patch, temporarily use kuryr-kubernetes\nstable/wallaby branch for resolving FT error.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 15, 'created': '2021-06-02 00:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/84c43fda4d8c0504e1bba148f97233ca2aa56eb5', 'message': '[DNM] Resolving FT error caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nThe FT error is caused by a merged devstack patch [1],\nso this patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is failed to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nThe patch change above seems to be not complete at this time.\nTherefore, in this patch, temporarily use kuryr-kubernetes\nstable/wallaby branch for resolving FT error.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 16, 'created': '2021-06-02 00:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1655c51a00eb7e7a6586add3f17214031db648a5', 'message': 'Avoid FT error caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n\'The q-agt/neutron-agt service must be disabled with OVN.\'\n\nThe FT error is caused by a merged devstack patch [1],\nso this patch set ML2 driver to `openvswitch` that was used as default\nvalue before merging [1] patch.\n\n[1] ""Change default network backend driver to ML2/OVN""\n    https://review.opendev.org/c/openstack/devstack/+/791436\n\nSince this patch is posted as WorkAround, we should also consider\nchanging the ML2driver to OVN.\n\n[About B: kuryr-kubernetes change]\nSome nodes that use kuryr-kubernetes service is failed to build with\nfollowing error.\n```\n++ /opt/stack/kuryr-kubernetes/devstack/lib/kuryr_kubernetes:\\\n   build_install_kuryr_cni:887 :   hack/build-go.sh\nhack/build-go.sh: line 4: go: command not found\n```\nAbove error seems to be occured by kuryr-kubernetes patch [2] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n\n[2] ""Use kubeadm for installing Kubernetes on devstack.""\n    https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nThe patch change above seems to be not complete at this time.\nTherefore, in this patch, temporarily use kuryr-kubernetes\nstable/wallaby branch for resolving FT error.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n'}, {'number': 17, 'created': '2021-06-02 14:34:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3b1bd13e0b61c96f53acc8a9d78baaf91acffd7f', 'message': ""Avoid FT errors caused by other projects change\n\nZuul FT has failed by multiple reasons,\n  A: devstack changes default ML2 Driver to OVN.\n  B: kuryr-kubernetes changes to use kubeadm.\n\nThis patch is just workaround for FT errors caused by above changes.\nThe formal fixes will be done separately.\n\n[About A: devstack change]\nZuul FT has failed to build the environment with the following error:\n'The q-agt/neutron-agt service must be disabled with OVN.'\n\nThe FT error is caused by a merged devstack patch [1],\n[1] https://review.opendev.org/c/openstack/devstack/+/791436\n\nThis patch temporarily set ML2 driver to `openvswitch` that was used as\ndefault value before merging [1] patch.\n\n[About B: kuryr-kubernetes change]\nSome nodes using the kuryr-kubernetes service will fail to build with\nthe error shown in the bug report [2].\n[2] https://bugs.launchpad.net/bugs/1930368\n\nAbove error seems to be occured by kuryr-kubernetes patch [3] that\nchanges to use kubeadm for installing Kubernetes on devstack.\n[3] https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250\n\nThis patch temporarily use kuryr-kubernetes stable/wallaby branch\nfor resolving FT error.\n\nChange-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae\n""}]",2,791252,3b1bd13e0b61c96f53acc8a9d78baaf91acffd7f,62,5,17,31857,,,0,"Avoid FT errors caused by other projects change

Zuul FT has failed by multiple reasons,
  A: devstack changes default ML2 Driver to OVN.
  B: kuryr-kubernetes changes to use kubeadm.

This patch is just workaround for FT errors caused by above changes.
The formal fixes will be done separately.

[About A: devstack change]
Zuul FT has failed to build the environment with the following error:
'The q-agt/neutron-agt service must be disabled with OVN.'

The FT error is caused by a merged devstack patch [1],
[1] https://review.opendev.org/c/openstack/devstack/+/791436

This patch temporarily set ML2 driver to `openvswitch` that was used as
default value before merging [1] patch.

[About B: kuryr-kubernetes change]
Some nodes using the kuryr-kubernetes service will fail to build with
the error shown in the bug report [2].
[2] https://bugs.launchpad.net/bugs/1930368

Above error seems to be occured by kuryr-kubernetes patch [3] that
changes to use kubeadm for installing Kubernetes on devstack.
[3] https://review.opendev.org/c/openstack/kuryr-kubernetes/+/779250

This patch temporarily use kuryr-kubernetes stable/wallaby branch
for resolving FT error.

Change-Id: I7742c30ed6cb910d58183c18e859acac244ff3ae
",git fetch https://review.opendev.org/openstack/tacker refs/changes/52/791252/17 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6198f6429edeaec9c78efe1bb126104a96a38900,fix-ft-error," # WorkAround for ""Change Neutron's default ML2 driver to OVN"" Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge # WorkAround for ""Change Neutron's default ML2 driver to OVN"" Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge # WorkAround for ""Change Neutron's default ML2 driver to OVN"" Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge # WorkAround for ""Change Neutron's default ML2 driver to OVN"" Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge",,16,0
openstack%2Ftacker~master~I9f68d8778160da1337a4d6d5b8382762c294d481,openstack/tacker,master,I9f68d8778160da1337a4d6d5b8382762c294d481,[Doc] Update Freenode to OFTC as our IRC server,MERGED,2021-06-01 05:02:33.000000000,2021-06-04 15:11:33.000000000,2021-06-04 15:09:13.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-06-01 05:02:33.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/b43edf8b9ac46a2e880aacac1d20380cd95d2868', 'message': '[Doc] Update Freenode to OFTC as our IRC server\n\nChange-Id: I9f68d8778160da1337a4d6d5b8382762c294d481\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",0,793884,b43edf8b9ac46a2e880aacac1d20380cd95d2868,12,6,1,25701,,,0,"[Doc] Update Freenode to OFTC as our IRC server

Change-Id: I9f68d8778160da1337a4d6d5b8382762c294d481
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/84/793884/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,b43edf8b9ac46a2e880aacac1d20380cd95d2868,moveto-oftc,* IRC channel ``#tacker`` at `OFTC`_.. _`OFTC`: https://www.oftc.net/,* IRC channel ``#tacker`` at `Freenode`_.. _`Freenode`: https://freenode.net,2,2
openstack%2Fironic~stable%2Fwallaby~I77b6e0e6c721f2ff1f8b9f511acde97fcdb21a39,openstack/ironic,stable/wallaby,I77b6e0e6c721f2ff1f8b9f511acde97fcdb21a39,Secure RBAC - Efficent node santiziation,MERGED,2021-06-01 19:22:59.000000000,2021-06-04 14:25:21.000000000,2021-06-04 10:45:19.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-01 19:22:59.000000000', 'files': ['releasenotes/notes/secure-rbac-policy-sanitization-performance-dc7886952144bb04.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9eb7abe8240abad59b895cb41dd9e69124b33a2', 'message': 'Secure RBAC - Efficent node santiziation\n\nAn investigation of performance issues in Ironic revealed that the\npolicy checking was performing extra un-needed work which performed\nexcess computational overhead when parsing the result data.\n\nIn this specific case, the Secure RBAC work added some additional\npolicy checks around individual the fields.\n\nChange-Id: I77b6e0e6c721f2ff1f8b9f511acde97fcdb21a39\nStory: 2008885\nTask: 42432\n(cherry picked from commit 6cd6457479803ecd1d9ec271a868a565fab244e8)\n'}]",0,793929,f9eb7abe8240abad59b895cb41dd9e69124b33a2,26,2,1,11655,,,0,"Secure RBAC - Efficent node santiziation

An investigation of performance issues in Ironic revealed that the
policy checking was performing extra un-needed work which performed
excess computational overhead when parsing the result data.

In this specific case, the Secure RBAC work added some additional
policy checks around individual the fields.

Change-Id: I77b6e0e6c721f2ff1f8b9f511acde97fcdb21a39
Story: 2008885
Task: 42432
(cherry picked from commit 6cd6457479803ecd1d9ec271a868a565fab244e8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/793929/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/secure-rbac-policy-sanitization-performance-dc7886952144bb04.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",3,f9eb7abe8240abad59b895cb41dd9e69124b33a2,story/2008885-stable/wallaby," # Scrub the dictionary's contents down to what was requested. api_utils.sanitize_dict(node, fields) node_keys = node.keys() if ('last_error' in node_keys and not policy.check(""baremetal:node:get:last_error"", target_dict, cdict)): if ('reservation' in node_keys and not policy.check(""baremetal:node:get:reservation"", target_dict, cdict)): if ('driver_internal_info' in node_keys and not policy.check(""baremetal:node:get:driver_internal_info"", target_dict, cdict)): if 'driver_info' in node_keys: if (evaluate_additional_policies and not policy.check(""baremetal:node:get:driver_info"", target_dict, cdict)): if not show_driver_secrets: node['driver_info'] = strutils.mask_dict_password( node['driver_info'], ""******"") if not show_instance_secrets and 'instance_info' in node_keys: if 'provision_state' in node_keys: # Update legacy state data for provision state, but only if # the key is present. update_state_in_older_versions(node)"," if not policy.check(""baremetal:node:get:last_error"", target_dict, cdict): if not policy.check(""baremetal:node:get:reservation"", target_dict, cdict): if not policy.check(""baremetal:node:get:driver_internal_info"", target_dict, cdict): if not policy.check(""baremetal:node:get:driver_info"", target_dict, cdict): if not show_driver_secrets and node.get('driver_info'): node['driver_info'] = strutils.mask_dict_password( node['driver_info'], ""******"") if not show_instance_secrets and node.get('instance_info'): update_state_in_older_versions(node) api_utils.sanitize_dict(node, fields) ",70,16
openstack%2Ftripleo-operator-ansible~master~Iefdd1b4ef83d5cf1701bbc7e4a319e476a33d9dd,openstack/tripleo-operator-ansible,master,Iefdd1b4ef83d5cf1701bbc7e4a319e476a33d9dd,Add role for tripleo_overcloud_network_vip_provision,MERGED,2021-06-04 07:45:13.000000000,2021-06-04 14:07:52.000000000,2021-06-04 14:07:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-04 07:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/08dde014d53310ff6955d645e1bd8e7325ef5f4f', 'message': 'Add role for tripleo_overcloud_network_vip_provision\n\nThis adds a role for network vip provsion with\nnetwork-data-v2.\n\nChange-Id: Iefdd1b4ef83d5cf1701bbc7e4a319e476a33d9dd\n'}, {'number': 2, 'created': '2021-06-04 08:48:40.000000000', 'files': ['roles/tripleo_overcloud_network_vip_provision/README.md', 'roles/tripleo_overcloud_network_vip_provision/defaults/main.yml', 'roles/tripleo_overcloud_network_vip_provision/tests/test.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/prepare.yml', 'roles/tripleo_overcloud_network_vip_provision/tasks/main.yml', 'roles/tripleo_overcloud_network_vip_provision/tests/inventory', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_network_vip_provision/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f8c8076ffd692f980410f2ab1f9a8396f8ba818f', 'message': 'Add role for tripleo_overcloud_network_vip_provision\n\nThis adds a role for network vip provsion with\nnetwork-data-v2.\n\nChange-Id: Iefdd1b4ef83d5cf1701bbc7e4a319e476a33d9dd\n'}]",0,794724,f8c8076ffd692f980410f2ab1f9a8396f8ba818f,11,3,2,8833,,,0,"Add role for tripleo_overcloud_network_vip_provision

This adds a role for network vip provsion with
network-data-v2.

Change-Id: Iefdd1b4ef83d5cf1701bbc7e4a319e476a33d9dd
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/24/794724/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_network_vip_provision/README.md', 'roles/tripleo_overcloud_network_vip_provision/defaults/main.yml', 'roles/tripleo_overcloud_network_vip_provision/tests/test.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/prepare.yml', 'roles/tripleo_overcloud_network_vip_provision/tasks/.main.yml.swp', 'roles/tripleo_overcloud_network_vip_provision/tasks/main.yml', 'roles/tripleo_overcloud_network_vip_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_network_vip_provision/tests/inventory', 'roles/tripleo_overcloud_network_vip_provision/meta/main.yml']",10,08dde014d53310ff6955d645e1bd8e7325ef5f4f,network-data-v2,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. galaxy_info: author: OpenStack description: TripleO Operator Role -- tripleo_overcloud_network_vip_provision company: Red Hat license: Apache-2.0 min_ansible_version: 2.8 # # Provide a list of supported platforms, and for each platform a list of versions. # If you don't wish to enumerate all versions for a particular platform, use 'all'. # To view available platforms and versions (or releases), visit: # https://galaxy.ansible.com/api/v1/platforms/ # platforms: - name: CentOS versions: - 7 - 8 galaxy_tags: - tripleo # List your role dependencies here, one per line. Be sure to remove the '[]' above, # if you add dependencies to this list. dependencies: [] ",,251,0
openstack%2Ftripleo-operator-ansible~master~I81c3b7f650de7111c422cde7aabb575b493f1277,openstack/tripleo-operator-ansible,master,I81c3b7f650de7111c422cde7aabb575b493f1277,Add role for tripleo_overcloud_network_provision,MERGED,2021-05-31 05:11:03.000000000,2021-06-04 14:07:49.000000000,2021-06-04 14:07:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-31 05:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/19183d6d71327d99830b687da38ab03ba5ed9b66', 'message': ""Add role for tripleo_overcloud_network_provision\n\nAdds a new role to leverage 'overcloud network\nprovision' command.\n\nChange-Id: I81c3b7f650de7111c422cde7aabb575b493f1277\n""}, {'number': 2, 'created': '2021-06-04 07:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d4a2033d949100f6a4f51bae37b13997ab204e00', 'message': ""Add role for tripleo_overcloud_network_provision\n\nAdds a new role to leverage 'overcloud network\nprovision' command.\n\nChange-Id: I81c3b7f650de7111c422cde7aabb575b493f1277\n""}, {'number': 3, 'created': '2021-06-04 08:48:40.000000000', 'files': ['roles/tripleo_overcloud_network_provision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_network_provision/tests/inventory', 'roles/tripleo_overcloud_network_provision/tasks/main.yml', 'roles/tripleo_overcloud_network_provision/README.md', 'roles/tripleo_overcloud_network_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_network_provision/meta/main.yml', 'roles/tripleo_overcloud_network_provision/tests/test.yml', 'roles/tripleo_overcloud_network_provision/molecule/default/prepare.yml', 'roles/tripleo_overcloud_network_provision/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c80158078dddae5df30713eac294018b663d3d48', 'message': ""Add role for tripleo_overcloud_network_provision\n\nAdds a new role to leverage 'overcloud network\nprovision' command.\n\nChange-Id: I81c3b7f650de7111c422cde7aabb575b493f1277\n""}]",0,793722,c80158078dddae5df30713eac294018b663d3d48,14,3,3,8833,,,0,"Add role for tripleo_overcloud_network_provision

Adds a new role to leverage 'overcloud network
provision' command.

Change-Id: I81c3b7f650de7111c422cde7aabb575b493f1277
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/22/793722/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_network_provision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_network_provision/tests/inventory', 'roles/tripleo_overcloud_network_provision/README.md', 'roles/tripleo_overcloud_network_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_network_provision/tasks/main.yml', 'roles/tripleo_overcloud_network_provision/defaults/.main.yml.swp', 'roles/tripleo_overcloud_network_provision/meta/main.yml', 'roles/tripleo_overcloud_network_provision/tests/test.yml', 'roles/tripleo_overcloud_network_provision/molecule/default/prepare.yml', 'roles/tripleo_overcloud_network_provision/defaults/main.yml']",10,19183d6d71327d99830b687da38ab03ba5ed9b66,network-data-v2,"# defaults file for tripleo_overcloud_network_provision --- openstack_bin: openstack tripleo_overcloud_network_provision_debug: false tripleo_overcloud_network_provision_deployment_file: tripleo_overcloud_network_provision_generate_scripts: ""{{ tripleo_generate_scripts | default(False) }}"" tripleo_overcloud_network_provision_generate_scripts_only: ""{{ tripleo_generate_scripts_only | default(False) }}"" tripleo_overcloud_network_provision_home_dir: ""{{ ansible_env.HOME }}"" tripleo_overcloud_network_provision_log: ""{{ tripleo_overcloud_network_provision_home_dir }}/overcloud_network_provision.log"" tripleo_overcloud_network_provision_log_combine: true tripleo_overcloud_network_provision_log_output: true tripleo_overcloud_network_provision_os_cloud: ""{{ tripleo_os_cloud | default('') }}"" tripleo_overcloud_network_provision_output_file: tripleo_overcloud_network_provision_rc_file: ""{{ tripleo_rc_file | default(ansible_env.HOME ~ '/stackrc') }}"" ",,248,0
openstack%2Fgovernance~master~Iafb43f3114e38ab52a2ee28bfc8550910236f234,openstack/governance,master,Iafb43f3114e38ab52a2ee28bfc8550910236f234,Add resolution to move the IRC network from Freenode to OFTC,MERGED,2021-05-27 02:02:06.000000000,2021-06-04 14:00:30.000000000,2021-06-04 13:57:53.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-27 02:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6e60a9c690a460c8f403bbdbb88e6bcf9578f486', 'message': 'Add resolutions to mpve IRC network from Freendoe to OFTC\n\nChange-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234\n'}, {'number': 2, 'created': '2021-05-27 02:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/5afe8668865c99b6de7e4895821158ca46838aa6', 'message': 'Add resolution to move the IRC network from Freendoe to OFTC\n\nChange-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234\n'}, {'number': 3, 'created': '2021-05-27 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7fdea20e00b8e1b21a76752db5b9366aeeb7a3cb', 'message': 'Add resolution to move the IRC network from Freendoe to OFTC\n\nChange-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234\n'}, {'number': 4, 'created': '2021-05-27 14:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8fa6942be6cccf6019a192df880100072f0ab24b', 'message': 'Add resolution to move the IRC network from Freendoe to OFTC\n\nChange-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234\n'}, {'number': 5, 'created': '2021-05-27 14:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7bbc471c4140d7a1d4f8e4a697bb0951e2cad950', 'message': 'Add resolution to move the IRC network from Freenode to OFTC\n\nChange-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234\n'}, {'number': 6, 'created': '2021-05-27 18:51:29.000000000', 'files': ['resolutions/20210526-move-irc-to-oftc.rst', 'resolutions/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/46928beec047620c2d6c41ea69cd95b057e2d06e', 'message': 'Add resolution to move the IRC network from Freenode to OFTC\n\nChange-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234\n'}]",26,793260,46928beec047620c2d6c41ea69cd95b057e2d06e,31,11,6,8556,,,0,"Add resolution to move the IRC network from Freenode to OFTC

Change-Id: Iafb43f3114e38ab52a2ee28bfc8550910236f234
",git fetch https://review.opendev.org/openstack/governance refs/changes/60/793260/3 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20210526-move-irc-to-oftc.rst', 'resolutions/index.rst']",2,6e60a9c690a460c8f403bbdbb88e6bcf9578f486,formal-vote,2021 ==== .. toctree:: :maxdepth: 1 :glob: :reversed: 2021* ,,42,0
openstack%2Fironic-inspector~master~I043fdd5b5582971e43211c9a860d6b28ca73dc4e,openstack/ironic-inspector,master,I043fdd5b5582971e43211c9a860d6b28ca73dc4e,[doc] Improvements in processing_hooks docs,MERGED,2021-06-04 11:48:38.000000000,2021-06-04 13:22:54.000000000,2021-06-04 13:21:11.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-04 11:48:38.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1ba0849b6b726823711431409dc03a90fddbd376', 'message': '[doc] Improvements in processing_hooks docs\n\n* Emphasise that order matters.\n* Make order of LLDP-related hooks the recommended one.\n* Fix some related wording.\n* Mention IPA param requirements already in lldp_basic hook.\n\nChange-Id: I043fdd5b5582971e43211c9a860d6b28ca73dc4e\n'}]",0,794781,1ba0849b6b726823711431409dc03a90fddbd376,8,3,1,30491,,,0,"[doc] Improvements in processing_hooks docs

* Emphasise that order matters.
* Make order of LLDP-related hooks the recommended one.
* Fix some related wording.
* Mention IPA param requirements already in lldp_basic hook.

Change-Id: I043fdd5b5582971e43211c9a860d6b28ca73dc4e
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/81/794781/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/usage.rst'],1,1ba0849b6b726823711431409dc03a90fddbd376,doc-lldp-order,"introspection data. Note that order **does** matter in this option, especially``lldp_basic`` Processes LLDP data returned from inspection, parses TLVs from the Basic Management (802.1AB), 802.1Q, and 802.3 sets and stores the processed data back in the Ironic inspector database. To enable LLDP in the inventory from IPA, ``ipa-collect-lldp=1`` should be passed as a kernel parameter to the IPA ramdisk. Processes LLDP data returned from inspection, specifically looking for the port ID and chassis ID. If found, it configures the local link connection information on the Ironic ports with that data. To enable LLDP in the inventory from IPA, ``ipa-collect-lldp=1`` should be passed as a kernel parameter to the IPA ramdisk. In order to avoid processing the raw LLDP","introspection data. Note that order does matter in this option, especially Processes LLDP data returned from inspection specifically looking for the port ID and chassis ID, if found it configures the local link connection information on the nodes Ironic ports with that data. To enable LLDP in the inventory from IPA ``ipa-collect-lldp=1`` should be passed as a kernel parameter to the IPA ramdisk. In order to avoid processing the raw LLDP``lldp_basic`` Processes LLDP data returned from inspection and parses TLVs from the Basic Management (802.1AB), 802.1Q, and 802.3 sets and stores the processed data back to the Ironic inspector data in Swift.",12,10
openstack%2Fovn-octavia-provider~stable%2Fussuri~I4f7568b1af254488cbc75aefac2a1708e70eaf31,openstack/ovn-octavia-provider,stable/ussuri,I4f7568b1af254488cbc75aefac2a1708e70eaf31,"Remove the dependency on the ""mock"" package",MERGED,2021-06-03 18:19:21.000000000,2021-06-04 13:14:03.000000000,2021-06-04 13:12:41.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 18:19:21.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/common/test_clients.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7d719a225da720925d6eb389f8a14344ec1612a5', 'message': 'Remove the dependency on the ""mock"" package\n\nThis repo is python3 only, we should move to using the built\nin version of mock that supports all of our testing needs and\nremove the dependency on the ""mock"" package.\n\nThis patch moves all references to ""import mock"" to\n""from unittest import mock"".\n\nFixed one related functional test failure.\n\nConflicts:\n  ovn_octavia_provider/tests/functional/test_driver.py\n\nChange-Id: I4f7568b1af254488cbc75aefac2a1708e70eaf31\n(cherry picked from commit 88ea5cf828a4a5f25b6ab14fe5e4d6dac7e9abfa)\n'}]",0,794662,7d719a225da720925d6eb389f8a14344ec1612a5,7,2,1,11952,,,0,"Remove the dependency on the ""mock"" package

This repo is python3 only, we should move to using the built
in version of mock that supports all of our testing needs and
remove the dependency on the ""mock"" package.

This patch moves all references to ""import mock"" to
""from unittest import mock"".

Fixed one related functional test failure.

Conflicts:
  ovn_octavia_provider/tests/functional/test_driver.py

Change-Id: I4f7568b1af254488cbc75aefac2a1708e70eaf31
(cherry picked from commit 88ea5cf828a4a5f25b6ab14fe5e4d6dac7e9abfa)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/62/794662/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/common/test_clients.py']",4,7d719a225da720925d6eb389f8a14344ec1612a5,,from unittest import mock,import mock,7,6
openstack%2Ftripleo-heat-templates~master~I645eae5d66f8e947c709fe58b53c8470ce01d69c,openstack/tripleo-heat-templates,master,I645eae5d66f8e947c709fe58b53c8470ce01d69c,Add Undercloud tuning template.,ABANDONED,2020-05-05 17:45:06.000000000,2021-06-04 13:12:05.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-05-05 17:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73521a4f4300bebbe3ae495418c042af87a7c589', 'message': 'WIP / DNM - initial pseudo-code draft of at-scale template for operators\n\nwork in progress\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\n'}, {'number': 2, 'created': '2020-05-05 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e85d8f851b566fc1c8da0803466bcababa65dbc', 'message': 'WIP / DNM - initial pseudo-code draft of at-scale template for operators\n\nwork in progress\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\n'}, {'number': 3, 'created': '2020-05-13 19:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ada80ad3fe902638a140a77c4fb20467764d136', 'message': 'WIP / DNM - initial pseudo-code draft of at-scale template for operators\n\nwork in progress\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\n'}, {'number': 4, 'created': '2020-05-18 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e3c41a0625d854795f1a067013e7bbb9f737028', 'message': 'WIP / DNM - initial pseudo-code draft of at-scale template for operators\n\nwork in progress\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2020-05-18 15:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56a9b6b19479bdc2666f7dfb8f0c98e3dd9ce18d', 'message': '[WIP][DNM] Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2020-08-21 18:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89b7ba0d148f0dd43b08ea9f3ff1e6975aae7c0e', 'message': '[WIP][DNM] Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2020-08-25 21:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/364929caea100dd42b254dd131ab1fe85c6308dd', 'message': '[WIP][DNM] Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRPCResponseTimeout\nDepends-On: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nNovaMaxConcurrentBuilds\nDepends-On: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\n\nZaqarWsTimeout\nDepends-On: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2020-09-22 13:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b16f91613e2ec2bef9387b39cdaeaa3c369379f', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRPCResponseTimeout\nDepends-On: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nDepends-On: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nNovaMaxConcurrentBuilds\nDepends-On: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\n\nZaqarWsTimeout\nDepends-On: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 9, 'created': '2020-09-22 17:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9774d9897b28f9dc60def70ccdf34b28312e473b', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRPCResponseTimeout\nDepends-On: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nDepends-On: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nDepends-On: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nDepends-On: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nDepends-On: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nZaqarWsTimeout\nDepends-On: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 10, 'created': '2020-09-23 19:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dec021f9a0f12584aebd057fcfa7fff401523e6', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRPCResponseTimeout\nDepends-On: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nDepends-On: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nDepends-On: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nDepends-On: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nDepends-On: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nZaqarWsTimeout\nDepends-On: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 11, 'created': '2020-10-29 21:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5053f44e4765001f7393f090fdf792b1d6c3d533', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRPCResponseTimeout\nDepends-On: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nDepends-On: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nDepends-On: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nDepends-On: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nDepends-On: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nZaqarWsTimeout\nDepends-On: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 12, 'created': '2020-10-30 18:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ed31c45c434cc7e9957664feb4d880fc9fa19d9', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRpcResponseTimeout\nDepends-On: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nDepends-On: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nDepends-On: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nDepends-On: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nDepends-On: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nZaqarWsTimeout\nDepends-On: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 13, 'created': '2020-11-02 17:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17e6cc0f15c8cd955314754867937363bbfd3fc4', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRpcResponseTimeout\nRelated-Change-Id: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nRelated-Change-Id: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nRelated-Change-Id: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nRelated-Change-Id: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nRelated-Change-Id: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nZaqarWsTimeout\nRelated-Change-Id: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 14, 'created': '2020-12-03 19:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbfbf1e242a1b919d4a3a72739c3f8da4d24edbf', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMistralRpcResponseTimeout\nRelated-Change-Id: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9\n\nMysqlInnodbBufferPoolSize\nRelated-Change-Id: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nRelated-Change-Id: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nRelated-Change-Id: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nRelated-Change-Id: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nZaqarWsTimeout\nRelated-Change-Id: I4328d4bafb556e5936793e8a58c3e19635b37406\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}, {'number': 15, 'created': '2021-06-01 12:45:28.000000000', 'files': ['environments/undercloud/undercloud-tuning.yaml', 'releasenotes/notes/undercloud-tuning-848bce4a19b7d408.yaml', 'sample-env-generator/undercloud-tuning.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32730030cb977ad38411ecc885726b24eecd4c90', 'message': 'Add Undercloud tuning template.\n\nThis can be used to configure the Undercloud to handle\nlarge scale deployments of 500 or more Overcloud nodes.\n\nMysqlInnodbBufferPoolSize\nRelated-Change-Id: I59e74a76d8467bd49c95da5031a23cda0cc6f52d\n[Master-only]\nRelated-Change-Id: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce\n\nIronicMaxConcurrentBuilds\nRelated-Change-Id: If75b1df0e26a7a3f87be1de9026836a2aa590fe7\nRelated-Change-Id: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec\n\nChange-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c\nAuthored-By: David J Peacock <david.j.peacock@gmail.com>\nCo-Authored-By: Luke Short <ekultails@gmail.com>\n'}]",22,725658,32730030cb977ad38411ecc885726b24eecd4c90,71,7,15,27427,,,0,"Add Undercloud tuning template.

This can be used to configure the Undercloud to handle
large scale deployments of 500 or more Overcloud nodes.

MysqlInnodbBufferPoolSize
Related-Change-Id: I59e74a76d8467bd49c95da5031a23cda0cc6f52d
[Master-only]
Related-Change-Id: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce

IronicMaxConcurrentBuilds
Related-Change-Id: If75b1df0e26a7a3f87be1de9026836a2aa590fe7
Related-Change-Id: Ic5badc36309f57c15eb941a27c8b7601dbdd8cec

Change-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c
Authored-By: David J Peacock <david.j.peacock@gmail.com>
Co-Authored-By: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/725658/9 && git format-patch -1 --stdout FETCH_HEAD,['environments/services/undercloud-at-scale.yaml'],1,73521a4f4300bebbe3ae495418c042af87a7c589,at-scale-template,"# Template for at-scale suggested defaults for operators ######################### ## Undercloud General ######################### # To be modified in undercloud.conf; ensure instruction about this is given # Ironic node cleaning (prevents stale failed node problems) clean_nodes = True # Disable telemetry (less work for rabbitmq) enable_telemetry = false /var/lib/config-data/puppet-generated/<SERVICE>/etc/httpd/conf/httpd.conf Timeout 600 # up from 60 # RabbitMQ setting for ALL services # Will this have a negative impact on Minion nodes? [messaging] driver = noop # File: /var/lib/config-data/puppet-generated/<SERVICE>/etc/httpd/conf.d/10-<SERVICE>_wsgi.conf #Increase WSGI processors from 1 to the number of processors #UPDATE: Apparently (according to Sai?) this was tried in the past and that lead to performance issues. Try NUM_PROCESSOR_CORES / 2 instead. processes=NUM_PROCESSOR_CORES / 2 ######################### ## ALL ######################### ######################### ## Keystone section ######################### # /etc/httpd/conf.d/10-keystone_wsgi_main.conf WSGIDaemonProcess keystone_admin display-name=keystone-admin group=keystone processes=32 threads=1 user=keystone WSGIDaemonProcess keystone_main display-name=keystone-main group=keystone processes=24 threads=1 user=keystone # /etc/keystone/keystone.conf # less work for rabbitmq driver = noop # this value should match whatever we are setting as the WebSocket Timeout for Zaqar in HAProxy keystone.conf [token] expiration ######################### ## Heat section ######################### # /etc/heat/heat.conf num_engine_workers = 48 executor_thread_pool_size = 48 rpc_response_timeout = 1200 [cache] backend = dogpile.cache.memcached enabled = true memcache_servers = 127.0.0.1 driver = noop # less work for rabbitmq ######################### ## MySQL ######################### # /etc/my.cnf.d/galera.cnf # NOTE(lshort): mysqltuner.pl should be tested on a large scale deployment # Long-term maybe figure out the optimal math/equations for each setting? [mysqld] Innodb_buffer_pool_size = 5G ######################### ## Neutron ######################### # /etc/neutron/neutron.conf Notification_driver = noop # rabbitmq pressure relief ######################### ## Ironic ######################### # /etc/ironic/ironic.conf sync_power_state_interval = 180 ######################### ## Mistral ######################### # /etc/mistral/mistral.conf [DEFAULT] rpc_response_timeout = 600 [engine] execution_field_size_limit_kb = 32768 [api] api_workers=16 ######################### ## Nova ######################### # /etc/nova/nova.conf driver = noop # crudini --get /var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf DEFAULT max_concurrent_builds 10 ######################### ## Zaqar ######################### #/etc/haproxy/haproxy.cfg # Modify ""tunnel"" (timeout) #zaqar_ws 'timeout' => ['connect 5s', 'client 25s', 'server 25s', 'tunnel 43200s'] ######################### ## Memcached ######################### [cache] Enabled = true Backend = dogpile.cache.memcached ",,134,0
openstack%2Fopenstack-ansible-tests~stable%2Fvictoria~Ifc9bb5bb65d599a39f562faaaa14a0756e493ba1,openstack/openstack-ansible-tests,stable/victoria,Ifc9bb5bb65d599a39f562faaaa14a0756e493ba1,Add is_metal variable,ABANDONED,2021-06-03 11:58:52.000000000,2021-06-04 12:30:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 11:58:52.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fa1680c0b49e456d73513a28007225ecc5fe30e1', 'message': ""Add is_metal variable\n\nIn functional tests, comparing to the integrtion ones, dynamic inventroy\nis not used. Thus, ``is_metal`` variable is not defined, and we rely on\nit in some roles.\n\nTo cover the gap, we're setting a variable based on the ansible_facts for\nfunctional tests only.\n\nChange-Id: Ifc9bb5bb65d599a39f562faaaa14a0756e493ba1\n(cherry picked from commit 7466bc9309f38a238b3511072f3da7bf8a7f3d59)\n""}]",0,794450,fa1680c0b49e456d73513a28007225ecc5fe30e1,3,1,1,28619,,,0,"Add is_metal variable

In functional tests, comparing to the integrtion ones, dynamic inventroy
is not used. Thus, ``is_metal`` variable is not defined, and we rely on
it in some roles.

To cover the gap, we're setting a variable based on the ansible_facts for
functional tests only.

Change-Id: Ifc9bb5bb65d599a39f562faaaa14a0756e493ba1
(cherry picked from commit 7466bc9309f38a238b3511072f3da7bf8a7f3d59)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/50/794450/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,fa1680c0b49e456d73513a28007225ecc5fe30e1,,"is_metal: ""{{ not (ansible_facts['virtualization_type'] in ['lxc', 'systemd-nspawn']) }}"" ",,2,0
openstack%2Fpython-tripleoclient~master~I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a,openstack/python-tripleoclient,master,I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a,"oc deploy, arg validatate - set net/role defaults",ABANDONED,2021-05-31 11:55:23.000000000,2021-06-04 12:07:20.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-31 11:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe22b6f23b0e000903eb2a172af9dd580a42ae87', 'message': ""oc deploy, arg validatate - set net/role defaults\n\nUpdate the parsed arguments from anwers file prior to\ndoing argument validation.\n\nFail if 'templates' not provided in answers file and no\n'--templates' set on command line.\n\nSet the default for roles_file and networks_file relevant\nto 'templates' in parsed_args object.\n\nChange-Id: I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a\n""}, {'number': 2, 'created': '2021-06-01 00:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f07fd8becac3e31ade203fe9c55c1b885da755f6', 'message': ""oc deploy, arg validatate - set net/role defaults\n\nUpdate the parsed arguments from anwers file prior to\ndoing argument validation.\n\nFail if 'templates' not provided in answers file and no\n'--templates' set on command line.\n\nSet the default for roles_file and networks_file relevant\nto 'templates' in parsed_args object.\n\nChange-Id: I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a\n""}, {'number': 3, 'created': '2021-06-01 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c7cde2027dd825d01abbfdb526f9c8f6666aad20', 'message': ""oc deploy, arg validatate - set net/role defaults\n\nUpdate the parsed arguments from anwers file prior to\ndoing argument validation.\n\nFail if 'templates' not provided in answers file and no\n'--templates' set on command line.\n\nSet the default for roles_file and networks_file relevant\nto 'templates' in parsed_args object.\n\nChange-Id: I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a\n""}, {'number': 4, 'created': '2021-06-03 07:29:59.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9be6d0e469a6fa6cf1ea011d81effce72c0fbf8', 'message': ""oc deploy, arg validatate - set net/role defaults\n\nUpdate the parsed arguments from anwers file prior to\ndoing argument validation.\n\nFail if 'templates' not provided in answers file and no\n'--templates' set on command line.\n\nSet the default for roles_file and networks_file relevant\nto 'templates' in parsed_args object.\n\nChange-Id: I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a\n""}]",4,793774,e9be6d0e469a6fa6cf1ea011d81effce72c0fbf8,19,5,4,24245,,,0,"oc deploy, arg validatate - set net/role defaults

Update the parsed arguments from anwers file prior to
doing argument validation.

Fail if 'templates' not provided in answers file and no
'--templates' set on command line.

Set the default for roles_file and networks_file relevant
to 'templates' in parsed_args object.

Change-Id: I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/793774/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,fe22b6f23b0e000903eb2a172af9dd580a42ae87,network-data-v2," def _update_args_with_templates_defaults(self, args): if args.roles_file is None: args.roles_file = os.path.join( args.templates, constants.OVERCLOUD_ROLES_FILE) if args.networks_file is None: args.networks_file = os.path.join( args.templates, constants.OVERCLOUD_NETWORKS_FILE) if parsed_args.templates is None: ""You must specify either --templates or --answers-file, and "" ""set 'templates' in the answers file."") # Update args from answers file prior to validating args self._update_args_from_answers_file(parsed_args) # Set templates defaults, i.e roles_file and networks_file if not set self._update_args_with_templates_defaults(parsed_args)"," if parsed_args.templates is None and parsed_args.answers_file is None: ""You must specify either --templates or --answers-file"") self._update_args_from_answers_file(parsed_args) ",28,6
openstack%2Ftripleo-image-elements~stable%2Fwallaby~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/wallaby,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,ABANDONED,2021-06-04 11:37:45.000000000,2021-06-04 11:40:20.000000000,,[],"[{'number': 1, 'created': '2021-06-04 11:37:45.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tests/test_no_dup_filenames.py'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/72aa1997e27fb1073c768dff4f1c249b0a26b002', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n(cherry picked from commit b73f4154cab14ed635f2ab25fad528360b509a21)\n'}]",0,794632,72aa1997e27fb1073c768dff4f1c249b0a26b002,2,0,1,24162,,,0,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit b73f4154cab14ed635f2ab25fad528360b509a21)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/32/794632/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tests/test_no_dup_filenames.py']",3,72aa1997e27fb1073c768dff4f1c249b0a26b002,fix-ci-stable/wallaby,"<<<<<<< HEAD (74acb5 Update TOX_CONSTRAINTS_FILE for stable/wallaby)======= err_msg = 'Duplicate file name found %s' % short_path self.assertNotIn(short_path, filenames, err_msg) >>>>>>> CHANGE (b73f41 Drop pbr version ceiling)",,14,0
openstack%2Fnova~master~I32e6214568bb57f7613ddeba2c2c46da0320fabc,openstack/nova,master,I32e6214568bb57f7613ddeba2c2c46da0320fabc,Error anti-affinity violation on migrations,MERGED,2021-03-31 21:04:20.000000000,2021-06-04 11:15:34.000000000,2021-06-02 17:56:51.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14567}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 21:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0616293b63ed37ef6e06b2339f9b0c44459a9d3e', 'message': '[WIP] Error anti-affinity violation on live migrations\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n'}, {'number': 2, 'created': '2021-04-09 20:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7998e8a8465f9d0ba1fed9fe38240391f40fe52', 'message': 'Error anti-affinity violation on live migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n'}, {'number': 3, 'created': '2021-04-12 18:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58b2f6126c5dd23f01203c191bbb0618bac36696', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n\nImproved method of detection now locks based on group_id and\nconsiders VMs being migrated as well.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n'}, {'number': 4, 'created': '2021-04-15 15:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d060e30dd1af16e45ecd5994831965f5fdd0c5cc', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n\nImproved method of detection now locks based on group_id and\nconsiders VMs being migrated as well.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n'}, {'number': 5, 'created': '2021-06-01 14:31:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n- pre_live_migration\n\nThe improved method of detection now locks based on group_id\nand considers other migrations in-progress as well.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n'}]",47,784166,33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f,75,7,5,14567,,,0,"Error anti-affinity violation on migrations

Error-out the migrations (cold and live) whenever the
anti-affinity policy is violated. This addresses
violations when multiple concurrent migrations are
requested.

Added detection on:
- prep_resize
- check_can_live_migration_destination
- pre_live_migration

The improved method of detection now locks based on group_id
and considers other migrations in-progress as well.

Closes-bug: #1821755
Change-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/784166/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,0616293b63ed37ef6e06b2339f9b0c44459a9d3e,bug/1821755," scheduler_hints=None): if CONF.workarounds.disable_group_policy_check_upcall: # Why would we do anything below if it is disabled? return if scheduler_hints: group_hint = scheduler_hints.get('group') if not group_hint: return else: # The RequestSpec stores scheduler_hints as key=list pairs so # we need to check the type on the value and pull the single # entry out. The API request schema validates that # the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] group = objects.InstanceGroup.get_by_hint(context, group_hint) else: # NOTE(ganso): I am not sure why group_hint is needed here, as the # group can be obtained through get_by_instance_uuid. Maybe to just # save a call to DB if no group is involved? try: group = objects.InstanceGroup.get_by_instance_uuid( context, instance.uuid) except exception.InstanceGroupNotFound: return @utils.synchronized(group['uuid']) def _do_validation(context, instance, group): if group.policy and 'anti-affinity' == group.policy: # instances on host # instance param is just for logging, the nodename obtained is # not actually related to the instance at all nodename = self._get_nodename(instance) # instances being migrated to host migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename)) migration_vm_uuids = set([mig['instance_uuid'] for mig in migrations]) total_instances = migration_vm_uuids | ins_on_host members_on_host = (total_instances & members - set([instance.uuid])) # NOTE(ganso): The check for affinity below does not work for 3 # reasons and it can easily be violated: # 1) because the lock happens in different compute hosts, so the # lock is pointless here. Actually, due to reason #2 below, a lock # doesn't help at all. # 2) the group.get_hosts is racy with _set_instance_host_and_node, # as in my testing, for the first instance sometimes it would reach # this part of the code with group_hosts as an empty list. Perhaps # a possible improvement would be to sleep and wait while it is # empty, however it would cause reason #3 below to be more likely # to be hit. # 3) the condition ""self.host not it in group_hosts"" means that # this check only works in a short period of time while the ""host"" # field is set only on one of the parallel requests (the racy # aspect of reason #2 above). The problem is that at a given point, # group_hosts will contain 2 hosts because the field is set before # this check, and then condition ""not in"" is no longer satisfied to # reject the instance. There is a comment from russellb saying that # the validation must be done after the host field is set (this is # true, otherwise all instances would be rejected according to the # condition below), but it is paradoxical by also causing the # problem. # The only fix seems to be a DB lock to perform the check whenever # setting the host field to an instance. _do_validation(context, instance, group) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already # in-progress, so this is the definitive moment to abort due to # the policy violation. Also, exploding here is covered by the # cleanup methods in except block. self._validate_instance_group_policy(context, instance) # Error out if this host cannot accept the new instance due # to anti-affinity. This check at this moment is not very accurate, as # multiple requests may be happening concurrently and miss the lock, # but when it works it provides a better user experience by failing # earlier. Also, it should be safe to explode here, error becomes # NoValidHost and instance status remains ACTIVE. try: self._validate_instance_group_policy(ctxt, instance) except Exception as e: msg = (""Failed to validate instance group policy "" ""due to: {}"".format(e)) raise exception.MigrationPreCheckError(reason=msg) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already in-progress, # so this is the definitive moment to abort due to the policy # violation. Also, it should be safe to explode here. The instance # status remains ACTIVE, migration status failed. self._validate_instance_group_policy(context, instance) "," scheduler_hints): group_hint = scheduler_hints.get('group') if not group_hint: return # The RequestSpec stores scheduler_hints as key=list pairs so we need # to check the type on the value and pull the single entry out. The # API request schema validates that the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] @utils.synchronized(group_hint) def _do_validation(context, instance, group_hint): group = objects.InstanceGroup.get_by_hint(context, group_hint) if group.policy and 'anti-affinity' == group.policy: members_on_host = ins_on_host & members - set([instance.uuid]) if not CONF.workarounds.disable_group_policy_check_upcall: _do_validation(context, instance, group_hint)",101,15
openstack%2Fkayobe~stable%2Fwallaby~Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec,openstack/kayobe,stable/wallaby,Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec,ntp: check for ntp group in inventory,MERGED,2021-06-03 14:05:02.000000000,2021-06-04 11:13:49.000000000,2021-06-04 11:12:32.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 14:05:02.000000000', 'files': ['ansible/time.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4648b90bcf31cd6c293653c7500b5f4ae0a2eddc', 'message': 'ntp: check for ntp group in inventory\n\nThe Wallaby release adds support for configuring a chrony daemon on\nhosts in the ntp group. The kolla chrony container is disabled by\ndefault, meaning that users could be left without an NTP client if they\nforget to add hosts to the ntp group.\n\nThis change adds a check for the existence of an ntp group in the\ninventory. The group may be empty.\n\nChange-Id: Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec\nStory: 2007872\nTask: 42533\n(cherry picked from commit 9d3045dbf0b6a45cd9c2dcb0a5fae8c8d81045f7)\n'}]",0,794451,4648b90bcf31cd6c293653c7500b5f4ae0a2eddc,10,3,1,14826,,,0,"ntp: check for ntp group in inventory

The Wallaby release adds support for configuring a chrony daemon on
hosts in the ntp group. The kolla chrony container is disabled by
default, meaning that users could be left without an NTP client if they
forget to add hosts to the ntp group.

This change adds a check for the existence of an ntp group in the
inventory. The group may be empty.

Change-Id: Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec
Story: 2007872
Task: 42533
(cherry picked from commit 9d3045dbf0b6a45cd9c2dcb0a5fae8c8d81045f7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/51/794451/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/time.yml'],1,4648b90bcf31cd6c293653c7500b5f4ae0a2eddc,,"- name: Ensure ntp group exists hosts: all gather_facts: no tags: - ntp tasks: - name: Ensure ntp group exists fail: msg: >- The 'ntp' group does not exist in the Ansible inventory. run_once: true when: - ""'ntp' not in groups"" - not kolla_enable_chrony | bool ",,15,0
openstack%2Ftripleo-ansible~master~I0d43f42c0d0b092218f78b32ac3bfd198c988de0,openstack/tripleo-ansible,master,I0d43f42c0d0b092218f78b32ac3bfd198c988de0,Refresh instance after adding allocation,MERGED,2021-05-25 13:20:22.000000000,2021-06-04 11:00:11.000000000,2021-06-04 10:56:01.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-25 13:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5f9304f5d80e2f9510b9ddd03d889394dedbd58', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}, {'number': 2, 'created': '2021-05-26 09:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e723d6014ec604202af06268ad74a5a06eb828ae', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}, {'number': 3, 'created': '2021-05-26 17:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dec56f47e72fbf2145e4dde3e9a89d8d039fdc5b', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}, {'number': 4, 'created': '2021-05-31 19:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/174504e28ce870c3d1c5a4fc97b8a4aaa44ee0b1', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}, {'number': 5, 'created': '2021-05-31 21:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87928d19e0dce26d8ae172106ced11f208601ceb', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}, {'number': 6, 'created': '2021-06-02 08:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcb14756ec5d80cafd6051d69a1c705f01b13270', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}, {'number': 7, 'created': '2021-06-02 09:15:31.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f661f34c90b747772219f8a68a65128dafe871e1', 'message': 'Refresh instance after adding allocation\n\nWhen the baremetal deployment workflow does the\n""Check Existing"" task it will create a baremetal\nallocation for provisioned nodes that does not\nalready hae one.\n\nAfter creating the allocation, refresh the instance\nto ensure the hostname is correctly represented in\nthe object returned in the list of ""found"" nodes.\n\nCloses-Bug: #1929555\nChange-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0\n'}]",1,792972,f661f34c90b747772219f8a68a65128dafe871e1,39,6,7,24245,,,0,"Refresh instance after adding allocation

When the baremetal deployment workflow does the
""Check Existing"" task it will create a baremetal
allocation for provisioned nodes that does not
already hae one.

After creating the allocation, refresh the instance
to ensure the hostname is correctly represented in
the object returned in the list of ""found"" nodes.

Closes-Bug: #1929555
Change-Id: I0d43f42c0d0b092218f78b32ac3bfd198c988de0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/792972/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,e5f9304f5d80e2f9510b9ddd03d889394dedbd58,bug/1929555, # Refresh the instance after adding the allocation # See: https://bugs.launchpad.net/tripleo/+bug/1929555 instance = provisioner.show_instance(instance.uuid),,5,1
openstack%2Ftripleo-validations~stable%2Fwallaby~I109beb134c52da440ff7a07a8a99e3e4fcb29a39,openstack/tripleo-validations,stable/wallaby,I109beb134c52da440ff7a07a8a99e3e4fcb29a39,Use validation_component for Standalone CI jobs,MERGED,2021-05-31 03:22:25.000000000,2021-06-04 11:00:08.000000000,2021-06-04 10:56:20.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-31 03:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e78b69aacdd6bc1594919eb7caa828383336b409', 'message': ""Use validation_component for Standalone CI jobs\n\nThis patch also relaxes the Jinja2 constraint as they released 3.0.1 and\nit is already in the master upper-constraints. Without it, this patch won't\nbe able to be merged.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/793151\nChange-Id: I109beb134c52da440ff7a07a8a99e3e4fcb29a39\n(cherry picked from commit aac0c5f04d0844a4115774b5ad40d113bd0183b0)\n""}, {'number': 2, 'created': '2021-05-31 03:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/efe7f3671302a70c4f3beadf79dcc4eadf5caafd', 'message': ""Use validation_component for Standalone CI jobs\n\nThis patch also relaxes the Jinja2 constraint as they released 3.0.1 and\nit is already in the master upper-constraints. Without it, this patch won't\nbe able to be merged.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/793151\nChange-Id: I109beb134c52da440ff7a07a8a99e3e4fcb29a39\n(cherry picked from commit aac0c5f04d0844a4115774b5ad40d113bd0183b0)\n""}, {'number': 3, 'created': '2021-06-02 09:00:32.000000000', 'files': ['zuul.d/base.yaml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eda796e08d1b58ca89ef0f67df86d9f145d23a00', 'message': ""Use validation_component for Standalone CI jobs\n\nThis patch also relaxes the Jinja2 constraint as they released 3.0.1 and\nit is already in the master upper-constraints. Without it, this patch won't\nbe able to be merged.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/793151\nChange-Id: I109beb134c52da440ff7a07a8a99e3e4fcb29a39\n(cherry picked from commit aac0c5f04d0844a4115774b5ad40d113bd0183b0)\n""}]",0,793675,eda796e08d1b58ca89ef0f67df86d9f145d23a00,20,7,3,11491,,,0,"Use validation_component for Standalone CI jobs

This patch also relaxes the Jinja2 constraint as they released 3.0.1 and
it is already in the master upper-constraints. Without it, this patch won't
be able to be merged.

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/793151
Change-Id: I109beb134c52da440ff7a07a8a99e3e4fcb29a39
(cherry picked from commit aac0c5f04d0844a4115774b5ad40d113bd0183b0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/75/793675/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'molecule-requirements.txt']",2,e78b69aacdd6bc1594919eb7caa828383336b409,ci/role/validation-stable/wallaby,"<<<<<<< HEAD (148025 Merge ""Update .gitreview for stable/wallaby"" into stable/wal)======= jinja2>=2.8.0 molecule>=3.3.1,<4 # MIT molecule-podman # MIT >>>>>>> CHANGE (aac0c5 Use validation_component for Standalone CI jobs)",,7,1
openstack%2Ftripleo-common~stable%2Fwallaby~Idb557d0c6c4356385cb05b2041b0bdaa5485367a,openstack/tripleo-common,stable/wallaby,Idb557d0c6c4356385cb05b2041b0bdaa5485367a,Ignore OVN Bridge MAC net for inventory generation,MERGED,2021-05-18 12:43:27.000000000,2021-06-04 10:59:59.000000000,2021-06-04 10:56:27.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-18 12:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/47ccfbcfb31de937916ada1b4690fef6d12ec20b', 'message': 'Ignore OVN Bridge MAC net for inventory generation\n\nThe OVN Bridge MAC network causes the inventory generation\nto be skipped due to MissingMandatoryNeutronResourceTag.\nThis nework should be ignored here.\n\nRelated: blueprint network-data-v2-ports\nPartial-Bug: #1928469\nChange-Id: Idb557d0c6c4356385cb05b2041b0bdaa5485367a\n(cherry picked from commit 8877d0f80572431fbb636f47ea87b38fbd6f64f4)\n'}, {'number': 2, 'created': '2021-06-01 17:07:55.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c5b08b46e56de7fa2641aad84f17fd23b094adc', 'message': 'Ignore OVN Bridge MAC net for inventory generation\n\nThe OVN Bridge MAC network causes the inventory generation\nto be skipped due to MissingMandatoryNeutronResourceTag.\nThis nework should be ignored here.\n\nRelated: blueprint network-data-v2-ports\nPartial-Bug: #1928469\nChange-Id: Idb557d0c6c4356385cb05b2041b0bdaa5485367a\n(cherry picked from commit 8877d0f80572431fbb636f47ea87b38fbd6f64f4)\n'}]",0,791936,5c5b08b46e56de7fa2641aad84f17fd23b094adc,19,4,2,24245,,,0,"Ignore OVN Bridge MAC net for inventory generation

The OVN Bridge MAC network causes the inventory generation
to be skipped due to MissingMandatoryNeutronResourceTag.
This nework should be ignored here.

Related: blueprint network-data-v2-ports
Partial-Bug: #1928469
Change-Id: Idb557d0c6c4356385cb05b2041b0bdaa5485367a
(cherry picked from commit 8877d0f80572431fbb636f47ea87b38fbd6f64f4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/791936/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/inventory.py']",2,47ccfbcfb31de937916ada1b4690fef6d12ec20b,bug/1928469-stable/wallaby, # Don't include the OVN Bridge MAC address net if net.name == constants.OVN_MAC_ADDR_NET_NAME: continue ,,8,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia1a03cf798436b5f9865b527a8c742d13bbff180,openstack/tripleo-heat-templates,stable/train,Ia1a03cf798436b5f9865b527a8c742d13bbff180,Disable tunnelled migration,MERGED,2021-06-03 14:59:55.000000000,2021-06-04 10:55:55.000000000,2021-06-04 10:55:55.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 14:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c5eafda1dc6fca4e8ff78b0b909bb08c205c2db', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 1a42c86ede12300c57459e6da567574272def5fa)\n(cherry picked from commit 5271a5b5a84aa887539e78289ab9cbc91a23607f)\n(cherry picked from commit 68a33039562b67ea302a8a48303a377d67f10d12)\n'}, {'number': 2, 'created': '2021-06-03 15:10:42.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b7476594ae055426a10217bf6b77d0925315ba9', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 0efd6f0679ca5b324e06843619aec780bc129715)\n(cherry picked from commit 069005186427fbcf2034e07dbcac96d8d81ea4c4)\n(cherry picked from commit 76059627b8e815b923de580c9121a5b0bb45c7d3)\n'}]",0,794616,7b7476594ae055426a10217bf6b77d0925315ba9,8,6,2,27419,,,0,"Disable tunnelled migration

Tunnelled migration is not compatible with post_copy as pointed by the
related BZ. It was disabled up until we fixed the puppet namespace in
I845bc3c533e55dd5398d6a74ee48762cfd32b8a9

Closes-bug: 1930599
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1967130
Change-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180
(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)
(cherry picked from commit 0efd6f0679ca5b324e06843619aec780bc129715)
(cherry picked from commit 069005186427fbcf2034e07dbcac96d8d81ea4c4)
(cherry picked from commit 76059627b8e815b923de580c9121a5b0bb45c7d3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/794616/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,2c5eafda1dc6fca4e8ff78b0b909bb08c205c2db,, # TUNNELLED mode is not compatible with post_copy. nova::migration::libvirt::live_migration_tunnelled: false," enable_live_migration_tunnelled: and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration # TUNNELLED mode provides a security improvement for migration, but # can't be used in combination with block migration. So we only enable it # when shared storage is available (Ceph RDB is currently the only option). # See https://bugzilla.redhat.com/show_bug.cgi?id=1301986#c12 # In future versions of QEMU (2.6, mostly), danpb's native # encryption work will obsolete the need to use TUNNELLED transport # mode. nova::migration::libvirt::live_migration_tunnelled: if: - enable_live_migration_tunnelled - true - false",2,27
openstack%2Fhorizon~master~I51138459d308c7367ec1256507025c0225dfbd52,openstack/horizon,master,I51138459d308c7367ec1256507025c0225dfbd52,Imported Translations from Zanata,MERGED,2021-06-04 06:51:33.000000000,2021-06-04 10:46:22.000000000,2021-06-04 10:40:41.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-04 06:51:33.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/547049bb1a551b330cfdc10463484b9309bc1215', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I51138459d308c7367ec1256507025c0225dfbd52\n'}]",0,794712,547049bb1a551b330cfdc10463484b9309bc1215,8,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I51138459d308c7367ec1256507025c0225dfbd52
",git fetch https://review.opendev.org/openstack/horizon refs/changes/12/794712/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po']",3,547049bb1a551b330cfdc10463484b9309bc1215,zanata/translations,"""POT-Creation-Date: 2021-06-03 13:59+0000\n""""PO-Revision-Date: 2021-06-03 07:15+0000\n""msgid ""Confirm Delete Policy"" msgid_plural ""Confirm Delete Policies"" msgstr[0] ""Confirmar borrar poltica"" msgstr[1] ""Confirmar borrar polticas"" #, python-format msgid ""Deleted policy: %s."" msgid_plural ""Deleted policies: %s."" msgstr[0] ""Poltica borrada: %s."" msgstr[1] ""Polticas borradas: %s."" msgid """" ""Key Pairs are how you login to your instance after it is launched.\n"" "" Choose a key pair name you will recognize.\n"" "" Names may only include alphanumeric characters, spaces, dashes and\n"" "" underscores."" msgstr """" ""Los pares de claves se utilizan para acceder a la instancia despus de "" ""lanzarla.\n"" "" Elija un nombre reconocible para el par de claves.\n"" "" Los nombres pueden incluir caracteres alfanumricos, espacios o guiones y\n"" "" guiones bajos."" msgid ""Look, I'm in a large well!"" msgstr ""Estoy en un pozo grande"" msgid """" ""Metadata is a collection of key-value pairs associated with an instance.\n"" "" The maximum length for each metadata key and value is 255 characters."" msgstr """" ""Los metadatos son un conjunto de pares clave-valor asociados con la "" ""instancia.\n"" "" La longitud mxima de cada clave y valor de metadatos es de 255 caracteres."" msgid """" ""Metadata is used to provide additional information about the\n"" "" image. Sometimes this information is only used for sorting and viewing.\n"" "" In some installations this information may affect how the instance is\n"" "" deployed or behaves."" msgstr """" ""Los metadatos se utilizan para proporcionar informacinadicional sobre la\n"" "" imagen. Algunas veces la informacin solo se utiliza para ordenar y "" ""visualizar.\n"" "" En algunas instalaciones esta informacin puede afectar a como la "" ""instancia\n"" "" se despliega o comporta."" "" file name to place the new file into a folder that will be "" ""created\n"" "" when the file is uploaded (to any depth of folders)."" msgstr """" ""Nota: Delimitadores ('{$ ctrl.model.DELIMETER $}') est permitidos en el\n"" "" nombre del fichero para ubicar el nuevo fichero en una carpeta que "" ""se creat\n"" "" cuando el fichero se suba (a cualquier nivel jerrquico)."" msgid """" ""Note: Delimiters ('{$ ctrl.model.DELIMETER $}') are allowed in the\n""msgid """" ""Select an <em>arbitrary amount of ports (0, 1, 2, ...)</em> and their\n"" "" segmentation details as the subports of the trunk to be created.\n"" "" Optional."" msgstr """" ""Seleccione un <em>nmero arbitrario (0, 1, 2, ...) de puertos</em> y sus\n"" "" detalles de segmentacin como subpuertos para el enlace troncal a crear.\n"" "" Opcional."" ""The current Horizon settings indicate no valid\n"" "" image creation methods are available. Providing\n"" "" an image location and/or uploading from the\n"" "" local file system must be allowed to support\n"" "" image creation."" msgstr """" ""Los ajustes actuales de Horizon indican que no hay\n"" "" mtodos de creacin de imgenes disponibles. Proporcionar\n"" "" una ubicacion de la imagen y/o subirla desde un\n"" "" sistema de ficheros local, deben estar soportados para soportar\n"" "" la creacin de imgenes."" msgid """"""There are no allowed boot\n"" "" sources. If you think this is wrong please contact your administrator."" msgstr """" ""No hay orgenes permitidos\n"" "" desde los que arrancar. Si piensa que es un error, contacte con su "" ""administrador."" msgid """"msgid ""Unable to delete policy: %s."" msgid_plural ""Unable to delete policies: %s."" msgstr[0] ""No se ha podido borrar poltica: %s."" msgstr[1] ""No se ha podido borrar polticas: %s."" #, python-format#, python-format msgid ""Unable to retrieve the policy with ID %(id)s"" msgstr ""No se ha podido obtener la poltica con ID %(id)s"" msgid ""Wells"" msgstr ""Pozos"" msgid """" ""When the <b>Admin State</b> for a port is set to <b>Up</b> and it has no "" ""<b>Device Owner</b>,\n"" "" then the port is available for use. You can set the <b>Admin State</b> "" ""to <b>Down</b>\n"" "" if you are not ready for other users to use the port."" msgstr """" ""Cuando el <b>Estado de administracin</b> de un puerto est puesto en "" ""<b>Arriba</b> y no tiene <b>Propietario de \n"" "" dispositivo</b>, entonces el puerto est disponible para su uso. Puede "" ""poner el <b>estado de administracin</b> en\n"" "" <b>Abajo</b> si no puede ponerse este puerto para que lo usen otros "" ""usuarios."" msgid ""You have selected \""%s\"". Deleted policy is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted policies are not recoverable."" msgstr[0] ""Ha seleccionado \""%s\"". La poltica borrada no es recuperable."" msgstr[1] ""Ha seleccionado \""%s\"". Las polticas borradas no son recuperables."" #, python-formatmsgid ""min disk is required and must be an integer not less than 0"" msgstr """" ""El obligatorio establecer Disco Mnimo y debe ser un entero mayor o igual "" ""que 0"" msgid ""min ram is required and must be an integer not less than 0"" msgstr """" ""Debe establecerse la RAM mnima y debe ser un entero mayor o igual que 0"" ","""POT-Creation-Date: 2021-06-01 14:36+0000\n""""PO-Revision-Date: 2021-06-02 02:55+0000\n""",149,7
openstack%2Fpuppet-gnocchi~master~Id1957e4d6e5ad003592ad46e469ec9f9e78ad58d,openstack/puppet-gnocchi,master,Id1957e4d6e5ad003592ad46e469ec9f9e78ad58d,Deprecated manage_cradox and set manage_rados to true,MERGED,2021-05-26 09:25:53.000000000,2021-06-04 10:46:12.000000000,2021-06-04 10:44:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 09:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/7bf768c4c5d395163c06f233fab33dcfb9071962', 'message': ""Deprecated manage_cradox and set manage_rados to true\n\nThe [1] commit changed the ordering in Gnocchi so that\nthe rados library is preferred over cradox that is no\nlonger maintained and hasn't been updated in a long time.\n\nCradox is no longer tested in upstream Gnocchi and support\nwas removed in [2] which is not yet released.\n\nThis patch also changes the default value for manage_rados\nto true so that it's manage by default since it's the one\npreferred.\n\n[1] https://github.com/gnocchixyz/gnocchi/commit/d5a782e58fc5b3593672fb9c8ac86fddc0c0dedf#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785\n[2] https://github.com/gnocchixyz/gnocchi/commit/bf37e90edaa693880a6f025b1c9329579a7b9882#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785\n\nChange-Id: Id1957e4d6e5ad003592ad46e469ec9f9e78ad58d\n""}, {'number': 2, 'created': '2021-05-28 07:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/a392bb32d9aabc4e8acffeadb79d3ea4a136938e', 'message': ""Deprecated manage_cradox and set manage_rados to true\n\nThe [1] commit changed the ordering in Gnocchi so that\nthe rados library is preferred over cradox that is no\nlonger maintained and hasn't been updated in a long time.\n\nCradox is no longer tested in upstream Gnocchi and support\nwas removed in [2] which is not yet released.\n\nThis patch also changes the default value for manage_rados\nto true so that it's manage by default since it's the one\npreferred.\n\n[1] https://github.com/gnocchixyz/gnocchi/commit/d5a782e58fc5b3593672fb9c8ac86fddc0c0dedf#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785\n[2] https://github.com/gnocchixyz/gnocchi/commit/bf37e90edaa693880a6f025b1c9329579a7b9882#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785\n\nChange-Id: Id1957e4d6e5ad003592ad46e469ec9f9e78ad58d\n""}, {'number': 3, 'created': '2021-06-04 07:35:27.000000000', 'files': ['manifests/params.pp', 'manifests/storage/ceph.pp', 'releasenotes/notes/deprecated-manage-cradox-6a4052d270c5180e.yaml', 'spec/classes/gnocchi_storage_ceph_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/3591bd8acc1ac49feb2f0fa33a45a09e94e08407', 'message': ""Deprecated manage_cradox and set manage_rados to true\n\nThe [1] commit changed the ordering in Gnocchi so that\nthe rados library is preferred over cradox that is no\nlonger maintained and hasn't been updated in a long time.\n\nCradox is no longer tested in upstream Gnocchi and support\nwas removed in [2] which is not yet released.\n\nThis patch also changes the default value for manage_rados\nto true so that it's manage by default since it's the one\npreferred.\n\n[1] https://github.com/gnocchixyz/gnocchi/commit/d5a782e58fc5b3593672fb9c8ac86fddc0c0dedf#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785\n[2] https://github.com/gnocchixyz/gnocchi/commit/bf37e90edaa693880a6f025b1c9329579a7b9882#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785\n\nChange-Id: Id1957e4d6e5ad003592ad46e469ec9f9e78ad58d\n""}]",1,793127,3591bd8acc1ac49feb2f0fa33a45a09e94e08407,19,3,3,16137,,,0,"Deprecated manage_cradox and set manage_rados to true

The [1] commit changed the ordering in Gnocchi so that
the rados library is preferred over cradox that is no
longer maintained and hasn't been updated in a long time.

Cradox is no longer tested in upstream Gnocchi and support
was removed in [2] which is not yet released.

This patch also changes the default value for manage_rados
to true so that it's manage by default since it's the one
preferred.

[1] https://github.com/gnocchixyz/gnocchi/commit/d5a782e58fc5b3593672fb9c8ac86fddc0c0dedf#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785
[2] https://github.com/gnocchixyz/gnocchi/commit/bf37e90edaa693880a6f025b1c9329579a7b9882#diff-60cbc467d17fe0479d5cb2292f716fd73b200973ae43889f72c51227d311a785

Change-Id: Id1957e4d6e5ad003592ad46e469ec9f9e78ad58d
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/27/793127/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'manifests/storage/ceph.pp', 'releasenotes/notes/deprecated-manage-cradox-6a4052d270c5180e.yaml', 'spec/classes/gnocchi_storage_ceph_spec.rb']",4,7bf768c4c5d395163c06f233fab33dcfb9071962,," shared_examples 'gnocchi::storage::ceph' do it { is_expected.to contain_package('python-rados').with( :ensure => 'present', :name => 'python3-rados', :tag => ['openstack', 'gnocchi-package'], )} context 'with manage_rados to false' do params.merge!( :manage_rados => false ) it_behaves_like 'gnocchi::storage::ceph'"," :manage_cradox => false, :manage_rados => true, shared_examples 'gnocchi storage ceph' do context 'with manage_rados to true' do params.merge!({ :manage_cradox => false, :manage_rados => true, }) it { is_expected.not_to contain_package('python-cradox') } it { is_expected.to contain_package('python-rados').with(:ensure => 'present') } end context 'with manage_cradox and manage_rados to true' do before do params.merge!({ :manage_cradox => true, :manage_rados => true, }) end it { is_expected.to raise_error(Puppet::Error, /gnocchi::storage::ceph::manage_rados and gnocchi::storage::ceph::manage_cradox both cannot be set to true./) } end end shared_examples 'gnocchi storage ceph cradox redhat' do context 'with manage_cradox to true' do before do params.merge!({ :manage_cradox => true, :manage_rados => false, }) end it { is_expected.to contain_package('python-cradox').with(:ensure => 'present') } shared_examples 'gnocchi storage ceph cradox debian' do context 'with manage_cradox to true' do before do params.merge!({ :manage_cradox => true, :manage_rados => false, }) end it { is_expected.to raise_error(Puppet::Error, /gnocchi::storage::ceph::manage_cradox set to true will fail due to no package being available./) } end end case facts[:osfamily] when 'Debian' it_behaves_like 'gnocchi storage ceph cradox debian' when 'RedHat' it_behaves_like 'gnocchi storage ceph cradox redhat' end it_behaves_like 'gnocchi storage ceph'",36,87
openstack%2Fnetworking-bgpvpn~stable%2Fussuri~Id04da60731543d970de6a1a88da5a32435be1aae,openstack/networking-bgpvpn,stable/ussuri,Id04da60731543d970de6a1a88da5a32435be1aae,Fix pep8 job,MERGED,2020-07-28 09:04:04.000000000,2021-06-04 10:46:03.000000000,2021-06-04 10:41:30.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-07-28 09:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/496e61c3160c6035805df9dedd565b4ab5c9ab38', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}, {'number': 2, 'created': '2020-07-28 09:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/bf7b7c194caee6363f8f283bb16380706cefe0fe', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)\n'}, {'number': 3, 'created': '2020-07-28 12:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/adf973f1ccfb732bd248d059252837af99a21bc9', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\nUse ussuri Neutron networking-agpipe and Horizon.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)\n'}, {'number': 4, 'created': '2020-10-06 14:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/aa9b2c0d37c84ec84d6df53b666e447d8665b3df', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\nUse ussuri Neutron networking-bagpipe and Horizon.\n\nDepends-On: https://review.opendev.org/755719\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)\n'}, {'number': 5, 'created': '2021-01-11 09:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/612e0f6234654e99b83f80db2ae4158df26ce68e', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\nUse ussuri Neutron networking-bagpipe and Horizon.\n\nDepends-On: https://review.opendev.org/755719\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)\n'}, {'number': 6, 'created': '2021-01-12 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d52d1014293798ac75e06df3b9b81e83c49301a7', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\nUse ussuri Neutron networking-bagpipe and Horizon.\n\nDepends-On: https://review.opendev.org/755719\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)\n'}, {'number': 7, 'created': '2021-05-07 14:42:08.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c38e8902fd15d36a857b251133cd6db453acd7b9', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\nUse ussuri Neutron networking-bagpipe and Horizon.\n\nNot in the original patch: make lower-constraints job non-voting\n\nDepends-On: https://review.opendev.org/755719\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)\n'}]",2,743487,c38e8902fd15d36a857b251133cd6db453acd7b9,55,6,7,8313,,,0,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.
Make sure that siblings are installed for functional tests.
Use ussuri Neutron networking-bagpipe and Horizon.

Not in the original patch: make lower-constraints job non-voting

Depends-On: https://review.opendev.org/755719
Change-Id: Id04da60731543d970de6a1a88da5a32435be1aae
(cherry picked from commit 8c6564ffc4d2e00563ae22cfee6ebb4314304d9b)
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/87/743487/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt']",4,496e61c3160c6035805df9dedd565b4ab5c9ab38,pep8-error-stable/ussuri,isort==4.3.21,,9,2
openstack%2Fhorizon~stable%2Fvictoria~I362877bf6a2ebf1e7091a9c0bf4286fc45475072,openstack/horizon,stable/victoria,I362877bf6a2ebf1e7091a9c0bf4286fc45475072,Imported Translations from Zanata,MERGED,2021-06-04 06:51:49.000000000,2021-06-04 10:44:30.000000000,2021-06-04 10:40:58.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-04 06:51:49.000000000', 'files': ['openstack_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1bfc52395dd4cfedce7871bd90ca69e12f4d479', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I362877bf6a2ebf1e7091a9c0bf4286fc45475072\n'}]",0,794713,e1bfc52395dd4cfedce7871bd90ca69e12f4d479,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I362877bf6a2ebf1e7091a9c0bf4286fc45475072
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/794713/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/es/LC_MESSAGES/django.po'],1,e1bfc52395dd4cfedce7871bd90ca69e12f4d479,zanata/translations,"""POT-Creation-Date: 2021-05-25 18:32+0000\n""""PO-Revision-Date: 2021-06-03 07:48+0000\n""msgid """" ""<b>Access Rules</b>: If you want more fine-grained access control "" ""delegation, you can create one or more access rules for this application "" ""credential. The list of access rules must be a JSON- or YAML-formatted list "" ""of rules each containing a service type, an HTTP method, and a URL path, for "" ""example: <br /> <code> [ <br /> &nbsp;&nbsp;{\""service\"": \""compute\"", <br /"" ""> &nbsp;&nbsp;\""method\"": \""POST\"", <br /> &nbsp;&nbsp;\""path\"": \""/v2.1/"" ""servers\""} <br /> ] <br /> </code> or: <br /> <code> - service: compute <br /"" ""> &nbsp;&nbsp;method: POST <br /> &nbsp;&nbsp;path: /v2.1/servers </code>"" msgstr """" ""<b>Reglas de acceso</b> Si quiere una delegacin de control ms precisa, "" ""puede crear una o ms reglas de acceso para estas credenciales de "" ""aplicacin. La lista de reglas de acceso debe ser una lista de reglas en "" ""formato JSON o YAML conteniendo cada una de ellas un tipo de servicio, un "" ""mtodo HTTP y una URL, por ejemplo: <br /> <code> [ <br /> &nbsp;&nbsp;"" ""{\""service\"": \""compute\"", <br /> &nbsp;&nbsp;\""method\"": \""POST\"", <br /> "" ""&nbsp;&nbsp;\""path\"": \""/v2.1/servers\""} <br /> ] <br /> </code> or: <br /> "" ""<code> - service: compute <br /> &nbsp;&nbsp;method: POST <br /> &nbsp;&nbsp;"" ""path: /v2.1/servers </code>"" msgid """" ""<b>Expiration Date/Time</b>: You may give the application credential an "" ""expiration. The expiration will be in UTC. If you provide an expiration date "" ""with no expiration time, the time will be assumed to be 00:00:00. If you "" ""provide an expiration time with no expiration date, the date will be assumed "" ""to be today."" msgstr """" ""<b>Fecha/Hora de caducidad</b>. Puede dar una caducidad a las credenciales "" ""de aplicacin. La caducidad debe estar en UTC. Si proporciona una fecha de "" ""caducidad sin hora, se asumir 00:00:00. Si proporciona una hora sin fecha, "" ""se asumir que la fecha es hoy."" msgid """" ""<b>Kubernetes Namespace</b>: You can optionally provide a Kubernetes "" ""Namespace. It will be included in the kubeconfig file which can be "" ""downloaded from the next screen."" msgstr """" ""<b>Espacio de nombres de Kubernetes</b>. Puede opcionalmente proporcionar un "" ""espacio de nombres de Kubernetes. ste ser incluido en el fichero "" ""kubeconfig que puede descargarse en la siguiente pantalla."" msgid """" ""<b>Roles</b>: You may select one or more roles for this application "" ""credential. If you do not select any, all of the roles you have assigned on "" ""the current project will be applied to the application credential."" msgstr """" ""<b>Roles</b>Puede seleccionar uno o ms roles para las credenciales de "" ""aplicacin. Si no selecciona ninguno, se aplicarn las credenciales de "" ""aplicacin a todos los roles que tenga asignados en el proyecto actual."" msgid """" ""<b>Secret</b>: You may provide your own secret, or one will be generated for "" ""you. Once your application credential is created, the secret will be "" ""revealed once. If you lose the secret, you will have to generate a new "" ""application credential."" msgstr """" ""<b>Secreto</b>. Puede proporcionar su propio secreto, o se generar uno para "" ""usted. Una vez que se creen las credenciales, se mostrar una vez el "" ""secreto. Si lo pierde, deber generar unas nuevas credenciales de aplicacin."" msgid """" ""<b>Unrestricted</b>: By default, for security reasons, application "" ""credentials are forbidden from being used for creating additional "" ""application credentials or keystone trusts. If your application credential "" ""needs to be able to perform these actions, check \""unrestricted\""."" msgstr """" ""<b>No restringida</b> Por razones de seguridad, las credenciales de "" ""aplicacin tienen prohibida de forma predeterminada la creacin adicional de "" ""credenciales de aplicacin o keystone trusts. Si necesita que sus "" ""credenciales de aplicacin realicen estas acciones, marque \""no restringida"" ""\""."" msgstr ""Fichero local de definicin de metadatos para subir.""msgid ""Access Rules"" msgstr ""Reglas de acceso"" msgid ""Access rules must be a valid JSON or YAML list."" msgstr ""Las reglas de acceso deben ser un JSON o YAML vlidos."" msgid ""Action and Object Type"" msgstr ""Tipo de accin y objeto"" msgid ""Age"" msgstr ""Edad"" msgid ""Application Credential Details"" msgstr ""Detalles de credenciales de aplicacin"" msgid ""Application Credential Name ="" msgstr ""Nombre de las credenciales de aplicacin ="" msgid ""Application Credentials"" msgstr ""Credenciales de aplicacin"" #, python-format msgid ""Application credential name \""%s\"" is already used."" msgstr ""El nombre de credenciales de aplicacin \""%s\"" ya se est usando."" msgid ""Back-End Example:"" msgstr ""Ejemplo \""back-end\"":"" ""By default, group type is created as public. To create a private group type, "" ""uncheck this field."" msgstr """" ""Un tipo de grupo se crea de forma predeterminada como pblico. Para crear un "" ""tipo de grupo privado, marque este campo."" msgid """"msgstr ""No se puede especificar fichero y entrada directa a la vez.""msgid """" ""Check the &quot;Delete Volumes&quot; box to also delete any volumes "" ""associated with this group."" msgstr """" ""Marque &quot;Borrar volmenes&quot; para tambin borrar todos los volmenes "" ""asociados con este grupo."" msgid ""Create A RBAC Policy"" msgstr ""Crear una poltica RBAC"" msgid ""Create Application Credential"" msgstr ""Crear credenciales de aplicacin"" msgid ""Create Group Type Spec"" msgstr ""Crear especificaciones de tipo de grupo"" msgid ""Create RBAC Policy"" msgstr ""Crear poltica RBAC"" msgid ""Create a Group Type"" msgstr ""Crear un tipo de grupo"" msgid ""Create a RBAC Policy"" msgstr ""Crear una poltica RBAC"" msgid ""Create a new \""group type spec\"" key-value pair for a group type."" msgstr """" ""Crear unas nuevo par clave-valor de \""especificaciones de tipo de grupo\"" "" ""para un tipo de grupo."" #, python-format msgid """" ""Create a new \""spec\"" key-value pair for QoS Spec \""%(qos_spec_name)s\"". "" ""Valid key names are expected in the QoS specs. Refer to Cinder documentation "" ""for the supported front-end and back-end keys."" msgstr """" ""Crear un nuevo par clave-valor para especificificacin QoS "" ""\""%(qos_spec_name)s\"". Se esperan nombres vlidos para las especificaciones "" ""QoS. Vea la documentacin de Cinder para las claves soportadas en \""front-end"" ""\"" y \""back-end\""."" msgid ""Create a new application credential."" msgstr ""Crear unas nuevas credenciales de aplicacin."" msgid ""Created group type spec \""%s\""."" msgstr ""Se han creado las especificaciones de tipo de grupo \""%s\""."" #, python-formatmsgid ""Delete Application Credential"" msgid_plural ""Delete Application Credentials"" msgstr[0] ""Borrar credenciales de aplicacin"" msgstr[1] ""Borrar credenciales de aplicacin"" msgid ""Delete Group Type"" msgid_plural ""Delete Group Types"" msgstr[0] ""Borrar tipo de grupo"" msgstr[1] ""Borrar tipos de grupo"" msgid ""Delete RBAC Policy"" msgid_plural ""Delete RBAC Policies"" msgstr[0] ""Borrar poltica RBAC"" msgstr[1] ""Borrar polticas RBAC"" msgid ""Deleted Application Credential"" msgid_plural ""Deleted Application Credentialss"" msgstr[0] ""Credenciales de aplicacin borrada"" msgstr[1] ""Credenciales de aplicacin borradas"" msgid ""Deleted Group Type"" msgid_plural ""Deleted Group Types"" msgstr[0] ""Tipo de grupo borrado"" msgstr[1] ""Tipos de grupo borrados"" msgid ""Deleted RBAC Policy"" msgid_plural ""Deleted RBAC Policies"" msgstr[0] ""Poltica RBAC borrada"" msgstr[1] ""Polticas RBAC borradas"" msgid ""Deleted RBAC policy is not recoverable."" msgstr ""La poltica RBAC borrada no es recuperable."" msgid ""Domain"" msgstr ""Dominio"" msgid ""Download clouds.yaml"" msgstr ""Descargar clouds.yaml"" msgid ""Download kubeconfig file"" msgstr ""Descargar fichero kubeconfig"" msgid ""Download openrc file"" msgstr ""Descargar fichero openrc"" msgid ""Edit Group Type Spec"" msgstr ""Editar especificaciones de tipo de grupo"" #, python-format msgid ""Edit Group Type Spec Value: %s"" msgstr ""Editar valor de especificaciones de tipo de grupo: %s"" msgstr ""Endpoints""msgid ""Euca2ools state"" msgstr ""Estado Euca2ools"" msgid ""Expiration"" msgstr ""Caducidad"" msgid ""Expiration Date"" msgstr ""Fecha de caducidad"" msgid ""Expiration Time"" msgstr ""Hora de caducidad"" msgid ""Expires"" msgstr ""Caduca"" msgid ""Failed to check if neutron supports \""auto_allocated_network\""."" msgstr """" ""Ha fallado la comprobacin del soporte de neutron de \""redes autoasignadas\""."" msgid ""Failed to check if nova supports \""auto_allocated_network\""."" msgstr """" ""Ha fallado la comprobacin del soporte de nova de \""redes autoasignadas\""."" msgid ""Failed to create a rbac policy."" msgstr ""Ha ocurrido un fallo al crear la poltica RBAC."" msgid ""Failed to update rbac policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la poltica RBAC %s"" #, python-formatmsgid ""From here you can create a rbac policy."" msgstr ""Desde aqu puede crear una poltica RBAC."" msgid ""Front-End Example:"" msgstr ""Ejemplo \""front-end\"":"" msgid ""Group"" msgstr ""Grupo"" #, python-format msgid ""Group \""%s\"" already exists."" msgstr ""El grupo \""%s\"" ya existe."" msgid ""Group Snapshot"" msgstr ""Instantneas de grupo"" msgid ""Group Snapshots"" msgstr ""Instantneas de grupo"" msgid ""Group Type"" msgstr ""Tipo de grupo"" msgid ""Group Type Specs"" msgstr ""Especificaciones de tipo de grupo"" #, python-format msgid ""Group Type: %(group_type_name)s"" msgstr ""Tipo de grupo: %(group_type_name)s"" #, python-format msgid ""Group Type: %(group_type_name)s "" msgstr ""Tipo de Grupo: %(group_type_name)s "" msgid """" ""Group type is a type or label that can be selected at group creation time in "" ""OpenStack. It usually maps to a set of capabilities of the storage back-end "" ""driver to be used for this group. Examples: \""Performance\"", \""SSD\"", "" ""\""Backup\"", etc. This is equivalent to the <tt>cinder type-create</tt> "" ""command. Once the group type gets created, click the \""View Specs\"" button "" ""to set up specs key-value pair(s) for that group type."" msgstr """" ""El tipo de grupo es un tipo o etiqueta que puede ser seleccionada para cada "" ""grupo al crearlo en OpenStack. Normalmente mapea un conjunto de "" ""funcionalidades del controlador de almacenamiento para usarlas en este "" ""grupo. Ejemplos: \""Alto Rendimiento\"", \""SSD\"", \""Copias de seguridad\"", "" ""etc. Esto es equivalente al comando <tt>cinder type-create</tt>. Una vez que "" ""el tipo de grupo est creado, hay que hacer click en el botn \""Ver espec\"" "" ""para configurar los pares clave-valor especficos para ese tipo de grupo."" #, python-format msgid ""Group type name \""%s\"" already exists."" msgstr ""El nombre de tipo de grupo \""%s\"" ya existe."" msgid ""Group type name can not be empty."" msgstr ""El tipo de grupo no puede estar vaco."" msgid ""If checked, the network will be enabled."" msgstr ""Si se marca, la red estar habilitada."" ""Key names can only contain alphanumeric characters, underscores, periods, "" ""colons and hyphens"" msgstr """" ""Los nombres de las claves solo pueden contener caracteres alfanumricos, "" ""guiones bajos y medios, y puntos."" msgid """"#, python-format msgid """" ""Key with name \""%s\"" already exists. Use Edit to update the value, else "" ""create key with different name."" msgstr """" ""Ya existe la clave con nombre \""%s\"". Use editar para actualizar el valor o "" ""cree una clave con un nombre diferente."" msgid ""Key: burstIOPS and Value: 5000 (number value bigger than minIOPS)"" msgstr ""Clave: burstIOPS and Value: 5000 (valor numrico mayor que minIOPS)"" msgid ""Key: maxIOPS and Value: 5000 (number value bigger than minIOPS)"" msgstr ""Clave: maxIOPS and Value: 5000 (valor numrico mayor que minIOPS)"" msgid ""Key: minIOPS and Value: 20 (number value less than maxIOPS)"" msgstr ""Clave: minIOPS and Value: 20 (valor numrico inferior a maxIOPS)"" msgid ""Key: size_iops_sec and Value: 16"" msgstr ""Clave: size_iops_sec and Value: 16"" msgid ""Key: total_bytes_sec_max and Value: 512000"" msgstr ""Clave: total_bytes_sec_max and Value: 512000"" msgid ""Key: total_iops_sec and Value: 5000"" msgstr ""Clave: total_iops_sec and Value: 5000"" msgid ""Kubernetes Namespace"" msgstr ""Espacio de nombres de Kubernetes"" msgid ""Lock password"" msgstr ""Bloquear contrasea"" msgstr ""Fichero de definicin metadatos""msgid ""Method"" msgstr ""Mtodo"" msgid ""Modified flavor access of \""%s\""."" msgstr ""Acceso al sabor \""%s\"" modificado."" #, python-formatmsgid ""Modify group type name, description, and public status."" msgstr ""Modificar nombre del tipo de grupo, descripcin y estado pblico."" msgstr ""Origen de definicin del espacio de nombres""msgid ""New name conflicts with another group type."" msgstr ""El nuevo nombre solapa con el nombre de otro tipo de grupo."" msgid ""Object"" msgstr ""Objeto"" msgid ""Object ID"" msgstr ""ID de objeto"" msgid ""Object Type"" msgstr ""Tipo de objeto"" msgid ""Path"" msgstr ""Ruta"" msgid """" ""Please capture the application credential ID and secret in order to provide "" ""them to your application."" msgstr """" ""Por favor, capture el ID de las credenciales de aplicacin y su secreto para "" ""proporcionrselos a la aplicacin."" msgstr ""Estado de energa""msgid ""QoS Policy"" msgstr ""Poltica QoS"" #, python-format msgid ""RBAC Policy %s was successfully updated."" msgstr ""La poltica RBAC \""%s\"" se actualiz correctamente."" msgid ""RBAC Policy Details"" msgstr ""Detalles de poltica RBAC"" msgid ""RBAC Policy was successfully created."" msgstr ""La poltica RBAC se cre correctamente."" msgid ""Replication Status"" msgstr ""Estado de replicacin"" msgid ""Rescue Instance"" msgstr ""Rescatar instancia"" msgid ""Roles from Groups"" msgstr ""Roles mediante grupos"" msgid ""Saved group type spec \""%s\""."" msgstr ""Se han guardado las especificaciones de tipo de grupo \""%s\""."" #, python-formatmsgid ""Secret"" msgstr ""Secreto"" msgid ""Select a QoS policy"" msgstr ""Seleccionar una poltica QoS"" msgid ""Select a network"" msgstr ""Seleccionar una red"" msgid ""Select action and object type"" msgstr ""Seleccionar accin y tipo de objeto"" msgid ""Shared Network"" msgstr ""Red compartida"" msgid ""Shared QoS Policy"" msgstr ""Poltica QoS compartida"" msgid ""Successfully created group type: %s"" msgstr ""Se ha creado correctamente el tipo de grupo: %s"" #, python-formatmsgid ""Successfully updated group type."" msgstr ""Se ha actualizado correctamente el tipo de grupo."" msgid ""Target Project"" msgstr ""Proyecto destino"" msgid ""Target Tenant"" msgstr ""Proyecto objetivo"" ""The <strong>Key Size</strong> is the size of the encryption key, in bits (e."" ""g., 256). If the field is left empty, the provider default will be used."" msgstr """" ""El <strong>Tamao de clave</strong> es el tamao de la clave de cifrado en "" ""bits (p.ej. 256). Si se deja en blanco, se usar el valor predeterminado del "" ""proveedor."" msgid """"msgstr ""El formato JSON contenidos en un espacio de nombres.""""The application credential secret will not be available after closing this "" ""page, so you must capture it now or download it. If you lose this secret, "" ""you must generate a new application credential."" msgstr """" ""No estar disponible el secreto de las credenciales de aplicacin despus de "" ""cerrar esta pgina, por lo que debe capturarlo o descargarlo ahora. Si "" ""pierde este secreto, deber generar unas nuevas credenciales de aplicacin."" msgid """" ""The application credential will be created for the currently selected "" ""project."" msgstr """" ""Se crearn credenciales de aplicacin para el proyecto seleccionado "" ""actualmente."" msgid """"msgid ""The key must match the following the regex: '^[a-zA-Z0-9-_:. /]'"" msgstr """" ""La clave debe seguir la siguiente expresin regular: '^[a-zA-Z0-9-_:. /]'"" #, python-format msgid ""The password does not match the requirements: %s"" msgstr ""La contrasea no cumple con los requisitos: %s"" msgid """" ""The rescue mode is only for emergency purpose, for example in case of a "" ""system or access failure."" msgstr """" ""El modo rescate es solo para usar en caso de emergencia, por ejemplo, en el "" ""caso de un fallo del sistema o en el acceso."" msgid """" ""This action will unassign all volumes that are currently contained in this "" ""group."" msgstr """" ""Esta accin desasignar todos los volmenes que estn actualmente en este "" ""grupo."" msgid """" ""This will shut down your instance and mount the root disk to a temporary "" ""server. Then, you will be able to connect to this server, repair the system "" ""configuration or recover your data."" msgstr """" ""Esto apagar su instancia y montar el disco raz en un servidor temporal. "" ""Luego, ser posible conectarse a este servidor, reparar la configuracin del "" ""sistema o recuperar sus datos."" msgid ""To make group type private, uncheck this field."" msgstr ""Para hacer privado un tipo de grupo, desmarque este campo."" msgid ""Unable to create application credential."" msgstr ""No ha sido posible crear las credenciales de aplicacin."" msgid ""Unable to create group type spec."" msgstr ""No ha sido posible crear las especificaciones de tipo de grupo."" msgid ""Unable to create group type."" msgstr ""No ha sido posible crear el tipo de grupo."" msgid ""Unable to display the groups of this project."" msgstr ""No ha sido posible mostrar los grupos de este proyecto."" msgid ""Unable to display the users of this project."" msgstr ""No ha sido posible mostrar los usuarios de este proyecto."" msgid ""Unable to edit group type spec."" msgstr ""No ha sido posible editar las especificaciones de tipo de grupo."" msgid ""Unable to modify flavor access of \""%s\""."" msgstr ""No ha sido posible modificar el acceso al sabor \""%s\""."" #, python-formatmsgid ""Unable to retrieve RBAC policies."" msgstr ""No ha sido posible obtener polticas RBAC."" msgid ""Unable to retrieve application credential details."" msgstr """" ""No ha sido posible obtener los detalles de las credenciales de aplicacin."" msgid ""Unable to retrieve application credential list."" msgstr ""No ha sido posible obtener la lista de credenciales de aplicacin."" msgid ""Unable to retrieve default volume quotas."" msgstr ""No ha sido posible actualizar las cuotas de volumen predeterminadas."" msgid ""Unable to retrieve details for rbac_policy \""%s\""."" msgstr ""No ha sido posible obtener los detalles de la poltica RBAC \""%s\""."" #, python-formatmsgid ""Unable to retrieve group snapshot project information."" msgstr """" ""No ha sido posible obtener la informacin del proyecto de instantneas de "" ""grupo."" msgid ""Unable to retrieve group snapshots."" msgstr ""No ha sido posible obtener las instantneas de grupo."" msgid ""Unable to retrieve group type details."" msgstr ""No ha sido posible obtener los detalles del tipo de grupo."" #, python-format msgid ""Unable to retrieve group type for: \""%s\"""" msgstr ""No ha sido posible obtener el tipo de grupo para: \""%s\"""" msgid ""Unable to retrieve group type name."" msgstr ""No ha sido posible obtener el nombre de tipo de grupo."" msgid ""Unable to retrieve group type spec details."" msgstr """" ""No ha sido posible obtener los detalles de las especificaciones de tipo de "" ""grupo."" msgid ""Unable to retrieve group type spec list."" msgstr """" ""No ha sido posible obtener la lista de especificaciones del tipo de grupo."" msgid ""Unable to retrieve group type."" msgstr ""No ha sid posible obtener el tipo de grupo."" msgid ""Unable to retrieve group types."" msgstr ""No ha sido posible obtener los tipos de grupo."" msgid ""Unable to retrieve image format list."" msgstr ""No ha sido posible obtener la lista de formatos de imagen."" msgid ""Unable to retrieve information about the policies' networks."" msgstr ""No ha sido posible obtener informacin sobre las redes de la poltica."" msgid ""Unable to retrieve information about the policies' projects."" msgstr """" ""No ha sido posible obtener informacin sobre los proyectos de la poltica."" msgid ""Unable to retrieve information about the policies' qos policies."" msgstr """" ""No ha sido posible obtener informacin sobre las polticas QoS de la "" ""poltica."" msgid ""Unable to retrieve project information of volume snapshots."" msgstr """" ""No ha sido posible obtener informacin del proyecto sobre instantneas de "" ""volumen."" msgid ""Unable to retrieve rbac policy details."" msgstr ""No ha sido posible obtener detalles de la poltica RBAC."" msgid ""Unable to retrieve volume group project information."" msgstr """" ""No ha sido posible obtener informacin del proyecto de grupo de volmenes"" msgid ""Unable to retrieve volume group snapshots."" msgstr ""No ha sido posible obtener instantneas de grupo de volmenes."" msgid ""Unable to retrieve volume groups."" msgstr ""No ha sido posible obtener grupos de volmenes."" msgid ""Unable to retrieve volume snapshot project information."" msgstr """" ""No ha sido posible obtener informacin del proyecto de las instantneas de "" ""volumen."" msgid ""Unable to update group type."" msgstr ""No ha sido posible actualizar el tipo de grupo."" msgid ""Unrestricted"" msgstr ""No restringida"" msgid ""Unrestricted (dangerous)"" msgstr ""Sin restricciones (peligroso)"" msgid ""Update RBAC Policy"" msgstr ""Actualizar poltica RBAC"" msgid ""Update the \""group type spec\"" value for \""%(key)s\"""" msgstr """" ""Actualizar el valor de la \""especificacin de tipo de grupo\"" para \""%(key)s"" ""\"""" #, python-formatmsgid ""User \""%s\"" has been updated successfully."" msgstr ""El usuario \""%s\"" se ha actualizado correctamente."" #, python-formatmsgid ""View Specs"" msgstr ""Ver especificaciones"" msgid ""Volume groups can not be deleted if they contain volumes."" msgstr ""No se pueden borrar los grupos si contienen volmenes."" msgid """" ""You may optionally select an image and set a password on the rescue instance "" ""server."" msgstr """" ""Puede opcionalmente seleccionar una imagen y establecer una contrasea en la "" ""instancia del servidor de rescate."" msgid ""You may update the editable properties of the RBAC policy here."" msgstr """" ""Desde aqu puede actualizar las propiedades editables de la poltica RBAC."" msgid ""Your Application Credential"" msgstr ""Sus credenciales de aplicacin"" msgid ""Your application credential"" msgstr ""Sus credenciales de aplicacin"" msgid """" ""flavor id can only contain alphanumeric characters, underscores, periods, "" ""hyphens, spaces."" msgstr """" ""Los nombres de clave slo pueden contener caracteres alfanumricos, "" ""subrayados, puntos, dos puntos y guiones."" #, python-format msgid """" ""key with name \""%s\"" already exists.Use Edit to update the value, else "" ""create key with different name."" msgstr """" ""Ya existe la clave con nombre \""%s\"". Use editar para actualizar el valor, o "" ""bien cree una clave con un nombre diferente."" msgid ""rbac policy quota exceeded."" msgstr ""Se ha sobrepasado la cuota de polticas RBAC."" ","""POT-Creation-Date: 2021-05-01 11:46+0000\n""""PO-Revision-Date: 2021-05-24 04:14+0000\n""msgstr ""Definicin de un archivo de metadatos local para cargar.""msgstr ""No se pudo especificar ni en el archivo ni el acceso directo""msgstr ""Extremos""msgstr ""Definicin de archivo de Metadatos""msgstr ""Definicin de la fuente Namespace""msgstr ""Estado""msgstr ""El formato JSON contenidos en un namespace """,664,9
openstack%2Fhorizon~master~Idfd4a9206e85558ba17e476a47b38ee9c1f566fa,openstack/horizon,master,Idfd4a9206e85558ba17e476a47b38ee9c1f566fa,integration tests: Relax router interface status check,MERGED,2021-06-04 07:24:42.000000000,2021-06-04 10:44:27.000000000,2021-06-04 10:40:31.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-04 07:24:42.000000000', 'files': ['openstack_dashboard/test/integration_tests/tests/test_router.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/866a17037979e0e23ecc3e416c873a5be93044b6', 'message': 'integration tests: Relax router interface status check\n\nPreviously the router interface test in the integration tests\nchecked the status of an added router interface, but the initial\nstatus varies depending on a network backend used in neutron.\nIn case of neutron L3 agent, a new router interface has ""Down"" status,\nbut in case of OVN a new router interface has ""Active"" status.\nThis caused the integration test failure after DevStack switched\nthe default network backend from ML2/OVS to ML2/OVN.\n\nThe initial status of a new router interface depends on a network\nbackend and the neutron API does not define the initial status,\nso it is too strict for the horizon integration tests to check\nthe status. This commit drops the status check.\nIt is sufficient to check the existence of a new router interface.\n\nChange-Id: Idfd4a9206e85558ba17e476a47b38ee9c1f566fa\nCloses-Bug: #1930405\n'}]",1,794718,866a17037979e0e23ecc3e416c873a5be93044b6,8,3,1,841,,,0,"integration tests: Relax router interface status check

Previously the router interface test in the integration tests
checked the status of an added router interface, but the initial
status varies depending on a network backend used in neutron.
In case of neutron L3 agent, a new router interface has ""Down"" status,
but in case of OVN a new router interface has ""Active"" status.
This caused the integration test failure after DevStack switched
the default network backend from ML2/OVS to ML2/OVN.

The initial status of a new router interface depends on a network
backend and the neutron API does not define the initial status,
so it is too strict for the horizon integration tests to check
the status. This commit drops the status check.
It is sufficient to check the existence of a new router interface.

Change-Id: Idfd4a9206e85558ba17e476a47b38ee9c1f566fa
Closes-Bug: #1930405
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/794718/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/tests/test_router.py'],1,866a17037979e0e23ecc3e416c873a5be93044b6,bug/1930405,," self.assertTrue( interfaces_page.is_interface_status(interface_name, 'Down'))",0,2
openstack%2Fnova-specs~master~I3a4fc9dcd866bd0fb0058ebecd3cf244d997b3e4,openstack/nova-specs,master,I3a4fc9dcd866bd0fb0058ebecd3cf244d997b3e4,Placeholder WIP: Rabbit exchange name: normalize case,ABANDONED,2021-05-13 16:40:45.000000000,2021-06-04 10:25:40.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 16:40:45.000000000', 'files': ['specs/xena/implemented/rabbit-exchange-name-normalize-case.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5a9a8dcd4ceadd06e31e38ba2ce1f0be511aed85', 'message': 'Placeholder WIP: Rabbit exchange name: normalize case\n\nThis patch is a placeholder for this spec, serving as a reminder to\nmyself to eventually write it.\n\nThis emerged from a disucssion at the May 6 Nova meeting [1].\n\n[1] http://eavesdrop.openstack.org/meetings/nova/2021/nova.2021-05-06-16.01.log.html\n\nChange-Id: I3a4fc9dcd866bd0fb0058ebecd3cf244d997b3e4\n'}]",0,791287,5a9a8dcd4ceadd06e31e38ba2ce1f0be511aed85,4,2,1,8864,,,0,"Placeholder WIP: Rabbit exchange name: normalize case

This patch is a placeholder for this spec, serving as a reminder to
myself to eventually write it.

This emerged from a disucssion at the May 6 Nova meeting [1].

[1] http://eavesdrop.openstack.org/meetings/nova/2021/nova.2021-05-06-16.01.log.html

Change-Id: I3a4fc9dcd866bd0fb0058ebecd3cf244d997b3e4
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/87/791287/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/implemented/rabbit-exchange-name-normalize-case.rst'],1,5a9a8dcd4ceadd06e31e38ba2ce1f0be511aed85,bp/pci-socket-affinity,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Rabbit exchange name: normalize case ==================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about the nova-spec and blueprint process: * Not all blueprints need a spec. For more information see https://docs.openstack.org/nova/latest/contributor/blueprints.html#specs * The aim of this document is first to define the problem we need to solve, and second agree the overall approach to solve that problem. * This is not intended to be extensive documentation for a new feature. For example, there is no need to specify the exact configuration changes, nor the exact details of any DB model changes. But you should still define that such changes are required, and be clear on how that will affect upgrades. * You should aim to get your spec approved before writing your code. While you are free to write prototypes and code before getting your spec approved, its possible that the outcome of the spec review process leads you towards a fundamentally different solution than you first envisaged. * But, API changes are held to a much higher level of scrutiny. As soon as an API change merges, we must assume it could be in production somewhere, and as such, we then need to support that API change forever. To avoid getting that wrong, we do want lots of details about API changes upfront. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/nova/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox and see the generated HTML file in doc/build/html/specs/<path_of_your_file> * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. * If your specification proposes any changes to the Nova REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Specifications with the APIImpact flag can be found with the following query: https://review.openstack.org/#/q/status:open+project:openstack/nova-specs+message:apiimpact,n,z Problem description =================== A detailed description of the problem. What problem is this blueprint addressing? Use Cases --------- What use cases does this address? What impact on actors does this change have? Ensure you are clear about the actors in each use case: Developer, End User, Deployer etc. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in nova, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Example JSON schema definitions can be found in the Nova tree http://git.openstack.org/cgit/openstack/nova/tree/nova/api/openstack/compute/schemas Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Consider proposing changes to the versioned notifications: * When the feature adds or removes fields to the API responses. For example when the feature adds a new field to the ``GET /servers`` API response consider adding similar information to the payload of the instance action notifications * When the feature adds a new action to the existing API entities. For example adding a new action to the server might mean you want to emit a corresponding new instance action notification * When the feature adds a new resource (noun) to the REST API consider adding new notifications about the creation and deletion of such resource Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-novaclient and openstack client? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Upgrade impact -------------- Describe any potential upgrade impact on the system, such as: * If this change adds a new feature to the compute host that the controller services rely on, the controller services may need to check the minimum compute service version in the deployment before using the new feature. For example, in Ocata, the FilterScheduler did not use the Placement API until all compute services were upgraded to at least Ocata. * While we strive to have feature parity between all virt drivers, it is not uncommon for one virt driver to implement a new feature exposed out of the API before the others. For example, extending the size of an attached volume. Since Nova does not yet have any type of sophisticated *capabilities* API so a user can know what actions can be performed on a given instance, consider adding a new policy rule to at least let operators that cannot support a virt-specific feature disable it in their cloud which is at least presented to the user in an understandable way by getting a ``403 Forbidden`` error. * Nova supports N-1 version *nova-compute* services for rolling upgrades. Does the proposed change need to consider older code running that may impact how the new change functions, for example, by changing or overwriting global state in the database? This is generally most problematic when making changes that involve multiple compute hosts, like move operations such as migrate, resize, unshelve and evacuate. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Feature Liaison --------------- Ideally feature work is sponsored by a member of the `nova core team`_ or other experienced and active nova developer. The purpose of a liaison is to: * Mentor developers through the arcana of nova's development processes. * Advocate for (aka ""care about"") the feature to the rest of the nova team. * Be the initial go-to for reviews. See the :ref:`feature-liaisons` for more details. Feature liaison: <name and/or nick> * Feature liaison is optional. However we suggest to find a liaison for your feature as it will help getting your feature merged. The :ref:`feature-liaisons` has details about how to find a liaison for your work. * If you do not already have agreement from a nova developer to act as your liaison, you may write ""Liaison Needed"" here and/or in your commit message. * If you are a core or experienced nova dev, you need not have a separate liaison; if you wish, you may just assign yourself, or put ""None""/""N/A"". .. _`nova core team`: https://review.opendev.org/#/admin/groups/25,members Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in nova, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Nova (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Nova tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,465,0
openstack%2Fneutron~stable%2Fstein~Iffb6643359562487414460f5a7e19a7fae9f935c,openstack/neutron,stable/stein,Iffb6643359562487414460f5a7e19a7fae9f935c,[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses,MERGED,2021-05-14 14:47:05.000000000,2021-06-04 10:22:16.000000000,2021-06-04 10:20:24.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1da4237c2fcec1da0916aeb85d204021c6ec8fae', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 2, 'created': '2021-05-19 09:37:17.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1fe735e843b5d1bee4fa18e6011121027422203', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}]",0,791500,e1fe735e843b5d1bee4fa18e6011121027422203,30,3,2,11975,,,0,"[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses

Neighbor Advertisments are used to inform other machines of the MAC
address to use to reach an IPv6. This commits prevents VMs from
pretending they are assigned IPv6 they should not use.

It also prevents sending UDP packets with spoofed IP or MAC even using
DHCP(v6) request ports.

Co-authored-by: David Sinquin <david.sinquin@gandi.net>

Closes-bug: #1902917

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: Iffb6643359562487414460f5a7e19a7fae9f935c
(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/791500/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,1da4237c2fcec1da0916aeb85d204021c6ec8fae,bug/1902917-stable/stein," for icmp_type in agent_firewall.ICMPV6_RESTRICTED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, nd_target='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE)))",,61,24
openstack%2Fnova~master~I7d11ef8abb30686f9d125cac0e48369eab839b0f,openstack/nova,master,I7d11ef8abb30686f9d125cac0e48369eab839b0f,Fix RequestLevelParams persistence handling in RequestSpec,MERGED,2021-05-14 15:10:46.000000000,2021-06-04 10:21:37.000000000,2021-06-04 10:19:35.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1a6bb05c413efec7971d2318a64f6f559bbfbc', 'message': 'Fix RequestLevelParams persistence handling in RequestSpec\n\nThe request_level_params field of the RequestSpec are intentionally not\npersistent and at the same time it is declared as non nullable. The\ncurrent code handling the persistence of this field actually set the\nrequest_level_params field to None breaking the non nullable invariant\nof the field.\n\nSo far this is error is not triggered as the request_level_params field\nwas only used lazy loading, which is defaulted the field to a new\nRequestLevelParam object on the RequestSpec object that was never saved after\nsuch lazy load. A later patch will initialize request_level_params field\nin the RequestSpec.from_components() factory method to handle this\nparameters from Neutron ports and that triggers a failure when the\nRequestSpec is saved.\n\nThere are a set of non nullable, non persisted RequestSpec fields that\nare handled individually during create / save. This patch applies the\nsame logic to request_level_params as well.\n\nChange-Id: I7d11ef8abb30686f9d125cac0e48369eab839b0f\n'}, {'number': 2, 'created': '2021-05-14 15:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67c2d86b10aa87e6657e12641e05d0aae0ccff9c', 'message': 'Fix RequestLevelParams persistence handling in RequestSpec\n\nThe request_level_params field of the RequestSpec are intentionally not\npersistent and at the same time it is declared as non nullable. The\ncurrent code handling the persistence of this field actually set the\nrequest_level_params field to None breaking the non nullable invariant\nof the field.\n\nSo far this is error is not triggered as the request_level_params field\nwas only used lazy loading, which is defaulted the field to a new\nRequestLevelParam object on the RequestSpec object that was never saved after\nsuch lazy load. A later patch will initialize request_level_params field\nin the RequestSpec.from_components() factory method to handle this\nparameters from Neutron ports and that triggers a failure when the\nRequestSpec is saved.\n\nThere are a set of non nullable, non persisted RequestSpec fields that\nare handled individually during create / save. This patch applies the\nsame logic to request_level_params as well.\n\nChange-Id: I7d11ef8abb30686f9d125cac0e48369eab839b0f\n'}, {'number': 3, 'created': '2021-05-21 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d5602693787b3f33baa328fe6562df187399e0f', 'message': 'Fix RequestLevelParams persistence handling in RequestSpec\n\nThe request_level_params field of the RequestSpec are intentionally not\npersistent and at the same time it is declared as non nullable. The\ncurrent code handling the persistence of this field actually set the\nrequest_level_params field to None breaking the non nullable invariant\nof the field.\n\nSo far this is error is not triggered as the request_level_params field\nwas only used lazy loading, which is defaulted the field to a new\nRequestLevelParam object on the RequestSpec object that was never saved after\nsuch lazy load. A later patch will initialize request_level_params field\nin the RequestSpec.from_components() factory method to handle this\nparameters from Neutron ports and that triggers a failure when the\nRequestSpec is saved.\n\nThere are a set of non nullable, non persisted RequestSpec fields that\nare handled individually during create / save. This patch applies the\nsame logic to request_level_params as well.\n\nChange-Id: I7d11ef8abb30686f9d125cac0e48369eab839b0f\n'}, {'number': 4, 'created': '2021-05-28 12:37:51.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c50a45a1e5b66e6ef97192bbaec6fdd54f9c2a4', 'message': 'Fix RequestLevelParams persistence handling in RequestSpec\n\nThe request_level_params field of the RequestSpec are intentionally not\npersistent and at the same time it is declared as non nullable. The\ncurrent code handling the persistence of this field actually set the\nrequest_level_params field to None breaking the non nullable invariant\nof the field.\n\nSo far this is error is not triggered as the request_level_params field\nwas only used lazy loading, which is defaulted the field to a new\nRequestLevelParam object on the RequestSpec object that was never saved after\nsuch lazy load. A later patch will initialize request_level_params field\nin the RequestSpec.from_components() factory method to handle this\nparameters from Neutron ports and that triggers a failure when the\nRequestSpec is saved.\n\nThere are a set of non nullable, non persisted RequestSpec fields that\nare handled individually during create / save. This patch applies the\nsame logic to request_level_params as well.\n\nChange-Id: I7d11ef8abb30686f9d125cac0e48369eab839b0f\n'}]",8,791502,5c50a45a1e5b66e6ef97192bbaec6fdd54f9c2a4,31,5,4,9708,,,0,"Fix RequestLevelParams persistence handling in RequestSpec

The request_level_params field of the RequestSpec are intentionally not
persistent and at the same time it is declared as non nullable. The
current code handling the persistence of this field actually set the
request_level_params field to None breaking the non nullable invariant
of the field.

So far this is error is not triggered as the request_level_params field
was only used lazy loading, which is defaulted the field to a new
RequestLevelParam object on the RequestSpec object that was never saved after
such lazy load. A later patch will initialize request_level_params field
in the RequestSpec.from_components() factory method to handle this
parameters from Neutron ports and that triggers a failure when the
RequestSpec is saved.

There are a set of non nullable, non persisted RequestSpec fields that
are handled individually during create / save. This patch applies the
same logic to request_level_params as well.

Change-Id: I7d11ef8abb30686f9d125cac0e48369eab839b0f
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/791502/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py']",2,8d1a6bb05c413efec7971d2318a64f6f559bbfbc,bp/qos-minimum-guaranteed-packet-rate," req_lvl_params = objects.RequestLevelParams( root_required={""CUSTOM_FOO""}) req_obj.request_level_params = req_lvl_params # 6. request_level_params self.assertNotIn('request_level_params', data) self.assertIsNotNone(data['instance_uuid']) # 6. request_level_params self.assertIsNotNone(req_obj.request_level_params) self.assertJsonEqual( req_lvl_params.obj_to_primitive(), req_obj.request_level_params.obj_to_primitive())", self.assertIsNotNone(data['instance_uuid']),17,3
openstack%2Fplacement~master~I78fbdd723be089364b8ee61432eeb74ed6f24094,openstack/placement,master,I78fbdd723be089364b8ee61432eeb74ed6f24094,Add 'cryptography' package to test-requirements.txt,MERGED,2021-04-20 21:05:55.000000000,2021-06-04 10:20:34.000000000,2021-06-04 10:18:57.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 21:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8fa2b5a53138c08185b5ed431593294f46aab612', 'message': ""Add 'cryptography' package to test-requirements.txt\n\nWhen running the functional tests locally:\n\n  tox -efunctional\n\nthe following error is raised from 6 tests in the\nplacement.tests.functional.db.test_migrations module:\n\n  RuntimeError: 'cryptography' package is required for sha256_password\n  or caching_sha2_password auth methods\n\nThis adds the 'cryptography' package to the list of required packages\nfor tests.\n\nStory: 2008832\nTask: 42317\n\nChange-Id: I78fbdd723be089364b8ee61432eeb74ed6f24094\n""}, {'number': 2, 'created': '2021-04-20 22:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/76fab0c8119b28bc39eaacf896d5056179afda7a', 'message': ""Add 'cryptography' package to test-requirements.txt\n\nWhen running the functional tests locally:\n\n  tox -efunctional\n\nthe following error is raised from 6 tests in the\nplacement.tests.functional.db.test_migrations module:\n\n  RuntimeError: 'cryptography' package is required for sha256_password\n  or caching_sha2_password auth methods\n\nThis adds the 'cryptography' package to the list of required packages\nfor tests.\n\nStory: 2008832\nTask: 42317\n\nChange-Id: I78fbdd723be089364b8ee61432eeb74ed6f24094\n""}, {'number': 3, 'created': '2021-04-21 01:08:47.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/2316f95a49909ad4b2bd363a59a155bc6ee11a97', 'message': ""Add 'cryptography' package to test-requirements.txt\n\nWhen running the functional tests locally:\n\n  tox -efunctional\n\nthe following error is raised from 6 tests in the\nplacement.tests.functional.db.test_migrations module:\n\n  RuntimeError: 'cryptography' package is required for sha256_password\n  or caching_sha2_password auth methods\n\nThis adds the 'cryptography' package to the list of required packages\nfor tests.\n\nStory: 2008832\nTask: 42317\n\nChange-Id: I78fbdd723be089364b8ee61432eeb74ed6f24094\n""}]",2,787289,2316f95a49909ad4b2bd363a59a155bc6ee11a97,18,3,3,4690,,,0,"Add 'cryptography' package to test-requirements.txt

When running the functional tests locally:

  tox -efunctional

the following error is raised from 6 tests in the
placement.tests.functional.db.test_migrations module:

  RuntimeError: 'cryptography' package is required for sha256_password
  or caching_sha2_password auth methods

This adds the 'cryptography' package to the list of required packages
for tests.

Story: 2008832
Task: 42317

Change-Id: I78fbdd723be089364b8ee61432eeb74ed6f24094
",git fetch https://review.opendev.org/openstack/placement refs/changes/89/787289/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8fa2b5a53138c08185b5ed431593294f46aab612,test-req-cryptography,cryptography,,1,0
openstack%2Freleases~master~I5892163710a57f02948b0ae505d7a95882e94835,openstack/releases,master,I5892163710a57f02948b0ae505d7a95882e94835,[swift] Transition Train to EM,MERGED,2021-05-11 15:23:21.000000000,2021-06-04 10:09:22.000000000,2021-06-04 10:09:22.000000000,"[{'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/54821819f3d58242185fc1cb7fd89fc47295fc54', 'message': '[swift] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5892163710a57f02948b0ae505d7a95882e94835\n'}, {'number': 2, 'created': '2021-06-03 22:22:23.000000000', 'files': ['deliverables/train/python-swiftclient.yaml', 'deliverables/train/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/088935e707f479fd95617247582de0646d4446cb', 'message': '[swift] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5892163710a57f02948b0ae505d7a95882e94835\n'}]",2,790774,088935e707f479fd95617247582de0646d4446cb,16,4,2,17685,,,0,"[swift] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I5892163710a57f02948b0ae505d7a95882e94835
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/790774/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-swiftclient.yaml', 'deliverables/train/swift.yaml']",2,54821819f3d58242185fc1cb7fd89fc47295fc54,train-em, - version: train-em projects: - repo: openstack/swift hash: ab921f22f628b40cd6efcc9dc77ccdaf9b3ec8f1,,8,0
openstack%2Fneutron~stable%2Fqueens~Iffb6643359562487414460f5a7e19a7fae9f935c,openstack/neutron,stable/queens,Iffb6643359562487414460f5a7e19a7fae9f935c,[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses,MERGED,2021-05-14 14:48:20.000000000,2021-06-04 09:30:55.000000000,2021-06-04 09:30:55.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a16caa1c2125cf6da3fef6faf169eb309ee02e6d', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 2, 'created': '2021-05-19 09:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b301b64026ffdc81782074caf65542ac636eceeb', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 3, 'created': '2021-05-24 11:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4ae7f67107f294e1e8aaa917b8b75bdabd88c3d', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 4, 'created': '2021-05-24 11:24:24.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccea0021bc49eefde9af6568942159b52588daae', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}]",3,791470,ccea0021bc49eefde9af6568942159b52588daae,20,3,4,11975,,,0,"[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses

Neighbor Advertisments are used to inform other machines of the MAC
address to use to reach an IPv6. This commits prevents VMs from
pretending they are assigned IPv6 they should not use.

It also prevents sending UDP packets with spoofed IP or MAC even using
DHCP(v6) request ports.

Co-authored-by: David Sinquin <david.sinquin@gandi.net>

Closes-bug: #1902917

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: Iffb6643359562487414460f5a7e19a7fae9f935c
(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/791470/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,a16caa1c2125cf6da3fef6faf169eb309ee02e6d,bug/1902917-stable/stein-stable/rocky-stable/queens," for icmp_type in agent_firewall.ICMPV6_RESTRICTED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, nd_target='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE)))",,61,24
openstack%2Fneutron~stable%2Frocky~Iffb6643359562487414460f5a7e19a7fae9f935c,openstack/neutron,stable/rocky,Iffb6643359562487414460f5a7e19a7fae9f935c,[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses,MERGED,2021-05-14 14:47:31.000000000,2021-06-04 09:30:48.000000000,2021-06-04 09:30:48.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 14:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e0128829565397873941451e3d47416f5622e4b', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 2, 'created': '2021-05-19 09:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/487de481d913d77d9c60ce5fa19de33231c74477', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}, {'number': 3, 'created': '2021-05-24 11:03:48.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f4a9f8f86720567a8ed5e7c5c4430c115ad3c11', 'message': '[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\n\nNeighbor Advertisments are used to inform other machines of the MAC\naddress to use to reach an IPv6. This commits prevents VMs from\npretending they are assigned IPv6 they should not use.\n\nIt also prevents sending UDP packets with spoofed IP or MAC even using\nDHCP(v6) request ports.\n\nCo-authored-by: David Sinquin <david.sinquin@gandi.net>\n\nCloses-bug: #1902917\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: Iffb6643359562487414460f5a7e19a7fae9f935c\n(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)\n'}]",3,791469,9f4a9f8f86720567a8ed5e7c5c4430c115ad3c11,25,3,3,11975,,,0,"[ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses

Neighbor Advertisments are used to inform other machines of the MAC
address to use to reach an IPv6. This commits prevents VMs from
pretending they are assigned IPv6 they should not use.

It also prevents sending UDP packets with spoofed IP or MAC even using
DHCP(v6) request ports.

Co-authored-by: David Sinquin <david.sinquin@gandi.net>

Closes-bug: #1902917

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: Iffb6643359562487414460f5a7e19a7fae9f935c
(cherry picked from commit ca7822e2108c151bda992ef8a6d454ec2c6d890e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/791469/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,7e0128829565397873941451e3d47416f5622e4b,bug/1902917-stable/stein-stable/rocky," for icmp_type in agent_firewall.ICMPV6_RESTRICTED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, nd_target='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE)))",,61,24
openstack%2Freleases~master~I08e9f147eac027cb8a1f1b80fb104938e1cf942c,openstack/releases,master,I08e9f147eac027cb8a1f1b80fb104938e1cf942c,train: Swift 2.23.3 release,MERGED,2021-06-03 22:22:23.000000000,2021-06-04 09:21:44.000000000,2021-06-04 09:21:44.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 22:22:23.000000000', 'files': ['deliverables/train/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d1c94fff8d28c90c0b7b88ebdd218038472f3bda', 'message': 'train: Swift 2.23.3 release\n\nChange-Id: I08e9f147eac027cb8a1f1b80fb104938e1cf942c\n'}]",0,794682,d1c94fff8d28c90c0b7b88ebdd218038472f3bda,9,3,1,15343,,,0,"train: Swift 2.23.3 release

Change-Id: I08e9f147eac027cb8a1f1b80fb104938e1cf942c
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/794682/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/swift.yaml'],1,d1c94fff8d28c90c0b7b88ebdd218038472f3bda,, - version: 2.23.3 projects: - repo: openstack/swift hash: 81d845f34e4d350c90af05117fcb0152958b4b3d,,4,0
openstack%2Fhorizon~master~I707b2742b0880100b307e0678ee8f25e64cfcd9d,openstack/horizon,master,I707b2742b0880100b307e0678ee8f25e64cfcd9d,Explicitly set horizon integration jobs to use ML2/OVS,ABANDONED,2021-04-29 02:54:24.000000000,2021-06-04 09:08:09.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-29 02:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b23e3aa955c95d1ac3f6029345466710d2f381bb', 'message': '[DNR] Test integration job status\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 2, 'created': '2021-05-26 07:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bcf11ff4454fb0ba221d19b0711227bdc3ebfd2f', 'message': '[DNR] Test integration job status\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 3, 'created': '2021-05-26 12:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/45c8dc90ecaf0dde7c9372fc7ece080caecfcd25', 'message': '[DNR] Test integration job status\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 4, 'created': '2021-05-26 12:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a03e751dcb44a4cf6ee5c92d86c7ebc6c3bbbdd0', 'message': '[DNR] Test integration job status\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 5, 'created': '2021-06-01 09:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0b5aabbbdb46b70ad99426075a318783a531c016', 'message': '[DNR] Test integration job status\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 6, 'created': '2021-06-01 09:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/835510facc3f57de988f30bffdf35f4885daab8d', 'message': '[DNR] Test integration job status\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 7, 'created': '2021-06-03 11:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/37febcf1a0d291bf5d7c3c2a4eda31bf21ac5852', 'message': '[DNR] Test integration job status\n\nTrying ML2/OVS backend temporarily\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 8, 'created': '2021-06-03 13:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/20060206a8f50f50b771f32c1b6a7639aefb3f83', 'message': 'Explicitly set horizon integration jobs to use ML2/OVS\n\nDevstack recently changes the Neutron default backend to OVN\nFrom OVS due to which some horizon router-related tests start\nfailing[1]. This patch is to override devstack default vars\nso that horizon integration job uses OVS backend.\n\nRelated-Bug: #1930405\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 9, 'created': '2021-06-03 13:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/343188d39c8f87a716727623090870eb128a079c', 'message': 'Explicitly set horizon integration jobs to use ML2/OVS\n\nDevstack recently changes the Neutron default backend to OVN\nFrom OVS due to which some horizon router-related tests start\nfailing[1]. This patch is to override devstack default vars\nso that horizon integration job uses OVS backend.\n\nRelated-Bug: #1930405\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 10, 'created': '2021-06-03 13:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b70d4d611175807e64557393e98dfaa0728e4dce', 'message': 'Explicitly set horizon integration jobs to use ML2/OVS\n\nDevstack recently changes the Neutron default backend to OVN\nFrom OVS due to which some horizon router-related tests start\nfailing[1]. This patch is to override devstack default vars\nso that horizon integration job uses OVS backend.\n\n[1] http://paste.openstack.org/show/806215/\nRelated-Bug: #1930405\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\n'}, {'number': 11, 'created': '2021-06-04 06:53:47.000000000', 'files': ['.zuul.d/tempest-and-integrated.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a0c27bfa583d466ab9730e37e5be4ff26ccbd0c', 'message': 'Explicitly set horizon integration jobs to use ML2/OVS\n\nDevstack recently changes the Neutron default backend to OVN\nfrom OVS due to which some horizon router-related tests start\nfailing[1]. This patch is to override devstack default vars\nso that horizon integration job uses OVS backend.\n\n[1] http://paste.openstack.org/show/806215/\nRelated-Bug: #1930405\n\nChange-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d\nCo-Author: Akihiro Motoki <amotoki@gmail.com>\n'}]",7,788673,6a0c27bfa583d466ab9730e37e5be4ff26ccbd0c,33,6,11,29313,,,0,"Explicitly set horizon integration jobs to use ML2/OVS

Devstack recently changes the Neutron default backend to OVN
from OVS due to which some horizon router-related tests start
failing[1]. This patch is to override devstack default vars
so that horizon integration job uses OVS backend.

[1] http://paste.openstack.org/show/806215/
Related-Bug: #1930405

Change-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d
Co-Author: Akihiro Motoki <amotoki@gmail.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/73/788673/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,b23e3aa955c95d1ac3f6029345466710d2f381bb,, #- check-requirements #- horizon-cross-jobs #- horizon-nodejs10-jobs #- horizon-non-primary-django-jobs #- openstack-lower-constraints-jobs #- periodic-stable-jobs #- publish-openstack-docs-pti #- release-notes-jobs-python3 #- horizon-selenium-headless #- horizon-dsvm-tempest-plugin #- horizon-tox-bandit-baseline #- horizon-tempest-plugin-ipv6, - check-requirements - horizon-cross-jobs - horizon-nodejs10-jobs - horizon-non-primary-django-jobs - openstack-lower-constraints-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - horizon-selenium-headless - horizon-dsvm-tempest-plugin - horizon-tox-bandit-baseline - horizon-tempest-plugin-ipv6,12,12
openstack%2Fneutron~stable%2Fvictoria~I29137b22c158e979e81be9e41464948aa99f5498,openstack/neutron,stable/victoria,I29137b22c158e979e81be9e41464948aa99f5498,Remove leading zeroes from an IP address,MERGED,2021-06-03 15:37:13.000000000,2021-06-04 08:47:04.000000000,2021-06-04 08:44:50.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 15:37:13.000000000', 'files': ['neutron/tests/unit/services/metering/test_metering_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b5a3b02a6d2da4e9e03db61bff445609642d9b6', 'message': 'Remove leading zeroes from an IP address\n\nIn python3.9, ipaddress.IPv4Interface does not support defining an\nIP address with leading zeroes. E.g.:\n\n>>> ipaddress.IPv4Interface(\'00.0.0.0/0\')\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1390, in __init__\n    IPv4Address.__init__(self, addr)\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1307, in __init__\n    self._ip = self._ip_int_from_string(addr_str)\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1199, in\n_ip_int_from_string\n    raise AddressValueError(""%s in %r"" % (exc, ip_str)) from None\nipaddress.AddressValueError: Leading zeros are not permitted in \'00\' in\n\'00.0.0.0\'\n\nChange-Id: I29137b22c158e979e81be9e41464948aa99f5498\nCloses-Bug: #1930222\n(cherry picked from commit b141aed51296fd6564ccce18f907dc1913a4bc5b)\n'}]",0,794618,9b5a3b02a6d2da4e9e03db61bff445609642d9b6,10,3,1,21798,,,0,"Remove leading zeroes from an IP address

In python3.9, ipaddress.IPv4Interface does not support defining an
IP address with leading zeroes. E.g.:

>>> ipaddress.IPv4Interface('00.0.0.0/0')
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib/python3.9/ipaddress.py"", line 1390, in __init__
    IPv4Address.__init__(self, addr)
  File ""/usr/lib/python3.9/ipaddress.py"", line 1307, in __init__
    self._ip = self._ip_int_from_string(addr_str)
  File ""/usr/lib/python3.9/ipaddress.py"", line 1199, in
_ip_int_from_string
    raise AddressValueError(""%s in %r"" % (exc, ip_str)) from None
ipaddress.AddressValueError: Leading zeros are not permitted in '00' in
'00.0.0.0'

Change-Id: I29137b22c158e979e81be9e41464948aa99f5498
Closes-Bug: #1930222
(cherry picked from commit b141aed51296fd6564ccce18f907dc1913a4bc5b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/794618/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/services/metering/test_metering_plugin.py'],1,9b5a3b02a6d2da4e9e03db61bff445609642d9b6,bug/1930222-stable/victoria, 'destination_ip_prefix': '0.0.0.0/0'}, 'destination_ip_prefix': '00.0.0.0/0'},1,1
openstack%2Foctavia~master~I3c757834f01d1ee5f0f62a73185978980ccbd147,openstack/octavia,master,I3c757834f01d1ee5f0f62a73185978980ccbd147,Use `ip route` for VIP configure with `onlink',ABANDONED,2021-06-04 08:43:19.000000000,2021-06-04 08:44:35.000000000,,[],"[{'number': 1, 'created': '2021-06-04 08:43:19.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e43aeb69c9fc9e18a9973398fe12ed9d7d4fa07', 'message': ""Use `ip route` for VIP configure with `onlink'\n\nOtherwise, nexthop not from subnet cidr will fail.\n\nProblem: Neutron allows to set subnet's\nhost_routes parameter with any gateway,\neven with that's not in subnet's CIDR.\nIn this case we'll get error:\n`{u'message': u'Error plugging VIP', u'details':\nu'SIOCADDRT: Network is unreachable\\nFailed to bring up eth1.\\n'}`.\n\n- Use modern `ip route` tool (+ it allows to set /32 subnets\n   without additional conditions)\n- Set `onlink` to allow any gateway\n\nSigned-off-by: George Melikov <mail@gmelikov.ru>\nChange-Id: I4ccf212b9e82930bf0e02b4546ad2a0a58975e20\n\nStory: 2008944\nTask: 42563\nChange-Id: I3c757834f01d1ee5f0f62a73185978980ccbd147\n""}]",0,794748,9e43aeb69c9fc9e18a9973398fe12ed9d7d4fa07,3,0,1,30238,,,0,"Use `ip route` for VIP configure with `onlink'

Otherwise, nexthop not from subnet cidr will fail.

Problem: Neutron allows to set subnet's
host_routes parameter with any gateway,
even with that's not in subnet's CIDR.
In this case we'll get error:
`{u'message': u'Error plugging VIP', u'details':
u'SIOCADDRT: Network is unreachable\nFailed to bring up eth1.\n'}`.

- Use modern `ip route` tool (+ it allows to set /32 subnets
   without additional conditions)
- Set `onlink` to allow any gateway

Signed-off-by: George Melikov <mail@gmelikov.ru>
Change-Id: I4ccf212b9e82930bf0e02b4546ad2a0a58975e20

Story: 2008944
Task: 42563
Change-Id: I3c757834f01d1ee5f0f62a73185978980ccbd147
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/794748/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",2,9e43aeb69c9fc9e18a9973398fe12ed9d7d4fa07,routes, 'up /sbin/ip route add 203.0.114.0/24 via 203.0.113.5 ' 'dev {netns_int} onlink\n' 'down /sbin/ip route del 203.0.114.0/24 via 203.0.113.5 ' 'dev {netns_int} onlink\n' 'up /sbin/ip route add 203.0.115.1/32 via 203.0.113.5 ' 'dev {netns_int} onlink\n' 'down /sbin/ip route del 203.0.115.1/32 via 203.0.113.5 ' 'dev {netns_int} onlink\n' 'up /sbin/ip -6 route add 2001:db9::/32 via 2001:db8::5 ' 'dev {netns_int} onlink\n' 'down /sbin/ip -6 route del 2001:db9::/32 via 2001:db8::5 ' 'dev {netns_int} onlink\n' 'up /sbin/ip -6 route add 2001:db9::1/128 via 2001:db8::5 ' 'dev {netns_int} onlink\n' 'down /sbin/ip -6 route del 2001:db9::1/128 via ' '2001:db8::5 dev {netns_int} onlink\n', 'up route add -net 203.0.114.0/24 gw 203.0.113.5 ' 'dev {netns_int}\n' 'down route del -net 203.0.114.0/24 gw 203.0.113.5 ' 'dev {netns_int}\n' 'up route add -host 203.0.115.1/32 gw 203.0.113.5 ' 'dev {netns_int}\n' 'down route del -host 203.0.115.1/32 gw 203.0.113.5 ' 'dev {netns_int}\n' 'up route add -net 2001:db9::/32 gw 2001:db8::5 ' 'dev {netns_int}\n' 'down route del -net 2001:db9::/32 gw 2001:db8::5 ' 'dev {netns_int}\n' 'up route add -host 2001:db9::1/128 gw 2001:db8::5 ' 'dev {netns_int}\n' 'down route del -host 2001:db9::1/128 gw 2001:db8::5 ' 'dev {netns_int}\n',18,24
openstack%2Fos-brick~master~I7dbabe0e7dfce2736e8414fdd23a84cdfa3e306f,openstack/os-brick,master,I7dbabe0e7dfce2736e8414fdd23a84cdfa3e306f,Use py3 as the default runtime for tox,ABANDONED,2021-05-26 18:45:09.000000000,2021-06-04 08:44:34.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 18:45:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/84c652b2f537cbd9fe1f8a22ec47d0fd0b0d46aa', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I7dbabe0e7dfce2736e8414fdd23a84cdfa3e306f\n'}]",0,793221,84c652b2f537cbd9fe1f8a22ec47d0fd0b0d46aa,6,2,1,31828,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I7dbabe0e7dfce2736e8414fdd23a84cdfa3e306f
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/21/793221/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,84c652b2f537cbd9fe1f8a22ec47d0fd0b0d46aa,,"envlist = py3,pep8","envlist = py38,py36,pep8",1,1
openstack%2Fkolla-ansible~master~If5945ef3391d7e28e37f6f4c940919cd0dd938a2,openstack/kolla-ansible,master,If5945ef3391d7e28e37f6f4c940919cd0dd938a2,WIP: Restart docker serially to avoid outages,ABANDONED,2021-03-02 16:52:06.000000000,2021-06-04 08:43:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-02 16:52:06.000000000', 'files': ['ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/667ab12f3d79f48763bd0b3c77e9afcbea46e2d5', 'message': ""WIP: Restart docker serially to avoid outages\n\nIf you restart docker via a configuration change, acidentally or\non purpose, you can end up restarting across all three controllers\nat the same time. This is known to trigger an outage that affects\nthe network traffic for VMs running in your cloud (i.e. the worst\nkind of outage).\n\nThere are more clever and more scalable approaches, but it seems\nsafer to always restart docker serially to avoid this kind of\nimpact, until we have a better solution. This should be easily\nbackportable, with any luck.\n\nProblems:\nIt is possible there are similar issues with accidential\ndocker upgrades, but this isn't considered here.\nI am yet to test this on a live running system, this might not be\nslow enough to avoid a galera cluster loosing quorum, etc.\n\nChange-Id: If5945ef3391d7e28e37f6f4c940919cd0dd938a2\n""}]",1,778216,667ab12f3d79f48763bd0b3c77e9afcbea46e2d5,7,1,1,782,,,0,"WIP: Restart docker serially to avoid outages

If you restart docker via a configuration change, acidentally or
on purpose, you can end up restarting across all three controllers
at the same time. This is known to trigger an outage that affects
the network traffic for VMs running in your cloud (i.e. the worst
kind of outage).

There are more clever and more scalable approaches, but it seems
safer to always restart docker serially to avoid this kind of
impact, until we have a better solution. This should be easily
backportable, with any luck.

Problems:
It is possible there are similar issues with accidential
docker upgrades, but this isn't considered here.
I am yet to test this on a live running system, this might not be
slow enough to avoid a galera cluster loosing quorum, etc.

Change-Id: If5945ef3391d7e28e37f6f4c940919cd0dd938a2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/778216/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml']",2,667ab12f3d79f48763bd0b3c77e9afcbea46e2d5,docker-restart,"# If controllers are already running things like mariadb # break, which in turn stops ovs being able to find new # flows, and tenant traffic gets disrupted. # So if containers are running, restart nodes very slowly throttle: docker_restart_throttle",,10,0
openstack%2Fkolla-ansible~master~I4c86a33ca177d25425e9ec69b97144c71d0975d1,openstack/kolla-ansible,master,I4c86a33ca177d25425e9ec69b97144c71d0975d1,WIP: use keystone default for token expiry,ABANDONED,2019-05-09 10:29:39.000000000,2021-06-04 08:42:55.000000000,,"[{'_account_id': 782}, {'_account_id': 11444}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-09 10:29:39.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0bb7db9ac78bbb7ee1a1aa3d08937080cb4eba2', 'message': 'WIP: use keystone default for token expiry\n\nCurrently we default to keystone having tokens valid for one day, rather\nthan the one hour keystone chooses.\n\nWhile it can help long running operations, like a snapshot of a very\nlarge VM succeed, it does mean to barer of the token has access to the\ncloud for a long time, even after their access has been removed in\nkeystone.\n\nIt might be better to default to one hour token expiry.\n\nHaving said that, the other use of fernet_token_expiry is really for the\nfrenet_key_expiry.\n\nTODO: maybe it needs a rename?\n\nChange-Id: I4c86a33ca177d25425e9ec69b97144c71d0975d1\n'}]",4,657973,f0bb7db9ac78bbb7ee1a1aa3d08937080cb4eba2,7,4,1,782,,,0,"WIP: use keystone default for token expiry

Currently we default to keystone having tokens valid for one day, rather
than the one hour keystone chooses.

While it can help long running operations, like a snapshot of a very
large VM succeed, it does mean to barer of the token has access to the
cloud for a long time, even after their access has been removed in
keystone.

It might be better to default to one hour token expiry.

Having said that, the other use of fernet_token_expiry is really for the
frenet_key_expiry.

TODO: maybe it needs a rename?

Change-Id: I4c86a33ca177d25425e9ec69b97144c71d0975d1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/657973/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/templates/keystone.conf.j2'],1,f0bb7db9ac78bbb7ee1a1aa3d08937080cb4eba2,,,expiration = {{ fernet_token_expiry }},0,1
openstack%2Ftripleo-ansible~master~I48eca49f465d43e6b2fd8c24369f1eb6686ccb41,openstack/tripleo-ansible,master,I48eca49f465d43e6b2fd8c24369f1eb6686ccb41,Switch from pacemaker standby to pacemaker stop,ABANDONED,2021-06-04 08:34:31.000000000,2021-06-04 08:37:17.000000000,,"[{'_account_id': 22954}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-04 08:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c1920311fe88593c86d505b94bb1da2fa20d737', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: I48eca49f465d43e6b2fd8c24369f1eb6686ccb41\n'}, {'number': 2, 'created': '2021-06-04 08:36:28.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57ed672fca3508675fe77abc92548978add2e20c', 'message': 'Switch from pacemaker standby to pacemaker stop\n\nCurrently, the ""snapshots"" backup is being taken after taking out one\nnode from the cluster using pcs node standby. The consequence of it is\nthat the standby property is also being backuped, so when the node is\nrestored, it appears as standby and it needs to be unstandby manually.\n\nSwitching to pcs cluster stop/pcs cluster start does not make the playbook take any\nlonger, nor it creates an impact on the time the vips take to be\nmigrated to a different node while provides the advantage that when the\nnode is restarted (during restore), pacemaker starts correctly without\nany other manual step.\n\nChange-Id: I48eca49f465d43e6b2fd8c24369f1eb6686ccb41\n'}]",0,794742,57ed672fca3508675fe77abc92548978add2e20c,3,2,2,32968,,,0,"Switch from pacemaker standby to pacemaker stop

Currently, the ""snapshots"" backup is being taken after taking out one
node from the cluster using pcs node standby. The consequence of it is
that the standby property is also being backuped, so when the node is
restored, it appears as standby and it needs to be unstandby manually.

Switching to pcs cluster stop/pcs cluster start does not make the playbook take any
longer, nor it creates an impact on the time the vips take to be
migrated to a different node while provides the advantage that when the
node is restarted (during restore), pacemaker starts correctly without
any other manual step.

Change-Id: I48eca49f465d43e6b2fd8c24369f1eb6686ccb41
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/794742/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml']",3,0c1920311fe88593c86d505b94bb1da2fa20d737,pacemaker_stop, command: pcs cluster start, command: pcs node unstandby,18,2
openstack%2Fneutron-specs~master~Id17ee01dc288517a05f746a479500a6218ad55f4,openstack/neutron-specs,master,Id17ee01dc288517a05f746a479500a6218ad55f4,QoS minimum guaranteed packet rate,MERGED,2021-04-07 16:47:10.000000000,2021-06-04 08:36:40.000000000,2021-06-04 07:55:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 16:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8df321e85c6fdcd1f0a77b9b86f82614592579b7', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly how bandwidth can be a limiting factor of a network interface, packet\nprocessing capacity tend to be a limiting factor of the soft switching\nsolutions like OVS. In the same time certain applications are dependent on not\njust guaranteed bandwidth but also on guaranteed packet rate to function\nproperly. OpenStack already supports bandwidth guarantees via the\nminimum bandwidth QoS policy rules. This specification is aiming for adding\nsupport for a similar minimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 2, 'created': '2021-04-08 14:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f2bf4ed63fd6cded342d791f1368b08882f1f47c', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 3, 'created': '2021-04-13 14:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6eb6aab65d63aaa1280bfdab160ff7e1b691a006', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 4, 'created': '2021-04-28 16:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c776d6b38693f45005b3bfcf873b2b1c44c6bf80', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 5, 'created': '2021-05-04 13:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/42bad500b7972820fd95279053a7e1b8af2eb917', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 6, 'created': '2021-05-06 15:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/31d9f43e2c8993f811bdb55e411cfb02cdb9b800', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 7, 'created': '2021-05-21 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1bea39155fa65c19e6a898b8768ef5b0bb4cd821', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly to how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}, {'number': 8, 'created': '2021-05-31 15:01:36.000000000', 'files': ['specs/xena/qos-minimum-guaranteed-packet-rate.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ceb39afd7dddd0322834e5f25be72c788744913b', 'message': 'QoS minimum guaranteed packet rate\n\nSimilarly to how bandwidth can be a limiting factor of a network\ninterface, packet processing capacity tend to be a limiting factor\nof the soft switching solutions like OVS. In the same time certain\napplications are dependent on not just guaranteed bandwidth but also\non guaranteed packet rate to function properly. OpenStack already\nsupports bandwidth guarantees via the minimum bandwidth QoS policy\nrules. This specification is aiming for adding support for a similar\nminimum packet rate QoS policy rule.\n\nRelated-Bug: 1922237\nChange-Id: Id17ee01dc288517a05f746a479500a6218ad55f4\n'}]",178,785236,ceb39afd7dddd0322834e5f25be72c788744913b,66,9,8,9708,,,0,"QoS minimum guaranteed packet rate

Similarly to how bandwidth can be a limiting factor of a network
interface, packet processing capacity tend to be a limiting factor
of the soft switching solutions like OVS. In the same time certain
applications are dependent on not just guaranteed bandwidth but also
on guaranteed packet rate to function properly. OpenStack already
supports bandwidth guarantees via the minimum bandwidth QoS policy
rules. This specification is aiming for adding support for a similar
minimum packet rate QoS policy rule.

Related-Bug: 1922237
Change-Id: Id17ee01dc288517a05f746a479500a6218ad55f4
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/36/785236/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/qos-minimum-guaranteed-packet-rate.rst'],1,8df321e85c6fdcd1f0a77b9b86f82614592579b7,bp/qos-minimum-guaranteed-packet-rate,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== QoS minimum guaranteed packet rate ================================== https://bugs.launchpad.net/neutron/+bug/1922237 Similarly how bandwidth can be a limiting factor of a network interface, packet processing capacity tend to be a limiting factor of the soft switching solutions like OVS. In the same time certain applications are dependent on not just guaranteed bandwidth but also on guaranteed packet rate to function properly. OpenStack already supports bandwidth guarantees via the `minimum bandwidth QoS policy rules`_. This specification is aiming for adding support for a similar minimum packet rate QoS policy rule. .. _`minimum bandwidth QoS policy rules`: TBD To add support for the new QoS rule type both Neutron and Nova needs to be extended. This specification only focuses on the Neutron impact. For the high level view and for the Nova specific impact please read the `Nova specification`_. Problem Description =================== Currently there are several parameters, quantitative and qualitative, that define a Nova server and are used to select the correct host and network backend devices to run it. The packet processing capacity of the soft switching solution (like OVS) could also be such a parameter that affects the placement of new workload. This spec focuses on managing the packet processing capacity of the soft switch (like OVS) running on or next to the hypervisor hosting the nova server. Managing packet processing capacity in other parts of the networking backend (like in Top-Of-Rack switches) are out of scope. Guaranteeing packet processing capacity generally involves enforcement of constraints on two levels. * placement: Avoiding oversubscription when placing (scheduling) nova servers and their ports. * data plane: Enforcing the guarantee on the soft switch This spec addresses placement enforcement only. Data plane enforcement can be developed later. Use cases --------- I as an administrator want to define the maximum packet rate, in kilo packet per second (kpps), my OVS soft switch capable of handle per compute node, so that I can avoid overload on OVS. I as an end user want to define the minimum packet rate, in kilo packet per second (kpps) a Neutron port needs to provide to my Nova server, so that my application using the port can work as expected. I as an administrator want to get a Nova server with such ports placed on a compute node that can still provide the requested minimum packet rate for the Neutron port so that the application will get what it requested. I as an administrator want that the nova server lifecycle operations are rejected in case the requested minimum packet rate guarantee of the Neutron ports of the server cannot be fulfilled on any otherwise eligible compute nodes, so that the OVS overload is avoided and application guarantees are kept. Proposed Change =============== .. note:: For the high level solution including the impact and interactions between Nova, Neutron and Placement see the `Nova specification`_. This feature is similar to the already supported `minimum bandwidth QoS policy rules`_. So this spec describes the impact in relation to the already introduced concepts and implementation while also pointing out key differences. Minimum packet rate QoS policy rule ----------------------------------- A new Neutron API extension is needed to extend the QoS API with the new minimum_packet_rate rule type. This rule has a similar structure and semantic as the minimum_bandwidth rule:: qos_apidef.SUB_RESOURCE_ATTRIBUTE_MAP = { 'minimum_packet_rate_rules': { 'parent': qos_apidef._PARENT, 'parameters': { qos_apidef._QOS_RULE_COMMON_FIELDS, 'min_kpps': { 'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_int, 'is_visible': True, 'is_filter': True, 'is_sort_key': True, 'validate': { 'type:range': [0, db_const.DB_INTEGER_MAX_VALUE]} }, 'direction': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': constants.EGRESS_DIRECTION, 'validate': { 'type:values': constants.VALID_DIRECTIONS} } } } } This results in the following new API resources and operations: * ``GET``: List minimum packet rate rules for QoS policy ``/v2.0/qos/policies/{policy_id}/minimum_packet_rate_rules`` Response:: { ""minimum_packet_rate_rules"": [ { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c793"", ""min_kpps"": 1000, ""direction"": ""egress"" } ] } * ``POST``: Create minimum packet rate rule ``/v2.0/qos/policies/{policy_id}/minimum_packet_rate_rules`` Request:: { ""minimum_packet_rate_rule"": { ""min_kpps"": 1000 } } Response:: { ""minimum_packet_rate_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c793"", ""min_kpps"": 1000, ""direction"": ""egress"" } } * ``GET``: Show minimum packet rate rule details ``/v2.0/qos/policies/{policy_id}/minimum_packet_rate_rules/{rule_id}`` Response:: { ""minimum_packet_rate_limit_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c793"", ""min_kpps"": 1000, ""direction"": ""egress"" } } * ``PUT``: Update minimum packet rate rule ``/v2.0/qos/policies/{policy_id}/minimum_packet_rate_rules/{rule_id}`` Request:: { ""minimum_packet_rate_rule"": { ""min_kpps"": 2000 } } Response:: { ""minimum_packet_rate_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c794"", ""min_kpps"": 2000 } } * ``DELETE``: Delete minimum packet rate rule ``/v2.0/qos/policies/{policy_id}/packet_rate_limit_rules/{rule_id}`` To persist the new QoS rule type a new DB table ``qos_minimum_packet_rate_rules`` is needed:: op.create_table( 'qos_minimum_packet_rate_rules', sa.Column('id', sa.String(36), nullable=False, index=True), sa.Column('qos_policy_id', sa.String(36), nullable=False, index=True), sa.Column('min_kpps', sa.Integer()), sa.Column('direction', sa.Enum(constants.EGRESS_DIRECTION, constants.INGRESS_DIRECTION, name=""directions""), nullable=False, server_default=constants.EGRESS_DIRECTION), sa.PrimaryKeyConstraint('id'), sa.ForeignKeyConstraint(['qos_policy_id'], ['qos_policies.id'], ondelete='CASCADE') ) This also means a new ``QosMinimumPacketRateRule`` DB model and OVO are added. OVS packet processing capacity ------------------------------ Neutron OVS agent needs to provide a configuration option for the administrator to define the maximum packet processing capability of the OVS per compute node. This means the following new configuration option is added to OVS agent configuration:: [ovs] # Coma-separated list of <hypervisor>:<packet_rate> tuples, defining the # minimum packet rate the OVS backend can guarantee in kilo packet per # second. The hypervisor name is used to locate the parent of the resource # provider tree. Only needs to be set in the rare case when the hypervisor # name is different from the DEFAULT.host config option value as known by # the nova-compute managing that hypervisor or if multiple hypervisors are # served by the same OVS backend. # The default is :0 which means no packet processing capacity is guaranteed # on the hypervisor named according to DEFAULT.host. # The fine grained resource inventory configuration defined in the # resource_provider_inventory_defaults config option applies to this # resource too. # packet_processing_capacity = :0 .. note:: Here kilo packet means 1000 packets. .. note:: Note that while bandwidth inventory is define per OVS bridge in the ``[ovs]resource_provider_bandwidths`` configuration option, the packet processing capacity is applied globally to the whole OVS instance. .. note:: Note that this resource is directionless while the proposed new QoS rule has direction. From scheduling perspective the direction of the QoS rule does not matter and both direction will be counted against the single directionless resource inventory. However, later, for data plane enforcement the policing of the incoming and outgoing packets needs to done separately. The ``configurations`` field of the OVS agent heartbeat RPC message is extended to report the packet processing capacity configuration to the Neutron server. If the hypervisor name is omitted from the configuration it is resolved to the value of ``[DEFAULT]host`` in the RPC message. The Neutron server reports the packet processing capacity as the new ``NET_KILOPACKET_PER_SEC`` resource inventory on the OVS agent resource provider (RP) to Placement in a similarly way how the bandwidth resource is reported today. Now that the OVS agent RP has resource inventory the Neutron server also needs to report the same ``CUSTOM_VNIC_TYPE_`` traits on the OVS agent RP as reported on the bridge RPs. Also the Neutron server needs to report the union of the ``CUSTOM_PHYSNET_`` traits from every children bridge RP to the agent RP. Request packet rate resources ----------------------------- Today the ``resource_request`` field of the Neutron port is used to express the resource needs of the port. The information in this field is calculated from the QoS policy rules attached to the port. So far only the minimum bandwidth rule is used as a source of the requested resources. However both the structure and the actual logic calculating the value of this field is need to be changed when the new minimum packet rate rule is added as an additional source of the requested resources. Currently ``resource_request`` is structured like:: { ""required"": [<CUSTOM_PHYSNET_ traits>, <CUSTOM_VNIC_TYPE traits>], ""resources"": { <NET_BW_[E|I]GR_KILOBIT_PER_SEC resource class name>: <requested bandwidth amount from the QoS policy> } }, The current structure only allows describing one sets of resources an traits. However as described above the packet processing resource inventory is reported on the OVS agent RP while the bandwidth resources are reported on the OVS bridge RP. This also means that requesting these resources needs to be separated as one set of resource always allocated from one single RP in placement. Therefore the structure of the field needs to be changed to express separate set of resources:: { { ""resource_request_id"": <some unique identifier> ""required"": [<CUSTOM_PHYSNET_ traits>, <CUSTOM_VNIC_TYPE traits>], ""resources"": { NET_KILOPACKET_PER_SEC: <amount requested via the QoS policy> } }, { ""resource_request_id"": <some unique identifier> ""required"": [<CUSTOM_PHYSNET_ traits>, <CUSTOM_VNIC_TYPE traits>], ""resources"": { <NET_BW_[E|I]GR_KILOBIT_PER_SEC resource class name>: <requested bandwidth amount from the QoS policy> } }, } Each nested dict represents one set of resources and traits that needs to be fulfilled from a single resource provider. E.g. either from the bridge RP in case of bandwidth, or the OVS agent RP in case of packet rate. Note that the current neutron API does not define the exact structure of the field, it is just a dict, so from Neutron perspective there is no need for a new API extension to change the structure. However from Nova needs to know which format will be used by Neutron so a new, mandatory Neutron API extension will be introduced to signal the format change to Nova. Port binding ------------ ``TBD`` QoS policy change on bound port ------------------------------- ``TBD`` Testing ------- ``TBD`` Upgrade ------- ``TBD`` References ========== ``TBD`` .. _`Nova specification`: https://review.opendev.org/c/openstack/nova-specs/+/785014 ",,346,0
openstack%2Fbifrost~stable%2Fwallaby~I1de40cc2e56c531ddb6d5aa937e6ad5fc8f4a8d5,openstack/bifrost,stable/wallaby,I1de40cc2e56c531ddb6d5aa937e6ad5fc8f4a8d5,Fix upper-constraints reference,MERGED,2021-06-03 13:41:32.000000000,2021-06-04 08:30:15.000000000,2021-06-04 08:28:51.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 13:41:32.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1980b32ba68e9fdffdbc3c0417f89ff4c557c446', 'message': 'Fix upper-constraints reference\n\nWe should really use walalbyu upper-constraints for stable/wallaby by\ndefault.\n\nChange-Id: I1de40cc2e56c531ddb6d5aa937e6ad5fc8f4a8d5\n'}]",0,794590,1980b32ba68e9fdffdbc3c0417f89ff4c557c446,7,2,1,23851,,,0,"Fix upper-constraints reference

We should really use walalbyu upper-constraints for stable/wallaby by
default.

Change-Id: I1de40cc2e56c531ddb6d5aa937e6ad5fc8f4a8d5
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/90/794590/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,1980b32ba68e9fdffdbc3c0417f89ff4c557c446,,BRANCH=${ZUUL_BRANCH:-wallaby},BRANCH=${ZUUL_BRANCH:-master},1,1
openstack%2Fbifrost~stable%2Fvictoria~I62413ba860d84c48c2da97ea469d3906d885e6ef,openstack/bifrost,stable/victoria,I62413ba860d84c48c2da97ea469d3906d885e6ef,Recognize TOX_CONSTRAINTS_FILE as a valid constraints variable,MERGED,2021-06-03 13:56:26.000000000,2021-06-04 08:30:09.000000000,2021-06-04 08:28:54.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 13:56:26.000000000', 'files': ['doc/source/contributor/testenv.rst', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/15bcd4954b09716474c8befed218f8dc28174974', 'message': 'Recognize TOX_CONSTRAINTS_FILE as a valid constraints variable\n\nAdd-on for https://review.opendev.org/760782\n\nChange-Id: I62413ba860d84c48c2da97ea469d3906d885e6ef\n(cherry picked from commit 71b86a313953ee193d482e4d0d30f55585eeae8e)\n'}]",2,794594,15bcd4954b09716474c8befed218f8dc28174974,9,3,1,23851,,,0,"Recognize TOX_CONSTRAINTS_FILE as a valid constraints variable

Add-on for https://review.opendev.org/760782

Change-Id: I62413ba860d84c48c2da97ea469d3906d885e6ef
(cherry picked from commit 71b86a313953ee193d482e4d0d30f55585eeae8e)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/94/794594/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testenv.rst', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml']",4,15bcd4954b09716474c8befed218f8dc28174974,,"upper_constraints_file: >- {{ lookup('env', 'UPPER_CONSTRAINTS_FILE') | default(lookup('env', 'TOX_CONSTRAINTS_FILE'), True) | default(reqs_git_folder + '/upper-constraints.txt', True) }} ","upper_constraints_file: ""{{ lookup('env', 'UPPER_CONSTRAINTS_FILE') | default(reqs_git_folder + '/upper-constraints.txt', True) }}""",18,6
openstack%2Fopenstack-ansible-os_tempest~master~Ie8e04a1635a32e368ec3906082f7773dcefd30d1,openstack/openstack-ansible-os_tempest,master,Ie8e04a1635a32e368ec3906082f7773dcefd30d1,Install py3-dev when not building wheels,MERGED,2021-06-02 07:59:42.000000000,2021-06-04 08:16:00.000000000,2021-06-04 08:14:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 07:59:42.000000000', 'files': ['tasks/tempest_install_source.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a12a662114dda5c19269bff6bf067271d35e7f69', 'message': ""Install py3-dev when not building wheels\n\nWhen we're in CI and not building wheels, we might appear missing\npy3-dev inside utility container, which is required for netifaces. So we\nadd it as `tempest_devel_distro_packages` which will get package\ninstalled on the required target.\n\nChange-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1\n""}]",0,794158,a12a662114dda5c19269bff6bf067271d35e7f69,16,3,1,28619,,,0,"Install py3-dev when not building wheels

When we're in CI and not building wheels, we might appear missing
py3-dev inside utility container, which is required for netifaces. So we
add it as `tempest_devel_distro_packages` which will get package
installed on the required target.

Change-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/58/794158/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_install_source.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml']",4,a12a662114dda5c19269bff6bf067271d35e7f69,osa/bullseye,tempest_devel_distro_packages: - python3-dev # required for netifaces module for stackviz ,,10,0
openstack%2Fmonasca-thresh~master~I954ec191692c394f546219acdb17afc0f5f916ed,openstack/monasca-thresh,master,I954ec191692c394f546219acdb17afc0f5f916ed,Fix Docker build,MERGED,2021-05-20 16:33:36.000000000,2021-06-04 08:15:07.000000000,2021-06-04 08:15:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-05-20 16:33:36.000000000', 'files': ['docker/build_image.sh'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/d54904e585e44d5fa4715f4b37c07bc90de21c84', 'message': ""Fix Docker build\n\nThe default nodeset was just changed to focal [1], which in the absence\nof the python-is-python3 package doesn't provide a python binary.\n\n[1] https://review.opendev.org/c/opendev/base-jobs/+/789098\n\nChange-Id: I954ec191692c394f546219acdb17afc0f5f916ed\n""}]",0,792413,d54904e585e44d5fa4715f4b37c07bc90de21c84,6,2,1,15197,,,0,"Fix Docker build

The default nodeset was just changed to focal [1], which in the absence
of the python-is-python3 package doesn't provide a python binary.

[1] https://review.opendev.org/c/opendev/base-jobs/+/789098

Change-Id: I954ec191692c394f546219acdb17afc0f5f916ed
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/13/792413/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/build_image.sh'],1,d54904e585e44d5fa4715f4b37c07bc90de21c84,docker-build-fixes,"REAL_PATH=$(python3 -c ""import os,sys; print(os.path.realpath('$0'))"")","REAL_PATH=$(python -c ""import os,sys; print(os.path.realpath('$0'))"")",1,1
openstack%2Fopenstack-ansible-os_manila~master~I740d54d0610c3fc757f6569e927f0e9b31887c51,openstack/openstack-ansible-os_manila,master,I740d54d0610c3fc757f6569e927f0e9b31887c51,Updated from OpenStack Ansible Tests,MERGED,2021-03-12 22:19:40.000000000,2021-06-04 07:58:04.000000000,2021-06-04 07:56:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-12 22:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/6d45955824348d317c6047b7bf0104170fa8805e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I740d54d0610c3fc757f6569e927f0e9b31887c51\n'}, {'number': 2, 'created': '2021-04-19 09:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/75985dd89ad8b877bafe509770eff209062a3574', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I740d54d0610c3fc757f6569e927f0e9b31887c51\n'}, {'number': 3, 'created': '2021-06-03 10:46:00.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/415b5ad7a88c3a08e367cb5c83ea0cb7a9ece3ba', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I740d54d0610c3fc757f6569e927f0e9b31887c51\n'}]",0,780362,415b5ad7a88c3a08e367cb5c83ea0cb7a9ece3ba,13,2,3,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I740d54d0610c3fc757f6569e927f0e9b31887c51
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/62/780362/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt']",2,6d45955824348d317c6047b7bf0104170fa8805e,openstack/openstack-ansible-tests/sync-tests,git-core [platform:dpkg]git [platform:rpm],git-core [platform:dpkg platform:suse]git [platform:rpm !platform:suse]# Base requirements for Gentoo git [platform:gentoo] ,3,12
openstack%2Fneutron~stable%2Fwallaby~I29137b22c158e979e81be9e41464948aa99f5498,openstack/neutron,stable/wallaby,I29137b22c158e979e81be9e41464948aa99f5498,Remove leading zeroes from an IP address,MERGED,2021-06-03 15:08:14.000000000,2021-06-04 07:49:38.000000000,2021-06-04 07:47:55.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 15:08:14.000000000', 'files': ['neutron/tests/unit/services/metering/test_metering_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50fd545ee8d40f70c9b2b680360c4a2e1b9e95b7', 'message': 'Remove leading zeroes from an IP address\n\nIn python3.9, ipaddress.IPv4Interface does not support defining an\nIP address with leading zeroes. E.g.:\n\n>>> ipaddress.IPv4Interface(\'00.0.0.0/0\')\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1390, in __init__\n    IPv4Address.__init__(self, addr)\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1307, in __init__\n    self._ip = self._ip_int_from_string(addr_str)\n  File ""/usr/lib/python3.9/ipaddress.py"", line 1199, in\n_ip_int_from_string\n    raise AddressValueError(""%s in %r"" % (exc, ip_str)) from None\nipaddress.AddressValueError: Leading zeros are not permitted in \'00\' in\n\'00.0.0.0\'\n\nChange-Id: I29137b22c158e979e81be9e41464948aa99f5498\nCloses-Bug: #1930222\n(cherry picked from commit b141aed51296fd6564ccce18f907dc1913a4bc5b)\n'}]",0,794617,50fd545ee8d40f70c9b2b680360c4a2e1b9e95b7,10,3,1,21798,,,0,"Remove leading zeroes from an IP address

In python3.9, ipaddress.IPv4Interface does not support defining an
IP address with leading zeroes. E.g.:

>>> ipaddress.IPv4Interface('00.0.0.0/0')
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib/python3.9/ipaddress.py"", line 1390, in __init__
    IPv4Address.__init__(self, addr)
  File ""/usr/lib/python3.9/ipaddress.py"", line 1307, in __init__
    self._ip = self._ip_int_from_string(addr_str)
  File ""/usr/lib/python3.9/ipaddress.py"", line 1199, in
_ip_int_from_string
    raise AddressValueError(""%s in %r"" % (exc, ip_str)) from None
ipaddress.AddressValueError: Leading zeros are not permitted in '00' in
'00.0.0.0'

Change-Id: I29137b22c158e979e81be9e41464948aa99f5498
Closes-Bug: #1930222
(cherry picked from commit b141aed51296fd6564ccce18f907dc1913a4bc5b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/794617/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/services/metering/test_metering_plugin.py'],1,50fd545ee8d40f70c9b2b680360c4a2e1b9e95b7,bug/1930222-stable/wallaby, 'destination_ip_prefix': '0.0.0.0/0'}, 'destination_ip_prefix': '00.0.0.0/0'},1,1
openstack%2Fironic-inspector~master~I9bcdda75b16e83b6d2246448d38b83e37ecf2750,openstack/ironic-inspector,master,I9bcdda75b16e83b6d2246448d38b83e37ecf2750,Add versions to Wallaby release notes,MERGED,2021-06-04 07:12:09.000000000,2021-06-04 07:33:47.000000000,2021-06-04 07:31:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-04 07:12:09.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/11e5798233d6c7e42557708642b8d03087dd0b36', 'message': 'Add versions to Wallaby release notes\n\nChange-Id: I9bcdda75b16e83b6d2246448d38b83e37ecf2750\n'}]",0,794715,11e5798233d6c7e42557708642b8d03087dd0b36,7,2,1,11292,,,0,"Add versions to Wallaby release notes

Change-Id: I9bcdda75b16e83b6d2246448d38b83e37ecf2750
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/15/794715/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,11e5798233d6c7e42557708642b8d03087dd0b36,,============================================== Wallaby Series (10.5.0 - 10.6.x) Release Notes ==============================================,============================ Wallaby Series Release Notes ============================,3,3
openstack%2Fgovernance~master~If5542d532becbde66b23f7b11c1705238169aac7,openstack/governance,master,If5542d532becbde66b23f7b11c1705238169aac7,Replace freenode ref with OFTC,MERGED,2021-05-31 21:17:18.000000000,2021-06-04 07:23:45.000000000,2021-06-03 23:06:06.000000000,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-31 21:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4b397afc2df6e5262e058b96c1dfafe687d95c10', 'message': 'Replace freenode ref with OFTC\n\nChange-Id: If5542d532becbde66b23f7b11c1705238169aac7\n'}, {'number': 2, 'created': '2021-06-01 16:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1bf39f0051558f98f575e3bd5c0c8f9e76c77843', 'message': 'Replace freenode ref with OFTC\n\nChange-Id: If5542d532becbde66b23f7b11c1705238169aac7\n'}, {'number': 3, 'created': '2021-06-01 17:04:37.000000000', 'files': ['reference/upstream-investment-opportunities/2019/community-infrastructure-sysadmins.rst', 'reference/upstream-investment-opportunities/2018/designate.rst', 'reference/upstream-investment-opportunities/2020/quality-assurance-developers.rst', 'reference/upstream-investment-opportunities/2021/goal-champions.rst', 'reference/upstream-investment-opportunities/2021/quality-assurance-developers.rst', 'reference/upstream-investment-opportunities/2019/glance.rst', 'reference/upstream-investment-opportunities/2020/goal-champions.rst', 'reference/upstream-investment-opportunities/2019/goal-champions.rst', 'reference/upstream-investment-opportunities/2019/designate.rst', 'reference/upstream-investment-opportunities/2019/documentation-owners.rst', 'reference/charter.rst', 'reference/upstream-investment-opportunities/2021/community-infrastructure-elk-maintainer.rst', 'reference/upstream-investment-opportunities/2018/community-infrastructure-sysadmins.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/ae6d0272b727418e7f826241cc8c879b1ad82fde', 'message': 'Replace freenode ref with OFTC\n\nChange-Id: If5542d532becbde66b23f7b11c1705238169aac7\n'}]",1,793864,ae6d0272b727418e7f826241cc8c879b1ad82fde,15,6,3,8556,,,0,"Replace freenode ref with OFTC

Change-Id: If5542d532becbde66b23f7b11c1705238169aac7
",git fetch https://review.opendev.org/openstack/governance refs/changes/64/793864/3 && git format-patch -1 --stdout FETCH_HEAD,"['reference/upstream-investment-opportunities/2019/community-infrastructure-sysadmins.rst', 'reference/upstream-investment-opportunities/2018/designate.rst', 'reference/upstream-investment-opportunities/2020/quality-assurance-developers.rst', 'reference/upstream-investment-opportunities/2021/goal-champions.rst', 'reference/upstream-investment-opportunities/2021/quality-assurance-developers.rst', 'reference/upstream-investment-opportunities/2019/glance.rst', 'reference/upstream-investment-opportunities/2020/goal-champions.rst', 'reference/upstream-investment-opportunities/2019/goal-champions.rst', 'reference/upstream-investment-opportunities/2019/designate.rst', 'reference/upstream-investment-opportunities/2019/documentation-owners.rst', 'reference/charter.rst', 'reference/upstream-investment-opportunities/2021/community-infrastructure-elk-maintainer.rst', 'reference/upstream-investment-opportunities/2018/community-infrastructure-sysadmins.rst']",13,4b397afc2df6e5262e058b96c1dfafe687d95c10,documentation-change,Join the #openstack-infra channel on the OFTC IRC network or reach out,Join the #openstack-infra channel on the Freenode IRC network or reach out,23,23
openstack%2Frequirements~master~I46b0d545d10b295595011f882f9daf6c6bcd285a,openstack/requirements,master,I46b0d545d10b295595011f882f9daf6c6bcd285a,Updated from generate-constraints,ABANDONED,2021-06-04 06:38:17.000000000,2021-06-04 07:16:03.000000000,,[],"[{'number': 1, 'created': '2021-06-04 06:38:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ffd43a79021efc415d6dada2f81e1cde2cb4f95', 'message': 'Updated from generate-constraints\n\nChange-Id: I46b0d545d10b295595011f882f9daf6c6bcd285a\n'}]",0,794710,5ffd43a79021efc415d6dada2f81e1cde2cb4f95,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I46b0d545d10b295595011f882f9daf6c6bcd285a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/794710/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5ffd43a79021efc415d6dada2f81e1cde2cb4f95,openstack/requirements/constraints,neutron-lib===2.12.0XStatic-Angular===1.8.2.1google-api-core===1.29.0pyghmi===1.5.27SQLAlchemy===1.4.17eventlet===0.31.0SQLAlchemy-Utils===0.37.6importlib-metadata===4.5.0docutils===0.17.1boto3===1.17.87protobuf===3.17.2Sphinx===4.0.2botocore===1.20.87Django===2.2.24pymemcache===3.4.4pkg-resources===0.0.0python-linstor===1.7.3,neutron-lib===2.11.0XStatic-Angular===1.5.8.0google-api-core===1.28.0pyghmi===1.5.26SQLAlchemy===1.3.23eventlet===0.30.2SQLAlchemy-Utils===0.37.5importlib-metadata===4.4.0docutils===0.16boto3===1.17.85protobuf===3.17.1Sphinx===3.5.4botocore===1.20.85Django===2.2.23pymemcache===3.4.3python-linstor===1.7.1setuptools===57.0.0,17,17
openstack%2Ftripleo-validations~master~I413dece53c3d04f647c53f3da2c2f29589206b89,openstack/tripleo-validations,master,I413dece53c3d04f647c53f3da2c2f29589206b89,Basic tests for pacemaker module,MERGED,2021-05-21 13:10:11.000000000,2021-06-04 07:14:55.000000000,2021-06-04 07:10:25.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-21 13:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e86b192a5e5e567288d47c7bde35b9550787bacb', 'message': 'Basic tests for pacemaker module\n\nTests module initiation and helper functions tests.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I413dece53c3d04f647c53f3da2c2f29589206b89\n'}, {'number': 2, 'created': '2021-05-21 13:15:18.000000000', 'files': ['tripleo_validations/tests/library/test_pacemaker.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5db00af96d0fecf0ee5c8c8bf3a00bf8c8639cac', 'message': 'Basic tests for pacemaker module\n\nTests module initiation and helper functions tests.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I413dece53c3d04f647c53f3da2c2f29589206b89\n'}]",0,792630,5db00af96d0fecf0ee5c8c8bf3a00bf8c8639cac,10,7,2,32926,,,0,"Basic tests for pacemaker module

Tests module initiation and helper functions tests.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I413dece53c3d04f647c53f3da2c2f29589206b89
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/30/792630/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tests/library/test_pacemaker.py'],1,e86b192a5e5e567288d47c7bde35b9550787bacb,tests/pacemaker,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" test_pacemaker -------------- Tests for the `pacemaker` module. """""" try: from unittest import mock except ImportError: import mock from tripleo_validations.tests import base from tripleo_validations.tests import fakes from library import pacemaker class TestPacemaker(base.TestCase): def setUp(self): self.tested_module = pacemaker return super().setUp() def test_module_init(self): expepect_attrs = set( [ 'DOCUMENTATION', 'EXAMPLES', 'main']) actual_attrs = set(dir(pacemaker)) self.assertTrue(expepect_attrs.issubset(actual_attrs)) @mock.patch('library.pacemaker.ElementTree.fromstring') def test_parse_pcs_status(self, mock_fromstring): test_xml = ""<foo></foo>"" return_value = self.tested_module.parse_pcs_status(test_xml) mock_fromstring.assert_called_once_with(test_xml) def test_format_failure_empty(self): return_value = self.tested_module.format_failure({}) expected_value = ( ""Task None None failed on node None. Exit reason: "" ""'None'. Exit status: 'None'."") self.assertEqual(expected_value, return_value) ",,59,0
openstack%2Fvalidations-common~master~I9a74516f2b55f0ddf1f04637f0301c281903bb88,openstack/validations-common,master,I9a74516f2b55f0ddf1f04637f0301c281903bb88,"Python 2.7 environment, mimicking the one used by RDO",MERGED,2021-02-25 13:06:05.000000000,2021-06-04 07:13:52.000000000,2021-06-04 07:10:36.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-25 13:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ef0c6c5d755634e0c352b0ef36fa6052ffcf4555', 'message': 'Python 2.7 environment, mimicking the one used by RDO\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9a74516f2b55f0ddf1f04637f0301c281903bb88\n'}, {'number': 2, 'created': '2021-02-25 15:36:20.000000000', 'files': ['validations_common/library/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b8ef2c0254623d6c3527e4853dbe27baf8023b26', 'message': 'Python 2.7 environment, mimicking the one used by RDO\n\nPrompted by a recent issue:\nhttps://review.rdoproject.org/r/#/c/32074/\n\nNew py27 environment approximates the steps taken during\nthe rdo packaging.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9a74516f2b55f0ddf1f04637f0301c281903bb88\n'}]",0,777588,b8ef2c0254623d6c3527e4853dbe27baf8023b26,12,7,2,32926,,,0,"Python 2.7 environment, mimicking the one used by RDO

Prompted by a recent issue:
https://review.rdoproject.org/r/#/c/32074/

New py27 environment approximates the steps taken during
the rdo packaging.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9a74516f2b55f0ddf1f04637f0301c281903bb88
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/88/777588/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/library/__init__.py', 'tox.ini']",2,ef0c6c5d755634e0c352b0ef36fa6052ffcf4555,tox/py27env,[testenv:py27] envtmpdir={envdir}/tmp skip_install = true commands_pre = cp -r {toxinidir}/validations_common {envtmpdir}/validations_common touch {envtmpdir}/validations_common/library/__init__.py find {envtmpdir}/validations_common/tests/ -type f -exec sed -i -e 's/from unittest import mock/import mock/g' \{\} ; find {envtmpdir}/validations_common/tests/ -type f -exec sed -i -e 's/from unittest.mock/from mock/g' \{\} ; find {envtmpdir} -type f -name 'setup.cfg' -exec sed -i -e 's/python-requires = >=3.6/python-requires = >=2.7/g' \{\} ; commands = python2.7 -m unittest discover -s {envtmpdir}/validations_common/tests deps = -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/train/upper-constraints.txt} -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt ansible>=2 whitelist_externals = bash cp find sed touch ,,23,0
openstack%2Fvalidations-libs~master~Ib98e6e227753c7b2831b85962acafab9f83a0b12,openstack/validations-libs,master,Ib98e6e227753c7b2831b85962acafab9f83a0b12,Deprecated assertEquals replaced,MERGED,2021-05-31 09:30:22.000000000,2021-06-04 07:13:51.000000000,2021-06-04 07:10:03.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-31 09:30:22.000000000', 'files': ['validations_libs/tests/test_validation.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/test_validation_logs.py', 'validations_libs/tests/test_group.py', 'validations_libs/tests/cli/test_colors.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c00f96acab5ac1af848e7b6c822ddf7a37ab7fb2', 'message': 'Deprecated assertEquals replaced\n\nThis should help cleanup the logs somewhat.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib98e6e227753c7b2831b85962acafab9f83a0b12\n'}]",0,793751,c00f96acab5ac1af848e7b6c822ddf7a37ab7fb2,9,8,1,32926,,,0,"Deprecated assertEquals replaced

This should help cleanup the logs somewhat.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib98e6e227753c7b2831b85962acafab9f83a0b12
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/51/793751/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/test_validation.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/test_validation_logs.py', 'validations_libs/tests/test_group.py', 'validations_libs/tests/cli/test_colors.py', 'validations_libs/tests/test_ansible.py']",6,c00f96acab5ac1af848e7b6c822ddf7a37ab7fb2,tests/equalsdeprecation," self.assertEqual((_playbook, _rc, _status), ('existing.yaml', 1, 'failed')) self.assertEqual((_playbook, _rc, _status), ('existing.yaml', 0, 'successful')) self.assertEqual((_playbook, _rc, _status), ('existing.yaml', 0, 'successful')) self.assertEqual((_playbook, _rc, _status), ('existing.yaml', 0, 'successful')) self.assertEqual((_playbook, _rc, _status), ('existing.yaml', None, 'unstarted'))"," self.assertEquals((_playbook, _rc, _status), ('existing.yaml', 1, 'failed')) self.assertEquals((_playbook, _rc, _status), ('existing.yaml', 0, 'successful')) self.assertEquals((_playbook, _rc, _status), ('existing.yaml', 0, 'successful')) self.assertEquals((_playbook, _rc, _status), ('existing.yaml', 0, 'successful')) self.assertEquals((_playbook, _rc, _status), ('existing.yaml', None, 'unstarted'))",109,104
openstack%2Ftripleo-validations~master~Id954a556be30b4f334994326215ad6752bb717f5,openstack/tripleo-validations,master,Id954a556be30b4f334994326215ad6752bb717f5,Basic tests for check_flavors module,MERGED,2021-05-21 14:21:56.000000000,2021-06-04 07:13:48.000000000,2021-06-04 07:10:07.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-21 14:21:56.000000000', 'files': ['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/library/test_check_flavors.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ad226f908442e57219a0c146126c0c9c89a3a9fa', 'message': ""Basic tests for check_flavors module\n\nTests for the initiation and basic functionality\nof the 'check_flavors' module.\n\nTest values added to the 'fakes' module.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id954a556be30b4f334994326215ad6752bb717f5\n""}]",0,792637,ad226f908442e57219a0c146126c0c9c89a3a9fa,9,7,1,32926,,,0,"Basic tests for check_flavors module

Tests for the initiation and basic functionality
of the 'check_flavors' module.

Test values added to the 'fakes' module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id954a556be30b4f334994326215ad6752bb717f5
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/792637/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/library/test_check_flavors.py']",2,ad226f908442e57219a0c146126c0c9c89a3a9fa,tests/check_flavors,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" test_check_flavors -------------- Tests for the `check_flavors` module. """""" try: from unittest import mock except ImportError: import mock from tripleo_validations.tests import base from tripleo_validations.tests import fakes from library import check_flavors class TestCheckFlavors(base.TestCase): def setUp(self): self.tested_module = check_flavors return super().setUp() def test_module_init(self): expepect_attrs = set( [ 'DOCUMENTATION', 'EXAMPLES', 'main']) actual_attrs = set(dir(self.tested_module)) self.assertTrue(expepect_attrs.issubset(actual_attrs)) def test_validate_roles_and_flavors(self): expected_values = fakes.MOCK_FLAVORS_CHECK_EXPECTED['ok'] return_value = self.tested_module.validate_roles_and_flavors( fakes.MOCK_ROLES_INFO, fakes.MOCK_FLAVORS['ok']) self.assertEqual(expected_values, return_value) def test_validate_roles_and_flavors_nocpu(self): """"""Tests situation when the 'VCPU' key doesn't have associated value. 'DISK_GB' and 'MEMORY_MB' behave the same way, so we don't need to test them. For now at least. """""" expected_values = fakes.MOCK_FLAVORS_CHECK_EXPECTED['fail_NOVCPU'] return_value = self.tested_module.validate_roles_and_flavors( fakes.MOCK_ROLES_INFO, fakes.MOCK_FLAVORS['fail_NOVCPU']) self.assertEqual(expected_values, return_value) ",,133,0
openstack%2Ftripleo-validations~stable%2Fwallaby~Idbab25f1750b5afe990d7e46fa4e78f8f36ff057,openstack/tripleo-validations,stable/wallaby,Idbab25f1750b5afe990d7e46fa4e78f8f36ff057,Bump molecule to 3.3.1,MERGED,2021-05-31 03:43:20.000000000,2021-06-04 07:13:46.000000000,2021-06-04 07:11:54.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32029}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-31 03:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f03a82bbf402ace5930857cd8697a1d5e7b9e051', 'message': 'Bump molecule to 3.3.1\n\nThis patch also adds molecule-podman driver as a requirement\nbecause molecule >=3.2 stopped installing it by default.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057\n(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)\n'}, {'number': 2, 'created': '2021-06-02 09:00:32.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e50c19326eb83ba61123e2fb903b75c2c3a894fa', 'message': 'Bump molecule to 3.3.1\n\nThis patch also adds molecule-podman driver as a requirement\nbecause molecule >=3.2 stopped installing it by default.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057\n(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)\n'}]",1,793718,e50c19326eb83ba61123e2fb903b75c2c3a894fa,18,8,2,11491,,,0,"Bump molecule to 3.3.1

This patch also adds molecule-podman driver as a requirement
because molecule >=3.2 stopped installing it by default.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbab25f1750b5afe990d7e46fa4e78f8f36ff057
(cherry picked from commit d61e645cee24f28df2df151b1510fde673164bcc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/793718/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,f03a82bbf402ace5930857cd8697a1d5e7b9e051,,"molecule>=3.3.1,<4 # MIT molecule-podman # MIT","molecule>=3.0,<3.1",2,1
openstack%2Ftripleo-heat-templates~master~Ic34f1d53c5f344a4e6605a00e5cccd671663a444,openstack/tripleo-heat-templates,master,Ic34f1d53c5f344a4e6605a00e5cccd671663a444,Add glance db purge job,MERGED,2020-08-21 07:52:44.000000000,2021-06-04 07:13:44.000000000,2021-06-04 07:10:57.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 07:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95121f55612b6b49fd0cff1e51cc8f95e077e2f8', 'message': 'Add glance db purge job\n\nThis patch introduces glance_api_cron container to run glance db purge\njob periodically, so that soft-deleted records are removed from glance\ndatabase.\n\nChange-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444\nCloses-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nDepends-on: https://review.opendev.org/#/c/747346/\n'}, {'number': 2, 'created': '2020-08-21 11:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1bd0b90689929df3a58f94373787c35369765a4', 'message': 'Add glance db purge job\n\nThis patch introduces glance_api_cron container to run glance db purge\njob periodically, so that soft-deleted records are removed from glance\ndatabase.\n\nChange-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444\nCloses-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nDepends-on: https://review.opendev.org/#/c/747346/\n'}, {'number': 3, 'created': '2021-02-19 13:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85043767e515326ffbf96c9a0502c81ec25ad305', 'message': 'Add glance db purge job\n\nThis patch introduces glance_api_cron container to run glance db purge\njob periodically, so that soft-deleted records are removed from glance\ndatabase.\n\nChange-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444\nCloses-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nDepends-on: https://review.opendev.org/#/c/747346/\n'}, {'number': 4, 'created': '2021-04-21 15:42:56.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/glance-db-purge-bb185353a45880c7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37bb2ecceb6b83e1f0d88523b795e02660acf3f0', 'message': 'Add glance db purge job\n\nThis patch introduces glance_api_cron container to run glance db purge\njob periodically, so that soft-deleted records are removed from glance\ndatabase.\n\nChange-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444\nCloses-Bug: #1892467\nDepends-on: https://review.opendev.org/#/c/746452/\nDepends-on: https://review.opendev.org/#/c/747346/\n'}]",0,747352,37bb2ecceb6b83e1f0d88523b795e02660acf3f0,42,4,4,9816,,,0,"Add glance db purge job

This patch introduces glance_api_cron container to run glance db purge
job periodically, so that soft-deleted records are removed from glance
database.

Change-Id: Ic34f1d53c5f344a4e6605a00e5cccd671663a444
Closes-Bug: #1892467
Depends-on: https://review.opendev.org/#/c/746452/
Depends-on: https://review.opendev.org/#/c/747346/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/747352/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/glance-db-purge-bb185353a45880c7.yaml']",2,95121f55612b6b49fd0cff1e51cc8f95e077e2f8,bug/1892467,"--- features: - | The ``glance_api_cron`` container has been introduced, which executes db purge job for Glance service. Use GlanceCronDbPurge* parameters to override cron parameters. ",,95,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia1a03cf798436b5f9865b527a8c742d13bbff180,openstack/tripleo-heat-templates,stable/victoria,Ia1a03cf798436b5f9865b527a8c742d13bbff180,Disable tunnelled migration,MERGED,2021-06-03 14:59:21.000000000,2021-06-04 07:12:12.000000000,2021-06-04 07:12:12.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 14:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5271a5b5a84aa887539e78289ab9cbc91a23607f', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 1a42c86ede12300c57459e6da567574272def5fa)\n'}, {'number': 2, 'created': '2021-06-03 15:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3053fc0a14d0e4d7369770e96c180114712802c', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 1a42c86ede12300c57459e6da567574272def5fa)\n'}, {'number': 3, 'created': '2021-06-03 15:08:17.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/069005186427fbcf2034e07dbcac96d8d81ea4c4', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n(cherry picked from commit 0efd6f0679ca5b324e06843619aec780bc129715)\n'}]",0,794614,069005186427fbcf2034e07dbcac96d8d81ea4c4,11,6,3,27419,,,0,"Disable tunnelled migration

Tunnelled migration is not compatible with post_copy as pointed by the
related BZ. It was disabled up until we fixed the puppet namespace in
I845bc3c533e55dd5398d6a74ee48762cfd32b8a9

Closes-bug: 1930599
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1967130
Change-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180
(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)
(cherry picked from commit 0efd6f0679ca5b324e06843619aec780bc129715)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/794614/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,5271a5b5a84aa887539e78289ab9cbc91a23607f,, # TUNNELLED mode is not compatible with post_copy. nova::migration::libvirt::live_migration_tunnelled: false," enable_live_migration_tunnelled: and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration # TUNNELLED mode provides a security improvement for migration, but # can't be used in combination with block migration. So we only enable it # when shared storage is available (Ceph RDB is currently the only option). # See https://bugzilla.redhat.com/show_bug.cgi?id=1301986#c12 # In future versions of QEMU (2.6, mostly), danpb's native # encryption work will obsolete the need to use TUNNELLED transport # mode. nova::migration::libvirt::live_migration_tunnelled: if: - enable_live_migration_tunnelled - true - false",2,27
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia1a03cf798436b5f9865b527a8c742d13bbff180,openstack/tripleo-heat-templates,stable/wallaby,Ia1a03cf798436b5f9865b527a8c742d13bbff180,Disable tunnelled migration,MERGED,2021-06-03 14:54:07.000000000,2021-06-04 07:11:48.000000000,2021-06-04 07:11:48.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-03 14:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cd39d30e1bfef51411c3a3eabf12165bd707663', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n'}, {'number': 2, 'created': '2021-06-03 14:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a42c86ede12300c57459e6da567574272def5fa', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n'}, {'number': 3, 'created': '2021-06-03 15:01:16.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0efd6f0679ca5b324e06843619aec780bc129715', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)\n'}]",0,794613,0efd6f0679ca5b324e06843619aec780bc129715,10,6,3,27419,,,0,"Disable tunnelled migration

Tunnelled migration is not compatible with post_copy as pointed by the
related BZ. It was disabled up until we fixed the puppet namespace in
I845bc3c533e55dd5398d6a74ee48762cfd32b8a9

Closes-bug: 1930599
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1967130
Change-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180
(cherry picked from commit dbb4f619a58322ae17ca4c0ba446bcc081e09324)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/794613/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,0cd39d30e1bfef51411c3a3eabf12165bd707663,,"<<<<<<< HEAD (462724 Merge ""Add environment for external network VIP"" into stable) ======= conditions: compute_startup_delay: and: - not: {equals: [{get_param: NovaComputeStartupDelay}, 0]} - not: {get_param: EnableInstanceHA} use_tls_for_live_migration: and: - {get_param: EnableInternalTLS} - {get_param: UseTLSTransportForLiveMigration} libvirt_file_backed_memory_enabled: not: or: - equals: [{get_param: NovaLibvirtFileBackedMemory}, ''] - equals: [{get_param: [RoleParameters, NovaLibvirtFileBackedMemory]}, ''] - equals: [{get_param: NovaLibvirtFileBackedMemory}, 0] - equals: [{get_param: [RoleParameters, NovaLibvirtFileBackedMemory]}, 0] reserved_huge_pages_set: not: and: - equals: [{get_param: [RoleParameters, NovaReservedHugePages]}, """"] - equals: [{get_param: NovaReservedHugePages}, []] live_migration_optimization_set: and: - not: {equals: [{get_param: [RoleParameters, TunedProfileName]}, 'realtime-virtual-host']} - reserved_huge_pages_set permit_post_copy_set: or: - not: {equals: [{get_param: [RoleParameters, NovaLiveMigrationPermitPostCopy]}, '']} - {get_param: NovaLiveMigrationPermitPostCopy} permit_auto_converge_set: or: - not: {equals: [{get_param: [RoleParameters, NovaLiveMigrationPermitAutoConverge]}, '']} - {get_param: NovaLiveMigrationPermitAutoConverge} ovs_dpdk_socket_memory_not_set: and: - equals: [{get_param: [RoleParameters, OvsDpdkSocketMemory]}, """"] - equals: [{get_param: OvsDpdkSocketMemory}, """"] nova_libvirt_max_queues_set: not: or: - equals: [{get_param: NovaLibvirtMaxQueues}, 0] - equals: [{get_param: [RoleParameters, NovaLibvirtMaxQueues]}, 0] glance_enable_rbd_download_set: or: - and: - {get_param: NovaGlanceEnableRbdDownload} - equals: [{get_param: [RoleParameters, NovaGlanceEnableRbdDownload]}, ''] - equals: [{get_param: [RoleParameters, NovaGlanceEnableRbdDownload]}, true] nova_glance_rbd_download_multistore_id_set: not: and: - equals: [{get_param: [RoleParameters, NovaGlanceRbdDownloadMultistoreID]}, ''] - equals: [{get_param: NovaGlanceRbdDownloadMultistoreID}, ''] >>>>>>> CHANGE (dbb4f6 Disable tunnelled migration)<<<<<<< HEAD (462724 Merge ""Add environment for external network VIP"" into stable)======= # TUNNELLED mode is not compatible with post_copy. nova::migration::libvirt::live_migration_tunnelled: false >>>>>>> CHANGE (dbb4f6 Disable tunnelled migration)",,61,0
openstack%2Ftripleo-ansible~master~Ied85643d888d6729aa97172d836c8d1e04bb469f,openstack/tripleo-ansible,master,Ied85643d888d6729aa97172d836c8d1e04bb469f,Deploy standalone ganesha instances using cephadm,MERGED,2021-04-19 12:21:17.000000000,2021-06-04 07:11:15.000000000,2021-06-04 07:11:15.000000000,"[{'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-19 12:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f8aae90686f82067dfef70e44094d7666a902ff', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 2, 'created': '2021-04-19 12:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3ac62273d0bf00262ec61aee7b3a18c50c272df', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 3, 'created': '2021-04-23 08:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afbcb42e54af094c4b56117cbcf4966f4de14b77', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nDepends-On: I6eef61938360e6545b8265a4f2026a4945ad06b5\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 4, 'created': '2021-04-23 08:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a0e7ce6bd48905fe717f708e4ae7b7717bf032c', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nDepends-On: I6eef61938360e6545b8265a4f2026a4945ad06b5\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 5, 'created': '2021-04-29 09:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1414327213827ec14e4bcc6558507b0b4813007', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nDepends-On: I6eef61938360e6545b8265a4f2026a4945ad06b5\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 6, 'created': '2021-05-26 13:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5875991dd3d397741b6028caf322b0af4f5bfb0a', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 7, 'created': '2021-05-26 13:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6335232a97cda0923d0bc01de0005a0116308a3', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 8, 'created': '2021-05-26 13:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9031da7f8a6de3737db24d4918f6354441820d24', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 9, 'created': '2021-05-27 10:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6842732961acf2476ecf82dfca52c57b86b94150', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 10, 'created': '2021-05-27 14:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a431c6a505fd7304166fdcce58e3dd170460387', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 11, 'created': '2021-05-27 16:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/adfcee59bf0a681d0d9e5ff64ea54f08867dc1bd', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still use cephadm (which is present\non the overcloud controller nodes) to deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}, {'number': 12, 'created': '2021-05-27 16:24:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph-nfs.service.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e19887106889795f2c2bc11199ecef5fd08e4ff1', 'message': 'Deploy standalone ganesha instances using cephadm\n\nWhen Ceph is external, we can still deploy standalone ganesha\ninstances; these instances can be connected to the external ceph\ncluster via the related ceph.conf and keyring.\n\nChange-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f\n'}]",22,786871,e19887106889795f2c2bc11199ecef5fd08e4ff1,48,7,12,25402,,,0,"Deploy standalone ganesha instances using cephadm

When Ceph is external, we can still deploy standalone ganesha
instances; these instances can be connected to the external ceph
cluster via the related ceph.conf and keyring.

Change-Id: Ied85643d888d6729aa97172d836c8d1e04bb469f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/786871/11 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/ganesha.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/nfs.json.j2', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml']",4,8f8aae90686f82067dfef70e44094d7666a902ff,cephadm_ganesha,"- name: Configure boostrap host info for cephadm when: ""{{ groups['ceph_mon'] | default([]) | length > 0 }}"" block: - name: Set bootstrap host set_fact: tripleo_cephadm_bootstrap_host: ""{{ groups['ceph_mon'][0] }}"" - name: Set first monitor IP set_fact: tripleo_cephadm_first_mon_ip: ""{{ hostvars[tripleo_cephadm_bootstrap_host][tripleo_run_cephadm_net] | default(ansible_host) }}"" vars: tripleo_run_cephadm_net: ""{{ service_net_map['ceph_mon_network']|default('') + '_ip' }}"" - name: genereate ceph_spec for bootstrap ceph_spec_bootstrap: new_ceph_spec: ""{{ tripleo_run_cephadm_spec_path }}"" tripleo_ansible_inventory: ""{{ inventory_file }}"" fqdn: ""{{ ceph_spec_fqdn }}"" osd_spec: ""{{ ceph_osd_spec }}"" when: - tripleo_cephadm_dynamic_spec tripleo_cephadm_bootstrap_host: {{ tripleo_cephadm_bootstrap_host | default() }} tripleo_cephadm_first_mon_ip: {{ tripleo_cephadm_first_mon_ip | default() }}","- name: Set bootstrap host set_fact: tripleo_cephadm_bootstrap_host: ""{{ groups['ceph_mon'][0] }}"" - name: Set first monitor IP set_fact: tripleo_cephadm_first_mon_ip: ""{{ hostvars[tripleo_cephadm_bootstrap_host][tripleo_run_cephadm_net] | default(ansible_host) }}"" vars: tripleo_run_cephadm_net: ""{{ service_net_map['ceph_mon_network']|default('') + '_ip' }}"" - name: genereate ceph_spec for bootstrap ceph_spec_bootstrap: new_ceph_spec: ""{{ tripleo_run_cephadm_spec_path }}"" tripleo_ansible_inventory: ""{{ inventory_file }}"" fqdn: ""{{ ceph_spec_fqdn }}"" osd_spec: ""{{ ceph_osd_spec }}"" when: - tripleo_cephadm_dynamic_spec tripleo_cephadm_bootstrap_host: {{ tripleo_cephadm_bootstrap_host }} tripleo_cephadm_first_mon_ip: {{ tripleo_cephadm_first_mon_ip }}",136,42
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ie2acc014f51dc679e4e77ff87f62cfeff7422296,openstack/tripleo-upgrade,stable/train,Ie2acc014f51dc679e4e77ff87f62cfeff7422296,Publish validations-extra-args parameter in infrared plugin.,MERGED,2021-06-03 10:53:38.000000000,2021-06-04 07:10:51.000000000,2021-06-04 07:10:51.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-03 10:53:38.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b2e32af104292600aaf3324903f683abc370e056', 'message': ""Publish validations-extra-args parameter in infrared plugin.\n\nAllowing to pass a specific string with extra arguments when invoking\nthe validations for a group.\nThe patch adds a new parameter at role and infrared's plugin level called\n--validations-extra-args (infrared) and validations_extra_args (role). This\nstring will be appended to the 'openstack tripleo validator run' call and it\nallows to pass some other arguments, as --extra-vars, or --extra-vars-file.\nBy defaults it is set to empty string.\n\nChange-Id: Ie2acc014f51dc679e4e77ff87f62cfeff7422296\n(cherry picked from commit f5bd46347bf8992344ceeab78087b124c9699af8)\n""}]",0,794568,b2e32af104292600aaf3324903f683abc370e056,6,3,1,6816,,,0,"Publish validations-extra-args parameter in infrared plugin.

Allowing to pass a specific string with extra arguments when invoking
the validations for a group.
The patch adds a new parameter at role and infrared's plugin level called
--validations-extra-args (infrared) and validations_extra_args (role). This
string will be appended to the 'openstack tripleo validator run' call and it
allows to pass some other arguments, as --extra-vars, or --extra-vars-file.
By defaults it is set to empty string.

Change-Id: Ie2acc014f51dc679e4e77ff87f62cfeff7422296
(cherry picked from commit f5bd46347bf8992344ceeab78087b124c9699af8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/68/794568/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",5,b2e32af104292600aaf3324903f683abc370e056,skip_validations,," validation_args: ""--python-interpreter /usr/libexec/platform-python""",17,2
openstack%2Fvalidations-libs~master~Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41,openstack/validations-libs,master,Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41,Cover now  prints line numbers,MERGED,2021-03-16 13:42:39.000000000,2021-06-04 07:10:30.000000000,2021-06-04 07:10:30.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-03-16 13:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2165be6590a7535f6ef17aae6a2cf64607d85b46', 'message': 'Cover now considers branches and prints line numbers\n\nCover reports are more comprehensive and useful\nfor further test improvement.\n\nSimilar to the patch for validations-common.\nRelated-to: 779716\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41\n'}, {'number': 2, 'created': '2021-03-24 07:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e1ffb4770d98a6d6a52a917e7dd4bac9d6b04fde', 'message': 'Cover now considers branches and prints line numbers\n\nCover reports are more comprehensive and useful\nfor further test improvement.\n\nSimilar to the patch for validations-common.\nRelated-to: 779716\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41\n'}, {'number': 3, 'created': '2021-04-06 13:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d20859f2c444dc3ed2158216c60b057edd067361', 'message': 'Cover now considers branches and prints line numbers\n\nCover reports are more comprehensive and useful\nfor further test improvement.\n\nSimilar to the patch for validations-common.\nRelated-to: 779716\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41\n'}, {'number': 4, 'created': '2021-04-07 07:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b45068539aced3ee2ee9106ff9dc1ecc9188f53c', 'message': 'Cover now  prints line numbers\n\nCover reports are more comprehensive and useful\nfor further test improvement.\n\nSimilar to the patch for validations-common.\n\nRelated-to: 779716\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41\n'}, {'number': 5, 'created': '2021-04-07 08:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/af6e2b29a17c0c59d74508ace4c771bfae5268b6', 'message': 'Cover now  prints line numbers\n\nCover reports are more comprehensive and useful\nfor further test improvement.\n\nAlso removes unnecessary parameter, source,\nof the coverage call, as it is defined inside\n.coveragerc file.\n\nSimilar to the patch for validations-common.\n\nRelated-to: 779716\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41\n'}, {'number': 6, 'created': '2021-05-07 07:24:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7cdeeebe30ba363c14693d2916f85d84e322e0f4', 'message': 'Cover now  prints line numbers\n\nCover reports are more comprehensive and useful\nfor further test improvement.\n\nAlso removes unnecessary parameter, source,\nof the coverage call, as it is defined inside\n.coveragerc file.\n\nSimilar to the patch for validations-common.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41\n'}]",6,780849,7cdeeebe30ba363c14693d2916f85d84e322e0f4,25,9,6,32926,,,0,"Cover now  prints line numbers

Cover reports are more comprehensive and useful
for further test improvement.

Also removes unnecessary parameter, source,
of the coverage call, as it is defined inside
.coveragerc file.

Similar to the patch for validations-common.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ife1e84e0a9e605144a2d7dfb8160ed5eab49bc41
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/49/780849/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2165be6590a7535f6ef17aae6a2cf64607d85b46,cover/branches, PYTHON=coverage run --source validations_libs --parallel-mode --branch coverage report --show-missing, PYTHON=coverage run --source validations_libs --parallel-mode coverage report,2,2
openstack%2Fbifrost~stable%2Fwallaby~I5be8b355b92f0d9d907c743b522982f6de0398c1,openstack/bifrost,stable/wallaby,I5be8b355b92f0d9d907c743b522982f6de0398c1,Install DIB dependencies in bifrost-ironic-install role,MERGED,2021-06-02 10:26:52.000000000,2021-06-04 06:14:35.000000000,2021-06-04 06:11:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-02 10:26:52.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/vars/main.yml', 'playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/move-dib-deps-install-8a8aafc060461dc0.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d953dddde4fc9212e5edd549a5081a27ccdc2072', 'message': 'Install DIB dependencies in bifrost-ironic-install role\n\nThis provides a cleaner separation between installation and image\ncreation.\n\nThis allows Kolla to install all package dependencies at container image\nbuild time rather than when using the container image to build disk\nimages.\n\nStory: 2008839\nTask: 42346\n\nChange-Id: I5be8b355b92f0d9d907c743b522982f6de0398c1\n(cherry picked from commit c72dd2fd7b62d6a3422504e1decfcc024a67e8bb)\n'}]",0,794176,d953dddde4fc9212e5edd549a5081a27ccdc2072,8,2,1,14826,,,0,"Install DIB dependencies in bifrost-ironic-install role

This provides a cleaner separation between installation and image
creation.

This allows Kolla to install all package dependencies at container image
build time rather than when using the container image to build disk
images.

Story: 2008839
Task: 42346

Change-Id: I5be8b355b92f0d9d907c743b522982f6de0398c1
(cherry picked from commit c72dd2fd7b62d6a3422504e1decfcc024a67e8bb)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/794176/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/vars/main.yml', 'playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'releasenotes/notes/move-dib-deps-install-8a8aafc060461dc0.yaml']",7,d953dddde4fc9212e5edd549a5081a27ccdc2072,,--- upgrade: - | Moves installation of package dependencies for Diskimage Builder (DIB) from the ``bifrost-create-dib-image`` role to the ``bifrost-install-ironic`` role. This provides a cleaner separation between installation and image creation. ,,20,22
openstack%2Fdesignate-tempest-plugin~master~Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9,openstack/designate-tempest-plugin,master,Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9,"Test cases for: ""FloatingIPs PTR"" resords.",MERGED,2021-03-18 12:42:27.000000000,2021-06-04 06:14:07.000000000,2021-05-21 06:33:53.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-03-18 12:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fc24cf77b108e7ebb3500b866d2acb398e126974', 'message': 'Test cases for: ""FloatingIPs PTR"" resords""\n\n1) test_set_floatingip_ptr\n  Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n  Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n  List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n  Unset the PTR record for a FloatingIP\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 2, 'created': '2021-03-18 14:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/63ca4805e7daa8c516e3af7b39ca82f688437005', 'message': 'Test cases for: ""FloatingIPs PTR"" resords""\n\n1) test_set_floatingip_ptr\n  Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n  Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n  List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n  Unset the PTR record for a FloatingIP\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 3, 'created': '2021-03-18 15:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4e250fa716aa6c1fa4eb08654242fc6a8802ebe5', 'message': 'Test cases for: ""FloatingIPs PTR"" resords""\n\n1) test_set_floatingip_ptr\n  Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n  Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n  List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n  Unset the PTR record for a FloatingIP\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 4, 'created': '2021-03-18 17:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/77fae4da12b4ddc5427039dc39f60e8ec22629cb', 'message': 'Test cases for: ""FloatingIPs PTR"" resords""\n\n1) test_set_floatingip_ptr\n  Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n  Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n  List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n  Unset the PTR record for a FloatingIP\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 5, 'created': '2021-03-18 20:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fe2e02c420013466c105ac0f22c30bb7e965e0b3', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 6, 'created': '2021-04-27 19:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f951d770830cdb81c12eadd4de3a7dbeded6ce17', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 7, 'created': '2021-05-04 07:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5bf03fe38c90fd15b307da10d2a593a537fb3686', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 8, 'created': '2021-05-04 08:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d346e648a83ab9aad9a1797cd226179f08230206', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 9, 'created': '2021-05-12 10:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3c13160bf34afe93ab6c2ea97da0d7133ee5aafd', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 10, 'created': '2021-05-12 11:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a7f3928d21a47f9da1e18fc3e50aab117f5c257e', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 11, 'created': '2021-05-12 13:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ed10bfd01a926afdb2aacdbe31f4799bbe259ac1', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 12, 'created': '2021-05-13 10:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f36b1e87a9a7f07ada7b913d61848b56e20e8375', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}, {'number': 13, 'created': '2021-05-13 12:04:26.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_ptrs.py', 'designate_tempest_plugin/clients.py', 'designate_tempest_plugin/services/dns/v2/json/ptr_client.py', 'designate_tempest_plugin/services/dns/json/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7986b469bee80d3a8923ec5a7dfae05f5113e032', 'message': 'Test cases for: ""FloatingIPs PTR"" resords.\n\n1) test_set_floatingip_ptr\n   Set a PTR record for the given FloatingIP.\n2) test_show_floatingip_ptr\n   Shows a particular FloatingIP PTR\n3) test_list_floatingip_ptr_records\n   List FloatingIP PTR records\n4) test_unset_floatingip_ptr\n   Unset the PTR record for a FloatingIP\n5) test_set_floatingip_ptr_invalid_ttl\n   Try to use invalid TTL to set PTR record.\n   Expected 400 BadRequest\n\nChange-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9\n'}]",10,781442,7986b469bee80d3a8923ec5a7dfae05f5113e032,71,10,13,28609,,,0,"Test cases for: ""FloatingIPs PTR"" resords.

1) test_set_floatingip_ptr
   Set a PTR record for the given FloatingIP.
2) test_show_floatingip_ptr
   Shows a particular FloatingIP PTR
3) test_list_floatingip_ptr_records
   List FloatingIP PTR records
4) test_unset_floatingip_ptr
   Unset the PTR record for a FloatingIP
5) test_set_floatingip_ptr_invalid_ttl
   Try to use invalid TTL to set PTR record.
   Expected 400 BadRequest

Change-Id: Ib7a3b829129f2534f67c66c5f58e7c7c3c2f93c9
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/42/781442/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_ptrs.py', 'designate_tempest_plugin/clients.py', 'designate_tempest_plugin/services/dns/v2/json/ptr_client.py', 'designate_tempest_plugin/services/dns/json/base.py']",4,fc24cf77b108e7ebb3500b866d2acb398e126974,ptr_records," def get_uri(self, resource_name, uuid=None, params=None, uuid_prefix_char=None): :param uuid_prefix_char: applies to override hardcoded ('/') prefix UUID character. This parameter enables to set required by API character, for example "":"" instead of ""/"". if uuid_prefix_char: uuid = uuid_prefix_char + '%s' % uuid if uuid else '' else: uuid = '/%s' % uuid if uuid else '' extra_headers=False, uuid_prefix_char=None): :param uuid_prefix_char: applies to override hardcoded ('/') prefix UUID character. This parameter enables to set required by API character, for example "":"" instead of ""/"". uri = self.get_uri(resource, uuid=uuid, params=params, uuid_prefix_char=uuid_prefix_char) uuid_prefix_char=None): :param uuid_prefix_char: applies to override hardcoded ('/') prefix UUID character. This parameter enables to set required by API character, for example "":"" instead of ""/"". uri = self.get_uri( resource, uuid=uuid, params=params, uuid_prefix_char=uuid_prefix_char)"," def get_uri(self, resource_name, uuid=None, params=None): uuid = '/%s' % uuid if uuid else '' extra_headers=False): uri = self.get_uri(resource, uuid=uuid, params=params) extra_headers=False): :param extra_headers (bool): Boolean value than indicates if the headers returned by the get_headers() method are to be used but additional headers are needed in the request pass them in as a dict. uri = self.get_uri(resource, uuid=uuid, params=params)",217,13
openstack%2Fswift~master~I087eac961c1eab53540fe56be4881e01ded1f60e,openstack/swift,master,I087eac961c1eab53540fe56be4881e01ded1f60e,Add absolute values for shard shrinking config options,MERGED,2021-05-19 14:40:02.000000000,2021-06-04 06:03:15.000000000,2021-06-01 03:46:38.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 14:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ca71af3f7beabb03524cb699e3a105eaceca2893', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: I087eac961c1eab53540fe56be4881e01ded1f60e\n""}, {'number': 2, 'created': '2021-05-20 10:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a9eff2548742c79a2c9bd6246f25cd713db25dce', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: I087eac961c1eab53540fe56be4881e01ded1f60e\n""}, {'number': 3, 'created': '2021-05-20 10:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f8e388177b79d9bd1da08e0cbb5d66dcdaa57ed', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: I087eac961c1eab53540fe56be4881e01ded1f60e\n""}, {'number': 4, 'created': '2021-05-20 20:00:16.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'test/unit/cli/test_manage_shard_ranges.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/18f20daf389e3db42c7bfb56a520913e416caaf7', 'message': ""Add absolute values for shard shrinking config options\n\nAdd two new sharder config options for configuring shrinking\nbehaviour:\n\n  - shrink_threshold: the size below which a shard may shrink\n  - expansion_limit: the maximum size to which an acceptor shard\n    may grow\n\nThe new options match the 'swift-manage-shard-ranges' command line\noptions and take absolute values.\n\nThe new options provide alternatives to the current equivalent options\n'shard_shrink_point' and 'shard_shrink_merge_point', which are\nexpressed as percentages of 'shard_container_threshold'.\n'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and\nwill be overridden by the new options if the new options are\nexplicitly set in a config file.\n\nThe default values of the new options are the same as the values that\nwould result from the default 'shard_container_threshold',\n'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:\n\n  - shrink_threshold: 100000\n  - expansion_limit: 750000\n\nChange-Id: I087eac961c1eab53540fe56be4881e01ded1f60e\n""}]",0,792182,18f20daf389e3db42c7bfb56a520913e416caaf7,20,3,4,7847,,,0,"Add absolute values for shard shrinking config options

Add two new sharder config options for configuring shrinking
behaviour:

  - shrink_threshold: the size below which a shard may shrink
  - expansion_limit: the maximum size to which an acceptor shard
    may grow

The new options match the 'swift-manage-shard-ranges' command line
options and take absolute values.

The new options provide alternatives to the current equivalent options
'shard_shrink_point' and 'shard_shrink_merge_point', which are
expressed as percentages of 'shard_container_threshold'.
'shard_shrink_point' and 'shard_shrink_merge_point' are deprecated and
will be overridden by the new options if the new options are
explicitly set in a config file.

The default values of the new options are the same as the values that
would result from the default 'shard_container_threshold',
'shard_shrink_point' and 'shard_shrink_merge_point' i.e.:

  - shrink_threshold: 100000
  - expansion_limit: 750000

Change-Id: I087eac961c1eab53540fe56be4881e01ded1f60e
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/792182/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py']",5,ca71af3f7beabb03524cb699e3a105eaceca2893,p-sharder-unify-conf," # deprecated percent options still loaded... # ...but superseded by absolute options if present in conf self.shrink_threshold = get_val( 'shrink_threshold', int, self.shrink_threshold) self.expansion_limit = get_val( 'expansion_limit', int, self.expansion_limit)",,288,72
openstack%2Ftripleo-ansible~master~I106180bf4211529cdfd35672293b344a35bcca46,openstack/tripleo-ansible,master,I106180bf4211529cdfd35672293b344a35bcca46,Remove CephConfigOverrides from tripleo ceph client role,MERGED,2021-05-26 11:38:52.000000000,2021-06-04 03:29:53.000000000,2021-06-04 03:29:53.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-26 11:38:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb0ce71dfdc63afa7b0e895745eebc7573826303', 'message': ""Remove CephConfigOverrides from tripleo ceph client role\n\nThere's no reason to process overrides outside the client section\nin this role; most of the options provided by CephConfigOverrides\nare used by the ceph server daemons, and can be ignored here.\nThis change just removes the involved code, leaving the ability\nto process the client section only.\n\nChange-Id: I106180bf4211529cdfd35672293b344a35bcca46\n""}]",0,793146,bb0ce71dfdc63afa7b0e895745eebc7573826303,22,5,1,25402,,,0,"Remove CephConfigOverrides from tripleo ceph client role

There's no reason to process overrides outside the client section
in this role; most of the options provided by CephConfigOverrides
are used by the ceph server daemons, and can be ignored here.
This change just removes the involved code, leaving the ability
to process the client section only.

Change-Id: I106180bf4211529cdfd35672293b344a35bcca46
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/793146/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_client/templates/ceph_conf.j2'],1,bb0ce71dfdc63afa7b0e895745eebc7573826303,,{% if (['client']) | intersect([key]) %},"{# Build CephConfigOverrides #} {% for key, value in (config_overrides | default({})).items() %} {% if not (['global', 'mon', 'mgr', 'osd', 'mds', 'client']) | intersect([key]) %} {{ key }} = {{ value }} {% elif (['global']) | intersect([key]) %} {# Merge global defined values into this section #} {{ render_map(value) }} {% endif %} {% endfor %} {% if (['mon', 'mgr', 'osd', 'mds', 'client']) | intersect([key]) %}",1,11
openstack%2Fheat~master~I4732a73758f5d0999b156e6efb0641fc84d93998,openstack/heat,master,I4732a73758f5d0999b156e6efb0641fc84d93998,Allow retry on BadRequest when delete volume,NEW,2021-06-03 09:58:31.000000000,2021-06-04 02:46:18.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:58:31.000000000', 'files': ['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/volume_base.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ecd3214c1e11cad323125f4707498f905b13ec39', 'message': 'Allow retry on BadRequest when delete volume\n\nThis will allow retry on delete volume when volume in a not deleteable\nstatus like migrating.\nAn alternative way to do this is to do a force delete (if possible).\n\nStory: 2008936\nTask: 42542\nChange-Id: I4732a73758f5d0999b156e6efb0641fc84d93998\n'}]",1,794550,ecd3214c1e11cad323125f4707498f905b13ec39,9,2,1,12404,,,0,"Allow retry on BadRequest when delete volume

This will allow retry on delete volume when volume in a not deleteable
status like migrating.
An alternative way to do this is to do a force delete (if possible).

Story: 2008936
Task: 42542
Change-Id: I4732a73758f5d0999b156e6efb0641fc84d93998
",git fetch https://review.opendev.org/openstack/heat refs/changes/50/794550/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/volume_base.py']",2,ecd3214c1e11cad323125f4707498f905b13ec39,story/2008936,"from cinderclient import exceptions as cce try: prg.delete['complete'] = self._delete_volume() except cce.BadRequest as e: retry_str = ""Volume status must be available or error"" if retry_str in str(e): # Retry if we received BadRequest with following message: # ""Invalid volume: Volume status must be available or ..."" # This will allow previous not deletable action have # chances to complete while the delete volume retry # interval. return False", prg.delete['complete'] = self._delete_volume(),54,1
openstack%2Ftempest~master~I3c8c5a5261e135bcf56cfa5624ee1a504f31bdf3,openstack/tempest,master,I3c8c5a5261e135bcf56cfa5624ee1a504f31bdf3,Update encryption-type-create,MERGED,2021-05-17 23:48:55.000000000,2021-06-04 00:57:27.000000000,2021-06-04 00:55:55.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-17 23:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/079ec33680883b09874510dbe8c0d344522e8d59', 'message': 'Update encryption-type-create\n\nCreating an encryption-type without key_size or cipher results in\na useless volume type that cannot be built, but this only becomes\nevident later when the volume type is used.  The Block Storage API\nis adding validation to make sure these fields are specified at the\ntime of encryption-type creation to avoid this situation.\n\nThe current test_volume_type_encryption_create_get_update_delete\ncreates a not-fully-specified volume type, which should not be\nallowed, so update the test.\n\nChange-Id: I3c8c5a5261e135bcf56cfa5624ee1a504f31bdf3\nRelated-bug: Bug #1926630\n'}, {'number': 2, 'created': '2021-05-18 12:38:23.000000000', 'files': ['tempest/api/volume/admin/test_volume_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/41a7ae9edd78d042066f387bd68ed056ebe40f24', 'message': 'Update encryption-type-create\n\nCreating an encryption-type without key_size or cipher results in\na useless volume type that cannot be built, but this only becomes\nevident later when the volume type is used.  The Block Storage API\nis adding validation to make sure these fields are specified at the\ntime of encryption-type creation to avoid this situation.\n\nThe current test_volume_type_encryption_create_get_update_delete\ncreates a not-fully-specified volume type, which should not be\nallowed, so update the test.\n\nChange-Id: I3c8c5a5261e135bcf56cfa5624ee1a504f31bdf3\nRelated-bug: Bug #1926630\n'}]",2,791850,41a7ae9edd78d042066f387bd68ed056ebe40f24,15,3,2,5314,,,0,"Update encryption-type-create

Creating an encryption-type without key_size or cipher results in
a useless volume type that cannot be built, but this only becomes
evident later when the volume type is used.  The Block Storage API
is adding validation to make sure these fields are specified at the
time of encryption-type creation to avoid this situation.

The current test_volume_type_encryption_create_get_update_delete
creates a not-fully-specified volume type, which should not be
allowed, so update the test.

Change-Id: I3c8c5a5261e135bcf56cfa5624ee1a504f31bdf3
Related-bug: Bug #1926630
",git fetch https://review.opendev.org/openstack/tempest refs/changes/50/791850/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types.py'],1,079ec33680883b09874510dbe8c0d344522e8d59,enc-type-create-fix," 'key-size': 256, 'cipher': 'aes-xts-plain64',",,2,0
openstack%2Fkeystone~stable%2Fvictoria~Id51241989b22c52810391f3e8e1cadbf8613d873,openstack/keystone,stable/victoria,Id51241989b22c52810391f3e8e1cadbf8613d873,Hide AccountLocked exception from end users,MERGED,2021-05-10 15:46:16.000000000,2021-06-03 23:12:35.000000000,2021-06-03 23:11:07.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 15:46:16.000000000', 'files': ['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4649fe6bfc749ab48ec1905ca4dc2fc667914021', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain insight from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)\n'}]",0,790442,4649fe6bfc749ab48ec1905ca4dc2fc667914021,8,2,1,21420,,,0,"Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.

The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/790442/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py']",4,4649fe6bfc749ab48ec1905ca4dc2fc667914021,bug/1688137-stable/victoria," self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized,"," self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked,",16,6
openstack%2Ftripleo-heat-templates~master~Ia1a03cf798436b5f9865b527a8c742d13bbff180,openstack/tripleo-heat-templates,master,Ia1a03cf798436b5f9865b527a8c742d13bbff180,Disable tunnelled migration,MERGED,2021-06-02 15:20:11.000000000,2021-06-03 22:31:58.000000000,2021-06-03 22:31:58.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 15:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc4e499027c6329a98dc8d3ff823066f4643e6a3', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n'}, {'number': 2, 'created': '2021-06-02 15:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6242868fcd1e2b12cab8a8a1791f5d6e67577d5c', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n'}, {'number': 3, 'created': '2021-06-02 15:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ede683ff0138b48ff8d6728579c65b9593e49e0', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\nCloses-bug: 1930599\n'}, {'number': 4, 'created': '2021-06-02 15:39:24.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbb4f619a58322ae17ca4c0ba446bcc081e09324', 'message': 'Disable tunnelled migration\n\nTunnelled migration is not compatible with post_copy as pointed by the\nrelated BZ. It was disabled up until we fixed the puppet namespace in\nI845bc3c533e55dd5398d6a74ee48762cfd32b8a9\n\nCloses-bug: 1930599\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1967130\nChange-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180\n'}]",2,794253,dbb4f619a58322ae17ca4c0ba446bcc081e09324,14,6,4,27419,,,0,"Disable tunnelled migration

Tunnelled migration is not compatible with post_copy as pointed by the
related BZ. It was disabled up until we fixed the puppet namespace in
I845bc3c533e55dd5398d6a74ee48762cfd32b8a9

Closes-bug: 1930599
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1967130
Change-Id: Ia1a03cf798436b5f9865b527a8c742d13bbff180
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/794253/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,dc4e499027c6329a98dc8d3ff823066f4643e6a3,, # TUNNELLED mode is not compatible with post_copy. nova::migration::libvirt::live_migration_tunnelled: false," enable_live_migration_tunnelled: and: - or: - and: - {get_param: NovaNfsEnabled} - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, true] - and: - equals: [{get_param: [RoleParameters, NovaEnableRbdBackend]}, ''] - {get_param: NovaEnableRbdBackend} - not: use_tls_for_live_migration # TUNNELLED mode provides a security improvement for migration, but # can't be used in combination with block migration. So we only enable it # when shared storage is available (Ceph RDB is currently the only option). # See https://bugzilla.redhat.com/show_bug.cgi?id=1301986#c12 nova::migration::libvirt::live_migration_tunnelled: if: - enable_live_migration_tunnelled - true - false",2,21
openstack%2Fswift~stable%2Ftrain~I10f94c03dbc50acd9e4dad853677bd484ca52538,openstack/swift,stable/train,I10f94c03dbc50acd9e4dad853677bd484ca52538,Authors/ChangeLog for 2.23.3,MERGED,2021-06-03 18:59:10.000000000,2021-06-03 22:23:42.000000000,2021-06-03 22:21:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 18:59:10.000000000', 'files': ['CHANGELOG', 'AUTHORS', 'releasenotes/notes/2_23_3_release-ee6b4fd785ec377e.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/81d845f34e4d350c90af05117fcb0152958b4b3d', 'message': 'Authors/ChangeLog for 2.23.3\n\nChange-Id: I10f94c03dbc50acd9e4dad853677bd484ca52538\n'}]",2,794666,81d845f34e4d350c90af05117fcb0152958b4b3d,11,2,1,15343,,,0,"Authors/ChangeLog for 2.23.3

Change-Id: I10f94c03dbc50acd9e4dad853677bd484ca52538
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/794666/1 && git format-patch -1 --stdout FETCH_HEAD,"['CHANGELOG', 'AUTHORS', 'releasenotes/notes/2_23_3_release-ee6b4fd785ec377e.yaml']",3,81d845f34e4d350c90af05117fcb0152958b4b3d,,"--- fixes: - | Sharding improvements: * Prevent object updates from auto-creating shard containers. This ensures more consistent listings for sharded containers during rebalances. * Deleted shard containers are no longer considered root containers. This prevents unnecessary sharding audit failures and allows the deleted shard database to actually be unlinked. * The sharder daemon has been enhanced to better support the shrinking of shards that are no longer required. Shard containers will now discover from their root container if they should be shrinking. They will also discover the shards into which they should shrink, which may include the root container itself. * Improved performance of sharded container listings when performing prefix listings. * Improved container-sharder stat reporting to reduce load on root container databases. * The container sharder can now handle containers with special characters in their names. * ``swift-container-info`` now summarizes shard range information. Pass ``-v``/``--verbose`` if you want to see all of them. * Don't inject shard ranges when user quits. * Various other minor bug fixes and improvements. - | Python 3 bug fixes: * Fixed a potential server error when uploading data via a tempurl. * Fixed a potential server error when getting symlink details. - | Added the ability to connect to memcached over TLS. See the ``tls_*`` options in etc/memcache.conf-sample ",,92,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ibec901441952ee3336ca3a6b7b4381c97d326d22,openstack/python-tripleoclient,stable/ussuri,Ibec901441952ee3336ca3a6b7b4381c97d326d22,"Partial Revert ""Don't pass the DNSServers param in undercloud env""",MERGED,2021-06-02 13:42:39.000000000,2021-06-03 22:22:13.000000000,2021-06-03 22:19:29.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 13:42:39.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/097221585ff9f384695fd3ba2702a5d6b5f299e5', 'message': 'Partial Revert ""Don\'t pass the DNSServers param in undercloud env""\n\nThis partially reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.\n\nReason for revert: undercloud_nameservers is supposed to configured\n/etc/resolv.conf. The previous patch broke the link between the\nconfiguration and the os-net-config configuration to ensure that\n/etc/resolv.conf was updated at install time.\n\nNOTE: This only affects Train through Victoria as we rewrote the network\nconfiguration in Wallaby.\n\nCloses-Bug: #1929117\nChange-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22\n(cherry picked from commit bf586c4c9422d3c943d6ab396842e5e99bd3ff7d)\n'}]",0,794181,097221585ff9f384695fd3ba2702a5d6b5f299e5,9,3,1,14985,,,0,"Partial Revert ""Don't pass the DNSServers param in undercloud env""

This partially reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.

Reason for revert: undercloud_nameservers is supposed to configured
/etc/resolv.conf. The previous patch broke the link between the
configuration and the os-net-config configuration to ensure that
/etc/resolv.conf was updated at install time.

NOTE: This only affects Train through Victoria as we rewrote the network
configuration in Wallaby.

Closes-Bug: #1929117
Change-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22
(cherry picked from commit bf586c4c9422d3c943d6ab396842e5e99bd3ff7d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/794181/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,097221585ff9f384695fd3ba2702a5d6b5f299e5,bug/18343306-stable/ussuri," 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11',",,15,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ibec901441952ee3336ca3a6b7b4381c97d326d22,openstack/python-tripleoclient,stable/train,Ibec901441952ee3336ca3a6b7b4381c97d326d22,"Partial Revert ""Don't pass the DNSServers param in undercloud env""",MERGED,2021-06-02 13:43:40.000000000,2021-06-03 22:22:12.000000000,2021-06-03 22:19:25.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 13:43:40.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4421aadf627c16096be18b2912d90c18ee3fd79c', 'message': 'Partial Revert ""Don\'t pass the DNSServers param in undercloud env""\n\nThis partially reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.\n\nReason for revert: undercloud_nameservers is supposed to configured\n/etc/resolv.conf. The previous patch broke the link between the\nconfiguration and the os-net-config configuration to ensure that\n/etc/resolv.conf was updated at install time.\n\nNOTE: This only affects Train through Victoria as we rewrote the network\nconfiguration in Wallaby.\n\nCloses-Bug: #1929117\nChange-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22\n(cherry picked from commit bf586c4c9422d3c943d6ab396842e5e99bd3ff7d)\n'}]",0,794182,4421aadf627c16096be18b2912d90c18ee3fd79c,9,3,1,14985,,,0,"Partial Revert ""Don't pass the DNSServers param in undercloud env""

This partially reverts commit f1450b3ae8036cfebdc1852ad11769e5585185d7.

Reason for revert: undercloud_nameservers is supposed to configured
/etc/resolv.conf. The previous patch broke the link between the
configuration and the os-net-config configuration to ensure that
/etc/resolv.conf was updated at install time.

NOTE: This only affects Train through Victoria as we rewrote the network
configuration in Wallaby.

Closes-Bug: #1929117
Change-Id: Ibec901441952ee3336ca3a6b7b4381c97d326d22
(cherry picked from commit bf586c4c9422d3c943d6ab396842e5e99bd3ff7d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/794182/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,4421aadf627c16096be18b2912d90c18ee3fd79c,bug/18343306-stable/train," 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11', 'DnsServers': '10.10.10.10,10.10.10.11',",,15,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ie2acc014f51dc679e4e77ff87f62cfeff7422296,openstack/tripleo-upgrade,stable/ussuri,Ie2acc014f51dc679e4e77ff87f62cfeff7422296,Publish validations-extra-args parameter in infrared plugin.,MERGED,2021-06-03 10:52:59.000000000,2021-06-03 22:20:19.000000000,2021-06-03 22:20:19.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-03 10:52:59.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c6a9edc41fdf3fea21acb17dbd7832c304b39eb6', 'message': ""Publish validations-extra-args parameter in infrared plugin.\n\nAllowing to pass a specific string with extra arguments when invoking\nthe validations for a group.\nThe patch adds a new parameter at role and infrared's plugin level called\n--validations-extra-args (infrared) and validations_extra_args (role). This\nstring will be appended to the 'openstack tripleo validator run' call and it\nallows to pass some other arguments, as --extra-vars, or --extra-vars-file.\nBy defaults it is set to empty string.\n\nChange-Id: Ie2acc014f51dc679e4e77ff87f62cfeff7422296\n(cherry picked from commit f5bd46347bf8992344ceeab78087b124c9699af8)\n""}]",0,794566,c6a9edc41fdf3fea21acb17dbd7832c304b39eb6,6,3,1,6816,,,0,"Publish validations-extra-args parameter in infrared plugin.

Allowing to pass a specific string with extra arguments when invoking
the validations for a group.
The patch adds a new parameter at role and infrared's plugin level called
--validations-extra-args (infrared) and validations_extra_args (role). This
string will be appended to the 'openstack tripleo validator run' call and it
allows to pass some other arguments, as --extra-vars, or --extra-vars-file.
By defaults it is set to empty string.

Change-Id: Ie2acc014f51dc679e4e77ff87f62cfeff7422296
(cherry picked from commit f5bd46347bf8992344ceeab78087b124c9699af8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/794566/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",5,c6a9edc41fdf3fea21acb17dbd7832c304b39eb6,skip_validations,," validation_args: ""--python-interpreter /usr/libexec/platform-python""",17,2
openstack%2Ftripleo-upgrade~stable%2Fussuri~I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,openstack/tripleo-upgrade,stable/ussuri,I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,Add mechanism to skip certain validations.,MERGED,2021-06-03 10:52:59.000000000,2021-06-03 22:20:14.000000000,2021-06-03 22:20:14.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-03 10:52:59.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/949bbd49cbf15487eeacbd621eb4b0d4a82d59ed', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n(cherry picked from commit be2a296ded3c65b893074e888712e076dee87371)\n""}]",0,794565,949bbd49cbf15487eeacbd621eb4b0d4a82d59ed,6,3,1,6816,,,0,"Add mechanism to skip certain validations.

When executing the tripleo-upgrade role with the option --run-validations
it might occur that a set of validations want to be skipped from the group
execution.

This patch adds a new parameter named skiplist_validations which contains
the list of validations names to be skipped. This parameter is also
integrated in the infrared plugin, by exposing the parameter
--skiplist-validations 'val1,val2,val3'

Change-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
(cherry picked from commit be2a296ded3c65b893074e888712e076dee87371)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/65/794565/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,949bbd49cbf15487eeacbd621eb4b0d4a82d59ed,skip_validations,# comma separated list of skipped validations skiplist_validations: '' ,,41,17
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8d52b0bbacc9af4a101793323e02191b18243cba,openstack/tripleo-heat-templates,stable/train,I8d52b0bbacc9af4a101793323e02191b18243cba,Stop handler flush,MERGED,2021-05-12 14:55:42.000000000,2021-06-03 22:19:49.000000000,2021-06-03 22:19:49.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-12 14:55:42.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/596cd55a0b325bdaa442a5b35a88c3d23dee5540', 'message': 'Stop handler flush\n\nWith https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947\nthis is no longer necessary as we are not using handlers. Additionally\nusing handlers is no longer recommended with tripleo_free.\n\nChange-Id: I8d52b0bbacc9af4a101793323e02191b18243cba\n(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)\n'}]",0,790986,596cd55a0b325bdaa442a5b35a88c3d23dee5540,9,4,1,14985,,,0,"Stop handler flush

With https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947
this is no longer necessary as we are not using handlers. Additionally
using handlers is no longer recommended with tripleo_free.

Change-Id: I8d52b0bbacc9af4a101793323e02191b18243cba
(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/790986/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,596cd55a0b325bdaa442a5b35a88c3d23dee5540,drop-handlers-stable/train,, - name: Ensure chrony has been restarted meta: flush_handlers,0,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8d52b0bbacc9af4a101793323e02191b18243cba,openstack/tripleo-heat-templates,stable/ussuri,I8d52b0bbacc9af4a101793323e02191b18243cba,Stop handler flush,MERGED,2021-05-12 14:54:52.000000000,2021-06-03 22:19:34.000000000,2021-06-03 22:19:34.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-12 14:54:52.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a16f3a308b3800a9f91820305a4e8a6f52c439b', 'message': 'Stop handler flush\n\nWith https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947\nthis is no longer necessary as we are not using handlers. Additionally\nusing handlers is no longer recommended with tripleo_free.\n\nChange-Id: I8d52b0bbacc9af4a101793323e02191b18243cba\n(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)\n'}]",0,790985,0a16f3a308b3800a9f91820305a4e8a6f52c439b,17,4,1,14985,,,0,"Stop handler flush

With https://review.opendev.org/c/openstack/ansible-role-chrony/+/647947
this is no longer necessary as we are not using handlers. Additionally
using handlers is no longer recommended with tripleo_free.

Change-Id: I8d52b0bbacc9af4a101793323e02191b18243cba
(cherry picked from commit 742dc894f673b6e546f21eb43343ae1783f1b576)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/790985/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,0a16f3a308b3800a9f91820305a4e8a6f52c439b,drop-handlers-stable/ussuri,, - name: Ensure chrony has been restarted meta: flush_handlers,0,2
openstack%2Fironic-python-agent~master~Ia2569244c228ee6b7584db9c7350dd9b301b4715,openstack/ironic-python-agent,master,Ia2569244c228ee6b7584db9c7350dd9b301b4715,Fix local boot issue with fedora in uefi mode,ABANDONED,2016-04-06 09:55:23.000000000,2021-06-03 22:08:59.000000000,,"[{'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 7933}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12459}, {'_account_id': 14525}, {'_account_id': 18781}, {'_account_id': 18893}]","[{'number': 1, 'created': '2016-04-06 09:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cc045f81058f643a0fad6dc4dc074a7a85624c2e', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't boot the user image. grub-install fails though it does not\nreport any error.This issue is fixed by using the existing boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 2, 'created': '2016-04-06 11:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/de3b14a6e2cf59ed4dccc85fdbb15b003d2c3853', 'message': ""[WIP] Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't boot the user image. grub-install fails though it does not\nreport any error.This issue is fixed by using the existing boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 3, 'created': '2016-04-06 13:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cdf4adb6d4f86cb813c9616fe8d67673dc59303d', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't boot the user image. grub-install fails though it does not\nreport any error.This issue is fixed by using the existing boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 4, 'created': '2016-04-18 16:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b3b28746211fddffce7354479a361866bb797e3b', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't boot the user image. grub-install fails though it does not\nreport any error.This issue is fixed by using the existing boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 5, 'created': '2016-04-22 10:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2251e3687663e239171811c179040c40ca454193', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't boot the user image. grub-install fails though it does not\nreport any error.This issue is fixed by using the existing boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 6, 'created': '2016-05-02 07:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ad4a13df0a22d646433ded265bcae936d898890e', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't boot the user image. grub-install fails though it does not\nreport any error.This issue is fixed by using the existing boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 7, 'created': '2016-05-03 12:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e4df18694aa0180a6a59b6656844c0b4a6dde963', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't properly configure the bootloader for the user image. grub-install\nfails though it does not report any error. This issue is fixed by using the\nexisting boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}, {'number': 8, 'created': '2016-05-13 11:14:38.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/00c267ad710f4e3d020cc118674189804a9092ac', 'message': ""Fix local boot issue with fedora in uefi mode\n\nCurrently local boot in uefi mode for partition images using fedora\ndoesn't properly configure the bootloader for the user image. grub-install\nfails though it does not report any error. This issue is fixed by using the\nexisting boot loader.\n\nChange-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715\nCloses-bug: #1565619\n""}]",63,302143,00c267ad710f4e3d020cc118674189804a9092ac,60,12,8,18781,,,0,"Fix local boot issue with fedora in uefi mode

Currently local boot in uefi mode for partition images using fedora
doesn't properly configure the bootloader for the user image. grub-install
fails though it does not report any error. This issue is fixed by using the
existing boot loader.

Change-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715
Closes-bug: #1565619
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/43/302143/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,cc045f81058f643a0fad6dc4dc074a7a85624c2e,1565619_fedora_uefi_local_part,"import reFEDORA_PATTERN = r""[fF]edora"" DISTRO_FILE = '/etc/issue'def is_fedora_distro(): """"""Returns True if the distro is fedora else False."""""" is_fedora = False if os.path.exists(DISTRO_FILE): with open(DISTRO_FILE) as f: contents = '\n'.join(f.readlines()) result_pattern = re.search(FEDORA_PATTERN, contents) if result_pattern: is_fedora = True return is_fedora is_fedora = is_fedora_distro() # NOTE(vmud213):grub2-install doesn't work for fedora efi mode though # it doesn't complain about any errors. So we avoid using # grub2-install for fedora and use existing bootloader instead. if is_fedora and efi_partition: home_variable = os.environ.get('HOME', '') grub_path = path + '/boot/efi/EFI' if os.path.exists(grub_path): shutil.copytree(grub_path, home_variable + '/EFI', symlinks=True) efi_grub_conf_path = '/boot/efi/EFI/fedora/grub.cfg' if is_fedora and efi_partition: src_grub_path = home_variable + '/EFI' dst_grub_path = path + '/boot/efi/EFI' if os.path.exists(src_grub_path): if os.path.exists(dst_grub_path): LOG.info(""Removing existing EFI directory "" "" %s"" % dst_grub_path) shutil.rmtree(dst_grub_path) shutil.copytree(src_grub_path, dst_grub_path, symlinks=True) shutil.rmtree(src_grub_path) grub_conf_path = '/boot/%s/grub.cfg' % binary_name '%(grub_cfg)s""' % {'path': path, 'bin': binary_name, 'grub_cfg': grub_conf_path}, shell=True, env_variables={'PATH': path_variable}) # For fedora efi to work, copy over grub.conf to the location where # grubx64.efi looks for by default if is_fedora: if os.path.exists(path + grub_conf_path): shutil.copy(path + grub_conf_path, path + efi_grub_conf_path)"," '/boot/%(bin)s/grub.cfg""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={'PATH': path_variable})",174,5
openstack%2Ftripleo-validations~master~I071c3a9bb75cd020116cf1897db29ab93001f979,openstack/tripleo-validations,master,I071c3a9bb75cd020116cf1897db29ab93001f979,Use and ownership info for the verify_profiles module,MERGED,2021-06-02 13:30:21.000000000,2021-06-03 21:37:25.000000000,2021-06-03 21:32:02.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 13:30:21.000000000', 'files': ['library/verify_profiles.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/55066def3aed2aacd54c084d125bafe770411743', 'message': 'Use and ownership info for the verify_profiles module\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I071c3a9bb75cd020116cf1897db29ab93001f979\n'}]",1,794223,55066def3aed2aacd54c084d125bafe770411743,12,6,1,32926,,,0,"Use and ownership info for the verify_profiles module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I071c3a9bb75cd020116cf1897db29ab93001f979
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/23/794223/1 && git format-patch -1 --stdout FETCH_HEAD,['library/verify_profiles.py'],1,55066def3aed2aacd54c084d125bafe770411743,verify_profiles/use,"""""""verify_profiles module Used by the collect_flavors_and_verify_profiles validation. """""" - Used by the collect_flavors_and_verify_profiles - Owned jointly by DFG Compute & DFG Hardware Provisioning",,5,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I1c5059799f613a62a13379eb82ba516a8ed3a15a,openstack/tripleo-heat-templates,stable/ussuri,I1c5059799f613a62a13379eb82ba516a8ed3a15a,Add new options for Barbican PKCS#11 backend,MERGED,2021-04-27 14:06:01.000000000,2021-06-03 21:36:35.000000000,2021-06-03 21:30:56.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 14:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92bf6ec4a6d8af5dea81f3234c0631df7d52426e', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)\n(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)\n'}, {'number': 2, 'created': '2021-04-28 19:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d31b20f71fa5e4556658eede2a03b590fa9215d4', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)\n(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)\n'}, {'number': 3, 'created': '2021-04-28 19:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/682f65b4ff4006a8b875267880c4847843a77189', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)\n(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)\n'}, {'number': 4, 'created': '2021-05-07 19:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ded574ece5ca21a21a0966347753ec747a6659d', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)\n(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)\n'}, {'number': 5, 'created': '2021-05-19 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98ffeca1187c41f4af5f2c0c9b30db74ce963245', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)\n(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)\n'}, {'number': 6, 'created': '2021-06-02 19:35:34.000000000', 'files': ['deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'environments/barbican-backend-pkcs11-atos.yaml', 'releasenotes/notes/add-support-for-barbican-pkcs11-options-a2ec14369518b40e.yaml', 'environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'environments/barbican-backend-pkcs11-thales.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c06ccdffc0312fd6cec106050433f97924dc21e2', 'message': 'Add new options for Barbican PKCS#11 backend\n\nThis patch adds two new parameters for deploying Barbican with the\nPCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and\n`BarbicanPkcs11CryptoOsLockingOk`.\n\nThe patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of\nthe new option that can be set to more than one label.\n\nDepends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538\nChange-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a\n(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)\n(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)\n'}]",0,788303,c06ccdffc0312fd6cec106050433f97924dc21e2,45,6,6,7973,,,0,"Add new options for Barbican PKCS#11 backend

This patch adds two new parameters for deploying Barbican with the
PCKS#11 backend `BarbicanPkcs11CryptoTokenLabels` and
`BarbicanPkcs11CryptoOsLockingOk`.

The patch also deprecates `BarbicanPkcs11CryptoTokenLabel` in favor of
the new option that can be set to more than one label.

Depends-On: Iba7013dd6e1b1e4650b25cd4dd8dc1f355ceb538
Change-Id: I1c5059799f613a62a13379eb82ba516a8ed3a15a
(cherry picked from commit 3b4d488a6a307e575048d7e553e223452e543a21)
(cherry picked from commit 57c46bec3c5051e14adaac4bf6eeabae03cb3974)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/788303/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/barbican/barbican-backend-pkcs11-crypto-puppet.yaml', 'environments/barbican-backend-pkcs11-atos.yaml', 'environments/barbican-backend-pkcs11-lunasa.yaml', 'releasenotes/notes/add-support-for-barbican-pkcs11-options-a2ec14369518b40e.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'environments/barbican-backend-pkcs11-thales.yaml']",6,92bf6ec4a6d8af5dea81f3234c0631df7d52426e,, # BarbicanPkcs11CryptoTokenLabels: Label for PKCS#11 token to be used., # BarbicanPkcs11CryptoTokenLabel: Label for PKCS#11 token to be used. # BarbicanPkcs11CryptoSlotId (optional): Slot Id for the HSM,54,12
openstack%2Ftripleo-validations~master~I75dfbd2be121f20f9376a39bd984f280fd50a275,openstack/tripleo-validations,master,I75dfbd2be121f20f9376a39bd984f280fd50a275,Use and ownership info for the network_environment module,MERGED,2021-06-02 11:34:13.000000000,2021-06-03 21:36:23.000000000,2021-06-03 21:31:55.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-02 11:34:13.000000000', 'files': ['library/network_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/897ab279ebd41328187760bf500e05da10dfd2ae', 'message': 'Use and ownership info for the network_environment module\n\nAlso reorganized the author list.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I75dfbd2be121f20f9376a39bd984f280fd50a275\n'}]",0,794205,897ab279ebd41328187760bf500e05da10dfd2ae,11,6,1,32926,,,0,"Use and ownership info for the network_environment module

Also reorganized the author list.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I75dfbd2be121f20f9376a39bd984f280fd50a275
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/05/794205/1 && git format-patch -1 --stdout FETCH_HEAD,['library/network_environment.py'],1,897ab279ebd41328187760bf500e05da10dfd2ae,network_environment/use,"""""""network_environment module Used by the network_environment validation. """""" - Used by the network_environment role. - Owned by the DFG Networkingauthor: - ""Tomas Sedovic"" - ""Martin Andr"" - ""Florian Fuchs""","author: ""Tomas Sedovic, Martin Andr, Florian Fuchs""",9,2
openstack%2Fvalidations-libs~master~I6fad1cc93e9a89cba857691dffcec5d794e69333,openstack/validations-libs,master,I6fad1cc93e9a89cba857691dffcec5d794e69333,Reqcheck job for upstream validations-libs,MERGED,2021-05-11 11:38:28.000000000,2021-06-03 21:32:18.000000000,2021-06-03 21:32:18.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-11 11:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9f56f1195344d84c9f7ae78af8f9b038010c7a01', 'message': 'Reqcheck job for upstream validations-libs\n\nZuul job queries the requirements.txt and the relevant\nspec file using the `rdopkg reqcheck` to find discrepancies\nin the listed dependencies.\n\nJust like the original `rdopkg-reqcheck` this job is non-voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6fad1cc93e9a89cba857691dffcec5d794e69333\n'}, {'number': 2, 'created': '2021-05-11 11:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7e2e9f615c69ac9069c77df0f63af840491d1f13', 'message': 'Reqcheck job for upstream validations-libs\n\nZuul job queries the requirements.txt and the relevant\nspec file using the `rdopkg reqcheck` to find discrepancies\nin the listed dependencies.\n\nJust like the original `rdopkg-reqcheck` this job is non-voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6fad1cc93e9a89cba857691dffcec5d794e69333\n'}, {'number': 3, 'created': '2021-05-19 13:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8466a58b4a99d3125c0a2f6b4aaf788b94f9f51c', 'message': 'Reqcheck job for upstream validations-libs\n\nZuul job queries the requirements.txt and the relevant\nspec file using the `rdopkg reqcheck` to find discrepancies\nin the listed dependencies.\n\nJust like the original `rdopkg-reqcheck` this job is non-voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6fad1cc93e9a89cba857691dffcec5d794e69333\n'}, {'number': 4, 'created': '2021-05-20 15:22:51.000000000', 'files': ['playbooks/reqcheck.yaml', '.reqcheck_override.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ac415ff515fccc8a18459768dbf8ef234d03828d', 'message': 'Reqcheck job for upstream validations-libs\n\nZuul job queries the requirements.txt and the relevant\nspec file using the `rdopkg reqcheck` to find discrepancies\nin the listed dependencies.\n\nJust like the original `rdopkg-reqcheck` this job is non-voting.\n\nDepends-On: I18a2249eec77b0b7adc3a14eed530760598f972e\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6fad1cc93e9a89cba857691dffcec5d794e69333\n'}]",0,790664,ac415ff515fccc8a18459768dbf8ef234d03828d,17,7,4,32926,,,0,"Reqcheck job for upstream validations-libs

Zuul job queries the requirements.txt and the relevant
spec file using the `rdopkg reqcheck` to find discrepancies
in the listed dependencies.

Just like the original `rdopkg-reqcheck` this job is non-voting.

Depends-On: I18a2249eec77b0b7adc3a14eed530760598f972e

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6fad1cc93e9a89cba857691dffcec5d794e69333
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/64/790664/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/reqcheck.yaml', '.zuul.yaml']",2,9f56f1195344d84c9f7ae78af8f9b038010c7a01,reqcheck, name: validations-libs-reqcheck nodeset: centos-8 parent: base run: playbooks/reqcheck.yaml timeout: 1600 voting: false required-projects: - openstack/validations-libs files: - ^requirements.txt - job:,,56,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,openstack/tripleo-upgrade,stable/train,I47c1a2d0a8cc6618444b6301232079f69c5d8d6e,Add mechanism to skip certain validations.,MERGED,2021-06-03 10:53:38.000000000,2021-06-03 21:32:10.000000000,2021-06-03 21:32:10.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-03 10:53:38.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3aa352af9f068c0a0475aded0e8b8386e958e4f2', 'message': ""Add mechanism to skip certain validations.\n\nWhen executing the tripleo-upgrade role with the option --run-validations\nit might occur that a set of validations want to be skipped from the group\nexecution.\n\nThis patch adds a new parameter named skiplist_validations which contains\nthe list of validations names to be skipped. This parameter is also\nintegrated in the infrared plugin, by exposing the parameter\n--skiplist-validations 'val1,val2,val3'\n\nChange-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e\n(cherry picked from commit be2a296ded3c65b893074e888712e076dee87371)\n""}]",0,794567,3aa352af9f068c0a0475aded0e8b8386e958e4f2,6,3,1,6816,,,0,"Add mechanism to skip certain validations.

When executing the tripleo-upgrade role with the option --run-validations
it might occur that a set of validations want to be skipped from the group
execution.

This patch adds a new parameter named skiplist_validations which contains
the list of validations names to be skipped. This parameter is also
integrated in the infrared plugin, by exposing the parameter
--skiplist-validations 'val1,val2,val3'

Change-Id: I47c1a2d0a8cc6618444b6301232079f69c5d8d6e
(cherry picked from commit be2a296ded3c65b893074e888712e076dee87371)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/67/794567/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,3aa352af9f068c0a0475aded0e8b8386e958e4f2,skip_validations,# comma separated list of skipped validations skiplist_validations: '' ,,41,17
openstack%2Ftripleo-heat-templates~master~I1e6c355c9fc28fed581525e42fb4ccacbfe8e896,openstack/tripleo-heat-templates,master,I1e6c355c9fc28fed581525e42fb4ccacbfe8e896,Simplify jinja for primary_role_name,MERGED,2021-05-24 06:30:59.000000000,2021-06-03 21:31:29.000000000,2021-06-03 21:31:29.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-24 06:30:59.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5541696d4af63bb8cfb76f7a6f2a13d127bb38f2', 'message': ""Simplify jinja for primary_role_name\n\n'disable_upgrade_deployment' to disable upgrades\nhas been dropped from roles_data since long.\n\nChange-Id: I1e6c355c9fc28fed581525e42fb4ccacbfe8e896\n""}]",0,792777,5541696d4af63bb8cfb76f7a6f2a13d127bb38f2,12,5,1,8833,,,0,"Simplify jinja for primary_role_name

'disable_upgrade_deployment' to disable upgrades
has been dropped from roles_data since long.

Change-Id: I1e6c355c9fc28fed581525e42fb4ccacbfe8e896
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/792777/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,5541696d4af63bb8cfb76f7a6f2a13d127bb38f2,,"{%- set primary_role_name = roles[0].name -%} {%- for role in roles if ('primary' in role.tags and 'controller' in role.tags) -%} {%- if loop.first -%} {%- set primary_role_name = role.name -%}{% for role in roles %}{% for role in roles %} {%- for role in roles %} {%- for role in roles %} {%- for role in roles %} {%- for role in roles %} {%- for role in roles %} {%- for role in roles %} # BEGIN CONFIG STEPS, only on roles {%- for role in roles %} {%- for dep in roles %}","{%- if enabled_roles is not defined or enabled_roles == [] -%} # On upgrade certain roles can be disabled for operator driven upgrades # See major_upgrade_steps.j2.yaml and post-upgrade.j2.yaml {%- set enabled_roles = roles -%} {%- endif -%} {%- set primary_role = [enabled_roles[0]] -%} {%- for role in enabled_roles -%} {%- if 'primary' in role.tags and 'controller' in role.tags -%} {%- set _ = primary_role.pop() -%} {%- set _ = primary_role.append(role) -%}{%- set primary_role_name = primary_role[0].name -%}{% for role in enabled_roles %}{% for role in enabled_roles %} {%- for role in enabled_roles %} {%- for role in enabled_roles %} {%- for role in enabled_roles %} {%- for role in enabled_roles %} {%- for role in enabled_roles %} {%- for role in enabled_roles %} # BEGIN CONFIG STEPS, only on enabled_roles {%- for role in enabled_roles %} {%- for dep in enabled_roles %}",19,28
openstack%2Fpuppet-tripleo~stable%2Ftrain~Id79e460479b18e3963d562fdd8987e7f4e43240b,openstack/puppet-tripleo,stable/train,Id79e460479b18e3963d562fdd8987e7f4e43240b,Bump last train release 11.7.0 before train extended maintenance,MERGED,2021-06-03 12:06:31.000000000,2021-06-03 21:31:25.000000000,2021-06-03 21:31:25.000000000,"[{'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 12:06:31.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d200d552a436cb51ed4367c2e81ee9a1fa7c188b', 'message': 'Bump last train release 11.7.0 before train extended maintenance\n\nAs discussed at [1] this bumps metadata for a final train release\nbefore the train branch gets tagged with extended maintenance.\n\n[1] https://review.opendev.org/c/openstack/releases/+/790778/2#message-e8ee1f6febb4780ccbb703bf378bcfc08776a49a\n\nChange-Id: Id79e460479b18e3963d562fdd8987e7f4e43240b\n'}]",0,794575,d200d552a436cb51ed4367c2e81ee9a1fa7c188b,8,5,1,8449,,,0,"Bump last train release 11.7.0 before train extended maintenance

As discussed at [1] this bumps metadata for a final train release
before the train branch gets tagged with extended maintenance.

[1] https://review.opendev.org/c/openstack/releases/+/790778/2#message-e8ee1f6febb4780ccbb703bf378bcfc08776a49a

Change-Id: Id79e460479b18e3963d562fdd8987e7f4e43240b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/794575/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d200d552a436cb51ed4367c2e81ee9a1fa7c188b,," ""version"": ""11.7.0"","," ""version"": ""11.6.1"",",1,1
openstack%2Ftrove~master~If39d3834724ff3116a2a5ee1ae0974148c339b79,openstack/trove,master,If39d3834724ff3116a2a5ee1ae0974148c339b79,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 09:00:39.000000000,2021-06-03 20:54:24.000000000,2021-06-03 20:52:54.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:00:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/77bb97272e5993c2dd5899a3e4ca0e935e5f73aa', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: If39d3834724ff3116a2a5ee1ae0974148c339b79\n""}]",0,794471,77bb97272e5993c2dd5899a3e4ca0e935e5f73aa,7,2,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: If39d3834724ff3116a2a5ee1ae0974148c339b79
",git fetch https://review.opendev.org/openstack/trove refs/changes/71/794471/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,77bb97272e5993c2dd5899a3e4ca0e935e5f73aa,update-min-tox,minversion = 3.18.0allowlist_externals = find,minversion = 2.0whitelist_externals = find,2,2
openstack%2Ftrove~master~I8b27afe123d3981ce7c47a437c3cc15607b33f6c,openstack/trove,master,I8b27afe123d3981ce7c47a437c3cc15607b33f6c,Fix a bug that set wrong status when detach config,NEW,2021-01-14 11:36:22.000000000,2021-06-03 20:40:25.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 11:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d3b8b36d69170316b7413168e4c08c6a5519342d', 'message': ""Fix a bug that set wrong status when detach config\n\nIn some case that don't need set all configurations in\nvalidation-rules.json, If configuration items in\nvalidation-rules.json are less than config.templete,\nwhen user detache an configration, trove will set instance\nstatus to RESTART_REQUIRED, even that all configuration\nitems are not require restart, and other configutations didn't\nchange.\n\nstory: 2008511\ntask: 41588\nChange-Id: I8b27afe123d3981ce7c47a437c3cc15607b33f6c\n""}, {'number': 2, 'created': '2021-01-29 07:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c0fa2b1ebf1759e734cf757e823605e8b1d41e28', 'message': ""Fix a bug that set wrong status when detach config\n\nWhether seting instance's status to RESTART_REQUIRED is only decided by\nConfiguration.does_configuration_need_restart.\n\nstory: 2008511\ntask: 41588\nChange-Id: I8b27afe123d3981ce7c47a437c3cc15607b33f6c\n""}, {'number': 3, 'created': '2021-06-03 11:42:40.000000000', 'files': ['trove/instance/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/89c45c465b694c7d94cc7a3dee591a8606221eb7', 'message': ""Fix a bug that set wrong status when detach config\n\nWhether seting instance's status to RESTART_REQUIRED is only decided by\nConfiguration.does_configuration_need_restart.\n\nstory: 2008511\ntask: 41588\nChange-Id: I8b27afe123d3981ce7c47a437c3cc15607b33f6c\n""}]",7,770791,89c45c465b694c7d94cc7a3dee591a8606221eb7,15,2,3,32324,,,0,"Fix a bug that set wrong status when detach config

Whether seting instance's status to RESTART_REQUIRED is only decided by
Configuration.does_configuration_need_restart.

story: 2008511
task: 41588
Change-Id: I8b27afe123d3981ce7c47a437c3cc15607b33f6c
",git fetch https://review.opendev.org/openstack/trove refs/changes/91/770791/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/models.py'],1,d3b8b36d69170316b7413168e4c08c6a5519342d,detach-configuration-restart, if not current_config.does_configuration_need_restart():, # Check the configuration template has defaults for all modified # values. has_defaults_for_all = all(key in default_config.keys() for key in current_overrides.keys()) if (not current_config.does_configuration_need_restart() and has_defaults_for_all):,1,6
openstack%2Fpython-tripleoclient~master~I527d752fbf0713b93354f61acdaf35db8c60f068,openstack/python-tripleoclient,master,I527d752fbf0713b93354f61acdaf35db8c60f068,Don't write <stack_name>-passwords.conf,MERGED,2021-05-22 17:04:15.000000000,2021-06-03 20:21:57.000000000,2021-06-03 20:20:35.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-22 17:04:15.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/629945fdecd0fb8ba5346d474b693e6b8b23645a', 'message': ""Don't write <stack_name>-passwords.conf\n\nWe don't need to keep writing undercloud-passwords.conf\nas tripleo-<stack_name>-passwords.yaml is the\nsource of old passwords since rocky.\n\nChange-Id: I527d752fbf0713b93354f61acdaf35db8c60f068\n""}]",0,792730,629945fdecd0fb8ba5346d474b693e6b8b23645a,16,3,1,8833,,,0,"Don't write <stack_name>-passwords.conf

We don't need to keep writing undercloud-passwords.conf
as tripleo-<stack_name>-passwords.yaml is the
source of old passwords since rocky.

Change-Id: I527d752fbf0713b93354f61acdaf35db8c60f068
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/792730/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",4,629945fdecd0fb8ba5346d474b693e6b8b23645a,fix_ephemeral," with mock.patch('tripleoclient.constants.CLOUD_HOME_DIR', self.temp_homedir): self.cmd._update_passwords_env(self.temp_homedir, 'stack', upgrade=True, passwords={'ADefault': 456, 'ExistingKey': 'dontupdate'})"," self.cmd._update_passwords_env(self.temp_homedir, 'stack', upgrade=True, passwords={'ADefault': 456, 'ExistingKey': 'dontupdate'})",13,26
openstack%2Fpython-troveclient~master~Ia9928d8fe69a6a3c593ff9b5846ef3123e7dda26,openstack/python-troveclient,master,Ia9928d8fe69a6a3c593ff9b5846ef3123e7dda26,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 09:01:20.000000000,2021-06-03 20:03:10.000000000,2021-06-03 20:00:57.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:01:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/5ce2e998b9cee78121f14cbdf5e06382928e79c9', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia9928d8fe69a6a3c593ff9b5846ef3123e7dda26\n""}]",0,794472,5ce2e998b9cee78121f14cbdf5e06382928e79c9,7,2,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia9928d8fe69a6a3c593ff9b5846ef3123e7dda26
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/72/794472/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ce2e998b9cee78121f14cbdf5e06382928e79c9,update-min-tox,minversion = 3.18.0allowlist_externals = find,minversion = 3.1.1whitelist_externals = find,2,2
openstack%2Fos-brick~stable%2Fwallaby~Ie6c8bdf1f3a629206da019405aee11c802a6a9bb,openstack/os-brick,stable/wallaby,Ie6c8bdf1f3a629206da019405aee11c802a6a9bb,NVMe-oF: Flush on disconnect,MERGED,2021-06-03 08:09:46.000000000,2021-06-03 19:49:54.000000000,2021-06-03 19:48:22.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 08:09:46.000000000', 'files': ['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/nvme-flush-f31ab337224e5d3d.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0c7f5fcfe50d6f51896e76818330af156907fcd2', 'message': ""NVMe-oF: Flush on disconnect\n\nThe current NVMe-oF connector code in os-brick doesn't flush on\ndisconnect, as it just calls\n\n  nvme disconnect -n <conn_nqn>\n\nWhich doesn't flush on the `nvme` code or the kernel code.\n\nThis patch adds the normal block device ioctl flush call:\n\n    blockdev --flushbufs /dev/nvme0n1\n\nThe patch also adds and extends disconnect unit tests that were removed\nwhen we added the new NVMe connector code (were not removed when we\nadded old code back).\n\nCloses-Bug: #1903032\nChange-Id: Ie6c8bdf1f3a629206da019405aee11c802a6a9bb\n(cherry picked from commit 85dbd0f5d72475f97ca6716cbe1b86ece05e3fbd)\n""}]",0,794458,0c7f5fcfe50d6f51896e76818330af156907fcd2,12,3,1,9535,,,0,"NVMe-oF: Flush on disconnect

The current NVMe-oF connector code in os-brick doesn't flush on
disconnect, as it just calls

  nvme disconnect -n <conn_nqn>

Which doesn't flush on the `nvme` code or the kernel code.

This patch adds the normal block device ioctl flush call:

    blockdev --flushbufs /dev/nvme0n1

The patch also adds and extends disconnect unit tests that were removed
when we added the new NVMe connector code (were not removed when we
added old code back).

Closes-Bug: #1903032
Change-Id: Ie6c8bdf1f3a629206da019405aee11c802a6a9bb
(cherry picked from commit 85dbd0f5d72475f97ca6716cbe1b86ece05e3fbd)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/58/794458/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/nvme-flush-f31ab337224e5d3d.yaml']",3,0c7f5fcfe50d6f51896e76818330af156907fcd2,w/nvme-flush,--- fixes: - | NVMe-oF connector `bug #1903032 <https://bugs.launchpad.net/os-brick/+bug/1903032>`_: Fixed not flushing device on disconnect. ,,128,7
openstack%2Fopenstack-ansible~master~If1278c7cc167305c148d01b3db972acb3afa4fd1,openstack/openstack-ansible,master,If1278c7cc167305c148d01b3db972acb3afa4fd1,Cleanup after service variables merged,MERGED,2021-01-08 18:07:29.000000000,2021-06-03 19:42:09.000000000,2021-06-03 19:39:34.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-01-08 18:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31afe4ef7ace136defb53aedf3fcf31bbc9ded5d', 'message': '[DNM] Cleanup after service variables merged\n\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 2, 'created': '2021-04-20 14:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79e5c32b9564c5c56902e261d730c72163bd32f0', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 3, 'created': '2021-04-20 17:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fda34404964ca92f31e1261a3a0614dbd9902273', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 4, 'created': '2021-04-21 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d5e1600379abfc2a1e5cd365c76795d8dece0c3e', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 5, 'created': '2021-04-21 11:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b47c44b3d058d4b1c8b478aacc900a771112c25', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 6, 'created': '2021-04-21 12:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/22c94d7b5946b404624d7ad9cf1c615da69502fb', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 7, 'created': '2021-04-21 13:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d0f10537025d3a4c7c3e5121eb8299dd8073ed9', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 8, 'created': '2021-04-21 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5a5b5525224d1f76a5c7c43e4ebf31b92af664b', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/787433\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 9, 'created': '2021-04-22 19:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/80992c80bf2065b6c3b732643cc814abf87bd8a5', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/787203\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/787433\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 10, 'created': '2021-05-13 15:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/52b8ed24bd7c55d0f4b6238c2833979cdd7f67b1', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/791259\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/791254\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/791250\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}, {'number': 11, 'created': '2021-06-02 08:17:30.000000000', 'files': ['inventory/group_vars/barbican_all.yml', 'inventory/group_vars/glance_all.yml', 'inventory/group_vars/sahara_all.yml', 'inventory/group_vars/heat_all.yml', 'inventory/group_vars/all/nova.yml', 'inventory/group_vars/ceilometer_all.yml', 'inventory/group_vars/keystone_all.yml', 'inventory/host_vars/localhost/ceilometer.yml', 'inventory/host_vars/localhost/neutron.yml', 'inventory/group_vars/nova_all.yml', 'inventory/group_vars/manila_all.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/group_vars/horizon_all.yml', 'inventory/group_vars/panko_all.yml', 'playbooks/os-cinder-install.yml', 'inventory/group_vars/designate_all.yml', 'inventory/group_vars/cinder_all.yml', 'inventory/group_vars/murano_all.yml', 'inventory/group_vars/masakari_all.yml', 'inventory/group_vars/placement_all.yml', 'inventory/group_vars/tacker_all.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-nova-install.yml', 'inventory/host_vars/localhost/nova.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/mistral_all.yml', 'inventory/group_vars/swift_all.yml', 'inventory/group_vars/magnum_all.yml', 'inventory/group_vars/aodh_all.yml', 'inventory/group_vars/blazar_all.yml', 'inventory/group_vars/ironic_all.yml', 'inventory/group_vars/octavia_all.yml', 'playbooks/os-keystone-install.yml', 'inventory/group_vars/gnocchi_all.yml', 'inventory/group_vars/neutron_all.yml', 'inventory/group_vars/trove_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aab510e1fc1ca799e3edbfa012445fe845620d77', 'message': 'Cleanup after service variables merged\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/791259\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/791254\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/791250\nChange-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1\n'}]",0,769974,aab510e1fc1ca799e3edbfa012445fe845620d77,34,3,11,28619,,,0,"Cleanup after service variables merged

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/791259
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/791254
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_swift/+/791250
Change-Id: If1278c7cc167305c148d01b3db972acb3afa4fd1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/769974/8 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/barbican_all.yml', 'inventory/group_vars/glance_all.yml', 'inventory/group_vars/sahara_all.yml', 'inventory/group_vars/heat_all.yml', 'inventory/group_vars/all/nova.yml', 'inventory/group_vars/ceilometer_all.yml', 'inventory/group_vars/keystone_all.yml', 'inventory/group_vars/nova_all.yml', 'inventory/group_vars/manila_all.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/group_vars/horizon_all.yml', 'inventory/group_vars/panko_all.yml', 'inventory/group_vars/designate_all.yml', 'inventory/group_vars/cinder_all.yml', 'inventory/group_vars/murano_all.yml', 'inventory/group_vars/masakari_all.yml', 'inventory/group_vars/placement_all.yml', 'inventory/group_vars/tacker_all.yml', 'inventory/group_vars/mistral_all.yml', 'inventory/group_vars/magnum_all.yml', 'inventory/group_vars/aodh_all.yml', 'inventory/group_vars/blazar_all.yml', 'inventory/group_vars/ironic_all.yml', 'inventory/group_vars/octavia_all.yml', 'inventory/group_vars/gnocchi_all.yml', 'inventory/group_vars/neutron_all.yml', 'inventory/group_vars/trove_all.yml']",27,31afe4ef7ace136defb53aedf3fcf31bbc9ded5d,osa/service_variables,," trove_service_region: ""{{ service_region }}"" # If there are any Ceilometer hosts in the environment, then enable its usage trove_ceilometer_enabled: ""{{ (groups['trove_all'] is defined) and (groups['trove_all'] | length > 0) and (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}"" # Ensure that the package state matches the global setting trove_package_state: ""{{ package_state }}""",17,470
openstack%2Fneutron~master~I7fa382b0862bd386b480d836a6b466c27b46677c,openstack/neutron,master,I7fa382b0862bd386b480d836a6b466c27b46677c,Add tests for port API's new policy rules,MERGED,2021-04-01 14:12:31.000000000,2021-06-03 19:31:39.000000000,2021-05-27 17:28:16.000000000,"[{'_account_id': 5046}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9cfa0d061e53a631f5a1295be87ff405d77f072', 'message': ""Add tests for port API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I7fa382b0862bd386b480d836a6b466c27b46677c\n""}, {'number': 2, 'created': '2021-04-12 13:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99c77efa5429388f9642dd660e9de01b5bc6519b', 'message': ""Add tests for port API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I7fa382b0862bd386b480d836a6b466c27b46677c\n""}, {'number': 3, 'created': '2021-05-25 08:55:55.000000000', 'files': ['neutron/tests/unit/conf/policies/test_port.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f83c77bb12b7c501e2d54367ba9e49bd2a32920a', 'message': ""Add tests for port API's new policy rules\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I7fa382b0862bd386b480d836a6b466c27b46677c\n""}]",11,784423,f83c77bb12b7c501e2d54367ba9e49bd2a32920a,31,7,3,11975,,,0,"Add tests for port API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: I7fa382b0862bd386b480d836a6b466c27b46677c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/784423/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/conf/policies/test_port.py'],1,d9cfa0d061e53a631f5a1295be87ff405d77f072,secure-rbac,"# Copyright (c) 2021 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from oslo_policy import policy as base_policy from oslo_utils import uuidutils from neutron import policy from neutron.tests.unit.conf.policies import base class PortAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(PortAPITestCase, self).setUp() self.network = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'tenant_id': self.alt_project_id, 'network_id': self.network['id'], 'ext_parent_network_id': self.network['id']} self.alt_target = { 'project_id': self.alt_project_id, 'tenant_id': self.alt_project_id, 'network_id': self.network['id'], 'ext_parent_network_id': self.network['id']} self.plugin_mock = mock.Mock() self.plugin_mock.get_network.return_value = self.network mock.patch( 'neutron_lib.plugins.directory.get_plugin', return_value=self.plugin_mock).start() class SystemAdminTests(PortAPITestCase): def setUp(self): super(SystemAdminTests, self).setUp() self.context = self.system_admin_ctx def test_create_port(self): self.assertTrue( policy.enforce(self.context, 'create_port', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port', self.alt_target)) def test_create_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertTrue( policy.enforce(self.context, 'create_port:device_owner', target)) self.assertTrue( policy.enforce(self.context, 'create_port:device_owner', alt_target)) def test_create_port_with_mac_address(self): target = self.target.copy() target['mac_address'] = 'aa:bb:cc:dd:ee:ff' alt_target = self.alt_target.copy() alt_target['mac_address'] = 'aa:bb:cc:dd:ee:ff' self.assertTrue( policy.enforce(self.context, 'create_port:mac_address', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:mac_address', self.alt_target)) def test_create_port_with_fixed_ips(self): self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips', self.alt_target)) def test_create_port_with_fixed_ips_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips:ip_address', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips:ip_address', self.alt_target)) def test_create_port_with_fixed_ips_and_subnet_id(self): self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips:subent_id', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips:subent_id', self.alt_target)) def test_create_port_with_port_security_enabled(self): self.assertTrue( policy.enforce(self.context, 'create_port:port_security_enabled', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:port_security_enabled', self.alt_target)) def test_create_port_with_binding_host_id(self): self.assertTrue( policy.enforce(self.context, 'create_port:binding:host_id', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:binding:host_id', self.alt_target)) def test_create_port_with_binding_profile(self): self.assertTrue( policy.enforce(self.context, 'create_port:binding:profile', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:binding:profile', self.alt_target)) def test_create_port_with_binding_vnic_type(self): self.assertTrue( policy.enforce(self.context, 'create_port:binding:vnic_type', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:binding:vnic_type', self.alt_target)) def test_create_port_with_allowed_address_pairs(self): self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs', self.alt_target)) def test_create_port_with_allowed_address_pairs_and_mac_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs:mac_address', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs:mac_address', self.alt_target)) def test_create_port_with_allowed_address_pairs_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs:ip_address', self.target)) self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs:ip_address', self.alt_target)) def test_get_port(self): self.assertTrue( policy.enforce(self.context, 'get_port', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port', self.alt_target)) def test_get_port_binding_vif_type(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_type', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_type', self.alt_target)) def test_get_port_binding_vif_details(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_details', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_details', self.alt_target)) def test_get_port_binding_host_id(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:host_id', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:host_id', self.alt_target)) def test_get_port_binding_profile(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:profile', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:profile', self.alt_target)) def test_get_port_resource_request(self): self.assertTrue( policy.enforce(self.context, 'get_port:resource_request', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:resource_request', self.alt_target)) def test_update_port(self): self.assertTrue( policy.enforce(self.context, 'update_port', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port', self.alt_target)) def test_update_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertTrue( policy.enforce(self.context, 'update_port:device_owner', target)) self.assertTrue( policy.enforce(self.context, 'update_port:device_owner', alt_target)) def test_update_port_with_mac_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:mac_address', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:mac_address', self.alt_target)) def test_update_port_with_fixed_ips(self): self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips', self.alt_target)) def test_update_port_with_fixed_ips_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips:ip_address', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips:ip_address', self.alt_target)) def test_update_port_with_fixed_ips_and_subnet_id(self): self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips:subent_id', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips:subent_id', self.alt_target)) def test_update_port_with_port_security_enabled(self): self.assertTrue( policy.enforce(self.context, 'update_port:port_security_enabled', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:port_security_enabled', self.alt_target)) def test_update_port_with_binding_host_id(self): self.assertTrue( policy.enforce(self.context, 'update_port:binding:host_id', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:binding:host_id', self.alt_target)) def test_update_port_with_binding_profile(self): self.assertTrue( policy.enforce(self.context, 'update_port:binding:profile', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:binding:profile', self.alt_target)) def test_update_port_with_binding_vnic_type(self): self.assertTrue( policy.enforce(self.context, 'update_port:binding:vnic_type', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:binding:vnic_type', self.alt_target)) def test_update_port_with_allowed_address_pairs(self): self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs', self.alt_target)) def test_update_port_with_allowed_address_pairs_and_mac_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs:mac_address', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs:mac_address', self.alt_target)) def test_update_port_with_allowed_address_pairs_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs:ip_address', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs:ip_address', self.alt_target)) def test_update_port_data_plane_status(self): self.assertTrue( policy.enforce(self.context, 'update_port:data_plane_status', self.target)) self.assertTrue( policy.enforce(self.context, 'update_port:data_plane_status', self.alt_target)) def test_delete_port(self): self.assertTrue( policy.enforce(self.context, 'delete_port', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_port', self.alt_target)) class SystemMemberTests(PortAPITestCase): def setUp(self): super(SystemMemberTests, self).setUp() self.context = self.system_member_ctx def test_create_port(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port', self.alt_target) def test_create_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', alt_target) def test_create_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.alt_target) def test_create_port_with_fixed_ips(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.alt_target) def test_create_port_with_fixed_ips_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.alt_target) def test_create_port_with_fixed_ips_and_subnet_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.alt_target) def test_create_port_with_port_security_enabled(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.alt_target) def test_create_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.alt_target) def test_create_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.alt_target) def test_create_port_with_binding_vnic_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:vnic_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:vnic_type', self.alt_target) def test_create_port_with_allowed_address_pairs(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.alt_target) def test_create_port_with_allowed_address_pairs_and_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.alt_target) def test_create_port_with_allowed_address_pairs_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.alt_target) def test_get_port(self): self.assertTrue( policy.enforce(self.context, 'get_port', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port', self.alt_target)) def test_get_port_binding_vif_type(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_type', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_type', self.alt_target)) def test_get_port_binding_vif_details(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_details', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:vif_details', self.alt_target)) def test_get_port_binding_host_id(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:host_id', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:host_id', self.alt_target)) def test_get_port_binding_profile(self): self.assertTrue( policy.enforce(self.context, 'get_port:binding:profile', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:binding:profile', self.alt_target)) def test_get_port_resource_request(self): self.assertTrue( policy.enforce(self.context, 'get_port:resource_request', self.target)) self.assertTrue( policy.enforce(self.context, 'get_port:resource_request', self.alt_target)) def test_update_port(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port', self.alt_target) def test_update_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', alt_target) def test_update_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.alt_target) def test_update_port_with_fixed_ips(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.alt_target) def test_update_port_with_fixed_ips_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.alt_target) def test_update_port_with_fixed_ips_and_subnet_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.alt_target) def test_update_port_with_port_security_enabled(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.alt_target) def test_update_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.alt_target) def test_update_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.alt_target) def test_update_port_with_binding_vnic_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:vnic_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:vnic_type', self.alt_target) def test_update_port_with_allowed_address_pairs(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.alt_target) def test_update_port_with_allowed_address_pairs_and_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.alt_target) def test_update_port_with_allowed_address_pairs_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.alt_target) def test_update_port_data_plane_status(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.alt_target) def test_delete_port(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_port', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_port', self.alt_target) class SystemReaderTests(SystemMemberTests): def setUp(self): super(SystemReaderTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminTests(PortAPITestCase): def setUp(self): super(ProjectAdminTests, self).setUp() self.context = self.project_admin_ctx def test_create_port(self): self.assertTrue( policy.enforce(self.context, 'create_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port', self.alt_target) def test_create_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertTrue( policy.enforce(self.context, 'create_port:device_owner', target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', alt_target) def test_create_port_with_mac_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:mac_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.alt_target) def test_create_port_with_fixed_ips(self): self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.alt_target) def test_create_port_with_fixed_ips_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips:ip_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.alt_target) def test_create_port_with_fixed_ips_and_subnet_id(self): self.assertTrue( policy.enforce(self.context, 'create_port:fixed_ips:subent_id', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.alt_target) def test_create_port_with_port_security_enabled(self): self.assertTrue( policy.enforce(self.context, 'create_port:port_security_enabled', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.alt_target) def test_create_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.alt_target) def test_create_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.alt_target) def test_create_port_with_binding_vnic_type(self): self.assertTrue( policy.enforce(self.context, 'create_port:binding:vnic_type', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:vnic_type', self.alt_target) def test_create_port_with_allowed_address_pairs(self): self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.alt_target) def test_create_port_with_allowed_address_pairs_and_mac_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs:mac_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.alt_target) def test_create_port_with_allowed_address_pairs_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'create_port:allowed_address_pairs:ip_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.alt_target) def test_get_port(self): self.assertTrue( policy.enforce(self.context, 'get_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port', self.alt_target) def test_get_port_binding_vif_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_type', self.alt_target) def test_get_port_binding_vif_details(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_details', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_details', self.alt_target) def test_get_port_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:host_id', self.alt_target) def test_get_port_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:profile', self.alt_target) def test_get_port_resource_request(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:resource_request', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:resource_request', self.alt_target) def test_update_port(self): self.assertTrue( policy.enforce(self.context, 'update_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port', self.alt_target) def test_update_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertTrue( policy.enforce(self.context, 'update_port:device_owner', target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', alt_target) def test_update_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.alt_target) def test_update_port_with_fixed_ips(self): self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.alt_target) def test_update_port_with_fixed_ips_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips:ip_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.alt_target) def test_update_port_with_fixed_ips_and_subnet_id(self): self.assertTrue( policy.enforce(self.context, 'update_port:fixed_ips:subent_id', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.alt_target) def test_update_port_with_port_security_enabled(self): self.assertTrue( policy.enforce(self.context, 'update_port:port_security_enabled', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.alt_target) def test_update_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.alt_target) def test_update_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.alt_target) def test_update_port_with_binding_vnic_type(self): self.assertTrue( policy.enforce(self.context, 'update_port:binding:vnic_type', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:vnic_type', self.alt_target) def test_update_port_with_allowed_address_pairs(self): self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.alt_target) def test_update_port_with_allowed_address_pairs_and_mac_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs:mac_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.alt_target) def test_update_port_with_allowed_address_pairs_and_ip_address(self): self.assertTrue( policy.enforce(self.context, 'update_port:allowed_address_pairs:ip_address', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.alt_target) def test_update_port_data_plane_status(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.alt_target) def test_delete_port(self): self.assertTrue( policy.enforce(self.context, 'delete_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_port', self.alt_target) class ProjectMemberTests(PortAPITestCase): def setUp(self): super(ProjectMemberTests, self).setUp() self.context = self.project_member_ctx def test_create_port(self): self.assertTrue( policy.enforce(self.context, 'create_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port', self.alt_target) def test_create_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', alt_target) def test_create_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.alt_target) def test_create_port_with_fixed_ips(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.alt_target) def test_create_port_with_fixed_ips_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.alt_target) def test_create_port_with_fixed_ips_and_subnet_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.alt_target) def test_create_port_with_port_security_enabled(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.alt_target) def test_create_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.alt_target) def test_create_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.alt_target) def test_create_port_with_binding_vnic_type(self): self.assertTrue( policy.enforce(self.context, 'create_port:binding:vnic_type', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:vnic_type', self.alt_target) def test_create_port_with_allowed_address_pairs(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.alt_target) def test_create_port_with_allowed_address_pairs_and_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.alt_target) def test_create_port_with_allowed_address_pairs_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.alt_target) def test_get_port(self): self.assertTrue( policy.enforce(self.context, 'get_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port', self.alt_target) def test_get_port_binding_vif_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_type', self.alt_target) def test_get_port_binding_vif_details(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_details', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_details', self.alt_target) def test_get_port_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:host_id', self.alt_target) def test_get_port_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:profile', self.alt_target) def test_get_port_resource_request(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:resource_request', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:resource_request', self.alt_target) def test_update_port(self): self.assertTrue( policy.enforce(self.context, 'update_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port', self.alt_target) def test_update_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', alt_target) def test_update_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.alt_target) def test_update_port_with_fixed_ips(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.alt_target) def test_update_port_with_fixed_ips_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.alt_target) def test_update_port_with_fixed_ips_and_subnet_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.alt_target) def test_update_port_with_port_security_enabled(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.alt_target) def test_update_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.alt_target) def test_update_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.alt_target) def test_update_port_with_binding_vnic_type(self): self.assertTrue( policy.enforce(self.context, 'update_port:binding:vnic_type', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:vnic_type', self.alt_target) def test_update_port_with_allowed_address_pairs(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.alt_target) def test_update_port_with_allowed_address_pairs_and_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.alt_target) def test_update_port_with_allowed_address_pairs_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.alt_target) def test_update_port_data_plane_status(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.alt_target) def test_delete_port(self): self.assertTrue( policy.enforce(self.context, 'delete_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_port', self.alt_target) class ProjectReaderTests(PortAPITestCase): def setUp(self): super(ProjectReaderTests, self).setUp() self.context = self.project_reader_ctx def test_create_port(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port', self.alt_target) def test_create_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:device_owner', alt_target) def test_create_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:mac_address', self.alt_target) def test_create_port_with_fixed_ips(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips', self.alt_target) def test_create_port_with_fixed_ips_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:ip_address', self.alt_target) def test_create_port_with_fixed_ips_and_subnet_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:fixed_ips:subnet_id', self.alt_target) def test_create_port_with_port_security_enabled(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:port_security_enabled', self.alt_target) def test_create_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:host_id', self.alt_target) def test_create_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:profile', self.alt_target) def test_create_port_with_binding_vnic_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:vnic_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:binding:vnic_type', self.alt_target) def test_create_port_with_allowed_address_pairs(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs', self.alt_target) def test_create_port_with_allowed_address_pairs_and_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:mac_address', self.alt_target) def test_create_port_with_allowed_address_pairs_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_port:allowed_address_pairs:ip_address', self.alt_target) def test_get_port(self): self.assertTrue( policy.enforce(self.context, 'get_port', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port', self.alt_target) def test_get_port_binding_vif_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_type', self.alt_target) def test_get_port_binding_vif_details(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_details', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:vif_details', self.alt_target) def test_get_port_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:host_id', self.alt_target) def test_get_port_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:binding:profile', self.alt_target) def test_get_port_resource_request(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:resource_request', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_port:resource_request', self.alt_target) def test_update_port(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port', self.alt_target) def test_update_port_with_device_owner(self): target = self.target.copy() target['device_owner'] = 'network:test' alt_target = self.alt_target.copy() alt_target['device_owner'] = 'network:test' self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:device_owner', alt_target) def test_update_port_with_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:mac_address', self.alt_target) def test_update_port_with_fixed_ips(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips', self.alt_target) def test_update_port_with_fixed_ips_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:ip_address', self.alt_target) def test_update_port_with_fixed_ips_and_subnet_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:fixed_ips:subnet_id', self.alt_target) def test_update_port_with_port_security_enabled(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:port_security_enabled', self.alt_target) def test_update_port_with_binding_host_id(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:host_id', self.alt_target) def test_update_port_with_binding_profile(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:profile', self.alt_target) def test_update_port_with_binding_vnic_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:vnic_type', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:binding:vnic_type', self.alt_target) def test_update_port_with_allowed_address_pairs(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs', self.alt_target) def test_update_port_with_allowed_address_pairs_and_mac_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:mac_address', self.alt_target) def test_update_port_with_allowed_address_pairs_and_ip_address(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:allowed_address_pairs:ip_address', self.alt_target) def test_update_port_data_plane_status(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_port:data_plane_status', self.alt_target) def test_delete_port(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_port', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_port', self.alt_target) ",,1742,0
openstack%2Fkeystone~stable%2Fwallaby~Id51241989b22c52810391f3e8e1cadbf8613d873,openstack/keystone,stable/wallaby,Id51241989b22c52810391f3e8e1cadbf8613d873,Hide AccountLocked exception from end users,MERGED,2021-05-10 15:44:46.000000000,2021-06-03 19:06:47.000000000,2021-06-03 19:03:34.000000000,"[{'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 15:44:46.000000000', 'files': ['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f510c806de3e20cdedd55291cd58dafa59398bec', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain insight from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)\n'}]",0,790440,f510c806de3e20cdedd55291cd58dafa59398bec,9,3,1,21420,,,0,"Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.

The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
(cherry picked from commit ac2631ae33445877094cdae796fbcdce8833a626)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/790440/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py']",4,f510c806de3e20cdedd55291cd58dafa59398bec,bug/1688137-stable/wallaby," self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized,"," self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked,",16,6
openstack%2Fkeystone~stable%2Ftrain~I903d20fa41270499ca1c39d296120dd97cef5405,openstack/keystone,stable/train,I903d20fa41270499ca1c39d296120dd97cef5405,Use app cred user ID in policy enforcement,MERGED,2021-01-04 22:14:19.000000000,2021-06-03 19:06:04.000000000,2021-06-03 19:03:43.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 22:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/93d368993985baf6eb0a1ea9f6c2fed32707c631', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)\n(cherry picked from commit 80832de6ced534bccbf7cfe24a6a01c8262c1779)\n(cherry picked from commit 661bf6a1dca502f37b5da9995c45ba60581e5e97)\n""}, {'number': 2, 'created': '2021-01-08 16:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee3fee2c95cfb3f068480c0ca66bd6591afacf9f', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nThis commit also deviates slightly from backports to stable/ussuri,\nstable/victoria, and master (wallaby). This is because newer branches\nuse `http.client` to assert status codes and in stable/train we are\nstill using `http_client`. This change is functionally the same.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)\n(cherry picked from commit 80832de6ced534bccbf7cfe24a6a01c8262c1779)\n(cherry picked from commit 661bf6a1dca502f37b5da9995c45ba60581e5e97)\n""}, {'number': 3, 'created': '2021-01-22 18:46:32.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/protection/v3/test_application_credential.py', 'releasenotes/notes/bug-1901207-13762f85b8a04481.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9c879d46bf40f8a11e8033406bb1b8861baf3f51', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nThis commit also deviates slightly from backports to stable/ussuri,\nstable/victoria, and master (wallaby). This is because newer branches\nuse `http.client` to assert status codes and in stable/train we are\nstill using `http_client`. This change is functionally the same.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)\n(cherry picked from commit 80832de6ced534bccbf7cfe24a6a01c8262c1779)\n(cherry picked from commit 661bf6a1dca502f37b5da9995c45ba60581e5e97)\n""}]",2,769222,9c879d46bf40f8a11e8033406bb1b8861baf3f51,14,3,3,5046,,,0,"Use app cred user ID in policy enforcement

The application credential policies use the `rule:owner` policy to allow
users to manage their own credentials. The policy engine pulled the
user_id attribute from the request path instead of the actual
application credential. This allowed for users to exploit the
enforcement and view or delete application credentials they don't own.

This commit attempts to resolve the issue by updating the flask
parameters before they're translated to policy arguments and target
data, prior to policy enforcement.

This commit also deviates slightly from backports to stable/ussuri,
stable/victoria, and master (wallaby). This is because newer branches
use `http.client` to assert status codes and in stable/train we are
still using `http_client`. This change is functionally the same.

Change-Id: I903d20fa41270499ca1c39d296120dd97cef5405
Closes-Bug: 1901207
(cherry picked from commit 2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1)
(cherry picked from commit 80832de6ced534bccbf7cfe24a6a01c8262c1779)
(cherry picked from commit 661bf6a1dca502f37b5da9995c45ba60581e5e97)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/769222/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/protection/v3/test_application_credential.py', 'releasenotes/notes/bug-1901207-13762f85b8a04481.yaml']",3,93d368993985baf6eb0a1ea9f6c2fed32707c631,,--- security: - | [`bug 1901207 <https://bugs.launchpad.net/keystone/+bug/1901207>`_] Policy enforcement for application credentials has been updated to protect against invalid ownership checks resulting in unauthorized users being able to get and delete application credentials for other users. ,,118,2
openstack%2Fopenstack-ansible-os_ceilometer~master~Ib941e051af7414c82d43d721dd826d4b35a96a79,openstack/openstack-ansible-os_ceilometer,master,Ib941e051af7414c82d43d721dd826d4b35a96a79,Fix u-c filter regex,MERGED,2021-03-30 09:13:15.000000000,2021-06-03 18:52:36.000000000,2021-06-03 18:51:09.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-30 09:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/6218646ce741b7d3e15dcca085274ff6a16257a8', 'message': 'Fix u-c filter regex\n\nChange-Id: Ib941e051af7414c82d43d721dd826d4b35a96a79\n'}, {'number': 2, 'created': '2021-06-03 11:13:14.000000000', 'files': ['tasks/ceilometer_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/f9ed9485ccf29d616652c09686d5768abc9ac1e0', 'message': 'Fix u-c filter regex\n\nChange-Id: Ib941e051af7414c82d43d721dd826d4b35a96a79\n'}]",0,783812,f9ed9485ccf29d616652c09686d5768abc9ac1e0,10,3,2,25023,,,0,"Fix u-c filter regex

Change-Id: Ib941e051af7414c82d43d721dd826d4b35a96a79
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/12/783812/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_install.yml'],1,6218646ce741b7d3e15dcca085274ff6a16257a8,," venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^ceilometer=') | list }}"""," venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '[ceilometer=*]') | list }}""",1,1
openstack%2Ftripleo-common~master~Ib96e2c0dd789be2be6bdaf66682b985cb864baf8,openstack/tripleo-common,master,Ib96e2c0dd789be2be6bdaf66682b985cb864baf8,Remove references to tripleo-validations legacy directory,MERGED,2021-06-02 07:19:41.000000000,2021-06-03 18:49:05.000000000,2021-06-03 18:46:38.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-02 07:19:41.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/755cc6095de5894b802e2a9ed709abf82e55d1dd', 'message': ""Remove references to tripleo-validations legacy directory\n\n'/usr/share/openstack-tripleo-validations' doesn't exist anymore since\nTrain. Tripleo-validations installs its bits in '/usr/share/ansible/'.\nIt is now quite safe to remove the references to this legacy directory.\n\n**Note**\nThis patch will be applied to master and stable/wallaby only. This logic\nwill be kept as is for stable/train like this directory may still be\npresent during an upgrade.\n\nChange-Id: Ib96e2c0dd789be2be6bdaf66682b985cb864baf8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",3,794145,755cc6095de5894b802e2a9ed709abf82e55d1dd,16,8,1,11491,,,0,"Remove references to tripleo-validations legacy directory

'/usr/share/openstack-tripleo-validations' doesn't exist anymore since
Train. Tripleo-validations installs its bits in '/usr/share/ansible/'.
It is now quite safe to remove the references to this legacy directory.

**Note**
This patch will be applied to master and stable/wallaby only. This logic
will be kept as is for stable/train like this directory may still be
present during an upgrade.

Change-Id: Ib96e2c0dd789be2be6bdaf66682b985cb864baf8
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/794145/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/ansible.py']",2,755cc6095de5894b802e2a9ed709abf82e55d1dd,remove_tripleo-validations_legacy_dir, '{}/library'.format( constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) constants.DEFAULT_VALIDATIONS_BASEDIR)) roles_path = ('{work_dir!s}/roles:' '{work_dir!s}'.format(work_dir=work_dir))," '{}/library:' '{}/library'.format(constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/lookup_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/callback_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/action_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) '{}/filter_plugins:' constants.DEFAULT_VALIDATIONS_BASEDIR, constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR)) roles_path = ('%(work_dir)s/roles:' '%(ooo_val_path)s/roles:' '%(work_dir)s' % { 'work_dir': work_dir, 'ooo_val_path': constants.DEFAULT_VALIDATIONS_LEGACY_BASEDIR })",8,23
openstack%2Ftripleo-quickstart-extras~master~Ic0c408d66635ab1a34b698fe36627a02bd196305,openstack/tripleo-quickstart-extras,master,Ic0c408d66635ab1a34b698fe36627a02bd196305,Don't run ephemeral heat for non enabled scenarios,MERGED,2021-05-28 08:37:52.000000000,2021-06-03 18:46:33.000000000,2021-06-03 18:46:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-28 08:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6ada04e239cb0f7dbfd0c7e96a02abc0e9d4289', 'message': ""Don't run ephemeral heat for non enabled scenarios\n\nWe can convert other jobs and finally remove this.\n\nChange-Id: Ic0c408d66635ab1a34b698fe36627a02bd196305\n""}, {'number': 2, 'created': '2021-05-28 13:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d4e0e25a2c0af8a0090c8338c2acec745d1301de', 'message': ""Don't run ephemeral heat for non enabled scenarios\n\nWe can convert other jobs and finally remove this.\n\nChange-Id: Ic0c408d66635ab1a34b698fe36627a02bd196305\n""}, {'number': 3, 'created': '2021-06-01 14:24:47.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/149476a8163ad55325b003a2d0bc89b1cba28a20', 'message': ""Don't run ephemeral heat for non enabled scenarios\n\nWe can convert other jobs and finally remove this.\n\nChange-Id: Ic0c408d66635ab1a34b698fe36627a02bd196305\n""}]",16,793574,149476a8163ad55325b003a2d0bc89b1cba28a20,46,6,3,8833,,,0,"Don't run ephemeral heat for non enabled scenarios

We can convert other jobs and finally remove this.

Change-Id: Ic0c408d66635ab1a34b698fe36627a02bd196305
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/74/793574/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,a6ada04e239cb0f7dbfd0c7e96a02abc0e9d4289,test,"openstack overcloud deploy --stack {{ stack_name }} \ {% if release is not in ['newton', 'ocata', 'pike', 'queens'] %}--override-ansible-cfg {{ working_dir }}/custom_ansible.cfg{% endif %} \ {% if release not in ['train', 'ussuri', 'victoria'] and not (ephemeral_heat|bool) %}--heat-type installed{% endif %} \ --templates {{overcloud_templates_path}} \ {{ deploy_args | regex_replace(""\n"", "" "") }} \ ""$@"" && status_code=0 || status_code=$?","openstack overcloud deploy --stack {{ stack_name }} {% if release is not in ['newton', 'ocata', 'pike', 'queens'] %}--override-ansible-cfg {{ working_dir }}/custom_ansible.cfg{% endif %} \ --templates {{overcloud_templates_path}} \ {{ deploy_args | regex_replace(""\n"", "" "") }} \ ""$@"" && status_code=0 || status_code=$?",6,4
openstack%2Ftripleo-ansible~master~Ieadb0243c7d25dc35ace63824de52ba306ac7725,openstack/tripleo-ansible,master,Ieadb0243c7d25dc35ace63824de52ba306ac7725,Add interface to ceph config set arbitrary parameters,ABANDONED,2021-06-02 17:40:55.000000000,2021-06-03 18:46:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-02 17:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cdd88c2931a8cdf26e60415901fc610de6447392', 'message': 'Add interface to ceph config set arbitrary parameters\n\nAdd ceph_config_set.yml tasks file to tripleo_cephadm role. If\nthe current playbook directory contains ceph_config_set_map.yml\nwith a map of sections, keys and values, then this new tasks file\nwill run `ceph config set <section> <key> <value>` for each item\nin the map. A separate file for the map is used so that the same\ninterface can be used when Ceph RBD is deployed before the overcloud.\n\nUpdate prepare.yml tasks file of tripleo_run_cephadm role, which\ncreates the ceph_config_set_map.yml from a variable passed from\nHeat.\n\nRelated-Bug: #1930445\nChange-Id: Ieadb0243c7d25dc35ace63824de52ba306ac7725\n'}, {'number': 2, 'created': '2021-06-02 22:15:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_config_set.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0fc6e14fd3498d4eb9a5a9dc5a988cda65fa36b1', 'message': 'Add interface to ceph config set arbitrary parameters\n\nAdd ceph_config_set.yml tasks file to tripleo_cephadm role. If\nthe current playbook directory contains ceph_config_set_map.yml\nwith a map of sections, keys and values, then this new tasks file\nwill run `ceph config set <section> <key> <value>` for each item\nin the map. A separate file for the map is used so that the same\ninterface can be used when Ceph RBD is deployed before the overcloud.\n\nUpdate prepare.yml tasks file of tripleo_run_cephadm role, which\ncreates the ceph_config_set_map.yml from a variable passed from\nHeat.\n\nRelated-Bug: #1930445\nChange-Id: Ieadb0243c7d25dc35ace63824de52ba306ac7725\n'}]",5,794321,0fc6e14fd3498d4eb9a5a9dc5a988cda65fa36b1,9,3,2,18002,,,0,"Add interface to ceph config set arbitrary parameters

Add ceph_config_set.yml tasks file to tripleo_cephadm role. If
the current playbook directory contains ceph_config_set_map.yml
with a map of sections, keys and values, then this new tasks file
will run `ceph config set <section> <key> <value>` for each item
in the map. A separate file for the map is used so that the same
interface can be used when Ceph RBD is deployed before the overcloud.

Update prepare.yml tasks file of tripleo_run_cephadm role, which
creates the ceph_config_set_map.yml from a variable passed from
Heat.

Related-Bug: #1930445
Change-Id: Ieadb0243c7d25dc35ace63824de52ba306ac7725
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/794321/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_config_set.yml']",3,cdd88c2931a8cdf26e60415901fc610de6447392,bug/1930445,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Is there a ceph_config_set_map.yml file? stat: path: ""{{ playbook_dir }}/ceph_config_set_map.yml"" register: ceph_config_set_map_stat delegate_to: localhost - when: ceph_config_set_map_stat.stat.exists block: - name: Get ceph_cli include_tasks: ceph_cli.yaml - name: Parse ceph config set map yaml set_fact: ceph_config_set_map: ""{{ lookup('file', playbook_dir + '/ceph_config_set_map.yml') | from_yaml }}"" delegate_to: localhost - name: Build ceph_config_set.sh script from map set_fact: ceph_config_cmd: |- #!/usr/bin/env bash set -e {% for section, key_value in (ceph_config_set_map | default({})).items() %} {% if (['global', 'mon', 'mgr', 'osd', 'mds', 'client']) | intersect([section]) %} {% for key, value in (key_value | default({})).items() %} {{ tripleo_cephadm_ceph_cli }} config set {{ section }} {{ key }} {{ value }} {% if (tripleo_cephadm_verbose | default(False)) %} echo -n ""ceph config get {{ section }} {{ key }}: "" {{ tripleo_cephadm_ceph_cli }} config get {{ section }} {{ key }} {% endif %} {% endfor %} {% endif %} {% endfor %} delegate_to: localhost - name: Push ceph_config_set.sh to bootstrap node copy: content: ""{{ ceph_config_cmd }}"" dest: ""/home/{{ tripleo_cephadm_ssh_user }}/ceph_config_set.sh"" owner: ""{{ tripleo_cephadm_ssh_user }}"" group: ""{{ tripleo_cephadm_ssh_user }}"" mode: '0755' become: true - name: Execute ceph_config_set.sh command: ""/home/{{ tripleo_cephadm_ssh_user }}/ceph_config_set.sh"" changed_when: false become: true register: ceph_config_set_out - name: Show results of ceph config set debug: msg: ""{{ ceph_config_set_out.stdout_lines }}"" when: tripleo_cephadm_verbose ",,82,0
openstack%2Ftripleo-heat-templates~master~Ib149844d0647a48cbf15a044ef25814ee96e9fb8,openstack/tripleo-heat-templates,master,Ib149844d0647a48cbf15a044ef25814ee96e9fb8,Introduce CephConfigSetMap parameter,ABANDONED,2021-06-02 17:41:46.000000000,2021-06-03 18:45:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-02 17:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7ab1ca7d7c9b4559387b02cf8d5197b26b84ee5', 'message': 'Introduce CephConfigSetMap parameter\n\nNew paramter CephConfigSetMap is a map of parameters containing\na section, key and value which are applied with `ceph config set\n<section> <key> <value>` after Ceph bootstrap. This new parameter is\nnecessary because the parameter map CephConfigOverrides is implemented\nwith `ceph config assimilate-conf` but not all Ceph paramters can be\nassimilated.\n\nCloses-Bug: #1930445\nDepends-On: Ieadb0243c7d25dc35ace63824de52ba306ac7725\nChange-Id: Ib149844d0647a48cbf15a044ef25814ee96e9fb8\n'}, {'number': 2, 'created': '2021-06-03 13:06:30.000000000', 'files': ['deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml', 'releasenotes/notes/ceph_config_set_map-59b459cfab676155.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ed33b464b35a831a89fa299c2cbea6c39796f7e', 'message': 'Introduce CephConfigSetMap parameter\n\nNew paramter CephConfigSetMap is a map of parameters containing\na section, key and value which are applied with `ceph config set\n<section> <key> <value>` after Ceph bootstrap. This new parameter is\nnecessary because the parameter map CephConfigOverrides is implemented\nwith `ceph config assimilate-conf` but not all Ceph paramters can be\nassimilated.\n\nCloses-Bug: #1930445\nDepends-On: Ieadb0243c7d25dc35ace63824de52ba306ac7725\nChange-Id: Ib149844d0647a48cbf15a044ef25814ee96e9fb8\n'}]",1,794322,6ed33b464b35a831a89fa299c2cbea6c39796f7e,12,3,2,18002,,,0,"Introduce CephConfigSetMap parameter

New paramter CephConfigSetMap is a map of parameters containing
a section, key and value which are applied with `ceph config set
<section> <key> <value>` after Ceph bootstrap. This new parameter is
necessary because the parameter map CephConfigOverrides is implemented
with `ceph config assimilate-conf` but not all Ceph paramters can be
assimilated.

Closes-Bug: #1930445
Depends-On: Ieadb0243c7d25dc35ace63824de52ba306ac7725
Change-Id: Ib149844d0647a48cbf15a044ef25814ee96e9fb8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/794322/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cephadm/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml', 'releasenotes/notes/ceph_config_set_map-59b459cfab676155.yaml']",3,b7ab1ca7d7c9b4559387b02cf8d5197b26b84ee5,bug/1930445,"--- features: - | New paramter CephConfigSetMap is a map of parameters containing a section, key and value which are applied with `ceph config set <section> <key> <value>` after Ceph bootstrap. This new parameter is necessary because the parameter map CephConfigOverrides is implemented with `ceph config assimilate-conf` but not all Ceph paramters can be assimilated. ",,29,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~Id2aff61f219b0c4992f6f0045f1aba2c7d129758,openstack/tripleo-ansible,stable/victoria,Id2aff61f219b0c4992f6f0045f1aba2c7d129758,Make execution of the backup idempotent,MERGED,2021-05-31 14:04:49.000000000,2021-06-03 18:31:07.000000000,2021-06-03 18:31:07.000000000,"[{'_account_id': 8449}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-05-31 14:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/338b8b9f199d132481363c9d0ccd6ed2a91bd96b', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 2, 'created': '2021-05-31 14:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4eb20e3ed799cd9691d212f07cff8a41700e754b', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}, {'number': 3, 'created': '2021-05-31 14:22:46.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/414c2dae80880d1309e1dc828a73cf196904ad46', 'message': ""Make execution of the backup idempotent\n\nCurrently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.\n\nThe second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).\n\nBZ: #1954818\nChange-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758\n(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)\n""}]",2,793691,414c2dae80880d1309e1dc828a73cf196904ad46,25,6,3,32968,,,0,"Make execution of the backup idempotent

Currently, the playbook stops the services and the pacemaker to perform the backup. If the backup fails for whatever reason, the playbook cannot run again and fails due to the services being down. This patch fixes the issue in two directions. First, by using the block-always ansible feature, we ensure that whenever an error happens, the playbook will restart the pacemaker and the services before exiting.

The second direction is on the execution itself. By controlling certain actions, we ensure that the backup will be succesful not matter what state the services and the pacemaker are when the playbook is ran. This ensures success even in the case an operator stops the ansible execution manually (which will not trigger the 'always' condition).

BZ: #1954818
Change-Id: Id2aff61f219b0c4992f6f0045f1aba2c7d129758
(cherry picked from commit 9a865d176987f82ecafe121f21ba8db9641379d2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/793691/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_unstandby.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml']",6,338b8b9f199d132481363c9d0ccd6ed2a91bd96b,change-793691-2,"- name: Unpause ceph mon container if paused command: ""{{ tripleo_container_cli }} unpause ceph-mon-{{ ansible_facts['hostname'] }}"" failed_when: false tags: - bar_create_recover_image ",,119,2
openstack%2Fovn-octavia-provider~stable%2Fussuri~Idcccc59b49fa3662d0d61b0b63245865ad09f317,openstack/ovn-octavia-provider,stable/ussuri,Idcccc59b49fa3662d0d61b0b63245865ad09f317,pep8: use mock from unittest,ABANDONED,2021-06-03 17:30:01.000000000,2021-06-03 18:19:39.000000000,,[],"[{'number': 1, 'created': '2021-06-03 17:30:01.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/common/test_clients.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/eaf1fdbedb4f0a26564dd350b146397faa34b043', 'message': ""pep8: use mock from unittest\n\n./ovn_octavia_provider/tests/unit/fakes.py:17:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.\nimport mock\n^\n./ovn_octavia_provider/tests/unit/test_driver.py:17:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.\nimport mock\n^\n./ovn_octavia_provider/tests/unit/common/test_clients.py:14:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.\nimport mock\n^\n./ovn_octavia_provider/tests/functional/test_driver.py:20:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.\nimport mock\n^\n\nChange-Id: Idcccc59b49fa3662d0d61b0b63245865ad09f317\n""}]",0,794654,eaf1fdbedb4f0a26564dd350b146397faa34b043,2,0,1,11952,,,0,"pep8: use mock from unittest

./ovn_octavia_provider/tests/unit/fakes.py:17:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.
import mock
^
./ovn_octavia_provider/tests/unit/test_driver.py:17:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.
import mock
^
./ovn_octavia_provider/tests/unit/common/test_clients.py:14:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.
import mock
^
./ovn_octavia_provider/tests/functional/test_driver.py:20:1: H216: The unittest.mock module should be used rather than the third party mock package unless actually needed. If so, disable the H216 check in hacking config and ensure mock is declared in the project's requirements.
import mock
^

Change-Id: Idcccc59b49fa3662d0d61b0b63245865ad09f317
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/54/794654/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/common/test_clients.py']",4,eaf1fdbedb4f0a26564dd350b146397faa34b043,,from unittest import mock,import mock,4,4
openstack%2Ftripleo-common~master~Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25,openstack/tripleo-common,master,Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25,Make the clustercheck healthcheck work with socat,MERGED,2021-06-01 12:38:06.000000000,2021-06-03 17:59:04.000000000,2021-06-03 17:52:27.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-01 12:38:06.000000000', 'files': ['healthcheck/mariadb'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/37369ca44b603537b72a57d628b1bfc121d7e6ef', 'message': 'Make the clustercheck healthcheck work with socat\n\nSince [1] clustercheck can now use socat instead of xinetd,\nso make sure the clustercheck healthcheck gets configured\nwith the right information based on which method is used.\n\nTested by deploying a standone with socat, and another one\nwith xinetd.\n\n[1] I7d87b5861a576cf4849a25cd1d3f5e77568de1e4\n\nChange-Id: Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25\nCloses-Bug: #1930399\n'}]",0,793963,37369ca44b603537b72a57d628b1bfc121d7e6ef,9,4,1,20778,,,0,"Make the clustercheck healthcheck work with socat

Since [1] clustercheck can now use socat instead of xinetd,
so make sure the clustercheck healthcheck gets configured
with the right information based on which method is used.

Tested by deploying a standone with socat, and another one
with xinetd.

[1] I7d87b5861a576cf4849a25cd1d3f5e77568de1e4

Change-Id: Ib4ec4d10c00bc5cba16598c4d48829bf0af63b25
Closes-Bug: #1930399
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/793963/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/mariadb'],1,37369ca44b603537b72a57d628b1bfc121d7e6ef,bug/1930399,"SOCAT_CONF=/etc/sysconfig/clustercheck IS_MYSQL= # If the mariadb container is running xinetd with galera-monitor or socat then # it is a clustercheck container, otherwise a mysql/mariadb oneelif pgrep -a socat 2> /dev/null | grep -w clustercheck; then TRIPLEO_SOCAT_BIND=$(sed -nE ""s/^TRIPLEO_SOCAT_BIND='?([^']*)'?$/\1/p"" $SOCAT_CONF) PORT=$(echo $TRIPLEO_SOCAT_BIND | sed -n -E 's/.*listen:([0-9]*),.*/\1/p') ADDR=$(echo $TRIPLEO_SOCAT_BIND | sed -n -E 's/.*bind=""?([^"",]*)""?,?.*/\1/p') else IS_MYSQL=1 fi if [ -n ""$IS_MYSQL"" ]; then mysql -e 'select 1' || exit 1 else"," # If the mariadb container is running xinetd with galera-monitor then it is a # clustercheck container, otherwise a mysql/mariadb oneelse mysql -e 'select 1' || exit 1",15,4
openstack%2Ftripleo-validations~stable%2Fwallaby~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,stable/wallaby,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-05-18 14:05:05.000000000,2021-06-03 17:58:51.000000000,2021-06-03 17:52:33.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-18 14:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bfe3f4122d94596e72c3a20d15f39d0ac9808a5b', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n""}, {'number': 2, 'created': '2021-05-19 03:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/89d767b912fbfdec27d6a988d4569b1f9d3033fb', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n""}, {'number': 3, 'created': '2021-05-19 08:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a4de7d458443b2f21e957375d59c8fb257f442c0', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n""}, {'number': 4, 'created': '2021-05-31 03:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5ba26154ea8ced02ae220be701a462cd4b0fe428', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n""}, {'number': 5, 'created': '2021-06-02 09:00:32.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'ci/playbooks/pre.yml', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'ci/playbooks/run.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6a3081beac7a845cd7a77f3813372fa8a8cc44f3', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n""}]",1,791942,6a3081beac7a845cd7a77f3813372fa8a8cc44f3,23,9,5,11491,,,0,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/42/791942/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'ci/playbooks/pre.yml', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', 'roles/frr_status/molecule/faulty/Dockerfile', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/frr_status/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'ci/playbooks/run.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",115,bfe3f4122d94596e72c3a20d15f39d0ac9808a5b,ValDevWorkflow,"# inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. "," log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra",356,2477
openstack%2Ftripleo-validations~stable%2Fwallaby~I687edfc953c01e1797f27c09f8b2fd8f34bb68ce,openstack/tripleo-validations,stable/wallaby,I687edfc953c01e1797f27c09f8b2fd8f34bb68ce,requirements-check enabled,MERGED,2021-06-02 08:54:53.000000000,2021-06-03 17:53:11.000000000,2021-06-03 17:53:11.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32029}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-02 08:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/45097271a0514624cf55cf79c6a50115c2b15a14', 'message': 'requirements-check enabled\n\nThe check-requirements template is now included\nin the zuul layout file.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I687edfc953c01e1797f27c09f8b2fd8f34bb68ce\n'}, {'number': 2, 'created': '2021-06-02 09:00:32.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d619effc0adce6869fae520c87d5c24cf85896d9', 'message': 'requirements-check enabled\n\nThe check-requirements template is now included\nin the zuul layout file.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I687edfc953c01e1797f27c09f8b2fd8f34bb68ce\n(cherry picked from commit 6313bd0be2cd49bfa4e4dc56417197bff9a8e03a)\n'}]",0,794173,d619effc0adce6869fae520c87d5c24cf85896d9,9,9,2,11491,,,0,"requirements-check enabled

The check-requirements template is now included
in the zuul layout file.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I687edfc953c01e1797f27c09f8b2fd8f34bb68ce
(cherry picked from commit 6313bd0be2cd49bfa4e4dc56417197bff9a8e03a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/794173/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,45097271a0514624cf55cf79c6a50115c2b15a14,requirements-check-stable/wallaby, - check-requirements,,1,0
openstack%2Ftripleo-validations~stable%2Fwallaby~Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,openstack/tripleo-validations,stable/wallaby,Idbe73257906b607fddc7f39fd81e2ba1a0a6f979,Trigger molecule jobs when modifying molecule-requirements.txt file,MERGED,2021-05-31 03:43:20.000000000,2021-06-03 17:52:56.000000000,2021-06-03 17:52:56.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-31 03:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/802ada0eb736fe043a3db140aa4737878706cfdc', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)\n'}, {'number': 2, 'created': '2021-06-02 09:00:32.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/46ee49ae42f22f3a67f3d13aea039c798e765b13', 'message': 'Trigger molecule jobs when modifying molecule-requirements.txt file\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979\n(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)\n'}]",0,793717,46ee49ae42f22f3a67f3d13aea039c798e765b13,10,8,2,11491,,,0,"Trigger molecule jobs when modifying molecule-requirements.txt file

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Idbe73257906b607fddc7f39fd81e2ba1a0a6f979
(cherry picked from commit ea4b8c36432d37b06cab133eb5511a99c33be36a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/17/793717/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,802ada0eb736fe043a3db140aa4737878706cfdc,, - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^roles/frr_status/.* - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt - ^molecule-requirements.txt, - ^roles/frra_status/.*,43,1
openstack%2Fironic~master~If74ffa6293347b041b2b8851c18ca057f4a30707,openstack/ironic,master,If74ffa6293347b041b2b8851c18ca057f4a30707,Trivial: fix an outdated link,MERGED,2021-06-01 11:05:13.000000000,2021-06-03 17:47:54.000000000,2021-06-03 17:45:31.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 11:05:13.000000000', 'files': ['doc/source/install/configure-glance-images.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fabd3b7d359fceedb15a5157cf3abba10ffb6ab', 'message': 'Trivial: fix an outdated link\n\nChange-Id: If74ffa6293347b041b2b8851c18ca057f4a30707\n'}]",0,793947,2fabd3b7d359fceedb15a5157cf3abba10ffb6ab,7,2,1,10239,,,0,"Trivial: fix an outdated link

Change-Id: If74ffa6293347b041b2b8851c18ca057f4a30707
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/793947/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-glance-images.rst'],1,2fabd3b7d359fceedb15a5157cf3abba10ffb6ab,doc-link,#. Build or download the user images as described in :doc:`/user/creating-images`.,#. Build or download the user images as described in :doc:`creating-images`.,2,1
openstack%2Fpython-ironicclient~master~Ic4bfd0e5cfa8327d2832d4dbdd7c81348e1ef46f,openstack/python-ironicclient,master,Ic4bfd0e5cfa8327d2832d4dbdd7c81348e1ef46f,Update project conundrum related docs,MERGED,2021-05-31 09:00:15.000000000,2021-06-03 17:47:32.000000000,2021-06-03 17:45:49.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a613a74f3a5549afbdeabda52c80bc0a119b7998', 'message': 'Update project conundrum related docs\n\nYes, project conundrum is a code-name for our transition to OFTC\nas we do not want to put anything into freenode IRC which may abruptly\nresult in the channel being siezed or shutdown by the new\nowners/operators of freenode\n\nChange-Id: Ic4bfd0e5cfa8327d2832d4dbdd7c81348e1ef46f\nSee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n'}, {'number': 2, 'created': '2021-05-31 09:08:45.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/dd9ff8cda68e6fe1ae64dfcd38686213acd7e45c', 'message': 'Update project conundrum related docs\n\nYes, project conundrum is a code-name for our transition to OFTC\nas we do not want to put anything into freenode IRC which may abruptly\nresult in the channel being siezed or shutdown by the new\nowners/operators of freenode\n\nChange-Id: Ic4bfd0e5cfa8327d2832d4dbdd7c81348e1ef46f\nSee: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html\n'}]",2,793742,dd9ff8cda68e6fe1ae64dfcd38686213acd7e45c,11,4,2,23851,,,0,"Update project conundrum related docs

Yes, project conundrum is a code-name for our transition to OFTC
as we do not want to put anything into freenode IRC which may abruptly
result in the channel being siezed or shutdown by the new
owners/operators of freenode

Change-Id: Ic4bfd0e5cfa8327d2832d4dbdd7c81348e1ef46f
See: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022718.html
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/42/793742/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,a613a74f3a5549afbdeabda52c80bc0a119b7998,oftc,#openstack-ironic on OFTC IRC NetworkThere is a very active chat channel #openstack-ironic on OFTC IRC Network.,#openstack-ironic on Freenode IRC NetworkThere is a very active chat channel at irc://freenode.net/#openstack-ironic.,2,2
openstack%2Fnova~stable%2Fwallaby~Ic03a5336abdced883f62f395690c0feac12075c8,openstack/nova,stable/wallaby,Ic03a5336abdced883f62f395690c0feac12075c8,rbd: Get rbd_utils unit tests running again,MERGED,2021-05-11 21:06:45.000000000,2021-06-03 17:43:52.000000000,2021-06-03 17:42:00.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-11 21:06:45.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f018d754d5c55e432cd51df99278382b527283e', 'message': ""rbd: Get rbd_utils unit tests running again\n\nAwhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved\nrbd_utils out from the libvirt driver and into a central location under\nnova/storage. This move missed adding a __init__.py file under\nnova/tests/unit/storage, so unit test discovery wasn't picking up the\nrbd_utils tests and couldn't run them.\n\nThis adds a __init__.py file under nova/tests/unit/storage to get the\ntests running again.\n\nThis also fixes a small bug introduced by change\nI3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that\npassed nonexistent self.images_rbd_pool to self.flags. It should be\nself.rbd_pool.\n\nCloses-Bug: #1928007\n\nChange-Id: Ic03a5336abdced883f62f395690c0feac12075c8\n(cherry picked from commit 8b647f1b3f56879be221b3925570790a1e0e77f8)\n""}]",0,790836,8f018d754d5c55e432cd51df99278382b527283e,13,4,1,4690,,,0,"rbd: Get rbd_utils unit tests running again

Awhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved
rbd_utils out from the libvirt driver and into a central location under
nova/storage. This move missed adding a __init__.py file under
nova/tests/unit/storage, so unit test discovery wasn't picking up the
rbd_utils tests and couldn't run them.

This adds a __init__.py file under nova/tests/unit/storage to get the
tests running again.

This also fixes a small bug introduced by change
I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that
passed nonexistent self.images_rbd_pool to self.flags. It should be
self.rbd_pool.

Closes-Bug: #1928007

Change-Id: Ic03a5336abdced883f62f395690c0feac12075c8
(cherry picked from commit 8b647f1b3f56879be221b3925570790a1e0e77f8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/790836/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/storage/__init__.py']",2,8f018d754d5c55e432cd51df99278382b527283e,bug/1928007,,,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I1305b519a230823be37b7f50c75ce331c16999d6,openstack/python-tripleoclient,stable/wallaby,I1305b519a230823be37b7f50c75ce331c16999d6,BnR Typo missing some spaces between words on the command help,MERGED,2021-06-02 06:48:36.000000000,2021-06-03 17:39:09.000000000,2021-06-03 17:37:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 06:48:36.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2663a5f28d251f898a24d5338291078a2cea751e', 'message': 'BnR Typo missing some spaces between words on the command help\n\nWhen the command print the help there are some spaces missing\n\nChange-Id: I1305b519a230823be37b7f50c75ce331c16999d6\n(cherry picked from commit a7f177860c400f08fc73164b071134b07a44d778)\n'}]",0,794067,2663a5f28d251f898a24d5338291078a2cea751e,11,2,1,22954,,,0,"BnR Typo missing some spaces between words on the command help

When the command print the help there are some spaces missing

Change-Id: I1305b519a230823be37b7f50c75ce331c16999d6
(cherry picked from commit a7f177860c400f08fc73164b071134b07a44d778)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/794067/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py']",2,2663a5f28d251f898a24d5338291078a2cea751e,BnR_typo-stable/wallaby," help=_(""Initialize environment for backup, "" ""WARNING: This flag will be deprecated "" ""and replaced by '--setup-rear' and """," help=_(""Initialize environment for backup,"" ""WARNING: This flag will be deprecated"" ""and replaced by '--setup-rear' and""",10,10
openstack%2Fironic-specs~master~Ic61e349773efbe99ee8afb22228d7d102adb516f,openstack/ironic-specs,master,Ic61e349773efbe99ee8afb22228d7d102adb516f,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 08:56:36.000000000,2021-06-03 17:38:23.000000000,2021-06-03 17:36:40.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 08:56:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ac74ce9a1bd0829fbf02efb883e8fab00af9eb4a', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic61e349773efbe99ee8afb22228d7d102adb516f\n""}]",0,794469,ac74ce9a1bd0829fbf02efb883e8fab00af9eb4a,7,2,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic61e349773efbe99ee8afb22228d7d102adb516f
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/69/794469/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ac74ce9a1bd0829fbf02efb883e8fab00af9eb4a,update-min-tox,minversion = 3.18.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fironic-inspector~master~I143ef78dec2ffff6b1c309036d50533591c20171,openstack/ironic-inspector,master,I143ef78dec2ffff6b1c309036d50533591c20171,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 08:54:22.000000000,2021-06-03 17:38:22.000000000,2021-06-03 17:36:26.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-03 08:54:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b912248f095099722255a37e8b8549490ea3559c', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I143ef78dec2ffff6b1c309036d50533591c20171\n""}]",0,794468,b912248f095099722255a37e8b8549490ea3559c,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I143ef78dec2ffff6b1c309036d50533591c20171
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/68/794468/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b912248f095099722255a37e8b8549490ea3559c,update-min-tox,minversion = 3.18.0allowlist_externals = bashallowlist_externals = make,minversion = 3.9.0whitelist_externals = bashwhitelist_externals = make,3,3
openstack%2Fopenstack-ansible~master~Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0,openstack/openstack-ansible,master,Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0,DNM: exercise base-test in ansible deploy jobs,ABANDONED,2021-06-02 19:49:01.000000000,2021-06-03 17:35:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-02 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe096481b5f34dea456087a25e13305600c33ace', 'message': ""DNM: exercise base-test in ansible deploy jobs\n\nWe've merged Ie1e38d68ddda5d24c8a0fe0a6d1098bd89c28f0c in order to\ntest a potential mechanism for creating a working VERSION_ID value\nwhen it doesn't already exist (common in an unreleased\ndebian/testing install for example). See if this helps or breaks\nsomething.\n\nChange-Id: Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0\n""}, {'number': 2, 'created': '2021-06-03 08:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f00f775ca57b7fa8ed704472d6966101e0db0528', 'message': ""DNM: exercise base-test in ansible deploy jobs\n\nWe've merged Ie1e38d68ddda5d24c8a0fe0a6d1098bd89c28f0c in order to\ntest a potential mechanism for creating a working VERSION_ID value\nwhen it doesn't already exist (common in an unreleased\ndebian/testing install for example). See if this helps or breaks\nsomething.\n\nChange-Id: Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0\n""}, {'number': 3, 'created': '2021-06-03 08:24:02.000000000', 'files': ['scripts/bootstrap-ansible.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88ec7fa3c1c1fd45bc806b7aa4d9f73479fec533', 'message': ""DNM: exercise base-test in ansible deploy jobs\n\nWe've merged Ie1e38d68ddda5d24c8a0fe0a6d1098bd89c28f0c in order to\ntest a potential mechanism for creating a working VERSION_ID value\nwhen it doesn't already exist (common in an unreleased\ndebian/testing install for example). See if this helps or breaks\nsomething.\n\nChange-Id: Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0\n""}]",0,794332,88ec7fa3c1c1fd45bc806b7aa4d9f73479fec533,10,1,3,5263,,,0,"DNM: exercise base-test in ansible deploy jobs

We've merged Ie1e38d68ddda5d24c8a0fe0a6d1098bd89c28f0c in order to
test a potential mechanism for creating a working VERSION_ID value
when it doesn't already exist (common in an unreleased
debian/testing install for example). See if this helps or breaks
something.

Change-Id: Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/32/794332/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,fe096481b5f34dea456087a25e13305600c33ace,osa/bullseye, parent: base-test, parent: base,1,1
openstack%2Fironic-python-agent~master~I434a6330defbc5cc65788f4d64b7f2d4d2b37db7,openstack/ironic-python-agent,master,I434a6330defbc5cc65788f4d64b7f2d4d2b37db7,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 08:51:36.000000000,2021-06-03 17:32:25.000000000,2021-06-03 17:30:47.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-03 08:51:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e27cdb36732d98ca813c1ea62a447dd8e6a68da5', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I434a6330defbc5cc65788f4d64b7f2d4d2b37db7\n""}]",0,794467,e27cdb36732d98ca813c1ea62a447dd8e6a68da5,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I434a6330defbc5cc65788f4d64b7f2d4d2b37db7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/67/794467/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e27cdb36732d98ca813c1ea62a447dd8e6a68da5,update-min-tox,minversion = 3.18.0allowlist_externals = bashallowlist_externals = makeallowlist_externals = mkdir,minversion = 3.9.0whitelist_externals = bashwhitelist_externals = makewhitelist_externals = mkdir,4,4
openstack%2Foslo.cache~master~Icbe6dc3e93b4d2fec1ceb88366027294e49d7032,openstack/oslo.cache,master,Icbe6dc3e93b4d2fec1ceb88366027294e49d7032,"Don't import module ""etcd3gw"" if etcd3gw backend is not used.",MERGED,2021-05-21 16:58:34.000000000,2021-06-03 17:06:10.000000000,2021-06-03 17:02:48.000000000,"[{'_account_id': 9542}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-21 16:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3bd5fd240d3e3139b470ebb3d957ef8818226974', 'message': 'Don\'t import module ""etcd3gw"" if etcd3gw backend is not used.\n\nIf module etcd3gw is not required for used backend,\nthen no need to have it installed and imported.\nOtherwise we always have ugly log error:\nCould not load \'oslo_cache.etcd3gw\': No module named \'etcd3gw\': ModuleNotFoundError: No module named \'etcd3gw\n\nCloses-Bug: 1928318\nChange-Id: Icbe6dc3e93b4d2fec1ceb88366027294e49d7032\n'}, {'number': 2, 'created': '2021-05-26 16:58:41.000000000', 'files': ['oslo_cache/backends/etcd3gw.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/40946a9349407f36a43d5020d991085c11468698', 'message': 'Don\'t import module ""etcd3gw"" if etcd3gw backend is not used.\n\nIf module etcd3gw is not required for used backend,\nthen no need to have it installed and imported.\nOtherwise we always have ugly log error:\nCould not load \'oslo_cache.etcd3gw\': No module named \'etcd3gw\': ModuleNotFoundError: No module named \'etcd3gw\n\nCloses-Bug: 1928318\nChange-Id: Icbe6dc3e93b4d2fec1ceb88366027294e49d7032\n'}]",1,792677,40946a9349407f36a43d5020d991085c11468698,19,4,2,32927,,,0,"Don't import module ""etcd3gw"" if etcd3gw backend is not used.

If module etcd3gw is not required for used backend,
then no need to have it installed and imported.
Otherwise we always have ugly log error:
Could not load 'oslo_cache.etcd3gw': No module named 'etcd3gw': ModuleNotFoundError: No module named 'etcd3gw

Closes-Bug: 1928318
Change-Id: Icbe6dc3e93b4d2fec1ceb88366027294e49d7032
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/77/792677/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/backends/etcd3gw.py'],1,3bd5fd240d3e3139b470ebb3d957ef8818226974,bug/1928318, # module etcd3gw is only required when etcd3gw backend is used global etcd3gw import etcd3gw,import etcd3gw,3,1
openstack%2Freleases~master~Ia022c804bd09ac11499afcc61705cca8d8790761,openstack/releases,master,Ia022c804bd09ac11499afcc61705cca8d8790761,[barbican] Transition Train to EM,MERGED,2021-05-11 14:53:49.000000000,2021-06-03 17:03:50.000000000,2021-06-03 17:03:50.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 14:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a40868404d10e56fe20cfb2fd597c7c3e93e0349', 'message': '[barbican] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ia022c804bd09ac11499afcc61705cca8d8790761\n'}, {'number': 2, 'created': '2021-05-11 15:33:50.000000000', 'files': ['deliverables/train/python-barbicanclient.yaml', 'deliverables/train/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/29f1084769e718b6191011547cb634004b81df3c', 'message': '[barbican] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ia022c804bd09ac11499afcc61705cca8d8790761\n'}]",0,790715,29f1084769e718b6191011547cb634004b81df3c,14,5,2,17685,,,0,"[barbican] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ia022c804bd09ac11499afcc61705cca8d8790761
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/790715/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/barbican.yaml', 'deliverables/train/python-barbicanclient.yaml', 'deliverables/train/barbican-tempest-plugin.yaml']",3,a40868404d10e56fe20cfb2fd597c7c3e93e0349,train-em, - version: train-em projects: - repo: openstack/barbican-tempest-plugin hash: a226433e778d4996b8c4f4e8fee9c3c3b8ea3ad4,,12,0
openstack%2Fansible-role-uwsgi~master~Ic7f97ba252191cc2313c2648de0ca90e0ac49ce2,openstack/ansible-role-uwsgi,master,Ic7f97ba252191cc2313c2648de0ca90e0ac49ce2,Add support for debian bullseye,MERGED,2021-05-13 16:49:51.000000000,2021-06-03 16:40:58.000000000,2021-06-03 16:39:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-13 16:49:51.000000000', 'files': ['vars/debian-11.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/95f74142a397fa94444fae429fea32b184b03e9b', 'message': 'Add support for debian bullseye\n\nChange-Id: Ic7f97ba252191cc2313c2648de0ca90e0ac49ce2\n'}]",0,791290,95f74142a397fa94444fae429fea32b184b03e9b,17,4,1,25023,,,0,"Add support for debian bullseye

Change-Id: Ic7f97ba252191cc2313c2648de0ca90e0ac49ce2
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/90/791290/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian-11.yml'],1,95f74142a397fa94444fae429fea32b184b03e9b,osa/bullseye,"--- # Copyright 2021, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## APT Cache options cache_timeout: 600 uwsgi_bin: '/usr/bin' uwsgi_distro_packages: - libpython3.9 - uwsgi - uwsgi-plugin-python3 ",,24,0
openstack%2Fopenstack-tempest-skiplist~master~Iffce3b4cd42f3f0da1f096727aead46a66af9d2e,openstack/openstack-tempest-skiplist,master,Iffce3b4cd42f3f0da1f096727aead46a66af9d2e,Adding test_update_router_admin_state to skiplist,MERGED,2021-06-03 15:42:16.000000000,2021-06-03 16:17:02.000000000,2021-06-03 16:15:18.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 15:42:16.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/25994c23cc39c07bf4002f664677dd5ba65f8629', 'message': 'Adding test_update_router_admin_state to skiplist\n\nThis test is failing from time to time due bug #1921400\n\nChange-Id: Iffce3b4cd42f3f0da1f096727aead46a66af9d2e\n'}]",0,794612,25994c23cc39c07bf4002f664677dd5ba65f8629,7,2,1,8367,,,0,"Adding test_update_router_admin_state to skiplist

This test is failing from time to time due bug #1921400

Change-Id: Iffce3b4cd42f3f0da1f096727aead46a66af9d2e
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/12/794612/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,25994c23cc39c07bf4002f664677dd5ba65f8629,another-round, - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_update_router_admin_state deployment: - overcloud releases: - name: master reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400,,10,0
openstack%2Fproject-config~master~Ib64bb633a5920ee953b4582e495bca68ae19a71c,openstack/project-config,master,Ib64bb633a5920ee953b4582e495bca68ae19a71c,Stop requiring registered nicks for IRC,ABANDONED,2021-05-17 19:28:11.000000000,2021-06-03 16:09:20.000000000,,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-17 19:28:11.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a20a8864b3369aa6e6a8481440e1f477a6f2f2c', 'message': ""Stop requiring registered nicks for IRC\n\nThe volume of spam seems to have fallen off significantly. While we\ncan't be sure it will stay low if we remove the registration requirement\nwe have been asked to see if the registered requirement is safe to\nremove.\n\nRemove the +r and +f from our channels to find out. We can always revert\nthis if necessary.\n\nChange-Id: Ib64bb633a5920ee953b4582e495bca68ae19a71c\n""}]",0,791818,7a20a8864b3369aa6e6a8481440e1f477a6f2f2c,7,3,1,4146,,,0,"Stop requiring registered nicks for IRC

The volume of spam seems to have fallen off significantly. While we
can't be sure it will stay low if we remove the registration requirement
we have been asked to see if the registered requirement is safe to
remove.

Remove the +r and +f from our channels to find out. We can always revert
this if necessary.

Change-Id: Ib64bb633a5920ee953b4582e495bca68ae19a71c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/791818/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,7a20a8864b3369aa6e6a8481440e1f477a6f2f2c,unreged-irc, mode: '+cnt',# To forward unregistered users to a channel with +f you need to be an # op in that channel. This pre-joins and ops (via chanserv) in the # given channels. op_channels: - openstack-unregistered # r : registered users only # f : forward unregistered users to #openstack-unregistered mode: '+cnrtf #openstack-unregistered',1,9
openstack%2Frequirements~master~Ia6ce70560c988a525c45c6473e91283b183d2cd0,openstack/requirements,master,Ia6ce70560c988a525c45c6473e91283b183d2cd0,update pyroute2 to 0.6.3,MERGED,2021-05-25 17:56:15.000000000,2021-06-03 15:48:52.000000000,2021-06-03 15:47:37.000000000,"[{'_account_id': 9708}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 17:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/29a64513e672c4d1e4d943f4a1ec428d9722fb04', 'message': 'update pyroute2 to 0.6.1\n\nChange-Id: Ia6ce70560c988a525c45c6473e91283b183d2cd0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2021-06-03 12:49:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fe1f4707af437686e89db7255c95b0850ee2dc2a', 'message': 'update pyroute2 to 0.6.3\n\nChange-Id: Ia6ce70560c988a525c45c6473e91283b183d2cd0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",2,793020,fe1f4707af437686e89db7255c95b0850ee2dc2a,13,4,2,14288,,,0,"update pyroute2 to 0.6.3

Change-Id: Ia6ce70560c988a525c45c6473e91283b183d2cd0
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/793020/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,29a64513e672c4d1e4d943f4a1ec428d9722fb04,pyroute2-0.6,pyroute2===0.6.1,pyroute2===0.5.19,1,1
openstack%2Fironic-lib~master~I0349073cf0f78fb021dcd3e830fedddf2b4a0c92,openstack/ironic-lib,master,I0349073cf0f78fb021dcd3e830fedddf2b4a0c92,utils.execute: log stdout and stderr even on failure,MERGED,2021-06-02 09:37:39.000000000,2021-06-03 15:45:33.000000000,2021-06-03 15:42:39.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-02 09:37:39.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e4d7c1f41e476eb55b84221076fb18c13ebb2071', 'message': ""utils.execute: log stdout and stderr even on failure\n\nAdd logging when a command is not found.\n\nAlso remove duplicate logging of exit code and command line:\nit's already done by processutils.\n\nChange-Id: I0349073cf0f78fb021dcd3e830fedddf2b4a0c92\n""}]",0,794171,e4d7c1f41e476eb55b84221076fb18c13ebb2071,8,3,1,10239,,,0,"utils.execute: log stdout and stderr even on failure

Add logging when a command is not found.

Also remove duplicate logging of exit code and command line:
it's already done by processutils.

Change-Id: I0349073cf0f78fb021dcd3e830fedddf2b4a0c92
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/71/794171/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_utils.py']",2,e4d7c1f41e476eb55b84221076fb18c13ebb2071,error-log," name, args, kwargs = log_mock.debug.mock_calls[0] if log_stdout is False: self.assertEqual(1, log_mock.debug.call_count) self.assertEqual(2, log_mock.debug.call_count) @mock.patch.object(utils, 'LOG', autospec=True) @mock.patch.object(processutils, 'execute', autospec=True) def test_execute_command_not_found(self, execute_mock, log_mock): execute_mock.side_effect = FileNotFoundError self.assertRaises(FileNotFoundError, utils.execute, 'foo') execute_mock.assert_called_once_with('foo') name, args, kwargs = log_mock.debug.mock_calls[0] self.assertEqual(1, log_mock.debug.call_count) self.assertIn('not found', args[0]) "," name, args, kwargs = log_mock.debug.mock_calls[1] if log_stdout is False: self.assertEqual(2, log_mock.debug.call_count) self.assertEqual(3, log_mock.debug.call_count)",29,10
openstack%2Fpython-mistralclient~master~Ia31f9dbf540e6a8aea35fdfd0bd0bbad166127e3,openstack/python-mistralclient,master,Ia31f9dbf540e6a8aea35fdfd0bd0bbad166127e3,Remove tripleo job from mistralclient,MERGED,2021-05-06 15:34:38.000000000,2021-06-03 15:44:37.000000000,2021-06-03 15:39:40.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/7d8aa3a15b60b8126b0c4ca190fc5718575edcd5', 'message': 'Remove tripleo job from mistralclient\n\nTripleO no longer depends on Mistral for deployment. We can remove the\nTripleO CI coverage for mistralclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ia31f9dbf540e6a8aea35fdfd0bd0bbad166127e3\n'}, {'number': 2, 'created': '2021-05-06 15:35:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/18fff747b500f99a81305b4c73c781f8059b0309', 'message': 'Remove tripleo job from mistralclient\n\nTripleO no longer depends on Mistral for deployment as of Wallaby. We\ncan remove the TripleO CI coverage for mistralclient.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ia31f9dbf540e6a8aea35fdfd0bd0bbad166127e3\n'}]",0,790088,18fff747b500f99a81305b4c73c781f8059b0309,9,3,2,7144,,,0,"Remove tripleo job from mistralclient

TripleO no longer depends on Mistral for deployment as of Wallaby. We
can remove the TripleO CI coverage for mistralclient.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Ia31f9dbf540e6a8aea35fdfd0bd0bbad166127e3
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/88/790088/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d8aa3a15b60b8126b0c4ca190fc5718575edcd5,,," # TripleO jobs that deploy Mistral. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario003-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-containers-multinode: voting: false",0,9
openstack%2Fopenstack-tempest-skiplist~master~Ie236c7a29f3e5aae371f63e02c1cc8974d13c02c,openstack/openstack-tempest-skiplist,master,Ie236c7a29f3e5aae371f63e02c1cc8974d13c02c,Adding some TestNetworkBasicOps on skiplist wallaby,MERGED,2021-06-03 15:08:50.000000000,2021-06-03 15:43:57.000000000,2021-06-03 15:36:49.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-03 15:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/402e4b14b756b288ad33116926f978d43a9a51b9', 'message': ""Adding some TestNetworkBasicOps on skiplist wallaby\n\nAlthough these tests are not failing constantly, it's right now\nimpacting the check queue. This should be removed later.\n\nChange-Id: Ie236c7a29f3e5aae371f63e02c1cc8974d13c02c\n""}, {'number': 2, 'created': '2021-06-03 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/38f0e4ae10df792d2fb446f681a626315f8acc66', 'message': ""Adding some TestNetworkBasicOps on skiplist wallaby\n\nAlthough these tests are not failing constantly, it's right now\nimpacting the check queue. This should be removed later.\n\nChange-Id: Ie236c7a29f3e5aae371f63e02c1cc8974d13c02c\n""}, {'number': 3, 'created': '2021-06-03 15:15:47.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/95558196ac593141c66430bcfafe6b85135738ee', 'message': ""Adding some TestNetworkBasicOps on skiplist wallaby\n\nAlthough these tests are not failing constantly, it's right now\nimpacting the check queue. This should be removed later.\n\nChange-Id: Ie236c7a29f3e5aae371f63e02c1cc8974d13c02c\n""}]",0,794608,95558196ac593141c66430bcfafe6b85135738ee,9,3,3,8367,,,0,"Adding some TestNetworkBasicOps on skiplist wallaby

Although these tests are not failing constantly, it's right now
impacting the check queue. This should be removed later.

Change-Id: Ie236c7a29f3e5aae371f63e02c1cc8974d13c02c
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/08/794608/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,402e4b14b756b288ad33116926f978d43a9a51b9,lot-of-changes, - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_mtu_sized_frames deployment: - overcloud releases: - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 jobs: - tripleo-ci-centos-8-containers-multinode - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops deployment: - overcloud releases: - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - test: tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_connectivity_between_vms_on_different_networks deployment: - overcloud releases: - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400 - name: wallaby reason: auth issues lp: https://bugs.launchpad.net/tripleo/+bug/1921400,,26,0
openstack%2Frequirements~stable%2Fvictoria~I5ce8455f1689940e464174e20d64c997ed617d65,openstack/requirements,stable/victoria,I5ce8455f1689940e464174e20d64c997ed617d65,update constraint for os-apply-config to new release 12.0.1,MERGED,2021-06-03 10:20:55.000000000,2021-06-03 15:35:46.000000000,2021-06-03 15:35:46.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 10:20:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/72973c853c6752ffcfc99388a88f93c6a989d313', 'message': 'update constraint for os-apply-config to new release 12.0.1\n\nmeta: version: 12.0.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I5ce8455f1689940e464174e20d64c997ed617d65\n'}]",0,794558,72973c853c6752ffcfc99388a88f93c6a989d313,10,3,1,11131,,,0,"update constraint for os-apply-config to new release 12.0.1

meta: version: 12.0.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I5ce8455f1689940e464174e20d64c997ed617d65
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/794558/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,72973c853c6752ffcfc99388a88f93c6a989d313,new-release,os-apply-config===12.0.1,os-apply-config===12.0.0,1,1
openstack%2Fblazar~master~I153c72dd6181ba8b1fab032c82a8d342be980567,openstack/blazar,master,I153c72dd6181ba8b1fab032c82a8d342be980567,[DNM] Testing sqlalchemy 1.4,ABANDONED,2021-04-28 05:41:55.000000000,2021-06-03 15:27:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-28 05:41:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/082ac2b02844f72951bd4984244ee88db0ef0a7b', 'message': '[DNM] Testing sqlalchemy 1.4\n\nChange-Id: I153c72dd6181ba8b1fab032c82a8d342be980567\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339\n'}]",0,788407,082ac2b02844f72951bd4984244ee88db0ef0a7b,5,1,1,15197,,,0,"[DNM] Testing sqlalchemy 1.4

Change-Id: I153c72dd6181ba8b1fab032c82a8d342be980567
Depends-On: https://review.opendev.org/c/openstack/requirements/+/788339
",git fetch https://review.opendev.org/openstack/blazar refs/changes/07/788407/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,082ac2b02844f72951bd4984244ee88db0ef0a7b,sqlalchemy,---,,1,0
openstack%2Fheat~master~I8049b24601c2c7faf1567452cf550118c6237bbb,openstack/heat,master,I8049b24601c2c7faf1567452cf550118c6237bbb,[Doc] Moving to OFTC,MERGED,2021-06-03 14:09:15.000000000,2021-06-03 15:17:20.000000000,2021-06-03 15:15:25.000000000,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 14:09:15.000000000', 'files': ['doc/source/developing_guides/pluginguide.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/793f5b37ae9b4ca3abe84ad24384590b8edf4330', 'message': '[Doc] Moving to OFTC\n\nThis patch updates Freenode to OFTC as IRC server in document.\n\nChange-Id: I8049b24601c2c7faf1567452cf550118c6237bbb\n'}]",3,794596,793f5b37ae9b4ca3abe84ad24384590b8edf4330,10,4,1,32102,,,0,"[Doc] Moving to OFTC

This patch updates Freenode to OFTC as IRC server in document.

Change-Id: I8049b24601c2c7faf1567452cf550118c6237bbb
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/794596/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developing_guides/pluginguide.rst'],1,793f5b37ae9b4ca3abe84ad24384590b8edf4330,oftc,channel on OFTC or on the `openstack-discuss,channel on FreeNode or on the `openstack-discuss,1,1
openstack%2Fheat~master~If0b6ad3a24840f978695973aa172b23a6b0b1397,openstack/heat,master,If0b6ad3a24840f978695973aa172b23a6b0b1397,Fix server volume dependency,NEW,2021-06-03 09:58:31.000000000,2021-06-03 15:08:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 09:58:31.000000000', 'files': ['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/33eb36da1501f109e165903906c24c2144f4b6e0', 'message': 'Fix server volume dependency\n\nWhen update a stack with server, volume and a volume attachment to link\nbetween server and volume.\nWe should consider volume as required by server. Otherwise, if both\nserver and volume doing update replace, server might stuck in Error\nstatus when it try to resize during volume detached by volume update\nreplacement.\n\nStory: 2008936\nTask: 42543\nChange-Id: If0b6ad3a24840f978695973aa172b23a6b0b1397\n'}]",0,794551,33eb36da1501f109e165903906c24c2144f4b6e0,7,1,1,12404,,,0,"Fix server volume dependency

When update a stack with server, volume and a volume attachment to link
between server and volume.
We should consider volume as required by server. Otherwise, if both
server and volume doing update replace, server might stuck in Error
status when it try to resize during volume detached by volume update
replacement.

Story: 2008936
Task: 42543
Change-Id: If0b6ad3a24840f978695973aa172b23a6b0b1397
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/794551/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py']",2,33eb36da1501f109e165903906c24c2144f4b6e0,story/2008936,"no_volume_attach_template = ''' heat_template_version: 2013-05-23 resources: server: type: OS::Nova::Server properties: image: F17-x86_64-gold flavor: m1.large volume: type: OS::Cinder::Volume properties: name: myvolume size: 10 volume_attach: type: OS::Cinder::VolumeAttachment depends_on: server depends_on: volume properties: instance_uuid: fake_server_id volume_id: fake_volume_id ''' volume_template = ''' heat_template_version: 2013-05-23 resources: server: type: OS::Nova::Server properties: image: F17-x86_64-gold flavor: m1.large volume: type: OS::Cinder::Volume properties: name: myvolume size: 10 volume_attach: type: OS::Cinder::VolumeAttachment depends_on: server depends_on: volume properties: instance_uuid: fake_server_id volume_id: fake_volume_id ''' def test_volume_dependency(self): templ, stack = self._setup_test_stack('volume-test', volume_template) server_rsrc = stack['server'] server_rsrc.resource_id = 'fake_server_id' deps = [] server_rsrc.add_explicit_dependencies(deps) server_rsrc.add_dependencies(deps) self.assertEqual(4, len(deps)) self.assertIn(stack['volume'], deps) def test_volume_dependency_no_volume_attached(self): templ, stack = self._setup_test_stack('no-volume-attach-test', no_volume_attach_template) server_rsrc = stack['server'] server_rsrc.resource_id = 'foobar' deps = [] server_rsrc.add_explicit_dependencies(deps) server_rsrc.add_dependencies(deps) self.assertEqual(2, len(deps)) self.assertNotIn(stack['volume'], deps) ",,95,3
openstack%2Fopenstack-ansible~master~I10140586ceb1c9b68eee7969dcaf6d73ad45cea0,openstack/openstack-ansible,master,I10140586ceb1c9b68eee7969dcaf6d73ad45cea0,Don't collect virtual facts,MERGED,2021-05-05 16:31:27.000000000,2021-06-03 14:57:11.000000000,2021-06-03 14:51:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-05 16:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/39be6b12fe714f1d7e89fe9a8f43842ccecdd5f9', 'message': ""Don't collect virtual facts\n\nRollback to old method of the collecting facts. gather_facts respect\nANSIBLE_GATHER_SUBSET environment variable, thus we will collect less\nfacts then we currently do. Moreover, setup does not respect cache and\nrun everytime, even when cache is valid.\n\nThis partially reverts commit f1e56a32fe62f81f0718701c4cd32f148264e186\n\nChange-Id: I10140586ceb1c9b68eee7969dcaf6d73ad45cea0\n""}, {'number': 2, 'created': '2021-05-06 16:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bb291afa7a8dcda2a8c6fba6ef2c5b3b7708386a', 'message': ""Don't collect virtual facts\n\nRollback to old method of the collecting facts. gather_facts respect\nANSIBLE_GATHER_SUBSET environment variable, thus we will collect less\nfacts then we currently do. Moreover, setup does not respect cache and\nrun everytime, even when cache is valid.\n\nThis partially reverts commit f1e56a32fe62f81f0718701c4cd32f148264e186\n\nChange-Id: I10140586ceb1c9b68eee7969dcaf6d73ad45cea0\n""}, {'number': 3, 'created': '2021-05-18 16:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cd66ed1d43745479c9510f71e6e4dd6452736b22', 'message': ""Don't collect virtual facts\n\nRollback to old method of the collecting facts. gather_facts respect\nANSIBLE_GATHER_SUBSET environment variable, thus we will collect less\nfacts then we currently do. Moreover, setup does not respect cache and\nrun everytime, even when cache is valid.\n\nThis partially reverts commit f1e56a32fe62f81f0718701c4cd32f148264e186\n\nChange-Id: I10140586ceb1c9b68eee7969dcaf6d73ad45cea0\n""}, {'number': 4, 'created': '2021-06-01 15:41:00.000000000', 'files': ['playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/adc3ac0859ca98785f322da970a1491a3dc768f3', 'message': ""Don't collect virtual facts\n\nRollback to old method of the collecting facts. gather_facts respect\nANSIBLE_GATHER_SUBSET environment variable, thus we will collect less\nfacts then we currently do. Moreover, setup does not respect cache and\nrun everytime, even when cache is valid.\n\nThis partially reverts commit f1e56a32fe62f81f0718701c4cd32f148264e186\n\nChange-Id: I10140586ceb1c9b68eee7969dcaf6d73ad45cea0\n""}]",0,789926,adc3ac0859ca98785f322da970a1491a3dc768f3,16,4,4,28619,,,0,"Don't collect virtual facts

Rollback to old method of the collecting facts. gather_facts respect
ANSIBLE_GATHER_SUBSET environment variable, thus we will collect less
facts then we currently do. Moreover, setup does not respect cache and
run everytime, even when cache is valid.

This partially reverts commit f1e56a32fe62f81f0718701c4cd32f148264e186

Change-Id: I10140586ceb1c9b68eee7969dcaf6d73ad45cea0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/789926/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openstack-hosts-setup.yml'],1,39be6b12fe714f1d7e89fe9a8f43842ccecdd5f9,," gather_facts: ""{{ osa_gather_facts | default(True) }}""", tasks: - setup: gather_subset: - '!all' - min - virtual when: - osa_gather_facts | default(True),1,8
openstack%2Ftripleo-ci~master~Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3,openstack/tripleo-ci,master,Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3,Fix UPPER_CONSTRAINTS_FILE for ovb,ABANDONED,2021-05-31 14:55:16.000000000,2021-06-03 14:56:36.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-31 14:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ebfcdb769ebb781c587f65f83fd1dd594d57e6cf', 'message': 'Fix UPPER_CONSTRAINTS_FILE for ovb\n\nThe branches need to be mapped for stable/2.0.\n\nChange-Id: Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3\n'}, {'number': 2, 'created': '2021-05-31 14:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/623f97d68e1e89f71afd2c0f02fa4a03f63b971e', 'message': 'Fix UPPER_CONSTRAINTS_FILE for ovb\n\nThe branches need to be mapped for stable/2.0.\n\nChange-Id: Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3\n'}, {'number': 3, 'created': '2021-06-03 08:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d75d52b4f7ddbab65b06a181a150e108965c4cca', 'message': 'Fix UPPER_CONSTRAINTS_FILE for ovb\n\nThe branches need to be mapped for stable/2.0.\n\nChange-Id: Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3\n'}, {'number': 4, 'created': '2021-06-03 14:00:41.000000000', 'files': ['roles/run-test/templates/common_vars.bash.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/519a3bf1edf0f3a63b12a8da2d51c5ca25572006', 'message': ""Fix UPPER_CONSTRAINTS_FILE for ovb\n\nWe are facing issue as mentioned in attached Closes-Bug.\n\nWe have stable/2.0 branch for openstack-virtual-baremetal\nproject. Currently we don't have mapping for stable/2.0\nto a Openstack branch because of this third party jobs are\ntrying a wrong URL for Upper constraints for stable/2.0 branch\nand failing.\n\nCloses-Bug: #1930723\nChange-Id: Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3\n""}]",15,793806,519a3bf1edf0f3a63b12a8da2d51c5ca25572006,53,8,4,8833,,,0,"Fix UPPER_CONSTRAINTS_FILE for ovb

We are facing issue as mentioned in attached Closes-Bug.

We have stable/2.0 branch for openstack-virtual-baremetal
project. Currently we don't have mapping for stable/2.0
to a Openstack branch because of this third party jobs are
trying a wrong URL for Upper constraints for stable/2.0 branch
and failing.

Closes-Bug: #1930723
Change-Id: Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/793806/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/common_vars.bash.j2'],1,ebfcdb769ebb781c587f65f83fd1dd594d57e6cf,," export ZUUL_BRANCH=""train"" if [ ""$ZUUL_BRANCH"" = ""stable/2.0"" -a ""$ZUUL_PROJECT"" = ""openstack/openstack-virtual-baremetal"" ]; then export ZUUL_BRANCH=""stable/wallaby"" export STABLE_RELEASE=""wallaby"" fi "," export ZUUL_BRANCH=""master""",7,2
openstack%2Fopenstack-ansible~master~I54aead1d83593e91a30025ed881ad18d2e674ed4,openstack/openstack-ansible,master,I54aead1d83593e91a30025ed881ad18d2e674ed4,Gather minimal facts in CI,MERGED,2021-05-06 11:30:13.000000000,2021-06-03 14:54:16.000000000,2021-06-03 14:51:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-06 11:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88ae9768387e0d5100f16e21fea3b3981d875c16', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 2, 'created': '2021-05-06 16:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d105db71b1ef5cacd1fc8d9c0a2660c5ffff1f6d', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 3, 'created': '2021-05-13 09:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf058843f6c3752e89a69b44e611e7ea859738c3', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 4, 'created': '2021-05-18 08:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/341c62a0eab88f36ada0c079be6be3d4c76ca8c0', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nWe should revert this patch after branching W\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 5, 'created': '2021-05-18 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/edc99562dd5e427cd7bba7e101b52b96f8035517', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nWe should revert this patch after branching W\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 6, 'created': '2021-05-18 16:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bb0add95ae862c20bc1e1730eb5c278548c889e4', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nWe should revert this patch after branching W\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 7, 'created': '2021-05-18 19:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9631cc0bb3bfc497d3c51fd14a76d101360fb3bc', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nWe should revert this patch after branching W\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}, {'number': 8, 'created': '2021-06-01 09:29:54.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8e58ca260f7a41ed98cbbb17ba7ee23386af2277', 'message': ""Gather minimal facts in CI\n\nSince we're gathering only min facts in production deployments,\nCI should match that in order to find outstanding issues\nwhere facts are missing.\n\nWe should revert this patch after branching W\n\nChange-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4\n""}]",0,790042,8e58ca260f7a41ed98cbbb17ba7ee23386af2277,23,3,8,28619,,,0,"Gather minimal facts in CI

Since we're gathering only min facts in production deployments,
CI should match that in order to find outstanding issues
where facts are missing.

We should revert this patch after branching W

Change-Id: I54aead1d83593e91a30025ed881ad18d2e674ed4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/790042/8 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,88ae9768387e0d5100f16e21fea3b3981d875c16,," ansible -m setup -a 'gather_subset=!all,min' hosts 2>${ANSIBLE_LOG_DIR}/facts-hosts.log ansible -m setup -a 'gather_subset=!all,min' all 1>${ANSIBLE_LOG_DIR}/facts-all.log"," ansible -m setup -a 'gather_subset=network,hardware,virtual' hosts 2>${ANSIBLE_LOG_DIR}/facts-hosts.log ansible -m setup -a 'gather_subset=network,hardware,virtual' all 1>${ANSIBLE_LOG_DIR}/facts-all.log",2,2
openstack%2Fopenstack-ansible-os_neutron~master~Iff2017d4fbc5ede0686afa20998f0b1f0c00470e,openstack/openstack-ansible-os_neutron,master,Iff2017d4fbc5ede0686afa20998f0b1f0c00470e,Use neutron_conf_dir for absent policy removal,MERGED,2021-04-28 14:16:59.000000000,2021-06-03 14:44:30.000000000,2021-06-03 14:43:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-28 14:16:59.000000000', 'files': ['tasks/neutron_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2a846b3a2b8e12b99be3a674670bba28d14020fd', 'message': 'Use neutron_conf_dir for absent policy removal\n\nChange-Id: Iff2017d4fbc5ede0686afa20998f0b1f0c00470e\n'}]",0,788499,2a846b3a2b8e12b99be3a674670bba28d14020fd,24,3,1,28619,,,0,"Use neutron_conf_dir for absent policy removal

Change-Id: Iff2017d4fbc5ede0686afa20998f0b1f0c00470e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/99/788499/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_post_install.yml'],1,2a846b3a2b8e12b99be3a674670bba28d14020fd,," path: ""{{ neutron_conf_dir }}/policy.yaml"""," path: ""/etc/neutron/policy.yaml""",1,1
openstack%2Fopenstack-ansible-os_panko~master~I9e2e211c966f71dc047cdf92d9774e55c736d505,openstack/openstack-ansible-os_panko,master,I9e2e211c966f71dc047cdf92d9774e55c736d505,Fix wsgi_venv path for panko-api,MERGED,2021-06-02 10:05:48.000000000,2021-06-03 14:12:06.000000000,2021-06-03 14:06:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 10:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/8734c666cac9cc84c4fed2bc9c32418bad44ac9b', 'message': 'Fix wsgi_venv path for panko-api\n\nPrevious to this change the uwsgi config had virtualenv include /bin,\nleading to $venv/bin/bin in execution\n\nChange-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505\n'}, {'number': 2, 'created': '2021-06-02 10:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/15ff6a9a98ce42d8cce0f46a6cdf0f498e02893c', 'message': 'Fix wsgi_venv path for panko-api\n\nPrevious to this change the uwsgi config had virtualenv include /bin,\nleading to $venv/bin/bin in execution\n\nChange-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505\n'}, {'number': 3, 'created': '2021-06-02 10:16:06.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/b2056f6f4daf3ef94d2636f31310f3254e7ec2fd', 'message': 'Fix wsgi_venv path for panko-api\n\nPrevious to this change the uwsgi config had virtualenv include /bin,\nleading to $venv/bin/bin in execution\n\nChange-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505\n'}]",0,794195,b2056f6f4daf3ef94d2636f31310f3254e7ec2fd,10,3,3,28619,,,0,"Fix wsgi_venv path for panko-api

Previous to this change the uwsgi config had virtualenv include /bin,
leading to $venv/bin/bin in execution

Change-Id: I9e2e211c966f71dc047cdf92d9774e55c736d505
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/95/794195/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,8734c666cac9cc84c4fed2bc9c32418bad44ac9b,," 'wsgi_venv': panko_bin | dirname,"," 'wsgi_venv': panko_bin,",1,1
openstack%2Fcharm-octavia~master~I1bafd9eecb83aefb425bc5286f23d47c0885ac8e,openstack/charm-octavia,master,I1bafd9eecb83aefb425bc5286f23d47c0885ac8e,Enable OVN L4 provider from Victoria onward,MERGED,2021-05-11 06:41:06.000000000,2021-06-03 14:07:52.000000000,2021-06-03 14:07:52.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-11 06:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/27cb5790d28cd01d9aeb0404cb442b5d6479fbcf', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 2, 'created': '2021-05-11 08:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/371a3b4895dbe8a8f9c48f1494a0df97abb975ec', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri gates.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/572\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 3, 'created': '2021-05-12 08:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c5015f698b0adf9676dfcfc590fccaecd10603a5', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri gates.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/572\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 4, 'created': '2021-05-19 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9ac8fa62438cd9d8914a9819ef13b953217deae6', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri gates.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/572\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 5, 'created': '2021-05-21 00:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fa290bf0e185fc6446509c8795ea2bc4a4f94747', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri gates.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 6, 'created': '2021-05-21 02:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/42da086935a2fd4ddf05733acd26e26f8fbf1bad', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri gates.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 7, 'created': '2021-05-22 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c074d96fbcb35426f5440d9c1d2386ece59a2f75', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also excercized by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri OVS gate.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nCloses-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 8, 'created': '2021-05-25 04:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c1ffab90cc445c8e4e25127a2035738c8c7c9265', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also exercised by the\nfunctional tests.\n\nEnable Victoria gates and re-enable Ussuri OVS gate.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nRelated-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 9, 'created': '2021-06-02 09:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8ff0545706181011e6e19237beb79193f7b55686', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also exercised by the\nfunctional tests.\n\nEnable focal/groovy-victoria gates and re-enable Ussuri OVS gate.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nRelated-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 10, 'created': '2021-06-02 09:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bcd4c79419453eb38bd21caefd4cd8e54b11df57', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also exercised by the\nfunctional tests.\n\nEnable focal/groovy-victoria gates and re-enable Ussuri OVS gate.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nRelated-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 11, 'created': '2021-06-02 13:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2020bdd0f29f37e729741d3ff59ed4114b291648', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also exercised by the\nfunctional tests.\n\nEnable focal/groovy-victoria gates and re-enable Ussuri OVS gate.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/585\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nRelated-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}, {'number': 12, 'created': '2021-06-02 15:19:22.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'osci.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/templates/ussuri/octavia.conf', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/d5b9859741829adc403b8078999bbc9998ec6611', 'message': 'Enable OVN L4 provider from Victoria onward\n\nThe driver is unreliable at Ussuri.\n\nAlso ensure we restart the ovn-driver-agent when configuration is\nwritten to disk.\n\nEnsure Port Security is enabled as this is a requirement for\nreliable operation of the Amphora driver also exercised by the\nfunctional tests.\n\nEnable focal/groovy-victoria gates and re-enable Ussuri OVS gate.\n\nCloses-Bug: #1927960\nCloses-Bug: #1927962\nRelated-Bug: #1927959\nChange-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e\n'}]",11,790554,d5b9859741829adc403b8078999bbc9998ec6611,131,4,12,13686,,,0,"Enable OVN L4 provider from Victoria onward

The driver is unreliable at Ussuri.

Also ensure we restart the ovn-driver-agent when configuration is
written to disk.

Ensure Port Security is enabled as this is a requirement for
reliable operation of the Amphora driver also exercised by the
functional tests.

Enable focal/groovy-victoria gates and re-enable Ussuri OVS gate.

Closes-Bug: #1927960
Closes-Bug: #1927962
Related-Bug: #1927959
Change-Id: I1bafd9eecb83aefb425bc5286f23d47c0885ac8e
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/54/790554/10 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/octavia.py', 'src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/templates/ussuri/octavia.conf', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml']",16,27cb5790d28cd01d9aeb0404cb442b5d6479fbcf,charm-octavia, enable-ml2-port-security: True,,24,160
openstack%2Frequirements~master~Id8e5a423288ac6db3b836ae553d766e5f04b4dec,openstack/requirements,master,Id8e5a423288ac6db3b836ae553d766e5f04b4dec,Fix requirements-check error message,MERGED,2021-05-31 14:32:27.000000000,2021-06-03 14:07:06.000000000,2021-06-03 14:02:27.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 14:32:27.000000000', 'files': ['openstack_requirements/check.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ecdc9721166057d6d89a225d70ffb3e5856c251', 'message': 'Fix requirements-check error message\n\nIf local exclusions are not a subset of global exclusions, we probably\nwant to identify any item in local exclusions that are not in global\nexclusions, instead of the opposite.\n\nChange-Id: Id8e5a423288ac6db3b836ae553d766e5f04b4dec\n'}]",0,793803,6ecdc9721166057d6d89a225d70ffb3e5856c251,10,3,1,15197,,,0,"Fix requirements-check error message

If local exclusions are not a subset of global exclusions, we probably
want to identify any item in local exclusions that are not in global
exclusions, instead of the opposite.

Change-Id: Id8e5a423288ac6db3b836ae553d766e5f04b4dec
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/793803/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_requirements/check.py'],1,6ecdc9721166057d6d89a225d70ffb3e5856c251,, difference = req_exclusions - global_exclusions, difference = global_exclusions - req_exclusions,1,1
openstack%2Fkayobe~master~Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec,openstack/kayobe,master,Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec,ntp: check for ntp group in inventory,MERGED,2021-05-27 14:19:51.000000000,2021-06-03 14:06:24.000000000,2021-06-03 14:04:16.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-27 14:19:51.000000000', 'files': ['ansible/time.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9d3045dbf0b6a45cd9c2dcb0a5fae8c8d81045f7', 'message': 'ntp: check for ntp group in inventory\n\nThe Wallaby release adds support for configuring a chrony daemon on\nhosts in the ntp group. The kolla chrony container is disabled by\ndefault, meaning that users could be left without an NTP client if they\nforget to add hosts to the ntp group.\n\nThis change adds a check for the existence of an ntp group in the\ninventory. The group may be empty.\n\nChange-Id: Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec\nStory: 2007872\nTask: 42533\n'}]",0,793414,9d3045dbf0b6a45cd9c2dcb0a5fae8c8d81045f7,8,3,1,14826,,,0,"ntp: check for ntp group in inventory

The Wallaby release adds support for configuring a chrony daemon on
hosts in the ntp group. The kolla chrony container is disabled by
default, meaning that users could be left without an NTP client if they
forget to add hosts to the ntp group.

This change adds a check for the existence of an ntp group in the
inventory. The group may be empty.

Change-Id: Ic0ff71bb11692eb6c5699a1673df2d16b8f894ec
Story: 2007872
Task: 42533
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/793414/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/time.yml'],1,9d3045dbf0b6a45cd9c2dcb0a5fae8c8d81045f7,,"- name: Ensure ntp group exists hosts: all gather_facts: no tags: - ntp tasks: - name: Ensure ntp group exists fail: msg: >- The 'ntp' group does not exist in the Ansible inventory. run_once: true when: - ""'ntp' not in groups"" - not kolla_enable_chrony | bool ",,15,0
openstack%2Fnova~stable%2Fqueens~Id4ebb06e634a612c8be4be6c678d8265e0b99730,openstack/nova,stable/queens,Id4ebb06e634a612c8be4be6c678d8265e0b99730,Update pci stat pools based on PCI device changes,MERGED,2020-11-08 01:29:55.000000000,2021-06-03 14:05:42.000000000,2021-06-03 14:00:38.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-08 01:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99dea29f8128554dcaa6a9228d98b4307f8c4a82', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n      nova/tests/unit/virt/libvirt/fakelibvirt.py\n\nTo make the functional test working, lot of patches need to be\nbackported. The functional test is removed in this patch and\nhence the conflicts.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n'}, {'number': 2, 'created': '2021-05-25 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4840c2efee02cdd00398762e60cf722c95ea24c6', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n    nova/tests/unit/virt/libvirt/fakelibvirt.py\n\nThe functional test requires to skip the capabilities of pci\ndevice. This can be done by getting capability template out of\npci_dev_template [1] which is introduced by commit\nb927748c257e705903c2aa0ffa47b19914e31ede. Not able to clean\nbackport the mentioned commit and so removed funtional test\ncase.\n\n[1] https://opendev.org/openstack/nova/src/commit/b0a451d4289dae2086b730fde6b0c7b30f3da2e8/nova/tests/unit/virt/libvirt/fakelibvirt.py#L186\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)\n(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)\n(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)\n(cherry picked from commit 73e631862a81e85fdf9305f3d15b201d780c8743)\n(cherry picked from commit 1fb4cc03e315f5b4dbebc521f0d1299273c7c396)\n'}, {'number': 3, 'created': '2021-05-25 10:47:17.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/420df86e23acf050e78b64315f1058ae9704c6d0', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)\n(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)\n(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)\n(cherry picked from commit 73e631862a81e85fdf9305f3d15b201d780c8743)\n(cherry picked from commit 1fb4cc03e315f5b4dbebc521f0d1299273c7c396)\n'}]",0,761825,420df86e23acf050e78b64315f1058ae9704c6d0,24,16,3,10366,,,0,"Update pci stat pools based on PCI device changes

At start up of nova-compute service, the PCI stat pools are
populated based on information in pci_devices table in Nova
database. The pools are updated only when new device is added
or removed but not on any device changes like device type.

If an existing device is configured as SRIOV and nova-compute
is restarted, the pci_devices table gets updated but the device
is still listed under the old pool in pci_tracker.stats.pool
(in-memory object).

This patch looks for device type updates in existing devices
and updates the pools accordingly.

Change-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730
Closes-Bug: #1892361
(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)
(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)
(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)
(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)
(cherry picked from commit 73e631862a81e85fdf9305f3d15b201d780c8743)
(cherry picked from commit 1fb4cc03e315f5b4dbebc521f0d1299273c7c396)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/761825/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/pci/stats.py']",4,99dea29f8128554dcaa6a9228d98b4307f8c4a82,bug/1892361," def _get_pool_with_device_type_mismatch(self, dev): """"""Check for device type mismatch in the pools for a given device. Return (pool, device) if device type does not match or a single None if the device type matches. """""" for pool in self.pools: for device in pool['devices']: if device.address == dev.address: if dev.dev_type != pool[""dev_type""]: return pool, device return None return None def update_device(self, dev): """"""Update a device to its matching pool."""""" pool_device_info = self._get_pool_with_device_type_mismatch(dev) if pool_device_info is None: return pool, device = pool_device_info pool['devices'].remove(device) self._decrease_pool_count(self.pools, pool) self.add_device(dev) ",,63,0
openstack%2Frequirements~master~I6465368bab8b37373cccea725bee4e4fafda886a,openstack/requirements,master,I6465368bab8b37373cccea725bee4e4fafda886a,update constraint for os-brick to new release 4.4.0,MERGED,2021-06-03 09:19:21.000000000,2021-06-03 14:05:21.000000000,2021-06-03 14:01:14.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 09:19:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc4b454ceaa9ffbc8de0ec170f0c14ed320aa093', 'message': 'update constraint for os-brick to new release 4.4.0\n\nmeta: version: 4.4.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: I82f3fcac8bd30c48dce2effcb3f8a59be919de6b\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I6465368bab8b37373cccea725bee4e4fafda886a\n'}]",0,794521,dc4b454ceaa9ffbc8de0ec170f0c14ed320aa093,9,3,1,11131,,,0,"update constraint for os-brick to new release 4.4.0

meta: version: 4.4.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: I82f3fcac8bd30c48dce2effcb3f8a59be919de6b
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I6465368bab8b37373cccea725bee4e4fafda886a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/794521/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dc4b454ceaa9ffbc8de0ec170f0c14ed320aa093,new-release,os-brick===4.4.0,os-brick===4.3.1,1,1
openstack%2Frequirements~stable%2Fvictoria~Ib18d07b25640315b3f46f9741e64e99216cb299f,openstack/requirements,stable/victoria,Ib18d07b25640315b3f46f9741e64e99216cb299f,update constraint for os-collect-config to new release 12.0.2,MERGED,2021-06-03 10:19:55.000000000,2021-06-03 14:01:44.000000000,2021-06-03 14:01:44.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 10:19:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/69e57895e0abe42fe05787d0f605f2814bb643e7', 'message': 'update constraint for os-collect-config to new release 12.0.2\n\nmeta: version: 12.0.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ib18d07b25640315b3f46f9741e64e99216cb299f\n'}]",0,794557,69e57895e0abe42fe05787d0f605f2814bb643e7,8,3,1,11131,,,0,"update constraint for os-collect-config to new release 12.0.2

meta: version: 12.0.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: Ib18d07b25640315b3f46f9741e64e99216cb299f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/794557/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,69e57895e0abe42fe05787d0f605f2814bb643e7,new-release,os-collect-config===12.0.2,os-collect-config===12.0.1,1,1
openstack%2Frequirements~stable%2Fvictoria~Iac622ba3b8cdfc3170cb6fe9262f427cd5deb07e,openstack/requirements,stable/victoria,Iac622ba3b8cdfc3170cb6fe9262f427cd5deb07e,update constraint for os-refresh-config to new release 12.0.1,MERGED,2021-06-03 10:23:52.000000000,2021-06-03 14:01:37.000000000,2021-06-03 14:01:37.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 10:23:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d0c429161ee78e9aba7031ed4748d34aba0da065', 'message': 'update constraint for os-refresh-config to new release 12.0.1\n\nmeta: version: 12.0.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: Iac622ba3b8cdfc3170cb6fe9262f427cd5deb07e\n'}]",0,794559,d0c429161ee78e9aba7031ed4748d34aba0da065,8,3,1,11131,,,0,"update constraint for os-refresh-config to new release 12.0.1

meta: version: 12.0.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: Iac622ba3b8cdfc3170cb6fe9262f427cd5deb07e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/794559/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d0c429161ee78e9aba7031ed4748d34aba0da065,new-release,os-refresh-config===12.0.1,os-refresh-config===12.0.0,1,1
openstack%2Frequirements~stable%2Fvictoria~I162bac86048115605b8ed19f8d6f31cd176b76b2,openstack/requirements,stable/victoria,I162bac86048115605b8ed19f8d6f31cd176b76b2,update constraint for tripleo-common to new release 13.2.1,MERGED,2021-06-03 10:25:07.000000000,2021-06-03 14:01:04.000000000,2021-06-03 14:01:04.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 10:25:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/36ba017b84277d2268d4584b13a1a68c0791bfa5', 'message': 'update constraint for tripleo-common to new release 13.2.1\n\nmeta: version: 13.2.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I162bac86048115605b8ed19f8d6f31cd176b76b2\n'}]",0,794560,36ba017b84277d2268d4584b13a1a68c0791bfa5,8,3,1,11131,,,0,"update constraint for tripleo-common to new release 13.2.1

meta: version: 13.2.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I162bac86048115605b8ed19f8d6f31cd176b76b2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/794560/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,36ba017b84277d2268d4584b13a1a68c0791bfa5,new-release,tripleo-common===13.2.1,tripleo-common===13.2.0,1,1
openstack%2Fbifrost~master~Iba65db45942c9088c18a0fc8965844d2322b22e3,openstack/bifrost,master,Iba65db45942c9088c18a0fc8965844d2322b22e3,[DNM] Test CI,ABANDONED,2021-06-03 12:25:50.000000000,2021-06-03 14:00:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 12:25:50.000000000', 'files': ['scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f8635ede6e4d33cbb2d94564a5edcdb05cc7b869', 'message': '[DNM] Test CI\n\nChange-Id: Iba65db45942c9088c18a0fc8965844d2322b22e3\n'}]",0,794576,f8635ede6e4d33cbb2d94564a5edcdb05cc7b869,3,1,1,23851,,,0,"[DNM] Test CI

Change-Id: Iba65db45942c9088c18a0fc8965844d2322b22e3
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/794576/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/test-bifrost.sh'],1,f8635ede6e4d33cbb2d94564a5edcdb05cc7b869,test-ci,# THIS IS A TEST ,,2,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Ib5aaa7575f2f6fa4a3838134800b78d76f2658db,openstack/openstack-ansible-lxc_hosts,master,Ib5aaa7575f2f6fa4a3838134800b78d76f2658db,Add upgrade jobs,MERGED,2021-06-02 15:27:25.000000000,2021-06-03 13:56:52.000000000,2021-06-03 13:52:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 15:27:25.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/352a7f87ca2ea6d307107a432334190af9a9cf72', 'message': ""Add upgrade jobs\n\nWith previous commit we accidentally removed upgrade jobs, since\nthey're not explicitly included into deploy template\n\nChange-Id: Ib5aaa7575f2f6fa4a3838134800b78d76f2658db\n""}]",0,794255,352a7f87ca2ea6d307107a432334190af9a9cf72,8,3,1,28619,,,0,"Add upgrade jobs

With previous commit we accidentally removed upgrade jobs, since
they're not explicitly included into deploy template

Change-Id: Ib5aaa7575f2f6fa4a3838134800b78d76f2658db
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/55/794255/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,352a7f87ca2ea6d307107a432334190af9a9cf72,, - openstack-ansible-upgrade-infra_lxc-jobs,,1,0
openstack%2Fhorizon~master~I878250316e9754a4b52dceb0bdd8f7e092510c9c,openstack/horizon,master,I878250316e9754a4b52dceb0bdd8f7e092510c9c,Imported Translations from Zanata,MERGED,2021-06-01 06:52:05.000000000,2021-06-03 13:51:22.000000000,2021-06-03 13:49:17.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-01 06:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b041abc000be7f0d705dfab25c87b30817515c25', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I878250316e9754a4b52dceb0bdd8f7e092510c9c\n'}, {'number': 2, 'created': '2021-06-02 06:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ca852b469431a91527e513e2c1ab1218c5765b55', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I878250316e9754a4b52dceb0bdd8f7e092510c9c\n'}, {'number': 3, 'created': '2021-06-03 06:53:35.000000000', 'files': ['horizon/locale/es/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/es/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ba5dd7c55f474f1b6ddca70f6129f3f5619000d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I878250316e9754a4b52dceb0bdd8f7e092510c9c\n'}]",0,793892,8ba5dd7c55f474f1b6ddca70f6129f3f5619000d,12,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I878250316e9754a4b52dceb0bdd8f7e092510c9c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/793892/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",4,b041abc000be7f0d705dfab25c87b30817515c25,zanata/translations,"""POT-Creation-Date: 2021-06-01 05:39+0000\n""","""POT-Creation-Date: 2021-05-17 07:15+0000\n""""``Roles assignments`` tab displaying all the roles that the users have on "" ""project or domain, directly or throw their membership to a group. When the "" ""role comes from a membership to a group this will be indicated into the role "" ""column."" msgstr """" ""``Roles assignments`` tab displaying all the roles that the users have on "" ""project or domain, directly or throw their membership to a group. When the "" ""role comes from a membership to a group this will be indicated into the role "" ""column."" msgid """"""``Users`` tab displaying all users which have roles on the project (and "" ""their roles on it), including users which have roles on the project throw "" ""their membership to a group."" msgstr """" ""``Users`` tab displaying all users which have roles on the project (and "" ""their roles on it), including users which have roles on the project throw "" ""their membership to a group."" msgid """"",379,163
openstack%2Fopenstack-ansible-lxc_container_create~master~I5a0d18744d0f9102fb4f8866043bcd8e2d4cc0d8,openstack/openstack-ansible-lxc_container_create,master,I5a0d18744d0f9102fb4f8866043bcd8e2d4cc0d8,Add upgrade jobs,MERGED,2021-06-02 15:29:24.000000000,2021-06-03 13:50:55.000000000,2021-06-03 13:47:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 15:29:24.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/0beb7cebf7b6ecab40825da9864043006fd9cfc1', 'message': ""Add upgrade jobs\n\nWith previous commit we accidentally removed upgrade jobs, since\nthey're not explicitly included into deploy template\n\nChange-Id: I5a0d18744d0f9102fb4f8866043bcd8e2d4cc0d8\n""}]",0,794256,0beb7cebf7b6ecab40825da9864043006fd9cfc1,8,3,1,28619,,,0,"Add upgrade jobs

With previous commit we accidentally removed upgrade jobs, since
they're not explicitly included into deploy template

Change-Id: I5a0d18744d0f9102fb4f8866043bcd8e2d4cc0d8
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/56/794256/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0beb7cebf7b6ecab40825da9864043006fd9cfc1,, - openstack-ansible-upgrade-infra_lxc-jobs,,1,0
openstack%2Fmanila~stable%2Fwallaby~I8aa196c171bbc224cec06f517ea22c4e91cbc06a,openstack/manila,stable/wallaby,I8aa196c171bbc224cec06f517ea22c4e91cbc06a,Fix with_entities usage in db queries,MERGED,2021-05-21 19:11:40.000000000,2021-06-03 13:49:21.000000000,2021-06-03 13:46:32.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-21 19:11:40.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7116f839e297a10ef99804d9b811d58cb3de5380', 'message': 'Fix with_entities usage in db queries\n\nIn order to retrieve shares with filters\npertaining to separate tables (shares, instances, metadata,\netc), we need to perform joined loads of those\nrespective database tables as necessary. After the\njoin, the query cannot select entities due to\nGithub issue #6253 - The following is an error when\nthe pattern is used:\n\nsqlalchemy.exc.ArgumentError: Query has only expression-based entities - can\'t find property named ""share_metadata"".\n\nsqlalchemy 1.4 has a performance improvement that\ndelays query processing [2] and disallows this\npattern of usage; we can use a query.count() instead.\n\nIn another instance, we can perform joins selectively\nonly if asked for.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/625\n[2] https://docs.sqlalchemy.org/en/14/changelog/migration_14.html#many-core-and-orm-statement-objects-now-perform-much-of-their-construction-and-validation-in-the-compile-phase\n\nChange-Id: I8aa196c171bbc224cec06f517ea22c4e91cbc06a\nCloses-Bug: #1926399\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 6ace54c2601770a0e06418ce5b98c756c86f6a51)\n'}]",0,792663,7116f839e297a10ef99804d9b811d58cb3de5380,26,2,1,16643,,,0,"Fix with_entities usage in db queries

In order to retrieve shares with filters
pertaining to separate tables (shares, instances, metadata,
etc), we need to perform joined loads of those
respective database tables as necessary. After the
join, the query cannot select entities due to
Github issue #6253 - The following is an error when
the pattern is used:

sqlalchemy.exc.ArgumentError: Query has only expression-based entities - can't find property named ""share_metadata"".

sqlalchemy 1.4 has a performance improvement that
delays query processing [2] and disallows this
pattern of usage; we can use a query.count() instead.

In another instance, we can perform joins selectively
only if asked for.

[1] https://github.com/sqlalchemy/sqlalchemy/issues/625
[2] https://docs.sqlalchemy.org/en/14/changelog/migration_14.html#many-core-and-orm-statement-objects-now-perform-much-of-their-construction-and-validation-in-the-compile-phase

Change-Id: I8aa196c171bbc224cec06f517ea22c4e91cbc06a
Closes-Bug: #1926399
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 6ace54c2601770a0e06418ce5b98c756c86f6a51)
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/792663/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,7116f839e297a10ef99804d9b811d58cb3de5380,bug/1926399," count = query.count() context, models.ShareGroupSnapshot, session=session, read_deleted='no') return query.options( joinedload('share_group'), joinedload('share_group_snapshot_members') ).all()","from sqlalchemy.sql import distinct count = query.with_entities( func.count(distinct(models.Share.id))).scalar() context, models.ShareGroupSnapshot, session=session, read_deleted='no', ).options( joinedload('share_group'), joinedload('share_group_snapshot_members'), ) return query.all()",6,9
openstack%2Fbifrost~master~I17363c28484cc6faf54782f40e56635655b3827f,openstack/bifrost,master,I17363c28484cc6faf54782f40e56635655b3827f,Fix upper-constraints branch reference,ABANDONED,2021-06-03 13:37:38.000000000,2021-06-03 13:38:26.000000000,,[],"[{'number': 1, 'created': '2021-06-03 13:37:38.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/77d7368a28badc29f04d6794949fac76c9886833', 'message': 'Fix upper-constraints branch reference\n\nWe should really use wallaby for the stable/wallaby branch by default\n\nChange-Id: I17363c28484cc6faf54782f40e56635655b3827f\n'}]",0,794588,77d7368a28badc29f04d6794949fac76c9886833,2,0,1,23851,,,0,"Fix upper-constraints branch reference

We should really use wallaby for the stable/wallaby branch by default

Change-Id: I17363c28484cc6faf54782f40e56635655b3827f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/88/794588/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,77d7368a28badc29f04d6794949fac76c9886833,heads/origin/stable/wallaby,BRANCH=${ZUUL_BRANCH:-wallaby},BRANCH=${ZUUL_BRANCH:-master},1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib38a1954a2ec70f2b106105b446477773569f704,openstack/tripleo-heat-templates,stable/train,Ib38a1954a2ec70f2b106105b446477773569f704,DNM: test fix for network_cidrs,ABANDONED,2021-05-20 13:11:27.000000000,2021-06-03 13:34:44.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-05-20 13:11:27.000000000', 'files': ['network/network.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb6decccd857fb4692df3fcea3da1accbcabd524', 'message': 'DNM: test fix for network_cidrs\n\nChange-Id: Ib38a1954a2ec70f2b106105b446477773569f704\n'}]",9,792372,eb6decccd857fb4692df3fcea3da1accbcabd524,16,6,1,23811,,,0,"DNM: test fix for network_cidrs

Change-Id: Ib38a1954a2ec70f2b106105b446477773569f704
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/792372/1 && git format-patch -1 --stdout FETCH_HEAD,['network/network.j2'],1,eb6decccd857fb4692df3fcea3da1accbcabd524,, - {get_param: {{network.name}}NetCidr} - {get_param: {{network.name}}SubnetCidr_{{subnet}}}," list_concat: if: - manage_networks - - - {get_attr: [{{network.name}}Subnet, cidr]} - - {get_attr: [{{network.name}}Subnet_{{subnet}}, cidr]} {%- endfor %} - - {%- if network.ipv6 or ipv6_override %} - {{network.ipv6_subnet|default(network.ip_subnet|default(""""))}} {%- else %} - ""{{network.ip_subnet|default("""")}}"" {%- endif %} - {%- for subnet in network.subnets|default({}) if network.subnets[subnet].enabled|default(true) %} {%- if network.ipv6 or ipv6_override %} - ""{{network.subnets[subnet]['ipv6_subnet']|default(network.subnets[subnet]['ip_subnet']|default(""""))}}"" {%- else %} - ""{{network.subnets[subnet]['ip_subnet']|default("""")}}"" {%- endif %}",2,20
openstack%2Fpuppet-tripleo~stable%2Ftrain~I21d2b8f2e267a6f330cc423572b068e3910cacc4,openstack/puppet-tripleo,stable/train,I21d2b8f2e267a6f330cc423572b068e3910cacc4,Use puppet-openstack-module-unit-jobs to define unit test jobs,ABANDONED,2021-04-23 14:38:14.000000000,2021-06-03 13:28:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 14:38:14.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1dbaa1056a6a6f090196879e8e8e3c3311bb7c8a', 'message': 'Use puppet-openstack-module-unit-jobs to define unit test jobs\n\nThis patch replaces puppet-tripleo-module-unit-jobs by the common\njob definition, puppet-openstack-module-unit-jobs, so that we run\nunit test jobs which is consistent with the other puppet modules.\n\nBy merging this changes, we expect that the following change is made\nto the current job definitions\n- CentOS8 jobs are added.\n- Replace puppet 6.0 job by puppet 6.4 job\n- Add puppet 6.4 job on CentOS8\n\nBackport note:\nThe above descriptions were adjusted to reflect status of Train.\n\nConflicts:\n\tzuul.d/layout.yaml\n\nChange-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4\n(cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b)\n(cherry picked from commit c04b6b52e6f63eacc8ed62a7566722de01dd1e03)\n'}]",1,787762,1dbaa1056a6a6f090196879e8e8e3c3311bb7c8a,10,2,1,9816,,,0,"Use puppet-openstack-module-unit-jobs to define unit test jobs

This patch replaces puppet-tripleo-module-unit-jobs by the common
job definition, puppet-openstack-module-unit-jobs, so that we run
unit test jobs which is consistent with the other puppet modules.

By merging this changes, we expect that the following change is made
to the current job definitions
- CentOS8 jobs are added.
- Replace puppet 6.0 job by puppet 6.4 job
- Add puppet 6.4 job on CentOS8

Backport note:
The above descriptions were adjusted to reflect status of Train.

Conflicts:
	zuul.d/layout.yaml

Change-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4
(cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b)
(cherry picked from commit c04b6b52e6f63eacc8ed62a7566722de01dd1e03)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/787762/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1dbaa1056a6a6f090196879e8e8e3c3311bb7c8a,zuul-ut, - puppet-openstack-module-unit-jobs,- project-template: name: puppet-tripleo-module-unit-jobs check: jobs: - puppet-openstack-unit-5.5-centos-7 - puppet-openstack-unit-6.0-ubuntu-bionic - puppet-openstack-unit-latest-ubuntu-bionic: voting: false gate: jobs: - puppet-openstack-unit-5.5-centos-7 - puppet-openstack-unit-6.0-ubuntu-bionic ,1,13
openstack%2Ftripleo-quickstart-extras~master~I8835a030a18ec16443dbe7b6f76812c102c0f895,openstack/tripleo-quickstart-extras,master,I8835a030a18ec16443dbe7b6f76812c102c0f895,Add releases.openstack.org to hosts file for IPA job,MERGED,2021-06-01 16:50:40.000000000,2021-06-03 13:15:34.000000000,2021-06-03 13:15:34.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-06-01 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/05802432c3f9fe2162f606af3c4c2ad045c20bed', 'message': 'Add releases.openstack.org to hosts file for IPA job\n\nFor cloud providers that do not resolve DNS names,\nadd the host record privided by the public\nname server for releases.openstack.org.\n\nChange-Id: I8835a030a18ec16443dbe7b6f76812c102c0f895\n'}, {'number': 2, 'created': '2021-06-01 19:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1d5651f68ccdb1545af37a528484d161a10b29e', 'message': 'Add releases.openstack.org to hosts file for IPA job\n\nFor cloud providers that do not resolve DNS names,\nadd the host record privided by the public\nname server for releases.openstack.org.\n\nChange-Id: I8835a030a18ec16443dbe7b6f76812c102c0f895\n'}, {'number': 3, 'created': '2021-06-02 12:08:51.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d605fd025ff918d01406798cf1c1b2d7fd205590', 'message': 'Add releases.openstack.org to hosts file for IPA job\n\nFor cloud providers that do not resolve DNS names,\nadd the host record privided by the public\nname server for releases.openstack.org.\n\nChange-Id: I8835a030a18ec16443dbe7b6f76812c102c0f895\n'}]",0,794008,d605fd025ff918d01406798cf1c1b2d7fd205590,13,6,3,9976,,,0,"Add releases.openstack.org to hosts file for IPA job

For cloud providers that do not resolve DNS names,
add the host record privided by the public
name server for releases.openstack.org.

Change-Id: I8835a030a18ec16443dbe7b6f76812c102c0f895
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/08/794008/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'],1,05802432c3f9fe2162f606af3c4c2ad045c20bed,ipa-openstack-releases,"- name: Register A record resolved by public nameserver - releases.openstack.org shell: > dig +short @{{ trunk_public_nameserver }} releases.openstack.org register: releases_record_public - name: Return A record resolved by public nameserver - releases.openstack.org debug: msg: ""{{ releases_record_public.stdout_lines[1] }}"" - name: Register A record resolved by public nameserver - redhat.com shell: > dig +short @{{ trunk_public_nameserver }} redhat.com register: redhat_record_public - name: Return A record resolved by public nameserver - redhat.com debug: msg: ""{{ redhat_record_public.stdout_lines[1] }}"" - '{{ redhat_record_public.stdout_lines[1] }} redhat.com' - '{{ releases_record_public.stdout_lines[1] }} releases.openstack.org'", - '209.132.183.105 redhat.com',20,1
openstack%2Fnova~stable%2Fwallaby~If02e3811ffa6a81add833593e1bd7c66af08216e,openstack/nova,stable/wallaby,If02e3811ffa6a81add833593e1bd7c66af08216e,[stable-only] Fix ceph install in live migration hook,ABANDONED,2021-06-01 15:56:22.000000000,2021-06-03 13:14:43.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 15:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/908721df5874b05bf3166db79428df618374a464', 'message': 'DNM: test ceph checkout with branch\n\nChange-Id: If02e3811ffa6a81add833593e1bd7c66af08216e\n'}, {'number': 2, 'created': '2021-06-02 10:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2216d9bee730e7769b5207177a207ce8246aab3d', 'message': ""[stable-only] Fix ceph install in live migration hook\n\nIn order to install the correct version of ceph in live migration job\nhook, we have to use the right branch from devstack-plugin-ceph\nrepository.\n\nThis patch purpose is to avoid the following error:\n\n'Error EPERM: configuring pool size as 1 is disabled by default.'\n\nWhich started to appear on stable/wallaby, stable/victoria and\nstable/ussuri in jobs nova-grenade-multinode when Ceph 'pacific' was\nreleased.\n\nNOTE: this patch is applicable only in the above mentioned stable\nbranches, because current master (xena) uses already the zuul v3 jobs,\nthat does not contain this ceph hook anymore, and older branches\nhave the patch I1d029ebe78b16ed2d4345201b515baf3701533d5, which pins\nCeph version.\n\nChange-Id: If02e3811ffa6a81add833593e1bd7c66af08216e\n""}, {'number': 3, 'created': '2021-06-02 18:31:32.000000000', 'files': ['gate/live_migration/hooks/ceph.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/41c2c0a1daa747cff8a911d797cedc84dffba856', 'message': ""[stable-only] Fix ceph install in live migration hook\n\nIn order to install the correct version of ceph in live migration job\nhook, we have to use the right branch from devstack-plugin-ceph\nrepository.\n\nThis patch purpose is to avoid the following error:\n\n'Error EPERM: configuring pool size as 1 is disabled by default.'\n\nWhich started to appear on stable/wallaby, stable/victoria and\nstable/ussuri in jobs nova-grenade-multinode when Ceph 'pacific' was\nreleased.\n\nNOTE: this patch is applicable only in the above mentioned stable\nbranches, because current master (xena) uses already the zuul v3 jobs,\nthat does not contain this ceph hook anymore, and older branches\nhave the patch I1d029ebe78b16ed2d4345201b515baf3701533d5, which pins\nCeph version.\n\nChange-Id: If02e3811ffa6a81add833593e1bd7c66af08216e\n""}]",12,794000,41c2c0a1daa747cff8a911d797cedc84dffba856,30,2,3,17685,,,0,"[stable-only] Fix ceph install in live migration hook

In order to install the correct version of ceph in live migration job
hook, we have to use the right branch from devstack-plugin-ceph
repository.

This patch purpose is to avoid the following error:

'Error EPERM: configuring pool size as 1 is disabled by default.'

Which started to appear on stable/wallaby, stable/victoria and
stable/ussuri in jobs nova-grenade-multinode when Ceph 'pacific' was
released.

NOTE: this patch is applicable only in the above mentioned stable
branches, because current master (xena) uses already the zuul v3 jobs,
that does not contain this ceph hook anymore, and older branches
have the patch I1d029ebe78b16ed2d4345201b515baf3701533d5, which pins
Ceph version.

Change-Id: If02e3811ffa6a81add833593e1bd7c66af08216e
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/794000/2 && git format-patch -1 --stdout FETCH_HEAD,['gate/live_migration/hooks/ceph.sh'],1,908721df5874b05bf3166db79428df618374a464,ceph-error-eperm, git clone https://opendev.org/openstack/devstack-plugin-ceph /tmp/devstack-plugin-ceph -b $ZUUL_BRANCH, git clone https://opendev.org/openstack/devstack-plugin-ceph /tmp/devstack-plugin-ceph,1,1
openstack%2Fbifrost~bugfix%2F11.0~Iff401531c74eee9db46f5843b4749b7e81a23321,openstack/bifrost,bugfix/11.0,Iff401531c74eee9db46f5843b4749b7e81a23321,Update .gitreview for bugfix/11.0,MERGED,2021-06-03 09:59:07.000000000,2021-06-03 12:57:49.000000000,2021-06-03 12:56:27.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-03 09:59:07.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/20c56f866eba08d7b63956c59e37554627cd09fc', 'message': 'Update .gitreview for bugfix/11.0\n\nChange-Id: Iff401531c74eee9db46f5843b4749b7e81a23321\n'}]",0,794552,20c56f866eba08d7b63956c59e37554627cd09fc,7,2,1,22816,,,0,"Update .gitreview for bugfix/11.0

Change-Id: Iff401531c74eee9db46f5843b4749b7e81a23321
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/52/794552/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,20c56f866eba08d7b63956c59e37554627cd09fc,create-11.0,defaultbranch=bugfix/11.0,,1,0
openstack%2Fcinder~stable%2Fstein~Iecb3faad9270f969185089cc291127b340483a46,openstack/cinder,stable/stein,Iecb3faad9270f969185089cc291127b340483a46,Fix service-get-log to respect server filters,MERGED,2020-11-18 19:28:43.000000000,2021-06-03 12:54:19.000000000,2021-06-03 12:51:25.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30615}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-11-18 19:28:43.000000000', 'files': ['cinder/api/contrib/services.py', 'cinder/tests/unit/api/contrib/test_services.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/10495c56435fbba0808bd2f7a0d7e7f722e18d67', 'message': ""Fix service-get-log to respect server filters\n\nThe service-get-log command returns always the same output ignoring\nthe 'server' filters.\n\nThis fix avoid returning all the results when using the 'server' filter.\n\nHow to reproduce:\n'cinder  --os-volume-api-version 3.52 service-get-log\n--server localhost.localdomain@cep'\nreturn the same output than\n'cinder  --os-volume-api-version 3.52 service-get-log'\n\nAlso includes squash to fix unit test from:\nFix service_get_log tests\nChange-Id: I633e67efa4869816786011c3d093dc81e177010c\n\nChange-Id: Iecb3faad9270f969185089cc291127b340483a46\n(cherry picked from commit e793c5e24982e2f0d2bc3a681f5a1e3912af08b0)\n(cherry picked from commit 0f6b4cdcd4fc0fd4e6fe0e40772ad7d19d46f83c)\n(cherry picked from commit 915aab4dbba1a1399cbbfb90ac080f5d22a08a14)\n""}]",0,763250,10495c56435fbba0808bd2f7a0d7e7f722e18d67,29,18,1,20813,,,0,"Fix service-get-log to respect server filters

The service-get-log command returns always the same output ignoring
the 'server' filters.

This fix avoid returning all the results when using the 'server' filter.

How to reproduce:
'cinder  --os-volume-api-version 3.52 service-get-log
--server localhost.localdomain@cep'
return the same output than
'cinder  --os-volume-api-version 3.52 service-get-log'

Also includes squash to fix unit test from:
Fix service_get_log tests
Change-Id: I633e67efa4869816786011c3d093dc81e177010c

Change-Id: Iecb3faad9270f969185089cc291127b340483a46
(cherry picked from commit e793c5e24982e2f0d2bc3a681f5a1e3912af08b0)
(cherry picked from commit 0f6b4cdcd4fc0fd4e6fe0e40772ad7d19d46f83c)
(cherry picked from commit 915aab4dbba1a1399cbbfb90ac080f5d22a08a14)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/763250/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/services.py', 'cinder/tests/unit/api/contrib/test_services.py']",2,10495c56435fbba0808bd2f7a0d7e7f722e18d67,," def test_get_log_w_server_filter_same_host(self): server_filter = 'controller-0' CONF.set_override('host', server_filter) body = {'binary': constants.API_BINARY, 'server': server_filter} req = FakeRequest(version=mv.LOG_LEVEL) log_levels = self.controller._get_log( req=req, context=mock.sentinel.context, body=body) log_levels = log_levels['log_levels'] self.assertEqual(1, len(log_levels)) self.assertEqual('controller-0', log_levels[0]['host']) self.assertEqual('cinder-api', log_levels[0]['binary']) # since there are a lot of log levels, we just check if the key-value # exists for levels self.assertIsNotNone(log_levels[0]['levels']) def test_get_log_w_server_filter_different_host(self): server_filter = 'controller-0' CONF.set_override('host', 'controller-different-host') body = {'binary': constants.API_BINARY, 'server': server_filter} req = FakeRequest(version=mv.LOG_LEVEL) log_levels = self.controller._get_log( req=req, context=mock.sentinel.context, body=body) log_levels = log_levels['log_levels'] self.assertEqual(0, len(log_levels)) ",,37,5
openstack%2Fopenstack-ansible-lxc_container_create~master~Ifce5b9673319d077e57cdf8a28b182b57b7d4507,openstack/openstack-ansible-lxc_container_create,master,Ifce5b9673319d077e57cdf8a28b182b57b7d4507,Add Debian Bullseye support,MERGED,2021-06-01 07:44:40.000000000,2021-06-03 12:50:45.000000000,2021-06-03 12:49:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-01 07:44:40.000000000', 'files': ['tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/3834c32c0e65444d6e21871e1a290d48b694d9f8', 'message': 'Add Debian Bullseye support\n\nSwitching to proc:mixed improves container isolation and is not required\nfor Bullseye.\nBut cgroup:mixed is required for container to start, as it provides\nability for the container to manage own cgroups (but not parents).\n\nChange-Id: Ifce5b9673319d077e57cdf8a28b182b57b7d4507\n'}]",0,793896,3834c32c0e65444d6e21871e1a290d48b694d9f8,10,3,1,28619,,,0,"Add Debian Bullseye support

Switching to proc:mixed improves container isolation and is not required
for Bullseye.
But cgroup:mixed is required for container to start, as it provides
ability for the container to manage own cgroups (but not parents).

Change-Id: Ifce5b9673319d077e57cdf8a28b182b57b7d4507
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/96/793896/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_config.yml'],1,3834c32c0e65444d6e21871e1a290d48b694d9f8,osa/bullseye," line: ""lxc.mount.auto = proc:mixed sys:ro cgroup:mixed"" regexp: ""^lxc.mount.auto = proc:(rw|mixed) sys:ro cgroup:(ro|mixed)$"""," line: ""lxc.mount.auto = proc:rw sys:ro cgroup:ro"" regexp: ""^lxc.mount.auto = proc:rw sys:ro cgroup:ro$""",2,2
openstack%2Fneutron~master~If304d7c277850470448ca9bcd0f0bfd250ec001d,openstack/neutron,master,If304d7c277850470448ca9bcd0f0bfd250ec001d,Change minversion of tox to 3.18.0,MERGED,2021-05-18 14:42:50.000000000,2021-06-03 12:44:13.000000000,2021-06-03 12:40:59.000000000,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 14:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5fb7ce0ac30f522c5e0b171f4b22a9e4771fed3', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option.\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: If304d7c277850470448ca9bcd0f0bfd250ec001d\n'}, {'number': 2, 'created': '2021-05-19 13:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9960bbfa32d4c50ffe93fc78d6337d0b9f00a9c', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option.\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: If304d7c277850470448ca9bcd0f0bfd250ec001d\n'}, {'number': 3, 'created': '2021-05-21 08:06:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab0895fdf490fe2c058752819f84a311e5322e0a', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option.\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: If304d7c277850470448ca9bcd0f0bfd250ec001d\n'}]",0,791989,ab0895fdf490fe2c058752819f84a311e5322e0a,34,5,3,7634,,,0,"Change minversion of tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace whitelist_externals with allowlist_externals option.
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: If304d7c277850470448ca9bcd0f0bfd250ec001d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/791989/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f5fb7ce0ac30f522c5e0b171f4b22a9e4771fed3,update-min-tox,minversion = 3.18.0allowlist_externals = shallowlist_externals =allowlist_externals =allowlist_externals = sh,minversion = 3.2.0whitelist_externals = shwhitelist_externals =whitelist_externals =whitelist_externals = sh,5,5
openstack%2Fswift~master~I4ee8f9f3056f5425c82d3bb1f538049815697088,openstack/swift,master,I4ee8f9f3056f5425c82d3bb1f538049815697088,sharder: Send broker path as referer when updating root,MERGED,2021-05-27 17:53:41.000000000,2021-06-03 12:43:23.000000000,2021-06-03 12:41:15.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 17:53:41.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e495c3bbef1730fd78ed10cf01541d8986dea1e1', 'message': ""sharder: Send broker path as referer when updating root\n\nWhen we send object updates, we get the object name in the request path;\nlet's get something similar for shard updates. Referer has the benefit\nof already getting logged.\n\nChange-Id: I4ee8f9f3056f5425c82d3bb1f538049815697088\n""}]",0,793485,e495c3bbef1730fd78ed10cf01541d8986dea1e1,10,2,1,15343,,,0,"sharder: Send broker path as referer when updating root

When we send object updates, we get the object name in the request path;
let's get something similar for shard updates. Referer has the benefit
of already getting logged.

Change-Id: I4ee8f9f3056f5425c82d3bb1f538049815697088
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/793485/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,e495c3bbef1730fd78ed10cf01541d8986dea1e1,," broker.root_account, broker.root_container, shard_ranges, {'Referer': quote(broker.path)}):"," broker.root_account, broker.root_container, shard_ranges):",6,2
openstack%2Ftrove~master~I6d223f9d1a15a1ed0a0269730a544c321cf6595f,openstack/trove,master,I6d223f9d1a15a1ed0a0269730a544c321cf6595f,Don't create nova instances with fqdn as their name,MERGED,2021-05-13 00:54:56.000000000,2021-06-03 12:41:38.000000000,2021-06-03 12:39:41.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 00:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ea78a0bff1c41631283781a08bb6564afa5b5421', 'message': ""Don't create nova instances with fqdn as their name\n\nIf dns integration is enabled, a db instance's 'hostname'\nrefers to the dns-determined fqdn of a database instance. It will\nprobably be something like whatever.trove.example.org\n\nPassing that fqdn into nova gets us a VM whose hostname\nis whatever.trove.example.org. Presumably that host is itself\nin a domain, so we wind up with an fqdn on the VM of something like\nwhatever.trove.example.org.example.org. Seems wrong.\n\nFurthermore, if this is running in a cloud that already has\nautomatic DNS integration (a standard neutron/designate thing)\nthen we wind up trying to create a record in the 'example.org'\ndomain with the record name of whatever.trove.example.org\nwhich is likely to confuse designate along with human\nusers.\n\nChange-Id: I6d223f9d1a15a1ed0a0269730a544c321cf6595f\n""}, {'number': 2, 'created': '2021-05-13 00:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/aee83caded6860d29191310f3f48280010c053c0', 'message': ""Don't create nova instances with fqdn as their name\n\nIf dns integration is enabled, a db instance's 'hostname'\nrefers to the dns-determined fqdn of a database instance. It will\nprobably be something like whatever.trove.example.org\n\nPassing that fqdn into nova gets us a VM whose hostname\nis whatever.trove.example.org. Presumably that host is itself\nin a domain, so we wind up with an fqdn on the VM of something like\nwhatever.trove.example.org.example.org. Seems wrong.\n\nFurthermore, if this is running in a cloud that already has\nautomatic DNS integration (a standard neutron/designate thing)\nthen we wind up trying to create a record in the 'example.org'\ndomain with the record name of whatever.trove.example.org\nwhich is likely to confuse designate along with human\nusers.\n\nChange-Id: I6d223f9d1a15a1ed0a0269730a544c321cf6595f\n""}, {'number': 3, 'created': '2021-05-23 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b46a3501bfd1c44685ccd64d959106e747cc7633', 'message': ""Don't create nova instances with fqdn as their name\n\nIf dns integration is enabled, a db instance's 'hostname'\nrefers to the dns-determined fqdn of a database instance. It will\nprobably be something like whatever.trove.example.org\n\nPassing that fqdn into nova gets us a VM whose hostname\nis whatever.trove.example.org. Presumably that host is itself\nin a domain, so we wind up with an fqdn on the VM of something like\nwhatever.trove.example.org.example.org. Seems wrong.\n\nFurthermore, if this is running in a cloud that already has\nautomatic DNS integration (a standard neutron/designate thing)\nthen we wind up trying to create a record in the 'example.org'\ndomain with the record name of whatever.trove.example.org\nwhich is likely to confuse designate along with human\nusers.\n\nStory: 2008897\nTask: 42463\nChange-Id: I6d223f9d1a15a1ed0a0269730a544c321cf6595f\n""}, {'number': 4, 'created': '2021-05-23 15:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0ca3faaccdbb6af0fafff0ff305bac5b8feafaa7', 'message': ""Don't create nova instances with fqdn as their name\n\nIf dns integration is enabled, a db instance's 'hostname'\nrefers to the dns-determined fqdn of a database instance. It will\nprobably be something like whatever.trove.example.org\n\nPassing that fqdn into nova gets us a VM whose hostname\nis whatever.trove.example.org. Presumably that host is itself\nin a domain, so we wind up with an fqdn on the VM of something like\nwhatever.trove.example.org.example.org. Seems wrong.\n\nFurthermore, if this is running in a cloud that already has\nautomatic DNS integration (a standard neutron/designate thing)\nthen we wind up trying to create a record in the 'example.org'\ndomain with the record name of whatever.trove.example.org\nwhich is likely to confuse designate along with human\nusers.\n\nStory: 2008915\nTask: 42506\nChange-Id: I6d223f9d1a15a1ed0a0269730a544c321cf6595f\n""}, {'number': 5, 'created': '2021-05-31 22:34:34.000000000', 'files': ['trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/ac8fd38e5e3a16e00b5dc6aef4c6c1666989a3ba', 'message': ""Don't create nova instances with fqdn as their name\n\nIf dns integration is enabled, a db instance's 'hostname'\nrefers to the dns-determined fqdn of a database instance. It will\nprobably be something like whatever.trove.example.org\n\nPassing that fqdn into nova gets us a VM whose hostname\nis whatever.trove.example.org. Presumably that host is itself\nin a domain, so we wind up with an fqdn on the VM of something like\nwhatever.trove.example.org.example.org. Seems wrong.\n\nFurthermore, if this is running in a cloud that already has\nautomatic DNS integration (a standard neutron/designate thing)\nthen we wind up trying to create a record in the 'example.org'\ndomain with the record name of whatever.trove.example.org\nwhich is likely to confuse designate along with human\nusers.\n\nStory: 2008915\nTask: 42506\nChange-Id: I6d223f9d1a15a1ed0a0269730a544c321cf6595f\n""}]",0,791072,ac8fd38e5e3a16e00b5dc6aef4c6c1666989a3ba,24,2,5,12932,,,0,"Don't create nova instances with fqdn as their name

If dns integration is enabled, a db instance's 'hostname'
refers to the dns-determined fqdn of a database instance. It will
probably be something like whatever.trove.example.org

Passing that fqdn into nova gets us a VM whose hostname
is whatever.trove.example.org. Presumably that host is itself
in a domain, so we wind up with an fqdn on the VM of something like
whatever.trove.example.org.example.org. Seems wrong.

Furthermore, if this is running in a cloud that already has
automatic DNS integration (a standard neutron/designate thing)
then we wind up trying to create a record in the 'example.org'
domain with the record name of whatever.trove.example.org
which is likely to confuse designate along with human
users.

Story: 2008915
Task: 42506
Change-Id: I6d223f9d1a15a1ed0a0269730a544c321cf6595f
",git fetch https://review.opendev.org/openstack/trove refs/changes/72/791072/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py']",2,ea78a0bff1c41631283781a08bb6564afa5b5421,fqdn," @patch.object(taskmanager_models.FreshInstanceTasks, 'name', new_callable=PropertyMock, return_value='fake-name') def test_servers_create_block_device_mapping_v2(self, mock_hostname, mock_name): 'fake-name', 'fake-image',"," def test_servers_create_block_device_mapping_v2(self, mock_hostname): 'fake-hostname', 'fake-image',",6,4
openstack%2Fopenstack-ansible-openstack_hosts~master~I8e4b236e9fc0770010dc3a62c0767ebcbc084379,openstack/openstack-ansible-openstack_hosts,master,I8e4b236e9fc0770010dc3a62c0767ebcbc084379,Use appropriate osbpo repo for Bullseye,MERGED,2021-06-02 08:15:33.000000000,2021-06-03 12:39:00.000000000,2021-06-03 12:37:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-02 08:15:33.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6c144b6787f3a93b15fbfb9806d638c830e37148', 'message': 'Use appropriate osbpo repo for Bullseye\n\nChange-Id: I8e4b236e9fc0770010dc3a62c0767ebcbc084379\n'}]",0,794161,6c144b6787f3a93b15fbfb9806d638c830e37148,10,3,1,28619,,,0,"Use appropriate osbpo repo for Bullseye

Change-Id: I8e4b236e9fc0770010dc3a62c0767ebcbc084379
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/61/794161/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,6c144b6787f3a93b15fbfb9806d638c830e37148,osa/bullseye,"_osbpo_release: ""{{ hostvars[inventory_hostname]['ansible_facts']['distribution_major_version'] is version('10', '>') | ternary(openstack_distrib_code_name | lower, 'victoria') }}"" _package_repos: - repo: ""deb {{ apt_repo_url | default('http://osbpo.debian.net/osbpo/ ' ~ ansible_facts['distribution_release'] ~ '-' ~ _osbpo_release ~ '-backports main') }}"" - repo: ""deb {{ apt_repo_url | default('http://osbpo.debian.net/osbpo/ ' ~ ansible_facts['distribution_release'] ~ '-' ~ _osbpo_release ~ '-backports-nochange main') }}""","_package_repos: - repo: ""deb {{ apt_repo_url | default('http://osbpo.debian.net/osbpo/ ' ~ ansible_facts['distribution_release'] ~ '-victoria-backports main') }}"" - repo: ""deb {{ apt_repo_url | default('http://osbpo.debian.net/osbpo/ ' ~ ansible_facts['distribution_release'] ~ '-victoria-backports-nochange main') }}""",4,2
openstack%2Fvalidations-libs~master~I885dc131de6c4b8894f34c44879606a98890752a,openstack/validations-libs,master,I885dc131de6c4b8894f34c44879606a98890752a,Exposes the log path parameter to the CLI and allows for API override.,ABANDONED,2021-06-03 10:05:36.000000000,2021-06-03 12:17:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 10:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2c3ca19e6017153785624ae698ce6a009c46a953', 'message': 'Exposes the log path parameter to the CLI and allows for API override.\n\nLog path can now be set through the CL.\nDefault values remain the same.\nDefaults can be overrident trough inheritance of CLI classes.\n\nTest adjusted accordignly.\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I885dc131de6c4b8894f34c44879606a98890752a\n'}, {'number': 2, 'created': '2021-06-03 10:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/af9767d04b12c97cc5358a6592701fe8809429d9', 'message': 'Exposes the log path parameter to the CLI and allows for API override.\n\nLog path can now be set through the CL.\nDefault values remain the same.\nDefaults can be overrident trough inheritance of CLI classes.\n\nTest adjusted accordignly.\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I885dc131de6c4b8894f34c44879606a98890752a\n'}, {'number': 3, 'created': '2021-06-03 11:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0ede7fe1d63fec8f34ca4669a6f551c0b927b3af', 'message': 'Exposes the log path parameter to the CLI and allows for API override.\n\nLog path can now be set through the CL.\nDefault values remain the same.\nDefaults can be overrident trough inheritance of CLI classes.\n\nTest adjusted accordignly.\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I885dc131de6c4b8894f34c44879606a98890752a\n'}, {'number': 4, 'created': '2021-06-03 11:17:14.000000000', 'files': ['validations_libs/cli/history.py', 'validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5da1e1676e89ee602cdfbb01ddc8c1ae30ac326a', 'message': 'Exposes the log path parameter to the CLI and allows for API override.\n\nLog path can now be set through the CL.\nDefault values remain the same.\nDefaults can be overrident trough inheritance of CLI classes.\n\nTest adjusted accordignly.\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I885dc131de6c4b8894f34c44879606a98890752a\n'}]",2,794556,5da1e1676e89ee602cdfbb01ddc8c1ae30ac326a,8,1,4,32926,,,0,"Exposes the log path parameter to the CLI and allows for API override.

Log path can now be set through the CL.
Default values remain the same.
Defaults can be overrident trough inheritance of CLI classes.

Test adjusted accordignly.
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I885dc131de6c4b8894f34c44879606a98890752a
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/56/794556/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/history.py', 'validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py']",3,2c3ca19e6017153785624ae698ce6a009c46a953,validationlogpath/override,"from validations_libs import constants 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR} 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR} 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR} 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR} 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR} 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR} 'ssh_user': 'doe', 'log_path': constants.VALIDATIONS_LOG_BASEDIR}", 'ssh_user': 'doe'} 'ssh_user': 'doe'} 'ssh_user': 'doe'} 'ssh_user': 'doe'} 'ssh_user': 'doe'} 'ssh_user': 'doe'} 'ssh_user': 'doe'},60,28
openstack%2Fironic~stable%2Fussuri~I60787243fdc6ed2741522355ec79970bdb912f41,openstack/ironic,stable/ussuri,I60787243fdc6ed2741522355ec79970bdb912f41,Delete unavailable py2 package,MERGED,2021-05-25 14:31:59.000000000,2021-06-03 12:16:04.000000000,2021-06-03 12:13:52.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 14:31:59.000000000', 'files': ['doc/source/install/configure-tenant-networks.rst', 'doc/source/install/include/configure-ironic-api-mod_wsgi.inc', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/enabling-https.rst', 'doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/configure-cleaning.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/configure-pxe.rst', 'doc/source/admin/console.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/86a855d61bfe5b06eaed2c1e47e20ab1556a460d', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: I60787243fdc6ed2741522355ec79970bdb912f41\n(cherry picked from commit 35dea078974261e83f594e798855893401a53511)\n(cherry picked from commit 77be4c6c690cfa8f52a10ada2b9c1ecabccd423f)\n(cherry picked from commit 3258e49a5e4e6855e8f20c46c8f55eb234440946)\n'}]",0,792886,86a855d61bfe5b06eaed2c1e47e20ab1556a460d,12,2,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: I60787243fdc6ed2741522355ec79970bdb912f41
(cherry picked from commit 35dea078974261e83f594e798855893401a53511)
(cherry picked from commit 77be4c6c690cfa8f52a10ada2b9c1ecabccd423f)
(cherry picked from commit 3258e49a5e4e6855e8f20c46c8f55eb234440946)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/792886/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/configure-tenant-networks.rst', 'doc/source/install/include/configure-ironic-api-mod_wsgi.inc', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/enabling-https.rst', 'doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/configure-cleaning.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/configure-pxe.rst', 'doc/source/admin/console.rst']",11,86a855d61bfe5b06eaed2c1e47e20ab1556a460d,, RHEL8/CentOS8/Fedora:: RHEL8/CentOS8/Fedora:: RHEL8/CentOS8/Fedora::, RHEL7/CentOS7:: sudo yum install shellinabox Fedora:: RHEL7/CentOS7:: sudo yum install openssl Fedora:: RHEL7/CentOS7:: sudo yum install socat Fedora::,30,70
openstack%2Fironic-python-agent~bugfix%2F8.0~Ib267b7afce9b5d0bb4cb35d2a54f2914afc8998a,openstack/ironic-python-agent,bugfix/8.0,Ib267b7afce9b5d0bb4cb35d2a54f2914afc8998a,Update .gitreview for bugfix/8.0,MERGED,2021-06-03 09:51:06.000000000,2021-06-03 12:15:13.000000000,2021-06-03 12:13:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-03 09:51:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/346e5c95796209b11b3514c3e624f232a6a5ff07', 'message': 'Update .gitreview for bugfix/8.0\n\nChange-Id: Ib267b7afce9b5d0bb4cb35d2a54f2914afc8998a\n'}]",0,794546,346e5c95796209b11b3514c3e624f232a6a5ff07,7,2,1,22816,,,0,"Update .gitreview for bugfix/8.0

Change-Id: Ib267b7afce9b5d0bb4cb35d2a54f2914afc8998a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/46/794546/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,346e5c95796209b11b3514c3e624f232a6a5ff07,create-8.0,defaultbranch=bugfix/8.0,,1,0
openstack%2Fopenstack-helm~master~Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6,openstack/openstack-helm,master,Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6,docs: Update Freenode to OFTC,MERGED,2021-06-02 02:06:00.000000000,2021-06-03 11:48:03.000000000,2021-06-03 11:46:40.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-06-02 02:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d8f192bc55be57543cfe6224f10431c7feacbfab', 'message': 'docs: Update Freenode to OFTC\n\nhttp: //lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6\n'}, {'number': 2, 'created': '2021-06-02 02:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c845612ccd162abc7f87586e79246b9e3045bf8e', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6\n'}, {'number': 3, 'created': '2021-06-02 08:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b0a414c9cbcb1a89be03ebfb21d46725859d81d', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\nChange-Id: Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6\n'}, {'number': 4, 'created': '2021-06-02 09:03:16.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/troubleshooting/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c7c7cbcc317f7d924b760aa0952da550dfd9fe5', 'message': 'docs: Update Freenode to OFTC\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html\n\nChange-Id: Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6\n'}]",3,794079,5c7c7cbcc317f7d924b760aa0952da550dfd9fe5,18,5,4,30449,,,0,"docs: Update Freenode to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html

Change-Id: Ib10ac6a60550581878fb73e9fdb1c77c1fb713b6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/794079/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-troubleshooting.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-troubleshooting.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'README.rst', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-troubleshooting.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/ru/LC_MESSAGES/doc-troubleshooting.po', 'doc/source/contributor/contributing.rst', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/troubleshooting/index.rst', 'doc/source/locale/id/LC_MESSAGES/doc-troubleshooting.po']",14,d8f192bc55be57543cfe6224f10431c7feacbfab,,"""Join us on `IRC <irc://chat.oftc.net/openstack-helm>`_: #openstack-"" ""helm on oftc""""Bergabunglah dengan kami `IRC <irc://chat.oftc.net/openstack-"" ""helm>`_: #openstack-helm on oftc""","""Join us on `IRC <irc://chat.freenode.net:6697/openstack-helm>`_: #openstack-"" ""helm on freenode""""Bergabunglah dengan kami `IRC <irc://chat.freenode.net:6697/openstack-"" ""helm>`_: #openstack-helm on freenode""",60,60
openstack%2Fdevstack~master~I530e301f9dbcc5fc911ba8e8a9fd498e35c36a90,openstack/devstack,master,I530e301f9dbcc5fc911ba8e8a9fd498e35c36a90,Set default PUBLIC_NETWORK_GATEWAY explicitly,ABANDONED,2021-06-01 15:48:00.000000000,2021-06-03 11:40:45.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 15:48:00.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4cd121c86e074d618a6049f11f5af3a4d4660c9f', 'message': 'Set default PUBLIC_NETWORK_GATEWAY explicitly\n\ndevstack has defaults for the floating range and for IPv6 public network\ngateway already, but not for this,\nand OVN in a default/bare minimal devstack configuration\nrequires this to be set to some actual value.\n\nThe chosen default corresponds to the default FLOATING_RANGE\n\nChange-Id: I530e301f9dbcc5fc911ba8e8a9fd498e35c36a90\nRelated-Bug: #1930360\n'}]",1,793997,4cd121c86e074d618a6049f11f5af3a4d4660c9f,6,2,1,9542,,,0,"Set default PUBLIC_NETWORK_GATEWAY explicitly

devstack has defaults for the floating range and for IPv6 public network
gateway already, but not for this,
and OVN in a default/bare minimal devstack configuration
requires this to be set to some actual value.

The chosen default corresponds to the default FLOATING_RANGE

Change-Id: I530e301f9dbcc5fc911ba8e8a9fd498e35c36a90
Related-Bug: #1930360
",git fetch https://review.opendev.org/openstack/devstack refs/changes/97/793997/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,4cd121c86e074d618a6049f11f5af3a4d4660c9f,bug/1930360,# provide sane default for the public network gateway given the default floating range PUBLIC_NETWORK_GATEWAY=${PUBLIC_NETWORK_GATEWAY:-172.24.4.1} ,,3,0
openstack%2Ftrove~master~I5b96fde4051847eea8a9797b6453de80cd1c7e30,openstack/trove,master,I5b96fde4051847eea8a9797b6453de80cd1c7e30,Drop Bionic support,ABANDONED,2021-05-13 03:47:21.000000000,2021-06-03 11:38:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 03:47:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/45da70c71ee3fa663170767f874c2c3ccb6011e0', 'message': 'Drop Bionic support\n\nSince victoria cycle, we have moved upstream testing to\nUbuntu Focal (20.04) and so does no Bionic distro in\nXena cycle testing runtime[1]. Grenade jobs also started\nrunning on Focal since victoria was released.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022248.html\n\nChange-Id: I5b96fde4051847eea8a9797b6453de80cd1c7e30\n'}]",0,791088,45da70c71ee3fa663170767f874c2c3ccb6011e0,3,1,1,32029,,,0,"Drop Bionic support

Since victoria cycle, we have moved upstream testing to
Ubuntu Focal (20.04) and so does no Bionic distro in
Xena cycle testing runtime[1]. Grenade jobs also started
running on Focal since victoria was released.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022248.html

Change-Id: I5b96fde4051847eea8a9797b6453de80cd1c7e30
",git fetch https://review.opendev.org/openstack/trove refs/changes/88/791088/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,45da70c71ee3fa663170767f874c2c3ccb6011e0,update-bionic-jobs, name: trove-ubuntu-focal label: nested-virt-ubuntu-focal - publish-trove-guest-image-ubuntu-focal - publish-trove-guest-image-ubuntu-focal-dev nodeset: trove-ubuntu-focal nodeset: trove-ubuntu-focal nodeset: trove-ubuntu-focal name: publish-trove-guest-image-ubuntu-focal Build and publish Ubuntu Focal based Trove guest image to guest_os_release: focal name: publish-trove-guest-image-ubuntu-focal-dev Build and publish Ubuntu Focal based Trove guest image to guest_os_release: focal, name: trove-ubuntu-bionic label: nested-virt-ubuntu-bionic - publish-trove-guest-image-ubuntu-bionic - publish-trove-guest-image-ubuntu-bionic-dev nodeset: trove-ubuntu-bionic nodeset: trove-ubuntu-bionic nodeset: trove-ubuntu-bionic name: publish-trove-guest-image-ubuntu-bionic Build and publish Ubuntu Bionic based Trove guest image to guest_os_release: bionic name: publish-trove-guest-image-ubuntu-bionic-dev Build and publish Ubuntu Bionic based Trove guest image to guest_os_release: bionic,13,13
openstack%2Fheat~master~I64a62d58e179837c1ba0d35c2737e4bac7616461,openstack/heat,master,I64a62d58e179837c1ba0d35c2737e4bac7616461,Add retries for load balancer creation,NEW,2021-06-01 14:35:30.000000000,2021-06-03 11:35:31.000000000,,"[{'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 14:35:30.000000000', 'files': ['heat/engine/resources/openstack/octavia/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/713d792cf2047854e2779312ca58b9b3e25f95a2', 'message': ""Add retries for load balancer creation\n\nOctavia can return a 503 (project busy) error message if the quota\nis locked which would require Heat to retry the creation of the load\nbalancer if it receives this request.\n\nAt the moment, Heat is not currently treating this as a hard failure\nwhich results in failures often when creating many load balancers\ninside the same project in parallel.\n\nThe reason behind the use of retry_if_exception_message rather than\na specific exception or type is that the Octavia Python client does\nnot present specific exceptions but instead presents one generic\nexception for all failures.\n\nThe mathc on 'Project Busy' also helps make sure that in case there\nis a 503 that happens due to an actual service being unavailable, it\nwill hard-fail right away rather than retry a few times before doing\nthis.\n\nChange-Id: I64a62d58e179837c1ba0d35c2737e4bac7616461\n""}]",1,793980,713d792cf2047854e2779312ca58b9b3e25f95a2,6,2,1,1004,,,0,"Add retries for load balancer creation

Octavia can return a 503 (project busy) error message if the quota
is locked which would require Heat to retry the creation of the load
balancer if it receives this request.

At the moment, Heat is not currently treating this as a hard failure
which results in failures often when creating many load balancers
inside the same project in parallel.

The reason behind the use of retry_if_exception_message rather than
a specific exception or type is that the Octavia Python client does
not present specific exceptions but instead presents one generic
exception for all failures.

The mathc on 'Project Busy' also helps make sure that in case there
is a 503 that happens due to an actual service being unavailable, it
will hard-fail right away rather than retry a few times before doing
this.

Change-Id: I64a62d58e179837c1ba0d35c2737e4bac7616461
",git fetch https://review.opendev.org/openstack/heat refs/changes/80/793980/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/octavia/loadbalancer.py'],1,713d792cf2047854e2779312ca58b9b3e25f95a2,add-octavia-retry,"import tenacity @tenacity.retry( stop=tenacity.stop_after_attempt(3), retry=tenacity.retry_if_exception_message(match=""Project busy""), wait=tenacity.wait_random(max=5), reraise=True)",,7,0
openstack%2Fopenstack-ansible-haproxy_server~master~Iedbe887a3d75c240dffcc7998f25d1ee5a09c1e5,openstack/openstack-ansible-haproxy_server,master,Iedbe887a3d75c240dffcc7998f25d1ee5a09c1e5,Update documentation for keepalived ping addresses,MERGED,2021-03-23 08:33:25.000000000,2021-06-03 11:26:43.000000000,2021-06-03 11:25:17.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-23 08:33:25.000000000', 'files': ['doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/ed8c437a8c49cb96e328be97ae0a7f76c51fa73a', 'message': 'Update documentation for keepalived ping addresses\n\nThis update matches changes in the openstack-ansible repo to\nenable checks against both internal and external addresses.\n\nDepends-On: https://review.opendev.org/782374\nChange-Id: Iedbe887a3d75c240dffcc7998f25d1ee5a09c1e5\n'}]",0,782375,ed8c437a8c49cb96e328be97ae0a7f76c51fa73a,9,4,1,31542,,,0,"Update documentation for keepalived ping addresses

This update matches changes in the openstack-ansible repo to
enable checks against both internal and external addresses.

Depends-On: https://review.opendev.org/782374
Change-Id: Iedbe887a3d75c240dffcc7998f25d1ee5a09c1e5
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/75/782375/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-haproxy.rst'],1,ed8c437a8c49cb96e328be97ae0a7f76c51fa73a,,"Keepalived pings a public and private IP address to check its status. The default address is ``193.0.14.129``. To change this default, set the ``keepalived_external_ping_address`` and ``keepalived_internal_ping_address`` variables in the keepalived_external_ping_address: # Public IP address to ping keepalived_internal_ping_address: # Private IP address to ping keepalived_ping_count: # ICMP packets to send (per interval) keepalived_ping_interval: # How often ICMP packets are sent","Keepalived pings a public IP address to check its status. The default address is ``193.0.14.129``. To change this default, set the ``keepalived_ping_address`` variable in the keepalived_ping_address: # IP address to ping keepalived_ping_count: # ICMP packets to send (per interval) keepalived_ping_interval: # How often ICMP packets are sent",8,6
openstack%2Fironic~bugfix%2F18.0~I34ee54184d3c1957aee70ee8a9ca605f12db1ac5,openstack/ironic,bugfix/18.0,I34ee54184d3c1957aee70ee8a9ca605f12db1ac5,Update .gitreview for bugfix/18.0,MERGED,2021-06-03 09:51:29.000000000,2021-06-03 11:21:28.000000000,2021-06-03 11:19:29.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:51:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b4c5dbd4da5c38582779f91728c518400922681', 'message': 'Update .gitreview for bugfix/18.0\n\nChange-Id: I34ee54184d3c1957aee70ee8a9ca605f12db1ac5\n'}]",0,794547,3b4c5dbd4da5c38582779f91728c518400922681,10,2,1,22816,,,0,"Update .gitreview for bugfix/18.0

Change-Id: I34ee54184d3c1957aee70ee8a9ca605f12db1ac5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/794547/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3b4c5dbd4da5c38582779f91728c518400922681,create-18.0,defaultbranch=bugfix/18.0,,1,0
openstack%2Ftripleo-ci~master~Idd71106816421073d74f2e2c7a62d500bcfc7167,openstack/tripleo-ci,master,Idd71106816421073d74f2e2c7a62d500bcfc7167,DNM test job,ABANDONED,2021-05-10 16:17:24.000000000,2021-06-03 11:16:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-10 16:17:24.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bebc68e59f35a288e038355d99e086c5e353fc8', 'message': 'DNM test job\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782362\nChange-Id: Idd71106816421073d74f2e2c7a62d500bcfc7167\n'}]",0,790488,2bebc68e59f35a288e038355d99e086c5e353fc8,7,2,1,10969,,,0,"DNM test job

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782362
Change-Id: Idd71106816421073d74f2e2c7a62d500bcfc7167
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/790488/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,2bebc68e59f35a288e038355d99e086c5e353fc8,test1we, quickstart_verbosity: -vv,,1,0
openstack%2Ftripleo-ansible~master~Ie2cdb8ffb3b747e14bc2db071192995053593906,openstack/tripleo-ansible,master,Ie2cdb8ffb3b747e14bc2db071192995053593906,DNM test CI jobs,ABANDONED,2021-05-25 12:19:09.000000000,2021-06-03 11:15:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-25 12:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45d2058f59700b021e16b42e5dae153fcddfe101', 'message': 'DNM test CI jobs\n\nChange-Id: Ie2cdb8ffb3b747e14bc2db071192995053593906\n'}, {'number': 2, 'created': '2021-05-25 12:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2aaa5e382e3b8a98bad4af06446459c89071984', 'message': 'DNM test CI jobs\n\nChange-Id: Ie2cdb8ffb3b747e14bc2db071192995053593906\n'}, {'number': 3, 'created': '2021-05-25 14:42:03.000000000', 'files': ['tripleo_ansible/roles/test_deps/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5778702527aa532ce936a7e2f7f15780a91a2c1b', 'message': 'DNM test CI jobs\n\nChange-Id: Ie2cdb8ffb3b747e14bc2db071192995053593906\n'}]",0,792957,5778702527aa532ce936a7e2f7f15780a91a2c1b,7,2,3,10969,,,0,"DNM test CI jobs

Change-Id: Ie2cdb8ffb3b747e14bc2db071192995053593906
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/792957/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_deps/molecule/default/prepare.yml'],1,45d2058f59700b021e16b42e5dae153fcddfe101,,# test,,1,1
openstack%2Fansible-collections-openstack~master~I78cb574874c0162db828b901eaef55c9c8a98506,openstack/ansible-collections-openstack,master,I78cb574874c0162db828b901eaef55c9c8a98506,DNM test jobs,ABANDONED,2021-05-06 11:24:29.000000000,2021-06-03 11:14:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 11:24:29.000000000', 'files': ['plugins/modules/identity_user.py', 'plugins/modules/identity_role.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3e7c6948ca7f627ed45c55024b0f52b2dab1ffcf', 'message': 'DNM test jobs\n\nChange-Id: I78cb574874c0162db828b901eaef55c9c8a98506\n'}]",0,790041,3e7c6948ca7f627ed45c55024b0f52b2dab1ffcf,3,1,1,10969,,,0,"DNM test jobs

Change-Id: I78cb574874c0162db828b901eaef55c9c8a98506
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/41/790041/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/identity_user.py', 'plugins/modules/identity_role.py']",2,3e7c6948ca7f627ed45c55024b0f52b2dab1ffcf,test3o," module.fail_json(msg=""Expected failure"")",,2,2
openstack%2Fironic-inspector~stable%2Fwallaby~Ic6615c1b4017df66783829e54b9f716a9e65b916,openstack/ironic-inspector,stable/wallaby,Ic6615c1b4017df66783829e54b9f716a9e65b916,Trivial: better guard against malformed data in extra_hardware,MERGED,2021-06-02 15:20:12.000000000,2021-06-03 11:08:50.000000000,2021-06-03 11:07:20.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:20:12.000000000', 'files': ['ironic_inspector/plugins/extra_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d18fcb845a3ad7fc9c9d90b518b3d7a404b810af', 'message': 'Trivial: better guard against malformed data in extra_hardware\n\nWe already catch IndexError when processing a line, but not other\nerrors. A recent regression in python-hardware caused it to raise\nTypeError.\n\nChange-Id: Ic6615c1b4017df66783829e54b9f716a9e65b916\n(cherry picked from commit de839a509d369d33c1d66d160bc5ed5576eac448)\n'}]",0,794183,d18fcb845a3ad7fc9c9d90b518b3d7a404b810af,10,2,1,10239,,,0,"Trivial: better guard against malformed data in extra_hardware

We already catch IndexError when processing a line, but not other
errors. A recent regression in python-hardware caused it to raise
TypeError.

Change-Id: Ic6615c1b4017df66783829e54b9f716a9e65b916
(cherry picked from commit de839a509d369d33c1d66d160bc5ed5576eac448)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/83/794183/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/plugins/extra_hardware.py'],1,d18fcb845a3ad7fc9c9d90b518b3d7a404b810af,hardware-malformed-stable/wallaby," except Exception as e: LOG.warning('Ignoring invalid extra data item %s: %s', item, e,"," except IndexError: LOG.warning('Ignoring invalid extra data item %s', item,",2,2
openstack%2Fopenstack-ansible-haproxy_server~master~If9285154dcb31248bf6b0f8a7fa947007d00196e,openstack/openstack-ansible-haproxy_server,master,If9285154dcb31248bf6b0f8a7fa947007d00196e,[DOC]: keepalived is needed for truly HA installation of haproxy,ABANDONED,2018-05-25 16:25:25.000000000,2021-06-03 11:06:13.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-05-25 16:25:25.000000000', 'files': ['doc/source/configure-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/6042e70f0b532db7d00e46805841f97f6b2284f5', 'message': ""[DOC]: keepalived is needed for truly HA installation of haproxy\n\nWe need to install the 'keepalived' application in order to have a truly\nHA haproxy deployment.\n\nChange-Id: If9285154dcb31248bf6b0f8a7fa947007d00196e\n""}]",1,570594,6042e70f0b532db7d00e46805841f97f6b2284f5,5,3,1,23163,,,0,"[DOC]: keepalived is needed for truly HA installation of haproxy

We need to install the 'keepalived' application in order to have a truly
HA haproxy deployment.

Change-Id: If9285154dcb31248bf6b0f8a7fa947007d00196e
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/94/570594/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-haproxy.rst'],1,6042e70f0b532db7d00e46805841f97f6b2284f5,fix-doc-ha,Edit the ``/etc/openstack_deploy/user_variables.yml`` to enable the deployment of keepalived along with HAProxy when installing HAProxy on multiple hosts. haproxy_use_keepalived: True,Edit the ``/etc/openstack_deploy/user_variables.yml`` to skip the deployment of keepalived along HAProxy when installing HAProxy on multiple hosts. haproxy_use_keepalived: False,3,3
openstack%2Fkayobe~stable%2Ftrain~I9a7f010760da1f6fee45c96705c1cf159c3a0ca3,openstack/kayobe,stable/train,I9a7f010760da1f6fee45c96705c1cf159c3a0ca3,docs: Update Freenode to OFTC,MERGED,2021-06-03 08:12:04.000000000,2021-06-03 10:53:16.000000000,2021-06-03 10:51:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-03 08:12:04.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cfad3bed429b32e4dc941e573b00c22288686706', 'message': 'docs: Update Freenode to OFTC\n\nChange-Id: I9a7f010760da1f6fee45c96705c1cf159c3a0ca3\n(cherry picked from commit 9883726bf2b43d7ff6abc4a071cb18d212623938)\n'}]",0,794461,cfad3bed429b32e4dc941e573b00c22288686706,8,4,1,15197,,,0,"docs: Update Freenode to OFTC

Change-Id: I9a7f010760da1f6fee45c96705c1cf159c3a0ca3
(cherry picked from commit 9883726bf2b43d7ff6abc4a071cb18d212623938)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/61/794461/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,cfad3bed429b32e4dc941e573b00c22288686706,,* IRC: #openstack-kolla on OFTC,* IRC: #openstack-kolla,1,1
openstack%2Fkayobe~stable%2Fussuri~I9a7f010760da1f6fee45c96705c1cf159c3a0ca3,openstack/kayobe,stable/ussuri,I9a7f010760da1f6fee45c96705c1cf159c3a0ca3,docs: Update Freenode to OFTC,MERGED,2021-06-03 08:09:57.000000000,2021-06-03 10:53:04.000000000,2021-06-03 10:51:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-03 08:09:57.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cf8869eecd669df411696e78bd90d0b9a02f429f', 'message': 'docs: Update Freenode to OFTC\n\nChange-Id: I9a7f010760da1f6fee45c96705c1cf159c3a0ca3\n(cherry picked from commit 9883726bf2b43d7ff6abc4a071cb18d212623938)\n'}]",0,794459,cf8869eecd669df411696e78bd90d0b9a02f429f,8,4,1,15197,,,0,"docs: Update Freenode to OFTC

Change-Id: I9a7f010760da1f6fee45c96705c1cf159c3a0ca3
(cherry picked from commit 9883726bf2b43d7ff6abc4a071cb18d212623938)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/794459/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,cf8869eecd669df411696e78bd90d0b9a02f429f,,* IRC: #openstack-kolla on OFTC,* IRC: #openstack-kolla,2,2
openstack%2Ftrove~master~I7d29cf71d03174a439124fb3cf52c24e375d1f49,openstack/trove,master,I7d29cf71d03174a439124fb3cf52c24e375d1f49,Wait for volume status before resize_fs,MERGED,2021-05-30 23:18:54.000000000,2021-06-03 10:44:37.000000000,2021-06-03 10:43:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-30 23:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/48bca2fc9a069ddbfa27753fcaec0285c917d2b0', 'message': 'Wait for volume status before resize_fs\n\nChange-Id: I7d29cf71d03174a439124fb3cf52c24e375d1f49\n'}, {'number': 2, 'created': '2021-05-31 22:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/13f1ebebf1a30b655670f3a2c0ee1c998e6f7eee', 'message': 'Wait for volume status before resize_fs\n\nChange-Id: I7d29cf71d03174a439124fb3cf52c24e375d1f49\n'}, {'number': 3, 'created': '2021-06-01 23:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/43ef8c2cabda2131eab11071bcecf8b1cbf058fa', 'message': 'Wait for volume status before resize_fs\n\nChange-Id: I7d29cf71d03174a439124fb3cf52c24e375d1f49\n'}, {'number': 4, 'created': '2021-06-02 00:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/dc9ee8087c9005c6545ec3fce35b36451dbcc642', 'message': 'Wait for volume status before resize_fs\n\nChange-Id: I7d29cf71d03174a439124fb3cf52c24e375d1f49\n'}, {'number': 5, 'created': '2021-06-02 08:29:06.000000000', 'files': ['trove/taskmanager/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/b9d2de5f30716fc9f0e207ae3bc80d3c39a1fd00', 'message': 'Wait for volume status before resize_fs\n\nStory: 2008916\nTask: 42507\nChange-Id: I7d29cf71d03174a439124fb3cf52c24e375d1f49\n'}]",0,793702,b9d2de5f30716fc9f0e207ae3bc80d3c39a1fd00,14,2,5,6732,,,0,"Wait for volume status before resize_fs

Story: 2008916
Task: 42507
Change-Id: I7d29cf71d03174a439124fb3cf52c24e375d1f49
",git fetch https://review.opendev.org/openstack/trove refs/changes/02/793702/5 && git format-patch -1 --stdout FETCH_HEAD,['trove/taskmanager/models.py'],1,48bca2fc9a069ddbfa27753fcaec0285c917d2b0,fix-online-resize," return (volume.size == self.new_size and volume.status in ['available', 'in-use'])", return volume.size == self.new_size,2,1
openstack%2Fcompute-hyperv~master~I54c681c29c80f1d537e38980f68717b72f6b215b,openstack/compute-hyperv,master,I54c681c29c80f1d537e38980f68717b72f6b215b,Drop OVS support,MERGED,2021-05-25 09:44:12.000000000,2021-06-03 10:25:16.000000000,2021-06-03 06:54:16.000000000,"[{'_account_id': 3185}, {'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 09:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/928b234518ee756522d3abbe2fe700309d163c90', 'message': ""Drop OVS support\n\nWe're no longer maintaining the Windows OVS port.\n\nNormally, we'd go through the standard deprecation policy but\nsince the Neutron OVS agent no longer runs on Windows at all since\nWallaby, we're dropping it right away.\n\nChange-Id: I54c681c29c80f1d537e38980f68717b72f6b215b\n""}, {'number': 2, 'created': '2021-05-25 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d44e2968dffc729aa57d20ee0c9a13f84ef1c6a2', 'message': ""Drop OVS support\n\nWe're no longer maintaining the Windows OVS port.\n\nNormally, we'd go through the standard deprecation policy but\nsince the Neutron OVS agent no longer runs on Windows at all since\nWallaby, we're dropping it right away.\n\nChange-Id: I54c681c29c80f1d537e38980f68717b72f6b215b\n""}, {'number': 3, 'created': '2021-05-26 05:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e59733739103433419ae947805884459e311885b', 'message': ""Drop OVS support\n\nWe're no longer maintaining the Windows OVS port.\n\nNormally, we'd go through the standard deprecation policy but\nsince the Neutron OVS agent no longer runs on Windows at all since\nWallaby, we're dropping it right away.\n\nChange-Id: I54c681c29c80f1d537e38980f68717b72f6b215b\n""}, {'number': 4, 'created': '2021-05-26 05:56:04.000000000', 'files': ['releasenotes/notes/drop-ovs-support-616ec2952580c93d.yaml', 'compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vif.py', 'compute_hyperv/nova/vif.py', 'doc/source/install/install.rst', 'doc/source/install/next-steps.rst'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/700e6b40160c5464d8391377fcfdbe6259f4bd2e', 'message': ""Drop OVS support\n\nWe're no longer maintaining the Windows OVS port.\n\nNormally, we'd go through the standard deprecation policy but\nsince the Neutron OVS agent no longer runs on Windows at all since\nWallaby, we're dropping it right away.\n\nChange-Id: I54c681c29c80f1d537e38980f68717b72f6b215b\n""}]",0,792879,700e6b40160c5464d8391377fcfdbe6259f4bd2e,14,3,4,8543,,,0,"Drop OVS support

We're no longer maintaining the Windows OVS port.

Normally, we'd go through the standard deprecation policy but
since the Neutron OVS agent no longer runs on Windows at all since
Wallaby, we're dropping it right away.

Change-Id: I54c681c29c80f1d537e38980f68717b72f6b215b
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/79/792879/4 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vif.py', 'compute_hyperv/nova/vif.py', 'doc/source/install/install.rst', 'doc/source/install/next-steps.rst']",5,928b234518ee756522d3abbe2fe700309d163c90,,Neutron L2 agent as alive / running.type will result in a PortBindingFailure exception.,"Neutron L2 agent (either a Neutron Hyper-V Agent, or a Neutron OVS Agent) as alive / running.type will result in a PortBindingFailure exception. If tunneling is desired, the Neutron OVS Agent should be used instead.",10,43
openstack%2Fopenstack-ansible~master~If40de88af73215866909fc443c670eded543c13c,openstack/openstack-ansible,master,If40de88af73215866909fc443c670eded543c13c,Fix the haproxy healthcheck method/query for sahara-api,ABANDONED,2019-03-12 15:21:11.000000000,2021-06-03 10:13:59.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-03-12 15:21:11.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0dc186c33fa7f487b6a22e40e2110fe8a672fa94', 'message': 'Fix the haproxy healthcheck method/query for sahara-api\n\nEven if apparently nothing changed in haproxy and sahara,\nthe sahara-api is unreachable and it has been the case for more than\none month. Apparently haproxy thinks that the service is down\nbecause it cannot reach the sahara_api-back backend.\nThe connection fails with an ""unauthorized"" error.\nAlso, apparently, there has never been an /healthcheck entry point\nin Sahara.\n\nThis change switch to the same pattern used by other services\nand it should make the backend reachable again.\n\nChange-Id: If40de88af73215866909fc443c670eded543c13c\n'}]",2,642787,0dc186c33fa7f487b6a22e40e2110fe8a672fa94,5,3,1,10459,,,0,"Fix the haproxy healthcheck method/query for sahara-api

Even if apparently nothing changed in haproxy and sahara,
the sahara-api is unreachable and it has been the case for more than
one month. Apparently haproxy thinks that the service is down
because it cannot reach the sahara_api-back backend.
The connection fails with an ""unauthorized"" error.
Also, apparently, there has never been an /healthcheck entry point
in Sahara.

This change switch to the same pattern used by other services
and it should make the backend reachable again.

Change-Id: If40de88af73215866909fc443c670eded543c13c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/642787/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,0dc186c33fa7f487b6a22e40e2110fe8a672fa94,haproxy-sahara," - ""httpchk GET / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"""," - ""httpchk GET /healthcheck HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck""",1,1
openstack%2Fopenstack-ansible~master~I7e93577819283620d189ba27f57c98b97cede1f2,openstack/openstack-ansible,master,I7e93577819283620d189ba27f57c98b97cede1f2,Add Cloudkitty to integrated repo.,ABANDONED,2016-11-14 17:29:04.000000000,2021-06-03 10:07:17.000000000,,"[{'_account_id': 22981}, {'_account_id': 24177}]","[{'number': 1, 'created': '2016-11-14 17:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b92dd919c8d847be3a25c7975009ef9b45486ce', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 2, 'created': '2016-11-15 08:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4bdae338cf7cee67aec0242f776c64dd0d096cc', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 3, 'created': '2016-11-15 09:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/122495cf8517a32abb741020f486ee7bb449d24f', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 4, 'created': '2016-11-15 14:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/592c349948c73eddc52e2d5ef6c461d68aa8afa7', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 5, 'created': '2016-11-15 17:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/12247a4df4c86610264348ff621fbbb00223f238', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 6, 'created': '2016-11-18 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f9f744dc9f771762f70c90148c3e4d4a7e4d207', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 7, 'created': '2016-11-18 15:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/220dbf6dd98d27c02e763899ae73d7d85ab57861', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 8, 'created': '2016-11-18 18:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/60fc841764450cf33be8edae3a484453196ad731', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 9, 'created': '2016-11-23 21:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/18db4b38f530541f28145a73c360001335189915', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 10, 'created': '2017-01-31 07:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3cea26df0fa1e1d3bf7101e0415d219f6e100f71', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 11, 'created': '2017-02-01 10:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/206df71b72681095bc4bcfd1c0fa6e53ca9afb58', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 12, 'created': '2017-02-01 10:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/27599ab600ff9f4cc8033f16d12984191654a7e4', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 13, 'created': '2017-02-09 08:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21497dacf0ecd6bfd6b6769aebacbc9ee0a8ccce', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}, {'number': 14, 'created': '2017-02-10 09:02:41.000000000', 'files': ['doc/source/developer-docs/advanced-role-docs.rst', 'playbooks/vars/configs/haproxy_config.yml', 'ansible-role-requirements.yml', 'playbooks/inventory/group_vars/cloudkitty_all.yml', 'etc/openstack_deploy/conf.d/cloudkitty.yml.example', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_secrets.yml', 'releasenotes/notes/add-cloudkitty-to-repo-cb95263c75619e3c.yaml', 'playbooks/inventory/env.d/cloudkitty.yml', 'tests/test_inventory.py', 'etc/openstack_deploy/conf.d/cloudkitty.yml.aio', 'playbooks/os-cloudkitty-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f9ef32b748bc109262246fc7107a62a2afa60537', 'message': 'Add Cloudkitty to integrated repo.\n\nChange-Id: I7e93577819283620d189ba27f57c98b97cede1f2\n'}]",11,397313,f9ef32b748bc109262246fc7107a62a2afa60537,43,2,14,24177,,,0,"Add Cloudkitty to integrated repo.

Change-Id: I7e93577819283620d189ba27f57c98b97cede1f2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/397313/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/vars/configs/haproxy_config.yml', 'doc/source/install-guide/app-advanced-role-docs.rst', 'ansible-role-requirements.yml', 'playbooks/inventory/group_vars/cloudkitty_all.yml', 'etc/openstack_deploy/conf.d/cloudkitty.yml.example', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_secrets.yml', 'releasenotes/notes/add-cloudkitty-to-repo-cb95263c75619e3c.yaml', 'playbooks/inventory/env.d/cloudkitty.yml', 'tests/test_inventory.py', 'etc/openstack_deploy/conf.d/cloudkitty.yml.aio', 'playbooks/os-cloudkitty-install.yml']",12,8b92dd919c8d847be3a25c7975009ef9b45486ce,osa-cloudkitty-integration,"--- # Copyright 2016, BVOX WORLD, S.L. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Installation and setup of Cloudkitty hosts: cloudkitty_all gather_facts: ""{{ gather_facts | default(True) }}"" max_fail_percentage: 20 user: root pre_tasks: - include: common-tasks/os-lxc-container-setup.yml - include: common-tasks/rabbitmq-vhost-user.yml static: no vars: user: ""{{ cloudkitty_rabbitmq_userid }}"" password: ""{{ cloudkitty_rabbitmq_password }}"" vhost: ""{{ cloudkitty_rabbitmq_vhost }}"" _rabbitmq_host_group: ""{{ cloudkitty_rabbitmq_host_group }}"" when: - inventory_hostname == groups['cloudkitty_api'][0] - groups[cloudkitty_rabbitmq_host_group] | length > 0 - include: common-tasks/os-log-dir-setup.yml vars: log_dirs: - src: ""/openstack/log/{{ inventory_hostname }}-cloudkitty"" dest: ""/var/log/cloudkitty"" - include: common-tasks/mysql-db-user.yml static: no vars: user_name: ""{{ cloudkitty_galera_user }}"" password: ""{{ cloudkitty_container_mysql_password }}"" login_host: ""{{ cloudkitty_galera_address }}"" db_name: ""{{ cloudkitty_galera_database }}"" when: inventory_hostname == groups['cloudkitty_all'][0] - include: common-tasks/package-cache-proxy.yml roles: - role: ""os_cloudkitty"" cloudkitty_venv_tag: ""{{ openstack_release }}"" cloudkitty_venv_download_url: ""{{ openstack_repo_url }}/venvs/{{ openstack_release }}/{{ ansible_distribution | lower }}/cloudkitty-{{ openstack_release }}-{{ ansible_architecture | lower }}.tgz"" - role: ""openstack_openrc"" tags: - openrc - role: ""rsyslog_client"" rsyslog_client_log_rotate_file: cloudkitty_log_rotate rsyslog_client_log_dir: ""/var/log/cloudkitty"" rsyslog_client_config_name: ""99-cloudkitty-rsyslog-client.conf"" tags: - rsyslog vars: is_metal: ""{{ properties.is_metal|default(false) }}"" tags: - cloudkitty ",,192,0
openstack%2Freleases~master~Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b,openstack/releases,master,Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b,Make a release for tripleo victoria repos,MERGED,2021-06-02 15:10:40.000000000,2021-06-03 10:06:01.000000000,2021-06-03 10:06:01.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-02 15:10:40.000000000', 'files': ['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-apply-config.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/os-collect-config.yaml', 'deliverables/victoria/os-refresh-config.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b3e30eaf5153e2ad3cdae9dfa385acce7a5f22f', 'message': 'Make a release for tripleo victoria repos\n\nThis makes a release for tripleo victoria repos. In most cases\nthe bump is to .patch (bugfix) but for the couple that warrant\nit I have bumped .minor (feature). The required puppet-tripleo\nmetadata bump is merged at [1]\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/793613\n\nChange-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b\n'}]",10,794251,0b3e30eaf5153e2ad3cdae9dfa385acce7a5f22f,9,10,1,8449,,,0,"Make a release for tripleo victoria repos

This makes a release for tripleo victoria repos. In most cases
the bump is to .patch (bugfix) but for the couple that warrant
it I have bumped .minor (feature). The required puppet-tripleo
metadata bump is merged at [1]

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/793613

Change-Id: Id9cbbb4644a0ebd86e70eaa2bc0b8fec7ae51a1b
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/794251/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-apply-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/os-collect-config.yaml', 'deliverables/victoria/os-refresh-config.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-image-elements.yaml']",10,0b3e30eaf5153e2ad3cdae9dfa385acce7a5f22f,tripleo_victoria, - version: 12.2.1 projects: - repo: openstack/tripleo-image-elements hash: 7224ee478a3207c508250d5df5a117c2875feaf1,,40,0
openstack%2Fopenstack-ansible~master~I545e834c12e1e71724faed036abc1efc5ef7b2c7,openstack/openstack-ansible,master,I545e834c12e1e71724faed036abc1efc5ef7b2c7,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 15:03:56.000000000,2021-06-03 10:00:46.000000000,2021-06-03 09:57:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-27 15:03:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aca2cd189ec5c5eef060c02e0a53f70470101530', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I545e834c12e1e71724faed036abc1efc5ef7b2c7\n""}]",3,788312,aca2cd189ec5c5eef060c02e0a53f70470101530,10,3,1,26285,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I545e834c12e1e71724faed036abc1efc5ef7b2c7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/788312/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,aca2cd189ec5c5eef060c02e0a53f70470101530,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible/latest/,3,3
openstack%2Fopenstack-ansible-os_placement~master~Ic5e1af250513b896e7f23a3bdc14dc1dd1aa2e3a,openstack/openstack-ansible-os_placement,master,Ic5e1af250513b896e7f23a3bdc14dc1dd1aa2e3a,These should be indented four spaces to match the other things in this block,MERGED,2021-06-03 08:24:48.000000000,2021-06-03 09:56:03.000000000,2021-06-03 09:54:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-03 08:24:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/5fab204977a768a0a30a5685b97b1fd817b1f1bf', 'message': 'These should be indented four spaces to match the other things in this block\n\nChange-Id: Ic5e1af250513b896e7f23a3bdc14dc1dd1aa2e3a\n'}]",0,794464,5fab204977a768a0a30a5685b97b1fd817b1f1bf,8,3,1,32029,,,0,"These should be indented four spaces to match the other things in this block

Change-Id: Ic5e1af250513b896e7f23a3bdc14dc1dd1aa2e3a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/64/794464/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5fab204977a768a0a30a5685b97b1fd817b1f1bf,tox, make sphinx-build -W --keep-going -b latex doc/source doc/build/pdf make -C doc/build/pdf, make sphinx-build -W --keep-going -b latex doc/source doc/build/pdf make -C doc/build/pdf,3,3
openstack%2Freleases~master~Id846d8c0f1d4c46312a2df47c6edd9ac37e38655,openstack/releases,master,Id846d8c0f1d4c46312a2df47c6edd9ac37e38655,Release bifrost 11.0.0 with bugfix branch,MERGED,2021-06-02 17:33:04.000000000,2021-06-03 09:52:48.000000000,2021-06-03 09:52:48.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-02 17:33:04.000000000', 'files': ['deliverables/xena/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8cdd8b6b9f28df6b79cc074662f0d955066805e5', 'message': 'Release bifrost 11.0.0 with bugfix branch\n\nWe are cutting the bugfix branches for some of the ironic projects\nThis is a major version bump because we removed the support for\niscsi.\n\nChange-Id: Id846d8c0f1d4c46312a2df47c6edd9ac37e38655\n'}]",0,794320,8cdd8b6b9f28df6b79cc074662f0d955066805e5,8,6,1,15519,,,0,"Release bifrost 11.0.0 with bugfix branch

We are cutting the bugfix branches for some of the ironic projects
This is a major version bump because we removed the support for
iscsi.

Change-Id: Id846d8c0f1d4c46312a2df47c6edd9ac37e38655
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/794320/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/bifrost.yaml'],1,8cdd8b6b9f28df6b79cc074662f0d955066805e5,bifrost-bugifx11,releases: - version: 11.0.0 projects: - repo: openstack/bifrost hash: 105e3292be02a52fabb2c68ed27c6e2802d14ec7 branches: - name: bugfix/11.0 location: 11.0.0,,8,0
openstack%2Freleases~master~I7e3b7946b32cc3b11c779db1c6228a00c5cb0a8e,openstack/releases,master,I7e3b7946b32cc3b11c779db1c6228a00c5cb0a8e,Release IPA 8.0.0 with bugfix,MERGED,2021-06-02 20:34:11.000000000,2021-06-03 09:46:51.000000000,2021-06-03 09:46:51.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-02 20:34:11.000000000', 'files': ['deliverables/xena/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27831f1bb6b6ecd9e69f269183564b826a589b1b', 'message': 'Release IPA 8.0.0 with bugfix\n\nWe are cutting the bugfix branches for some of the ironic projects\nThis is a major version bump because we removed the support for\niscsi.\n\nChange-Id: I7e3b7946b32cc3b11c779db1c6228a00c5cb0a8e\n'}]",0,794337,27831f1bb6b6ecd9e69f269183564b826a589b1b,9,7,1,15519,,,0,"Release IPA 8.0.0 with bugfix

We are cutting the bugfix branches for some of the ironic projects
This is a major version bump because we removed the support for
iscsi.

Change-Id: I7e3b7946b32cc3b11c779db1c6228a00c5cb0a8e
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/794337/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ironic-python-agent.yaml'],1,27831f1bb6b6ecd9e69f269183564b826a589b1b,ipa-bugfix8,releases: - version: 8.0.0 projects: - repo: openstack/ironic-python-agent hash: 031b5c4b61071342e15642f01cab8980609493f1 branches: - name: bugfix/8.0 location: 8.0.0,,8,0
openstack%2Freleases~master~Id917340028917a0ac6ec49f2c2b478238698c72d,openstack/releases,master,Id917340028917a0ac6ec49f2c2b478238698c72d,Release Ironic 18.0.0 with bugfix,MERGED,2021-06-03 07:00:14.000000000,2021-06-03 09:44:58.000000000,2021-06-03 09:44:58.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-03 07:00:14.000000000', 'files': ['deliverables/xena/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b1dfbe8e146224d38727e0890cdd3a9e848eb125', 'message': 'Release Ironic 18.0.0 with bugfix\n\nWe are cutting the bugfix branches for some of the ironic projects\nThis is a major version bump because we removed the support for\niscsi.\n\nChange-Id: Id917340028917a0ac6ec49f2c2b478238698c72d\n'}]",2,794409,b1dfbe8e146224d38727e0890cdd3a9e848eb125,9,3,1,15519,,,0,"Release Ironic 18.0.0 with bugfix

We are cutting the bugfix branches for some of the ironic projects
This is a major version bump because we removed the support for
iscsi.

Change-Id: Id917340028917a0ac6ec49f2c2b478238698c72d
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/794409/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ironic.yaml'],1,b1dfbe8e146224d38727e0890cdd3a9e848eb125,ironic-bugfix18,releases: - version: 18.0.0 projects: - repo: openstack/ironic hash: fa87aea57909a945de90c8d1698c8d91411ce48c branches: - name: bugfix/18.0 location: 18.0.0,,8,0
openstack%2Freleases~master~I1478b5ebf033e90c3f1bf10555aeb95da65bb564,openstack/releases,master,I1478b5ebf033e90c3f1bf10555aeb95da65bb564,Release sushy-tools 0.17.0,MERGED,2021-06-01 10:09:25.000000000,2021-06-03 09:44:53.000000000,2021-06-03 09:44:53.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-01 10:09:25.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e101ecfcfb7b4177bc6e31dbb434171b4cd2275e', 'message': 'Release sushy-tools 0.17.0\n\nChange-Id: I1478b5ebf033e90c3f1bf10555aeb95da65bb564\n'}]",0,793939,e101ecfcfb7b4177bc6e31dbb434171b4cd2275e,8,6,1,15519,,,0,"Release sushy-tools 0.17.0

Change-Id: I1478b5ebf033e90c3f1bf10555aeb95da65bb564
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/793939/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,e101ecfcfb7b4177bc6e31dbb434171b4cd2275e,sushy-tools, - version: 0.17.0 projects: - repo: openstack/sushy-tools hash: fa3627ead068cf25808ee6c7f085ed8c7ec92e3c,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I96e7e4c570839cfba6011788464d8e93925b2f01,openstack/tripleo-heat-templates,stable/ussuri,I96e7e4c570839cfba6011788464d8e93925b2f01,Restore PreNetworkConfig resources,MERGED,2021-04-19 15:33:19.000000000,2021-06-03 09:43:45.000000000,2021-06-03 09:41:43.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-19 15:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac9d4acbaf885f5326bb8af1935040f45198fe17', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nDepends-on: https://review.opendev.org/783554\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n'}, {'number': 2, 'created': '2021-04-19 15:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a40b1c8db256c04da554e2e7a6fe8c4d5c7b4b2', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n'}, {'number': 3, 'created': '2021-04-27 06:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38d8ad880ce0b39802722788bab22a69deb141d3', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n'}, {'number': 4, 'created': '2021-05-12 13:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8279d1ead3d30b6650f1d881e2ae4ec013a3e54', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n'}, {'number': 5, 'created': '2021-05-12 23:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1703b1ce68227c4576f6db0a11ee40cda65e5ba6', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n'}, {'number': 6, 'created': '2021-05-15 02:44:33.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/bug-1907214-df2f07cbacbe8a24.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef575f87f51686a9c65a1a33d4933191c052a5e0', 'message': 'Restore PreNetworkConfig resources\n\nThis change restores the PreNetworkConfig resources, so that we migrate\nback ExtraCnfigPre and NodeExtraConfig from pre network configurations\nto post network configurations, to be consistent with older version\ndepending on Heat software deployments instead of config download.\n\nConflicts:\n\tcommon/deploy-steps.j2\n\nDepends-on: https://review.opendev.org/786901\nCloses-Bug: #1907214\nChange-Id: I96e7e4c570839cfba6011788464d8e93925b2f01\n(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)\n(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)\n'}]",1,786891,ef575f87f51686a9c65a1a33d4933191c052a5e0,28,7,6,9816,,,0,"Restore PreNetworkConfig resources

This change restores the PreNetworkConfig resources, so that we migrate
back ExtraCnfigPre and NodeExtraConfig from pre network configurations
to post network configurations, to be consistent with older version
depending on Heat software deployments instead of config download.

Conflicts:
	common/deploy-steps.j2

Depends-on: https://review.opendev.org/786901
Closes-Bug: #1907214
Change-Id: I96e7e4c570839cfba6011788464d8e93925b2f01
(cherry picked from commit e7894c0b2308692364b72a7dc22cb5a32cd5c3b8)
(cherry picked from commit 87fc83d7b1334dd2bd5852ae9edf44f87d29e79c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/786891/6 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/bug-1907214-df2f07cbacbe8a24.yaml']",4,ac9d4acbaf885f5326bb8af1935040f45198fe17,bug/1907214,--- features: - | The ``OS::TripleO::{{role.name}}::PreNetworkConfig`` resource has been restored. This resource can be used to implement any configuration steps executed before network configurations are applied. fixes: - | Now ``ExtraConfigPre`` resource and ``NodeExtraConfig`` resource are executed after network configurations are applied in nodes. This is consitent with the previous version with heat software deployment mechanism instead of config-download. ,,56,1
openstack%2Fopenstack-chef~master~I1bc074bab15fa3aa7ece7651cc6fb7281ff3fc4b,openstack/openstack-chef,master,I1bc074bab15fa3aa7ece7651cc6fb7281ff3fc4b,Update docs to reference OFTC instead of Freenode,MERGED,2021-06-03 07:45:01.000000000,2021-06-03 09:37:07.000000000,2021-06-03 09:35:52.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 07:45:01.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/contributor/meetings.rst', 'doc/source/contributor/talk-to-us.rst'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/fcd2066b47752cabcb7113a946a5428dc4455d8d', 'message': 'Update docs to reference OFTC instead of Freenode\n\nChange-Id: I1bc074bab15fa3aa7ece7651cc6fb7281ff3fc4b\n'}]",0,794456,fcd2066b47752cabcb7113a946a5428dc4455d8d,7,2,1,13252,,,0,"Update docs to reference OFTC instead of Freenode

Change-Id: I1bc074bab15fa3aa7ece7651cc6fb7281ff3fc4b
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/56/794456/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/contributor/meetings.rst', 'doc/source/contributor/talk-to-us.rst']",3,fcd2066b47752cabcb7113a946a5428dc4455d8d,oftc,* Find us on `OFTC <https://oftc.net/>`_. Join the ``#openstack-chef`` channel.,* Find us on `Freenode <https://freenode.net/>`_. Join the ``#openstack-chef`` channel.,4,4
openstack%2Fswift~master~I965238a537d0eb41db92340e541171a7ad8e48de,openstack/swift,master,I965238a537d0eb41db92340e541171a7ad8e48de,"POC: shard tails:  scan_progress, last_upper, index",NEW,2021-06-03 08:10:18.000000000,2021-06-03 09:19:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 08:10:18.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d6832185a0eebe4be07ac13fc7a6733be2085dd', 'message': ""POC: shard tails:  scan_progress, last_upper, index\n\nThis is just a quick follow up example of one possible improvement where\nwe also start tracking last_upper and the index in the CleaveContext.\nAnd pass the cleave context in.\n\nThis patch isn't meant to merge, just a form of diff to see what we\ncould do. If we like the direction it can be squashed in. But wanted to\nleave the parent as is as it's currently at a central point of\ndiscussion.\n\nChange-Id: I965238a537d0eb41db92340e541171a7ad8e48de\n""}]",1,794460,0d6832185a0eebe4be07ac13fc7a6733be2085dd,2,1,1,7233,,,0,"POC: shard tails:  scan_progress, last_upper, index

This is just a quick follow up example of one possible improvement where
we also start tracking last_upper and the index in the CleaveContext.
And pass the cleave context in.

This patch isn't meant to merge, just a form of diff to see what we
could do. If we like the direction it can be squashed in. But wanted to
leave the parent as is as it's currently at a central point of
discussion.

Change-Id: I965238a537d0eb41db92340e541171a7ad8e48de
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/794460/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py', 'swift/container/backend.py']",3,0d6832185a0eebe4be07ac13fc7a6733be2085dd,track_scan_progress_fix_tails," def _get_number_of_objects_to(self, name): self._commit_puts_stale_ok() with self.get() as connection: sql = ('SELECT count(name) as c FROM object WHERE %s=0 ' % self._get_deleted_key(connection)) args = [] if name: sql += ""AND name <= ? "" args.append(str(name)) row = connection.execute(sql, args).fetchone() return row['c'] if row else 0 def find_shard_ranges(self, shard_size, scan_context, limit=-1, minimum_size=0): :param scan_context: A CleaveContext that's tracking the scanning progress return [], False existing_shards = self.get_shard_ranges() if not scan_context.scanning_started and existing_shards: scan_context.last_upper = existing_shards[-1].upper scan_context.progress = self._get_number_of_objects_to( scan_context.last_upper) scan_context.index = len(existing_shards) if scan_context.last_upper >= own_shard_range.upper: return [], True else: scan_context.last_upper = own_shard_range.lower while limit is None or limit < 0 or len(found_ranges) < limit: if scan_context.progress + shard_size + minimum_size \ >= object_count: shard_size, scan_context.last_upper) shard_size = object_count - scan_context.progress {'index': scan_context.index, 'lower': str(scan_context.last_upper), scan_context.progress += shard_size if next_shard_upper == own_shard_range.upper: return found_ranges, True scan_context.last_upper = next_shard_upper scan_context.index += 1 return found_ranges, False"," def find_shard_ranges(self, shard_size, limit=-1, existing_ranges=None, progress=0, minimum_size=0): :param existing_ranges: an optional list of existing ShardRanges; if given, this list should be sorted in order of upper bounds; the scan for new shard ranges will start at the upper bound of the last existing ShardRange. :param progress: Supply the approx progress the scanner has made. This is optional, but helps reduce small tail shards. existing_ranges = existing_ranges or [] return [], False, progress if existing_ranges: last_shard_upper = existing_ranges[-1].upper if progress == 0: progress = sum([sr.object_count for sr in existing_ranges]) if last_shard_upper >= own_shard_range.upper: return [], True, progress else: last_shard_upper = own_shard_range.lower index = len(existing_ranges) while limit is None or limit < 0 or len(found_ranges) < limit: if progress + shard_size + minimum_size >= object_count: shard_size, last_shard_upper) shard_size = object_count - progress {'index': index, 'lower': str(last_shard_upper), progress += shard_size if next_shard_upper == own_shard_range.upper: return found_ranges, True, progress last_shard_upper = next_shard_upper index += 1 return found_ranges, False, progress",63,44
openstack%2Fpuppet-ec2api~stable%2Fwallaby~I64316e1bb130c9bba96cfa77ee2a2971363dcd97,openstack/puppet-ec2api,stable/wallaby,I64316e1bb130c9bba96cfa77ee2a2971363dcd97,Set fixture paths for unit tests,MERGED,2021-06-03 06:23:33.000000000,2021-06-03 09:15:04.000000000,2021-06-03 09:15:04.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:23:33.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/afc9662deee561916da1e562c82fc601fbbbaec0', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I64316e1bb130c9bba96cfa77ee2a2971363dcd97\n(cherry picked from commit 0d07da09818b31f4e7babeb7bea44df8f2ba1053)\n'}]",0,794431,afc9662deee561916da1e562c82fc601fbbbaec0,8,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I64316e1bb130c9bba96cfa77ee2a2971363dcd97
(cherry picked from commit 0d07da09818b31f4e7babeb7bea44df8f2ba1053)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/31/794431/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,afc9662deee561916da1e562c82fc601fbbbaec0,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fansible-hardening~master~Ice89ada6e009d3aaaff5fa261c7b9cf23216f159,openstack/ansible-hardening,master,Ice89ada6e009d3aaaff5fa261c7b9cf23216f159,Switch hardening to integrated tests,MERGED,2021-05-21 14:28:49.000000000,2021-06-03 09:10:21.000000000,2021-06-03 09:05:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-21 14:28:49.000000000', 'files': ['examples/playbook.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/6f354a7a4b1e44f5aaa0e4860896e3cb8bbb88e1', 'message': 'Switch hardening to integrated tests\n\nWe aim to decrease usage of the tests repo as much as we can, so we\nare switching roles to the tests completed by integrated repo.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/792639\nChange-Id: Ice89ada6e009d3aaaff5fa261c7b9cf23216f159\n'}]",0,792640,6f354a7a4b1e44f5aaa0e4860896e3cb8bbb88e1,13,4,1,28619,,,0,"Switch hardening to integrated tests

We aim to decrease usage of the tests repo as much as we can, so we
are switching roles to the tests completed by integrated repo.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/792639
Change-Id: Ice89ada6e009d3aaaff5fa261c7b9cf23216f159
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/40/792640/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'zuul.d/project.yaml']",2,6f354a7a4b1e44f5aaa0e4860896e3cb8bbb88e1,integrated_linters, - openstack-ansible-linters-jobs - openstack-ansible-deploy-hosts_metal-jobs, - openstack-ansible-role-jobs,19,1
openstack%2Fvalidations-libs~master~I2c87a85d2074443df53cb68d9a0d22520efdd990,openstack/validations-libs,master,I2c87a85d2074443df53cb68d9a0d22520efdd990,Remove VALIDATION_GROUPS constant,MERGED,2021-06-02 07:57:45.000000000,2021-06-03 09:10:00.000000000,2021-06-03 09:03:21.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-02 07:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8af7368cda0705a330ab76e0d4b95527676e62fd', 'message': 'Remove useless constant\n\n`VALIDATION_GROUPS` constant has been introduced in [1] and has never\nbeen used in a year. We could safely consider it useless!\n\n[1] https://opendev.org/openstack/validations-libs/commit/8cce4bfd64d28aba89a22d4885215616ab277c57\n\nChange-Id: I2c87a85d2074443df53cb68d9a0d22520efdd990\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-02 07:58:51.000000000', 'files': ['validations_libs/constants.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7cb048a1604c61132b5ad20c8ec4b9b0628a6554', 'message': 'Remove VALIDATION_GROUPS constant\n\n`VALIDATION_GROUPS` constant has been introduced in [1] and has never\nbeen used in a year. We could safely consider it useless!\n\n[1] https://opendev.org/openstack/validations-libs/commit/8cce4bfd64d28aba89a22d4885215616ab277c57\n\nChange-Id: I2c87a85d2074443df53cb68d9a0d22520efdd990\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,794156,7cb048a1604c61132b5ad20c8ec4b9b0628a6554,10,7,2,11491,,,0,"Remove VALIDATION_GROUPS constant

`VALIDATION_GROUPS` constant has been introduced in [1] and has never
been used in a year. We could safely consider it useless!

[1] https://opendev.org/openstack/validations-libs/commit/8cce4bfd64d28aba89a22d4885215616ab277c57

Change-Id: I2c87a85d2074443df53cb68d9a0d22520efdd990
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/56/794156/2 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,8af7368cda0705a330ab76e0d4b95527676e62fd,cleanup,,"VALIDATION_GROUPS = ['no-op', 'prep', 'post'] ",0,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~Id6e533b1dc96c41fff372bd34f3a5fbb1a52456b,openstack/tripleo-upgrade,stable/train,Id6e533b1dc96c41fff372bd34f3a5fbb1a52456b,[upgrade] Unload the kernel modules before leapp,MERGED,2021-06-01 13:48:14.000000000,2021-06-03 09:04:16.000000000,2021-06-03 09:04:16.000000000,"[{'_account_id': 10459}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-01 13:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a43593d6d73e74fdcea07cd5351cc8403365c5b1', 'message': '[upgrade] Unload the kernel modules before leapp\n\nThese modules must be unloaded just before leapp is run to\nprevent the error:\n\nInhibitor: Detected loaded kernel drivers which have been\nremoved in RHEL 8. Upgrade cannot proceed.\n\nWith the further information in /var/log/leapp/leapp-report.txt\n\nRisk Factor: high (inhibitor)\nTitle: Detected loaded kernel drivers which have been removed in\n       RHEL 8. Upgrade cannot proceed.\n\nSummary: Support for the following RHEL 7 device drivers has been\n         removed in RHEL 8:\n           - floppy\n           - pata_acpi\n\nPlease see https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/considerations_in_adopting_rhel_8/index#removed-device-drivers_hardware-enablement for details.\n\nRemediation: [hint] Please disable detected kernel drivers in\n             order to proceed with the upgrade process using the\n             rmmod or modprobe -r.\n\nRelated: rhbz#1962831\nRelated: rhbz#1962365\n\nChange-Id: Id6e533b1dc96c41fff372bd34f3a5fbb1a52456b\n'}, {'number': 2, 'created': '2021-06-02 09:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b071764bd1a251687dc4f0a1af191ea2e368a579', 'message': '[upgrade] Unload the kernel modules before leapp\n\nThese modules must be unloaded just before leapp is run to\nprevent the error:\n\nInhibitor: Detected loaded kernel drivers which have been\nremoved in RHEL 8. Upgrade cannot proceed.\n\nWith the further information in /var/log/leapp/leapp-report.txt\n\nRisk Factor: high (inhibitor)\nTitle: Detected loaded kernel drivers which have been removed in\n       RHEL 8. Upgrade cannot proceed.\n\nSummary: Support for the following RHEL 7 device drivers has been\n         removed in RHEL 8:\n           - floppy\n           - pata_acpi\n\nPlease see https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/considerations_in_adopting_rhel_8/index#removed-device-drivers_hardware-enablement for details.\n\nRemediation: [hint] Please disable detected kernel drivers in\n             order to proceed with the upgrade process using the\n             rmmod or modprobe -r.\n\nRelated: rhbz#1962831\nRelated: rhbz#1962365\n\nChange-Id: Id6e533b1dc96c41fff372bd34f3a5fbb1a52456b\n'}, {'number': 3, 'created': '2021-06-02 13:40:10.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d60ba5817d01a99826ac02ecbe3a5899629c5224', 'message': '[upgrade] Unload the kernel modules before leapp\n\nThese modules must be unloaded just before leapp is run to\nprevent the error:\n\nInhibitor: Detected loaded kernel drivers which have been\nremoved in RHEL 8. Upgrade cannot proceed.\n\nWith the further information in /var/log/leapp/leapp-report.txt\n\nRisk Factor: high (inhibitor)\nTitle: Detected loaded kernel drivers which have been removed in\n       RHEL 8. Upgrade cannot proceed.\n\nSummary: Support for the following RHEL 7 device drivers has been\n         removed in RHEL 8:\n           - floppy\n           - pata_acpi\n\nPlease see https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/considerations_in_adopting_rhel_8/index#removed-device-drivers_hardware-enablement for details.\n\nRemediation: [hint] Please disable detected kernel drivers in\n             order to proceed with the upgrade process using the\n             rmmod or modprobe -r.\n\nRelated: rhbz#1962831\nRelated: rhbz#1962365\n\nChange-Id: Id6e533b1dc96c41fff372bd34f3a5fbb1a52456b\n'}]",3,793971,d60ba5817d01a99826ac02ecbe3a5899629c5224,17,5,3,6816,,,0,"[upgrade] Unload the kernel modules before leapp

These modules must be unloaded just before leapp is run to
prevent the error:

Inhibitor: Detected loaded kernel drivers which have been
removed in RHEL 8. Upgrade cannot proceed.

With the further information in /var/log/leapp/leapp-report.txt

Risk Factor: high (inhibitor)
Title: Detected loaded kernel drivers which have been removed in
       RHEL 8. Upgrade cannot proceed.

Summary: Support for the following RHEL 7 device drivers has been
         removed in RHEL 8:
           - floppy
           - pata_acpi

Please see https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/considerations_in_adopting_rhel_8/index#removed-device-drivers_hardware-enablement for details.

Remediation: [hint] Please disable detected kernel drivers in
             order to proceed with the upgrade process using the
             rmmod or modprobe -r.

Related: rhbz#1962831
Related: rhbz#1962365

Change-Id: Id6e533b1dc96c41fff372bd34f3a5fbb1a52456b
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/71/793971/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,a43593d6d73e74fdcea07cd5351cc8403365c5b1,,"- name: Unload the kernel modules that are no longer supported in RHEL 8 shell: | module=floppy; sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded"" module=pata_acpi; sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded"" ",,5,0
openstack%2Freleases~master~I238227244c3e880ce82f3d2c9b5d50dac8425625,openstack/releases,master,I238227244c3e880ce82f3d2c9b5d50dac8425625,[octavia] Transition Train to EM,MERGED,2021-05-11 15:14:18.000000000,2021-06-03 09:00:59.000000000,2021-06-03 09:00:59.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-11 15:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9b0f78d7815de3e0f90fc66498f2d9ae682c3b18', 'message': '[octavia] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I238227244c3e880ce82f3d2c9b5d50dac8425625\n'}, {'number': 2, 'created': '2021-05-27 13:49:08.000000000', 'files': ['deliverables/train/octavia-lib.yaml', 'deliverables/train/octavia.yaml', 'deliverables/train/octavia-dashboard.yaml', 'deliverables/train/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/82b81c960f3800e7ebb291bc1a7d3625b5590476', 'message': '[octavia] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I238227244c3e880ce82f3d2c9b5d50dac8425625\n'}]",0,790762,82b81c960f3800e7ebb291bc1a7d3625b5590476,19,6,2,17685,,,0,"[octavia] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I238227244c3e880ce82f3d2c9b5d50dac8425625
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/790762/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/octavia-lib.yaml', 'deliverables/train/octavia.yaml', 'deliverables/train/octavia-dashboard.yaml', 'deliverables/train/python-octaviaclient.yaml']",4,9b0f78d7815de3e0f90fc66498f2d9ae682c3b18,train-em, - version: train-em projects: - repo: openstack/python-octaviaclient hash: b5397ea3e45935246824eedf96727979e3323d0b,,16,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I461e0fdc8fc717beed3aea7a66e41de1e11116da,openstack/tripleo-heat-templates,stable/wallaby,I461e0fdc8fc717beed3aea7a66e41de1e11116da,Add environment for external network VIP,MERGED,2021-06-02 00:25:01.000000000,2021-06-03 09:00:26.000000000,2021-06-03 09:00:26.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 00:25:01.000000000', 'files': ['environments/external-network-vip.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/218f5f31a93d5650da6a219cbff52ab282c8d03c', 'message': ""Add environment for external network VIP\n\nThis environment allows us to control the external VIP for Undercloud or Standalone SSL.\nWhen used, a network data has to be provided (e.g. network_data_undercloud.yaml) and\n`openstack tripleo deploy` must be called with --public-virtual-ip.\n\nIt's not really needed for Undercloud because\nenvironments/undercloud.yaml already sets the resource right, but for\nStandalone users this file will be useful when they want public\nendpoints to be listening on another network.\n\nChange-Id: I461e0fdc8fc717beed3aea7a66e41de1e11116da\n(cherry picked from commit d297c822c4177b98028e1a3b2838737b58eb3be1)\n""}]",0,794063,218f5f31a93d5650da6a219cbff52ab282c8d03c,7,3,1,3153,,,0,"Add environment for external network VIP

This environment allows us to control the external VIP for Undercloud or Standalone SSL.
When used, a network data has to be provided (e.g. network_data_undercloud.yaml) and
`openstack tripleo deploy` must be called with --public-virtual-ip.

It's not really needed for Undercloud because
environments/undercloud.yaml already sets the resource right, but for
Standalone users this file will be useful when they want public
endpoints to be listening on another network.

Change-Id: I461e0fdc8fc717beed3aea7a66e41de1e11116da
(cherry picked from commit d297c822c4177b98028e1a3b2838737b58eb3be1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/794063/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/external-network-vip.yaml'],1,218f5f31a93d5650da6a219cbff52ab282c8d03c,env/external_from_pool-stable/wallaby,"# This environment allows us to control the external VIP for Undercloud or Standalone SSL. # When used, a network data has to be provided (e.g. network_data_undercloud.yaml) and # `openstack tripleo deploy` must be called with --public-virtual-ip. resource_registry: OS::TripleO::Network::Ports::ExternalVipPort: ../network/ports/external_from_pool.yaml ",,5,0
openstack%2Freleases~master~I90d8f5a3718e92cbbcc9b7ceb5f0977371a2fc30,openstack/releases,master,I90d8f5a3718e92cbbcc9b7ceb5f0977371a2fc30,[PowerVMStackers] Transition Train to EM,MERGED,2021-05-11 15:19:30.000000000,2021-06-03 08:54:07.000000000,2021-06-03 08:54:07.000000000,"[{'_account_id': 13637}, {'_account_id': 16551}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:19:30.000000000', 'files': ['deliverables/train/ceilometer-powervm.yaml', 'deliverables/train/nova-powervm.yaml', 'deliverables/train/networking-powervm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e3f0ecd1c98cf9244abb9d1f9273c8e6c8c93da', 'message': '[PowerVMStackers] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I90d8f5a3718e92cbbcc9b7ceb5f0977371a2fc30\n'}]",0,790766,3e3f0ecd1c98cf9244abb9d1f9273c8e6c8c93da,10,5,1,17685,,,0,"[PowerVMStackers] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I90d8f5a3718e92cbbcc9b7ceb5f0977371a2fc30
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/790766/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/ceilometer-powervm.yaml', 'deliverables/train/nova-powervm.yaml', 'deliverables/train/networking-powervm.yaml']",3,3e3f0ecd1c98cf9244abb9d1f9273c8e6c8c93da,train-em, - version: train-em projects: - repo: openstack/networking-powervm hash: 50b81c3b2d874ecc0d81049cbcb265618534e4ba,,12,0
openstack%2Freleases~master~I63a9c98699c558f9403d358cc10e0c2c069609ef,openstack/releases,master,I63a9c98699c558f9403d358cc10e0c2c069609ef,[cyborg] Transition Train to EM,MERGED,2021-05-11 14:55:53.000000000,2021-06-03 08:52:29.000000000,2021-06-03 08:52:29.000000000,"[{'_account_id': 13629}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 14:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a4bdad45ff5b01749dd6eccff5f859b4975214ac', 'message': '[cyborg] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I63a9c98699c558f9403d358cc10e0c2c069609ef\n'}, {'number': 2, 'created': '2021-05-11 15:39:27.000000000', 'files': ['deliverables/train/python-cyborgclient.yaml', 'deliverables/train/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/98fc120b3dbfbe0697f6f6e60832de153131eeaf', 'message': '[cyborg] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I63a9c98699c558f9403d358cc10e0c2c069609ef\n'}]",0,790740,98fc120b3dbfbe0697f6f6e60832de153131eeaf,13,5,2,17685,,,0,"[cyborg] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I63a9c98699c558f9403d358cc10e0c2c069609ef
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/790740/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-cyborgclient.yaml', 'deliverables/train/cyborg.yaml', 'deliverables/train/cyborg-tempest-plugin.yaml']",3,a4bdad45ff5b01749dd6eccff5f859b4975214ac,train-em, - version: train-em projects: - repo: openstack/cyborg-tempest-plugin hash: cf8d927ed02ac1010d1887328c89dc6741d7e803,,12,0
openstack%2Freleases~master~I82f3fcac8bd30c48dce2effcb3f8a59be919de6b,openstack/releases,master,I82f3fcac8bd30c48dce2effcb3f8a59be919de6b,Release os-brick for Xena-1 milestone,MERGED,2021-05-25 09:58:03.000000000,2021-06-03 08:51:25.000000000,2021-06-03 08:51:25.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-25 09:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/97fa7963b24d563ebe0bb618a3523b2ebe13a95b', 'message': 'Release os-brick for Xena-1 milestone\n\nThis is a library release for osos-brick for the Xena-1\nmilestone. This repo includes commits that have not been releases for\nthis cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 4.3.0..f18a33b\nf18a33b Introduce mypy\n1b2e229 multipath/iscsi: remove devices from multipath monitoring\n985a49b vmware: Use cookiejar from oslo.vmware client directly\n534c04c setup.cfg: Replace dashes with underscores\neb566ce Enable bandit runs for tox\nd4205bd iSCSI: Fix flushing after multipath cfg change\n9afa1a0 Add Python3 xena unit tests\nab57392 Update master for stable/wallaby\n7cfdb76 Dropping explicit unicode literal\nb580124 connector: Fix comment of get_connector_properties regarding enforce_multipath\n28545c7 RBD: catch read exceptions prior to modifying offset\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I82f3fcac8bd30c48dce2effcb3f8a59be919de6b\n'}, {'number': 2, 'created': '2021-06-02 20:18:57.000000000', 'files': ['deliverables/xena/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cbd9403d60e8c2666f668ef4cfaf2af2d479b953', 'message': 'Release os-brick for Xena-1 milestone\n\nThis is a library release for osos-brick for the Xena-1\nmilestone. This repo includes commits that have not been releases for\nthis cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 4.3.0..f18a33b\nf18a33b Introduce mypy\n1b2e229 multipath/iscsi: remove devices from multipath monitoring\n985a49b vmware: Use cookiejar from oslo.vmware client directly\n534c04c setup.cfg: Replace dashes with underscores\neb566ce Enable bandit runs for tox\nd4205bd iSCSI: Fix flushing after multipath cfg change\n9afa1a0 Add Python3 xena unit tests\nab57392 Update master for stable/wallaby\n7cfdb76 Dropping explicit unicode literal\nb580124 connector: Fix comment of get_connector_properties regarding enforce_multipath\n28545c7 RBD: catch read exceptions prior to modifying offset\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I82f3fcac8bd30c48dce2effcb3f8a59be919de6b\n'}]",0,792921,cbd9403d60e8c2666f668ef4cfaf2af2d479b953,13,5,2,28522,,,0,"Release os-brick for Xena-1 milestone

This is a library release for osos-brick for the Xena-1
milestone. This repo includes commits that have not been releases for
this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 4.3.0..f18a33b
f18a33b Introduce mypy
1b2e229 multipath/iscsi: remove devices from multipath monitoring
985a49b vmware: Use cookiejar from oslo.vmware client directly
534c04c setup.cfg: Replace dashes with underscores
eb566ce Enable bandit runs for tox
d4205bd iSCSI: Fix flushing after multipath cfg change
9afa1a0 Add Python3 xena unit tests
ab57392 Update master for stable/wallaby
7cfdb76 Dropping explicit unicode literal
b580124 connector: Fix comment of get_connector_properties regarding enforce_multipath
28545c7 RBD: catch read exceptions prior to modifying offset

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I82f3fcac8bd30c48dce2effcb3f8a59be919de6b
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/792921/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/os-brick.yaml'],1,97fa7963b24d563ebe0bb618a3523b2ebe13a95b,xena-milestone-1,releases: - version: 4.4.0 projects: - repo: openstack/os-brick hash: f18a33b32249f2a340f4fda95234f2e9b88076fd,,5,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib6000467f830037c3d9721a3b6ebf06523225f98,openstack/tripleo-heat-templates,stable/wallaby,Ib6000467f830037c3d9721a3b6ebf06523225f98,Added the posibility of skipping the NFS ping test on the rear installation,MERGED,2021-06-02 07:00:07.000000000,2021-06-03 08:44:51.000000000,2021-06-03 08:44:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 07:00:07.000000000', 'files': ['deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f006d015657f4635115932715428cc1d5ee83ae4', 'message': 'Added the posibility of skipping the NFS ping test on the rear installation\n\nAlso changed the CI to skip this test.\n\nDepends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\nChange-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98\n(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)\n'}]",0,794072,f006d015657f4635115932715428cc1d5ee83ae4,7,3,1,22954,,,0,"Added the posibility of skipping the NFS ping test on the rear installation

Also changed the CI to skip this test.

Depends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
Change-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98
(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/794072/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'ci/environments/scenario001-standalone.yaml']",2,f006d015657f4635115932715428cc1d5ee83ae4,BnRSkipNFSTest-stable/wallaby, BackupAndRestoreSkipNFSTest: true,,8,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ibbf7ba3435da8dc9218403df76f0eb86df4374db,openstack/tripleo-ansible,stable/wallaby,Ibbf7ba3435da8dc9218403df76f0eb86df4374db,BnR Test NFS server conectivity & ubi-minimal container image,MERGED,2021-06-02 06:58:38.000000000,2021-06-03 08:36:11.000000000,2021-06-03 08:36:11.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 06:58:38.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bfee72c8c538d2c5f53cf07eef0e8dcf725901b', 'message': 'BnR Test NFS server conectivity & ubi-minimal container image\n\nWhen ReaR is configure there is no validation on the NFS server,\nthis patch adds a simple ping test validation to the NFS server.\nThe NFS ping test can be disabled with a variable.\n\nThis patch also switches from centos-8 to ubi-minimal container.\n\nChange-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\n(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)\n'}]",0,794071,8bfee72c8c538d2c5f53cf07eef0e8dcf725901b,7,3,1,22954,,,0,"BnR Test NFS server conectivity & ubi-minimal container image

When ReaR is configure there is no validation on the NFS server,
this patch adds a simple ping test validation to the NFS server.
The NFS ping test can be disabled with a variable.

This patch also switches from centos-8 to ubi-minimal container.

Change-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/794071/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",4,8bfee72c8c538d2c5f53cf07eef0e8dcf725901b,BnR_ping_nfs_test-stable/wallaby, # Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_nfs_test: false,,12,3
openstack%2Foctavia-lib~master~I5ed38a032fe4ac02a03791baf6ff7275688b8b68,openstack/octavia-lib,master,I5ed38a032fe4ac02a03791baf6ff7275688b8b68,Reuse the docs deps to benefit from constraints,ABANDONED,2021-06-03 01:54:05.000000000,2021-06-03 08:33:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 01:54:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/38aba340a876ee423ddc589c3a9a02a7e6f3732f', 'message': ""Reuse the docs deps to benefit from constraints\n\nTox trying to install latest versions for building releasenotes,\ndoc which may not be supported by stable and lower branches,\nso should be restricted by respective version's upper-constraints.txt\n\nChange-Id: I5ed38a032fe4ac02a03791baf6ff7275688b8b68\n""}]",0,794364,38aba340a876ee423ddc589c3a9a02a7e6f3732f,3,1,1,32029,,,0,"Reuse the docs deps to benefit from constraints

Tox trying to install latest versions for building releasenotes,
doc which may not be supported by stable and lower branches,
so should be restricted by respective version's upper-constraints.txt

Change-Id: I5ed38a032fe4ac02a03791baf6ff7275688b8b68
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/64/794364/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38aba340a876ee423ddc589c3a9a02a7e6f3732f,docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fopenstack-ansible-os_panko~master~Ibdb25497ff5d00e263314ab2c48a78feab9dc94b,openstack/openstack-ansible-os_panko,master,Ibdb25497ff5d00e263314ab2c48a78feab9dc94b,Deprecate support for Panko,ABANDONED,2021-06-03 08:06:17.000000000,2021-06-03 08:28:14.000000000,,[{'_account_id': 28619}],"[{'number': 1, 'created': '2021-06-03 08:06:17.000000000', 'files': ['tasks/main.yml', 'templates/panko.conf.j2', 'README.rst', 'setup.py', 'tests/os_panko-overrides.yml', 'defaults/main.yml', 'releasenotes/notes/use_uwsgi-ec064b70a3b4e0c1.yaml', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'meta/openstack-ansible.yml', 'vars/redhat.yml', 'releasenotes/source/rocky.rst', 'LICENSE', 'tasks/panko_pre_install.yml', 'tests/host_vars/localhost.yml', 'tasks/db_setup.yml', 'tests/host_vars/infra1.yml', 'vars/debian.yml', 'releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst', 'vars/main.yml', 'run_tests.sh', 'setup.cfg', 'tox.ini', 'meta/main.yml', 'examples/playbook.yml', 'tasks/service_setup.yml', 'releasenotes/source/_templates/.placeholder', 'tests/test-install-panko.yml', 'templates/api_paste.ini.j2', 'doc/Makefile', 'bindep.txt', 'tests/ansible-role-requirements.yml', 'Vagrantfile', 'tasks/panko_db_sync.yml', 'releasenotes/source/_static/.placeholder', 'tests/group_vars/all_containers.yml', 'releasenotes/source/stein.rst', 'tests/inventory', 'tasks/panko_post_install.yml', 'doc/source/_static/.gitkeep', 'releasenotes/source/pike.rst', 'doc/source/conf.py', 'manual-test.rc', 'handlers/main.yml', 'tests/test.yml', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'tests/host_vars/openstack1.yml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/ff8a272e2578fc508e990451fce0313c10d73e5c', 'message': 'Deprecate support for Panko\n\n... because Panko has been retired.\n\n[1] https://review.opendev.org/c/openstack/panko/+/791683\n\nChange-Id: Ibdb25497ff5d00e263314ab2c48a78feab9dc94b\n'}]",0,794457,ff8a272e2578fc508e990451fce0313c10d73e5c,3,1,1,32029,,,0,"Deprecate support for Panko

... because Panko has been retired.

[1] https://review.opendev.org/c/openstack/panko/+/791683

Change-Id: Ibdb25497ff5d00e263314ab2c48a78feab9dc94b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/57/794457/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/panko.conf.j2', 'README.rst', 'setup.py', 'tests/os_panko-overrides.yml', 'defaults/main.yml', 'releasenotes/notes/use_uwsgi-ec064b70a3b4e0c1.yaml', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'meta/openstack-ansible.yml', 'vars/redhat.yml', 'releasenotes/source/rocky.rst', 'LICENSE', 'tasks/panko_pre_install.yml', 'tests/host_vars/localhost.yml', 'tasks/db_setup.yml', 'tests/host_vars/infra1.yml', 'vars/debian.yml', 'releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst', 'vars/main.yml', 'run_tests.sh', 'setup.cfg', 'tox.ini', 'meta/main.yml', 'examples/playbook.yml', 'tasks/service_setup.yml', 'releasenotes/source/_templates/.placeholder', 'tests/test-install-panko.yml', 'templates/api_paste.ini.j2', 'doc/Makefile', 'bindep.txt', 'tests/ansible-role-requirements.yml', 'Vagrantfile', 'tasks/panko_db_sync.yml', 'releasenotes/source/_static/.placeholder', 'tests/group_vars/all_containers.yml', 'releasenotes/source/stein.rst', 'tests/inventory', 'tasks/panko_post_install.yml', 'doc/source/_static/.gitkeep', 'releasenotes/source/pike.rst', 'doc/source/conf.py', 'manual-test.rc', 'handlers/main.yml', 'tests/test.yml', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'tests/host_vars/openstack1.yml', 'zuul.d/project.yaml', 'doc/requirements.txt', 'releasenotes/source/conf.py']",54,ff8a272e2578fc508e990451fce0313c10d73e5c,retire-panko,,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. author = 'OpenStack-Ansible Contributors' category = 'Miscellaneous' copyright = '2014-2016, OpenStack-Ansible Contributors' description = 'OpenStack-Ansible deploys OpenStack environments using Ansible.' project = 'OpenStack-Ansible' role_name = 'os_panko' target_name = 'openstack-ansible-' + role_name title = 'OpenStack-Ansible Documentation: Central testing repository' # Release notes do not need a version number in the title, they # cover multiple releases. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # openstackdocstheme options openstackdocs_repo_name = 'openstack/' + target_name openstackdocs_bug_project = project.lower() openstackdocs_bug_tag = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = target_name + '-docs' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ (master_doc, target_name + '.tex', title, author, 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ (master_doc, target_name, title, [author], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ (master_doc, target_name, title, author, project, description, category), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",0,2743
openstack%2Fkayobe~stable%2Fvictoria~I9a7f010760da1f6fee45c96705c1cf159c3a0ca3,openstack/kayobe,stable/victoria,I9a7f010760da1f6fee45c96705c1cf159c3a0ca3,docs: Update Freenode to OFTC,MERGED,2021-06-02 14:57:12.000000000,2021-06-03 08:21:34.000000000,2021-06-03 08:19:58.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-02 14:57:12.000000000', 'files': ['doc/source/contributor/contributing.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0a8f1fb67fb4cab7029cdf615f3280e975bcd1bf', 'message': 'docs: Update Freenode to OFTC\n\nChange-Id: I9a7f010760da1f6fee45c96705c1cf159c3a0ca3\n(cherry picked from commit 9883726bf2b43d7ff6abc4a071cb18d212623938)\n'}]",0,794242,0a8f1fb67fb4cab7029cdf615f3280e975bcd1bf,8,4,1,15197,,,0,"docs: Update Freenode to OFTC

Change-Id: I9a7f010760da1f6fee45c96705c1cf159c3a0ca3
(cherry picked from commit 9883726bf2b43d7ff6abc4a071cb18d212623938)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/794242/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst']",2,0a8f1fb67fb4cab7029cdf615f3280e975bcd1bf,,* IRC: #openstack-kolla on OFTC,* IRC: #openstack-kolla,2,2
openstack%2Fkayobe~stable%2Fqueens~I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f,openstack/kayobe,stable/queens,I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f,Remove newline from default public_net_name,ABANDONED,2020-06-05 22:42:51.000000000,2021-06-03 08:14:37.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 22:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c93c69901a5c952012031e1775b221737a8b7969', 'message': 'Remove newline from default public_net_name\n\nThe public network name is set via public_net_name, and its default\nvalue is the first item in the external_net_names list. The variable\nuses the YAML folded block scalar notation, but does not use the\nchomping indictator, which means the string is assigned a trailing\nnewline.\n\nThis change fixes the issue by adding the chomping indicator.\n\nChange-Id: I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f\nStory: 2007654\nTask: 39731\n(cherry picked from commit 6beaf5b5e38c3a90651afb67899d8ee6661e2cf9)\n'}, {'number': 2, 'created': '2020-06-05 22:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/63979391c0673ed0e214c13a8fdba7f8c9633dde', 'message': 'Remove newline from default public_net_name\n\nThe public network name is set via public_net_name, and its default\nvalue is the first item in the external_net_names list. The variable\nuses the YAML folded block scalar notation, but does not use the\nchomping indictator, which means the string is assigned a trailing\nnewline.\n\nThis change fixes the issue by adding the chomping indicator.\n\nChange-Id: I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f\nDepends-On: https://review.opendev.org/733882\nStory: 2007654\nTask: 39731\n(cherry picked from commit 6beaf5b5e38c3a90651afb67899d8ee6661e2cf9)\n'}, {'number': 3, 'created': '2020-06-18 06:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a957dc522c640967426165ac6bc2b497d321c1be', 'message': 'Remove newline from default public_net_name\n\nThe public network name is set via public_net_name, and its default\nvalue is the first item in the external_net_names list. The variable\nuses the YAML folded block scalar notation, but does not use the\nchomping indictator, which means the string is assigned a trailing\nnewline.\n\nThis change fixes the issue by adding the chomping indicator.\n\nThis commit also enables seed container image build to work around a\nbroken bifrost-deploy queens image on Docker Hub.\n\nChange-Id: I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f\nDepends-On: https://review.opendev.org/733882\nStory: 2007654\nTask: 39731\n(cherry picked from commit 6beaf5b5e38c3a90651afb67899d8ee6661e2cf9)\n'}, {'number': 4, 'created': '2020-06-18 14:17:13.000000000', 'files': ['releasenotes/notes/fix-default-public-net-name-067338275460b50d.yaml', 'ansible/group_vars/all/network'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1abeac68502f76a0b4f62506a8bd9908ed9d93ef', 'message': 'Remove newline from default public_net_name\n\nThe public network name is set via public_net_name, and its default\nvalue is the first item in the external_net_names list. The variable\nuses the YAML folded block scalar notation, but does not use the\nchomping indictator, which means the string is assigned a trailing\nnewline.\n\nThis change fixes the issue by adding the chomping indicator.\n\nChange-Id: I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f\nStory: 2007654\nTask: 39731\n(cherry picked from commit 6beaf5b5e38c3a90651afb67899d8ee6661e2cf9)\n'}]",0,733931,1abeac68502f76a0b4f62506a8bd9908ed9d93ef,10,3,4,15197,,,0,"Remove newline from default public_net_name

The public network name is set via public_net_name, and its default
value is the first item in the external_net_names list. The variable
uses the YAML folded block scalar notation, but does not use the
chomping indictator, which means the string is assigned a trailing
newline.

This change fixes the issue by adding the chomping indicator.

Change-Id: I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f
Story: 2007654
Task: 39731
(cherry picked from commit 6beaf5b5e38c3a90651afb67899d8ee6661e2cf9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/733931/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-default-public-net-name-067338275460b50d.yaml', 'ansible/group_vars/all/network']",2,c93c69901a5c952012031e1775b221737a8b7969,story/2007654-stable/queens,public_net_name: >-,public_net_name: >,8,1
openstack%2Fswift~master~I27922d0381dffec2fad1baaeb63dd184430739e9,openstack/swift,master,I27922d0381dffec2fad1baaeb63dd184430739e9,sharder: Track scan progress to fix small tails,NEW,2021-05-28 07:02:42.000000000,2021-06-03 08:12:24.000000000,,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 07:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89c3663fb8c3eea2ab1c040165f753f6f080c9aa', 'message': ""sharder: Track scan progress to fix small tails\n\nHere is a simpler approach which doesn't touch the DB or SQL, further it\ndoesn't need a rows_per_shard = auto. Instead we simply track the scan\nprocess. Scanning is a part of sharding, so why not track it the way we\ntrack other sharding progress. In the CleaveContext.\n\nOnly the chosen scanner will actually track it, but that's ok because\nit'll actually store where that replica is up to so it should remain\nprecise enough.\n\nAlso add a minimum_size option to s-m-s-r to pipe this through so we can\nfix the small tail problem.\n\nWe might want to plumb this as a sharder commandline.\n\nChange-Id: I27922d0381dffec2fad1baaeb63dd184430739e9\n""}, {'number': 2, 'created': '2021-05-31 10:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/31e61908070a8f693b8897ce30db29328293f234', 'message': ""sharder: Track scan progress to fix small tails\n\nHere is a simpler approach which doesn't touch the DB or SQL, further it\ndoesn't need a rows_per_shard = auto. Instead we simply track the scan\nprocess. Scanning is a part of sharding, so why not track it the way we\ntrack other sharding progress. In the CleaveContext.\n\nOnly the chosen scanner will actually track it, but that's ok because\nit'll actually store where that replica is up to so it should remain\nprecise enough.\n\nAlso add a minimum_size option to s-m-s-r to pipe this through so we can\nfix the small tail problem.\n\nWe might want to plumb this as a sharder commandline.\n\nChange-Id: I27922d0381dffec2fad1baaeb63dd184430739e9\n""}, {'number': 3, 'created': '2021-06-01 05:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e1c08d95a23b9fd0060e078364b2df416d400778', 'message': ""sharder: Track scan progress to fix small tails\n\nHere is a simpler approach which doesn't touch the DB or SQL, further it\ndoesn't need a rows_per_shard = auto. Instead we simply track the scan\nprocess. Scanning is a part of sharding, so why not track it the way we\ntrack other sharding progress. In the CleaveContext.\n\nOnly the chosen scanner will actually track it, but that's ok because\nit'll actually store where that replica is up to so it should remain\nprecise enough.\n\nAlso add a minimum_size option to s-m-s-r to pipe this through so we can\nfix the small tail problem.\n\nWe might want to plumb this as a sharder commandline.\n\nChange-Id: I27922d0381dffec2fad1baaeb63dd184430739e9\n""}, {'number': 4, 'created': '2021-06-02 05:25:03.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'doc/source/config/container_server_config.rst', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/366af3e24ae5b8142f940b78feb43d3ca45630cd', 'message': ""sharder: Track scan progress to fix small tails\n\nHere is a simpler approach which doesn't touch the DB or SQL, further it\ndoesn't need a rows_per_shard = auto. Instead we simply track the scan\nprocess. Scanning is a part of sharding, so why not track it the way we\ntrack other sharding progress. In the CleaveContext.\n\nOnly the chosen scanner will actually track it, but that's ok because\nit'll actually store where that replica is up to so it should remain\nprecise enough.\n\nAlso add a minimum_size option to s-m-s-r to pipe this through so we can\nfix the small tail problem.\n\nWe might want to plumb this as a sharder commandline.\n\nChange-Id: I27922d0381dffec2fad1baaeb63dd184430739e9\n""}]",11,793543,366af3e24ae5b8142f940b78feb43d3ca45630cd,14,3,4,7233,,,0,"sharder: Track scan progress to fix small tails

Here is a simpler approach which doesn't touch the DB or SQL, further it
doesn't need a rows_per_shard = auto. Instead we simply track the scan
process. Scanning is a part of sharding, so why not track it the way we
track other sharding progress. In the CleaveContext.

Only the chosen scanner will actually track it, but that's ok because
it'll actually store where that replica is up to so it should remain
precise enough.

Also add a minimum_size option to s-m-s-r to pipe this through so we can
fix the small tail problem.

We might want to plumb this as a sharder commandline.

Change-Id: I27922d0381dffec2fad1baaeb63dd184430739e9
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/793543/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py']",5,89c3663fb8c3eea2ab1c040165f753f6f080c9aa,track_scan_progress_fix_tails," def find_shard_ranges(self, shard_size, limit=-1, existing_ranges=None, progress=0, minimum_size=0): :param: progress: Supply the approx progress the scanner has made. This is optional, but helps reduce small tail shards. :param: minimum_size: Supply a minimum size for which the last range needs to be to be squashed into the previous. return [], False, progress return [], True, progress if progress + shard_size + minimum_size >= object_count: # object count may include misplaced objects so the final # shard size may not be accurate until cleaved, but at # least the sum of shard sizes will equal the unsharded # object_count shard_size = object_count - progress if next_shard_upper == own_shard_range.upper: return found_ranges, True, progress return found_ranges, False, progress"," def find_shard_ranges(self, shard_size, limit=-1, existing_ranges=None): return [], False progress = 0 progress_reliable = True if all([sr.state == ShardRange.FOUND for sr in existing_ranges]): progress = sum([sr.object_count for sr in existing_ranges]) else: # else: object count in existing shard ranges may have changed # since they were found so progress cannot be reliably # calculated; use default progress of zero - that's ok, # progress is used for optimisation not correctness progress_reliable = False return [], True if progress + shard_size >= object_count: if progress_reliable: # object count may include misplaced objects so the final # shard size may not be accurate until cleaved, but at # least the sum of shard sizes will equal the unsharded # object_count shard_size = object_count - progress if next_shard_upper == own_shard_range.upper: return found_ranges, True return found_ranges, False",178,46
openstack%2Fpuppet-keystone~stable%2Fwallaby~I8c0589bccbac4776720badfdb009b966ac2f7087,openstack/puppet-keystone,stable/wallaby,I8c0589bccbac4776720badfdb009b966ac2f7087,Set fixture paths for unit tests,MERGED,2021-06-03 06:23:05.000000000,2021-06-03 07:55:12.000000000,2021-06-03 07:55:12.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/581a62a118462f132767bdbac9f7e4d2e4ff6ad8', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I8c0589bccbac4776720badfdb009b966ac2f7087\n(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)\n'}, {'number': 2, 'created': '2021-06-03 06:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2071d805d1f7af5b387559839ec5f7c8e206b299', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I8c0589bccbac4776720badfdb009b966ac2f7087\n(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)\n'}, {'number': 3, 'created': '2021-06-03 06:24:03.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ae038d99087c80d6ab239f1f9cb98dc63f649094', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I8c0589bccbac4776720badfdb009b966ac2f7087\n(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)\n'}]",0,794430,ae038d99087c80d6ab239f1f9cb98dc63f649094,8,2,3,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I8c0589bccbac4776720badfdb009b966ac2f7087
(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/30/794430/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,581a62a118462f132767bdbac9f7e4d2e4ff6ad8,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')", Dir[File.dirname(__FILE__) + '/support/**/*.rb'].each { |f| require f },5,2
openstack%2Fpuppet-swift~stable%2Fwallaby~If2601644bbb8eeba3c103b25184e96e3c6f967ac,openstack/puppet-swift,stable/wallaby,If2601644bbb8eeba3c103b25184e96e3c6f967ac,Set fixture paths for unit tests,MERGED,2021-06-03 06:22:56.000000000,2021-06-03 07:40:05.000000000,2021-06-03 07:40:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:22:56.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d4c2ce558f06cee4775f32b1573f4d7d89c773d6', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If2601644bbb8eeba3c103b25184e96e3c6f967ac\n(cherry picked from commit 4eaee6777d27667e31f1ee013971d64a378fb33f)\n'}]",0,794429,d4c2ce558f06cee4775f32b1573f4d7d89c773d6,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If2601644bbb8eeba3c103b25184e96e3c6f967ac
(cherry picked from commit 4eaee6777d27667e31f1ee013971d64a378fb33f)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/29/794429/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,d4c2ce558f06cee4775f32b1573f4d7d89c773d6,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-octavia~stable%2Fwallaby~I1645afb89e33cfe03e25b09c446e2d47fc6b9f18,openstack/puppet-octavia,stable/wallaby,I1645afb89e33cfe03e25b09c446e2d47fc6b9f18,Set fixture paths for unit tests,MERGED,2021-06-03 06:21:52.000000000,2021-06-03 07:38:21.000000000,2021-06-03 07:38:21.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:21:52.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/7f1264d7c205a8639402ea964f3eebf15ef10b67', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I1645afb89e33cfe03e25b09c446e2d47fc6b9f18\n(cherry picked from commit 456e7ff27663471a27ff19be44637e6992572891)\n'}]",0,794426,7f1264d7c205a8639402ea964f3eebf15ef10b67,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I1645afb89e33cfe03e25b09c446e2d47fc6b9f18
(cherry picked from commit 456e7ff27663471a27ff19be44637e6992572891)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/26/794426/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,7f1264d7c205a8639402ea964f3eebf15ef10b67,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-nova~stable%2Fwallaby~I1df7c3d76fd99f08c01d170f2270d31388ec8604,openstack/puppet-nova,stable/wallaby,I1df7c3d76fd99f08c01d170f2270d31388ec8604,Set fixture paths for unit tests,MERGED,2021-06-03 06:16:38.000000000,2021-06-03 07:34:59.000000000,2021-06-03 07:34:59.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:16:38.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7fd91ce41ab4a36e1722834af1dbad1cae808e1a', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I1df7c3d76fd99f08c01d170f2270d31388ec8604\n(cherry picked from commit 53b661e26b5af3b11bcbee6d887c0447f959e41e)\n'}]",0,794392,7fd91ce41ab4a36e1722834af1dbad1cae808e1a,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I1df7c3d76fd99f08c01d170f2270d31388ec8604
(cherry picked from commit 53b661e26b5af3b11bcbee6d887c0447f959e41e)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/92/794392/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,7fd91ce41ab4a36e1722834af1dbad1cae808e1a,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-watcher~stable%2Fwallaby~I50f23198d4bbcf17d741a589ad6dd2132d0a2e25,openstack/puppet-watcher,stable/wallaby,I50f23198d4bbcf17d741a589ad6dd2132d0a2e25,Set fixture paths for unit tests,MERGED,2021-06-03 06:14:18.000000000,2021-06-03 07:34:00.000000000,2021-06-03 07:34:00.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:14:18.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/6794529e4523babc0d02295202cf2496e94fc9dc', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I50f23198d4bbcf17d741a589ad6dd2132d0a2e25\n(cherry picked from commit 8063b23de1a3c835ab2d81864e2661717571ae9b)\n'}]",0,794388,6794529e4523babc0d02295202cf2496e94fc9dc,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I50f23198d4bbcf17d741a589ad6dd2132d0a2e25
(cherry picked from commit 8063b23de1a3c835ab2d81864e2661717571ae9b)
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/88/794388/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,6794529e4523babc0d02295202cf2496e94fc9dc,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-tempest~stable%2Fwallaby~If8216b4759dbe210ff174a9f4e240cd61c7365cb,openstack/puppet-tempest,stable/wallaby,If8216b4759dbe210ff174a9f4e240cd61c7365cb,Set fixture paths for unit tests,MERGED,2021-06-03 06:12:15.000000000,2021-06-03 07:30:58.000000000,2021-06-03 07:30:58.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:12:15.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/bb8b3269b9c7a73402ff936c8adf0da9366d73ba', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: If8216b4759dbe210ff174a9f4e240cd61c7365cb\n(cherry picked from commit 59731cdc96d1563df9074440fc2d689098f1a34d)\n'}]",0,794382,bb8b3269b9c7a73402ff936c8adf0da9366d73ba,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If8216b4759dbe210ff174a9f4e240cd61c7365cb
(cherry picked from commit 59731cdc96d1563df9074440fc2d689098f1a34d)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/82/794382/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,bb8b3269b9c7a73402ff936c8adf0da9366d73ba,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-zaqar~stable%2Fwallaby~I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb,openstack/puppet-zaqar,stable/wallaby,I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb,Set fixture paths for unit tests,MERGED,2021-06-03 06:14:26.000000000,2021-06-03 07:29:40.000000000,2021-06-03 07:29:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/ecffa5dbb881ae8b2844de37cacab1bd292a9729', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb\n(cherry picked from commit 0afad6e6c350a5b4635af375d69c70bcdd4b43bb)\n'}, {'number': 2, 'created': '2021-06-03 06:15:28.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/c06222e1377ce169ee636f40fd42a5c73685b2bf', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb\n(cherry picked from commit 0afad6e6c350a5b4635af375d69c70bcdd4b43bb)\n'}]",0,794389,c06222e1377ce169ee636f40fd42a5c73685b2bf,7,2,2,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb
(cherry picked from commit 0afad6e6c350a5b4635af375d69c70bcdd4b43bb)
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/89/794389/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,ecffa5dbb881ae8b2844de37cacab1bd292a9729,bug/1930403-stable/wallaby-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-panko~stable%2Fwallaby~I2c7828b0198f51e8b77b83a0f3a793e747da69c8,openstack/puppet-panko,stable/wallaby,I2c7828b0198f51e8b77b83a0f3a793e747da69c8,Set fixture paths for unit tests,MERGED,2021-06-03 06:20:21.000000000,2021-06-03 07:27:35.000000000,2021-06-03 07:27:35.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:20:21.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/7331ecdc1ee7d15304e34168f3658a31441c4469', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I2c7828b0198f51e8b77b83a0f3a793e747da69c8\n(cherry picked from commit bdbc8382d8f58f380ffaa05a6cd4c522366495fc)\n'}]",0,794421,7331ecdc1ee7d15304e34168f3658a31441c4469,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2c7828b0198f51e8b77b83a0f3a793e747da69c8
(cherry picked from commit bdbc8382d8f58f380ffaa05a6cd4c522366495fc)
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/21/794421/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,7331ecdc1ee7d15304e34168f3658a31441c4469,bug/1930403-stable/wallaby,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fkolla-ansible~master~I073d0b4e3f48bab12486209a15df172b7d376830,openstack/kolla-ansible,master,I073d0b4e3f48bab12486209a15df172b7d376830,Remove redundant option in mariadb_backup,ABANDONED,2021-01-30 02:16:22.000000000,2021-06-03 07:25:34.000000000,,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-01-30 02:16:22.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b45c14b82b4b4c9ae0be70789818444f81957d5', 'message': ""Remove redundant option in mariadb_backup\n\nMariabackup will do full backup by default, '--full' option\nis redundant, we will not use this option normally.\n\nwe can also refer to the doc, this option is not be added:\nhttps: //docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html\nChange-Id: I073d0b4e3f48bab12486209a15df172b7d376830\n""}]",0,773219,2b45c14b82b4b4c9ae0be70789818444f81957d5,7,15,1,32245,,,0,"Remove redundant option in mariadb_backup

Mariabackup will do full backup by default, '--full' option
is redundant, we will not use this option normally.

we can also refer to the doc, this option is not be added:
https: //docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html
Change-Id: I073d0b4e3f48bab12486209a15df172b7d376830
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/773219/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,2b45c14b82b4b4c9ae0be70789818444f81957d5,mariabackup," mariadb_backup Take a backup of MariaDB databases (do full backup by default)LONG_OPTS=""help,inventory:,playbook:,skip-tags:,tags:,key:,extra:,verbose,configdir:,passwords:,limit:,forks:,vault-id:,ask-vault-pass,vault-password-file:,yes-i-really-really-mean-it,include-images,include-dev:,incremental"""," mariadb_backup Take a backup of MariaDB databases --full (default)LONG_OPTS=""help,inventory:,playbook:,skip-tags:,tags:,key:,extra:,verbose,configdir:,passwords:,limit:,forks:,vault-id:,ask-vault-pass,vault-password-file:,yes-i-really-really-mean-it,include-images,include-dev:,full,incremental"" (--full) BACKUP_TYPE=""full"" shift 1 ;; ",2,8
