id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foslo.config~master~I9a5e096e528ccf47f50b0ea67463cbe0cd359cd9,openstack/oslo.config,master,I9a5e096e528ccf47f50b0ea67463cbe0cd359cd9,Remove universal wheel configuration,MERGED,2020-02-06 17:33:57.000000000,2020-02-10 12:24:37.000000000,2020-02-10 12:21:42.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-02-06 17:33:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d9b8f2eaa4d75ac66a16e256f4404a810b972240', 'message': ""Remove universal wheel configuration\n\nNow that we've dropped py2 support we shouldn't be setting this\nanymore.\n\nChange-Id: I9a5e096e528ccf47f50b0ea67463cbe0cd359cd9\n""}]",0,706334,d9b8f2eaa4d75ac66a16e256f4404a810b972240,10,4,1,6928,,,0,"Remove universal wheel configuration

Now that we've dropped py2 support we shouldn't be setting this
anymore.

Change-Id: I9a5e096e528ccf47f50b0ea67463cbe0cd359cd9
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/34/706334/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d9b8f2eaa4d75ac66a16e256f4404a810b972240,no-universal,,[bdist_wheel] universal = 1,0,2
openstack%2Foslotest~master~I90d3644e5427e1f4aa42cbfe4591668e9e8ded24,openstack/oslotest,master,I90d3644e5427e1f4aa42cbfe4591668e9e8ded24,gitignore: Ignore reno artefacts,MERGED,2019-12-19 09:57:03.000000000,2020-02-10 12:21:29.000000000,2020-02-10 12:19:40.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-19 09:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/c7d5ff873dca557b50bdc65659a7d5ce21d7b81f', 'message': 'gitignore: Ignore reno artefacts\n\nChange-Id: I90d3644e5427e1f4aa42cbfe4591668e9e8ded24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2019-12-20 11:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/a50618f479d9c2b5a112241cd03596cd2ba20793', 'message': 'gitignore: Ignore reno artefacts\n\nChange-Id: I90d3644e5427e1f4aa42cbfe4591668e9e8ded24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-02-10 11:59:17.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/10a61d7efc3c60bfab72857a96d85c2206d9d975', 'message': 'gitignore: Ignore reno artefacts\n\nChange-Id: I90d3644e5427e1f4aa42cbfe4591668e9e8ded24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,699943,10a61d7efc3c60bfab72857a96d85c2206d9d975,13,4,3,15334,,,0,"gitignore: Ignore reno artefacts

Change-Id: I90d3644e5427e1f4aa42cbfe4591668e9e8ded24
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/43/699943/3 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,c7d5ff873dca557b50bdc65659a7d5ce21d7b81f,trivial,RELEASENOTES.rstreleasenotes/notes/reno.cache,,2,0
openstack%2Foslo.concurrency~master~I527a088254035c227d66cac27516c59b2ca186ff,openstack/oslo.concurrency,master,I527a088254035c227d66cac27516c59b2ca186ff,Stop to build universal wheel,MERGED,2020-02-03 17:39:21.000000000,2020-02-10 12:21:26.000000000,2020-02-10 12:19:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 17:39:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/cb1a83259dd3f0bdaa79a093d365805a25e0e030', 'message': 'Stop to build universal wheel\n\nRemove forgotten bdist wheel config\n\nChange-Id: I527a088254035c227d66cac27516c59b2ca186ff\n'}]",0,705498,cb1a83259dd3f0bdaa79a093d365805a25e0e030,7,2,1,28522,,,0,"Stop to build universal wheel

Remove forgotten bdist wheel config

Change-Id: I527a088254035c227d66cac27516c59b2ca186ff
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/98/705498/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cb1a83259dd3f0bdaa79a093d365805a25e0e030,remove-bdist-wheel,, [bdist_wheel] universal = 1,0,3
openstack%2Fdevstack-plugin-kafka~master~I25d32ff766a65a9f304f6ba3ab0d376556d193c5,openstack/devstack-plugin-kafka,master,I25d32ff766a65a9f304f6ba3ab0d376556d193c5,bump tox to 3.1.1,MERGED,2020-02-04 14:41:55.000000000,2020-02-10 12:18:24.000000000,2020-02-10 12:18:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 14:41:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-kafka/commit/305802ea2e5df49933cdc46c218ca270a2f9470f', 'message': 'bump tox to 3.1.1\n\nChange-Id: I25d32ff766a65a9f304f6ba3ab0d376556d193c5\n'}]",0,705698,305802ea2e5df49933cdc46c218ca270a2f9470f,6,2,1,28522,,,0,"bump tox to 3.1.1

Change-Id: I25d32ff766a65a9f304f6ba3ab0d376556d193c5
",git fetch https://review.opendev.org/openstack/devstack-plugin-kafka refs/changes/98/705698/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,305802ea2e5df49933cdc46c218ca270a2f9470f,tox-3.1.1,minversion = 3.1.1,minversion = 1.6,1,1
openstack%2Ftripleo-heat-templates~master~I760a4e532e0c299efcf57cee68e8e8f93795ea29,openstack/tripleo-heat-templates,master,I760a4e532e0c299efcf57cee68e8e8f93795ea29,Create /var/lib/config-data if it doesn't exist.,MERGED,2020-02-07 09:17:51.000000000,2020-02-10 12:18:24.000000000,2020-02-08 05:19:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-07 09:17:51.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee5d5e55ee64a1c4a7f1083c72acea59423793e2', 'message': ""Create /var/lib/config-data if it doesn't exist.\n\nWhen performing the Undercloud upgrade from OSP13\nto OSP16, we start from an almost empty Undercloud\nnode which has been upgraded to RHEL8 via Leapp.\nThe /var/lib/config-data is being lost during the\nupgrade procedure, so this task makes sure that the\nfolder exists before checking the selinux state.\n\nChange-Id: I760a4e532e0c299efcf57cee68e8e8f93795ea29\n""}]",4,706449,ee5d5e55ee64a1c4a7f1083c72acea59423793e2,12,10,1,26343,,,0,"Create /var/lib/config-data if it doesn't exist.

When performing the Undercloud upgrade from OSP13
to OSP16, we start from an almost empty Undercloud
node which has been upgraded to RHEL8 via Leapp.
The /var/lib/config-data is being lost during the
upgrade procedure, so this task makes sure that the
folder exists before checking the selinux state.

Change-Id: I760a4e532e0c299efcf57cee68e8e8f93795ea29
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/706449/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,ee5d5e55ee64a1c4a7f1083c72acea59423793e2,ffwd-upgrade2, - name: make sure /var/lib/config-data exists file: path: /var/lib/config-data state: directory setype: svirt_sandbox_file_t selevel: s0,,6,0
openstack%2Foslo.log~master~I0c06914b9cdf57924dbb3a961d226019e7cff5eb,openstack/oslo.log,master,I0c06914b9cdf57924dbb3a961d226019e7cff5eb,Stop to build universal wheel,MERGED,2020-02-03 17:41:13.000000000,2020-02-10 12:15:20.000000000,2020-02-10 12:13:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 17:41:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/37ed8cb5f8f0f5b394c057332bf8c5bce099bf82', 'message': 'Stop to build universal wheel\n\nRemove forgotten bdist wheel config\n\nChange-Id: I0c06914b9cdf57924dbb3a961d226019e7cff5eb\n'}]",0,705499,37ed8cb5f8f0f5b394c057332bf8c5bce099bf82,7,2,1,28522,,,0,"Stop to build universal wheel

Remove forgotten bdist wheel config

Change-Id: I0c06914b9cdf57924dbb3a961d226019e7cff5eb
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/99/705499/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,37ed8cb5f8f0f5b394c057332bf8c5bce099bf82,remove-bdist-wheel,, [bdist_wheel] universal = 1,0,3
openstack%2Fmistral-extra~master~Ie9897c612ec16985ecd0b1c2ee0b058a8df781d9,openstack/mistral-extra,master,Ie9897c612ec16985ecd0b1c2ee0b058a8df781d9,Don't fail the unit tests if a client isn't installed,ABANDONED,2020-02-07 11:45:03.000000000,2020-02-10 12:08:49.000000000,,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-02-07 11:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/904dbbc1c6bb65ec3d3e37ad1b3cd36b0ecc87a6', 'message': ""Don't fail the unit tests if a client isn't installed\n\nThe Python clients should be considered optional. This is why we don't\nerror when importing them. This changes the test_generator test to be\ntollerant of clients that are not installed.\n\nThis can happen in a couple of situations;\n- we don't want to fail if one client is bad and doesn't install correctly.\n- Alternatively when packaged by downstream consumers (such as the RDO rpms)\n  not all OpenStack clients are packaged. they will then be missing but the\n  package building process still uses the tests for verification.\n\nChange-Id: Ie9897c612ec16985ecd0b1c2ee0b058a8df781d9\n""}, {'number': 2, 'created': '2020-02-07 11:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/0551fc94c8b9743df0ef03593cc7f7bd59955c70', 'message': ""Don't fail the unit tests if a client isn't installed\n\nThe Python clients should be considered optional. This is why we don't\nerror when importing them. This changes the test_generator test to be\ntollerant of clients that are not installed.\n\nThis can happen in a couple of situations;\n- we don't want to fail if one client is bad and doesn't install correctly.\n- Alternatively when packaged by downstream consumers (such as the RDO rpms)\n  not all OpenStack clients are packaged. they will then be missing but the\n  package building process still uses the tests for verification.\n\nChange-Id: Ie9897c612ec16985ecd0b1c2ee0b058a8df781d9\n""}, {'number': 3, 'created': '2020-02-07 11:50:51.000000000', 'files': ['mistral_extra/tests/unit/actions/openstack/test_generator.py'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/770fc4cc3122140ac793eec5b3413c304c7c8bf0', 'message': ""Don't fail the unit tests if a client isn't installed\n\nThe Python clients should be considered optional. This is why we don't\nerror when importing them. This changes the test_generator test to be\ntollerant of clients that are not installed.\n\nThis can happen in a couple of situations;\n- we don't want to fail if one client is bad and doesn't install correctly.\n- Alternatively when packaged by downstream consumers (such as the RDO rpms)\n  not all OpenStack clients are packaged. they will then be missing but the\n  package building process still uses the tests for verification.\n\nNeeded-By: https://review.rdoproject.org/r/#/c/14216/\nChange-Id: Ie9897c612ec16985ecd0b1c2ee0b058a8df781d9\n""}]",0,706475,770fc4cc3122140ac793eec5b3413c304c7c8bf0,9,7,3,9712,,,0,"Don't fail the unit tests if a client isn't installed

The Python clients should be considered optional. This is why we don't
error when importing them. This changes the test_generator test to be
tollerant of clients that are not installed.

This can happen in a couple of situations;
- we don't want to fail if one client is bad and doesn't install correctly.
- Alternatively when packaged by downstream consumers (such as the RDO rpms)
  not all OpenStack clients are packaged. they will then be missing but the
  package building process still uses the tests for verification.

Needed-By: https://review.rdoproject.org/r/#/c/14216/
Change-Id: Ie9897c612ec16985ecd0b1c2ee0b058a8df781d9
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/75/706475/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_extra/tests/unit/actions/openstack/test_generator.py'],1,904dbbc1c6bb65ec3d3e37ad1b3cd36b0ecc87a6,," try: action_cls._get_client_class() except AttributeError: # This means the client import failed, so it isn't installed. continue ",,6,0
openstack%2Fneutron~stable%2Frocky~If276a7613c156f8c826967c9c8cbd6f2a8d32674,openstack/neutron,stable/rocky,If276a7613c156f8c826967c9c8cbd6f2a8d32674,Notify router_update after directly gateway IP change,ABANDONED,2020-01-31 12:34:47.000000000,2020-02-10 12:05:25.000000000,,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:34:47.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80e5af7d3ff8ff77efbfeccac6eba4bbcc74864d', 'message': ""Notify router_update after directly gateway IP change\n\nIf directly change router gateway port IP address, the gateway IP\ndoes not changed in router related namespace in l3 agent side. This\npatch adds a method to catch a 'PORT' IP change event, and notify\nthe L3 agent.\n\nConflicts:\n    neutron/tests/fullstack/test_l3_agent.py\n\nCloses-Bug: #1795222\nChange-Id: If276a7613c156f8c826967c9c8cbd6f2a8d32674\n(cherry picked from commit 8c17df7138744de567d1e45cfb604a0221db90ab)\n""}]",0,705205,80e5af7d3ff8ff77efbfeccac6eba4bbcc74864d,8,4,1,11975,,,0,"Notify router_update after directly gateway IP change

If directly change router gateway port IP address, the gateway IP
does not changed in router related namespace in l3 agent side. This
patch adds a method to catch a 'PORT' IP change event, and notify
the L3 agent.

Conflicts:
    neutron/tests/fullstack/test_l3_agent.py

Closes-Bug: #1795222
Change-Id: If276a7613c156f8c826967c9c8cbd6f2a8d32674
(cherry picked from commit 8c17df7138744de567d1e45cfb604a0221db90ab)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/705205/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py']",4,80e5af7d3ff8ff77efbfeccac6eba4bbcc74864d,bug/1826695,"from neutron_lib import constants def _test_gateway_ip_changed(self): tenant_id = uuidutils.generate_uuid() ext_net, ext_sub = self._create_external_network_and_subnet(tenant_id) external_vm = self.useFixture( machine_fixtures.FakeMachine( self.environment.central_bridge, common_utils.ip_to_cidr(ext_sub['gateway_ip'], 24))) router = self.safe_client.create_router(tenant_id, external_network=ext_net['id']) vm = self._create_net_subnet_and_vm( tenant_id, ['20.0.0.0/24', '2001:db8:aaaa::/64'], self.environment.hosts[1], router) # ping external vm to test snat vm.block_until_ping(external_vm.ip) fip = self.safe_client.create_floatingip( tenant_id, ext_net['id'], vm.ip, vm.neutron_port['id']) # ping floating ip from external vm external_vm.block_until_ping(fip['floating_ip_address']) # ping router gateway IP old_gw_ip = router['external_gateway_info'][ 'external_fixed_ips'][0]['ip_address'] external_vm.block_until_ping(old_gw_ip) gateway_port = self.safe_client.list_ports( device_id=router['id'], device_owner=constants.DEVICE_OWNER_ROUTER_GW)[0] ip_1 = str(netaddr.IPNetwork( ext_sub['gateway_ip']).next(100)).split('/')[0] ip_2 = str(netaddr.IPNetwork( ext_sub['gateway_ip']).next(101)).split('/')[0] self.safe_client.update_port(gateway_port['id'], fixed_ips=[ {'ip_address': ip_1}, {'ip_address': ip_2}]) # ping router gateway new IPs external_vm.block_until_ping(ip_1) external_vm.block_until_ping(ip_2) # ping router old gateway IP, should fail now external_vm.block_until_no_ping(old_gw_ip) def test_gateway_ip_changed(self): self._test_gateway_ip_changed() self._assert_ping_during_agents_restart( l3_active_agents, external_vm.namespace, [router_ip], count=60) def test_gateway_ip_changed(self): self._test_gateway_ip_changed()",,156,0
openstack%2Fneutron~stable%2Fqueens~If276a7613c156f8c826967c9c8cbd6f2a8d32674,openstack/neutron,stable/queens,If276a7613c156f8c826967c9c8cbd6f2a8d32674,Notify router_update after directly gateway IP change,ABANDONED,2020-01-31 12:35:22.000000000,2020-02-10 12:05:10.000000000,,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:35:22.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/146d47d9243aae431d33f0738230651b1358b303', 'message': ""Notify router_update after directly gateway IP change\n\nIf directly change router gateway port IP address, the gateway IP\ndoes not changed in router related namespace in l3 agent side. This\npatch adds a method to catch a 'PORT' IP change event, and notify\nthe L3 agent.\n\nConflicts:\n    neutron/tests/fullstack/test_l3_agent.py\n\nCloses-Bug: #1795222\nChange-Id: If276a7613c156f8c826967c9c8cbd6f2a8d32674\n(cherry picked from commit 8c17df7138744de567d1e45cfb604a0221db90ab)\n""}]",0,705207,146d47d9243aae431d33f0738230651b1358b303,10,4,1,11975,,,0,"Notify router_update after directly gateway IP change

If directly change router gateway port IP address, the gateway IP
does not changed in router related namespace in l3 agent side. This
patch adds a method to catch a 'PORT' IP change event, and notify
the L3 agent.

Conflicts:
    neutron/tests/fullstack/test_l3_agent.py

Closes-Bug: #1795222
Change-Id: If276a7613c156f8c826967c9c8cbd6f2a8d32674
(cherry picked from commit 8c17df7138744de567d1e45cfb604a0221db90ab)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/705207/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py']",4,146d47d9243aae431d33f0738230651b1358b303,bug/1826695-stable/queens,"from neutron_lib import constants def _test_gateway_ip_changed(self): tenant_id = uuidutils.generate_uuid() ext_net, ext_sub = self._create_external_network_and_subnet(tenant_id) external_vm = self.useFixture( machine_fixtures.FakeMachine( self.environment.central_bridge, common_utils.ip_to_cidr(ext_sub['gateway_ip'], 24))) router = self.safe_client.create_router(tenant_id, external_network=ext_net['id']) vm = self._create_net_subnet_and_vm( tenant_id, ['20.0.0.0/24', '2001:db8:aaaa::/64'], self.environment.hosts[1], router) # ping external vm to test snat vm.block_until_ping(external_vm.ip) fip = self.safe_client.create_floatingip( tenant_id, ext_net['id'], vm.ip, vm.neutron_port['id']) # ping floating ip from external vm external_vm.block_until_ping(fip['floating_ip_address']) # ping router gateway IP old_gw_ip = router['external_gateway_info'][ 'external_fixed_ips'][0]['ip_address'] external_vm.block_until_ping(old_gw_ip) gateway_port = self.safe_client.list_ports( device_id=router['id'], device_owner=constants.DEVICE_OWNER_ROUTER_GW)[0] ip_1 = str(netaddr.IPNetwork( ext_sub['gateway_ip']).next(100)).split('/')[0] ip_2 = str(netaddr.IPNetwork( ext_sub['gateway_ip']).next(101)).split('/')[0] self.safe_client.update_port(gateway_port['id'], fixed_ips=[ {'ip_address': ip_1}, {'ip_address': ip_2}]) # ping router gateway new IPs external_vm.block_until_ping(ip_1) external_vm.block_until_ping(ip_2) # ping router old gateway IP, should fail now external_vm.block_until_no_ping(old_gw_ip) def test_gateway_ip_changed(self): self._test_gateway_ip_changed() self._assert_ping_during_agents_restart( l3_active_agents, external_vm.namespace, [router_ip], count=60) def test_gateway_ip_changed(self): self._test_gateway_ip_changed()",,156,0
openstack%2Fneutron~stable%2Frocky~I24fcecd9686ad17fa50093bb8bccab0d6c711298,openstack/neutron,stable/rocky,I24fcecd9686ad17fa50093bb8bccab0d6c711298,Remove L3 IP QoS cache when router is down,ABANDONED,2020-01-31 12:34:47.000000000,2020-02-10 12:05:05.000000000,,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:34:47.000000000', 'files': ['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3489ce72c31a6df2bb845ee10a61625250ff6a94', 'message': ""Remove L3 IP QoS cache when router is down\n\nWhen router admin-state is down or removed, fip-qos and gateway-ip-qos\nextension should delete the router IPs' QoS rate limit cache. Then if\nthe router is up again the router floating IPs QoS can be reconfigured.\nThis patch achives these:\n1. make sure floating IP or gateway IP QoS cache removed.\n2. floating IP QoS can be re-configured to snat device when router\n   doing admin_state down/up.\n\nConflicts:\n    neutron/agent/l3/extensions/qos/fip.py\n    neutron/tests/fullstack/test_l3_agent.py\n    neutron/tests/unit/agent/l3/extensions/qos/test_gateway_ip.py\n\nCloses-Bug: #1826695\nChange-Id: I24fcecd9686ad17fa50093bb8bccab0d6c711298\n(cherry picked from commit 78629e0d3780af4a8a8cc1b5b0762e0bc8a48f1f)\n""}]",0,705206,3489ce72c31a6df2bb845ee10a61625250ff6a94,7,4,1,11975,,,0,"Remove L3 IP QoS cache when router is down

When router admin-state is down or removed, fip-qos and gateway-ip-qos
extension should delete the router IPs' QoS rate limit cache. Then if
the router is up again the router floating IPs QoS can be reconfigured.
This patch achives these:
1. make sure floating IP or gateway IP QoS cache removed.
2. floating IP QoS can be re-configured to snat device when router
   doing admin_state down/up.

Conflicts:
    neutron/agent/l3/extensions/qos/fip.py
    neutron/tests/fullstack/test_l3_agent.py
    neutron/tests/unit/agent/l3/extensions/qos/test_gateway_ip.py

Closes-Bug: #1826695
Change-Id: I24fcecd9686ad17fa50093bb8bccab0d6c711298
(cherry picked from commit 78629e0d3780af4a8a8cc1b5b0762e0bc8a48f1f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/705206/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/test_l3_agent.py']",6,3489ce72c31a6df2bb845ee10a61625250ff6a94,bug/1826695,"from neutron.agent.linux import l3_tc_lib def _get_namespace(self, router_id, agent=None): namespace = namespaces.build_ns_name(namespaces.NS_PREFIX, router_id) if agent: suffix = agent.get_namespace_suffix() else: suffix = self.environment.hosts[0].l3_agent.get_namespace_suffix() return ""%s@%s"" % (namespace, suffix) def _get_l3_agents_with_ha_state( self, l3_agents, router_id, ha_state=None): found_agents = [] agents_hosting_router = self.client.list_l3_agent_hosting_routers( router_id)['agents'] for agent in l3_agents: agent_host = agent.neutron_cfg_fixture.get_host() for agent_hosting_router in agents_hosting_router: if (agent_hosting_router['host'] == agent_host and ((ha_state is None) or ( agent_hosting_router['ha_state'] == ha_state))): found_agents.append(agent) break return found_agents def _router_fip_qos_after_admin_state_down_up(self, ha=False): tenant_id = uuidutils.generate_uuid() ext_net, ext_sub = self._create_external_network_and_subnet(tenant_id) external_vm = self._create_external_vm(ext_net, ext_sub) router = self.safe_client.create_router(tenant_id, ha=ha, external_network=ext_net['id']) vm = self._create_net_subnet_and_vm( tenant_id, ['20.0.0.0/24', '2001:db8:aaaa::/64'], self.environment.hosts[1], router) # ping external vm to test snat vm.block_until_ping(external_vm.ip) qos_policy = self.safe_client.create_qos_policy( tenant_id, 'fs_policy', 'Fullstack testing policy', shared='False', is_default='False') self.safe_client.create_bandwidth_limit_rule( tenant_id, qos_policy['id'], 1111, 2222, constants.INGRESS_DIRECTION) self.safe_client.create_bandwidth_limit_rule( tenant_id, qos_policy['id'], 3333, 4444, constants.EGRESS_DIRECTION) fip = self.safe_client.create_floatingip( tenant_id, ext_net['id'], vm.ip, vm.neutron_port['id'], qos_policy_id=qos_policy['id']) # ping floating ip from external vm external_vm.block_until_ping(fip['floating_ip_address']) self.safe_client.update_router(router['id'], admin_state_up=False) external_vm.block_until_no_ping(fip['floating_ip_address']) self.safe_client.update_router(router['id'], admin_state_up=True) external_vm.block_until_ping(fip['floating_ip_address']) if ha: l3_agents = [host.agents['l3'] for host in self.environment.hosts] router_agent = self._get_l3_agents_with_ha_state( l3_agents, router['id'])[0] qrouter_ns = self._get_namespace( router['id'], router_agent) else: qrouter_ns = self._get_namespace(router['id']) ip = ip_lib.IPWrapper(qrouter_ns) common_utils.wait_until_true(lambda: ip.get_devices()) devices = ip.get_devices() for dev in devices: if dev.name.startswith(""qg-""): interface_name = dev.name tc_wrapper = l3_tc_lib.FloatingIPTcCommand( interface_name, namespace=qrouter_ns) common_utils.wait_until_true( functools.partial( self._wait_until_filters_set, tc_wrapper), timeout=60) def _wait_until_filters_set(self, tc_wrapper): def _is_filter_set(direction): filter_ids = tc_wrapper.get_existing_filter_ids( direction) if not filter_ids: return False return 1 == len(filter_ids) return (_is_filter_set(constants.INGRESS_DIRECTION) and _is_filter_set(constants.EGRESS_DIRECTION)) environment.HostDescription(l3_agent=True, dhcp_agent=True, l3_agent_extensions=""fip_qos""), network_type='vlan', l2_pop=False, qos=True), namespace = self._get_namespace(router['id']) namespace = self._get_namespace(router['id']) def test_router_fip_qos_after_admin_state_down_up(self): self._router_fip_qos_after_admin_state_down_up() environment.HostDescription(l3_agent=True, dhcp_agent=True, l3_agent_extensions=""fip_qos"") network_type='vlan', l2_pop=True, qos=True), def test_router_fip_qos_after_admin_state_down_up(self): self._router_fip_qos_after_admin_state_down_up(ha=True)"," environment.HostDescription(l3_agent=True, dhcp_agent=True), network_type='vlan', l2_pop=False), def _get_namespace(self, router_id): return namespaces.build_ns_name(namespaces.NS_PREFIX, router_id) namespace = ""%s@%s"" % ( self._get_namespace(router['id']), self.environment.hosts[0].l3_agent.get_namespace_suffix(), ) namespace = ""%s@%s"" % ( self._get_namespace(router['id']), self.environment.hosts[0].l3_agent.get_namespace_suffix(), ) environment.HostDescription(l3_agent=True, dhcp_agent=True) network_type='vxlan', l2_pop=True), def _get_l3_agents_with_ha_state(self, l3_agents, router_id, ha_state): found_agents = [] agents_hosting_router = self.client.list_l3_agent_hosting_routers( router_id)['agents'] for agent in l3_agents: agent_host = agent.neutron_cfg_fixture.get_host() for agent_hosting_router in agents_hosting_router: if (agent_hosting_router['host'] == agent_host and agent_hosting_router['ha_state'] == ha_state): found_agents.append(agent) break return found_agents ",170,39
openstack%2Ftripleo-quickstart~master~I9c434b7a907f02aee712bebe532abcae1a948320,openstack/tripleo-quickstart,master,I9c434b7a907f02aee712bebe532abcae1a948320,Split fs20 periodic tempest - api* in fs1 scenario* in fs20,MERGED,2020-01-03 11:40:53.000000000,2020-02-10 12:03:36.000000000,2020-02-10 11:58:25.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-03 11:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f7f2ebdb55f2c1671c221097007635125f929f3e', 'message': 'DNM: test fs20 tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1383\n\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 2, 'created': '2020-01-03 11:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7058d55a60cd52879622468c1fbebbf47b4b59b1', 'message': 'DNM: test fs20 tempest\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1383\n\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 3, 'created': '2020-01-03 15:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/24ecbfeeb92f4db02419cbc69069865d00c5aae5', 'message': 'DNM: test fs20 tempest\n\nTesting in https://review.rdoproject.org/r/#/c/24339/\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1383\n\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 4, 'created': '2020-01-03 15:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8926c325761d7b0cc01b5a286a77246a20702766', 'message': 'DNM: test fs20 tempest\n\nTesting in https://review.rdoproject.org/r/#/c/24339/\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1383\n\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 5, 'created': '2020-01-06 10:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/36d9d03a315f813e1b83357834cd50fe5d962d74', 'message': 'DNM: test fs20 tempest\n\nTesting in https://review.rdoproject.org/r/#/c/24339/\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1383\n\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 6, 'created': '2020-01-09 15:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c509f795dc5d18e9f51b0f8ed83b3fce772a5f8f', 'message': 'DNM: Run tempest scenario fs20 + api in fs10\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\nFS20 now runs only scenarios and fs10 or fs1 (TBD tests[2])\nwill run all api tests.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 7, 'created': '2020-01-17 10:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ada36e29cc54b4b237f118915769816028f1e618', 'message': 'DNM: Run tempest scenario fs20 + api in fs10\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\nFS20 now runs only scenarios and fs10 or fs1 (TBD tests[2])\nwill run all api tests.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 8, 'created': '2020-01-23 12:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eae35440777006bc1d20023d4b4b3374ffe1831a', 'message': 'DNM: split periodic tempest fs 10 api and 20 scenario\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\nfs20 runs .*scenarios and fs10 or fs1 (TBD tests[2]) .*api.\n\nNOTE: the *.api for fs10 only applies to periodic pipeline\nwe are not changing check/gate. The depends on is for a\ntimeout bump for fs10 to 3.5 hours as the job needs ~3 hours\nin tests [2].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24612\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 9, 'created': '2020-01-23 12:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/235e14b1d0742aa3f997df7ce6b05e3c4c975ed6', 'message': 'DNM: split periodic tempest fs 10 api and 20 scenario\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\nfs20 runs .*scenarios and fs10 or fs1 (TBD tests[2]) .*api.\n\nNOTE: the *.api for fs10 only applies to periodic pipeline\nwe are not changing check/gate. The depends on is for a\ntimeout bump for fs10 to 3.5 hours as the job needs ~3 hours\nin tests [2].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24612\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 10, 'created': '2020-01-27 23:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/41b53f43ad267194053cc94c800d08c309baec71', 'message': 'DNM: split periodic tempest fs 10 api and 20 scenario\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\nfs20 runs .*scenarios and fs10 or fs1 (TBD tests[2]) .*api.\n\nNOTE: the *.api for fs10 only applies to periodic pipeline\nwe are not changing check/gate. The depends on is for a\ntimeout bump for fs10 to 3.5 hours as the job needs ~3 hours\nin tests [2].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24612\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 11, 'created': '2020-01-29 12:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0a520a6bdad5df7b591943b5c585b6fc1c769443', 'message': 'Split fs20 periodic tempest *api* in fs1 *scenario* in fs20\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24612\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 12, 'created': '2020-01-29 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e3c9af3c5d7065f1bc103cbba46a1d6d5e9d9676', 'message': 'Split fs20 periodic tempest *api* in fs1 *scenario* in fs20\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 13, 'created': '2020-01-29 12:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d62323eb893be2d3ea6e9c644ea5a373b4e6ffd8', 'message': 'Split fs20 periodic tempest *api* in fs1 *scenario* in fs20\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\nTesting in [2]. Depends-On bumps the fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 14, 'created': '2020-01-29 12:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e8ad8b2d361475bf73219c16ddf79921fcf8685c', 'message': 'Split fs20 periodic tempest *api* in fs1 *scenario* in fs20\n\nThe idea is to reduce the number of tests on fs20 to\nmake it more stable. Tracked by tripleo-ci squad in [1].\nTesting in [2]. Depends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 15, 'created': '2020-01-29 16:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e34ef227d71d5a976fc636f01c309821ab19af7a', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce the tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 16, 'created': '2020-01-30 11:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/175b6871c4c85f069a896d128bcde5f59f7c3c61', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 17, 'created': '2020-01-30 16:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2364394b9c5edc31c41e2c5752c5cb2ad0a07a8c', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 18, 'created': '2020-01-31 14:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cbee8051e5112db227c0e93192b8ca5ada2c122d', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24724\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 19, 'created': '2020-02-03 10:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e8b811c535990733fdc7edf8e524667359fef305', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24781\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 20, 'created': '2020-02-06 21:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c922275ca57788c4c37c7349ad7b43d435e8188a', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24781\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}, {'number': 21, 'created': '2020-02-09 19:16:51.000000000', 'files': ['config/general_config/featureset020.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/95ce02b0bb815e0dedb65344b89eb1f15f161d21', 'message': 'Split fs20 periodic tempest - api* in fs1 scenario* in fs20\n\nWe want to reduce tests in fs20 for stability and runtime.\nTracked by tripleo-ci squad in [1]. Testing in [2].\nDepends-On bumps fs1 timeout to 5hrs.\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383\n[2] https://review.rdoproject.org/r/#/c/24339/\nDepends-On: https://review.rdoproject.org/r/24781\nChange-Id: I9c434b7a907f02aee712bebe532abcae1a948320\n'}]",38,701016,95ce02b0bb815e0dedb65344b89eb1f15f161d21,105,11,21,8449,,,0,"Split fs20 periodic tempest - api* in fs1 scenario* in fs20

We want to reduce tests in fs20 for stability and runtime.
Tracked by tripleo-ci squad in [1]. Testing in [2].
Depends-On bumps fs1 timeout to 5hrs.

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1383
[2] https://review.rdoproject.org/r/#/c/24339/
Depends-On: https://review.rdoproject.org/r/24781
Change-Id: I9c434b7a907f02aee712bebe532abcae1a948320
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/16/701016/7 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset020.yml', 'zuul.d/layout.yaml']",2,f7f2ebdb55f2c1671c221097007635125f929f3e,I9c434b7a907f02aee712bebe532abcae1a948320, check: jobs: # NO MERGE, templates: - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-full - openstack-tox-molecule check: jobs: - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - config/general_config/featureset030.yml - tripleo-ci-centos-7-scenario009-multinode-oooq-container: files: - config/general_config/featureset033.yml - requirements.txt - tripleo-ci-centos-7-standalone: files: - config/general_config/featureset052.yml - requirements.txt - openstack-tox-linters - tripleo-ci-centos-7-scenario010-multinode-oooq-container: files: - config/general_config/featureset038.yml,2,27
openstack%2Fopenstack-ansible~master~I636bf2fee1833d33d66c4f2812f2d510cabd15d6,openstack/openstack-ansible,master,I636bf2fee1833d33d66c4f2812f2d510cabd15d6,Add manila tempest testing,MERGED,2019-08-05 16:59:57.000000000,2020-02-10 12:02:23.000000000,2020-02-10 11:58:17.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-05 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d2b81cae0a725c5ce2d7f332764aa67fad1e5120', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 2, 'created': '2019-08-05 17:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a96ff8be7c4054e0e8a37d143b5b9051e0f979b0', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 3, 'created': '2019-08-05 18:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/87c2a6ec71ef514aa19b4eba6dc8ebcb38aa1f73', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 4, 'created': '2019-08-05 19:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a76319bc239a4d0cc6bf3c0aec6b2db6ff12e0a1', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 5, 'created': '2019-08-06 14:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b5a2926dc325223b3c4280b127863f18fc13d2a', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 6, 'created': '2019-08-06 16:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04cedd06cc006bf2b5efa9af8064202a9996f15a', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 7, 'created': '2019-08-06 18:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6c8cc44277b1bafd4c76e39efbd09355fcc88ffe', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 8, 'created': '2019-08-09 14:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/80be2b52354046e506408553b86afe4b0d29c627', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 9, 'created': '2019-08-12 10:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d3832525f75dbd011ed33905d7a89c9bfc77070f', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 10, 'created': '2019-08-12 15:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0725e7bbe319a3b885eac7acbdeeb79f7deb8424', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 11, 'created': '2019-10-24 10:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e826e6d07dcce0d5190c87d58db78df33f922cc6', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 12, 'created': '2020-01-10 13:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f087a18ef794a622833eb3aa26c31072d3c4fe6d', 'message': 'Add image for manila test\n\nThis patch adds definiton of extra image, which should be retrieved for\ncorrect work of tempest for running manila test.\nAdditionally it sets default manila backend to ceph and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 13, 'created': '2020-01-15 14:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d6ccf61911c2df9160bb5e9f0929c2900a2b3b80', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 14, 'created': '2020-01-15 16:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/08f1481a616b11fc7c92d5cd3fea6cf02fae65af', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 15, 'created': '2020-01-15 18:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b431af59f82ea26880950ffef3127e11fcc59ccb', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 16, 'created': '2020-01-16 13:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7424334221e0fc049d69d68e05c79e1c8967d33f', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 17, 'created': '2020-01-17 14:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0ba0ddc8002110792576aaa1edee2aedf372c78c', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 18, 'created': '2020-01-18 20:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ec27e9ec835bde4c4594a37ecd8d008739422ae', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 19, 'created': '2020-01-20 08:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/700f4b15f4d373f9dc3c53bfbb37a957d6073872', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 20, 'created': '2020-01-20 12:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/faf5d6f4ddb0def47be23f379c5bc70e69b7bc1f', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 21, 'created': '2020-01-20 15:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d7da3b6bed10352b268aac929d2315d6d6feb547', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 22, 'created': '2020-01-20 17:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc8aad8771110962c9d467501295463b8097a4b8', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 23, 'created': '2020-01-21 12:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88eaa12c4a45070894cae49781298aaa01da8a86', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 24, 'created': '2020-01-22 17:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f414738c3bd5cbc6640fbe518292aec20630c7fe', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 25, 'created': '2020-01-22 21:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6c0dd6094e3e2995b76844c23d702565f79ce1f1', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 26, 'created': '2020-01-23 11:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/288941dabbf9674c3fff8140341318d0de0c5c5c', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 27, 'created': '2020-01-23 11:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/44f870c90e705dc239c312f525e21ee118199e0f', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 28, 'created': '2020-01-23 11:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e4c5bd75473ef14611217b024a538a302c7194e4', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 29, 'created': '2020-01-23 17:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f193ede37990126391feebf0a157990785196349', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 30, 'created': '2020-01-23 21:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e4cd0cfe999b1a1d0e2d7740e135fb6aa26681af', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 31, 'created': '2020-01-24 12:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa6dddb9f42f372dee5231d10dbc6b68140bfcc2', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 32, 'created': '2020-01-24 18:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/07844f3ec705adf3356de4ccd82ffdf4c2f26dc6', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 33, 'created': '2020-01-27 18:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/be68ed205340efd2f0969db694be7a4fde4bd956', 'message': '[WIP] Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 34, 'created': '2020-01-30 09:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e48de6a383d6e0554ee1540fe5cff97295d7e40b', 'message': 'Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}, {'number': 35, 'created': '2020-02-03 16:51:07.000000000', 'files': ['scripts/log-collect.sh', 'etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'playbooks/ceph-rgw-install.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio', 'playbooks/setup-infrastructure.yml', 'etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2', 'inventory/group_vars/ceph_all.yml', 'playbooks/ceph-nfs-install.yml', 'inventory/group_vars/manila_all.yml', 'playbooks/os-manila-install.yml', 'inventory/group_vars/all/ceph.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a2ea4d3eeeb2659a09600cd6cf03ea7c1db06ac', 'message': 'Add manila tempest testing\n\nThis patch adds definiton of manila extra configuration, which should be used\nfor correct work of tempest and running manila test.\nAdditionally it sets default manila backend to cephfs and extends scenario\n\nChange-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6\n'}]",2,674653,8a2ea4d3eeeb2659a09600cd6cf03ea7c1db06ac,99,4,35,28619,,,0,"Add manila tempest testing

This patch adds definiton of manila extra configuration, which should be used
for correct work of tempest and running manila test.
Additionally it sets default manila backend to cephfs and extends scenario

Change-Id: I636bf2fee1833d33d66c4f2812f2d510cabd15d6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/674653/5 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,d2b81cae0a725c5ce2d7f332764aa67fad1e5120,manila_tempest,"tempest_manila_image: - url: ""http://tarballs.openstack.org/manila-image-elements/images/manila-service-image-master.qcow2"" format: ""qcow2"" name: ""manila-service-image"" tempest_images: ""{{ tempest_images_map[ansible_architecture] | append(tempest_manila_image) }}"" manila_default_share_type: nfs-share1",,9,0
openstack%2Foslotest~master~Icc42bab02840841bdd55b2a1666007be7fcabc10,openstack/oslotest,master,Icc42bab02840841bdd55b2a1666007be7fcabc10,Modernize docs build process.,ABANDONED,2019-12-19 09:57:03.000000000,2020-02-10 12:00:36.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-19 09:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/8e905e5f12994ca1b6029b85384dd540957f5d08', 'message': ""Stop calling 'build_sphinx'\n\nThis is deprecated behavior.\n\nChange-Id: Icc42bab02840841bdd55b2a1666007be7fcabc10\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-12-20 11:05:57.000000000', 'files': ['doc/source/reference/index.rst', 'test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/30f158bc564993d622dac2a8ba3410705e489592', 'message': ""Modernize docs build process.\n\n- Stop calling 'build_sphinx'. This requires the use of\n  sphinxcontrib-apidoc to continue building API docs.\n- Use a newer version of openstackdocstheme since it auto-configures\n  stuff for us.\n- Move docs requirements to a separate file.\n\nChange-Id: Icc42bab02840841bdd55b2a1666007be7fcabc10\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,699942,30f158bc564993d622dac2a8ba3410705e489592,8,3,2,15334,,,0,"Modernize docs build process.

- Stop calling 'build_sphinx'. This requires the use of
  sphinxcontrib-apidoc to continue building API docs.
- Use a newer version of openstackdocstheme since it auto-configures
  stuff for us.
- Move docs requirements to a separate file.

Change-Id: Icc42bab02840841bdd55b2a1666007be7fcabc10
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/42/699942/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/index.rst', 'test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py']",6,8e905e5f12994ca1b6029b85384dd540957f5d08,trivial,,"# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' html_last_updated_fmt = '%Y-%m-%d %H:%M' ",24,22
openstack%2Ftripleo-ci~master~Ic2840b12c800130a9be5139032f4b479b39795fb,openstack/tripleo-ci,master,Ic2840b12c800130a9be5139032f4b479b39795fb,Exclude sova patterns changes from tripleo jobs,MERGED,2020-02-05 18:09:45.000000000,2020-02-10 11:58:27.000000000,2020-02-10 11:58:27.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 18:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c4b719b8fb59f9687d8bfc35a7311e960854aaef', 'message': ""Exclude sova patterns changes from tripleo jobs\n\nFor fast merging of patterns file let's exclude it from usual\ntripleo jobs. It will allow us to merge required patterns ASAP\neven if tripleo gates are broken.\nPatterns are still checked and tested with molecule jobs so we\nare covered.\nChange-Id: Ic2840b12c800130a9be5139032f4b479b39795fb\n""}, {'number': 2, 'created': '2020-02-06 14:52:22.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9880e14f3fe5136e22fe89d9f59234c08305e70f', 'message': ""Exclude sova patterns changes from tripleo jobs\n\nFor fast merging of patterns file let's exclude it from usual\ntripleo jobs. It will allow us to merge required patterns ASAP\neven if tripleo gates are broken.\nPatterns are still checked and tested with molecule jobs so we\nare covered.\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: Ic2840b12c800130a9be5139032f4b479b39795fb\n""}]",0,706074,9880e14f3fe5136e22fe89d9f59234c08305e70f,23,6,2,10969,,,0,"Exclude sova patterns changes from tripleo jobs

For fast merging of patterns file let's exclude it from usual
tripleo jobs. It will allow us to merge required patterns ASAP
even if tripleo gates are broken.
Patterns are still checked and tested with molecule jobs so we
are covered.

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: Ic2840b12c800130a9be5139032f4b479b39795fb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/74/706074/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c4b719b8fb59f9687d8bfc35a7311e960854aaef,, - ^vars/sova-patterns.yml,,1,0
openstack%2Ftripleo-common~stable%2Fqueens~I072baf357836c55ad37257158b83f25c16b7f46f,openstack/tripleo-common,stable/queens,I072baf357836c55ad37257158b83f25c16b7f46f,[Queens-only] make sure cellv2 host discovery task only run once,MERGED,2020-02-07 09:35:11.000000000,2020-02-10 11:58:26.000000000,2020-02-10 11:58:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2020-02-07 09:35:11.000000000', 'files': ['playbooks/nova_cellv2_host_discover.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa7401afcc27c6c725330e7e0669ba2f35abb872', 'message': '[Queens-only] make sure cellv2 host discovery task only run once\n\nThe discovery task is correct triggered via delegate only on a single node,\nbut all computes delegate the job to this single host. It is possible that\nthis rund multiple times in parallel and fails as nova-manage commands are\nnot meant to run multiple times at the same time.\n\nThis makes sure the task only gets triggered once.\n\nChange-Id: I072baf357836c55ad37257158b83f25c16b7f46f\nCloses-Bug: #1862321\n'}]",0,706450,fa7401afcc27c6c725330e7e0669ba2f35abb872,8,8,1,17216,,,0,"[Queens-only] make sure cellv2 host discovery task only run once

The discovery task is correct triggered via delegate only on a single node,
but all computes delegate the job to this single host. It is possible that
this rund multiple times in parallel and fails as nova-manage commands are
not meant to run multiple times at the same time.

This makes sure the task only gets triggered once.

Change-Id: I072baf357836c55ad37257158b83f25c16b7f46f
Closes-Bug: #1862321
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/706450/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/nova_cellv2_host_discover.yaml'],1,fa7401afcc27c6c725330e7e0669ba2f35abb872,1862321, run_once: true,,1,0
openstack%2Fbifrost~stable%2Ftrain~I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87,openstack/bifrost,stable/train,I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87,Revise the testing environment documentation,MERGED,2020-02-05 14:24:03.000000000,2020-02-10 11:55:41.000000000,2020-02-10 11:52:24.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-05 14:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/06da6028641cf09a5586bb4e108b091a0c276cbb', 'message': 'Revise the testing environment documentation\n\n* Stop mentioning the removed agent_ssh driver\n* The CSV format is deprecated and no longer used\n* Provide correct links instead of ""above"" (which is no longer above).\n\n- testenv.rst doesn\'t exist in stable/train so the content is in\nhowto.rst\n\nChange-Id: I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87\n(cherry picked from commit 6d90609f6c6f47612003697c05ed66a4d2455516)\n'}, {'number': 2, 'created': '2020-02-05 15:58:20.000000000', 'files': ['doc/source/user/howto.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f90634d74dd533de22359d6e49be8f8e53fa31b', 'message': 'Revise the testing environment documentation\n\n* Stop mentioning the removed agent_ssh driver\n* The CSV format is deprecated and no longer used\n* Provide correct links instead of ""above"" (which is no longer above).\n\n- testenv.rst doesn\'t exist in stable/train so the content is in\nhowto.rst\n\nChange-Id: I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87\n(cherry picked from commit 6d90609f6c6f47612003697c05ed66a4d2455516)\n'}]",2,705970,2f90634d74dd533de22359d6e49be8f8e53fa31b,12,5,2,15519,,,0,"Revise the testing environment documentation

* Stop mentioning the removed agent_ssh driver
* The CSV format is deprecated and no longer used
* Provide correct links instead of ""above"" (which is no longer above).

- testenv.rst doesn't exist in stable/train so the content is in
howto.rst

Change-Id: I0b93c0e0b348f8bfa18f3a17941cbd7c8771da87
(cherry picked from commit 6d90609f6c6f47612003697c05ed66a4d2455516)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/70/705970/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/howto.rst'],1,06da6028641cf09a5586bb4e108b091a0c276cbb,docs,".. _enroll: ""ipmi_address"": ""192.168.122.1"", ""ipmi_username"": ""admin"", ""ipmi_password"": ""pa$$w0rd"" ""driver"": ""ipmi"",.. _deploy: The VirtualBMC_ project is used as an IPMI proxy, so that the same ``ipmi`` hardware type can be used as for real hardware. ``/tmp/baremetal.json``. #. Run the :ref:`enrollment step <enroll>`, using the JSON file you created in the previous step. #. Run the deployment step, as documented in :ref:`deploy`. .. _VirtualBMC: https://docs.openstack.org/virtualbmc/"," ""ssh_port"": 22, ""ssh_username"": ""ironic"", ""ssh_virt_type"": ""virsh"", ""ssh_address"": ""192.168.122.1"", ""ssh_key_filename"": ""/home/ironic/.ssh/id_rsa"" ""driver"": ""agent_ssh"",It is assumed you have an SSH server running on the host machine. The ``agent_ssh`` driver, used by ironic with VM testing, will need to use SSH to control the virtual machines. An SSH key is generated for the ``ironic`` user when testing. The ironic conductor will use this key to connect to the host machine and run virsh commands. /tmp/baremetal.json. #. Run the enrollment step, as documented above, using the CSV file you created in the previous step. #. Run the deployment step, as documented above. ",17,19
openstack%2Fceilometer~stable%2Fstein~I10a3700c2520748e55e56e2a762433de5f1e6039,openstack/ceilometer,stable/stein,I10a3700c2520748e55e56e2a762433de5f1e6039,Add note for loadbalancer resource type support,MERGED,2020-02-07 10:22:19.000000000,2020-02-10 11:47:45.000000000,2020-02-10 11:45:26.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 10:22:19.000000000', 'files': ['releasenotes/notes/add-loadbalancer-resource-type-a73c29594b72f012.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b591fe11d7df4d2eda3ef5da854035b8ef780ebf', 'message': 'Add note for loadbalancer resource type support\n\nThis adds a release note for the loadbalancer resource type change\nIb6e78438c3da0e22d93f720f00cdeadf0ed7a91f which was backported to stable\nbranches.\n\nChange-Id: I10a3700c2520748e55e56e2a762433de5f1e6039\n(cherry picked from commit 1617aa3099bfa5f7b38c11c51b23d2b9cf9b5c2b)\n(cherry picked from commit 1ae5dcbb32a54ce9edf5396e114aabb527fdc853)\n'}]",0,706463,b591fe11d7df4d2eda3ef5da854035b8ef780ebf,7,2,1,15197,,,0,"Add note for loadbalancer resource type support

This adds a release note for the loadbalancer resource type change
Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f which was backported to stable
branches.

Change-Id: I10a3700c2520748e55e56e2a762433de5f1e6039
(cherry picked from commit 1617aa3099bfa5f7b38c11c51b23d2b9cf9b5c2b)
(cherry picked from commit 1ae5dcbb32a54ce9edf5396e114aabb527fdc853)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/63/706463/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-loadbalancer-resource-type-a73c29594b72f012.yaml'],1,b591fe11d7df4d2eda3ef5da854035b8ef780ebf,,"--- fixes: - | [`bug 1848286 <https://bugs.launchpad.net/charm-octavia/+bug/1848286>`_] Enable load balancer metrics by adding the loadbalancer resource type, allowing Gnocchi to capture measurement data for Octavia load balancers. ",,6,0
openstack%2Fceilometer~stable%2Ftrain~I10a3700c2520748e55e56e2a762433de5f1e6039,openstack/ceilometer,stable/train,I10a3700c2520748e55e56e2a762433de5f1e6039,Add note for loadbalancer resource type support,MERGED,2020-02-07 10:22:00.000000000,2020-02-10 11:44:41.000000000,2020-02-10 11:40:38.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 10:22:00.000000000', 'files': ['releasenotes/notes/add-loadbalancer-resource-type-a73c29594b72f012.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1ae5dcbb32a54ce9edf5396e114aabb527fdc853', 'message': 'Add note for loadbalancer resource type support\n\nThis adds a release note for the loadbalancer resource type change\nIb6e78438c3da0e22d93f720f00cdeadf0ed7a91f which was backported to stable\nbranches.\n\nChange-Id: I10a3700c2520748e55e56e2a762433de5f1e6039\n(cherry picked from commit 1617aa3099bfa5f7b38c11c51b23d2b9cf9b5c2b)\n'}]",0,706462,1ae5dcbb32a54ce9edf5396e114aabb527fdc853,7,2,1,15197,,,0,"Add note for loadbalancer resource type support

This adds a release note for the loadbalancer resource type change
Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f which was backported to stable
branches.

Change-Id: I10a3700c2520748e55e56e2a762433de5f1e6039
(cherry picked from commit 1617aa3099bfa5f7b38c11c51b23d2b9cf9b5c2b)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/62/706462/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-loadbalancer-resource-type-a73c29594b72f012.yaml'],1,1ae5dcbb32a54ce9edf5396e114aabb527fdc853,,"--- fixes: - | [`bug 1848286 <https://bugs.launchpad.net/charm-octavia/+bug/1848286>`_] Enable load balancer metrics by adding the loadbalancer resource type, allowing Gnocchi to capture measurement data for Octavia load balancers. ",,6,0
openstack%2Ftelemetry-tempest-plugin~master~I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f,openstack/telemetry-tempest-plugin,master,I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f,Drop python 2.7 support and testing,MERGED,2019-10-30 07:49:05.000000000,2020-02-10 11:40:37.000000000,2020-02-10 11:40:37.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 07:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/dde2d49e73be00983f74671038252037f4adcdbc', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ntelemetry-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f\n'}, {'number': 2, 'created': '2019-10-30 07:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d9b55d24f0e8be8dea0fa26cf1985aebc668f17b', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ntelemetry-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f\n'}, {'number': 3, 'created': '2020-01-22 03:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/6bb207a8b116b4131b01cf1a224b1d54968a9871', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ntelemetry-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f\n'}, {'number': 4, 'created': '2020-02-10 04:16:21.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-b86d74653b14779b.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/1fac68f021012a85de47520874bb800fe4d50f07', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ntelemetry-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f\n'}]",0,692063,1fac68f021012a85de47520874bb800fe4d50f07,13,3,4,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

telemetry-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I72abc58ee67cf0594faa07e0f89b52f1c9cc6c2f
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/63/692063/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-b86d74653b14779b.yaml']",4,dde2d49e73be00983f74671038252037f4adcdbc,drop-py27-support,--- upgrade: - | Python 2.7 support has been dropped. Last release of telemetry-tempest-plugin to support py2.7 is OpenStack Train. The minimum version of Python now supported by telemetry-tempest-plugin is Python 3.6. ,,55,3
openstack%2Fironic-prometheus-exporter~master~Id6a3f8979ed581cd7f2a980a1f413a3de303f02f,openstack/ironic-prometheus-exporter,master,Id6a3f8979ed581cd7f2a980a1f413a3de303f02f,Avoid None for instance_uuid field,ABANDONED,2020-02-06 18:14:29.000000000,2020-02-10 11:39:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-06 18:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/1aade293dde1150abf5f3d033b8135131f32d098', 'message': 'Avoid None for instance_uuid field\n\nIf `instance_uuid` is None we will be using the `node_uuid`\n\nChange-Id: Id6a3f8979ed581cd7f2a980a1f413a3de303f02f\n'}, {'number': 2, 'created': '2020-02-06 19:15:23.000000000', 'files': ['ironic_prometheus_exporter/utils.py', 'ironic_prometheus_exporter/parsers/header.py', 'ironic_prometheus_exporter/parsers/redfish.py', 'ironic_prometheus_exporter/parsers/ipmi.py'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/eb4d5e6c865a5fa64362b37d693b826a9705e848', 'message': 'Avoid None for instance_uuid field\n\nIf `instance_uuid` is None we will be using the `node_uuid`\n\nChange-Id: Id6a3f8979ed581cd7f2a980a1f413a3de303f02f\n'}]",0,706345,eb4d5e6c865a5fa64362b37d693b826a9705e848,5,1,2,15519,,,0,"Avoid None for instance_uuid field

If `instance_uuid` is None we will be using the `node_uuid`

Change-Id: Id6a3f8979ed581cd7f2a980a1f413a3de303f02f
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/45/706345/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_prometheus_exporter/utils.py', 'ironic_prometheus_exporter/parsers/header.py', 'ironic_prometheus_exporter/parsers/redfish.py', 'ironic_prometheus_exporter/parsers/ipmi.py']",4,1aade293dde1150abf5f3d033b8135131f32d098,avoid_none,from ironic_prometheus_exporter import utils as ipe_utils valid_labels = ipe_utils.update_instance_uuid(labels[e]) g.labels(**valid_labels).set(values[e]), g.labels(**labels[e]).set(values[e]),27,5
openstack%2Fneutron~stable%2Fstein~Id43829b11631727f1a46362ffea5c22d2177fd79,openstack/neutron,stable/stein,Id43829b11631727f1a46362ffea5c22d2177fd79,Minimizing L3 agent QoS extensions lock granularity,ABANDONED,2020-02-10 10:55:46.000000000,2020-02-10 11:31:59.000000000,,"[{'_account_id': 9531}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-10 10:55:46.000000000', 'files': ['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'releasenotes/notes/Minimizing-lock-granularity-8bc2f893d9389cf8.yaml', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/gateway_ip.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_base.py', 'neutron/agent/l3/extensions/qos/fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/492b1942090dba6fcb0e82e198c2fbe5ff9a92d2', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\nleverage the coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n(cherry picked from commit ab57410ec8e5fae97dec052a5940debd614e4e50)\n'}]",0,706792,492b1942090dba6fcb0e82e198c2fbe5ff9a92d2,3,2,1,11975,,,0,"Minimizing L3 agent QoS extensions lock granularity

If agent is concurrently processing large set of resources,
the bottleneck lock will multiply increase processing time
of those resources which have been waiting for the lock for
a long time.

This patch moves the lock to the core cache resource, and
leverage the coordination lock to the resource prcessing
and notification thread functions.

Closes-Bug: #1824911
Change-Id: Id43829b11631727f1a46362ffea5c22d2177fd79
(cherry picked from commit ab57410ec8e5fae97dec052a5940debd614e4e50)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/706792/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'releasenotes/notes/Minimizing-lock-granularity-8bc2f893d9389cf8.yaml', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/gateway_ip.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_base.py', 'neutron/agent/l3/extensions/qos/fip.py']",6,492b1942090dba6fcb0e82e198c2fbe5ff9a92d2,bug/1826695-stable/stein,"from neutron.common import coordination LOCK_NAME = ""fip-qos-cache"" super(RouterFipRateLimitMaps, self).__init__(self.LOCK_NAME) @lockutils.synchronized(self.lock_name) def _find_fip_router_id(): for router_id, ips in self.router_floating_ips.items(): if fip in ips: return router_id return _find_fip_router_id() def get_router_floating_ips(self, router_id): @lockutils.synchronized(self.lock_name) def _get_router_floating_ips(): return self.router_floating_ips.pop( router_id, []) return _get_router_floating_ips() def remove_fip_ratelimit_cache(self, direction, fip): @lockutils.synchronized(self.lock_name) def _remove_fip_ratelimit_cache(): rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self, rate_limits_direction, {}) rate_limits.pop(fip, None) _remove_fip_ratelimit_cache() def set_fip_ratelimit_cache(self, direction, fip, rate, burst): @lockutils.synchronized(self.lock_name) def _set_fip_ratelimit_cache(): rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self, rate_limits_direction, {}) rate_limits[fip] = (rate, burst) _set_fip_ratelimit_cache() def get_fip_ratelimit_cache(self, direction, fip): @lockutils.synchronized(self.lock_name) def _get_fip_ratelimit_cache(): rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self, rate_limits_direction, {}) rate, burst = rate_limits.get(fip, (qos_base.IP_DEFAULT_RATE, qos_base.IP_DEFAULT_BURST)) return rate, burst return _get_fip_ratelimit_cache() def _remove_fip_rate_limit_cache(self, fip): for direction in constants.VALID_DIRECTIONS: self.fip_qos_map.remove_fip_ratelimit_cache(direction, fip) @coordination.synchronized('qos-floating-ip-{ip}') def process_ip_rate_limit(self, ip, direction, device, rate, burst): self.fip_qos_map.remove_fip_ratelimit_cache(direction, ip) self.fip_qos_map.remove_fip_ratelimit_cache(direction, fip_ip) old_rate, old_burst = self.fip_qos_map.get_fip_ratelimit_cache( direction, fip) if old_rate == rate['rate'] and old_burst == rate['burst']: # Two possibilities here: # 1. Floating IP rate limit does not change. # 2. Floating IP bandwidth does not limit. continue self.fip_qos_map.set_fip_ratelimit_cache( direction, fip, rate['rate'], rate['burst'])"," super(RouterFipRateLimitMaps, self).__init__() for router_id, ips in self.router_floating_ips.items(): if fip in ips: return router_id @lockutils.synchronized('qos-fip') def process_ip_rate_limit(self, ip, direction, device, rate, burst): rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self.fip_qos_map, rate_limits_direction, {}) old_rate, old_burst = rate_limits.get(ip, (qos_base.IP_DEFAULT_RATE, qos_base.IP_DEFAULT_BURST)) if old_rate == rate and old_burst == burst: # Two possibilities here: # 1. Floating IP rate limit does not change. # 2. Floating IP bandwidth does not limit. return rate_limits.pop(ip, None) rate_limits[ip] = (rate, burst) def _remove_ip_rate_limit_cache(self, ip, direction): rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self.fip_qos_map, rate_limits_direction, {}) rate_limits.pop(ip, None) self._remove_ip_rate_limit_cache(fip_ip, direction) @lockutils.synchronized('qos-fip') @lockutils.synchronized('qos-fip')",174,54
openstack%2Fironic-python-agent~master~I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a,openstack/ironic-python-agent,master,I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a,Creates and Reorders the Boot Entry,NEW,2019-07-09 09:52:55.000000000,2020-02-10 11:18:40.000000000,,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 20401}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 09:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/75ba8914dcfd4a3a40c1703a2a35041b23af3a72', 'message': ""Creates and Reorders the Boot Entry\n\nIn case of large UEFI systems, when we provision wholedisk images using\nboot-option as local, OS deoesn't boot as the boot entry is not present.\nSo using efibootmgr command we can create the boot entry and reorder\nso that OS will boot after we provision the wholedisk images.\n\nDepends-On: I3a5c9337424649f4250af008a101a4a6437ae5cc\nChange-Id: I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a\nStory: 2005533\nTask:  35724\n""}, {'number': 2, 'created': '2019-07-18 10:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/53106c631beb490118aad0faed3f58834b87754f', 'message': ""Creates and Reorders the Boot Entry\n\nIn case of large UEFI systems, when we provision wholedisk images using\nboot-option as local, OS deoesn't boot as the boot entry is not present.\nSo using efibootmgr command we can create the boot entry and reorder\nso that OS will boot after we provision the wholedisk images.\n\nDepends-On: I3a5c9337424649f4250af008a101a4a6437ae5cc\nChange-Id: I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a\nStory: 2005533\nTask: 35724\n""}, {'number': 3, 'created': '2019-07-23 09:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/854d9c7d70fd5b40d02fba62267b44651afe28a9', 'message': ""Creates and Reorders the Boot Entry\n\nIn case of large UEFI systems, when we provision wholedisk images using\nboot-option as local, OS deoesn't boot as the boot entry is not present.\nSo using efibootmgr command we can create the boot entry and reorder\nso that OS will boot after we provision the wholedisk images.\n\nDepends-On: I3a5c9337424649f4250af008a101a4a6437ae5cc\nChange-Id: I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a\nStory: 2005533\nTask: 35724\n""}, {'number': 4, 'created': '2019-08-29 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d795122f7e95c86945a8c9e1938121a22252e7e5', 'message': 'Creates and Reorders the Boot Entry\n\nIn case of large UEFI systems, when we provision wholedisk images using\nboot-option as local, OS does not boot as the boot entry is not present.\nSo using efibootmgr command we can create the boot entry for the disk\nwhere image has been written.\n\nDepends-On: I3a5c9337424649f4250af008a101a4a6437ae5cc\nChange-Id: I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a\nStory: 2005533\nTask: 35724\n'}, {'number': 5, 'created': '2020-02-10 08:02:25.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e138bb2f6cfabae921143a6ac007d66d259974cc', 'message': 'Creates and Reorders the Boot Entry\n\nIn case of large UEFI systems, when we provision wholedisk images using\nboot-option as local, OS does not boot as the boot entry is not present.\nSo using efibootmgr command we can create the boot entry for the disk\nwhere image has been written.\n\nDepends-On: I3a5c9337424649f4250af008a101a4a6437ae5cc\nChange-Id: I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a\nStory: 2005533\nTask: 35724\n'}]",12,669832,e138bb2f6cfabae921143a6ac007d66d259974cc,19,5,5,20401,,,0,"Creates and Reorders the Boot Entry

In case of large UEFI systems, when we provision wholedisk images using
boot-option as local, OS does not boot as the boot entry is not present.
So using efibootmgr command we can create the boot entry for the disk
where image has been written.

Depends-On: I3a5c9337424649f4250af008a101a4a6437ae5cc
Change-Id: I02a1c033d2fa1fdf063594efc7977cfdbe05fb6a
Story: 2005533
Task: 35724
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/669832/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/image.py', 'ironic_python_agent/extensions/standby.py']",2,75ba8914dcfd4a3a40c1703a2a35041b23af3a72,localboot_fix," disk_identifiers = disk_utils.get_root_and_efi_partuuid(device) root_uuid = disk_identifiers.get('root_uuid') efi_system_partition_uuid = ( disk_identifiers.get('efi_sys_part_uuid')) result_msg = msg + 'root_uuid={} efi_system_partition_uuid={}' message = result_msg.format(image_info['id'], device, root_uuid, efi_system_partition_uuid)"," # NOTE(TheJulia): ironic-lib disk_utils.get_disk_identifier # can raise OSError if hexdump is not found. root_uuid = disk_utils.get_disk_identifier(device) result_msg = msg + 'root_uuid={}' message = result_msg.format(image_info['id'], device, root_uuid)",37,5
openstack%2Fsushy-cli~master~I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789,openstack/sushy-cli,master,I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789,Add power management command,MERGED,2020-01-14 22:22:43.000000000,2020-02-10 11:09:33.000000000,2020-02-10 11:07:53.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2020-01-14 22:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/3e1778a29f646e5a23daa3a9d03279fb978d4a92', 'message': 'add power command\n\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 2, 'created': '2020-01-15 13:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/beab535ce5a3258efbabc99222bbb636d24e5a68', 'message': 'Add power command to sushy cli\n\nthis change add a sushy-cli command to power on/off the system.\n+\ngitreview file update\n\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 3, 'created': '2020-01-15 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/977025fef7d8651c3b5933fae57dddeebcf1c67d', 'message': 'Add power command to sushy cli\n\nthis change add a sushy-cli command to power on/off the system.\n\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 4, 'created': '2020-01-21 15:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/d0d5c69256b57345f62295b83b1a69bd6815d697', 'message': 'Add power command to sushy cli\n\nthis change add a sushy-cli command to power on/off the system.\n\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 5, 'created': '2020-01-22 10:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/0db8c17717d4976d0500a7b59662a599855e0eb6', 'message': 'Add power command to sushy cli\n\nthis change add a sushy-cli command to power on/off the system.\n\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 6, 'created': '2020-01-24 16:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/8bc1d666aaf9132fdb4ad1c70b2ad0e3b62daeee', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 7, 'created': '2020-01-24 16:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/307638abd95af5cb91ec434f61fbc84b844b1e5f', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 8, 'created': '2020-01-24 17:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/49a3ae0ff40b8627b63dc30e2ab0ef3eb8499e31', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 9, 'created': '2020-01-28 05:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/c46fc4458c11b03315fd32c9c460b75a93a0b9ba', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 10, 'created': '2020-01-28 07:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/fd800834d7bb933d30711e10b7463751777de99d', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 11, 'created': '2020-01-28 10:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/783cc90d4b78ad1a4f655106aa2b0becf40c1a9f', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 12, 'created': '2020-01-28 11:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/a6f1494a2f3eb8a58eca4789a3fb21b75d1394af', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\noff\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 13, 'created': '2020-01-28 12:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/2445e2ec9049de852339216f89e061a67acb57d3', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\noff\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}, {'number': 14, 'created': '2020-01-28 17:08:50.000000000', 'files': ['sushycli/power_reset.py', 'sushycli/tests/unit/cmd/test_sushycli.py', 'sushycli/cmd/sushycli.py', 'sushycli/power.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/f5b5b4362bc4fd8c589a2c066dbf9b8731ed164f', 'message': 'Add power management command\n\n$ suchycli power \\\n    --username jelly --password fish \\\n    --service-endpoint http://fish.me \\\n    --system-id /redfish/v1/Systems/1 \\\n    on\n\nStory: 2006608\nTask: 36776\nChange-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789\n'}]",20,702546,f5b5b4362bc4fd8c589a2c066dbf9b8731ed164f,35,4,14,31182,,,0,"Add power management command

$ suchycli power \
    --username jelly --password fish \
    --service-endpoint http://fish.me \
    --system-id /redfish/v1/Systems/1 \
    on

Story: 2006608
Task: 36776
Change-Id: I929b91a43f91c5b9cac5c24f9e1a7ccf55f2a789
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/46/702546/7 && git format-patch -1 --stdout FETCH_HEAD,"['sushycli/power_reset.py', 'sushycli/config_example.JSON', 'sushycli/power.py', 'setup.py']",4,3e1778a29f646e5a23daa3a9d03279fb978d4a92,03-add-power-command," 'power = sushycli.power:Power',"," 'power_reset = sushycli.power_reset:PowerReset',",59,54
openstack%2Freleases~master~Iac9cf1e7f35891032cc0b0d22990d0348075cd11,openstack/releases,master,Iac9cf1e7f35891032cc0b0d22990d0348075cd11,Add sushy-cli deliverable for ussuri,MERGED,2020-02-07 13:48:48.000000000,2020-02-10 11:08:18.000000000,2020-02-10 11:08:18.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-07 13:48:48.000000000', 'files': ['deliverables/ussuri/sushy-cli.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d1bf82c3c424e8f684fa7d739571ee8e79c03621', 'message': 'Add sushy-cli deliverable for ussuri\n\nChange-Id: Iac9cf1e7f35891032cc0b0d22990d0348075cd11\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706510,d1bf82c3c424e8f684fa7d739571ee8e79c03621,9,6,1,11904,,,0,"Add sushy-cli deliverable for ussuri

Change-Id: Iac9cf1e7f35891032cc0b0d22990d0348075cd11
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/706510/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/sushy-cli.yaml'],1,d1bf82c3c424e8f684fa7d739571ee8e79c03621,ironic,--- include-pypi-link: true storyboard: openstack/sushy-cli release-model: cycle-with-intermediary team: ironic type: client-library repository-settings: openstack/sushy-cli: {} ,,8,0
openstack%2Fneutron~stable%2Fstein~I24fcecd9686ad17fa50093bb8bccab0d6c711298,openstack/neutron,stable/stein,I24fcecd9686ad17fa50093bb8bccab0d6c711298,Remove L3 IP QoS cache when router is down,ABANDONED,2020-01-31 12:12:19.000000000,2020-02-10 11:03:54.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:12:19.000000000', 'files': ['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_gateway_ip.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f38e0e6e8d9346b8d759c5cc52c9f924a6f74d43', 'message': ""Remove L3 IP QoS cache when router is down\n\nWhen router admin-state is down or removed, fip-qos and gateway-ip-qos\nextension should delete the router IPs' QoS rate limit cache. Then if\nthe router is up again the router floating IPs QoS can be reconfigured.\nThis patch achives these:\n1. make sure floating IP or gateway IP QoS cache removed.\n2. floating IP QoS can be re-configured to snat device when router\n   doing admin_state down/up.\n\nCloses-Bug: #1826695\nChange-Id: I24fcecd9686ad17fa50093bb8bccab0d6c711298\n(cherry picked from commit 78629e0d3780af4a8a8cc1b5b0762e0bc8a48f1f)\n""}]",0,705202,f38e0e6e8d9346b8d759c5cc52c9f924a6f74d43,8,6,1,11975,,,0,"Remove L3 IP QoS cache when router is down

When router admin-state is down or removed, fip-qos and gateway-ip-qos
extension should delete the router IPs' QoS rate limit cache. Then if
the router is up again the router floating IPs QoS can be reconfigured.
This patch achives these:
1. make sure floating IP or gateway IP QoS cache removed.
2. floating IP QoS can be re-configured to snat device when router
   doing admin_state down/up.

Closes-Bug: #1826695
Change-Id: I24fcecd9686ad17fa50093bb8bccab0d6c711298
(cherry picked from commit 78629e0d3780af4a8a8cc1b5b0762e0bc8a48f1f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/705202/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_gateway_ip.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/test_l3_agent.py']",7,f38e0e6e8d9346b8d759c5cc52c9f924a6f74d43,bug/1826695-stable/stein,"from neutron.agent.linux import l3_tc_lib def _get_namespace(self, router_id, agent=None): namespace = namespaces.build_ns_name(namespaces.NS_PREFIX, router_id) if agent: suffix = agent.get_namespace_suffix() else: suffix = self.environment.hosts[0].l3_agent.get_namespace_suffix() return ""%s@%s"" % (namespace, suffix) def _get_l3_agents_with_ha_state( self, l3_agents, router_id, ha_state=None): found_agents = [] agents_hosting_router = self.client.list_l3_agent_hosting_routers( router_id)['agents'] for agent in l3_agents: agent_host = agent.neutron_cfg_fixture.get_host() for agent_hosting_router in agents_hosting_router: if (agent_hosting_router['host'] == agent_host and ((ha_state is None) or ( agent_hosting_router['ha_state'] == ha_state))): found_agents.append(agent) break return found_agents def _router_fip_qos_after_admin_state_down_up(self, ha=False): tenant_id = uuidutils.generate_uuid() ext_net, ext_sub = self._create_external_network_and_subnet(tenant_id) external_vm = self._create_external_vm(ext_net, ext_sub) router = self.safe_client.create_router(tenant_id, ha=ha, external_network=ext_net['id']) vm = self._create_net_subnet_and_vm( tenant_id, ['20.0.0.0/24', '2001:db8:aaaa::/64'], self.environment.hosts[1], router) # ping external vm to test snat vm.block_until_ping(external_vm.ip) qos_policy = self.safe_client.create_qos_policy( tenant_id, 'fs_policy', 'Fullstack testing policy', shared='False', is_default='False') self.safe_client.create_bandwidth_limit_rule( tenant_id, qos_policy['id'], 1111, 2222, constants.INGRESS_DIRECTION) self.safe_client.create_bandwidth_limit_rule( tenant_id, qos_policy['id'], 3333, 4444, constants.EGRESS_DIRECTION) fip = self.safe_client.create_floatingip( tenant_id, ext_net['id'], vm.ip, vm.neutron_port['id'], qos_policy_id=qos_policy['id']) # ping floating ip from external vm external_vm.block_until_ping(fip['floating_ip_address']) self.safe_client.update_router(router['id'], admin_state_up=False) external_vm.block_until_no_ping(fip['floating_ip_address']) self.safe_client.update_router(router['id'], admin_state_up=True) external_vm.block_until_ping(fip['floating_ip_address']) if ha: l3_agents = [host.agents['l3'] for host in self.environment.hosts] router_agent = self._get_l3_agents_with_ha_state( l3_agents, router['id'])[0] qrouter_ns = self._get_namespace( router['id'], router_agent) else: qrouter_ns = self._get_namespace(router['id']) ip = ip_lib.IPWrapper(qrouter_ns) common_utils.wait_until_true(lambda: ip.get_devices()) devices = ip.get_devices() for dev in devices: if dev.name.startswith(""qg-""): interface_name = dev.name tc_wrapper = l3_tc_lib.FloatingIPTcCommand( interface_name, namespace=qrouter_ns) common_utils.wait_until_true( functools.partial( self._wait_until_filters_set, tc_wrapper), timeout=60) def _wait_until_filters_set(self, tc_wrapper): def _is_filter_set(direction): filter_ids = tc_wrapper.get_existing_filter_ids( direction) if not filter_ids: return False return 1 == len(filter_ids) return (_is_filter_set(constants.INGRESS_DIRECTION) and _is_filter_set(constants.EGRESS_DIRECTION)) environment.HostDescription(l3_agent=True, dhcp_agent=True, l3_agent_extensions=""fip_qos""), network_type='vlan', l2_pop=False, qos=True), namespace = self._get_namespace(router['id']) namespace = self._get_namespace(router['id']) def test_router_fip_qos_after_admin_state_down_up(self): self._router_fip_qos_after_admin_state_down_up() environment.HostDescription(l3_agent=True, dhcp_agent=True, l3_agent_extensions=""fip_qos"") network_type='vlan', l2_pop=True, qos=True), def test_router_fip_qos_after_admin_state_down_up(self): self._router_fip_qos_after_admin_state_down_up(ha=True)"," environment.HostDescription(l3_agent=True, dhcp_agent=True), network_type='vlan', l2_pop=False), def _get_namespace(self, router_id): return namespaces.build_ns_name(namespaces.NS_PREFIX, router_id) namespace = ""%s@%s"" % ( self._get_namespace(router['id']), self.environment.hosts[0].l3_agent.get_namespace_suffix(), ) namespace = ""%s@%s"" % ( self._get_namespace(router['id']), self.environment.hosts[0].l3_agent.get_namespace_suffix(), ) environment.HostDescription(l3_agent=True, dhcp_agent=True) network_type='vlan', l2_pop=True), def _get_l3_agents_with_ha_state(self, l3_agents, router_id, ha_state): found_agents = [] agents_hosting_router = self.client.list_l3_agent_hosting_routers( router_id)['agents'] for agent in l3_agents: agent_host = agent.neutron_cfg_fixture.get_host() for agent_hosting_router in agents_hosting_router: if (agent_hosting_router['host'] == agent_host and agent_hosting_router['ha_state'] == ha_state): found_agents.append(agent) break return found_agents ",187,39
openstack%2Foslo-cookiecutter~master~I2490d85abe2e175daad142a0b99348fdffe3ddae,openstack/oslo-cookiecutter,master,I2490d85abe2e175daad142a0b99348fdffe3ddae,Drop py27 setuptools/multiprocess fix,MERGED,2020-02-04 09:58:47.000000000,2020-02-10 11:00:31.000000000,2020-02-10 11:00:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 09:58:47.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/setup.py'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/03fea58e8257f96c801ce29d36d243a80835e569', 'message': ""Drop py27 setuptools/multiprocess fix\n\nPy27 is now dropped we don't need this fix at all\n\nChange-Id: I2490d85abe2e175daad142a0b99348fdffe3ddae\n""}]",0,705621,03fea58e8257f96c801ce29d36d243a80835e569,6,2,1,28522,,,0,"Drop py27 setuptools/multiprocess fix

Py27 is now dropped we don't need this fix at all

Change-Id: I2490d85abe2e175daad142a0b99348fdffe3ddae
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/21/705621/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/setup.py'],1,03fea58e8257f96c801ce29d36d243a80835e569,drop-py2-setuptools-fix,,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,8
openstack%2Fneutron~master~Id43829b11631727f1a46362ffea5c22d2177fd79,openstack/neutron,master,Id43829b11631727f1a46362ffea5c22d2177fd79,Minimizing L3 agent QoS extensions lock granularity,MERGED,2019-04-28 11:50:47.000000000,2020-02-10 10:55:46.000000000,2019-07-08 11:21:45.000000000,"[{'_account_id': 1131}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 30382}]","[{'number': 1, 'created': '2019-04-28 11:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a69cd982961de3376fe3acddf89b51933788b865', 'message': 'Minimizing agent L3 IP QoS extension lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\ngives resource prcessing thread and notification thread\na coordination lock to the specific resource.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 2, 'created': '2019-04-28 12:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2822d3e4a2d0e7658583aac6813af9df5353ec48', 'message': 'Minimizing agent L3 IP QoS extension lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\ngives resource prcessing thread and notification thread\na coordination lock to the specific resource.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 3, 'created': '2019-04-29 02:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bc4f1a32b172bf7ed3cb40fdc51f0b09bb80196', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\ngives resource prcessing thread and notification thread\na coordination lock to the specific resource.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 4, 'created': '2019-04-29 10:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20d9fe597e36291dad956e8a7cec2e63d52ec703', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\ngives resource prcessing thread and notification thread\na coordination lock to the specific resource.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 5, 'created': '2019-04-30 01:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/133ad84d5e83775e7767edd169e1332551e25006', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\ngives resource prcessing thread and notification thread\na coordination lock to the specific resource.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 6, 'created': '2019-05-05 02:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d74d14c10cf9e097bab19b40722b6da9b600aecb', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\ngives resource prcessing thread and notification thread\na coordination lock to the specific resource.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 7, 'created': '2019-05-09 01:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adbb891e0d7209d544ac397811dcc14056641488', 'message': ""Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nAdd a generic coordination lock mechanism for various\nscenarios. This decorator allows flexible lock name\nwith parameters and names of underlying functions.\nFor instance:\n    @synchronized('{f_name}-{resource.id}-{snap[name]}')\n    def foo(self, resource, snap):\n\nThis patch moves the lock to the core cache resource, and\nleverage the new coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n""}, {'number': 8, 'created': '2019-05-18 04:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a667141d9771e782fb568868fba05b6faab5a81', 'message': ""Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nAdd a generic coordination lock mechanism for various\nscenarios. This decorator allows flexible lock name\nwith parameters and names of underlying functions.\nFor instance:\n    @synchronized('{f_name}-{resource.id}-{snap[name]}')\n    def foo(self, resource, snap):\n\nThis patch moves the lock to the core cache resource, and\nleverage the new coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n""}, {'number': 9, 'created': '2019-05-29 16:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddc25c25ddc0dafe9f0a8b7a86c20634b162edec', 'message': ""Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nAdd a generic coordination lock mechanism for various\nscenarios. This decorator allows flexible lock name\nwith parameters and names of underlying functions.\nFor instance:\n    @synchronized('{f_name}-{resource.id}-{snap[name]}')\n    def foo(self, resource, snap):\n\nThis patch moves the lock to the core cache resource, and\nleverage the new coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n""}, {'number': 10, 'created': '2019-06-02 13:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63fe4ba2254c949e3fc9d84b17892b9a818074fe', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\nleverage the coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 11, 'created': '2019-06-02 13:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01dcf05d4f76f15c008b4ef6fe6772c7c5a08194', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\nleverage the coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 12, 'created': '2019-06-06 02:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7376be1531f330701b67077d319dee99f0177ba', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\nleverage the coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 13, 'created': '2019-06-14 09:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62d8d55fc785b0f3a25e479b9c63e962370c3e0b', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\nleverage the coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}, {'number': 14, 'created': '2019-07-02 15:18:49.000000000', 'files': ['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'releasenotes/notes/Minimizing-lock-granularity-8bc2f893d9389cf8.yaml', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/gateway_ip.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_base.py', 'neutron/agent/l3/extensions/qos/fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab57410ec8e5fae97dec052a5940debd614e4e50', 'message': 'Minimizing L3 agent QoS extensions lock granularity\n\nIf agent is concurrently processing large set of resources,\nthe bottleneck lock will multiply increase processing time\nof those resources which have been waiting for the lock for\na long time.\n\nThis patch moves the lock to the core cache resource, and\nleverage the coordination lock to the resource prcessing\nand notification thread functions.\n\nCloses-Bug: #1824911\nChange-Id: Id43829b11631727f1a46362ffea5c22d2177fd79\n'}]",37,656163,ab57410ec8e5fae97dec052a5940debd614e4e50,119,13,14,9531,,,0,"Minimizing L3 agent QoS extensions lock granularity

If agent is concurrently processing large set of resources,
the bottleneck lock will multiply increase processing time
of those resources which have been waiting for the lock for
a long time.

This patch moves the lock to the core cache resource, and
leverage the coordination lock to the resource prcessing
and notification thread functions.

Closes-Bug: #1824911
Change-Id: Id43829b11631727f1a46362ffea5c22d2177fd79
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/656163/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/extensions/qos/test_fip.py', 'requirements.txt', 'neutron/agent/l3/extensions/qos/base.py', 'neutron/agent/l3/extensions/qos/gateway_ip.py', 'neutron/tests/unit/agent/l3/extensions/qos/test_base.py', 'neutron/agent/l3/extensions/qos/fip.py', 'neutron/coordination.py']",7,a69cd982961de3376fe3acddf89b51933788b865,bug/1826695,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Coordination and locking utilities."""""" import inspect import decorator from oslo_concurrency import lockutils from oslo_log import log from oslo_utils import timeutils LOG = log.getLogger(__name__) def synchronized(lock_name): """"""Synchronization decorator. :param str lock_name: Lock name. Decorating a method like so:: @synchronized('mylock') def foo(self, *args): ... ensures that only one process will execute the foo method at a time. Different methods can share the same lock:: @synchronized('mylock') def foo(self, *args): ... @synchronized('mylock') def bar(self, *args): ... This way only one of either foo or bar can be executing at a time. Lock name can be formatted using Python format string syntax:: @synchronized('{f_name}-{resource.id}-{snap[name]}') def foo(self, resource, snap): ... Available field names are: decorated function parameters and `f_name` as a decorated function name. """""" @decorator.decorator def _synchronized(f, *a, **k): call_args = inspect.getcallargs(f, *a, **k) call_args['f_name'] = f.__name__ lock_format_name = lock_name.format(**call_args) t1 = timeutils.now() t2 = None try: with lockutils.lock(lock_format_name): t2 = timeutils.now() LOG.debug('Lock ""%(name)s"" acquired by ""%(function)s"" :: ' 'waited %(wait_secs)0.3fs', {'name': lock_format_name, 'function': f.__name__, 'wait_secs': (t2 - t1)}) return f(*a, **k) finally: t3 = timeutils.now() if t2 is None: held_secs = ""N/A"" else: held_secs = ""%0.3fs"" % (t3 - t2) LOG.debug('Lock ""%(name)s"" released by ""%(function)s"" :: held ' '%(held_secs)s', {'name': lock_format_name, 'function': f.__name__, 'held_secs': held_secs}) return _synchronized ",,225,57
openstack%2Fdesignate~master~Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98,openstack/designate,master,Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98,Use Tempest 'all' tox env,MERGED,2020-02-06 20:48:58.000000000,2020-02-10 10:49:16.000000000,2020-02-10 10:40:48.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 20:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/747d4c0d31dfb60a841cc12b473db07608dacc1f', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 2, 'created': '2020-02-09 18:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dbbf337b7f6f6362394a672576c181daf1d53609', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 3, 'created': '2020-02-09 19:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/81cf04fe002bd4fffa9dbfea564f7c6af6b39e87', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 4, 'created': '2020-02-09 19:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1952eeb030b3538b66420eaea26af822ac1c56d4', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 5, 'created': '2020-02-09 22:19:45.000000000', 'files': ['playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/4f3883775dc435fb76250d854aa460bc9ca25433', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}]",0,706384,4f3883775dc435fb76250d854aa460bc9ca25433,20,5,5,8556,,,0,"Use Tempest 'all' tox env

Tempest recently moved tox default
to py3 including all-plugin env.
-https://review.opendev.org/#/c/703011/

This will fail the py2 jobs which are using
all-plugin tox env. Because tox all-plugin
env var enable the sitepackages=True. Py2 jobs
install the tempest plugins on py2 and all-plugin
tox try to find the installed plugins on py3 which
cause no test to run and fail the job.

tox all-plugin has been deprecated since long and not
supposed to use for plugins who already in migrated to
separate repo in queens cycle.

Using tox 'all' env to fix the issue.

Change-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98
Closes-Bug: 1862240
",git fetch https://review.opendev.org/openstack/designate refs/changes/84/706384/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,747d4c0d31dfb60a841cc12b473db07608dacc1f,bug/1862240, tox_envlist: all, tox_envlist: all-plugin,1,1
openstack%2Fdesignate~stable%2Ftrain~I1f432c8c99d6a7e695d00baddb9aab795d8685bb,openstack/designate,stable/train,I1f432c8c99d6a7e695d00baddb9aab795d8685bb,Remove unused legacy playbooks,MERGED,2020-02-09 19:08:11.000000000,2020-02-10 10:46:58.000000000,2020-02-10 10:40:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-02-09 19:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/37eb5a45cee3a9feb77f4abbecfb7581d2a441b1', 'message': 'Remove unused legacy playbooks\n\nLegacy jobs except grenade job has been migrated\nto zuulv3 in - https://review.opendev.org/#/c/644586\n\nBut legacy playbooks has been left to remove. Those are\nunused now and can be removed from master and train branch.\n\nChange-Id: I1f432c8c99d6a7e695d00baddb9aab795d8685bb\n(cherry picked from commit 911f372bbe4f15f295235e17bf4f7f372bc1a62e)\n'}, {'number': 2, 'created': '2020-02-09 21:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ba03b24b45dd7b4ad131338038bbd32e8e3b7c99', 'message': 'Remove unused legacy playbooks\n\nLegacy jobs except grenade job has been migrated\nto zuulv3 in - https://review.opendev.org/#/c/644586\n\nBut legacy playbooks has been left to remove. Those are\nunused now and can be removed from master and train branch.\n\nChange-Id: I1f432c8c99d6a7e695d00baddb9aab795d8685bb\n(cherry picked from commit 911f372bbe4f15f295235e17bf4f7f372bc1a62e)\n'}, {'number': 3, 'created': '2020-02-10 08:14:48.000000000', 'files': ['playbooks/legacy/designate-devstack-base/run.yaml', 'playbooks/legacy/designate-devstack-base/post.yaml', 'playbooks/legacy/designate-devstack-agent-base/run.yaml', 'playbooks/legacy/designate-devstack-agent-base/post.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/2c20d109423f350145b4c4c77b364f79e9e0c0a8', 'message': 'Remove unused legacy playbooks\n\nLegacy jobs except grenade job has been migrated\nto zuulv3 in - https://review.opendev.org/#/c/644586\n\nBut legacy playbooks has been left to remove. Those are\nunused now and can be removed from master and train branch.\n\nChange-Id: I1f432c8c99d6a7e695d00baddb9aab795d8685bb\n(cherry picked from commit 911f372bbe4f15f295235e17bf4f7f372bc1a62e)\n'}]",0,706720,2c20d109423f350145b4c4c77b364f79e9e0c0a8,13,3,3,8556,,,0,"Remove unused legacy playbooks

Legacy jobs except grenade job has been migrated
to zuulv3 in - https://review.opendev.org/#/c/644586

But legacy playbooks has been left to remove. Those are
unused now and can be removed from master and train branch.

Change-Id: I1f432c8c99d6a7e695d00baddb9aab795d8685bb
(cherry picked from commit 911f372bbe4f15f295235e17bf4f7f372bc1a62e)
",git fetch https://review.opendev.org/openstack/designate refs/changes/20/706720/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/designate-devstack-base/run.yaml', 'playbooks/legacy/designate-devstack-agent-base/run.yaml', 'playbooks/legacy/designate-devstack-base/post.yaml', 'playbooks/legacy/designate-devstack-agent-base/post.yaml']",4,37eb5a45cee3a9feb77f4abbecfb7581d2a441b1,bug/1862240,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,179
openstack%2Fdesignate~stable%2Fstein~Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98,openstack/designate,stable/stein,Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98,Use Tempest 'all' tox env,MERGED,2020-02-09 10:24:08.000000000,2020-02-10 10:46:43.000000000,2020-02-10 10:40:49.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-02-09 10:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/20d9f5947f5a4a4a9ee3389baced1746cf7a13f1', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 2, 'created': '2020-02-09 18:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/33ab6e9aeef05acdbf4b284ac8261054cc41b4c7', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nEnable designate-tempest-plugin and using tox 'all' env\nto fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 3, 'created': '2020-02-09 22:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f4810e87f6eec240b6554b6fb57f18423eb3ea9c', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nEnable designate-tempest-plugin and using tox 'all' env\nto fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 4, 'created': '2020-02-09 23:59:50.000000000', 'files': ['playbooks/legacy/designate-devstack-base/run.yaml', 'playbooks/legacy/designate-devstack-agent-base/run.yaml', 'playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/36086c73df5d1552e531bc0729207bb2bd875ac8', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nEnable designate-tempest-plugin and using tox 'all' env\nto fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}]",0,706699,36086c73df5d1552e531bc0729207bb2bd875ac8,14,4,4,13252,,,0,"Use Tempest 'all' tox env

Tempest recently moved tox default
to py3 including all-plugin env.
-https://review.opendev.org/#/c/703011/

This will fail the py2 jobs which are using
all-plugin tox env. Because tox all-plugin
env var enable the sitepackages=True. Py2 jobs
install the tempest plugins on py2 and all-plugin
tox try to find the installed plugins on py3 which
cause no test to run and fail the job.

tox all-plugin has been deprecated since long and not
supposed to use for plugins who already in migrated to
separate repo in queens cycle.

Enable designate-tempest-plugin and using tox 'all' env
to fix the issue.

Change-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98
Closes-Bug: 1862240
",git fetch https://review.opendev.org/openstack/designate refs/changes/99/706699/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/designate-devstack-base/run.yaml', 'playbooks/legacy/designate-devstack-agent-base/run.yaml', 'playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml', '.zuul.yaml']",4,20d9f5947f5a4a4a9ee3389baced1746cf7a13f1,bug/1862240, tox_envlist: all, tox_envlist: all-plugin,4,4
openstack%2Fneutron~stable%2Fqueens~I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,openstack/neutron,stable/queens,I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table,ABANDONED,2020-01-31 12:04:30.000000000,2020-02-10 10:46:40.000000000,,"[{'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b0814b603f8ab26835ee5ffdf07c948b581a838', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)\n(cherry picked from commit 09c4e0e970b02ed992aab762505d17f1decca551)\n(cherry picked from commit de5d687e4ae983ec2d9f974ede792812d0f95aff)\n'}, {'number': 2, 'created': '2020-02-03 12:31:08.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/432b63586d6383efd6cb122d5def928433efe886', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)\n(cherry picked from commit 09c4e0e970b02ed992aab762505d17f1decca551)\n(cherry picked from commit de5d687e4ae983ec2d9f974ede792812d0f95aff)\n'}]",0,705201,432b63586d6383efd6cb122d5def928433efe886,9,5,2,11975,,,0,"DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table

DVR does the ARP table update through the control plane, and does not
allow any ARP requests to get out of the node.

In order to address the allowed address pair VRRP IP issue with DVR,
we need to add an ARP entry into the ARP Responder table for the
allowed address pair IP ( which is taken care by the patch in [1])

This patch adds a rule in the br-int to redirect the packet
destinated to the router to the actual router-port and also moves
the arp filtering rule to the tunnel or the physical port based on the
configuration.

By adding the above rule it allows the ARP requests to reach the
ARP Responder table and filters the ARP requests before it reaches
the physical network or the tunnel.

[1] https://review.opendev.org/#/c/601336/
Related-Bug: #1774459

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Change-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72
(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)
(cherry picked from commit 09c4e0e970b02ed992aab762505d17f1decca551)
(cherry picked from commit de5d687e4ae983ec2d9f974ede792812d0f95aff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/705201/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,1b0814b603f8ab26835ee5ffdf07c948b581a838,bug/1774459," def _arp_dvr_dst_mac_match(ofp, ofpp, vlan, dvr_mac): # If eth_dst is equal to the dvr mac of this host, then # flag it as matched. return ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_dst=dvr_mac) @staticmethod def _dvr_dst_mac_table_id(network_type): if network_type == p_const.TYPE_VLAN: return constants.ARP_DVR_MAC_TO_DST_MAC_VLAN else: return constants.ARP_DVR_MAC_TO_DST_MAC def install_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_dst_mac_table_id(network_type) # Match the destination MAC with the DVR MAC (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) # Incoming packet will come with destination MAC of DVR host MAC from # the ARP Responder. The Source MAC in this case will have the source # MAC of the port MAC that responded from the ARP responder. # So just remove the DVR host MAC from the 'eth_dst' and replace it # with the gateway-mac. The packet should end up in the right the table # for the packet to reach the router interface. actions = [ ofpp.OFPActionSetField(eth_dst=gateway_mac), ofpp.OFPActionPopVlan(), ofpp.OFPActionOutput(rtr_port, 0) ] self.install_apply_actions(table_id=table_id, priority=5, match=match, actions=actions) @staticmethod def delete_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_to_src_mac_table_id(network_type) (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match) def add_dvr_gateway_mac_arp_vlan(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC_VLAN) def remove_dvr_gateway_mac_arp_vlan(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) def add_dvr_gateway_mac_arp_tun(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC) def remove_dvr_gateway_mac_arp_tun(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) ",,117,8
openstack%2Fneutron~stable%2Frocky~I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,openstack/neutron,stable/rocky,I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table,ABANDONED,2020-01-31 12:01:08.000000000,2020-02-10 10:46:28.000000000,,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:01:08.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de5d687e4ae983ec2d9f974ede792812d0f95aff', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nConflicts:\n    .zuul.yaml\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)\n(cherry picked from commit 09c4e0e970b02ed992aab762505d17f1decca551)\n'}]",0,705200,de5d687e4ae983ec2d9f974ede792812d0f95aff,9,6,1,11975,,,0,"DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table

DVR does the ARP table update through the control plane, and does not
allow any ARP requests to get out of the node.

In order to address the allowed address pair VRRP IP issue with DVR,
we need to add an ARP entry into the ARP Responder table for the
allowed address pair IP ( which is taken care by the patch in [1])

This patch adds a rule in the br-int to redirect the packet
destinated to the router to the actual router-port and also moves
the arp filtering rule to the tunnel or the physical port based on the
configuration.

By adding the above rule it allows the ARP requests to reach the
ARP Responder table and filters the ARP requests before it reaches
the physical network or the tunnel.

[1] https://review.opendev.org/#/c/601336/
Related-Bug: #1774459

Conflicts:
    .zuul.yaml
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py

Change-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72
(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)
(cherry picked from commit 09c4e0e970b02ed992aab762505d17f1decca551)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/705200/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",6,de5d687e4ae983ec2d9f974ede792812d0f95aff,bug/1774459," def _arp_dvr_dst_mac_match(ofp, ofpp, vlan, dvr_mac): # If eth_dst is equal to the dvr mac of this host, then # flag it as matched. return ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_dst=dvr_mac) @staticmethod def _dvr_dst_mac_table_id(network_type): if network_type == p_const.TYPE_VLAN: return constants.ARP_DVR_MAC_TO_DST_MAC_VLAN else: return constants.ARP_DVR_MAC_TO_DST_MAC def install_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_dst_mac_table_id(network_type) # Match the destination MAC with the DVR MAC (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) # Incoming packet will come with destination MAC of DVR host MAC from # the ARP Responder. The Source MAC in this case will have the source # MAC of the port MAC that responded from the ARP responder. # So just remove the DVR host MAC from the 'eth_dst' and replace it # with the gateway-mac. The packet should end up in the right the table # for the packet to reach the router interface. actions = [ ofpp.OFPActionSetField(eth_dst=gateway_mac), ofpp.OFPActionPopVlan(), ofpp.OFPActionOutput(rtr_port, 0) ] self.install_apply_actions(table_id=table_id, priority=5, match=match, actions=actions) @staticmethod def delete_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_to_src_mac_table_id(network_type) (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match) def add_dvr_gateway_mac_arp_vlan(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC_VLAN) def remove_dvr_gateway_mac_arp_vlan(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) def add_dvr_gateway_mac_arp_tun(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC) def remove_dvr_gateway_mac_arp_tun(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) ",,117,8
openstack%2Fdesignate~master~I1f432c8c99d6a7e695d00baddb9aab795d8685bb,openstack/designate,master,I1f432c8c99d6a7e695d00baddb9aab795d8685bb,Remove unused legacy playbooks,MERGED,2020-02-09 19:03:10.000000000,2020-02-10 10:46:14.000000000,2020-02-10 10:40:47.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-02-09 19:03:10.000000000', 'files': ['playbooks/legacy/designate-devstack-base/run.yaml', 'playbooks/legacy/designate-devstack-base/post.yaml', 'playbooks/legacy/designate-devstack-agent-base/run.yaml', 'playbooks/legacy/designate-devstack-agent-base/post.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/911f372bbe4f15f295235e17bf4f7f372bc1a62e', 'message': 'Remove unused legacy playbooks\n\nLegacy jobs except grenade job has been migrated\nto zuulv3 in - https://review.opendev.org/#/c/644586\n\nBut legacy playbooks has been left to remove. Those are\nunused now and can be removed from master and train branch.\n\nChange-Id: I1f432c8c99d6a7e695d00baddb9aab795d8685bb\n'}]",0,706719,911f372bbe4f15f295235e17bf4f7f372bc1a62e,9,3,1,8556,,,0,"Remove unused legacy playbooks

Legacy jobs except grenade job has been migrated
to zuulv3 in - https://review.opendev.org/#/c/644586

But legacy playbooks has been left to remove. Those are
unused now and can be removed from master and train branch.

Change-Id: I1f432c8c99d6a7e695d00baddb9aab795d8685bb
",git fetch https://review.opendev.org/openstack/designate refs/changes/19/706719/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/designate-devstack-base/run.yaml', 'playbooks/legacy/designate-devstack-agent-base/run.yaml', 'playbooks/legacy/designate-devstack-base/post.yaml', 'playbooks/legacy/designate-devstack-agent-base/post.yaml']",4,911f372bbe4f15f295235e17bf4f7f372bc1a62e,bug/1862240,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,178
openstack%2Fpuppet-tripleo~master~I9228d84e02b485f089fce84ea12ca8afba903a61,openstack/puppet-tripleo,master,I9228d84e02b485f089fce84ea12ca8afba903a61,Don't use defined,MERGED,2020-02-03 15:56:27.000000000,2020-02-10 10:40:56.000000000,2020-02-04 21:11:06.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-03 15:56:27.000000000', 'files': ['manifests/profile/base/logging/rsyslog.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/53665f239365f0d3c32f78842f2a5bf59eaf1ab2', 'message': ""Don't use defined\n\nThe 'defined' function is always true for defined variables\neven when the value is undef. This makes the conditionals useless\nand this patch makes the module to test value instead.\n\nChange-Id: I9228d84e02b485f089fce84ea12ca8afba903a61\n""}]",0,705463,53665f239365f0d3c32f78842f2a5bf59eaf1ab2,10,5,1,5241,,,0,"Don't use defined

The 'defined' function is always true for defined variables
even when the value is undef. This makes the conditionals useless
and this patch makes the module to test value instead.

Change-Id: I9228d84e02b485f089fce84ea12ca8afba903a61
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/705463/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/logging/rsyslog.pp'],1,53665f239365f0d3c32f78842f2a5bf59eaf1ab2,rsyslog-nossl, if $elasticsearch_tls_ca_cert { if $elasticsearch_tls_client_cert { if $elasticsearch_tls_client_key {, if defined('$elasticsearch_tls_ca_cert') { if defined('$elasticsearch_tls_client_cert') { if defined('$elasticsearch_tls_client_key') {,3,3
openstack%2Frpm-packaging~master~I55b0dd957cd3c3cfedfafb0111c14b66cfb4b43c,openstack/rpm-packaging,master,I55b0dd957cd3c3cfedfafb0111c14b66cfb4b43c,update aodhclient to 1.5.0,MERGED,2020-02-03 06:50:52.000000000,2020-02-10 10:26:52.000000000,2020-02-10 10:26:52.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-03 06:50:52.000000000', 'files': ['openstack/aodhclient/aodhclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/52b1389e68b7454ef0ed02d2cce801170c2b2477', 'message': 'update aodhclient to 1.5.0\n\nChange-Id: I55b0dd957cd3c3cfedfafb0111c14b66cfb4b43c\n'}]",0,705381,52b1389e68b7454ef0ed02d2cce801170c2b2477,10,6,1,28654,,,0,"update aodhclient to 1.5.0

Change-Id: I55b0dd957cd3c3cfedfafb0111c14b66cfb4b43c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/705381/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/aodhclient/aodhclient.spec.j2'],1,52b1389e68b7454ef0ed02d2cce801170c2b2477,bug/aodhclient,{% set upstream_version = upstream_version('1.5.0') %},{% set upstream_version = upstream_version('1.3.0') %},1,1
openstack%2Fpython-tripleoclient~master~I92ebb5dea1b5946db38c3ca868d984fe0e635b5e,openstack/python-tripleoclient,master,I92ebb5dea1b5946db38c3ca868d984fe0e635b5e,WIP: Migrate validations execution from mistral to ansible-runner,ABANDONED,2020-02-05 15:16:47.000000000,2020-02-10 10:24:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 15:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13dea5de9f6e49e3055017828c90f51735121ea5', 'message': 'WIP: Migrate validations execution from mistral to ansible-runner\n\nChange-Id: I92ebb5dea1b5946db38c3ca868d984fe0e635b5e\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 15:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/37926325fe0d642df690d0a1022c03d376b91e0f', 'message': 'WIP: Migrate validations execution from mistral to ansible-runner\n\nChange-Id: I92ebb5dea1b5946db38c3ca868d984fe0e635b5e\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2020-02-06 10:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f7f2acba77bc4a3faf918a28e8fe046b40a3a067', 'message': 'WIP: Migrate validations execution from mistral to ansible-runner\n\nChange-Id: I92ebb5dea1b5946db38c3ca868d984fe0e635b5e\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2020-02-06 12:42:09.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5667649fe50d4c494ece6837da90f141736aa544', 'message': 'WIP: Migrate validations execution from mistral to ansible-runner\n\nChange-Id: I92ebb5dea1b5946db38c3ca868d984fe0e635b5e\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,705981,5667649fe50d4c494ece6837da90f141736aa544,11,2,4,11491,,,0,"WIP: Migrate validations execution from mistral to ansible-runner

Change-Id: I92ebb5dea1b5946db38c3ca868d984fe0e635b5e
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/705981/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py']",2,13dea5de9f6e49e3055017828c90f51735121ea5,mistral_to_ansible,"def execute_validation_by_group(log, group, plan): """"""Execute Validation by group"""""" results = [] validations = parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, group) playbooks = [ val.get('id') + 'yaml' for val in validations if val.get('id', None) ] with TempDirs() as tmp: for playbook in playbooks: _rc, output = run_ansible_playbook( plan=plan, workdir=tmp, playbook=playbook, playbook_dir=constants.ANSIBLE_VALIDATION_DIR, parallel_run=True, inventory='/usr/bin/tripleo-ansible-inventory', output_callback='validation_output', gathering_policy='explicit' ) results.append({ 'playbook': pl, 'rc': _rc, 'output': output }) for : _rc, output = tk.result() if _rc != 0: raise RuntimeError( _(""%s validations failed"" % group.uppercase()) )","def get_local_timezone(): info = run_command(['timedatectl'], name='timedatectl') timezoneline = [tz for tz in info.split('\n') if 'Time zone:' in tz] if not timezoneline: LOG.warning('Unable to determine timezone, using UTC') return 'UTC' # The line returned is ""[whitespace]Time zone: [timezone] ([tz], [offset])"" try: timezone = timezoneline[0].strip().split(' ')[2] except Exception: LOG.error('Unable to parse timezone from timedatectl, using UTC') timezone = 'UTC' return timezone",40,13
openstack%2Fdesignate~stable%2Ftrain~Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98,openstack/designate,stable/train,Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98,Use Tempest 'all' tox env,MERGED,2020-02-06 20:49:13.000000000,2020-02-10 10:24:01.000000000,2020-02-10 10:19:52.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 20:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c687b4b898d4aeb754b5910840799cfb9dd921b3', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 2, 'created': '2020-02-07 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2872f6e8587b24fcc61d4cf1ab26a8ffcc9b2ae4', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 3, 'created': '2020-02-09 18:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bb1b18ce61bf4f57af96bbb74174e9b4c386a718', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 4, 'created': '2020-02-09 19:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/685e3f62fd9be3b8c54a3831da05ba09764cde20', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 5, 'created': '2020-02-09 21:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/402d2451736be638bf2ae87ae75c679655274ca9', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 6, 'created': '2020-02-09 22:20:12.000000000', 'files': ['playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/29182a4552a17c1a51cb1930a818cd95a95d3266', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}]",0,706385,29182a4552a17c1a51cb1930a818cd95a95d3266,28,5,6,8556,,,0,"Use Tempest 'all' tox env

Tempest recently moved tox default
to py3 including all-plugin env.
-https://review.opendev.org/#/c/703011/

This will fail the py2 jobs which are using
all-plugin tox env. Because tox all-plugin
env var enable the sitepackages=True. Py2 jobs
install the tempest plugins on py2 and all-plugin
tox try to find the installed plugins on py3 which
cause no test to run and fail the job.

tox all-plugin has been deprecated since long and not
supposed to use for plugins who already in migrated to
separate repo in queens cycle.

Using tox 'all' env to fix the issue.

Change-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98
Closes-Bug: 1862240
",git fetch https://review.opendev.org/openstack/designate refs/changes/85/706385/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c687b4b898d4aeb754b5910840799cfb9dd921b3,bug/1862240, tox_envlist: all, tox_envlist: all-plugin,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I17bed8c6dd8cc272fbe33b99b249f19baee6dc59,openstack/tripleo-heat-templates,stable/train,I17bed8c6dd8cc272fbe33b99b249f19baee6dc59,"When upgrading overcloud, separate configs",ABANDONED,2020-02-05 10:45:48.000000000,2020-02-10 10:23:06.000000000,,"[{'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-05 10:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b33a76782e43a7e4f64a88d76290e5baf4e4820b', 'message': 'When upgrading overcloud, separate configs\n\nFor each upgrade prepare step X, execute only tasks matching its\ndedicated config_id: tripleo_upgradeX. The upgrade converge & upgrade\nrun will use the default tripleo_stepX config ids.\n\nThis provides separation of deployment and upgrade tasks defined for\nDay1 and Day2 cases via the common framework\n\nChange-Id: I17bed8c6dd8cc272fbe33b99b249f19baee6dc59\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-02-07 13:57:28.000000000', 'files': ['environments/lifecycle/ffwd-upgrade-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80ef036695bdf54c109961459dd88a7e4832bcc6', 'message': 'When upgrading overcloud, separate configs\n\nFor each upgrade prepare step X, execute only tasks matching its\ndedicated config_id: tripleo_upgradeX. The upgrade converge & upgrade\nrun will use the default tripleo_stepX config ids.\n\nThis provides separation of deployment and upgrade tasks defined for\nDay1 and Day2 cases via the common framework\n\nChange-Id: I17bed8c6dd8cc272fbe33b99b249f19baee6dc59\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,705919,80ef036695bdf54c109961459dd88a7e4832bcc6,10,5,2,6926,,,0,"When upgrading overcloud, separate configs

For each upgrade prepare step X, execute only tasks matching its
dedicated config_id: tripleo_upgradeX. The upgrade converge & upgrade
run will use the default tripleo_stepX config ids.

This provides separation of deployment and upgrade tasks defined for
Day1 and Day2 cases via the common framework

Change-Id: I17bed8c6dd8cc272fbe33b99b249f19baee6dc59
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/705919/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/ffwd-upgrade-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",2,b33a76782e43a7e4f64a88d76290e5baf4e4820b,ffwd-upgrade2, ConfigID: 'tripleo_upgrade',,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3ad6cf8ca104fd5a2e08fc26ba088b13997265b5,openstack/tripleo-heat-templates,stable/train,I3ad6cf8ca104fd5a2e08fc26ba088b13997265b5,Allow custom config IDs for separation of CM tasks,ABANDONED,2020-02-05 09:49:14.000000000,2020-02-10 10:23:00.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 09:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9582973406a21120f30c0056e2e9a0c4b686be8', 'message': 'Allow custom config IDs for separation of CM tasks\n\nWhen running deployment or upgrade, allow custom config_ids\nfor tasks separation.\n\nChange-Id: I3ad6cf8ca104fd5a2e08fc26ba088b13997265b5\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-02-07 13:57:28.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf93396583ef40ade376ddeb561b4476ad7396d7', 'message': 'Allow custom config IDs for separation of CM tasks\n\nWhen running deployment or upgrade, allow custom config_ids\nfor tasks separation.\n\nChange-Id: I3ad6cf8ca104fd5a2e08fc26ba088b13997265b5\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,705905,bf93396583ef40ade376ddeb561b4476ad7396d7,10,6,2,6926,,,0,"Allow custom config IDs for separation of CM tasks

When running deployment or upgrade, allow custom config_ids
for tasks separation.

Change-Id: I3ad6cf8ca104fd5a2e08fc26ba088b13997265b5
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/705905/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml']",2,e9582973406a21120f30c0056e2e9a0c4b686be8,ffwd-upgrade2," config_id: ""{{ config_id }}{{ step }}"""," config_id: ""tripleo_step{{ step }}""",15,1
openstack%2Fcloudkitty~master~Icd32a2d0be249efea0867d8a2966c156084e75bb,openstack/cloudkitty,master,Icd32a2d0be249efea0867d8a2966c156084e75bb,Support cross-tenant metrics in monasca collector,MERGED,2019-10-09 15:43:41.000000000,2020-02-10 10:22:53.000000000,2020-02-10 10:17:03.000000000,"[{'_account_id': 22348}, {'_account_id': 29503}, {'_account_id': 30960}]","[{'number': 1, 'created': '2019-10-09 15:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5d99c7e843e119b25aff47383aedda8b4f9e3092', 'message': 'Support cross-tenant metrics in monasca collector\n\nThis allows metrics to be fetched from the current scope in the monasca\ncollector, in case cross-metric tenant submission is enabled: https://github.com/openstack/monasca-agent/blob/master/docs/MonascaMetrics.md#cross-tenant-metric-submission.\n\nStory: 2006696\nTask: 36999\nChange-Id: Icd32a2d0be249efea0867d8a2966c156084e75bb\n'}, {'number': 2, 'created': '2019-10-10 07:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/03da3dae7c9321f616f51edc03fe4134b69e4928', 'message': 'Support cross-tenant metrics in monasca collector\n\nThis allows metrics to be fetched from the current scope in the monasca\ncollector, in case cross-metric tenant submission is enabled: https://github.com/openstack/monasca-agent/blob/master/docs/MonascaMetrics.md#cross-tenant-metric-submission.\n\nStory: 2006696\nTask: 36999\nChange-Id: Icd32a2d0be249efea0867d8a2966c156084e75bb\n'}, {'number': 3, 'created': '2019-10-10 14:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9e20a4bc941d9d78256174430c2895231dda9aca', 'message': 'Support cross-tenant metrics in monasca collector\n\nThis allows metrics to be fetched from the current scope in the monasca\ncollector, in case cross-metric tenant submission is enabled: https://github.com/openstack/monasca-agent/blob/master/docs/MonascaMetrics.md#cross-tenant-metric-submission.\n\nStory: 2006696\nTask: 36999\nChange-Id: Icd32a2d0be249efea0867d8a2966c156084e75bb\n'}, {'number': 4, 'created': '2019-10-25 09:13:32.000000000', 'files': ['releasenotes/notes/support-cross-tenant-metric-submission-monasca-collector-508b495bc88910ca.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f00a0458a1d508086ef871c637ae4dc4a221d44c', 'message': 'Support cross-tenant metrics in monasca collector\n\nThis allows metrics to be fetched from the current scope in the monasca\ncollector, in case cross-metric tenant submission is enabled: https://github.com/openstack/monasca-agent/blob/master/docs/MonascaMetrics.md#cross-tenant-metric-submission.\n\nStory: 2006696\nTask: 36999\nChange-Id: Icd32a2d0be249efea0867d8a2966c156084e75bb\n'}]",0,687600,f00a0458a1d508086ef871c637ae4dc4a221d44c,15,3,4,23060,,,0,"Support cross-tenant metrics in monasca collector

This allows metrics to be fetched from the current scope in the monasca
collector, in case cross-metric tenant submission is enabled: https://github.com/openstack/monasca-agent/blob/master/docs/MonascaMetrics.md#cross-tenant-metric-submission.

Story: 2006696
Task: 36999
Change-Id: Icd32a2d0be249efea0867d8a2966c156084e75bb
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/00/687600/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-cross-tenant-metric-submission-monasca-collector-508b495bc88910ca.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/monasca.py']",3,5d99c7e843e119b25aff47383aedda8b4f9e3092,, if extra_args['forced_project_id'] == 'SCOPE_ID' and project_id: kwargs['tenant_id'] = project_id else: kwargs['tenant_id'] = extra_args['forced_project_id'], kwargs['tenant_id'] = extra_args['forced_project_id'],13,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1,openstack/tripleo-heat-templates,stable/train,Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1,WIP separate upgrade steps by custom config_id,ABANDONED,2020-02-06 10:36:07.000000000,2020-02-10 10:22:50.000000000,,"[{'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 10:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83b3e0045b8f3c48d49cfb466f4e8a227a01ae01', 'message': 'WIP separate upgrade steps by custom config_id\n\nChange-Id: Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-02-07 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3e21370d007155fe83da1d727d04aa4238d0320', 'message': 'WIP separate upgrade steps by custom config_id\n\nChange-Id: Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-02-07 15:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b437d493371b9e9ce11a98f96c5acac9a79eaf21', 'message': 'WIP separate upgrade steps by custom config_id\n\nChange-Id: Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2020-02-07 16:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f1e03733d4be1253e55e2dc43e447b09f0c4acc', 'message': 'WIP separate upgrade steps by custom config_id\n\nChange-Id: Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2020-02-07 16:52:44.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f48b3d56852164f62a41ae92ad7b4bd6e981dc49', 'message': 'WIP separate upgrade steps by custom config_id\n\nDepends-On: https://review.opendev.org/#/c/705910/\nDepends-On: https://review.opendev.org/#/c/705906/\n\nChange-Id: Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,706223,f48b3d56852164f62a41ae92ad7b4bd6e981dc49,15,4,5,6926,,,0,"WIP separate upgrade steps by custom config_id

Depends-On: https://review.opendev.org/#/c/705910/
Depends-On: https://review.opendev.org/#/c/705906/

Change-Id: Ib8f0ab2dd8b60b5fd000a4c5ddb9837fec4a0de1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/706223/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml']",16,83b3e0045b8f3c48d49cfb466f4e8a227a01ae01,ffwd-upgrade2, config_id: tripleo_upgrade config_id: tripleo_upgrade, start_order: 2,51,22
openstack%2Fcloudkitty~master~Ib081156139d942a465fd9051c5a9a680ed38da55,openstack/cloudkitty,master,Ib081156139d942a465fd9051c5a9a680ed38da55,Use Keystone v3 API by default in fetcher,MERGED,2020-02-04 16:00:22.000000000,2020-02-10 10:19:57.000000000,2020-02-10 10:17:03.000000000,"[{'_account_id': 22348}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-02-04 16:00:22.000000000', 'files': ['doc/source/admin/configuration/fetcher.rst', 'doc/source/_static/cloudkitty.conf.sample', 'cloudkitty/fetcher/keystone.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/48719c53be4a0850dd3e6e2b14066999bb3341dc', 'message': 'Use Keystone v3 API by default in fetcher\n\nThe Keystone v2.0 API was removed in Queens.\n\nChange-Id: Ib081156139d942a465fd9051c5a9a680ed38da55\n'}]",0,705721,48719c53be4a0850dd3e6e2b14066999bb3341dc,7,2,1,15197,,,0,"Use Keystone v3 API by default in fetcher

The Keystone v2.0 API was removed in Queens.

Change-Id: Ib081156139d942a465fd9051c5a9a680ed38da55
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/21/705721/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/fetcher.rst', 'doc/source/_static/cloudkitty.conf.sample', 'cloudkitty/fetcher/keystone.py']",3,48719c53be4a0850dd3e6e2b14066999bb3341dc,keystone-version," default='3',"," default='2',",3,3
openstack%2Fpython-cloudkittyclient~master~Ie116c518f30128b49c3991f36101db7535af7db1,openstack/python-cloudkittyclient,master,Ie116c518f30128b49c3991f36101db7535af7db1,Add support for v2/rating/modules endpoints,MERGED,2019-09-30 13:43:16.000000000,2020-02-10 10:18:18.000000000,2020-02-10 10:16:26.000000000,"[{'_account_id': 22348}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-09-30 13:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/ac7f0457997e54572e9ad6e05a013cd4be5059ba', 'message': 'Add support for v2/rating/modules endpoints\n\nThis adds support for the new v2 API rating modules endpoints. Unit tests included.\n\nChange-Id: Ie116c518f30128b49c3991f36101db7535af7db1\nStory: 2006572\nTask: 36680\n'}, {'number': 2, 'created': '2019-09-30 14:36:12.000000000', 'files': ['cloudkittyclient/v2/client.py', 'cloudkittyclient/tests/unit/v2/test_rating.py', 'cloudkittyclient/v2/rating/__init__.py', 'cloudkittyclient/v2/rating/modules_cli.py', 'cloudkittyclient/tests/unit/v2/base.py', 'cloudkittyclient/v2/rating/modules.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e599ac9f84b043eb9882e02c110ac9a31709aff3', 'message': 'Add support for v2/rating/modules endpoints\n\nThis adds support for the new v2 API rating modules endpoints. Unit tests included.\n\nChange-Id: Ie116c518f30128b49c3991f36101db7535af7db1\nStory: 2006572\nTask: 36680\n'}]",0,685713,e599ac9f84b043eb9882e02c110ac9a31709aff3,9,2,2,30960,,,0,"Add support for v2/rating/modules endpoints

This adds support for the new v2 API rating modules endpoints. Unit tests included.

Change-Id: Ie116c518f30128b49c3991f36101db7535af7db1
Story: 2006572
Task: 36680
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/13/685713/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v2/client.py', 'cloudkittyclient/tests/unit/v2/test_rating.py', 'cloudkittyclient/v2/rating/__init__.py', 'cloudkittyclient/v2/rating/modules_cli.py', 'cloudkittyclient/tests/unit/v2/base.py', 'cloudkittyclient/v2/rating/modules.py']",6,ac7f0457997e54572e9ad6e05a013cd4be5059ba,," # Copyright 2019 Objectif Libre # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from cloudkittyclient import exc from cloudkittyclient.v1.client import rating class RatingManager(rating.RatingManager): """"""Class used to handle /v2/rating/modules endpoint"""""" url = '/v2/rating/modules' def get_module(self, **kwargs): """"""Returns the given module. If module_id is not specified, returns the list of loaded modules. :param module_id: ID of the module on which you want information. :type module_id: str """""" module_id = kwargs.get('module_id', None) if module_id is not None: url = ""{}/{}"".format(self.url, module_id) else: url = self.url return self.api_client.get(url).json() def update_module(self, **kwargs): """"""Update the given module. :param module_id: Id of the module to update. :type module_id: str :param enabled: Set to True to enable the module, False to disable it. :type enabled: bool :param priority: New priority of the module. :type priority: int """""" if not kwargs.get('module_id', None): raise exc.ArgumentRequired(""'module_id' argument is required."") mutable_fields = ['enabled', 'priority'] changes = {} for key, value in kwargs.items(): if value is not None and key in mutable_fields: changes[key] = value self.api_client.put(""{}/{}"".format(self.url, kwargs['module_id']), json=changes) return self.get_module(**kwargs) ",,131,0
openstack%2Fneutron~master~I344b413fa70cab79738684f4315ba7d0886edce8,openstack/neutron,master,I344b413fa70cab79738684f4315ba7d0886edce8,Disable neutron-ovn-tempest-ovs-release temporarily,MERGED,2020-02-05 09:32:15.000000000,2020-02-10 10:09:16.000000000,2020-02-06 22:18:10.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-05 09:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5e88ab9e8601227f72ce91ab1d2d54358ca7ace', 'message': 'Disable neutron-ovn-tempest-ovs-release temporarily\n\nUntil LP 1861876 is solved.\n\nChange-Id: I344b413fa70cab79738684f4315ba7d0886edce8\nRelated-Bug: #1861876\n'}, {'number': 2, 'created': '2020-02-05 10:12:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b12d808aa3255a595bc2f8ee01411819b5b72f3', 'message': 'Disable neutron-ovn-tempest-ovs-release temporarily\n\nUntil LP 1861876 is solved.\n\nChange-Id: I344b413fa70cab79738684f4315ba7d0886edce8\nRelated-Bug: #1861876\n'}]",3,705903,5b12d808aa3255a595bc2f8ee01411819b5b72f3,30,5,2,16688,,,0,"Disable neutron-ovn-tempest-ovs-release temporarily

Until LP 1861876 is solved.

Change-Id: I344b413fa70cab79738684f4315ba7d0886edce8
Related-Bug: #1861876
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/705903/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b5e88ab9e8601227f72ce91ab1d2d54358ca7ace,bug/1861876, - neutron-ovn-tempest-ovs-release: # NOTE(ralonsoh): disabled temporarily until LP 1861876 is solved voting: false - neutron-ovn-tempest-ovs-release: # NOTE(ralonsoh): disabled temporarily until LP 1861876 is solved voting: false, - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release,6,2
openstack%2Ftripleo-quickstart-extras~master~Ieabc0d56e01ced15860da5642c9d62c620e9c0db,openstack/tripleo-quickstart-extras,master,Ieabc0d56e01ced15860da5642c9d62c620e9c0db,Updated tempest skip list for stein,MERGED,2020-02-06 10:20:22.000000000,2020-02-10 10:07:19.000000000,2020-02-08 05:24:58.000000000,"[{'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-06 10:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/74da5b1bb1c9d26923032fcbe1247db1284204c2', 'message': 'Updated tempest skip list for stein\n\nCurrently scenario 1 and 4 standalone stable/stein check and gate\njob is broken due to volume encryption and swift related tempest\ntests failure.\n\nIn order to unblock the gates, we are currently moving tests to\nskip list.\n\nRelated-Bug: #1862143\nRelated-Bug: #1862142\nChange-Id: Ieabc0d56e01ced15860da5642c9d62c620e9c0db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-06 13:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/da03da397c9fb50535dbc6803dedfb06067ec081', 'message': 'Updated tempest skip list for stein\n\nCurrently scenario 1 and 4 standalone stable/stein check and gate\njob is broken due to volume encryption and swift related tempest\ntests failure.\n\nIn order to unblock the gates, we are currently moving tests to\nskip list.\n\nRelated-Bug: #1862143\nRelated-Bug: #1862142\n\nDepends-On: https://review.opendev.org/#/c/706196/\n\nChange-Id: Ieabc0d56e01ced15860da5642c9d62c620e9c0db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-06 13:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82292f53f57aa8067adef36d80baab7ca417d61b', 'message': 'Updated tempest skip list for stein\n\nCurrently scenario 1 and 4 standalone stable/stein check and gate\njob is broken due to volume encryption and swift related tempest\ntests failure.\n\nIn order to unblock the gates, we are currently moving tests to\nskip list.\n\nRelated-Bug: #1862143\nRelated-Bug: #1862142\n\nDepends-On: https://review.opendev.org/#/c/706196/\n\nChange-Id: Ieabc0d56e01ced15860da5642c9d62c620e9c0db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-02-06 18:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/243547a0028b35d9d6ac6cd113f649d2db7356ad', 'message': 'Updated tempest skip list for stein\n\nCurrently scenario 1 and 4 standalone stable/stein check and gate\njob is broken due to volume encryption and swift related tempest\ntests failure.\n\nIn order to unblock the gates, we are currently moving tests to\nskip list.\n\nRelated-Bug: #1862143\nRelated-Bug: #1862142\n\nDepends-On: https://review.opendev.org/#/c/706196/\n\nChange-Id: Ieabc0d56e01ced15860da5642c9d62c620e9c0db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-02-07 12:27:03.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/699355b71b5272832a1a3c4632dbc3ecaeee66ad', 'message': 'Updated tempest skip list for stein\n\nCurrently scenario 1 and 4 standalone stable/stein check and gate\njob is broken due to volume encryption and swift related tempest\ntests failure.\n\nIn order to unblock the gates, we are currently moving tests to\nskip list.\n\nRelated-Bug: #1862143\nRelated-Bug: #1862142\n\nDepends-On: https://review.opendev.org/#/c/706196/\n\nChange-Id: Ieabc0d56e01ced15860da5642c9d62c620e9c0db\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,706215,699355b71b5272832a1a3c4632dbc3ecaeee66ad,30,10,5,12393,,,0,"Updated tempest skip list for stein

Currently scenario 1 and 4 standalone stable/stein check and gate
job is broken due to volume encryption and swift related tempest
tests failure.

In order to unblock the gates, we are currently moving tests to
skip list.

Related-Bug: #1862143
Related-Bug: #1862142

Depends-On: https://review.opendev.org/#/c/706196/

Change-Id: Ieabc0d56e01ced15860da5642c9d62c620e9c0db
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/15/706215/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_stein.yml'],1,74da5b1bb1c9d26923032fcbe1247db1284204c2,skipstein, - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_boot_server_from_encrypted_volume_luks' reason: 'Key manager error with cinder and barbican communication' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862142' - test: 'tempest.api.object_storage.test_account_quotas.AccountQuotasTest' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' - test: 'tempest.api.object_storage.test_account_services.AccountTest' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' - test: 'tempest.api.object_storage.test_object_services.ObjectTest' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' - test: 'tempest.api.object_storage.test_container_quotas.ContainerQuotasTest' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' - test: 'tempest.api.object_storage.test_container_services.ContainerTest' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143',,18,0
openstack%2Fcloudkitty~stable%2Fstein~Ic7e482fad3ad05026fa14412acb577fe7a02045c,openstack/cloudkitty,stable/stein,Ic7e482fad3ad05026fa14412acb577fe7a02045c,"Fix InfluxDB storage's ""_point_to_dataframe_entry"" method",MERGED,2020-02-04 17:07:10.000000000,2020-02-10 10:02:04.000000000,2020-02-10 09:59:40.000000000,"[{'_account_id': 22348}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-02-04 17:07:10.000000000', 'files': ['cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/storage/v2/test_influxdb.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7d6b82b8a8153a7c2c886a1edd8c3505516e3af1', 'message': 'Fix InfluxDB storage\'s ""_point_to_dataframe_entry"" method\n\nThis fixes the ""_point_to_dataframe_entry"" method by checking if the\n""metadata"" and ""groupby"" attributes of points returned by the influxdb\nclient are not None.\n\nChange-Id: Ic7e482fad3ad05026fa14412acb577fe7a02045c\n(cherry picked from commit 0259fe458cc0c145231b9690e4d54e60116fd9b7)\n'}]",0,705772,7d6b82b8a8153a7c2c886a1edd8c3505516e3af1,7,2,1,15197,,,0,"Fix InfluxDB storage's ""_point_to_dataframe_entry"" method

This fixes the ""_point_to_dataframe_entry"" method by checking if the
""metadata"" and ""groupby"" attributes of points returned by the influxdb
client are not None.

Change-Id: Ic7e482fad3ad05026fa14412acb577fe7a02045c
(cherry picked from commit 0259fe458cc0c145231b9690e4d54e60116fd9b7)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/72/705772/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/storage/v2/test_influxdb.py']",2,7d6b82b8a8153a7c2c886a1edd8c3505516e3af1,,"# Copyright 2019 Objectif Libre # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from cloudkitty.storage.v2.influx import InfluxStorage from cloudkitty.tests import TestCase class TestInfluxDBStorage(TestCase): def setUp(self): super(TestInfluxDBStorage, self).setUp() self.point = { 'unit': 'banana', 'qty': 42, 'price': 1.0, 'groupby': 'one|two', 'metadata': '1|2', 'one': '1', 'two': '2', '1': 'one', '2': 'two', } def test_point_to_dataframe_entry_valid_point(self): self.assertEqual( InfluxStorage._point_to_dataframe_entry(self.point), { 'vol': {'unit': 'banana', 'qty': 42}, 'rating': {'price': 1.0}, 'groupby': {'one': '1', 'two': '2'}, 'metadata': {'1': 'one', '2': 'two'}, } ) def test_point_to_dataframe_entry_invalid_groupby_metadata(self): self.point['groupby'] = 'a' self.point['metadata'] = None self.assertEqual( InfluxStorage._point_to_dataframe_entry(self.point), { 'vol': {'unit': 'banana', 'qty': 42}, 'rating': {'price': 1.0}, 'groupby': {'a': ''}, 'metadata': {} } ) ",,59,2
openstack%2Fkeystoneauth~master~I1f06c2cd5c4e93e04582d4ffbb434db92010d712,openstack/keystoneauth,master,I1f06c2cd5c4e93e04582d4ffbb434db92010d712,add handling for multiple error returns,MERGED,2019-05-30 18:19:14.000000000,2020-02-10 10:00:17.000000000,2019-06-03 23:06:00.000000000,"[{'_account_id': 1063}, {'_account_id': 2903}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 8482}, {'_account_id': 9708}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-30 18:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b3fc2ce488d63824682bbe80d8f39ebbd8a2b33d', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}, {'number': 2, 'created': '2019-05-30 18:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/0cdbeba260209551f1f522348efeef3fa76acbd4', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}, {'number': 3, 'created': '2019-05-30 21:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/008455c1f07d88490bf9395a0a422e67997295b7', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}, {'number': 4, 'created': '2019-05-30 23:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/158543f4675d8617734b87d7a72eddcdce0abc3e', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nAPI SIG guideline:\nspecs.openstack.org/openstack/api-sig/guidelines/errors.html\n\nemail thread for content:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}, {'number': 5, 'created': '2019-05-30 23:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/eb7f19219f23ffe948d2979f867d8943a2988ba2', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nAPI SIG guideline:\nhttps://specs.openstack.org/openstack/api-sig/guidelines/errors.html\n\nemail thread for content:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}, {'number': 6, 'created': '2019-05-31 12:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b89218fcb762643e4f44f54e3815ca657b61dddf', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nAPI SIG guideline:\nhttps://specs.openstack.org/openstack/api-sig/guidelines/errors.html\n\nemail thread for content:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html\n\nrelated neutron bug:\nhttps://bugs.launchpad.net/neutron/+bug/1828543\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}, {'number': 7, 'created': '2019-06-03 15:09:41.000000000', 'files': ['keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/exceptions/http.py', 'releasenotes/notes/api-sig-error-guideline-handler.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/01d2da9e4776fed0f2551a4c6e39a72865d5ca72', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nAPI SIG guideline:\nhttps://specs.openstack.org/openstack/api-sig/guidelines/errors.html\n\nemail thread for content:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html\n\nrelated neutron bug:\nhttps://bugs.launchpad.net/neutron/+bug/1828543\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n'}]",23,662281,01d2da9e4776fed0f2551a4c6e39a72865d5ca72,45,11,7,10670,,,0,"add handling for multiple error returns

This change adds logic to the `exceptions.from_response` to handle
errors formatted in accordance with the API-SIG guidelines. When there
are multiple errors returned, only the first error will be included in
the exception with a note informing that there were more errors.

API SIG guideline:
https://specs.openstack.org/openstack/api-sig/guidelines/errors.html

email thread for content:
http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html

related neutron bug:
https://bugs.launchpad.net/neutron/+bug/1828543

Change-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/81/662281/7 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/exceptions/http.py'],1,b3fc2ce488d63824682bbe80d8f39ebbd8a2b33d,update-error-handler," elif (isinstance(body, dict) and isinstance(body.get(""errors""), list)): # if the error response follows the API SIG guidelines, it # will return a list of errors. in this case, only the first # error is shown, but if there are multiple the user will be # alerted to that fact. errors = body[""errors""] if len(errors) == 0: # just in case we get an empty array kwargs[""message""] = None kwargs[""details""] = None else: if len(errors) > 1: # if there is more than one error, let the user know that # multiple were seen. msg_hdr = (""Multiple error responses, "" ""showing first only: "") else: msg_hdr = """" kwargs[""message""] = ""{}{}"".format(msg_hdr, errors[0].get(""message"")) kwargs[""details""] = errors[0].get(""details"") ",,24,0
openstack%2Fcloudkitty-specs~master~Idc5447de3d2dd76dd1b073333df95e5619c1829a,openstack/cloudkitty-specs,master,Idc5447de3d2dd76dd1b073333df95e5619c1829a,Update and replace http with https for doc links,MERGED,2019-08-22 06:54:18.000000000,2020-02-10 09:43:30.000000000,2020-02-10 09:41:12.000000000,"[{'_account_id': 22348}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-08-22 06:54:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/a0e50d76d73d322ed529f5daa45626c7788671e3', 'message': 'Update and replace http with https for doc links\n\nChange-Id: Idc5447de3d2dd76dd1b073333df95e5619c1829a\n'}]",0,677899,a0e50d76d73d322ed529f5daa45626c7788671e3,7,2,1,27399,,,0,"Update and replace http with https for doc links

Change-Id: Idc5447de3d2dd76dd1b073333df95e5619c1829a
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/99/677899/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a0e50d76d73d322ed529f5daa45626c7788671e3,, https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://docs.openstack.org/infra/manual/developers.html#development-workflow,1,1
openstack%2Fpython-tripleoclient~master~I53838796aedd015561723317571c16b9af15643a,openstack/python-tripleoclient,master,I53838796aedd015561723317571c16b9af15643a,"When upgrading standalone cloud, separate configs",ABANDONED,2020-02-05 10:15:22.000000000,2020-02-10 09:40:48.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-05 10:15:22.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7989dc1105950c5a7fc04b25805e34b5d24f2bc', 'message': 'When upgrading standalone cloud, separate configs\n\nThis provides separation of deployment and upgrade tasks defined for\nDay1 and Day2 cases via the common framework\n\nChange-Id: I53838796aedd015561723317571c16b9af15643a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,705910,d7989dc1105950c5a7fc04b25805e34b5d24f2bc,5,8,1,6926,,,0,"When upgrading standalone cloud, separate configs

This provides separation of deployment and upgrade tasks defined for
Day1 and Day2 cases via the common framework

Change-Id: I53838796aedd015561723317571c16b9af15643a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/705910/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,d7989dc1105950c5a7fc04b25805e34b5d24f2bc,ffwd-upgrade2," stack_state_params = \ 'DeployIdentifier': int(time.time())}} if parsed_args.upgrade: stack_state_params['parameter_defaults'].update( {'ConfigID': 'tripleo_upgrade'}) yaml.safe_dump( stack_state_params, dropin_file, default_flow_style=False)"," yaml.safe_dump( 'DeployIdentifier': int(time.time())}}, dropin_file, default_flow_style=False)",7,3
openstack%2Fpython-tripleoclient~master~I68596981f777b204a0154b959d55286906c0a2cd,openstack/python-tripleoclient,master,I68596981f777b204a0154b959d55286906c0a2cd,"When upgrading undercloud/minion, separate configs",ABANDONED,2020-02-05 09:53:24.000000000,2020-02-10 09:40:38.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-05 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92fc2f4d3a2a76894bdc1396ba3944f972b2cdcd', 'message': 'When upgrading undercloud, use separated config_id\n\nThis provides separation of tasks defined for Day1 and Day2\n\nChange-Id: I68596981f777b204a0154b959d55286906c0a2cd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 09:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9ef11dfb67c5ceabca717809242d7066e89827b', 'message': 'When upgrading undercloud/minion separate configs\n\nThis provides separation of deployment and upgrade tasks defined for\nDay1 and Day2 cases via the common framework\n\nChange-Id: I68596981f777b204a0154b959d55286906c0a2cd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-02-05 10:18:40.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/minion_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4143e9d4e234d944d30d556f661c67bbbdc414a5', 'message': 'When upgrading undercloud/minion, separate configs\n\nThis provides separation of deployment and upgrade tasks defined for\nDay1 and Day2 cases via the common framework\n\nChange-Id: I68596981f777b204a0154b959d55286906c0a2cd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,705906,4143e9d4e234d944d30d556f661c67bbbdc414a5,8,8,3,6926,,,0,"When upgrading undercloud/minion, separate configs

This provides separation of deployment and upgrade tasks defined for
Day1 and Day2 cases via the common framework

Change-Id: I68596981f777b204a0154b959d55286906c0a2cd
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/705906/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,92fc2f4d3a2a76894bdc1396ba3944f972b2cdcd,ffwd-upgrade2, env_data['ConfigID'] = 'tripleo_upgrade',,1,0
openstack%2Ftripleo-common~stable%2Fstein~I93de24cf386875af04615875ea665fc2e185eb4e,openstack/tripleo-common,stable/stein,I93de24cf386875af04615875ea665fc2e185eb4e,[DNM] ostempest stein testing,ABANDONED,2020-02-07 11:55:17.000000000,2020-02-10 09:20:14.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 11:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f928c00ebbb5692e17000c65e06aecf12849b0ec', 'message': '[DNM] ostempest stein testing\n\nDepends-On: https://review.opendev.org/#/c/706452/\n\nChange-Id: I93de24cf386875af04615875ea665fc2e185eb4e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-08 18:28:40.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/182889d229dacd863c93ea2b5596b43deda3572d', 'message': '[DNM] ostempest stein testing\n\nDepends-On: https://review.opendev.org/#/c/706452/\n\nChange-Id: I93de24cf386875af04615875ea665fc2e185eb4e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,706478,182889d229dacd863c93ea2b5596b43deda3572d,11,3,2,12393,,,0,"[DNM] ostempest stein testing

Depends-On: https://review.opendev.org/#/c/706452/

Change-Id: I93de24cf386875af04615875ea665fc2e185eb4e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/706478/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,f928c00ebbb5692e17000c65e06aecf12849b0ec,, ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I26957e71fc3a877f3daa1563ff9669a892d18bb9,openstack/tripleo-heat-templates,stable/stein,I26957e71fc3a877f3daa1563ff9669a892d18bb9,[DNM] stein ostempest test,ABANDONED,2020-02-03 08:46:34.000000000,2020-02-10 09:20:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-03 08:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c633539f5222acabb167d8c5c3b45b3ce1da9915', 'message': '[DNM] stein ostempest test\n\nDepends-On: https://review.opendev.org/#/c/705007/\n\nChange-Id: I26957e71fc3a877f3daa1563ff9669a892d18bb9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-07 06:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e68ad405b1aebbd413da883a743ce9f5167e47a7', 'message': '[DNM] stein ostempest test\n\nDepends-On: https://review.opendev.org/706432\n\nChange-Id: I26957e71fc3a877f3daa1563ff9669a892d18bb9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-07 06:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3df0da5ba9f2f324d67d01f25ed20d2d69d8cc72', 'message': '[DNM] stein ostempest test\n\nDepends-On: https://review.opendev.org/706432\n\nChange-Id: I26957e71fc3a877f3daa1563ff9669a892d18bb9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-02-07 09:43:34.000000000', 'files': ['deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d8cbcb05d861e9f740cafbbfe442956ff8829ae', 'message': '[DNM] stein ostempest test\n\nDepends-On: https://review.opendev.org/706452\n\nChange-Id: I26957e71fc3a877f3daa1563ff9669a892d18bb9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,705393,1d8cbcb05d861e9f740cafbbfe442956ff8829ae,11,2,4,12393,,,0,"[DNM] stein ostempest test

Depends-On: https://review.opendev.org/706452

Change-Id: I26957e71fc3a877f3daa1563ff9669a892d18bb9
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/705393/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-base-puppet.yaml'],1,c633539f5222acabb167d8c5c3b45b3ce1da9915,dnmstein,,,1,0
openstack%2Ftripleo-quickstart-extras~master~I5134bd7c239c8be9c0f3b1af028b8c785db11283,openstack/tripleo-quickstart-extras,master,I5134bd7c239c8be9c0f3b1af028b8c785db11283,Unskip TestVolumeBootPattern tempest tests,ABANDONED,2020-01-23 08:35:13.000000000,2020-02-10 09:16:18.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-23 08:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8e430aabcbfd9f5328bbb1a47a71520f4af46554', 'message': 'Unskip TestVolumeBootPattern tempest tests\n\nRelated-Bug: #1858662\n\nChange-Id: I5134bd7c239c8be9c0f3b1af028b8c785db11283\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-04 17:18:36.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bbb88f9da2dca344ad08dca8b7de514957e83857', 'message': 'Unskip TestVolumeBootPattern tempest tests\n\nRelated-Bug: #1858662\n\nChange-Id: I5134bd7c239c8be9c0f3b1af028b8c785db11283\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,703936,bbb88f9da2dca344ad08dca8b7de514957e83857,16,7,2,12393,,,0,"Unskip TestVolumeBootPattern tempest tests

Related-Bug: #1858662

Change-Id: I5134bd7c239c8be9c0f3b1af028b8c785db11283
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/36/703936/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,8e430aabcbfd9f5328bbb1a47a71520f4af46554,unskipvolume,, - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662',0,3
openstack%2Fmonasca-agent~master~Ied6c19f8f7ac9b81f61b84efa2f6c7a8e40c3056,openstack/monasca-agent,master,Ied6c19f8f7ac9b81f61b84efa2f6c7a8e40c3056,Close db connection in mysql check,MERGED,2020-01-30 12:39:36.000000000,2020-02-10 09:15:14.000000000,2020-02-10 09:15:14.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-30 12:39:36.000000000', 'files': ['monasca_agent/collector/checks_d/mysql.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1caaf4423a9a779f56271df7db445289a76f7728', 'message': 'Close db connection in mysql check\n\nMysql log gets an ""Aborted connection"" warning every 30sec\nbecause the connection is not being closed properly.\n\nStory: 2007233\nTask: 38509\nChange-Id: Ied6c19f8f7ac9b81f61b84efa2f6c7a8e40c3056\n'}]",0,704997,1caaf4423a9a779f56271df7db445289a76f7728,8,3,1,2733,,,0,"Close db connection in mysql check

Mysql log gets an ""Aborted connection"" warning every 30sec
because the connection is not being closed properly.

Story: 2007233
Task: 38509
Change-Id: Ied6c19f8f7ac9b81f61b84efa2f6c7a8e40c3056
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/97/704997/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/mysql.py'],1,1caaf4423a9a779f56271df7db445289a76f7728,story/2007233, db.close(),,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib874f537f52755e47083764907fe5bd41a21e0bc,openstack/tripleo-heat-templates,stable/train,Ib874f537f52755e47083764907fe5bd41a21e0bc,WIP run all DB migrations with the latest imgage,ABANDONED,2020-02-07 13:57:28.000000000,2020-02-10 08:52:10.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32491e7ee37908f96d1fda223e133369eb1f2ce9', 'message': 'WIP run all DB migrations with the latest imgage\n\nassume online migrations and db sync can be done for the\nN-3 to N releases upgrade (prolly it cannot tho!)\n\nChange-Id: Ib874f537f52755e47083764907fe5bd41a21e0bc\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-02-07 15:00:36.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfaedc4d5203180a17b2c09a93f4ad25ada58eca', 'message': 'WIP run all DB migrations with the latest imgage\n\nassume online migrations and db sync can be done for the\nN-3 to N releases upgrade (prolly it cannot tho!)\n\nChange-Id: Ib874f537f52755e47083764907fe5bd41a21e0bc\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,706515,cfaedc4d5203180a17b2c09a93f4ad25ada58eca,7,3,2,6926,,,0,"WIP run all DB migrations with the latest imgage

assume online migrations and db sync can be done for the
N-3 to N releases upgrade (prolly it cannot tho!)

Change-Id: Ib874f537f52755e47083764907fe5bd41a21e0bc
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/706515/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml']",16,32491e7ee37908f96d1fda223e133369eb1f2ce9,ffwd-upgrade2,," ContainerManilaApiImage14: description: image type: string ContainerManilaApiImage15: description: image type: string manila_api_db_sync14: config_id: tripleo_upgrade user: root image: &manila_api_image14 {get_param: ContainerManilaApiImage14} start_order: 0 net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/manila/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/manila/etc/manila/:/etc/manila/:ro - /var/log/containers/manila:/var/log/manila:z - /var/log/containers/httpd/manila-api:/var/log/httpd:z command: ""/usr/bin/bootstrap_host_exec manila_api su manila -s /bin/bash -c '/usr/bin/manila-manage db sync'"" manila_api_db_sync15: config_id: tripleo_upgrade user: root image: &manila_api_image15 {get_param: ContainerManilaApiImage15} start_order: 1 net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/manila/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/manila/etc/manila/:/etc/manila/:ro - /var/log/containers/manila:/var/log/manila:z - /var/log/containers/httpd/manila-api:/var/log/httpd:z command: ""/usr/bin/bootstrap_host_exec manila_api su manila -s /bin/bash -c '/usr/bin/manila-manage db sync'""",26,586
openstack%2Fmistral-extra~master~Id7226c889c18dbe3a38b106b0cdac5e331f54e3a,openstack/mistral-extra,master,Id7226c889c18dbe3a38b106b0cdac5e331f54e3a,Mock Zun fake client method,MERGED,2020-02-10 08:07:05.000000000,2020-02-10 08:45:55.000000000,2020-02-10 08:43:14.000000000,"[{'_account_id': 8731}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-10 08:07:05.000000000', 'files': ['mistral_extra/actions/openstack/actions.py', 'mistral_extra/tests/unit/actions/openstack/test_generator.py'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/b8943be7361e8db6681255a9fa62b3aa30dcd120', 'message': ""Mock Zun fake client method\n\n* The Zun client doesn't have an rpm packaging so\nrunning the unit test might fail if not installed.\n\n* The Designate client was fixed so there is no need to mock it.\n\n* Use Mock Fixture instead of calling directly the mock.patch,object\n\nChange-Id: Id7226c889c18dbe3a38b106b0cdac5e331f54e3a\n""}]",0,706745,b8943be7361e8db6681255a9fa62b3aa30dcd120,8,3,1,19134,,,0,"Mock Zun fake client method

* The Zun client doesn't have an rpm packaging so
running the unit test might fail if not installed.

* The Designate client was fixed so there is no need to mock it.

* Use Mock Fixture instead of calling directly the mock.patch,object

Change-Id: Id7226c889c18dbe3a38b106b0cdac5e331f54e3a
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/45/706745/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_extra/actions/openstack/actions.py', 'mistral_extra/tests/unit/actions/openstack/test_generator.py']",2,b8943be7361e8db6681255a9fa62b3aa30dcd120,actions,"import fixtures self.useFixture(fixtures.MockPatchObject( actions.BaremetalIntrospectionAction, ""get_fake_client_method"", return_value=lambda x: None)) # Do the same for the Zun client. # There is no rpm packaging for Zun client # so importing the client will fail when building # the rpm and running the unittest so lets mock it self.useFixture(fixtures.MockPatchObject( actions.ZunAction, ""get_fake_client_method"", return_value=lambda x: None))","import mock self.baremetal_patch = mock.patch.object( actions.BaremetalIntrospectionAction, ""get_fake_client_method"", return_value=lambda x: None) self.baremetal_patch.start() self.addCleanup(self.baremetal_patch.stop) # Do the same for the Designate client. self.designate_patch = mock.patch.object( actions.DesignateAction, ""get_fake_client_method"", return_value=lambda x: None) self.designate_patch.start() self.addCleanup(self.designate_patch.stop)",12,19
openstack%2Fironic-python-agent~master~I21b71c8b2886ad063ed8e37567ef9ee0a5a52cfa,openstack/ironic-python-agent,master,I21b71c8b2886ad063ed8e37567ef9ee0a5a52cfa,Tidy up relese notes for 6.0.0,MERGED,2020-02-07 16:41:10.000000000,2020-02-10 08:10:42.000000000,2020-02-10 08:09:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 16:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6ce8d92b9ee35537e8cc3dfa7283ea5d8b315565', 'message': 'Tidy up relese notes for 6.0.0\n\nChange-Id: I21b71c8b2886ad063ed8e37567ef9ee0a5a52cfa\n'}, {'number': 2, 'created': '2020-02-07 17:06:48.000000000', 'files': ['releasenotes/notes/fix-nic-without-numa-node-b401f97c46afa4a1.yaml', 'releasenotes/notes/software_raid_use_rootfs_uuid-9149cc0c8638d5d5.yaml', 'releasenotes/notes/bumpsipalookupattempts-29de7c949aaf6556.yaml', 'releasenotes/notes/avoid-grub2-using-efibootmgr-bd27c0978d1cf71b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/06d65e4bff5df3b436876addcbff6d625b172bb5', 'message': 'Tidy up relese notes for 6.0.0\n\nChange-Id: I21b71c8b2886ad063ed8e37567ef9ee0a5a52cfa\n'}]",1,706561,06d65e4bff5df3b436876addcbff6d625b172bb5,11,3,2,14826,,,0,"Tidy up relese notes for 6.0.0

Change-Id: I21b71c8b2886ad063ed8e37567ef9ee0a5a52cfa
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/61/706561/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nic-without-numa-node-b401f97c46afa4a1.yaml', 'releasenotes/notes/software_raid_use_rootfs_uuid-9149cc0c8638d5d5.yaml', 'releasenotes/notes/bumpsipalookupattempts-29de7c949aaf6556.yaml', 'releasenotes/notes/avoid-grub2-using-efibootmgr-bd27c0978d1cf71b.yaml']",4,6ce8d92b9ee35537e8cc3dfa7283ea5d8b315565,," Fixes the workflow for wholedisk images when using UEFI boot mode, when possible it will use efibootmgr instead of grub2 to update the NVRAM."," Fixes the workflow for wholedisk images when using uefi boot mode, when possible it will use efibootmgr instead of grub2 to update the nvram.",8,7
openstack%2Ftempest~master~I500aa3b8d2d9984ef44079ad620132de980d3111,openstack/tempest,master,I500aa3b8d2d9984ef44079ad620132de980d3111,Add RadosGW gate,ABANDONED,2019-10-03 14:13:02.000000000,2020-02-10 07:32:26.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-10-03 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9478ec832f20b1ad47433feee33ea8cfbed5569', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 2, 'created': '2019-10-03 20:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c12088faefd7a0782d11827218cfe61d463ee3f1', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 3, 'created': '2019-10-03 21:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e16ab1c468e9aee70c2ae3cf7b144877f3ffdce8', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 4, 'created': '2019-10-04 06:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b195cabe07c44dd7c3bc566808165ada00a5b7f', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 5, 'created': '2019-10-06 10:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e766a2fdb0d7b0b00c30c6c727371f8b63a3ce6f', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 6, 'created': '2019-10-07 14:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c123b267805e7e78c788ff494b804874220a9675', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 7, 'created': '2019-10-07 19:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ea40d84d6da21fc8cb0fbc93deb0237f0ab68d5', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 8, 'created': '2019-10-08 07:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a55199b107b1007197395adab3258264743b9483', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 9, 'created': '2019-10-08 12:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/18d334c30c5e916156fc9ff8ea3b3b03b49f16c2', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 10, 'created': '2019-10-09 22:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a2b0f10a40f4c80a508cd97720f57131d5cc1b5', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nDepends-On: https://review.opendev.org/#/c/687666/\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 11, 'created': '2019-10-10 13:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/00d2b7c2a71542da4f80b2d09f2e6303ecff6a30', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nDepends-On: https://review.opendev.org/#/c/687666/\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}, {'number': 12, 'created': '2019-10-16 13:34:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/897bcbd90c8b8c65c346c4f417071d359baa0a7b', 'message': 'Add RadosGW gate\n\nThe patch copies devstack-plugin-ceph-tempest gate definition\nand makes devstack-plugin-ceph plugin configure RadosGW.\n\nDepends-On: https://review.opendev.org/#/c/687666/\nChange-Id: I500aa3b8d2d9984ef44079ad620132de980d3111\n'}]",0,686413,897bcbd90c8b8c65c346c4f417071d359baa0a7b,30,3,12,22873,,,0,"Add RadosGW gate

The patch copies devstack-plugin-ceph-tempest gate definition
and makes devstack-plugin-ceph plugin configure RadosGW.

Depends-On: https://review.opendev.org/#/c/687666/
Change-Id: I500aa3b8d2d9984ef44079ad620132de980d3111
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/686413/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d9478ec832f20b1ad47433feee33ea8cfbed5569,radosgw,"- job: name: devstack-plugin-ceph-rgw-tempest parent: devstack-plugin-ceph-tempest description: | Integration tests that run with the ceph devstack plugin and RadosGW configured. vars: devstack_localrc: ENABLE_CEPH_RGW: true ENABLE_FILE_INJECTION: false TEMPEST_PLUGINS: '/opt/stack/cinder-tempest-plugin' ENABLE_VOLUME_MULTIATTACH: false TEMPEST_RUN_VALIDATION: false - job: name: devstack-plugin-ceph-rgw-tempest-py3 parent: devstack-plugin-ceph-tempest-py3 description: | Integration tests that run with the ceph devstack plugin, RadosGW configured and py3 vars: devstack_localrc: ENABLE_CEPH_RGW: true ENABLE_FILE_INJECTION: false TEMPEST_PLUGINS: '/opt/stack/cinder-tempest-plugin' ENABLE_VOLUME_MULTIATTACH: false TEMPEST_RUN_VALIDATION: false - devstack-plugin-ceph-rgw-tempest: voting: false irrelevant-files: *tempest-irrelevant-files - devstack-plugin-ceph-rgw-tempest-py3: irrelevant-files: *tempest-irrelevant-files",,33,0
openstack%2Fopenstack-helm~master~I3c69fac64e4693a19094bbc2528abba55811ebbe,openstack/openstack-helm,master,I3c69fac64e4693a19094bbc2528abba55811ebbe,[DO NOT MERGE] Barbican with Dogtag backend,ABANDONED,2017-09-12 22:15:16.000000000,2020-02-10 07:12:18.000000000,,"[{'_account_id': 3}, {'_account_id': 8898}, {'_account_id': 10873}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-12 22:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/49bf91c7fb56e46574eed567bae5d8571e473263', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 2, 'created': '2017-09-12 22:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6213f8c5887b450a739405d1006a954fb63485b2', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 3, 'created': '2017-09-13 08:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/067d4ae6014348ee2c95f0cb650836f0329298c6', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 4, 'created': '2017-09-13 16:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82cb56c04b50fc06660d1a47712620d2dc154b4d', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 5, 'created': '2017-09-13 18:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d8e04c7dba21c7a3b1c402a50c624c5bf2ba18d', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 6, 'created': '2017-09-13 19:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/627fc90c644854c887359950ec3c04decc6602f3', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 7, 'created': '2017-09-13 20:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c08bec3c9fd34e9d1435e82574348665aa2403c', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 8, 'created': '2017-09-13 22:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a766cb0066aaccff7d351d036ffdf4a1104f5ac', 'message': '[WIP] Add freeIPA chart\n\nThis patch set adds freeIPA chart to the repository.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 9, 'created': '2017-09-14 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43db7d210cdec62205d4b4e25bc3f5050350ecc6', 'message': '[DO NOT MERGE] Barbican with Dogtag+FreeIPA backend\n\nThis patch set experiments barbican setting with Dogtag/FreeIPA support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 10, 'created': '2017-09-14 21:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65161ab8a460d3171f4be579b9b71ab7744ae7d4', 'message': '[DO NOT MERGE] Barbican with Dogtag+FreeIPA backend\n\nThis patch set experiments barbican setting with Dogtag/FreeIPA support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 11, 'created': '2017-09-14 22:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ecd037a9ca4b1982482dece5352b88e4df65e150', 'message': '[DO NOT MERGE] Barbican with Dogtag+FreeIPA backend\n\nThis patch set experiments barbican setting with Dogtag/FreeIPA support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 12, 'created': '2017-09-15 14:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d8f465aae95ce707cd92c337cbf91d8094eaed30', 'message': '[DO NOT MERGE] Barbican with Dogtag+FreeIPA backend\n\nThis patch set experiments barbican setting with Dogtag/FreeIPA support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 13, 'created': '2017-09-23 08:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0e22dca057439e0297064f2c476672afbf80e95b', 'message': '[DO NOT MERGE] Barbican with Dogtag+FreeIPA backend\n\nThis patch set experiments barbican setting with Dogtag/FreeIPA support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 14, 'created': '2017-09-28 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00abdd5563169113cfa8b66ece69cfe05f0f961e', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 15, 'created': '2017-10-01 21:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f628c387d22bc42eef62677a75a9a6554e61388', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 16, 'created': '2017-10-02 18:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5020d393b4c32a9131eff80d4c36490838951a0e', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 17, 'created': '2017-10-05 17:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/509d6406214ab5ca57c94ee7cc812ca562cc19df', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 18, 'created': '2017-10-10 20:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e302f35df3e9dc203564a3d72676e82f6a1876b', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 19, 'created': '2017-11-20 20:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c9090021fb41d797af6d9ab6f8d21e42902ef71', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 20, 'created': '2017-12-22 03:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/be8ab01594d3d98a297701b2db89f416440c9525', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}, {'number': 21, 'created': '2017-12-28 07:02:45.000000000', 'files': ['dogtag/templates/ingress.yaml', 'dogtag/requirements.yaml', 'tools/gate/launch-osh/basic.sh', 'dogtag/templates/configmap-etc.yaml', 'dogtag/templates/bin/_secret_gen.sh.tpl', 'dogtag/templates/service.yaml', 'dogtag/Chart.yaml', 'barbican/values.yaml', 'dogtag/templates/etc/_ca.conf.tpl', 'dogtag/templates/bin/_dogtag_start.sh.tpl', 'dogtag/.helmignore', 'dogtag/templates/_helpers.tpl', 'barbican/templates/deployment-api.yaml', 'dogtag/templates/etc/_389.conf.tpl', 'dogtag/templates/etc/_kra.conf.tpl', 'dogtag/values.yaml', 'dogtag/templates/configmap-bin.yaml', 'dogtag/templates/deployment.yaml', 'barbican/templates/configmap-etc.yaml', 'barbican/templates/bin/_barbican-test.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a6466f5800c1cc1115ace04390ab6ee4e6cde7e', 'message': '[DO NOT MERGE] Barbican with Dogtag backend\n\nThis patch set experiments barbican setting with Dogtag support.\n\nChange-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe\n'}]",4,503399,8a6466f5800c1cc1115ace04390ab6ee4e6cde7e,101,6,21,20466,,,0,"[DO NOT MERGE] Barbican with Dogtag backend

This patch set experiments barbican setting with Dogtag support.

Change-Id: I3c69fac64e4693a19094bbc2528abba55811ebbe
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/503399/21 && git format-patch -1 --stdout FETCH_HEAD,"['freeipa/templates/service.yaml', 'freeipa/Chart.yaml', 'tools/gate/launch-osh/basic.sh', 'freeipa/templates/_helpers.tpl', 'freeipa/templates/configmap.yaml', 'freeipa/templates/statefulset.yaml', 'freeipa/.helmignore', 'freeipa/values.yaml', 'freeipa/templates/ingress.yaml', 'freeipa/templates/pvc.yaml']",10,49bf91c7fb56e46574eed567bae5d8571e473263,add-dogtag-support,--- kind: PersistentVolumeClaim apiVersion: v1 metadata: name: freeipa spec: storageClassName: general accessModes: - ReadWriteOnce resources: requests: storage: 5Gi ,,357,0
openstack%2Fkolla~master~I1b4ef1fae0914d6826af5456cc9ea53bb26972ee,openstack/kolla,master,I1b4ef1fae0914d6826af5456cc9ea53bb26972ee,aarch64: enable influxdb and telegraf for Debian/Ubuntu,MERGED,2020-01-30 11:38:35.000000000,2020-02-10 06:40:36.000000000,2020-02-10 06:37:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-30 11:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/54c970db982be2ca62ab742f849ccbaefdcca835', 'message': 'aarch64: enable influxdb and telegram for Debian/Ubuntu\n\nTurns out that upstream provides repos also for aarch64.\n\nCentOS one is not usable due to wrong arch name used (arm64 instead of\naarch64).\n\nChange-Id: I1b4ef1fae0914d6826af5456cc9ea53bb26972ee\n'}, {'number': 2, 'created': '2020-01-30 11:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57433a0b8579bcb16874c431863120cf5c20bb99', 'message': 'aarch64: enable influxdb and telegraf for Debian/Ubuntu\n\nTurns out that upstream provides repos also for aarch64.\n\nCentOS one is not usable due to wrong arch name used (arm64 instead of\naarch64).\n\nChange-Id: I1b4ef1fae0914d6826af5456cc9ea53bb26972ee\n'}, {'number': 3, 'created': '2020-02-04 18:20:47.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8f1ca9a1ba0c00967853a835a455153645abe48d', 'message': 'aarch64: enable influxdb and telegraf for Debian/Ubuntu\n\nTurns out that upstream provides repos also for aarch64.\n\nCentOS one is not usable due to wrong arch name used (arm64 instead of\naarch64).\n\nChange-Id: I1b4ef1fae0914d6826af5456cc9ea53bb26972ee\n'}]",0,704970,8f1ca9a1ba0c00967853a835a455153645abe48d,15,6,3,24072,,,0,"aarch64: enable influxdb and telegraf for Debian/Ubuntu

Turns out that upstream provides repos also for aarch64.

CentOS one is not usable due to wrong arch name used (arm64 instead of
aarch64).

Change-Id: I1b4ef1fae0914d6826af5456cc9ea53bb26972ee
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/704970/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",3,54c970db982be2ca62ab742f849ccbaefdcca835,," influxdb: ""deb https://repos.influxdata.com/debian buster stable"" influxdb: ""deb https://repos.influxdata.com/ubuntu bionic stable""",,4,3
openstack%2Fopenstack-helm-infra~master~I51a094e924a986453b231474405531d510247940,openstack/openstack-helm-infra,master,I51a094e924a986453b231474405531d510247940,[Do-Not-Merge]: add debug log switch while starting ovs-vswitchd,ABANDONED,2019-10-29 16:20:23.000000000,2020-02-10 06:05:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 27589}]","[{'number': 1, 'created': '2019-10-29 16:20:23.000000000', 'files': ['openvswitch/templates/bin/_openvswitch-vswitchd.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0849130c45567eb7d44650c7f08b137ab26f63d', 'message': '[Do-Not-Merge]: add debug log switch while starting ovs-vswitchd\n\nAdd debug log switch while starting ovs-vswitchd.\n\nChange-Id: I51a094e924a986453b231474405531d510247940\n'}]",0,691909,e0849130c45567eb7d44650c7f08b137ab26f63d,4,2,1,27589,,,0,"[Do-Not-Merge]: add debug log switch while starting ovs-vswitchd

Add debug log switch while starting ovs-vswitchd.

Change-Id: I51a094e924a986453b231474405531d510247940
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/09/691909/1 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/templates/bin/_openvswitch-vswitchd.sh.tpl'],1,e0849130c45567eb7d44650c7f08b137ab26f63d,ovsdpdk, -vconsole:dbg \,,1,0
openstack%2Fopenstack-helm-images~master~I9da8c35b52af173e54ab37d10897c4b4128d5224,openstack/openstack-helm-images,master,I9da8c35b52af173e54ab37d10897c4b4128d5224,[Do-not-merge]: Prepare TaaS Loci images for Stein,ABANDONED,2019-10-03 20:17:57.000000000,2020-02-10 06:05:40.000000000,,"[{'_account_id': 8863}, {'_account_id': 16881}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 20:17:57.000000000', 'files': ['openstack/loci/build-stein-taas.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/831207c7291b0fe91d80147c1abdb534d4f186b6', 'message': '[Do-not-merge]: Prepare TaaS Loci images for Stein\n\nPrepare TaaS Loci images for stable/stein\n\nChange-Id: I9da8c35b52af173e54ab37d10897c4b4128d5224\n'}]",0,686488,831207c7291b0fe91d80147c1abdb534d4f186b6,4,3,1,27589,,,0,"[Do-not-merge]: Prepare TaaS Loci images for Stein

Prepare TaaS Loci images for stable/stein

Change-Id: I9da8c35b52af173e54ab37d10897c4b4128d5224
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/88/686488/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/loci/build-stein-taas.sh'],1,831207c7291b0fe91d80147c1abdb534d4f186b6,taas-loci,"#!/bin/bash SCRIPT=`realpath $0` SCRIPT_DIR=`dirname ${SCRIPT}` ## Only build from main folder # Replace with Registry URI with your registry like your # dockerhub user. Example: ""docker.io/openstackhelm"" VERSION=${VERSION:-""latest""} OPENSTACK_VERSION=""stable/stein"" REGISTRY_URI=${REGISTRY_URI:-""docker.io/deepakdt/""} requirements_project_ref=""refs/changes/69/686469/3"" neutron_project_ref=""refs/changes/79/686479/1"" horizon_project_ref=""refs/changes/80/686480/1"" #pycrypto was dropped after queens so we need to override the defaults keystone_pip_packages=${keystone_pip_packages:-""'python-openstackclient'""} heat_pip_packages=${heat_pip_packages:-""''""} barbican_pip_packages=${barbican_pip_packages:-""''""} glance_pip_packages=${glance_pip_packages:-""'python-swiftclient'""} cinder_pip_packages=${cinder_pip_packages:-""'python-swiftclient'""} neutron_pip_packages=${neutron_pip_packages:-""''""} nova_pip_packages=${nova_pip_packages:-""''""} horizon_pip_packages=${horizon_pip_packages:-""''""} senlin_pip_packages=${senlin_pip_packages:-""''""} congress_pip_packages=${congress_pip_packages:-""'python-congressclient'""} magnum_pip_packages=${magnum_pip_packages:-""''""} ironic_pip_packages=${ironic_pip_packages:-""''""} neutron_sriov_pip_packages=${neutron_sriov_pip_packages:-""''""} source ${SCRIPT_DIR}/build.sh ",,30,0
openstack%2Frequirements~stable%2Fstein~Ic578bc4d162aaad3c616cce14d5a7de8eefbd8f7,openstack/requirements,stable/stein,Ic578bc4d162aaad3c616cce14d5a7de8eefbd8f7,[Do-not-merge]: Bring in TaaS components to requirements,ABANDONED,2019-10-03 19:23:53.000000000,2020-02-10 06:05:21.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 19:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4318a734bc40a05b6d5888b5d070be4cd794db1a', 'message': '[Do-not-merge]: Bring in TaaS components to requirements\n\nBring in TaaS components to requirements image.\n\nChange-Id: Ic578bc4d162aaad3c616cce14d5a7de8eefbd8f7\n'}, {'number': 2, 'created': '2019-10-03 19:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d9458bda54560694b9566fc6b5af32199e56fa1f', 'message': '[Do-not-merge]: Bring in TaaS components to requirements\n\nBring in TaaS components to requirements image.\n\nChange-Id: Ic578bc4d162aaad3c616cce14d5a7de8eefbd8f7\n'}, {'number': 3, 'created': '2019-10-03 19:38:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7f7f1cd8635649b0d1ac720e64785b1230d92aa', 'message': '[Do-not-merge]: Bring in TaaS components to requirements\n\nBring in TaaS components to requirements image.\n\nChange-Id: Ic578bc4d162aaad3c616cce14d5a7de8eefbd8f7\n'}]",1,686469,a7f7f1cd8635649b0d1ac720e64785b1230d92aa,8,3,3,27589,,,0,"[Do-not-merge]: Bring in TaaS components to requirements

Bring in TaaS components to requirements image.

Change-Id: Ic578bc4d162aaad3c616cce14d5a7de8eefbd8f7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/686469/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4318a734bc40a05b6d5888b5d070be4cd794db1a,taas-loci,#python-neutronclient===6.12.0 https://review.opendev.org/openstack/python-neutronclient@refs/changes/88/449188/24#egg=python-neutronclient,python-neutronclient===6.12.0,2,1
openstack%2Fpanko~master~I57e182850fbf7fcab5df75c05f0ef95a8c23e923,openstack/panko,master,I57e182850fbf7fcab5df75c05f0ef95a8c23e923,Set Tempest's service_availability setting for panko,MERGED,2018-11-26 10:14:36.000000000,2020-02-10 04:35:05.000000000,2020-02-10 04:33:43.000000000,"[{'_account_id': 5803}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-26 10:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/7159e4f72dc71d8341ad80100d5f17cbbe2575f0', 'message': ""Set Tempest's service_availability setting for panko\n\nTempest's service_availability config option includes all the service\navailability which is further used by tests to take decision of skip\nor run the test.\n\nFor example, [service_availability].panko is true then, panko test will run\nor if [service_availability].panko is false then, all panko related tests either\nin telemetry tempest plugin or any other plugins will be skipped.\n\nThis commit add the setting of panko service[1] on panko devstack plugin.\n\nCloses-Bug: #1743688\n[1] https://github.com/openstack/telemetry-tempest-plugin/blob/master/telemetry_tempest_plugin/config.py#L23\n\nChange-Id: I57e182850fbf7fcab5df75c05f0ef95a8c23e923\n""}, {'number': 2, 'created': '2020-01-06 03:53:46.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/panko/commit/a725f644120f94f03c575915c70e0f44c7114687', 'message': ""Set Tempest's service_availability setting for panko\n\nTempest's service_availability config option includes all the service\navailability which is further used by tests to take decision of skip\nor run the test.\n\nFor example, [service_availability].panko is true then, panko test will run\nor if [service_availability].panko is false then, all panko related tests either\nin telemetry tempest plugin or any other plugins will be skipped.\n\nThis commit add the setting of panko service[1] on panko devstack plugin.\n\nCloses-Bug: #1743688\n[1] https://github.com/openstack/telemetry-tempest-plugin/blob/master/telemetry_tempest_plugin/config.py#L23\n\nChange-Id: I57e182850fbf7fcab5df75c05f0ef95a8c23e923\n""}]",0,620000,a725f644120f94f03c575915c70e0f44c7114687,12,3,2,8556,,,0,"Set Tempest's service_availability setting for panko

Tempest's service_availability config option includes all the service
availability which is further used by tests to take decision of skip
or run the test.

For example, [service_availability].panko is true then, panko test will run
or if [service_availability].panko is false then, all panko related tests either
in telemetry tempest plugin or any other plugins will be skipped.

This commit add the setting of panko service[1] on panko devstack plugin.

Closes-Bug: #1743688
[1] https://github.com/openstack/telemetry-tempest-plugin/blob/master/telemetry_tempest_plugin/config.py#L23

Change-Id: I57e182850fbf7fcab5df75c05f0ef95a8c23e923
",git fetch https://review.opendev.org/openstack/panko refs/changes/00/620000/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,7159e4f72dc71d8341ad80100d5f17cbbe2575f0,bug/1743688,"# configure_tempest_for_panko() # NOTE (gmann): Configure all the Tempest setting for Panko service in # this function. function configure_tempest_for_panko { if is_service_enabled tempest; then iniset $TEMPEST_CONFIG service_available panko True fi } elif [[ ""$1"" == ""stack"" && ""$2"" == ""test-config"" ]]; then echo_summary ""Configuring Tempest for Panko"" configure_tempest_for_panko",,12,0
openstack%2Fopenstack-helm~master~If7f9dd763fc05150b9c08860e9b8b85bfa0de3d0,openstack/openstack-helm,master,If7f9dd763fc05150b9c08860e9b8b85bfa0de3d0,Doc: fix incorrect script path,MERGED,2020-01-20 09:16:44.000000000,2020-02-10 03:56:22.000000000,2020-02-10 03:54:56.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-01-20 09:16:44.000000000', 'files': ['doc/source/install/developer/kubernetes-and-common-setup.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd3ad59478cd3cf91251314dc80ada3698e7a358', 'message': ""Doc: fix incorrect script path\n\nShould remove 'developer' from path:\n./tools/deployment/developer/component/common/ingress.sh\n\nChange-Id: If7f9dd763fc05150b9c08860e9b8b85bfa0de3d0\n""}]",0,703346,bd3ad59478cd3cf91251314dc80ada3698e7a358,9,4,1,21692,,,0,"Doc: fix incorrect script path

Should remove 'developer' from path:
./tools/deployment/developer/component/common/ingress.sh

Change-Id: If7f9dd763fc05150b9c08860e9b8b85bfa0de3d0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/703346/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/kubernetes-and-common-setup.rst'],1,bd3ad59478cd3cf91251314dc80ada3698e7a358,doc_path, ./tools/deployment/component/common/ingress.sh, ./tools/deployment/developer/component/common/ingress.sh,1,1
openstack%2Fwatcher~master~I0da6021f6d39cb7d6e79e8f637046d8dd0285647,openstack/watcher,master,I0da6021f6d39cb7d6e79e8f637046d8dd0285647,releasenotes: Fix reference url,MERGED,2020-02-05 08:26:10.000000000,2020-02-10 03:45:26.000000000,2020-02-10 03:43:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-02-05 08:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/14d33c5081411cbedc7e289fdc2cffa3ecea5007', 'message': 'releasenotes: Fix reference url\n\nChange-Id: I0da6021f6d39cb7d6e79e8f637046d8dd0285647\n'}, {'number': 2, 'created': '2020-02-05 08:49:08.000000000', 'files': ['releasenotes/notes/general-purpose-decision-engine-threadpool-0711b23abfc9d409.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/58083bb67bb07d990d547afc5ce1580d40ace755', 'message': 'releasenotes: Fix reference url\n\nChange-Id: I0da6021f6d39cb7d6e79e8f637046d8dd0285647\n'}]",0,705897,58083bb67bb07d990d547afc5ce1580d40ace755,9,3,2,21692,,,0,"releasenotes: Fix reference url

Change-Id: I0da6021f6d39cb7d6e79e8f637046d8dd0285647
",git fetch https://review.opendev.org/openstack/watcher refs/changes/97/705897/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/general-purpose-decision-engine-threadpool-0711b23abfc9d409.yaml'],1,14d33c5081411cbedc7e289fdc2cffa3ecea5007,fix_url, https://docs.openstack.org/watcher/latest/contributor/contributor/concurrency.html, https://docs.openstack.org/watcher/latest/contributor/contributor/concurrency.rst,1,1
openstack%2Fzun~stable%2Fqueens~Icc3ba437c0ee00d0d51ca444761cf379aa26904f,openstack/zun,stable/queens,Icc3ba437c0ee00d0d51ca444761cf379aa26904f,[DNM] Test CI,ABANDONED,2020-02-04 02:53:00.000000000,2020-02-10 03:38:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-04 02:53:00.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/3b0fbe6073bdf2d2db25b57ccabcdcaf747ee5fd', 'message': '[DNM] Test CI\n\nChange-Id: Icc3ba437c0ee00d0d51ca444761cf379aa26904f\n'}]",0,705598,3b0fbe6073bdf2d2db25b57ccabcdcaf747ee5fd,3,1,1,11536,,,0,"[DNM] Test CI

Change-Id: Icc3ba437c0ee00d0d51ca444761cf379aa26904f
",git fetch https://review.opendev.org/openstack/zun refs/changes/98/705598/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,3b0fbe6073bdf2d2db25b57ccabcdcaf747ee5fd,,# test,,1,0
openstack%2Fzun~stable%2Frocky~Ica9394e4f5700de1d33e879f41ade5da809e5007,openstack/zun,stable/rocky,Ica9394e4f5700de1d33e879f41ade5da809e5007,[DNM] Test CI,ABANDONED,2020-02-04 02:51:28.000000000,2020-02-10 03:38:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-04 02:51:28.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/62b3ba5c4aa2e1e2197a9239e2f5586a4627fd34', 'message': '[DNM] Test CI\n\nChange-Id: Ica9394e4f5700de1d33e879f41ade5da809e5007\n'}]",0,705597,62b3ba5c4aa2e1e2197a9239e2f5586a4627fd34,3,1,1,11536,,,0,"[DNM] Test CI

Change-Id: Ica9394e4f5700de1d33e879f41ade5da809e5007
",git fetch https://review.opendev.org/openstack/zun refs/changes/97/705597/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,62b3ba5c4aa2e1e2197a9239e2f5586a4627fd34,,# test,,1,0
openstack%2Fzun-tempest-plugin~master~Ie973b8bfc2d72c325cac0a5780788b176b7d5596,openstack/zun-tempest-plugin,master,Ie973b8bfc2d72c325cac0a5780788b176b7d5596,[DNM] Test CI,ABANDONED,2020-02-04 02:38:16.000000000,2020-02-10 03:38:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-04 02:38:16.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/b746c629cfba4f8dcfadcc14499c27371a9644a5', 'message': '[DNM] Test CI\n\nChange-Id: Ie973b8bfc2d72c325cac0a5780788b176b7d5596\n'}]",0,705595,b746c629cfba4f8dcfadcc14499c27371a9644a5,3,1,1,11536,,,0,"[DNM] Test CI

Change-Id: Ie973b8bfc2d72c325cac0a5780788b176b7d5596
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/95/705595/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b746c629cfba4f8dcfadcc14499c27371a9644a5,,# test,,1,0
openstack%2Fceilometer~master~Iea324cb3da91057ce3efd45068753bf1da72f39d,openstack/ceilometer,master,Iea324cb3da91057ce3efd45068753bf1da72f39d,Remove mention of meter_dispatchers,MERGED,2020-01-22 14:52:52.000000000,2020-02-10 03:34:38.000000000,2020-02-10 03:33:15.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2020-01-22 14:52:52.000000000', 'files': ['doc/source/install/verify.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/279d2a16535aee507b57dcc892bb933ea07638df', 'message': 'Remove mention of meter_dispatchers\n\nThis option was removed during the Queens cycle.\n\nChange-Id: Iea324cb3da91057ce3efd45068753bf1da72f39d\n'}]",0,703812,279d2a16535aee507b57dcc892bb933ea07638df,8,3,1,15197,,,0,"Remove mention of meter_dispatchers

This option was removed during the Queens cycle.

Change-Id: Iea324cb3da91057ce3efd45068753bf1da72f39d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/12/703812/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/verify.rst'],1,279d2a16535aee507b57dcc892bb933ea07638df,remove-dispatchers-from-doc, published to a file backend temporarily by using a ``file://`` publisher., published to a file backend temporarily by adding ``meter_dispatchers=file`` or a ``file://`` publisher.,1,2
openstack%2Fceilometer~master~I10a3700c2520748e55e56e2a762433de5f1e6039,openstack/ceilometer,master,I10a3700c2520748e55e56e2a762433de5f1e6039,Add note for loadbalancer resource type support,MERGED,2020-02-04 18:18:04.000000000,2020-02-10 03:32:50.000000000,2020-02-10 03:31:24.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 18:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/681e81ad015f462034e281a0fa51a65f20964ced', 'message': 'Add note for Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f\n\nChange-Id: I10a3700c2520748e55e56e2a762433de5f1e6039\n'}, {'number': 2, 'created': '2020-02-04 18:19:11.000000000', 'files': ['releasenotes/notes/add-loadbalancer-resource-type-a73c29594b72f012.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1617aa3099bfa5f7b38c11c51b23d2b9cf9b5c2b', 'message': 'Add note for loadbalancer resource type support\n\nThis adds a release note for the loadbalancer resource type change\nIb6e78438c3da0e22d93f720f00cdeadf0ed7a91f which was backported to stable\nbranches.\n\nChange-Id: I10a3700c2520748e55e56e2a762433de5f1e6039\n'}]",0,705790,1617aa3099bfa5f7b38c11c51b23d2b9cf9b5c2b,9,3,2,15197,,,0,"Add note for loadbalancer resource type support

This adds a release note for the loadbalancer resource type change
Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f which was backported to stable
branches.

Change-Id: I10a3700c2520748e55e56e2a762433de5f1e6039
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/90/705790/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-loadbalancer-resource-type-a73c29594b72f012.yaml'],1,681e81ad015f462034e281a0fa51a65f20964ced,,"--- fixes: - | [`bug 1848286 <https://bugs.launchpad.net/charm-octavia/+bug/1848286>`_] Enable load balancer metrics by adding the loadbalancer resource type, allowing Gnocchi to capture measurement data for Octavia load balancers. ",,6,0
openstack%2Fmurano-tempest-plugin~master~I4abb7e97583103ce17e7101cb9dfb824eea397a0,openstack/murano-tempest-plugin,master,I4abb7e97583103ce17e7101cb9dfb824eea397a0,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-01-23 17:29:45.000000000,2020-02-10 03:24:31.000000000,2020-02-10 03:24:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 17:29:45.000000000', 'files': ['releasenotes/notes/drop-py-2-7-4bea36f66f36d65c.yaml', 'test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/4ad3e1b81fbaa4cdbcecfba10b2c02347934d6fd', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmurano-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I4abb7e97583103ce17e7101cb9dfb824eea397a0\n'}]",0,704043,4ad3e1b81fbaa4cdbcecfba10b2c02347934d6fd,7,2,1,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

murano-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I4abb7e97583103ce17e7101cb9dfb824eea397a0
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/43/704043/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-4bea36f66f36d65c.yaml', 'test-requirements.txt', 'setup.cfg', 'tox.ini']",4,4ad3e1b81fbaa4cdbcecfba10b2c02347934d6fd,drop-py27-support,minversion = 3.1.1ignore_basepython_conflict = Truebasepython = python3,minversion = 2.0basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,10,11
openstack%2Fironic~master~Ia658ddc966e13a7ce973eccd9c42e40a3da406f4,openstack/ironic,master,Ia658ddc966e13a7ce973eccd9c42e40a3da406f4,Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled,MERGED,2019-12-06 09:01:09.000000000,2020-02-10 03:19:31.000000000,2020-02-07 15:02:43.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-06 09:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/552820b4ec75755a29788170d6e7159711869bf9', 'message': 'Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled\n\nWhen ipxe hardware interface is in use, the node should always be boot\nwith iPXE disregards the deprecated configuration option [pxe]ipxe_enabled.\n\nChange-Id: Ia658ddc966e13a7ce973eccd9c42e40a3da406f4\n'}, {'number': 2, 'created': '2019-12-07 02:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/08da61863b019cab02dd62ecc3d8c79fdb6f1547', 'message': 'Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled\n\nWhen ipxe hardware interface is in use, the node should always be boot\nwith iPXE disregards the deprecated configuration option [pxe]ipxe_enabled.\n\nChange-Id: Ia658ddc966e13a7ce973eccd9c42e40a3da406f4\n'}, {'number': 3, 'created': '2019-12-10 06:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8cc97fe130dfa83821c69d92e457deae3a8d3e39', 'message': 'Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled\n\nWhen ipxe hardware interface is in use, the node should always be boot\nwith iPXE disregards the deprecated configuration option [pxe]ipxe_enabled.\n\nChange-Id: Ia658ddc966e13a7ce973eccd9c42e40a3da406f4\n'}, {'number': 4, 'created': '2020-01-09 07:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/675328ebbc1a56bfcfbeaff5ced264363c3890be', 'message': 'Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled\n\nWhen ipxe hardware interface is in use, the node should always be boot\nwith iPXE disregards the deprecated configuration option [pxe]ipxe_enabled.\n\nChange-Id: Ia658ddc966e13a7ce973eccd9c42e40a3da406f4\n'}, {'number': 5, 'created': '2020-02-03 03:50:18.000000000', 'files': ['ironic/drivers/modules/storage/cinder.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/fix-ipxe-interface-without-opt-enabled-4fa2f83975295e20.yaml', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f61624e0693a0b2ccba46b271d0fb83e191f5077', 'message': 'Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled\n\nWhen ipxe hardware interface is in use, the node should always be boot\nwith iPXE disregards the deprecated configuration option [pxe]ipxe_enabled.\n\nStory: 2007003\nTask: 37779\n\nChange-Id: Ia658ddc966e13a7ce973eccd9c42e40a3da406f4\n'}]",3,697634,f61624e0693a0b2ccba46b271d0fb83e191f5077,55,9,5,24828,,,0,"Fix ipxe interface to perform ipxe boot without ipxe_enabled enabled

When ipxe hardware interface is in use, the node should always be boot
with iPXE disregards the deprecated configuration option [pxe]ipxe_enabled.

Story: 2007003
Task: 37779

Change-Id: Ia658ddc966e13a7ce973eccd9c42e40a3da406f4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/697634/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/storage/cinder.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/fix-ipxe-interface-without-opt-enabled-4fa2f83975295e20.yaml', 'ironic/tests/unit/common/test_pxe_utils.py']",5,552820b4ec75755a29788170d6e7159711869bf9,fix-ipxe," def _test_get_kernel_ramdisk_info(self, expected_dir, mode='deploy', ipxe_enabled=False): mode=mode, ipxe_enabled=ipxe_enabled) self._test_get_kernel_ramdisk_info(expected_dir, ipxe_enabled=True) self._test_get_kernel_ramdisk_info(expected_dir, mode='rescue', ipxe_enabled=True) pxe_utils.cache_ramdisk_kernel(task, fake_pxe_info, ipxe_enabled=True)"," self.config(ipxe_enabled=False, group='pxe') def test_get_root_dir_ipxe(self): expected_dir = '/httpboot' self.config(ipxe_enabled=True, group='pxe') self.config(http_root=expected_dir, group='deploy') self.assertEqual(expected_dir, pxe_utils.get_root_dir()) def _test_get_kernel_ramdisk_info(self, expected_dir, mode='deploy'): mode=mode) self.config(ipxe_enabled=True, group='pxe') self._test_get_kernel_ramdisk_info(expected_dir) self.config(ipxe_enabled=True, group='pxe') self._test_get_kernel_ramdisk_info(expected_dir, mode='rescue') self.config(ipxe_enabled=True, group='pxe') pxe_utils.cache_ramdisk_kernel(task, fake_pxe_info)",28,33
openstack%2Fopenstack-helm~master~I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331,openstack/openstack-helm,master,I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331,Add apparmor security annotation,ABANDONED,2018-09-13 14:32:34.000000000,2020-02-10 03:14:36.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17887}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28235}, {'_account_id': 28701}]","[{'number': 1, 'created': '2018-09-13 14:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58c4907d121d02d4815ae90c7accb1becdd482d7', 'message': 'WIP: Add in security annotation\n\nThis patch set begins to add in security annotation in the metadata\nsection of the manifest for glance and cinder.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-09-13 14:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19dbb14ed58218b1d9ed84f6ee256fdfc5638e7a', 'message': 'WIP: Add in security annotation\n\nThis patch set begins to add in security annotation in the metadata\nsection of the manifest for:\n\n* Deployments for nova, glance and cinder;\n* TODO: other pod type for these services;\n* TODO: validation\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-09-14 06:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/810237d3fb01ae081cd4e433cca394b0d9997ae5', 'message': 'WIP: Add in security annotation\n\nThis patch set begins to add in security annotation in the metadata\nsection of the manifest for:\n\n* Deployments for nova, glance and cinder;\n* TODO: other pod type for these services;\n* TODO: validation\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-09-14 06:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1188cf604ffe4e93e3b94095e2ea3b79b4cf644f', 'message': 'WIP: Add in security annotation\n\nThis patch set begins to add in security annotation in the metadata\nsection of the manifest for:\n\n* Deployments for nova, glance and cinder;\n* TODO: other pod type for these services;\n* TODO: validation\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2018-09-14 06:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8235ca1d87d517b6bba4ebd84a9f84a0db3313cf', 'message': 'WIP: Add in security annotation\n\nThis patch set begins to add in security annotation in the metadata\nsection of the manifest for:\n\n* Deployments for nova, glance and cinder;\n* TODO: other pod type for these services;\n* TODO: validation\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2018-09-14 06:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82aad1efd46b9fdbcf87ac5637b8b15cf4ff8d0f', 'message': 'WIP: Add in security annotation\n\nThis patch set begins to add in security annotation in the metadata\nsection of the manifest for:\n\n* Deployments for nova, glance and cinder;\n* TODO: other pod type for these services;\n* TODO: validation\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2018-09-15 17:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9aefc78b38e4894205e9f259abf01be894b53312', 'message': ""Add in apparmor security annotation\n\nThis patch set adds in apparmor security annotations for\nnova, glance and cinder's deployment manifests.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n""}, {'number': 8, 'created': '2018-09-15 17:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c40fa6258cf3b5e5944c1ff8f363c80a9bbd9347', 'message': 'Add in apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment manifests\nfor the following components: cinder, glance, horizon, and nova.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2018-09-15 20:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b69c050c98ef5dad0a8ac7bb6a50d39c63c92756', 'message': 'Add in apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment manifests\nfor the following components: keystone, heat, neutron, cinder, glance,\nhorizon and nova.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2018-09-15 20:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ef9def57e6331dd678417722c991f5dbaa0792c', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment manifests\nfor the following components: keystone, heat, neutron, cinder, glance,\nhorizon and nova.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2018-09-15 20:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcdac76901f27539252d2238af855a40a9bd020a', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment manifests\nfor the following components: keystone, heat, neutron, cinder, glance,\nhorizon and nova.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2018-09-16 05:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07db437cce0eaf29f6057e1eb8cf1b45fb1c0a08', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nmanifests for the following components: keystone, heat, neutron,\ncinder, glance, horizon and nova.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 13, 'created': '2018-09-19 14:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4a361c038290b0fafeaacd923280c7005d6d7bd2', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nmanifests for the following components: keystone, heat, neutron,\ncinder, glance, nova and horizon.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2018-09-19 19:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec1114c99e04aa61a38f0e032db221852fe8ea7c', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2018-09-20 06:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1b5171a51da2183dc8d14d0a2384aa07d4743e3e', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2018-09-20 15:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca0ac267143090dde9c4c0202449651731ce04f5', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2018-09-25 06:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5025cb7c55f208b1ca92e5c3b5c02d32b40d852', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2018-09-26 15:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3de7194ff0d1a9455cc2b1b88c64d24ae0a0dd2', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2018-09-26 16:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0801879be19c44f0bdd772d565a37b53b5b8648d', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2018-09-27 02:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ad6197e49cd322febc3f9f04c03cc4b22ca1ce7', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 21, 'created': '2018-09-27 14:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c530b7617b0a1aaffa53c968f95a83067221eb50', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 22, 'created': '2018-09-27 21:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d06db5a58dd0b9d9ab2fa9bd2c746a5aad33ef2f', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 23, 'created': '2018-09-28 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0616e45dc5d357e65c6d6be66e8b69c3c5c09caa', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 24, 'created': '2018-09-28 15:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48e952ae520926803270b08889a279b5f64ee3c7', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 25, 'created': '2018-09-29 17:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1fdb2072cc4cd490255b41c2af2150b5d764b3ba', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 26, 'created': '2018-09-30 03:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc0538e16804bd1109cb9c7f0484af41a1064f7e', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 27, 'created': '2018-09-30 23:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3aabfc25363cff62bda4a5f8e17dd02d6509a1f5', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 28, 'created': '2018-10-01 01:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a584c61059c3bd3e9cea9e2632b1b73335c2d224', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 29, 'created': '2018-10-01 05:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db08fad35239d163af87590789260d9af834421f', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 30, 'created': '2018-10-01 15:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8e94c5fd8750d243b05e98e8cbbc123d7744380', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 31, 'created': '2018-10-01 16:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f3152f22d2cd89faa8903f3fb092cbc765e9751', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by setting up a OpenStack gate test.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 32, 'created': '2018-10-01 21:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/579b38329d6167519827e5d2ae8ced1996539dd4', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 33, 'created': '2018-10-02 00:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1e3ca22bf83823756bbfa7d375ead8c8ae4a71d', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 34, 'created': '2018-10-02 03:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc4332e38ce3b47fe8f91847ee0c1bce6efdab02', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 35, 'created': '2018-10-02 04:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6bbe18039322165627f9d56efc531eaa9198929d', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 36, 'created': '2018-10-02 15:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/614ec8659939988d5a8cac367a26e218e19eba6d', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 37, 'created': '2018-10-04 04:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1974fbeb4b68978bd05b43c573f385a56910522', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 38, 'created': '2018-10-04 19:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82197851b5be1653149185ac5461213f43849706', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 39, 'created': '2018-10-04 19:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb054200edd1707c3030a823659b45628c5d7612', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nDepends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 40, 'created': '2018-10-05 03:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/684e160743e564a5e53babe612cc53387c71c325', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 41, 'created': '2018-10-05 13:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00240bb771efcba5df6def2e73463fd0b9c7c148', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 42, 'created': '2018-10-07 19:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cba9d510891b9d8be133864efb0fa8d26b3fb22', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 43, 'created': '2018-10-08 16:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72f8659f4d9a950428bd09e5fbad6616a552e7bd', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 44, 'created': '2018-10-13 04:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9dff6690b84dc377c887b8bce2eb40372ea9a039', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 45, 'created': '2018-10-15 02:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e400f8b2ec6fdbf4118d745c0ef41e8e94310297', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 46, 'created': '2018-10-17 18:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ead6d494f4d4c77ec1243aef9e40765269324d04', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 47, 'created': '2018-10-25 17:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c40265bac63f9b78836dde68ce4ef6f4588512c5', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 48, 'created': '2018-10-27 18:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa2aeae4f0b9c00737ffbd1c912409916001b819', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 49, 'created': '2018-10-27 19:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7d275c009454ac2d88886935a5b9dc5e493c911', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 50, 'created': '2018-10-27 19:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/583e1b10290a45f8309ba4b76c02b3f7bca9ab8b', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 51, 'created': '2018-10-27 20:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8ace239ae80a30070d415b39cdacedacd5b3349', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 52, 'created': '2018-10-27 21:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfc7184e0ee88f170344349e478097328d3098dd', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 53, 'created': '2018-10-30 15:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d94650b98cf670eacb501bb3e699265b7ad1c826', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 54, 'created': '2018-10-30 23:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/557b585881e47d6683b0d54f2ec4ec1fa7fe55bf', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 55, 'created': '2018-10-31 02:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d25d420792cb9bc62ff6d45e538837e96e940f18', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 56, 'created': '2018-10-31 04:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5eda02670ce14e29d6552b1a760ddf028e5247c', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 57, 'created': '2018-10-31 05:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4e2e25a902014bf0d33eeb12839fb52e5addd9d', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 58, 'created': '2018-10-31 10:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae75107fbdedd55f2f770de8f67018855261592f', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 59, 'created': '2018-10-31 15:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa957488a38944791e1591db9dc4cceb5f4a6bf6', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nIt also demostrates how a custom profile can be delivered to the\nOpenStack components, by enhancing of of the OpenStack gate tests\n(openstack-helm-dev-deploy-nfs-ovs) to define a customized AppArmor\nprofile and load it on some of the OpenStack component pods, and then\nverify that the custom profile is active on those pods.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 60, 'created': '2018-10-31 16:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69d5a14b93271a1ae925af715df1c391ea6bcc4c', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 61, 'created': '2018-11-27 15:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37c389d55f72cacc34ab4537442d7b7b337b4bdb', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 62, 'created': '2018-11-27 19:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a77c21ebf55fff30dc86ab37469a39fdf5b6f32', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 63, 'created': '2018-11-29 16:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7cb20354c79a7bb83b393fc1a859b486e34d54f4', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nDepends-On: I6b45533d73af82e8fff353b0ed9f29f0891f24f1\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 64, 'created': '2018-11-29 16:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/22b5dcec3af14a83aed0985fa6c59ea573311b17', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 65, 'created': '2018-12-03 19:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd9a83019945de9addf1048cdcd45d9960a67193', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 66, 'created': '2018-12-10 22:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5cdae9a16836b420bb74f00a317074b65a0726f', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 67, 'created': '2018-12-11 05:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/881943a69c617cd0b4acdb9a2cbe48ac0a40f408', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 68, 'created': '2018-12-13 19:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba599b35b34f1cd82f64ed6e511543ce8e865897', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 69, 'created': '2018-12-13 23:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba16a7a65589463a359f6f7decb7e54b0e677fa0', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, neutron, cinder, glance, nova and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 70, 'created': '2018-12-13 23:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/021600bd71d84b3f757139760e26e36d0d2b9566', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 71, 'created': '2018-12-14 00:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b173c77157b664414fe136632e29f692807f93bd', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 72, 'created': '2018-12-14 15:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a50f973daf04b48f4dfdd7f1b6f6cc01c48d14fb', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 73, 'created': '2018-12-14 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62279b8fc5e64bc16a82066119df47d14d500600', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 74, 'created': '2018-12-14 16:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b761946d52a04ef61ae695d21b687674273f038', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 75, 'created': '2018-12-14 19:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1dc8c64d25821cd991a22a03fe47e35f394fa6cd', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 76, 'created': '2019-01-02 16:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/80462e984d9b7f9f77cadd6430d5fe3d8d81e27f', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 77, 'created': '2019-01-07 06:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94eb8426a2f49c7a9d8cabf0969a6a1c1786400d', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 78, 'created': '2019-01-11 19:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3738277c9e0e637aa0b98e7bdd861d073b9f8c1', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon. Neutron and nova will be covered\nin a different commit due to increased complexity.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 79, 'created': '2019-02-13 19:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2789a83c147f3a71e0f7ff6f1ce8ed71ab4fb74', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 80, 'created': '2019-02-13 20:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4a847d6cb5b788544066d83dc064873b8f18dce', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 81, 'created': '2019-03-06 16:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67608ad2f4d1350f946a526f5b1b6e9cd3148220', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 82, 'created': '2019-03-12 05:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0237dd8dc2ae7e27c6c26a989a7c54ec34b58b61', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 83, 'created': '2019-03-18 22:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bb95805e3378d5ce31f2a243406464b3e9ad632', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 84, 'created': '2019-03-25 05:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35d35442732ef2be5bcecf5ece61754ecb8bf623', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 85, 'created': '2019-04-01 13:37:10.000000000', 'files': ['heat/templates/deployment-engine.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'cinder/templates/deployment-volume.yaml', 'glance/templates/deployment-registry.yaml', 'horizon/templates/deployment.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'cinder/templates/deployment-api.yaml', 'glance/values.yaml', 'cinder/templates/deployment-scheduler.yaml', 'horizon/values.yaml', 'heat/templates/deployment-api.yaml', 'keystone/templates/deployment-api.yaml', 'heat/templates/deployment-cfn.yaml', 'keystone/values.yaml', 'zuul.d/project.yaml', 'glance/templates/deployment-api.yaml', 'tools/deployment/common/confirm-mac.sh', 'tools/gate/playbooks/dev-deploy-ceph-secure.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddde0d4a957aa39ddcd6345e03d76f0565329eb1', 'message': 'Add apparmor security annotation\n\nThis patch set adds in apparmor security annotations to Deployment\nand Daemonset manifests for the following components: keystone,\nheat, cinder, glance, and horizon.\n\nChange-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331\nCo-Authored-By: Cliff Parsons <cliff.parsons@att.com>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",19,602365,ddde0d4a957aa39ddcd6345e03d76f0565329eb1,185,13,85,20466,,,0,"Add apparmor security annotation

This patch set adds in apparmor security annotations to Deployment
and Daemonset manifests for the following components: keystone,
heat, cinder, glance, and horizon.

Change-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331
Co-Authored-By: Cliff Parsons <cliff.parsons@att.com>
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/602365/75 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'glance/templates/deployment-registry.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-api.yaml', 'glance/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml']",6,58c4907d121d02d4815ae90c7accb1becdd482d7,sec-annotation,"{{ tuple $envAll ""cinder-scheduler"" ""cinder-scheduler"" ""ceph-coordination-volume-perms"" ""init"" | include ""helm-toolkit.snippets.kubernetes_security_annotation"" | indent 2 }}",,6,0
openstack%2Fopenstack-helm~master~I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1,openstack/openstack-helm,master,I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1,Implement nginx sidecar,ABANDONED,2018-03-22 17:43:01.000000000,2020-02-10 03:13:50.000000000,,"[{'_account_id': 8898}, {'_account_id': 14151}, {'_account_id': 17591}, {'_account_id': 18180}, {'_account_id': 20466}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26086}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-03-22 17:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c31547b80355500011e9001993f227aadc8f57e4', 'message': '[DNM & WIP] Implement nginx sidecar\n\nThis patch set implements nginx sidecar to handle TLS termination,\nand is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-03-24 16:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24d87976b1ffdbd409319d30e11c071d2d9658cb', 'message': '[DNM & WIP] Implement nginx sidecar\n\nThis patch set implements nginx sidecar to handle TLS termination,\nand is a successor to [0].\n\nTODO:\n- add in the sidecar to deployment\n- update bind_host to 127.0.0.1\n- ssl certs\n- test\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-03-24 21:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1b29f9cceb3a83c71ca8990d0f73e02a74b8631e', 'message': '[DNM & WIP] Implement nginx sidecar\n\nThis patch set implements nginx sidecar to handle TLS termination,\nand is a successor to [0].\n\nTODO:\n- Add sidecar container to deployments\n- Handle TLS certs\n- Test\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-03-25 07:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a44381ea5c4bf449ff16b5353e36cbd74ad56503', 'message': '[DNM & WIP] Implement nginx sidecar\n\nThis patch set implements nginx sidecar to handle TLS termination,\nand is a successor to [0].\n\nTODO:\n- Add sidecar container to deployments\n- Handle TLS certs\n- Test\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2018-03-26 16:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ce274beb0d719ef7255019f220f3b25ad8e539f', 'message': '[DNM & WIP] Implement nginx sidecar\n\nThis patch set implements nginx sidecar to handle TLS termination,\nand is a successor to [0].\n\nTODO:\n- Handle TLS certs\n- Test\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2018-03-26 20:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc259b15db05197fcb0c16c01968ec6f0f01b5da', 'message': 'WIP: Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2018-03-26 20:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40989c0d59a6dcda9f9e30068ab0816178d181bf', 'message': 'WIP: Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2018-03-26 20:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1186ae69c1a96f7703714e673c1e9600574ba7ea', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-Implements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2018-03-26 20:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c0f36a66264ca033fb19a4f711b344224685180', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2018-03-26 23:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/262edf612bec80e15240a7a1ca21e4e1f1f9fc12', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2018-03-27 22:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/578a680587262a21139de97e942dbef440ecd3d3', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2018-03-28 04:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de3e6ccc19bc86b1d89ecd710aadc6f29da94448', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 13, 'created': '2018-03-28 04:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db41e32ce30e42ff4e434bf1842acf2c71ba9157', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2018-03-28 19:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8297e600c17ee06404c8188801ded2038a0bf033', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2018-03-28 20:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/127175dd8b4165db80495f487cf7919b20e08eb4', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2018-03-30 06:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60990baef2a5870724b631568a984fcae4098370', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2018-04-02 02:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/039c2a3b8634e6b38eaece44d44623176b0f13f8', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2018-04-02 14:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b5c3a430026190c7f74ed39a3064f910ef428cdd', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2018-04-02 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d837434cf234e56176d18f8aca2df11cef400da0', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nImplements: bp/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2018-04-03 14:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a41cfd886ef9936376d675aaed561fa1b6a845d2', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: blueprint nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 21, 'created': '2018-04-03 18:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/873b66bafb9f8ac552efce1c577ddabfcea2c421', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: blueprint nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 22, 'created': '2018-04-03 18:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea763858c995e26c44427235092807ccd75c43c2', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: blueprint nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 23, 'created': '2018-04-04 00:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/647798b4d2213dfdb009932a227104eef3409311', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: blueprint nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 24, 'created': '2018-04-06 06:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cac204b71cde2ceec3a72eb4b388db4f644d82d9', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 25, 'created': '2018-04-11 02:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d702b3f9b08a42036ecb639f0e690013942952a1', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 26, 'created': '2018-04-11 18:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4c55b0cec8b64dd38a0069fe91907426f64d30a', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 27, 'created': '2018-04-11 23:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9a16c8b9080463c888192a1af9e644b7e6d4f76', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 28, 'created': '2018-04-12 07:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09f1f0ab8822902f1cc3a7a6213d879ecd0b6f71', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 29, 'created': '2018-04-13 16:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d93ac2242703747ed25565d764866e394c471251', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 30, 'created': '2018-04-13 19:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b04fe72cc2cc3288b6e2abbcc51640e0550e6530', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 31, 'created': '2018-04-13 22:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f9e0df14aab9298c47ff6410d47a064d78cf4b9', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 32, 'created': '2018-04-14 00:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8e376f914ec7f70ccacae4dab6c2f9274bc59102', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n\nImplement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 33, 'created': '2018-04-14 00:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79a275e6e3b052e1b71c320d5bf8677532886579', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 34, 'created': '2018-04-16 06:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69aa3995a72cbaee2b19320cf10010902851877d', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 35, 'created': '2018-04-16 21:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6b71ea42c18f2322fb653209ad8f640c4008bf11', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n\nImplement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 36, 'created': '2018-04-16 22:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f87a1b36ef59bf165397d5b3879fbe491f956f72', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 37, 'created': '2018-04-19 15:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43d2d791ce042d6db024c7186d84caf0cc5a0652', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 38, 'created': '2018-04-19 21:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/97ac9cb0073a52aeb85a6508102e0b02831bfa25', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 39, 'created': '2018-04-20 01:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/42e1f2baa4bae5b1d8d8252358e6af35503d695c', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 40, 'created': '2018-04-22 01:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/841ec9edb59af655216e2ec87924ed34c8cee976', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a successor to [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 41, 'created': '2018-04-23 00:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8e7d4dbfed5b258dce8d02b9020b65e63b8e711', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of\npatch set [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 42, 'created': '2018-04-24 19:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/957ec616d6ec13f9395d7657dfe00299549158d4', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of\npatch set [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 43, 'created': '2018-04-25 06:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e92b6d88ae93ebf2daca50bdd090221962aa9c7', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 44, 'created': '2018-04-25 07:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d184a0935a0cbbf3f83eb4eb8fc6b7792061c9d', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 45, 'created': '2018-04-25 16:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9ef231ed2ffb132ebb1957f4870f6c16be5f2a46', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 46, 'created': '2018-04-25 17:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4abf34bd8acd9b20e3e6ecbdf540926d80a44d9d', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 47, 'created': '2018-04-25 17:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67afae818d2047e246cff1a4e26984e8ed1d04ff', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 48, 'created': '2018-04-25 17:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd987fd84c53514216c1d82a753623b8b66a413c', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 49, 'created': '2018-04-25 17:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fcfddc627321e4b45bdaa8c0e499a9f4d909bf7', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 50, 'created': '2018-04-25 18:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5538f1689a614a2daafe9bcb1023efee2a9a70fa', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 51, 'created': '2018-04-27 09:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5690c89705e0ccbd28a1652dbc39a98bc11b7cb0', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 52, 'created': '2018-04-27 17:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e411a35e885c82d8b188c3bc56b4aca7021bec3a', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 53, 'created': '2018-04-27 19:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/61baea00ff7e81436d2bcc0ffbab80a49a354b18', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 54, 'created': '2018-04-27 19:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/11dc741f88fe76951ba763b9a1acee55f72a4de0', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 55, 'created': '2018-04-30 14:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/98ae90fa0eee328ac471c45b38bced055f774da8', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 56, 'created': '2018-04-30 15:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6f5df197117d3a655b01abbfdcbd9a037581163', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 57, 'created': '2018-04-30 17:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6337d35167bbfc60b6fce2bee2accd53a2551747', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 58, 'created': '2018-04-30 18:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c91c30b97d26c43d85ee56432d616c396ed738f', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 59, 'created': '2018-04-30 18:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a8ece8bbd58bdb925f57206aa1e66db6ccc6fc6', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 60, 'created': '2018-04-30 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58c5fc5a2efaabc39c7480d39f885e5b06a4446b', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 61, 'created': '2018-04-30 19:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db5767b5cd85bac91fc2fafd1b1d091e42c32802', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 62, 'created': '2018-04-30 19:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1baa0cfea212ff1bbec2552d45b98fa43a1682f5', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 63, 'created': '2018-05-02 05:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73b667f2f306264f18232ea2766c431359bf9951', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 64, 'created': '2018-05-04 20:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d3fe3595bdfd8f5cfc6f9b7bb99ef9733f3efeb', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 65, 'created': '2018-05-08 05:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8557f7b10aed211600253140d6f2cd849767a7b4', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 66, 'created': '2018-05-09 01:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe50f879b94c8c8842842c8bbb4b5fb36dc58f8c', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 67, 'created': '2018-05-09 15:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0fdf154a336e275a67dcb8715f852db7c264e8c', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 68, 'created': '2018-05-09 20:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01ed0cad7de2c25144df52193a88f8092d88424e', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 69, 'created': '2018-05-09 20:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58c9507bf8a0c670e0e0581f14395cf127095802', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\nDepends-On: Ic1db020cc86fa9db78f3f3cfcda92e3291a889a8\n'}, {'number': 70, 'created': '2018-05-10 03:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94a47896baccd312aea460d4da78cdb002643b38', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\nDepends-On: Ic1db020cc86fa9db78f3f3cfcda92e3291a889a8\n'}, {'number': 71, 'created': '2018-05-13 05:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2de39c8c73fad88d5b4cd0fcd1b83b7faef26fb0', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of patch\nset [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nCo-Authored-By: Pete Birley <pete@port.direct>\n\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nSigned-off-by: Tin Lam <tin@irrational.io>\nDepends-On: Ic1db020cc86fa9db78f3f3cfcda92e3291a889a8\n'}, {'number': 72, 'created': '2018-05-13 23:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bdb7061ca433b1aa33ccf6bfed68e8957fb9c8a', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nDepends-On: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nCo-Authored-By: Pete Birley <pete@port.direct>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 73, 'created': '2018-05-16 17:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bdedeeeaafe3c069631bfa3d608840d06374836e', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nDepends-On: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nCo-Authored-By: Pete Birley <pete@port.direct>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 74, 'created': '2018-05-29 07:34:25.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'glance/templates/deployment-registry.yaml', 'nova/templates/configmap-etc.yaml', 'nova/templates/deployment-api-osapi.yaml', 'cinder/templates/deployment-api.yaml', 'glance/values.yaml', 'nova/templates/bin/_readiness-check.py.tpl', 'nova/templates/service-metadata.yaml', 'heat/templates/configmap-etc.yaml', 'glance/templates/configmap-bin.yaml', 'heat/templates/deployment-cfn.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/bin/_readiness-check.py.tpl', 'neutron/templates/configmap-etc.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'glance/templates/configmap-etc.yaml', 'cinder/templates/configmap-bin.yaml', 'heat/templates/deployment-api.yaml', 'neutron/templates/configmap-bin.yaml', 'nova/values.yaml', 'heat/templates/configmap-bin.yaml', 'neutron/values.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00649f0c57c0a640cdc3e0340f1ec1b35f6f288e', 'message': 'Implement nginx sidecar\n\nThis patch set implements nginx sidecar and is a continuation of [0].\n\n[0] https://review.openstack.org/#/c/523959/13\n\nPartially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar\nDepends-On: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nChange-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nCo-Authored-By: Pete Birley <pete@port.direct>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",34,555386,00649f0c57c0a640cdc3e0340f1ec1b35f6f288e,187,11,74,20466,,,0,"Implement nginx sidecar

This patch set implements nginx sidecar and is a continuation of [0].

[0] https://review.openstack.org/#/c/523959/13

Partially-implements: https://blueprints.launchpad.net/openstack-helm/+spec/nginx-sidecar
Depends-On: I4dbb66e9050f88292077dc6460bb126f02daa8a9
Change-Id: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1
Co-Authored-By: Pete Birley <pete@port.direct>
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/555386/65 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_nginx_sidecar_start.tpl', 'helm-toolkit/templates/snippets/_nginx_sidecar_container.tpl', 'helm-toolkit/templates/snippets/_nginx_sidecar_config.tpl']",3,c31547b80355500011e9001993f227aadc8f57e4,sidecar,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- define ""helm-toolkit.config.nginx_term_config"" }} user nginx; worker_processes auto; error_log /dev/stderr; pid /run/nginx.pid; events { worker_connections 1024; } http { log_format main '$remote_addr - $remote_user [$time_local] ""$request"" ' '$status $body_bytes_sent ""$http_referer"" ' '""$http_user_agent"" ""$http_x_forwarded_for""'; access_log /dev/stdout main; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; default_type application/octet-stream; upstream proxyapp { server 127.0.0.1:${INTERNAL_PORT}; } server { listen ${POD_IP}:${EXTERNAL_PORT} default_server; server_name _; location / { proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_pass http://proxyapp; } } } {{- end }} ",,147,0
openstack%2Fopenstack-helm-infra~master~I4dbb66e9050f88292077dc6460bb126f02daa8a9,openstack/openstack-helm-infra,master,I4dbb66e9050f88292077dc6460bb126f02daa8a9,Implement nginx sidecar,ABANDONED,2018-05-13 16:09:36.000000000,2020-02-10 03:13:40.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-05-13 16:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/018fde236c888214fba4a3cd62b64f9fd5184e95', 'message': 'DNM: Consolidate OSH helm-toolkit\n\nTo prepare the removal of helm-toolkit from OpenStack-Helm in [0],\nthis patch set cleans up inflight patch [1] so it is inline.\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-05-13 23:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f52cf6e4e9deaa7f3e7099bab6f517918d0d1037', 'message': 'Consolidate OSH helm-toolkit\n\nTo prepare the removal of helm-toolkit from OpenStack-Helm in [0],\nthis patch set cleans up inflight patch [1] so it is inline.\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2018-05-13 23:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18eb80c778e12902f30d02fda56fe79ec334e52d', 'message': 'Implement nginx sidecar\n\nThis patch set cleans up inflight patch [1] by moving helm-toolkit\nchanges to OSH-infra per [0].\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2018-05-13 23:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/819b43f1720eccf6bb0d3433a835b7050285c7a1', 'message': 'Implement nginx sidecar\n\nThis patch set cleans up inflight patch [1] by moving helm-toolkit\nchanges to OSH-infra per [0].\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2018-06-14 22:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdfcfbc74de272363a4c1e2b5245ada3ed8f436e', 'message': 'Implement nginx sidecar\n\nThis patch set cleans up inflight patch [1] by moving helm-toolkit\nchanges to OSH-infra per [0].\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2018-07-09 02:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21345104966b4503351b2e29386e307a1a6efd8b', 'message': 'Implement nginx sidecar\n\nThis patch set cleans up inflight patch [1] by moving helm-toolkit\nchanges to OSH-infra per [0].\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2019-01-14 07:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f4a747da190547e71beff3d8912e14e96c40b0d', 'message': 'Implement nginx sidecar\n\nThis patch set cleans up inflight patch [1] by moving helm-toolkit\nchanges to OSH-infra per [0].\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2019-11-11 07:40:13.000000000', 'files': ['helm-toolkit/templates/snippets/_nginx_termination_container.tpl', 'helm-toolkit/templates/snippets/_nginx_termination_config.tpl', 'helm-toolkit/templates/snippets/_nginx_termination_volumes.tpl', 'helm-toolkit/templates/snippets/_api_ports_and_readyness.tpl', 'helm-toolkit/templates/scripts/_nginx_termination_script.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0ff42de9f1073cfa347e3758958fb76c5e535ad', 'message': 'Implement nginx sidecar\n\nThis patch set cleans up inflight patch [1] by moving helm-toolkit\nchanges to OSH-infra per [0].\n\n[0] https://review.openstack.org/#/c/558065/\n[1] https://review.openstack.org/#/c/555386/\n\nNeeded-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1\nChange-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,568125,a0ff42de9f1073cfa347e3758958fb76c5e535ad,17,3,8,20466,,,0,"Implement nginx sidecar

This patch set cleans up inflight patch [1] by moving helm-toolkit
changes to OSH-infra per [0].

[0] https://review.openstack.org/#/c/558065/
[1] https://review.openstack.org/#/c/555386/

Needed-by: I8cb6f05bd97f31c0a4e4394da43c5752a2f651a1
Change-Id: I4dbb66e9050f88292077dc6460bb126f02daa8a9
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/568125/8 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_nginx_termination_container.tpl', 'helm-toolkit/templates/snippets/_nginx_termination_config.tpl', 'helm-toolkit/templates/snippets/_nginx_termination_volumes.tpl', 'helm-toolkit/templates/snippets/_api_ports_and_readyness.tpl', 'helm-toolkit/templates/scripts/_nginx_termination_script.sh.tpl']",5,018fde236c888214fba4a3cd62b64f9fd5184e95,sidecar,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- define ""helm-toolkit.snippets.nginx_termination_script"" }} #!/bin/bash set -xe COMMAND=""${@:-start}"" function start () { # Perform envvar substitution cat ${NGINX_TEMPLATE} \ | envsubst '${POD_IP} ${PORT}' \ | tee /etc/nginx/nginx.conf # Don't run, but test the configuration to ensure sanity nginx -t -c /etc/nginx/nginx.conf # Runs the nginx server exec nginx -c /etc/nginx/nginx.conf } function stop () { # Stops the nginx server nginx -s stop } $COMMAND {{- end }} ",,246,0
openstack%2Fbarbican~stable%2Frocky~Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c,openstack/barbican,stable/rocky,Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c,Fix the barbicanclient installation not from source,MERGED,2019-12-10 13:21:40.000000000,2020-02-10 02:48:28.000000000,2020-02-10 02:48:28.000000000,"[{'_account_id': 1955}, {'_account_id': 7973}, {'_account_id': 10459}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-10 13:21:40.000000000', 'files': ['devstack/lib/barbican', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/barbican/commit/37bc0d00df8a3944cc78824343a1882ed4028dc1', 'message': 'Fix the barbicanclient installation not from source\n\n- follow the standard installation pattern for barbicanclient:\n  only clones if it is installed from source. This way it is\n  possible to install and test barbicanclient from pip\n  by default, additional jobs can simply add it\n  to required-projects;\n- define the repository metadata using the GIT* arrays.\n  They are also defined by stackrc, but they should be probably\n  removed from there;\n- remove the useless call of configure_barbicanclient (the same\n  steps are already performed by install_barbicanclient).\n  Going forward, configure_barbicanclient can be removed\n\nChange-Id: Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c\n(cherry picked from commit 646a0360b97d09146cb3b9a4d9bef927d074c239)\n'}]",0,698237,37bc0d00df8a3944cc78824343a1882ed4028dc1,19,5,1,10459,,,0,"Fix the barbicanclient installation not from source

- follow the standard installation pattern for barbicanclient:
  only clones if it is installed from source. This way it is
  possible to install and test barbicanclient from pip
  by default, additional jobs can simply add it
  to required-projects;
- define the repository metadata using the GIT* arrays.
  They are also defined by stackrc, but they should be probably
  removed from there;
- remove the useless call of configure_barbicanclient (the same
  steps are already performed by install_barbicanclient).
  Going forward, configure_barbicanclient can be removed

Change-Id: Iea1cd3f82c3b38f03f91b0191846e1ddbbfb1d6c
(cherry picked from commit 646a0360b97d09146cb3b9a4d9bef927d074c239)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/37/698237/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/barbican', 'devstack/plugin.sh', 'devstack/settings']",3,37bc0d00df8a3944cc78824343a1882ed4028dc1,,"# python barbican client library GITREPO[""python-barbicanclient""]=${BARBICANCLIENT_REPO:-${GIT_BASE}/openstack/python-barbicanclient.git} GITBRANCH[""python-barbicanclient""]=${BARBICANCLIENT_BRANCH:-$TARGET_BRANCH} GITDIR[""python-barbicanclient""]=$DEST/python-barbicanclient",BARBICANCLIENT_DIR=$DEST/python-barbicanclient# Set client library repository BARBICANCLIENT_REPO=${BARBICANCLIENT_REPO:-${GIT_BASE}/openstack/python-barbicanclient.git} BARBICANCLIENT_BRANCH=${BARBICANCLIENT_BRANCH:-master},9,8
openstack%2Ftelemetry-specs~master~I1a1bd69ef048ba3ccd0b8188742b9bbbc07f3bbc,openstack/telemetry-specs,master,I1a1bd69ef048ba3ccd0b8188742b9bbbc07f3bbc,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 18:56:23.000000000,2020-02-10 02:47:26.000000000,2020-02-10 02:45:27.000000000,"[{'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-13 18:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/b6a36c9be9b53dfa43624b3ef70a477aeae29f5a', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I1a1bd69ef048ba3ccd0b8188742b9bbbc07f3bbc\n'}, {'number': 2, 'created': '2019-12-17 18:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/ce5ca4c645dbf6f7c7ea05fa075cdbb023f73b86', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I1a1bd69ef048ba3ccd0b8188742b9bbbc07f3bbc\n'}, {'number': 3, 'created': '2020-02-02 11:44:01.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/c23d1ce7e350c9b218d6060c775e90015ccce82d', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUpdate requirements for Sphinx that works with python3, this needs\nupdating from oslosphinx to openstackdocstheme as well.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I1a1bd69ef048ba3ccd0b8188742b9bbbc07f3bbc\n'}]",0,698992,c23d1ce7e350c9b218d6060c775e90015ccce82d,13,4,3,8556,,,0,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

specs repo either has py27 job or requirement or tox env.

Update requirements for Sphinx that works with python3, this needs
updating from oslosphinx to openstackdocstheme as well.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I1a1bd69ef048ba3ccd0b8188742b9bbbc07f3bbc
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/92/698992/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,b6a36c9be9b53dfa43624b3ef70a477aeae29f5a,drop-py27-support,"minversion = 3.1.1 envlist = docs,pep8ignore_basepython_conflict = Truebasepython = python3","minversion = 1.6 envlist = docs,py27",6,4
openstack%2Fhorizon~stable%2Frocky~I586d1f63039b71f2ec757b06eb32a30a52705568,openstack/horizon,stable/rocky,I586d1f63039b71f2ec757b06eb32a30a52705568,Ensure python versions,MERGED,2020-01-11 15:55:00.000000000,2020-02-10 02:32:59.000000000,2020-02-10 02:30:52.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 12156}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e54c1cf0b9a47ac67a213c108f212fd264966c09', 'message': 'Ensure python versions\n\nIt looks like better to specify basepython for all tox envs.\nAs of the rocky release, we used python 2.7 by default,\nso this commit adds python 2.7 for tox envs which have no default python.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-November/010957.html\n\nChange-Id: I586d1f63039b71f2ec757b06eb32a30a52705568\n'}, {'number': 2, 'created': '2020-01-11 20:07:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/22e928ac86c211de7824698d418dbf9a54b882bd', 'message': 'Ensure python versions\n\nIt looks like better to specify basepython for all tox envs.\nAs of the rocky release, we used python 2.7 by default,\nso this commit adds python 2.7 for tox envs which have no default python.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-November/010957.html\n\nChange-Id: I586d1f63039b71f2ec757b06eb32a30a52705568\n'}]",0,702085,22e928ac86c211de7824698d418dbf9a54b882bd,21,6,2,841,,,0,"Ensure python versions

It looks like better to specify basepython for all tox envs.
As of the rocky release, we used python 2.7 by default,
so this commit adds python 2.7 for tox envs which have no default python.

http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010957.html

Change-Id: I586d1f63039b71f2ec757b06eb32a30a52705568
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/702085/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e54c1cf0b9a47ac67a213c108f212fd264966c09,ensure-python,basepython = python2.7basepython = python2.7basepython = python2.7,,3,0
openstack%2Fhorizon~stable%2Fqueens~I586d1f63039b71f2ec757b06eb32a30a52705568,openstack/horizon,stable/queens,I586d1f63039b71f2ec757b06eb32a30a52705568,Ensure python versions,MERGED,2020-01-11 15:50:45.000000000,2020-02-10 02:12:16.000000000,2020-02-10 02:10:48.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-01-11 15:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1bef05444abf5f63e68d297ce65ee08b0e275b68', 'message': 'Ensure python versions\n\nIt looks like better to specify basepython for all tox envs.\nAs of the queens release, we use python 2.7 by default.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-November/010957.html\n\nChange-Id: I586d1f63039b71f2ec757b06eb32a30a52705568\n'}, {'number': 2, 'created': '2020-01-11 20:06:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d7942bbdde983c20b21ebba42de71a4313d20ff5', 'message': 'Ensure python versions\n\nIt looks like better to specify basepython for all tox envs.\nAs of the queens release, we use python 2.7 by default.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-November/010957.html\n\nChange-Id: I586d1f63039b71f2ec757b06eb32a30a52705568\n'}]",0,702083,d7942bbdde983c20b21ebba42de71a4313d20ff5,24,5,2,841,,,0,"Ensure python versions

It looks like better to specify basepython for all tox envs.
As of the queens release, we use python 2.7 by default.

http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010957.html

Change-Id: I586d1f63039b71f2ec757b06eb32a30a52705568
",git fetch https://review.opendev.org/openstack/horizon refs/changes/83/702083/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1bef05444abf5f63e68d297ce65ee08b0e275b68,ensure-python,basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,,15,0
openstack%2Fneutron~master~Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3,openstack/neutron,master,Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3,[OVN] Update QoS related code from networking-ovn,MERGED,2020-01-21 04:42:48.000000000,2020-02-10 02:08:50.000000000,2020-02-08 01:35:54.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29874}]","[{'number': 1, 'created': '2020-01-21 04:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99d156d7af67c5a0ff022045ea4eab59531690bc', 'message': 'Update QoS related code from networkig-ovn\n\nIn terms of [1], patch [0] has import the lasted code of ovn-client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\n'}, {'number': 2, 'created': '2020-01-21 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec4c6e2526e0a6efc966872f039ebf5ac9126deb', 'message': '[OVN] Update QoS related code from networkig-ovn\n\nIn terms of [1], patch [0] has import the lasted code of ovn-client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\n'}, {'number': 3, 'created': '2020-01-21 13:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ef4afc3f837c97872a92845a7a9c886d9b5aecc', 'message': '[OVN] Update QoS related code from networkig-ovn\n\nIn terms of [1], patch [0] has import the lasted code of ovn-client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\nCloses-Bug: #1813551\n'}, {'number': 4, 'created': '2020-01-22 01:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/042d14e286504a2ddf24d23a7992779248762be4', 'message': '[OVN] Update QoS related code from s/networkig-ovn\n\nIn terms of [1], patch [0] has import the lasted code of s/ovn-client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\nCloses-Bug: #1813551\n'}, {'number': 5, 'created': '2020-02-03 09:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/516bc96d3f5ce72367058d565e1d3e2499ae074d', 'message': '[OVN] Update QoS related code from s/networkig-ovn\n\nIn terms of [1], patch [0] has import the lasted code of s/ovn-client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\nCloses-Bug: #1813551\n'}, {'number': 6, 'created': '2020-02-04 03:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/406eb3d6b9467f28a99b91017c9befc004b6b559', 'message': '[OVN] Update QoS related code from s/networkig-ovn\n\nIn terms of [1], patch [0] has import the lasted code of s/ovn-client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\nCloses-Bug: #1813551\n'}, {'number': 7, 'created': '2020-02-06 03:30:56.000000000', 'files': ['neutron/tests/unit/services/qos/drivers/ovn/test_driver.py', 'neutron/services/qos/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcec852b7f091c67a378db96c4841c3eec0d496a', 'message': '[OVN] Update QoS related code from networking-ovn\n\nIn terms of [1], patch [0] has import the lasted code of ovn_client.py, but not\n""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.\n\n[0] https://review.opendev.org/#/c/697316/\n[1] https://review.opendev.org/#/c/692084/\n\nChange-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3\nCloses-Bug: #1813551\n'}]",34,703537,dcec852b7f091c67a378db96c4841c3eec0d496a,77,10,7,29874,,,0,"[OVN] Update QoS related code from networking-ovn

In terms of [1], patch [0] has import the lasted code of ovn_client.py, but not
""/networking_ovn/ml2/qos_driver.py"", so this patch will update it.

[0] https://review.opendev.org/#/c/697316/
[1] https://review.opendev.org/#/c/692084/

Change-Id: Iefff6cdf070d234c4ea9c8e1d5fdfe4542eb7fa3
Closes-Bug: #1813551
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/703537/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/qos/drivers/ovn/test_driver.py', 'neutron/services/qos/drivers/ovn/driver.py']",2,99d156d7af67c5a0ff022045ea4eab59531690bc,bug/1813551," 'type:values': constants.VALID_DIRECTIONS}, qos_consts.RULE_TYPE_DSCP_MARKING: { qos_consts.DSCP_MARK: {'type:values': constants.VALID_DSCP_MARKS}, } options['qos_max_rate'] = str(rule.max_kbps) if rule.max_burst_kbps: options['qos_burst'] = str(rule.max_burst_kbps) # OVN could support both directions if rule.direction: options['direction'] = rule.direction # Add dscp_mark support if isinstance(rule, qos_rule.QosDscpMarkingRule): if rule.dscp_mark: options['dscp_mark'] = rule.dscp_mark options['direction'] = 'egress'", 'type:values': [constants.EGRESS_DIRECTION]} options['qos_max_rate'] = str(rule.max_kbps * 1000) if rule.max_burst_kbps: options['qos_burst'] = str(rule.max_burst_kbps * 1000),18,6
openstack%2Fadjutant~master~Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc,openstack/adjutant,master,Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc,Refactor the plugin layer to use entrypoints,MERGED,2019-09-12 05:52:52.000000000,2020-02-10 00:18:09.000000000,2020-02-10 00:17:00.000000000,"[{'_account_id': 10420}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2019-09-12 05:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/70cbfc7b3bb54309f4945d49d60c7032dd66a22c', 'message': '[WIP] Plugin layer refactor\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n'}, {'number': 2, 'created': '2019-09-12 07:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/059e0598d5e6821a478c931c2e9fd86c0a3cf0f2', 'message': '[WIP] Plugin layer refactor\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n'}, {'number': 3, 'created': '2019-09-12 07:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d180247ca5f0bd37dff4c59a3c9cf1c8ec00e163', 'message': '[WIP] Plugin layer refactor\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n'}, {'number': 4, 'created': '2019-09-12 07:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/fde139dee91bab52e56c0a08f64addd12cfd9df8', 'message': '[WIP] Plugin layer refactor\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n'}, {'number': 5, 'created': '2019-09-27 02:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/08ee82160f597bcedb36499f88064919326b4601', 'message': '[WIP] Plugin layer refactor\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n'}, {'number': 6, 'created': '2019-10-02 00:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6628e427d949d2c4b84d08464fab1fb801730633', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}, {'number': 7, 'created': '2019-10-04 00:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/84f96186dd841df6434f8d8e2244b74253f1815d', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}, {'number': 8, 'created': '2019-10-06 22:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d2abf4bb444de11e1ff9c1789712b3d5b137d130', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}, {'number': 9, 'created': '2019-10-24 01:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/5b3abadc21f7f13d15109044aab113acb505dfa6', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}, {'number': 10, 'created': '2019-12-04 01:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/52a93600725da0dd2947c4dac589f65cab844b67', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}, {'number': 11, 'created': '2020-02-04 00:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/de45bceec4ad44997b6f3fb368f9ef126ad5bd82', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}, {'number': 12, 'created': '2020-02-05 06:08:58.000000000', 'files': ['adjutant/plugins.py', 'adjutant/tasks/templates/update_user_email_completed.txt', 'adjutant/tasks/v1/models.py', 'adjutant/tasks/templates/create_project_and_user_completed.txt', 'adjutant/tasks/templates/initial.txt', 'adjutant/tasks/templates/invite_user_to_project_completed.txt', 'adjutant/tasks/templates/invite_user_to_project_token.txt', 'adjutant/notifications/v1/base.py', 'adjutant/tasks/v1/__init__.py', 'adjutant/actions/v1/users.py', 'adjutant/notifications/v1/tests/test_notifications.py', 'adjutant/tasks/templates/create_project_and_user_initial.txt', 'adjutant/api/v1/urls.py', 'adjutant/tasks/v1/base.py', 'adjutant/tasks/templates/create_project_and_user_token.txt', 'adjutant/actions/v1/projects.py', 'adjutant/tasks/templates/reset_user_password_token.txt', 'adjutant/tasks/templates/completed.txt', 'adjutant/notifications/v1/tests/__init__.py', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/models.py', 'adjutant/actions/v1/models.py', 'adjutant/feature_set.py', 'doc/source/features.rst', 'adjutant/api/v1/base.py', 'adjutant/api/v1/__init__.py', 'adjutant/startup/__init__.py', 'doc/source/development.rst', 'adjutant/startup/config.py', 'setup.cfg', 'adjutant/startup/checks.py', 'adjutant/tasks/v1/projects.py', 'doc/source/plugins.rst', 'doc/source/guide-lines.rst', 'adjutant/startup/loading.py', 'adjutant/actions/v1/resources.py', 'releasenotes/notes/feature-sets-f363d132c8c377cf.yaml', 'adjutant/config/feature_sets.py', 'adjutant/tasks/templates/reset_user_password_completed.txt', 'adjutant/api/v1/openstack.py', 'adjutant/actions/models.py', 'adjutant/notifications/v1/__init__.py', 'adjutant/core.py', 'adjutant/tasks/templates/update_user_email_started.txt', 'adjutant/tasks/templates/update_user_email_token.txt', 'adjutant/actions/v1/app.py', 'adjutant/notifications/v1/email.py', 'etc/adjutant.yaml', 'adjutant/api/v1/app.py', 'adjutant/actions/v1/serializers.py', 'adjutant/tasks/v1/app.py', 'doc/source/index.rst', 'adjutant/tasks/templates/token.txt', 'adjutant/actions/v1/__init__.py', 'adjutant/settings.py', 'adjutant/api/urls.py', 'adjutant/config/django.py', 'doc/source/feature-sets.rst', 'adjutant/tasks/templates/update_quota_completed.txt'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/0eaac89b38aaddddc2fe04fe272755ecae96a605', 'message': ""Refactor the plugin layer to use entrypoints\n\nIntroduce the concept of a feature set, which can be\nregistered to an entrypoint.\n\nRework all existing core elements into a 'core' feature\nset.\n\nRemove the ability to add in random django apps, and drop\nthe ablity for plugins to optionally be able to great\nnew DB models.\n\nChange-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc\n""}]",0,681643,0eaac89b38aaddddc2fe04fe272755ecae96a605,37,4,12,10420,,,0,"Refactor the plugin layer to use entrypoints

Introduce the concept of a feature set, which can be
registered to an entrypoint.

Rework all existing core elements into a 'core' feature
set.

Remove the ability to add in random django apps, and drop
the ablity for plugins to optionally be able to great
new DB models.

Change-Id: Idc5c3bf3facc44bb615fa4006d417d6f48a16ddc
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/43/681643/4 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/plugins.py', 'adjutant/tasks/templates/update_user_email_completed.txt', 'adjutant/tasks/v1/models.py', 'adjutant/tasks/templates/create_project_and_user_completed.txt', 'adjutant/tasks/templates/initial.txt', 'adjutant/tasks/templates/invite_user_to_project_completed.txt', 'adjutant/tasks/templates/invite_user_to_project_token.txt', 'adjutant/notifications/v1/base.py', 'adjutant/tasks/v1/__init__.py', 'adjutant/actions/v1/users.py', 'adjutant/notifications/v1/tests/test_notifications.py', 'adjutant/tasks/templates/create_project_and_user_initial.txt', 'adjutant/api/v1/urls.py', 'adjutant/tasks/v1/base.py', 'adjutant/tasks/templates/create_project_and_user_token.txt', 'adjutant/actions/v1/projects.py', 'adjutant/tasks/templates/reset_user_password_token.txt', 'adjutant/tasks/templates/completed.txt', 'adjutant/notifications/v1/tests/__init__.py', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/models.py', 'adjutant/actions/v1/models.py', 'adjutant/feature_set.py', 'adjutant/api/v1/base.py', 'adjutant/api/v1/__init__.py', 'adjutant/startup/__init__.py', 'adjutant/startup/config.py', 'setup.cfg', 'adjutant/startup/checks.py', 'adjutant/startup/loading.py', 'adjutant/actions/v1/resources.py', 'requirements.txt', 'adjutant/tasks/templates/reset_user_password_completed.txt', 'adjutant/api/v1/openstack.py', 'adjutant/actions/models.py', 'adjutant/core.py', 'adjutant/tasks/templates/update_user_email_started.txt', 'adjutant/tasks/templates/update_user_email_token.txt', 'adjutant/actions/v1/app.py', 'adjutant/notifications/v1/email.py', 'adjutant/api/v1/app.py', 'adjutant/actions/v1/serializers.py', 'adjutant/tasks/v1/app.py', 'adjutant/tasks/templates/token.txt', 'adjutant/actions/v1/__init__.py', 'adjutant/settings.py', 'adjutant/api/urls.py', 'adjutant/config/django.py', 'adjutant/tasks/templates/update_quota_completed.txt', 'adjutant/utils.py']",52,70cbfc7b3bb54309f4945d49d60c7032dd66a22c,new/plugins_refactor,,"# Copyright (C) 2015 Catalyst IT Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from copy import deepcopy def dict_merge(a, b): """""" Recursively merges two dicts. If both a and b have a key who's value is a dict then dict_merge is called on both values and the result stored in the returned dictionary. B is the override. """""" if not isinstance(b, dict): return b result = deepcopy(a) for k, v in b.items(): if k in result and isinstance(result[k], dict): result[k] = dict_merge(result[k], v) else: result[k] = deepcopy(v) return result def setup_task_settings(task_defaults, action_defaults, task_settings): """""" Cascading merge of the default settings, and the settings for each task_type. """""" new_task_settings = {} for task, settings in task_settings.items(): task_setting = deepcopy(task_defaults) task_setting['action_settings'] = deepcopy(action_defaults) new_task_settings[task] = dict_merge(task_setting, settings) return new_task_settings ",482,447
openstack%2Fadjutant~master~I1d97d72d06b3a3a5df90355d3a4b4fe414381424,openstack/adjutant,master,I1d97d72d06b3a3a5df90355d3a4b4fe414381424,Rework Adjutant's config system to use CONFspirator,MERGED,2019-07-09 07:12:38.000000000,2020-02-09 23:19:26.000000000,2020-02-09 23:18:01.000000000,"[{'_account_id': 10420}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2019-07-09 07:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/38358261fd975b43ec3236856a645b10ba6a50fb', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce an incode config system based on oslo.config\nbut compatible with yaml and envvars for config with\nnested groups and namespaces. This has been implemented\nin such a way that we can extract it into an external library fairly\neasily.\n\nTODO:\n- dynamic config registering for tasks, action, notification_engines,\n  and delegate_apis\n- config for quotas\n- documentation\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 2, 'created': '2019-07-22 04:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/f94c4698e9d6b3074ff99897f50cc3fd3aef5ae5', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 3, 'created': '2019-07-31 08:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/1c47070c723266af1f37fe9e221d127132af29fc', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 4, 'created': '2019-07-31 08:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/17c717a7140cc5f3b9ac7c1e6da0bb8b065270ce', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 5, 'created': '2019-07-31 08:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/335cd63bccd9d007eccef36c2e6e79043d1fba43', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 6, 'created': '2019-08-02 02:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/5311fb8cbcb8e89d1a0500452cefd8b899e85d14', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 7, 'created': '2019-08-02 08:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/2d73629112259acab744dd56f349a02b937e2d84', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 8, 'created': '2019-08-29 05:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/386db92ac6c3dc2afa97c86e166544ece6ecd3c2', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 9, 'created': '2019-08-30 03:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/fa900922a40f53dce3d4f7a406bcef13233d2c65', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 10, 'created': '2019-09-04 01:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/775d2f60c006147533ddbb8474775b9b49184505', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 11, 'created': '2019-09-04 01:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ee6974460ca77ceb719a33959f225ab6e472bca7', 'message': ""[WIP] Rework Adjutant's config system\n\nIntroduce config based on CONFspirator.\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 12, 'created': '2019-09-13 06:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/f1d88720c616f2ecfb5df9ab880eb842d960fcf2', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 13, 'created': '2019-09-24 05:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/25bd56456ebc8b29e3aea1bb65cf1872ad0deb9c', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 14, 'created': '2019-09-24 05:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/2a7290ec5ce13319c33db5cb83e4843ce6673acf', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 15, 'created': '2019-09-25 05:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/e541cffb8c645edf38d00b6063aa7a7c0498bc37', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 16, 'created': '2019-09-25 05:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/b661a44e8520f0b366457c1901c1cf926877db5b', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 17, 'created': '2019-09-25 05:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/c5ab2ad1ba819c96ccc3ec8fc99649f77522a362', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 18, 'created': '2019-09-25 06:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/75504fb9cd4e32ebbebf44131cf443fdb97d11c6', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 19, 'created': '2019-09-25 07:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/694e692e20fdc86aed46e58e59e4e0c4459fc1ba', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 20, 'created': '2019-09-25 07:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/a14792043145001c79377c3e4ee2b98acb9fc544', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 21, 'created': '2019-09-27 00:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/1a7667be07bbb62c29ff445e1a757f7f367e5656', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 22, 'created': '2019-10-04 00:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/38c2491b88c0cffdd61fcc10327df4328bd5ab86', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 23, 'created': '2019-10-06 22:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/903a94d934f056daf357d24489ba9d7a5ea90c6b', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 24, 'created': '2019-10-24 01:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/71cd6342f58a3a8c50336e711150fe499a95e116', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 25, 'created': '2019-12-04 01:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/c90ef87ffb17c5764bd64d1d8b74b91be0291c71', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}, {'number': 26, 'created': '2020-02-05 06:08:58.000000000', 'files': ['adjutant/plugins.py', 'adjutant/notifications/__init__.py', 'adjutant/tasks/v1/models.py', 'adjutant/config/identity.py', 'test-requirements.txt', 'adjutant/actions/v1/tests/test_project_actions.py', 'adjutant/common/constants.py', 'adjutant/common/tests/fake_clients.py', 'adjutant/actions/v1/users.py', 'adjutant/api/v1/urls.py', 'adjutant/config/notification.py', 'adjutant/wsgi.py', 'adjutant/tasks/v1/base.py', 'adjutant/common/quota.py', 'adjutant/api/v1/tests/test_api_openstack.py', 'adjutant/api/v1/tests/test_api_taskview.py', 'adjutant/common/openstack_clients.py', 'adjutant/actions/v1/projects.py', 'adjutant/actions/utils.py', 'adjutant/commands/__init__.py', 'adjutant/tasks/v1/users.py', 'adjutant/actions/v1/tests/test_user_actions.py', 'adjutant/actions/v1/tests/test_misc_actions.py', 'adjutant/tasks/v1/utils.py', 'adjutant/api/v1/utils.py', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/config/workflow.py', 'adjutant/commands/management/__init__.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/models.py', 'adjutant/actions/v1/models.py', 'adjutant/tasks/v1/resources.py', 'adjutant/api/v1/base.py', 'adjutant/api/exception_handler.py', 'adjutant/actions/__init__.py', 'adjutant/config/__init__.py', 'releasenotes/notes/story-2004488-5468c184cc3a4691.yaml', 'adjutant/tasks/__init__.py', 'adjutant/test_settings.py', 'adjutant/notifications/utils.py', 'tox.ini', 'adjutant/startup/checks.py', 'adjutant/tasks/v1/projects.py', 'doc/source/plugins.rst', 'adjutant/common/tests/utils.py', 'adjutant/tasks/v1/manager.py', 'adjutant/commands/management/commands/__init__.py', 'adjutant/config/plugin.py', 'adjutant/tasks/models.py', 'adjutant/actions/v1/resources.py', 'adjutant/__init__.py', 'adjutant/notifications/tests/test_notifications.py', 'adjutant/config/quota.py', 'requirements.txt', 'adjutant/api/v1/openstack.py', 'adjutant/api/__init__.py', 'adjutant/commands/management/commands/exampleconfig.py', 'adjutant/actions/models.py', 'conf/conf.yaml', 'adjutant/common/tests/test_utils.py', 'doc/source/configuration.rst', 'adjutant/api/v1/tests/test_api_admin.py', 'etc/adjutant.yaml', 'adjutant/actions/v1/serializers.py', 'adjutant/notifications/models.py', 'adjutant/settings.py', 'adjutant/config/django.py', 'adjutant/actions/v1/tests/test_resource_actions.py', 'adjutant/config/api.py', 'api-ref/source/delegate-apis.inc', 'adjutant/common/user_store.py', 'adjutant/utils.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/c750fd6d6c0ab5390d66428069a4752dfaae1182', 'message': ""Rework Adjutant's config system to use CONFspirator\n\nCONFspirator was written to just specifically for Adjutant\nand it allows us to do oslo.config style config management\nand definition with nested groups and for yaml.\n\nThis is a major change that touches vast amounts of the\ncode simply because of how much the config touches.\n\nActions, Tasks, DelegateAPIs, and Notification Handlers\nnow can define config in their own class and this will\nbe added to the config.\n\nAll the other config is located in `adjutant.config`,\nwith everything now registed nicely on the config tree,\nand grouped in much saner ways.\n\nCONFspirator will also now allow Adjutant to be entirely\nconfigured via environment variables.\n\nWe have removed `modify_dict_settings` because that is\nnow entirely handled by CONFspirator's test utils.\n\n`NotificationEngine`s are now `NotificationHandler`s.\n\n`test_settings.py` is gone! And we now have better ways\nto define test settings and defaults.\n\nProject line length bumped to 88, and bugbear added to enforce\nthat instead.\n\nStory: 2004488\n\nChange-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424\n""}]",20,669804,c750fd6d6c0ab5390d66428069a4752dfaae1182,63,4,26,10420,,,0,"Rework Adjutant's config system to use CONFspirator

CONFspirator was written to just specifically for Adjutant
and it allows us to do oslo.config style config management
and definition with nested groups and for yaml.

This is a major change that touches vast amounts of the
code simply because of how much the config touches.

Actions, Tasks, DelegateAPIs, and Notification Handlers
now can define config in their own class and this will
be added to the config.

All the other config is located in `adjutant.config`,
with everything now registed nicely on the config tree,
and grouped in much saner ways.

CONFspirator will also now allow Adjutant to be entirely
configured via environment variables.

We have removed `modify_dict_settings` because that is
now entirely handled by CONFspirator's test utils.

`NotificationEngine`s are now `NotificationHandler`s.

`test_settings.py` is gone! And we now have better ways
to define test settings and defaults.

Project line length bumped to 88, and bugbear added to enforce
that instead.

Story: 2004488

Change-Id: I1d97d72d06b3a3a5df90355d3a4b4fe414381424
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/04/669804/8 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/common/config/fields.py', 'adjutant/tasks/v1/manager.py', 'adjutant/notifications/__init__.py', 'adjutant/tasks/v1/models.py', 'adjutant/config/identity.py', 'adjutant/tasks/models.py', 'adjutant/api/v1/urls.py', 'adjutant/api/__init__.py', 'adjutant/tasks/v1/base.py', 'adjutant/common/config/tests/__init__.py', 'adjutant/actions/models.py', 'adjutant/common/config/loader.py', 'conf/conf.yaml', 'adjutant/api/v1/utils.py', 'adjutant/config/workflow.py', 'adjutant/common/config/tests/test_configs.py', 'adjutant/api/v1/models.py', 'adjutant/actions/v1/models.py', 'adjutant/actions/v1/serializers.py', 'adjutant/notifications/models.py', 'adjutant/common/config/__init__.py', 'adjutant/common/config/exceptions.py', 'adjutant/common/config/groups.py', 'adjutant/settings.py', 'adjutant/actions/__init__.py', 'adjutant/config/__init__.py', 'adjutant/tasks/__init__.py', 'adjutant/common/config/types.py', 'adjutant/config/django.py', 'adjutant/config/api.py', 'tox.ini', 'adjutant/startup/checks.py']",32,38358261fd975b43ec3236856a645b10ba6a50fb,new/plugins_refactor," from adjutant.config import conf from adjutant import actions, api, tasks set(conf.api.active_delegate_apis) - set(api.DELEGATE_API_CLASSES.keys())) for task in tasks.TASK_CLASSES: task_class = tasks.TASK_CLASSES.get(task) configured_actions += task_class.default_actions configured_actions += conf.workflow.task_settings.get( task_class.task_type).additional_actions set(configured_actions) - set(actions.ACTION_CLASSES.keys()))","from django.conf import settings set(settings.ACTIVE_DELEGATE_APIS) - set(settings.DELEGATE_API_CLASSES.keys())) for task in settings.TASK_CLASSES: task_class = settings.TASK_CLASSES.get(task) try: configured_actions += settings.TASK_SETTINGS.get( task_class.task_type, {})['default_actions'] except KeyError: configured_actions += task_class.default_actions configured_actions += settings.TASK_SETTINGS.get( task_class.task_type, {}).get('additional_actions', []) set(configured_actions) - set(settings.ACTION_CLASSES.keys()))",2473,566
openstack%2Fadjutant~master~I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7,openstack/adjutant,master,I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7,Major refactor of the Adjutant task layer,MERGED,2019-06-21 05:36:02.000000000,2020-02-09 22:49:58.000000000,2020-02-09 22:48:39.000000000,"[{'_account_id': 10420}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2019-06-21 05:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/c57fcd5070a8ebd32aa64078e6f6025809e24578', 'message': '[WIP] Major refactor of the Adjutant task system\n\nMore detailed commit message to come\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n'}, {'number': 2, 'created': '2019-06-25 03:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/de2e82ba7fb8712a74c80f071923e954adaf129a', 'message': ""[WIP] Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 3, 'created': '2019-06-26 01:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d224167653eebea7a67db5a7ee0822c8cd12dfe8', 'message': ""[WIP] Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 4, 'created': '2019-07-02 00:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/62616107439bbd968c5c2c8304a4e5d43af4e50c', 'message': ""[WIP] Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 5, 'created': '2019-07-02 02:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/0454931266324122f5d0bf9837320bc1dfca38f0', 'message': ""[WIP] Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 6, 'created': '2019-07-02 03:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/9fead2f6680091cde37c11cfda204bb859cbbd25', 'message': ""[WIP] Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 7, 'created': '2019-07-02 03:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/18b4016cab2dd9ad5493a81647e93cff127b98e4', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 8, 'created': '2019-07-02 04:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ebb97cabc7fe9c998ffd296c2d0242878dc715bb', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 9, 'created': '2019-08-29 02:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/cbfadf4c9e5199fc79fb628c2dee98c81fa74d61', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 10, 'created': '2019-08-29 02:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ed8db76c6c8ac194640bad37bc03dddc6576df70', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 11, 'created': '2019-08-29 04:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/71ec148e4d7149ac74d9542ddd7fe9f12a55e961', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 12, 'created': '2019-09-04 01:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/02d3106174cc550bd48e9761450e698f2f38391c', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 13, 'created': '2019-09-04 01:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/a5bb8d2da1f9484d7ac1f00ccee9055ca4323555', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 14, 'created': '2019-09-13 06:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/13ba6619cae9ead190bd6a51c94f4cd3d2ea06d6', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 15, 'created': '2019-09-25 06:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/7c34c4b5dba79e46fda115403494bf89ca6ae1a5', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}, {'number': 16, 'created': '2019-12-04 01:25:23.000000000', 'files': ['adjutant/tasks/v1/models.py', 'adjutant/api/migrations/0005_auto_20190610_0209.py', 'adjutant/actions/v1/tests/test_project_actions.py', 'adjutant/tasks/v1/templates/initial.txt', 'adjutant/tasks/migrations/0002_auto_20190619_0613.py', 'adjutant/tasks/v1/__init__.py', 'adjutant/common/tests/fake_clients.py', 'adjutant/tasks/v1/templates/reset_user_password_completed.txt', 'adjutant/actions/v1/users.py', 'adjutant/tasks/v1/templates/create_project_and_user_initial.txt', 'adjutant/api/v1/urls.py', 'adjutant/tasks/v1/base.py', 'adjutant/tasks/v1/templates/update_user_email_started.txt', 'adjutant/api/models.py', 'adjutant/api/v1/tests/test_api_openstack.py', 'adjutant/api/v1/tests/test_api_taskview.py', 'adjutant/actions/v1/projects.py', 'adjutant/api/migrations/0006_auto_20190610_0209.py', 'adjutant/tasks/v1/users.py', 'adjutant/actions/v1/tests/test_user_actions.py', 'adjutant/tasks/v1/templates/token.txt', 'adjutant/tasks/v1/templates/reset_user_password_token.txt', 'adjutant/actions/v1/tests/test_misc_actions.py', 'adjutant/tasks/v1/utils.py', 'adjutant/api/v1/utils.py', 'api-ref/source/admin-api.inc', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/models.py', 'adjutant/actions/v1/models.py', 'adjutant/api/migrations/0007_auto_20190610_0209.py', 'adjutant/tasks/v1/resources.py', 'doc/source/features.rst', 'adjutant/api/v1/base.py', 'adjutant/api/v1/templates/initial_password_token.txt', 'adjutant/api/exception_handler.py', 'adjutant/api/migrations/0008_auto_20190610_0209.py', 'doc/source/development.rst', 'adjutant/tasks/__init__.py', 'adjutant/tasks/migrations/0001_initial.py', 'adjutant/test_settings.py', 'tox.ini', 'adjutant/startup/checks.py', 'adjutant/tasks/v1/projects.py', 'doc/source/plugins.rst', 'adjutant/tasks/v1/manager.py', 'adjutant/tasks/v1/templates/create_project_and_user_completed.txt', 'adjutant/exceptions.py', 'adjutant/api/v1/views.py', 'adjutant/tasks/v1/templates/completed.txt', 'adjutant/tasks/v1/templates/update_user_email_token.txt', 'adjutant/tasks/models.py', 'adjutant/actions/v1/resources.py', 'adjutant/tasks/v1/templates/create_project_and_user_token.txt', 'adjutant/tasks/v1/templates/update_user_email_completed.txt', 'adjutant/notifications/tests/test_notifications.py', 'releasenotes/notes/story-2004489-857f37e4f6a0fe5c.yaml', 'adjutant/api/v1/openstack.py', 'adjutant/api/v1/templates/initial_password_completed.txt', 'adjutant/actions/models.py', 'conf/conf.yaml', 'adjutant/common/tests/test_utils.py', 'doc/source/configuration.rst', 'adjutant/api/v1/tests/test_api_admin.py', 'adjutant/notifications/templates/notification.txt', 'adjutant/tasks/v1/templates/update_quota_completed.txt', 'adjutant/notifications/models.py', 'adjutant/tasks/v1/templates/invite_user_to_project_token.txt', 'adjutant/tasks/v1/app.py', 'doc/source/index.rst', 'adjutant/settings.py', 'adjutant/tasks/v1/templates/invite_user_to_project_completed.txt', 'adjutant/actions/v1/tests/test_resource_actions.py', 'api-ref/source/v1-api-reference.rst', 'api-ref/source/delegate-apis.inc', 'adjutant/actions/migrations/0004_auto_20190610_0209.py', 'adjutant/common/user_store.py', 'adjutant/tasks/migrations/__init__.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/c9038dfe69cba2a96b4c3bc2767c2664fe524113', 'message': ""Major refactor of the Adjutant task layer\n\nThis patch splits out the Task layer and the API\nlayer. This will better allow us to build more logic\ninto the task layer, and better allow the APIs to be\nmore flexible.\n\nThis sets the foundations for future additions to task\ndefinitions, async task processing, and an overhaul of\nthe config system for the service.\n\n- Task model and logic moved to 'tasks' app\n- TaskViews are now DelegateAPIs\n- stage email templates have been moved to the tasks app\n- better define Task model indexes\n- rename task/action stage pre_approve to prepare\n- rename task/action stage post_approve to approve\n- Added new TaskManager class for handling tasks\n- Removed redundant ip_address value on Task model\n- Remove redundant UserSetPassword view\n- Added custom exception handling for the API\n- Add new exception types\n- Simplified error responses by raising exceptions\n- standardized task API response codes on 202 unless\n  task is completed\n- Use 503 Service Unavailable for service issues\n- Various task_types changed:\n    - create_project to create_project_and_user\n    - invite_user to invite_user_to_project\n    - reset_password to reset_user_password\n    - edit_user to edit_user_roles\n    - update_email to update_user_email\n- reissuing task token now deletes old task tokens\n\nStory: 2004489\n\nChange-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7\n""}]",22,666774,c9038dfe69cba2a96b4c3bc2767c2664fe524113,47,4,16,10420,,,0,"Major refactor of the Adjutant task layer

This patch splits out the Task layer and the API
layer. This will better allow us to build more logic
into the task layer, and better allow the APIs to be
more flexible.

This sets the foundations for future additions to task
definitions, async task processing, and an overhaul of
the config system for the service.

- Task model and logic moved to 'tasks' app
- TaskViews are now DelegateAPIs
- stage email templates have been moved to the tasks app
- better define Task model indexes
- rename task/action stage pre_approve to prepare
- rename task/action stage post_approve to approve
- Added new TaskManager class for handling tasks
- Removed redundant ip_address value on Task model
- Remove redundant UserSetPassword view
- Added custom exception handling for the API
- Add new exception types
- Simplified error responses by raising exceptions
- standardized task API response codes on 202 unless
  task is completed
- Use 503 Service Unavailable for service issues
- Various task_types changed:
    - create_project to create_project_and_user
    - invite_user to invite_user_to_project
    - reset_password to reset_user_password
    - edit_user to edit_user_roles
    - update_email to update_user_email
- reissuing task token now deletes old task tokens

Story: 2004489

Change-Id: I33381c1c65b28b69f6ffeb3d73b50be95ee30ba7
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/74/666774/16 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/tasks/v1/models.py', 'adjutant/api/migrations/0005_auto_20190610_0209.py', 'adjutant/actions/v1/tests/test_project_actions.py', 'adjutant/tasks/migrations/0002_auto_20190619_0613.py', 'adjutant/tasks/v1/__init__.py', 'adjutant/actions/v1/users.py', 'adjutant/tasks/v1/base.py', 'adjutant/api/models.py', 'adjutant/api/v1/tests/test_api_openstack.py', 'adjutant/api/v1/tests/test_api_taskview.py', 'adjutant/actions/v1/projects.py', 'adjutant/api/migrations/0006_auto_20190610_0209.py', 'adjutant/tasks/v1/users.py', 'adjutant/actions/v1/tests/test_user_actions.py', 'adjutant/actions/v1/tests/test_misc_actions.py', 'adjutant/tasks/v1/utils.py', 'adjutant/api/v1/utils.py', 'adjutant/actions/v1/base.py', 'adjutant/api/v1/tasks.py', 'adjutant/actions/v1/misc.py', 'adjutant/api/v1/models.py', 'adjutant/api/migrations/0007_auto_20190610_0209.py', 'adjutant/tasks/v1/resources.py', 'adjutant/api/exception_handler.py', 'adjutant/api/migrations/0008_auto_20190610_0209.py', 'adjutant/tasks/__init__.py', 'adjutant/tasks/migrations/0001_initial.py', 'adjutant/test_settings.py', 'tox.ini', 'adjutant/startup/checks.py', 'adjutant/tasks/v1/projects.py', 'adjutant/tasks/v1/manager.py', 'adjutant/exceptions.py', 'adjutant/api/v1/views.py', 'adjutant/tasks/models.py', 'adjutant/actions/v1/resources.py', 'adjutant/notifications/tests/test_notifications.py', 'adjutant/api/v1/openstack.py', 'adjutant/actions/models.py', 'conf/conf.yaml', 'adjutant/common/tests/test_utils.py', 'adjutant/api/v1/tests/test_api_admin.py', 'adjutant/notifications/templates/notification.txt', 'adjutant/tasks/v1/app.py', 'adjutant/settings.py', 'adjutant/actions/v1/tests/test_resource_actions.py', 'adjutant/actions/migrations/0004_auto_20190610_0209.py', 'adjutant/tasks/migrations/__init__.py']",48,c57fcd5070a8ebd32aa64078e6f6025809e24578,new/plugins_refactor,,,1850,1630
openstack%2Fneutron~stable%2Frocky~I454efcb226745c585935d5bd1b3d378f69a55ca2,openstack/neutron,stable/rocky,I454efcb226745c585935d5bd1b3d378f69a55ca2,Always set ovs bridge name in vif:binding-details,MERGED,2020-01-02 09:30:42.000000000,2020-02-09 22:05:29.000000000,2020-02-09 22:05:28.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24438}, {'_account_id': 26622}, {'_account_id': 31210}]","[{'number': 1, 'created': '2020-01-02 09:30:42.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/tests/functional/services/trunk/test_plugin.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/tests/common/helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d286f9ea1ed4f6ed90e557f9584b553ef4272e96', 'message': 'Always set ovs bridge name in vif:binding-details\n\n- This change updates _set_bridge_name to set\n  the bridge name field in the vif binding details.\n- This change adds the integration_bridge name\n  to the agent configuration report.\n\nCloses-Bug: #1788009\nCloses-Bug: #1856152\n\n(cherry picked from commit 995744c576503b1de90c922dbecf690ad49f244f)\nChange-Id: I454efcb226745c585935d5bd1b3d378f69a55ca2\n'}]",0,700883,d286f9ea1ed4f6ed90e557f9584b553ef4272e96,29,11,1,31210,,,0,"Always set ovs bridge name in vif:binding-details

- This change updates _set_bridge_name to set
  the bridge name field in the vif binding details.
- This change adds the integration_bridge name
  to the agent configuration report.

Closes-Bug: #1788009
Closes-Bug: #1856152

(cherry picked from commit 995744c576503b1de90c922dbecf690ad49f244f)
Change-Id: I454efcb226745c585935d5bd1b3d378f69a55ca2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/700883/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/trunk/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/tests/common/helpers.py']",5,d286f9ea1ed4f6ed90e557f9584b553ef4272e96,bug/1856152," device_mappings=None, start_flag=True, integration_bridge=None): if integration_bridge is not None: agent['configurations']['integration_bridge'] = integration_bridge l2pop_network_types=None, plugin=None, start_flag=True, integration_bridge=None): start_flag=start_flag, integration_bridge=integration_bridge)"," device_mappings=None, start_flag=True): l2pop_network_types=None, plugin=None, start_flag=True): start_flag=start_flag)",66,10
openstack%2Fmagnum~master~I970c1b91254d2a375192420a9169f3a629c56ce7,openstack/magnum,master,I970c1b91254d2a375192420a9169f3a629c56ce7,Support verifying the digest for hyperkube image,MERGED,2019-12-09 03:35:48.000000000,2020-02-09 21:15:01.000000000,2020-01-16 04:22:21.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-09 03:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a798dcd426a4e9cdae0131209384aa251c54c789', 'message': '[WIP] Support verifying the sha256 for hyperkube image\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n'}, {'number': 2, 'created': '2019-12-09 04:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d1393ad27c4e69f7f9607dce988bd8a723e9c77f', 'message': ""Support verifying the sha256 for hyperkube image\n\nGiven we're using public container registry as the default registry,\nso it would be nice to have a verification for the image's digest\nbased on hash sha256. Kubernetes already supports that so user can\njust use format like @sha256:xxx for those addons' tags. This patch\nintroduces the support for hyperkube based on podman and fedora coreos\ndriver.\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n""}, {'number': 3, 'created': '2019-12-09 04:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/09c2a487bf4bf41b023641397c0d0176a7c74027', 'message': ""Support verifying the sha256 for hyperkube image\n\nGiven we're using public container registry as the default registry,\nso it would be nice to have a verification for the image's digest\nbased on hash sha256. Kubernetes already supports that so user can\njust use format like @sha256:xxx for those addons' tags. This patch\nintroduces the support for hyperkube based on podman and fedora coreos\ndriver.\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n""}, {'number': 4, 'created': '2019-12-11 01:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/af6ddbbd1b717c4aa6869502c37060171da2ca63', 'message': ""Support verifying the digest for hyperkube image\n\nGiven we're using public container registry as the default registry,\nso it would be nice to have a verification for the image's digest.\nKubernetes already supports that so user can just use format like\n@sha256:xxx for those addons' tags. This patch introduces the support\nfor hyperkube based on podman and fedora coreos driver.\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n""}, {'number': 5, 'created': '2019-12-19 09:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/594fe62ae84ed2ee5e45b5f28267c377175bdb7c', 'message': ""Support verifying the digest for hyperkube image\n\nGiven we're using public container registry as the default registry,\nso it would be nice to have a verification for the image's digest.\nKubernetes already supports that so user can just use format like\n@sha256:xxx for those addons' tags. This patch introduces the support\nfor hyperkube based on podman and fedora coreos driver.\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n""}, {'number': 6, 'created': '2020-01-07 01:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0915f68f1ca236f2db294082c17966ef0c7548f4', 'message': ""Support verifying the digest for hyperkube image\n\nGiven we're using public container registry as the default registry,\nso it would be nice to have a verification for the image's digest.\nKubernetes already supports that so user can just use format like\n@sha256:xxx for those addons' tags. This patch introduces the support\nfor hyperkube based on podman and fedora coreos driver.\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n""}, {'number': 7, 'created': '2020-01-08 02:06:05.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/support-sha256-verification-for-hyperkube-fb2292c6a8bb00ba.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a943756aeab2a6f54485da39be0d986660cd7db0', 'message': ""Support verifying the digest for hyperkube image\n\nGiven we're using public container registry as the default registry,\nso it would be nice to have a verification for the image's digest.\nKubernetes already supports that so user can just use format like\n@sha256:xxx for those addons' tags. This patch introduces the support\nfor hyperkube based on podman and fedora coreos driver.\n\nTask: 37776\nStory: 2007001\n\nChange-Id: I970c1b91254d2a375192420a9169f3a629c56ce7\n""}]",6,697946,a943756aeab2a6f54485da39be0d986660cd7db0,35,4,7,6484,,,0,"Support verifying the digest for hyperkube image

Given we're using public container registry as the default registry,
so it would be nice to have a verification for the image's digest.
Kubernetes already supports that so user can just use format like
@sha256:xxx for those addons' tags. This patch introduces the support
for hyperkube based on podman and fedora coreos driver.

Task: 37776
Story: 2007001

Change-Id: I970c1b91254d2a375192420a9169f3a629c56ce7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/46/697946/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']",6,a798dcd426a4e9cdae0131209384aa251c54c789,image-digest," KUBE_TAG_SHA256=""$KUBE_TAG_SHA256""",,27,1
openstack%2Frequirements~master~I92267e2d68d888bab32a304a7cf34c5d71f6394f,openstack/requirements,master,I92267e2d68d888bab32a304a7cf34c5d71f6394f,Add py2 cap for reno,MERGED,2020-02-08 17:37:12.000000000,2020-02-09 19:47:01.000000000,2020-02-09 19:44:15.000000000,"[{'_account_id': 6469}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-08 17:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ba13f55f8b16b9ed416eddc6ab172f252356ec7', 'message': 'Add py2 cap for reno\n\nChange-Id: I92267e2d68d888bab32a304a7cf34c5d71f6394f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-09 15:37:58.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/663c15491149f69cf39fa61cbea9f3de53a3049f', 'message': 'Add py2 cap for reno\n\nChange-Id: I92267e2d68d888bab32a304a7cf34c5d71f6394f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706671,663c15491149f69cf39fa61cbea9f3de53a3049f,11,3,2,11904,,,0,"Add py2 cap for reno

Change-Id: I92267e2d68d888bab32a304a7cf34c5d71f6394f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/706671/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9ba13f55f8b16b9ed416eddc6ab172f252356ec7,reno,reno===2.11.3;python_version=='2.7' reno===3.0.0;python_version=='3.6' reno===3.0.0;python_version=='3.7',reno===3.0.0,3,1
openstack%2Frequirements~master~Ife25b91b603ffa42f32a6c77ed4289f354d3b14c,openstack/requirements,master,Ife25b91b603ffa42f32a6c77ed4289f354d3b14c,cap oslo.concurrency for python2.7,MERGED,2020-02-09 03:20:11.000000000,2020-02-09 19:45:45.000000000,2020-02-09 19:44:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-02-09 03:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0053618e910b2e101aafced6ddd6b9c6aaf48f10', 'message': 'cap oslo.concurrency for python2.7\n\nlooks like from this commit https://githuh.com/openstack/oslo.concurrency/commit/cfc27ef4972a99c5787e537b0f85067829517c4c\npython2.7 support is dropped.\n\nChange-Id: Ife25b91b603ffa42f32a6c77ed4289f354d3b14c\n'}, {'number': 2, 'created': '2020-02-09 05:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/932862fc70f20b0cb3d73975980f3a56413ed043', 'message': 'cap oslo.concurrency for python2.7\n\nlooks like from this commit https://githuh.com/openstack/oslo.concurrency/commit/cfc27ef4972a99c5787e537b0f85067829517c4c\npython2.7 support is dropped.\n\nChange-Id: Ife25b91b603ffa42f32a6c77ed4289f354d3b14c\n'}, {'number': 3, 'created': '2020-02-09 15:39:18.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e86eea7c78e56b4ddd0dda647fd1c29a977b3c2', 'message': 'cap oslo.concurrency for python2.7\n\nlooks like from this commit https://githuh.com/openstack/oslo.concurrency/commit/cfc27ef4972a99c5787e537b0f85067829517c4c\npython2.7 support is dropped.\n\nChange-Id: Ife25b91b603ffa42f32a6c77ed4289f354d3b14c\n'}]",0,706692,4e86eea7c78e56b4ddd0dda647fd1c29a977b3c2,14,4,3,29071,,,0,"cap oslo.concurrency for python2.7

looks like from this commit https://githuh.com/openstack/oslo.concurrency/commit/cfc27ef4972a99c5787e537b0f85067829517c4c
python2.7 support is dropped.

Change-Id: Ife25b91b603ffa42f32a6c77ed4289f354d3b14c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/706692/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0053618e910b2e101aafced6ddd6b9c6aaf48f10,bug/1862439,oslo.concurrency===3.31.0;python_version='2.7' oslo.concurrency===4.0.0;python_version='3.4' oslo.concurrency===4.0.0;python_version='3.5' oslo.concurrency===4.0.0;python_version='3.6' oslo.concurrency===4.0.0;python_version='3.7',oslo.concurrency===4.0.0,5,1
openstack%2Fdesignate~stable%2Fstein~I03b59b3f227dcbe64461650e2491d1bc4f1eef46,openstack/designate,stable/stein,I03b59b3f227dcbe64461650e2491d1bc4f1eef46,Use Tempest 'all' tox env,ABANDONED,2020-02-07 00:14:05.000000000,2020-02-09 18:51:19.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 00:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cabdf3c3f2ec86b38d6047a1d19080acc372c069', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: I03b59b3f227dcbe64461650e2491d1bc4f1eef46\nCloses-Bug: 1862240\n""}, {'number': 2, 'created': '2020-02-07 08:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/79ce00c2432082f7220d03d8b06fdc3f72c5383c', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}, {'number': 3, 'created': '2020-02-07 09:27:40.000000000', 'files': ['playbooks/legacy/grenade-devstack-designate-pdns4/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/8aca87aaf6272fb26c5472acc2d7f38fda909382', 'message': ""Use Tempest 'all' tox env\n\nTempest recently moved tox default\nto py3 including all-plugin env.\n-https://review.opendev.org/#/c/703011/\n\nThis will fail the py2 jobs which are using\nall-plugin tox env. Because tox all-plugin\nenv var enable the sitepackages=True. Py2 jobs\ninstall the tempest plugins on py2 and all-plugin\ntox try to find the installed plugins on py3 which\ncause no test to run and fail the job.\n\ntox all-plugin has been deprecated since long and not\nsupposed to use for plugins who already in migrated to\nseparate repo in queens cycle.\n\nUsing tox 'all' env to fix the issue.\n\nChange-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98\nCloses-Bug: 1862240\n""}]",0,706415,8aca87aaf6272fb26c5472acc2d7f38fda909382,17,4,3,8556,,,0,"Use Tempest 'all' tox env

Tempest recently moved tox default
to py3 including all-plugin env.
-https://review.opendev.org/#/c/703011/

This will fail the py2 jobs which are using
all-plugin tox env. Because tox all-plugin
env var enable the sitepackages=True. Py2 jobs
install the tempest plugins on py2 and all-plugin
tox try to find the installed plugins on py3 which
cause no test to run and fail the job.

tox all-plugin has been deprecated since long and not
supposed to use for plugins who already in migrated to
separate repo in queens cycle.

Using tox 'all' env to fix the issue.

Change-Id: Ib1a2be90c0b3dbacc6daf52f0fc6f326ab47fc98
Closes-Bug: 1862240
",git fetch https://review.opendev.org/openstack/designate refs/changes/15/706415/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cabdf3c3f2ec86b38d6047a1d19080acc372c069,bug/1862240, tox_envlist: all, tox_envlist: all-plugin,1,1
openstack%2Fsushy-cli~master~I255c65d2c03b2c446c6aedd36665852b7543dcc8,openstack/sushy-cli,master,I255c65d2c03b2c446c6aedd36665852b7543dcc8,Add CI hooks and reno,MERGED,2020-01-24 10:13:18.000000000,2020-02-09 18:35:23.000000000,2020-02-09 18:33:15.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-24 10:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/2f61a571080555e3eff7341d6016aa6d930d0b06', 'message': 'Add CI hooks and reno\n\nChange-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8\n'}, {'number': 2, 'created': '2020-01-24 10:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/1a898ecf08ff501fa041a0ae9c6c61765aaf0fde', 'message': 'Add CI hooks and reno\n\nChange-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8\n'}, {'number': 3, 'created': '2020-01-24 16:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/72f95bfb66a3c3257752541ff8c1d0038837c726', 'message': 'Add CI hooks and reno\n\nChange-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8\n'}, {'number': 4, 'created': '2020-01-24 17:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/1fea1d9350645d6418aeea53bdd2ef5dd7699a45', 'message': 'Add CI hooks and reno\n\nChange-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8\n'}, {'number': 5, 'created': '2020-01-28 05:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/8c11c4a5df20194d33c3957d33b62492af0d8dc1', 'message': 'Add CI hooks and reno\n\nChange-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8\n'}, {'number': 6, 'created': '2020-01-28 07:20:45.000000000', 'files': ['releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', 'releasenotes/source/_static/.placeholder', 'zuul.d/project.yaml', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/7f85ad0ac8608c6745e42097b38f907f3f26f6d8', 'message': 'Add CI hooks and reno\n\nChange-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8\n'}]",1,704126,7f85ad0ac8608c6745e42097b38f907f3f26f6d8,18,3,6,26340,,,0,"Add CI hooks and reno

Change-Id: I255c65d2c03b2c446c6aedd36665852b7543dcc8
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/26/704126/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', 'releasenotes/source/_static/.placeholder', 'zuul.d/project.yaml', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py']",8,2f61a571080555e3eff7341d6016aa6d930d0b06,02-add-zuul-and-reno,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Glance Release Notes documentation build configuration file, created by # sphinx-quickstart on Tue Nov 3 17:40:50 2015. # # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'sushy-cli Release Notes' copyright = u'2020, OpenStack Foundation' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'SushyCliReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'SushyCliReleaseNotes.tex', u'Sushy CLI Release Notes Documentation', u'Ironic Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'sushyclireleasenotes', u'Sushy CLI Release Notes Documentation', [u'Ironic Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'SushyCliReleaseNotes', u'Sushy CLI Release Notes Documentation', u'Ironic Developers', 'SushyCliReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,303,0
openstack%2Fsushy-cli~master~I851efb2b7166db16df77617d41c1771562bcc9a2,openstack/sushy-cli,master,I851efb2b7166db16df77617d41c1771562bcc9a2,Rearrange project layout,MERGED,2020-01-23 18:06:19.000000000,2020-02-09 18:25:41.000000000,2020-02-09 18:25:40.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 31182}]","[{'number': 1, 'created': '2020-01-23 18:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/5e577238e84c788991a216e571fd649c4b82107a', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 2, 'created': '2020-01-24 09:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/cd24766254303f91423dc4f0d562fb73f7d4280b', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 3, 'created': '2020-01-24 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/89f53e245a3bffb793d728ad4bf1b520252caba3', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nStory: 2006608\nTask: 36776\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 4, 'created': '2020-01-24 10:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/7ed0ee37c4bf33489a4fb655a921176377a1ea7d', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nStory: 2006608\nTask: 36776\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 5, 'created': '2020-01-24 16:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/7266c7440aadcd82928fc41bcfff4af56b3070a3', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nStory: 2006608\nTask: 36776\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 6, 'created': '2020-01-24 17:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/12fd08eebc4704c4deb01c85f133a68fb65f02a7', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nStory: 2006608\nTask: 36776\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 7, 'created': '2020-01-28 05:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/e122a6f47420b85be022397fc7d973a517b2ded5', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nStory: 2006608\nTask: 36776\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}, {'number': 8, 'created': '2020-01-28 07:20:32.000000000', 'files': ['docs/authors.rst', 'sushycli/power_reset.py', 'doc/source/install/index.rst', 'test-requirements.txt', 'sushycli/cmd/__init__.py', 'docs/conf.py', 'docs/index.rst', 'setup.py', 'sushycli/tests/__init__.py', 'sushycli/tests/unit/__init__.py', 'CONTRIBUTING.rst', 'AUTHORS.rst', 'doc/source/contributor/index.rst', 'HISTORY.rst', 'sushycli/tests/unit/cmd/__init__.py', 'sushycli/tests/unit/cmd/test_sushycli.py', 'docs/readme.rst', 'sushycli/sushycli.py', 'docs/contributing.rst', 'requirements_dev.txt', '.editorconfig', 'LICENSE', 'sushycli/tests/unit/base.py', 'doc/source/reference/usage.rst', '.stestr.conf', 'docs/history.rst', 'docs/make.bat', 'sushycli/cmd/sushycli.py', 'doc/source/conf.py', 'lower-constraints.txt', 'tests/test_sushycli.py', 'docs/installation.rst', '.github/ISSUE_TEMPLATE.md', 'MANIFEST.in', 'doc/source/Makefile', 'doc/source/index.rst', 'sushycli/main.py', 'sushycli/version.py', 'setup.cfg', 'tox.ini', 'tests/__init__.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/ef7e9b5001415a881cc723d42133b86b49a59207', 'message': ""Rearrange project layout\n\nChanged project layout to be more in-line with the existing\nOpenStack customs.\n\nSpecifically, the changes include:\n\n* docs moved under doc/source/ and build tox target added\n* licensing note added in all source files concistently\n* setuptool harness changed to run along with pbr\n* some manually added text files removed in favor of pbr-generated\n* stest harness added\n* test-requirements.txt updated accordingly\n* existing code PEP8'ed for tests to pass\n* GitHub legacy removed\n* Py2 support undeclared\n\nStory: 2006608\nTask: 36776\nChange-Id: I851efb2b7166db16df77617d41c1771562bcc9a2\n""}]",20,704048,ef7e9b5001415a881cc723d42133b86b49a59207,33,5,8,26340,,,0,"Rearrange project layout

Changed project layout to be more in-line with the existing
OpenStack customs.

Specifically, the changes include:

* docs moved under doc/source/ and build tox target added
* licensing note added in all source files concistently
* setuptool harness changed to run along with pbr
* some manually added text files removed in favor of pbr-generated
* stest harness added
* test-requirements.txt updated accordingly
* existing code PEP8'ed for tests to pass
* GitHub legacy removed
* Py2 support undeclared

Story: 2006608
Task: 36776
Change-Id: I851efb2b7166db16df77617d41c1771562bcc9a2
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/48/704048/8 && git format-patch -1 --stdout FETCH_HEAD,"['docs/authors.rst', 'sushycli/power_reset.py', 'doc/source/install/index.rst', 'test-requirements.txt', 'sushycli/cmd/__init__.py', 'docs/conf.py', 'docs/index.rst', 'setup.py', 'sushycli/tests/__init__.py', 'sushycli/tests/unit/__init__.py', 'CONTRIBUTING.rst', 'AUTHORS.rst', 'doc/source/contributor/index.rst', 'HISTORY.rst', 'sushycli/tests/unit/cmd/__init__.py', 'sushycli/tests/unit/cmd/test_sushycli.py', 'docs/readme.rst', 'sushycli/sushycli.py', 'docs/contributing.rst', '.editorconfig', 'LICENSE', 'sushycli/tests/unit/base.py', 'doc/source/reference/usage.rst', '.stestr.conf', 'docs/history.rst', 'docs/make.bat', 'sushycli/cmd/sushycli.py', 'doc/source/conf.py', 'tests/test_sushycli.py', 'docs/installation.rst', '.github/ISSUE_TEMPLATE.md', 'MANIFEST.in', 'doc/source/Makefile', 'doc/source/index.rst', 'sushycli/main.py', 'sushycli/version.py', 'setup.cfg', 'tox.ini', 'tests/__init__.py', 'HACKING.rst']",40,5e577238e84c788991a216e571fd649c4b82107a,01-rearrange-layout,Sushy CLI Style Commandments ============================ Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/ ,,567,648
openstack%2Fsushy-cli~master~I3079a9e9e6d21d92ff1b9030d36782a673a69993,openstack/sushy-cli,master,I3079a9e9e6d21d92ff1b9030d36782a673a69993,Ignore .stestr dir,MERGED,2020-02-06 12:52:00.000000000,2020-02-09 18:23:10.000000000,2020-02-09 18:23:10.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 12:52:00.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/0c6c9ef68142b964917f6138b1a0a5515ac72e5c', 'message': 'Ignore .stestr dir\n\nWe should ignore .stestr dir, so adding it to .gitignore\n\nChange-Id: I3079a9e9e6d21d92ff1b9030d36782a673a69993\n'}]",0,706259,0c6c9ef68142b964917f6138b1a0a5515ac72e5c,6,2,1,23851,,,0,"Ignore .stestr dir

We should ignore .stestr dir, so adding it to .gitignore

Change-Id: I3079a9e9e6d21d92ff1b9030d36782a673a69993
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/59/706259/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,0c6c9ef68142b964917f6138b1a0a5515ac72e5c,no-stestr,.stestr/.vscode/ ,.vscode/,2,1
openstack%2Ftripleo-quickstart-extras~master~I888431e5d60591acb725a3e18ac133fa0cba496d,openstack/tripleo-quickstart-extras,master,I888431e5d60591acb725a3e18ac133fa0cba496d,"Revert ""update master skip list, nova issues and timeout""",MERGED,2020-01-30 11:15:47.000000000,2020-02-09 17:05:30.000000000,2020-02-09 17:05:30.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 19619}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-30 11:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b285142281489c02c51bdb48debc4b9d0c220f51', 'message': 'Revert ""update master skip list, nova issues and timeout""\n\n# cinder-fix on tht \nDepends-On: https://review.opendev.org/#/c/704805/\n\n# ssh known host fix on tripleo-ansible\nDepends-On: https://review.opendev.org/#/c/704880/\n\n# Adding tripleo_role_networks on tripleo-common\nDepends-On: https://review.opendev.org/#/c/704919/\n\nCloses-Bug: #1861393\nCloses-Bug: #1861296\n\nThis reverts commit 4a1526f8d48d5da7f812a70e7d2d407f7650380b.\n\nChange-Id: I888431e5d60591acb725a3e18ac133fa0cba496d\n'}, {'number': 2, 'created': '2020-02-03 09:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2a00ad47b1f3dde92aa3aa59593277ac55eed7a0', 'message': 'Revert ""update master skip list, nova issues and timeout""\n\n# cinder-fix on tht \nDepends-On: https://review.opendev.org/#/c/704805/\n\n# ssh known host fix on tripleo-ansible\nDepends-On: https://review.opendev.org/#/c/704880/\n\n# Adding tripleo_role_networks on tripleo-common\nDepends-On: https://review.opendev.org/#/c/704919/\n\nCloses-Bug: #1861393\nCloses-Bug: #1861296\n\nThis reverts commit 4a1526f8d48d5da7f812a70e7d2d407f7650380b.\n\nChange-Id: I888431e5d60591acb725a3e18ac133fa0cba496d\n'}, {'number': 3, 'created': '2020-02-03 09:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/17c83336b1748312b3fce8704a34b59ec7c91c56', 'message': 'Revert ""update master skip list, nova issues and timeout""\n\n# cinder-fix on tht\nDepends-On: https://review.opendev.org/#/c/704805/\n\n# ssh known host fix on tripleo-ansible\nDepends-On: https://review.opendev.org/#/c/704880/\n\n# Adding tripleo_role_networks on tripleo-common\nDepends-On: https://review.opendev.org/#/c/704919/\n\nCloses-Bug: #1861393\nCloses-Bug: #1861296\n\nThis reverts commit 4a1526f8d48d5da7f812a70e7d2d407f7650380b.\n\nChange-Id: I888431e5d60591acb725a3e18ac133fa0cba496d\n'}, {'number': 4, 'created': '2020-02-05 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/adfaac1bde27972073ad0d6f3f2b07d26eb6d22b', 'message': 'Revert ""update master skip list, nova issues and timeout""\n\n# cinder-fix on tht\nDepends-On: https://review.opendev.org/#/c/704805/\n\n# ssh known host fix on tripleo-ansible\nDepends-On: https://review.opendev.org/#/c/704880/\n\n# Adding tripleo_role_networks on tripleo-common\nDepends-On: https://review.opendev.org/#/c/704919/\n\nCloses-Bug: #1861393\nCloses-Bug: #1861296\n\nThis reverts commit 4a1526f8d48d5da7f812a70e7d2d407f7650380b.\n\nChange-Id: I888431e5d60591acb725a3e18ac133fa0cba496d\n'}, {'number': 5, 'created': '2020-02-09 11:12:49.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a49edd82c483fa01777803f5a1f4c1d9a5e7bec3', 'message': 'Revert ""update master skip list, nova issues and timeout""\n\n# cinder-fix on tht\nDepends-On: https://review.opendev.org/#/c/704805/\n\n# ssh known host fix on tripleo-ansible\nDepends-On: https://review.opendev.org/#/c/704880/\n\n# Adding tripleo_role_networks on tripleo-common\nDepends-On: https://review.opendev.org/#/c/704919/\n\nCloses-Bug: #1861393\nCloses-Bug: #1861296\n\nThis reverts commit 4a1526f8d48d5da7f812a70e7d2d407f7650380b.\n\nChange-Id: I888431e5d60591acb725a3e18ac133fa0cba496d\n'}]",3,704962,a49edd82c483fa01777803f5a1f4c1d9a5e7bec3,34,10,5,12393,,,0,"Revert ""update master skip list, nova issues and timeout""

# cinder-fix on tht
Depends-On: https://review.opendev.org/#/c/704805/

# ssh known host fix on tripleo-ansible
Depends-On: https://review.opendev.org/#/c/704880/

# Adding tripleo_role_networks on tripleo-common
Depends-On: https://review.opendev.org/#/c/704919/

Closes-Bug: #1861393
Closes-Bug: #1861296

This reverts commit 4a1526f8d48d5da7f812a70e7d2d407f7650380b.

Change-Id: I888431e5d60591acb725a3e18ac133fa0cba496d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/62/704962/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_master.yml'],1,b285142281489c02c51bdb48debc4b9d0c220f51,,, - test: 'tempest.api.compute.admin.test_migrations.MigrationsAdminTest.test_cold_migration' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.admin.test_migrations.MigrationsAdminTest.test_list_migrations_in_flavor_resize_situation' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.admin.test_migrations.MigrationsAdminTest.test_resize_server_revert_deleted_flavor' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_create_server.ServersTestBootFromVolume' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.admin.test_migrations.MigrationsAdminTest.test_revert_cold_migration' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_attached_volume' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_verify_resize_state' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest.test_tagged_boot_devices' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_list_get_volume_attachments' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest_v242.test_tagged_boot_devices' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest_v242' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_resize_server_from_auto_to_manual' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_resize_server_from_manual_to_auto' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_server_confirm' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_server_confirm_from_stopped' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_server_revert' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_shelve_instance.TestShelveInstance.test_shelve_volume_backed_instance' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_server_revert_with_volume_attached' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_volume_backed_server_confirm' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_image_defined_boot_from_volume' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_delete_attached_volume' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resize' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662' - test: 'tempest.scenario.test_stamp_pattern.TestStampPattern.test_stamp_pattern' reason: 'timeout' lp: 'https://bugs.launchpad.net/tripleo/+bug/1858662',0,123
openstack%2Fzun~stable%2Frocky~I6182926db0c314338c03ed02b1d2f28b057f0eb3,openstack/zun,stable/rocky,I6182926db0c314338c03ed02b1d2f28b057f0eb3,Replace tox_envlist 'all-plugin' with 'all',MERGED,2020-02-06 04:35:23.000000000,2020-02-09 16:45:50.000000000,2020-02-09 16:45:50.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 04:35:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/1be72f5885b67155fbb923ec7a37615a773c828b', 'message': ""Replace tox_envlist 'all-plugin' with 'all'\n\nThe tox envlist 'all-plugin' is deprecated in tempest\n\nChange-Id: I6182926db0c314338c03ed02b1d2f28b057f0eb3\n(cherry picked from commit 67b1ec978ff4365fc0d00eb6fe66a796e0fe15cf)\n(cherry picked from commit 25e566361ee654d9ebfb086341ff5c20ac84823a)\n(cherry picked from commit 3f4ea79e2d9fa56b9d1ae3474be19ebab5a52d68)\n""}]",0,706177,1be72f5885b67155fbb923ec7a37615a773c828b,12,2,1,11536,,,0,"Replace tox_envlist 'all-plugin' with 'all'

The tox envlist 'all-plugin' is deprecated in tempest

Change-Id: I6182926db0c314338c03ed02b1d2f28b057f0eb3
(cherry picked from commit 67b1ec978ff4365fc0d00eb6fe66a796e0fe15cf)
(cherry picked from commit 25e566361ee654d9ebfb086341ff5c20ac84823a)
(cherry picked from commit 3f4ea79e2d9fa56b9d1ae3474be19ebab5a52d68)
",git fetch https://review.opendev.org/openstack/zun refs/changes/77/706177/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1be72f5885b67155fbb923ec7a37615a773c828b,, tox_envlist: all tempest_plugins: - zun-tempest-plugin, tox_envlist: all-plugin,3,1
openstack%2Fneutron~master~If1f2d97e3a3a17f6744d546b3e8903bde55e83b9,openstack/neutron,master,If1f2d97e3a3a17f6744d546b3e8903bde55e83b9,[OVN] Add an interval between agents health checks,MERGED,2020-01-28 10:47:52.000000000,2020-02-09 12:46:43.000000000,2020-02-09 12:44:52.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-28 10:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6554876484df3e0443e9d2abbe6351f7c9e2d528', 'message': '[OVN] Add an interval between agents health checks\n\nWIP, needs tests\n\nChange-Id: If1f2d97e3a3a17f6744d546b3e8903bde55e83b9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-01-28 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fe86a65224ba1a2a88b2f1e2903bd62fbd07481', 'message': '[OVN] Add an interval between agents health checks\n\nThis patch adds a minimum interval between each agent health checks.\n\nThe way OVN checks for the agents liveness is by increasing a value in\nthe NB DB and waiting for it to be propagated to the SB DB but, this can\nbe costy if done many times too quickly. Therefore, a minimum interval\nbetween each check is being added.\n\nCloses-Bug: #1861092\nChange-Id: If1f2d97e3a3a17f6744d546b3e8903bde55e83b9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-01-28 12:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a49bfab4ae82eb605f2fec82c8970bd7a83f4f1e', 'message': '[OVN] Add an interval between agents health checks\n\nThis patch adds a minimum interval between each agent health checks.\n\nThe way OVN checks for the agents liveness is by increasing a value in\nthe NB DB and waiting for it to be propagated to the SB DB but, this can\nbe costy if done many times too quickly. Therefore, a minimum interval\nbetween each check is being added.\n\nCloses-Bug: #1861092\nChange-Id: If1f2d97e3a3a17f6744d546b3e8903bde55e83b9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-01-28 14:28:59.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/647b7f63f9dafedfa9fb6e09e3d92d66fb512f0b', 'message': '[OVN] Add an interval between agents health checks\n\nThis patch adds a minimum interval between each agent health checks.\n\nThe way OVN checks for the agents liveness is by increasing a value in\nthe NB DB and waiting for it to be propagated to the SB DB but, this can\nbe costy if done many times too quickly. Therefore, a minimum interval\nbetween each check is being added.\n\nCloses-Bug: #1861092\nChange-Id: If1f2d97e3a3a17f6744d546b3e8903bde55e83b9\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",15,704530,647b7f63f9dafedfa9fb6e09e3d92d66fb512f0b,132,12,4,6773,,,0,"[OVN] Add an interval between agents health checks

This patch adds a minimum interval between each agent health checks.

The way OVN checks for the agents liveness is by increasing a value in
the NB DB and waiting for it to be propagated to the SB DB but, this can
be costy if done many times too quickly. Therefore, a minimum interval
between each check is being added.

Closes-Bug: #1861092
Change-Id: If1f2d97e3a3a17f6744d546b3e8903bde55e83b9
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/704530/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,6554876484df3e0443e9d2abbe6351f7c9e2d528,bug/1861092-ping-chassis,"import datetime last_ping = self._nb_ovn.nb_global.external_ids.get( ovn_const.OVN_LIVENESS_CHECK_EXT_ID_KEY) if last_ping: interval = max(cfg.CONF.agent_down_time / 2, 1) next_ping = (timeutils.parse_isotime(last_ping) + datetime.timedelta(seconds=interval)) if timeutils.utcnow(with_timezone=True) < next_ping: return",,9,0
openstack%2Fcyborg~master~Icf711dc3621fb8d2e5b022ab1d1ce02b0885b055,openstack/cyborg,master,Icf711dc3621fb8d2e5b022ab1d1ce02b0885b055,Enhance the db layer to verify filters,MERGED,2020-01-17 09:55:44.000000000,2020-02-09 12:20:48.000000000,2020-02-09 12:19:11.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-01-17 09:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/afcbced470d3ae01b35f2fcfccfeeafc89d2957f', 'message': 'Enhance the db layer to verify filters\n\nNow if we init filters=None, as call\ndbapi.device_profile_list_by_filters(self.context, filters=None),\nthat will raise an NoneType error.\n\nMainly error info:\nTraceback (most recent call last):\n  File ""/home/my_work/code/cyborg/cyborg/db/sqlalchemy/api.py"", line\n558, in device_profile_list_by_filters\n    filters, exact_match_filter_names)\n  File ""/home/my_work/code/cyborg/cyborg/db/sqlalchemy/api.py"", line\n223, in _exact_filter\n    if key not in filters:\nTypeError: argument of type \'NoneType\' is not iterable\n\nThis patch will add initial validation of the filters.\n\nChange-Id: Icf711dc3621fb8d2e5b022ab1d1ce02b0885b055\n'}, {'number': 2, 'created': '2020-02-09 03:15:44.000000000', 'files': ['cyborg/db/sqlalchemy/api.py', 'cyborg/tests/unit/db/test_db_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/acbc64f3bedc4f4946c5d12ea4fd7dc3d941667a', 'message': 'Enhance the db layer to verify filters\n\nNow if we init filters=None, as call\ndbapi.device_profile_list_by_filters(self.context, filters=None),\nthat will raise an NoneType error.\n\nMainly error info:\nTraceback (most recent call last):\n  File ""/home/my_work/code/cyborg/cyborg/db/sqlalchemy/api.py"", line\n558, in device_profile_list_by_filters\n    filters, exact_match_filter_names)\n  File ""/home/my_work/code/cyborg/cyborg/db/sqlalchemy/api.py"", line\n223, in _exact_filter\n    if key not in filters:\nTypeError: argument of type \'NoneType\' is not iterable\n\nThis patch will add initial validation of the filters.\n\nChange-Id: Icf711dc3621fb8d2e5b022ab1d1ce02b0885b055\n'}]",0,703049,acbc64f3bedc4f4946c5d12ea4fd7dc3d941667a,23,8,2,26458,,,0,"Enhance the db layer to verify filters

Now if we init filters=None, as call
dbapi.device_profile_list_by_filters(self.context, filters=None),
that will raise an NoneType error.

Mainly error info:
Traceback (most recent call last):
  File ""/home/my_work/code/cyborg/cyborg/db/sqlalchemy/api.py"", line
558, in device_profile_list_by_filters
    filters, exact_match_filter_names)
  File ""/home/my_work/code/cyborg/cyborg/db/sqlalchemy/api.py"", line
223, in _exact_filter
    if key not in filters:
TypeError: argument of type 'NoneType' is not iterable

This patch will add initial validation of the filters.

Change-Id: Icf711dc3621fb8d2e5b022ab1d1ce02b0885b055
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/49/703049/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/db/sqlalchemy/api.py', 'cyborg/tests/unit/db/test_db_device_profile.py']",2,afcbced470d3ae01b35f2fcfccfeeafc89d2957f,improve_dp_db_ut," def test_list_filter_is_none(self): """"""The main test is filters=None. If filters=None, it will be initialized to {}, that will return all device profiles same as the List Device Profiles API response. """""" utils.create_test_device_profile( self.context, id=1, uuid=uuidutils.generate_uuid(), name=""foo_dp"") res = self.dbapi.device_profile_list_by_filters( self.context, filters=None) self.assertEqual(1, len(res)) self.assertEqual('foo_dp', res[0]['name']) ",,17,0
openstack%2Fmanila-tempest-plugin~master~I6bfaa21992c629d893d24db02aea9d1a7687e863,openstack/manila-tempest-plugin,master,I6bfaa21992c629d893d24db02aea9d1a7687e863,[DNM] Checking gateswq,ABANDONED,2020-02-09 10:21:04.000000000,2020-02-09 12:05:19.000000000,,[],"[{'number': 1, 'created': '2020-02-09 10:21:04.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5bd52211cc475109eb53ad6f04b7b88351fe5829', 'message': '[DNM] Checking gateswq\n\nChange-Id: I6bfaa21992c629d893d24db02aea9d1a7687e863\n'}]",0,706698,5bd52211cc475109eb53ad6f04b7b88351fe5829,2,0,1,19262,,,0,"[DNM] Checking gateswq

Change-Id: I6bfaa21992c629d893d24db02aea9d1a7687e863
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/98/706698/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,5bd52211cc475109eb53ad6f04b7b88351fe5829,,,,0,0
openstack%2Fsenlin~master~If65d8006150788fff35ecd6eddec0a761e9b4cff,openstack/senlin,master,If65d8006150788fff35ecd6eddec0a761e9b4cff,Remove clean-up of cluster/node action when cluster/node is deleted,MERGED,2020-01-30 19:21:27.000000000,2020-02-09 05:52:38.000000000,2020-02-09 05:51:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}]","[{'number': 1, 'created': '2020-01-30 19:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ca52307a761294f3162ee2d8e1cff331027bff48', 'message': 'Remove clean-up of cluster/node action when cluster/node is deleted\n\nThe simultaneous delete of cluster/node actions while actual cluster/node\ndeletion is on-going causes DB deadlocks.  Removing the clean-up and instead\nhaving users run the senlin-manage script periodically to purge the action\ntable is better way to handle this.\n\nChange-Id: If65d8006150788fff35ecd6eddec0a761e9b4cff\n'}, {'number': 2, 'created': '2020-01-30 19:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/152733c627f2030fbfe622f4fb03e39eeb237576', 'message': 'Remove clean-up of cluster/node action when cluster/node is deleted\n\nThe simultaneous delete of cluster/node actions while actual cluster/node\ndeletion is on-going causes DB deadlocks.  Removing the clean-up and instead\nhaving users run the senlin-manage script periodically to purge the action\ntable is better way to handle this.\n\nChange-Id: If65d8006150788fff35ecd6eddec0a761e9b4cff\nCloses-Bug: 1861445\n'}, {'number': 3, 'created': '2020-01-30 22:12:47.000000000', 'files': ['senlin/engine/actions/node_action.py', 'senlin/engine/actions/cluster_action.py', 'senlin/tests/unit/engine/actions/test_node_action.py', 'senlin/tests/unit/engine/actions/test_delete.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d243ea253bb31753ad7fefb6a3ef42da3dab7c53', 'message': 'Remove clean-up of cluster/node action when cluster/node is deleted\n\nThe simultaneous delete of cluster/node actions while actual cluster/node\ndeletion is on-going causes DB deadlocks.  Removing the clean-up and instead\nhaving users run the senlin-manage script periodically to purge the action\ntable is better way to handle this.\n\nChange-Id: If65d8006150788fff35ecd6eddec0a761e9b4cff\nCloses-Bug: 1861445\n'}]",0,705095,d243ea253bb31753ad7fefb6a3ef42da3dab7c53,12,3,3,27224,,,0,"Remove clean-up of cluster/node action when cluster/node is deleted

The simultaneous delete of cluster/node actions while actual cluster/node
deletion is on-going causes DB deadlocks.  Removing the clean-up and instead
having users run the senlin-manage script periodically to purge the action
table is better way to handle this.

Change-Id: If65d8006150788fff35ecd6eddec0a761e9b4cff
Closes-Bug: 1861445
",git fetch https://review.opendev.org/openstack/senlin refs/changes/95/705095/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/actions/cluster_action.py', 'senlin/engine/actions/node_action.py', 'senlin/tests/unit/engine/actions/test_node_action.py', 'senlin/tests/unit/engine/actions/test_delete.py']",4,ca52307a761294f3162ee2d8e1cff331027bff48,bug/1861445," def test_do_delete_success(self, mock_load): def test_do_delete_with_policies(self, mock_policies, def test_do_delete_with_receivers(self, mock_policies,"," @mock.patch.object(ao.Action, 'delete_by_target') def test_do_delete_success(self, mock_action, mock_load): mock_action.assert_called_once_with( action.context, 'FAKE_CLUSTER', action_excluded=['CLUSTER_DELETE'], status=['SUCCEEDED', 'FAILED']) @mock.patch.object(ao.Action, 'delete_by_target') def test_do_delete_with_policies(self, mock_action, mock_policies, mock_action.assert_called_once_with( action.context, 'FAKE_CLUSTER', action_excluded=['CLUSTER_DELETE'], status=['SUCCEEDED', 'FAILED']) @mock.patch.object(ao.Action, 'delete_by_target') def test_do_delete_with_receivers(self, mock_action, mock_policies, mock_action.assert_called_once_with( action.context, 'FAKE_CLUSTER', action_excluded=['CLUSTER_DELETE'], status=['SUCCEEDED', 'FAILED'])",3,45
openstack%2Fneutron~stable%2Frocky~I594014d5662c731b85ee1ad814efe757aecb9d3c,openstack/neutron,stable/rocky,I594014d5662c731b85ee1ad814efe757aecb9d3c,DNM: testing rocky jobs running on py2 on stable/rocky gate,ABANDONED,2020-01-30 20:59:07.000000000,2020-02-09 02:31:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-30 20:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10a5edb517b4972adb77fa3595568ecf9f610b83', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/704257/\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 2, 'created': '2020-02-03 17:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/224f171d373f3fb3a03b510591897efd359f8fc2', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/704257/\nDepends-On: https://review.opendev.org/#/c/705098/\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 3, 'created': '2020-02-05 20:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17f854d77990f44f11494e6ad80a77f5bc376e08', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/704257/\nDepends-On: https://review.opendev.org/#/c/705870\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 4, 'created': '2020-02-05 21:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25dd7c039b8d4892d63438cdd76fbb390ed48dd8', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/706119/\nDepends-On: https://review.opendev.org/#/c/705870\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 5, 'created': '2020-02-05 21:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bb8fc9ff67c534994ef774d41533f881690e85c', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/706119/\nDepends-On: https://review.opendev.org/#/c/705870\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 6, 'created': '2020-02-06 01:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33e371a574ea78ee26325d649daaa883554b1b84', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/706119/\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 7, 'created': '2020-02-06 16:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18b7e3e399cb91ef60e3955847b1f267891aeaca', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/706119/\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}, {'number': 8, 'created': '2020-02-08 23:52:34.000000000', 'files': ['.zuul.yaml', 'neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5f2211720bac9f4d63fddd56963ce0e20dd8089', 'message': 'DNM: testing rocky jobs running on py2 on stable/rocky gate\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c\n'}]",0,705117,d5f2211720bac9f4d63fddd56963ce0e20dd8089,51,5,8,8556,,,0,"DNM: testing rocky jobs running on py2 on stable/rocky gate

Depends-On: https://review.opendev.org/#/c/705089/
Change-Id: I594014d5662c731b85ee1ad814efe757aecb9d3c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/705117/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,10a5edb517b4972adb77fa3595568ecf9f610b83,, # Set RPC API version to 1.0 by default., # Set RPC API version to 1.0 by default.,1,1
openstack%2Fneutron~master~I70e626dbf9de4bd43952836f8c4d01a693ddac7f,openstack/neutron,master,I70e626dbf9de4bd43952836f8c4d01a693ddac7f,Fix duplicate ID warning during doc build,MERGED,2020-02-04 17:25:42.000000000,2020-02-09 02:20:47.000000000,2020-02-09 02:18:34.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2020-02-04 17:25:42.000000000', 'files': ['neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d027a9bc776c237304d34d75c3c81cafa25f0cbb', 'message': 'Fix duplicate ID warning during doc build\n\nBoth the neutron.base.agent and neutron.l3.agent\noption templates contain RPC_EXTRA_OPTS, leading to\na warning during doc builds:\n\ndoc/source/configuration/l3-agent.rst:3:\n WARNING: Duplicate ID: ""DEFAULT.rpc_response_max_timeout"".\n\nIt also leads to the rpc_response_max_timeout option\nshowing up twice in the resultant l3-agent.ini sample\nfile. For example, when running \'tox -e genconfig\'.\n\nRemove it from the list of l3-agent specific options as\nit\'s unnecessary.\n\nTrivial-fix\n\nChange-Id: I70e626dbf9de4bd43952836f8c4d01a693ddac7f\n'}]",0,705779,d027a9bc776c237304d34d75c3c81cafa25f0cbb,27,8,1,1131,,,0,"Fix duplicate ID warning during doc build

Both the neutron.base.agent and neutron.l3.agent
option templates contain RPC_EXTRA_OPTS, leading to
a warning during doc builds:

doc/source/configuration/l3-agent.rst:3:
 WARNING: Duplicate ID: ""DEFAULT.rpc_response_max_timeout"".

It also leads to the rpc_response_max_timeout option
showing up twice in the resultant l3-agent.ini sample
file. For example, when running 'tox -e genconfig'.

Remove it from the list of l3-agent specific options as
it's unnecessary.

Trivial-fix

Change-Id: I70e626dbf9de4bd43952836f8c4d01a693ddac7f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/705779/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/opts.py'],1,d027a9bc776c237304d34d75c3c81cafa25f0cbb,dup-rpc_response_max_timeout,," neutron.conf.service.RPC_EXTRA_OPTS,",0,1
openstack%2Fneutron~stable%2Focata~I1a7d7b33051897070547afe3aea033bef7cd28e3,openstack/neutron,stable/ocata,I1a7d7b33051897070547afe3aea033bef7cd28e3,DNM: testing Depends-On: https://review.opendev.org/#/c/706612/,ABANDONED,2020-02-08 23:27:23.000000000,2020-02-09 01:55:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-08 23:27:23.000000000', 'files': ['neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f901914a7bc51532247c8d8aad5ee689b9abfbe', 'message': 'DNM: testing\nDepends-On: https://review.opendev.org/#/c/706612/\n\nChange-Id: I1a7d7b33051897070547afe3aea033bef7cd28e3\n'}]",0,706681,9f901914a7bc51532247c8d8aad5ee689b9abfbe,7,4,1,8556,,,0,"DNM: testing
Depends-On: https://review.opendev.org/#/c/706612/

Change-Id: I1a7d7b33051897070547afe3aea033bef7cd28e3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/706681/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/opts.py'],1,9f901914a7bc51532247c8d8aad5ee689b9abfbe,, # the config options for a few common ones, # the config options for a few common ones,1,1
openstack%2Fdevstack~stable%2Frocky~Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,openstack/devstack,stable/rocky,Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78,Support TEMPEST_BRANCH with tag name & cap it to 23.0.0,MERGED,2020-01-30 19:00:07.000000000,2020-02-09 00:39:20.000000000,2020-02-09 00:39:20.000000000,"[{'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-30 19:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/904e5b23a6a0c68eee7d4db60be45e400b416bac', 'message': 'Support TEMPEST_BRANCH with tag name\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nChange-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78\n'}, {'number': 2, 'created': '2020-02-04 16:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/44f37d1397d41167d186d384e1aafefb7abf9b2e', 'message': 'Support TEMPEST_BRANCH with tag name\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nTempest master is dropping the py3.5 support[1] and last\ntag work well with py3.5 is 23.0.0. Stable/rocky jobs use\nxenail node which has py3.5 version.\n\nWe need to pin Tempest 23.0.0 in this patch itself to\nunblock the gate.\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78\n'}, {'number': 3, 'created': '2020-02-04 18:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/70307f98eaf5f949192203f9efe342b4496deaeb', 'message': 'Support TEMPEST_BRANCH with tag name\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nTempest master is dropping the py3.5 support[1] and last\ntag work well with py3.5 is 23.0.0. Stable/rocky jobs use\nxenail node which has py3.5 version.\n\nWe need to pin Tempest 23.0.0 in this patch itself to\nunblock the gate.\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78\n'}, {'number': 4, 'created': '2020-02-04 22:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/87b154ba72af887aa48328fdd249a68f1691aaa0', 'message': 'Support TEMPEST_BRANCH with tag name & cap it to 23.0.0\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nTempest master is dropping the py3.5 support[1] and last\ntag work well with py3.5 is 23.0.0. Stable/rocky jobs use\nxenail node which has py3.5 version.\n\nWe need to pin Tempest 23.0.0 in this patch itself to\nunblock the gate.\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78\n'}, {'number': 5, 'created': '2020-02-06 01:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0979b616311c64e290054cce2cf97f890d7477cb', 'message': 'Support TEMPEST_BRANCH with tag name & cap it to 23.0.0\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nTempest master is dropping the py3.5 support[1] and last\ntag work well with py3.5 is 23.0.0. Stable/rocky jobs use\nxenail node which has py3.5 version.\n\nWe need to pin Tempest 23.0.0 in this patch itself to\nunblock the gate.\n\nDepends-On: https://review.opendev.org/#/c/705870/\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78\n'}, {'number': 6, 'created': '2020-02-07 03:32:01.000000000', 'files': ['tests/test_refs.sh', 'lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/85dcb9ef830d79438422e9a2b3a2048747a9c0b0', 'message': 'Support TEMPEST_BRANCH with tag name & cap it to 23.0.0\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nTempest master is dropping the py3.5 support[1] and last\ntag work well with py3.5 is 23.0.0. Stable/rocky jobs use\nxenail node which has py3.5 version.\n\nWe need to pin Tempest 23.0.0 in this patch itself to\nunblock the gate.\n\nDepends-On: https://review.opendev.org/#/c/705870/\nDepends-On: https://review.opendev.org/#/c/706425/\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78\n'}]",2,705089,85dcb9ef830d79438422e9a2b3a2048747a9c0b0,50,10,6,8556,,,0,"Support TEMPEST_BRANCH with tag name & cap it to 23.0.0

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Tempest master is dropping the py3.5 support[1] and last
tag work well with py3.5 is 23.0.0. Stable/rocky jobs use
xenail node which has py3.5 version.

We need to pin Tempest 23.0.0 in this patch itself to
unblock the gate.

Depends-On: https://review.opendev.org/#/c/705870/
Depends-On: https://review.opendev.org/#/c/706425/

Related--Bug: 1861308
[1] https://review.opendev.org/#/c/704840/

Change-Id: Ic777e4b56c4932dde135ac909cb5c6f4a7d5cc78
",git fetch https://review.opendev.org/openstack/devstack refs/changes/89/705089/6 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,904e5b23a6a0c68eee7d4db60be45e400b416bac,fix-stable-gate, # NOTE(gmann): checkout the TEMPEST_BRANCH in case TEMPEST_BRANCH # is tag name not master. git_clone would not checkout tag because # TEMPEST_DIR already exist until RECLONE is true. git checkout $TEMPEST_BRANCH ,,5,0
openstack%2Fgrenade~stable%2Frocky~Icfccaa38bcf9a9567152d0b84580683728c929e5,openstack/grenade,stable/rocky,Icfccaa38bcf9a9567152d0b84580683728c929e5,Use stable constraint for Tempest pinned stable branches,MERGED,2020-02-07 03:30:52.000000000,2020-02-08 23:57:30.000000000,2020-02-08 23:56:15.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 03:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/42178bd5867fb9a9c069c22b997cafdd82f18f85', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 2, 'created': '2020-02-07 04:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/3bee99fc6f7b1c7a491cb70057653012b1547323', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 3, 'created': '2020-02-07 12:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/b1d169a7a7858f2361d210bad8911bb18cd59d7f', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 4, 'created': '2020-02-07 20:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/7c59426778fb8edc2c183e6658c8b347e0f0159b', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nAlso fixing broken doc job.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 5, 'created': '2020-02-07 20:21:59.000000000', 'files': ['test-requirements.txt', 'grenade.sh', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/067357c06c61de23157c66e8e4ba560ca5325937', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nAlso fixing broken doc job.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}]",0,706425,067357c06c61de23157c66e8e4ba560ca5325937,25,5,5,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

grenade needs to use the stable u-c so that
Tempest installation in venv will use stable
branch constraint.

Also fixing broken doc job.

Depends-On: https://review.opendev.org/#/c/706178/

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5
",git fetch https://review.opendev.org/openstack/grenade refs/changes/25/706425/5 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,42178bd5867fb9a9c069c22b997cafdd82f18f85,fix-stable-gate, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint which is hard coded in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$BASE_RELEASE_DIR/upper-constraints.txt ,,7,0
openstack%2Fgrenade~stable%2Focata~Icfccaa38bcf9a9567152d0b84580683728c929e5,openstack/grenade,stable/ocata,Icfccaa38bcf9a9567152d0b84580683728c929e5,Use stable constraint for Tempest pinned stable branches,MERGED,2020-02-07 19:34:14.000000000,2020-02-08 23:57:28.000000000,2020-02-08 23:56:16.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 19:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/3b1bd85e8c0813463294d72221783bb514d0cef5', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 2, 'created': '2020-02-07 19:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/931a58b75836ca2e311c59740c3eba561e69eb88', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/706427/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 3, 'created': '2020-02-08 14:48:20.000000000', 'files': ['grenade.sh', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/960d6b8a24e4e1b2574e66fad33cefff66f4baa7', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nAlso fixing broken doc job.\n\nDepends-On: https://review.opendev.org/#/c/706427/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}]",0,706612,960d6b8a24e4e1b2574e66fad33cefff66f4baa7,13,3,3,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

grenade needs to use the stable u-c so that
Tempest installation in venv will use stable
branch constraint.

Also fixing broken doc job.

Depends-On: https://review.opendev.org/#/c/706427/

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5
",git fetch https://review.opendev.org/openstack/grenade refs/changes/12/706612/3 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,3b1bd85e8c0813463294d72221783bb514d0cef5,fix-stable-gate, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint which is hard coded in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$BASE_RELEASE_DIR/requirements/upper-constraints.txt ,,7,0
openstack%2Fnova~stable%2Ftrain~Iace3f653b42c20887b40ee0105c8e9a4edeff1f7,openstack/nova,stable/train,Iace3f653b42c20887b40ee0105c8e9a4edeff1f7,Fix instance.hidden migration and querying,MERGED,2020-02-07 17:14:01.000000000,2020-02-08 22:49:43.000000000,2020-02-08 22:48:07.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-07 17:14:01.000000000', 'files': ['releasenotes/notes/instances_hidden_after_upgrade_to_train-9ce4731f31bc6bd2.yaml', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_instances_hidden.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8363905a6a6d5c8b2488619bdf807c5dc17b2842', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n(cherry picked from commit 001f3a7bfe6b2c8af135daff8e154a708792070e)\n'}]",0,706582,8363905a6a6d5c8b2488619bdf807c5dc17b2842,11,6,1,4393,,,0,"Fix instance.hidden migration and querying

It was discovered that default= on a Column definition in a schema migration
will attempt to update the table with the provided value, instead of just
translating on read, which is often the assumption. The Instance.hidden=False
change introduced in Train[1] used such a default on the new column, which caused
at least one real-world deployment to time out rewriting the instances table
due to size. Apparently SQLAlchemy-migrate also does not consider such a timeout
to be a failure and proceeds on. The end result is that some existing instances
in the database have hidden=NULL values, and the DB model layer does not convert
those to hidden=False when we read/query them, causing those instances to be
excluded from the API list view.

This change alters the 399 schema migration to remove the default=False
specification. This does not actually change the schema, but /will/ prevent
users who have not yet upgraded to Train from rewriting the table.

This change also makes the instance_get_all_by_filters() code handle hidden
specially, including false and NULL in a query for non-hidden instances.

A future change should add a developer trap test to ensure that future migrations
do not add default= values to new columns to avoid this situation in the future.

[1] Iaffb27bd8c562ba120047c04bb62619c0864f594

Change-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7
Closes-Bug: #1862205
(cherry picked from commit 001f3a7bfe6b2c8af135daff8e154a708792070e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/706582/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/instances_hidden_after_upgrade_to_train-9ce4731f31bc6bd2.yaml', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_instances_hidden.py', 'nova/db/sqlalchemy/api.py']",5,8363905a6a6d5c8b2488619bdf807c5dc17b2842,bug/1862205," if filters.pop('hidden', False): query_prefix = query_prefix.filter(models.Instance.hidden == true()) else: # If the query should not include hidden instances, then # filter instances with hidden=False or hidden=NULL because # older records may have no value set. query_prefix = query_prefix.filter(or_( models.Instance.hidden == false(), models.Instance.hidden == null()))", if 'hidden' not in filters: # Filter out hidden instances by default. filters['hidden'] = False,85,6
openstack%2Fzun~master~Ia24e3aafd72ca6250c5c61f62352beb569aa7423,openstack/zun,master,Ia24e3aafd72ca6250c5c61f62352beb569aa7423,Introduce a CRI driver,MERGED,2020-01-04 23:40:52.000000000,2020-02-08 22:48:10.000000000,2020-02-08 22:43:52.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-04 23:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9e3870619a216c1cbf2ddabaf3210b222902fc08', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 2, 'created': '2020-01-05 03:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/77cebc13892ca17b8ae0ecbc382c14047e0f2898', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 3, 'created': '2020-01-05 16:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/42ca65ad635324a1839ce3f15b2ebf9be4acdb37', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 4, 'created': '2020-01-05 20:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2867673605eedc2541e99ca4ed38e22ae5489a66', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 5, 'created': '2020-01-05 22:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/165c8e698d36f7fa5c4eacd9ef768eda8bd17867', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 6, 'created': '2020-01-05 22:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2b9389a3336be450b5a689cdf02a3f5da259d19d', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 7, 'created': '2020-01-06 03:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c3f923016c8b2ab140e55feb0d98783a7939516f', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 8, 'created': '2020-01-06 03:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/73c9ec8e4c7b96378092ed06a133c1855f370707', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 9, 'created': '2020-01-07 17:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a4b296de3f01feaa2ae5f0e9795675fdc3826133', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 10, 'created': '2020-01-12 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/eeadacec9f31120bfecc2f4785354dd59b17c6a4', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 11, 'created': '2020-01-12 18:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fd4299fcb9322aa8c5174166b0393f7de3a5f52a', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 12, 'created': '2020-01-13 03:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5cf2ada7131409aee266d3fad9fdf7abcfcf8450', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 13, 'created': '2020-01-18 17:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1f2bf902718048ffba7cdc6e313abedc497e3cb6', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 14, 'created': '2020-01-18 20:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a128b7bec9f6ad2ac5e5858e4440d26f20e775cf', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 15, 'created': '2020-01-25 19:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c4d0068efac9f003df9535325837ff552902c515', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 16, 'created': '2020-01-25 19:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/689ea682b96ba9abf4670af5855f9de58056978d', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 17, 'created': '2020-01-25 19:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6c2e58c7150b5f6c1b6eaddc4f7aa8d2c7334f55', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 18, 'created': '2020-01-25 19:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c5b96b887849e3ec757ca748f45b4b7a88729902', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 19, 'created': '2020-01-25 19:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1fa9afad8f06b3af9f3ba0f459b5dfc02b9f99d7', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 20, 'created': '2020-01-25 20:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c67cd11058507a453b8b2537907cfebecea1a066', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 21, 'created': '2020-01-26 00:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ef74ed9bf2e17dc4ddd083e226721078e797bd68', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 22, 'created': '2020-01-26 00:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/27b0f20c35374bb774aceed36030dfc08f4fb940', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 23, 'created': '2020-01-26 00:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/117c0fed56fadc54738b5b756a317811f40a4582', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 24, 'created': '2020-01-26 18:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4644f8ae51246907535a4928ebe53b1eac9969f5', 'message': '[WIP] Introduce a CRI driver\n\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 25, 'created': '2020-01-26 19:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8cc009a3a7aa8271acbf6fe3ea555e48646d6478', 'message': 'Introduce a CRI driver\n\nImplements: blueprint add-support-cri-runtime\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 26, 'created': '2020-01-26 21:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/23d2113eb045ab676376def9e7810d0662829f78', 'message': 'Introduce a CRI driver\n\nImplements: blueprint add-support-cri-runtime\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}, {'number': 27, 'created': '2020-02-02 17:44:42.000000000', 'files': ['zun/container/cri/driver.py', 'zun/network/os_vif_util.py', 'zun/conf/container_driver.py', 'zun/common/consts.py', 'zun/compute/compute_node_tracker.py', 'zun/container/cri/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/zun/commit/6ebf9b65a78bef10051f0191ed4021e08750c678', 'message': 'Introduce a CRI driver\n\nImplements: blueprint add-support-cri-runtime\nChange-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423\n'}]",0,701101,6ebf9b65a78bef10051f0191ed4021e08750c678,48,2,27,11536,,,0,"Introduce a CRI driver

Implements: blueprint add-support-cri-runtime
Change-Id: Ia24e3aafd72ca6250c5c61f62352beb569aa7423
",git fetch https://review.opendev.org/openstack/zun refs/changes/01/701101/7 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/cri/driver.py', 'zun/network/kuryr_network.py', 'zun/network/os_vif_util.py', 'zun/compute/manager.py', 'zun/container/driver.py', 'zun/common/consts.py', 'zun/container/cri/__init__.py', 'zun/network/neutron.py', 'setup.cfg']",9,9e3870619a216c1cbf2ddabaf3210b222902fc08,bp/add-support-cri-runtime,zun.vif_translators = ovs = zun.network.os_vif_util:neutron_to_osvif_vif_ovs ,,495,6
openstack%2Fzun~master~I213fa67057a5fceaa9a150ab7c68aedd5f2eb4b0,openstack/zun,master,I213fa67057a5fceaa9a150ab7c68aedd5f2eb4b0,Move port deletion code to zun/network/neutron.py,MERGED,2020-01-26 00:03:36.000000000,2020-02-08 22:18:38.000000000,2020-02-08 22:16:50.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-26 00:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e7c957d9e02842fa9f50d3bb7de83f4fd1c55f65', 'message': 'Move port deletion code to zun/network/neutron.py\n\nThis allows the neutron port cleanup logic to be reused by other\nruntimes.\n\nChange-Id: I213fa67057a5fceaa9a150ab7c68aedd5f2eb4b0\n'}, {'number': 2, 'created': '2020-02-02 17:44:42.000000000', 'files': ['zun/network/kuryr_network.py', 'zun/tests/unit/network/test_kuryr_network.py', 'zun/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/63735680c3011429dd3ab920be8be684d5e38bc5', 'message': 'Move port deletion code to zun/network/neutron.py\n\nThis allows the neutron port cleanup logic to be reused by other\nruntimes.\n\nChange-Id: I213fa67057a5fceaa9a150ab7c68aedd5f2eb4b0\n'}]",0,704237,63735680c3011429dd3ab920be8be684d5e38bc5,9,2,2,11536,,,0,"Move port deletion code to zun/network/neutron.py

This allows the neutron port cleanup logic to be reused by other
runtimes.

Change-Id: I213fa67057a5fceaa9a150ab7c68aedd5f2eb4b0
",git fetch https://review.opendev.org/openstack/zun refs/changes/37/704237/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/network/kuryr_network.py', 'zun/tests/unit/network/test_kuryr_network.py', 'zun/network/neutron.py']",3,e7c957d9e02842fa9f50d3bb7de83f4fd1c55f65,bp/add-support-cri-runtime," def delete_or_unbind_ports(self, ports, ports_to_delete): for port_id in ports: try: if port_id in ports_to_delete: self.delete_port(port_id) else: self._unbind_port(port_id) except n_exceptions.PortNotFoundClient: LOG.warning('Maybe your libnetwork distribution do not ' 'have patch https://review.openstack.org/#/c/' '441024/ or neutron tag extension does not ' 'supported or not enabled.') def _unbind_port(self, port_id): port_req_body = {'port': {'device_id': '', 'device_owner': ''}} port_req_body['port'][consts.BINDING_HOST_ID] = None try: port = self.get_neutron_port(port_id) except exception.PortNotFound: LOG.debug('Unable to show port %s as it no longer ' 'exists.', port_id) return except Exception: # NOTE: In case we can't retrieve the binding:profile assume # that they are empty LOG.exception(""Unable to get binding:profile for port '%s'"", port_id) port_profile = {} else: port_profile = port.get(consts.BINDING_PROFILE, {}) # NOTE: We're doing this to remove the binding information # for the physical device but don't want to overwrite the other # information in the binding profile. for profile_key in ('pci_vendor_info', 'pci_slot'): if profile_key in port_profile: del port_profile[profile_key] port_req_body['port'][consts.BINDING_PROFILE] = port_profile try: # Requires admin creds to set port bindings self.update_port(port_id, port_req_body, admin=True) except exception.PortNotFound: LOG.debug('Unable to unbind port %s as it no longer ' 'exists.', port_id) except Exception: LOG.exception(""Unable to clear device ID for port '%s'"", port_id) ",,57,47
openstack%2Fproject-config~master~I4ed2f55416f1898746c414b2c443bc9bd5a100fe,openstack/project-config,master,I4ed2f55416f1898746c414b2c443bc9bd5a100fe,Set airship-citycloud mirror url to opendev.org,MERGED,2020-02-08 21:52:44.000000000,2020-02-08 22:10:23.000000000,2020-02-08 22:06:51.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-08 21:52:44.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a56b4c1c82788bf32abc892fdc8a8269d840aef9', 'message': ""Set airship-citycloud mirror url to opendev.org\n\nNew clouds aren't getting openstack.org mirrors but instead opendev.org\nnames. We have to override the mirror name based on region and cloud in\norder for jobs to properly find the mirror.\n\nChange-Id: I4ed2f55416f1898746c414b2c443bc9bd5a100fe\n""}]",0,706676,a56b4c1c82788bf32abc892fdc8a8269d840aef9,7,2,1,4146,,,0,"Set airship-citycloud mirror url to opendev.org

New clouds aren't getting openstack.org mirrors but instead opendev.org
names. We have to override the mirror name based on region and cloud in
order for jobs to properly find the mirror.

Change-Id: I4ed2f55416f1898746c414b2c443bc9bd5a100fe
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/706676/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,a56b4c1c82788bf32abc892fdc8a8269d840aef9,set-airship-citycloud-opendev-mirror," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"", ""mtl01.inap"", ""RegionOne.linaro-us"", ""Kna1.airship-citycloud"" ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"", ""mtl01.inap"", ""RegionOne.linaro-us"" ] -%}",1,1
openstack%2Fdevstack~stable%2Fqueens~I5ab1130582354c33d52afafc9720146e174e40e5,openstack/devstack,stable/queens,I5ab1130582354c33d52afafc9720146e174e40e5,Use stable constraint for Tempest pinned stable branches,MERGED,2020-02-06 00:52:53.000000000,2020-02-08 21:05:55.000000000,2020-02-08 21:05:55.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 00:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7fcd2090e202db6198b920214b3c777d65c859c', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\nDevstack can set stable u-c to use via env var so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I5ab1130582354c33d52afafc9720146e174e40e5\n'}, {'number': 2, 'created': '2020-02-08 17:14:54.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7d43b099c5f353a0d9928385e643620724bb70a6', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\nDevstack can set stable u-c to use via env var so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/706426/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I5ab1130582354c33d52afafc9720146e174e40e5\n'}]",0,706159,7d43b099c5f353a0d9928385e643620724bb70a6,13,6,2,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

Devstack can set stable u-c to use via env var so that
Tempest installation in venv will use stable
branch constraint.

Depends-On: https://review.opendev.org/#/c/706426/

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: I5ab1130582354c33d52afafc9720146e174e40e5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/59/706159/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,d7fcd2090e202db6198b920214b3c777d65c859c,fix-stable-gate, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint as defined in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$REQUIREMENTS_DIR/upper-constraints.txt , (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt,6,1
openstack%2Fgrenade~stable%2Fqueens~Icfccaa38bcf9a9567152d0b84580683728c929e5,openstack/grenade,stable/queens,Icfccaa38bcf9a9567152d0b84580683728c929e5,Use stable constraint for Tempest pinned stable branches,MERGED,2020-02-07 04:09:34.000000000,2020-02-08 20:45:55.000000000,2020-02-08 20:44:35.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 04:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/0cf80cd2fa204c6c6daef4ab969de3e12d5c15ff', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 2, 'created': '2020-02-07 12:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/22faea5b288b465196be8f14d02a1c686c614b8d', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 3, 'created': '2020-02-07 20:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/05b4de4b62505e5957a858a5f50800d81e948177', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nAlso fixing broken doc job.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 4, 'created': '2020-02-07 20:22:16.000000000', 'files': ['test-requirements.txt', 'grenade.sh', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/b94f0a4c603f18d9d9f343d71bcf4baba1b73e8c', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nAlso fixing broken doc job.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}]",0,706426,b94f0a4c603f18d9d9f343d71bcf4baba1b73e8c,19,5,4,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

grenade needs to use the stable u-c so that
Tempest installation in venv will use stable
branch constraint.

Also fixing broken doc job.

Depends-On: https://review.opendev.org/#/c/706178/

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5
",git fetch https://review.opendev.org/openstack/grenade refs/changes/26/706426/3 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,0cf80cd2fa204c6c6daef4ab969de3e12d5c15ff,fix-stable-gate, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint which is hard coded in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$BASE_RELEASE_DIR/upper-constraints.txt ,,7,0
openstack%2Ftripleo-ci~master~I024fe5a924b34049918d2b0c2a7bdd38aefd35e8,openstack/tripleo-ci,master,I024fe5a924b34049918d2b0c2a7bdd38aefd35e8,Put tempest_extra_config for validate tempest,MERGED,2020-02-07 09:42:24.000000000,2020-02-08 20:40:08.000000000,2020-02-08 20:40:08.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 09:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dcfe2bbf9a4b8d2a259781548d2c6deecf5fa417', 'message': 'Put tempest_extra_config for validate tempest\n\nhttps://review.opendev.org/#/c/705007/ moved the standalone stein\njobs to validate-tempest, Few settings related to tempest_roles\ngot missing leading to barbican tests failure.\n\nAdding it back via tempest_extra_config will fix the issue.\n\nRelated-Bug: #1862142\n\nChange-Id: I024fe5a924b34049918d2b0c2a7bdd38aefd35e8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-07 13:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1b3e4c99c6b88a0b71523c7bfeaf9f5591050b62', 'message': 'Put tempest_extra_config for validate tempest\n\nhttps://review.opendev.org/#/c/705007/ moved the standalone stein\njobs to validate-tempest, Few settings related to tempest_roles\ngot missing leading to barbican tests failure.\n\nAdding it back via tempest_extra_config will fix the issue.\n\nRelated-Bug: #1862142\n\nChange-Id: I024fe5a924b34049918d2b0c2a7bdd38aefd35e8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-07 17:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c69f792a2a4056f1cd2da25c90a81785ac79368b', 'message': 'Put tempest_extra_config for validate tempest\n\nhttps://review.opendev.org/#/c/705007/ moved the standalone stein\njobs to validate-tempest, Few settings related to tempest_roles\ngot missing leading to barbican tests failure.\n\nAdding it back via tempest_extra_config will fix the issue.\n\nRelated-Bug: #1862142\n\nChange-Id: I024fe5a924b34049918d2b0c2a7bdd38aefd35e8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-02-08 03:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e6a9bfa0ee697ad5451076d2e865947a1e7c8861', 'message': 'Put tempest_extra_config for validate tempest\n\nhttps://review.opendev.org/#/c/705007/ moved the standalone stein\njobs to validate-tempest, Few settings related to tempest_roles\ngot missing leading to barbican tests failure.\n\nAdding it back via tempest_extra_config will fix the issue.\n\nRelated-Bug: #1862142\n\nChange-Id: I024fe5a924b34049918d2b0c2a7bdd38aefd35e8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-02-08 07:27:20.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/611b3a56e3a437d5039e24067f20b5883a7dabc9', 'message': 'Put tempest_extra_config for validate tempest\n\nhttps://review.opendev.org/#/c/705007/ moved the standalone stein\njobs to validate-tempest, Few settings related to tempest_roles\ngot missing leading to barbican tests failure.\n\nAdding it back via tempest_extra_config will fix the issue.\n\nRelated-Bug: #1862142\n\nChange-Id: I024fe5a924b34049918d2b0c2a7bdd38aefd35e8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,706452,611b3a56e3a437d5039e24067f20b5883a7dabc9,31,5,5,12393,,,0,"Put tempest_extra_config for validate tempest

https://review.opendev.org/#/c/705007/ moved the standalone stein
jobs to validate-tempest, Few settings related to tempest_roles
got missing leading to barbican tests failure.

Adding it back via tempest_extra_config will fix the issue.

Related-Bug: #1862142

Change-Id: I024fe5a924b34049918d2b0c2a7bdd38aefd35e8
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/52/706452/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,dcfe2bbf9a4b8d2a259781548d2c6deecf5fa417,fix_stein, tempest_extra_config: tempest_tempest_conf_overrides,,1,0
openstack%2Fneutron~master~I229e926341c5e6c8b06f59950e3ae09864d0f1f6,openstack/neutron,master,I229e926341c5e6c8b06f59950e3ae09864d0f1f6,Increase log information when a RootHelperProcess fails,MERGED,2020-01-30 16:59:41.000000000,2020-02-08 20:32:05.000000000,2020-02-08 20:30:02.000000000,"[{'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-30 16:59:41.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/97773eaea6407eb12a0f1a2b8dbac24a71f3b7c6', 'message': 'Increase log information when a RootHelperProcess fails\n\nIf a RootHelperProcess does not start, add more information to the\nexception raised: the command return code, the stdout and the stderr.\n\nChange-Id: I229e926341c5e6c8b06f59950e3ae09864d0f1f6\nCloses-Bug: #1861221\n'}]",2,705065,97773eaea6407eb12a0f1a2b8dbac24a71f3b7c6,46,7,1,16688,,,0,"Increase log information when a RootHelperProcess fails

If a RootHelperProcess does not start, add more information to the
exception raised: the command return code, the stdout and the stderr.

Change-Id: I229e926341c5e6c8b06f59950e3ae09864d0f1f6
Closes-Bug: #1861221
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/705065/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,97773eaea6407eb12a0f1a2b8dbac24a71f3b7c6,bug/1861221," try: common_utils.wait_until_true(child_is_running, timeout) except common_utils.WaitTimeout: # If there is an error, the stderr and stdout pipes usually have # information returned by the command executed. If not, timeout # the pipe communication quickly. stdout = stderr = '' try: stdout, stderr = self.communicate(timeout=0.5) except subprocess.TimeoutExpired: pass msg = (""Process %(cmd)s hasn't been spawned in %(seconds)d "" ""seconds. Return code: %(ret_code)s, stdout: %(stdout)s, "" ""sdterr: %(stderr)s"" % {'cmd': self.cmd, 'seconds': timeout, 'ret_code': self.returncode, 'stdout': stdout, 'stderr': stderr}) raise RuntimeError(msg) "," common_utils.wait_until_true( child_is_running, timeout, exception=RuntimeError(""Process %s hasn't been spawned "" ""in %d seconds"" % (self.cmd, timeout)))",19,5
openstack%2Fneutron~stable%2Fstein~Ib6ef58b5259ea4bf151e866f6244ff87b195b139,openstack/neutron,stable/stein,Ib6ef58b5259ea4bf151e866f6244ff87b195b139,Reset timeout exception in DietTestCase when retrying,MERGED,2020-02-04 16:52:00.000000000,2020-02-08 20:16:29.000000000,2020-02-08 20:14:46.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-04 16:52:00.000000000', 'files': ['neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ff4ff4864fb62a0b581a1821e02dec24581d09a', 'message': 'Reset timeout exception in DietTestCase when retrying\n\nIn case of fixtures.TimeoutException, DietTestCase retries the\nexecution of the test case (introduced in [1]). But the timeout\nfixture was not reset. This can lead to a general execution timeout\nif a test do not exit in a proper time.\n\n[1] If865c4683645f9bd11f5e1b528bade0547505bfd\n\nRelated-Bug: #1843478\nPartial-Bug: #1848944\nChange-Id: Ib6ef58b5259ea4bf151e866f6244ff87b195b139\n(cherry picked from commit 4f59db2fab33e39f3d101885263e5f6483ad2b94)\n'}]",0,705759,4ff4ff4864fb62a0b581a1821e02dec24581d09a,36,6,1,21798,,,0,"Reset timeout exception in DietTestCase when retrying

In case of fixtures.TimeoutException, DietTestCase retries the
execution of the test case (introduced in [1]). But the timeout
fixture was not reset. This can lead to a general execution timeout
if a test do not exit in a proper time.

[1] If865c4683645f9bd11f5e1b528bade0547505bfd

Related-Bug: #1843478
Partial-Bug: #1848944
Change-Id: Ib6ef58b5259ea4bf151e866f6244ff87b195b139
(cherry picked from commit 4f59db2fab33e39f3d101885263e5f6483ad2b94)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/705759/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/base.py'],1,4ff4ff4864fb62a0b581a1821e02dec24581d09a,bug/1843478-stable/stein,"from testtools import content if idx < TESTCASE_RETRIES: msg = ('""fixtures.TimeoutException"" during test case ' 'execution no %s; test case re-executed' % idx) self.addDetail('DietTestCase', content.text_content(msg)) self._set_timeout() else: self.fail('Execution of this test timed out')"," with excutils.save_and_reraise_exception() as ctxt: if idx < TESTCASE_RETRIES: msg = ('""fixtures.TimeoutException"" during test case ' 'execution no %s; test case re-executed' % idx) self.addDetail('DietTestCase', msg) ctxt.reraise = False",9,6
openstack%2Ftripleo-ci~master~Ibe2b7f3751238ced003092f3b9fb283fe4279169,openstack/tripleo-ci,master,Ibe2b7f3751238ced003092f3b9fb283fe4279169,Fix some logs path,MERGED,2020-02-03 06:01:07.000000000,2020-02-08 19:55:44.000000000,2020-02-08 19:55:44.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-03 06:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3847d9390df724d09350980250a20ef03a608754', 'message': 'Fix some logs path\n\nconfig-data is collected at /var/lib now, and\nrpm-list is collected with rpm-list.txt.gz.\n\nAlso fix vexxhost setting, vexxhost cloud is used\nin both upstream and software factory\nzuul, be specific to third party CI by using nodepool\nprovider as vexxhost-nodepool-tripleo.\n\nDepends-On: https://review.opendev.org/#/c/705378/\nChange-Id: Ibe2b7f3751238ced003092f3b9fb283fe4279169\n'}, {'number': 2, 'created': '2020-02-05 09:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/47979549e02b75e33cd19927b95666925c228797', 'message': 'Fix some logs path\n\nconfig-data is collected at /var/lib now, and\nrpm-list is collected with rpm-list.txt.gz.\n\nAlso fix vexxhost setting, vexxhost cloud is used\nin both upstream and software factory\nzuul, be specific to third party CI by using nodepool\nprovider as vexxhost-nodepool-tripleo.\n\nChange-Id: Ibe2b7f3751238ced003092f3b9fb283fe4279169\n'}, {'number': 3, 'created': '2020-02-06 15:00:49.000000000', 'files': ['docs/tripleo-quickstart-logs.html', 'roles/common/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/826ee782d1aa783441d10449ccd92b27825d4c1f', 'message': 'Fix some logs path\n\nconfig-data is collected at /var/lib now, and\nrpm-list is collected with rpm-list.txt.gz.\n\nAlso fix vexxhost setting, vexxhost cloud is used\nin both upstream and software factory\nzuul, be specific to third party CI by using nodepool\nprovider as vexxhost-nodepool-tripleo.\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: Ibe2b7f3751238ced003092f3b9fb283fe4279169\n'}]",0,705379,826ee782d1aa783441d10449ccd92b27825d4c1f,30,5,3,13861,,,0,"Fix some logs path

config-data is collected at /var/lib now, and
rpm-list is collected with rpm-list.txt.gz.

Also fix vexxhost setting, vexxhost cloud is used
in both upstream and software factory
zuul, be specific to third party CI by using nodepool
provider as vexxhost-nodepool-tripleo.

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: Ibe2b7f3751238ced003092f3b9fb283fe4279169
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/705379/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/tripleo-quickstart-logs.html', 'roles/common/vars/main.yaml']",2,3847d9390df724d09350980250a20ef03a608754,705379, {%- elif 'vexxhost-nodepool-tripleo' in nodepool_provider -%}, {%- elif 'vexxhost' in nodepool_provider -%},3,3
openstack%2Fcyborg~master~Ia6f415b74150cdda94d71dc8b5e760f7758a526e,openstack/cyborg,master,Ia6f415b74150cdda94d71dc8b5e760f7758a526e,Improve UT for cyborg/db device profile,MERGED,2020-01-15 03:28:47.000000000,2020-02-08 17:44:09.000000000,2020-02-08 17:41:41.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 27458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-01-15 03:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ed83ebeda9c594e8807245b3b1104382a6f7f1ba', 'message': 'Improve UT for DB device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 2, 'created': '2020-01-15 08:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c88300113c76a74d866f64e59bc85c1436fcd709', 'message': 'Improve UT for DB device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nAlso, This patch remove unused param context when\ncreating device profile.\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 3, 'created': '2020-01-16 07:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ac583dda06ad341e4ab8eb616f5c7ee1128ce47a', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nAlso, This patch remove unused param context when\ncreating device profile.\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 4, 'created': '2020-01-16 07:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a43428fc9afcc4f8db2b0d67134cd1068c910068', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nAlso, This patch remove unused param context when\ncreating device profile.\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 5, 'created': '2020-01-16 12:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bd9f09ce8fa9c246f68ec8a89babc5ffb4657e09', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nAlso, This patch remove unused param context when\ncreating device profile.\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 6, 'created': '2020-01-17 07:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c4bc275383448052e9aef9c87927498c4cefdfbd', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 7, 'created': '2020-01-17 08:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5ef08166bdb20bf8992d047398b3a6557c662501', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 8, 'created': '2020-01-17 08:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d461b01a654f6ae211c9fdcc1e69a404293aaa48', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 9, 'created': '2020-01-19 01:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8d88f22757b5c6da00a8fe4dba1860f2593f0ca2', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\n'}, {'number': 10, 'created': '2020-01-19 07:32:18.000000000', 'files': ['cyborg/tests/unit/db/test_db_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6b28ca2722885f4eb4e0ae40b26b19d2347e21c0', 'message': 'Improve UT for cyborg/db device profile\n\nThis patch add some UT for device profile:\n1. get\n2. update\n3. create\n4. list\n5. delete\n\nChange-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e\nStory: 2007091\nTask: 38120\n'}]",14,702578,6b28ca2722885f4eb4e0ae40b26b19d2347e21c0,45,10,10,28748,,,0,"Improve UT for cyborg/db device profile

This patch add some UT for device profile:
1. get
2. update
3. create
4. list
5. delete

Change-Id: Ia6f415b74150cdda94d71dc8b5e760f7758a526e
Story: 2007091
Task: 38120
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/78/702578/10 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/db/sqlalchemy/api.py', 'cyborg/tests/unit/objects/test_device_profile.py', 'cyborg/tests/unit/db/test_db_device_profile.py', 'cyborg/objects/device_profile.py', 'cyborg/tests/unit/db/utils.py']",5,ed83ebeda9c594e8807245b3b1104382a6f7f1ba,improve_dp_db_ut,"from cyborg.db import api as db_api def create_test_device_profile(**kwargs): """"""Create test device profile handle entry in DB and return DeviceProfile DB object. Function to be used to create test DeviceProfile objects in the database. :param kwargs: kwargs which override default device profile attributes. :returns: Test DeviceProfile DB object. """""" device_profile = get_test_device_profile(**kwargs) dbapi = db_api.get_instance() return dbapi.device_profile_create(device_profile)",,79,5
openstack%2Fcyborg~master~I96a2f8292c7ada1508af32d5b56d746b36abe054,openstack/cyborg,master,I96a2f8292c7ada1508af32d5b56d746b36abe054,Define fake db objects for UT,MERGED,2020-01-16 07:08:41.000000000,2020-02-08 17:42:46.000000000,2020-02-08 17:41:35.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 27458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-01-16 07:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8c58dec195b8453843790e6648e7d6b4cd6b24bf', 'message': 'P1: public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 2, 'created': '2020-01-16 07:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bad6c9c6df1a00034d27a6c4310a15ede0d293b4', 'message': 'P1: public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 3, 'created': '2020-01-16 07:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/329e5f3b733e42f88ccad80c8624ee72a63a5814', 'message': 'Public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 4, 'created': '2020-01-16 07:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2a0a0939468adccf86ee0495d271f2608d04806c', 'message': 'Public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 5, 'created': '2020-01-16 11:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b90933cf8b9cf71ac1cf9ab154c09ef721d94eb6', 'message': 'Public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 6, 'created': '2020-01-16 12:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4565e6d1bc044c7cb46f21a26f52df85e10ce0cd', 'message': 'Public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 7, 'created': '2020-01-16 12:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/21fbc91df92af0310c5c829974b1b7b95259a4c6', 'message': 'Public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 8, 'created': '2020-01-17 07:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cf548870f06f07a367309ef93e61eba95032c578', 'message': 'Public interface define [Improve UT for cyborg/db]\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}, {'number': 9, 'created': '2020-01-19 01:35:56.000000000', 'files': ['cyborg/tests/unit/db/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d8cbe092deaae6be2d90221ce64b40bffa3116c6', 'message': 'Define fake db objects for UT\n\nThis is a series of unit test optimizations for db.\n\nChange-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054\nStory: 2007091\nTask: 38140\n'}]",2,702807,d8cbe092deaae6be2d90221ce64b40bffa3116c6,36,9,9,28748,,,0,"Define fake db objects for UT

This is a series of unit test optimizations for db.

Change-Id: I96a2f8292c7ada1508af32d5b56d746b36abe054
Story: 2007091
Task: 38140
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/07/702807/8 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/db/utils.py'],1,8c58dec195b8453843790e6648e7d6b4cd6b24bf,improve_dp_db_ut,"from cyborg.db import api as db_api def create_test_deployable(**kwargs): """"""Create test deployable entry in DB and return Deployable DB object. Function to be used to create test Deployable objects in the database. :param kwargs: kwargs which override default deployable attributes. :returns: Test Deployable DB object. """""" deployable = get_test_deployable(**kwargs) dbapi = db_api.get_instance() return dbapi.deployable_create(deployable) def create_test_extarq(**kwargs): """"""Create test extend arq entry in DB and return ExtArq DB object. Function to be used to create test ExtArq objects in the database. :param kwargs: kwargs which override default extend arq attributes. :returns: Test ExtArq DB object. """""" ext_arq = get_test_extarq(**kwargs) dbapi = db_api.get_instance() return dbapi.extarq_create(ext_arq) def create_test_attach_handle(**kwargs): """"""Create test attach handle entry in DB and return AttachHandle DB object. Function to be used to create test AttachHandle objects in the database. :param kwargs: kwargs which override default attach handle attributes. :returns: Test AttachHandle DB object. """""" attach_handle = get_test_attach_handle(**kwargs) dbapi = db_api.get_instance() return dbapi.attach_handle_create(attach_handle) def create_test_device_profile(**kwargs): """"""Create test device profile handle entry in DB and return DeviceProfile DB object. Function to be used to create test DeviceProfile objects in the database. :param kwargs: kwargs which override default device profile attributes. :returns: Test DeviceProfile DB object. """""" device_profile = get_test_device_profile(**kwargs) dbapi = db_api.get_instance() return dbapi.device_profile_create(device_profile)",,52,0
openstack%2Fopenstack-helm~master~I96b7f1e5391fe1cedcf7d23e0245881676ba3e0e,openstack/openstack-helm,master,I96b7f1e5391fe1cedcf7d23e0245881676ba3e0e,Imported Translations from Zanata,MERGED,2020-02-08 08:20:43.000000000,2020-02-08 17:38:41.000000000,2020-02-08 17:37:04.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-08 08:20:43.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-testing.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/549a1149175336b401ab7552970ea075404ed73d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I96b7f1e5391fe1cedcf7d23e0245881676ba3e0e\n'}]",0,706658,549a1149175336b401ab7552970ea075404ed73d,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I96b7f1e5391fe1cedcf7d23e0245881676ba3e0e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/706658/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc-testing.po'],1,549a1149175336b401ab7552970ea075404ed73d,zanata/translations,"""POT-Creation-Date: 2020-02-04 17:43+0000\n""""PO-Revision-Date: 2020-02-07 09:39+0000\n""msgid """" ""After the host is down (node voyager3), the node status changes to "" ""``NotReady``."" msgstr """" ""After the host is down (node voyager3), the node status changes to "" ""``NotReady``."" msgid ""Case: A host machine where ceph-mon is running is down"" msgstr ""Case: A host machine where ceph-mon is running is down"" ""quorum. Also, 6 osds running on ``voyager3`` are down (i.e., 18 out of 24 "" ""osds are up). Some placement groups become degraded and undersized."" msgstr """" ""Ceph status shows that ceph-mon running on ``voyager3`` becomes out of "" ""quorum. Also, 6 osds running on ``voyager3`` are down (i.e., 18 out of 24 "" ""osds are up). Some placement groups become degraded and undersized."" msgid """" ""Ceph status shows that ceph-mon running on ``voyager3`` becomes out of """"again. Also, Ceph pods are restarted automatically. Ceph status shows that "" ""the monitor running on ``voyager3`` is now in quorum."" msgstr """" ""The node status of ``voyager3`` changes to ``Ready`` after the node is up "" ""again. Also, Ceph pods are restarted automatically. Ceph status shows that "" ""the monitor running on ``voyager3`` is now in quorum."" msgid """" ""The node status of ``voyager3`` changes to ``Ready`` after the node is up """"This is for the case when a host machine (where ceph-mon is running) is down."" msgstr """" ""This is for the case when a host machine (where ceph-mon is running) is down."" msgid """"","""POT-Creation-Date: 2020-01-13 21:14+0000\n""""PO-Revision-Date: 2020-01-15 10:36+0000\n""",35,2
openstack%2Fdevstack~stable%2Fpike~I3823d9386a0d1bbe5adf3191ab4f40a89835dc18,openstack/devstack,stable/pike,I3823d9386a0d1bbe5adf3191ab4f40a89835dc18,Use stable constraint for Tempest pinned stable branches,MERGED,2020-02-06 01:00:58.000000000,2020-02-08 17:06:31.000000000,2020-02-08 17:06:31.000000000,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 01:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8af04c644271fcaf308757b69ac31be44118232', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\nDevstack can set stable u-c to use via env var so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I3823d9386a0d1bbe5adf3191ab4f40a89835dc18\n'}, {'number': 2, 'created': '2020-02-07 04:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4b40075b259d627209e65e5b9d5812b0530ffbf', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\nDevstack can set stable u-c to use via env var so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/705870/\nDepends-On: https://review.opendev.org/#/c/706427/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I3823d9386a0d1bbe5adf3191ab4f40a89835dc18\n'}, {'number': 3, 'created': '2020-02-08 13:39:25.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8e8a46f0a229d3cd3b3df9b33957dd524f690df2', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\nDevstack can set stable u-c to use via env var so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I3823d9386a0d1bbe5adf3191ab4f40a89835dc18\n'}]",0,706160,8e8a46f0a229d3cd3b3df9b33957dd524f690df2,19,5,3,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

Devstack can set stable u-c to use via env var so that
Tempest installation in venv will use stable
branch constraint.

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: I3823d9386a0d1bbe5adf3191ab4f40a89835dc18
",git fetch https://review.opendev.org/openstack/devstack refs/changes/60/706160/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,f8af04c644271fcaf308757b69ac31be44118232,fix-stable-gate, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release instead of using master. tox -evenv-tempest -- pip install -c $REQUIREMENTS_DIR/upper-constraints.txt -r requirements.txt # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint as defined in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$REQUIREMENTS_DIR/upper-constraints.txt # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. tox -evenv-tempest -- pip install -c $REQUIREMENTS_DIR/upper-constraints.txt $TEMPEST_PLUGINS," # The requirements might be on a different branch, while tempest needs master requirements. (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt tox -evenv-tempest -- pip install -c u-c-m.txt -r requirements.txt # The requirements might be on a different branch, while tempest & tempest plugins needs master requirements. (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > u-c-m.txt tox -evenv-tempest -- pip install -c u-c-m.txt $TEMPEST_PLUGINS",11,6
openstack%2Fnova~master~Iace3f653b42c20887b40ee0105c8e9a4edeff1f7,openstack/nova,master,Iace3f653b42c20887b40ee0105c8e9a4edeff1f7,Fix instance.hidden migration and querying,MERGED,2020-02-06 17:30:47.000000000,2020-02-08 17:04:28.000000000,2020-02-08 17:02:16.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 17:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3e8f1e53f543a7b5058e0fc7c403b6b65b810f0', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 2, 'created': '2020-02-06 18:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db77ef1cc630edc8e891f6920522bc5baa363b53', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 3, 'created': '2020-02-06 18:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f9d26ff9c6220549eaa83e748112c387eaa449d', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 4, 'created': '2020-02-06 21:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d9ccf8544b2efd10b92bf7d9be081d58211f033', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 5, 'created': '2020-02-06 23:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c465009446388e68ba356326b48240dd4ebca1c3', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 6, 'created': '2020-02-07 16:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf4fdff4ef2e4bf6764a16089b2040f4f2fc9aa', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 7, 'created': '2020-02-07 16:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8d8863b80dffbd01c845fe87512c2916ced5c73', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 8, 'created': '2020-02-07 16:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6533d2c9ce66163260ce0043a2a3a39b52443d85', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}, {'number': 9, 'created': '2020-02-07 16:55:00.000000000', 'files': ['releasenotes/notes/instances_hidden_after_upgrade_to_train-9ce4731f31bc6bd2.yaml', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_instances_hidden.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/001f3a7bfe6b2c8af135daff8e154a708792070e', 'message': 'Fix instance.hidden migration and querying\n\nIt was discovered that default= on a Column definition in a schema migration\nwill attempt to update the table with the provided value, instead of just\ntranslating on read, which is often the assumption. The Instance.hidden=False\nchange introduced in Train[1] used such a default on the new column, which caused\nat least one real-world deployment to time out rewriting the instances table\ndue to size. Apparently SQLAlchemy-migrate also does not consider such a timeout\nto be a failure and proceeds on. The end result is that some existing instances\nin the database have hidden=NULL values, and the DB model layer does not convert\nthose to hidden=False when we read/query them, causing those instances to be\nexcluded from the API list view.\n\nThis change alters the 399 schema migration to remove the default=False\nspecification. This does not actually change the schema, but /will/ prevent\nusers who have not yet upgraded to Train from rewriting the table.\n\nThis change also makes the instance_get_all_by_filters() code handle hidden\nspecially, including false and NULL in a query for non-hidden instances.\n\nA future change should add a developer trap test to ensure that future migrations\ndo not add default= values to new columns to avoid this situation in the future.\n\n[1] Iaffb27bd8c562ba120047c04bb62619c0864f594\n\nChange-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7\nCloses-Bug: #1862205\n'}]",29,706331,001f3a7bfe6b2c8af135daff8e154a708792070e,78,12,9,4393,,,0,"Fix instance.hidden migration and querying

It was discovered that default= on a Column definition in a schema migration
will attempt to update the table with the provided value, instead of just
translating on read, which is often the assumption. The Instance.hidden=False
change introduced in Train[1] used such a default on the new column, which caused
at least one real-world deployment to time out rewriting the instances table
due to size. Apparently SQLAlchemy-migrate also does not consider such a timeout
to be a failure and proceeds on. The end result is that some existing instances
in the database have hidden=NULL values, and the DB model layer does not convert
those to hidden=False when we read/query them, causing those instances to be
excluded from the API list view.

This change alters the 399 schema migration to remove the default=False
specification. This does not actually change the schema, but /will/ prevent
users who have not yet upgraded to Train from rewriting the table.

This change also makes the instance_get_all_by_filters() code handle hidden
specially, including false and NULL in a query for non-hidden instances.

A future change should add a developer trap test to ensure that future migrations
do not add default= values to new columns to avoid this situation in the future.

[1] Iaffb27bd8c562ba120047c04bb62619c0864f594

Change-Id: Iace3f653b42c20887b40ee0105c8e9a4edeff1f7
Closes-Bug: #1862205
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/706331/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_instances_hidden.py', 'nova/db/sqlalchemy/api.py']",4,e3e8f1e53f543a7b5058e0fc7c403b6b65b810f0,bug/1862205," if filters.pop('hidden', False): query_prefix = query_prefix.filter(models.Instance.hidden == true()) else: # If the query should not include hidden instances, then # filter instances with hidden=False or hidden=NULL because # older records may have no value set. query_prefix = query_prefix.filter(or_( models.Instance.hidden == false(), models.Instance.hidden == null()))", if 'hidden' not in filters: # Filter out hidden instances by default. filters['hidden'] = False,55,6
openstack%2Fcharm-vault~master~I0618ac214e285c23596681140e86e3ef3744b8c7,openstack/charm-vault,master,I0618ac214e285c23596681140e86e3ef3744b8c7,Rebuild for 20.02 release,MERGED,2020-02-05 17:03:09.000000000,2020-02-08 15:47:22.000000000,2020-02-08 15:47:22.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 17:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a436e9d9fb38c1c0fb19c96ef7aa703e74f02ce1', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I0618ac214e285c23596681140e86e3ef3744b8c7\n'}, {'number': 2, 'created': '2020-02-07 15:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f95c4178558a5d7f9f9bdcf7a7c9cd139e45f952', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I0618ac214e285c23596681140e86e3ef3744b8c7\n'}, {'number': 3, 'created': '2020-02-08 08:49:31.000000000', 'files': ['rebuild', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/026d7681840125d61e507b69f074af532c5c7a04', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: I0618ac214e285c23596681140e86e3ef3744b8c7\n'}]",0,706048,026d7681840125d61e507b69f074af532c5c7a04,21,5,3,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: I0618ac214e285c23596681140e86e3ef3744b8c7
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/48/706048/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a436e9d9fb38c1c0fb19c96ef7aa703e74f02ce1,rebuild-reactive-2002,52737480-4839-11ea-8ea6-4bb6c0f4660c,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fgrenade~stable%2Fpike~Icfccaa38bcf9a9567152d0b84580683728c929e5,openstack/grenade,stable/pike,Icfccaa38bcf9a9567152d0b84580683728c929e5,Use stable constraint for Tempest pinned stable branches,MERGED,2020-02-07 04:09:53.000000000,2020-02-08 11:54:02.000000000,2020-02-08 11:52:43.000000000,"[{'_account_id': 4146}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 04:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/bb4f484edf9889ae4c4542c008af313c7a3aaf90', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 2, 'created': '2020-02-07 12:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/ee222a7c8b580a7a3089d668fcd3a513e9af1091', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 3, 'created': '2020-02-07 14:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/3399b2045bf43756b71432508332a640f25e6974', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}, {'number': 4, 'created': '2020-02-07 20:11:37.000000000', 'files': ['grenade.sh', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/948ef7833149dcb982054a947507b9e32f007d34', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\ngrenade needs to use the stable u-c so that\nTempest installation in venv will use stable\nbranch constraint.\n\nAlso fixing broken doc job.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5\n'}]",0,706427,948ef7833149dcb982054a947507b9e32f007d34,19,4,4,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

grenade needs to use the stable u-c so that
Tempest installation in venv will use stable
branch constraint.

Also fixing broken doc job.

Depends-On: https://review.opendev.org/#/c/706178/

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: Icfccaa38bcf9a9567152d0b84580683728c929e5
",git fetch https://review.opendev.org/openstack/grenade refs/changes/27/706427/4 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,bb4f484edf9889ae4c4542c008af313c7a3aaf90,fix-stable-gate, # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint which is hard coded in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$BASE_RELEASE_DIR/upper-constraints.txt ,,7,0
openstack%2Fcontributor-guide~master~Ieb97f5644924fa4f6f47dedb328225e3a57151da,openstack/contributor-guide,master,Ieb97f5644924fa4f6f47dedb328225e3a57151da,Imported Translations from Zanata,MERGED,2020-02-08 08:17:28.000000000,2020-02-08 09:56:50.000000000,2020-02-08 09:54:50.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-08 08:17:28.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-common.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/899b01940d6e9e9dc97bb015a51bb4d1429e25be', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ieb97f5644924fa4f6f47dedb328225e3a57151da\n'}]",0,706657,899b01940d6e9e9dc97bb015a51bb4d1429e25be,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ieb97f5644924fa4f6f47dedb328225e3a57151da
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/57/706657/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc-common.po'],1,899b01940d6e9e9dc97bb015a51bb4d1429e25be,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2018. #zanata # Andi Chandler <andi@gowling.com>, 2019. #zanata # Andi Chandler <andi@gowling.com>, 2020. #zanata msgid """" msgstr """" ""Project-Id-Version: contributor-guide\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2020-02-07 07:38+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2020-02-07 09:37+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom)\n"" ""Language: en_GB\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""#openstack-mentoring"" msgstr ""#openstack-mentoring"" msgid """" ""**Both mentors and mentees should subscribe to stay up to date with "" ""conversations.**"" msgstr """" ""**Both mentors and mentees should subscribe to stay up to date with "" ""conversations.**"" msgid """" ""**Bug Status** All bugs have a status lifecycle. They start as 'New' and "" ""move to other statuses from there depending on what all is included in the "" ""description and if others can duplicate the issue. Resolved statuses, "" ""meaning there is no more work to be done on the bug are: 'Fix Released', "" ""'Invalid', or 'Won't Fix'."" msgstr """" ""**Bug Status** All bugs have a status lifecycle. They start as 'New' and "" ""move to other statuses from there depending on what all is included in the "" ""description and if others can duplicate the issue. Resolved statuses, "" ""meaning there is no more work to be done on the bug are: 'Fix Released', "" ""'Invalid', or 'Won't Fix'."" msgid ""**Private key** - Only known to you and it should be safely guarded."" msgstr ""**Private key** - Only known to you and it should be safely guarded."" msgid """" ""**Public key** - Can be shared freely with any SSH server you wish to "" ""connect to."" msgstr """" ""**Public key** - Can be shared freely with any SSH server you wish to "" ""connect to."" msgid ""6 months from the time the branch is made unmaintained."" msgstr ""6 months from the time the branch is made unmaintained."" msgid ""A Task Tracker account allows you to:"" msgstr ""A Task Tracker account allows you to:"" msgid """" ""A good channel to join right away is the #openstack-dev channel. A lot of "" ""people hang around in that channel so come on in and say hello! If there is "" ""a specific project you are also interested in working on, feel free to join "" ""that one as well and introduce yourself there. Interested in joining more "" ""channels or need to look up what one is called? Check out :ref:`irc-"" ""channels` for more information."" msgstr """" ""A good channel to join right away is the #openstack-dev channel. A lot of "" ""people hang around in that channel so come on in and say hello! If there is "" ""a specific project you are also interested in working on, feel free to join "" ""that one as well and introduce yourself there. Interested in joining more "" ""channels or need to look up what one is called? Check out :ref:`irc-"" ""channels` for more information."" msgid """" ""A message dialog window will come up. Type the following to register your "" ""nick name with nickserv replacing **mysecretpassword** and **test@domain."" ""com** with your own password and email address::"" msgstr """" ""A message dialog window will come up. Type the following to register your "" ""nick name with nickserv replacing **mysecretpassword** and **test@domain."" ""com** with your own password and email address::"" msgid """" ""A story is a desired change. Whether it is a bug or a new feature, both are "" ""essentially a code change. Tasks are sub items of the story; they are tied "" ""to specific projects. As an example, a story could be to invent some new "" ""feature A, and tasks would be change in project X, change in project Y, and "" ""change in project Z. Those changes need to merge in order to complete "" ""feature A."" msgstr """" ""A story is a desired change. Whether it is a bug or a new feature, both are "" ""essentially a code change. Tasks are sub items of the story; they are tied "" ""to specific projects. As an example, a story could be to invent some new "" ""feature A, and tasks would be change in project X, change in project Y, and "" ""change in project Z. Those changes need to merge in order to complete "" ""feature A."" msgid ""Account Setup"" msgstr ""Account Setup"" msgid ""Active Project Contributor (APC)"" msgstr ""Active Project Contributor (APC)"" msgid ""Active Technical Contributor (ATC)"" msgstr ""Active Technical Contributor (ATC)"" msgid ""Active User Contributor (AUC)"" msgstr ""Active User Contributor (AUC)"" msgid ""Add A New Connection"" msgstr ""Add A New Connection"" msgid """" ""Add your affiliation information and statement of interest. This will be "" ""visible only to foundation members."" msgstr """" ""Add your affiliation information and statement of interest. This will be "" ""visible only to foundation members."" msgid """" ""After clicking that button, the further information field will appear along "" ""with the 'This bug is a security vulnerability' radio box. You can edit the "" ""summary line to differentiate it from the other bugs Launchpad thought it "" ""was similar to, add details like the setup you were using, what you were "" ""doing when you hit the unexpected behavior, the error codes you encountered, "" ""etc."" msgstr """" ""After clicking that button, the further information field will appear along "" ""with the 'This bug is a security vulnerability' radio box. You can edit the "" ""summary line to differentiate it from the other bugs Launchpad thought it "" ""was similar to, add details like the setup you were using, what you were "" ""doing when you hit the unexpected behaviour, the error codes you "" ""encountered, etc."" msgid """" ""After the first milestone, some projects focus more on the development and "" ""bug fixing activities, while other projects might still accept new ideas to "" ""implement in that cycle."" msgstr """" ""After the first milestone, some projects focus more on the development and "" ""bug fixing activities, while other projects might still accept new ideas to "" ""implement in that cycle."" msgid """" ""After the third milestone the community is focusing on stabilizing the "" ""release by putting more emphasis on testing and fixing bugs. The projects "" ""following the release cycle have their release candidates tagged after the "" ""third milestone. There are no limits to release candidates, but the goal is "" ""to keep the number low and fix all the critical issues that got identified "" ""by milestone-3."" msgstr """" ""After the third milestone the community is focusing on stabilising the "" ""release by putting more emphasis on testing and fixing bugs. The projects "" ""following the release cycle have their release candidates tagged after the "" ""third milestone. There are no limits to release candidates, but the goal is "" ""to keep the number low and fix all the critical issues that got identified "" ""by milestone-3."" msgid ""All appropriate bug fixes accepted and releases are produced."" msgstr ""All appropriate bug fixes accepted and releases are produced."" msgid """" ""All appropriate bug fixes accepted. No releases are produced and there is "" ""reduced CI commitment."" msgstr """" ""All appropriate bug fixes accepted. No releases are produced and there is "" ""reduced CI commitment."" msgid ""All common tools like bash, git, and SSH will work out of the box."" msgstr ""All common tools like bash, git, and SSH will work out of the box."" msgid """" ""Although Git `download page <https://git-scm.com/downloads>`_ provides "" ""Windows installation binary, most OpenStack development tools (e.g., git-"" ""review) unfortunately will not work well on Windows environment."" msgstr """" ""Although Git `download page <https://git-scm.com/downloads>`_ provides "" ""Windows installation binary, most OpenStack development tools (e.g., git-"" ""review) unfortunately will not work well on Windows environment."" msgid ""An OpenStack Foundation account allows you to:"" msgstr ""An OpenStack Foundation account allows you to:"" msgid """" ""An agreement to clarify intellectual property rights granted with "" ""contributions from a person or entity. `Preview the full agreement <https://"" ""review.opendev.org/static/cla.html>`_."" msgstr """" ""An agreement to clarify intellectual property rights granted with "" ""contributions from a person or entity. `Preview the full agreement <https://"" ""review.opendev.org/static/cla.html>`_."" msgid """" ""An employer with the appropriate signing rights of the company or "" ""organization needs to sign the `Corporate Contributor License Agreement "" ""<https://secure.echosign.com/public/hostedForm?formid=56JUVGT95E78X5>`_."" msgstr """" ""An employer with the appropriate signing rights of the company or "" ""organization needs to sign the `Corporate Contributor Licence Agreement "" ""<https://secure.echosign.com/public/hostedForm?formid=56JUVGT95E78X5>`_."" msgid ""Approximately 18 months"" msgstr ""Approximately 18 months"" msgid """" ""As a software, OpenStack is built from a set of microservices which can be "" ""combined into different setups based on the actual need. The services "" ""provide REST APIs for their users. These can be the cloud operators or other "" ""services. To make the usage of the APIs easier it is possible to use "" ""Software Development Kits (SDKs) which are also developed as projects inside "" ""the OpenStack community."" msgstr """" ""As a software, OpenStack is built from a set of microservices which can be "" ""combined into different setups based on the actual need. The services "" ""provide REST APIs for their users. These can be the Cloud operators or other "" ""services. To make the usage of the APIs easier it is possible to use "" ""Software Development Kits (SDKs) which are also developed as projects inside "" ""the OpenStack community."" msgid ""As it stands right now, there are 4 mentoring cohorts:"" msgstr ""As it stands right now, there are 4 mentoring cohorts:"" msgid """" ""Aside from the Forum, the other operator focused event is the operator "" ""meetup. You can read general information about it here :ref:`ops-meetup`. "" ""It's organized by the operator community biannually in locations all over "" ""the world."" msgstr """" ""Aside from the Forum, the other operator focused event is the operator "" ""meetup. You can read general information about it here :ref:`ops-meetup`. "" ""It's organised by the operator community biannually in locations all over "" ""the world."" msgid ""Ask questions and get prompt responses from the community"" msgstr ""Ask questions and get prompt responses from the community"" msgid """" ""At the prompt, type a secure passphrase, you may enter one or press Enter to "" ""have no passphrase::"" msgstr """" ""At the prompt, type a secure passphrase, you may enter one or press Enter to "" ""have no passphrase::"" msgid ""Auto-Login On Connecting To Freenode"" msgstr ""Auto-Login On Connecting To Freenode"" msgid """" ""Based on the summary line, Launchpad will do a quick query to see if there "" ""has been anything reported already that might be the same issue you are "" ""trying to report. It is important to look through these to avoid filing "" ""duplicate bugs and creating redundancies in the bug index. If you do not see "" ""a bug that sounds like the issue you are reporting, you can click the 'No, I "" ""need to report a new bug' button."" msgstr """" ""Based on the summary line, Launchpad will do a quick query to see if there "" ""has been anything reported already that might be the same issue you are "" ""trying to report. It is important to look through these to avoid filing "" ""duplicate bugs and creating redundancies in the bug index. If you do not see "" ""a bug that sounds like the issue you are reporting, you can click the 'No, I "" ""need to report a new bug' button."" msgid """" ""Be included in master and backported to all releases between master and the "" ""stable branch in question"" msgstr """" ""Be included in master and backported to all releases between master and the "" ""stable branch in question"" msgid ""Be self contained"" msgstr ""Be self contained"" msgid """" ""Become COA certified or study for COA: Mentors will provide support and "" ""guidance to mentees as they prepare for the COA exam."" msgstr """" ""Become COA certified or study for COA: Mentors will provide support and "" ""guidance to mentees as they prepare for the COA exam."" msgid """" ""Before doing **git commit** on your patch it is important to initialize git "" ""review. Use the following command to do the initial git review configuration "" ""in your repository::"" msgstr """" ""Before doing **git commit** on your patch it is important to initialize git "" ""review. Use the following command to do the initial git review configuration "" ""in your repository::"" msgid """" ""Before raising a bug, story or feature request it's important to note that "" ""not all projects do the same thing. It's best to go check with the project "" ""to see how they handle these requests. For details on how to contact a "" ""project check the `project list <https://governance.openstack.org/tc/"" ""reference/projects/index.html>`_."" msgstr """" ""Before raising a bug, story or feature request it's important to note that "" ""not all projects do the same thing. It's best to go check with the project "" ""to see how they handle these requests. For details on how to contact a "" ""project check the `project list <https://governance.openstack.org/tc/"" ""reference/projects/index.html>`_."" msgid """" ""Before the Ocata release the Maintained and Extended Maintenance phases were "" ""only 6 months long. This meant that each release went End of Life after 18 "" ""months. It was determined that this practice was not beneficial for "" ""distributors or users of OpenStack. As a result the Maintained state was "" ""updated to last 18 months and the Extended Maitenance time frame was made "" ""flexible increasing the number of stable branches still accepting fixes."" msgstr """" ""Before the Ocata release the Maintained and Extended Maintenance phases were "" ""only 6 months long. This meant that each release went End of Life after 18 "" ""months. It was determined that this practice was not beneficial for "" ""distributors or users of OpenStack. As a result the Maintained state was "" ""updated to last 18 months and the Extended Maitenance time frame was made "" ""flexible increasing the number of stable branches still accepting fixes."" msgid ""Benefits for official OpenStack projects:"" msgstr ""Benefits for official OpenStack projects:"" msgid ""Blueprints"" msgstr ""Blueprints"" msgid ""Boards & Worklists"" msgstr ""Boards & Worklists"" msgid ""Body"" msgstr ""Body"" msgid ""Branch is no longer accepting Changes."" msgstr ""Branch is no longer accepting Changes."" msgid ""Bugs"" msgstr ""Bugs"" msgid """" ""Bugs are pretty self explanitory- some unexpected or unintended behavior of "" ""the software. To report a bug you have found in Launchpad, click the 'Report "" ""a bug' button from the project's overview page."" msgstr """" ""Bugs are pretty self explanitory- some unexpected or unintended behavior of "" ""the software. To report a bug you have found in Launchpad, click the 'Report "" ""a bug' button from the project's overview page."" msgid ""Build up your persona in the community as a contributing member"" msgstr ""Build up your persona in the community as a contributing member"" msgid ""CI"" msgstr ""CI"" msgid """" ""Can participate in common programs, like `mentoring <https://wiki.openstack."" ""org/wiki/Mentors>`_ and `internship <https://wiki.openstack.org/wiki/"" ""Outreachy>`_ to help with on boarding"" msgstr """" ""Can participate in common programs, like `mentoring <https://wiki.openstack."" ""org/wiki/Mentors>`_ and `internship <https://wiki.openstack.org/wiki/"" ""Outreachy>`_ to help with on boarding"" msgid """" ""Can publish to `docs.openstack.org <https://docs.openstack.org/>`_ and "" ""`developer.openstack.org <https://developer.openstack.org/>`_"" msgstr """" ""Can publish to `docs.openstack.org <https://docs.openstack.org/>`_ and "" ""`developer.openstack.org <https://developer.openstack.org/>`_"" msgid ""Check For Existing Keys"" msgstr ""Check For Existing Keys"" msgid ""Checking Status in Zuul"" msgstr ""Checking Status in Zuul"" msgid """" ""Choose a project where you want to contribute with translating. Usually "" ""there is a translation plan with priorities on the start page."" msgstr """" ""Choose a project where you want to contribute with translating. Usually "" ""there is a translation plan with priorities on the start page."" msgid """" ""Choose and type your username carefully. Once it is set, you cannot change "" ""the username."" msgstr """" ""Choose and type your username carefully. Once it is set, you cannot change "" ""the username."" msgid """" ""Click **Hexchat** from the menu and then click **Network List**. You will "" ""see a familiar first screen of servers listed. Make sure Freenode is "" ""highlighted and click **edit**."" msgstr """" ""Click **Hexchat** from the menu and then click **Network List**. You will "" ""see a familiar first screen of servers listed. Make sure Freenode is "" ""highlighted and click **edit**."" msgid ""Click **cancel**."" msgstr ""Click **cancel**."" msgid """" ""Click **disconnect** and click **connect** to retry connecting with the new "" ""nick name."" msgstr """" ""Click **disconnect** and click **connect** to retry connecting with the new "" ""nick name."" msgid ""Click the 'Add Key' button."" msgstr ""Click the 'Add Key' button."" msgid ""Click the **edit** button and"" msgstr ""Click the **edit** button and"" msgid ""Click the **info** icon."" msgstr ""Click the **info** icon."" msgid ""Click the **message user** icon and type::"" msgstr ""Click the **message user** icon and type::"" msgid ""Code review"" msgstr ""Code review"" msgid ""Commit Messages"" msgstr ""Commit Messages"" msgid """" ""Commit messsages are the first things a reviewer sees and are used as "" ""descriptions in the git log. They provide a description of the history of "" ""changes in a repository. Commit messages cannot be modified once the patch "" ""is merged."" msgstr """" ""Commit messsages are the first things a reviewer sees and are used as "" ""descriptions in the git log. They provide a description of the history of "" ""changes in a repository. Commit messages cannot be modified once the patch "" ""is merged."" msgid ""Committees"" msgstr ""Committees"" msgid """" ""Communicate with project teams, technical committee, SIGs, and other Working "" ""Groups."" msgstr """" ""Communicate with project teams, technical committee, SIGs, and other Working "" ""Groups."" msgid ""Communication"" msgstr ""Communication"" msgid ""Community"" msgstr ""Community"" msgid """" ""Community members who have engaged in community functions listed in the "" ""`related section of the User Committee Charter <https://governance.openstack."" ""org/uc/reference/charter.html#active-user-contributors-auc>`_ are considered "" ""to be Active User Contributors."" msgstr """" ""Community members who have engaged in community functions listed in the "" ""`related section of the User Committee Charter <https://governance.openstack."" ""org/uc/reference/charter.html#active-user-contributors-auc>`_ are considered "" ""to be Active User Contributors."" msgid ""Community-organized Events"" msgstr ""Community-organised Events"" msgid ""Conference"" msgstr ""Conference"" msgid ""Configuration"" msgstr ""Configuration"" msgid ""Configure Git"" msgstr ""Configure Git"" msgid """" ""Congratulations you're now ready to communicate with the OpenStack community "" ""and have a registered nick name on Freenode! From here on out when you "" ""connect to Freenode with Colloquy you will be identified with your nickname."" msgstr """" ""Congratulations you're now ready to communicate with the OpenStack community "" ""and have a registered nick name on Freenode! From here on out when you "" ""connect to Freenode with Colloquy you will be identified with your nickname."" msgid """" ""Congratulations you're now ready to communicate with the OpenStack community "" ""and have a registered nick name on Freenode! From here on out when you "" ""connect to Freenode with Hexchat you will be identified with your nickname."" msgstr """" ""Congratulations you're now ready to communicate with the OpenStack community "" ""and have a registered nick name on Freenode! From here on out when you "" ""connect to Freenode with Hexchat you will be identified with your nickname."" msgid ""Contribute as a Translator"" msgstr ""Contribute as a Translator"" msgid ""Contributors From a Company or Organization"" msgstr ""Contributors From a Company or Organisation"" msgid ""Contributors From the U.S. Government"" msgstr ""Contributors From the U.S. Government"" msgid ""Contributors get to vote in the Technical Committee election"" msgstr ""Contributors get to vote in the Technical Committee election"" msgid ""Copy Public Key"" msgstr ""Copy Public Key"" msgid ""Core Reviewer"" msgstr ""Core Reviewer"" msgid ""Core reviewers are responsible for:"" msgstr ""Core reviewers are responsible for:"" msgid """" ""Core reviewers have '+/-2' and 'W+1' rights in Gerrit that is required for "" ""blocking or approving a patch."" msgstr """" ""Core reviewers have '+/-2' and 'W+1' rights in Gerrit that is required for "" ""blocking or approving a patch."" msgid ""Create stories for new features (Process varies per project)"" msgstr ""Create stories for new features (Process varies per project)"" msgid ""Defining and maintaining the project mission"" msgstr ""Defining and maintaining the project mission"" msgid """" ""Depending on what time zone you are based in there might be more traffic on "" ""some channels than others. Have a little patience when waiting for people to "" ""respond."" msgstr """" ""Depending on what time zone you are based in there might be more traffic on "" ""some channels than others. Have a little patience when waiting for people to "" ""respond."" msgid """" ""Deploy your first Cloud: Mentors will provide assistance to mentees "" ""deploying OpenStack for the first time. This could involve analysis of "" ""available deployment tools, configuration, or troubleshooting."" msgstr """" ""Deploy your first Cloud: Mentors will provide assistance to mentees "" ""deploying OpenStack for the first time. This could involve analysis of "" ""available deployment tools, configuration, or troubleshooting."" msgid ""Documentation"" msgstr ""Documentation"" msgid """" ""Documentation is very important for the community so you can find guidelines "" ""about how to install and use the services developed by the project teams on "" ""the `documentation website for OpenStack <https://docs.openstack.org>`_."" msgstr """" ""Documentation is very important for the community so you can find guidelines "" ""about how to install and use the services developed by the project teams on "" ""the `documentation website for OpenStack <https://docs.openstack.org>`_."" msgid ""Done"" msgstr ""Done"" msgid """" ""Each project and working group has its own IRC channel. The common syntax "" ""for naming the IRC channels is: #openstack-<name-of-project>. See the `list "" ""of OpenStack-related IRC channels <http://eavesdrop.openstack.org/"" ""#channels>`__."" msgstr """" ""Each project and working group has its own IRC channel. The common syntax "" ""for naming the IRC channels is: #openstack-<name-of-project>. See the `list "" ""of OpenStack-related IRC channels <http://eavesdrop.openstack.org/"" ""#channels>`__."" msgid """" ""Each project and working group has its own `wiki page <https://wiki."" ""openstack.org/wiki/Main_Page>`__. Wiki pages are a secondary source of "" ""information. They hold information that is subject to more change than the "" ""info provided in the project's documentation i.e. meeting agendas, team "" ""members, etc."" msgstr """" ""Each project and working group has its own `wiki page <https://wiki."" ""openstack.org/wiki/Main_Page>`__. Wiki pages are a secondary source of "" ""information. They hold information that is subject to more change than the "" ""info provided in the project's documentation i.e. meeting agendas, team "" ""members, etc."" msgid """" ""Each project is different in the process of reporting bugs and planning new "" ""features. There are however two main tools that projects use: Launchpad and "" ""Storyboard."" msgstr """" ""Each project is different in the process of reporting bugs and planning new "" ""features. There are however two main tools that projects use: Launchpad and "" ""Storyboard."" msgid ""Edit Nick Name Settings"" msgstr ""Edit Nick Name Settings"" msgid ""Edit Server Settings"" msgstr ""Edit Server Settings"" msgid """" ""Employers can update the list of authorized employees by filling out and "" ""signing an `Updated Schedule A Form <https://openstack.echosign.com/public/"" ""hostedForm?formid=56JUVP6K4Z6P4C>`_."" msgstr """" ""Employers can update the list of authorized employees by filling out and "" ""signing an `Updated Schedule A Form <https://openstack.echosign.com/public/"" ""hostedForm?formid=56JUVP6K4Z6P4C>`_."" msgid ""Empty line"" msgstr ""Empty line"" msgid ""End of Life (EOL)"" msgstr ""End of Life (EOL)"" msgid """" ""Ethercalc is a simple collaborative spreadsheet. It works in a similar way "" ""as Etherpad, but it is more useful to facilitate distributed booking or "" ""scheduling of resources. The starting page of OpenStack Ethercalc is `here "" ""<https://ethercalc.openstack.org/>`_."" msgstr """" ""Ethercalc is a simple collaborative spreadsheet. It works in a similar way "" ""as Etherpad, but it is more useful to facilitate distributed booking or "" ""scheduling of resources. The starting page of OpenStack Ethercalc is `here "" ""<https://ethercalc.openstack.org/>`_."" msgid """" ""Etherpad is a simple collaborative text editor. It is used as a common place "" ""to have people in a project collaborate on larger projects and planning of "" ""events. There is no master list of etherpads - it is harder to find what you "" ""are looking for without having looked at it before or without asking for the "" ""URL. It is recommended to bookmark the important etherpads for later "" ""reference. The starting page of the OpenStack Etherpad is `this <https://"" ""etherpad.openstack.org>`_."" msgstr """" ""Etherpad is a simple collaborative text editor. It is used as a common place "" ""to have people in a project collaborate on larger projects and planning of "" ""events. There is no master list of etherpads - it is harder to find what you "" ""are looking for without having looked at it before or without asking for the "" ""URL. It is recommended to bookmark the important etherpads for later "" ""reference. The starting page of the OpenStack Etherpad is `this <https://"" ""etherpad.openstack.org>`_."" msgid ""Etherpads and Ethercalcs"" msgstr ""Etherpads and Ethercalcs"" msgid ""Events"" msgstr ""Events"" msgid ""Extended Maintenance"" msgstr ""Extended Maintenance"" msgid """" ""Fill in your email address, name, password, and accepting the terms of "" ""services."" msgstr """" ""Fill in your email address, name, password, and accepting the terms of "" ""services."" msgid """" ""Fill in your home address. This will be only visible to foundation members."" msgstr """" ""Fill in your home address. This will be only visible to foundation members."" msgid """" ""Fill in your name, e-mail address, and gender. Use the same e-mail address "" ""at every step of the registration procedure. This address will also be used "" ""as your login. Your gender information is available via public API."" msgstr """" ""Fill in your name, e-mail address, and gender. Use the same e-mail address "" ""at every step of the registration procedure. This address will also be used "" ""as your login. Your gender information is available via public API."" msgid ""Fill in your password and check the box next to 'I'm not a robot'."" msgstr ""Fill in your password and check the box next to 'I'm not a robot'."" msgid """" ""Finally you need to tell ssh what host(s) to associate SSH keys with. To do "" ""this open \""~/.ssh/config\"" in an editor, create the file if it doesn't "" ""exist and add something like::"" msgstr """" ""Finally you need to tell ssh what host(s) to associate SSH keys with. To do "" ""this open \""~/.ssh/config\"" in an editor, create the file if it doesn't "" ""exist and add something like::"" msgid """" ""First CFP submission or Give your first talk: Mentors will assist mentees "" ""with submitting a CFP and preparing to give a talk. This could be for "" ""OpenStack Summit, OpenStack Days, a local meetup, or another conference or "" ""event."" msgstr """" ""First CFP submission or Give your first talk: Mentors will assist mentees "" ""with submitting a CFP and preparing to give a talk. This could be for "" ""OpenStack Summit, OpenStack Days, a local meetup, or another conference or "" ""event."" msgid """" ""First fill out the **Nickname** and **User name** field with your choice of "" ""a nickname."" msgstr """" ""First fill out the **Nickname** and **User name** field with your choice of "" ""a nickname."" msgid ""For Fedora 22 or later open a terminal and type::"" msgstr ""For Fedora 22 or later open a terminal and type::"" msgid ""For SUSE distributions open a terminal and type::"" msgstr ""For SUSE distributions open a terminal and type::"" msgid """" ""For Windows environment, download latest Hexchat installation binary from "" ""`Hexchat download <https://hexchat.github.io/downloads.html>`__ and install "" ""it. You will probably also need extra components shown just under Hexchat."" msgstr """" ""For Windows environment, download latest Hexchat installation binary from "" ""`Hexchat download <https://hexchat.github.io/downloads.html>`__ and install "" ""it. You will probably also need extra components shown just under Hexchat."" msgid """" ""For a Linux distributions like Debian, Ubuntu, or Mint open a terminal and "" ""type::"" msgstr """" ""For a Linux distributions like Debian, Ubuntu, or Mint open a terminal and "" ""type::"" msgid """" ""For a Linux distributions like Redhat, Fedora 21 or earlier, or CentOS open "" ""a terminal and type::"" msgstr """" ""For a Linux distributions like Redhat, Fedora 21 or earlier, or CentOS open "" ""a terminal and type::"" msgid """" ""For distributions like Debian, Ubuntu, or Mint open a terminal and type::"" msgstr """" ""For distributions like Debian, Ubuntu, or Mint open a terminal and type::"" msgid """" ""For distributions like RedHat, Fedora 21 or earlier, or CentOS open a "" ""terminal and type::"" msgstr """" ""For distributions like RedHat, Fedora 21 or earlier, or CentOS open a "" ""terminal and type::"" msgid """" ""For information on how to use storyboard, please see `the user interface "" ""manual <https://docs.openstack.org/infra/storyboard/gui/tasks_stories_tags."" ""html>`_."" msgstr """" ""For information on how to use storyboard, please see `the user interface "" ""manual <https://docs.openstack.org/infra/storyboard/gui/tasks_stories_tags."" ""html>`_."" msgid """" ""For more detailed information on Stable Branches and their maintenance "" ""phases see the `Stable Branches <https://docs.openstack.org/project-team-"" ""guide/stable-branches.html>`_ page."" msgstr """" ""For more detailed information on Stable Branches and their maintenance "" ""phases see the `Stable Branches <https://docs.openstack.org/project-team-"" ""guide/stable-branches.html>`_ page."" msgid """" ""For more information please visit the `OpenStack I18n Guide <https://docs."" ""openstack.org/i18n/latest/index.html>`_. This guide is also translatable."" msgstr """" ""For more information please visit the `OpenStack I18n Guide <https://docs."" ""openstack.org/i18n/latest/index.html>`_. This guide is also translatable."" msgid """" ""For other information about the project itself, please check out `their "" ""documentation <https://docs.openstack.org/infra/storyboard/>`_."" msgstr """" ""For other information about the project itself, please check out `their "" ""documentation <https://docs.openstack.org/infra/storyboard/>`_."" msgid """" ""For reference, use the `Git Reference and Cheat Sheet <https://git-scm.com/"" ""doc>`_."" msgstr """" ""For reference, use the `Git Reference and Cheat Sheet <https://git-scm.com/"" ""doc>`_."" msgid """" ""For registration and login you need an :doc:`OpenStack Foundation Account "" ""<accounts>`. Click on *LogIn* on `translate.openstack.org <https://translate."" ""openstack.org/>`_ and follow the process for applying your Zanata profile."" msgstr """" ""For registration and login you need an :doc:`OpenStack Foundation Account "" ""<accounts>`. Click on *LogIn* on `translate.openstack.org <https://translate."" ""openstack.org/>`_ and follow the process for applying your Zanata profile."" msgid """" ""For the **Chat Server Port** type in **6697** and check the **SSL "" ""Connection** box."" msgstr """" ""For the **Chat Server Port** type in **6697** and check the **SSL "" ""Connection** box."" msgid ""For the **Chat server** type in **irc.freenode.net**."" msgstr ""For the **Chat server** type in **irc.freenode.net**."" msgid ""Format:"" msgstr ""Format:"" msgid ""Forum"" msgstr ""Forum"" msgid ""Foundation Board of Directors"" msgstr ""Foundation Board of Directors"" msgid """" ""From here on out when you sign into Gerrit, you'll be prompted to enter your "" ""Launchpad login info. This is because Gerrit uses it as an OpenID single "" ""sign on."" msgstr """" ""From here on out when you sign into Gerrit, you'll be prompted to enter your "" ""Launchpad login info. This is because Gerrit uses it as an OpenID single "" ""sign on."" msgid """" ""From the list of **Networks** you should see Freenode. Select that and click "" ""'edit'."" msgstr """" ""From the list of **Networks** you should see Freenode. Select that and click "" ""'edit'."" msgid """" ""From your downloads folder, drag the Colloquy application icon to your "" ""applications folder to install."" msgstr """" ""From your downloads folder, drag the Colloquy application icon to your "" ""applications folder to install."" msgid ""From your terminal type::"" msgstr ""From your terminal type::"" msgid ""GIT"" msgstr ""GIT"" msgid ""General Information"" msgstr ""General Information"" msgid ""Generate SSH Key Pairs"" msgstr ""Generate SSH Key Pairs"" msgid ""Generating A Separate Key Pair For OpenStack Gerrit (optional)"" msgstr ""Generating A Separate Key Pair For OpenStack Gerrit (optional)"" msgid ""Generating The Default Or Initial SSH Key Pair"" msgstr ""Generating The Default Or Initial SSH Key Pair"" msgid ""Gerrit allows you to review:"" msgstr ""Gerrit allows you to review:"" msgid ""Get guidance from community members and leaders"" msgstr ""Get guidance from community members and leaders"" msgid ""Get marketing from the OpenStack Foundation"" msgstr ""Get marketing from the OpenStack Foundation"" msgid """" ""Get your first patch merged: Mentors will assist mentees with crafting a "" ""change, understanding and adhering to the Developers Guide, submitting to "" ""Gerrit, responding to reviews, and ultimately having their change accepted."" msgstr """" ""Get your first patch merged: Mentors will assist mentees with crafting a "" ""change, understanding and adhering to the Developers Guide, submitting to "" ""Gerrit, responding to reviews, and ultimately having their change accepted."" msgid ""Git Review"" msgstr ""Git Review"" msgid ""Git allows you to:"" msgstr ""Git allows you to:"" msgid """" ""Git is a free and open source distributed version control system that the "" ""OpenStack community uses to manage changes to source code and documentation."" msgstr """" ""Git is a free and open source distributed version control system that the "" ""OpenStack community uses to manage changes to source code and documentation."" msgid """" ""Git review assumes the user you're running it as is the same as your Gerrit "" ""username. If it's not, you can tell it by setting this git config setting::"" msgstr """" ""Git review assumes the user you're running it as is the same as your Gerrit "" ""username. If it's not, you can tell it by setting this git config setting::"" msgid """" ""Git review is a tool maintained by the OpenStack community. It adds an "" ""additional sub-command to 'git' like so::"" msgstr """" ""Git review is a tool maintained by the OpenStack community. It adds an "" ""additional sub-command to 'git' like so::"" msgid ""Git reviews only needs to be initialized once in a repository."" msgstr ""Git reviews only needs to be initialised once in a repository."" msgid """" ""Go to `Gerrit's SSH Public Keys settings <https://review.opendev.org/#/"" ""settings/ssh-keys>`_."" msgstr """" ""Go to `Gerrit's SSH Public Keys settings <https://review.opendev.org/#/"" ""settings/ssh-keys>`_."" msgid ""Go to http://colloquy.info and follow the download link."" msgstr ""Go to http://colloquy.info and follow the download link."" msgid """" ""Go to the Git `download page <https://git-scm.com/downloads>`_ and click "" ""**Mac OS X**."" msgstr """" ""Go to the Git `download page <https://git-scm.com/downloads>`_ and click "" ""**Mac OS X**."" msgid """" ""Go to the `OpenStack Foundation sign up page <https://www.openstack.org/"" ""join>`_."" msgstr """" ""Go to the `OpenStack Foundation sign up page <https://www.openstack.org/"" ""join>`_."" msgid """" ""Go to the `storyboard.openstack.org <https://storyboard.openstack.org>`_."" msgstr """" ""Go to the `storyboard.openstack.org <https://storyboard.openstack.org>`_."" msgid """" ""Going back to your connection window, highlight your Freenode connection and "" ""click the **info** icon."" msgstr """" ""Going back to your connection window, highlight your Freenode connection and "" ""click the **info** icon."" msgid ""Groups"" msgstr ""Groups"" msgid ""Have a low risk of introducing a regression"" msgstr ""Have a low risk of introducing a regression"" msgid ""Have a user visible benefit"" msgstr ""Have a user visible benefit"" msgid """" ""Having the main projects following the release cycle ensures that all these "" ""projects release at the same time so these can be picked up by downstream "" ""teams to package and further distribute."" msgstr """" ""Having the main projects following the release cycle ensures that all these "" ""projects release at the same time so these can be picked up by downstream "" ""teams to package and further distribute."" msgid ""Help translate OpenStack, making it more available for users worldwide"" msgstr ""Help translate OpenStack, making it more available for users worldwide"" msgid ""Highlight and copy the output."" msgstr ""Highlight and copy the output."" msgid ""IRC"" msgstr ""IRC"" msgid ""IRC Archives"" msgstr ""IRC Archives"" msgid ""IRC Channels"" msgstr ""IRC Channels"" msgid ""IRC Meetings"" msgstr ""IRC Meetings"" msgid """" ""IRC allows different programs to listen to the IRC channels and do some "" ""actions. These programs are called IRC bots. There are several bots used in "" ""the OpenStack IRC channels, this section contains the ones which are useful "" ""from the first days of OpenStack development. A more comprehensive list can "" ""be found in the `Infrastructure team IRC page <https://docs.openstack.org/"" ""infra/system-config/irc.html>`__."" msgstr """" ""IRC allows different programs to listen to the IRC channels and do some "" ""actions. These programs are called IRC bots. There are several bots used in "" ""the OpenStack IRC channels, this section contains the ones which are useful "" ""from the first days of OpenStack development. A more comprehensive list can "" ""be found in the `Infrastructure team IRC page <https://docs.openstack.org/"" ""infra/system-config/irc.html>`__."" msgid ""IRC allows you to:"" msgstr ""IRC allows you to:"" msgid ""IRC bots"" msgstr ""IRC bots"" msgid """" ""If English is not your native language, you may wish to contribute as a "" ""translator. All services and documents that are visible to the user are "" ""translated by the I18n team. It does not matter which language you speak. We "" ""already have a lot of language teams who are very active. Our claim is more "" ""diversity, to support us in our work at I18n."" msgstr """" ""If English is not your native language, you may wish to contribute as a "" ""translator. All services and documents that are visible to the user are "" ""translated by the I18n team. It does not matter which language you speak. We "" ""already have a lot of language teams who are very active. Our claim is more "" ""diversity, to support us in our work at I18n."" msgid """" ""If all goes well in the second window you will see your new connection and "" ""your client connected."" msgstr """" ""If all goes well in the second window you will see your new connection and "" ""your client connected."" msgid """" ""If all goes well you should be connected and not get any pop ups as "" ""indicated in the previous step's Troubleshooting section."" msgstr """" ""If all goes well you should be connected and not get any pop ups as "" ""indicated in the previous step's Troubleshooting section."" msgid """" ""If all goes well you should receive a message back instantly that the nick "" ""name is registered by you and an activation email will be sent to the email "" ""address you provided."" msgstr """" ""If all goes well you should receive a message back instantly that the nick "" ""name is registered by you and an activation email will be sent to the email "" ""address you provided."" msgid """" ""If all goes well you will get a dialog window indicating the connection to "" ""Freenode has completed, and what to do next. For now, select \""Nothing, I'll "" ""join a channel later.\"""" msgstr """" ""If all goes well you will get a dialogue window indicating the connection to "" ""Freenode has completed, and what to do next. For now, select \""Nothing, I'll "" ""join a channel later.\"""" msgid """" ""If the CCLA only needs to be extended follow `this <https://wiki.openstack."" ""org/wiki/HowToUpdateCorporateCLA>`_ procedure."" msgstr """" ""If the CCLA only needs to be extended follow `this <https://wiki.openstack."" ""org/wiki/HowToUpdateCorporateCLA>`_ procedure."" msgid """" ""If the bug is related to a security vulnerability it is important to click "" ""the box to alert the Vulnerability Management Team to the issue. When you "" ""feel you have added all of the information needed, go ahead and submit the "" ""bug report. For more information about the full process for reporting "" ""security vulnerabilties, please continue reading `this page <https://"" ""security.openstack.org/vmt-process.html>`_."" msgstr """" ""If the bug is related to a security vulnerability it is important to click "" ""the box to alert the Vulnerability Management Team to the issue. When you "" ""feel you have added all of the information needed, go ahead and submit the "" ""bug report. For more information about the full process for reporting "" ""security vulnerabilties, please continue reading `this page <https://"" ""security.openstack.org/vmt-process.html>`_."" msgid """" ""If there is a topic you are interested in mentoring someone in, or being "" ""mentored in, the organizers are always looking for new ideas! Please fill "" ""out the form below that corresponds to your roll and let them know!"" msgstr """" ""If there is a topic you are interested in mentoring someone in, or being "" ""mentored in, the organizers are always looking for new ideas! Please fill "" ""out the form below that corresponds to your roll and let them know!"" msgid ""If you already have an Ubuntu One Account, you can just login."" msgstr ""If you already have an Ubuntu One Account, you can just login."" msgid ""If you are contributing on behalf of a company or organization."" msgstr ""If you are contributing on behalf of a company or organisation."" msgid """" ""If you don't have a Ubuntu One Account, click the **I am a new Ubuntu One "" ""user**."" msgstr """" ""If you don't have a Ubuntu One Account, click the **I am a new Ubuntu One "" ""user**."" msgid """" ""If you don't have pip installed already, follow the `installation "" ""documentation <https://pip.pypa.io/en/stable/installing/#installing-with-get-"" ""pip-py>`_ for pip."" msgstr """" ""If you don't have pip installed already, follow the `installation "" ""documentation <https://pip.pypa.io/en/stable/installing/#installing-with-get-"" ""pip-py>`_ for pip."" msgid """" ""If you don't know what your Gerrit username is, you can check the `Gerrit "" ""settings <https://review.opendev.org/#/settings/>`_."" msgstr """" ""If you don't know what your Gerrit username is, you can check the `Gerrit "" ""settings <https://review.opendev.org/#/settings/>`_."" msgid """" ""If you don't see .pub extension file or want to generate a specific set for "" ""OpenStack Gerrit, you need to generate keys."" msgstr """" ""If you don't see .pub extension file or want to generate a specific set for "" ""OpenStack Gerrit, you need to generate keys."" msgid """" ""If you get a notice that the nick name is already taken, quit and go back to "" ""the first set of steps to pick a different nickname."" msgstr """" ""If you get a notice that the nick name is already taken, quit and go back to "" ""the first set of steps to pick a different nickname."" msgid ""If you get a notice that the nick name is already taken:"" msgstr ""If you get a notice that the nick name is already taken:"" msgid """" ""If you have the ATC status, in the official OpenStack project where you "" ""contributed over the last two 6-month release cycles you are considered to "" ""be an Active Project Contributor."" msgstr """" ""If you have the ATC status, in the official OpenStack project where you "" ""contributed over the last two 6-month release cycles you are considered to "" ""be an Active Project Contributor."" msgid """" ""If you use the package manager `Homebrew <http://brew.sh>`_, open a terminal "" ""and type::"" msgstr """" ""If you use the package manager `Homebrew <http://brew.sh>`_, open a terminal "" ""and type::"" msgid ""Import Public Key Into Gerrit"" msgstr ""Import Public Key Into Gerrit"" msgid """" ""In Gerrit's `settings <https://review.opendev.org/#/settings/agreements>`_ "" ""click the **New Contributor Agreement** link and sign the agreement."" msgstr """" ""In Gerrit's `settings <https://review.opendev.org/#/settings/agreements>`_ "" ""click the **New Contributor Agreement** link and sign the agreement."" msgid """" ""In Gerrit's `settings <https://review.opendev.org/#/settings/agreements>`_ "" ""click the **New Contributor Agreement** link and sign the agreement. You "" ""need this to contribute code & documentation. You will not be able to push "" ""patches to Gerrit without this."" msgstr """" ""In Gerrit's `settings <https://review.opendev.org/#/settings/agreements>`_ "" ""click the **New Contributor Agreement** link and sign the agreement. You "" ""need this to contribute code & documentation. You will not be able to push "" ""patches to Gerrit without this."" msgid """" ""In Launchpad, a new feature is called a blueprint. To file a new blueprint, "" ""click the 'Register a blueprint' button on the right."" msgstr """" ""In Launchpad, a new feature is called a blueprint. To file a new blueprint, "" ""click the 'Register a blueprint' button on the right."" msgid """" ""In OpenStack all the meetings are happening either on generic meeting "" ""channels channels like #openstack-meeting, or on specific project channels. "" ""Check the `list of meetings <http://eavesdrop.openstack.org/#meetings>`__ "" ""for meetings times, IRC channels, and archives of meetings."" msgstr """" ""In OpenStack all the meetings are happening either on generic meeting "" ""channels channels like #openstack-meeting, or on specific project channels. "" ""Check the `list of meetings <http://eavesdrop.openstack.org/#meetings>`__ "" ""for meetings times, IRC channels, and archives of meetings."" msgid ""In a terminal type::"" msgstr ""In a terminal type::"" msgid """" ""In open source projects a contribution can be anything which helps the "" ""project to accomplish its mission. In addition to code contribution it can "" ""be testing, documentation, requirements gathering, bug reporting and so "" ""forth."" msgstr """" ""In open source projects a contribution can be anything which helps the "" ""project to accomplish its mission. In addition to code contribution it can "" ""be testing, documentation, requirements gathering, bug reporting and so "" ""forth."" msgid """" ""In order to identify yourselves that you own the nick name upon logging in, "" ""you need to tell Colloquy to communicate your password upon connecting."" msgstr """" ""In order to identify yourselves that you own the nick name upon logging in, "" ""you need to tell Colloquy to communicate your password upon connecting."" msgid """" ""In order to identify yourselves that you own the nick name upon logging in, "" ""you need to tell Hexchat to communicate your password upon connecting."" msgstr """" ""In order to identify yourselves that you own the nick name upon logging in, "" ""you need to tell Hexchat to communicate your password upon connecting."" msgid """" ""In order to push things to `Gerrit <https://review.opendev.org>`_ we need to "" ""have a way to identify ourselves. We will do this using SSH keys which "" ""allows us to have our machine we're pushing a change from to perform a "" ""`challenge-response authentication <https://en.wikipedia.org/wiki/Challenge-"" ""response_authentication>`_ with the Gerrit server."" msgstr """" ""In order to push things to `Gerrit <https://review.opendev.org>`_ we need to "" ""have a way to identify ourselves. We will do this using SSH keys which "" ""allows us to have our machine we're pushing a change from to perform a "" ""`challenge-response authentication <https://en.wikipedia.org/wiki/Challenge-"" ""response_authentication>`_ with the Gerrit server."" msgid """" ""In order to register you need to send a message to nickserv on Freenode, "" ""which is a bot that allows you to register and identify yourselves as the "" ""owner of a nick name."" msgstr """" ""In order to register you need to send a message to nickserv on Freenode, "" ""which is a bot that allows you to register and identify yourselves as the "" ""owner of a nick name."" msgid """" ""In some cases there are training sessions and workshops as well and you may "" ""see the `OpenStack Upstream Institute <https://docs.openstack.org/upstream-"" ""training/>`_ training on the agenda as well."" msgstr """" ""In some cases there are training sessions and workshops as well and you may "" ""see the `OpenStack Upstream Institute <https://docs.openstack.org/upstream-"" ""training/>`_ training on the agenda as well."" msgid """" ""In specific cases you can apply for an exception to become an ATC, for "" ""further information please see the `relevant section of the Technical "" ""Committee Charter <https://governance.openstack.org/tc/reference/charter."" ""html#voters-for-tc-seats-atc>`_."" msgstr """" ""In specific cases you can apply for an exception to become an ATC, for "" ""further information please see the `relevant section of the Technical "" ""Committee Charter <https://governance.openstack.org/tc/reference/charter."" ""html#voters-for-tc-seats-atc>`_."" msgid """" ""In summary, you will be generating a SSH key pair, and providing the Gerrit "" ""server with your public key. With your system holding the private key, it "" ""will have no problem replying to Gerrit during the challenge-response "" ""authentication."" msgstr """" ""In summary, you will be generating a SSH key pair, and providing the Gerrit "" ""server with your public key. With your system holding the private key, it "" ""will have no problem replying to Gerrit during the challenge-response "" ""authentication."" msgid ""In the **Password** field type your password."" msgstr ""In the **Password** field type your password."" msgid """" ""In the **Password** put in the password you picked in the previous step and "" ""click close."" msgstr """" ""In the **Password** put in the password you picked in the previous step and "" ""click close."" msgid ""Individual Contributor License Agreement"" msgstr ""Individual Contributor Licence Agreement"" msgid ""Individual Contributors"" msgstr ""Individual Contributors"" msgid """" ""Individual Members of the Foundation who have contributed to any of the "" ""official OpenStack project repositories over the last two 6-month release "" ""cycles are automatically considered as ATCs."" msgstr """" ""Individual Members of the Foundation who have contributed to any of the "" ""official OpenStack project repositories over the last two 6-month release "" ""cycles are automatically considered as ATCs."" msgid """" ""Individual members of the foundation vote once a year (usually near the "" ""start of the calendar year) for the individual directors. Individuals who "" ""wish to join the Foundation can learn more at :ref:`foundation account`."" msgstr """" ""Individual members of the foundation vote once a year (usually near the "" ""start of the calendar year) for the individual directors. Individuals who "" ""wish to join the Foundation can learn more at :ref:`foundation account`."" msgid ""Install an IRC Program"" msgstr ""Install an IRC Program"" msgid ""Installation"" msgstr ""Installation"" msgid ""Internet Relay Chat (IRC)"" msgstr ""Internet Relay Chat (IRC)"" msgid ""Introduction"" msgstr ""Introduction"" msgid """" ""It is a good idea to check back on the bug routinely if you aren't actively "" ""working on solving it to make sure people haven't asked for more information "" ""about the issue. If someone has commented on the bug, try to respond with "" ""the details they need."" msgstr """" ""It is a good idea to check back on the bug routinely if you aren't actively "" ""working on solving it to make sure people haven't asked for more information "" ""about the issue. If someone has commented on the bug, try to respond with "" ""the details they need."" msgid """" ""It is possible to update all of this information except the name and title "" ""after the blueprint is registered. When you have finished filling out all of "" ""the information you care to include, it is good to communicate with the "" ""project team lead that you have filed a blueprint."" msgstr """" ""It is possible to update all of this information except the name and title "" ""after the blueprint is registered. When you have finished filling out all of "" ""the information you care to include, it is good to communicate with the "" ""project team lead that you have filed a blueprint."" msgid """" ""It's also important to note that given that the majority of contributors "" ""reside in the United States, channels will likely be quieter outside of "" ""United States work hours and it might be a while before they respond."" msgstr """" ""It's also important to note that given that the majority of contributors "" ""reside in the United States, channels will likely be quieter outside of "" ""United States work hours and it might be a while before they respond."" msgid ""Its activities are under the oversight of the Technical Committee"" msgstr ""Its activities are under the oversight of the Technical Committee"" msgid ""Join the Mailing List & IRC Channel"" msgstr ""Join the Mailing List & IRC Channel"" msgid """" ""Know how to participate in groups that interest you and influence the future "" ""of OpenStack"" msgstr """" ""Know how to participate in groups that interest you and influence the future "" ""of OpenStack"" msgid ""Know how to report bugs and propose features"" msgstr ""Know how to report bugs and propose features"" msgid """" ""Know the structure of the different release models and how to work "" ""effectively in those to influence the future of OpenStack"" msgstr """" ""Know the structure of the different release models and how to work "" ""effectively in those to influence the future of OpenStack"" msgid ""Know which events are valuable to you"" msgstr ""Know which events are valuable to you"" msgid ""Launchpad"" msgstr ""Launchpad"" msgid """" ""Launchpad is the original task tracker used by OpenStack projects to "" ""organize and target work to milestones and releases. It uses UbuntuOne for "" ""authentication as it is managed by Canonical. Items tracked are either bugs "" ""or blueprints."" msgstr """" ""Launchpad is the original task tracker used by OpenStack projects to "" ""organise and target work to milestones and releases. It uses UbuntuOne for "" ""authentication as it is managed by Canonical. Items tracked are either bugs "" ""or blueprints."" msgid ""Launchpad specific tags:"" msgstr ""Launchpad specific tags:"" msgid ""Learning Git"" msgstr ""Learning Git"" msgid """" ""Lets first fill out the **Nick name** and **User name** field with our "" ""choice of a nickname:"" msgstr """" ""Lets first fill out the **Nick name** and **User name** field with our "" ""choice of a nickname:"" msgid ""Linux"" msgstr ""Linux"" msgid """" ""Look for `meetups in your area <http://meetup.com/pro/osf>`_ and if you "" ""cannot find one you are welcome to organize one yourself!"" msgstr """" ""Look for `meetups in your area <http://meetup.com/pro/osf>`_ and if you "" ""cannot find one you are welcome to organise one yourself!"" msgid ""Mac OS"" msgstr ""Mac OS"" msgid ""Mac OS & Linux"" msgstr ""Mac OS & Linux"" msgid """" ""Mac OS X El Capitan and Mac OS Sierra users might see an error message like "" ""\""Operation not permitted\"" when installing with the command. In this case, "" ""there are two options to successfully install git-review."" msgstr """" ""Mac OS X El Capitan and Mac OS Sierra users might see an error message like "" ""\""Operation not permitted\"" when installing with the command. In this case, "" ""there are two options to successfully install git-review."" msgid ""Mailing Lists (ML)"" msgstr ""Mailing Lists (ML)"" msgid ""Maintained"" msgstr ""Maintained"" msgid """" ""Make sure that **Use SSL for all the servers on this network** is checked."" msgstr """" ""Make sure that **Use SSL for all the servers on this network** is checked."" msgid """" ""Make sure to use the same email address you'll want to use for code "" ""contributions since it's important later that these match up."" msgstr """" ""Make sure to use the same email address you'll want to use for code "" ""contributions since it's important later that these match up."" msgid ""Map of OpenStack projects"" msgstr ""Map of OpenStack projects"" msgid ""Meet-ups"" msgstr ""Meet-ups"" msgid """" ""Meet-ups are organized by local user groups with different cadences. They "" ""are a few hours long with a few presentations, discussion topics and some "" ""snacks."" msgstr """" ""Meet-ups are organised by local user groups with different cadences. They "" ""are a few hours long with a few presentations, discussion topics and some "" ""snacks."" msgid ""Mentoring"" msgstr ""Mentoring"" msgid ""Mentoring Mailing List"" msgstr ""Mentoring Mailing List"" msgid ""Monitor your patches as they get tested by Zuul"" msgstr ""Monitor your patches as they get tested by Zuul"" msgid """" ""Most IRC channels are archived, you can read the logs on `eavesdrop <http://"" ""eavesdrop.openstack.org/irclogs/>`__."" msgstr """" ""Most IRC channels are archived, you can read the logs on `eavesdrop <http://"" ""eavesdrop.openstack.org/irclogs/>`__."" msgid ""N/A"" msgstr ""N/A"" msgid """" ""New core reviewers are nominated by someone from the existing team on the "" ""Discuss Mailing List and/or in Gerrit and elected by voting from the members "" ""of the core team of the project."" msgstr """" ""New core reviewers are nominated by someone from the existing team on the "" ""Discuss Mailing List and/or in Gerrit and elected by voting from the members "" ""of the core team of the project."" msgid """" ""Not all projects use the blueprints feature of Launchpad, you should contact "" ""the project to see how they handle feature requests. For details on how to "" ""contact a project check the `project list <https://governance.openstack.org/"" ""tc/reference/projects/index.html>`_."" msgstr """" ""Not all projects use the blueprints feature of Launchpad, you should contact "" ""the project to see how they handle feature requests. For details on how to "" ""contact a project check the `project list <https://governance.openstack.org/"" ""tc/reference/projects/index.html>`_."" msgid ""Not used"" msgstr ""Not used"" msgid ""Now open the hexchat program just like you would for any Linux program."" msgstr """" ""Now open the Hexchat program just like you would for any Linux program."" msgid ""Official OpenStack projects"" msgstr ""Official OpenStack projects"" msgid """" ""Official OpenStack projects are the projects under the governance of the "" ""Technical Commitee. Official OpenStack projects are listed in the `OpenStack "" ""Project Teams page <https://governance.openstack.org/tc/reference/projects/"" ""index.html>`_. Most well-known official OpenStack projects are listed in the "" ""`project navigator <https://www.openstack.org/software/project-navigator>`_. "" ""It is not mandatory for a project to become an official OpenStack project."" msgstr """" ""Official OpenStack projects are the projects under the governance of the "" ""Technical Commitee. Official OpenStack projects are listed in the `OpenStack "" ""Project Teams page <https://governance.openstack.org/tc/reference/projects/"" ""index.html>`_. Most well-known official OpenStack projects are listed in the "" ""`project navigator <https://www.openstack.org/software/project-navigator>`_. "" ""It is not mandatory for a project to become an official OpenStack project."" msgid """" ""Official OpenStack projects have a project team consisting of core reviewers "" ""and contributors."" msgstr """" ""Official OpenStack projects have a project team consisting of core reviewers "" ""and contributors."" msgid """" ""Official project teams within OpenStack have a `Project Team Lead <https://"" ""governance.openstack.org/tc/reference/charter.html#project-team-leads>`_. "" ""These individuals coordinate the day to day operation of the project, "" ""resolve technical disputes within the project, and operate as the "" ""spokesperson and ambassador for the project."" msgstr """" ""Official project teams within OpenStack have a `Project Team Lead <https://"" ""governance.openstack.org/tc/reference/charter.html#project-team-leads>`_. "" ""These individuals coordinate the day to day operation of the project, "" ""resolve technical disputes within the project, and operate as the "" ""spokesperson and ambassador for the project."" msgid """" ""On IRC, we also have a dedicated channel for the topics our cohorts focus "" ""on. Please join #openstack-mentoring whenever you are online to stay in the "" ""loop and meet other people that have overlapping timezones- both mentors and "" ""mentees."" msgstr """" ""On IRC, we also have a dedicated channel for the topics our cohorts focus "" ""on. Please join #openstack-mentoring whenever you are online to stay in the "" ""loop and meet other people that have overlapping timezones- both mentors and "" ""mentees."" msgid """" ""On the next screen you are prompted to add details including its name and "" ""title."" msgstr """" ""On the next screen you are prompted to add details including its name and "" ""title."" msgid ""On the top right corner, click the **login** button."" msgstr ""On the top right corner, click the **login** button."" msgid """" ""Once a 6-month development cycle is completed the code for that release is "" ""branched, in git, to a stable branch. For instance, when the Stein release "" ""was completed a new branch in git, ``stable/stein`` was created."" msgstr """" ""Once a 6-month development cycle is completed the code for that release is "" ""branched, in git, to a stable branch. For instance, when the Stein release "" ""was completed a new branch in git, ``stable/stein`` was created."" msgid ""Once registered, you can join a language team."" msgstr ""Once registered, you can join a language team."" msgid """" ""Once you have Git installed you need to configure it. Open your terminal "" ""application and issue the following commands putting in your first/last name "" ""and email address. This is how your contributions will be identified::"" msgstr """" ""Once you have Git installed you need to configure it. Open your terminal "" ""application and issue the following commands putting in your first/last name "" ""and email address. This is how your contributions will be identified::"" msgid """" ""Only APCs can participate in the election process to vote for the next PTL "" ""of the team."" msgstr """" ""Only APCs can participate in the election process to vote for the next PTL "" ""of the team."" msgid ""Open Infrastructure Summit"" msgstr ""Open Infrastructure Summit"" msgid ""Open your terminal program and type::"" msgstr ""Open your terminal program and type::"" msgid """" ""OpenInfra Days are essentially the same in format and benefit to attendees, "" ""but are broader in scope. OpenInfra Days are focused on being more open and "" ""welcoming of adjacent infrastructure technologies."" msgstr """" ""OpenInfra Days are essentially the same in format and benefit to attendees, "" ""but are broader in scope. OpenInfra Days are focused on being more open and "" ""welcoming of adjacent infrastructure technologies."" msgid ""OpenStack Events"" msgstr ""OpenStack Events"" msgid ""OpenStack Governance"" msgstr ""OpenStack Governance"" msgid """" ""OpenStack `Special Interest Groups <https://governance.openstack.org/sigs/"" "">`_ are working groups that operate within the entire OpenStack community to "" ""address interests and concerns of all participants with a shared interest."" msgstr """" ""OpenStack `Special Interest Groups <https://governance.openstack.org/sigs/"" "">`_ are working groups that operate within the entire OpenStack community to "" ""address interests and concerns of all participants with a shared interest."" msgid """" ""OpenStack consists of a large number of projects that form the main "" ""components of an OpenStack cloud, from client libraries to lifecycle "" ""management services. The different projects are different in nature which "" ""implies different `release models <https://releases.openstack.org/reference/"" ""release_models.html>`_ to follow."" msgstr """" ""OpenStack consists of a large number of projects that form the main "" ""components of an OpenStack cloud, from client libraries to lifecycle "" ""management services. The different projects are different in nature which "" ""implies different `release models <https://releases.openstack.org/reference/"" ""release_models.html>`_ to follow."" msgid """" ""OpenStack has a 6-month long release cadence with different release models "" ""that projects can choose to follow."" msgstr """" ""OpenStack has a 6-month long release cadence with different release models "" ""that projects can choose to follow."" msgid ""OpenStack is a community working towards one mission:"" msgstr ""OpenStack is a community working towards one mission:"" msgid """" ""OpenStack is a software package that provides a cloud platform for Public "" ""and Private cloud covering various use cases including Enterprise and "" ""Telecom. The main focus is on Infrastructure as a Service (IaaS) cloud and "" ""additional services built upon IaaS. The Technical Committee maintains an "" ""evolving `vision for OpenStack clouds <https://governance.openstack.org/tc/"" ""reference/technical-vision.html>`_ describing the overall design scope for "" ""an OpenStack cloud and the principles of cloud platforms in general, and "" ""OpenStack in particular, that each service within OpenStack is expected to "" ""follow."" msgstr """" ""OpenStack is a software package that provides a cloud platform for Public "" ""and Private cloud covering various use cases including Enterprise and "" ""Telecom. The main focus is on Infrastructure as a Service (IaaS) cloud and "" ""additional services built upon IaaS. The Technical Committee maintains an "" ""evolving `vision for OpenStack clouds <https://governance.openstack.org/tc/"" ""reference/technical-vision.html>`_ describing the overall design scope for "" ""an OpenStack cloud and the principles of cloud platforms in general, and "" ""OpenStack in particular, that each service within OpenStack is expected to "" ""follow."" msgid """" ""OpenStack provides an ecosystem for collaboration. It has infrastructure for"" msgstr """" ""OpenStack provides an ecosystem for collaboration. It has infrastructure for"" msgid ""OpenStack/OpenInfra Days"" msgstr ""OpenStack/OpenInfra Days"" msgid ""Operators Meetup"" msgstr ""Operators Meetup"" msgid ""Option 1: install using pip with more options::"" msgstr ""Option 1: install using pip with more options::"" msgid """" ""Option 2: Use the package manager `Homebrew <https://brew.sh>`_, and type in "" ""a terminal::"" msgstr """" ""Option 2: Use the package manager `Homebrew <https://brew.sh>`_, and type in "" ""a terminal::"" msgid """" ""Or if you created a separate key pair, assuming the example name above::"" msgstr """" ""Or if you created a separate key pair, assuming the example name above::"" msgid """" ""PTGs are scheduled at the beginning of each release cycle which makes it "" ""possible to do more thorough release planning and ensure that the more "" ""complicated proposals are discussed with all the affected teams."" msgstr """" ""PTGs are scheduled at the beginning of each release cycle which makes it "" ""possible to do more thorough release planning and ensure that the more "" ""complicated proposals are discussed with all the affected teams."" msgid ""Participate in regular meetings with the above groups."" msgstr ""Participate in regular meetings with the above groups."" msgid ""Participating as a Mentee"" msgstr ""Participating as a Mentee"" msgid ""Participating as a Mentor"" msgstr ""Participating as a Mentor"" msgid """" ""Paste the public key into the **Add SSH Public Key** text box and click "" ""**Add**."" msgstr """" ""Paste the public key into the **Add SSH Public Key** text box and click "" ""**Add**."" msgid ""Preparing to Send a Review"" msgstr ""Preparing to Send a Review"" msgid ""Project Team Lead (PTL)"" msgstr ""Project Team Lead (PTL)"" msgid """" ""Project Team Leads are `elected <https://governance.openstack.org/tc/"" ""reference/charter.html#election-for-ptl-seats>`_ for each release cycle by "" ""Active Project Contributors: individuals who have contributed to the project "" ""in the last two release cycles."" msgstr """" ""Project Team Leads are `elected <https://governance.openstack.org/tc/"" ""reference/charter.html#election-for-ptl-seats>`_ for each release cycle by "" ""Active Project Contributors: individuals who have contributed to the project "" ""in the last two release cycles."" msgid ""Project Teams Gathering (PTG)"" msgstr ""Project Teams Gathering (PTG)"" msgid """" ""Project teams do point releases off stable branches when enough changes "" ""accumulate in the stable branch to justify creating another release for "" ""their project."" msgstr """" ""Project teams do point releases off stable branches when enough changes "" ""accumulate in the stable branch to justify creating another release for "" ""their project."" msgid ""Push `Specifications <https://specs.openstack.org>`_"" msgstr ""Push `Specifications <https://specs.openstack.org>`_"" msgid """" ""Push `Use cases for features <https://specs.openstack.org/openstack/"" ""openstack-user-stories/>`_"" msgstr """" ""Push `Use cases for features <https://specs.openstack.org/openstack/"" ""openstack-user-stories/>`_"" msgid """" ""Push and test `code, docs, infrastructure changes, and CI configurations "" ""<https://opendev.org/explore/repos>`_"" msgstr """" ""Push and test `code, docs, infrastructure changes, and CI configurations "" ""<https://opendev.org/explore/repos>`_"" msgid """" ""Read through the presented individual member terms of service and our "" ""`Community Code of Conduct <https://www.openstack.org/legal/community-code-"" ""of-conduct/>`_."" msgstr """" ""Read through the presented individual member terms of service and our "" ""`Community Code of Conduct <https://www.openstack.org/legal/community-code-"" ""of-conduct/>`_."" msgid ""Reference"" msgstr ""Reference"" msgid ""Register Your Nick Name"" msgstr ""Register Your Nick Name"" msgid ""Release Models"" msgstr ""Release Models"" msgid ""Release Schedule and Planning"" msgstr ""Release Schedule and Planning"" msgid ""Releases"" msgstr ""Releases"" msgid ""Report bugs"" msgstr ""Report bugs"" msgid """" ""Requirements for the official OpenStack projects are listed `in the wiki of "" ""the Technical Commitee <https://governance.openstack.org/tc/reference/new-"" ""projects-requirements.html>`_."" msgstr """" ""Requirements for the official OpenStack projects are listed `in the wiki of "" ""the Technical Commitee <https://governance.openstack.org/tc/reference/new-"" ""projects-requirements.html>`_."" msgid ""Reviewing bug reports and deciding about their priority"" msgstr ""Reviewing bug reports and deciding about their priority"" msgid """" ""Reviewing changes and approving them when it meets the design and coding or "" ""documentation standards of the project"" msgstr """" ""Reviewing changes and approving them when it meets the design and coding or "" ""documentation standards of the project"" msgid ""Roles"" msgstr ""Roles"" msgid ""Run for elected positions in the OpenStack project."" msgstr ""Run for elected positions in the OpenStack project."" msgid ""SSH keys are always generated in pairs:"" msgstr ""SSH keys are always generated in pairs:"" msgid ""Set up IRC on Linux & Windows"" msgstr ""Set up IRC on Linux & Windows"" msgid ""Set up IRC on Mac OS"" msgstr ""Set up IRC on Mac OS"" msgid ""Setting Up Your Gerrit Account"" msgstr ""Setting Up Your Gerrit Account"" msgid ""Setup IRC"" msgstr ""Setup IRC"" msgid ""Setup SSH Keys"" msgstr ""Setup SSH Keys"" msgid ""Setup Your OpenStack Foundation Account"" msgstr ""Setup Your OpenStack Foundation Account"" msgid ""Setup Your Task Tracker Account"" msgstr ""Setup Your Task Tracker Account"" msgid ""Setup and Learn GIT"" msgstr ""Setup and Learn GIT"" msgid ""Sign Up"" msgstr ""Sign Up"" msgid ""Signing it"" msgstr ""Signing it"" msgid """" ""Similar to being a mentor, the first thing you'll want to do is sign up "" ""using this `mentee form <https://openstackfoundation.formstack.com/forms/"" ""mentoring_cohorts_menteess>`_. This will help us know who is participating "" ""and what their goals are."" msgstr """" ""Similar to being a mentor, the first thing you'll want to do is sign up "" ""using this `mentee form <https://openstackfoundation.formstack.com/forms/"" ""mentoring_cohorts_menteess>`_. This will help us know who is participating "" ""and what their goals are."" msgid ""Software"" msgstr ""Software"" msgid """" ""Some people choose to use one SSH key pair to access many systems while "" ""others prefer to use separate key pairs. Both options are covered in the "" ""following sections."" msgstr """" ""Some people choose to use one SSH key pair to access many systems while "" ""others prefer to use separate key pairs. Both options are covered in the "" ""following sections."" msgid """" ""Some projects also have different dates through a release cycles as "" ""internal, project-specific deadlines, like spec-freeze or code-freeze. You "" ""need to make sure you are aware of the freeze dates which you can find on "" ""the `release schedule page <https://releases.openstack.org>`_."" msgstr """" ""Some projects also have different dates through a release cycles as "" ""internal, project-specific deadlines, like spec-freeze or code-freeze. You "" ""need to make sure you are aware of the freeze dates which you can find on "" ""the `release schedule page <https://releases.openstack.org>`_."" msgid """" ""Someone of authority needs to sign the `U.S. Government Contributor License "" ""Agreement <https://wiki.openstack.org/wiki/GovernmentCLA>`_. Contact the "" ""`OpenStack Foundation <mailto:communitymngr@openstack.org>`_ to initiate "" ""this process."" msgstr """" ""Someone of authority needs to sign the `U.S. Government Contributor Licence "" ""Agreement <https://wiki.openstack.org/wiki/GovernmentCLA>`_. Contact the "" ""`OpenStack Foundation <mailto:communitymngr@openstack.org>`_ to initiate "" ""this process."" msgid ""Special Interest Groups"" msgstr ""Special Interest Groups"" msgid ""Stable Branches"" msgstr ""Stable Branches"" msgid """" ""Stable branches are kept as a safe source of fixes for high impact bugs and "" ""security issues which have been fixed, on master, since the release "" ""occurred. Given the stable nature of these branches, backports to stable "" ""branches undergo additional scrutiny when they are proposed. Proposed "" ""changes should:"" msgstr """" ""Stable branches are kept as a safe source of fixes for high impact bugs and "" ""security issues which have been fixed, on master, since the release "" ""occurred. Given the stable nature of these branches, backports to stable "" ""branches undergo additional scrutiny when they are proposed. Proposed "" ""changes should:"" msgid """" ""Stable branches proceed through different levels of maintenance as they age."" msgstr """" ""Stable branches proceed through different levels of maintenance as they age."" msgid ""State"" msgstr ""State"" msgid ""Statusbot"" msgstr ""Statusbot"" msgid """" ""Statusbot is used to distribute urgent information from the Infrastructure "" ""team to OpenStack channels."" msgstr """" ""Statusbot is used to distribute urgent information from the Infrastructure "" ""team to OpenStack channels."" msgid ""Stay up to date on the active discussions in the community"" msgstr ""Stay up to date on the active discussions in the community"" msgid ""Stories & Tasks"" msgstr ""Stories & Tasks"" msgid ""StoryBoard"" msgstr ""StoryBoard"" msgid ""StoryBoard specific tags:"" msgstr ""StoryBoard specific tags:"" msgid ""Storyboard"" msgstr ""Storyboard"" msgid """" ""Storyboard is a kanban style task tracking system created and maintained by "" ""the community. It was designed API-first and was engineered to support the "" ""coordination of cross project work. Items tracked are stories and tasks. A "" ""story can be a bug or a new feature, while tasks are the smaller todo's "" ""required to complete the story."" msgstr """" ""Storyboard is a Kanban style task tracking system created and maintained by "" ""the community. It was designed API-first and was engineered to support the "" ""coordination of cross project work. Items tracked are stories and tasks. A "" ""story can be a bug or a new feature, while tasks are the smaller todos "" ""required to complete the story."" msgid ""Submit presentations to OpenStack conferences."" msgstr ""Submit presentations to OpenStack conferences."" msgid ""Submit your application."" msgstr ""Submit your application."" msgid """" ""Succesbot is an IRC bot to express small successes in OpenStack development. "" ""To celebrate in the OpenStack IRC channel way just type:"" msgstr """" ""Succesbot is an IRC bot to express small successes in OpenStack development. "" ""To celebrate in the OpenStack IRC channel way just type:"" msgid ""Successbot"" msgstr ""Successbot"" msgid ""Summary"" msgstr ""Summary"" msgid ""Summary Line"" msgstr ""Summary Line"" msgid ""Tags"" msgstr ""Tags"" msgid ""Tags are references used to link the change to other tools."" msgstr ""Tags are references used to link the change to other tools."" msgid ""Tags should be entered one per line."" msgstr ""Tags should be entered one per line."" msgid ""Task Tracking"" msgstr ""Task Tracking"" msgid ""Technical Committee"" msgstr ""Technical Committee"" msgid ""Testing"" msgstr ""Testing"" msgid ""Thanksbot"" msgstr ""Thanksbot"" msgid """" ""The 13 Members of the TC are elected for one year terms, six at one "" ""election, seven at another election six months later. They are elected by :"" ""ref:`Active Technical Contributors <atc>`."" msgstr """" ""The 13 Members of the TC are elected for one year terms, six at one "" ""election, seven at another election six months later. They are elected by :"" ""ref:`Active Technical Contributors <atc>`."" msgid """" ""The 5 members of the UC are elected to one year terms, three at one "" ""election, two at another election six months later. They are elected by :ref:"" ""`Active User Contributors <auc>`."" msgstr """" ""The 5 members of the UC are elected to one year terms, three at one "" ""election, two at another election six months later. They are elected by :ref:"" ""`Active User Contributors <auc>`."" msgid """" ""The 6-month cycle is divided into three milestones and a usually one-month "" ""long stabilization period with release candidates."" msgstr """" ""The 6-month cycle is divided into three milestones and a usually one-month "" ""long stabilisation period with release candidates."" msgid ""The Cohorts"" msgstr ""The Cohorts"" msgid """" ""The Forum sessions are also 40 minutes long, but the sessions are intended "" ""to be working sessions as opposed to presentations."" msgstr """" ""The Forum sessions are also 40 minutes long, but the sessions are intended "" ""to be working sessions as opposed to presentations."" msgid """" ""The Forum sessions are proposed by the community through a proposal period "" ""and the final sessions are selected by a committee."" msgstr """" ""The Forum sessions are proposed by the community through a proposal period "" ""and the final sessions are selected by a committee."" msgid """" ""The OpenStack Foundation is a non-profit \""whose purpose is to develop, "" ""support, protect, and promote\"" OpenStack. It has a set of `bylaws <https://"" ""www.openstack.org/legal/bylaws-of-the-openstack-foundation/>`_ and a board "" ""of directors. The Foundation has three types of members, defined by the "" ""bylaws. Each of the types -- Platinum, Gold and Individual -- are "" ""represented on a Board of Directors. The maximum numbers of members of each "" ""type are eight, twenty four, and unlimited, respectively."" msgstr """" ""The OpenStack Foundation is a non-profit \""whose purpose is to develop, "" ""support, protect, and promote\"" OpenStack. It has a set of `bylaws <https://"" ""www.openstack.org/legal/bylaws-of-the-openstack-foundation/>`_ and a board "" ""of directors. The Foundation has three types of members, defined by the "" ""bylaws. Each of the types -- Platinum, Gold and Individual -- are "" ""represented on a Board of Directors. The maximum numbers of members of each "" ""type are eight, twenty four, and unlimited, respectively."" msgid """" ""The OpenStack Foundation organizes multiple events per year to bring "" ""together the community as well as companies and individuals interested in "" ""the technology and to embrace and encourage open collaboration."" msgstr """" ""The OpenStack Foundation organises multiple events per year to bring "" ""together the community as well as companies and individuals interested in "" ""the technology and to embrace and encourage open collaboration."" msgid """" ""The OpenStack community has a few different groups and roles for `governance "" ""<https://governance.openstack.org/>`_, leadership, and community "" ""participation. Each operates in a different sector of the community but "" ""being aware of each of them is useful."" msgstr """" ""The OpenStack community has a few different groups and roles for `governance "" ""<https://governance.openstack.org/>`_, leadership, and community "" ""participation. Each operates in a different sector of the community but "" ""being aware of each of them is useful."" msgid """" ""The OpenStack community is currently in the process of moving from the bug "" ""tracking software Launchpad to StoryBoard. Further in the project specific "" ""on-boarding documentation, give special attention to if the project is using "" ""Launchpad or StoryBoard. If your project is still using Launchpad you will "" ""want to take notice of the Launchpad section later in this document."" msgstr """" ""The OpenStack community is currently in the process of moving from the bug "" ""tracking software Launchpad to StoryBoard. Further in the project specific "" ""on-boarding documentation, give special attention to if the project is using "" ""Launchpad or StoryBoard. If your project is still using Launchpad you will "" ""want to take notice of the Launchpad section later in this document."" msgid """" ""The OpenStack community uses Internet Relay Chat (IRC) as its primary chat "" ""service."" msgstr """" ""The OpenStack community uses Internet Relay Chat (IRC) as its primary chat "" ""service."" msgid ""The User Committee chairs are elected from and by the group of AUCs."" msgstr ""The User Committee chairs are elected from and by the group of AUCs."" msgid """" ""The `OpenStack Technical Committee <https://governance.openstack.org/tc/>`_ "" ""(TC) provides governance and technical oversight of the open development of "" ""OpenStack. They validate projects applying to be part of the official "" ""OpenStack project and provide an ultimate appeals board for technical "" ""decisions. The `Technical Committee Charter <https://governance.openstack."" ""org/tc/reference/charter.html>`_ describes the TC in more detail."" msgstr """" ""The `OpenStack Technical Committee <https://governance.openstack.org/tc/>`_ "" ""(TC) provides governance and technical oversight of the open development of "" ""OpenStack. They validate projects applying to be part of the official "" ""OpenStack project and provide an ultimate appeals board for technical "" ""decisions. The `Technical Committee Charter <https://governance.openstack."" ""org/tc/reference/charter.html>`_ describes the TC in more detail."" msgid """" ""The `OpenStack User Committee <https://governance.openstack.org/uc/>`_ (UC) "" ""serves the users of OpenStack, representing them to the rest of the "" ""OpenStack community. The `User Committee Charter <https://governance."" ""openstack.org/uc/reference/charter.html>`_ describes the UC in more detail."" msgstr """" ""The `OpenStack User Committee <https://governance.openstack.org/uc/>`_ (UC) "" ""serves the users of OpenStack, representing them to the rest of the "" ""OpenStack community. The `User Committee Charter <https://governance."" ""openstack.org/uc/reference/charter.html>`_ describes the UC in more detail."" msgid """" ""The `PTG <https://www.openstack.org/ptg/>`_ sessions are organized into "" ""parallel tracks. The time is divided between Working Groups, SIGs, cross-"" ""project and project team sessions and further sessions dedicated to "" ""operations related discussions."" msgstr """" ""The `PTG <https://www.openstack.org/ptg/>`_ sessions are organised into "" ""parallel tracks. The time is divided between Working Groups, SIGs, cross-"" ""project and project team sessions and further sessions dedicated to "" ""operations related discussions."" msgid """" ""The `Summits <https://www.openstack.org/summit/other-summits/>`_ are bi-"" ""annual events with thousands of attendees from all around the globe. The "" ""event in Spring is located in North America and the Fall occasions are "" ""alternating somewhere between Europe and Asia."" msgstr """" ""The `Summits <https://www.openstack.org/summit/other-summits/>`_ are bi-"" ""annual events with thousands of attendees from all around the globe. The "" ""event in Spring is located in North America and the Autumn occasions "" ""alternate somewhere between Europe and Asia."" msgid """" ""The ``APIImpact`` tag contains a comment about why the change impacts a "" ""public HTTP API. Put APIImpact on a line by itself. Use this tag to indicate "" ""that the patch impacts a public HTTP API. When this tag is included in a "" ""commit message, the API_Working_Group can use it to help find relevant "" ""reviews."" msgstr """" ""The ``APIImpact`` tag contains a comment about why the change impacts a "" ""public HTTP API. Put APIImpact on a line by itself. Use this tag to indicate "" ""that the patch impacts a public HTTP API. When this tag is included in a "" ""commit message, the API_Working_Group can use it to help find relevant "" ""reviews."" msgid """" ""The ``Change-id`` line is a unique hash describing the change, which is "" ""generated automatically by a Git commit hook. This should not be changed "" ""when rebasing a commit following review feedback, since it is used by "" ""Gerrit, to track versions of a patch."" msgstr """" ""The ``Change-id`` line is a unique hash describing the change, which is "" ""generated automatically by a Git commit hook. This should not be changed "" ""when rebasing a commit following review feedback, since it is used by "" ""Gerrit, to track versions of a patch."" msgid """" ""The ``Depends-On``: <gerrit-change-url> tag is used to refer to a change the "" ""current one depends on. Use the permalink of the change."" msgstr """" ""The ``Depends-On``: <gerrit-change-url> tag is used to refer to a change the "" ""current one depends on. Use the permalink of the change."" msgid """" ""The ``DocImpact`` tag contains a comment about why the change impacts "" ""documentation. Put DocImpact on a line by itself. Use this tag to indicate "" ""that documentation is either contained in the patch or has documentation "" ""impact. When this tag is included in a commit message, Gerrit creates a bug "" ""for the project affected by the change for task tracking, or move to the "" ""openstack-api-site as needed."" msgstr """" ""The ``DocImpact`` tag contains a comment about why the change impacts "" ""documentation. Put DocImpact on a line by itself. Use this tag to indicate "" ""that documentation is either contained in the patch or has documentation "" ""impact. When this tag is included in a commit message, Gerrit creates a bug "" ""for the project affected by the change for task tracking, or move to the "" ""openstack-api-site as needed."" msgid """" ""The ``SecurityImpact`` tag is used to indicate that a change has security "" ""implications and should be reviewed by the OpenStack Security Group."" msgstr """" ""The ``SecurityImpact`` tag is used to indicate that a change has security "" ""implications and should be reviewed by the OpenStack Security Group."" msgid """" ""The ``UpgradeImpact`` tag contains a comment about why the change impacts "" ""upgrades. It is used to indicate that a change has upgrade implications for "" ""those doing continuous deployment or N to N+1 upgrades. Also consider "" ""updating the 'Upgrade Notes' section in the release notes for the affected "" ""project."" msgstr """" ""The ``UpgradeImpact`` tag contains a comment about why the change impacts "" ""upgrades. It is used to indicate that a change has upgrade implications for "" ""those doing continuous deployment or N to N+1 upgrades. Also consider "" ""updating the 'Upgrade Notes' section in the release notes for the affected "" ""project."" msgid ""The basic princinples of the OpenStack community are the four opens."" msgstr ""The basic princinples of the OpenStack community are the four opens."" msgid """" ""The body contains the explanation of the issue being solved and why it "" ""should be fixed, the description of the solution, and additional optional "" ""information on how it improves the code structure, or references to other "" ""relevant patches, for example. The lines are limited to 72 characters. The "" ""body should contain all the important information related to the problem, "" ""without assuming that the reader understands the source of the problem or "" ""has access to external sites."" msgstr """" ""The body contains the explanation of the issue being solved and why it "" ""should be fixed, the description of the solution, and additional optional "" ""information on how it improves the code structure, or references to other "" ""relevant patches, for example. The lines are limited to 72 characters. The "" ""body should contain all the important information related to the problem, "" ""without assuming that the reader understands the source of the problem or "" ""has access to external sites."" msgid """" ""The branch is under Extended Maintenance rules, but there are no maintainers."" msgstr """" ""The branch is under Extended Maintenance rules, but there are no maintainers."" msgid """" ""The bug comments contain a full analysis on how to properly fix the issue"" msgstr """" ""The bug comments contain a full analysis on how to properly fix the issue"" msgid ""The bug is waiting on input from the reporter"" msgstr ""The bug is waiting on input from the reporter"" msgid ""The bug was just created"" msgstr ""The bug was just created"" msgid ""The bug was reproduced or confirmed as a genuine bug"" msgstr ""The bug was reproduced or confirmed as a genuine bug"" msgid """" ""The cohort program is hosted under the `Diversity and Inclusion Working "" ""Group <https://wiki.openstack.org/wiki/Diversity>`_. For more information "" ""about the cohort program, you can check out their `wiki <https://wiki."" ""openstack.org/wiki/Mentoring#Long_Term_Mentoring>`_."" msgstr """" ""The cohort program is hosted under the `Diversity and Inclusion Working "" ""Group <https://wiki.openstack.org/wiki/Diversity>`_. For more information "" ""about the cohort program, you can check out their `wiki <https://wiki."" ""openstack.org/wiki/Mentoring#Long_Term_Mentoring>`_."" msgid """" ""The command sets up the necessary remote hosts and commit hooks to enable "" ""pushing changes to Gerrit."" msgstr """" ""The command sets up the necessary remote hosts and commit hooks to enable "" ""pushing changes to Gerrit."" msgid """" ""The conference sessions consist of 40-minute-long presentations and panel "" ""discussions organized into tracks, like 'Public Clouds', 'Containers', or "" ""'Telecom/NFV'."" msgstr """" ""The conference sessions consist of 40-minute-long presentations and panel "" ""discussions organised into tracks, like 'Public Clouds', 'Containers', or "" ""'Telecom/NFV'."" msgid ""The currently available options are the following:"" msgstr ""The currently available options are the following:"" msgid """" ""The downloaded file should be a dmg in your downloads folder. Open that dmg "" ""file and follow the instructions on screen."" msgstr """" ""The downloaded file should be a dmg in your downloads folder. Open that dmg "" ""file and follow the instructions on screen."" msgid """" ""The event is designed to bring together users, operators and developers to "" ""discuss feedback and future plans and you will also find a lot of options to "" ""collaborate with representatives from adjacent communities."" msgstr """" ""The event is designed to bring together users, operators and developers to "" ""discuss feedback and future plans and you will also find a lot of options to "" ""collaborate with representatives from adjacent communities."" msgid """" ""The events are one or two days long and filled with mainly presentations and "" ""panel discussions about the latest hot topics in the community's life. It "" ""gives you a great opportunity to meet the local community and find people "" ""who are interested in the same challenges and technology as you are. "" ""Connecting with people in the same region where you are gives you the "" ""advantage to be able to reach out easier to them later as they are in the "" ""same time zone, maybe even in the same city."" msgstr """" ""The events are one or two days long and filled with mainly presentations and "" ""panel discussions about the latest hot topics in the community's life. It "" ""gives you a great opportunity to meet the local community and find people "" ""who are interested in the same challenges and technology as you are. "" ""Connecting with people in the same region where you are gives you the "" ""advantage to be able to reach out easier to them later as they are in the "" ""same time zone, maybe even in the same city."" msgid """" ""The first period of a cycle includes more focus on planning, which is why "" ""the PTGs are scheduled right after the releases. This is the phase when you "" ""should upload your specs for review and use the mailing list, project "" ""channels and meetings on IRC to discuss any parts of your design that might "" ""be in question."" msgstr """" ""The first period of a cycle includes more focus on planning, which is why "" ""the PTGs are scheduled right after the releases. This is the phase when you "" ""should upload your specs for review and use the mailing list, project "" ""channels and meetings on IRC to discuss any parts of your design that might "" ""be in question."" msgid """" ""The first thing you'll want to do is sign up using this `mentor form "" ""<https://openstackfoundation.formstack.com/forms/"" ""mentoring_cohorts_mentors>`_. This will get you into our spreadsheet of "" ""mentors so that we can keep track of who is working with which group so when "" ""we need to help bolster certain cohorts with calls for mentors, we can see "" ""who is already involved."" msgstr """" ""The first thing you'll want to do is sign up using this `mentor form "" ""<https://openstackfoundation.formstack.com/forms/"" ""mentoring_cohorts_mentors>`_. This will get you into our spreadsheet of "" ""mentors so that we can keep track of who is working with which group so when "" ""we need to help bolster certain cohorts with calls for mentors, we can see "" ""who is already involved."" msgid ""The fix has been merged into an official branch"" msgstr ""The fix has been merged into an official branch"" msgid """" ""The following tags are optional; however, their use is recommended if they "" ""are applicable to the patch:"" msgstr """" ""The following tags are optional; however, their use is recommended if they "" ""are applicable to the patch:"" msgid ""The following tags are required:"" msgstr ""The following tags are required:"" msgid ""The four opens"" msgstr ""The four opens"" msgid """" ""The irc_nick is the IRC nick of the person who is receiving the thanks. The "" ""message is a short text to explain the reason for the thanks. The bot "" ""collects all thanks to a `wiki page <https://wiki.openstack.org/wiki/"" ""Thanks>`__."" msgstr """" ""The irc_nick is the IRC nick of the person who is receiving the thanks. The "" ""message is a short text to explain the reason for the thanks. The bot "" ""collects all thanks to a `wiki page <https://wiki.openstack.org/wiki/"" ""Thanks>`__."" msgid """" ""The mailing list is where most day to day asynchronous interactions happen. "" ""Here is where you can get `subscribed and view ML archives <http://lists."" ""openstack.org/cgi-bin/mailman/listinfo/openstack-mentoring>`_."" msgstr """" ""The mailing list is where most day to day asynchronous interactions happen. "" ""Here is where you can get `subscribed and view ML archives <http://lists."" ""openstack.org/cgi-bin/mailman/listinfo/openstack-mentoring>`_."" msgid """" ""The majority of the official OpenStack projects follow the release schedule "" ""set by the Release Management Team."" msgstr """" ""The majority of the official OpenStack projects follow the release schedule "" ""set by the Release Management Team."" msgid """" ""The purpose of the Forum is to provide space for the developer and user "" ""community to get together and discuss feedback and find solutions to "" ""problems and new challenges and requirements."" msgstr """" ""The purpose of the Forum is to provide space for the developer and user "" ""community to get together and discuss feedback and find solutions to "" ""problems and new challenges and requirements."" msgid """" ""The services developed by the community are available as tarballs to install "" ""them from source and are also picked up and packaged to make it available "" ""for different Linux distributions or as part of OpenStack distributions."" msgstr """" ""The services developed by the community are available as tarballs to install "" ""them from source and are also picked up and packaged to make it available "" ""for different Linux distributions or as part of OpenStack distributions."" msgid """" ""The sessions are grouped into two major parts, the conference and the Forum."" msgstr """" ""The sessions are grouped into two major parts, the conference and the Forum."" msgid """" ""The state of all OpenStack releases may be seen on the `OpenStack Releases "" ""<https://releases.openstack.org>`_ web page."" msgstr """" ""The state of all OpenStack releases may be seen on the `OpenStack Releases "" ""<https://releases.openstack.org>`_ web page."" msgid """" ""The summary line briefly describes the patch content. The character limit is "" ""50 characters. The summary line should not end with a period. If the change "" ""is not finished at the time of the commit, start the commit message with WIP."" msgstr """" ""The summary line briefly describes the patch content. The character limit is "" ""50 characters. The summary line should not end with a period. If the change "" ""is not finished at the time of the commit, start the commit message with WIP."" msgid """" ""The teams get space at `OpenStack Summits <https://www.openstack.org/summit/"" "">`_ and `Project Team Gatherings (PTG) <https://www.openstack.org/ptg/>`_"" msgstr """" ""The teams get space at `OpenStack Summits <https://www.openstack.org/summit/"" "">`_ and `Project Team Gatherings (PTG) <https://www.openstack.org/ptg/>`_"" msgid """" ""The third period of a release is focusing on finishing the implementation "" ""and testing of new functionality added during the release. You need to "" ""ensure to add new tests in Tempest and have documentation covered as well "" ""before the third milestone. During this phase the core review team can "" ""choose to focus on higher priority features only. They make their decision "" ""about priorities either at the PTG or soon after, some time before the first "" ""milestone of a release."" msgstr """" ""The third period of a release is focusing on finishing the implementation "" ""and testing of new functionality added during the release. You need to "" ""ensure to add new tests in Tempest and have documentation covered as well "" ""before the third milestone. During this phase the core review team can "" ""choose to focus on higher priority features only. They make their decision "" ""about priorities either at the PTG or soon after, some time before the first "" ""milestone of a release."" msgid """" ""The user community is crucial for OpenStack and their participation is "" ""highly encouraged."" msgstr """" ""The user community is crucial for OpenStack and their participation is "" ""highly encouraged."" msgid """" ""There are community organized events all year all around the globe. Be sure "" ""you `check <https://www.openstack.org/community/events/>`_ when the next one "" ""is in your area!"" msgstr """" ""There are community organised events all year all around the globe. Be sure "" ""you `check <https://www.openstack.org/community/events/>`_ when the next one "" ""is in your area!"" msgid """" ""There are lots of people working on OpenStack organized into different "" ""groups. These are described in the :ref:`special-interest-groups` section of "" ""the Governance chapter."" msgstr """" ""There are lots of people working on OpenStack organised into different "" ""groups. These are described in the :ref:`special-interest-groups` section of "" ""the Governance chapter."" msgid """" ""There are more than 40 different ML's. These are listed in the `mailman page "" ""<http://lists.openstack.org/cgi-bin/mailman/listinfo>`__. Mailing lists are "" ""a way for people to communicate to a larger group than those that are on "" ""IRC. All emails on these lists are archived and available on the `Mailing "" ""Lists <https://wiki.openstack.org/wiki/Mailing_Lists>`_ wiki. The same page "" ""describes how to subscribe to a list and describes some popular lists."" msgstr """" ""There are more than 40 different ML's. These are listed in the `mailman page "" ""<http://lists.openstack.org/cgi-bin/mailman/listinfo>`__. Mailing lists are "" ""a way for people to communicate to a larger group than those that are on "" ""IRC. All emails on these lists are archived and available on the `Mailing "" ""Lists <https://wiki.openstack.org/wiki/Mailing_Lists>`_ wiki. The same page "" ""describes how to subscribe to a list and describes some popular lists."" msgid """" ""There is a Call For Papers (CFP) process before each Summit where anyone can "" ""propose sessions for the upcoming event. After the CFP deadline the "" ""proposals go through a community vote after which a group of track chairs "" ""decide about the final content for each track."" msgstr """" ""There is a Call For Papers (CFP) process before each Summit where anyone can "" ""propose sessions for the upcoming event. After the CFP deadline the "" ""proposals go through a community vote after which a group of track chairs "" ""decide about the final content for each track."" msgid """" ""These are different in that the name is what is used in the generated url "" ""and the title is what displays when blueprints are listed out (name: "" ""new_ibm_driver title: New IBM ISCSI Driver). The next most important part is "" ""the summary- a description of the code change, where most of the details "" ""about the implementation are. After that, there are several optional fields "" ""you may wish to fill in- a specification url, assignee, drafter, and "" ""approver. The last two fields before registering have default values- status "" ""and propose for a sprint. For most teams, it is typical to leave the default "" ""values."" msgstr """" ""These are different in that the name is what is used in the generated url "" ""and the title is what displays when blueprints are listed out (name: "" ""new_ibm_driver title: New IBM ISCSI Driver). The next most important part is "" ""the summary- a description of the code change, where most of the details "" ""about the implementation are. After that, there are several optional fields "" ""you may wish to fill in- a specification URL, assignee, drafter, and "" ""approver. The last two fields before registering have default values- status "" ""and propose for a sprint. For most teams, it is typical to leave the default "" ""values."" msgid """" ""This bot allows people to recognize each other and be thankful. Anyone can "" ""post a message in the OpenStack IRC channels to say thanks. The way to say "" ""thanks is:"" msgstr """" ""This bot allows people to recognise each other and be thankful. Anyone can "" ""post a message in the OpenStack IRC channels to say thanks. The way to say "" ""thanks is:"" msgid """" ""This event is created to provide space and time for developers and operators "" ""to get together and have detailed technical discussions."" msgstr """" ""This event is created to provide space and time for developers and operators "" ""to get together and have detailed technical discussions."" msgid """" ""This event is recommended to developers, operators and end users who are "" ""already involved in community activities. If you are a new comer you might "" ""want to consider one of the OpenStack Summits first where you can find "" ""several sessions to help you find your way within the community."" msgstr """" ""This event is recommended to developers, operators and end users who are "" ""already involved in community activities. If you are a new comer you might "" ""want to consider one of the OpenStack Summits first where you can find "" ""several sessions to help you find your way within the community."" msgid ""This is a valid issue, but it is the way it should be"" msgstr ""This is a valid issue, but it is the way it should be"" msgid ""This is a valid issue, but we don't intend to fix that"" msgstr ""This is a valid issue, but we don't intend to fix that"" msgid ""This is not a bug"" msgstr ""This is not a bug"" msgid ""This is the review system the OpenStack community uses."" msgstr ""This is the review system the OpenStack community uses."" msgid """" ""This is the view of the Zanata workspace. On the left side you have the "" ""original text string, while you can enter the translation on the right."" msgstr """" ""This is the view of the Zanata workspace. On the left side you have the "" ""original text string, while you can enter the translation on the right."" msgid ""This section allows you to:"" msgstr ""This section allows you to:"" msgid """" ""This section assumes you have completed :doc:`/code-and-documentation/using-"" ""gerrit`."" msgstr """" ""This section assumes you have completed :doc:`/code-and-documentation/using-"" ""gerrit`."" msgid ""This section assumes you have completed :doc:`accounts` guide."" msgstr ""This section assumes you have completed :doc:`accounts` guide."" msgid ""This section assumes you have completed :doc:`git` guide."" msgstr ""This section assumes you have completed :doc:`git` guide."" msgid """" ""This section assumes you have completed the :doc: '/common/irc' section of "" ""the contributor guide. It might also be helpful to cover the more generic "" ""information about mailing lists in the Communication page's :ref:"" ""`communication-mailing-lists` section as well."" msgstr """" ""This section assumes you have completed the :doc: '/common/irc' section of "" ""the contributor guide. It might also be helpful to cover the more generic "" ""information about mailing lists in the Communication page's :ref:"" ""`communication-mailing-lists` section as well."" msgid """" ""This section explains how you can install an IRC program called Colloquy."" msgstr """" ""This section explains how you can install an IRC program called Colloquy."" msgid """" ""This section explains how you can install an IRC program called Hexchat."" msgstr """" ""This section explains how you can install an IRC program called Hexchat."" msgid """" ""This section provides information on Storyboard and Launchpad task trackers. "" ""You can learn about Storyboard stories and tasks, boards and worklists, and "" ""Launchpad blueprints and bugs."" msgstr """" ""This section provides information on Storyboard and Launchpad task trackers. "" ""You can learn about Storyboard stories and tasks, boards and worklists, and "" ""Launchpad blueprints and bugs."" msgid ""This sections allows you to:"" msgstr ""This sections allows you to:"" msgid """" ""This will show you the status on all jobs running in zuul currently. You can "" ""expand jobs running on any patch by clicking on the box for a patch."" msgstr """" ""This will show you the status on all jobs running in Zuul currently. You can "" ""expand jobs running on any patch by clicking on the box for a patch."" msgid ""Time frame"" msgstr ""Time frame"" msgid """" ""To find your specific patch in zuul you can use the search bar and search "" ""for the patch number. This will then filter what is displayed to just that "" ""patch:"" msgstr """" ""To find your specific patch in Zuul you can use the search bar and search "" ""for the patch number. This will then filter what is displayed to just that "" ""patch:"" msgid """" ""To get to the details of reporting the bug you fill in the summary line and "" ""click 'next'."" msgstr """" ""To get to the details of reporting the bug you fill in the summary line and "" ""click 'next'."" msgid """" ""To produce a ubiquitous Open Source Cloud Computing platform that **is** "" ""easy to use, simple to implement, interoperable between deployments, works "" ""well at **all** scales, **and** meets the needs of users and operators of "" ""both public **and** private clouds."" msgstr """" ""To produce a ubiquitous Open Source Cloud Computing platform that **is** "" ""easy to use, simple to implement, interoperable between deployments, works "" ""well at **all** scales, **and** meets the needs of users and operators of "" ""both public **and** private Clouds."" msgid """" ""To propose a project to be an official OpenStack project the project's "" ""information should be added to the *reference/projects.yaml* file of the "" ""*openstack/governance* repository. Anyone can propose changes to the file."" msgstr """" ""To propose a project to be an official OpenStack project the project's "" ""information should be added to the *reference/projects.yaml* file of the "" ""*openstack/governance* repository. Anyone can propose changes to the file."" msgid """" ""To see how OpenStack and further OpenStack Foundation projects are utilized "" ""you will find exhibitors at the Market Place area."" msgstr """" ""To see how OpenStack and further OpenStack Foundation projects are utilised "" ""you will find exhibitors at the Market Place area."" msgid ""Track progress on bugs and new features"" msgstr ""Track progress on bugs and new features"" msgid ""Tracking Changes in Zuul status page"" msgstr ""Tracking Changes in Zuul status page"" msgid ""Translation Platform"" msgstr ""Translation Platform"" msgid ""Troubleshooting"" msgstr ""Troubleshooting"" msgid ""Type in a different user/nick name as shown in the previous step."" msgstr ""Type in a different user/nick name as shown in the previous step."" msgid """" ""Type the following to register your nick name with nickserv replacing "" ""**mysecretpassword** and **test@domain.com** with your own password and "" ""email address::"" msgstr """" ""Type the following to register your nick name with nickserv replacing "" ""**mysecretpassword** and **test@domain.com** with your own password and "" ""email address::"" msgid ""Typically public key filenames will look like:"" msgstr ""Typically public key filenames will look like:"" msgid ""Under individual members, click the **Foundation Member** button."" msgstr ""Under individual members, click the **Foundation Member** button."" msgid """" ""Understand the differences between the different in-person OpenStack events"" msgstr """" ""Understand the differences between the different in-person OpenStack events"" msgid """" ""Understand the different release models that OpenStack components follow"" msgstr """" ""Understand the different release models that OpenStack components follow"" msgid ""Understand the different tools OpenStack uses for task management"" msgstr ""Understand the different tools OpenStack uses for task management"" msgid ""Understand the governance model of OpenStack"" msgstr ""Understand the governance model of OpenStack"" msgid """" ""Understand the underlying infrastructure and gating processes that OpenStack "" ""uses"" msgstr """" ""Understand the underlying infrastructure and gating processes that OpenStack "" ""uses"" msgid ""Unmaintained"" msgstr ""Unmaintained"" msgid ""Use the same email address that was used during the account setup."" msgstr ""Use the same email address that was used during the account setup."" msgid ""User Committee"" msgstr ""User Committee"" msgid ""Version control"" msgstr ""Version control"" msgid """" ""Visit `OpenStack's Gerrit page <https://review.opendev.org>`_ and click the "" ""**sign in** link."" msgstr """" ""Visit `OpenStack's Gerrit page <https://review.opendev.org>`_ and click the "" ""**sign in** link."" msgid ""Vote in elections."" msgstr ""Vote in elections."" msgid ""Vote on presentations at OpenStack conferences."" msgstr ""Vote on presentations at OpenStack conferences."" msgid """" ""We use `Zanata <http://zanata.org/>`_ as the platform for translating "" ""strings in software projects and documentation. Zanata provides web user "" ""interfaces: you only need a web browser to start your translation "" ""contribution. Our translation platform is reachable on `translate.openstack."" ""org <https://translate.openstack.org/>`_"" msgstr """" ""We use `Zanata <http://zanata.org/>`_ as the platform for translating "" ""strings in software projects and documentation. Zanata provides web user "" ""interfaces: you only need a web browser to start your translation "" ""contribution. Our translation platform is reachable on `translate.openstack."" ""org <https://translate.openstack.org/>`_"" msgid ""What Task Trackers does OpenStack use?"" msgstr ""What Task Trackers does OpenStack use?"" msgid ""What are they?"" msgstr ""What are they?"" msgid ""What is Gerrit?"" msgstr ""What is Gerrit?"" msgid ""What is Git?"" msgstr ""What is Git?"" msgid ""What is IRC?"" msgstr ""What is IRC?"" msgid ""What is Launchpad?"" msgstr ""What is Launchpad?"" msgid ""What is OpenStack?"" msgstr ""What is OpenStack?"" msgid ""What is StoryBoard?"" msgstr ""What is StoryBoard?"" msgid ""What is Zuul"" msgstr ""What is Zuul"" msgid ""What is a contribution?"" msgstr ""What is a contribution?"" msgid ""What is it?"" msgstr ""What is it?"" msgid """" ""When sending emails to the ML, if your subject is specific to one cohort, "" ""please use the relevant tag:"" msgstr """" ""When sending emails to the ML, if your subject is specific to one cohort, "" ""please use the relevant tag:"" msgid """" ""When you have changes in an OpenStack project repository, you can use this "" ""sub-command to have the changes posted to `Gerrit <https://review.opendev."" ""org/>`__ so that they can be reviewed."" msgstr """" ""When you have changes in an OpenStack project repository, you can use this "" ""sub-command to have the changes posted to `Gerrit <https://review.opendev."" ""org/>`__ so that they can be reviewed."" msgid """" ""When you login to the server for the first time with your nickname, it will "" ""be used by you, but it's still not registered yet."" msgstr """" ""When you login to the server for the first time with your nickname, it will "" ""be used by you, but it's still not registered yet."" msgid """" ""When you push a patch to gerrit zuul will automatically trigger jobs to "" ""verify the patch functions properly."" msgstr """" ""When you push a patch to Gerrit Zuul will automatically trigger jobs to "" ""verify the patch functions properly."" msgid """" ""When you're prompted to \""Enter a file in which to save the key\"" press "" ""Enter. This accepts the default location::"" msgstr """" ""When you're prompted to \""Enter a file in which to save the key\"" press "" ""Enter. This accepts the default location::"" msgid """" ""When you're prompted to \""Enter a file in which to save the key\"" you must "" ""specify the name of the new key pair and then press Enter::"" msgstr """" ""When you're prompted to \""Enter a file in which to save the key\"" you must "" ""specify the name of the new key pair and then press Enter::"" msgid ""While there are community members maintaining it."" msgstr ""While there are community members maintaining it."" msgid """" ""While working with OpenStack, IRC is the best way to get real time help or "" ""support others. Details of how to get on IRC, channel lists, how meetings "" ""are run, where to find logs, and our IRC bots are described in :ref:`setup-"" ""irc`."" msgstr """" ""While working with OpenStack, IRC is the best way to get real time help or "" ""support others. Details of how to get on IRC, channel lists, how meetings "" ""are run, where to find logs, and our IRC bots are described in :ref:`setup-"" ""irc`."" msgid ""Wiki Pages"" msgstr ""Wiki Pages"" msgid ""Windows"" msgstr ""Windows"" msgid ""Work on the fix is in progress, bug has an assignee"" msgstr ""Work on the fix is in progress, bug has an assignee"" msgid """" ""Worklists and boards are different ways of organizing work. It is up to the "" ""project team how stories are organized. They could be sorted by milestone. A "" ""lane could have all the bugs or all the new features. It depends on the "" ""teams way of organizing and coordinating work. Order of stories in a "" ""worklist could convey priority as well."" msgstr """" ""Worklists and boards are different ways of organizing work. It is up to the "" ""project team how stories are organised. They could be sorted by milestone. A "" ""lane could have all the bugs or all the new features. It depends on the "" ""teams way of organising and coordinating work. Order of stories in a "" ""worklist could convey priority as well."" msgid """" ""You can check the status of those jobs at any time by navigating to: https://"" ""zuul.openstack.org/"" msgstr """" ""You can check the status of those jobs at any time by navigating to: https://"" ""zuul.openstack.org/"" msgid """" ""You can find both the conference and Forum sessions on the Summit schedule."" msgstr """" ""You can find both the conference and Forum sessions on the Summit schedule."" msgid """" ""You can generate a new SSH key pair using the provided email as a label by "" ""going into your terminal program and typing::"" msgstr """" ""You can generate a new SSH key pair using the provided email as a label by "" ""going into your terminal program and typing::"" msgid """" ""You can generate a new SSH key using the provided email as a label by going "" ""into your terminal program and typing::"" msgstr """" ""You can generate a new SSH key using the provided email as a label by going "" ""into your terminal program and typing::"" msgid """" ""You can reference `Comparison of Official Group Structures page <https://"" ""governance.openstack.org/tc/reference/comparison-of-official-group-"" ""structures.html>`_ to see the difference between group structures."" msgstr """" ""You can reference `Comparison of Official Group Structures page <https://"" ""governance.openstack.org/tc/reference/comparison-of-official-group-"" ""structures.html>`_ to see the difference between group structures."" msgid """" ""You can use `Git Immersion <http://gitimmersion.com/lab_02.html>`_ to work "" ""through tutorials for learning git."" msgstr """" ""You can use `Git Immersion <http://gitimmersion.com/lab_02.html>`_ to work "" ""through tutorials for learning git."" msgid """" ""You will be prompted to select a username. You can enter the same one you "" ""did for Launchpad, or something else."" msgstr """" ""You will be prompted to select a username. You can enter the same one you "" ""did for Launchpad, or something else."" msgid """" ""You're already signed up. Launchpad uses your Ubuntu One account for "" ""authentication like StoryBoard."" msgstr """" ""You're already signed up. Launchpad uses your Ubuntu One account for "" ""authentication like StoryBoard."" msgid """" ""Your membership application must be confirmed by the language coordinator. "" ""This may take some time. An e-mail with your request will be sent "" ""automatically."" msgstr """" ""Your membership application must be confirmed by the language coordinator. "" ""This may take some time. An e-mail with your request will be sent "" ""automatically."" msgid ""Zanata Usage"" msgstr ""Zanata Usage"" msgid """" ""Zuul is a tool written and run by the OpenStack Infrastructure team that is "" ""used to manage running continuous infrastructure jobs. It provides projects "" ""with a way to define test jobs that will run on each proposed commit. These "" ""tests are required to pass in order for any proposed patch to merge."" msgstr """" ""Zuul is a tool written and run by the OpenStack Infrastructure team that is "" ""used to manage running continuous infrastructure jobs. It provides projects "" ""with a way to define test jobs that will run on each proposed commit. These "" ""tests are required to pass in order for any proposed patch to merge."" msgid ""[coa] for becoming a Certified OpenStack Administrator"" msgstr ""[coa] for becoming a Certified OpenStack Administrator"" msgid ""[first-cfp] for giving your first conference talk"" msgstr ""[first-cfp] for giving your first conference talk"" msgid ""[first-cloud] for deploying your first cloud"" msgstr ""[first-cloud] for deploying your first cloud"" msgid ""[first-patch] for getting your first patch merged"" msgstr ""[first-patch] for getting your first patch merged"" msgid """" ""`Ask OpenStack <https://ask.openstack.org/>`__ is a question and answer site "" ""for OpenStack users and developers. It provides answer to almost every "" ""question a new contributor can run into. It is possible to collect karma "" ""points by asking or answering questions. The questions are moderated by Ask "" ""OpenStack users with high Karma points. More info about Ask OpenStack is "" ""available on its `about page <https://ask.openstack.org/en/about/>`__ and on "" ""the `ask moderators wiki <https://wiki.openstack.org/wiki/Community/"" ""AskModerators>`__."" msgstr """" ""`Ask OpenStack <https://ask.openstack.org/>`__ is a question and answer site "" ""for OpenStack users and developers. It provides answer to almost every "" ""question a new contributor can run into. It is possible to collect karma "" ""points by asking or answering questions. The questions are moderated by Ask "" ""OpenStack users with high Karma points. More info about Ask OpenStack is "" ""available on its `about page <https://ask.openstack.org/en/about/>`__ and on "" ""the `ask moderators wiki <https://wiki.openstack.org/wiki/Community/"" ""AskModerators>`__."" msgid """" ""`Code, docs, infrastructure changes, and CI configurations <https://opendev."" ""org/explore/repos>`_"" msgstr """" ""`Code, docs, infrastructure changes, and CI configurations <https://opendev."" ""org/explore/repos>`_"" msgid ""`Confirmed`"" msgstr ""`Confirmed`"" msgid ""`Fix Committed`"" msgstr ""`Fix Committed`"" msgid ""`Fix Released`"" msgstr ""`Fix Released`"" msgid ""`In Progress`"" msgstr ""`In Progress`"" msgid ""`Incomplete`"" msgstr ""`Incomplete`"" msgid ""`Invalid`"" msgstr ""`Invalid`"" msgid """" ""`Launchpad <https://launchpad.net/openstack>`_ is the legacy way the "" ""OpenStack community does bug tracking since we started `moving towards "" ""StoryBoard <https://superuser.openstack.org/articles/openstack-gerrit-"" ""storyboard-integration>`_."" msgstr """" ""`Launchpad <https://launchpad.net/openstack>`_ is the legacy way the "" ""OpenStack community does bug tracking since we started `moving towards "" ""StoryBoard <https://superuser.openstack.org/articles/openstack-gerrit-"" ""storyboard-integration>`_."" msgid ""`New`"" msgstr ""`New`"" msgid """" ""`Open Community <https://governance.openstack.org/tc/reference/opens."" ""html#open-community>`_"" msgstr """" ""`Open Community <https://governance.openstack.org/tc/reference/opens."" ""html#open-community>`_"" msgid """" ""`Open design <https://governance.openstack.org/tc/reference/opens.html#open-"" ""design>`_"" msgstr """" ""`Open design <https://governance.openstack.org/tc/reference/opens.html#open-"" ""design>`_"" msgid """" ""`Open development <https://governance.openstack.org/tc/reference/opens."" ""html#open-development>`_"" msgstr """" ""`Open development <https://governance.openstack.org/tc/reference/opens."" ""html#open-development>`_"" msgid """" ""`Open source <https://governance.openstack.org/tc/reference/opens.html#open-"" ""source>`_"" msgstr """" ""`Open Source <https://governance.openstack.org/tc/reference/opens.html#open-"" ""source>`_"" msgid """" ""`OpenStack Days <https://www.openstack.org/community/events/openstackdays>`_ "" ""events are similar to the Open Infrastructure Summits that are organized by "" ""the local community, users groups and companies."" msgstr """" ""`OpenStack Days <https://www.openstack.org/community/events/openstackdays>`_ "" ""events are similar to the Open Infrastructure Summits that are organised by "" ""the local community, users groups and companies."" msgid ""`Opinion`"" msgstr ""`Opinion`"" msgid """" ""`SLES 12 <https://www.microsoft.com/en-us/store/p/suse-linux-enterprise-"" ""server-12/9p32mwbh6cns>`_"" msgstr """" ""`SLES 12 <https://www.microsoft.com/en-us/store/p/suse-linux-enterprise-"" ""server-12/9p32mwbh6cns>`_"" msgid ""`Specifications <https://specs.openstack.org>`_"" msgstr ""`Specifications <https://specs.openstack.org>`_"" msgid """" ""`StoryBoard <https://storyboard.openstack.org>`_ is bug tracking software "" ""the OpenStack community is `developing <https://wiki.openstack.org/wiki/"" ""StoryBoard>`_, and in the progress of `migrating towards <https://superuser."" ""openstack.org/articles/openstack-gerrit-storyboard-integration/>`_. Some "" ""`projects are already using it <https://storyboard.openstack.org/#!/project/"" ""list>`_."" msgstr """" ""`StoryBoard <https://storyboard.openstack.org>`_ is bug tracking software "" ""the OpenStack community is `developing <https://wiki.openstack.org/wiki/"" ""StoryBoard>`_, and in the progress of `migrating towards <https://superuser."" ""openstack.org/articles/openstack-gerrit-storyboard-integration/>`_. Some "" ""`projects are already using it <https://storyboard.openstack.org/#!/project/"" ""list>`_."" msgid ""`Translations <https://opendev.org/openstack/i18n/>`_"" msgstr ""`Translations <https://opendev.org/openstack/i18n/>`_"" msgid ""`Triaged`"" msgstr ""`Triaged`"" msgid """" ""`Ubuntu 16.04 <https://www.microsoft.com/en-us/store/p/ubuntu/9nblggh4msv6>`_"" msgstr """" ""`Ubuntu 16.04 <https://www.microsoft.com/en-us/store/p/ubuntu/9nblggh4msv6>`_"" msgid """" ""`Use cases for features <https://specs.openstack.org/openstack/openstack-"" ""user-stories/>`_"" msgstr """" ""`Use cases for features <https://specs.openstack.org/openstack/openstack-"" ""user-stories/>`_"" msgid """" ""`Windows Subsystem for Linux (WSL) <https://docs.microsoft.com/en-us/windows/"" ""wsl/about>`_ is available in Windows 10 Anniversary Update or later (build "" ""1607+). There is the possibility to install and run modern Linux Operating "" ""Systems:"" msgstr """" ""`Windows Subsystem for Linux (WSL) <https://docs.microsoft.com/en-us/windows/"" ""wsl/about>`_ is available in Windows 10 Anniversary Update or later (build "" ""1607+). There is the possibility to install and run modern Linux Operating "" ""Systems:"" msgid ""`Won't Fix`"" msgstr ""`Won't Fix`"" msgid """" ""``Closes-Bug``: #123456789: use ``Closes-Bug`` if the commit is intended to "" ""fully fix and close the bug being referenced. Use the Launchpad ID of the "" ""bug for the number; Gerrit automatically creates a link to the bug."" msgstr """" ""``Closes-Bug``: #123456789: use ``Closes-Bug`` if the commit is intended to "" ""fully fix and close the bug being referenced. Use the Launchpad ID of the "" ""bug for the number; Gerrit automatically creates a link to the bug."" msgid """" ""``Implements``: Use this tag if the change fully implements a Launchpad "" ""blueprint. Use the name of the blueprint as an ID."" msgstr """" ""``Implements``: Use this tag if the change fully implements a Launchpad "" ""blueprint. Use the name of the blueprint as an ID."" msgid """" ""``Partial-Bug``: #123456789: use ``Partial-Bug`` if the commit is only a "" ""partial fix and more work is needed. Use the Launchpad ID of the bug for the "" ""number; Gerrit automatically creates a link to the bug."" msgstr """" ""``Partial-Bug``: #123456789: use ``Partial-Bug`` if the commit is only a "" ""partial fix and more work is needed. Use the Launchpad ID of the bug for the "" ""number; Gerrit automatically creates a link to the bug."" msgid """" ""``Partial-Implements``: Use this tag if the change partially implements a "" ""Launchpad blueprint. Use the name of the blueprint as an ID."" msgstr """" ""``Partial-Implements``: Use this tag if the change partially implements a "" ""Launchpad blueprint. Use the name of the blueprint as an ID."" msgid """" ""``Related-Bug``: #12456789: use 'Related-Bug' if the commit is merely "" ""related to the referenced bug. Use the Launchpad ID of the bug for the "" ""number; Gerrit automatically creates a link to the bug."" msgstr """" ""``Related-Bug``: #12456789: use 'Related-Bug' if the commit is merely "" ""related to the referenced bug. Use the Launchpad ID of the bug for the "" ""number; Gerrit automatically creates a link to the bug."" msgid """" ""``Story``: 1234567: the number of the story in Storyboard to which the task "" ""being implemented belongs. This will post a comment on the story with a link "" ""to your patch."" msgstr """" ""``Story``: 1234567: the number of the story in Storyboard to which the task "" ""being implemented belongs. This will post a comment on the story with a link "" ""to your patch."" msgid """" ""``Task``: 1234: the number of the task in Storyboard implemented by the "" ""change. This will auto update the task to 'Review' status and assign it to "" ""you when you push the patch."" msgstr """" ""``Task``: 1234: the number of the task in Storyboard implemented by the "" ""change. This will auto update the task to 'Review' status and assign it to "" ""you when you push the patch."" msgid """" ""`cycle-automatic <https://releases.openstack.org/reference/release_models."" ""html#cycle-automatic>`_"" msgstr """" ""`cycle-automatic <https://releases.openstack.org/reference/release_models."" ""html#cycle-automatic>`_"" msgid """" ""`cycle-trailing <https://releases.openstack.org/reference/release_models."" ""html#cycle-trailing>`_"" msgstr """" ""`cycle-trailing <https://releases.openstack.org/reference/release_models."" ""html#cycle-trailing>`_"" msgid """" ""`cycle-with-intermediary <https://releases.openstack.org/reference/"" ""release_models.html#cycle-with-intermediary>`_"" msgstr """" ""`cycle-with-intermediary <https://releases.openstack.org/reference/"" ""release_models.html#cycle-with-intermediary>`_"" msgid """" ""`cycle-with-rc <https://releases.openstack.org/reference/release_models."" ""html#cycle-with-rc>`_"" msgstr """" ""`cycle-with-rc <https://releases.openstack.org/reference/release_models."" ""html#cycle-with-rc>`_"" msgid """" ""`independent <https://releases.openstack.org/reference/release_models."" ""html#independent>`_"" msgstr """" ""`independent <https://releases.openstack.org/reference/release_models."" ""html#independent>`_"" msgid """" ""`openSUSE Leap 42 <https://www.microsoft.com/en-us/store/p/opensuse-"" ""leap-42/9njvjts82tjx>`_"" msgstr """" ""`openSUSE Leap 42 <https://www.microsoft.com/en-us/store/p/opensuse-"" ""leap-42/9njvjts82tjx>`_"" msgid """" ""`untagged <https://releases.openstack.org/reference/release_models."" ""html#untagged>`_"" msgstr """" ""`untagged <https://releases.openstack.org/reference/release_models."" ""html#untagged>`_"" msgid """" ""a set of collaboration tools, like a wiki, IRC chanels, Etherpad and "" ""Ethercalc."" msgstr """" ""a set of collaboration tools, like a wiki, IRC chanels, Etherpad and "" ""Ethercalc."" msgid ""ask.openstack.org"" msgstr ""ask.openstack.org"" msgid ""id_dsa.pub"" msgstr ""id_dsa.pub"" msgid ""id_ecdsa.pub"" msgstr ""id_ecdsa.pub"" msgid ""id_ed25519.pub"" msgstr ""id_ed25519.pub"" msgid ""id_rsa.pub"" msgstr ""id_rsa.pub"" msgid """" ""to any OpenStack IRC channel where the Statusbot is listening. The message "" ""will be posted to the `Successes wiki page <https://wiki.openstack.org/wiki/"" ""Successes>`__."" msgstr """" ""to any OpenStack IRC channel where the Statusbot is listening. The message "" ""will be posted to the `Successes wiki page <https://wiki.openstack.org/wiki/"" ""Successes>`__."" ",,3235,0
openstack%2Fdevstack-gate~master~Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73,openstack/devstack-gate,master,Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73,Use stable constraints in Tempest tox till stable/rocky,MERGED,2020-02-06 04:42:36.000000000,2020-02-08 07:05:38.000000000,2020-02-08 07:05:38.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 04:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/55181a1a29d9826b899e925bcd8560a42f195fa5', 'message': 'Use stable constraints in Tempest tox for stable/ocata jobs\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nlegacy ocata job to use the master constraints and fail\n- https://review.opendev.org/#/c/706161/\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest recreate the tox env with master u-c\nwhen run test via devstack-gate.\n\nAll other branches have been fixed by fixing the run-tempest playbooks\nin same way.\n- https://review.opendev.org/#/c/705870/\n\nBecause stable/ocata use devstack-gate we need to fix this.\n\nThis is required to fix the grenade jobs on each stable branch to\nget the other fixes in.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73\n'}, {'number': 2, 'created': '2020-02-06 16:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/316eddc1e6ba705e4f05d75ec27dce4a5f6e8e56', 'message': 'Use stable constraints in Tempest tox for stable/ocata jobs\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nlegacy ocata job to use the master constraints and fail\n- https://review.opendev.org/#/c/706161/\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest recreate the tox env with master u-c\nwhen run test via devstack-gate.\n\nAll other branches have been fixed by fixing the run-tempest playbooks\nin same way.\n- https://review.opendev.org/#/c/705870/\n\nBecause stable/ocata use devstack-gate we need to fix this.\n\nThis is required to fix the grenade jobs on each stable branch to\nget the other fixes in.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73\n'}, {'number': 3, 'created': '2020-02-06 17:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/37429e7f4832479573b06d112c1d3040879c5a2f', 'message': 'Use stable constraints in Tempest tox for stable/ocata jobs\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nlegacy ocata job to use the master constraints and fail\n- https://review.opendev.org/#/c/706161/\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest recreate the tox env with master u-c\nwhen run test via devstack-gate.\n\nAll other branches have been fixed by fixing the run-tempest playbooks\nin same way.\n- https://review.opendev.org/#/c/705870/\n\nBecause stable/ocata use devstack-gate we need to fix this.\n\nThis is required to fix the grenade jobs on each stable branch to\nget the other fixes in.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73\n'}, {'number': 4, 'created': '2020-02-06 23:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f1a4ce4c24be1fad535382bddefce2bb9d57ca89', 'message': 'Use stable constraints in Tempest tox for stable/ocata jobs\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nlegacy ocata job to use the master constraints and fail\n- https://review.opendev.org/#/c/706161/\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest recreate the tox env with master u-c\nwhen run test via devstack-gate.\n\nAll other branches have been fixed by fixing the run-tempest playbooks\nin same way.\n- https://review.opendev.org/#/c/705870/\n\nBecause stable/ocata use devstack-gate we need to fix this.\n\nThis is required to fix the grenade jobs on each stable branch to\nget the other fixes in.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73\n'}, {'number': 5, 'created': '2020-02-07 14:51:29.000000000', 'files': ['devstack-vm-gate.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/51a074c302efa766b9798a2b21fac4654e104a59', 'message': 'Use stable constraints in Tempest tox till stable/rocky\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nlegacy ocata job to use the master constraints and fail\n- https://review.opendev.org/#/c/706161/\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest recreate the tox env with master u-c\nwhen run test via devstack-gate.\n\nAll other branches have been fixed by fixing the run-tempest playbooks\nin same way.\n- https://review.opendev.org/#/c/705870/\n\nBecause stable/ocata and grenade job use devstack-gate, we need to fix this.\n\nThis is required to fix the grenade jobs on each stable branch to\nget the other fixes in.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73\n'}]",1,706178,51a074c302efa766b9798a2b21fac4654e104a59,35,6,5,8556,,,0,"Use stable constraints in Tempest tox till stable/rocky

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
legacy ocata job to use the master constraints and fail
- https://review.opendev.org/#/c/706161/

Devstack can set stable u-c to use via env var but this is
not enough as Tempest recreate the tox env with master u-c
when run test via devstack-gate.

All other branches have been fixed by fixing the run-tempest playbooks
in same way.
- https://review.opendev.org/#/c/705870/

Because stable/ocata and grenade job use devstack-gate, we need to fix this.

This is required to fix the grenade jobs on each stable branch to
get the other fixes in.

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: Ibfc5c3d5e64e274fd674e6c42878d98bb194fa73
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/78/706178/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate.sh'],1,55181a1a29d9826b899e925bcd8560a42f195fa5,fix-stable-gate," # NOTE(gmann): Use branch constraint because Tempest is pinned to the branch release # instead of using master. We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint as defined in tempest/tox.ini if [[ ""$ZUUL_BRANCH"" == ""stable/ocata"" ]] ; then export UPPER_CONSTRAINTS_FILE=$BASE/new/requirements/upper-constraints.txt fi",,7,0
openstack%2Fnova~master~I9a262b6e3640e04b21111b3aef4b808a1030ff25,openstack/nova,master,I9a262b6e3640e04b21111b3aef4b808a1030ff25,fix format,ABANDONED,2020-02-08 05:15:08.000000000,2020-02-08 05:57:50.000000000,,[{'_account_id': 29963}],"[{'number': 1, 'created': '2020-02-08 05:15:08.000000000', 'files': ['nova/conductor/tasks/live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e5d1e54e517b14fd370086a7deed7746a3415591', 'message': 'fix format\n\nChange-Id: I9a262b6e3640e04b21111b3aef4b808a1030ff25\n'}]",0,706655,e5d1e54e517b14fd370086a7deed7746a3415591,4,1,1,30736,,,0,"fix format

Change-Id: I9a262b6e3640e04b21111b3aef4b808a1030ff25
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/706655/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/live_migrate.py'],1,e5d1e54e517b14fd370086a7deed7746a3415591,bug/1861964,, ,2,2
openstack%2Ftripleo-upgrade~stable%2Frocky~Ic420c0717165e01df99ad2368a23fc9fc10e71c1,openstack/tripleo-upgrade,stable/rocky,Ic420c0717165e01df99ad2368a23fc9fc10e71c1,Fix workaround delegation when overcloud's name is not overcloud.,MERGED,2020-01-27 17:06:13.000000000,2020-02-08 05:55:50.000000000,2020-02-08 05:55:49.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-27 17:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/889259d861a53055e27c9aaaec7f370cd2596054', 'message': ""Fix workaround delegation when overcloud's name is not overcloud.\n\ntripleo-ansible-inventory use overcloud as the name of the stack by\ndefault.  On some ci, that value may be different, this then produces\nan undercloud only inventory file.\n\nChange-Id: Ic420c0717165e01df99ad2368a23fc9fc10e71c1\nCloses-Bug: #1857120\n(cherry picked from commit 6483436d7d0916e5e07fa38b9041e0fd7a5dde1f)\n(cherry picked from commit 1da968309d1ee8a12f1cfc4a9399eba6df4b8be8)\n""}, {'number': 2, 'created': '2020-01-29 17:19:21.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a9c5c0719d56c20295832d35cb50d1500b2c96ce', 'message': ""Fix workaround delegation when overcloud's name is not overcloud.\n\ntripleo-ansible-inventory use overcloud as the name of the stack by\ndefault.  On some ci, that value may be different, this then produces\nan undercloud only inventory file.\n\nChange-Id: Ic420c0717165e01df99ad2368a23fc9fc10e71c1\nCloses-Bug: #1857120\n(cherry picked from commit 6483436d7d0916e5e07fa38b9041e0fd7a5dde1f)\n(cherry picked from commit 1da968309d1ee8a12f1cfc4a9399eba6df4b8be8)\n""}]",0,704362,a9c5c0719d56c20295832d35cb50d1500b2c96ce,12,5,2,8297,,,0,"Fix workaround delegation when overcloud's name is not overcloud.

tripleo-ansible-inventory use overcloud as the name of the stack by
default.  On some ci, that value may be different, this then produces
an undercloud only inventory file.

Change-Id: Ic420c0717165e01df99ad2368a23fc9fc10e71c1
Closes-Bug: #1857120
(cherry picked from commit 6483436d7d0916e5e07fa38b9041e0fd7a5dde1f)
(cherry picked from commit 1da968309d1ee8a12f1cfc4a9399eba6df4b8be8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/704362/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,889259d861a53055e27c9aaaec7f370cd2596054,bug/1857120," local overcloud_stack_name=""overcloud"" if [ -n ""${OVERCLOUD_STACK_NAME}"" ]; then overcloud_stack_name=""${OVERCLOUD_STACK_NAME}"" fi tripleo-ansible-inventory --plan ""${overcloud_stack_name}"" --ansible_ssh_user ${ansible_ssh_user} --static-yaml-inventory ${inventory_file}OVERCLOUD_STACK_NAME=""{{ overcloud_stack_name }}"" -o|--overcloud-stack-name) OVERCLOUD_STACK_NAME=""$2"" shift # past argument shift # past value ;;", tripleo-ansible-inventory --ansible_ssh_user ${ansible_ssh_user} --static-yaml-inventory ${inventory_file},12,2
openstack%2Frequirements~master~I71f77e3d412a0d08bdd16ba0c61d3c1d5ecb5d5f,openstack/requirements,master,I71f77e3d412a0d08bdd16ba0c61d3c1d5ecb5d5f,update constraint for oslo.log to new release 4.0.0,MERGED,2020-02-03 11:17:26.000000000,2020-02-08 05:26:04.000000000,2020-02-08 05:24:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 11:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4a4fc47c7f63d432cd011ae971df81187754b3bf', 'message': 'update constraint for oslo.log to new release 4.0.0\n\nChange-Id: I71f77e3d412a0d08bdd16ba0c61d3c1d5ecb5d5f\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ieab23754dfe45f449a2457f4d877efcb38bc7ae9\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2020-02-07 19:35:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/56ffe3bc1dc5a08d0e72dd03924548b1cc2da0d4', 'message': 'update constraint for oslo.log to new release 4.0.0\n\nChange-Id: I71f77e3d412a0d08bdd16ba0c61d3c1d5ecb5d5f\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ieab23754dfe45f449a2457f4d877efcb38bc7ae9\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,705419,56ffe3bc1dc5a08d0e72dd03924548b1cc2da0d4,23,2,2,11131,,,0,"update constraint for oslo.log to new release 4.0.0

Change-Id: I71f77e3d412a0d08bdd16ba0c61d3c1d5ecb5d5f
meta:version: 4.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ieab23754dfe45f449a2457f4d877efcb38bc7ae9
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/705419/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4a4fc47c7f63d432cd011ae971df81187754b3bf,new-release,oslo.log===4.0.0,oslo.log===3.45.2,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib821cfc95e4349b681c08ac86ad97b742c933983,openstack/tripleo-heat-templates,stable/train,Ib821cfc95e4349b681c08ac86ad97b742c933983,container-puppet.sh: add -r to rm command,MERGED,2020-02-07 19:30:54.000000000,2020-02-08 05:25:01.000000000,2020-02-08 05:25:01.000000000,"[{'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-07 19:30:54.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0551958a103236cd077598fd0c6fcca3ef7962db', 'message': 'container-puppet.sh: add -r to rm command\n\nWhen purging config files, it can happen that we try to remove a\ndirectory. Example for the ironic_pxe container:\n\n  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory\n\nSo just add -r to the rm command, so the purge can finish.\n\nDepends-On: https://review.opendev.org/#/c/705757/\nChange-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983\n(cherry picked from commit 60f043378ed083a391a29421ddeb98bf68f1351a)\n'}]",0,706611,0551958a103236cd077598fd0c6fcca3ef7962db,9,5,1,3153,,,0,"container-puppet.sh: add -r to rm command

When purging config files, it can happen that we try to remove a
directory. Example for the ironic_pxe container:

  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory

So just add -r to the rm command, so the purge can finish.

Depends-On: https://review.opendev.org/#/c/705757/
Change-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983
(cherry picked from commit 60f043378ed083a391a29421ddeb98bf68f1351a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/706611/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,0551958a103236cd077598fd0c6fcca3ef7962db,rm-stable/train," bash -c ""rm -rf ${puppet_generated_path}/{}"""," bash -c ""rm -f ${puppet_generated_path}/{}""",1,1
openstack%2Ftripleo-upgrade~stable%2Fstein~I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1,openstack/tripleo-upgrade,stable/stein,I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1,Remove GlanceRegistry service from roles_data.,MERGED,2020-02-07 16:50:22.000000000,2020-02-08 05:24:57.000000000,2020-02-08 05:24:57.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 16:50:22.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0475553f7d341076576d150892a5c9d5c780ace9', 'message': 'Remove GlanceRegistry service from roles_data.\n\nGlanceRegistry templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the GlanceRegistry service.\n\n[0] - I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1\n(cherry picked from commit 679793987101bc3a840ffb0e35b7961fd53b5390)\n'}]",0,706568,0475553f7d341076576d150892a5c9d5c780ace9,7,5,1,26343,,,0,"Remove GlanceRegistry service from roles_data.

GlanceRegistry templates where removed completely in Stein [0].
Therefore, there is no need to keep the service inside
any customized roles_data.

This patch parses the customized roles_data passed during
the upgrade prepare step and removes the GlanceRegistry service.

[0] - I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1
(cherry picked from commit 679793987101bc3a840ffb0e35b7961fd53b5390)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/68/706568/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,0475553f7d341076576d150892a5c9d5c780ace9,,"- name: drop GlanceRegistry service replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::GlanceRegistry$)' replace: '' ",,6,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I655171f35706df3cfcb32fc23db62a4ee71f194e,openstack/tripleo-heat-templates,stable/train,I655171f35706df3cfcb32fc23db62a4ee71f194e,Fix Placement password hiera is not set for Neutron,MERGED,2020-02-04 10:47:20.000000000,2020-02-08 05:24:56.000000000,2020-02-08 05:24:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 10:47:20.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03925f8c91f57ced82202494f5041719bbc01d66', 'message': 'Fix Placement password hiera is not set for Neutron\n\nPlacement password hiera is not set for Neutron\nwhen deployed with Novacontrol role. With Novacontrol\nrole the Placement service is not deployed\non controllers so the hiera is not set in\nservice_config_settings secion.\n\nChange-Id: I655171f35706df3cfcb32fc23db62a4ee71f194e\nCloses-Bug: #1861508\n(cherry picked from commit 573051a721a226cad03d096a245f7588cb3d2ffb)\n'}]",0,705629,03925f8c91f57ced82202494f5041719bbc01d66,10,7,1,30133,,,0,"Fix Placement password hiera is not set for Neutron

Placement password hiera is not set for Neutron
when deployed with Novacontrol role. With Novacontrol
role the Placement service is not deployed
on controllers so the hiera is not set in
service_config_settings secion.

Change-Id: I655171f35706df3cfcb32fc23db62a4ee71f194e
Closes-Bug: #1861508
(cherry picked from commit 573051a721a226cad03d096a245f7588cb3d2ffb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/705629/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,03925f8c91f57ced82202494f5041719bbc01d66,bug/1861508," neutron::server::placement::password: {get_param: NovaPassword} neutron::server::placement::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} neutron::server::placement::project_domain_name: 'Default' neutron::server::placement::project_name: 'service' neutron::server::placement::user_domain_name: 'Default' neutron::server::placement::username: nova neutron::server::placement::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} neutron::server::placement::auth_type: 'password'"," placement: neutron::server::placement::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} neutron::server::placement::project_domain_name: 'Default' neutron::server::placement::project_name: 'service' neutron::server::placement::user_domain_name: 'Default' neutron::server::placement::password: {get_param: NovaPassword} neutron::server::placement::username: nova neutron::server::placement::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} neutron::server::placement::auth_type: 'password' neutron::server::placement::region_name: {get_param: KeystoneRegion}",8,10
openstack%2Fpaunch~stable%2Ftrain~I6639ab859b120aa9349dc72b0d6e7d575be20c7a,openstack/paunch,stable/train,I6639ab859b120aa9349dc72b0d6e7d575be20c7a,load_config: allow the config to be overriden,MERGED,2020-02-03 13:03:15.000000000,2020-02-08 05:20:53.000000000,2020-02-08 05:19:18.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-03 13:03:15.000000000', 'files': ['paunch/utils/common.py', 'paunch/tests/test_utils_common.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/8ff14f1ff3d8fcc0366a536c731beec74e023b19', 'message': 'load_config: allow the config to be overriden\n\nThis will enable an operator using the paunch Ansible module to override\nany container parameter e.g. the image, directly from Ansible without\nmodifying the config that is on the host.\n\nChange-Id: I6639ab859b120aa9349dc72b0d6e7d575be20c7a\n(cherry picked from commit 0560631b2da0b8130e7c162cbd0ee43b00106f42)\n'}]",0,705438,8ff14f1ff3d8fcc0366a536c731beec74e023b19,24,7,1,3153,,,0,"load_config: allow the config to be overriden

This will enable an operator using the paunch Ansible module to override
any container parameter e.g. the image, directly from Ansible without
modifying the config that is on the host.

Change-Id: I6639ab859b120aa9349dc72b0d6e7d575be20c7a
(cherry picked from commit 0560631b2da0b8130e7c162cbd0ee43b00106f42)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/38/705438/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/utils/common.py', 'paunch/tests/test_utils_common.py']",2,8ff14f1ff3d8fcc0366a536c731beec74e023b19,," self.config_override = {'haproxy': {'image': 'quay.io/haproxy'}} self.expected_config_over = {'haproxy': {'image': 'quay.io/haproxy'}} @mock.patch('os.path.isdir') def test_load_config_dir_with_name_and_override(self, mock_isdir): mock_isdir.return_value = True mock_open = mock.mock_open(read_data=self.config_content) with mock.patch(self.open_func, mock_open): self.assertEqual( self.expected_config_over, common.load_config('/config_dir', self.container, self.config_override))",,22,1
openstack%2Ftripleo-heat-templates~master~I228b01009e7d9980bee5480778dbc88b9e226297,openstack/tripleo-heat-templates,master,I228b01009e7d9980bee5480778dbc88b9e226297,Replace '' by [] when a bind mount isn't needed,MERGED,2020-02-06 14:49:18.000000000,2020-02-08 05:19:17.000000000,2020-02-08 05:19:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 14:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a83e0552c8e714d1b038a4cc411fb4093e7f5535', 'message': 'Replace \'\' by null when a bind mount isn\'t needed\n\nTo avoid empty volumes like:\n\n{\n  (...)\n  ""volumes"": [\n    ""/etc/puppet:/etc/puppet:ro"",\n    (...)\n    """",\n    """"\n  ],\n}\n\nReplace \'\' by null, so heat won\'t create an item in the list.\nIt helps to have idempotent containers, since podman_container module\nwill compare the list of volumes that is given in parameters (containing\nthe empty entries) vs the list of volumes actually in podman inspect.\nReplacing to null clears out empty volumes and makes these containers\nidempotent when podman_container module is used to deploy containers.\n\nChange-Id: I228b01009e7d9980bee5480778dbc88b9e226297\n'}, {'number': 2, 'created': '2020-02-06 18:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88ecbbb71d892fc1444af861ea4b03fd90a501ef', 'message': 'Replace \'\' by [] when a bind mount isn\'t needed\n\nTo avoid empty volumes like:\n\n{\n  (...)\n  ""volumes"": [\n    ""/etc/puppet:/etc/puppet:ro"",\n    (...)\n    """",\n    """"\n  ],\n}\n\nReplace \'\' by [], so heat won\'t create an item in the list.\nIt helps to have idempotent containers, since podman_container module\nwill compare the list of volumes that is given in parameters (containing\nthe empty entries) vs the list of volumes actually in podman inspect.\nReplacing to [] clears out empty volumes and makes these containers\nidempotent when podman_container module is used to deploy containers.\n\nChange-Id: I228b01009e7d9980bee5480778dbc88b9e226297\n'}, {'number': 3, 'created': '2020-02-07 08:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/debb2d54e9464c9a5c916259db54b27b4b018d2e', 'message': 'Replace \'\' by [] when a bind mount isn\'t needed\n\nTo avoid empty volumes like:\n\n{\n  (...)\n  ""volumes"": [\n    ""/etc/puppet:/etc/puppet:ro"",\n    (...)\n    """",\n    """"\n  ],\n}\n\nReplace \'\' by [], so heat won\'t create an item in the list.\nIt helps to have idempotent containers, since podman_container module\nwill compare the list of volumes that is given in parameters (containing\nthe empty entries) vs the list of volumes actually in podman inspect.\nReplacing to [] clears out empty volumes and makes these containers\nidempotent when podman_container module is used to deploy containers.\n\nChange-Id: I228b01009e7d9980bee5480778dbc88b9e226297\n'}, {'number': 4, 'created': '2020-02-07 09:05:33.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98118b6294b750e3b344ff7fc74492ac229bd866', 'message': 'Replace \'\' by [] when a bind mount isn\'t needed\n\nTo avoid empty volumes like:\n\n{\n  (...)\n  ""volumes"": [\n    ""/etc/puppet:/etc/puppet:ro"",\n    (...)\n    """",\n    """"\n  ],\n}\n\nReplace \'\' by [], so heat won\'t create an item in the list.\nIt helps to have idempotent containers, since podman_container module\nwill compare the list of volumes that is given in parameters (containing\nthe empty entries) vs the list of volumes actually in podman inspect.\nReplacing to [] clears out empty volumes and makes these containers\nidempotent when podman_container module is used to deploy containers.\n\nChange-Id: I228b01009e7d9980bee5480778dbc88b9e226297\n'}]",1,706293,98118b6294b750e3b344ff7fc74492ac229bd866,27,8,4,3153,,,0,"Replace '' by [] when a bind mount isn't needed

To avoid empty volumes like:

{
  (...)
  ""volumes"": [
    ""/etc/puppet:/etc/puppet:ro"",
    (...)
    """",
    """"
  ],
}

Replace '' by [], so heat won't create an item in the list.
It helps to have idempotent containers, since podman_container module
will compare the list of volumes that is given in parameters (containing
the empty entries) vs the list of volumes actually in podman inspect.
Replacing to [] clears out empty volumes and makes these containers
idempotent when podman_container module is used to deploy containers.

Change-Id: I228b01009e7d9980bee5480778dbc88b9e226297
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/706293/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",14,a83e0552c8e714d1b038a4cc411fb4093e7f5535,empty, - null - null, - '' - '',28,28
openstack%2Ftripleo-common~master~I5ff4a99b9cb69058c584d57d4332c423babc9597,openstack/tripleo-common,master,I5ff4a99b9cb69058c584d57d4332c423babc9597,Define all api versions in constraints,MERGED,2020-01-31 03:34:16.000000000,2020-02-08 03:25:55.000000000,2020-02-08 03:24:09.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-01-31 03:34:16.000000000', 'files': ['tripleo_common/utils/overcloudrc.py', 'tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50df840f78f10dd77230e6ae3818fda67300e475', 'message': 'Define all api versions in constraints\n\nThis patch adds constraints for identity api version and compute\napi version, so that we can have all api version defined in one\nplace.\n\nChange-Id: I5ff4a99b9cb69058c584d57d4332c423babc9597\n'}]",0,705152,50df840f78f10dd77230e6ae3818fda67300e475,11,6,1,9816,,,0,"Define all api versions in constraints

This patch adds constraints for identity api version and compute
api version, so that we can have all api version defined in one
place.

Change-Id: I5ff4a99b9cb69058c584d57d4332c423babc9597
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/705152/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/overcloudrc.py', 'tripleo_common/constants.py']",2,50df840f78f10dd77230e6ae3818fda67300e475,api-version,# The default version of the Identity API to set in overcloudrc. DEFAULT_IDENTITY_API_VERSION = '3' # The default version of the Compute API to set in overcloudrc. DEFAULT_COMPUTE_API_VERSION = '2.latest' ,,8,2
openstack%2Ftripleo-common~master~Ifa0ea069503171e78d18bef5114310bfc0f57cdb,openstack/tripleo-common,master,Ifa0ea069503171e78d18bef5114310bfc0f57cdb,Remove useless parameters from overcloudrc,MERGED,2020-01-31 00:45:15.000000000,2020-02-08 03:21:55.000000000,2020-02-08 03:20:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-01-31 00:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/42f8a1f7365b6e558559d8fde6826809b36f6570', 'message': ""Remove useless COMPUTE_API_VERSION from overcloudrc\n\nWe don't have any clients whicn use COMPUTE_API_VERSION env parameter,\nso should remove that useless parameter from overcloudrc.\n\nChange-Id: Ifa0ea069503171e78d18bef5114310bfc0f57cdb\n""}, {'number': 2, 'created': '2020-01-31 00:52:27.000000000', 'files': ['tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24b3c935e888a8b03a2dbb6d500d709b3ef2b517', 'message': ""Remove useless parameters from overcloudrc\n\nRemove COMPUTE_API_VERSION and NOVA_VERSION from overcloudrc,\nbecause we don't have any clients which use these parameters.\n\nChange-Id: Ifa0ea069503171e78d18bef5114310bfc0f57cdb\n""}]",0,705139,24b3c935e888a8b03a2dbb6d500d709b3ef2b517,10,5,2,9816,,,0,"Remove useless parameters from overcloudrc

Remove COMPUTE_API_VERSION and NOVA_VERSION from overcloudrc,
because we don't have any clients which use these parameters.

Change-Id: Ifa0ea069503171e78d18bef5114310bfc0f57cdb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/705139/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/overcloudrc.py'],1,42f8a1f7365b6e558559d8fde6826809b36f6570,invalid-env,," 'COMPUTE_API_VERSION': '1.1',",0,1
openstack%2Ftripleo-heat-templates~master~Id128d3243e5a1a33d94486dfd0049d2da7c0dc82,openstack/tripleo-heat-templates,master,Id128d3243e5a1a33d94486dfd0049d2da7c0dc82,Gather authtoken configuration in one place,ABANDONED,2020-01-26 06:04:54.000000000,2020-02-08 03:04:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-26 06:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a09095f96d11780f2554be834e1b103cf7f3c975', 'message': 'Gather authtoken configuration in one place\n\nThis patch gathers authtoken confuguration into one place in each\ntemplate file, so that we can easily find related parameters.\n\nChange-Id: Id128d3243e5a1a33d94486dfd0049d2da7c0dc82\n'}, {'number': 2, 'created': '2020-02-05 12:57:55.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/641f22e2bbebff6a9d7fd742dd527d1e39f67673', 'message': 'Gather authtoken configuration in one place\n\nThis patch gathers authtoken confuguration into one place in each\ntemplate file, so that we can easily find related parameters.\n\nChange-Id: Id128d3243e5a1a33d94486dfd0049d2da7c0dc82\n'}]",0,704241,641f22e2bbebff6a9d7fd742dd527d1e39f67673,7,2,2,9816,,,0,"Gather authtoken configuration in one place

This patch gathers authtoken confuguration into one place in each
template file, so that we can easily find related parameters.

Change-Id: Id128d3243e5a1a33d94486dfd0049d2da7c0dc82
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/704241/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",2,a09095f96d11780f2554be834e1b103cf7f3c975,nit, neutron::keystone::authtoken::password: {get_param: NeutronPassword} neutron::keystone::authtoken::project_name: 'service' neutron::keystone::authtoken::user_domain_name: 'Default' neutron::keystone::authtoken::project_domain_name: 'Default' neutron::keystone::authtoken::region_name: {get_param: KeystoneRegion} neutron::quota::quota_port: {get_param: NeutronPortQuota}, neutron::keystone::authtoken::password: {get_param: NeutronPassword} neutron::keystone::authtoken::project_name: 'service' neutron::keystone::authtoken::user_domain_name: 'Default' neutron::keystone::authtoken::project_domain_name: 'Default' neutron::keystone::authtoken::region_name: {get_param: KeystoneRegion} neutron::quota::quota_port: {get_param: NeutronPortQuota},7,7
openstack%2Fpuppet-tripleo~master~If0837ccc60ec0d8186fa1a5f8e00db37609b03fa,openstack/puppet-tripleo,master,If0837ccc60ec0d8186fa1a5f8e00db37609b03fa,DNM: Checking gate job,ABANDONED,2020-02-08 02:36:32.000000000,2020-02-08 02:54:39.000000000,,[],"[{'number': 1, 'created': '2020-02-08 02:36:32.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ac16474b2bb5f6b1b274fdcc0000ae5c6b59ad32', 'message': 'DNM: Checking gate job\n\nChange-Id: If0837ccc60ec0d8186fa1a5f8e00db37609b03fa\n'}]",0,706644,ac16474b2bb5f6b1b274fdcc0000ae5c6b59ad32,2,0,1,9816,,,0,"DNM: Checking gate job

Change-Id: If0837ccc60ec0d8186fa1a5f8e00db37609b03fa
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/44/706644/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,ac16474b2bb5f6b1b274fdcc0000ae5c6b59ad32,dnm,,,0,0
openstack%2Fpuppet-neutron~master~I0cf45085c6d9f278fffb6f55ea8d2159dd425746,openstack/puppet-neutron,master,I0cf45085c6d9f278fffb6f55ea8d2159dd425746,Add of_connect_timeout and of_request_timeout,MERGED,2020-02-05 10:42:23.000000000,2020-02-08 01:43:06.000000000,2020-02-08 01:40:44.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 10:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c41d81a163f48f0b29b7f59602d68b6988eb9367', 'message': 'Add of_connect_timeout and of_request_timeout\n\nAdds these two new parameters. [1]\n\n[1] https://github.com/openstack/neutron/blob/master/neutron/conf/plugins/ml2/drivers/ovs_conf.py#L119\n\nChange-Id: I0cf45085c6d9f278fffb6f55ea8d2159dd425746\n'}, {'number': 2, 'created': '2020-02-05 13:14:00.000000000', 'files': ['releasenotes/notes/add-ovs-of-timeouts-51c5abf0026572a5.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/95f442bd61b63a9a21fc999c3bb9ad0af4288ac5', 'message': 'Add of_connect_timeout and of_request_timeout\n\nAdds these two new parameters. [1]\n\n[1] https://github.com/openstack/neutron/blob/master/neutron/conf/plugins/ml2/drivers/ovs_conf.py#L119\n\nChange-Id: I0cf45085c6d9f278fffb6f55ea8d2159dd425746\n'}]",0,705918,95f442bd61b63a9a21fc999c3bb9ad0af4288ac5,12,5,2,16137,,,0,"Add of_connect_timeout and of_request_timeout

Adds these two new parameters. [1]

[1] https://github.com/openstack/neutron/blob/master/neutron/conf/plugins/ml2/drivers/ovs_conf.py#L119

Change-Id: I0cf45085c6d9f278fffb6f55ea8d2159dd425746
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/18/705918/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ovs-of-timeouts-51c5abf0026572a5.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",3,c41d81a163f48f0b29b7f59602d68b6988eb9367,of_timeouts,"# [*of_connect_timeout*] # (Optional) Timeout in seconds to wait for the local switch # connecting to the controller. # Defaults to $::os_service_default # # [*of_request_timeout*] # (Optional) Timeout in seconds to wait for a single OpenFlow request. # Defaults to $::os_service_default # $of_connect_timeout = $::os_service_default, $of_request_timeout = $::os_service_default, 'ovs/of_connect_timeout': value => $of_connect_timeout; 'ovs/of_request_timeout': value => $of_request_timeout;",,35,0
openstack%2Fpuppet-neutron~master~I35778278f2f928f8c01f7719c9877e1e8ac89fa1,openstack/puppet-neutron,master,I35778278f2f928f8c01f7719c9877e1e8ac89fa1,Add OVS of_inactivity_probe parameter,MERGED,2020-02-05 10:32:57.000000000,2020-02-08 01:42:02.000000000,2020-02-08 01:40:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 10:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/53dd029dd4dfd76521226dc91e6684b84eab2bdc', 'message': 'Add OVS of_inactivity_probe parameter\n\nThis adds the of_inactivity_probe parameter for\nthe OVS agent. [1]\n\n[1] https://github.com/openstack/neutron/blob/master/neutron/conf/plugins/ml2/drivers/ovs_conf.py#L125\n\nChange-Id: I35778278f2f928f8c01f7719c9877e1e8ac89fa1\n'}, {'number': 2, 'created': '2020-02-05 10:38:03.000000000', 'files': ['releasenotes/notes/add-ovs-of_inactivity_probe-c91580cef1954de4.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/32bde05d8aa0601ecd0708cee565b2dc4144d821', 'message': 'Add OVS of_inactivity_probe parameter\n\nThis adds the of_inactivity_probe parameter for\nthe OVS agent. [1]\n\n[1] https://github.com/openstack/neutron/blob/master/neutron/conf/plugins/ml2/drivers/ovs_conf.py#L125\n\nChange-Id: I35778278f2f928f8c01f7719c9877e1e8ac89fa1\n'}]",0,705914,32bde05d8aa0601ecd0708cee565b2dc4144d821,11,4,2,16137,,,0,"Add OVS of_inactivity_probe parameter

This adds the of_inactivity_probe parameter for
the OVS agent. [1]

[1] https://github.com/openstack/neutron/blob/master/neutron/conf/plugins/ml2/drivers/ovs_conf.py#L125

Change-Id: I35778278f2f928f8c01f7719c9877e1e8ac89fa1
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/705914/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ovs-of_inactivity_probe-c91580cef1954de4.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",3,53dd029dd4dfd76521226dc91e6684b84eab2bdc,of_inactivity_probe,"# [*of_inactivity_probe*] # (Optional) The inactivity_probe interval in second for the local switch # connnection to the controller. A value of 0 disables inactivity probes. # Defaults to $::os_service_default # $of_inactivity_probe = $::os_service_default,",,21,0
openstack%2Fpuppet-neutron~master~Id73e8ae40f4db67247bde36156e3b84c456b9f29,openstack/puppet-neutron,master,Id73e8ae40f4db67247bde36156e3b84c456b9f29,Add OVS ovsdb_timeout parameter,MERGED,2020-02-05 10:02:09.000000000,2020-02-08 01:39:19.000000000,2020-02-08 01:37:51.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 10:02:09.000000000', 'files': ['releasenotes/notes/add-ovs-ovsdb_timeout-34eb7f97e72fea46.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fbafd406fcb507cb00e9e0d21dcff2eb3f6b6681', 'message': 'Add OVS ovsdb_timeout parameter\n\nThis adds the ovsdb_timeout to the ovs config\nsection which is the seconds that it should try\novsdb commands before failing. [1]\n\n[1] https://github.com/openstack/neutron/blob/master/neutron/conf/agent/ovs_conf.py#L24\n\nChange-Id: Id73e8ae40f4db67247bde36156e3b84c456b9f29\n'}]",0,705909,fbafd406fcb507cb00e9e0d21dcff2eb3f6b6681,10,4,1,16137,,,0,"Add OVS ovsdb_timeout parameter

This adds the ovsdb_timeout to the ovs config
section which is the seconds that it should try
ovsdb commands before failing. [1]

[1] https://github.com/openstack/neutron/blob/master/neutron/conf/agent/ovs_conf.py#L24

Change-Id: Id73e8ae40f4db67247bde36156e3b84c456b9f29
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/705909/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ovs-ovsdb_timeout-34eb7f97e72fea46.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",3,fbafd406fcb507cb00e9e0d21dcff2eb3f6b6681,,"# [*ovsdb_timeout*] # (Optional) The timeout in seconds for OVSDB commands. # Defaults to $::os_service_default # $ovsdb_timeout = $::os_service_default, 'ovs/ovsdb_timeout': value => $ovsdb_timeout;",,21,0
openstack%2Frequirements~master~Iebd36e4c9ba31b6356b3c6b855fb7243ac8a8676,openstack/requirements,master,Iebd36e4c9ba31b6356b3c6b855fb7243ac8a8676,update constraint for oslo.utils to new release 4.0.0,MERGED,2020-02-05 21:47:52.000000000,2020-02-08 01:38:51.000000000,2020-02-08 01:36:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5d244fff5ad37332a51f44462088f0701e35e19b', 'message': 'update constraint for oslo.utils to new release 4.0.0\n\nChange-Id: Iebd36e4c9ba31b6356b3c6b855fb7243ac8a8676\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Icffedb3ddd774bc9420e13875de2e5310d82b0f5\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-07 19:48:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/16dd80cf5832507f83e31f1e282ebe4af1edece6', 'message': 'update constraint for oslo.utils to new release 4.0.0\n\nChange-Id: Iebd36e4c9ba31b6356b3c6b855fb7243ac8a8676\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Icffedb3ddd774bc9420e13875de2e5310d82b0f5\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706123,16dd80cf5832507f83e31f1e282ebe4af1edece6,17,2,2,11131,,,0,"update constraint for oslo.utils to new release 4.0.0

Change-Id: Iebd36e4c9ba31b6356b3c6b855fb7243ac8a8676
meta:version: 4.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Icffedb3ddd774bc9420e13875de2e5310d82b0f5
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/706123/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5d244fff5ad37332a51f44462088f0701e35e19b,new-release,oslo.utils===4.0.0,oslo.utils===3.42.1,1,1
openstack%2Frequirements~master~I6faebd7020e71f5924cccd3af3d15caab85fc7fa,openstack/requirements,master,I6faebd7020e71f5924cccd3af3d15caab85fc7fa,update constraint for oslo.config to new release 7.0.0,ABANDONED,2020-01-06 10:29:48.000000000,2020-02-08 01:38:42.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-06 10:29:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa586ade28f6f35e21da5d722d52f092f7988e94', 'message': 'update constraint for oslo.config to new release 7.0.0\n\nChange-Id: I6faebd7020e71f5924cccd3af3d15caab85fc7fa\nmeta:version: 7.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Ia018071ac72f652b29929c1f23fd09e3e61ae3da\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,701188,aa586ade28f6f35e21da5d722d52f092f7988e94,16,3,1,11131,,,0,"update constraint for oslo.config to new release 7.0.0

Change-Id: I6faebd7020e71f5924cccd3af3d15caab85fc7fa
meta:version: 7.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Ia018071ac72f652b29929c1f23fd09e3e61ae3da
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/701188/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,aa586ade28f6f35e21da5d722d52f092f7988e94,new-release,oslo.config===7.0.0,oslo.config===6.12.0,1,1
openstack%2Frequirements~master~I3c09381ec4fc262e10554bf7ec778bce044c6969,openstack/requirements,master,I3c09381ec4fc262e10554bf7ec778bce044c6969,update constraint for oslo.context to new release 3.0.0,MERGED,2020-02-03 11:10:15.000000000,2020-02-08 01:37:24.000000000,2020-02-08 01:35:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 11:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/34df47f52d315b8a6afcd40bb6cba4e5acc09d31', 'message': 'update constraint for oslo.context to new release 3.0.0\n\nChange-Id: I3c09381ec4fc262e10554bf7ec778bce044c6969\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Id2f24e5e500b3ccbdb9374e0f1c0bdf42e698ce7\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2020-02-07 19:34:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/55c408bfa31e6668306c03574a87361d2be38e40', 'message': 'update constraint for oslo.context to new release 3.0.0\n\nChange-Id: I3c09381ec4fc262e10554bf7ec778bce044c6969\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Id2f24e5e500b3ccbdb9374e0f1c0bdf42e698ce7\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,705418,55c408bfa31e6668306c03574a87361d2be38e40,19,2,2,11131,,,0,"update constraint for oslo.context to new release 3.0.0

Change-Id: I3c09381ec4fc262e10554bf7ec778bce044c6969
meta:version: 3.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Id2f24e5e500b3ccbdb9374e0f1c0bdf42e698ce7
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/705418/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,34df47f52d315b8a6afcd40bb6cba4e5acc09d31,new-release,oslo.context===3.0.0,oslo.context===2.23.0,1,1
openstack%2Frequirements~master~Id0b54a04e58d402c2dc4952f2e613ad9446bc4ed,openstack/requirements,master,Id0b54a04e58d402c2dc4952f2e613ad9446bc4ed,update constraint for debtcollector to new release 2.0.0,MERGED,2020-02-05 20:57:17.000000000,2020-02-08 01:36:01.000000000,2020-02-08 01:36:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 20:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/50f1dfbba3aa2b263999919b08aa8eed3a9c8c88', 'message': 'update constraint for debtcollector to new release 2.0.0\n\nChange-Id: Id0b54a04e58d402c2dc4952f2e613ad9446bc4ed\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: If00536f6182ac198a0e0d6ea36dfdc31c27655ab\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-07 19:41:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ae447ac80bc654ef7bba50bbbb3253fb68a8dd8', 'message': 'update constraint for debtcollector to new release 2.0.0\n\nChange-Id: Id0b54a04e58d402c2dc4952f2e613ad9446bc4ed\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: If00536f6182ac198a0e0d6ea36dfdc31c27655ab\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706113,6ae447ac80bc654ef7bba50bbbb3253fb68a8dd8,16,2,2,11131,,,0,"update constraint for debtcollector to new release 2.0.0

Change-Id: Id0b54a04e58d402c2dc4952f2e613ad9446bc4ed
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: If00536f6182ac198a0e0d6ea36dfdc31c27655ab
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/706113/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,50f1dfbba3aa2b263999919b08aa8eed3a9c8c88,new-release,debtcollector===2.0.0,debtcollector===1.22.0,1,1
openstack%2Frequirements~master~I20e7f73f22f78c7ec9a6eff9282755c641212ffe,openstack/requirements,master,I20e7f73f22f78c7ec9a6eff9282755c641212ffe,update constraint for oslo.cache to new release 2.0.0,MERGED,2020-02-05 20:52:35.000000000,2020-02-08 01:36:00.000000000,2020-02-08 01:36:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 20:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2a148bca3bf734eb876cf80c49bc556e77d2acd5', 'message': 'update constraint for oslo.cache to new release 2.0.0\n\nChange-Id: I20e7f73f22f78c7ec9a6eff9282755c641212ffe\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ie05bf00fc0b3721eb5c80b1d9bd8c2689786f17f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-07 19:37:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1c7066ae6d53932ca14a973ffb38f0222697470a', 'message': 'update constraint for oslo.cache to new release 2.0.0\n\nChange-Id: I20e7f73f22f78c7ec9a6eff9282755c641212ffe\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ie05bf00fc0b3721eb5c80b1d9bd8c2689786f17f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706111,1c7066ae6d53932ca14a973ffb38f0222697470a,16,2,2,11131,,,0,"update constraint for oslo.cache to new release 2.0.0

Change-Id: I20e7f73f22f78c7ec9a6eff9282755c641212ffe
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie05bf00fc0b3721eb5c80b1d9bd8c2689786f17f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/706111/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2a148bca3bf734eb876cf80c49bc556e77d2acd5,new-release,oslo.cache===2.0.0,oslo.cache===1.38.1,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3,openstack/tripleo-ansible,stable/train,I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3,Pass only variables starting with ANSIBLE,MERGED,2020-02-07 14:31:22.000000000,2020-02-08 01:32:29.000000000,2020-02-08 01:32:29.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 14:31:22.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/924cc11a6e5b6ce883241b61692d0f0dfd252197', 'message': 'Pass only variables starting with ANSIBLE\n\nWhen config-download runs ceph-ansible it does so by calling\nAnsible from within Ansible. We all ANSIBLE_* environment\nvariables to the nested Ansible execution. However there was\na bug where any variable containing ANSILBE was included, not\njust those starting with ANSIBLE. This fix ensures we filter\nout only variables starting with ANSIBLE.\n\nChange-Id: I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3\nCloses-Bug: 1862031\n(cherry picked from commit b5fc16aea638489e414f247287049ef6af43dcae)\n'}]",0,706524,924cc11a6e5b6ce883241b61692d0f0dfd252197,9,4,1,14985,,,0,"Pass only variables starting with ANSIBLE

When config-download runs ceph-ansible it does so by calling
Ansible from within Ansible. We all ANSIBLE_* environment
variables to the nested Ansible execution. However there was
a bug where any variable containing ANSILBE was included, not
just those starting with ANSIBLE. This fix ensures we filter
out only variables starting with ANSIBLE.

Change-Id: I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3
Closes-Bug: 1862031
(cherry picked from commit b5fc16aea638489e414f247287049ef6af43dcae)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/706524/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml'],1,924cc11a6e5b6ce883241b61692d0f0dfd252197,bug/1862031," shell: ""env | grep ^ANSIBLE_"""," shell: ""env | grep ANSIBLE_""",1,1
openstack%2Ftripleo-common~master~I4c0c27f54717a2701388c138bbe40ffc0308e5f1,openstack/tripleo-common,master,I4c0c27f54717a2701388c138bbe40ffc0308e5f1,Fixes for CentOS8 containers build,MERGED,2020-02-06 19:13:11.000000000,2020-02-08 01:14:48.000000000,2020-02-08 01:13:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 19:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3868dfd2ddd5e6e6c2c5b94d081dc3b6951189b', 'message': '[WIP] CentOS8 Changes\n\nChange-Id: I4c0c27f54717a2701388c138bbe40ffc0308e5f1\n'}, {'number': 2, 'created': '2020-02-07 12:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2551fcd07f655deff61c43f1cdfb451262052c5', 'message': ""Fixes for CentOS8 containers build\n\nFollowing changes are needed for building CentOS8\ncontainers:-\n- centos-release-opstools repo is not available for\n  CentOS8 yet, until it get's available it need not\n  run in CentOS8.\n- Highavailability repo need to be enabled for CentOS8\n  to setup HA packages.\n- Also add rabbitmq-server-3.7.* ro rabbitmq_packages\n  remove list.\n- remove influxdb from repo disable as it's not enabled\n  for CentOS8.\n\nChange-Id: I4c0c27f54717a2701388c138bbe40ffc0308e5f1\n""}, {'number': 3, 'created': '2020-02-07 14:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d9ad80a6398d960cc47a28e43b11ef4976f28c5', 'message': ""Fixes for CentOS8 containers build\n\nFollowing changes are needed for building CentOS8\ncontainers:-\n- centos-release-opstools repo is not available for\n  CentOS8 yet, until it get's available it need not\n  run in CentOS8.\n- Highavailability repo need to be enabled for CentOS8\n  to setup HA packages.\n- Also add rabbitmq-server-3.7.* ro rabbitmq_packages\n  remove list.\n- remove influxdb from repo disable as it's not enabled\n  for CentOS8.\n\nChange-Id: I4c0c27f54717a2701388c138bbe40ffc0308e5f1\n""}, {'number': 4, 'created': '2020-02-07 16:40:45.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/578776e0ade53dbf24877d103bd58bbd057d970e', 'message': ""Fixes for CentOS8 containers build\n\nFollowing changes are needed for building CentOS8\ncontainers:-\n- centos-release-opstools repo is not available for\n  CentOS8 yet, until it get's available it need not\n  run in CentOS8.\n- Highavailability repo need to be enabled for CentOS8\n  to setup HA packages.\n- Also add rabbitmq-server-3.7.* ro rabbitmq_packages\n  remove list.\n- remove influxdb from repo disable as it's not enabled\n  for CentOS8.\n\nChange-Id: I4c0c27f54717a2701388c138bbe40ffc0308e5f1\n""}]",3,706367,578776e0ade53dbf24877d103bd58bbd057d970e,23,9,4,13861,,,0,"Fixes for CentOS8 containers build

Following changes are needed for building CentOS8
containers:-
- centos-release-opstools repo is not available for
  CentOS8 yet, until it get's available it need not
  run in CentOS8.
- Highavailability repo need to be enabled for CentOS8
  to setup HA packages.
- Also add rabbitmq-server-3.7.* ro rabbitmq_packages
  remove list.
- remove influxdb from repo disable as it's not enabled
  for CentOS8.

Change-Id: I4c0c27f54717a2701388c138bbe40ffc0308e5f1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/67/706367/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,b3868dfd2ddd5e6e6c2c5b94d081dc3b6951189b,,"{% if distro_python_version.startswith('3') %} {% set base_centos_yum_repos_to_enable_append = ['HighAvailability'] %} {% set base_centos_yum_repos_to_disable_remove = ['influxdb'] %} {% endif %} {% if distro_python_version.startswith('2') %}{% endif %}{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10', 'rabbitmq-server-3.7.*', 'rabbitmq-server-3.8.*'] %}","{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10', 'rabbitmq-server-3.8.*'] %}",8,1
openstack%2Ftripleo-ansible~master~Ibbce7c75e9b221192d5cb27e93d66880464491ff,openstack/tripleo-ansible,master,Ibbce7c75e9b221192d5cb27e93d66880464491ff,Remove unnecessary int filter from cpu_share,MERGED,2020-02-06 13:16:50.000000000,2020-02-08 01:09:22.000000000,2020-02-08 01:09:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-06 13:16:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86747a2a9bf94044ace7878d2d7f73038cc34193', 'message': 'Remove unnecessary int filter from cpu_share\n\nWhen setting ""int"" after default(omit) it doesn\'t omit this arg,\nbut sets always 0 as a value. Let\'s remove this ""int"", anyway it\ndoesn\'t make much sense in cli command, everything is string there.\nChange-Id: Ibbce7c75e9b221192d5cb27e93d66880464491ff\n'}]",0,706264,86747a2a9bf94044ace7878d2d7f73038cc34193,12,7,1,10969,,,0,"Remove unnecessary int filter from cpu_share

When setting ""int"" after default(omit) it doesn't omit this arg,
but sets always 0 as a value. Let's remove this ""int"", anyway it
doesn't make much sense in cli command, everything is string there.
Change-Id: Ibbce7c75e9b221192d5cb27e93d66880464491ff
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/706264/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,86747a2a9bf94044ace7878d2d7f73038cc34193,," cpu_shares: ""{{ lookup('dict', container_data).value.cpu_shares | default(omit) }}"""," cpu_shares: ""{{ lookup('dict', container_data).value.cpu_shares | default(omit) | int }}""",1,1
openstack%2Fansible-role-collect-logs~master~I8c8acd71869bbc2292ee935b931d9ba43656f8f9,openstack/ansible-role-collect-logs,master,I8c8acd71869bbc2292ee935b931d9ba43656f8f9,Use ansible_python.executable to determine pip module,MERGED,2020-02-04 11:00:21.000000000,2020-02-08 00:20:03.000000000,2020-02-08 00:20:02.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-04 11:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/fd226c9323882a088b7a3565235cef0411a66410', 'message': 'Use ansible_python_interpreter to determine pip module\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nUsing ansible_python_interpreter -m to get the pip module and use\nthe same to collect it will solve py2 and py3 issue.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 06:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/bcab25415a101fa8e5f84ae3d496b447081449e9', 'message': 'Collect pip pkgs data using pip, pip2, pip3\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nMoving the task to collect pip data using pip, pip2 and pip3\ncommands helps to avoid the above issue.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-07 09:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b99e28b117defe8e4cf9eea309b21148bbd0afc5', 'message': 'Use ansible_python.executable to determine pip module\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nUsing ansible_python.executable -m to get the pip module and use\nthe same to collect it will solve py2 and py3 issue.\n\nFor getting ansible_python.executable, we need to gather python\nfacts.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-02-07 10:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f44996c24486242be86cf988cf892243ea7e91a0', 'message': 'Use ansible_python.executable to determine pip module\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nUsing ansible_python.executable -m to get the pip module and use\nthe same to collect it will solve py2 and py3 issue.\n\nFor getting ansible_python.executable, we need to gather python\nfacts.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-02-07 17:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/977c0173f1fe2645dfdc4b89af949b9c4b422dd3', 'message': 'Use ansible_python.executable to determine pip module\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nUsing ansible_python.executable -m to get the pip module and use\nthe same to collect it will solve py2 and py3 issue.\n\nFor getting ansible_python.executable, we need to gather python\nfacts.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-02-07 17:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f6a7ddd0ced3c6c005f6b0569236f131d0c6cbc0', 'message': 'Use ansible_python.executable to determine pip module\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nUsing ansible_python.executable -m to get the pip module and use\nthe same to collect it will solve py2 and py3 issue.\n\nFor getting ansible_python.executable, we need to gather python\nfacts.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-02-07 17:59:22.000000000', 'files': ['tasks/main.yml', 'tasks/collect/system.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8990c8ad01d75a9e3178af2980c7e321dd988fdc', 'message': 'Use ansible_python.executable to determine pip module\n\nIn collect-logs role, we use pip to collect all the pip installed\nmodules but on system pip2 or pip3 is installed or it is not there\nleading to failure like command not found.\n\nUsing ansible_python.executable -m to get the pip module and use\nthe same to collect it will solve py2 and py3 issue.\n\nFor getting ansible_python.executable, we need to gather python\nfacts.\n\nChange-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",6,705631,8990c8ad01d75a9e3178af2980c7e321dd988fdc,34,9,7,12393,,,0,"Use ansible_python.executable to determine pip module

In collect-logs role, we use pip to collect all the pip installed
modules but on system pip2 or pip3 is installed or it is not there
leading to failure like command not found.

Using ansible_python.executable -m to get the pip module and use
the same to collect it will solve py2 and py3 issue.

For getting ansible_python.executable, we need to gather python
facts.

Change-Id: I8c8acd71869bbc2292ee935b931d9ba43656f8f9
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/31/705631/7 && git format-patch -1 --stdout FETCH_HEAD,['tasks/collect/system.yml'],1,fd226c9323882a088b7a3565235cef0411a66410,pipcommand," shell: ""{{ ansible_python_interpreter }} -m pip list &> /var/log/extra/pip.txt"""," shell: ""pip list &> /var/log/extra/pip.txt""",1,1
openstack%2Fpuppet-keystone~master~Ifd74aa8cedf630d98f9e12ab276300409a68eecd,openstack/puppet-keystone,master,Ifd74aa8cedf630d98f9e12ab276300409a68eecd,Convert to rspec-puppet-facts and cleanup docs/testing,MERGED,2020-02-03 22:18:59.000000000,2020-02-07 23:56:37.000000000,2020-02-07 23:56:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 22:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0b8f3c0a814fb65ec5a19f3cd41ca98ab13104d3', 'message': 'Convert to rspec-puppet-facts and cleanup docs/testing\n\nThis converts some more testing to rspec-puppet-facts\nso there is only these three missing now until done:\n\n* keystone_init_spec.rb\n* keystone_federation_identity_provider_spec.rb\n* keystone_ldap_spec.rb\n\nAlso does cleanup of some formatting for documentation\nand testing specs.\n\nChange-Id: Ifd74aa8cedf630d98f9e12ab276300409a68eecd\n'}, {'number': 2, 'created': '2020-02-04 08:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e1ee51935c9cf97dc974f3f3d9c38443d79957b5', 'message': 'Convert to rspec-puppet-facts and cleanup docs/testing\n\nThis converts some more testing to rspec-puppet-facts\nso there is only these three missing now until done:\n\n* keystone_init_spec.rb\n* keystone_federation_identity_provider_spec.rb\n* keystone_ldap_spec.rb\n\nAlso does cleanup of some formatting for documentation\nand testing specs.\n\nChange-Id: Ifd74aa8cedf630d98f9e12ab276300409a68eecd\n'}, {'number': 3, 'created': '2020-02-04 08:37:00.000000000', 'files': ['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_messaging_amqp_spec.rb', 'manifests/federation/identity_provider.pp', 'manifests/cron/fernet_rotate.pp', 'manifests/db.pp', 'manifests/federation/mellon.pp', 'spec/classes/keystone_deps_spec.rb', 'spec/classes/keystone_cron_token_flush_spec.rb', 'manifests/federation/openidc.pp', 'manifests/security_compliance.pp', 'manifests/federation.pp', 'spec/classes/keystone_cron_fernet_rotate_spec.rb', 'spec/classes/keystone_init_spec.rb', 'spec/classes/keystone_policy_spec.rb', 'manifests/federation/shibboleth.pp', 'spec/classes/keystone_config_spec.rb', 'spec/classes/keystone_db_postgresql_spec.rb', 'spec/classes/keystone_cors_spec.rb', 'spec/classes/keystone_db_sync_spec.rb', 'manifests/cron/token_flush.pp', 'manifests/ldap.pp', 'spec/classes/keystone_federation_mellon_spec.rb', 'spec/classes/keystone_db_mysql_spec.rb', 'spec/classes/keystone_logging_spec.rb', 'spec/classes/keystone_security_compliance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7def56f92f998ffb67025d4988f66b9c8d2030a4', 'message': 'Convert to rspec-puppet-facts and cleanup docs/testing\n\nThis converts some more testing to rspec-puppet-facts\nso there is only these three missing now until done:\n\n* keystone_init_spec.rb\n* keystone_federation_identity_provider_spec.rb\n* keystone_ldap_spec.rb\n\nAlso does cleanup of some formatting for documentation\nand testing specs.\n\nChange-Id: Ifd74aa8cedf630d98f9e12ab276300409a68eecd\n'}]",0,705567,7def56f92f998ffb67025d4988f66b9c8d2030a4,16,4,3,16137,,,0,"Convert to rspec-puppet-facts and cleanup docs/testing

This converts some more testing to rspec-puppet-facts
so there is only these three missing now until done:

* keystone_init_spec.rb
* keystone_federation_identity_provider_spec.rb
* keystone_ldap_spec.rb

Also does cleanup of some formatting for documentation
and testing specs.

Change-Id: Ifd74aa8cedf630d98f9e12ab276300409a68eecd
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/67/705567/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_federation_identity_provider_spec.rb', 'spec/classes/keystone_messaging_amqp_spec.rb', 'spec/classes/keystone_policy_spec.rb', 'manifests/cron/fernet_rotate.pp', 'spec/classes/keystone_config_spec.rb', 'spec/classes/keystone_db_postgresql_spec.rb', 'spec/classes/keystone_deps_spec.rb', 'spec/classes/keystone_cron_token_flush_spec.rb', 'spec/classes/keystone_cors_spec.rb', 'spec/classes/keystone_db_sync_spec.rb', 'manifests/cron/token_flush.pp', 'spec/classes/keystone_federation_mellon_spec.rb', 'spec/classes/keystone_cron_fernet_rotate_spec.rb', 'spec/classes/keystone_db_mysql_spec.rb', 'spec/classes/keystone_logging_spec.rb', 'spec/classes/keystone_security_compliance_spec.rb', 'spec/classes/keystone_init_spec.rb']",17,0b8f3c0a814fb65ec5a19f3cd41ca98ab13104d3,705567," shared_examples 'core keystone examples' do |param_hash| it_behaves_like 'core keystone examples', param_hash shared_examples ""when using default class parameters for httpd on Debian"" do it_behaves_like 'core keystone examples', httpd_params shared_examples ""when using default class parameters for httpd on RedHat"" do it_behaves_like 'core keystone examples', httpd_params shared_examples ""when configuring default domain"" do it_behaves_like 'when using default class parameters for httpd on RedHat' it_behaves_like 'when configuring default domain' it_behaves_like 'when using default class parameters for httpd on Debian' it_behaves_like 'when configuring default domain'"," shared_examples_for 'core keystone examples' do |param_hash| it_configures 'core keystone examples', param_hash shared_examples_for ""when using default class parameters for httpd on Debian"" do it_configures 'core keystone examples', httpd_params shared_examples_for ""when using default class parameters for httpd on RedHat"" do it_configures 'core keystone examples', httpd_params shared_examples_for ""when configuring default domain"" do it_configures 'when using default class parameters for httpd on RedHat' it_configures 'when configuring default domain' it_configures 'when using default class parameters for httpd on Debian' it_configures 'when configuring default domain'",253,341
openstack%2Fansible-role-collect-logs~master~I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa,openstack/ansible-role-collect-logs,master,I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa,Add sova reasons to influxdb,MERGED,2020-02-01 22:16:50.000000000,2020-02-07 23:49:31.000000000,2020-02-07 23:49:31.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-01 22:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/25f548a7571f87ded638d79e09a49fc3e91d0bea', 'message': 'Add sova reasons to influxdb\n\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}, {'number': 2, 'created': '2020-02-01 22:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a2aa065befc1304ad392469bde7f2a2860d4c2bc', 'message': 'Add sova reasons to influxdb\n\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}, {'number': 3, 'created': '2020-02-02 09:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b9eb0306f08034fe00d379dc818a59cfaabc0d03', 'message': 'Add sova reasons to influxdb\n\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}, {'number': 4, 'created': '2020-02-03 14:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a7ff6447a835223448b1bbcb67a9c60d171c5c87', 'message': 'Add sova reasons to influxdb\n\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}, {'number': 5, 'created': '2020-02-04 12:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b546910138d2e3fd788db9120bab5b8bccf5d482', 'message': 'Add sova reasons to influxdb\n\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}, {'number': 6, 'created': '2020-02-06 14:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c705baef997987aec710efcc920fdcffa25b25da', 'message': 'Add sova reasons to influxdb\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}, {'number': 7, 'created': '2020-02-07 17:46:06.000000000', 'files': ['library/ara_influxdb.py', 'tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c2049a36479d42497f301fbe9a6f1af996d025f7', 'message': 'Add sova reasons to influxdb\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa\n'}]",0,705335,c2049a36479d42497f301fbe9a6f1af996d025f7,35,6,7,10969,,,0,"Add sova reasons to influxdb

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I9a9e969bfbdb53f66084a6be0a00d2e9916fcdaa
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/35/705335/3 && git format-patch -1 --stdout FETCH_HEAD,['library/ara_influxdb.py'],1,25f548a7571f87ded638d79e09a49fc3e91d0bea,sovainflux,"class SovaFields(object): '''SovaFields provides Sova calculated failure reasons.''' def __init__(self, sova_file): """"""Constructor for InfluxLongestFields :param json_data: {dict} -- JSON data generated by ARA :param only_ok=True: {bool} -- to count only passed tasks :param top=15: {int} -- how many tasks to send to DB """""" self.sova_file = sova_file def parse_sova_file(self): if not os.path.exists(self.sova_file): return '' with open(self.sova_file) as f: text = f.readlines() reason = text[0] reason_tag = text[1].split(""Reason: "")[1] return reason.strip(), reason_tag.strip() def render(self): scheme = 'sova_reason=""%s"",sova_tag=""%s"",' res = self.parse_sova_file() if not res: return scheme % ('', '') return scheme % (res[0], res[1]) longest_tasks=0, data_file=None): if data_file: sova_fields = SovaFields(os.path.join( os.path.dirname(data_file), 'failures_file')) else: sova_fields = '' if sova_fields: fields += sova_fields.render() standard_fields, longest_tasks, data_file)"," longest_tasks=0): standard_fields, longest_tasks)",40,2
openstack%2Ftripleo-common~stable%2Fstein~Ie03084bb599b7b06aeeb321d2a7938a908487788,openstack/tripleo-common,stable/stein,Ie03084bb599b7b06aeeb321d2a7938a908487788,config: refactor how per step tasks are generated,MERGED,2020-01-29 13:08:37.000000000,2020-02-07 23:45:37.000000000,2020-02-07 23:42:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-29 13:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4f1bd7fd19aa89afccca2c13b361f66119c628bb', 'message': 'config: refactor how per step tasks are generated\n\nThe per step tasks generation was introduced by:\nI4d864f374d6f840585fafef2c7678e55c154898e\n\nThis patch is refactoring a little bit so we can easily re-use that\ninterface for the other tasks.\nIt introduces a new constant: PER_STEP_TASKS\nIt\'s a list of tasks that are ""per step"" ready.\n\nNote about the \'else\' in tripleo_common/utils/config.py :\nOnce all tasks are adapted in THT to run per step, we will be able to move this\ncondition to the upper level\nWe include it here to allow the CI to pass until THT changed is not merged.\n\nChange-Id: Ie03084bb599b7b06aeeb321d2a7938a908487788\n(cherry picked from commit d9c82d8c79c33f261e4335f2ffa09bd4e44fd719)\n(cherry picked from commit ccfa1ad1949f1473d41a218cfa3ed85d95f471ce)\n'}, {'number': 2, 'created': '2020-02-05 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4bf742f51157cbbe3e0f643adcda3387ea44cdf5', 'message': 'config: refactor how per step tasks are generated\n\nThe per step tasks generation was introduced by:\nI4d864f374d6f840585fafef2c7678e55c154898e\n\nThis patch is refactoring a little bit so we can easily re-use that\ninterface for the other tasks.\nIt introduces a new constant: PER_STEP_TASKS\nIt\'s a list of tasks that are ""per step"" ready.\n\nNote about the \'else\' in tripleo_common/utils/config.py :\nOnce all tasks are adapted in THT to run per step, we will be able to move this\ncondition to the upper level\nWe include it here to allow the CI to pass until THT changed is not merged.\n\nChange-Id: Ie03084bb599b7b06aeeb321d2a7938a908487788\n(cherry picked from commit d9c82d8c79c33f261e4335f2ffa09bd4e44fd719)\n(cherry picked from commit ccfa1ad1949f1473d41a218cfa3ed85d95f471ce)\n'}, {'number': 3, 'created': '2020-02-06 09:52:22.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/152b42c46ca58d9b057fb75b3b5918849a9fd5f0', 'message': 'config: refactor how per step tasks are generated\n\nThe per step tasks generation was introduced by:\nI4d864f374d6f840585fafef2c7678e55c154898e\n\nThis patch is refactoring a little bit so we can easily re-use that\ninterface for the other tasks.\nIt introduces a new constant: PER_STEP_TASKS\nIt\'s a list of tasks that are ""per step"" ready.\n\nNote about the \'else\' in tripleo_common/utils/config.py :\nOnce all tasks are adapted in THT to run per step, we will be able to move this\ncondition to the upper level\nWe include it here to allow the CI to pass until THT changed is not merged.\n\nBackport note:\nIncluded in this backport is the switch in tripleo_common/tests/utils/test_config.py\nfrom UPGRADE_STEPS_MAX to DEFAULT_STEPS_MAX to maintain a functional result.\n\nChange-Id: Ie03084bb599b7b06aeeb321d2a7938a908487788\n(cherry picked from commit d9c82d8c79c33f261e4335f2ffa09bd4e44fd719)\n(cherry picked from commit ccfa1ad1949f1473d41a218cfa3ed85d95f471ce)\n'}]",0,704794,152b42c46ca58d9b057fb75b3b5918849a9fd5f0,16,5,3,6816,,,0,"config: refactor how per step tasks are generated

The per step tasks generation was introduced by:
I4d864f374d6f840585fafef2c7678e55c154898e

This patch is refactoring a little bit so we can easily re-use that
interface for the other tasks.
It introduces a new constant: PER_STEP_TASKS
It's a list of tasks that are ""per step"" ready.

Note about the 'else' in tripleo_common/utils/config.py :
Once all tasks are adapted in THT to run per step, we will be able to move this
condition to the upper level
We include it here to allow the CI to pass until THT changed is not merged.

Backport note:
Included in this backport is the switch in tripleo_common/tests/utils/test_config.py
from UPGRADE_STEPS_MAX to DEFAULT_STEPS_MAX to maintain a functional result.

Change-Id: Ie03084bb599b7b06aeeb321d2a7938a908487788
(cherry picked from commit d9c82d8c79c33f261e4335f2ffa09bd4e44fd719)
(cherry picked from commit ccfa1ad1949f1473d41a218cfa3ed85d95f471ce)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/704794/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/config.py']",2,4f1bd7fd19aa89afccca2c13b361f66119c628bb,scale-and-performance-stable/train-stable/stein, # NOTE(emilien): Move this condition to the # upper level once THT is adapted for all tasks to be # run per step. # We include it here to allow the CI to pass until THT # changed is not merged. if config in constants.PER_STEP_TASKS: for i in range(constants.DEFAULT_STEPS_MAX):, # NOTE(jfrancoa): Move this upgrade_tasks condition to the # upper level once THT is adapted. We include it here to # allow the CI to pass until THT changed is not merged. if config == 'upgrade_tasks': for i in range(constants.UPGRADE_STEPS_MAX):,11,6
openstack%2Ftripleo-common~stable%2Ftrain~I08757ab389f35de52814fba48722e9325e50ab21,openstack/tripleo-common,stable/train,I08757ab389f35de52814fba48722e9325e50ab21,tests: Get RoleData correctly,MERGED,2020-02-05 20:19:11.000000000,2020-02-07 23:44:34.000000000,2020-02-07 23:42:20.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-05 20:19:11.000000000', 'files': ['tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7de9415e95a4b3142163a0b0d58bff0e79c32293', 'message': 'tests: Get RoleData correctly\n\nIn Ie543782569de14d56bc41740611f7512e8357a22 a new entry was added\ninto the fake stack, but the indexes for any test accessing the\nFAKE_STACK were not changed, effectively breaking several tests\nsilently.\n\nThis patch removes the direct referencing of indexes in FAKE_STACK\nand uses the config utilities to get the data correctly. It also\ncorrects the reference to the constant UPGRADE_STEPS_MAX which no\nlonger exists thanks to Ie03084bb599b7b06aeeb321d2a7938a908487788\n\nWe also add mock_assert_called to several of the tests to ensure\nthat if the fake_role list is empty, the test will fail.\n\nChange-Id: I08757ab389f35de52814fba48722e9325e50ab21\n(cherry picked from commit 813ffef308fbed231e04a679d5114f5bc3606bab)\n'}]",0,706102,7de9415e95a4b3142163a0b0d58bff0e79c32293,10,4,1,6816,,,0,"tests: Get RoleData correctly

In Ie543782569de14d56bc41740611f7512e8357a22 a new entry was added
into the fake stack, but the indexes for any test accessing the
FAKE_STACK were not changed, effectively breaking several tests
silently.

This patch removes the direct referencing of indexes in FAKE_STACK
and uses the config utilities to get the data correctly. It also
corrects the reference to the constant UPGRADE_STEPS_MAX which no
longer exists thanks to Ie03084bb599b7b06aeeb321d2a7938a908487788

We also add mock_assert_called to several of the tests to ensure
that if the fake_role list is empty, the test will fail.

Change-Id: I08757ab389f35de52814fba48722e9325e50ab21
(cherry picked from commit 813ffef308fbed231e04a679d5114f5bc3606bab)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/706102/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/utils/test_config.py'],1,7de9415e95a4b3142163a0b0d58bff0e79c32293,, self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) mock_mkdir.assert_called() self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) mock_mkdir.assert_called() self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) for step in range(constants.DEFAULT_STEPS_MAX): self.config.stack_outputs.get('RoleData')[role] self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) mock_mkdir.assert_called(), fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']] fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']] fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']] for step in range(constants.UPGRADE_STEPS_MAX): fakes.FAKE_STACK['outputs'][1]['output_value'][role] fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']],13,10
openstack%2Ftripleo-common~stable%2Fstein~I08757ab389f35de52814fba48722e9325e50ab21,openstack/tripleo-common,stable/stein,I08757ab389f35de52814fba48722e9325e50ab21,tests: Get RoleData correctly,MERGED,2020-02-05 20:24:05.000000000,2020-02-07 23:44:11.000000000,2020-02-07 23:42:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c781fba095c60a2560f3194f2b97d755377ff67e', 'message': 'tests: Get RoleData correctly\n\nIn Ie543782569de14d56bc41740611f7512e8357a22 a new entry was added\ninto the fake stack, but the indexes for any test accessing the\nFAKE_STACK were not changed, effectively breaking several tests\nsilently.\n\nThis patch removes the direct referencing of indexes in FAKE_STACK\nand uses the config utilities to get the data correctly. It also\ncorrects the reference to the constant UPGRADE_STEPS_MAX which no\nlonger exists thanks to Ie03084bb599b7b06aeeb321d2a7938a908487788\n\nWe also add mock_assert_called to several of the tests to ensure\nthat if the fake_role list is empty, the test will fail.\n\nChange-Id: I08757ab389f35de52814fba48722e9325e50ab21\n(cherry picked from commit 813ffef308fbed231e04a679d5114f5bc3606bab)\n'}, {'number': 2, 'created': '2020-02-06 09:52:22.000000000', 'files': ['tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e928d1f44e00fbc606cae6dd0908a8de6c84c99', 'message': 'tests: Get RoleData correctly\n\nIn Ie543782569de14d56bc41740611f7512e8357a22 a new entry was added\ninto the fake stack, but the indexes for any test accessing the\nFAKE_STACK were not changed, effectively breaking several tests\nsilently.\n\nThis patch removes the direct referencing of indexes in FAKE_STACK\nand uses the config utilities to get the data correctly. It also\ncorrects the reference to the constant UPGRADE_STEPS_MAX which no\nlonger exists thanks to Ie03084bb599b7b06aeeb321d2a7938a908487788\n\nWe also add mock_assert_called to several of the tests to ensure\nthat if the fake_role list is empty, the test will fail.\n\nBackport note:\nIn this backport, we have to change DEFAULT_STEPS_MAX to be\nUPGRADE_STEPS_MAX to maintain a functional result until\nIe03084bb599b7b06aeeb321d2a7938a908487788 merges.\n\nChange-Id: I08757ab389f35de52814fba48722e9325e50ab21\n(cherry picked from commit 813ffef308fbed231e04a679d5114f5bc3606bab)\n'}]",0,706103,9e928d1f44e00fbc606cae6dd0908a8de6c84c99,12,4,2,6816,,,0,"tests: Get RoleData correctly

In Ie543782569de14d56bc41740611f7512e8357a22 a new entry was added
into the fake stack, but the indexes for any test accessing the
FAKE_STACK were not changed, effectively breaking several tests
silently.

This patch removes the direct referencing of indexes in FAKE_STACK
and uses the config utilities to get the data correctly. It also
corrects the reference to the constant UPGRADE_STEPS_MAX which no
longer exists thanks to Ie03084bb599b7b06aeeb321d2a7938a908487788

We also add mock_assert_called to several of the tests to ensure
that if the fake_role list is empty, the test will fail.

Backport note:
In this backport, we have to change DEFAULT_STEPS_MAX to be
UPGRADE_STEPS_MAX to maintain a functional result until
Ie03084bb599b7b06aeeb321d2a7938a908487788 merges.

Change-Id: I08757ab389f35de52814fba48722e9325e50ab21
(cherry picked from commit 813ffef308fbed231e04a679d5114f5bc3606bab)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/706103/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/utils/test_config.py'],1,c781fba095c60a2560f3194f2b97d755377ff67e,scale-and-performance-stable/train-stable/stein, self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) mock_mkdir.assert_called() self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) mock_mkdir.assert_called() self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) for step in range(constants.DEFAULT_STEPS_MAX): self.config.stack_outputs.get('RoleData')[role] self.config.fetch_config('overcloud') fake_role = list(self.config.stack_outputs.get('RoleData')) mock_mkdir.assert_called(), fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']] fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']] fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']] for step in range(constants.UPGRADE_STEPS_MAX): fakes.FAKE_STACK['outputs'][1]['output_value'][role] fake_role = [role for role in fakes.FAKE_STACK['outputs'][1]['output_value']],13,10
openstack%2Fpuppet-sahara~master~Id720b45bc8efff6340122062190e0bb47c2cad3b,openstack/puppet-sahara,master,Id720b45bc8efff6340122062190e0bb47c2cad3b,Remove autorequire for sahara-all,MERGED,2020-02-03 22:24:35.000000000,2020-02-07 23:29:37.000000000,2020-02-07 23:29:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 22:24:35.000000000', 'files': ['lib/puppet/type/sahara_node_group_template.rb', 'lib/puppet/type/sahara_cluster_template.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/845bfb91a2e71e2eb76ac22216753c12e0eadb61', 'message': 'Remove autorequire for sahara-all\n\nThe sahara-all service was removed in [1]\nbut missed these autorequires.\n\n[1] https://review.opendev.org/#/c/702387/\n\nChange-Id: Id720b45bc8efff6340122062190e0bb47c2cad3b\n'}]",0,705569,845bfb91a2e71e2eb76ac22216753c12e0eadb61,7,3,1,16137,,,0,"Remove autorequire for sahara-all

The sahara-all service was removed in [1]
but missed these autorequires.

[1] https://review.opendev.org/#/c/702387/

Change-Id: Id720b45bc8efff6340122062190e0bb47c2cad3b
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/69/705569/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/sahara_node_group_template.rb', 'lib/puppet/type/sahara_cluster_template.rb']",2,845bfb91a2e71e2eb76ac22216753c12e0eadb61,," [ 'sahara-api', 'sahara-engine' ]"," # TODO(tobias-urdin): Remove deprecated sahara-all from here when it's removed. [ 'sahara-api', 'sahara-all', 'sahara-engine' ]",2,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3ac05c30f7c5d136c5da9441faf7890cb6fb9d05,openstack/tripleo-heat-templates,stable/train,I3ac05c30f7c5d136c5da9441faf7890cb6fb9d05,Use action plugin for all_nodes data,MERGED,2020-02-05 10:53:57.000000000,2020-02-07 23:09:56.000000000,2020-02-07 23:09:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-05 10:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a2ceffb0acccbcd51a56d2950a4c5b40359ea32', 'message': 'Use action plugin for all_nodes data\n\nUpdate deploy_steps_playbook.yaml to use the new action plugin for\nrendering the all_nodes data. The native python is much faster than the\njinja2 template:\n\nDepends-On: I92113589b98d7c1f9c05e1ea0938a03d95b7dd15\nChange-Id: I3ac05c30f7c5d136c5da9441faf7890cb6fb9d05\n(cherry picked from commit c8dcce70896e93e793c030dee03490974a6da8ea)\n'}, {'number': 2, 'created': '2020-02-05 12:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0679f9ff427e59055c9823325960c690d55a4ed', 'message': 'Use action plugin for all_nodes data\n\nUpdate deploy_steps_playbook.yaml to use the new action plugin for\nrendering the all_nodes data. The native python is much faster than the\njinja2 template:\n\nDepends-On: I92113589b98d7c1f9c05e1ea0938a03d95b7dd15\nChange-Id: I3ac05c30f7c5d136c5da9441faf7890cb6fb9d05\n(cherry picked from commit c8dcce70896e93e793c030dee03490974a6da8ea)\n'}, {'number': 3, 'created': '2020-02-07 13:51:30.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab9f1c1a8b0993fc9c8ad186646afce44ce51572', 'message': 'Use action plugin for all_nodes data\n\nUpdate deploy_steps_playbook.yaml to use the new action plugin for\nrendering the all_nodes data. The native python is much faster than the\njinja2 template:\n\nChange-Id: I3ac05c30f7c5d136c5da9441faf7890cb6fb9d05\n(cherry picked from commit c8dcce70896e93e793c030dee03490974a6da8ea)\n'}]",0,705923,ab9f1c1a8b0993fc9c8ad186646afce44ce51572,14,5,3,6816,,,0,"Use action plugin for all_nodes data

Update deploy_steps_playbook.yaml to use the new action plugin for
rendering the all_nodes data. The native python is much faster than the
jinja2 template:

Change-Id: I3ac05c30f7c5d136c5da9441faf7890cb6fb9d05
(cherry picked from commit c8dcce70896e93e793c030dee03490974a6da8ea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/705923/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,1a2ceffb0acccbcd51a56d2950a4c5b40359ea32,scale-2020-stable/train, tripleo_all_nodes_data: tripleo_all_nodes_data: tripleo_all_nodes_data:," block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}""",3,30
openstack%2Ftripleo-common~stable%2Fstein~Ie576537d77b57927d430f20b274d1cb5d351241e,openstack/tripleo-common,stable/stein,Ie576537d77b57927d430f20b274d1cb5d351241e,Fix Octavia certificate file path and content,MERGED,2019-05-24 16:23:14.000000000,2020-02-07 23:08:12.000000000,2019-05-24 23:55:02.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-24 16:23:14.000000000', 'files': ['releasenotes/notes/octavia-fix-certificates-path-and-content-e8acf1e859e75135.yaml', 'playbooks/roles/octavia-controller-config/tasks/certificate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/71c099f2092e77b35099eee1e1e763283549c7ad', 'message': 'Fix Octavia certificate file path and content\n\nCertificate files were being created in a wrong path and with invalid\ncontent. The bug was caused because Ansible variables were not being\nquoted, and as so Ansible assumed plain text instead.\n\nCloses-Bug: #1830190\n\nChange-Id: Ie576537d77b57927d430f20b274d1cb5d351241e\n(cherry picked from commit 4de9f78b291e2a1f0311aa4c705daba08322cc7e)\n'}]",0,661352,71c099f2092e77b35099eee1e1e763283549c7ad,9,5,1,6469,,,0,"Fix Octavia certificate file path and content

Certificate files were being created in a wrong path and with invalid
content. The bug was caused because Ansible variables were not being
quoted, and as so Ansible assumed plain text instead.

Closes-Bug: #1830190

Change-Id: Ie576537d77b57927d430f20b274d1cb5d351241e
(cherry picked from commit 4de9f78b291e2a1f0311aa4c705daba08322cc7e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/661352/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/octavia-fix-certificates-path-and-content-e8acf1e859e75135.yaml', 'playbooks/roles/octavia-controller-config/tasks/certificate.yml']",2,71c099f2092e77b35099eee1e1e763283549c7ad,bug/1830190-stable/stein," dest: ""{{ octavia_confd_prefix }}/{{ item.path }}"" - { content: ""{{ private_key_content }}"", path: ""{{ ca_private_key_path }}"" } - { content: ""{{ ca_cert_content }}"", path: ""{{ ca_cert_path }}"" } - { content: ""{{ service_pem_content }}"" , path: ""{{ client_cert_path }}"" }"," dest: ""{{ octavia_confd_prefix }}{{ item.path }}"" - { content: private_key_content, path: ca_private_key_path } - { content: ca_cert_content, path: ca_cert_path } - { content: service_pem_content, path: client_cert_path }",10,4
openstack%2Freleases~master~I6f0c9f7ddbc13d89ba182edca68d0ae5111e2314,openstack/releases,master,I6f0c9f7ddbc13d89ba182edca68d0ae5111e2314,Release ironic inspector 10.0.0 for Ussuri,MERGED,2020-02-07 16:52:13.000000000,2020-02-07 22:47:07.000000000,2020-02-07 22:47:07.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 16:52:13.000000000', 'files': ['deliverables/ussuri/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e5ecee151fd84ce290607a092662effb26539a72', 'message': 'Release ironic inspector 10.0.0 for Ussuri\n\nChange-Id: I6f0c9f7ddbc13d89ba182edca68d0ae5111e2314\n'}]",0,706570,e5ecee151fd84ce290607a092662effb26539a72,8,3,1,14826,,,0,"Release ironic inspector 10.0.0 for Ussuri

Change-Id: I6f0c9f7ddbc13d89ba182edca68d0ae5111e2314
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/706570/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ironic-inspector.yaml'],1,e5ecee151fd84ce290607a092662effb26539a72,,releases: - version: 10.0.0 projects: - hash: e964b18b993535c2f282404c702c443f86493f0a repo: openstack/ironic-inspector,,5,0
openstack%2Ftripleo-common~master~I88612bb32e7969a75e48b5829b8755638c784a60,openstack/tripleo-common,master,I88612bb32e7969a75e48b5829b8755638c784a60,WIP: oci format support,ABANDONED,2020-01-23 23:25:30.000000000,2020-02-07 22:29:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-23 23:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a36370971b8dfe790947c9ca2bc7ee215ad0c863', 'message': 'WIP: oci format support\n\nbuildah builds containers using the OCI format by default. This has\ndifferent metadata than docker.  This change updates the logic to handle\nthe alternative format when uploading a local image to a remore\nregistry.\n\nChange-Id: I88612bb32e7969a75e48b5829b8755638c784a60\n'}, {'number': 2, 'created': '2020-01-24 16:32:11.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa7ca5ebacdf668f6ce623ee232431e35c659013', 'message': 'WIP: oci format support\n\nbuildah builds containers using the OCI format by default. This has\ndifferent metadata than docker.  This change updates the logic to handle\nthe alternative format when uploading a local image to a remore\nregistry.\n\nChange-Id: I88612bb32e7969a75e48b5829b8755638c784a60\n'}]",0,704088,aa7ca5ebacdf668f6ce623ee232431e35c659013,7,2,2,14985,,,0,"WIP: oci format support

buildah builds containers using the OCI format by default. This has
different metadata than docker.  This change updates the logic to handle
the alternative format when uploading a local image to a remore
registry.

Change-Id: I88612bb32e7969a75e48b5829b8755638c784a60
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/704088/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py']",2,a36370971b8dfe790947c9ca2bc7ee215ad0c863,bug/1860585," MEDIA_MANIFEST_OCI_V1, MEDIA_MANIFEST_OCI_V1_INDEX, MEDIA_CONFIG_OCI, MEDIA_BLOB_OCI, MEDIA_BLOB_COMPRESSED, MEDIA_BLOB_OCI_COMPRESSED 'application/vnd.oci.image.manifest.v1+json', 'application/vnd.oci.image.index.v1+json', 'application/vnd.oci.image.config.v1+json', 'application/vnd.oci.image.layer.v1.tar', 'application/vnd.docker.image.rootfs.diff.tar.gzip', 'application/vnd.oci.image.layer.v1.tar+gzip' # TODO(mwhahaha): specify docker media config if not defined if 'mediaType' not in manifest['config']: manifest['config']['mediaType'] = MEDIA_CONFIG @staticmethod def _get_manifest_type(manifest): manifest_type = manifest.get('mediaType', False) if manifest_type: return manifest_type # handle OCI manifest types by checking for OCI mediaTypes in properies if 'layers' in manifest: for l in manifest.get('layers', []): if (l.get('mediaType', None) in [MEDIA_BLOB_OCI, MEDIA_BLOB_OCI_COMPRESSED]): return MEDIA_MANIFEST_OCI_V1 elif 'manifests' in manifest: for m in manifest.get('manifests', []): if (m.get('mediaType', None) in [MEDIA_MANIFEST_OCI_V1, MEDIA_MANIFEST_OCI_V1_INDEX]): return MEDIA_MANIFEST_OCI_V1_INDEX # Must have been docker. return MEDIA_MANIFEST_V2 # TODO(mwhahaha): figure out a better way to determine oci manifest_type = cls._get_manifest_type(manifest) session, layer, layer_entry, is_oci=False): if is_oci: compressed_media_type = MEDIA_BLOB_OCI_COMPRESSED media_type = MEDIA_BLOB_OCI else: # backwards compatibility compressed_media_type = MEDIA_BLOB_COMPRESSED media_type = MEDIA_BLOB 'mediaType': compressed_media_type, 'mediaType': media_type, is_oci = (layer['mediaType'] in [MEDIA_BLOB_OCI, MEDIA_BLOB_OCI_COMPRESSED]) target_url, session, layer, layer_entry, is_oci"," MEDIA_BLOB_COMPRESSED 'application/vnd.docker.image.rootfs.diff.tar.gzip' manifest['config']['mediaType'] = MEDIA_CONFIG manifest_type = manifest.get( 'mediaType', MEDIA_MANIFEST_V2) session, layer, layer_entry): 'mediaType': MEDIA_BLOB_COMPRESSED, 'mediaType': MEDIA_BLOB, target_url, session, layer, layer_entry",96,11
openstack%2Fproject-config~master~Ie0293d0523f8a9a738015035725ea2e40b152d3d,openstack/project-config,master,Ie0293d0523f8a9a738015035725ea2e40b152d3d,Add capacity to airship CI cloud,MERGED,2020-02-06 16:36:15.000000000,2020-02-07 21:54:07.000000000,2020-02-07 21:51:46.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28208}]","[{'number': 1, 'created': '2020-02-06 16:36:15.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/282fbcb0d27b5c290c12809de69a65068c96180c', 'message': 'Add capacity to airship CI cloud\n\nThe airship jobs are expected to need 1x32GB ram instance + 3x16GB ram\ninstances each. The goal is to run 4 jobs concurrently which gives us 16\nmax-instances in the airship pool. We set the main pool to max 10\ninstances of the smaller 8GB ram instances to act as canaries in the\nmain pool.\n\nChange-Id: Ie0293d0523f8a9a738015035725ea2e40b152d3d\n'}]",0,706316,282fbcb0d27b5c290c12809de69a65068c96180c,11,5,1,4146,,,0,"Add capacity to airship CI cloud

The airship jobs are expected to need 1x32GB ram instance + 3x16GB ram
instances each. The goal is to run 4 jobs concurrently which gives us 16
max-instances in the airship pool. We set the main pool to max 10
instances of the smaller 8GB ram instances to act as canaries in the
main pool.

Change-Id: Ie0293d0523f8a9a738015035725ea2e40b152d3d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/706316/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,282fbcb0d27b5c290c12809de69a65068c96180c,airship-ci-cloud, - name: ubuntu-bionic-32GB min-ready: 0 # Canary capacity (by memory less than half capacity of airship pool). max-servers: 10 # Jobs expected to run 1x 32GB instance + 3x 16GB instances with # goal of running 4 jobs concurrently. max-servers: 16 labels: - name: ubuntu-bionic-32GB min-ram: 32000 flavor-name: '8C-32GB-100GB' diskimage: ubuntu-bionic key-name: infra-root-keys-2018-06-15, max-servers: 0 max-servers: 0 labels: # TODO figure out what flavors are needed here,12,3
openstack%2Fcinder~stable%2Ftrain~Ib28b6a2867469e73307482827d9e336b10a58432,openstack/cinder,stable/train,Ib28b6a2867469e73307482827d9e336b10a58432,RBD: catch argument exceptions when configuring multiattach,MERGED,2020-01-30 17:10:29.000000000,2020-02-07 21:44:04.000000000,2020-02-07 21:40:31.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-01-30 17:10:29.000000000', 'files': ['releasenotes/notes/rbd-multiattach-exceptions-43066312f3b527f5.yaml', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/99321eb91935b9a255399894b9a3ab15cf0e83e5', 'message': 'RBD: catch argument exceptions when configuring multiattach\n\nIf an expected flag is already in the desired state, RBD will raise an\nInvalidArgument exception.  This is okay, however not catching this will\nresult in volume operation errors.\n\nCo-Author: Eric Harney <eharney@redhat.com>\nChange-Id: Ib28b6a2867469e73307482827d9e336b10a58432\nCloses-Bug: #1852628\n(cherry picked from commit 9bc67c8978faba9e879bf377652d2679e143d992)\n'}]",0,705067,99321eb91935b9a255399894b9a3ab15cf0e83e5,35,23,1,4523,,,0,"RBD: catch argument exceptions when configuring multiattach

If an expected flag is already in the desired state, RBD will raise an
InvalidArgument exception.  This is okay, however not catching this will
result in volume operation errors.

Co-Author: Eric Harney <eharney@redhat.com>
Change-Id: Ib28b6a2867469e73307482827d9e336b10a58432
Closes-Bug: #1852628
(cherry picked from commit 9bc67c8978faba9e879bf377652d2679e143d992)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/705067/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rbd-multiattach-exceptions-43066312f3b527f5.yaml', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,99321eb91935b9a255399894b9a3ab15cf0e83e5,," image_features = 0 if exclusive_lock_enabled: image_features |= self.driver.RBD_FEATURE_EXCLUSIVE_LOCK if journaling_enabled: image_features |= self.driver.RBD_FEATURE_JOURNALING image.features.return_value = image_features image.update_features.assert_called_once_with( self.driver.RBD_FEATURE_JOURNALING, True) else: calls = [call(self.driver.RBD_FEATURE_EXCLUSIVE_LOCK, True), call(self.driver.RBD_FEATURE_JOURNALING, True)] self.driver.RBD_FEATURE_JOURNALING, False) else: calls = [call(self.driver.RBD_FEATURE_JOURNALING, False), call(self.driver.RBD_FEATURE_EXCLUSIVE_LOCK, @common_mocks def test_multiattach_exclusions(self): self.assertEqual( self.driver.RBD_FEATURE_JOURNALING | self.driver.RBD_FEATURE_FAST_DIFF | self.driver.RBD_FEATURE_OBJECT_MAP | self.driver.RBD_FEATURE_EXCLUSIVE_LOCK, self.driver.MULTIATTACH_EXCLUSIONS) MULTIATTACH_FULL_FEATURES = ( driver.RBDDriver.RBD_FEATURE_LAYERING | driver.RBDDriver.RBD_FEATURE_EXCLUSIVE_LOCK | driver.RBDDriver.RBD_FEATURE_OBJECT_MAP | driver.RBDDriver.RBD_FEATURE_FAST_DIFF | driver.RBDDriver.RBD_FEATURE_JOURNALING) MULTIATTACH_REDUCED_FEATURES = ( driver.RBDDriver.RBD_FEATURE_LAYERING | driver.RBDDriver.RBD_FEATURE_EXCLUSIVE_LOCK) @ddt.data(MULTIATTACH_FULL_FEATURES, MULTIATTACH_REDUCED_FEATURES) @common_mocks def test_enable_multiattach(self, features): image = self.mock_proxy.return_value.__enter__.return_value image_features = features image.features.return_value = image_features ret = self.driver._enable_multiattach(self.volume_a) image.update_features.assert_called_once_with( self.driver.MULTIATTACH_EXCLUSIONS & image_features, False) self.assertEqual( {'provider_location': ""{\""saved_features\"":%s}"" % image_features}, ret) @ddt.data(MULTIATTACH_FULL_FEATURES, MULTIATTACH_REDUCED_FEATURES) @common_mocks def test_disable_multiattach(self, features): image = self.mock_proxy.return_value.__enter__.return_value self.volume_a.provider_location = '{""saved_features"": %s}' % features ret = self.driver._disable_multiattach(self.volume_a) image.update_features.assert_called_once_with( self.driver.MULTIATTACH_EXCLUSIONS & features, True) self.assertEqual({'provider_location': None}, ret) "," journaling_feat = 1 exclusive_lock_feat = 2 self.driver.rbd.RBD_FEATURE_JOURNALING = journaling_feat self.driver.rbd.RBD_FEATURE_EXCLUSIVE_LOCK = exclusive_lock_feat image.features.return_value = 0 if exclusive_lock_enabled: image.features.return_value += exclusive_lock_feat if journaling_enabled: image.features.return_value += journaling_feat image.update_features.assert_called_once_with(journaling_feat, True) else: calls = [call(exclusive_lock_feat, True), call(journaling_feat, True)] self.driver.rbd.RBD_FEATURE_JOURNALING, False) else: calls = [call(self.driver.rbd.RBD_FEATURE_JOURNALING, False), call(self.driver.rbd.RBD_FEATURE_EXCLUSIVE_LOCK,",121,49
openstack%2Ftripleo-ansible~master~Ic2f641d6d94aad615d5505aef78e2e3a22b95c22,openstack/tripleo-ansible,master,Ic2f641d6d94aad615d5505aef78e2e3a22b95c22,Remove old Undercloud hosts entries.,ABANDONED,2020-01-27 22:31:43.000000000,2020-02-07 21:33:12.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-27 22:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/123e1fcab4203a3f856c8f91959dc3805fd1ccbb', 'message': 'Remove old Undercloud hosts entries.\n\nChange-Id: Ic2f641d6d94aad615d5505aef78e2e3a22b95c22\nCloses-Bug: #1861035\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2020-01-27 22:33:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d81d7e58ec37ca654acef5182fef3938207fb98', 'message': 'Remove old Undercloud hosts entries.\n\nThis will remove entries that exist outside of the Ansible\nmanaged block.\n\nChange-Id: Ic2f641d6d94aad615d5505aef78e2e3a22b95c22\nCloses-Bug: #1861035\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",2,704451,7d81d7e58ec37ca654acef5182fef3938207fb98,11,4,2,25877,,,0,"Remove old Undercloud hosts entries.

This will remove entries that exist outside of the Ansible
managed block.

Change-Id: Ic2f641d6d94aad615d5505aef78e2e3a22b95c22
Closes-Bug: #1861035
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/704451/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,123e1fcab4203a3f856c8f91959dc3805fd1ccbb,," tripleo_hosts_entries_undercloud_list: ""{{ tripleo_hosts_entries_undercloud_hosts_entries.split('\n') }}""- name: Remove old Undercloud hosts entries lineinfile: path: /etc/hosts line: ""{{ item }}"" state: absent loop: ""{{ tripleo_hosts_entries_undercloud_list }}"" delegate_to: undercloud ",,9,0
openstack%2Frequirements~master~I16f6c23c3051a1fcd60036b910a93304c6476427,openstack/requirements,master,I16f6c23c3051a1fcd60036b910a93304c6476427,update constraint for mox3 to new release 1.0.0,MERGED,2020-02-07 13:15:50.000000000,2020-02-07 21:32:32.000000000,2020-02-07 21:29:53.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 13:15:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/83292843eebae368371919cec86809c8de007824', 'message': 'update constraint for mox3 to new release 1.0.0\n\nChange-Id: I16f6c23c3051a1fcd60036b910a93304c6476427\nmeta:version: 1.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I097c1f710dc6fbf5b019f36240eae6983589ff3c\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706494,83292843eebae368371919cec86809c8de007824,7,2,1,11131,,,0,"update constraint for mox3 to new release 1.0.0

Change-Id: I16f6c23c3051a1fcd60036b910a93304c6476427
meta:version: 1.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I097c1f710dc6fbf5b019f36240eae6983589ff3c
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/706494/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,83292843eebae368371919cec86809c8de007824,new-release,mox3===1.0.0,mox3===0.28.0,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I268d7b257334d78da11c37cb0ba0783fbe2021c0,openstack/tripleo-ansible,stable/train,I268d7b257334d78da11c37cb0ba0783fbe2021c0,tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code,MERGED,2020-02-07 12:25:11.000000000,2020-02-07 21:32:23.000000000,2020-02-07 21:30:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 12:25:11.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5db58f672e2b0b1d01e767e151d7566d2816e82d', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n(cherry picked from commit 31e1624eb150a9066480eb4d3aa3f2685e6cc549)\n'}]",0,706486,5db58f672e2b0b1d01e767e151d7566d2816e82d,8,3,1,3153,,,0,"tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code

If tripleo_container_manage_valid_exit_code is set to a list of codes,
for each container that will be created and expected to run something,
Ansible will check that the container exited with a valid code, given in
the parameter.

It can be useful for the Puppet containers where the entrypoint returns
the code from Puppet that has run in the container.

Change-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0
(cherry picked from commit 31e1624eb150a9066480eb4d3aa3f2685e6cc549)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/706486/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml']",3,5db58f672e2b0b1d01e767e151d7566d2816e82d,50," - name: ""Block for container exit codes"" when: - tripleo_container_manage_valid_exit_code|length != 0 - not ansible_check_mode|bool block: - name: ""Wait for containers to be exited"" podman_container_info: name: ""{{ batched_container_data | haskey(attribute='action', reverse=True) | list_of_keys }}"" register: podman_containers_infos until: ( podman_containers_infos.containers | selectattr('State.Running', 'equalto', True) |list|length ) == 0 # Retry 30 times every 10 seconds so we wait 5 min in total retries: 30 delay: 10 # We need to ignore the failures since later we print some debug. # We can't use ""rescue"" here because the debug tasks use # ""podman_containers_infos"". ignore_errors: true no_log: true - name: Create a list of containers which didn't exit set_fact: running_containers: >- {{ podman_containers_infos.containers | selectattr('State.Running', 'equalto', True) | map(attribute='Name') | list }} - name: Create a list of containers with bad Exit Codes set_fact: broken_containers: >- {{ podman_containers_infos.containers | rejectattr('State.ExitCode', 'in', tripleo_container_manage_valid_exit_code) | map(attribute='Name') | list }} - name: ""Print running containers"" fail: msg: ""Container(s) which are still running after 5 min: {{ running_containers }}, check logs in /var/log/containers/stdout/"" when: running_containers|length != 0 - name: ""Print failing containers"" fail: msg: ""Container(s) with bad ExitCode: {{ broken_containers }}, check logs in /var/log/containers/stdout/"" when: broken_containers|length != 0",,48,0
openstack%2Ftripleo-ansible~stable%2Ftrain~If65fcf25c9e07174b08e44539b0501615b6c72ab,openstack/tripleo-ansible,stable/train,If65fcf25c9e07174b08e44539b0501615b6c72ab,tripleo-container-manage: allow to override a container config,MERGED,2020-02-07 02:32:10.000000000,2020-02-07 21:30:31.000000000,2020-02-07 21:30:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 02:32:10.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/983bc08b577c3167dd57f3d13c86c88507b25924', 'message': 'tripleo-container-manage: allow to override a container config\n\nSometimes an operator might want to override a config parameter for a\nspecific container, without having to rewrite the JSON on the host.\n\nIt can now be done with the new\ntripleo_container_manage_config_overrides parameter.\n\nExample:\n\ntripleo_container_manage_config_override:\n  mysql:\n    image: myregistry.io/tripleomaster/haproxy:latest\n\nIt introduces a new attribute to the singledict() filter and its unit\ntest.\n\nChange-Id: If65fcf25c9e07174b08e44539b0501615b6c72ab\n(cherry picked from commit 1b84159cc43b5ef07081210a1fcef11ec25e2cfa)\n'}]",0,706422,983bc08b577c3167dd57f3d13c86c88507b25924,7,3,1,3153,,,0,"tripleo-container-manage: allow to override a container config

Sometimes an operator might want to override a config parameter for a
specific container, without having to rewrite the JSON on the host.

It can now be done with the new
tripleo_container_manage_config_overrides parameter.

Example:

tripleo_container_manage_config_override:
  mysql:
    image: myregistry.io/tripleomaster/haproxy:latest

It introduces a new attribute to the singledict() filter and its unit
test.

Change-Id: If65fcf25c9e07174b08e44539b0501615b6c72ab
(cherry picked from commit 1b84159cc43b5ef07081210a1fcef11ec25e2cfa)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/706422/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",4,983bc08b577c3167dd57f3d13c86c88507b25924,merge_with-stable/train," def singledict(self, list_to_convert, merge_with={}): If merge_with is set, the return dict will be merged with it. for k in merge_with.keys(): if k in return_dict: for mk, mv in merge_with[k].items(): return_dict[k][mk] = mv break"," def singledict(self, list_to_convert):",44,2
openstack%2Ftripleo-ansible~stable%2Ftrain~Iac40deee253fd27c075fc452ad4412ada163e485,openstack/tripleo-ansible,stable/train,Iac40deee253fd27c075fc452ad4412ada163e485,Add more doc for tripleo-container-manage,MERGED,2020-02-07 12:25:11.000000000,2020-02-07 21:30:29.000000000,2020-02-07 21:30:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 12:25:11.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6937085213a32d001e89683ccdbc3cace2716528', 'message': 'Add more doc for tripleo-container-manage\n\nChange-Id: Iac40deee253fd27c075fc452ad4412ada163e485\n(cherry picked from commit 10f1ab7ab9138098740e801325a8379752d084d5)\n'}]",0,706485,6937085213a32d001e89683ccdbc3cace2716528,6,2,1,3153,,,0,"Add more doc for tripleo-container-manage

Change-Id: Iac40deee253fd27c075fc452ad4412ada163e485
(cherry picked from commit 10f1ab7ab9138098740e801325a8379752d084d5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/706485/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-tripleo-container-manage.rst'],1,6937085213a32d001e89683ccdbc3cace2716528,50,"| tripleo_container_manage_config_overrides | {} | Allows to override any | | | | container configuration | +------------------------------------------------+-----------------------------+----------------------------+ Debug ~~~~~ The role allows you to perform specific actions on a given container. This can be used to: * Run a container with a specific one-off configuration. * Output the container commands that are run to to manage containers lifecycle. * Output the changes that would have been made on containers by Ansible. .. note:: To manage a single container, you need to know 2 things: * At which step the container is deployed. * The name of the generated JSON file for container config. Here is an example of a playbook to manage HAproxy container at step 1 which overrides the image setting in one-off. .. code-block:: YAML - hosts: localhost become: true tasks: - name: Manage step_1 containers using tripleo-ansible block: - name: ""Manage HAproxy container at step 1 with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_systemd_order: true tripleo_container_manage_config_patterns: 'hashed-haproxy.json' tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_1"" tripleo_container_manage_config_id: ""tripleo_step1"" tripleo_container_manage_config_overrides: haproxy: image: docker.io/tripleomaster/centos-binary-haproxy:hotfix If Ansible is run in check mode, no container will be removed nor created,.. code-block:: bash $ ansible-playbook haproxy.yaml --check Adding the diff mode will output the changes what would have been made on containers by Ansible. .. code-block:: bash $ ansible-playbook haproxy.yaml --check --diff The ``tripleo_container_manage_config_overrides`` parameter is optional and can be used to override a specific container attribute like the image or the container user. The parameter takes a dictionary where each key is the container name and its parameters that we want to override. These parameters have to exist and are the ones that define the container configuration in TripleO Heat Templates. Note that it doesn't write down the overrides in the JSON file so if an update / upgrade is executed, the container will be re-configured with the configuration that is in the JSON file."," Check mode ~~~~~~~~~~ If Ansible is in check mode, no container will be removed nor created,Example with one container ~~~~~~~~~~~~~~~~~~~~~~~~~~ To manage a single container, you need to know 2 things: * At which step the container is deployed. * The name of the generated JSON file for container config. Here is an example of a playbook to manage HAproxy container at step 1: .. code-block:: YAML - name: Manage step_1 containers using tripleo-ansible block: - name: ""Manage HAproxy container at step 1 with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_systemd_order: true tripleo_container_manage_config_patterns: 'hashed-haproxy.json' tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_1"" tripleo_container_manage_config_id: ""tripleo_step1""",55,21
openstack%2Ftripleo-ansible~stable%2Ftrain~I0796695271ec7863bb23e5bc292876e1e845e0fe,openstack/tripleo-ansible,stable/train,I0796695271ec7863bb23e5bc292876e1e845e0fe,tripleo_container_manage: skip shutdown.yml if not necessary,MERGED,2020-02-06 18:45:25.000000000,2020-02-07 21:30:29.000000000,2020-02-07 21:30:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 18:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21857d2e4dfb3cc39db0229d19ca11cda39a9719', 'message': ""tripleo_container_manage: skip shutdown.yml if not necessary\n\nIf the tripleo-container-shutdown.preset is already in place, we don't need to\nexecute the shutdown.yml playbook.\n\nIt'll avoid the repeat of these tasks at every step; and therefore save\ntime.\n\nChange-Id: I0796695271ec7863bb23e5bc292876e1e845e0fe\n(cherry picked from commit e37bdf179347f620deb5afa206bfe838e7eaf03b)\n""}, {'number': 2, 'created': '2020-02-07 02:37:18.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ff1c46cef171876e5d672f369e94050920ba904', 'message': ""tripleo_container_manage: skip shutdown.yml if not necessary\n\nIf the tripleo-container-shutdown.preset is already in place, we don't need to\nexecute the shutdown.yml playbook.\n\nIt'll avoid the repeat of these tasks at every step; and therefore save\ntime.\n\nChange-Id: I0796695271ec7863bb23e5bc292876e1e845e0fe\n(cherry picked from commit e37bdf179347f620deb5afa206bfe838e7eaf03b)\n""}]",0,706363,2ff1c46cef171876e5d672f369e94050920ba904,10,3,2,3153,,,0,"tripleo_container_manage: skip shutdown.yml if not necessary

If the tripleo-container-shutdown.preset is already in place, we don't need to
execute the shutdown.yml playbook.

It'll avoid the repeat of these tasks at every step; and therefore save
time.

Change-Id: I0796695271ec7863bb23e5bc292876e1e845e0fe
(cherry picked from commit e37bdf179347f620deb5afa206bfe838e7eaf03b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/706363/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml'],1,21857d2e4dfb3cc39db0229d19ca11cda39a9719,48, - name: Check if /usr/lib/systemd/system-preset/91-tripleo-container-shutdown.preset exists stat: path: /usr/lib/systemd/system-preset/91-tripleo-container-shutdown.preset register: tripleo_container_shutdown when: - not tripleo_container_shutdown.stat.exists,,6,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9710c7b0fa9fb29441837829c25b53bbb61cf13a,openstack/tripleo-ansible,stable/train,I9710c7b0fa9fb29441837829c25b53bbb61cf13a,tripleo-container-manage: add tripleo_container_manage_systemd_teardown,MERGED,2020-02-06 18:44:51.000000000,2020-02-07 21:25:04.000000000,2020-02-07 21:25:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 18:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a07d0690cdeda5ba542ef1f438c66f9d3ffec1bc', 'message': ""tripleo-container-manage: add tripleo_container_manage_systemd_teardown\n\nAdd a new variable, tripleo_container_manage_systemd_teardown which\nallow to not teardown systemd services during a service deletion.\n\nIn some cases, we don't want to do it, to save time or just because\ncontainers's lifecycle aren't controlled by systemd at all.\n\nChange-Id: I9710c7b0fa9fb29441837829c25b53bbb61cf13a\n(cherry picked from commit f9ce0a3205d0a4b8579f3e3c7993e2dc241ece59)\n""}, {'number': 2, 'created': '2020-02-07 02:37:14.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/delete.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e825d09e738823c1d9a9718d381e06c88b65399', 'message': ""tripleo-container-manage: add tripleo_container_manage_systemd_teardown\n\nAdd a new variable, tripleo_container_manage_systemd_teardown which\nallow to not teardown systemd services during a service deletion.\n\nIn some cases, we don't want to do it, to save time or just because\ncontainers's lifecycle aren't controlled by systemd at all.\n\nChange-Id: I9710c7b0fa9fb29441837829c25b53bbb61cf13a\n(cherry picked from commit f9ce0a3205d0a4b8579f3e3c7993e2dc241ece59)\n""}]",0,706362,6e825d09e738823c1d9a9718d381e06c88b65399,10,3,2,3153,,,0,"tripleo-container-manage: add tripleo_container_manage_systemd_teardown

Add a new variable, tripleo_container_manage_systemd_teardown which
allow to not teardown systemd services during a service deletion.

In some cases, we don't want to do it, to save time or just because
containers's lifecycle aren't controlled by systemd at all.

Change-Id: I9710c7b0fa9fb29441837829c25b53bbb61cf13a
(cherry picked from commit f9ce0a3205d0a4b8579f3e3c7993e2dc241ece59)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/706362/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/delete.yml']",2,a07d0690cdeda5ba542ef1f438c66f9d3ffec1bc,47,"- name: ""Disable systemd resources for {{ item }}"" when: tripleo_container_manage_systemd_teardown block: - name: ""Remove systemd healthcheck for {{ item }}"" block: - name: ""Stop and disable systemd timer for {{ item }}"" systemd: state: stopped name: ""tripleo_{{ item }}_healthcheck.timer"" enabled: false ignore_errors: true - name: ""Delete systemd timer file for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}_healthcheck.timer"" state: absent register: systemd_timer_deleted - name: ""Stop and disable systemd healthcheck for {{ item }}"" systemd: state: stopped name: ""tripleo_{{ item }}_healthcheck.service"" enabled: false ignore_errors: true - name: ""Delete systemd healthcheck file for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}_healthcheck.service"" state: absent register: systemd_healthcheck_deleted - name: Force systemd to reread configs systemd: daemon_reload: true when: systemd_timer_deleted.changed or systemd_healthcheck_deleted.changed - name: ""Stop and disable systemd service for {{ item }}"" name: ""tripleo_{{ item }}.service"" - name: ""Delete systemd unit file for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}.service"" register: systemd_file_deleted - name: ""Remove trailing .requires for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}.requires"" register: systemd_requires_deleted when: systemd_file_deleted.changed or systemd_requires_deleted.changed","- name: ""Remove systemd healthcheck for {{ item }}"" block: - name: ""Stop and disable systemd timer for {{ item }}"" name: ""tripleo_{{ item }}_healthcheck.timer"" - name: ""Delete systemd timer file for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}_healthcheck.timer"" register: systemd_timer_deleted - name: ""Stop and disable systemd healthcheck for {{ item }}"" systemd: state: stopped name: ""tripleo_{{ item }}_healthcheck.service"" enabled: false ignore_errors: true - name: ""Delete systemd healthcheck file for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}_healthcheck.service"" register: systemd_healthcheck_deleted when: systemd_timer_deleted.changed or systemd_healthcheck_deleted.changed - name: ""Stop and disable systemd service for {{ item }}"" systemd: state: stopped name: ""tripleo_{{ item }}.service"" enabled: false ignore_errors: true - name: ""Delete systemd unit file for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}.service"" state: absent register: systemd_file_deleted - name: ""Remove trailing .requires for {{ item }}"" file: path: ""/etc/systemd/system/tripleo_{{ item }}.requires"" state: absent register: systemd_requires_deleted - name: Force systemd to reread configs systemd: daemon_reload: true when: systemd_file_deleted.changed or systemd_requires_deleted.changed",40,40
openstack%2Ftripleo-ansible~stable%2Ftrain~I0e6883cd86157b73f18ab63f96f633a8a05e82bf,openstack/tripleo-ansible,stable/train,I0e6883cd86157b73f18ab63f96f633a8a05e82bf,Execute healthchecks as root,MERGED,2020-02-06 18:43:14.000000000,2020-02-07 21:25:03.000000000,2020-02-07 21:25:03.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-06 18:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b6025fcfaccbd56848d5627a5a5f9258bafe016', 'message': 'Execute healthchecks as root\n\nSome containers doesn\'t have the ""default"" user set to root (which is\ngood). This lead to healthcheck_port() function to return a message\nbecause the non-root user isn\'t allowed to call ""ss"" command as itself.\n\nEnsuring we\'re running the healthchecks as root will also allow to stop\nduplicating some commands, making them faster and smaller for the\nsystem.\n\nThis was discovered and discussed on Red Hat bugzilla first, then ported\nto Launchpad.\n\nThis patch is the port of I2e49d4dd5b385237f4f79929c70365424f6fa22d to\ntripleo-ansible ""container-manage"" role.\n\nChange-Id: I0e6883cd86157b73f18ab63f96f633a8a05e82bf\nRelated-Bug: 1860569\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1778881\n(cherry picked from commit 21787448dee4029cccc1b46bd9a6203f486d72c1)\n'}, {'number': 2, 'created': '2020-02-07 02:37:07.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae0f7d25988938c1e55e6cc4a33eec9b22f38d1e', 'message': 'Execute healthchecks as root\n\nSome containers doesn\'t have the ""default"" user set to root (which is\ngood). This lead to healthcheck_port() function to return a message\nbecause the non-root user isn\'t allowed to call ""ss"" command as itself.\n\nEnsuring we\'re running the healthchecks as root will also allow to stop\nduplicating some commands, making them faster and smaller for the\nsystem.\n\nThis was discovered and discussed on Red Hat bugzilla first, then ported\nto Launchpad.\n\nThis patch is the port of I2e49d4dd5b385237f4f79929c70365424f6fa22d to\ntripleo-ansible ""container-manage"" role.\n\nChange-Id: I0e6883cd86157b73f18ab63f96f633a8a05e82bf\nRelated-Bug: 1860569\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1778881\n(cherry picked from commit 21787448dee4029cccc1b46bd9a6203f486d72c1)\n'}]",0,706360,ae0f7d25988938c1e55e6cc4a33eec9b22f38d1e,10,4,2,3153,,,0,"Execute healthchecks as root

Some containers doesn't have the ""default"" user set to root (which is
good). This lead to healthcheck_port() function to return a message
because the non-root user isn't allowed to call ""ss"" command as itself.

Ensuring we're running the healthchecks as root will also allow to stop
duplicating some commands, making them faster and smaller for the
system.

This was discovered and discussed on Red Hat bugzilla first, then ported
to Launchpad.

This patch is the port of I2e49d4dd5b385237f4f79929c70365424f6fa22d to
tripleo-ansible ""container-manage"" role.

Change-Id: I0e6883cd86157b73f18ab63f96f633a8a05e82bf
Related-Bug: 1860569
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1778881
(cherry picked from commit 21787448dee4029cccc1b46bd9a6203f486d72c1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/706360/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2'],1,5b6025fcfaccbd56848d5627a5a5f9258bafe016,46,ExecStart=/usr/bin/podman exec --user root {{ container_sysd_name }} {{ container_sysd_data.healthcheck.test }},ExecStart=/usr/bin/podman exec {{ container_sysd_name }} {{ container_sysd_data.healthcheck.test }},1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I3103f642ba86111e02d06922876b5f1ac78df602,openstack/tripleo-ansible,stable/train,I3103f642ba86111e02d06922876b5f1ac78df602,Relax needs_delete() filter,MERGED,2020-02-07 02:36:07.000000000,2020-02-07 21:25:02.000000000,2020-02-07 21:25:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 02:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55c09098dd529b693e6814460741789b6ff9943e', 'message': ""Relax needs_delete() filter\n\nDon't remove a container when all these conditions are met:\n- the container is part of the config_id\n- the container is running\n- the container isn't in the tripleo_container_manage_config path.\n\nThe reason is, we'll let operators to deploy containers individually, so\nwe don't want to touch other containers not in the config at that time.\n\nExample: as an operator I want to apply ansible on haproxy\n(config_step1); so I don't want other containers from config_step1 to be\nremoved.\n\nThis code was here to cleanup containers not part of the config (e.g. if\nyou upgrade and a container isn't used anymore); but it's too agressive.\nIf a container isn't needed anymore, it'll need to be handled during the\nupgrade steps.\n\nChange-Id: I3103f642ba86111e02d06922876b5f1ac78df602\n(cherry picked from commit 94d52bc00f4e0af3b55b1c5c8ccd03f9bea68c36)\n""}, {'number': 2, 'created': '2020-02-07 02:36:45.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d71a54294d9855a65ed31fabf6727f88865ee4b2', 'message': ""Relax needs_delete() filter\n\nDon't remove a container when all these conditions are met:\n- the container is part of the config_id\n- the container is running\n- the container isn't in the tripleo_container_manage_config path.\n\nThe reason is, we'll let operators to deploy containers individually, so\nwe don't want to touch other containers not in the config at that time.\n\nExample: as an operator I want to apply ansible on haproxy\n(config_step1); so I don't want other containers from config_step1 to be\nremoved.\n\nThis code was here to cleanup containers not part of the config (e.g. if\nyou upgrade and a container isn't used anymore); but it's too agressive.\nIf a container isn't needed anymore, it'll need to be handled during the\nupgrade steps.\n\nChange-Id: I3103f642ba86111e02d06922876b5f1ac78df602\n(cherry picked from commit 94d52bc00f4e0af3b55b1c5c8ccd03f9bea68c36)\n""}]",0,706423,d71a54294d9855a65ed31fabf6727f88865ee4b2,8,3,2,3153,,,0,"Relax needs_delete() filter

Don't remove a container when all these conditions are met:
- the container is part of the config_id
- the container is running
- the container isn't in the tripleo_container_manage_config path.

The reason is, we'll let operators to deploy containers individually, so
we don't want to touch other containers not in the config at that time.

Example: as an operator I want to apply ansible on haproxy
(config_step1); so I don't want other containers from config_step1 to be
removed.

This code was here to cleanup containers not part of the config (e.g. if
you upgrade and a container isn't used anymore); but it's too agressive.
If a container isn't needed anymore, it'll need to be handled during the
upgrade steps.

Change-Id: I3103f642ba86111e02d06922876b5f1ac78df602
(cherry picked from commit 94d52bc00f4e0af3b55b1c5c8ccd03f9bea68c36)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/706423/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,55c09098dd529b693e6814460741789b6ff9943e,delete-stable/train,, # Remove containers managed by tripleo-ansible that aren't in # config e.g. containers not needed anymore and removed by an # upgrade. Note: we don't cleanup paunch-managed containers. if c_name not in config: to_delete += [c_name] continue ,0,7
openstack%2Ftripleo-ansible~stable%2Ftrain~I9add2a3277b82d63e519cbfd7da94bbedc6cef55,openstack/tripleo-ansible,stable/train,I9add2a3277b82d63e519cbfd7da94bbedc6cef55,Update the helper filter for needs_delete,MERGED,2020-02-06 18:42:32.000000000,2020-02-07 21:25:02.000000000,2020-02-07 21:25:02.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 18:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa6121c29eb2997fa51ad68fdd3d57d14fb10960', 'message': 'Update the helper filter for needs_delete\n\nThis change updats the helper filter so that we can better identify containers that are in\nneed of deleting/restart.\n\n> Updates to the ""needs_delete"" helper will ensure we\'re validating data.\n> Tests have been added to the test function `test_needs_delete` which will\n  ensure our data validation process is functional.\n\nChange-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 166c4f184ec84ff97b77b05013a963b94b1843b0)\n'}, {'number': 2, 'created': '2020-02-07 02:37:00.000000000', 'files': ['tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/028b4869dbc7c96eaa36a5ffcfbc5041fd551303', 'message': 'Update the helper filter for needs_delete\n\nThis change updats the helper filter so that we can better identify containers that are in\nneed of deleting/restart.\n\n> Updates to the ""needs_delete"" helper will ensure we\'re validating data.\n> Tests have been added to the test function `test_needs_delete` which will\n  ensure our data validation process is functional.\n\nChange-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 166c4f184ec84ff97b77b05013a963b94b1843b0)\n'}]",0,706359,028b4869dbc7c96eaa36a5ffcfbc5041fd551303,10,4,2,3153,,,0,"Update the helper filter for needs_delete

This change updats the helper filter so that we can better identify containers that are in
need of deleting/restart.

> Updates to the ""needs_delete"" helper will ensure we're validating data.
> Tests have been added to the test function `test_needs_delete` which will
  ensure our data validation process is functional.

Change-Id: I9add2a3277b82d63e519cbfd7da94bbedc6cef55
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 166c4f184ec84ff97b77b05013a963b94b1843b0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/706359/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",2,aa6121c29eb2997fa51ad68fdd3d57d14fb10960,45,"import re labels = c['Config'].get('Labels') if not labels: labels = dict() managed_by = labels.get('managed_by', 'unknown').lower() # Check containers have a label if not labels: # Don't delete containers NOT managed by tripleo* or paunch* elif not re.findall(r""(?=(""+'|'.join(['tripleo', 'paunch'])+r""))"", managed_by): to_skip += [c_name] elif labels.get('config_id') != config_id: elif 'config_data' not in labels: c_datas = list() for c in container_infos: if c_name == c['Name']: try: c_datas.append(c['Config']['Labels']['config_data']) except KeyError: pass for c_data in c_datas: try: c_data = ast.literal_eval(c_data) except (ValueError, SyntaxError): # may already be data try: c_data = dict(c_data) # Confirms c_data is type safe except ValueError: # c_data is not data c_data = dict() if cmp(c_data, config_data) != 0: to_delete += [c_name]"," # Don't delete containers not managed by tripleo-ansible if (c['Config']['Labels'] is None or c['Config']['Labels'].get( 'managed_by') != 'tripleo_ansible'): continue if (c['Config']['Labels'] is None or c['Config']['Labels'].get('config_id') != config_id): continue if (c['Config']['Labels'] is not None and 'config_data' not in c['Config']['Labels']): continue try: c_facts = [c['Config']['Labels']['config_data'] for c in container_infos if c_name == c['Name']] except KeyError: continue c_facts = ast.literal_eval(c_facts[0]) if ( len(c_facts)) == 1 else dict() if cmp(c_facts, config_data) != 0: to_delete += [c_name]",55,30
openstack%2Ftripleo-ansible~stable%2Ftrain~I39fc122ec66b7029bae247ee6d4a6fdbb614a5e4,openstack/tripleo-ansible,stable/train,I39fc122ec66b7029bae247ee6d4a6fdbb614a5e4,tripleo-container-image: add |list to containers_commands,MERGED,2020-02-06 18:40:54.000000000,2020-02-07 21:25:01.000000000,2020-02-07 21:25:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 18:40:54.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26f551edd29ab8bfa2c72ccb8c4a5833374c412a', 'message': ""tripleo-container-image: add |list to containers_commands\n\nIf the variable is empty, let's use the |list filter which will convert\nthe emptry string into an empty list.\n\nChange-Id: I39fc122ec66b7029bae247ee6d4a6fdbb614a5e4\n(cherry picked from commit b2287480a300cf0e115e8e941934cdb9adb797f7)\n""}]",0,706357,26f551edd29ab8bfa2c72ccb8c4a5833374c412a,7,3,1,3153,,,0,"tripleo-container-image: add |list to containers_commands

If the variable is empty, let's use the |list filter which will convert
the emptry string into an empty list.

Change-Id: I39fc122ec66b7029bae247ee6d4a6fdbb614a5e4
(cherry picked from commit b2287480a300cf0e115e8e941934cdb9adb797f7)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/706357/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",2,26f551edd29ab8bfa2c72ccb8c4a5833374c412a,44," all_containers_commands: ""{{ containers_commands|list + (all_containers_commands | default([]) | list) }}"""," all_containers_commands: ""{{ containers_commands + (all_containers_commands | default([]) | list) }}""",2,2
openstack%2Fpaunch~master~I687357b620ed3f62e9fd2eded00587e32826e107,openstack/paunch,master,I687357b620ed3f62e9fd2eded00587e32826e107,Handle defined containers that are stopped (version 2).,ABANDONED,2019-08-27 14:52:50.000000000,2020-02-07 21:21:43.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-27 14:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/361c0338312051a21a991a36c1614085dd7527cf', 'message': 'Only delete stopped containers that are allowed to restart.\n\nChange-Id: I687357b620ed3f62e9fd2eded00587e32826e107\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-08-27 16:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/72b2b194b5d34b4363a488d10c215e39cdac3780', 'message': 'Only delete stopped containers that are allowed to restart.\n\nChange-Id: I687357b620ed3f62e9fd2eded00587e32826e107\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-09-06 23:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/68f7b333b15960ed988c785f57d456dc126d81d7', 'message': 'Handle defined containers that are stopped (version 2).\n\nDelete stopped containers and recreate them to ensure\nthere are no local modifications to the container. Also\naccount for containers that should not be restarted.\n\nChange-Id: I687357b620ed3f62e9fd2eded00587e32826e107\nResolves: rhbz#1674517\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-09-23 16:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/0237102234ea55f4460e261e28a25a03350accc6', 'message': 'Handle defined containers that are stopped (version 2).\n\nDelete stopped containers and recreate them to ensure\nthere are no local modifications to the container. Also\naccount for containers that should not be restarted.\n\nChange-Id: I687357b620ed3f62e9fd2eded00587e32826e107\nResolves: rhbz#1674517\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-09-25 16:29:22.000000000', 'files': ['paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/c04300a6b10c22f9b7ee904987ded165a618bf6a', 'message': 'Handle defined containers that are stopped (version 2).\n\nDelete stopped containers and recreate them to ensure\nthere are no local modifications to the container. Also\naccount for containers that should not be restarted.\n\nChange-Id: I687357b620ed3f62e9fd2eded00587e32826e107\nResolves: rhbz#1674517\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",5,678873,c04300a6b10c22f9b7ee904987ded165a618bf6a,23,6,5,25877,,,0,"Handle defined containers that are stopped (version 2).

Delete stopped containers and recreate them to ensure
there are no local modifications to the container. Also
account for containers that should not be restarted.

Change-Id: I687357b620ed3f62e9fd2eded00587e32826e107
Resolves: rhbz#1674517
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/73/678873/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,361c0338312051a21a991a36c1614085dd7527cf,I687357b620ed3f62e9fd2eded00587e32826e107," else: if restart != 'none': self.log.debug(""Deleting stopped container %s."" % container) self.runner.remove_container(container) else: self.log.debug(""Container should not be restarted. "" ""Skipping deletion for %s."" % container) continue "," else: self.log.debug(""Deleting stopped container %s."" % container) self.runner.remove_container(container)",12,3
openstack%2Fcharm-guide~master~I748e46f5a323c138537d25e15fe74bee89d49875,openstack/charm-guide,master,I748e46f5a323c138537d25e15fe74bee89d49875,Move OVN details from release notes to appendix,MERGED,2020-02-06 13:10:37.000000000,2020-02-07 21:16:45.000000000,2020-02-07 21:15:10.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-06 13:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3757a91f269b01d9fef458e51d111c12e5a38bb7', 'message': 'ovn: Add note about current state of Octavia LBaaS\n\nDepends-On: I1b9704c9e040eef821cef1e4f16faa0b18dce85e\nChange-Id: I748e46f5a323c138537d25e15fe74bee89d49875\n'}, {'number': 2, 'created': '2020-02-06 13:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c1a929ec2dab64ea0cb4e79f2d258ab92af04d5b', 'message': 'ovn: Add note about current state of Octavia LBaaS\n\nChange-Id: I748e46f5a323c138537d25e15fe74bee89d49875\n'}, {'number': 3, 'created': '2020-02-07 14:30:08.000000000', 'files': ['doc/source/2002.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5e23e13ebb513143c6b67456c25f9865cc0736d8', 'message': 'Move OVN details from release notes to appendix\n\nDepends-On: I36628120a48333d77b64634394962846ecfa221f\nChange-Id: I748e46f5a323c138537d25e15fe74bee89d49875\n'}]",2,706263,5e23e13ebb513143c6b67456c25f9865cc0736d8,17,5,3,13686,,,0,"Move OVN details from release notes to appendix

Depends-On: I36628120a48333d77b64634394962846ecfa221f
Change-Id: I748e46f5a323c138537d25e15fe74bee89d49875
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/63/706263/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2002.rst'],1,3757a91f269b01d9fef458e51d111c12e5a38bb7,ovn-charm,"* Validation of LBaaS has been done, but did unfortunately not make it into the 20.02 OpenStack Charms release. Experimental support for using OVN as transport for communication between Octavia units and its Amphorae as well as support for the native OVN provider driver for Octavia is available in the development version of Octavia (cs:~openstack-charmers-next/octavia).",* Support for the Octavia OVN provider driver has not been implemented in the charms and no validation has been done with LBaaS in general.,5,2
openstack%2Ftripleo-heat-templates~master~I5fc243d4e7fbe84ed212bef22b6ffdd4169823aa,openstack/tripleo-heat-templates,master,I5fc243d4e7fbe84ed212bef22b6ffdd4169823aa,Default all roles for deployed-server to net-config-static-bridge,MERGED,2020-01-20 17:25:07.000000000,2020-02-07 21:16:23.000000000,2020-02-04 00:27:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-20 17:25:07.000000000', 'files': ['environments/deployed-server-environment.j2.yaml', 'releasenotes/notes/deployed-server-net-config-static-bridge-c15bf767d3a28759.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b3a5aa1f6d029c5d7a267d360b9419f2b9c31a4', 'message': 'Default all roles for deployed-server to net-config-static-bridge\n\nSince OVN is the default in TripleO, Compute roles need to have br-ex.\n\nHowever, when using deployed-server, the default nic config for the\nnon-Controller roles was using net-config-static.yaml, which does not\ncreate br-ex. The generate-config step then fails for the ovn container\nsince br-ex does not exist.\n\nThis patch will default all roles to net-config-static-bridge.yaml.\n\nChange-Id: I5fc243d4e7fbe84ed212bef22b6ffdd4169823aa\nCloses-Bug: #1860353\n'}]",0,703460,2b3a5aa1f6d029c5d7a267d360b9419f2b9c31a4,24,5,1,7144,,,0,"Default all roles for deployed-server to net-config-static-bridge

Since OVN is the default in TripleO, Compute roles need to have br-ex.

However, when using deployed-server, the default nic config for the
non-Controller roles was using net-config-static.yaml, which does not
create br-ex. The generate-config step then fails for the ovn container
since br-ex does not exist.

This patch will default all roles to net-config-static-bridge.yaml.

Change-Id: I5fc243d4e7fbe84ed212bef22b6ffdd4169823aa
Closes-Bug: #1860353
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/703460/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/deployed-server-environment.j2.yaml', 'releasenotes/notes/deployed-server-net-config-static-bridge-c15bf767d3a28759.yaml']",2,2b3a5aa1f6d029c5d7a267d360b9419f2b9c31a4,,"--- fixes: - All roles now default to using the net-config-static-bridge.yaml nic config when using deployed-server. Since OVN is the default in TripleO, Compute roles need to have br-ex. Previously when using deployed-server, the default nic config for the non-Controller roles was net-config-static.yaml, which did not create br-ex. ",,8,3
openstack%2Ftempest~master~If69f0456dc40b923b550bc648caaf0cb1a16e086,openstack/tempest,master,If69f0456dc40b923b550bc648caaf0cb1a16e086,compute: Add volume and placement microversion support to BaseV2ComputeTest,MERGED,2020-01-15 11:09:25.000000000,2020-02-07 21:06:52.000000000,2020-02-07 21:05:18.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-15 11:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/714ec6f61528ba2359012b00c91a9e06926824be', 'message': 'compute: Add volume and placement microversion support to BaseV2ComputeTest\n\nAllowing BaseV2ComputeTest based test classes to specify\nvolume|placement_min_microversion and volume|placement_max_microversion.\n\nChange-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086\n'}, {'number': 2, 'created': '2020-01-15 12:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9434d121b7d37460cdde2c5b690f1bc41894120e', 'message': 'compute: Add volume and placement microversion support to BaseV2ComputeTest\n\nAllowing BaseV2ComputeTest based test classes to specify\nvolume|placement_min_microversion and volume|placement_max_microversion.\n\nChange-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086\n'}, {'number': 3, 'created': '2020-01-16 13:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2e3eedebb0112549a310abb6ae61ec80effe19b', 'message': 'compute: Add volume and placement microversion support to BaseV2ComputeTest\n\nAllowing BaseV2ComputeTest based test classes to specify\nvolume|placement_min_microversion and volume|placement_max_microversion.\n\nChange-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086\n'}, {'number': 4, 'created': '2020-01-28 20:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/78d510e7c79d27edbd721295951dd6a7b330c84b', 'message': 'compute: Add volume and placement microversion support to BaseV2ComputeTest\n\nAllowing BaseV2ComputeTest based test classes to specify\nvolume|placement_min_microversion and volume|placement_max_microversion.\n\nChange-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086\n'}, {'number': 5, 'created': '2020-02-03 16:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7f88b5c9970b7bade6fb0dba87abcbf1495009e', 'message': 'compute: Add volume and placement microversion support to BaseV2ComputeTest\n\nAllowing BaseV2ComputeTest based test classes to specify\nvolume|placement_min_microversion and volume|placement_max_microversion.\n\nChange-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086\n'}, {'number': 6, 'created': '2020-02-07 11:19:34.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/lib/common/api_version_utils.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4b95d4b14f1863ad39bbd4b08b6a9df279be372a', 'message': 'compute: Add volume and placement microversion support to BaseV2ComputeTest\n\nAllowing BaseV2ComputeTest based test classes to specify\nvolume|placement_min_microversion and volume|placement_max_microversion.\n\nChange-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086\n'}]",2,702647,4b95d4b14f1863ad39bbd4b08b6a9df279be372a,37,5,6,10135,,,0,"compute: Add volume and placement microversion support to BaseV2ComputeTest

Allowing BaseV2ComputeTest based test classes to specify
volume|placement_min_microversion and volume|placement_max_microversion.

Change-Id: If69f0456dc40b923b550bc648caaf0cb1a16e086
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/702647/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,714ec6f61528ba2359012b00c91a9e06926824be,service_specific_microversions,"LATEST_MICROVERSION = 'latest' min_microversion = None max_microversion = LATEST_MICROVERSION volume_min_microversion = None volume_max_microversion = LATEST_MICROVERSION placement_min_microversion = None placement_max_microversion = LATEST_MICROVERSION api_version_utils.check_skip_with_microversion( cls.min_microversion, cls.max_microversion, CONF.compute.min_microversion, CONF.compute.max_microversion) api_version_utils.check_skip_with_microversion( cls.volume_min_microversion, cls.volume_max_microversion, CONF.volume.min_microversion, CONF.volume.max_microversion) api_version_utils.check_skip_with_microversion( cls.placement_min_microversion, cls.placement_max_microversion, CONF.placement.min_microversion, CONF.placement.max_microversion) cls.volume_request_microversion = ( api_version_utils.select_request_microversion( cls.volume_min_microversion, CONF.volume.min_microversion)) cls.placement_request_microversion = ( api_version_utils.select_request_microversion( cls.placement_min_microversion, CONF.placement.min_microversion)) compute_microversion=self.request_microversion, volume_microversion=self.volume_request_microversion, placement_microversion=self.placement_request_microversion))"," cfg_min_version = CONF.compute.min_microversion cfg_max_version = CONF.compute.max_microversion api_version_utils.check_skip_with_microversion(cls.min_microversion, cls.max_microversion, cfg_min_version, cfg_max_version) compute_microversion=self.request_microversion))",29,7
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic615dd45d8feec3806d5012685e4860d2361b95d,openstack/tripleo-ansible,stable/train,Ic615dd45d8feec3806d5012685e4860d2361b95d,tripleo-container-manage: show podman commands that are executed,MERGED,2020-02-06 18:39:58.000000000,2020-02-07 21:06:04.000000000,2020-02-07 21:06:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 18:39:58.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e99fe77e63bfbc07fb10b73f65f9c609a72360b', 'message': 'tripleo-container-manage: show podman commands that are executed\n\nThis patch will display the podman commands that are executed for debug\npurpose, when check is enabled.\nFor each container, it\'ll show the command and also at the very end of\nthe playbook run, we display ALL commands that were run.\n\nIt\'s replacing the ""paunch debug print-cmd"" feature that we had with\npaunch.\n\nNote: it\'s disabling async on podman_container module because async +\ncheck don\'t work together.\n\nstory: 2006732\ntask: 37310\n\nChange-Id: Ic615dd45d8feec3806d5012685e4860d2361b95d\n(cherry picked from commit ad818d540b7b4c3d7bb05d69b516dfcf9a8211eb)\n'}]",0,706356,7e99fe77e63bfbc07fb10b73f65f9c609a72360b,7,3,1,3153,,,0,"tripleo-container-manage: show podman commands that are executed

This patch will display the podman commands that are executed for debug
purpose, when check is enabled.
For each container, it'll show the command and also at the very end of
the playbook run, we display ALL commands that were run.

It's replacing the ""paunch debug print-cmd"" feature that we had with
paunch.

Note: it's disabling async on podman_container module because async +
check don't work together.

story: 2006732
task: 37310

Change-Id: Ic615dd45d8feec3806d5012685e4860d2361b95d
(cherry picked from commit ad818d540b7b4c3d7bb05d69b516dfcf9a8211eb)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/706356/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",3,7e99fe77e63bfbc07fb10b73f65f9c609a72360b,43," async: ""{{ (not ansible_check_mode | bool) | ternary('60', omit) }}"" poll: ""{{ (not ansible_check_mode | bool) | ternary('0', omit) }}"" - name: Block for container commands when: - ansible_check_mode|bool block: - name: ""Create a list of podman exec commands that are run"" set_fact: containers_commands: >- {{ (containers_commands | default([])) + ([lookup('dict', container_exec_data).value | container_exec_cmd(cli=tripleo_container_manage_cli) | join(' ')]) }} loop: ""{{ batched_container_data | haskey(attribute='action', value='exec') }}"" loop_control: loop_var: container_exec_data - name: ""Print the list of podman exec commands that are run"" debug: var: containers_commands - name: ""Append the list of all podman commands that are run for containers with changes"" set_fact: all_containers_commands: ""{{ containers_commands + (all_containers_commands | default([]) | list) }}""", async: 60 poll: 0,44,8
openstack%2Fcastellan~master~I9a01313d3d1d95726372d5d5f2ac8ab5c3cd13dc,openstack/castellan,master,I9a01313d3d1d95726372d5d5f2ac8ab5c3cd13dc,Fix coverage tests,MERGED,2020-02-07 14:58:40.000000000,2020-02-07 21:04:17.000000000,2020-02-07 21:01:31.000000000,"[{'_account_id': 6928}, {'_account_id': 7973}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 14:58:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/castellan/commit/1d06f31f9797f2f069505fa6a6e0be1da4ea81ae', 'message': 'Fix coverage tests\n\nCoverage tests seems to be broken on a fresh clone of castellan.\nCopying the coverage config from Oslo.Config repo.\n\nChange-Id: I9a01313d3d1d95726372d5d5f2ac8ab5c3cd13dc\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n'}]",0,706537,1d06f31f9797f2f069505fa6a6e0be1da4ea81ae,8,7,1,27954,,,0,"Fix coverage tests

Coverage tests seems to be broken on a fresh clone of castellan.
Copying the coverage config from Oslo.Config repo.

Change-Id: I9a01313d3d1d95726372d5d5f2ac8ab5c3cd13dc
Signed-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/castellan refs/changes/37/706537/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1d06f31f9797f2f069505fa6a6e0be1da4ea81ae,fix_cover, PYTHON=coverage run --source castellan --parallel-mode coverage erase {[testenv]commands} coverage report --show-missing, PYTHON=coverage run --source $project --parallel-mode stestr run {posargs} coverage report,4,3
openstack%2Fcharm-deployment-guide~master~I36628120a48333d77b64634394962846ecfa221f,openstack/charm-deployment-guide,master,I36628120a48333d77b64634394962846ecfa221f,Move OVN details from release notes to appendix,MERGED,2020-02-07 14:29:49.000000000,2020-02-07 20:58:24.000000000,2020-02-07 19:24:16.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-07 14:29:49.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c62c07331a3691910988cd05819133ac20a79424', 'message': 'Move OVN details from release notes to appendix\n\nChange-Id: I36628120a48333d77b64634394962846ecfa221f\nNeeded-By: I748e46f5a323c138537d25e15fe74bee89d49875\n'}]",0,706523,c62c07331a3691910988cd05819133ac20a79424,12,4,1,13686,,,0,"Move OVN details from release notes to appendix

Change-Id: I36628120a48333d77b64634394962846ecfa221f
Needed-By: I748e46f5a323c138537d25e15fe74bee89d49875
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/23/706523/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,c62c07331a3691910988cd05819133ac20a79424,ovn-charm," State of OVN Charm development ++++++++++++++++++++++++++++++ One of the main drivers for this enablement work is the prospect of being able to hardware-offload everything. This is possible due to how OVN programs everything in Open vSwitch with OpenFlow rules. This in turn provides a uniform way of programming the hardware forwarding tables of supported NICs. Another driver for it is upstream Neutron changes and during the Ussuri cycle the upstream Neutron project will switch to promote ML2+OVN as its default reference implementation, replacing the traditional ML2+OVS and ML2+OVS+DVR implementations. See the `Toward Convergence of ML2+OVS+DVR and OVN`_ Neutron specification for more information. Hardware-offloading is a prerequisite for effective handling of workloads with high bandwidth consumption. OVN also provides a more flexible way of configuring external Layer3 networking as OVN does not require every node (``Chassis`` in OVN terminology) in a deployment to have direct external connectivity. This plays nicely with Layer3-only datacenter fabrics (RFC 7938). East/West traffic is distributed by default. North/South traffic is highly available by default. Liveness detection is done using the Bidirectional Forwarding Detection (BFD) protocol. Known feature gaps at this point in time: * Validation of LBaaS has been done, but did unfortunately not make it into the 20.02 OpenStack Charms release. Experimental support for using OVN as transport for communication between Octavia units and its Amphorae as well as support for the native OVN provider driver for Octavia is available in the development version of Octavia (cs:~openstack-charmers-next/octavia). * No validation has been done with DPDK, SR-IOV or hardware-offloading in the charms. * Only limited validation has been done with other Neutron extensions, and it may be possible to configure unsupported combinations of features with undefined results. * There is an unresolved issue with security groups rules that reference remote security groups. Please remove any such rules while testing. Example of how you could reset your default security group rules: .. code:: bash PROJECT_ID=$(openstack project list -f value -c ID \ --domain admin_domain) SECGRP_ID=$(openstack security group list --project $PROJECT_ID \ | awk '/default/{print$2}') openstack security group rule delete \ $(openstack security group rule list $SECGRP_ID| awk '/IPv./{print$2}') openstack security group rule create --egress --protocol any \ --ethertype IPv4 $SECGRP_ID openstack security group rule create --egress --protocol any \ --ethertype IPv6 $SECGRP_ID openstack security group rule create --ingress --protocol any \ --ethertype IPv4 $SECGRP_ID --remote-ip YOUR_IPV4_LAB_NETWORK_CIDR openstack security group rule create --ingress --protocol any \ --ethertype IPv6 $SECGRP_ID --remote-ip YOUR_IPV6_LAB_NETWORK_CIDR .. LINKS .. _Toward Convergence of ML2+OVS+DVR and OVN: http://specs.openstack.org/openstack/neutron-specs/specs/ussuri/ml2ovs-ovn-convergence.html",,66,0
openstack%2Ftripleo-validations~master~I4fea9095f02b6e71caf5c61125579413f5663523,openstack/tripleo-validations,master,I4fea9095f02b6e71caf5c61125579413f5663523,Delete healthcheck-service-status role,MERGED,2020-01-24 09:36:51.000000000,2020-02-07 20:48:13.000000000,2020-02-07 20:48:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-24 09:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0e39a3a7e3a9df41c76eaef9e1c743884b593d6d', 'message': ""Delete healthcheck-service-status role\n\nTHT is calling this role as an inflight validation. So to get rid of a\nchicken-and-egg problem between tht and validations, this role has been\nkept until THT and tripleo-validations changes get merged.\n\nIf you read this message, it's time to erase it!\n\nDepends-On: I62014508358a83166f2c1d2838fde037f3645d20\nChange-Id: I4fea9095f02b6e71caf5c61125579413f5663523\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2020-01-26 16:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5d070ff3efe34f2fdc61e7ef8aa78d34e63a3d82', 'message': ""Delete healthcheck-service-status role\n\nTHT is calling this role as an inflight validation. So to get rid of a\nchicken-and-egg problem between tht and validations, this role has been\nkept until THT and tripleo-validations changes get merged.\n\nIf you read this message, it's time to erase it!\n\nDepends-On: I62014508358a83166f2c1d2838fde037f3645d20\nChange-Id: I4fea9095f02b6e71caf5c61125579413f5663523\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2020-01-29 16:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f157ebc057384d0d6c1c97952db4348d6bfdced7', 'message': ""Delete healthcheck-service-status role\n\nTHT is calling this role as an inflight validation. So to get rid of a\nchicken-and-egg problem between tht and validations, this role has been\nkept until THT and tripleo-validations changes get merged.\n\nIf you read this message, it's time to erase it!\n\nDepends-On: I62014508358a83166f2c1d2838fde037f3645d20\nChange-Id: I4fea9095f02b6e71caf5c61125579413f5663523\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2020-01-30 11:06:15.000000000', 'files': ['roles/healthcheck-service-status/vars/main.yml', 'roles/healthcheck-service-status/defaults/main.yml', 'roles/healthcheck-service-status/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f325b4a38c1ea1ba6ddc1d0ac8a1d42975cdaff2', 'message': ""Delete healthcheck-service-status role\n\nTHT is calling this role as an inflight validation. So to get rid of a\nchicken-and-egg problem between tht and validations, this role has been\nkept until THT and tripleo-validations changes get merged.\n\nIf you read this message, it's time to erase it!\n\nDepends-On: I62014508358a83166f2c1d2838fde037f3645d20\nChange-Id: I4fea9095f02b6e71caf5c61125579413f5663523\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,704117,f325b4a38c1ea1ba6ddc1d0ac8a1d42975cdaff2,21,6,4,11491,,,0,"Delete healthcheck-service-status role

THT is calling this role as an inflight validation. So to get rid of a
chicken-and-egg problem between tht and validations, this role has been
kept until THT and tripleo-validations changes get merged.

If you read this message, it's time to erase it!

Depends-On: I62014508358a83166f2c1d2838fde037f3645d20
Change-Id: I4fea9095f02b6e71caf5c61125579413f5663523
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/17/704117/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/healthcheck-service-status/defaults/main.yml', 'roles/healthcheck-service-status/vars/main.yml', 'roles/healthcheck-service-status/tasks/main.yml']",3,0e39a3a7e3a9df41c76eaef9e1c743884b593d6d,ansible-lint_roles-name,,"--- - name: Get the healthcheck services list enabled on node shell: > systemctl list-unit-files | grep ""^tripleo.*healthcheck.*enabled"" | awk -F'.' '{print $1}' changed_when: false register: healthcheck_services_list when: inflight_healthcheck_services | length < 1 - name: Set hc_services set_fact: hc_services: > {%- if inflight_healthcheck_services | length > 0 -%} {{ inflight_healthcheck_services }} {%- else -%} {{ healthcheck_services_list.stdout_lines }} {%- endif -%} - name: ""[Healthcheck] Get {{ item }} status"" systemd: name: ""{{ item }}"" retries: ""{{ retries_number|int }}"" delay: ""{{ delay_number|int }}"" until: - systemd_healthcheck_state.status.ExecMainPID != '0' - systemd_healthcheck_state.status.ActiveState in ['inactive', 'failed'] ignore_errors: true register: systemd_healthcheck_state with_items: ""{{ hc_services }}"" - name: Fail if systemd healthcheck services are in failed status fail: msg: ""Failed systemd healthcheck service detected: {{ item.item }}"" when: item.status.ExecMainStatus != '0' loop: ""{{ systemd_healthcheck_state.results }}"" ",0,49
openstack%2Frequirements~master~Ic02fa10334738ebfca6733131834b7b25973af8a,openstack/requirements,master,Ic02fa10334738ebfca6733131834b7b25973af8a,update constraint for automaton to new release 2.0.0,MERGED,2020-02-07 13:25:01.000000000,2020-02-07 20:16:59.000000000,2020-02-07 20:13:05.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 13:25:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/88ca5a17334c3d6c85491f0a48b268e5e0954a79', 'message': 'update constraint for automaton to new release 2.0.0\n\nChange-Id: Ic02fa10334738ebfca6733131834b7b25973af8a\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I18f2bcffdaa9d57d5287f1d28d7fce24d3320c3b\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706498,88ca5a17334c3d6c85491f0a48b268e5e0954a79,8,3,1,11131,,,0,"update constraint for automaton to new release 2.0.0

Change-Id: Ic02fa10334738ebfca6733131834b7b25973af8a
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I18f2bcffdaa9d57d5287f1d28d7fce24d3320c3b
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/706498/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,88ca5a17334c3d6c85491f0a48b268e5e0954a79,new-release,automaton===2.0.0,automaton===1.17.0,1,1
openstack%2Fgrenade~stable%2Frocky~I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,openstack/grenade,stable/rocky,I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,Make docs build again,ABANDONED,2020-02-07 19:14:51.000000000,2020-02-07 20:16:39.000000000,,"[{'_account_id': 14070}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 19:14:51.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/1c5c40d14b36ae62b14248d48e57adf53d9d9bc4', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nAt the same time, split the deps for the docs build out of\ntest-requirements.txt and put them in docs/requiremenst.txt as the gods\nintended.\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)\n""}]",0,706607,1c5c40d14b36ae62b14248d48e57adf53d9d9bc4,4,2,1,8556,,,0,"Make docs build again

Docs build was broken with:

TypeError: __init__() got an unexpected keyword argument 'handle_io_errors'

Upgrade sphinx requirements to those of a recent decade, and replace
the oslosphinx extension and requirement with openstackdocstheme.

At the same time, split the deps for the docs build out of
test-requirements.txt and put them in docs/requiremenst.txt as the gods
intended.

Change-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370
(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/07/706607/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,1c5c40d14b36ae62b14248d48e57adf53d9d9bc4,fix-stable-gate,deps = -r{toxinidir}/doc/requirements.txt # TODO(efried): Use sphinx-build,,7,5
openstack%2Frequirements~master~I86e27629007cd08a8e21f79815519174b6630888,openstack/requirements,master,I86e27629007cd08a8e21f79815519174b6630888,update constraint for castellan to new release 2.0.0,MERGED,2020-02-07 13:21:51.000000000,2020-02-07 20:15:19.000000000,2020-02-07 20:13:04.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 13:21:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/58f8c63aec0e03917756ee3bc9a9028ad2c812c4', 'message': 'update constraint for castellan to new release 2.0.0\n\nChange-Id: I86e27629007cd08a8e21f79815519174b6630888\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ic8cc6d6523089280a0652982161d535184c4e84f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706497,58f8c63aec0e03917756ee3bc9a9028ad2c812c4,8,3,1,11131,,,0,"update constraint for castellan to new release 2.0.0

Change-Id: I86e27629007cd08a8e21f79815519174b6630888
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ic8cc6d6523089280a0652982161d535184c4e84f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/706497/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,58f8c63aec0e03917756ee3bc9a9028ad2c812c4,new-release,castellan===2.0.0,castellan===1.4.0,1,1
openstack%2Fkayobe~stable%2Fstein~If73cebb95c7d0596dc8087112fc19398a113f0cc,openstack/kayobe,stable/stein,If73cebb95c7d0596dc8087112fc19398a113f0cc,Fix use of IPA images in Bifrost without a checksum,MERGED,2020-01-28 16:20:02.000000000,2020-02-07 20:15:14.000000000,2020-02-07 20:10:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 16:20:02.000000000', 'files': ['ansible/roles/kolla-bifrost/templates/bifrost.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6e26e6ba8db06fd9c43f2171f7c8a4681f575259', 'message': ""Fix use of IPA images in Bifrost without a checksum\n\nIronic now provides DIB-built CentOS images at\nhttps://tarballs.openstack.org/ironic-python-agent/dib/files. However,\nif Bifrost is configured to use these, then the 'kayobe seed service\ndeploy' command fails because the checksum files are not available.\n\nThis change fixes the issue by allowing\n'kolla_bifrost_ipa_kernel_checksum_url' and\n'kolla_bifrost_ipa_ramdisk_checksum_url' to be overridden to empty\nstrings, indicating that there is no checksum.\n\nVery similar to the issue fixed in https://review.opendev.org/688359 for\nthe overcloud.\n\nChange-Id: If73cebb95c7d0596dc8087112fc19398a113f0cc\nStory: 2006715\nTask: 37407\n(cherry picked from commit 170ebad1dbaff5114873990d53236e2515b1303e)\n""}]",0,704618,6e26e6ba8db06fd9c43f2171f7c8a4681f575259,10,4,1,14826,,,0,"Fix use of IPA images in Bifrost without a checksum

Ironic now provides DIB-built CentOS images at
https://tarballs.openstack.org/ironic-python-agent/dib/files. However,
if Bifrost is configured to use these, then the 'kayobe seed service
deploy' command fails because the checksum files are not available.

This change fixes the issue by allowing
'kolla_bifrost_ipa_kernel_checksum_url' and
'kolla_bifrost_ipa_ramdisk_checksum_url' to be overridden to empty
strings, indicating that there is no checksum.

Very similar to the issue fixed in https://review.opendev.org/688359 for
the overcloud.

Change-Id: If73cebb95c7d0596dc8087112fc19398a113f0cc
Story: 2006715
Task: 37407
(cherry picked from commit 170ebad1dbaff5114873990d53236e2515b1303e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/704618/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-bifrost/templates/bifrost.yml.j2'],1,6e26e6ba8db06fd9c43f2171f7c8a4681f575259,,,{% if kolla_bifrost_ipa_kernel_upstream_url %}{% endif %} {% if kolla_bifrost_ipa_kernel_checksum_url %}{% endif %} {% if kolla_bifrost_ipa_kernel_checksum_algorithm %}{% endif %} {% if kolla_bifrost_ipa_ramdisk_upstream_url %}{% endif %} {% if kolla_bifrost_ipa_ramdisk_checksum_url %}{% endif %} {% if kolla_bifrost_ipa_ramdisk_checksum_algorithm %}{% endif %},0,12
openstack%2Fgrenade~stable%2Fqueens~I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,openstack/grenade,stable/queens,I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,Make docs build again,ABANDONED,2020-02-07 19:15:22.000000000,2020-02-07 20:15:07.000000000,,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 19:15:22.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/6b8d4a3a80fc1c28baa15584fe05846beb399138', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nAt the same time, split the deps for the docs build out of\ntest-requirements.txt and put them in docs/requiremenst.txt as the gods\nintended.\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)\n""}]",0,706608,6b8d4a3a80fc1c28baa15584fe05846beb399138,6,3,1,8556,,,0,"Make docs build again

Docs build was broken with:

TypeError: __init__() got an unexpected keyword argument 'handle_io_errors'

Upgrade sphinx requirements to those of a recent decade, and replace
the oslosphinx extension and requirement with openstackdocstheme.

At the same time, split the deps for the docs build out of
test-requirements.txt and put them in docs/requiremenst.txt as the gods
intended.

Change-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370
(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/08/706608/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,6b8d4a3a80fc1c28baa15584fe05846beb399138,,deps = -r{toxinidir}/doc/requirements.txt # TODO(efried): Use sphinx-build,,7,5
openstack%2Fkayobe~stable%2Fstein~I7dff72a50f0592a3564c9d84d684db562c30626a,openstack/kayobe,stable/stein,I7dff72a50f0592a3564c9d84d684db562c30626a,Fix kayobe overcloud provision without seed in limit,MERGED,2020-01-28 16:19:24.000000000,2020-02-07 20:12:49.000000000,2020-02-07 20:10:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 16:19:24.000000000', 'files': ['ansible/kolla-bifrost-hostvars.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/08738f6c84d29135e5976431473ed4b4667309d0', 'message': ""Fix kayobe overcloud provision without seed in limit\n\nIf you run 'kayobe overcloud provision' for the first time on a system,\nand do not include the seed in the limit (e.g. --limit overcloud), then\nthe following error is seen:\n\n    Destination directory /etc/kolla/bifrost/inventory/host_vars does\n    not exist\n\nThis is because the first play in ansible/kolla-bifrost-hostvars.yml\nexecutes against the seed. This is not ideal, as the --limit argment is\nuseful with this command, as a way to provision specific nodes.\n\nThis change fixes the issue by moving the initialisation tasks to the\nsecond play which is targeted at the overcloud group. The run_once\nparameter ensures it happens once.\n\nChange-Id: I7dff72a50f0592a3564c9d84d684db562c30626a\nStory: 2006757\nTask: 37247\n(cherry picked from commit e0ff12eaef5f8eb00c4f044196bdc5650110dd07)\n""}]",0,704616,08738f6c84d29135e5976431473ed4b4667309d0,10,4,1,14826,,,0,"Fix kayobe overcloud provision without seed in limit

If you run 'kayobe overcloud provision' for the first time on a system,
and do not include the seed in the limit (e.g. --limit overcloud), then
the following error is seen:

    Destination directory /etc/kolla/bifrost/inventory/host_vars does
    not exist

This is because the first play in ansible/kolla-bifrost-hostvars.yml
executes against the seed. This is not ideal, as the --limit argment is
useful with this command, as a way to provision specific nodes.

This change fixes the issue by moving the initialisation tasks to the
second play which is targeted at the overcloud group. The run_once
parameter ensures it happens once.

Change-Id: I7dff72a50f0592a3564c9d84d684db562c30626a
Story: 2006757
Task: 37247
(cherry picked from commit e0ff12eaef5f8eb00c4f044196bdc5650110dd07)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/704616/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-bifrost-hostvars.yml'],1,08738f6c84d29135e5976431473ed4b4667309d0,," become: true # NOTE: Without this, the seed's ansible_host variable will not be # respected when using delegate_to. ansible_host: ""{{ hostvars[seed_host].ansible_host | default(seed_host) }}"" - block: - name: Ensure the Bifrost host variables directory exists file: path: ""/etc/kolla/bifrost/inventory/host_vars"" state: directory run_once: true - name: Ensure the Bifrost inventory exists file: path: ""/etc/kolla/bifrost/inventory/bifrost_inventory.py"" src: ""/bifrost/playbooks/inventory/bifrost_inventory.py"" state: link # This file should only exist within the bifrost_deploy container. force: True run_once: true - name: Ensure the Bifrost host variable files exist copy: content: | --- # This file is managed via Ansible. Do not edit. # Bifrost host variables for {{ inventory_hostname }} {{ bifrost_hostvars | to_nice_yaml }} dest: ""/etc/kolla/bifrost/inventory/host_vars/{{ inventory_hostname }}""","- name: Ensure the Bifrost overcloud inventory is initialised hosts: seed gather_facts: no tags: - kolla-bifrost-hostvars tasks: - name: Ensure the Bifrost host variables directory exists file: path: ""/etc/kolla/bifrost/inventory/host_vars"" state: directory become: True - name: Ensure the Bifrost inventory exists file: path: ""/etc/kolla/bifrost/inventory/bifrost_inventory.py"" src: ""/bifrost/playbooks/inventory/bifrost_inventory.py"" state: link # This file should only exist within the bifrost_deploy container. force: True become: True - name: Ensure the Bifrost host variable files exist copy: content: | --- # This file is managed via Ansible. Do not edit. # Bifrost host variables for {{ inventory_hostname }} {{ bifrost_hostvars | to_nice_yaml }} dest: ""/etc/kolla/bifrost/inventory/host_vars/{{ inventory_hostname }}"" vars: # NOTE: Without this, the seed's ansible_host variable will not be # respected when using delegate_to. ansible_host: ""{{ hostvars[seed_host].ansible_host | default(seed_host) }}"" become: True",28,34
openstack%2Fgrenade~stable%2Fpike~I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,openstack/grenade,stable/pike,I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,Make docs build again,ABANDONED,2020-02-07 19:23:42.000000000,2020-02-07 20:11:16.000000000,,"[{'_account_id': 14070}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 19:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/b32b21c0e413e4650a260860b63b9f3df34d5b53', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nAt the same time, split the deps for the docs build out of\ntest-requirements.txt and put them in docs/requiremenst.txt as the gods\nintended.\n\nConflicts:\n    test-requirements.txt\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)\n""}, {'number': 2, 'created': '2020-02-07 19:55:15.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/d91113d7955f1198742cd1c070910c1e261635bc', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nAt the same time, split the deps for the docs build out of\ntest-requirements.txt and put them in docs/requiremenst.txt as the gods\nintended.\n\nConflicts:\n    test-requirements.txt\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)\n""}]",1,706609,d91113d7955f1198742cd1c070910c1e261635bc,7,2,2,8556,,,0,"Make docs build again

Docs build was broken with:

TypeError: __init__() got an unexpected keyword argument 'handle_io_errors'

Upgrade sphinx requirements to those of a recent decade, and replace
the oslosphinx extension and requirement with openstackdocstheme.

At the same time, split the deps for the docs build out of
test-requirements.txt and put them in docs/requiremenst.txt as the gods
intended.

Conflicts:
    test-requirements.txt

Change-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370
(cherry picked from commit 0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/09/706609/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,b32b21c0e413e4650a260860b63b9f3df34d5b53,fix-stable-gate,deps = -r{toxinidir}/doc/requirements.txt # TODO(efried): Use sphinx-build,,8,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Id60123cdeb921879cf0b92288dc7bc3a5d4ef599,openstack/tripleo-ansible,stable/train,Id60123cdeb921879cf0b92288dc7bc3a5d4ef599,Initial documentation for tripleo-container-manage role,MERGED,2020-02-06 18:39:32.000000000,2020-02-07 19:57:11.000000000,2020-02-07 19:55:46.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 18:39:32.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf6132bf5dedf4b49989d6dde5b5d7e46f89b218', 'message': 'Initial documentation for tripleo-container-manage role\n\nChange-Id: Id60123cdeb921879cf0b92288dc7bc3a5d4ef599\n(cherry picked from commit f5139d4dccc149f09cc5b0330892a25d50f36329)\n'}]",0,706355,bf6132bf5dedf4b49989d6dde5b5d7e46f89b218,8,2,1,3153,,,0,"Initial documentation for tripleo-container-manage role

Change-Id: Id60123cdeb921879cf0b92288dc7bc3a5d4ef599
(cherry picked from commit f5139d4dccc149f09cc5b0330892a25d50f36329)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/706355/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-tripleo-container-manage.rst'],1,bf6132bf5dedf4b49989d6dde5b5d7e46f89b218,42," Usage ~~~~~ Note that right now, only Podman is supported by this role. Docker support is in the roadmap though. This Ansible role allows to do the following tasks: * Collect container configs data, generated by TripleO Heat Templates. This data is used as a source of truth on which configuration we expect to apply with this role. It means that if a container is already managed by this role, no matter its state now, the configs data will reconfigure the container if needed. * Manage systemd shutdown files. It takes care of cleaning up the Paunch services and files and create the TripleO Container systemd service, required for service ordering when it comes to shutdown or start a node. It also manages the netns-placeholder service. * Delete containers that aren't needed anymore or that will need to be re-configured. It uses a custom filter, named needs_delete() which has a set of rules which allow to determine if whether or not the container needs to be deleted. These reasons will make the containers not deleted: * The container is not managed by tripleo_ansible. * The container config_id doesn't match with the one in input. Once the previous conditions checked, then these reasons will make the containers deleted: * The container has no config_data. * The container has a config_data which doesn't match the one in input. Note that when a container is removed, the role also disable and remove the systemd services and healtchecks if present. * Create containers in a specific order defined by start_order container config, where default is 0. * If the container is an exec, we'll run a dedicated playbook for execs, using async so multiple execs can be run at the same time. * Otherwise, the `podman_container`_ is used, in async, to create the containers. If the container has a `restart` policy, we'll configure the systemd service. If the container has a `healthcheck` script, we'll configure the systemd healthcheck service. Note: `tripleo_container_manage_concurrency` parameter is set to 1 by default, and putting higher value than 2 can be expose issue with Podman locks. Here is an example of a playbook: .. code-block:: YAML - name: Manage step_1 containers using tripleo-ansible block: - name: ""Manage containers for step 1 with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_systemd_order: true tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_1"" tripleo_container_manage_config_id: ""tripleo_step1"" Roles variables ~~~~~~~~~~~~~~~ +------------------------------------------------+-----------------------------+----------------------------+ | Name | Default Value | Description | +================================================+=============================+============================+ | tripleo_container_manage_cli | podman | Container CLI | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_concurrency | 1 | Number of containers | | | | managed at same time | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_config | /var/lib/tripleo-config/ | Container config path | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_config_id | tripleo | Config ID | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_config_patterns | `hashed-*.json` | Bash REGEX to find configs | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_debug | false | Debug toggle | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_healthcheck_disable | false | Allow to disable | | | | Healthchecks | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_log_path | /var/log/containers/stdouts | Containers stdouts path | +------------------------------------------------+-----------------------------+----------------------------+ | tripleo_container_manage_systemd_order | false | Manage systemd shutdown | | | | ordering | +------------------------------------------------+-----------------------------+----------------------------+ Check mode ~~~~~~~~~~ If Ansible is in check mode, no container will be removed nor created, however at the end of the playbook a list of commands will be displayed to show what would have been run. This is useful for debug purposes, as it was something that one could do with `paunch debug` command. Example with one container ~~~~~~~~~~~~~~~~~~~~~~~~~~ To manage a single container, you need to know 2 things: * At which step the container is deployed. * The name of the generated JSON file for container config. Here is an example of a playbook to manage HAproxy container at step 1: .. code-block:: YAML - name: Manage step_1 containers using tripleo-ansible block: - name: ""Manage HAproxy container at step 1 with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_systemd_order: true tripleo_container_manage_config_patterns: 'hashed-haproxy.json' tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_1"" tripleo_container_manage_config_id: ""tripleo_step1"" .. _podman_container: https://docs.openstack.org/tripleo-ansible/latest/modules/modules-podman_container.html",,134,0
openstack%2Ftripleo-ansible~master~I4d43192d75e68eb83c1522b328d553c70ca481eb,openstack/tripleo-ansible,master,I4d43192d75e68eb83c1522b328d553c70ca481eb,Update tasks for efficiency,MERGED,2020-02-05 23:30:12.000000000,2020-02-07 19:55:46.000000000,2020-02-07 19:55:45.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 23:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65f7c4ab865793693d64c1dea409fd1bbd95afe6', 'message': ""Update tasks for efficiency\n\nThis change removes the set fact task and leverages ansible's native json parsing\nfrom stdout. This will speed up the ansible task execution.\n\nChange-Id: I4d43192d75e68eb83c1522b328d553c70ca481eb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-02-06 15:57:45.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-get-horizon-url.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d74a6793230b55232a3a5910f8b46129b654fbd', 'message': ""Update tasks for efficiency\n\nThis change removes the set fact task and leverages ansible's native json parsing\nfrom stdout. This will speed up the ansible task execution.\n\nChange-Id: I4d43192d75e68eb83c1522b328d553c70ca481eb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",2,706156,9d74a6793230b55232a3a5910f8b46129b654fbd,19,8,2,7353,,,0,"Update tasks for efficiency

This change removes the set fact task and leverages ansible's native json parsing
from stdout. This will speed up the ansible task execution.

Change-Id: I4d43192d75e68eb83c1522b328d553c70ca481eb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/706156/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-get-horizon-url.yaml'],1,65f7c4ab865793693d64c1dea409fd1bbd95afe6,mistral_to_ansible," openstack --os-cloud undercloud stack output show {{ stack_name }} EndpointMap -f json content: ""{{ stack_data_cmd.stdout.output_value.HorizonPublic.uri }}"""," openstack --os-cloud undercloud stack output show {{ stack_name }} EndpointMap -f yaml - name: Read stack data set_fact: stack_data: ""{{ stack_data_cmd.stdout | from_yaml }}"" content: ""{{ stack_data.output_value.HorizonPublic.uri }}""",2,6
openstack%2Ftripleo-ansible~master~I006291a2465aa4c950abce76f9e5f9459b76e330,openstack/tripleo-ansible,master,I006291a2465aa4c950abce76f9e5f9459b76e330,Add cli playbook to grant access to a given path,MERGED,2020-02-04 18:19:18.000000000,2020-02-07 19:47:02.000000000,2020-02-07 19:47:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-04 18:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6978ce3ccec8b57710b033280fa47a3f3137514e', 'message': 'Add cli playbook to grant access to a given path\n\nThis change will provide a means to grant access to a directory for a given\nuser via ACLs.\n\nTask: 38422\nStory: 2007212\n\nChange-Id: I006291a2465aa4c950abce76f9e5f9459b76e330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 00:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c98f516712b17f3a1f68effa7526a1acd30a9f6d', 'message': 'Add cli playbook to grant access to a given path\n\nThis change will provide a means to grant access to a directory for a given\nuser via ACLs.\n\nTask: 38422\nStory: 2007212\n\nChange-Id: I006291a2465aa4c950abce76f9e5f9459b76e330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-05 01:32:46.000000000', 'files': ['tripleo_ansible/playbooks/cli-grant-local-access.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ec397d1be94cb7cc11d20eba64a9bd232852dab', 'message': 'Add cli playbook to grant access to a given path\n\nThis change will provide a means to grant access to a directory for a given\nuser via ACLs.\n\nTask: 38422\nStory: 2007212\n\nChange-Id: I006291a2465aa4c950abce76f9e5f9459b76e330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,705791,5ec397d1be94cb7cc11d20eba64a9bd232852dab,34,7,3,7353,,,0,"Add cli playbook to grant access to a given path

This change will provide a means to grant access to a directory for a given
user via ACLs.

Task: 38422
Story: 2007212

Change-Id: I006291a2465aa4c950abce76f9e5f9459b76e330
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/705791/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-grant-local-access.yaml'],1,6978ce3ccec8b57710b033280fa47a3f3137514e,mistral_to_ansible,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Playbook for granting a given user local access connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true become: true pre_tasks: - name: Check for required inputs fail: msg: > Input missing `{{ item }}` when: - hostvars[inventory_hostname][item] is undefined loop: - access_path - execution_user tasks: - name: Ensure access path exists file: path: ""{{ access_path }}"" state: directory user: 42430 # Used to ensure mistral has access, remove this when mistral is gone. group: 42430 # Used to ensure mistral has access, remove this when mistral is gone. register: access_path - name: Grant privileges to the execution user acl: path: ""{{ access_path }}"" entry: ""default:user:{{ execution_user }}:rwx"" state: present recursive: true ",,47,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4538b58334af80cb2c9bd1233e122e3f73e7988c,openstack/tripleo-heat-templates,stable/train,I4538b58334af80cb2c9bd1233e122e3f73e7988c,Move globals into main level 0 case,ABANDONED,2020-02-05 12:15:32.000000000,2020-02-07 19:43:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 12:15:32.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32c0cf18c7f68a110768ed66d0296c583b761b63', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)\n'}]",0,705943,32c0cf18c7f68a110768ed66d0296c583b761b63,5,4,1,6816,,,0,"Move globals into main level 0 case

This change moves all of the global content into a main
case, which, in a follow on review, will allow us to
futher refactor the content into better documented
methods, ansible modules, etc.

Change-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/705943/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,32c0cf18c7f68a110768ed66d0296c583b761b63,deconstruct/container-puppet-stable/train,"if __name__ == '__main__': PUPPETS = ( '/usr/share/openstack-puppet/modules/:' '/usr/share/openstack-puppet/modules/:ro' ) SH_SCRIPT = '/var/lib/container-puppet/container-puppet.sh' CONTAINER_CLI = os.environ.get('CONTAINER_CLI', 'podman') CONTAINER_LOG_STDOUT_PATH = os.environ.get( 'CONTAINER_LOG_STDOUT_PATH', '/var/log/containers/stdouts' ) CLI_CMD = '/usr/bin/' + CONTAINER_CLI LOG = get_logger() LOG.info('Running container-puppet') CONFIG_VOLUME_PREFIX = os.path.abspath( os.environ.get( 'CONFIG_VOLUME_PREFIX', '/var/lib/config-data' ) ) CHECK_MODE = int(os.environ.get('CHECK_MODE', 0)) LOG.debug('CHECK_MODE: %s' % CHECK_MODE) if CONTAINER_CLI == 'docker': CLI_DCMD = ['--volume', PUPPETS] ENV = {} RUNNER = containers_runner.DockerRunner( 'container-puppet', cont_cmd='docker', log=LOG ) elif CONTAINER_CLI == 'podman': # podman doesn't allow relabeling content in /usr and # doesn't support named volumes CLI_DCMD = [ '--security-opt', 'label=disable', '--volume', PUPPETS ] # podman need to find dependent binaries that are in environment ENV = {'PATH': os.environ['PATH']} RUNNER = containers_runner.PodmanRunner( 'container-puppet', cont_cmd='podman', log=LOG ) else: LOG.error('Invalid CONTAINER_CLI: %s' % CONTAINER_CLI) raise SystemExit() config_file = os.environ.get( 'CONFIG', '/var/lib/container-puppet/container-puppet.json' ) LOG.debug('CONFIG: %s' % config_file) # If specified, only this config_volume will be used CONFIG_VOLUME_ONLY = os.environ.get('CONFIG_VOLUME', None) with open(config_file) as f: JSON_DATA = json.load(f) # To save time we support configuring 'shared' services at the same # time. For example configuring all of the heat services # in a single container pass makes sense and will save some time. # To support this we merge shared settings together here. # # We key off of config_volume as this should be the same for a # given group of services. We are also now specifying the container # in which the services should be configured. This should match # in all instances where the volume name is also the same. CONFIGS = {} for service in (JSON_DATA or []): if service is None: continue if isinstance(service, dict): service = [ service.get('config_volume'), service.get('puppet_tags'), service.get('step_config'), service.get('config_image'), service.get('volumes', []), service.get('privileged', False), ] CONFIG_VOLUME = service[0] or '' PUPPET_TAGS = service[1] or '' MANIFEST = service[2] or '' CONFIG_IMAGE = service[3] or '' VOLUMES = service[4] if len(service) > 4 else [] if not MANIFEST or not CONFIG_IMAGE: continue LOG.debug('config_volume %s' % CONFIG_VOLUME) LOG.debug('puppet_tags %s' % PUPPET_TAGS) LOG.debug('manifest %s' % MANIFEST) LOG.debug('config_image %s' % CONFIG_IMAGE) LOG.debug('volumes %s' % VOLUMES) LOG.debug('privileged %s' % service[5] if len(service) > 5 else False) # We key off of config volume for all configs. if CONFIG_VOLUME in CONFIGS: # Append puppet tags and manifest. LOG.debug(""Existing service, appending puppet tags and manifest"") if PUPPET_TAGS: CONFIGS[CONFIG_VOLUME][1] = '%s,%s' % ( CONFIGS[CONFIG_VOLUME][1], PUPPET_TAGS ) if MANIFEST: CONFIGS[CONFIG_VOLUME][2] = '%s\n%s' % ( CONFIGS[CONFIG_VOLUME][2], MANIFEST ) if CONFIGS[CONFIG_VOLUME][3] != CONFIG_IMAGE: LOG.warning(""Config containers do not match even though"" "" shared volumes are the same!"") if VOLUMES: CONFIGS[CONFIG_VOLUME][4].extend(VOLUMES) else: if not CONFIG_VOLUME_ONLY or (CONFIG_VOLUME_ONLY == CONFIG_VOLUME): LOG.debug(""Adding new service"") CONFIGS[CONFIG_VOLUME] = service else: LOG.debug( ""Ignoring %s due to $CONFIG_VOLUME=%s"" % ( CONFIG_VOLUME, CONFIG_VOLUME_ONLY ) ) LOG.info('Service compilation completed.') # Holds all the information for each process to consume. # Instead of starting them all linearly we run them using a process # pool. This creates a list of arguments for the above function # to consume. PROCESS_MAP = [] for config_volume in CONFIGS: SERVICE = CONFIGS[config_volume] PUPPET_TAGS = SERVICE[1] or '' if PUPPET_TAGS: PUPPET_TAGS = ""file,file_line,concat,augeas,cron,%s"" % PUPPET_TAGS else: PUPPET_TAGS = ""file,file_line,concat,augeas,cron"" PROCESS_ITEM = [ config_volume, PUPPET_TAGS, SERVICE[2] or '', SERVICE[3] or '', SERVICE[4] if len(SERVICE) > 4 else [], SERVICE[5] if len(SERVICE) > 5 else False, CHECK_MODE, SERVICE[6] if len(SERVICE) > 6 else False ] PROCESS_MAP.append(PROCESS_ITEM) LOG.debug('- %s' % PROCESS_ITEM) # Fire off processes to perform each configuration. Defaults # to the number of CPUs on the system. PROCESS = multiprocessing.Pool(int(os.environ.get('PROCESS_COUNT', 2))) RETURNCODES = list(PROCESS.map(mp_puppet_config, PROCESS_MAP)) CONFIG_VOLUMES = [pm[0] for pm in PROCESS_MAP] SUCCESS = True for returncode, config_volume in zip(RETURNCODES, CONFIG_VOLUMES): if returncode not in [0, 2]: LOG.error('ERROR configuring %s' % config_volume) SUCCESS = False # Update the startup configs with the config hash we generated above STARTUP_CONFIGS = os.environ.get( 'STARTUP_CONFIG_PATTERN', '/var/lib/tripleo-config/docker-container-startup-config-step_*.json' ) LOG.debug('STARTUP_CONFIG_PATTERN: %s' % STARTUP_CONFIGS) # Run infile processing infile_processing(infiles=glob.glob(STARTUP_CONFIGS)) if not SUCCESS: raise SystemExit()","PUPPETS = ( '/usr/share/openstack-puppet/modules/:' '/usr/share/openstack-puppet/modules/:ro' ) SH_SCRIPT = '/var/lib/container-puppet/container-puppet.sh' CONTAINER_CLI = os.environ.get('CONTAINER_CLI', 'podman') CONTAINER_LOG_STDOUT_PATH = os.environ.get( 'CONTAINER_LOG_STDOUT_PATH', '/var/log/containers/stdouts' ) CLI_CMD = '/usr/bin/' + CONTAINER_CLI LOG = get_logger() LOG.info('Running container-puppet') CONFIG_VOLUME_PREFIX = os.path.abspath( os.environ.get( 'CONFIG_VOLUME_PREFIX', '/var/lib/config-data' ) ) CHECK_MODE = int(os.environ.get('CHECK_MODE', 0)) LOG.debug('CHECK_MODE: %s' % CHECK_MODE) if CONTAINER_CLI == 'docker': CLI_DCMD = ['--volume', PUPPETS] ENV = {} RUNNER = containers_runner.DockerRunner( 'container-puppet', cont_cmd='docker', log=LOG ) elif CONTAINER_CLI == 'podman': # podman doesn't allow relabeling content in /usr and # doesn't support named volumes CLI_DCMD = [ '--security-opt', 'label=disable', '--volume', PUPPETS ] # podman need to find dependent binaries that are in environment ENV = {'PATH': os.environ['PATH']} RUNNER = containers_runner.PodmanRunner( 'container-puppet', cont_cmd='podman', log=LOG ) else: LOG.error('Invalid CONTAINER_CLI: %s' % CONTAINER_CLI) raise SystemExit() config_file = os.environ.get( 'CONFIG', '/var/lib/container-puppet/container-puppet.json' ) LOG.debug('CONFIG: %s' % config_file) # If specified, only this config_volume will be used CONFIG_VOLUME_ONLY = os.environ.get('CONFIG_VOLUME', None) with open(config_file) as f: JSON_DATA = json.load(f) # To save time we support configuring 'shared' services at the same # time. For example configuring all of the heat services # in a single container pass makes sense and will save some time. # To support this we merge shared settings together here. # # We key off of config_volume as this should be the same for a # given group of services. We are also now specifying the container # in which the services should be configured. This should match # in all instances where the volume name is also the same. CONFIGS = {} for service in (JSON_DATA or []): if service is None: continue if isinstance(service, dict): service = [ service.get('config_volume'), service.get('puppet_tags'), service.get('step_config'), service.get('config_image'), service.get('volumes', []), service.get('privileged', False), service.get('keep_container', False), ] CONFIG_VOLUME = service[0] or '' PUPPET_TAGS = service[1] or '' MANIFEST = service[2] or '' CONFIG_IMAGE = service[3] or '' VOLUMES = service[4] if len(service) > 4 else [] if not MANIFEST or not CONFIG_IMAGE: continue LOG.debug('config_volume %s' % CONFIG_VOLUME) LOG.debug('puppet_tags %s' % PUPPET_TAGS) LOG.debug('manifest %s' % MANIFEST) LOG.debug('config_image %s' % CONFIG_IMAGE) LOG.debug('volumes %s' % VOLUMES) LOG.debug('privileged %s' % service[5] if len(service) > 5 else False) LOG.debug('keep_container %s' % service[6] if len(service) > 6 else False) # We key off of config volume for all configs. if CONFIG_VOLUME in CONFIGS: # Append puppet tags and manifest. LOG.debug(""Existing service, appending puppet tags and manifest"") if PUPPET_TAGS: CONFIGS[CONFIG_VOLUME][1] = '%s,%s' % (CONFIGS[CONFIG_VOLUME][1], PUPPET_TAGS) if MANIFEST: CONFIGS[CONFIG_VOLUME][2] = '%s\n%s' % (CONFIGS[CONFIG_VOLUME][2], MANIFEST) if CONFIGS[CONFIG_VOLUME][3] != CONFIG_IMAGE: LOG.warning(""Config containers do not match even though"" "" shared volumes are the same!"") if VOLUMES: CONFIGS[CONFIG_VOLUME][4].extend(VOLUMES) else: if not CONFIG_VOLUME_ONLY or (CONFIG_VOLUME_ONLY == CONFIG_VOLUME): LOG.debug(""Adding new service"") CONFIGS[CONFIG_VOLUME] = service else: LOG.debug( ""Ignoring %s due to $CONFIG_VOLUME=%s"" % ( CONFIG_VOLUME, CONFIG_VOLUME_ONLY ) ) LOG.info('Service compilation completed.') # Holds all the information for each process to consume. # Instead of starting them all linearly we run them using a process # pool. This creates a list of arguments for the above function # to consume. PROCESS_MAP = [] for config_volume in CONFIGS: SERVICE = CONFIGS[config_volume] PUPPET_TAGS = SERVICE[1] or '' if PUPPET_TAGS: PUPPET_TAGS = ""file,file_line,concat,augeas,cron,%s"" % PUPPET_TAGS else: PUPPET_TAGS = ""file,file_line,concat,augeas,cron"" PROCESS_ITEM = [ config_volume, PUPPET_TAGS, SERVICE[2] or '', SERVICE[3] or '', SERVICE[4] if len(SERVICE) > 4 else [], SERVICE[5] if len(SERVICE) > 5 else False, CHECK_MODE, SERVICE[6] if len(SERVICE) > 6 else False ] PROCESS_MAP.append(PROCESS_ITEM) LOG.debug('- %s' % PROCESS_ITEM) # Fire off processes to perform each configuration. Defaults # to the number of CPUs on the system. PROCESS = multiprocessing.Pool(int(os.environ.get('PROCESS_COUNT', 2))) RETURNCODES = list(PROCESS.map(mp_puppet_config, PROCESS_MAP)) CONFIG_VOLUMES = [pm[0] for pm in PROCESS_MAP] SUCCESS = True for returncode, config_volume in zip(RETURNCODES, CONFIG_VOLUMES): if returncode not in [0, 2]: LOG.error('ERROR configuring %s' % config_volume) SUCCESS = False # Update the startup configs with the config hash we generated above STARTUP_CONFIGS = os.environ.get( 'STARTUP_CONFIG_PATTERN', '/var/lib/tripleo-config/docker-container-startup-config-step_*.json' ) LOG.debug('STARTUP_CONFIG_PATTERN: %s' % STARTUP_CONFIGS) # Run infile processing infile_processing(infiles=glob.glob(STARTUP_CONFIGS)) if not SUCCESS: raise SystemExit()",177,179
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0531fdb2e9c07767dbd11919cefc8e7f8ff59262,openstack/tripleo-heat-templates,stable/train,I0531fdb2e9c07767dbd11919cefc8e7f8ff59262,Convert subprocess to a reusable method,ABANDONED,2020-02-05 12:15:32.000000000,2020-02-07 19:43:40.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 12:15:32.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b97ac710c7f5c9cde3f3ae10d82a5e24b58a630', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)\n'}]",0,705942,3b97ac710c7f5c9cde3f3ae10d82a5e24b58a630,5,4,1,6816,,,0,"Convert subprocess to a reusable method

We were calling subprocess numerous times throught this script
using mostly copy and paste code. This change updates the
script to use a reusable method.

Change-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/705942/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,3b97ac710c7f5c9cde3f3ae10d82a5e24b58a630,deconstruct/container-puppet-stable/train,"def local_subprocess_call(cmd, env=None): """"""General run method for subprocess calls. :param cmd: list returns: tuple """""" subproc = subprocess.Popen( cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True, env=env ) stdout, stderr = subproc.communicate() return stdout, stderr, subproc.returncode _, _, rc = local_subprocess_call(cmd=[CLI_CMD, 'inspect', name]) if rc == 0: stdout, stderr, retval = local_subprocess_call( cmd=[CLI_CMD, 'pull', name] ) LOG.warning('%s pull failed: %s' % (CONTAINER_CLI, stderr)) if stdout: LOG.debug(stdout) if stderr: LOG.debug(stderr) stdout, stderr, retval = local_subprocess_call( cmd=[CLI_CMD, 'diff', name] ) if stdout: LOG.debug(stdout) if stderr: LOG.debug(stderr) stdout, stderr, retval = local_subprocess_call( cmd=rm_cli_cmd ) if stdout: LOG.debug(stdout) if stderr and 'Error response from daemon' in stderr: LOG.debug(stderr) stdout, stderr, retval = local_subprocess_call( cmd=common_dcmd, env=ENV if stdout: LOG.debug('%s run succeeded: %s' % (common_dcmd, stdout)) if stderr: LOG.warning(stderr) stderr, if stdout: LOG.debug(stdout) if stderr: LOG.debug(stderr)"," subproc = subprocess.Popen([CLI_CMD, 'inspect', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() retval = subproc.returncode if retval == 0: subproc = subprocess.Popen([CLI_CMD, 'pull', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() retval = subproc.returncode LOG.warning('%s pull failed: %s' % (CONTAINER_CLI, cmd_stderr)) if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr: LOG.debug(cmd_stderr) subproc = subprocess.Popen([CLI_CMD, 'diff', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr: LOG.debug(cmd_stderr) subproc = subprocess.Popen(rm_cli_cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr and 'Error response from daemon' in cmd_stderr: LOG.debug(cmd_stderr) subproc = subprocess.Popen( common_dcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, env=ENV, universal_newlines=True cmd_stdout, cmd_stderr = subproc.communicate() retval = subproc.returncode if cmd_stdout: LOG.debug('%s run succeeded: %s' % (common_dcmd, cmd_stdout)) if cmd_stderr: LOG.warning(cmd_stderr) cmd_stderr, if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr: LOG.debug(cmd_stderr)",53,55
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I280a28a9400161a8f38ac72eae71f0df1f13b1b2,openstack/tripleo-heat-templates,stable/train,I280a28a9400161a8f38ac72eae71f0df1f13b1b2,Move basic global functions into ansible tasks,ABANDONED,2020-02-05 12:15:32.000000000,2020-02-07 19:43:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-05 12:15:32.000000000', 'files': ['common/container-puppet.py', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6f2841ea50e747d0445627c39293e786f284309', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nConflicts were present due to re-implementations during\nbackporting of:\n- https://review.opendev.org/696120\n- https://review.opendev.org/698622\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)\n""}]",0,705941,d6f2841ea50e747d0445627c39293e786f284309,9,6,1,6816,,,0,"Move basic global functions into ansible tasks

Basic global functions have been moved out of the container-puppet
script and into ansible tasks. While this change should not have
any notable performance improvements, it continues the ongoing
effort to deconstruct / refactor the container puppet process so
that it is more managable, and maintainable.

In order to make the code more legible all of the pep8 vilolations
have been resolved. While the pep8 fixes are mostly cosmetic,
they're being done so, myself, and others, can better underand
what all is going on so we can work better future solutions.

This change consolodates all file options into a single task. By
consolodating we're reduce the number of tasks being run which
improves reliability and performance.

Conflicts were present due to re-implementations during
backporting of:
- https://review.opendev.org/696120
- https://review.opendev.org/698622

Change-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/705941/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/container-puppet.py', 'common/deploy-steps-tasks.yaml']",2,d6f2841ea50e747d0445627c39293e786f284309,deconstruct/container-puppet-stable/train," PROCESS_COUNT: ""{{ docker_puppet_process_count }}"" SHORT_HOSTNAME: ""{{ ansible_hostname }}"" SHORT_HOSTNAME: ""{{ ansible_hostname }}"" PROCESS_COUNT: ""{{ docker_puppet_process_count }}""", PROCESS_COUNT: '{{ docker_puppet_process_count }}',366,278
openstack%2Fkayobe~stable%2Fstein~Id8cf5f8e50af438e2d8f0077225c38175e38b662,openstack/kayobe,stable/stein,Id8cf5f8e50af438e2d8f0077225c38175e38b662,Allow Kayobe to wipe virtualized disks,MERGED,2020-01-28 16:17:17.000000000,2020-02-07 19:41:03.000000000,2020-02-07 19:37:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 16:17:17.000000000', 'files': ['ansible/roles/wipe-disks/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/57a6d42c100d2aa6006bfdfe707da700d24ab3f6', 'message': 'Allow Kayobe to wipe virtualized disks\n\nChange-Id: Id8cf5f8e50af438e2d8f0077225c38175e38b662\nStory: 2002046\nTask: 19692\n(cherry picked from commit ea7fd93692a92b3958136673c79f0c2b54bd8fc7)\n'}]",0,704612,57a6d42c100d2aa6006bfdfe707da700d24ab3f6,10,4,1,14826,,,0,"Allow Kayobe to wipe virtualized disks

Change-Id: Id8cf5f8e50af438e2d8f0077225c38175e38b662
Story: 2002046
Task: 19692
(cherry picked from commit ea7fd93692a92b3958136673c79f0c2b54bd8fc7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/12/704612/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/wipe-disks/tasks/main.yml'],1,57a6d42c100d2aa6006bfdfe707da700d24ab3f6,wipe-vd-disks-stable/stein," '/^ *[|`]-/ && NF > 1 { mounts[master_dev] = mounts[master_dev] $2 "" "" } /^(nvme|sd|vd)/ && NF == 1 { master_dev = $1; mounts[master_dev] = """" } END { for (dev in mounts) if (mounts[dev] == """") print dev }'"," '/^ *[|`]-/ && NF > 1 { mounts[master_dev] = mounts[master_dev] $2 "" "" } /^(nvme|sd)/ && NF == 1 { master_dev = $1; mounts[master_dev] = """" } END { for (dev in mounts) if (mounts[dev] == """") print dev }'",3,3
openstack%2Fkayobe~stable%2Fstein~Ib95771f09fd6d5e71a2af471de47f811e1cab88b,openstack/kayobe,stable/stein,Ib95771f09fd6d5e71a2af471de47f811e1cab88b,Use mariabackup for database backups,MERGED,2020-01-28 16:22:57.000000000,2020-02-07 19:39:30.000000000,2020-02-07 19:37:23.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 16:22:57.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/backup.my.cnf.j2', 'etc/kayobe/kolla.yml', 'releasenotes/notes/mariabackup-9370d55279c1aa78.yaml', 'doc/source/configuration/kolla-ansible.rst', 'doc/source/administration/overcloud.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/93f1aaab4c08ca8b303bc03500a8b1d4f276dbba', 'message': 'Use mariabackup for database backups\n\nKolla ansible switched its database backup support to mariabackup from\nxtrabackup due to incompatibilities. See\nhttps://bugs.launchpad.net/kolla/+bug/1843043 for details.\n\nChange-Id: Ib95771f09fd6d5e71a2af471de47f811e1cab88b\nRelated-Bug: #1843043\nStory: 2006952\nTask: 37634\n(cherry picked from commit e93bbd9ed568e98507c792244df58672ab3d84ef)\n'}]",0,704624,93f1aaab4c08ca8b303bc03500a8b1d4f276dbba,10,4,1,14826,,,0,"Use mariabackup for database backups

Kolla ansible switched its database backup support to mariabackup from
xtrabackup due to incompatibilities. See
https://bugs.launchpad.net/kolla/+bug/1843043 for details.

Change-Id: Ib95771f09fd6d5e71a2af471de47f811e1cab88b
Related-Bug: #1843043
Story: 2006952
Task: 37634
(cherry picked from commit e93bbd9ed568e98507c792244df58672ab3d84ef)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/704624/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/backup.my.cnf.j2', 'etc/kayobe/kolla.yml', 'releasenotes/notes/mariabackup-9370d55279c1aa78.yaml', 'doc/source/configuration/kolla-ansible.rst', 'doc/source/administration/overcloud.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml']",11,93f1aaab4c08ca8b303bc03500a8b1d4f276dbba,bug/1843043-stable/stein," - { name: mariabackup, file: backup.my.cnf } kolla_extra_mariabackup: ""{{ kolla_extra_config.mariabackup | default }}"""," - { name: xtrabackup, file: backup.my.cnf } kolla_extra_xtrabackup: ""{{ kolla_extra_config.xtrabackup | default }}""",34,27
openstack%2Fkayobe~stable%2Fstein~I5dccd7d8eab8d46ef5e8cd97a601510a3d8db177,openstack/kayobe,stable/stein,I5dccd7d8eab8d46ef5e8cd97a601510a3d8db177,Don't list tasks for config dump,MERGED,2020-01-28 16:16:42.000000000,2020-02-07 19:37:27.000000000,2020-02-07 19:37:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 16:16:42.000000000', 'files': ['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/716a8c7e5b4a19e967bbacf08f43b26f6a6b833a', 'message': ""Don't list tasks for config dump\n\nkayobe executed with --list-tasks often fails due to passing this\nargument through to the config dump, which causes it to not generate the\nrequired dump file.\n\nIgnore list-tasks for configuration dump.\n\nChange-Id: I5dccd7d8eab8d46ef5e8cd97a601510a3d8db177\nStory: 2006530\nTask: 36584\n(cherry picked from commit 844202d226c9d2ed64c18e7d1b36de131021b4b5)\n""}]",0,704609,716a8c7e5b4a19e967bbacf08f43b26f6a6b833a,9,4,1,14826,,,0,"Don't list tasks for config dump

kayobe executed with --list-tasks often fails due to passing this
argument through to the config dump, which causes it to not generate the
required dump file.

Ignore list-tasks for configuration dump.

Change-Id: I5dccd7d8eab8d46ef5e8cd97a601510a3d8db177
Story: 2006530
Task: 36584
(cherry picked from commit 844202d226c9d2ed64c18e7d1b36de131021b4b5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/09/704609/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py']",2,716a8c7e5b4a19e967bbacf08f43b26f6a6b833a,," def test_run_playbooks_list_tasks_arg(self, mock_validate, mock_vars, mock_run): mock_vars.return_value = [] parser = argparse.ArgumentParser() ansible.add_args(parser) vault.add_args(parser) args = [ ""--list-tasks"", ] parsed_args = parser.parse_args(args) kwargs = { ""list_tasks"": False } ansible.run_playbooks(parsed_args, [""playbook1.yml"", ""playbook2.yml""], **kwargs) expected_cmd = [ ""ansible-playbook"", ""--inventory"", ""/etc/kayobe/inventory"", ""playbook1.yml"", ""playbook2.yml"", ] expected_env = {""KAYOBE_CONFIG_PATH"": ""/etc/kayobe""} mock_run.assert_called_once_with(expected_cmd, check_output=False, quiet=False, env=expected_env) mock_vars.assert_called_once_with(""/etc/kayobe"") @mock.patch.object(utils, ""run_command"") @mock.patch.object(ansible, ""_get_vars_files"") @mock.patch.object(ansible, ""_validate_args"") verbose_level=None, check=False, list_tasks=False)"," verbose_level=None, check=False)",39,8
openstack%2Ftripleo-heat-templates~master~Ib821cfc95e4349b681c08ac86ad97b742c933983,openstack/tripleo-heat-templates,master,Ib821cfc95e4349b681c08ac86ad97b742c933983,container-puppet.sh: add -r to rm command,MERGED,2020-02-03 15:03:47.000000000,2020-02-07 19:30:54.000000000,2020-02-07 17:43:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-03 15:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3870f42b4aa109e311c5dd74348709e21e1e96e2', 'message': 'container-puppet.sh: add -r to rm command\n\nWhen purging config files, it can happen that we try to remove a\ndirectory. Example for the ironic_pxe container:\n\n  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory\n\nSo just add -r to the rm command, so the purge can finish.\n\nChange-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983\n'}, {'number': 2, 'created': '2020-02-03 15:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9d9f9785e8b6333ba98030750609a9aa97b2ff4', 'message': 'container-puppet.sh: add -r to rm command\n\nWhen purging config files, it can happen that we try to remove a\ndirectory. Example for the ironic_pxe container:\n\n  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory\n\nSo just add -r to the rm command, so the purge can finish.\n\nChange-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983\n'}, {'number': 3, 'created': '2020-02-03 20:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18f6105f7fef4567776219cdc9cd9ac6d080f11f', 'message': 'container-puppet.sh: add -r to rm command\n\nWhen purging config files, it can happen that we try to remove a\ndirectory. Example for the ironic_pxe container:\n\n  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory\n\nSo just add -r to the rm command, so the purge can finish.\n\nChange-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983\n'}, {'number': 4, 'created': '2020-02-04 18:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df207f00e59d0435bcf241b1768cd6efe24b23a2', 'message': 'container-puppet.sh: add -r to rm command\n\nWhen purging config files, it can happen that we try to remove a\ndirectory. Example for the ironic_pxe container:\n\n  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory\n\nSo just add -r to the rm command, so the purge can finish.\n\nDepends-On: https://review.opendev.org/#/c/705757/\nChange-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983\n'}, {'number': 5, 'created': '2020-02-06 18:06:49.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60f043378ed083a391a29421ddeb98bf68f1351a', 'message': 'container-puppet.sh: add -r to rm command\n\nWhen purging config files, it can happen that we try to remove a\ndirectory. Example for the ironic_pxe container:\n\n  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory\n\nSo just add -r to the rm command, so the purge can finish.\n\nDepends-On: https://review.opendev.org/#/c/705757/\nChange-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983\n'}]",0,705456,60f043378ed083a391a29421ddeb98bf68f1351a,28,6,5,3153,,,0,"container-puppet.sh: add -r to rm command

When purging config files, it can happen that we try to remove a
directory. Example for the ironic_pxe container:

  rm: cannot remove /var/lib/config-data/puppet-generated/ironic/etc/my.cnf.d/: Is a directory

So just add -r to the rm command, so the purge can finish.

Depends-On: https://review.opendev.org/#/c/705757/
Change-Id: Ib821cfc95e4349b681c08ac86ad97b742c933983
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/705456/4 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,3870f42b4aa109e311c5dd74348709e21e1e96e2,rm," bash -c ""rm -rf ${puppet_generated_path}/{}"""," bash -c ""rm -f ${puppet_generated_path}/{}""",1,1
openstack%2Fkayobe~stable%2Fstein~Ia2c7c151aca75aadc1efc406383b3966d77d4b9e,openstack/kayobe,stable/stein,Ia2c7c151aca75aadc1efc406383b3966d77d4b9e,Stop running kolla-target-venv in seed hypervisor host upgrade,MERGED,2020-01-28 16:18:42.000000000,2020-02-07 19:30:47.000000000,2020-02-07 19:26:47.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 16:18:42.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8009d970bc4c7b8651c80cb142a27e30b3164415', 'message': ""Stop running kolla-target-venv in seed hypervisor host upgrade\n\nWe don't run kolla-target-venv during `seed hypervisor host configure`.\nThis playbook is limited to seed:overcloud anyway.\n\nChange-Id: Ia2c7c151aca75aadc1efc406383b3966d77d4b9e\n(cherry picked from commit 0b0b921a62f82bbb50bc06dbe05880e57d364028)\n""}]",0,704614,8009d970bc4c7b8651c80cb142a27e30b3164415,10,4,1,14826,,,0,"Stop running kolla-target-venv in seed hypervisor host upgrade

We don't run kolla-target-venv during `seed hypervisor host configure`.
This playbook is limited to seed:overcloud anyway.

Change-Id: Ia2c7c151aca75aadc1efc406383b3966d77d4b9e
(cherry picked from commit 0b0b921a62f82bbb50bc06dbe05880e57d364028)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/704614/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py']",2,8009d970bc4c7b8651c80cb142a27e30b3164415,seed-hypervisor-kolla-venv-stable/stein," playbooks = _build_playbook_list(""kayobe-target-venv"")"," playbooks = _build_playbook_list( ""kayobe-target-venv"", ""kolla-target-venv"")",1,4
openstack%2Fkayobe~stable%2Fstein~Ifa766d2cc3ed7077f03c571398072ad5117701c6,openstack/kayobe,stable/stein,Ifa766d2cc3ed7077f03c571398072ad5117701c6,Use internal API endpoints in overcloud API interaction,MERGED,2020-01-28 16:21:12.000000000,2020-02-07 19:28:14.000000000,2020-02-07 19:26:44.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 31243}]","[{'number': 1, 'created': '2020-01-28 16:21:12.000000000', 'files': ['ansible/roles/ipa-images/tasks/set-driver-info.yml', 'ansible/roles/ipa-images/defaults/main.yml', 'ansible/group_vars/all/openstack', 'releasenotes/notes/fix-post-config-public-eb72f3a692a2be6b.yaml', 'ansible/overcloud-ipa-images.yml', 'ansible/roles/ipa-images/tasks/main.yml', 'ansible/roles/ironic-inspector-rules/defaults/main.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/provision-net.yml', 'ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'requirements.yml', 'ansible/baremetal-compute-manage.yml', 'ansible/roles/ironic-inspector-rules/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4a1a6543b65ae70e3237c1183a7c94e8d6babdeb', 'message': ""Use internal API endpoints in overcloud API interaction\n\nConnections default to 'public' interface when attempting to run\nopenstack commands.  This breaks setups where the network hosts are\nseparate from the controllers.\n\nThis change adds an ``openstack_interface`` variable to select the\ncorrect endpoint to use, which defaults to ``internal``.\n\nCo-Authored-By: Michael Senizaiz <michael@r-hpc.com>\n\nChange-Id: Ifa766d2cc3ed7077f03c571398072ad5117701c6\nStory: 2006814\nTask: 37374\n(cherry picked from commit 84d17b055eda257395aa5fd38487382d1ac2105a)\n""}]",0,704620,4a1a6543b65ae70e3237c1183a7c94e8d6babdeb,12,5,1,14826,,,0,"Use internal API endpoints in overcloud API interaction

Connections default to 'public' interface when attempting to run
openstack commands.  This breaks setups where the network hosts are
separate from the controllers.

This change adds an ``openstack_interface`` variable to select the
correct endpoint to use, which defaults to ``internal``.

Co-Authored-By: Michael Senizaiz <michael@r-hpc.com>

Change-Id: Ifa766d2cc3ed7077f03c571398072ad5117701c6
Story: 2006814
Task: 37374
(cherry picked from commit 84d17b055eda257395aa5fd38487382d1ac2105a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/704620/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ipa-images/tasks/set-driver-info.yml', 'ansible/roles/ipa-images/defaults/main.yml', 'ansible/group_vars/all/openstack', 'releasenotes/notes/fix-post-config-public-eb72f3a692a2be6b.yaml', 'ansible/overcloud-ipa-images.yml', 'ansible/roles/ipa-images/tasks/main.yml', 'ansible/roles/ironic-inspector-rules/defaults/main.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/provision-net.yml', 'ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'requirements.yml', 'ansible/baremetal-compute-manage.yml', 'ansible/roles/ironic-inspector-rules/tasks/main.yml']",16,4a1a6543b65ae70e3237c1183a7c94e8d6babdeb,story/2006814-stable/stein," interface: ""{{ ironic_inspector_interface | default(omit, true) }}""",,33,2
openstack%2Fopenstack-helm-infra~master~I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967,openstack/openstack-helm-infra,master,I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967,Add audit audit Mariadb user for audit purposes,ABANDONED,2019-08-29 15:49:36.000000000,2020-02-07 19:27:25.000000000,,"[{'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 17591}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-08-29 15:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82787404652b2101b673b0ada08eed4b243443a0', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/679280/1\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 2, 'created': '2019-08-29 16:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4c240349f1fc6b879f23d243e463c466e40a526', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/679280/1\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 3, 'created': '2019-08-29 17:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d3e427c44a7629413ded55087eafffa305051ff', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/679280/1\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 4, 'created': '2019-12-10 17:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9653200c1b7a58438200e6b136959c7eb04eebe', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/679280/1\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 5, 'created': '2019-12-12 16:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37c129ee62762fefe0d5c7b44193de084a90f58a', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/679280/1\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 6, 'created': '2019-12-18 16:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34faba3807d9a290643d0e8c1a2c01a2c514b204', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/#/c/679280/\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 7, 'created': '2019-12-18 17:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79d964a87d24a11a785efba493a5e2bedf3a91c7', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/#/c/679280/\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 8, 'created': '2020-01-03 20:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9cec6aed705784961bcee7da1410e164035a7610', 'message': 'Add audit database user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/#/c/679280/\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 9, 'created': '2020-01-16 20:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6588ee67d6b551058b1efdf18e1d0fbcb9e36164', 'message': 'Add audit audit Mariadb user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/#/c/679280/\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}, {'number': 10, 'created': '2020-01-16 21:23:00.000000000', 'files': ['mariadb/templates/job-db-user-mysql.yaml', 'mariadb/values.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/secret-db.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46b2f69ab99f8b2f712590d7092833780f68807a', 'message': 'Add audit audit Mariadb user for audit purposes\n\n  * Add audit user to mariadb using helm-toolkit db-init method\n  * Add a job to create the audit user with SELECT only permission\n  * Add secret for the audit user\n\nDepends-On: https://review.opendev.org/#/c/679280/\nChange-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967\n'}]",15,679296,46b2f69ab99f8b2f712590d7092833780f68807a,33,8,10,28875,,,0,"Add audit audit Mariadb user for audit purposes

  * Add audit user to mariadb using helm-toolkit db-init method
  * Add a job to create the audit user with SELECT only permission
  * Add secret for the audit user

Depends-On: https://review.opendev.org/#/c/679280/
Change-Id: I8c7afbe0ba3fd300ab74f1d5c00161ebf06b9967
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/679296/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/job-db-user-mysql.yaml', 'mariadb/templates/configmap-bin.yaml', 'mariadb/values.yaml', 'mariadb/templates/secret-db.yaml']",4,82787404652b2101b673b0ada08eed4b243443a0,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_db_init }} {{- $envAll := . }} {{- range $key1, $userClass := tuple ""admin"" ""audit"" }} {{- $secretName := index $envAll.Values.secrets.oslo_db $userClass }} --- apiVersion: v1 kind: Secret metadata: name: {{ $secretName }} type: Opaque data: DB_CONNECTION: {{ tuple ""audit_db"" ""internal"" $userClass ""mysql"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" | b64enc -}} {{- end }} {{- end }} ",,98,0
openstack%2Fkayobe~stable%2Frocky~I344b1e90d34e0c8e2fb30331038b296ac89449b1,openstack/kayobe,stable/rocky,I344b1e90d34e0c8e2fb30331038b296ac89449b1,Fix multiple CI failures,MERGED,2020-01-29 10:47:27.000000000,2020-02-07 19:26:39.000000000,2020-02-07 19:26:39.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-29 10:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cbc61551cf1d315bca511e762d06b20ec83f1947', 'message': 'Use stable/rocky as version of kolla-ansible in ansible tests\n\nInstead of always checking out the master branch, use the kolla-ansible\nbranch with which this Kayobe version is meant to be used.\n\nThis is based on change I074d4b9d444649ecf956d3cd92748862e8c89a5c,\nthough we cannot use {{ openstack_branch }} which was introduced with\nStein. We hardcode stable/rocky instead.\n\nChange-Id: I344b1e90d34e0c8e2fb30331038b296ac89449b1\n'}, {'number': 2, 'created': '2020-01-29 13:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2a8a634d9b880c6a2cb5eeeb54f05a306a76acbb', 'message': 'Fix multiple CI failures\n\n1. Use stable/rocky as version of kolla-ansible in ansible tests\n\nInstead of always checking out the master branch, use the kolla-ansible\nbranch with which this Kayobe version is meant to be used.\n\nThis is based on change I074d4b9d444649ecf956d3cd92748862e8c89a5c,\nthough we cannot use {{ openstack_branch }} which was introduced with\nStein. We hardcode stable/rocky instead.\n\n2. Switch to new Docker registry mirror URL\n\nDocker removed the legacy repos (although they now appear to be\naccessible again), so kolla ansible switched to installing docker CE by\ndefault. This requires a different registry mirror URL which does not\nhave a path component.\n\nChange-Id: I344b1e90d34e0c8e2fb30331038b296ac89449b1\n'}, {'number': 3, 'created': '2020-01-29 16:11:20.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'dev/functions', 'ansible/roles/kolla-ansible/tests/test-requirements.yml', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b57ff069d27b9fac4b8bcb9a7454205fca1c63aa', 'message': ""Fix multiple CI failures\n\n1. Use stable/rocky as version of kolla-ansible in ansible tests\n\nInstead of always checking out the master branch, use the kolla-ansible\nbranch with which this Kayobe version is meant to be used.\n\nThis is based on change I074d4b9d444649ecf956d3cd92748862e8c89a5c,\nthough we cannot use {{ openstack_branch }} which was introduced with\nStein. We hardcode stable/rocky instead.\n\n2. Switch to new Docker registry mirror URL\n\nDocker removed the legacy repos (although they now appear to be\naccessible again), so kolla ansible switched to installing docker CE by\ndefault. This requires a different registry mirror URL which does not\nhave a path component.\n\n3. Fix kayobe-overcloud-centos CI job flakiness\n\nDocker CE has added a default DROP policy to the FORWARD chain.  When\nnova-compute runs on the controller, kolla ansible sets the\nnet.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to\nprocess frames forwarded across bridges.\n\nCurrently, the kayobe-overcloud-centos job is failing quite frequently\nwith timeouts when deploying bare metal compute. Experimentation with\niptables hasn't revealed why this only happens sometimes, or exactly\nwhat traffic is being blocked, but opening up the firewall does seem to\nfix the issue. We won't see this in production since control and compute\nservices are on separate hosts.\n\nThis change updates the iptables configuration used in CI to forward all\nframes on the bridge, breth1.\n\nStory: 2006534\nTask: 36590\n(cherry picked from commit 4b180502a5bcfb9cee5e0c2e267d2dbc53d4b358)\n\nChange-Id: I344b1e90d34e0c8e2fb30331038b296ac89449b1\n""}]",0,704774,b57ff069d27b9fac4b8bcb9a7454205fca1c63aa,13,4,3,15197,,,0,"Fix multiple CI failures

1. Use stable/rocky as version of kolla-ansible in ansible tests

Instead of always checking out the master branch, use the kolla-ansible
branch with which this Kayobe version is meant to be used.

This is based on change I074d4b9d444649ecf956d3cd92748862e8c89a5c,
though we cannot use {{ openstack_branch }} which was introduced with
Stein. We hardcode stable/rocky instead.

2. Switch to new Docker registry mirror URL

Docker removed the legacy repos (although they now appear to be
accessible again), so kolla ansible switched to installing docker CE by
default. This requires a different registry mirror URL which does not
have a path component.

3. Fix kayobe-overcloud-centos CI job flakiness

Docker CE has added a default DROP policy to the FORWARD chain.  When
nova-compute runs on the controller, kolla ansible sets the
net.bridge.bridge-nf-call-iptables sysctl to 1, which causes iptables to
process frames forwarded across bridges.

Currently, the kayobe-overcloud-centos job is failing quite frequently
with timeouts when deploying bare metal compute. Experimentation with
iptables hasn't revealed why this only happens sometimes, or exactly
what traffic is being blocked, but opening up the firewall does seem to
fix the issue. We won't see this in production since control and compute
services are on separate hosts.

This change updates the iptables configuration used in CI to forward all
frames on the bridge, breth1.

Story: 2006534
Task: 36590
(cherry picked from commit 4b180502a5bcfb9cee5e0c2e267d2dbc53d4b358)

Change-Id: I344b1e90d34e0c8e2fb30331038b296ac89449b1
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/74/704774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/tests/test-requirements.yml', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml']",3,cbc61551cf1d315bca511e762d06b20ec83f1947,," kolla_ansible_source_version: ""stable/rocky"""," kolla_ansible_source_version: ""master""",3,3
openstack%2Fgrenade~master~I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,openstack/grenade,master,I6f82b5c37217ca2bdcf85c1ce07293b3d1026370,Make docs build again,MERGED,2020-01-21 17:42:29.000000000,2020-02-07 19:15:22.000000000,2020-01-22 21:04:19.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-21 17:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/42449051140296d3227addcde15b9e3c334d090c', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and remove\nthe oslosphinx extension and requirement.\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n""}, {'number': 2, 'created': '2020-01-21 19:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/46ae6dfef367dbaa76f07c4f3ea59518eaa0292d', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n""}, {'number': 3, 'created': '2020-01-21 19:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/e84189861c4e431ab1cf3c23d82715a25ca8e0f2', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nAt the same time, split the deps for the docs build out of\ntest-requirements.txt and put them in docs/requiremenst.txt as the gods\nintended.\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n""}, {'number': 4, 'created': '2020-01-21 23:10:21.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca', 'message': ""Make docs build again\n\nDocs build was broken with:\n\nTypeError: __init__() got an unexpected keyword argument 'handle_io_errors'\n\nUpgrade sphinx requirements to those of a recent decade, and replace\nthe oslosphinx extension and requirement with openstackdocstheme.\n\nAt the same time, split the deps for the docs build out of\ntest-requirements.txt and put them in docs/requiremenst.txt as the gods\nintended.\n\nChange-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370\n""}]",25,703660,0d5042b0ce5b402ec023b0f6c8c226a3e02f30ca,41,6,4,14070,,,0,"Make docs build again

Docs build was broken with:

TypeError: __init__() got an unexpected keyword argument 'handle_io_errors'

Upgrade sphinx requirements to those of a recent decade, and replace
the oslosphinx extension and requirement with openstackdocstheme.

At the same time, split the deps for the docs build out of
test-requirements.txt and put them in docs/requiremenst.txt as the gods
intended.

Change-Id: I6f82b5c37217ca2bdcf85c1ce07293b3d1026370
",git fetch https://review.opendev.org/openstack/grenade refs/changes/60/703660/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py']",2,42449051140296d3227addcde15b9e3c334d090c,make-docs-build,extensions = [],extensions = [ 'oslosphinx' ],3,3
openstack%2Fopenstack-helm-infra~master~I081c0d21e12206ec2cd39f7b08e4fabbbc63b421,openstack/openstack-helm-infra,master,I081c0d21e12206ec2cd39f7b08e4fabbbc63b421,Update helm-toolkit db-init script and manifest for both mysql and postgresql,ABANDONED,2019-08-29 14:48:29.000000000,2020-02-07 19:13:55.000000000,,"[{'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 16274}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28875}]","[{'number': 1, 'created': '2019-08-29 14:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/879f1a41b5de95eb796ba58b980343768ade739d', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 2, 'created': '2019-08-29 20:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd4965b61c3d1bc52d57bcac1a83f59b1f883261', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 3, 'created': '2019-08-29 22:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d3b36499b152b91df293437f4e313ebd08f313b', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 4, 'created': '2019-09-03 16:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/974bc4cd8cb0a2f9369bf72bf4a92be1e3905631', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 5, 'created': '2019-09-03 18:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/608c60a74231da0c735471e46c10502ef58838d6', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 6, 'created': '2019-09-04 16:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c49ffc158278dafe2fcee949e849c79eaf1f869e', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 7, 'created': '2019-12-10 18:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6da58c056eed91fe9c82f75284638370f557a25f', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 8, 'created': '2019-12-12 16:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3de549af724cce629623907ced71924afa55eb34', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 9, 'created': '2019-12-17 15:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/838f9e02556f504b69a144bf534d9e446cad46ee', 'message': 'Update helm-toolkit db-init script and manifest for both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific permision on specific table\n  * Add the ability to create a postgres user with specific permision on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 10, 'created': '2019-12-17 23:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6cc014ed5c48e34adcd81ab95ec2533220e53e75', 'message': 'Update helm-toolkit db-init script and manifest\nfor both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific\n    permission on specific table\n  * Add the ability to create a postgres user with specific\n    permission on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 11, 'created': '2019-12-31 18:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a915d24fe191cb36ea3fa963232380a9a4c59f68', 'message': 'Update helm-toolkit db-init script and manifest\nfor both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific\n    permission on specific table\n  * Add the ability to create a postgres user with specific\n    permission on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 12, 'created': '2019-12-31 19:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c8f9088d51fb5dca99f19f2ce346429c4620163', 'message': 'Update helm-toolkit db-init script and manifest\nfor both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific\n    permission on specific table\n  * Add the ability to create a postgres user with specific\n    permission on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 13, 'created': '2020-01-16 21:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf144816c0383d04b8c3d5d26ec6b20a508ee92a', 'message': 'Update helm-toolkit db-init script and manifest\nfor both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific\n    permission on specific table\n  * Add the ability to create a postgres user with specific\n    permission on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}, {'number': 14, 'created': '2020-01-24 15:44:24.000000000', 'files': ['helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/scripts/_db-pg-init.sh.tpl', 'helm-toolkit/templates/scripts/_db-init.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d1df36d5e056ea1f44296fa011b209205b5017c', 'message': 'Update helm-toolkit db-init script and manifest\nfor both mysql and postgresql\n\n  * Add the ability to create a mysql user with specific\n    permission on specific table\n  * Add the ability to create a postgres user with specific\n    permission on specific table\n\nChange-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421\n'}]",19,679280,7d1df36d5e056ea1f44296fa011b209205b5017c,42,8,14,28875,,,0,"Update helm-toolkit db-init script and manifest
for both mysql and postgresql

  * Add the ability to create a mysql user with specific
    permission on specific table
  * Add the ability to create a postgres user with specific
    permission on specific table

Change-Id: I081c0d21e12206ec2cd39f7b08e4fabbbc63b421
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/679280/13 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/templates/scripts/_db-pg-init.sh.tpl', 'helm-toolkit/templates/scripts/_db-init.py.tpl']",3,879f1a41b5de95eb796ba58b980343768ade739d,,"if ""DB_USER_PERMISSIONS"" in os.environ: user_permissions = os.environ['DB_USER_PERMISSIONS'] else: user_permissions = 'ALL' if ""DB_TABLE"" in os.environ: table = os.environ['DB_TABLE'] else: table = ""*"" ""GRANT {0} ON `{1}`.{2} TO \'{3}\'@\'%%\' IDENTIFIED BY \'{4}\'"".format( user_permissions, database, table, user, password))"," ""GRANT ALL ON `{0}`.* TO \'{1}\'@\'%%\' IDENTIFIED BY \'{2}\'"".format( database, user, password))",44,18
openstack%2Fkolla~master~Idca0f983451fb67527f4917642de510dbf9af921,openstack/kolla,master,Idca0f983451fb67527f4917642de510dbf9af921,CentOS 8: Add deploy jobs in CI,MERGED,2020-02-05 12:51:53.000000000,2020-02-07 18:40:10.000000000,2020-02-07 18:36:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-05 12:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef38df0b1574294202852078bdc6959f88fe9eac', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds the following deploy jobs, defined in kolla-ansible, to the CI\ncheck pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n\nThe following job is not yet passing:\n\n- kolla-ansible-centos8-source-bifrost\n\nAlso adds the following deploy job to the CI gate pipeline:\n\n- kolla-ansible-centos8-source\n\nPartially-Implements: blueprint centos-rhel-8\n\nDepends-On: https://review.opendev.org/693544/\n\nChange-Id: Idca0f983451fb67527f4917642de510dbf9af921\n'}, {'number': 2, 'created': '2020-02-06 11:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cad6ebdc894ca7282f6b6f3cdaedb4e9e6a9e850', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds the following deploy jobs, defined in kolla-ansible, to the CI\ncheck pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n\nThe following job is not yet passing:\n\n- kolla-ansible-centos8-source-bifrost\n\nAlso adds the following deploy job to the CI gate pipeline:\n\n- kolla-ansible-centos8-source\n\nPartially-Implements: blueprint centos-rhel-8\n\nDepends-On: https://review.opendev.org/693544/\n\nChange-Id: Idca0f983451fb67527f4917642de510dbf9af921\n'}, {'number': 3, 'created': '2020-02-06 19:53:09.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/018f69bc7177403bb7c9d644bc4dbf96bc2915e2', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds the following deploy jobs, defined in kolla-ansible, to the CI\ncheck pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n\nThe following job is not yet passing:\n\n- kolla-ansible-centos8-source-bifrost\n\nAlso adds the following deploy job to the CI gate pipeline:\n\n- kolla-ansible-centos8-source\n\nPartially-Implements: blueprint centos-rhel-8\n\nDepends-On: https://review.opendev.org/693544/\n\nChange-Id: Idca0f983451fb67527f4917642de510dbf9af921\n'}]",0,705952,018f69bc7177403bb7c9d644bc4dbf96bc2915e2,27,4,3,14826,,,0,"CentOS 8: Add deploy jobs in CI

Adds the following deploy jobs, defined in kolla-ansible, to the CI
check pipeline:

- kolla-ansible-centos8-source
- kolla-ansible-centos8-binary
- kolla-ansible-centos8-source-cinder-lvm
- kolla-ansible-centos8-source-scenario-nfv
- kolla-ansible-centos8-source-ironic

The following job is not yet passing:

- kolla-ansible-centos8-source-bifrost

Also adds the following deploy job to the CI gate pipeline:

- kolla-ansible-centos8-source

Partially-Implements: blueprint centos-rhel-8

Depends-On: https://review.opendev.org/693544/

Change-Id: Idca0f983451fb67527f4917642de510dbf9af921
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/705952/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,ef38df0b1574294202852078bdc6959f88fe9eac,bp/centos-rhel-8, - kolla-ansible-centos8-source - kolla-ansible-centos8-binary # FIXME(mgoddard): Bifrost deploy jobs not yet passing. # - kolla-ansible-centos8-source-bifrost: # files: ^docker\/(base|bifrost|openstack-base)\/.* - kolla-ansible-centos8-source-cinder-lvm: files: ^docker\/(base|cinder|iscsid|openstack-base)\/.* - kolla-ansible-centos8-source-scenario-nfv: files: ^docker\/(base|barbican|heat|mistral|openstack-base|redis|tacker)\/.* - kolla-ansible-centos8-source-ironic: files: ^docker\/(base|dnsmasq|ironic|ironic-inspector|iscsid|openstack-base)\/.* - kolla-ansible-centos8-source,,12,0
openstack%2Ftripleo-operator-ansible~master~I36a1e845180d6a026a2c69389d9f4b790272b422,openstack/tripleo-operator-ansible,master,I36a1e845180d6a026a2c69389d9f4b790272b422,WIP: molecule bits,ABANDONED,2020-01-17 23:16:06.000000000,2020-02-07 18:35:55.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-17 23:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2ba029324684bb49ac79db3a2cde75c393d37833', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 2, 'created': '2020-01-20 18:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f64866d9c6200196b0027ed7cef525ac0573b3ba', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 3, 'created': '2020-01-20 22:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f9f77a53388cde4419e5b2341961bfd53ae8d5e9', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 4, 'created': '2020-01-20 23:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/bb6ae613902aa0eab19beece54f14e0436b5908b', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 5, 'created': '2020-01-20 23:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d24c0cf05bb10713446e03dda55486164211db6d', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 6, 'created': '2020-01-21 17:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/6da21de149a2e333f1cb899c8f20c78ee7ef9a1f', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 7, 'created': '2020-01-21 18:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9edfff07e91a8368b5514053e5d390481f9bcd49', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}, {'number': 8, 'created': '2020-01-21 18:02:16.000000000', 'files': ['roles/test_molecule_prep/templates/openstack.j2', 'roles/test_molecule_prep/tests/test.yml', 'roles/test_molecule_prep/molecule/default/tests/test_default.py', 'roles/test_molecule_prep/defaults/main.yml', 'roles/tripleo_undercloud_install/molecule/default/Dockerfile.j2', 'roles/test_molecule_prep/molecule/default/INSTALL.rst', 'roles/tripleo_undercloud_install/molecule/default/tests/test_default.py', 'roles/test_molecule_prep/molecule/default/Dockerfile.j2', 'roles/tripleo_undercloud_install/molecule/default/m.yml', 'roles/tripleo_undercloud_install/molecule/default/playbook.yml', 'roles/test_molecule_prep/molecule/default/playbook.yml', 'roles/tripleo_undercloud_install/molecule/default/molecule.yml', 'roles/tripleo_undercloud_install/tasks/main.yml', 'roles/test_molecule_prep/molecule/default/molecule.yml', 'roles/test_molecule_prep/meta/main.yml', 'roles/tripleo_undercloud_install/molecule/default/prepare.yml', 'roles/test_molecule_prep/tasks/main.yml', 'roles/test_molecule_prep/tests/inventory', 'zuul.d/layout.yaml', 'roles/test_molecule_prep/README.md', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d6d2c03a87b5e89a30275cdc36b3cef845e47ace', 'message': 'WIP: molecule bits\n\nChange-Id: I36a1e845180d6a026a2c69389d9f4b790272b422\n'}]",2,703206,d6d2c03a87b5e89a30275cdc36b3cef845e47ace,16,6,8,14985,,,0,"WIP: molecule bits

Change-Id: I36a1e845180d6a026a2c69389d9f4b790272b422
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/06/703206/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/test-molecule-prep/molecule/default/INSTALL.rst', 'roles/test-molecule-prep/templates/openstack.j2', 'roles/tripleo-undercloud-install/molecule/default/tests/test_default.py', 'roles/test-molecule-prep/meta/main.yml', 'roles/test-molecule-prep/molecule/default/playbook.yml', 'roles/test-molecule-prep/molecule/default/Dockerfile.j2', 'roles/tripleo-undercloud-install/molecule/default/playbook.yml', 'roles/tripleo-undercloud-install/tasks/main.yml', 'roles/test-molecule-prep/molecule/default/molecule.yml', 'roles/tripleo-undercloud-install/molecule/default/molecule.yml', 'roles/test-molecule-prep/tests/inventory', 'roles/test-molecule-prep/tasks/main.yml', 'roles/test-molecule-prep/README.md', 'roles/test-molecule-prep/tests/test.yml', 'roles/tripleo-undercloud-install/molecule/default/prepare.yml', 'roles/test-molecule-prep/defaults/main.yml', 'roles/tripleo-undercloud-install/molecule/default/Dockerfile.j2', 'roles/test-molecule-prep/molecule/default/tests/test_default.py']",18,2ba029324684bb49ac79db3a2cde75c393d37833,rename-roles,import os import testinfra.utils.ansible_runner testinfra_hosts = testinfra.utils.ansible_runner.AnsibleRunner( os.environ['MOLECULE_INVENTORY_FILE'] ).get_hosts('all') def test_hosts_file(host): f = host.file('/etc/hosts') assert f.exists assert f.user == 'root' assert f.group == 'root' ,,273,0
openstack%2Fansible-role-collect-logs~master~Ica6b57932b288dae547b4e78e297665d083d8825,openstack/ansible-role-collect-logs,master,Ica6b57932b288dae547b4e78e297665d083d8825,Bump molecule version,ABANDONED,2020-02-06 12:57:49.000000000,2020-02-07 18:16:42.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5c8af8fbece73979c74b7153cf8147f7d673876e', 'message': 'remove lint options from molecule job\n\nWe rely on tox-linters to perform linting, no need to do it in molecule.\n\nChange-Id: Ica6b57932b288dae547b4e78e297665d083d8825\n'}, {'number': 2, 'created': '2020-02-06 21:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/8b294efd24e3ac329953100b48e7b51d1e4054ae', 'message': 'Bump molecule version\n\n- Use latest version of molecule\n- Remove lint config as we do it using tox-linters\n- Adopts newer converge playbook name to avoid deprecation warning\n\nChange-Id: Ica6b57932b288dae547b4e78e297665d083d8825\n'}, {'number': 3, 'created': '2020-02-07 08:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2db1015f44c6de61e749ec577bef90231efe621e', 'message': 'Bump molecule version\n\n- Use latest version of molecule\n- Remove lint config as we do it using tox-linters\n- Adopts newer converge playbook name to avoid deprecation warning\n\nChange-Id: Ica6b57932b288dae547b4e78e297665d083d8825\n'}, {'number': 4, 'created': '2020-02-07 09:38:19.000000000', 'files': ['molecule/sova/prepare.yml', 'molecule/default/converge.yml', 'molecule/sova/molecule.yml', 'molecule/infrared/converge.yml', 'molecule/sova/converge.yml', 'molecule/default/molecule.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/92b7029013ed8d1625d6157a37fa42491ac18156', 'message': 'Bump molecule version\n\n- Use latest version of molecule\n- Remove lint config as we do it using tox-linters\n- Adopts newer converge playbook name to avoid deprecation warning\n\nChange-Id: Ica6b57932b288dae547b4e78e297665d083d8825\n'}]",0,706260,92b7029013ed8d1625d6157a37fa42491ac18156,16,4,4,24162,,,0,"Bump molecule version

- Use latest version of molecule
- Remove lint config as we do it using tox-linters
- Adopts newer converge playbook name to avoid deprecation warning

Change-Id: Ica6b57932b288dae547b4e78e297665d083d8825
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/60/706260/4 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/sova/molecule.yml', 'molecule/default/molecule.yml']",2,5c8af8fbece73979c74b7153cf8147f7d673876e,fix/unlint,,lint: enabled: false lint: name: ansible-lint enabled: false,0,9
openstack%2Fneutron-tempest-plugin~master~Ic8fd860fa7ad6b5401297254e56a796c98bb037a,openstack/neutron-tempest-plugin,master,Ic8fd860fa7ad6b5401297254e56a796c98bb037a,Change the default multicast group range,MERGED,2020-02-05 11:26:28.000000000,2020-02-07 17:54:04.000000000,2020-02-07 17:54:04.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-02-05 11:26:28.000000000', 'files': ['neutron_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1d30f6120a6c17da7059a63d136b9b58a796992d', 'message': 'Change the default multicast group range\n\nThe 224.0.0.X range is a special range in multicast which acts like a\nbroadcast for non-IGMP traffic.\n\nThis patch changes the value of the multicast_group_range configuration\noption to 225.0.0.X to avoid this special case.\n\nSee session ""2.1.2.  Data Forwarding Rules"" at\nhttps://tools.ietf.org/html/rfc4541 for more information:\n\n   2) Packets with a destination IP (DIP) address in the 224.0.0.X range\n         which are not IGMP must be forwarded on all ports.\n\nChange-Id: Ic8fd860fa7ad6b5401297254e56a796c98bb037a\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,705932,1d30f6120a6c17da7059a63d136b9b58a796992d,13,4,1,6773,,,0,"Change the default multicast group range

The 224.0.0.X range is a special range in multicast which acts like a
broadcast for non-IGMP traffic.

This patch changes the value of the multicast_group_range configuration
option to 225.0.0.X to avoid this special case.

See session ""2.1.2.  Data Forwarding Rules"" at
https://tools.ietf.org/html/rfc4541 for more information:

   2) Packets with a destination IP (DIP) address in the 224.0.0.X range
         which are not IGMP must be forwarded on all ports.

Change-Id: Ic8fd860fa7ad6b5401297254e56a796c98bb037a
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/32/705932/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/config.py'],1,1d30f6120a6c17da7059a63d136b9b58a796992d,multicast-change-range," default='225.0.0.120-225.0.0.250',"," default='224.0.0.120-224.0.0.250',",1,1
openstack%2Fpython-tripleoclient~master~Idc18c245dc9debcf5236170e0aa99277e58d68a3,openstack/python-tripleoclient,master,Idc18c245dc9debcf5236170e0aa99277e58d68a3,Remove mistral from the set_deployment_status* workflows,MERGED,2020-02-05 21:27:20.000000000,2020-02-07 17:49:09.000000000,2020-02-07 17:44:36.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 21:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c541fbc6fda7af6c6f2db97862cd3f54e9990a19', 'message': 'Remove mistral from the set_deployment_status* workflows\n\nThis change removes the mistral workflows from our set_deployment_status\nfunction, which called three different mistral workflows.\n\n- set_deployment_status_success\n- set_deployment_status_failed\n- set_deployment_status_deploying\n\nTask: 38660\nStory: 2007212\n\nChange-Id: Idc18c245dc9debcf5236170e0aa99277e58d68a3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 21:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e81a7ab2c9caa29507ede64dd8693b9f005e240', 'message': 'Remove mistral from the set_deployment_status* workflows\n\nThis change removes the mistral workflows from our set_deployment_status\nfunction, which called three different mistral workflows.\n\n- set_deployment_status_success\n- set_deployment_status_failed\n- set_deployment_status_deploying\n\nTask: 38660\nStory: 2007212\n\nChange-Id: Idc18c245dc9debcf5236170e0aa99277e58d68a3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-06 02:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f5d77a2aae994b2f169beca8280d8b209dc50615', 'message': 'Remove mistral from the set_deployment_status* workflows\n\nThis change removes the mistral workflows from our set_deployment_status\nfunction, which called three different mistral workflows.\n\n- set_deployment_status_success\n- set_deployment_status_failed\n- set_deployment_status_deploying\n\nTask: 38660\nStory: 2007212\n\nChange-Id: Idc18c245dc9debcf5236170e0aa99277e58d68a3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-06 16:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/59c3369fb879d54d4a921a80429610c5c122c9de', 'message': 'Remove mistral from the set_deployment_status* workflows\n\nThis change removes the mistral workflows from our set_deployment_status\nfunction, which called three different mistral workflows.\n\n- set_deployment_status_success\n- set_deployment_status_failed\n- set_deployment_status_deploying\n\nTask: 38660\nStory: 2007212\n\nChange-Id: Idc18c245dc9debcf5236170e0aa99277e58d68a3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-06 18:18:41.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/219dc82d9fefd2f7142bb866268ceb1104c300ca', 'message': 'Remove mistral from the set_deployment_status* workflows\n\nThis change removes the mistral workflows from our set_deployment_status\nfunction, which called three different mistral workflows.\n\n- set_deployment_status_success\n- set_deployment_status_failed\n- set_deployment_status_deploying\n\nTask: 38660\nStory: 2007212\n\nChange-Id: Idc18c245dc9debcf5236170e0aa99277e58d68a3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,706121,219dc82d9fefd2f7142bb866268ceb1104c300ca,20,6,5,7353,,,0,"Remove mistral from the set_deployment_status* workflows

This change removes the mistral workflows from our set_deployment_status
function, which called three different mistral workflows.

- set_deployment_status_success
- set_deployment_status_failed
- set_deployment_status_deploying

Task: 38660
Story: 2007212

Change-Id: Idc18c245dc9debcf5236170e0aa99277e58d68a3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/706121/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,c541fbc6fda7af6c6f2db97862cd3f54e9990a19,task/38660," clients=self.clients, plan=stack.stack_name, status='deploying' ) clients=self.clients, plan=stack.stack_name, status='failed' )"," self.clients, 'deploying', plan=stack.stack_name) self.clients, 'failed', plan=stack.stack_name)",33,33
openstack%2Fneutron-tempest-plugin~master~Ibebb20b29dd6ae902d194fd26ba1ea728a976286,openstack/neutron-tempest-plugin,master,Ibebb20b29dd6ae902d194fd26ba1ea728a976286,Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test,MERGED,2020-02-03 10:49:47.000000000,2020-02-07 17:47:19.000000000,2020-02-07 17:47:18.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29755}]","[{'number': 1, 'created': '2020-02-03 10:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eae033d325010921411a81d13993c7f0059e0cd2', 'message': 'Replace safe_client with client object\n\nIn class NetworkConnectivityTest there was used safe_client but there\nis no such attribute in this class. Object ""client"" should be used\ninstead.\n\nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 2, 'created': '2020-02-03 13:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/22fdc75b38d45960a729754d1034da8a25f4530e', 'message': 'Replace safe_client with client object\n\nIn class NetworkConnectivityTest there was used safe_client but there\nis no such attribute in this class. Object ""client"" should be used\ninstead.\n\nIt also fixes in the same test how external network\'s subnet ID\nis get from the network\'s info.\n\nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 3, 'created': '2020-02-03 20:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fe7f639321dd8ae7330dce3b26fb7ce15e036326', 'message': 'Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test\n\nThis patch fixes couple of issues in scenario test from\ntest_connectivity module.\n\n1. Replace safe_client with client object\n   In class NetworkConnectivityTest there was used safe_client\n   but there is no such attribute in this class. Object ""client""\n   should be used instead.\n\n2. It also fixes in the same test how external network\'s subnet\n   ID is get from the network\'s info.\n\n3. Change to use admin_client to get details of external\n   network\'s subnet as this subnet don\'t belongs to tenant user\n   so regular client gets 404 error while doing subnet_show\n   command.\n   \nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 4, 'created': '2020-02-04 09:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7700227ea50958984efd5e362876357043b7e67a', 'message': 'Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test\n\nThis patch fixes couple of issues in scenario test from\ntest_connectivity module.\n\n1. Replace safe_client with client object\n   In class NetworkConnectivityTest there was used safe_client\n   but there is no such attribute in this class. Object ""client""\n   should be used instead.\n\n2. It also fixes in the same test how external network\'s subnet\n   ID is get from the network\'s info.\n\n3. Change to use admin_client to get details of external\n   network\'s subnet as this subnet don\'t belongs to tenant user\n   so regular client gets 404 error while doing subnet_show\n   command.\n   \nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 5, 'created': '2020-02-04 13:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e9daddc535f58eabc6f5d75d1c272644ad94a958', 'message': 'Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test\n\nThis patch fixes couple of issues in scenario test from\ntest_connectivity module.\n\n1. Replace safe_client with client object\n   In class NetworkConnectivityTest there was used safe_client\n   but there is no such attribute in this class. Object ""client""\n   should be used instead.\n\n2. It also fixes in the same test how external network\'s subnet\n   ID is get from the network\'s info.\n\n3. Change to use admin_client to get details of external\n   network\'s subnet as this subnet don\'t belongs to tenant user\n   so regular client gets 404 error while doing subnet_show\n   command.\n\n4. Check the subnets IP version to retrieve only an IPv4 one.\n\nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 6, 'created': '2020-02-04 15:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0827a8beb6c5d35f8d28a3bf9392a573f40cd1b7', 'message': 'Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test\n\nThis patch fixes couple of issues in scenario test from\ntest_connectivity module.\n\n1. Replace safe_client with client object\n   In class NetworkConnectivityTest there was used safe_client\n   but there is no such attribute in this class. Object ""client""\n   should be used instead.\n\n2. It also fixes in the same test how external network\'s subnet\n   ID is get from the network\'s info.\n\n3. Change to use admin_client to get details of external\n   network\'s subnet as this subnet don\'t belongs to tenant user\n   so regular client gets 404 error while doing subnet_show\n   command.\n\n4. Check the subnets IP version to retrieve only an IPv4 one.\n\nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 7, 'created': '2020-02-05 09:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ccc2220358e4eeebe37031827f9c631c0249b1ed', 'message': 'Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test\n\nThis patch fixes couple of issues in scenario test from\ntest_connectivity module.\n\n1. Replace safe_client with client object\n   In class NetworkConnectivityTest there was used safe_client\n   but there is no such attribute in this class. Object ""client""\n   should be used instead.\n\n2. It also fixes in the same test how external network\'s subnet\n   ID is get from the network\'s info.\n\n3. Change to use admin_client to get details of external\n   network\'s subnet as this subnet don\'t belongs to tenant user\n   so regular client gets 404 error while doing subnet_show\n   command.\n\n4. Check the subnets IP version to retrieve only an IPv4 one.\n\nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}, {'number': 8, 'created': '2020-02-07 08:31:50.000000000', 'files': ['neutron_tempest_plugin/scenario/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2a71a8966492adb222e6fc289e77f7afc681d082', 'message': 'Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test\n\nThis patch fixes couple of issues in scenario test from\ntest_connectivity module.\n\n1. Replace safe_client with client object\n   In class NetworkConnectivityTest there was used safe_client\n   but there is no such attribute in this class. Object ""client""\n   should be used instead.\n\n2. It also fixes in the same test how external network\'s subnet\n   ID is get from the network\'s info.\n\n3. Change to use admin_client to get details of external\n   network\'s subnet as this subnet don\'t belongs to tenant user\n   so regular client gets 404 error while doing subnet_show\n   command.\n\n4. Check the subnets IP version to retrieve only an IPv4 one.\n\nChange-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286\nCloses-bug: #1861670\n'}]",6,705413,2a71a8966492adb222e6fc289e77f7afc681d082,38,11,8,11975,,,0,"Fix test_connectivity_dvr_and_no_dvr_routers_in_same_subnet test

This patch fixes couple of issues in scenario test from
test_connectivity module.

1. Replace safe_client with client object
   In class NetworkConnectivityTest there was used safe_client
   but there is no such attribute in this class. Object ""client""
   should be used instead.

2. It also fixes in the same test how external network's subnet
   ID is get from the network's info.

3. Change to use admin_client to get details of external
   network's subnet as this subnet don't belongs to tenant user
   so regular client gets 404 error while doing subnet_show
   command.

4. Check the subnets IP version to retrieve only an IPv4 one.

Change-Id: Ibebb20b29dd6ae902d194fd26ba1ea728a976286
Closes-bug: #1861670
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/13/705413/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_connectivity.py'],1,eae033d325010921411a81d13993c7f0059e0cd2,bug/1861670, ext_network = self.client.show_network(self.external_network_id) ext_subnet = self.client.show_subnet(ext_subnet_id), ext_network = self.safe_client.show_network(self.external_network_id) ext_subnet = self.safe_client.show_subnet(ext_subnet_id),2,2
openstack%2Fpython-tripleoclient~master~Ic13a3f70383afdc23abd29b8db230f01e0bebf55,openstack/python-tripleoclient,master,Ic13a3f70383afdc23abd29b8db230f01e0bebf55,Remove mistral from the discover_and_enroll workflow,MERGED,2020-02-03 18:36:15.000000000,2020-02-07 17:47:16.000000000,2020-02-07 17:44:29.000000000,"[{'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-03 18:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/95bdb0abe3bf5def4818f0c18701fbe05c92cd3c', 'message': ""Remove mistral from the discover_and_enroll workflow\n\nThis change removes mistral from the discover_and_enroll workflow by managing the\ncontext and simply calling the required methods. This change will speed up the\ngeneral execution process and ensure better reliability as we'll no longer require\nmistral or zaqar to execute this workflow.\n\nChange-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-02-03 18:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/759dd92a510699eca7815c4c0c578933a0019916', 'message': ""Remove mistral from the discover_and_enroll workflow\n\nThis change removes mistral from the discover_and_enroll workflow by managing the\ncontext and simply calling the required methods. This change will speed up the\ngeneral execution process and ensure better reliability as we'll no longer require\nmistral or zaqar to execute this workflow.\n\nStory: 2007212\nTask: 38450\n\nChange-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2020-02-03 22:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cfd874b6b0c85e6ea75ccd86a39b658bc3bd6168', 'message': ""Remove mistral from the discover_and_enroll workflow\n\nThis change removes mistral from the discover_and_enroll workflow by managing the\ncontext and simply calling the required methods. This change will speed up the\ngeneral execution process and ensure better reliability as we'll no longer require\nmistral or zaqar to execute this workflow.\n\nStory: 2007212\nTask: 38450\n\nChange-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2020-02-04 03:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/614678eb4f86f37ac3c158af71df9c845b5601f6', 'message': ""Remove mistral from the discover_and_enroll workflow\n\nThis change removes mistral from the discover_and_enroll workflow by managing the\ncontext and simply calling the required methods. This change will speed up the\ngeneral execution process and ensure better reliability as we'll no longer require\nmistral or zaqar to execute this workflow.\n\nStory: 2007212\nTask: 38450\n\nChange-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 5, 'created': '2020-02-04 21:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a93202203bac847e63c964a0f4dfb3364dc7fef5', 'message': ""Remove mistral from the discover_and_enroll workflow\n\nThis change removes mistral from the discover_and_enroll workflow by managing the\ncontext and simply calling the required methods. This change will speed up the\ngeneral execution process and ensure better reliability as we'll no longer require\nmistral or zaqar to execute this workflow.\n\nStory: 2007212\nTask: 38450\n\nChange-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 6, 'created': '2020-02-06 18:18:18.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bfed90d630ed90ca2163ab0a350a87b8a5e2f03d', 'message': ""Remove mistral from the discover_and_enroll workflow\n\nThis change removes mistral from the discover_and_enroll workflow by managing the\ncontext and simply calling the required methods. This change will speed up the\ngeneral execution process and ensure better reliability as we'll no longer require\nmistral or zaqar to execute this workflow.\n\nStory: 2007212\nTask: 38450\n\nChange-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",1,705510,bfed90d630ed90ca2163ab0a350a87b8a5e2f03d,20,5,6,7353,,,0,"Remove mistral from the discover_and_enroll workflow

This change removes mistral from the discover_and_enroll workflow by managing the
context and simply calling the required methods. This change will speed up the
general execution process and ensure better reliability as we'll no longer require
mistral or zaqar to execute this workflow.

Story: 2007212
Task: 38450

Change-Id: Ic13a3f70383afdc23abd29b8db230f01e0bebf55
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/705510/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py']",2,95bdb0abe3bf5def4818f0c18701fbe05c92cd3c,mistral_to_ansible,"from tripleoclient import plugin from tripleoclient.tests import fakes as ooofakes client.create_mistral_context = plugin.ClientWrapper( instance=ooofakes.FakeInstanceData ).create_mistral_context self.gcn = mock.patch( 'tripleo_common.actions.baremetal.GetCandidateNodes', autospec=True ) self.gcn.start() self.addCleanup(self.gcn.stop) self.roun = mock.patch( 'tripleo_common.actions.baremetal.RegisterOrUpdateNodes', autospec=True ) self.roun.start() self.addCleanup(self.roun.stop) workflow_input={'node_uuids': [], workflow_input={'node_uuids': []}"," self.workflow.executions.create.assert_called_once_with( 'tripleo.baremetal.v1.discover_and_enroll_nodes', workflow_input={ 'ip_addresses': '10.0.0.0/24', 'credentials': [['admin', 'password']], 'kernel_name': 'file://%s/agent.kernel' % self.http_boot, 'ramdisk_name': 'file://%s/agent.ramdisk' % self.http_boot, 'instance_boot_option': 'local' } ) self.workflow.executions.create.assert_called_once_with( 'tripleo.baremetal.v1.discover_and_enroll_nodes', workflow_input={ 'ip_addresses': ['10.0.0.1', '10.0.0.2'], 'credentials': [['admin', 'password']], 'kernel_name': 'file://%s/agent.kernel' % self.http_boot, 'ramdisk_name': 'file://%s/agent.ramdisk' % self.http_boot, 'instance_boot_option': 'local' } ) mock.call('tripleo.baremetal.v1.discover_and_enroll_nodes', workflow_input={'ip_addresses': '10.0.0.0/24', 'credentials': [['admin', 'password'], ['admin2', 'password2']], 'ports': [623, 6230], 'kernel_name': None, 'ramdisk_name': None, 'instance_boot_option': 'netboot'}), workflow_input={'node_uuids': ['MOCK_NODE_UUID'], workflow_input={'node_uuids': ['MOCK_NODE_UUID']}",83,53
openstack%2Ftripleo-ci~master~Icfbe77fa6e21754cfc62462ec4e379f61034400c,openstack/tripleo-ci,master,Icfbe77fa6e21754cfc62462ec4e379f61034400c,Setup registry only when containers are locally pushed,MERGED,2020-02-07 07:44:27.000000000,2020-02-07 17:44:41.000000000,2020-02-07 17:44:41.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 07:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e1bb40e968cf2cdf6dfb45e9cdaf207a14037f2b', 'message': 'Setup registry only one containers are locally pushed\n\nAlso bring buildah setup out of registry setup\nconditionals, as buildah can be setup without\nregistry being setup.\n\nChange-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c\n'}, {'number': 2, 'created': '2020-02-07 07:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/780ad4dd5dfca5dcbb9e61d598c5c4ba4bedaef2', 'message': 'Setup registry only when containers are locally pushed\n\nAlso bring buildah setup out of registry setup\nconditionals, as buildah can be setup without\nregistry being setup.\n\nChange-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c\n'}, {'number': 3, 'created': '2020-02-07 08:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f9418467d00203d8348bda764d00114693f412e', 'message': 'Setup registry only when containers are locally pushed\n\nAlso bring buildah setup out of registry setup\nconditionals, as buildah can be setup without\nregistry being setup.\n\nAlso use ansible_hostname instead of docker bridge ip.\n\nChange-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c\n'}, {'number': 4, 'created': '2020-02-07 11:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eb4db18d40ee772d42d9c225c961ad5e2794a58e', 'message': 'Setup registry only when containers are locally pushed\n\nThis patch also does following:-\n- Bring buildah setup out of docker setup block\n  as buildah can be setup without docker being setup.\n- Use host ip instead of docker bridge ip as setting\n  up docker is optional.\n- Setup docker only for rhel < 8 as docker is not available\n  since rhel8.\n\nChange-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c\n'}, {'number': 5, 'created': '2020-02-07 12:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/63728e05d7eed628ddc3731a2ac3c233b9a89ac0', 'message': 'Setup registry only when containers are locally pushed\n\nThis patch also does following:-\n- Bring buildah setup out of docker setup block\n  as buildah can be setup without docker being setup.\n- Use host ip instead of docker bridge ip as setting\n  up docker is optional.\n- Setup docker only for rhel < 8 as docker is not available\n  since rhel8.\n\nChange-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c\n'}, {'number': 6, 'created': '2020-02-07 12:19:58.000000000', 'files': ['roles/build-containers/templates/docker-playbook.yaml.j2', 'roles/build-containers/tasks/pre.yaml', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/829163e37c9b5c42e70a6794f8bfdb5ae141d3e1', 'message': 'Setup registry only when containers are locally pushed\n\nThis patch also does following:-\n- Bring buildah setup out of docker setup block\n  as buildah can be setup without docker being setup.\n- Use host ip instead of docker bridge ip as setting\n  up docker is optional.\n- Setup docker only for rhel < 8 as docker is not available\n  since rhel8.\n\nChange-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c\n'}]",1,706437,829163e37c9b5c42e70a6794f8bfdb5ae141d3e1,18,8,6,13861,,,0,"Setup registry only when containers are locally pushed

This patch also does following:-
- Bring buildah setup out of docker setup block
  as buildah can be setup without docker being setup.
- Use host ip instead of docker bridge ip as setting
  up docker is optional.
- Setup docker only for rhel < 8 as docker is not available
  since rhel8.

Change-Id: Icfbe77fa6e21754cfc62462ec4e379f61034400c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/706437/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/pre.yaml'],1,e1bb40e968cf2cdf6dfb45e9cdaf207a14037f2b,," when: - ansible_distribution|lower != 'redhat' - push_containers is defined and push_containers - ""'127.0.0.1' in push_registry or push_registry in ansible_all_ipv4_addresses""- name: Prepare Buildah become: true when: use_buildah | default(false) | bool block: - name: Install Buildah package: name: buildah state: present - name: Configure insecure registry ini_file: path: /etc/containers/registries.conf section: 'registries.insecure' option: registries value: - ""localhost:{{ push_registry_port }}"""," when: ansible_distribution|lower != 'redhat' - name: Prepare Buildah become: true when: use_buildah | default(false) | bool block: - name: Install Buildah package: name: buildah state: present - name: Configure insecure registry ini_file: path: /etc/containers/registries.conf section: 'registries.insecure' option: registries value: - ""localhost:{{ push_registry_port }}""",19,16
openstack%2Fansible-role-collect-logs~master~I2ea2ef5158aea728870818724f17d4aac38f7526,openstack/ansible-role-collect-logs,master,I2ea2ef5158aea728870818724f17d4aac38f7526,Pin molecule to known good,MERGED,2020-02-07 13:42:57.000000000,2020-02-07 17:44:39.000000000,2020-02-07 17:44:39.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-07 13:42:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2dd3370478a96dbf7a83317e05415b6c2b106548', 'message': 'Pin molecule to known good\n\nPin molecule until we get new bugs fixed.\n\nChange-Id: I2ea2ef5158aea728870818724f17d4aac38f7526\n'}]",0,706505,2dd3370478a96dbf7a83317e05415b6c2b106548,11,4,1,24162,,,0,"Pin molecule to known good

Pin molecule until we get new bugs fixed.

Change-Id: I2ea2ef5158aea728870818724f17d4aac38f7526
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/05/706505/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2dd3370478a96dbf7a83317e05415b6c2b106548,mov3, molecule==3.0a5 # avoid 3.0a6 and 3.0a7, molecule>=3.0a5,1,1
openstack%2Fpython-tripleoclient~master~Ie19be2078e2f349bf06e5b99ab93ca843e367463,openstack/python-tripleoclient,master,Ie19be2078e2f349bf06e5b99ab93ca843e367463,Remove mistral from the get_deployment_status workflow,MERGED,2020-02-03 22:10:14.000000000,2020-02-07 17:44:33.000000000,2020-02-07 17:44:33.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-03 22:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12500b421c41174555017086b971abef92eba647', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-03 22:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24102fb8ec5307accef5e2302ed776ef83239a21', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-04 03:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86322694ceb9d57051784aade10c63ca315a52b3', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-04 21:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8526dda97ae10f92c487aaf3ba83cd52cceeb088', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-05 21:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe87abf6b2823814d172b6f2058d3c69c73b034b', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\n* A new method was added allowing us to update the deployment status object\n  when required.\n* Tests have been added for the new static method update_deployment_status.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-05 21:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/27eed1759d774a6594c0bf56140c4db5f8b8dd6d', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\n* A new method was added allowing us to update the deployment status object\n  when required.\n* Tests have been added for the new static method update_deployment_status.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-06 18:18:32.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13e1c2fe42fb7ab7528cedb27da6cb825635cf0c', 'message': 'Remove mistral from the get_deployment_status workflow\n\nThis change Converts plan status checks to using a direct call instead of\nexecuting via mistral.\n\n* A new method was added allowing us to update the deployment status object\n  when required.\n* Tests have been added for the new static method update_deployment_status.\n\nStory: 2007212\nTask: 38430\n\nChange-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,705564,13e1c2fe42fb7ab7528cedb27da6cb825635cf0c,28,6,7,7353,,,0,"Remove mistral from the get_deployment_status workflow

This change Converts plan status checks to using a direct call instead of
executing via mistral.

* A new method was added allowing us to update the deployment status object
  when required.
* Tests have been added for the new static method update_deployment_status.

Story: 2007212
Task: 38430

Change-Id: Ie19be2078e2f349bf06e5b99ab93ca843e367463
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/705564/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,12500b421c41174555017086b971abef92eba647,mistral_to_ansible," status, plan = deployment.get_deployment_status( table.add_row([plan, status])"," status = deployment.get_deployment_status( payload = status['workflow_status']['payload'] table.add_row([payload['plan_name'], payload['deployment_status']])",32,38
openstack%2Ftripleo-validations~master~I0c41ec100a42a9fc4520c3bf8069a6ec45d054c7,openstack/tripleo-validations,master,I0c41ec100a42a9fc4520c3bf8069a6ec45d054c7,Better task name and loop control,MERGED,2020-02-03 12:24:26.000000000,2020-02-07 17:43:53.000000000,2020-02-07 17:43:53.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 12:24:26.000000000', 'files': ['roles/healthcheck_service_status/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/153001ed1a6e54aa3ed6aae53a1b14240b48d37d', 'message': ""Better task name and loop control\n\nPrevious patch[1] wanted to make things easier to read, but it didn't\nwork as expected. The current change should allow a better readability\nof the check task.\n\n[1] https://review.opendev.org/691826\n\nChange-Id: I0c41ec100a42a9fc4520c3bf8069a6ec45d054c7\n""}]",0,705432,153001ed1a6e54aa3ed6aae53a1b14240b48d37d,7,3,1,28223,,,0,"Better task name and loop control

Previous patch[1] wanted to make things easier to read, but it didn't
work as expected. The current change should allow a better readability
of the check task.

[1] https://review.opendev.org/691826

Change-Id: I0c41ec100a42a9fc4520c3bf8069a6ec45d054c7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/32/705432/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/healthcheck_service_status/tasks/main.yml'],1,153001ed1a6e54aa3ed6aae53a1b14240b48d37d,verify-healthchecks,"- name: Get healthcheck status loop: ""{{ hc_services }}"" loop_control: label: ""{{ item }}"" loop_control: label: ""{{ item.item }}""","- name: ""[Healthcheck] Get {{ item }} status"" with_items: ""{{ hc_services }}""",6,2
openstack%2Ftripleo-heat-templates~master~I1e8378f58662377344194916e8bc336df02d0591,openstack/tripleo-heat-templates,master,I1e8378f58662377344194916e8bc336df02d0591,Remove deprecated authtoken::auth_uri,MERGED,2020-01-26 00:04:17.000000000,2020-02-07 17:43:51.000000000,2020-02-07 17:43:51.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-26 00:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67651397280c134944e8bfe193d62545181632db', 'message': 'Remove deprecated authtoken::auth_uri\n\nauth_uri parameter in authtoken was already removed from puppet modules[1],\nso remove it from hieradata.\n\nAlso, some service templates missed www_authenticate_uri, which was\nintroduced as a replacement of auth_uri, so add it to make sure that\nwe have a corret parameter confugured.\n\n[1] I12b4049e4942911c8d1d8027c579eb4c0d1a53eb\n\nChange-Id: I1e8378f58662377344194916e8bc336df02d0591\n'}, {'number': 2, 'created': '2020-01-26 00:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e400f1f89d6b278b3977333478765835c4cf92ba', 'message': 'Remove deprecated authtoken::auth_uri\n\nauth_uri parameter in authtoken was already removed from puppet modules[1],\nso remove it from hieradata.\n\nAlso, some service templates missed www_authenticate_uri, which was\nintroduced as a replacement of auth_uri, so add it to make sure that\nwe have a corret parameter confugured.\n\n[1] I12b4049e4942911c8d1d8027c579eb4c0d1a53eb\n\nChange-Id: I1e8378f58662377344194916e8bc336df02d0591\n'}, {'number': 3, 'created': '2020-01-26 00:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb398aa04b306591e373873a02b51ed87ff9213e', 'message': 'Remove deprecated authtoken::auth_uri\n\nauth_uri parameter in authtoken was already removed from puppet modules[1],\nso remove it from hieradata.\n\nAlso, some service templates missed www_authenticate_uri, which was\nintroduced as a replacement of auth_uri, so add it to make sure that\nwe have a correct parameter confugured.\n\n[1] I12b4049e4942911c8d1d8027c579eb4c0d1a53eb\n\nChange-Id: I1e8378f58662377344194916e8bc336df02d0591\n'}, {'number': 4, 'created': '2020-01-26 00:27:00.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/sahara/sahara-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cc62c5f14991e68c25002bf3ef6c06bcb2b89f4', 'message': 'Remove deprecated authtoken::auth_uri\n\nauth_uri parameter in authtoken was already removed from puppet modules[1],\nso remove it from hieradata.\n\nAlso, some service templates missed www_authenticate_uri, which was\nintroduced as a replacement of auth_uri, so add it to make sure that\nwe have a correct parameter confugured.\n\n[1] I12b4049e4942911c8d1d8027c579eb4c0d1a53eb\n\nChange-Id: I1e8378f58662377344194916e8bc336df02d0591\n'}]",0,704238,8cc62c5f14991e68c25002bf3ef6c06bcb2b89f4,21,5,4,9816,,,0,"Remove deprecated authtoken::auth_uri

auth_uri parameter in authtoken was already removed from puppet modules[1],
so remove it from hieradata.

Also, some service templates missed www_authenticate_uri, which was
introduced as a replacement of auth_uri, so add it to make sure that
we have a correct parameter confugured.

[1] I12b4049e4942911c8d1d8027c579eb4c0d1a53eb

Change-Id: I1e8378f58662377344194916e8bc336df02d0591
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/704238/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/sahara/sahara-base.yaml']",17,67651397280c134944e8bfe193d62545181632db,auth_uri,," sahara::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",4,17
openstack%2Fkolla-ansible~master~Ibd806feee71721b122b77d7eff33228ca1cc2853,openstack/kolla-ansible,master,Ibd806feee71721b122b77d7eff33228ca1cc2853,CentOS 8: Add deploy jobs in CI,MERGED,2019-11-08 14:47:06.000000000,2020-02-07 17:43:43.000000000,2020-02-07 17:24:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-08 14:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca99ab3dc5f010364cf14b45b98e9c4bf58b7e32', 'message': 'CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 2, 'created': '2019-11-08 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc962004a71e2dcb529c7932838af1547354cd78', 'message': 'CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 3, 'created': '2019-11-08 15:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ac133fc5bb57ec1b3415966f85ebe76eec92531', 'message': 'CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 4, 'created': '2019-11-08 15:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a68883791732c8146db07fddf487f4763fd198ed', 'message': 'CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 5, 'created': '2019-11-08 15:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f26214c279624d852f9e45eefcec031e8c479be', 'message': 'CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 6, 'created': '2019-11-08 16:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/177bf91123f11311226c4f3fd3e3c33c1f4dec9c', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 7, 'created': '2019-11-08 17:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a32d7570cc89971f5b6834453056f5e8d8b2c300', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 8, 'created': '2019-11-08 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba0cf0730de52cab8f4925d6d27e637c65b402de', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 9, 'created': '2019-11-08 17:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f68d7e48235538c999bac2ef487f9eb1f6b5c23b', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 10, 'created': '2019-11-08 19:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/666e82c133f8bc649a300aeecee194ba0e4a9ad2', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 11, 'created': '2019-11-09 11:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ed6ac590965552d47ee0d4c6edb43b3f1733edc', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 12, 'created': '2019-11-09 11:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2e82d1791bd72139815ae02be08a03f7c48bc4e', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 13, 'created': '2019-11-09 11:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d4f3d35a59626fc2c93fb70cbbb7a27c7230fb8', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 14, 'created': '2019-11-09 15:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29a3304fff00a761c7cc462c112165792eee78ee', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 15, 'created': '2019-11-10 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/edfe13fd88e32183ebd3fc4dbace590115fde3b6', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 16, 'created': '2019-11-10 09:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1e613867737d488d497cc7b60cfa31c51398dd9', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 17, 'created': '2019-12-06 16:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47c3321afe03e991726a423788b59971993342d2', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nAnsible minimum version bumped to 2.8.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 18, 'created': '2019-12-06 17:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5ad862f28f8dfc6356d593699ca7d8be46ce839', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nAnsible minimum version bumped to 2.8.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 19, 'created': '2019-12-09 17:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/163051d341c71f77023e4e441e0cd1f09326e5ad', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nAnsible minimum version bumped to 2.8.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 20, 'created': '2019-12-11 14:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2795a7976ec9c076a1469d74baa12c858d2b955f', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nAnsible minimum version bumped to 2.8.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 21, 'created': '2020-01-06 17:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/526d32624b3135615eb9f580ff7eacbe60849a91', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nAnsible minimum version bumped to 2.8.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 22, 'created': '2020-01-06 20:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8fdf2de34f3a64ed99552148ebc99c54f46dbaeb', 'message': 'WIP: CI: Start testing CentOS 8 hosts\n\nAnsible minimum version bumped to 2.8.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\n'}, {'number': 23, 'created': '2020-01-09 17:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93d9393080b5555e0e7dac89d79acd53d1d31dd5', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 24, 'created': '2020-01-09 19:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d9cc978568a5bc40bda7f4b7718caae7657abd7', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 25, 'created': '2020-01-10 10:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7d75a9441298fa5291c2a6d709729a84bfff114', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 26, 'created': '2020-01-10 11:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb1f9eeb24c57f7f4cad623b739f883b460c6fab', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 27, 'created': '2020-01-10 11:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0901c60ff9194900b16e783f5fed2606163766e2', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 28, 'created': '2020-01-10 12:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abd619737396fc487dd5b360f680541ca8c6de96', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 29, 'created': '2020-01-10 15:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/719d0d42b2df0f51958df59ed997663de425f31b', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 30, 'created': '2020-01-10 15:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c77cf714cfce0728f11fbe4053fc92ffd49f0c3', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 31, 'created': '2020-01-10 15:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/112ba029088f321f5502081e5b8f3c8449f9dffb', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI jobs for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-ceph\n- kolla-ansible-centos8-binary\n\nThe first two are added to the check pipeline and the first is added to\nthe gate.\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 32, 'created': '2020-01-28 13:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87c936851da3df45b0b3d8297e5c218587ec6b7e', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cells\n- kolla-ansible-centos8-source-mariadb\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/702706\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 33, 'created': '2020-01-28 13:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/081a879146d3a0acbedab4775692cedc0aa16cb9', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cells\n- kolla-ansible-centos8-source-mariadb\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 34, 'created': '2020-01-28 16:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83699d7d4dd4f68ffd73f3143d61856e0533c8fe', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cells\n- kolla-ansible-centos8-source-mariadb\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nWorkarounds:\n\n- The fluentd container is disabled as the image will not build\n\nDepends-On: https://review.opendev.org/704337\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 35, 'created': '2020-01-29 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7de31580bc4febf22227f1932e79dd9ab3008602', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cells\n- kolla-ansible-centos8-source-mariadb\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nWorkarounds:\n\n- The fluentd container is disabled as the image will not build\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704813\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 36, 'created': '2020-01-29 14:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6fa096bb13b5c3ef7dff3ccdd70f5efc4fffc0c2', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 37, 'created': '2020-01-29 17:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b189a7d4b9c3d0e0af9ecd3820cbffc8869eef4d', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704848\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 38, 'created': '2020-01-30 10:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5731bb50f3a66ccf0b18912c0c3c457f7b12bad', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 39, 'created': '2020-01-30 11:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ba1552bd561a7e49983dd2986ba4f9dbcadb098', 'message': 'WIP: CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704848\nDepends-On: https://review.opendev.org/704965\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 40, 'created': '2020-02-05 11:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/980a20122cde424e2d8e2c100d8c3c59e7c14dad', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are not yet passing so are not added to the check\npipeline:\n\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-masakari\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704848\nDepends-On: https://review.opendev.org/704965\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 41, 'created': '2020-02-05 12:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/935e388bc72c925ed9a3ea89f0993139332b5b2f', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are not yet passing so are not added to the check\npipeline:\n\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-masakari\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nUpgrade jobs will be added when CentOS 8 support exists in Train.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704848\nDepends-On: https://review.opendev.org/704965\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 42, 'created': '2020-02-05 15:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/111a84e859de5c7f8fd4691ee808375b6a4236dc', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are not yet passing so are not added to the check\npipeline:\n\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-masakari\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nUpgrade jobs will be added when CentOS 8 support exists in Train.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704848\nDepends-On: https://review.opendev.org/704965\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 43, 'created': '2020-02-06 11:44:12.000000000', 'files': ['tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/287adab05ebcae4bef16759795ad0907ffb2489c', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds new CI job definitions for CentOS 8:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-masakari\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are added to the check pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-mariadb\n- kolla-ansible-centos8-source-zun\n- kolla-ansible-centos8-source-swift\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n- kolla-ansible-centos8-binary-ironic\n- kolla-ansible-centos8-source-cells\n\nThe following jobs are not yet passing so are not added to the check\npipeline:\n\n- kolla-ansible-centos8-source-ceph-ansible\n- kolla-ansible-centos8-source-bifrost\n- kolla-ansible-centos8-source-masakari\n\nThe kolla-ansible-centos8-source job is added to the gate.\n\nUpgrade jobs will be added when CentOS 8 support exists in Train.\n\nDepends-On: https://review.opendev.org/704337\nDepends-On: https://review.opendev.org/704848\nDepends-On: https://review.opendev.org/704965\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853\nPartially-Implements: blueprint centos-rhel-8\n'}]",21,693544,287adab05ebcae4bef16759795ad0907ffb2489c,126,4,43,30491,,,0,"CentOS 8: Add deploy jobs in CI

Adds new CI job definitions for CentOS 8:

- kolla-ansible-centos8-source
- kolla-ansible-centos8-binary
- kolla-ansible-centos8-source-ceph-ansible
- kolla-ansible-centos8-source-cinder-lvm
- kolla-ansible-centos8-source-mariadb
- kolla-ansible-centos8-source-bifrost
- kolla-ansible-centos8-source-zun
- kolla-ansible-centos8-source-swift
- kolla-ansible-centos8-source-scenario-nfv
- kolla-ansible-centos8-source-ironic
- kolla-ansible-centos8-binary-ironic
- kolla-ansible-centos8-source-masakari
- kolla-ansible-centos8-source-cells

The following jobs are added to the check pipeline:

- kolla-ansible-centos8-source
- kolla-ansible-centos8-binary
- kolla-ansible-centos8-source-cinder-lvm
- kolla-ansible-centos8-source-mariadb
- kolla-ansible-centos8-source-zun
- kolla-ansible-centos8-source-swift
- kolla-ansible-centos8-source-scenario-nfv
- kolla-ansible-centos8-source-ironic
- kolla-ansible-centos8-binary-ironic
- kolla-ansible-centos8-source-cells

The following jobs are not yet passing so are not added to the check
pipeline:

- kolla-ansible-centos8-source-ceph-ansible
- kolla-ansible-centos8-source-bifrost
- kolla-ansible-centos8-source-masakari

The kolla-ansible-centos8-source job is added to the gate.

Upgrade jobs will be added when CentOS 8 support exists in Train.

Depends-On: https://review.opendev.org/704337
Depends-On: https://review.opendev.org/704848
Depends-On: https://review.opendev.org/704965

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Change-Id: Ibd806feee71721b122b77d7eff33228ca1cc2853
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/693544/41 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",2,ca99ab3dc5f010364cf14b45b98e9c4bf58b7e32,bp/centos-rhel-8, name: kolla-ansible-centos8-source parent: kolla-ansible-base nodeset: kolla-ansible-centos8 voting: false vars: base_distro: centos install_type: source - job:,,15,0
openstack%2Fkolla-ansible~master~I16b345c0b29ff13e042eed8798efe644e0ad2c74,openstack/kolla-ansible,master,I16b345c0b29ff13e042eed8798efe644e0ad2c74,Generate self signed TLS certificates,MERGED,2020-01-07 04:39:41.000000000,2020-02-07 17:39:23.000000000,2020-02-07 17:33:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29543}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-01-07 04:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c06195265fd3b7735a75ee1579e71ff923c233ca', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 2, 'created': '2020-01-14 20:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2acd84cc477c312c21e401b9d6f638154a57080b', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 3, 'created': '2020-01-14 22:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b05ec42fd83dd91c88feedbef1d96a4961cdead7', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 4, 'created': '2020-01-15 01:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bae5d9580de6b5ea877a2ce47f7a9b4aa7d0cd01', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 5, 'created': '2020-01-15 04:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4679e40a76590d2fbb4d42a9a78cb53593c53108', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 6, 'created': '2020-01-17 06:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f93eae3a61bc86d2583bf3fb0cbe2696dec27585', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 7, 'created': '2020-01-17 18:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/959e54122e115a9a19298383074f14cf4b83313f', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 8, 'created': '2020-01-18 01:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5562c7d7f13de7e663ccf4b02d25766ca659359f', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 9, 'created': '2020-01-18 23:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd8236ba4db749b713178fc10797b53360404773', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 10, 'created': '2020-01-27 23:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b59128e799c0db262bd7708165a5a8b13fa5c7db', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 11, 'created': '2020-01-27 23:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ea7c029d303c212cfc035c398d6dcefd68496d7', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 12, 'created': '2020-01-28 04:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e445702eb30f3b37c2fd0f25c34ea4da152ceede', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 13, 'created': '2020-01-28 04:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1feb4fe43073d5673cd81d214a2a714b3f47095', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 14, 'created': '2020-01-29 01:18:58.000000000', 'files': ['releasenotes/notes/generate-internal-external-self-signed-certs-c631a9d934d31fac.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'doc/source/admin/advanced-configuration.rst', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d100904f2c42dea3338e5016c46014ee3132807c', 'message': 'Generate self signed TLS certificates\n\nGenerate both internal and external self signed TLS certificates.\nDuplicate the certificate if internal and external VIPs are the same.\n\nChange-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74\nPartially-Implements: blueprint custom-cacerts\n'}]",9,701323,d100904f2c42dea3338e5016c46014ee3132807c,49,5,14,30810,,,0,"Generate self signed TLS certificates

Generate both internal and external self signed TLS certificates.
Duplicate the certificate if internal and external VIPs are the same.

Change-Id: I16b345c0b29ff13e042eed8798efe644e0ad2c74
Partially-Implements: blueprint custom-cacerts
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/701323/10 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2']",4,c06195265fd3b7735a75ee1579e71ff923c233ca,bp/add-internal-network/configure-cacert-verification,prompt = no,,145,46
openstack%2Fkolla-ansible~master~I2625db7b8000af980e4745734c834c5d9292290b,openstack/kolla-ansible,master,I2625db7b8000af980e4745734c834c5d9292290b,Use kolla_toolbox to execute REST methods,MERGED,2019-12-30 18:43:18.000000000,2020-02-07 17:36:47.000000000,2020-02-07 17:33:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 28374}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 30810}]","[{'number': 1, 'created': '2019-12-30 18:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c72d2766a67af8dfd5f944226b0ad65a1c75ded', 'message': 'Delegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nDepends on: https://review.opendev.org/#/c/699888\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 2, 'created': '2019-12-30 18:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68518faef519382ef72bf7778ca6e6797b651667', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nDepends on: https://review.opendev.org/#/c/699888\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 3, 'created': '2019-12-30 22:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dac1596e17a43a9e85390341a86689e244af2390', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nDepends on: https://review.opendev.org/#/c/699888\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 4, 'created': '2020-01-06 19:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6eabb329f92e271cfc03120b99ce575dd47e3581', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 5, 'created': '2020-01-17 05:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab733f68d50336dad2c3ca2599fe52920ca5a7e5', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 6, 'created': '2020-01-17 06:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c58e7b4e65ca21408090bc36a3f556a0e225220', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 7, 'created': '2020-01-17 06:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/064a877558c9310f709260607405fff405789454', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 8, 'created': '2020-01-17 18:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f534027da0653c8c6b3e36a6c19c570f9db93c72', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 9, 'created': '2020-01-18 01:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aceab9dcba48af6e3e28782ed5929ed14b444aed', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 10, 'created': '2020-01-18 23:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/180b6160b053e35b2e50c1e40fbe4a3f6f785122', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 11, 'created': '2020-01-27 23:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ffd7fec2242fdd45538093ed423801f99c7ae14', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 12, 'created': '2020-01-27 23:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8052ffc03c26fe9a5e34ed9dffa0b94b11a7af6a', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 13, 'created': '2020-01-27 23:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7281b1472b4106fc04552f9d93299b001d31302', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 14, 'created': '2020-01-28 04:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65b64bbf703bb50a502cb52393bc5bf3b03508d9', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 15, 'created': '2020-01-28 04:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fe210fedbb183e92729de95247a2488152e8508', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 16, 'created': '2020-01-28 04:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cec113c058fedb18e88167e32d88d44c1f5c8072', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 17, 'created': '2020-01-28 18:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25004178cab5902c107705434c2a5f15634245a1', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}, {'number': 18, 'created': '2020-01-29 01:18:58.000000000', 'files': ['ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/post_config.yml', 'releasenotes/notes/execute-rest-methods-inside-containers-ce2a1410dbdc71f3.yaml', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/monasca/tasks/post_config.yml', 'ansible/roles/ironic/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88418cbaa9d58ce2ef50b03722ddff56f204559a', 'message': 'Use kolla_toolbox to execute REST methods\n\nDelegate executing uri REST methods to the current module containers\nusing kolla_toolbox. This will allow self signed certificate that are\nalready copied into the container to be automatically validated. This\ncircumvents requiring Kolla Ansible to explicitly disable certificate\nvalidation in the ansible uri module.\n\nPartially-Implements: blueprint custom-cacerts\n\nChange-Id: I2625db7b8000af980e4745734c834c5d9292290b\n'}]",5,700788,88418cbaa9d58ce2ef50b03722ddff56f204559a,61,8,18,30810,,,0,"Use kolla_toolbox to execute REST methods

Delegate executing uri REST methods to the current module containers
using kolla_toolbox. This will allow self signed certificate that are
already copied into the container to be automatically validated. This
circumvents requiring Kolla Ansible to explicitly disable certificate
validation in the ansible uri module.

Partially-Implements: blueprint custom-cacerts

Change-Id: I2625db7b8000af980e4745734c834c5d9292290b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/700788/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/post_config.yml', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/monasca/tasks/post_config.yml', 'ansible/roles/ironic/handlers/main.yml']",5,5c72d2766a67af8dfd5f944226b0ad65a1c75ded,bp/add-internal-network/configure-cacert-verification," kolla_toolbox: module_name: uri module_args: url: ""{{ ironic_internal_endpoint }}"""," uri: url: ""{{ ironic_internal_endpoint }}""",149,113
openstack%2Fkolla-ansible~master~I2c7b27388e6ed409240b1d36dbc6f1a6449a0825,openstack/kolla-ansible,master,I2c7b27388e6ed409240b1d36dbc6f1a6449a0825,CI: Enable etcd in ceph and cinder-lvm scenarios,ABANDONED,2019-12-05 14:39:49.000000000,2020-02-07 17:26:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-05 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f651cf59e72ebbd968bf08c6300517e2b5c89840', 'message': 'CI: Enable etcd in ceph and cinder-lvm scenarios\n\nThis should help to test coordination using tooz.\n\nChange-Id: I2c7b27388e6ed409240b1d36dbc6f1a6449a0825\n'}, {'number': 2, 'created': '2020-02-07 17:25:55.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/941d34fd49d366f89a14a4e77a3c2c8340a7feb7', 'message': 'CI: Enable etcd in ceph and cinder-lvm scenarios\n\nThis should help to test coordination using tooz.\n\nChange-Id: I2c7b27388e6ed409240b1d36dbc6f1a6449a0825\n'}]",0,697485,941d34fd49d366f89a14a4e77a3c2c8340a7feb7,7,2,2,14826,,,0,"CI: Enable etcd in ceph and cinder-lvm scenarios

This should help to test coordination using tooz.

Change-Id: I2c7b27388e6ed409240b1d36dbc6f1a6449a0825
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/697485/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,f651cf59e72ebbd968bf08c6300517e2b5c89840,,"enable_etcd: ""yes""enable_etcd: ""yes""",,2,0
openstack%2Fkolla-ansible~master~I339fc7f01f640a32ff35d19ded54b6f8e2fdec15,openstack/kolla-ansible,master,I339fc7f01f640a32ff35d19ded54b6f8e2fdec15,CI: Replace cinder-lvm scenario with zun scenario,MERGED,2020-02-05 17:26:53.000000000,2020-02-07 17:24:14.000000000,2020-02-07 16:54:17.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-05 17:26:53.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tests/setup_disks.sh', 'tests/test-core-openstack.sh', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b0894299ef8fca62f9d8eab7f0e229548da26cb', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: I339fc7f01f640a32ff35d19ded54b6f8e2fdec15\n'}]",1,706055,5b0894299ef8fca62f9d8eab7f0e229548da26cb,23,5,1,30491,,,0,"CI: Replace cinder-lvm scenario with zun scenario

As discussed during the meeting. [1]

[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html

Change-Id: I339fc7f01f640a32ff35d19ded54b6f8e2fdec15
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/706055/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tests/setup_disks.sh', 'tests/test-core-openstack.sh', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh']",8,5b0894299ef8fca62f9d8eab7f0e229548da26cb,ci-replace-cinder-lvm-with-zun,," if [[ $SCENARIO == ""cinder-lvm"" ]]; then GATE_IMAGES+="",^cinder,^iscsid"" if [[ $BASE_DISTRO != ""centos"" ]] || [[ $BASE_DISTRO_MAJOR_VERSION -eq 7 ]]; then GATE_IMAGES+="",^tgtd"" fi fi ",8,53
openstack%2Ftripleo-quickstart~master~Ie148cad339dbcf16346e21f763dd47cb1f0bec27,openstack/tripleo-quickstart,master,Ie148cad339dbcf16346e21f763dd47cb1f0bec27,Add missing auth.tempest_roles,ABANDONED,2020-02-07 06:55:08.000000000,2020-02-07 17:11:54.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-07 06:55:08.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f29f2966fdd9852d23970e035ce2a8b3f9581843', 'message': 'Add missing auth.tempest_roles\n\nhttps://review.opendev.org/#/c/705007/ moved the standalone stein\njobs to validate-tempest, Few settings related to tempest_roles\ngot missing leading to barbican tests failure.\n\nAdding it back fixes the issue.\n\nChange-Id: Ie148cad339dbcf16346e21f763dd47cb1f0bec27\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,706432,f29f2966fdd9852d23970e035ce2a8b3f9581843,5,3,1,12393,,,0,"Add missing auth.tempest_roles

https://review.opendev.org/#/c/705007/ moved the standalone stein
jobs to validate-tempest, Few settings related to tempest_roles
got missing leading to barbican tests failure.

Adding it back fixes the issue.

Change-Id: Ie148cad339dbcf16346e21f763dd47cb1f0bec27
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/32/706432/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,f29f2966fdd9852d23970e035ce2a8b3f9581843,tempest,"tempest_extra_config: >- {% if release is 'stein' -%} {'auth.tempest_roles': '""Member, creator""'} {%- endif -%} ",,5,0
openstack%2Fironic-python-agent-builder~master~Ie48c959c7b31f6676a042e86a018b23d0fdead88,openstack/ironic-python-agent-builder,master,Ie48c959c7b31f6676a042e86a018b23d0fdead88,Remove centos7 job,ABANDONED,2020-02-06 14:39:07.000000000,2020-02-07 17:11:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-06 14:39:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a5e3e27bbbc6a35c7a0be40aae5a231a850c29f9', 'message': ""Remove centos7 job\n\nCentOS7 is a Python 2 based distro, which is now officially not\nsupported by the current Openstack release.\nDespite the efforts made to be able to make the job work with\nPython 3, we already have a CentOS8 based job that works natively\nwith it, so we're removing the CentOS7 job.\n\nChange-Id: Ie48c959c7b31f6676a042e86a018b23d0fdead88\n""}]",0,706287,a5e3e27bbbc6a35c7a0be40aae5a231a850c29f9,4,2,1,23851,,,0,"Remove centos7 job

CentOS7 is a Python 2 based distro, which is now officially not
supported by the current Openstack release.
Despite the efforts made to be able to make the job work with
Python 3, we already have a CentOS8 based job that works natively
with it, so we're removing the CentOS7 job.

Change-Id: Ie48c959c7b31f6676a042e86a018b23d0fdead88
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/87/706287/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a5e3e27bbbc6a35c7a0be40aae5a231a850c29f9,goodbye-centos7,, name: ironic-python-agent-build-image-dib-centos7 parent: ironic-python-agent-build-image-base required-projects: - openstack/diskimage-builder vars: image_type: 'dib' image_distro: 'centos7' - job: name: ironic-python-agent-check-image-dib-centos7 parent: ironic-python-agent-check-image-base required-projects: - openstack/diskimage-builder vars: image_type: 'dib' image_distro: 'centos7' - job: - ironic-python-agent-check-image-dib-centos7: voting: false,0,20
openstack%2Ftripleo-ansible~stable%2Ftrain~I908810f7bb4e00701de3214b3b710648c33c0409,openstack/tripleo-ansible,stable/train,I908810f7bb4e00701de3214b3b710648c33c0409,Pin molecule to last known good,MERGED,2020-02-07 14:37:58.000000000,2020-02-07 17:10:15.000000000,2020-02-07 17:10:15.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-07 14:37:58.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eac9f955909514e214ee0f4b42073d965c11a35f', 'message': 'Pin molecule to last known good\n\n3.0a6 added some incompatibilities so lets pin the stable branch to the\nlast known good version which is 3.0a5.\n\nChange-Id: I908810f7bb4e00701de3214b3b710648c33c0409\n'}]",0,706526,eac9f955909514e214ee0f4b42073d965c11a35f,7,3,1,14985,,,0,"Pin molecule to last known good

3.0a6 added some incompatibilities so lets pin the stable branch to the
last known good version which is 3.0a5.

Change-Id: I908810f7bb4e00701de3214b3b710648c33c0409
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/706526/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,eac9f955909514e214ee0f4b42073d965c11a35f,pin-molecule,molecule==3.0a5,"molecule>=2.22rc1,<3",1,1
openstack%2Ftripleo-ansible~master~I598d230bfbb5696f1c0799295d9e456eade56676,openstack/tripleo-ansible,master,I598d230bfbb5696f1c0799295d9e456eade56676,Rise async value for containers starting commands,MERGED,2020-01-28 16:32:23.000000000,2020-02-07 17:10:14.000000000,2020-02-07 17:10:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-28 16:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba4f97ee12e850543b39c91057ced02cc3c82013', 'message': 'Rise async value for containers starting commands\n\nOfficial documentation states:\n\nIf the value of async: is not high enough, this will cause the ""check\non it later"" task to fail because the temporary status file that the\nasync_status: is looking for will not have been written or no longer\nexist.\n\nAnd the listed there example has async=1000.\n\nRize the value of a 300 used in tripleo_container_manage for creating\nnew containers to appear to be ""high enough""...\n\nChange-Id: I598d230bfbb5696f1c0799295d9e456eade56676\nCloses-bug: #1861093\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-01-29 08:39:53.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4db9a480b9e26dbe51c26873088b92ec1db32f8', 'message': 'Rise async value for containers starting commands\n\nOfficial documentation states:\n\nIf the value of async: is not high enough, this will cause the ""check\non it later"" task to fail because the temporary status file that the\nasync_status: is looking for will not have been written or no longer\nexist.\n\nAnd the listed there example has async=1000.\n\nRize the value of a 300 used in tripleo_container_manage for creating\nnew containers to appear to be ""high enough""...\n\nChange-Id: I598d230bfbb5696f1c0799295d9e456eade56676\nCloses-bug: #1861093\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,704626,a4db9a480b9e26dbe51c26873088b92ec1db32f8,18,8,2,6926,,,0,"Rise async value for containers starting commands

Official documentation states:

If the value of async: is not high enough, this will cause the ""check
on it later"" task to fail because the temporary status file that the
async_status: is looking for will not have been written or no longer
exist.

And the listed there example has async=1000.

Rize the value of a 300 used in tripleo_container_manage for creating
new containers to appear to be ""high enough""...

Change-Id: I598d230bfbb5696f1c0799295d9e456eade56676
Closes-bug: #1861093
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/704626/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,ba4f97ee12e850543b39c91057ced02cc3c82013,," async: ""{{ (not ansible_check_mode | bool) | ternary('3000', omit) }}"""," async: ""{{ (not ansible_check_mode | bool) | ternary('300', omit) }}""",1,1
openstack%2Freleases~master~I9766924867e8b13a44bea6d30226a7f82169aaaa,openstack/releases,master,I9766924867e8b13a44bea6d30226a7f82169aaaa,Release python-ironiccliet 2.5.4 for rocky,MERGED,2020-02-06 14:16:03.000000000,2020-02-07 16:41:09.000000000,2020-02-07 16:41:08.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:16:03.000000000', 'files': ['deliverables/rocky/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/de45fc3f66648e94c0928d34c01460677bc8861a', 'message': 'Release python-ironiccliet 2.5.4 for rocky\n\nChange-Id: I9766924867e8b13a44bea6d30226a7f82169aaaa\n'}]",0,706277,de45fc3f66648e94c0928d34c01460677bc8861a,10,4,1,14826,,,0,"Release python-ironiccliet 2.5.4 for rocky

Change-Id: I9766924867e8b13a44bea6d30226a7f82169aaaa
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/706277/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-ironicclient.yaml'],1,de45fc3f66648e94c0928d34c01460677bc8861a,, - projects: - repo: openstack/python-ironicclient hash: 877875a62fee39d8d287fae144c907e4a4fd146d version: 2.5.4,,4,0
openstack%2Foslo.versionedobjects~master~I9d1e9403352e82b0d8721c0efdc856152b9fae86,openstack/oslo.versionedobjects,master,I9d1e9403352e82b0d8721c0efdc856152b9fae86,Switch from inspect.getargspec to inspect.getfullargspec,ABANDONED,2019-12-24 12:05:47.000000000,2020-02-07 16:37:59.000000000,,"[{'_account_id': 4393}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-24 12:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/259debb283912a34d58c5280a7ce7a9dc563d47f', 'message': ""WIP: Handle deprecation of inspect.getargspec\n\ngetargspec has been deprecated in py3 with plans to remove it in a\nfuture release. The recommendation is to move to inspect.signature, but\nthe results of that call are different than the existing one.\n\nThere is also getfullargspec available under py3 that was originally\ndeprecated, but for the sake of handling 2/3 code, it has been\nun-deprecated. This call uses inspect internally, but returns a mostly\ncompatible result with what getargspec did. This handles getargspec\ndeprecation by just using getfullargspec instead if it is available\n\nThis is WIP because it's breaking the stable hashes we provide via the\n'oslo_versionedobjects.fixture.ObjectVersionChecker.get_hashes' method.\nWe're either going to have to deal with this, via a major version bump\nthat also drops support for Python 2 or by vendoring the code from\nstdlib into o.v.o.\n\nChange-Id: I9d1e9403352e82b0d8721c0efdc856152b9fae86\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-02-07 11:45:55.000000000', 'files': ['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/fixture.py', 'oslo_versionedobjects/exception.py', 'oslo_versionedobjects/fields.py', 'oslo_versionedobjects/tests/test_objects.py', 'oslo_versionedobjects/tests/test_fixture.py', 'oslo_versionedobjects/test.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/16ea0d4ba146fb3f292b1d68ba5011780fc3d3cc', 'message': ""Switch from inspect.getargspec to inspect.getfullargspec\n\ngetargspec has been deprecated in Python 3 with plans to remove it in a\nfuture release. The recommendation is to move to inspect.signature, but\nthe results of that call are different than the existing one. However,\nthere is also getfullargspec available under Python 3 that was\noriginally deprecated but, for the sake of handling 2/3 code, it has\nbeen un-deprecated. This call uses inspect internally, but returns a\nmostly compatible result with what getargspec did. This handles\ngetargspec deprecation by just using getfullargspec instead if it is\navailable. Switch to using this.\n\nNote that this results in a change in object hashes. This is unavoidable\nas the alternative is to vendor the deprecated (and broken, hence its\ndeprecation) 'getargspec' in o.vo. Since we're dropping Python 2 support\nand releasing a new major version, now is as good a time as any to do\nthis migration.\n\nChange-Id: I9d1e9403352e82b0d8721c0efdc856152b9fae86\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,700509,16ea0d4ba146fb3f292b1d68ba5011780fc3d3cc,11,3,2,15334,,,0,"Switch from inspect.getargspec to inspect.getfullargspec

getargspec has been deprecated in Python 3 with plans to remove it in a
future release. The recommendation is to move to inspect.signature, but
the results of that call are different than the existing one. However,
there is also getfullargspec available under Python 3 that was
originally deprecated but, for the sake of handling 2/3 code, it has
been un-deprecated. This call uses inspect internally, but returns a
mostly compatible result with what getargspec did. This handles
getargspec deprecation by just using getfullargspec instead if it is
available. Switch to using this.

Note that this results in a change in object hashes. This is unavoidable
as the alternative is to vendor the deprecated (and broken, hence its
deprecation) 'getargspec' in o.vo. Since we're dropping Python 2 support
and releasing a new major version, now is as good a time as any to do
this migration.

Change-Id: I9d1e9403352e82b0d8721c0efdc856152b9fae86
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/09/700509/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/fixture.py', 'oslo_versionedobjects/tests/test_fixture.py', 'oslo_versionedobjects/test.py']",3,259debb283912a34d58c5280a7ce7a9dc563d47f,drop-py27-support, if six.PY3: getargspec = inspect.getfullargspec else: getargspec = inspect.getargspec baseargs = getargspec(basemethods[name]) implargs = getargspec(implmethods[name]), baseargs = inspect.getargspec(basemethods[name]) implargs = inspect.getargspec(implmethods[name]),18,6
openstack%2Freleases~master~I6d9bf2c38519d69ac0798769af78e3178f10725f,openstack/releases,master,I6d9bf2c38519d69ac0798769af78e3178f10725f,Release stable branches for ironic-lib,MERGED,2020-02-06 14:07:17.000000000,2020-02-07 16:37:47.000000000,2020-02-07 16:37:47.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:07:17.000000000', 'files': ['deliverables/rocky/ironic-lib.yaml', 'deliverables/stein/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7c5e95445ec760c578b36248cea68c2d33a743fb', 'message': 'Release stable branches for ironic-lib\n\n- Release 2.14.3 for rocky\n- Release 2.16.4 for stein\n\nChange-Id: I6d9bf2c38519d69ac0798769af78e3178f10725f\n'}]",0,706273,7c5e95445ec760c578b36248cea68c2d33a743fb,10,4,1,14826,,,0,"Release stable branches for ironic-lib

- Release 2.14.3 for rocky
- Release 2.16.4 for stein

Change-Id: I6d9bf2c38519d69ac0798769af78e3178f10725f
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/706273/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/ironic-lib.yaml', 'deliverables/stein/ironic-lib.yaml']",2,7c5e95445ec760c578b36248cea68c2d33a743fb,, - projects: - hash: 67214a778df97d2a9ddb019401dabdca9d0e3a8d repo: openstack/ironic-lib version: 2.16.4,,8,0
openstack%2Freleases~master~If7e88ad6c0bf37cc0337914887213e15187218c7,openstack/releases,master,If7e88ad6c0bf37cc0337914887213e15187218c7,Release stable branches for ironic-ui,MERGED,2020-02-06 14:25:21.000000000,2020-02-07 16:37:46.000000000,2020-02-07 16:37:46.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:25:21.000000000', 'files': ['deliverables/stein/ironic-ui.yaml', 'deliverables/train/ironic-ui.yaml', 'deliverables/rocky/ironic-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/07bcc13592c342ea19eacaf225ac93f9b6add105', 'message': 'Release stable branches for ironic-ui\n\n- Release 3.3.1 for rocky\n- Release 3.4.1 for stein\n- Release 3.5.4 for train\n\nChange-Id: If7e88ad6c0bf37cc0337914887213e15187218c7\n'}]",0,706279,07bcc13592c342ea19eacaf225ac93f9b6add105,10,4,1,14826,,,0,"Release stable branches for ironic-ui

- Release 3.3.1 for rocky
- Release 3.4.1 for stein
- Release 3.5.4 for train

Change-Id: If7e88ad6c0bf37cc0337914887213e15187218c7
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/706279/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/ironic-ui.yaml', 'deliverables/train/ironic-ui.yaml', 'deliverables/rocky/ironic-ui.yaml']",3,07bcc13592c342ea19eacaf225ac93f9b6add105,, - version: 3.3.1 projects: - repo: openstack/ironic-ui hash: ca94a7661ef76f752e533e386ba929bb2a94b539,,12,0
openstack%2Freleases~master~I03fe8816413e00c3f0bcf06729b5c601bacc752a,openstack/releases,master,I03fe8816413e00c3f0bcf06729b5c601bacc752a,Release stable branches for sushy,MERGED,2020-02-06 14:12:55.000000000,2020-02-07 16:37:18.000000000,2020-02-07 16:37:18.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:12:55.000000000', 'files': ['deliverables/train/sushy.yaml', 'deliverables/rocky/sushy.yaml', 'deliverables/stein/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/33278707a81d84a07394d85d7c1fb803978f37a6', 'message': 'Release stable branches for sushy\n\n- Release 1.6.1 for rocky\n- Release 1.8.2 for stein\n- Release 2.0.1 for train\n\nChange-Id: I03fe8816413e00c3f0bcf06729b5c601bacc752a\n'}]",0,706275,33278707a81d84a07394d85d7c1fb803978f37a6,10,4,1,14826,,,0,"Release stable branches for sushy

- Release 1.6.1 for rocky
- Release 1.8.2 for stein
- Release 2.0.1 for train

Change-Id: I03fe8816413e00c3f0bcf06729b5c601bacc752a
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/706275/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/sushy.yaml', 'deliverables/rocky/sushy.yaml', 'deliverables/stein/sushy.yaml']",3,33278707a81d84a07394d85d7c1fb803978f37a6,, - version: 1.8.2 projects: - hash: e6378be7995dc57225f9ffa260afa5a03b0a580d repo: openstack/sushy,,12,0
openstack%2Freleases~master~I69d6e53bf722470333a64d92a34c43c1db6fe5d6,openstack/releases,master,I69d6e53bf722470333a64d92a34c43c1db6fe5d6,Release stable branches for ironic-python-agent,MERGED,2020-02-06 14:03:26.000000000,2020-02-07 16:37:17.000000000,2020-02-07 16:37:17.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:03:26.000000000', 'files': ['deliverables/rocky/ironic-python-agent.yaml', 'deliverables/train/ironic-python-agent.yaml', 'deliverables/stein/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fde0efefb2d476c342b5754ac1e7b791c86ad7cc', 'message': 'Release stable branches for ironic-python-agent\n\n- Release 3.3.3 for rocky\n- Release 3.6.3 for stein\n- Release 5.0.1 for train\n\nChange-Id: I69d6e53bf722470333a64d92a34c43c1db6fe5d6\n'}]",2,706272,fde0efefb2d476c342b5754ac1e7b791c86ad7cc,11,5,1,14826,,,0,"Release stable branches for ironic-python-agent

- Release 3.3.3 for rocky
- Release 3.6.3 for stein
- Release 5.0.1 for train

Change-Id: I69d6e53bf722470333a64d92a34c43c1db6fe5d6
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/706272/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/ironic-python-agent.yaml', 'deliverables/train/ironic-python-agent.yaml', 'deliverables/stein/ironic-python-agent.yaml']",3,fde0efefb2d476c342b5754ac1e7b791c86ad7cc,, - projects: - hash: cd839b008f85d23dd784e4392ecee9653095da6c repo: openstack/ironic-python-agent version: 3.6.3,,12,0
openstack%2Freleases~master~If322a761fbdaf247052f9328c830020f64da1333,openstack/releases,master,If322a761fbdaf247052f9328c830020f64da1333,Release stable branches for metalsmith,MERGED,2020-02-06 14:10:08.000000000,2020-02-07 16:36:58.000000000,2020-02-07 16:36:58.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:10:08.000000000', 'files': ['deliverables/train/metalsmith.yaml', 'deliverables/stein/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5ebc9b15333bdb7382b503effb35f804d9104c47', 'message': 'Release stable branches for metalsmith\n\n- Release 0.11.1 for stein\n- Release 0.15.1 for train\n\nChange-Id: If322a761fbdaf247052f9328c830020f64da1333\n'}]",0,706274,5ebc9b15333bdb7382b503effb35f804d9104c47,10,4,1,14826,,,0,"Release stable branches for metalsmith

- Release 0.11.1 for stein
- Release 0.15.1 for train

Change-Id: If322a761fbdaf247052f9328c830020f64da1333
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/706274/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/metalsmith.yaml', 'deliverables/stein/metalsmith.yaml']",2,5ebc9b15333bdb7382b503effb35f804d9104c47,, - version: 0.11.1 projects: - repo: openstack/metalsmith hash: 3f2e391389d294d04abeb159b215ba0e0aabf0cf,,8,0
openstack%2Freleases~master~If331ac9f5dc5819d876bdc309b12b2ec2c66e919,openstack/releases,master,If331ac9f5dc5819d876bdc309b12b2ec2c66e919,Release stable branches for ironic-inspector,MERGED,2020-02-06 13:59:25.000000000,2020-02-07 16:36:42.000000000,2020-02-07 16:36:42.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 13:59:25.000000000', 'files': ['deliverables/rocky/ironic-inspector.yaml', 'deliverables/stein/ironic-inspector.yaml', 'deliverables/train/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/588392c9671c678738b18082563f0176c676acd5', 'message': 'Release stable branches for ironic-inspector\n\n- Release 8.0.4 for rocky\n- Release 8.2.4 for stein\n- Release 9.2.1 for train\n\nChange-Id: If331ac9f5dc5819d876bdc309b12b2ec2c66e919\n'}]",0,706270,588392c9671c678738b18082563f0176c676acd5,10,4,1,14826,,,0,"Release stable branches for ironic-inspector

- Release 8.0.4 for rocky
- Release 8.2.4 for stein
- Release 9.2.1 for train

Change-Id: If331ac9f5dc5819d876bdc309b12b2ec2c66e919
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/706270/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/ironic-inspector.yaml', 'deliverables/stein/ironic-inspector.yaml', 'deliverables/train/ironic-inspector.yaml']",3,588392c9671c678738b18082563f0176c676acd5,, - version: 9.2.1 projects: - hash: 578ab43b284610c55ba0c8051acedcdf9701f8b8 repo: openstack/ironic-inspector,,12,0
openstack%2Freleases~master~I314a496c209d12c8a7ba8826e4fba6459bf7fb05,openstack/releases,master,I314a496c209d12c8a7ba8826e4fba6459bf7fb05,Release stable branches for bifrost,MERGED,2020-02-06 14:30:44.000000000,2020-02-07 16:31:28.000000000,2020-02-07 16:31:28.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 14:30:44.000000000', 'files': ['deliverables/train/bifrost.yaml', 'deliverables/rocky/bifrost.yaml', 'deliverables/stein/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b5ebeec051b6169f98151cce98908d9ff89f4c1', 'message': 'Release stable branches for bifrost\n\n- Release 5.1.5 for rocky\n- Release 6.0.3 for stein\n- Release 7.1.1 for train\n\nChange-Id: I314a496c209d12c8a7ba8826e4fba6459bf7fb05\n'}]",0,706282,0b5ebeec051b6169f98151cce98908d9ff89f4c1,10,4,1,14826,,,0,"Release stable branches for bifrost

- Release 5.1.5 for rocky
- Release 6.0.3 for stein
- Release 7.1.1 for train

Change-Id: I314a496c209d12c8a7ba8826e4fba6459bf7fb05
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/706282/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/bifrost.yaml', 'deliverables/rocky/bifrost.yaml', 'deliverables/stein/bifrost.yaml']",3,0b5ebeec051b6169f98151cce98908d9ff89f4c1,, - projects: - repo: openstack/bifrost hash: 981a0363223e98d188a20d029f008db139db0536 version: 6.0.3,,12,0
openstack%2Fpanko~stable%2Focata~I820d26910a8939d0f5cf06346b173227f5615170,openstack/panko,stable/ocata,I820d26910a8939d0f5cf06346b173227f5615170,Remove tripleo newton and ocata jobs (ocata branch),ABANDONED,2018-11-24 01:17:20.000000000,2020-02-07 16:31:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-24 01:17:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/53ba5fcc3dac52cb8781c110cd8e9c978db70c4b', 'message': 'Remove tripleo newton and ocata jobs (ocata branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I820d26910a8939d0f5cf06346b173227f5615170\n'}]",0,619822,53ba5fcc3dac52cb8781c110cd8e9c978db70c4b,3,1,1,8175,,,0,"Remove tripleo newton and ocata jobs (ocata branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I820d26910a8939d0f5cf06346b173227f5615170
",git fetch https://review.opendev.org/openstack/panko refs/changes/22/619822/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53ba5fcc3dac52cb8781c110cd8e9c978db70c4b,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fpanko~stable%2Fpike~I820d26910a8939d0f5cf06346b173227f5615170,openstack/panko,stable/pike,I820d26910a8939d0f5cf06346b173227f5615170,Remove tripleo newton and ocata jobs (pike branch),ABANDONED,2018-11-24 01:16:43.000000000,2020-02-07 16:31:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-24 01:16:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/d92d33ea9ddfca28de5076ea11a30bd0de15d0c7', 'message': 'Remove tripleo newton and ocata jobs (pike branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I820d26910a8939d0f5cf06346b173227f5615170\n'}]",0,619821,d92d33ea9ddfca28de5076ea11a30bd0de15d0c7,3,1,1,8175,,,0,"Remove tripleo newton and ocata jobs (pike branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I820d26910a8939d0f5cf06346b173227f5615170
",git fetch https://review.opendev.org/openstack/panko refs/changes/21/619821/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d92d33ea9ddfca28de5076ea11a30bd0de15d0c7,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fpanko~stable%2Fqueens~I820d26910a8939d0f5cf06346b173227f5615170,openstack/panko,stable/queens,I820d26910a8939d0f5cf06346b173227f5615170,Remove tripleo newton and ocata jobs (queens branch),ABANDONED,2018-11-24 01:14:48.000000000,2020-02-07 16:31:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-24 01:14:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/ddb5beb19eebec836ac7e0770026d81fec44a02c', 'message': 'Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I820d26910a8939d0f5cf06346b173227f5615170\n'}]",0,619820,ddb5beb19eebec836ac7e0770026d81fec44a02c,3,1,1,8175,,,0,"Remove tripleo newton and ocata jobs (queens branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I820d26910a8939d0f5cf06346b173227f5615170
",git fetch https://review.opendev.org/openstack/panko refs/changes/20/619820/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ddb5beb19eebec836ac7e0770026d81fec44a02c,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fpanko~stable%2Frocky~I820d26910a8939d0f5cf06346b173227f5615170,openstack/panko,stable/rocky,I820d26910a8939d0f5cf06346b173227f5615170,Remove tripleo newton and ocata jobs (rocky branch),ABANDONED,2018-11-24 01:14:21.000000000,2020-02-07 16:30:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-24 01:14:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/7d8f569f0b53d0b62a976e42aa9e28485fa01265', 'message': 'Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I820d26910a8939d0f5cf06346b173227f5615170\n'}]",0,619819,7d8f569f0b53d0b62a976e42aa9e28485fa01265,3,1,1,8175,,,0,"Remove tripleo newton and ocata jobs (rocky branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I820d26910a8939d0f5cf06346b173227f5615170
",git fetch https://review.opendev.org/openstack/panko refs/changes/19/619819/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d8f569f0b53d0b62a976e42aa9e28485fa01265,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fpanko~master~I820d26910a8939d0f5cf06346b173227f5615170,openstack/panko,master,I820d26910a8939d0f5cf06346b173227f5615170,Remove tripleo newton and ocata jobs,ABANDONED,2018-11-24 01:09:47.000000000,2020-02-07 16:30:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-24 01:09:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/b3aa52ab87b51f6231c2dac4e6d724c14a16334a', 'message': 'Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I820d26910a8939d0f5cf06346b173227f5615170\n'}]",0,619818,b3aa52ab87b51f6231c2dac4e6d724c14a16334a,3,1,1,8175,,,0,"Remove tripleo newton and ocata jobs

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I820d26910a8939d0f5cf06346b173227f5615170
",git fetch https://review.opendev.org/openstack/panko refs/changes/18/619818/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b3aa52ab87b51f6231c2dac4e6d724c14a16334a,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fceilometer~stable%2Focata~I610269aefe2a2b3c132edd095ba9e4254ed8aa1e,openstack/ceilometer,stable/ocata,I610269aefe2a2b3c132edd095ba9e4254ed8aa1e,Remove tripleo newton and ocata jobs (ocata branch),ABANDONED,2018-11-19 23:56:18.000000000,2020-02-07 16:30:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 23:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ca688f4606aef46c6f9fc7398edad478caed6413', 'message': 'DNM: Remove tripleo newton and ocata jobs (ocata branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I610269aefe2a2b3c132edd095ba9e4254ed8aa1e\n'}, {'number': 2, 'created': '2018-11-23 19:28:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/533975096c10c68a18221e186bf15eff2461ff6b', 'message': 'Remove tripleo newton and ocata jobs (ocata branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I610269aefe2a2b3c132edd095ba9e4254ed8aa1e\n'}]",0,618913,533975096c10c68a18221e186bf15eff2461ff6b,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (ocata branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I610269aefe2a2b3c132edd095ba9e4254ed8aa1e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/13/618913/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca688f4606aef46c6f9fc7398edad478caed6413,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fceilometer~stable%2Fpike~I89acfbcd7a45e0b664d3943b6e889c147becc80d,openstack/ceilometer,stable/pike,I89acfbcd7a45e0b664d3943b6e889c147becc80d,Remove tripleo newton and ocata jobs (pike branch),ABANDONED,2018-11-19 23:54:56.000000000,2020-02-07 16:30:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 23:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/72f2b345e299df58d0ace65b77919162c6383c54', 'message': 'DNM: Remove tripleo newton and ocata jobs (pike branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I89acfbcd7a45e0b664d3943b6e889c147becc80d\n'}, {'number': 2, 'created': '2018-11-23 19:28:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5036c529ad028f54263ceab1ee5212893a05342c', 'message': 'Remove tripleo newton and ocata jobs (pike branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I89acfbcd7a45e0b664d3943b6e889c147becc80d\n'}]",0,618912,5036c529ad028f54263ceab1ee5212893a05342c,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (pike branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I89acfbcd7a45e0b664d3943b6e889c147becc80d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/12/618912/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,72f2b345e299df58d0ace65b77919162c6383c54,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false,2,7
openstack%2Fceilometer~stable%2Fqueens~I18739b7ce3f2d4f95994671d4578fe09ae6044c8,openstack/ceilometer,stable/queens,I18739b7ce3f2d4f95994671d4578fe09ae6044c8,Remove tripleo newton and ocata jobs (queens branch),ABANDONED,2018-11-19 23:52:28.000000000,2020-02-07 16:30:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 23:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/90c0d00c372d43c6a08b6604e29dba70a2bf62a7', 'message': 'DNM: Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I18739b7ce3f2d4f95994671d4578fe09ae6044c8\n'}, {'number': 2, 'created': '2018-11-23 19:28:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/48ef106a917af86d2ba39b34c41de2e2ad86a2ff', 'message': 'Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I18739b7ce3f2d4f95994671d4578fe09ae6044c8\n'}]",0,618910,48ef106a917af86d2ba39b34c41de2e2ad86a2ff,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (queens branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I18739b7ce3f2d4f95994671d4578fe09ae6044c8
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/10/618910/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,90c0d00c372d43c6a08b6604e29dba70a2bf62a7,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Fceilometer~stable%2Frocky~I9f9421f6e41692ff79f517550140a6f2e056116c,openstack/ceilometer,stable/rocky,I9f9421f6e41692ff79f517550140a6f2e056116c,Remove tripleo newton and ocata jobs (rocky branch),ABANDONED,2018-11-19 23:51:03.000000000,2020-02-07 16:30:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 23:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e329bd394714fbbd0ba19610c3273d7f857b8789', 'message': 'DNM: Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I9f9421f6e41692ff79f517550140a6f2e056116c\n'}, {'number': 2, 'created': '2018-11-23 19:27:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/30e610793d905beaf8a592dce76c197ba36e94e1', 'message': 'Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I9f9421f6e41692ff79f517550140a6f2e056116c\n'}]",0,618909,30e610793d905beaf8a592dce76c197ba36e94e1,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (rocky branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I9f9421f6e41692ff79f517550140a6f2e056116c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/09/618909/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e329bd394714fbbd0ba19610c3273d7f857b8789,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Fzaqar~stable%2Frocky~I7d5753192f78a34d8c320d59189fffc7bbf55d56,openstack/zaqar,stable/rocky,I7d5753192f78a34d8c320d59189fffc7bbf55d56,Remove tripleo newton and ocata jobs (rocky branch),ABANDONED,2018-11-19 20:19:42.000000000,2020-02-07 16:30:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 20:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1745e81e211b5238e74a39a250fb35d8bafdaa6e', 'message': 'DNM: Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I7d5753192f78a34d8c320d59189fffc7bbf55d56\n'}, {'number': 2, 'created': '2018-11-23 19:27:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2ef23b5b60a26e687c38a4df2b1991d3274b26cd', 'message': 'Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I7d5753192f78a34d8c320d59189fffc7bbf55d56\n'}]",0,618821,2ef23b5b60a26e687c38a4df2b1991d3274b26cd,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (rocky branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I7d5753192f78a34d8c320d59189fffc7bbf55d56
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/21/618821/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1745e81e211b5238e74a39a250fb35d8bafdaa6e,cleanup-old-branches, # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario002-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Fzaqar~stable%2Fqueens~I228d71e63c5c8c17ab4e6aa20374fc8e2522d859,openstack/zaqar,stable/queens,I228d71e63c5c8c17ab4e6aa20374fc8e2522d859,Remove tripleo newton and ocata jobs (queens branch),ABANDONED,2018-11-19 20:12:42.000000000,2020-02-07 16:30:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 20:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/87575fa97b0f9e0e2b90e08add03802c68691613', 'message': 'DNM: Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I228d71e63c5c8c17ab4e6aa20374fc8e2522d859\n'}, {'number': 2, 'created': '2018-11-23 19:26:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/daf90c61aebb485e3b7bc1ffcbe631e4e333c701', 'message': 'Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I228d71e63c5c8c17ab4e6aa20374fc8e2522d859\n'}]",0,618819,daf90c61aebb485e3b7bc1ffcbe631e4e333c701,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (queens branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I228d71e63c5c8c17ab4e6aa20374fc8e2522d859
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/19/618819/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87575fa97b0f9e0e2b90e08add03802c68691613,cleanup-old-branches, # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario002-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Fzaqar~stable%2Fpike~I3f051c3a1525f03203ed5d988bdc9c2ee4643852,openstack/zaqar,stable/pike,I3f051c3a1525f03203ed5d988bdc9c2ee4643852,Remove tripleo newton and ocata jobs (pike branch),ABANDONED,2018-11-19 20:09:19.000000000,2020-02-07 16:30:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 20:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/45db0a71d8d390d3a1b13f276997730321c8b1b4', 'message': 'DNM: Remove tripleo newton and ocata jobs (pike branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I3f051c3a1525f03203ed5d988bdc9c2ee4643852\n'}, {'number': 2, 'created': '2018-11-23 19:26:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f509d94f0d184f16ae3233a20c696641db1f098d', 'message': 'Remove tripleo newton and ocata jobs (pike branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I3f051c3a1525f03203ed5d988bdc9c2ee4643852\n'}]",0,618818,f509d94f0d184f16ae3233a20c696641db1f098d,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (pike branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I3f051c3a1525f03203ed5d988bdc9c2ee4643852
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/18/618818/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,45db0a71d8d390d3a1b13f276997730321c8b1b4,cleanup-old-branches, # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario002-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Fzaqar~stable%2Focata~I26b9457ab39f294816fb1e6485541a4d1285e66d,openstack/zaqar,stable/ocata,I26b9457ab39f294816fb1e6485541a4d1285e66d,Remove tripleo newton and ocata jobs (ocata branch),ABANDONED,2018-11-19 19:58:57.000000000,2020-02-07 16:30:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 19:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d0c651fae441c67d1a1473d4a8628ae27944b00e', 'message': 'DNM: Remove tripleo newton and ocata jobs (ocata branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nThe job being removed is defined in tripleo-ci which is not\nbranched.\n\nChange-Id: I26b9457ab39f294816fb1e6485541a4d1285e66d\n'}, {'number': 2, 'created': '2018-11-23 19:26:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/74add9192ef62264ae594a6f2545e8791d658cb2', 'message': 'Remove tripleo newton and ocata jobs (ocata branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nThe job being removed is defined in tripleo-ci which is not\nbranched.\n\nChange-Id: I26b9457ab39f294816fb1e6485541a4d1285e66d\n'}]",0,618814,74add9192ef62264ae594a6f2545e8791d658cb2,5,1,2,8175,,,0,"Remove tripleo newton and ocata jobs (ocata branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

The job being removed is defined in tripleo-ci which is not
branched.

Change-Id: I26b9457ab39f294816fb1e6485541a4d1285e66d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/14/618814/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d0c651fae441c67d1a1473d4a8628ae27944b00e,cleanup-old-branches,, - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,0,2
openstack%2Fceilometer~master~I0e3a3882a91c9aa6088ed8556022399768ee45f8,openstack/ceilometer,master,I0e3a3882a91c9aa6088ed8556022399768ee45f8,Remove tripleo newton and ocata jobs,ABANDONED,2018-11-19 19:01:34.000000000,2020-02-07 16:30:27.000000000,,"[{'_account_id': 10311}, {'_account_id': 15843}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1213f9b1fd942b0ec736e8eead02d8971a21a565', 'message': 'DNM: Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I0e3a3882a91c9aa6088ed8556022399768ee45f8\n'}, {'number': 2, 'created': '2018-11-23 19:25:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e998a6cb75c5e660fa055d15c09d734092249fc9', 'message': 'Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I0e3a3882a91c9aa6088ed8556022399768ee45f8\n'}]",0,618808,e998a6cb75c5e660fa055d15c09d734092249fc9,8,3,2,8175,,,0,"Remove tripleo newton and ocata jobs

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I0e3a3882a91c9aa6088ed8556022399768ee45f8
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/08/618808/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1213f9b1fd942b0ec736e8eead02d8971a21a565,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Faodh~stable%2Frocky~Ie3e3168dc2349f52dbec8435c4072494591e5682,openstack/aodh,stable/rocky,Ie3e3168dc2349f52dbec8435c4072494591e5682,Remove tripleo newton and ocata jobs (rocky branch),ABANDONED,2018-11-19 18:33:58.000000000,2020-02-07 16:30:19.000000000,,"[{'_account_id': 8175}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 18:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/c92dcfe060113ee11d8dab15954673b991744377', 'message': 'DNM: Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: Ie3e3168dc2349f52dbec8435c4072494591e5682\n'}, {'number': 2, 'created': '2018-11-23 19:25:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/40a0526d81960619ba9f3f988d053da7251ac26a', 'message': 'Remove tripleo newton and ocata jobs (rocky branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: Ie3e3168dc2349f52dbec8435c4072494591e5682\n'}]",0,618794,40a0526d81960619ba9f3f988d053da7251ac26a,7,2,2,8175,,,0,"Remove tripleo newton and ocata jobs (rocky branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Do Not merge: This is to be discussed in the next tripleo meeting

Change-Id: Ie3e3168dc2349f52dbec8435c4072494591e5682
",git fetch https://review.opendev.org/openstack/aodh refs/changes/94/618794/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c92dcfe060113ee11d8dab15954673b991744377,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Faodh~stable%2Fqueens~I9d853102aa07367a5d88de18b9760b0f9e18b734,openstack/aodh,stable/queens,I9d853102aa07367a5d88de18b9760b0f9e18b734,Remove tripleo newton and ocata jobs (queens branch),ABANDONED,2018-11-19 18:29:55.000000000,2020-02-07 16:30:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-19 18:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/fa46495acbf8b64b33f6596c94fb5a939b80ee1f', 'message': 'DNM: Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: I9d853102aa07367a5d88de18b9760b0f9e18b734\n'}, {'number': 2, 'created': '2018-11-19 18:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/5ec1aa4fc3d2f44e0ad02335af242ff77dd48082', 'message': 'DNM: Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: I9d853102aa07367a5d88de18b9760b0f9e18b734\n'}, {'number': 3, 'created': '2018-11-23 19:25:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/dfe41ca98076a87c6fc4849b94e7e9b9a12bfe8f', 'message': 'Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: I9d853102aa07367a5d88de18b9760b0f9e18b734\n'}]",0,618793,dfe41ca98076a87c6fc4849b94e7e9b9a12bfe8f,6,1,3,8175,,,0,"Remove tripleo newton and ocata jobs (queens branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Do Not merge: This is to be discussed in the next tripleo meeting

Change-Id: I9d853102aa07367a5d88de18b9760b0f9e18b734
",git fetch https://review.opendev.org/openstack/aodh refs/changes/93/618793/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa46495acbf8b64b33f6596c94fb5a939b80ee1f,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Faodh~master~Ia1d09b99ac4ca4613764c5fdaa99dc4ce3b644ba,openstack/aodh,master,Ia1d09b99ac4ca4613764c5fdaa99dc4ce3b644ba,Remove tripleo newton and ocata jobs,ABANDONED,2018-11-14 17:55:44.000000000,2020-02-07 16:30:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-14 17:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/2dee34e28695868742d61eec19562e37b98d0acb', 'message': 'DNM: Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: Ia1d09b99ac4ca4613764c5fdaa99dc4ce3b644ba\n'}, {'number': 2, 'created': '2018-11-23 19:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/48255bf066d317d12c9f736b4dd311dfcc29b36a', 'message': 'Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nDo Not merge: This is to be discussed in the next tripleo meeting\n\nChange-Id: Ia1d09b99ac4ca4613764c5fdaa99dc4ce3b644ba\n'}, {'number': 3, 'created': '2019-01-08 01:56:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/a81c93801026996ac638efe44b416391c0c5ee9d', 'message': 'Remove tripleo newton and ocata jobs\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: Ia1d09b99ac4ca4613764c5fdaa99dc4ce3b644ba\n'}]",0,618004,a81c93801026996ac638efe44b416391c0c5ee9d,7,1,3,8175,,,0,"Remove tripleo newton and ocata jobs

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: Ia1d09b99ac4ca4613764c5fdaa99dc4ce3b644ba
",git fetch https://review.opendev.org/openstack/aodh refs/changes/04/618004/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2dee34e28695868742d61eec19562e37b98d0acb,cleanup-old-branches, # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq-container will # run in Pike and beyond., # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario002-multinode-oooq,2,5
openstack%2Fkolla~master~I3bcef4fbba1f7c59b564446552532ea949bc34c3,openstack/kolla,master,I3bcef4fbba1f7c59b564446552532ea949bc34c3,DNM: Add rhel8 support for early CentOS8 testing,ABANDONED,2019-07-05 19:19:47.000000000,2020-02-07 16:28:57.000000000,,"[{'_account_id': 8175}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-07-05 19:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cfebfc2a286a15b659d6a460770cc329939e8098', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 2, 'created': '2019-07-05 19:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d4913028e88d1f4ac0ed21cdf81e44519c1f730', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 3, 'created': '2019-07-11 22:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e16773888c877d5f42c58adf0a108f1ec572836e', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 4, 'created': '2019-07-15 09:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58eceed42725305f0660df2cf8d24662af296f72', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 5, 'created': '2019-07-15 20:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2597b6b0e9d686a4b8f3eb2c30aa482c6d4bafcb', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 6, 'created': '2019-07-17 04:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9751d52c0031e0211f434a782a0a53f11b7e4c49', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 7, 'created': '2019-07-17 08:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9049291b8731a41d4b1826b53240c974e959bdb', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 8, 'created': '2019-07-17 09:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bc394b8e71646c6e2bba642e5cd55622262d6d6d', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 9, 'created': '2019-07-17 10:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07537a8e9b82ce7a6cbe500dbc206b4cbd4f9ab8', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 10, 'created': '2019-07-17 13:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57ad005d3560df97c6a635fa16900210ed1d1f40', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 11, 'created': '2019-09-20 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b76b79d29d55f79a94912b75cc30d6515dbbadf8', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 12, 'created': '2019-10-03 16:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fbe60bb3143a0176c13f6b2fda6e9c44d2fe3116', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 13, 'created': '2019-11-25 12:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e052d39c7dc62f20816d555e4c6e1c460fd77317', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 14, 'created': '2019-11-29 06:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c23c6aee40453db43196a16db300156d137edab0', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}, {'number': 15, 'created': '2020-01-31 17:25:11.000000000', 'files': ['docker/base/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/44ee02d22af306fe9307c3b3476756735891170e', 'message': 'DNM: Add rhel8 support for early CentOS8 testing\n\nRDO is currently using a version of RHEL 8 to test the python3\npackaging for the next version of CentOS/RHEL. This change updates\nbasic support to RHEL8 as a build option.\n\nRHEL8 is used on purpose in order to match RHEL/CentOS 8.\n\nStory: https://tree.taiga.io/project/tripleo-ci-board/us/956\n\nChange-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3\n'}]",0,669471,44ee02d22af306fe9307c3b3476756735891170e,47,6,15,8175,,,0,"DNM: Add rhel8 support for early CentOS8 testing

RDO is currently using a version of RHEL 8 to test the python3
packaging for the next version of CentOS/RHEL. This change updates
basic support to RHEL8 as a build option.

RHEL8 is used on purpose in order to match RHEL/CentOS 8.

Story: https://tree.taiga.io/project/tripleo-ci-board/us/956

Change-Id: I3bcef4fbba1f7c59b564446552532ea949bc34c3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/669471/14 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'kolla/common/config.py']",2,cfebfc2a286a15b659d6a460770cc329939e8098,rhel8-containers-buildupdate," 'rhel': '8',"," 'rhel': '7',",2,2
openstack%2Fkolla~master~I872061cf2522520f7a4208cb4ac60f4810863b4d,openstack/kolla,master,I872061cf2522520f7a4208cb4ac60f4810863b4d,DNM: Add dnf modules for rhel8/py3 containers,ABANDONED,2019-07-17 04:15:23.000000000,2020-02-07 16:19:42.000000000,,"[{'_account_id': 14826}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-17 04:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3871ed73f29c8a4be3babf6514671b4503bbd7c3', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 2, 'created': '2019-07-17 08:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f0f5aa13042cdec66010876d432712925d4dceb5', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 3, 'created': '2019-07-17 08:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/41d674e86ede1b7ffb15530c877a66a0e1ae9267', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 4, 'created': '2019-07-17 09:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bd7e2ee5bf14813e1ee4fafb180f8cef6d15f315', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 5, 'created': '2019-07-17 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10c1a4c28f426b2094b64ceb42587a9d56c0b55e', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 6, 'created': '2019-07-17 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c7d4b5781ee66a19f8b310d5c5f64e061689afa', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 7, 'created': '2019-07-17 12:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1f34c26ee0f0b0fb58f240747aad5422f5236ceb', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 8, 'created': '2019-07-17 12:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c9a419297c5621a0fc901051b29c4c41ffab3ee', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 9, 'created': '2019-09-20 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9507aea9c67ac34a223b940f9e657e3e25e3ebfa', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 10, 'created': '2019-10-03 16:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/986af8b0c64267686377ffc4c3db13e5247887d3', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 11, 'created': '2019-11-29 06:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/494029ea40416cad1b0893dfd6738fe321de9af7', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}, {'number': 12, 'created': '2020-01-31 17:16:38.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/tempest/Dockerfile.j2', 'docker/redis/redis/Dockerfile.j2', 'docker/mistral/mistral-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8dd2ea68f4f5c6c4d4bc1cde4df2d7b53f49f5ce', 'message': 'DNM: Add dnf modules for rhel8/py3 containers\n\nThis is an extension test patch for\nhttps://review.opendev.org/#/c/670911\n\nChange-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d\n'}]",2,671183,8dd2ea68f4f5c6c4d4bc1cde4df2d7b53f49f5ce,34,6,12,8175,,,0,"DNM: Add dnf modules for rhel8/py3 containers

This is an extension test patch for
https://review.opendev.org/#/c/670911

Change-Id: I872061cf2522520f7a4208cb4ac60f4810863b4d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/83/671183/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/redis/redis/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/mistral/mistral-base/Dockerfile.j2']",5,3871ed73f29c8a4be3babf6514671b4503bbd7c3,rhel8-containers-build, {% if distro_python_version.startswith('3') and base_distro_tag.startswith('8') %} RUN dnf -y module install redis {% endif %} ,,22,0
openstack%2Fopenstack-ansible~master~Ifeed116a026042ae32985aaa7ff3f167ef3923f4,openstack/openstack-ansible,master,Ifeed116a026042ae32985aaa7ff3f167ef3923f4,Do not append container_name for metal containers,MERGED,2020-02-04 17:23:56.000000000,2020-02-07 16:13:06.000000000,2020-02-07 00:05:57.000000000,"[{'_account_id': 1004}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-04 17:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fde73ad8e285f9026995f73f837f379502d1cc7', 'message': ""Do not append container_name for metal containers\n\ndynamic_inventory.py fails in case of hostname+container_name length\nis more than 52 symbols. While it's valid appriach for containers,\nit shouldn't raise error when container is deployed on metal, since\nnothing will be appended to it's current hostname.\n\nChange-Id: Ifeed116a026042ae32985aaa7ff3f167ef3923f4\n""}, {'number': 2, 'created': '2020-02-05 11:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d404f79ac26a5b0403fb35f5379094e36e4bcf12', 'message': ""Do not append container_name for metal containers\n\ndynamic_inventory.py fails in case of hostname+container_name length\nis more than 52 symbols. While it's valid appriach for containers,\nit shouldn't raise error when container is deployed on metal, since\nnothing will be appended to it's current hostname.\n\nChange-Id: Ifeed116a026042ae32985aaa7ff3f167ef3923f4\n""}, {'number': 3, 'created': '2020-02-05 12:09:58.000000000', 'files': ['osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a7edfb036dcba89b99bd5e1c3763aef7dbf7f28', 'message': ""Do not append container_name for metal containers\n\ndynamic_inventory.py fails in case of hostname+container_name length\nis more than 52 symbols. While it's valid appriach for containers,\nit shouldn't raise error when container is deployed on metal, since\nnothing will be appended to it's current hostname.\n\nChange-Id: Ifeed116a026042ae32985aaa7ff3f167ef3923f4\n""}]",1,705778,2a7edfb036dcba89b99bd5e1c3763aef7dbf7f28,18,5,3,28619,,,0,"Do not append container_name for metal containers

dynamic_inventory.py fails in case of hostname+container_name length
is more than 52 symbols. While it's valid appriach for containers,
it shouldn't raise error when container is deployed on metal, since
nothing will be appended to it's current hostname.

Change-Id: Ifeed116a026042ae32985aaa7ff3f167ef3923f4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/705778/3 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/generate.py'],1,3fde73ad8e285f9026995f73f837f379502d1cc7,metal_hostname," if len(type_and_name) > max_hostname_len and not properties['is_metal']: ' {} characters. This combination will result in a container' ' < 20 characters long.'.format( host_type, container_name, max_hostname_len ) ) elif len(host_type) > 63 and properties['is_metal']: raise SystemExit( 'The resulting hostname ""{0}"" is longer than 63 characters.' ' This combination may result in a name that is longer than' ' the maximum allowable hostname of 63 characters. Before' ' this process can continue please adjust the host entries' ' in your ""openstack_user_config.yml"" to use a short hostname' '.'.format(host_type)"," if len(type_and_name) > max_hostname_len: ' 52 characters. This combination will result in a container' ' < 20 characters long.'.format(host_type, container_name)",14,3
openstack%2Fopenstack-helm-addons~master~I7b5db2dbbfade6ffec3bdb7e288bfa2197b57a65,openstack/openstack-helm-addons,master,I7b5db2dbbfade6ffec3bdb7e288bfa2197b57a65,Made correction for url patch,MERGED,2020-02-06 21:47:53.000000000,2020-02-07 15:47:15.000000000,2020-02-07 15:47:15.000000000,"[{'_account_id': 18524}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-06 21:47:53.000000000', 'files': ['ranger-agent/templates/bin/_ranger-agent-test.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/a56c788fa30f2112213b596dcb514b37c0018b96', 'message': 'Made correction for url patch\n\nThis patch makes a correction to the url path used when making a\nrequests api call to ranger-agent-api pod.\n\nChange-Id: I7b5db2dbbfade6ffec3bdb7e288bfa2197b57a65\n'}]",0,706391,a56c788fa30f2112213b596dcb514b37c0018b96,7,5,1,19391,,,0,"Made correction for url patch

This patch makes a correction to the url path used when making a
requests api call to ranger-agent-api pod.

Change-Id: I7b5db2dbbfade6ffec3bdb7e288bfa2197b57a65
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/91/706391/1 && git format-patch -1 --stdout FETCH_HEAD,['ranger-agent/templates/bin/_ranger-agent-test.py.tpl'],1,a56c788fa30f2112213b596dcb514b37c0018b96,," resp = requests.post(url, resp = requests.get('%s?Id=%s' % (url, uuid))"," resp = requests.post('%s/v1/ord/ord_notifier' % (url), resp = requests.get('%s/v1/ord/ord_notifier?Id=%s' % (url, uuid))",2,2
openstack%2Frequirements~master~I168479a7fd9a4370be14c6288467f6c1dc79f60a,openstack/requirements,master,I168479a7fd9a4370be14c6288467f6c1dc79f60a,update constraint for oslo.serialization to new release 3.0.0,MERGED,2020-02-05 21:56:29.000000000,2020-02-07 15:30:13.000000000,2020-02-07 15:22:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e10695c833d73b30b8d0f7960742f4f618efb6cc', 'message': 'update constraint for oslo.serialization to new release 3.0.0\n\nChange-Id: I168479a7fd9a4370be14c6288467f6c1dc79f60a\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I02395f920e39a39a013004b0e664f76e20e60665\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-07 02:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/536b3f4b681f85b44ab65b606cb9bee246670aee', 'message': 'update constraint for oslo.serialization to new release 3.0.0\n\nChange-Id: I168479a7fd9a4370be14c6288467f6c1dc79f60a\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I02395f920e39a39a013004b0e664f76e20e60665\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-02-07 03:03:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8836131dc148c6a8dd1c4ee9b877a4c639fbb70f', 'message': 'update constraint for oslo.serialization to new release 3.0.0\n\nChange-Id: I168479a7fd9a4370be14c6288467f6c1dc79f60a\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I02395f920e39a39a013004b0e664f76e20e60665\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706127,8836131dc148c6a8dd1c4ee9b877a4c639fbb70f,16,2,3,11131,,,0,"update constraint for oslo.serialization to new release 3.0.0

Change-Id: I168479a7fd9a4370be14c6288467f6c1dc79f60a
meta:version: 3.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I02395f920e39a39a013004b0e664f76e20e60665
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/706127/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e10695c833d73b30b8d0f7960742f4f618efb6cc,new-release,oslo.serialization===3.0.0,oslo.serialization===2.29.2,1,1
openstack%2Fneutron~master~I2200329c9c5402562b84794f669177728794a5cd,openstack/neutron,master,I2200329c9c5402562b84794f669177728794a5cd,Increase tox-cover timeout to 4800 seconds,MERGED,2020-01-29 17:24:13.000000000,2020-02-07 15:30:09.000000000,2020-02-07 15:22:45.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-29 17:24:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7dc0ac63a215047080a8ea057cb56d8e5b4fba6', 'message': 'Increase tox-cover timeout to 4800 seconds\n\nChange-Id: I2200329c9c5402562b84794f669177728794a5cd\nRelated-Bug: #1860332\n'}]",1,704851,b7dc0ac63a215047080a8ea057cb56d8e5b4fba6,20,5,1,16688,,,0,"Increase tox-cover timeout to 4800 seconds

Change-Id: I2200329c9c5402562b84794f669177728794a5cd
Related-Bug: #1860332
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/704851/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b7dc0ac63a215047080a8ea057cb56d8e5b4fba6,bug/1860332, - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800,,2,0
openstack%2Frequirements~master~Ifef3343c1465775708490e23e8d7f227403de9fa,openstack/requirements,master,Ifef3343c1465775708490e23e8d7f227403de9fa,add caps for the recent oslo releases,MERGED,2020-02-07 00:55:26.000000000,2020-02-07 15:26:57.000000000,2020-02-07 15:22:47.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 00:55:26.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc691fb7ac6507c0ca9fd935e244dbfbdcfc7d0e', 'message': 'add caps for the recent oslo releases\n\nChange-Id: Ifef3343c1465775708490e23e8d7f227403de9fa\n'}]",0,706420,cc691fb7ac6507c0ca9fd935e244dbfbdcfc7d0e,8,3,1,14288,,,0,"add caps for the recent oslo releases

Change-Id: Ifef3343c1465775708490e23e8d7f227403de9fa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/706420/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,cc691fb7ac6507c0ca9fd935e244dbfbdcfc7d0e,oslo-py3-caps,"debtcollector<2.0.0;python_version<'3.0' # Apache-2.0 debtcollector;python_version>='3.0' # Apache-2.0oslo.cache!=1.31.1,<2.0.0;python_version<'3.0' # Apache-2.0 oslo.cache!=1.31.1;python_version>='3.0' # Apache-2.0 oslo.config!=4.3.0,!=4.4.0,<8.0.0;python_version<'3.0' # Apache-2.0 oslo.config!=4.3.0,!=4.4.0;python_version>='3.0' # Apache-2.0oslo.context<3.0.0;python_version<'3.0' # Apache-2.0 oslo.context;python_version>='3.0' # Apache-2.0oslo.log<4.0.0;python_version<'3.0' # Apache-2.0 oslo.log;python_version>='3.0' # Apache-2.0oslo.serialization!=2.19.1,<3.0.0;python_version<'3.0' # Apache-2.0 oslo.serialization!=2.19.1;python_version>='3.0' # Apache-2.0oslo.utils!=3.39.1,!=3.40.0,!=3.40.1,<4.0.0;python_version<'3.0' # Apache-2.0 oslo.utils!=3.39.1,!=3.40.0,!=3.40.1;python_version>='3.0' # Apache-2.0","debtcollector # Apache-2.0oslo.cache!=1.31.1 # Apache-2.0 oslo.config!=4.3.0,!=4.4.0 # Apache-2.0oslo.context # Apache-2.0oslo.log # Apache-2.0oslo.serialization!=2.19.1 # Apache-2.0oslo.utils!=3.39.1,!=3.40.0,!=3.40.1 # Apache-2.0",14,7
openstack%2Ftripleo-ansible~master~I08a06b300d43aca7db2c9e3341a07bc903163d26,openstack/tripleo-ansible,master,I08a06b300d43aca7db2c9e3341a07bc903163d26,Octavia: do not attempt container restart on empty list,MERGED,2020-01-30 19:06:56.000000000,2020-02-07 15:08:27.000000000,2020-02-07 15:08:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6683}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-01-30 19:06:56.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1bafe4df85cb34990f4ed2f85dbb094f9c96762b', 'message': 'Octavia: do not attempt container restart on empty list\n\nWith composable roles, the node with the octavia agents may not have any\nprocesses running when we hit step 5 external deploy tasks, resulting in\nour ""one line"" restart failing. This patch splits the query for octavia\ncontainers out into a separate task and we conditionally run the restart\ntask depending on whether there are containers found.\n\nChange-Id: I08a06b300d43aca7db2c9e3341a07bc903163d26\nCloses-Bug: #1861413\n'}]",8,705093,1bafe4df85cb34990f4ed2f85dbb094f9c96762b,24,11,1,6681,,,0,"Octavia: do not attempt container restart on empty list

With composable roles, the node with the octavia agents may not have any
processes running when we hit step 5 external deploy tasks, resulting in
our ""one line"" restart failing. This patch splits the query for octavia
containers out into a separate task and we conditionally run the restart
task depending on whether there are containers found.

Change-Id: I08a06b300d43aca7db2c9e3341a07bc903163d26
Closes-Bug: #1861413
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/705093/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml'],1,1bafe4df85cb34990f4ed2f85dbb094f9c96762b,,"- name: get list of running octavia containers become: true shell: | sudo ""{{ container_cli }}"" ps -f name=octavia -q register: running_octavia_containers when: - octavia_config_updated shell: ""{{ container_cli }} restart {{ running_octavia_containers.stdout }}"" - running_octavia_containers.rc != 0 - (running_octavia_containers.stdout|length) > 0"," shell: ""{{ container_cli }} restart $(sudo {{ container_cli }} ps -f name=octavia -q)""",11,1
openstack%2Ftripleo-quickstart~master~I1b04ed93d6810b93a6e6ee0032a88b02c97d9a3c,openstack/tripleo-quickstart,master,I1b04ed93d6810b93a6e6ee0032a88b02c97d9a3c,Bump molecule,MERGED,2020-02-06 22:47:56.000000000,2020-02-07 14:41:58.000000000,2020-02-07 14:39:48.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-06 22:47:56.000000000', 'files': ['molecule/install-deps/molecule.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3e04d1206c69b459a087d5372cf6140ce2eeb5d1', 'message': 'Bump molecule\n\nChange-Id: I1b04ed93d6810b93a6e6ee0032a88b02c97d9a3c\n'}]",4,706403,3e04d1206c69b459a087d5372cf6140ce2eeb5d1,15,6,1,24162,,,0,"Bump molecule

Change-Id: I1b04ed93d6810b93a6e6ee0032a88b02c97d9a3c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/03/706403/1 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/install-deps/molecule.yml', 'tox.ini']",2,3e04d1206c69b459a087d5372cf6140ce2eeb5d1,mov3, molecule>=3.0a6 selinux>=0.2.1, molecule>=2.22rc1 selinux>=0.1.5rc1,2,5
openstack%2Freleases~master~I6e0e4e9e7b44947ec5fbc9f638c05a6592d3e139,openstack/releases,master,I6e0e4e9e7b44947ec5fbc9f638c05a6592d3e139,Run release-approval job on specific pipeline,MERGED,2020-02-05 15:51:19.000000000,2020-02-07 14:37:56.000000000,2020-02-07 14:37:56.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-05 15:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/76a95ec34279f0866683d7e89974446f7cf78071', 'message': 'Run release-approval job on specific pipeline\n\nSwitch the check-release-approval job to run on the new\nrelease-approval pipeline (i.e. on every comment) rather\nthan on the experimental pipeline (only upon request).\n\nDepends-On: https://review.opendev.org/705990\nChange-Id: I6e0e4e9e7b44947ec5fbc9f638c05a6592d3e139\n'}, {'number': 2, 'created': '2020-02-06 12:49:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b218e9c76d9b2b0eed28584a49819eaa86936732', 'message': 'Run release-approval job on specific pipeline\n\nSwitch the check-release-approval job to run on the new\nrelease-approval pipeline (i.e. on patchset submission, then\non every comment not coming from the zuul user), rather than\non the experimental pipeline (only upon request).\n\nDepends-On: https://review.opendev.org/706257\nChange-Id: I6e0e4e9e7b44947ec5fbc9f638c05a6592d3e139\n'}]",0,705991,b218e9c76d9b2b0eed28584a49819eaa86936732,38,4,2,308,,,0,"Run release-approval job on specific pipeline

Switch the check-release-approval job to run on the new
release-approval pipeline (i.e. on patchset submission, then
on every comment not coming from the zuul user), rather than
on the experimental pipeline (only upon request).

Depends-On: https://review.opendev.org/706257
Change-Id: I6e0e4e9e7b44947ec5fbc9f638c05a6592d3e139
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/705991/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,76a95ec34279f0866683d7e89974446f7cf78071,enable-release-approval, release-approval:, experimental:,1,1
openstack%2Ftripleo-heat-templates~master~I858a7b8745688c6271b01795460ab4adbf3f2be5,openstack/tripleo-heat-templates,master,I858a7b8745688c6271b01795460ab4adbf3f2be5,Update ro excludes,MERGED,2020-01-22 21:28:25.000000000,2020-02-07 14:27:33.000000000,2020-02-07 01:11:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-01-22 21:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dae2f798e98f0a52d3c7d8d6dbd0cbdf9018039', 'message': ""Update ro excludes\n\nWhen container-puppet.sh (or docker-puppet.sh) runs, we always bind\nmount in certain directories and files. However if these files change\nwhile we're running the puppet execution externally on the host, they\nend up being copied to our puppet-generated path. This path is copied\ninto the container when kolla starts up. Because we re-mount these same\npaths in the end container as read-only, kolla will try and update the\nread-only mount which errors. This change updates our rsync excludes to\ninclude:\n\n * /etc/pki/catrust/extracted\n * /etc/pki/ca-trust/source/anchors\n * /etc/pki/tls/certs/ca-bundle.crt\n * /etc/pki/tls/certs/ca-bundle.trust.crt\n * /etc/pki/tls/cert.pem\n * /etc/hosts\n * /etc/localtime\n\nChange-Id: I858a7b8745688c6271b01795460ab4adbf3f2be5\nCloses-Bug: #1860607\n""}, {'number': 2, 'created': '2020-01-22 21:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aba0e0901bcdb4bed9f55abec821a93c3ba56614', 'message': ""Update ro excludes\n\nWhen container-puppet.sh (or docker-puppet.sh) runs, we always bind\nmount in certain directories and files. However if these files change\nwhile we're running the puppet execution externally on the host, they\nend up being copied to our puppet-generated path. This path is copied\ninto the container when kolla starts up. Because we re-mount these same\npaths in the end container as read-only, kolla will try and update the\nread-only mount which errors. This change updates our rsync excludes to\ninclude:\n\n * /etc/pki/ca-trust/extracted\n * /etc/pki/ca-trust/source/anchors\n * /etc/pki/tls/certs/ca-bundle.crt\n * /etc/pki/tls/certs/ca-bundle.trust.crt\n * /etc/pki/tls/cert.pem\n * /etc/hosts\n * /etc/localtime\n\nChange-Id: I858a7b8745688c6271b01795460ab4adbf3f2be5\nCloses-Bug: #1860607\n""}, {'number': 3, 'created': '2020-01-23 10:47:01.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36ea0148e8b2ed30fb0a03fe6f812fd00657924b', 'message': ""Update ro excludes\n\nWhen container-puppet.sh (or docker-puppet.sh) runs, we always bind\nmount in certain directories and files. However if these files change\nwhile we're running the puppet execution externally on the host, they\nend up being copied to our puppet-generated path. This path is copied\ninto the container when kolla starts up. Because we re-mount these same\npaths in the end container as read-only, kolla will try and update the\nread-only mount which errors. This change updates our rsync excludes to\ninclude:\n\n * /etc/pki/ca-trust/extracted\n * /etc/pki/ca-trust/source/anchors\n * /etc/pki/tls/certs/ca-bundle.crt\n * /etc/pki/tls/certs/ca-bundle.trust.crt\n * /etc/pki/tls/cert.pem\n * /etc/hosts\n * /etc/localtime\n\nChange-Id: I858a7b8745688c6271b01795460ab4adbf3f2be5\nCloses-Bug: #1860607\n""}]",2,703873,36ea0148e8b2ed30fb0a03fe6f812fd00657924b,33,6,3,14985,,,0,"Update ro excludes

When container-puppet.sh (or docker-puppet.sh) runs, we always bind
mount in certain directories and files. However if these files change
while we're running the puppet execution externally on the host, they
end up being copied to our puppet-generated path. This path is copied
into the container when kolla starts up. Because we re-mount these same
paths in the end container as read-only, kolla will try and update the
read-only mount which errors. This change updates our rsync excludes to
include:

 * /etc/pki/ca-trust/extracted
 * /etc/pki/ca-trust/source/anchors
 * /etc/pki/tls/certs/ca-bundle.crt
 * /etc/pki/tls/certs/ca-bundle.trust.crt
 * /etc/pki/tls/cert.pem
 * /etc/hosts
 * /etc/localtime

Change-Id: I858a7b8745688c6271b01795460ab4adbf3f2be5
Closes-Bug: #1860607
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/703873/2 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,1dae2f798e98f0a52d3c7d8d6dbd0cbdf9018039,bug/1860607," ro_files=""/etc/puppetlabs/ /opt/puppetlabs/"" ""/etc/pki/catrust/extracted"" ""/etc/pki/ca-trust/source/anchors"" ""/etc/pki/tls/certs/ca-bundle.crt"" ""/etc/pki/tls/certs/ca-bundle.trust.crt"" ""/etc/pki/tls/cert.pem"" ""/etc/hosts"" ""/etc/localtime"""," ro_files=""/etc/puppetlabs/ /opt/puppetlabs/""",1,1
openstack%2Fcharm-watcher~master~I2dc7b1777c70fa5aa4eb28aa7a24bb4638ecf94e,openstack/charm-watcher,master,I2dc7b1777c70fa5aa4eb28aa7a24bb4638ecf94e,Change Docs and URLs,MERGED,2020-02-05 11:07:49.000000000,2020-02-07 14:21:52.000000000,2020-02-07 14:21:52.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 11:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/004101aaa9dd1694648c74c67cc90ef465f9f78a', 'message': 'Change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher.\n\nChange-Id: I2dc7b1777c70fa5aa4eb28aa7a24bb4638ecf94e\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2020-02-05 12:07:47.000000000', 'files': ['src/README.md', 'src/metadata.yaml', 'src/HACKING.md', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/c6df61e4db42aa83e471ea8c2790ca3d66199912', 'message': 'Change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher.\n\nChange-Id: I2dc7b1777c70fa5aa4eb28aa7a24bb4638ecf94e\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,705924,c6df61e4db42aa83e471ea8c2790ca3d66199912,10,4,2,28014,,,0,"Change Docs and URLs

This patch changes the initial information to point to upstream after
the official release of charm-watcher.

Change-Id: I2dc7b1777c70fa5aa4eb28aa7a24bb4638ecf94e
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/24/705924/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/metadata.yaml', 'src/HACKING.md', 'src/layer.yaml']",4,004101aaa9dd1694648c74c67cc90ef465f9f78a,,repo: https://github.com/openstack/charm-watcher,repo: https://github.com/grnet/charm-watcher,19,9
openstack%2Fproject-config~master~I4808a84cd39a5a19ddad86b548ec18d8cadf7430,openstack/project-config,master,I4808a84cd39a5a19ddad86b548ec18d8cadf7430,Do not post comments in release-approval pipeline,MERGED,2020-02-07 09:42:37.000000000,2020-02-07 13:59:20.000000000,2020-02-07 13:53:23.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 09:42:37.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d11e9ce9aafabf5478069f80b74b95bc25bd5087', 'message': ""Do not post comments in release-approval pipeline\n\nSince it rus on every (human) comment, the release-approval pipeline\ncan get pretty noisy. It's also not that critical to read (failure\ngenerally meaning that you don't have the required +1s yet).\n\nThis change disables comment posting on success/failure in the pipeline.\n\nChange-Id: I4808a84cd39a5a19ddad86b548ec18d8cadf7430\n""}]",0,706453,d11e9ce9aafabf5478069f80b74b95bc25bd5087,8,3,1,308,,,0,"Do not post comments in release-approval pipeline

Since it rus on every (human) comment, the release-approval pipeline
can get pretty noisy. It's also not that critical to read (failure
generally meaning that you don't have the required +1s yet).

This change disables comment posting on success/failure in the pipeline.

Change-Id: I4808a84cd39a5a19ddad86b548ec18d8cadf7430
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/706453/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,d11e9ce9aafabf5478069f80b74b95bc25bd5087,release-approval-pipeline, comment: false comment: false,,2,0
openstack%2Ftripleo-ansible~master~Ic75f40a750880be4ea00ed79de4575cdbbe0f190,openstack/tripleo-ansible,master,Ic75f40a750880be4ea00ed79de4575cdbbe0f190,Add service management support.,MERGED,2019-09-09 13:55:25.000000000,2020-02-07 13:52:38.000000000,2020-02-07 13:52:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 9592}, {'_account_id': 11085}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-09-09 13:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c21abaef8b6e2f405b8824430aeb33106886b184', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 2, 'created': '2019-10-02 01:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e3b95d2904e5766c09307de3bf6dea1c6e42996', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 3, 'created': '2019-10-02 01:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6fbf2bafd22f5eefdebcf51f2b0356339593cc0', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 4, 'created': '2019-10-03 15:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7468b94f570e2e81ec500cad38897e6e15b66885', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 5, 'created': '2019-10-07 18:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8baa6d9e895b23a04f49f09bf9db5a87d5549052', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 6, 'created': '2019-11-21 16:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f76cf36a0d37fd1a78786a4e3ee5ad2e7274368b', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 7, 'created': '2019-11-21 20:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39c3194701f5c3e046d47d7c9d6258e247c5ecb8', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 8, 'created': '2019-12-02 16:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebabf597297d458d70f4731e249f0173ffc759fb', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 9, 'created': '2019-12-02 21:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/579e3009153c02deb2dfc0f9954147454166b956', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 10, 'created': '2019-12-03 18:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2b91479a2e02382e68688d29486b40d9be4c081', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 11, 'created': '2019-12-04 13:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0eb6dd57db3ddd4fde2101dd5fa9b6c1bcec31e', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 12, 'created': '2019-12-18 21:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c9a566d293de311e385c6b0d06b4f8f3139baba9', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 13, 'created': '2020-01-21 08:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6842e925a936c563a3b1300082826b855d4e4056', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 14, 'created': '2020-01-21 12:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f8fa0379b53c4a0d24a1cd50970e63d79e0829b4', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 15, 'created': '2020-01-22 06:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5402aaa6a2da7adbce8b63e8789e750716c87804', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 16, 'created': '2020-01-30 14:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86fac7f4a1d40536e766f91c892152b96e6436c9', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 17, 'created': '2020-01-30 15:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7561ab3ec39254aa76db51d7d24ce59f2751e757', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 18, 'created': '2020-02-03 11:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/696da1fcdbed83ec71d472382165e24e9203bc29', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 19, 'created': '2020-02-03 11:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78f19f89af58cdd199b0a5e6c0fba91899d0b33b', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 20, 'created': '2020-02-03 12:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa81449599669c4f954a0bbccf78aed8024284e3', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 21, 'created': '2020-02-03 13:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e1a6ad6ca350c0b602051feb2726890758b24eb', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 22, 'created': '2020-02-03 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a92a61cfe8525d92220fbdf5cfb79704f1e4029f', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 23, 'created': '2020-02-04 11:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/01e94e7858001dff31a3298853d22d0318c21d2d', 'message': '[WIP] Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 24, 'created': '2020-02-05 08:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c402ad369bf878305f9cbf40501305aa7bdc24f', 'message': 'Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}, {'number': 25, 'created': '2020-02-07 07:49:15.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/service_manager_unpause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/backup/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b26f440d3ca163ed97d2ec3dc87ca96b2745d9c', 'message': 'Add service management support.\n\nThe current role for backup and restore will need service\nmanagement to insure that all running services on the nodes\nare stopped and restarted in order to capture a consistent state.\nThis change also includes database dump functionality which will\nallow the operator to create a clean backup of the database.\n\nChange-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190\n'}]",43,681017,9b26f440d3ca163ed97d2ec3dc87ca96b2745d9c,98,10,25,11085,,,0,"Add service management support.

The current role for backup and restore will need service
management to insure that all running services on the nodes
are stopped and restarted in order to capture a consistent state.
This change also includes database dump functionality which will
allow the operator to create a clean backup of the database.

Change-Id: Ic75f40a750880be4ea00ed79de4575cdbbe0f190
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/681017/14 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup-and-restore/database/handlers/main.yml', 'tripleo_ansible/roles/backup-and-restore/database/tasks/mysql_backup.yml', 'tripleo_ansible/roles/backup-and-restore/service_manager/vars/main.yml', 'tripleo_ansible/roles/backup-and-restore/database/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/database/tasks/redis_backup.yml', 'tripleo_ansible/roles/backup-and-restore/service_manager/tasks/container_service_manager.yml', 'tripleo_ansible/roles/backup-and-restore/service_manager/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/database/vars/main.yml', 'tripleo_ansible/roles/backup-and-restore/service_manager/tasks/service_manager.yml']",9,c21abaef8b6e2f405b8824430aeb33106886b184,backup-restore-service_manager,"--- # Service Management playbook. - name: Gather service list shell: ""systemctl list-unit-files --state=enabled --type=service | awk '/^{{ item }}.* enabled$/ {print $1}'"" args: executable: ""/bin/bash"" loop: ""{{ service_map | subelements('systemd_unit', skip_missing=True) }}"" register: _enabled_services changed_when: false - name: Execute service action service: name: ""{{ item }}"" state: stopped with_items: ""{{ (_enabled_services.stdout_lines | difference(service_negate | default([]))) | list }}"" tags: - stop_services - name: Start Service service: name: ""{{ item }} "" state: started with_items: ""{{ (_enabled_services.stdout_lines | difference(service_negate | default([]))) | list }}"" tags: - start_services ",,231,0
openstack%2Fcharm-octavia~master~Icf51624bfd9c2f53b7e81927651387908e852f1f,openstack/charm-octavia,master,Icf51624bfd9c2f53b7e81927651387908e852f1f,Rebuild for 20.02 release,MERGED,2020-02-05 16:54:56.000000000,2020-02-07 13:50:39.000000000,2020-02-07 13:50:39.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:54:56.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e3def774add4f7102d1a271c840d5f1af09592b4', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Icf51624bfd9c2f53b7e81927651387908e852f1f\n'}]",0,706038,e3def774add4f7102d1a271c840d5f1af09592b4,14,5,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: Icf51624bfd9c2f53b7e81927651387908e852f1f
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/38/706038/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,e3def774add4f7102d1a271c840d5f1af09592b4,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fkolla~master~Ie095590b82d6e1b3922d99178d3a4019626ab630,openstack/kolla,master,Ie095590b82d6e1b3922d99178d3a4019626ab630,CI: Replace cinder-lvm scenario with zun scenario,MERGED,2020-02-05 17:34:03.000000000,2020-02-07 13:24:15.000000000,2020-02-07 13:21:41.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-05 17:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa0f5da07ee6474d33bf9d2641d305a507f93ee5', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}, {'number': 2, 'created': '2020-02-06 10:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e524d01c7c982e9f7276e17dc3e99b3e54dc77d4', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}, {'number': 3, 'created': '2020-02-06 17:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4740341ab2f0057607669a2b64e6297d1766d9d1', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}, {'number': 4, 'created': '2020-02-06 17:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/440c40967032158a7a5de6ca8086e24467e51421', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}, {'number': 5, 'created': '2020-02-06 17:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/817b21b05289febbf762d1af7b3dadf6c7f6c0c6', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}, {'number': 6, 'created': '2020-02-06 17:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3cad10cda5eaff4af7499fb54f70ed4a6d72ac50', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}, {'number': 7, 'created': '2020-02-06 19:42:41.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7c2e4b34c91bbe947490940da23bc0f6ea4867c', 'message': 'CI: Replace cinder-lvm scenario with zun scenario\n\nAs discussed during the meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html\n\nChange-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630\n'}]",3,706059,a7c2e4b34c91bbe947490940da23bc0f6ea4867c,37,7,7,30491,,,0,"CI: Replace cinder-lvm scenario with zun scenario

As discussed during the meeting. [1]

[1] http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-05-15.00.html

Change-Id: Ie095590b82d6e1b3922d99178d3a4019626ab630
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/706059/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml']",2,aa0f5da07ee6474d33bf9d2641d305a507f93ee5,ci-replace-cinder-lvm-with-zun, - kolla-ansible-ubuntu-source-zun: files: ^docker\/(base|cinder|etcd|iscsid|kuryr|openstack-base|zun)\/.*, - kolla-ansible-ubuntu-source-cinder-lvm: files: ^docker\/(base|cinder|iscsid|openstack-base)\/.*,4,4
openstack%2Fproject-config~master~I3e7aba14360e4df2e4d7c8f386d3fb9c8b92fa73,openstack/project-config,master,I3e7aba14360e4df2e4d7c8f386d3fb9c8b92fa73,Add Label definition for PTL-Approved,MERGED,2020-02-07 12:36:05.000000000,2020-02-07 13:07:18.000000000,2020-02-07 12:59:37.000000000,"[{'_account_id': 3099}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 12:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b0c0c4bda81fbd0d4efcfd28f53e1715e09b152e', 'message': 'Add Label definition for PTL-Approved\n\nCurrently we\'re just seeing ""Allow"" in:\n\n  https://review.opendev.org/#/admin/projects/openstack/releases,access\n\nMaybe it\'s because there is no definition of the label qualities.\n\nChange-Id: I3e7aba14360e4df2e4d7c8f386d3fb9c8b92fa73\n'}, {'number': 2, 'created': '2020-02-07 12:39:41.000000000', 'files': ['gerrit/acls/openstack/releases.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/83bebd1d1bd8122eb6171209c4ed6eda8e6ce4be', 'message': 'Add Label definition for PTL-Approved\n\nCurrently we\'re just seeing ""Allow"" in:\n\n  https://review.opendev.org/#/admin/projects/openstack/releases,access\n\nMaybe it\'s because there is no definition of the label qualities.\n\nChange-Id: I3e7aba14360e4df2e4d7c8f386d3fb9c8b92fa73\n'}]",0,706488,83bebd1d1bd8122eb6171209c4ed6eda8e6ce4be,10,3,2,2,,,0,"Add Label definition for PTL-Approved

Currently we're just seeing ""Allow"" in:

  https://review.opendev.org/#/admin/projects/openstack/releases,access

Maybe it's because there is no definition of the label qualities.

Change-Id: I3e7aba14360e4df2e4d7c8f386d3fb9c8b92fa73
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/706488/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/releases.config'],1,b0c0c4bda81fbd0d4efcfd28f53e1715e09b152e,," [label ""PTL-Approved""] copyAllScoresOnTrivialRebase = true defaultValue = 0 function = NoOp value = 0 Abstain value = +1 Approved by PTL",,7,0
openstack%2Foslo.versionedobjects~master~I4efa547407549bccb0873e8f4d51fa678a8069e6,openstack/oslo.versionedobjects,master,I4efa547407549bccb0873e8f4d51fa678a8069e6,gitignore: Ignore reno artefacts,MERGED,2020-01-23 11:21:33.000000000,2020-02-07 13:07:07.000000000,2020-02-07 13:05:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-23 11:21:33.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/a4b7ef7b56a4648917c98fc7855a9a93b8f16439', 'message': 'gitignore: Ignore reno artefacts\n\nChange-Id: I4efa547407549bccb0873e8f4d51fa678a8069e6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,703969,a4b7ef7b56a4648917c98fc7855a9a93b8f16439,8,3,1,15334,,,0,"gitignore: Ignore reno artefacts

Change-Id: I4efa547407549bccb0873e8f4d51fa678a8069e6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/69/703969/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,a4b7ef7b56a4648917c98fc7855a9a93b8f16439,bug/1860652,RELEASENOTES.rstreleasenotes/notes/reno.cache,,2,0
openstack%2Freleases~master~Ic8cc6d6523089280a0652982161d535184c4e84f,openstack/releases,master,Ic8cc6d6523089280a0652982161d535184c4e84f,Release catellan 2.0.0,MERGED,2020-02-07 10:09:07.000000000,2020-02-07 13:05:23.000000000,2020-02-07 13:05:23.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 10:09:07.000000000', 'files': ['deliverables/ussuri/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3eedd446be7ace7da4cafceac8be660f9c0805e6', 'message': 'Release catellan 2.0.0\n\nThis version officially drop the python 2 support so we release a major\nversion of castellan to inform user that we break\nthe backward compatibility.\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n-\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ic8cc6d6523089280a0652982161d535184c4e84f\n'}]",0,706459,3eedd446be7ace7da4cafceac8be660f9c0805e6,6,2,1,28522,,,0,"Release catellan 2.0.0

This version officially drop the python 2 support so we release a major
version of castellan to inform user that we break
the backward compatibility.

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ic8cc6d6523089280a0652982161d535184c4e84f
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/706459/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/castellan.yaml'],1,3eedd446be7ace7da4cafceac8be660f9c0805e6,oslo_drop_py2_support, - version: 2.0.0 projects: - repo: openstack/castellan hash: 141e7e4209b96b83ad61edaa1804e09fe0141fad,,4,0
openstack%2Freleases~master~I18f2bcffdaa9d57d5287f1d28d7fce24d3320c3b,openstack/releases,master,I18f2bcffdaa9d57d5287f1d28d7fce24d3320c3b,Release automaton 2.0.0,MERGED,2020-02-07 10:05:45.000000000,2020-02-07 13:05:22.000000000,2020-02-07 13:05:22.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 10:05:45.000000000', 'files': ['deliverables/ussuri/automaton.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/205e4c6ea8be787291fd9087d873ce8cffb51f27', 'message': 'Release automaton 2.0.0\n\nThis version officially drop the python 2 support so we release a major\nversion of automaton to inform user that we break\nthe backward compatibility.\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n-\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I18f2bcffdaa9d57d5287f1d28d7fce24d3320c3b\n'}]",0,706458,205e4c6ea8be787291fd9087d873ce8cffb51f27,6,2,1,28522,,,0,"Release automaton 2.0.0

This version officially drop the python 2 support so we release a major
version of automaton to inform user that we break
the backward compatibility.

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I18f2bcffdaa9d57d5287f1d28d7fce24d3320c3b
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/706458/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/automaton.yaml'],1,205e4c6ea8be787291fd9087d873ce8cffb51f27,oslo_drop_py2_support,releases: - version: 2.0.0 projects: - repo: openstack/automaton hash: 1161c1c60cc896b7f44942466e9edbce45368f6a,,5,0
openstack%2Ftripleo-ansible~master~I5c91122b6cbd731d369b19b13fd011114dd48175,openstack/tripleo-ansible,master,I5c91122b6cbd731d369b19b13fd011114dd48175,Simplify ssh_known_hosts role,MERGED,2020-01-29 20:28:06.000000000,2020-02-07 12:55:16.000000000,2020-02-07 12:55:16.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 19619}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-01-29 20:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/244b07c00dfcac63106335130bd6e1578bda9f94', 'message': 'Improve ssh_known_hosts test coverage\n\nEnsure default test case covers ssh_known_host entries for multiple networks.\nAdd a second test scenario to cover case where role_networks is not set.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nRelated-bug: #1861296\nRelated-bug: #1837644\n'}, {'number': 2, 'created': '2020-01-29 23:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9e1dcf5032125e1a0843aca49387312267ea131', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for enabled networks and fqdn/ip are all set\nas host vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nCloses-bug: #1861296\n'}, {'number': 3, 'created': '2020-01-29 23:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e31bde007a26bc0fa9224f5973cd54171482648', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for enabled networks and fqdn/ip are all set\nas host vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nCloses-bug: #1861296\n'}, {'number': 4, 'created': '2020-01-30 03:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/684f860c7e36678f617e45b4322f088fb1aaa572', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n'}, {'number': 5, 'created': '2020-01-30 03:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d14f5fc17b925edfa09a3742f52c0e08a206ae7', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n'}, {'number': 6, 'created': '2020-01-30 04:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aadbfb4f2e158f17ffb700f515cc04f441c855fd', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n'}, {'number': 7, 'created': '2020-01-30 16:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41f6fe8128a1d6ff2a11fb7b834117212e9c31c8', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n'}, {'number': 8, 'created': '2020-01-30 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7058ee45aba6c8391155320156a2e2154913841e', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n'}, {'number': 9, 'created': '2020-02-01 14:29:47.000000000', 'files': ['tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/playbook.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/prepare.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/tests/test_no_networks.py', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07946456d0380b441f75aeb3f7d5bec229f33bf1', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n'}]",5,704880,07946456d0380b441f75aeb3f7d5bec229f33bf1,38,10,9,23811,,,0,"Simplify ssh_known_hosts role

This is only required for compute nodes running nova_migration_target so
we can simplify the logic significantly.

The host.network entries are now omitted as cold/live migration only uses
either the fqdn,short hostname, or IP. This should help a little with scaling
too as ssh_host_keys can get gigantic with a large number of computes.

We can assume the remaining vars for networks and fqdn/ip are all set as host
or role group vars in the inventory.
Just in case fallback to basic entry when the host vars are missing.

This should also make it easier for operators to run the role in isolation
e.g to quickly fix up the ssh keys on any compute hosts omittied from a
scale-up.

Also fixes bug #1861296 which was caused by attempting to use set to override
a jinja2 var from an outer scope.

Change-Id: I5c91122b6cbd731d369b19b13fd011114dd48175
Depends-On: https://review.opendev.org/#/c/704919/
Closes-bug: #1861296
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/704880/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_role_networks/prepare.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_role_networks/playbook.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_role_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_role_networks/tests/test_no_role_networks.py', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_role_networks/Dockerfile']",7,244b07c00dfcac63106335130bd6e1578bda9f94,bug/1861296,"# Molecule managed # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install sudo python*-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ",,213,8
openstack%2Fcharm-vault~master~I8653e3039fbcb6ff5dd51cb83111d4fc39fb3784,openstack/charm-vault,master,I8653e3039fbcb6ff5dd51cb83111d4fc39fb3784,Change yaml.load to yaml.safe_load,MERGED,2020-02-05 18:30:45.000000000,2020-02-07 12:51:57.000000000,2020-02-07 12:51:57.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 18:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1cecafd4431ea47679e89d4af4e839a00178d4d1', 'message': 'Change yaml.load to yaml.safe_load\n\nThis silences the warning in the referenced bug and is also safer.\n\nChange-Id: I8653e3039fbcb6ff5dd51cb83111d4fc39fb3784\nCloses-Bug: #1862045\n'}, {'number': 2, 'created': '2020-02-07 11:10:22.000000000', 'files': ['src/tests/bundles/xenial-ha-mysql.yaml', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/03d37e876c26184c3ba3d0ff5f555af169ccaa34', 'message': 'Change yaml.load to yaml.safe_load\n\nThis silences the warning in the referenced bug and is also safer.\n\nChange-Id: I8653e3039fbcb6ff5dd51cb83111d4fc39fb3784\nCloses-Bug: #1862045\n'}]",0,706080,03d37e876c26184c3ba3d0ff5f555af169ccaa34,12,4,2,20870,,,0,"Change yaml.load to yaml.safe_load

This silences the warning in the referenced bug and is also safer.

Change-Id: I8653e3039fbcb6ff5dd51cb83111d4fc39fb3784
Closes-Bug: #1862045
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/80/706080/2 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/vault_handlers.py'],1,1cecafd4431ea47679e89d4af4e839a00178d4d1,bug/1862045, actions_yaml = yaml.safe_load(Path('actions.yaml').read_text()), actions_yaml = yaml.load(Path('actions.yaml').read_text()),1,1
openstack%2Ftripleo-quickstart-extras~master~Ic82f7538e78b9d479222ba69eb674da341eb4266,openstack/tripleo-quickstart-extras,master,Ic82f7538e78b9d479222ba69eb674da341eb4266,Bump molecule,MERGED,2020-02-06 23:15:14.000000000,2020-02-07 12:29:22.000000000,2020-02-07 12:26:27.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-06 23:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a2f53edc914abf4a01ab620f091b8275c368cfc6', 'message': 'Bump molecule\n\nChange-Id: Ic82f7538e78b9d479222ba69eb674da341eb4266\n'}, {'number': 2, 'created': '2020-02-06 23:16:51.000000000', 'files': ['roles/build-test-packages/molecule/default/molecule.yml', 'roles/validate-perf/molecule/default/molecule.yml', 'roles/validate-perf/molecule/default/converge.yml', 'roles/build-test-packages/molecule/default/converge.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c9151588399a8dd2ed10be301502cf05481d0ef5', 'message': 'Bump molecule\n\nChange-Id: Ic82f7538e78b9d479222ba69eb674da341eb4266\n'}]",3,706407,c9151588399a8dd2ed10be301502cf05481d0ef5,14,6,2,24162,,,0,"Bump molecule

Change-Id: Ic82f7538e78b9d479222ba69eb674da341eb4266
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/706407/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-test-packages/molecule/default/molecule.yml', 'roles/validate-perf/molecule/default/molecule.yml', 'tox.ini']",3,a2f53edc914abf4a01ab620f091b8275c368cfc6,mov3, molecule>=3.0a6, molecule>=3.0a4,1,11
openstack%2Ftripleo-operator-ansible~master~Id4fd60672576b640c0669bad6112f1259c983a05,openstack/tripleo-operator-ansible,master,Id4fd60672576b640c0669bad6112f1259c983a05,Bump molecule version,MERGED,2020-02-07 00:12:29.000000000,2020-02-07 12:27:03.000000000,2020-02-07 12:27:03.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-07 00:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2cbb2b2e6419e5c7e0e59602d4cefed59e12e1d5', 'message': ""Bump molecule version\n\nLatest version changes the file name from playbook.yml to\nconverage.yaml. Also the lint section isn't necessary because we run\nlinters seperate.\n\nChange-Id: Id4fd60672576b640c0669bad6112f1259c983a05\n""}, {'number': 2, 'created': '2020-02-07 00:25:29.000000000', 'files': ['roles/tripleo_config_generate_ansible/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/molecule.yml', 'roles/tripleo_config_generate_ansible/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/molecule/default/molecule.yml', 'roles/tripleo_container_image_show/molecule/default/converge.yml', 'roles/tripleo_container_image_delete/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/molecule/default/converge.yml', 'roles/test_molecule_prep/molecule/default/converge.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/converge.yml', 'roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/molecule.yml', 'roles/tripleo_container_image_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/converge.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/molecule.yml', 'roles/tripleo_container_image_push/molecule/default/molecule.yml', 'roles/tripleo_overcloud_deploy/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/molecule.yml', 'roles/tripleo_deploy/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/converge.yml', 'roles/tripleo_overcloud_export/molecule/default/converge.yml', 'roles/tripleo_undercloud_install/molecule/default/molecule.yml', 'roles/tripleo_overcloud_export/molecule/default/molecule.yml', 'roles/tripleo_overcloud_failures/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/test_molecule_prep/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/converge.yml', 'roles/tripleo_container_image_delete/molecule/default/converge.yml', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml', 'roles/tripleo_overcloud_failures/molecule/default/converge.yml', 'roles/tripleo_container_image_show/molecule/default/molecule.yml', 'tox.ini', 'roles/tripleo_undercloud_install/molecule/default/converge.yml', 'roles/tripleo_container_image_push/molecule/default/converge.yml', 'roles/tripleo_deploy/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/1486de5d02c064d8ac31cfd829fcb49f0aa7c5b4', 'message': ""Bump molecule version\n\nLatest version changes the file name from playbook.yml to\nconverage.yaml. Also the lint section isn't necessary because we run\nlinters seperate.\n\nChange-Id: Id4fd60672576b640c0669bad6112f1259c983a05\n""}]",0,706413,1486de5d02c064d8ac31cfd829fcb49f0aa7c5b4,9,6,2,14985,,,0,"Bump molecule version

Latest version changes the file name from playbook.yml to
converage.yaml. Also the lint section isn't necessary because we run
linters seperate.

Change-Id: Id4fd60672576b640c0669bad6112f1259c983a05
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/13/706413/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_config_generate_ansible/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/converage.yml', 'roles/tripleo_container_image_push/molecule/default/converage.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/converage.yml', 'roles/tripleo_undercloud_backup/molecule/default/molecule.yml', 'roles/tripleo_overcloud_failures/molecule/default/converage.yml', 'roles/tripleo_overcloud_deploy/molecule/default/converage.yml', 'roles/tripleo_container_image_delete/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/molecule.yml', 'roles/tripleo_config_generate_ansible/molecule/default/converage.yml', 'roles/tripleo_undercloud_backup/molecule/default/converage.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/converage.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/converage.yml', 'roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/molecule.yml', 'roles/tripleo_container_image_prepare/molecule/default/converage.yml', 'roles/tripleo_container_image_show/molecule/default/converage.yml', 'roles/tripleo_container_image_list/molecule/default/converage.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/converage.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/molecule.yml', 'roles/tripleo_deploy/molecule/default/converage.yml', 'roles/tripleo_container_image_push/molecule/default/molecule.yml', 'roles/tripleo_overcloud_deploy/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converage.yml', 'roles/tripleo_deploy/molecule/default/molecule.yml', 'roles/tripleo_undercloud_install/molecule/default/molecule.yml', 'roles/tripleo_overcloud_export/molecule/default/molecule.yml', 'roles/tripleo_overcloud_failures/molecule/default/molecule.yml', 'roles/test_molecule_prep/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/molecule.yml', 'roles/tripleo_overcloud_export/molecule/default/converage.yml', 'roles/test_molecule_prep/molecule/default/converage.yml', 'roles/tripleo_undercloud_install/molecule/default/converage.yml', 'roles/tripleo_container_image_delete/molecule/default/converage.yml', 'roles/tripleo_container_image_show/molecule/default/molecule.yml', 'tox.ini']",39,2cbb2b2e6419e5c7e0e59602d4cefed59e12e1d5,fix-molecule, molecule>=3.0a6, molecule>=3.0a5,1,58
openstack%2Ftripleo-ci~master~I424846750072088035b48f1cf600397125745d6a,openstack/tripleo-ci,master,I424846750072088035b48f1cf600397125745d6a,Bump molecule,MERGED,2020-02-06 22:44:00.000000000,2020-02-07 12:26:26.000000000,2020-02-07 12:26:26.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-06 22:44:00.000000000', 'files': ['roles/tripleo-repos/molecule/default/molecule.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9273389939ef3ca7a5381702447f93a9d52c25e7', 'message': 'Bump molecule\n\nChange-Id: I424846750072088035b48f1cf600397125745d6a\n'}]",0,706402,9273389939ef3ca7a5381702447f93a9d52c25e7,9,6,1,24162,,,0,"Bump molecule

Change-Id: I424846750072088035b48f1cf600397125745d6a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/706402/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-repos/molecule/default/molecule.yml', 'tox.ini']",2,9273389939ef3ca7a5381702447f93a9d52c25e7,mov3, molecule>=3.0a6 # MIT, molecule>=2.22rc1 # MIT,1,3
openstack%2Fironic~master~If6efd14ba28f6cb1eee2ce0c3cd9bbb89549c252,openstack/ironic,master,If6efd14ba28f6cb1eee2ce0c3cd9bbb89549c252,Remove references to 'firewall_driver',MERGED,2019-11-28 12:44:53.000000000,2020-02-07 12:15:27.000000000,2020-02-07 12:12:10.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 12:44:53.000000000', 'files': ['doc/source/install/configure-compute.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a5e6ead2a9da94b73024b77546158ca22b3f653', 'message': ""Remove references to 'firewall_driver'\n\nThis option has been removed from nova. Drop references to it from the\ndocumentation.\n\nChange-Id: If6efd14ba28f6cb1eee2ce0c3cd9bbb89549c252\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/#/c/696514/\n""}]",0,696535,9a5e6ead2a9da94b73024b77546158ca22b3f653,16,7,1,15334,,,0,"Remove references to 'firewall_driver'

This option has been removed from nova. Drop references to it from the
documentation.

Change-Id: If6efd14ba28f6cb1eee2ce0c3cd9bbb89549c252
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: https://review.opendev.org/#/c/696514/
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/696535/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-compute.rst'],1,9a5e6ead2a9da94b73024b77546158ca22b3f653,bp/remove-nova-network-ussuri,," # Firewall driver to use with nova-network service. # Ironic supports only neutron, so set this to noop. firewall_driver=nova.virt.firewall.NoopFirewallDriver ",0,4
openstack%2Fironic~master~I13997af2246327bd11b6aaf7029afb20923e64bc,openstack/ironic,master,I13997af2246327bd11b6aaf7029afb20923e64bc,Split cleaning-related functions from manager.py into a new module,MERGED,2020-02-06 12:50:44.000000000,2020-02-07 12:13:49.000000000,2020-02-07 12:12:08.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-06 12:50:44.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/conductor/cleaning.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb54c01c1245dd5a5dafd168aef8f653d1e104d4', 'message': 'Split cleaning-related functions from manager.py into a new module\n\nWith more than 4000 lines of code (more than 8000 of unit tests) the\ncurrent manager.py is barely manageable. In preparation for the new\ndeployment API, this change moves the internal cleaning-related\nfunctions to the new cleaning.py.\n\nChange-Id: I13997af2246327bd11b6aaf7029afb20923e64bc\nStory: #2006910\n'}]",0,706258,fb54c01c1245dd5a5dafd168aef8f653d1e104d4,11,5,1,10239,,,0,"Split cleaning-related functions from manager.py into a new module

With more than 4000 lines of code (more than 8000 of unit tests) the
current manager.py is barely manageable. In preparation for the new
deployment API, this change moves the internal cleaning-related
functions to the new cleaning.py.

Change-Id: I13997af2246327bd11b6aaf7029afb20923e64bc
Story: #2006910
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/706258/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/conductor/cleaning.py']",4,fb54c01c1245dd5a5dafd168aef8f653d1e104d4,story/2006910,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Functionality related to cleaning."""""" from oslo_log import log from ironic.common import exception from ironic.common.i18n import _ from ironic.common import states from ironic.conductor import steps as conductor_steps from ironic.conductor import task_manager from ironic.conductor import utils from ironic.conf import CONF LOG = log.getLogger(__name__) @task_manager.require_exclusive_lock def do_node_clean(task, clean_steps=None): """"""Internal RPC method to perform cleaning of a node. :param task: a TaskManager instance with an exclusive lock on its node :param clean_steps: For a manual clean, the list of clean steps to perform. Is None For automated cleaning (default). For more information, see the clean_steps parameter of :func:`ConductorManager.do_node_clean`. """""" node = task.node manual_clean = clean_steps is not None clean_type = 'manual' if manual_clean else 'automated' LOG.debug('Starting %(type)s cleaning for node %(node)s', {'type': clean_type, 'node': node.uuid}) if not manual_clean and utils.skip_automated_cleaning(node): # Skip cleaning, move to AVAILABLE. node.clean_step = None node.save() task.process_event('done') LOG.info('Automated cleaning is disabled, node %s has been ' 'successfully moved to AVAILABLE state.', node.uuid) return # NOTE(dtantsur): this is only reachable during automated cleaning, # for manual cleaning we verify maintenance mode earlier on. if (not CONF.conductor.allow_provisioning_in_maintenance and node.maintenance): msg = _('Cleaning a node in maintenance mode is not allowed') return utils.cleaning_error_handler(task, msg, tear_down_cleaning=False) try: # NOTE(ghe): Valid power and network values are needed to perform # a cleaning. task.driver.power.validate(task) task.driver.network.validate(task) except exception.InvalidParameterValue as e: msg = (_('Validation failed. Cannot clean node %(node)s. ' 'Error: %(msg)s') % {'node': node.uuid, 'msg': e}) return utils.cleaning_error_handler(task, msg) if manual_clean: info = node.driver_internal_info info['clean_steps'] = clean_steps node.driver_internal_info = info node.save() # Do caching of bios settings if supported by driver, # this will be called for both manual and automated cleaning. try: task.driver.bios.cache_bios_settings(task) except exception.UnsupportedDriverExtension: LOG.warning('BIOS settings are not supported for node %s, ' 'skipping', task.node.uuid) # TODO(zshi) remove this check when classic drivers are removed except Exception: msg = (_('Caching of bios settings failed on node %(node)s. ' 'Continuing with node cleaning.') % {'node': node.uuid}) LOG.exception(msg) # Allow the deploy driver to set up the ramdisk again (necessary for # IPA cleaning) try: prepare_result = task.driver.deploy.prepare_cleaning(task) except Exception as e: msg = (_('Failed to prepare node %(node)s for cleaning: %(e)s') % {'node': node.uuid, 'e': e}) LOG.exception(msg) return utils.cleaning_error_handler(task, msg) if prepare_result == states.CLEANWAIT: # Prepare is asynchronous, the deploy driver will need to # set node.driver_internal_info['clean_steps'] and # node.clean_step and then make an RPC call to # continue_node_clean to start cleaning. # For manual cleaning, the target provision state is MANAGEABLE, # whereas for automated cleaning, it is AVAILABLE (the default). target_state = states.MANAGEABLE if manual_clean else None task.process_event('wait', target_state=target_state) return try: conductor_steps.set_node_cleaning_steps(task) except (exception.InvalidParameterValue, exception.NodeCleaningFailure) as e: msg = (_('Cannot clean node %(node)s. Error: %(msg)s') % {'node': node.uuid, 'msg': e}) return utils.cleaning_error_handler(task, msg) steps = node.driver_internal_info.get('clean_steps', []) step_index = 0 if steps else None do_next_clean_step(task, step_index) @task_manager.require_exclusive_lock def do_next_clean_step(task, step_index): """"""Do cleaning, starting from the specified clean step. :param task: a TaskManager instance with an exclusive lock :param step_index: The first clean step in the list to execute. This is the index (from 0) into the list of clean steps in the node's driver_internal_info['clean_steps']. Is None if there are no steps to execute. """""" node = task.node # For manual cleaning, the target provision state is MANAGEABLE, # whereas for automated cleaning, it is AVAILABLE. manual_clean = node.target_provision_state == states.MANAGEABLE if step_index is None: steps = [] else: steps = node.driver_internal_info['clean_steps'][step_index:] LOG.info('Executing %(state)s on node %(node)s, remaining steps: ' '%(steps)s', {'node': node.uuid, 'steps': steps, 'state': node.provision_state}) # Execute each step until we hit an async step or run out of steps for ind, step in enumerate(steps): # Save which step we're about to start so we can restart # if necessary node.clean_step = step driver_internal_info = node.driver_internal_info driver_internal_info['clean_step_index'] = step_index + ind node.driver_internal_info = driver_internal_info node.save() interface = getattr(task.driver, step.get('interface')) LOG.info('Executing %(step)s on node %(node)s', {'step': step, 'node': node.uuid}) try: result = interface.execute_clean_step(task, step) except Exception as e: if isinstance(e, exception.AgentConnectionFailed): if task.node.driver_internal_info.get('cleaning_reboot'): LOG.info('Agent is not yet running on node %(node)s ' 'after cleaning reboot, waiting for agent to ' 'come up to run next clean step %(step)s.', {'node': node.uuid, 'step': step}) driver_internal_info['skip_current_clean_step'] = False node.driver_internal_info = driver_internal_info target_state = (states.MANAGEABLE if manual_clean else None) task.process_event('wait', target_state=target_state) return msg = (_('Node %(node)s failed step %(step)s: ' '%(exc)s') % {'node': node.uuid, 'exc': e, 'step': node.clean_step}) LOG.exception(msg) utils.cleaning_error_handler(task, msg) return # Check if the step is done or not. The step should return # states.CLEANWAIT if the step is still being executed, or # None if the step is done. if result == states.CLEANWAIT: # Kill this worker, the async step will make an RPC call to # continue_node_clean to continue cleaning LOG.info('Clean step %(step)s on node %(node)s being ' 'executed asynchronously, waiting for driver.', {'node': node.uuid, 'step': step}) target_state = states.MANAGEABLE if manual_clean else None task.process_event('wait', target_state=target_state) return elif result is not None: msg = (_('While executing step %(step)s on node ' '%(node)s, step returned invalid value: %(val)s') % {'step': step, 'node': node.uuid, 'val': result}) LOG.error(msg) return utils.cleaning_error_handler(task, msg) LOG.info('Node %(node)s finished clean step %(step)s', {'node': node.uuid, 'step': step}) # Clear clean_step node.clean_step = None driver_internal_info = node.driver_internal_info driver_internal_info['clean_steps'] = None driver_internal_info.pop('clean_step_index', None) driver_internal_info.pop('cleaning_reboot', None) driver_internal_info.pop('cleaning_polling', None) # Remove agent_url if not utils.fast_track_able(task): driver_internal_info.pop('agent_url', None) node.driver_internal_info = driver_internal_info node.save() try: task.driver.deploy.tear_down_cleaning(task) except Exception as e: msg = (_('Failed to tear down from cleaning for node %(node)s, ' 'reason: %(err)s') % {'node': node.uuid, 'err': e}) LOG.exception(msg) return utils.cleaning_error_handler(task, msg, tear_down_cleaning=False) LOG.info('Node %s cleaning complete', node.uuid) event = 'manage' if manual_clean or node.retired else 'done' # NOTE(rloo): No need to specify target prov. state; we're done task.process_event(event) @task_manager.require_exclusive_lock def do_node_clean_abort(task, step_name=None): """"""Internal method to abort an ongoing operation. :param task: a TaskManager instance with an exclusive lock :param step_name: The name of the clean step. """""" node = task.node try: task.driver.deploy.tear_down_cleaning(task) except Exception as e: LOG.exception('Failed to tear down cleaning for node %(node)s ' 'after aborting the operation. Error: %(err)s', {'node': node.uuid, 'err': e}) error_msg = _('Failed to tear down cleaning after aborting ' 'the operation') utils.cleaning_error_handler(task, error_msg, tear_down_cleaning=False, set_fail_state=False) return info_message = _('Clean operation aborted for node %s') % node.uuid last_error = _('By request, the clean operation was aborted') if step_name: msg = _(' after the completion of step ""%s""') % step_name last_error += msg info_message += msg node.last_error = last_error node.clean_step = None info = node.driver_internal_info # Clear any leftover metadata about cleaning info.pop('clean_step_index', None) info.pop('cleaning_reboot', None) info.pop('cleaning_polling', None) info.pop('skip_current_clean_step', None) info.pop('agent_url', None) node.driver_internal_info = info node.save() LOG.info(info_message) ",,1273,1236
openstack%2Foslo.rootwrap~master~Iae1a99a9d2644244165b18e030d1c1912ebd98f1,openstack/oslo.rootwrap,master,Iae1a99a9d2644244165b18e030d1c1912ebd98f1,Remove universal wheel configuration,MERGED,2020-02-06 17:36:46.000000000,2020-02-07 11:50:06.000000000,2020-02-07 11:48:27.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-02-06 17:36:46.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/675f0146261467f30eca7fdb576a26513f35b4d8', 'message': ""Remove universal wheel configuration\n\nNow that we've dropped py2 support we shouldn't be setting this\nanymore.\n\nChange-Id: Iae1a99a9d2644244165b18e030d1c1912ebd98f1\n""}]",0,706336,675f0146261467f30eca7fdb576a26513f35b4d8,10,5,1,6928,,,0,"Remove universal wheel configuration

Now that we've dropped py2 support we shouldn't be setting this
anymore.

Change-Id: Iae1a99a9d2644244165b18e030d1c1912ebd98f1
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/36/706336/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,675f0146261467f30eca7fdb576a26513f35b4d8,no-universal,,[wheel] universal = 1,0,2
openstack%2Fkolla~master~If5044346a90580c4051d6138a84ce10238807460,openstack/kolla,master,If5044346a90580c4051d6138a84ce10238807460,Add collectd-pmu package for Intel PMU (C7 only),MERGED,2020-01-28 12:55:11.000000000,2020-02-07 11:43:42.000000000,2020-02-07 11:41:46.000000000,"[{'_account_id': 4264}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 31539}]","[{'number': 1, 'created': '2020-01-28 12:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1cae846b00daa9b918eb72799165e214722e72e1', 'message': 'Add collectd-intel_pmu plugin\n\nThe intel_pmu plugin collects performance counters data on Intel CPUs\nusing Linux perf interface.\n\nChange-Id: If5044346a90580c4051d6138a84ce10238807460\n'}, {'number': 2, 'created': '2020-02-05 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ce116d6fdd62c4922ce7f0af00a162883a89539', 'message': 'Add collectd-intel_pmu plugin\n\nThe intel_pmu plugin collects performance counters data on Intel CPUs\nusing Linux perf interface.\n\nChange-Id: If5044346a90580c4051d6138a84ce10238807460\n'}, {'number': 3, 'created': '2020-02-06 07:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f3de86dd22b477f371818fbfaf5795644cebb472', 'message': 'Add collectd-intel_pmu plugin\n\nThe intel_pmu plugin collects performance counters data on Intel CPUs\nusing Linux perf interface.\n\nChange-Id: If5044346a90580c4051d6138a84ce10238807460\n'}, {'number': 4, 'created': '2020-02-07 08:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10ca9217736fc4c595806e146023cf0a7c45eb69', 'message': 'Add collectd-pmu package for Intel PMU (C7 only)\n\nThe intel_pmu plugin collects performance counters data\non Intel CPUs using Linux perf interface.\n\nC7 only - C8 packaging still pending.\n\nChange-Id: If5044346a90580c4051d6138a84ce10238807460\n'}, {'number': 5, 'created': '2020-02-07 08:31:50.000000000', 'files': ['releasenotes/notes/collectd-pmu-6aeae4759b8a1563.yaml', 'docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e6e76ac249a551b58c892f5121b1583b2882ffe8', 'message': 'Add collectd-pmu package for Intel PMU (C7 only)\n\nThe intel_pmu plugin collects performance counters data\non Intel CPUs using Linux perf interface.\n\nC7 only - C8 packaging still pending.\n\nChange-Id: If5044346a90580c4051d6138a84ce10238807460\n'}]",6,704560,e6e76ac249a551b58c892f5121b1583b2882ffe8,36,8,5,31539,,,0,"Add collectd-pmu package for Intel PMU (C7 only)

The intel_pmu plugin collects performance counters data
on Intel CPUs using Linux perf interface.

C7 only - C8 packaging still pending.

Change-Id: If5044346a90580c4051d6138a84ce10238807460
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/704560/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,1cae846b00daa9b918eb72799165e214722e72e1,collectd-pmu," 'collectd-intel_pmu',",,1,0
openstack%2Fironic~master~I47ecbad9729f18dacc703e2a625ef3e92bfb00ed,openstack/ironic,master,I47ecbad9729f18dacc703e2a625ef3e92bfb00ed,Allow node owners to administer associated ports,MERGED,2019-11-20 18:31:35.000000000,2020-02-07 11:17:03.000000000,2020-02-07 11:14:41.000000000,"[{'_account_id': 7386}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-20 18:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f49d52ec31a36da3150fbbecc02b060c36dd567a', 'message': ""Allow node owners to administer associated ports\n\nExpose a port's node's owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions on\nthat node's associated ports.\n\nChange-Id: I47ecbad9729f18dacc703e2a625ef3e92bfb00ed\nStory: #2006506\nTask: #37539\n""}, {'number': 2, 'created': '2019-12-10 19:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35fd3775dbd169eec987de8ffa06e7fcf6a8e35a', 'message': ""Allow node owners to administer associated ports\n\nExpose a port's node's owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions on\nthat node's associated ports.\n\nChange-Id: I47ecbad9729f18dacc703e2a625ef3e92bfb00ed\nStory: #2006506\nTask: #37539\n""}, {'number': 3, 'created': '2019-12-11 20:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3dee658bf4be14712b7051fad4f7ff780ed339a1', 'message': ""Allow node owners to administer associated ports\n\nExpose a port's node's owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions on\nthat node's associated ports.\n\nChange-Id: I47ecbad9729f18dacc703e2a625ef3e92bfb00ed\nStory: #2006506\nTask: #37539\n""}, {'number': 4, 'created': '2020-01-02 15:12:58.000000000', 'files': ['ironic/tests/unit/objects/test_port.py', 'ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'releasenotes/notes/node-owner-policy-ports-1d3193fd897feaa6.yaml', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/objects/port.py', 'ironic/tests/unit/db/test_ports.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f16a2268ce9c7e17c09a3ebd5f48c544e93c808', 'message': ""Allow node owners to administer associated ports\n\nExpose a port's node's owner to policy, giving Ironic admins\nthe option of modifying the policy file to allow users\nspecified by a node's owner field to perform API actions on\nthat node's associated ports.\n\nChange-Id: I47ecbad9729f18dacc703e2a625ef3e92bfb00ed\nStory: #2006506\nTask: #37539\n""}]",12,695255,6f16a2268ce9c7e17c09a3ebd5f48c544e93c808,31,8,4,7386,,,0,"Allow node owners to administer associated ports

Expose a port's node's owner to policy, giving Ironic admins
the option of modifying the policy file to allow users
specified by a node's owner field to perform API actions on
that node's associated ports.

Change-Id: I47ecbad9729f18dacc703e2a625ef3e92bfb00ed
Story: #2006506
Task: #37539
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/695255/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/objects/test_port.py', 'ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/db/sqlalchemy/api.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/objects/port.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/tests/unit/db/test_ports.py']",10,f49d52ec31a36da3150fbbecc02b060c36dd567a,bp/node-owner-policy-ports," self.node = db_utils.create_test_node(owner='12345') def test_get_port_by_address_filter_by_owner(self): res = self.dbapi.get_port_by_address(self.port.address, owner=self.node.owner) self.assertEqual(self.port.id, res.id) def test_get_port_by_address_filter_by_owner_no_match(self): self.assertRaises(exception.PortNotFound, self.dbapi.get_port_by_address, self.port.address, owner='54321') def test_get_port_list_filter_by_node_owner(self): uuids = [] for i in range(1, 3): port = db_utils.create_test_port(uuid=uuidutils.generate_uuid(), address='52:54:00:cf:2d:4%s' % i) for i in range(4, 6): port = db_utils.create_test_port(uuid=uuidutils.generate_uuid(), node_id=self.node.id, address='52:54:00:cf:2d:4%s' % i) uuids.append(six.text_type(port.uuid)) # Also add the uuid for the port created in setUp() uuids.append(six.text_type(self.port.uuid)) res = self.dbapi.get_port_list(owner=self.node.owner) res_uuids = [r.uuid for r in res] six.assertCountEqual(self, uuids, res_uuids) def test_get_ports_by_node_id_filter_by_node_owner(self): res = self.dbapi.get_ports_by_node_id(self.node.id, owner=self.node.owner) self.assertEqual(self.port.address, res[0].address) def test_get_ports_by_node_id_filter_by_node_owner_no_match(self): res = self.dbapi.get_ports_by_node_id(self.node.id, owner='54321') self.assertEqual([], res) def test_get_ports_by_portgroup_id_filter_by_node_owner(self): res = self.dbapi.get_ports_by_portgroup_id(self.portgroup.id, owner=self.node.owner) self.assertEqual(self.port.address, res[0].address) def test_get_ports_by_portgroup_id_filter_by_node_owner_no_match(self): res = self.dbapi.get_ports_by_portgroup_id(self.portgroup.id, owner='54321') self.assertEqual([], res) ", self.node = db_utils.create_test_node(),532,51
openstack%2Fironic~master~I5c02f994552278526c202d04ce1e99b21f63122e,openstack/ironic,master,I5c02f994552278526c202d04ce1e99b21f63122e,Add a locking interface,NEW,2018-09-01 17:32:55.000000000,2020-02-07 10:55:56.000000000,,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 25547}, {'_account_id': 26340}, {'_account_id': 28239}, {'_account_id': 28429}, {'_account_id': 30100}, {'_account_id': 30402}]","[{'number': 1, 'created': '2018-09-01 17:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c20a2e105f2d6c92464b4ff858d499a765123d37', 'message': ""POC: What would a locking interface look like\n\nSo it seems clear with many of the discussions about\nparallelism and performance improvements, that we're\ngoing to have to do something about locking. Seems the\nend logical point is to support etcd, but we've wired\ndatabase locking on nodes to our core.\n\nAdds locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests.\n\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 2, 'created': '2018-09-02 00:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/72bffadb6f725a6237b5c692dfb3fcbeaf787978', 'message': ""POC: What would a locking interface look like\n\nSo it seems clear with many of the discussions about\nparallelism and performance improvements, that we're\ngoing to have to do something about locking. Seems the\nend logical point is to support etcd, but we've wired\ndatabase locking on nodes to our core.\n\nAdds locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present.\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 3, 'created': '2018-09-04 03:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f945339c88285fe9c5fa8fb14188a45ff68e96b1', 'message': ""POC: What would a locking interface look like\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements, that we're\ngoing to have to do something about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase.\n\nThe advantage though, is that with a delineated interface\nwe can wire in a distributed lock manager such as etcd.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present.\n\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 4, 'created': '2018-09-04 23:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c66a194280af0ad7370769c8df1f2270c9a5cc1', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic communitythat we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 5, 'created': '2018-09-06 19:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00fe89b2172b65d84da07acb29486fb9bec267cb', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic communitythat we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 6, 'created': '2018-10-05 23:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18ac50783081c0a15afb1ae43c2c7122db3cf9ab', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic communitythat we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 7, 'created': '2018-10-19 19:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c11e8a94421a9bda8f849f005378b1ea3145580d', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic communitythat we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 8, 'created': '2018-10-22 21:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1e0cf7ee1a3742cada97b81c2940bd817f0be7b', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic communitythat we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 9, 'created': '2018-10-24 01:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fdb973430d84854da04620b12db2969f9a89a77', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic communitythat we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking infrmation. Currently we also set ourselves\nup for operaiting with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 10, 'created': '2018-11-27 21:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/155964c02098d84948f6950abb2ef5f707eb4ed6', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 11, 'created': '2018-12-05 20:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65089098d6c9929b93fd979ef4b0952216cc17fd', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 12, 'created': '2018-12-08 17:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/552142d1e012504ce32823df48a664a72f3c5863', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 13, 'created': '2018-12-10 22:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c601696b7d5a8b6ac3704f127dc335bf85c56b99', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 14, 'created': '2018-12-14 01:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe46cbbd6619cc67e158c99b92abb15605bd0d04', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 15, 'created': '2019-01-04 23:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5239a5fe105295ce5bdb6d24e9282f5f8fb8c4b2', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 16, 'created': '2019-01-22 23:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8dab39babdb2da27a3fce400509fb7bb2b884b8a', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 17, 'created': '2019-02-06 02:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f35201aead8496169b7852373bed9ba5c81efe2', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 18, 'created': '2019-02-06 04:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/468d436bd3c7e82888b60748d073ea09588908e0', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 19, 'created': '2019-03-22 21:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd5861047041285cfab241026806812a3fbcf515', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 20, 'created': '2019-04-12 18:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33868395587db7b7ca1bb7f3c121066d5d10085d', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 21, 'created': '2019-05-22 18:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33b052ab58f573cb50ec6ed86443205f5c6a2a19', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 22, 'created': '2019-05-28 12:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55f3132341a9a834de8b7b502c05a4799acd62c0', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 23, 'created': '2019-05-29 14:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2af1f3fe435877df0a647b768e3de240df24dc86', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 24, 'created': '2020-01-02 14:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/38ccf3cb657f32f935fc2090c6c47db5fb6d9e11', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}, {'number': 25, 'created': '2020-02-07 01:19:26.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/mgr_utils.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'ironic/tests/unit/locking/test_database.py', 'ironic/drivers/modules/irmc/raid.py', 'ironic/objects/node.py', 'ironic/common/locking_factory.py', 'ironic/tests/unit/locking/test_factory.py', 'releasenotes/notes/locking-provider-5d585307ab161f0f.yaml', 'ironic/common/exception.py', 'ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/locking/__init__.py', 'ironic/locking/base.py', 'ironic/db/sqlalchemy/api.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/locking/database.py', 'ironic/conductor/base_manager.py', 'setup.cfg', 'ironic/conductor/task_manager.py', 'ironic/locking/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c77b02f8e025e9a8b86e16d6e11fe1f0d288cdfe', 'message': ""Add a locking interface\n\nThis started as a proof-of-concept to allow my\nbrain to focus on some code for a while, but I am\nstarting to feel more convinced with every revision that\nthis is the most logical, least negatively impacting path\nto take which also allows us a path forward.\n\nIt seems clear with many of the discussions about\nparallelism and performance improvements that would be\nnecessary with the edge use cases that have been discussed\nin the ironic community that we're going to have to do\nsomething about locking.\n\nPresently we lock all resources associated with a field\non the node object in the conductor. This has some obvious\nlimitations when it comes to scale and concurrency.\n\nSuch as, we can't easily extend to lock more data without\nretooling locking as such. We can also only store a single\nvalue at present.\n\nChanging locking, does have major impacts.\n\nWe are functionally changing something at the most basic\nlevel of ironic. In some ways we will generate more\ndatabase queries with separated locking leveraging the\ndatabase, but possibly less queries at the slight cost\nan increase of shifting some minor amount of the processing\nburden to the conductor from the database (namely, selecting\non the reserve field being populated, and then looping based\non those results, instead of obtaining the results, looping\nand querying lock status from that point.\n\nThe advantage though, is that with a delineated locking\ninterface we can wire in a distributed lock manager such\nas etcd with fairly minimal headaches.\n\nWith that, we can possibly even continue to keep our\ncurrent locking model, but levarage more up to date\nlocking information. Currently we also set ourselves\nup for operating with out-of-date locking information\nby executing a query and then looping upon it expecting\nthe locking data to be up to date.\n\nAdds a locking interface, with a single driver module\nto be loaded that wraps the calls to the database.\nMinimally tests that we behave as expected with different\ninterfaces, ands tests to verify basic behavior.\n\nUnit test times, on a laptop with thermal throttling,\ndo not seem to have any observable change, although\nthe SNMP and Redfish tests have some long running\ntests that can skew such observations.\n\nAlso removes a number of database query filters on\nperiodic tasks that excluded nodes that were presently\nlocked from being picked up by the periodic tasks. Code\nto handle lock allocation failures was already present\nin every single case.\n\nStory: #1526751\nTask: #10387\nChange-Id: I5c02f994552278526c202d04ce1e99b21f63122e\n""}]",159,599191,c77b02f8e025e9a8b86e16d6e11fe1f0d288cdfe,217,18,25,11655,,,0,"Add a locking interface

This started as a proof-of-concept to allow my
brain to focus on some code for a while, but I am
starting to feel more convinced with every revision that
this is the most logical, least negatively impacting path
to take which also allows us a path forward.

It seems clear with many of the discussions about
parallelism and performance improvements that would be
necessary with the edge use cases that have been discussed
in the ironic community that we're going to have to do
something about locking.

Presently we lock all resources associated with a field
on the node object in the conductor. This has some obvious
limitations when it comes to scale and concurrency.

Such as, we can't easily extend to lock more data without
retooling locking as such. We can also only store a single
value at present.

Changing locking, does have major impacts.

We are functionally changing something at the most basic
level of ironic. In some ways we will generate more
database queries with separated locking leveraging the
database, but possibly less queries at the slight cost
an increase of shifting some minor amount of the processing
burden to the conductor from the database (namely, selecting
on the reserve field being populated, and then looping based
on those results, instead of obtaining the results, looping
and querying lock status from that point.

The advantage though, is that with a delineated locking
interface we can wire in a distributed lock manager such
as etcd with fairly minimal headaches.

With that, we can possibly even continue to keep our
current locking model, but levarage more up to date
locking information. Currently we also set ourselves
up for operating with out-of-date locking information
by executing a query and then looping upon it expecting
the locking data to be up to date.

Adds a locking interface, with a single driver module
to be loaded that wraps the calls to the database.
Minimally tests that we behave as expected with different
interfaces, ands tests to verify basic behavior.

Unit test times, on a laptop with thermal throttling,
do not seem to have any observable change, although
the SNMP and Redfish tests have some long running
tests that can skew such observations.

Also removes a number of database query filters on
periodic tasks that excluded nodes that were presently
locked from being picked up by the periodic tasks. Code
to handle lock allocation failures was already present
in every single case.

Story: #1526751
Task: #10387
Change-Id: I5c02f994552278526c202d04ce1e99b21f63122e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/599191/9 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/mgr_utils.py', 'ironic/drivers/modules/irmc/raid.py', 'ironic/objects/node.py', 'ironic/common/locking_factory.py', 'ironic/common/exception.py', 'ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/locking/base.py', 'ironic/db/sqlalchemy/api.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/locking/database.py', 'ironic/conductor/base_manager.py', 'setup.cfg', 'ironic/conductor/task_manager.py', 'ironic/tests/unit/objects/test_node.py']",15,c20a2e105f2d6c92464b4ff858d499a765123d37,story/2001814," @mock.patch.object(objects.node, 'LOCKING', autospec=True) def test_refresh_shows_lock(self, mock_lock_factory): uuid = self.fake_node['uuid'] returns = [dict(self.fake_node, properties={""fake"": ""first""}), dict(self.fake_node, properties={""fake"": ""second""})] expected = [mock.call(uuid), mock.call(uuid)] self.config(locking_provider='parrots', group='conductor') mock_lock_factory.is_locked.return_value = None with mock.patch.object(self.dbapi, 'get_node_by_uuid', side_effect=returns, autospec=True) as mock_get_node: n = objects.Node.get(self.context, uuid) self.assertEqual({""fake"": ""first""}, n.properties) self.assertIsNone(n.reservation) mock_lock_factory.is_locked.return_value = 'oh wow a lock' n.refresh() self.assertEqual('oh wow a lock', n.reservation) # Lets ensure we got refreshed data. self.assertEqual({""fake"": ""second""}, n.properties) self.assertEqual(expected, mock_get_node.call_args_list) self.assertEqual(self.context, n._context) ",,296,14
openstack%2Fcharm-cinder-backup~master~Ie486c0101c62ac88b890fd783ac0b9d8ffc0a23c,openstack/charm-cinder-backup,master,Ie486c0101c62ac88b890fd783ac0b9d8ffc0a23c,Charmhelper sync for 20.02,MERGED,2020-02-04 16:38:45.000000000,2020-02-07 10:53:58.000000000,2020-02-07 10:53:58.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-04 16:38:45.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/0227e72d501046524f0b660ed61c3cf90f42aad0', 'message': 'Charmhelper sync for 20.02\n\nChange-Id: Ie486c0101c62ac88b890fd783ac0b9d8ffc0a23c\n'}]",0,705737,0227e72d501046524f0b660ed61c3cf90f42aad0,17,5,1,12549,,,0,"Charmhelper sync for 20.02

Change-Id: Ie486c0101c62ac88b890fd783ac0b9d8ffc0a23c
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/37/705737/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/openstack/context.py']",5,0227e72d501046524f0b660ed61c3cf90f42aad0,batch-update-2002,"from charmhelpers.contrib.openstack.audits.openstack_security_guide import ( _config_ini as config_ini ) def validate_ovs_use_veth(*args, **kwargs): """"""Validate OVS use veth setting for dhcp agents The ovs_use_veth setting is considered immutable as it will break existing deployments. Historically, we set ovs_use_veth=True in dhcp_agent.ini. It turns out this is no longer necessary. Ideally, all new deployments would have this set to False. This function validates that the config value does not conflict with previously deployed settings in dhcp_agent.ini. See LP Bug#1831935 for details. :returns: Status state and message :rtype: Union[(None, None), (string, string)] """""" existing_ovs_use_veth = ( DHCPAgentContext.get_existing_ovs_use_veth()) config_ovs_use_veth = DHCPAgentContext.parse_ovs_use_veth() # Check settings are set and not None if existing_ovs_use_veth is not None and config_ovs_use_veth is not None: # Check for mismatch between existing config ini and juju config if existing_ovs_use_veth != config_ovs_use_veth: # Stop the line to avoid breakage msg = ( ""The existing setting for dhcp_agent.ini ovs_use_veth, {}, "" ""does not match the juju config setting, {}. This may lead to "" ""VMs being unable to receive a DHCP IP. Either change the "" ""juju config setting or dhcp agents may need to be recreated."" .format(existing_ovs_use_veth, config_ovs_use_veth)) log(msg, ERROR) return ( ""blocked"", ""Mismatched existing and configured ovs-use-veth. See log."") # Everything is OK return None, None class DHCPAgentContext(OSContextGenerator): def __call__(self): """"""Return the DHCPAGentContext. Return all DHCP Agent INI related configuration. ovs unit is attached to (as a subordinate) and the 'dns_domain' from the neutron-plugin-api relations (if one is set). :returns: Dictionary context :rtype: Dict """""" ctxt = {} dnsmasq_flags = config('dnsmasq-flags') if dnsmasq_flags: ctxt['dnsmasq_flags'] = config_flags_parser(dnsmasq_flags) ctxt['dns_servers'] = config('dns-servers') neutron_api_settings = NeutronAPIContext()() ctxt['debug'] = config('debug') ctxt['instance_mtu'] = config('instance-mtu') ctxt['ovs_use_veth'] = self.get_ovs_use_veth() ctxt['enable_metadata_network'] = config('enable-metadata-network') ctxt['enable_isolated_metadata'] = config('enable-isolated-metadata') if neutron_api_settings.get('dns_domain'): ctxt['dns_domain'] = neutron_api_settings.get('dns_domain') # Override user supplied config for these plugins as these settings are # mandatory if config('plugin') in ['nvp', 'nsx', 'n1kv']: ctxt['enable_metadata_network'] = True ctxt['enable_isolated_metadata'] = True return ctxt @staticmethod def get_existing_ovs_use_veth(): """"""Return existing ovs_use_veth setting from dhcp_agent.ini. :returns: Boolean value of existing ovs_use_veth setting or None :rtype: Optional[Bool] """""" DHCP_AGENT_INI = ""/etc/neutron/dhcp_agent.ini"" existing_ovs_use_veth = None # If there is a dhcp_agent.ini file read the current setting if os.path.isfile(DHCP_AGENT_INI): # config_ini does the right thing and returns None if the setting is # commented. existing_ovs_use_veth = ( config_ini(DHCP_AGENT_INI)[""DEFAULT""].get(""ovs_use_veth"")) # Convert to Bool if necessary if isinstance(existing_ovs_use_veth, six.string_types): return bool_from_string(existing_ovs_use_veth) return existing_ovs_use_veth @staticmethod def parse_ovs_use_veth(): """"""Parse the ovs-use-veth config setting. Parse the string config setting for ovs-use-veth and return a boolean or None. bool_from_string will raise a ValueError if the string is not falsy or truthy. :raises: ValueError for invalid input :returns: Boolean value of ovs-use-veth or None :rtype: Optional[Bool] """""" _config = config(""ovs-use-veth"") # An unset parameter returns None. Just in case we will also check for # an empty string: """". Ironically, (the problem we are trying to avoid) # ""False"" returns True and """" returns False. if _config is None or not _config: # Return None return # bool_from_string handles many variations of true and false strings # as well as upper and lowercases including: # ['y', 'yes', 'true', 't', 'on', 'n', 'no', 'false', 'f', 'off'] return bool_from_string(_config) def get_ovs_use_veth(self): """"""Return correct ovs_use_veth setting for use in dhcp_agent.ini. Get the right value from config or existing dhcp_agent.ini file. Existing has precedence. Attempt to default to ""False"" without disrupting existing deployments. Handle existing deployments and upgrades safely. See LP Bug#1831935 :returns: Value to use for ovs_use_veth setting :rtype: Bool """""" _existing = self.get_existing_ovs_use_veth() if _existing is not None: return _existing _config = self.parse_ovs_use_veth() if _config is None: # New better default return False else: return _config",,265,0
openstack%2Fbifrost~master~I8b35bd30d94f997045ae37edcdb7691a25f2c57b,openstack/bifrost,master,I8b35bd30d94f997045ae37edcdb7691a25f2c57b,Sync pip_install files,MERGED,2020-01-20 21:18:27.000000000,2020-02-07 10:53:08.000000000,2020-02-07 10:51:13.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-20 21:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/71784a1dccb3c50335104b7cd2bc94b5801551cb', 'message': ""Sync pip_install files\n\nWe've made changes to the primary role install files,\nhowever we didn't make the same changes to the keystone\nrole file.\n\nChange-Id: I8b35bd30d94f997045ae37edcdb7691a25f2c57b\n""}, {'number': 2, 'created': '2020-01-21 22:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/64be39d9f1e2bbafc93d57e52b03f4a29aae5eb3', 'message': ""Sync pip_install files\n\nWe've made changes to the primary role install files,\nhowever we didn't make the same changes to the keystone\nrole file.\n\nChange-Id: I8b35bd30d94f997045ae37edcdb7691a25f2c57b\n""}, {'number': 3, 'created': '2020-02-03 14:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/af6c6ecb457cb9fab942ef679d42ce931efd2332', 'message': ""Sync pip_install files\n\nWe've made changes to the primary role install files,\nhowever we didn't make the same changes to the keystone\nrole file.\n\nChange-Id: I8b35bd30d94f997045ae37edcdb7691a25f2c57b\n""}, {'number': 4, 'created': '2020-02-05 07:43:25.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a7cfcd2a1c5bf249a2307dc4e67df7892a1f64b0', 'message': ""Sync pip_install files\n\nWe've made changes to the primary role install files,\nhowever we didn't make the same changes to the keystone\nrole file.\n\nChange-Id: I8b35bd30d94f997045ae37edcdb7691a25f2c57b\n""}]",0,703502,a7cfcd2a1c5bf249a2307dc4e67df7892a1f64b0,18,4,4,11655,,,0,"Sync pip_install files

We've made changes to the primary role install files,
however we didn't make the same changes to the keystone
role file.

Change-Id: I8b35bd30d94f997045ae37edcdb7691a25f2c57b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/02/703502/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml'],1,71784a1dccb3c50335104b7cd2bc94b5801551cb,700912,"# Copyright (c) 2015 Hewlett Packard Enterprise Development LP. #- name: Set extra_args if upper_constraints_file is defined set_fact: constraints_extra_args: ""{{ extra_args | default('') }} -c {{ upper_constraints_file }}"" when: - (upper_constraints_file | default('')) != '' # NOTE(dtantsur): constraining does not work correctly correctly with # source installation if the package itself is in constraints. - source_install is not defined or source_install == false extra_args: ""{{ constraints_extra_args | default(extra_args) | default(omit) }}"" extra_args: ""{{ constraints_extra_args | default(extra_args) | default(omit) }}""# NOTE (cinerama): We should be able to use the pip module here - name: ""Install requirements from {{ sourcedir }} using pip"" command: | pip3 install -r {{ sourcedir }}/requirements.txt {{ extra_args | default('') }} {% if upper_constraints_file %}-c {{ upper_constraints_file }}{% endif %} # NOTE(dtantsur): do not use constraints here, it does not work when the # package itself is constrained. - name: ""Install from {{ sourcedir }} using pip"" command: pip3 install {{ sourcedir }} {{ extra_args | default('') }} when: source_install is defined and (source_install | bool == true) environment: ""{{ bifrost_venv_env if enable_venv else {} }}"""," extra_args: ""{{ extra_args | default(omit) }}"" extra_args: ""{{ extra_args | default(omit) }}""# NOTE (cinerama): We should be able to use the pip module here and # possibly merge these two tasks when # https://github.com/ansible/ansible-modules-core/pull/2600 lands. - name: ""Install from {{ sourcedir | default(package) }} using pip"" command: pip3 install {{ sourcedir | default(package) }} {{ extra_args | default('') }}",26,7
openstack%2Fcharm-mysql-innodb-cluster~master~I24d605743ace0f6d7e7a57b62b2840f8a8aea9e7,openstack/charm-mysql-innodb-cluster,master,I24d605743ace0f6d7e7a57b62b2840f8a8aea9e7,Rebuild for 20.02 release,MERGED,2020-02-05 16:54:19.000000000,2020-02-07 10:48:57.000000000,2020-02-07 10:48:57.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 16:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/72ec3c036ecd1a3ad0f02e16e8e6ca05c30ec9a1', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I24d605743ace0f6d7e7a57b62b2840f8a8aea9e7\n'}, {'number': 2, 'created': '2020-02-06 21:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c34cbf8ef4c0df3e1bdc1a793d85a1cd6b259e18', 'message': 'Rebuild for 20.02 release\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/173\nChange-Id: I24d605743ace0f6d7e7a57b62b2840f8a8aea9e7\n'}, {'number': 3, 'created': '2020-02-06 23:27:26.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a07b8d95fb5ac1df0b4d26c3973b0745d6ff8c49', 'message': 'Rebuild for 20.02 release\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/173\nChange-Id: I24d605743ace0f6d7e7a57b62b2840f8a8aea9e7\n'}]",0,706033,a07b8d95fb5ac1df0b4d26c3973b0745d6ff8c49,17,4,3,12549,,,0,"Rebuild for 20.02 release

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/173
Change-Id: I24d605743ace0f6d7e7a57b62b2840f8a8aea9e7
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/33/706033/3 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,72ec3c036ecd1a3ad0f02e16e8e6ca05c30ec9a1,rebuild-reactive-2002,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new d1c16faa-4837-11ea-810e-97e1f362d969 ",,5,0
openstack%2Ftripleo-quickstart~master~I528bf9a10622c9ea3c2898c6b714eb9fb29a79cb,openstack/tripleo-quickstart,master,I528bf9a10622c9ea3c2898c6b714eb9fb29a79cb,Remove hardcoding of python interpreter for rhel8,MERGED,2020-01-30 17:26:29.000000000,2020-02-07 10:47:21.000000000,2020-02-03 10:39:57.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-30 17:26:29.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/RedHat-8/train.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f5c3f2103129fd35119f2671323be12c6aabfb6f', 'message': 'Remove hardcoding of python interpreter for rhel8\n\nLet ansible do its autodiscovery then hardcoding interpreter,\nit will allow to run quickstart.sh on virthosts of mixed py2/py3\nenvironments.\nChange-Id: I528bf9a10622c9ea3c2898c6b714eb9fb29a79cb\n'}]",0,705070,f5c3f2103129fd35119f2671323be12c6aabfb6f,26,8,1,10969,,,0,"Remove hardcoding of python interpreter for rhel8

Let ansible do its autodiscovery then hardcoding interpreter,
it will allow to run quickstart.sh on virthosts of mixed py2/py3
environments.
Change-Id: I528bf9a10622c9ea3c2898c6b714eb9fb29a79cb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/70/705070/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/RedHat-8/train.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml']",4,f5c3f2103129fd35119f2671323be12c6aabfb6f,py23,,ansible_python_interpreter: /usr/bin/python3,0,4
openstack%2Fcharm-mysql-router~master~I8fc9a113197ebbdef3848ce11a20a2c1e83cdf52,openstack/charm-mysql-router,master,I8fc9a113197ebbdef3848ce11a20a2c1e83cdf52,Rebuild for 20.02 release,MERGED,2020-02-05 16:54:28.000000000,2020-02-07 10:42:15.000000000,2020-02-07 10:42:15.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 16:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/8b1b5412c5c97d68f1f58b3fabba0badda439661', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I8fc9a113197ebbdef3848ce11a20a2c1e83cdf52\n'}, {'number': 2, 'created': '2020-02-06 21:18:03.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/60a23d1a92fd6fe3a7244f64e57274591c15c3ed', 'message': 'Rebuild for 20.02 release\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/173\nChange-Id: I8fc9a113197ebbdef3848ce11a20a2c1e83cdf52\n'}]",0,706034,60a23d1a92fd6fe3a7244f64e57274591c15c3ed,13,4,2,12549,,,0,"Rebuild for 20.02 release

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/173
Change-Id: I8fc9a113197ebbdef3848ce11a20a2c1e83cdf52
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/34/706034/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,8b1b5412c5c97d68f1f58b3fabba0badda439661,rebuild-reactive-2002,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new d1c16faa-4837-11ea-810e-97e1f362d969 ",,5,0
openstack%2Fcharm-gnocchi~master~I3a379d4571c837285f34f9c5d1d271e53c481d76,openstack/charm-gnocchi,master,I3a379d4571c837285f34f9c5d1d271e53c481d76,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:24.000000000,2020-02-07 10:39:02.000000000,2020-02-07 10:39:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:24.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/83121c05fe7eb14c825e65be01bc08c60d2d6a4f', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I3a379d4571c837285f34f9c5d1d271e53c481d76\n'}]",0,706026,83121c05fe7eb14c825e65be01bc08c60d2d6a4f,13,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I3a379d4571c837285f34f9c5d1d271e53c481d76
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/26/706026/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,83121c05fe7eb14c825e65be01bc08c60d2d6a4f,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,ddb862aa-0c69-11ea-8fde-fa163ed1cc55,1,1
openstack%2Fironic~master~Ic3f369a7fa72d09263b0670ae78980913b024962,openstack/ironic,master,Ic3f369a7fa72d09263b0670ae78980913b024962,Split deployment-related functions from manager.py into a new module,MERGED,2020-02-06 12:09:17.000000000,2020-02-07 10:34:59.000000000,2020-02-07 10:32:09.000000000,"[{'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-06 12:09:17.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d949318409eedf13842042fc2c9b892e95c44dd5', 'message': 'Split deployment-related functions from manager.py into a new module\n\nWith more than 4000 lines of code (more than 8000 of unit tests) the\ncurrent manager.py is barely manageable. In preparation for the new\ndeployment API, this change moves the free-standing deploy-related\nfunctions to utils.py and the new deployments.py.\n\nChange-Id: Ic3f369a7fa72d09263b0670ae78980913b024962\nStory: #2006910\n'}]",0,706250,d949318409eedf13842042fc2c9b892e95c44dd5,9,4,1,10239,,,0,"Split deployment-related functions from manager.py into a new module

With more than 4000 lines of code (more than 8000 of unit tests) the
current manager.py is barely manageable. In preparation for the new
deployment API, this change moves the free-standing deploy-related
functions to utils.py and the new deployments.py.

Change-Id: Ic3f369a7fa72d09263b0670ae78980913b024962
Story: #2006910
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/706250/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py']",6,d949318409eedf13842042fc2c9b892e95c44dd5,story/2006910,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Functionality related to deploying and undeploying."""""" import tempfile from ironic_lib import metrics_utils from oslo_db import exception as db_exception from oslo_log import log from oslo_utils import excutils from oslo_utils import versionutils from ironic.common import exception from ironic.common.i18n import _ from ironic.common import release_mappings as versions from ironic.common import states from ironic.common import swift from ironic.conductor import notification_utils as notify_utils from ironic.conductor import steps as conductor_steps from ironic.conductor import task_manager from ironic.conductor import utils from ironic.conf import CONF from ironic.objects import fields LOG = log.getLogger(__name__) METRICS = metrics_utils.get_metrics_logger(__name__) # NOTE(rloo) This is used to keep track of deprecation warnings that have # already been issued for deploy drivers that do not use deploy steps. _SEEN_NO_DEPLOY_STEP_DEPRECATIONS = set() @METRICS.timer('do_node_deploy') @task_manager.require_exclusive_lock def do_node_deploy(task, conductor_id=None, configdrive=None): """"""Prepare the environment and deploy a node."""""" node = task.node try: if configdrive: if isinstance(configdrive, dict): configdrive = utils.build_configdrive(node, configdrive) _store_configdrive(node, configdrive) except (exception.SwiftOperationError, exception.ConfigInvalid) as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Error while uploading the configdrive for %(node)s ' 'to Swift') % {'node': node.uuid}, _('Failed to upload the configdrive to Swift. ' 'Error: %s') % e, clean_up=False) except db_exception.DBDataError as e: with excutils.save_and_reraise_exception(): # NOTE(hshiina): This error happens when the configdrive is # too large. Remove the configdrive from the # object to update DB successfully in handling # the failure. node.obj_reset_changes() utils.deploying_error_handler( task, ('Error while storing the configdrive for %(node)s into ' 'the database: %(err)s') % {'node': node.uuid, 'err': e}, _(""Failed to store the configdrive in the database. "" ""%s"") % e, clean_up=False) except Exception as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Unexpected error while preparing the configdrive for ' 'node %(node)s') % {'node': node.uuid}, _(""Failed to prepare the configdrive. Exception: %s"") % e, traceback=True, clean_up=False) try: task.driver.deploy.prepare(task) except exception.IronicException as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Error while preparing to deploy to node %(node)s: ' '%(err)s') % {'node': node.uuid, 'err': e}, _(""Failed to prepare to deploy: %s"") % e, clean_up=False) except Exception as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Unexpected error while preparing to deploy to node ' '%(node)s') % {'node': node.uuid}, _(""Failed to prepare to deploy. Exception: %s"") % e, traceback=True, clean_up=False) try: # This gets the deploy steps (if any) and puts them in the node's # driver_internal_info['deploy_steps']. conductor_steps.set_node_deployment_steps(task) except exception.InstanceDeployFailure as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, 'Error while getting deploy steps; cannot deploy to node ' '%(node)s. Error: %(err)s' % {'node': node.uuid, 'err': e}, _(""Cannot get deploy steps; failed to deploy: %s"") % e) steps = node.driver_internal_info.get('deploy_steps', []) new_rpc_version = True release_ver = versions.RELEASE_MAPPING.get(CONF.pin_release_version) if release_ver: new_rpc_version = versionutils.is_compatible('1.45', release_ver['rpc']) if not steps or not new_rpc_version: # TODO(rloo): This if.. (and the above code wrt rpc version) # can be deleted after the deprecation period when we no # longer support drivers with no deploy steps. # Note that after the deprecation period, there needs to be at least # one deploy step. If none, the deployment fails. if steps: info = node.driver_internal_info info.pop('deploy_steps') node.driver_internal_info = info node.save() # We go back to using the old way, if: # - out-of-tree driver hasn't yet converted to using deploy steps, or # - we're in the middle of a rolling upgrade. This is to prevent the # corner case of having new conductors with old conductors, and # a node is deployed with a new conductor (via deploy steps), but # after the deploy_wait, the node gets handled by an old conductor. # To avoid this, we need to wait until all the conductors are new, # signalled by the RPC API version being '1.45'. _old_rest_of_do_node_deploy(task, conductor_id, not steps) else: do_next_deploy_step(task, 0, conductor_id) def _old_rest_of_do_node_deploy(task, conductor_id, no_deploy_steps): """"""The rest of the do_node_deploy() if not using deploy steps. To support out-of-tree drivers that have not yet migrated to using deploy steps. :param no_deploy_steps: Boolean; True if there are no deploy steps. """""" # TODO(rloo): This method can be deleted after the deprecation period # for supporting drivers with no deploy steps. if no_deploy_steps: deploy_driver_name = task.driver.deploy.__class__.__name__ if deploy_driver_name not in _SEEN_NO_DEPLOY_STEP_DEPRECATIONS: LOG.warning('Deploy driver %s does not support deploy steps; this ' 'will be required starting with the Stein release.', deploy_driver_name) _SEEN_NO_DEPLOY_STEP_DEPRECATIONS.add(deploy_driver_name) node = task.node try: new_state = task.driver.deploy.deploy(task) except exception.IronicException as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Error in deploy of node %(node)s: %(err)s' % {'node': node.uuid, 'err': e}), _(""Failed to deploy: %s"") % e) except Exception as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Unexpected error while deploying node %(node)s' % {'node': node.uuid}), _(""Failed to deploy. Exception: %s"") % e, traceback=True) # Update conductor_affinity to reference this conductor's ID # since there may be local persistent state node.conductor_affinity = conductor_id # NOTE(deva): Some drivers may return states.DEPLOYWAIT # eg. if they are waiting for a callback if new_state == states.DEPLOYDONE: _start_console_in_deploy(task) task.process_event('done') LOG.info('Successfully deployed node %(node)s with ' 'instance %(instance)s.', {'node': node.uuid, 'instance': node.instance_uuid}) elif new_state == states.DEPLOYWAIT: task.process_event('wait') else: LOG.error('Unexpected state %(state)s returned while ' 'deploying node %(node)s.', {'state': new_state, 'node': node.uuid}) node.save() @task_manager.require_exclusive_lock def do_next_deploy_step(task, step_index, conductor_id): """"""Do deployment, starting from the specified deploy step. :param task: a TaskManager instance with an exclusive lock :param step_index: The first deploy step in the list to execute. This is the index (from 0) into the list of deploy steps in the node's driver_internal_info['deploy_steps']. Is None if there are no steps to execute. """""" node = task.node if step_index is None: steps = [] else: steps = node.driver_internal_info['deploy_steps'][step_index:] LOG.info('Executing %(state)s on node %(node)s, remaining steps: ' '%(steps)s', {'node': node.uuid, 'steps': steps, 'state': node.provision_state}) # Execute each step until we hit an async step or run out of steps for ind, step in enumerate(steps): # Save which step we're about to start so we can restart # if necessary node.deploy_step = step driver_internal_info = node.driver_internal_info driver_internal_info['deploy_step_index'] = step_index + ind node.driver_internal_info = driver_internal_info node.save() interface = getattr(task.driver, step.get('interface')) LOG.info('Executing %(step)s on node %(node)s', {'step': step, 'node': node.uuid}) try: result = interface.execute_deploy_step(task, step) except exception.IronicException as e: if isinstance(e, exception.AgentConnectionFailed): if task.node.driver_internal_info.get('deployment_reboot'): LOG.info('Agent is not yet running on node %(node)s after ' 'deployment reboot, waiting for agent to come up ' 'to run next deploy step %(step)s.', {'node': node.uuid, 'step': step}) driver_internal_info['skip_current_deploy_step'] = False node.driver_internal_info = driver_internal_info task.process_event('wait') return log_msg = ('Node %(node)s failed deploy step %(step)s. Error: ' '%(err)s' % {'node': node.uuid, 'step': node.deploy_step, 'err': e}) utils.deploying_error_handler( task, log_msg, _(""Failed to deploy: %s"") % node.deploy_step) return except Exception as e: log_msg = ('Node %(node)s failed deploy step %(step)s with ' 'unexpected error: %(err)s' % {'node': node.uuid, 'step': node.deploy_step, 'err': e}) utils.deploying_error_handler( task, log_msg, _(""Failed to deploy. Exception: %s"") % e, traceback=True) return if ind == 0: # We've done the very first deploy step. # Update conductor_affinity to reference this conductor's ID # since there may be local persistent state node.conductor_affinity = conductor_id node.save() # Check if the step is done or not. The step should return # states.DEPLOYWAIT if the step is still being executed, or # None if the step is done. # NOTE(deva): Some drivers may return states.DEPLOYWAIT # eg. if they are waiting for a callback if result == states.DEPLOYWAIT: # Kill this worker, the async step will make an RPC call to # continue_node_deploy() to continue deploying LOG.info('Deploy step %(step)s on node %(node)s being ' 'executed asynchronously, waiting for driver.', {'node': node.uuid, 'step': step}) task.process_event('wait') return elif result is not None: # NOTE(rloo): This is an internal/dev error; shouldn't happen. log_msg = (_('While executing deploy step %(step)s on node ' '%(node)s, step returned unexpected state: %(val)s') % {'step': step, 'node': node.uuid, 'val': result}) utils.deploying_error_handler( task, log_msg, _(""Failed to deploy: %s"") % node.deploy_step) return LOG.info('Node %(node)s finished deploy step %(step)s', {'node': node.uuid, 'step': step}) # Finished executing the steps. Clear deploy_step. node.deploy_step = None driver_internal_info = node.driver_internal_info driver_internal_info['deploy_steps'] = None driver_internal_info.pop('deploy_step_index', None) driver_internal_info.pop('deployment_reboot', None) driver_internal_info.pop('deployment_polling', None) # Remove the agent_url cached from the deployment. driver_internal_info.pop('agent_url', None) node.driver_internal_info = driver_internal_info node.save() _start_console_in_deploy(task) task.process_event('done') LOG.info('Successfully deployed node %(node)s with ' 'instance %(instance)s.', {'node': node.uuid, 'instance': node.instance_uuid}) def _get_configdrive_obj_name(node): """"""Generate the object name for the config drive."""""" return 'configdrive-%s' % node.uuid def _store_configdrive(node, configdrive): """"""Handle the storage of the config drive. If configured, the config drive data are uploaded to a swift endpoint. The Node's instance_info is updated to include either the temporary Swift URL from the upload, or if no upload, the actual config drive data. :param node: an Ironic node object. :param configdrive: A gzipped and base64 encoded configdrive. :raises: SwiftOperationError if an error occur when uploading the config drive to the swift endpoint. :raises: ConfigInvalid if required keystone authorization credentials with swift are missing. """""" if CONF.deploy.configdrive_use_object_store: # NOTE(lucasagomes): No reason to use a different timeout than # the one used for deploying the node timeout = (CONF.conductor.configdrive_swift_temp_url_duration or CONF.conductor.deploy_callback_timeout # The documented default in ironic.conf.conductor or 1800) container = CONF.conductor.configdrive_swift_container object_name = _get_configdrive_obj_name(node) object_headers = {'X-Delete-After': str(timeout)} with tempfile.NamedTemporaryFile(dir=CONF.tempdir) as fileobj: fileobj.write(configdrive) fileobj.flush() swift_api = swift.SwiftAPI() swift_api.create_object(container, object_name, fileobj.name, object_headers=object_headers) configdrive = swift_api.get_temp_url(container, object_name, timeout) i_info = node.instance_info i_info['configdrive'] = configdrive node.instance_info = i_info node.save() def _start_console_in_deploy(task): """"""Start console at the end of deployment. Console is stopped at tearing down not to be exposed to an instance user. Then, restart at deployment. :param task: a TaskManager instance with an exclusive lock """""" if not task.node.console_enabled: return notify_utils.emit_console_notification( task, 'console_restore', fields.NotificationStatus.START) try: task.driver.console.start_console(task) except Exception as err: msg = (_('Failed to start console while deploying the ' 'node %(node)s: %(err)s.') % {'node': task.node.uuid, 'err': err}) LOG.error(msg) task.node.last_error = msg task.node.console_enabled = False task.node.save() notify_utils.emit_console_notification( task, 'console_restore', fields.NotificationStatus.ERROR) else: notify_utils.emit_console_notification( task, 'console_restore', fields.NotificationStatus.END) ",,1605,1513
openstack%2Foslo.db~master~Ifdf3266ce528c4e950881055b0b552cbb0d3316b,openstack/oslo.db,master,Ifdf3266ce528c4e950881055b0b552cbb0d3316b,reword releasenote for py27 support dropping,ABANDONED,2020-02-07 09:12:21.000000000,2020-02-07 09:14:58.000000000,,[],"[{'number': 1, 'created': '2020-02-07 09:12:21.000000000', 'files': ['releasenotes/notes/drop-python27-support-2308d7fbcd66cc22.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f561635099cc6c3fbeab27ea049997d850406355', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: Ifdf3266ce528c4e950881055b0b552cbb0d3316b\n'}]",0,706448,f561635099cc6c3fbeab27ea049997d850406355,2,0,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: Ifdf3266ce528c4e950881055b0b552cbb0d3316b
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/48/706448/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-2308d7fbcd66cc22.yaml'],1,f561635099cc6c3fbeab27ea049997d850406355,gitignore, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Fopenstackdocstheme~master~Ic719c1f15120b68de97f0e20702b03baeb02f5e9,openstack/openstackdocstheme,master,Ic719c1f15120b68de97f0e20702b03baeb02f5e9,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-05 18:42:18.000000000,2020-02-07 09:08:13.000000000,2020-02-07 09:06:50.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-05 18:42:18.000000000', 'files': ['setup.py', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-2-7-73d3113c69d724d6.yaml'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/1fe4f029157ec6bdf67ceeb6de5af05c46fbd4fa', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nRemove cruft from setup.cfg.\n\nChange-Id: Ic719c1f15120b68de97f0e20702b03baeb02f5e9\n'}]",0,706082,1fe4f029157ec6bdf67ceeb6de5af05c46fbd4fa,9,4,1,6547,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Remove cruft from setup.cfg.

Change-Id: Ic719c1f15120b68de97f0e20702b03baeb02f5e9
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/82/706082/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-python-2-7-73d3113c69d724d6.yaml']",4,1fe4f029157ec6bdf67ceeb6de5af05c46fbd4fa,drop-py27-support,--- upgrade: - | Python 2.7 support has been dropped. The minimum version of Python now supported by openstackdocstheme is Python 3.6. ,,13,31
openstack%2Ftripleo-operator-ansible~master~I3f8fb8270b5cdf142557fb12e3b3d5dbb5574b68,openstack/tripleo-operator-ansible,master,I3f8fb8270b5cdf142557fb12e3b3d5dbb5574b68,Bump molecule,ABANDONED,2020-02-07 09:02:42.000000000,2020-02-07 09:05:04.000000000,,[],"[{'number': 1, 'created': '2020-02-07 09:02:42.000000000', 'files': ['roles/tripleo_config_generate_ansible/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/molecule.yml', 'roles/tripleo_config_generate_ansible/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/molecule/default/molecule.yml', 'roles/tripleo_container_image_show/molecule/default/converge.yml', 'roles/tripleo_container_image_delete/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/molecule/default/converge.yml', 'roles/test_molecule_prep/molecule/default/converge.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/converge.yml', 'roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/molecule.yml', 'roles/tripleo_container_image_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/converge.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/molecule.yml', 'roles/tripleo_container_image_push/molecule/default/molecule.yml', 'roles/tripleo_overcloud_deploy/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/molecule.yml', 'roles/tripleo_deploy/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/converge.yml', 'roles/tripleo_overcloud_export/molecule/default/converge.yml', 'roles/tripleo_undercloud_install/molecule/default/molecule.yml', 'roles/tripleo_overcloud_export/molecule/default/molecule.yml', 'roles/tripleo_overcloud_failures/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/test_molecule_prep/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/converge.yml', 'roles/tripleo_container_image_delete/molecule/default/converge.yml', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml', 'roles/tripleo_overcloud_failures/molecule/default/converge.yml', 'roles/tripleo_container_image_show/molecule/default/molecule.yml', 'tox.ini', 'roles/tripleo_undercloud_install/molecule/default/converge.yml', 'roles/tripleo_container_image_push/molecule/default/converge.yml', 'roles/tripleo_deploy/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/90fd050f0122de6e6b14c11a4b5ec52c8eb58387', 'message': 'Bump molecule\n\nAdopts molecule v3 config changes\n- playbook.yml renamed to converge.yml\n- linters externalized (we already use pre-commit to call them)\n\nChange-Id: I3f8fb8270b5cdf142557fb12e3b3d5dbb5574b68\n'}]",0,706446,90fd050f0122de6e6b14c11a4b5ec52c8eb58387,2,0,1,24162,,,0,"Bump molecule

Adopts molecule v3 config changes
- playbook.yml renamed to converge.yml
- linters externalized (we already use pre-commit to call them)

Change-Id: I3f8fb8270b5cdf142557fb12e3b3d5dbb5574b68
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/46/706446/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_config_generate_ansible/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/molecule.yml', 'roles/tripleo_undercloud_upgrade/molecule/default/molecule.yml', 'roles/tripleo_config_generate_ansible/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/molecule/default/molecule.yml', 'roles/tripleo_container_image_show/molecule/default/converge.yml', 'roles/tripleo_container_image_delete/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_configure/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/molecule/default/converge.yml', 'roles/test_molecule_prep/molecule/default/converge.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/converge.yml', 'roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/molecule.yml', 'roles/tripleo_container_image_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/converge.yml', 'roles/tripleo_undercloud_minion_install/molecule/default/molecule.yml', 'roles/tripleo_container_image_push/molecule/default/molecule.yml', 'roles/tripleo_overcloud_deploy/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_clean/molecule/default/molecule.yml', 'roles/tripleo_deploy/molecule/default/molecule.yml', 'roles/tripleo_container_image_list/molecule/default/converge.yml', 'roles/tripleo_overcloud_export/molecule/default/converge.yml', 'roles/tripleo_undercloud_install/molecule/default/molecule.yml', 'roles/tripleo_overcloud_export/molecule/default/molecule.yml', 'roles/tripleo_overcloud_failures/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/test_molecule_prep/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/molecule.yml', 'roles/tripleo_undercloud_minion_upgrade/molecule/default/converge.yml', 'roles/tripleo_container_image_delete/molecule/default/converge.yml', 'roles/tripleo_overcloud_deploy/molecule/default/converge.yml', 'roles/tripleo_overcloud_failures/molecule/default/converge.yml', 'roles/tripleo_container_image_show/molecule/default/molecule.yml', 'tox.ini', 'roles/tripleo_undercloud_install/molecule/default/converge.yml', 'roles/tripleo_container_image_push/molecule/default/converge.yml', 'roles/tripleo_deploy/molecule/default/converge.yml']",39,90fd050f0122de6e6b14c11a4b5ec52c8eb58387,mov3,,,1,57
openstack%2Fironic-python-agent-builder~master~Ieab3e2e92a214b7d38a0e9afaec35d28c0d9c121,openstack/ironic-python-agent-builder,master,Ieab3e2e92a214b7d38a0e9afaec35d28c0d9c121,"Revert ""Test artifact publishing via AFS""",MERGED,2020-01-31 06:37:59.000000000,2020-02-07 08:43:00.000000000,2020-02-07 08:40:55.000000000,"[{'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-31 06:37:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/718857cc8b1f779e2aee6aefc6ffeeb066f0ab6e', 'message': 'Revert ""Test artifact publishing via AFS""\n\nThis reverts commit f81f8f58f4bd68daeb7c168a4e7f2eaa05d15919.\n\nTesting is complete.\n\nChange-Id: Ieab3e2e92a214b7d38a0e9afaec35d28c0d9c121\n'}]",0,705161,718857cc8b1f779e2aee6aefc6ffeeb066f0ab6e,10,3,1,7118,,,0,"Revert ""Test artifact publishing via AFS""

This reverts commit f81f8f58f4bd68daeb7c168a4e7f2eaa05d15919.

Testing is complete.

Change-Id: Ieab3e2e92a214b7d38a0e9afaec35d28c0d9c121
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/61/705161/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,718857cc8b1f779e2aee6aefc6ffeeb066f0ab6e,static-services,,# NOTE(ianw) 2020-01-31 : this is just for infra testing uploading # artifacts to AFS instead of a static partition. - job: name: ironic-python-agent-build-image-base-publish-to-afs parent: publish-openstack-artifacts-with-afs pre-run: playbooks/ironic-python-agent-build-image/pre.yaml run: playbooks/ironic-python-agent-build-image/run.yaml post-run: playbooks/ironic-python-agent-build-image/post.yaml timeout: 1800 required-projects: - openstack/requirements - openstack/ironic-python-agent - openstack/ironic-python-agent-builder vars: ipa_raw_dir: '{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent/UPLOAD_RAW' ipa_tar_dir: '{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent/UPLOAD_TAR' - job: name: ironic-python-agent-build-image-tinyipa-publish-to-afs parent: ironic-python-agent-build-image-base-publish-to-afs vars: image_type: 'tinyipa' - ironic-python-agent-build-image-tinyipa-publish-to-afs,0,24
openstack%2Fpython-zaqarclient~master~I3e3bc9e98e263f9fe21ee84795d6bd5e0b6e3ae1,openstack/python-zaqarclient,master,I3e3bc9e98e263f9fe21ee84795d6bd5e0b6e3ae1,DNM: Update functional job to Python 3,ABANDONED,2020-02-07 07:31:12.000000000,2020-02-07 08:01:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-07 07:31:12.000000000', 'files': ['playbooks/zaqarclient-dsvm-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/1d55ec0759a2dbfd32c0451fdb5c76e6c52a0505', 'message': 'DNM: Update functional job to Python 3\n\nChange-Id: I3e3bc9e98e263f9fe21ee84795d6bd5e0b6e3ae1\n'}]",0,706436,1d55ec0759a2dbfd32c0451fdb5c76e6c52a0505,3,1,1,6547,,,0,"DNM: Update functional job to Python 3

Change-Id: I3e3bc9e98e263f9fe21ee84795d6bd5e0b6e3ae1
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/36/706436/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/zaqarclient-dsvm-functional/run.yaml'],1,1d55ec0759a2dbfd32c0451fdb5c76e6c52a0505,drop-py27-support, export DEVSTACK_GATE_USE_PYTHON3=True,,1,0
openstack%2Fneutron~master~I19e1af1bda788ed970d30ab251e895f7daa11e39,openstack/neutron,master,I19e1af1bda788ed970d30ab251e895f7daa11e39,Remove sleep command when retrieving OVS dp,MERGED,2020-01-27 19:15:58.000000000,2020-02-07 07:43:00.000000000,2020-02-01 02:19:28.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-27 19:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30cf1c667799f60e40fe83d13367453613bcef02', 'message': '[DNM] Remove wait when retrieving OVS dp\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n'}, {'number': 2, 'created': '2020-01-28 09:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c95ead412a7a8d07a954a4564ad552d6e507ee4', 'message': '[DNM] Remove wait when retrieving OVS dp\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n'}, {'number': 3, 'created': '2020-01-29 17:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea1ff9975cde24f16dc6f944e2490f90415246c2', 'message': '[DNM] Remove wait when retrieving OVS dp\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n'}, {'number': 4, 'created': '2020-01-30 14:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50cafe555d8af36149da8963db4006640cef9ce5', 'message': '[DNM] Remove wait when retrieving OVS dp\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n'}, {'number': 5, 'created': '2020-01-30 15:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f00f75256db2766d3512ac15201eba657739a13', 'message': 'Remove wait when retrieving OVS dp\n\nOVS agent is a single thread module executed on a os-ken AppManager\ncontext. os-ken uses, by default (and no other implementation is\navailable today [1]), ""eventlet"" threads. Those threads are scheduled\nmanually by the code itself; the context switch is done through\nyielding. The easiest way to do this is by executing:\n  eventlet.sleep()\n\nIf the assigned thread is not ready to take the GIL and do not yield\nback the executor, other threads will starve and eventually will\ntimeout.\n\nThis patch removes the ""sleep"" command during the DP retrieval. This\nwill keep the executor on the current thread and will prevent the\nexecution timeouts, as seen in the bug related.\n\n[1]https://opendev.org/openstack/os-ken/src/commit/1f751b2d7d385a75d4255934694177d6fd6f012f/os_ken/lib/hub.py\n\nCloses-Bug: #1861269\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n'}, {'number': 6, 'created': '2020-01-30 15:35:06.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/740741864adc142b9bb037e92fd563cae124046a', 'message': 'Remove sleep command when retrieving OVS dp\n\nOVS agent is a single thread module executed on a os-ken AppManager\ncontext. os-ken uses, by default (and no other implementation is\navailable today [1]), ""eventlet"" threads. Those threads are scheduled\nmanually by the code itself; the context switch is done through\nyielding. The easiest way to do this is by executing:\n  eventlet.sleep()\n\nIf the assigned thread is not ready to take the GIL and do not yield\nback the executor, other threads will starve and eventually will\ntimeout.\n\nThis patch removes the ""sleep"" command during the DP retrieval. This\nwill keep the executor on the current thread and will prevent the\nexecution timeouts, as seen in the bug related.\n\n[1]https://opendev.org/openstack/os-ken/src/commit/1f751b2d7d385a75d4255934694177d6fd6f012f/os_ken/lib/hub.py\n\nCloses-Bug: #1861269\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n'}]",0,704397,740741864adc142b9bb037e92fd563cae124046a,85,9,6,16688,,,0,"Remove sleep command when retrieving OVS dp

OVS agent is a single thread module executed on a os-ken AppManager
context. os-ken uses, by default (and no other implementation is
available today [1]), ""eventlet"" threads. Those threads are scheduled
manually by the code itself; the context switch is done through
yielding. The easiest way to do this is by executing:
  eventlet.sleep()

If the assigned thread is not ready to take the GIL and do not yield
back the executor, other threads will starve and eventually will
timeout.

This patch removes the ""sleep"" command during the DP retrieval. This
will keep the executor on the current thread and will prevent the
execution timeouts, as seen in the bug related.

[1]https://opendev.org/openstack/os-ken/src/commit/1f751b2d7d385a75d4255934694177d6fd6f012f/os_ken/lib/hub.py

Closes-Bug: #1861269

Change-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/704397/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'],1,30cf1c667799f60e40fe83d13367453613bcef02,bug/1861269, #eventlet.sleep(1), eventlet.sleep(1),1,1
openstack%2Fcontributor-guide~master~I6d1d25c94a2e7f7d5129908c783f0e7101f13eca,openstack/contributor-guide,master,I6d1d25c94a2e7f7d5129908c783f0e7101f13eca,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-05 18:53:43.000000000,2020-02-07 07:34:46.000000000,2020-02-07 07:32:39.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 18:53:43.000000000', 'files': ['test-requirements.txt', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/3846e67eec7c81aef126945f3cf09b1abc33517e', 'message': ""[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nRemove html_last_updated_fmt from doc/source.conf.py, it's set by the\ntheme now.\nCleanup setup.cfg.\n\nChange-Id: I6d1d25c94a2e7f7d5129908c783f0e7101f13eca\n""}]",0,706085,3846e67eec7c81aef126945f3cf09b1abc33517e,9,4,1,6547,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Remove html_last_updated_fmt from doc/source.conf.py, it's set by the
theme now.
Cleanup setup.cfg.

Change-Id: I6d1d25c94a2e7f7d5129908c783f0e7101f13eca
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/85/706085/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini']",5,3846e67eec7c81aef126945f3cf09b1abc33517e,drop-py27-support,minversion = 3.1.0ignore_basepython_conflict = True,minversion = 2.0,8,23
openstack%2Fsecurity-specs~master~I7b6cfe4188ac0924419e22839ab9daa18889274f,openstack/security-specs,master,I7b6cfe4188ac0924419e22839ab9daa18889274f,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-05 15:54:18.000000000,2020-02-07 07:32:03.000000000,2020-02-07 07:29:59.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 15:54:18.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/security-specs/commit/3152051cd0ec1c5ddf93c3945be7770c73b4eae4', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nSwitch to openstackdocstheme since oslosphinx does not support python3,\ncleanup tox.ini.\nMove to pep8, doc8 is a linter.\n\nChange-Id: I7b6cfe4188ac0924419e22839ab9daa18889274f\n'}]",0,705992,3152051cd0ec1c5ddf93c3945be7770c73b4eae4,8,3,1,6547,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Switch to openstackdocstheme since oslosphinx does not support python3,
cleanup tox.ini.
Move to pep8, doc8 is a linter.

Change-Id: I7b6cfe4188ac0924419e22839ab9daa18889274f
",git fetch https://review.opendev.org/openstack/security-specs refs/changes/92/705992/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini']",6,3152051cd0ec1c5ddf93c3945be7770c73b4eae4,drop-py27-support,"minversion = 3.1.0 envlist = docs,py36 ignore_basepython_conflict = Truebasepython = python3 [testenv:pep8] sphinx-build -a -W -b html doc/source doc/build/html","minversion = 1.6 envlist = docs,py27setenv = VIRTUAL_ENV={envdir} install_command = pip install -U {opts} {packages}# The gate jobs run build_sphinx without using tox (thus ignore the # docs target) and also call ""tox -e py27"", thus add doc8 here as # default job.basepython = python3basepython = python3 doc8 -e .rst specs/ doc/ README.rst sphinx-build -a -W -b html doc/source doc/build/html {posargs}",25,35
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I37245f6cada11f060b8a0b8da06a583d64bb347b,openstack/tripleo-heat-templates,stable/train,I37245f6cada11f060b8a0b8da06a583d64bb347b,Fix the Octavia amphora provider driver description,MERGED,2019-12-05 09:31:19.000000000,2020-02-07 07:29:35.000000000,2019-12-07 04:54:45.000000000,"[{'_account_id': 6469}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-12-05 09:31:19.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b701f9110b19643376ea0e29d90f78a0486fcb63', 'message': ""Fix the Octavia amphora provider driver description\n\noctavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list\nfails with the following:\n\ntesttools.matchers._impl.MismatchError: 'The Octavia Amphora driver.' != 'Octavia Amphora Driver.'\n\nChange-Id: I37245f6cada11f060b8a0b8da06a583d64bb347b\n(cherry picked from commit 88d6c029db2aa0d7ae8106f7add5d88b8562e61b)\n""}]",0,697428,b701f9110b19643376ea0e29d90f78a0486fcb63,17,5,1,6469,,,0,"Fix the Octavia amphora provider driver description

octavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list
fails with the following:

testtools.matchers._impl.MismatchError: 'The Octavia Amphora driver.' != 'Octavia Amphora Driver.'

Change-Id: I37245f6cada11f060b8a0b8da06a583d64bb347b
(cherry picked from commit 88d6c029db2aa0d7ae8106f7add5d88b8562e61b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/697428/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,b701f9110b19643376ea0e29d90f78a0486fcb63,," - octavia::api::provider_drivers: 'amphora: The Octavia Amphora driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.'"," - octavia::api::provider_drivers: 'amphora: Octavia Amphora Driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.'",1,1
openstack%2Ftripleo-heat-templates~master~Ib1e0f05827bc49be1e1351504210c894975bb822,openstack/tripleo-heat-templates,master,Ib1e0f05827bc49be1e1351504210c894975bb822,Remove unused admin_password,MERGED,2020-01-26 00:18:40.000000000,2020-02-07 07:27:30.000000000,2020-02-07 07:27:30.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-26 00:18:40.000000000', 'files': ['deployment/sahara/sahara-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6330d95cb13bcbee0fca65f27e3dbd3b9be1c59c', 'message': 'Remove unused admin_password\n\nChange-Id: Ib1e0f05827bc49be1e1351504210c894975bb822\n'}]",0,704239,6330d95cb13bcbee0fca65f27e3dbd3b9be1c59c,14,6,1,9816,,,0,"Remove unused admin_password

Change-Id: Ib1e0f05827bc49be1e1351504210c894975bb822
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/704239/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/sahara/sahara-base.yaml'],1,6330d95cb13bcbee0fca65f27e3dbd3b9be1c59c,sahara-admin_password,, # Remove admin_password when https://review.opendev.org/#/c/442619/ is merged. sahara::admin_password: {get_param: SaharaPassword},0,2
openstack%2Ftempest~master~I4268049ff91e5527e4b95fd8a70fa53ba27d56ed,openstack/tempest,master,I4268049ff91e5527e4b95fd8a70fa53ba27d56ed,Use stable constraint in run-tempest for stable branch testing,MERGED,2020-02-05 00:11:09.000000000,2020-02-07 07:20:02.000000000,2020-02-07 07:18:30.000000000,"[{'_account_id': 841}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26106}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-05 00:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6f4aa2bf55c7cf78e0ab141b0c56a0b6ca9f961', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 2, 'created': '2020-02-05 01:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/641ab0c2af4ba831476c3383f04f6257618b8180', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 3, 'created': '2020-02-05 01:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a09a07c7148ffbefd55749d3924bf2e0a85ffa1d', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 4, 'created': '2020-02-05 01:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a66ec94773a0f610a2030e8765ce3755113cbd8', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 5, 'created': '2020-02-05 03:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b80814ba98821b6c2a71a742e568dbe2e6d50601', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 6, 'created': '2020-02-05 03:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8f4c70b7e1a3ea17f0652f01a300d4a12d3be09', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 7, 'created': '2020-02-05 07:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c4020c79f35fc68dee67aeb850184b51b664af64', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 8, 'created': '2020-02-05 07:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d63676386632048c2a55990b7cdc2f0efd5d7e9', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 9, 'created': '2020-02-05 09:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e87f91315e2172b31561ae8d9a87583ceec07690', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 10, 'created': '2020-02-05 09:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3ad3f974dfc5cac755d15f337bc2d455ee6ea1a', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 11, 'created': '2020-02-05 09:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac2021e8f6e933869802f5afffcd65f74eb0e18c', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 12, 'created': '2020-02-05 10:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4080caada32f68ce2d4485a7e73209f81f3133ca', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 13, 'created': '2020-02-05 10:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0838a912c9a257b18ad7c39fcd76ab3a34ad58c', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 14, 'created': '2020-02-05 13:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f705f813ee6ff9a436a889ca98c7d06bbe274959', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 15, 'created': '2020-02-05 13:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b91cff01c8c8be786082f5e057e4a1e83e611861', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 16, 'created': '2020-02-05 13:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20c21178d930bd9d2ad2c489e766e952919e08e8', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 17, 'created': '2020-02-05 13:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3b232bdc14446e891ae3b1778e3c94fbe4f74df', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 18, 'created': '2020-02-05 14:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/74debb88927594ba0254423ebe1dfe4e3605e588', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 19, 'created': '2020-02-05 15:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5ce33b32dfc66f0f4c24bea23217e6c1a631a09', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 20, 'created': '2020-02-05 15:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13c6ef2169642d902de9da325a3a836766342cae', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 21, 'created': '2020-02-05 16:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d308e285f533f41e3ed0c1d69f3dd567cf62c77', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 22, 'created': '2020-02-05 17:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f8892f0669bef27f44145f5b10c918733202618', 'message': 'Testing u-c for stable branches\n\nDepends-On: https://review.opendev.org/#/c/705089/\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 23, 'created': '2020-02-06 00:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a6b955e08be9a879d4583c32a3594c8941dc25a', 'message': 'Use stable constraint in run-tempest for stable branch testing\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest role run-tempest recreate the tox\nenv with master u-c.\n- https://review.opendev.org/#/c/705089/4/lib/tempest\n\nCurrently we are fixing run-tempest to use stable constraint\ntill stable/rocky which use distro having <py3.6.\n\nIdeally, we can change compatible branch constraint in tox.ini\nwhile doing release tag for Tempest. But that can be done\nfor future tags only.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 24, 'created': '2020-02-06 03:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50c475976f5607ef3be263058c2abbbe19cac7cc', 'message': 'Use stable constraint in run-tempest for stable branch testing\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest role run-tempest recreate the tox\nenv with master u-c.\n- https://review.opendev.org/#/c/705089/4/lib/tempest\n\nCurrently we are fixing run-tempest to use stable constraint\ntill stable/rocky which use distro having <py3.6.\n\nIdeally, we can change compatible branch constraint in tox.ini\nwhile doing release tag for Tempest. But that can be done\nfor future tags only.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}, {'number': 25, 'created': '2020-02-06 13:12:11.000000000', 'files': ['roles/run-tempest/tasks/main.yaml', 'roles/run-tempest/defaults/main.yaml', 'roles/run-tempest/README.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/56149024a0be5419093de1979051b73283d963d6', 'message': 'Use stable constraint in run-tempest for stable branch testing\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\n\nDevstack can set stable u-c to use via env var but this is\nnot enough as Tempest role run-tempest recreate the tox\nenv with master u-c.\n- https://review.opendev.org/#/c/705089/4/lib/tempest\n\nCurrently we are fixing run-tempest to use stable constraint\ntill stable/rocky which use distro having <py3.6.\n\nIdeally, we can change compatible branch constraint in tox.ini\nwhile doing release tag for Tempest. But that can be done\nfor future tags only.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed\n'}]",22,705870,56149024a0be5419093de1979051b73283d963d6,81,10,25,8556,,,0,"Use stable constraint in run-tempest for stable branch testing

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.

Devstack can set stable u-c to use via env var but this is
not enough as Tempest role run-tempest recreate the tox
env with master u-c.
- https://review.opendev.org/#/c/705089/4/lib/tempest

Currently we are fixing run-tempest to use stable constraint
till stable/rocky which use distro having <py3.6.

Ideally, we can change compatible branch constraint in tox.ini
while doing release tag for Tempest. But that can be done
for future tags only.

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: I4268049ff91e5527e4b95fd8a70fa53ba27d56ed
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/705870/11 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tempest/tasks/main.yaml'],1,c6f4aa2bf55c7cf78e0ab141b0c56a0b6ca9f961,fix-stable-gate,"- name: Use stable branch upper-constraint till stable/rocky set_fact: use_stable_constraint: ""{{ devstack_base_dir }}/requirements/upper-constraints.txt"" when: zuul.branch | match(""^(stable/ocata|pike|queens|rocky)$"") environment: '{{ {""UPPER_CONSTRAINTS_FILE"": use_stable_constraint} if use_stable_constraint else {} }}'",,6,0
openstack%2Fpuppet-swift~master~Iae3705db38ebaddf92ee6e80c20c1011f8f66706,openstack/puppet-swift,master,Iae3705db38ebaddf92ee6e80c20c1011f8f66706,Add support for swift-recon-cron job,MERGED,2019-11-15 05:00:02.000000000,2020-02-07 06:08:35.000000000,2020-02-07 06:05:46.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-15 05:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/48d35c4ebeeb2f10e2e593b299610feba59a3a85', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 2, 'created': '2019-11-15 07:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1a3493d51324cc058196cb5ea7783fe1941be27d', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 3, 'created': '2019-11-18 02:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/823571685502f567af6b8decd2d9bb2e8009c7e8', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 4, 'created': '2019-11-18 02:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f06a0fffecf2274b5a12093371cb229d6f384c73', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 5, 'created': '2019-11-18 02:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/cd3685e23f6fe9c143f4166646c5f36f8f3b60ab', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 6, 'created': '2019-11-18 04:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/02e36dacbb1bb982dd449c436b8fb414c44e6990', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 7, 'created': '2019-11-18 05:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9fef093a3076244e2237f7b13b9651f24bdaf156', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 8, 'created': '2019-11-18 05:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a56b70a464db0985bb8776ccd0be0bbe6c08bdc5', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 9, 'created': '2019-11-18 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7aad5549232d2a440959743cda4a6b7a863971c4', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 10, 'created': '2020-01-30 13:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/dabfd9a0d934d6423f5a7be2e7ad5f1f2206dd41', 'message': 'WIP: Add support to configure swift-recon-cron job\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 11, 'created': '2020-01-30 13:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d4b762bdc6618ff9a1b08c7def2c0b5029029883', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 12, 'created': '2020-01-30 14:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/35c385da82202e0ec8dd7ac0a1b55d8f356b343a', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 13, 'created': '2020-01-30 23:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c01ef10172da97f26903ce1440a0cb2be2600051', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 14, 'created': '2020-01-31 02:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8ec770bb50e582566864a119f066f205a730ff04', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 15, 'created': '2020-01-31 03:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/3ea03f59cf920f0d1e6d9e11f6459d9f510b224c', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 16, 'created': '2020-01-31 04:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/23b4bfb9ac3a2c9fc3a22ba7cc3b54baf2cf690b', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}, {'number': 17, 'created': '2020-01-31 07:57:29.000000000', 'files': ['manifests/storage/cron/recon.pp', 'releasenotes/notes/recon-cron-6f90f5d626d70aa5.yaml', 'spec/classes/swift_storage_cron_recon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/cf1dd1ea62020f62bb151ffc3d65bdfd8f22fc25', 'message': 'Add support for swift-recon-cron job\n\nAdd support to configure swift-recon-cron job, which is\nrequired to have object async pendings shown in recon API.\n\nChange-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706\n'}]",0,694451,cf1dd1ea62020f62bb151ffc3d65bdfd8f22fc25,43,5,17,9816,,,0,"Add support for swift-recon-cron job

Add support to configure swift-recon-cron job, which is
required to have object async pendings shown in recon API.

Change-Id: Iae3705db38ebaddf92ee6e80c20c1011f8f66706
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/51/694451/16 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/cron/recon_cache.pp', 'spec/classes/swift_storage_cron_recon_cache_spec.rb']",2,48d35c4ebeeb2f10e2e593b299610feba59a3a85,recon-cron,"require 'spec_helper' describe 'swift::storage::cron::recon_cache' do let :pre_condition do ""swift::storage {}"" end let :params do {} end context 'with no parameters specified' do it 'configures a cron job with the default values' do is_expected.to container_cron('swift-recon-cache').with( command => 'swift-recon-cron /etc/swift/object-server.conf', environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', user => 'swift', minute => '*/5', hour => '*', monthday => '*', month => '*', weekday => '*', ) end end context 'with parameters specified' do before :each do params.merge!( :configfile => '/opt/swift/object-server.conf', :environment => 'PATH=/bin' :user => 'foo', :minute => '*/1' ) end it 'configures a cron job with the given values' do is_expected.to container_cron('swift-recon-cache').with( command => 'swift-recon-cron /opt/swift/object-server.conf', environment => 'PATH=/bin', user => 'foo', minute => '*/1', hour => '*', monthday => '*', month => '*', weekday => '*', ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'swift::storage::cron::recon_cache' end end done ",,131,0
openstack%2Fglance-specs~master~I51c3bcf161b363e4b188175b75097d19a0d10a74,openstack/glance-specs,master,I51c3bcf161b363e4b188175b75097d19a0d10a74,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 01:03:35.000000000,2020-02-07 05:18:29.000000000,2020-02-07 05:16:37.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-13 01:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/15fdafea3399dff312338e186086dcb698bf5c91', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo has py2 specific requirement which is removed\nor tox optimization.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74\n'}, {'number': 2, 'created': '2019-12-13 01:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/305c99ae01de869607b5693c158f3da46fdebd63', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74\n'}, {'number': 3, 'created': '2019-12-13 18:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5e343837907a06826b4474e1d4f7daa57b16d8c7', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74\n'}, {'number': 4, 'created': '2019-12-13 19:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/21e93a7f4820da82d9095f94c6f8e2e4724bc992', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74\n'}, {'number': 5, 'created': '2019-12-17 18:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/0b8c57cd50de9b6e4c0da4b90c192b212ec8d049', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74\n'}, {'number': 6, 'created': '2020-02-02 10:46:19.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/90d26b2ac42c5dc44a95e38cf472f711657dcb6a', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nAdd bindep.txt file so that wheels can be build.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74\n'}]",1,698825,90d26b2ac42c5dc44a95e38cf472f711657dcb6a,24,7,6,8556,,,0,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

specs repo either has py27 job or requirement or tox env.

Add bindep.txt file so that wheels can be build.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I51c3bcf161b363e4b188175b75097d19a0d10a74
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/25/698825/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,15fdafea3399dff312338e186086dcb698bf5c91,drop-py27-support,"minversion = 3.1.1 envlist = docs,py37basepython = python3basepython = python3","minversion = 1.6 envlist = docs,py27basepython = python3basepython = python3",4,4
openstack%2Fopenstack-helm-images~master~Iacfa645dfff0d372b57983aae47cead263085500,openstack/openstack-helm-images,master,Iacfa645dfff0d372b57983aae47cead263085500,Add train release jobs,MERGED,2020-02-05 18:28:07.000000000,2020-02-07 03:45:07.000000000,2020-02-07 03:41:04.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-05 18:28:07.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/798343e58c3138114b26f89801b0e3e4ab88ff0e', 'message': 'Add train release jobs\n\nThis patch set adds in OpenStack Train release image jobs.\n\nChange-Id: Iacfa645dfff0d372b57983aae47cead263085500\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,706079,798343e58c3138114b26f89801b0e3e4ab88ff0e,10,4,1,20466,,,0,"Add train release jobs

This patch set adds in OpenStack Train release image jobs.

Change-Id: Iacfa645dfff0d372b57983aae47cead263085500
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/79/706079/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,798343e58c3138114b26f89801b0e3e4ab88ff0e,release/train," - openstack-helm-images-build-openstack-loci-train-ubuntu_bionic - openstack-helm-images-upload-openstack-loci-train-ubuntu_bionic - openstack-helm-images-promote-openstack-loci-train-ubuntu_bionic - openstack-helm-images-build-openstack-loci-train-ubuntu_bionic# TRAIN # ######### - job: name: openstack-helm-images-build-openstack-loci-train-ubuntu_bionic description: Build LOCI train bionic images parent: openstack-helm-images-build-openstack-loci-master vars: &build_train_bionic_images currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" branchname: ""stable/train"" shortbranchname: ""train"" distroname: ""ubuntu_bionic"" from: ""docker.io/ubuntu:18.04"" python3: ""yes"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" prep_docker_images: - <<: *requirements_project docker_images: - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project - job: name: openstack-helm-images-upload-openstack-loci-train-ubuntu_bionic parent: openstack-helm-images-upload-openstack-loci-master description: Build and upload LOCI train bionic images vars: *build_train_bionic_images - job: name: openstack-helm-images-promote-openstack-loci-train-ubuntu_bionic parent: openstack-helm-images-promote-openstack-loci-master description: Promote previously published LOCI train bionic images vars: *build_train_bionic_images #########",,44,0
openstack%2Ftripleo-heat-templates~master~I23fc883ee243a34e1abd6914377b206160e5d52a,openstack/tripleo-heat-templates,master,I23fc883ee243a34e1abd6914377b206160e5d52a,Introduce CephExternalMultiConfig,MERGED,2020-01-12 19:05:39.000000000,2020-02-07 03:32:46.000000000,2020-02-07 03:30:53.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-12 19:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eec0f29919d80eb6e52ed198dd2806ab79f953a8', 'message': 'WIP/DNM: Introduce CephMultiBackendsHash\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nImplements: blueprint multiple-external-ceph\n'}, {'number': 2, 'created': '2020-01-12 19:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f22288b3cdc6da597dcd393517fa29dbc253dee', 'message': 'WIP/DNM: Introduce CephMultiBackendsHash\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 3, 'created': '2020-01-13 16:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ae1bad2f453993c179d9d9210b52203dc98805a', 'message': 'WIP/DNM: Introduce CephMultiBackendsHash\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 4, 'created': '2020-01-15 14:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2ff6e0ec2399973259a81bb11711caa2d1e0136', 'message': 'WIP/DNM: Introduce CephMultiBackendsHash\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 5, 'created': '2020-01-16 20:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/838b3fe87ae9c5214cca00f038dba4d66ae748e0', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 6, 'created': '2020-01-18 21:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b01ad94c8987118734cf90e8d100fd82bbddadf', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 7, 'created': '2020-01-21 16:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e3643bb395c5dcbf8f1c6101be005f832d9abf1', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 8, 'created': '2020-01-21 16:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ed2ba74b54d19e5af97db5fb529108a89f97b99', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 9, 'created': '2020-01-25 18:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8e53502c9a49c43cea0fbfc12e6583ce01a1dcd', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 10, 'created': '2020-01-25 20:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/232515306a1efcba3d43f5f7ac21da8f34b18b03', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 11, 'created': '2020-01-28 18:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08c2ca41d5684484f33fb402fcef8224825989b9', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 12, 'created': '2020-01-28 18:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2436d8665703eda2c824d5d751b70a5636c0266', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}, {'number': 13, 'created': '2020-02-03 19:30:28.000000000', 'files': ['releasenotes/notes/ceph_external_multi_config-80d707e5bf75e886.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39a7b6754bcf508f286a2fe916b1c5eb94be7a06', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\nImplements: blueprint multiple-external-ceph\n'}]",32,702141,39a7b6754bcf508f286a2fe916b1c5eb94be7a06,115,7,13,18002,,,0,"Introduce CephExternalMultiConfig

Add new parameter which may be used to configure an
overcloud to use more than one external Ceph cluster.

Change-Id: I23fc883ee243a34e1abd6914377b206160e5d52a
Depends-On: I4fd47445f012878e595649be8371ea212548cbd8
Implements: blueprint multiple-external-ceph
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/702141/10 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,eec0f29919d80eb6e52ed198dd2806ab79f953a8,bp/multiple-external-ceph," CephMultiBackendsHash: type: json hidden: true description: | List of maps describing extra overrides which will be applied when configuring more than one Ceph cluster. If this list is non-empty, then ceph-ansible will run an extra count(list) times using all parameters in this file except any parameter within each map will override the defaults. For example, if the following were used with ceph-external.yaml, then ceph-ansible would run as usual and then run a second time to configure the overcloud to also use the ceph2 cluster. The ceph2 cluster configuration would use all the same paramters except it would generate /etc/ceph/ceph2.conf with the overrides from within the map. E.g. it would use the IP of the monitors for ceph2, not the default CephExternalMonHost, it would use the FSID of ceph2, not the default, etc. A keyring file, /etc/ceph/ceph2.client.openstack.keyring would also be created using the CephClientKey under the ceph2 key. However, since CephClientUserName is not overridden in the example below the default 'openstack' is used so the key file is called ceph2.client.openstack.keyring. This parameter only supports configuration of additional external ceph clusters. It may not be used to deploy additional internal ceph clusters within one Heat stack. - ceph2: CephClusterName: 'ceph2' CephClusterFSID: 'e2cba068-5f14-4b0f-b047-acf375c0004a' CephExternalMonHost: '192.168.24.250' CephClientKey: 'AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q==' default: [] ceph_multi_backends_hash: {get_param: CephMultiBackendsHash}",,27,0
openstack%2Fopenstack-helm-addons~master~Ie3eb07da61f97235d2cbea424401e057327480a5,openstack/openstack-helm-addons,master,Ie3eb07da61f97235d2cbea424401e057327480a5,Enable ranger-agent https flag and uuid access,MERGED,2020-01-29 19:06:37.000000000,2020-02-07 03:31:39.000000000,2020-02-07 03:31:39.000000000,"[{'_account_id': 17591}, {'_account_id': 18524}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-01-29 19:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/40b66f522c5574043aaeb50dab771da56c6b9ec0', 'message': 'Eanble ranger-agent https flag and uuid  access\n\nFix typo for ranger_agent_https_enable flag\nInclude uuid service to public access\n\nChange-Id: Ie3eb07da61f97235d2cbea424401e057327480a5\n'}, {'number': 2, 'created': '2020-01-30 16:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/13246dad53b9008e15e798e674089a0d7ddaa344', 'message': 'Eanble ranger-agent https flag and uuid  access\n\nFix typo for ranger_agent_https_enable flag\nInclude uuid service to public access\n\nChange-Id: Ie3eb07da61f97235d2cbea424401e057327480a5\n'}, {'number': 3, 'created': '2020-02-03 18:27:13.000000000', 'files': ['ranger/values.yaml', 'ranger/templates/deployment-ranger-services.yaml', 'ranger/templates/service-ingress-uuid.yaml', 'ranger/templates/secret-ingress-tls.yaml', 'ranger/templates/ingress-ranger.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6a9037c10d1f64cbf25c859e2ab2db5a2781a05e', 'message': 'Enable ranger-agent https flag and uuid access\n\nFix typo for ranger_agent_https_enable flag\nInclude uuid service to public access\n\nChange-Id: Ie3eb07da61f97235d2cbea424401e057327480a5\n'}]",3,704868,6a9037c10d1f64cbf25c859e2ab2db5a2781a05e,14,10,3,24999,,,0,"Enable ranger-agent https flag and uuid access

Fix typo for ranger_agent_https_enable flag
Include uuid service to public access

Change-Id: Ie3eb07da61f97235d2cbea424401e057327480a5
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/68/704868/1 && git format-patch -1 --stdout FETCH_HEAD,"['ranger/values.yaml', 'ranger/templates/deployment-ranger-services.yaml', 'ranger/templates/service-ingress-uuid.yaml', 'ranger/templates/secret-ingress-tls.yaml', 'ranger/templates/ingress-ranger.yaml']",5,40b66f522c5574043aaeb50dab771da56c6b9ec0,,"{{- if and .Values.manifests.ingress_uuid .Values.network.uuid.ingress.public }} {{- $ingressOpts := dict ""envAll"" . ""backendService"" ""uuid"" ""backendServiceType"" ""uuid"" ""backendPort"" ""uuid"" -}} {{ $ingressOpts | include ""helm-toolkit.manifests.ingress"" }} {{- end }} ",,35,2
openstack%2Fneutron~master~I927b90877afb8bfeedb9b9ed0327650780972852,openstack/neutron,master,I927b90877afb8bfeedb9b9ed0327650780972852,Remove duplicate QoS backend support table,MERGED,2020-02-04 16:07:07.000000000,2020-02-07 03:15:13.000000000,2020-02-07 03:11:40.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-04 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f9c0b9f9801d9cbb98c3e0f9533dd1da80f97bb', 'message': 'Remove duplicate QoS backend support table\n\nRemove the duplicated QoS supported rules and directions from\nadmin/config/config-qos page as the table is already in\ncontributor/internals/quality_of_service.\n\nChange-Id: I927b90877afb8bfeedb9b9ed0327650780972852\n'}, {'number': 2, 'created': '2020-02-06 13:51:51.000000000', 'files': ['doc/source/admin/config-qos.rst', 'doc/source/contributor/internals/quality_of_service.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1d65ba210ee6c2ebba5e4dd31c9843c3e7ad8f8', 'message': 'Remove duplicate QoS backend support table\n\nRemove the duplicated QoS supported rules and directions from\ncontributor/internals/quality_of_service page as the table is already in\nadmin/config-qos page.\n\nChange-Id: I927b90877afb8bfeedb9b9ed0327650780972852\n'}]",4,705724,a1d65ba210ee6c2ebba5e4dd31c9843c3e7ad8f8,16,6,2,8313,,,0,"Remove duplicate QoS backend support table

Remove the duplicated QoS supported rules and directions from
contributor/internals/quality_of_service page as the table is already in
admin/config-qos page.

Change-Id: I927b90877afb8bfeedb9b9ed0327650780972852
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/705724/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos.rst'],1,3f9c0b9f9801d9cbb98c3e0f9533dd1da80f97bb,qos_backends_table,"For the Networking back ends, QoS supported rules, and traffic directions (from the VM point of view). please see the table `contributor/internals/quality_of_service#agent-backends <../contributor/internals/quality_of_service.html#agent-backends>`_.","The following table shows the Networking back ends, QoS supported rules, and traffic directions (from the VM point of view). .. table:: **Networking back ends, supported rules, and traffic direction** ==================== =================== ================ =================== Rule \\ back end Open vSwitch SR-IOV Linux bridge ==================== =================== ================ =================== Bandwidth limit Egress \\ Ingress Egress (1) Egress \\ Ingress Minimum bandwidth Egress (2) Egress - DSCP marking Egress - Egress ==================== =================== ================ =================== .. note:: (1) Max burst parameter is skipped because it is not supported by the IP tool. (2) Only for physical bridges (tenant networks, provider networks), tunneled traffic is not shaped yet.",4,19
openstack%2Fneutron~master~I1f2f13685306f6b08b654a827a6477dc0aea942f,openstack/neutron,master,I1f2f13685306f6b08b654a827a6477dc0aea942f,Use Python 3 as interpreter in test,MERGED,2020-02-06 14:16:20.000000000,2020-02-07 03:13:38.000000000,2020-02-07 03:11:37.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29349}]","[{'number': 1, 'created': '2020-02-06 14:16:20.000000000', 'files': ['neutron/tests/unit/agent/common/test_async_process.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c37781342e27cb14401426bcc13a1937e7d8c8f7', 'message': ""Use Python 3 as interpreter in test\n\ntest_failing_async_process_handle_error_once() is calling\nthe python 2 interpreter. Let's make it use python3 instead.\n\nChange-Id: I1f2f13685306f6b08b654a827a6477dc0aea942f\n""}]",0,706278,c37781342e27cb14401426bcc13a1937e7d8c8f7,13,6,1,6476,,,0,"Use Python 3 as interpreter in test

test_failing_async_process_handle_error_once() is calling
the python 2 interpreter. Let's make it use python3 instead.

Change-Id: I1f2f13685306f6b08b654a827a6477dc0aea942f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/706278/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/common/test_async_process.py'],1,c37781342e27cb14401426bcc13a1937e7d8c8f7,fix-use-python3-not-python," self.process = async_process.AsyncProcess(['python3',"," self.process = async_process.AsyncProcess(['python',",1,1
openstack%2Fwatcher~master~Ia1b034a5f79a5c7eeffdba2df727fd26cf13d1cc,openstack/watcher,master,Ia1b034a5f79a5c7eeffdba2df727fd26cf13d1cc,doc: move Concurrency doc to admin guide,MERGED,2020-02-04 00:21:43.000000000,2020-02-07 03:05:18.000000000,2020-02-07 03:03:52.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 00:21:43.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/05e81c3d881caf0a7a801ff224d7305389503850', 'message': 'doc: move Concurrency doc to admin guide\n\nChange-Id: Ia1b034a5f79a5c7eeffdba2df727fd26cf13d1cc\n'}]",0,705588,05e81c3d881caf0a7a801ff224d7305389503850,7,2,1,21692,,,0,"doc: move Concurrency doc to admin guide

Change-Id: Ia1b034a5f79a5c7eeffdba2df727fd26cf13d1cc
",git fetch https://review.opendev.org/openstack/watcher refs/changes/88/705588/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/index.rst']",2,05e81c3d881caf0a7a801ff224d7305389503850,admin_doc,, contributor/concurrency,1,1
openstack%2Ftripleo-ansible~master~I3103f642ba86111e02d06922876b5f1ac78df602,openstack/tripleo-ansible,master,I3103f642ba86111e02d06922876b5f1ac78df602,Relax needs_delete() filter,MERGED,2019-11-08 11:40:52.000000000,2020-02-07 02:36:07.000000000,2019-11-08 19:16:00.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 11:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a05decfcb82edfbcd80c1251f8a61da75bf38873', 'message': ""Fix c_facts in needs_delete() filter\n\nLater in the filter, we compare the config_data, but c_facts had the\ncontainer name in the key, which we don't need during the compare.\nUse json to manipulate the dictionary and construct something that will\nbe compared to the config_data.\n\nChange-Id: I3103f642ba86111e02d06922876b5f1ac78df602\n""}, {'number': 2, 'created': '2019-11-08 12:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0908a370dd20c1940fb580092d6b037d13ddf51', 'message': ""Fix idempotency in needs_delete\n\nFix c_facts in needs_delete() filter\nLater in the filter, we compare the config_data, but c_facts had the\ncontainer name in the key, which we don't need during the compare.\nUse json to manipulate the dictionary and construct something that will\nbe compared to the config_data.\n\nAlso don't remove the container when all these conditions are met:\n- a container is part of the config_id\n- a container is running\n- this container isn't in the tripleo_container_manage_config path.\nThe reason is, we'll let operators to deploy containers individually, so\nwe don't want to touch other containers not in the config at that time.\n\nChange-Id: I3103f642ba86111e02d06922876b5f1ac78df602\n""}, {'number': 3, 'created': '2019-11-08 13:30:14.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94d52bc00f4e0af3b55b1c5c8ccd03f9bea68c36', 'message': ""Relax needs_delete() filter\n\nDon't remove a container when all these conditions are met:\n- the container is part of the config_id\n- the container is running\n- the container isn't in the tripleo_container_manage_config path.\n\nThe reason is, we'll let operators to deploy containers individually, so\nwe don't want to touch other containers not in the config at that time.\n\nExample: as an operator I want to apply ansible on haproxy\n(config_step1); so I don't want other containers from config_step1 to be\nremoved.\n\nThis code was here to cleanup containers not part of the config (e.g. if\nyou upgrade and a container isn't used anymore); but it's too agressive.\nIf a container isn't needed anymore, it'll need to be handled during the\nupgrade steps.\n\nChange-Id: I3103f642ba86111e02d06922876b5f1ac78df602\n""}]",0,693527,94d52bc00f4e0af3b55b1c5c8ccd03f9bea68c36,12,4,3,3153,,,0,"Relax needs_delete() filter

Don't remove a container when all these conditions are met:
- the container is part of the config_id
- the container is running
- the container isn't in the tripleo_container_manage_config path.

The reason is, we'll let operators to deploy containers individually, so
we don't want to touch other containers not in the config at that time.

Example: as an operator I want to apply ansible on haproxy
(config_step1); so I don't want other containers from config_step1 to be
removed.

This code was here to cleanup containers not part of the config (e.g. if
you upgrade and a container isn't used anymore); but it's too agressive.
If a container isn't needed anymore, it'll need to be handled during the
upgrade steps.

Change-Id: I3103f642ba86111e02d06922876b5f1ac78df602
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/693527/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,a05decfcb82edfbcd80c1251f8a61da75bf38873,delete, # Build c_facts so it can be compared later with config_data; # both will be json.dumps objects. c_facts = json.dumps( json.loads(c_facts[0]).get(c_name) ) if len(c_facts) == 1 else {}, c_facts = c_facts[0] if len(c_facts) == 1 else {},6,1
openstack%2Ftripleo-ansible~master~If65fcf25c9e07174b08e44539b0501615b6c72ab,openstack/tripleo-ansible,master,If65fcf25c9e07174b08e44539b0501615b6c72ab,tripleo-container-manage: allow to override a container config,MERGED,2020-01-09 02:37:59.000000000,2020-02-07 02:32:10.000000000,2020-01-09 18:13:23.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-09 02:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dbdbe2ee61fd2ce28ed7b4dd0dbeeb07141abf96', 'message': 'tripleo-container-manage: allow to override a container config\n\nSometimes an operator might want to override a config parameter for a\nspecific container, without having to rewrite the JSON on the host.\n\nIt can now be done with the new\ntripleo_container_manage_config_overrides parameter.\n\nExample:\n\ntripleo_container_manage_config_override:\n  mysql:\n    image: myregistry.io/tripleomaster/haproxy:latest\n\nIt introduces a new attribute to the singledict() filter and its unit\ntest.\n\nChange-Id: If65fcf25c9e07174b08e44539b0501615b6c72ab\n'}, {'number': 2, 'created': '2020-01-09 02:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e0a494eb382318e953386ad1af167bdfbaf5df2', 'message': 'tripleo-container-manage: allow to override a container config\n\nSometimes an operator might want to override a config parameter for a\nspecific container, without having to rewrite the JSON on the host.\n\nIt can now be done with the new\ntripleo_container_manage_config_overrides parameter.\n\nExample:\n\ntripleo_container_manage_config_override:\n  mysql:\n    image: myregistry.io/tripleomaster/haproxy:latest\n\nIt introduces a new attribute to the singledict() filter and its unit\ntest.\n\nChange-Id: If65fcf25c9e07174b08e44539b0501615b6c72ab\n'}, {'number': 3, 'created': '2020-01-09 03:26:27.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b84159cc43b5ef07081210a1fcef11ec25e2cfa', 'message': 'tripleo-container-manage: allow to override a container config\n\nSometimes an operator might want to override a config parameter for a\nspecific container, without having to rewrite the JSON on the host.\n\nIt can now be done with the new\ntripleo_container_manage_config_overrides parameter.\n\nExample:\n\ntripleo_container_manage_config_override:\n  mysql:\n    image: myregistry.io/tripleomaster/haproxy:latest\n\nIt introduces a new attribute to the singledict() filter and its unit\ntest.\n\nChange-Id: If65fcf25c9e07174b08e44539b0501615b6c72ab\n'}]",1,701658,1b84159cc43b5ef07081210a1fcef11ec25e2cfa,15,6,3,3153,,,0,"tripleo-container-manage: allow to override a container config

Sometimes an operator might want to override a config parameter for a
specific container, without having to rewrite the JSON on the host.

It can now be done with the new
tripleo_container_manage_config_overrides parameter.

Example:

tripleo_container_manage_config_override:
  mysql:
    image: myregistry.io/tripleomaster/haproxy:latest

It introduces a new attribute to the singledict() filter and its unit
test.

Change-Id: If65fcf25c9e07174b08e44539b0501615b6c72ab
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/701658/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",4,dbdbe2ee61fd2ce28ed7b4dd0dbeeb07141abf96,merge_with," def singledict(self, list_to_convert, merge_with={}): If merge_with is set, the return dict will be merged with it. for k, v in i.items(): if k in merge_with.keys(): for mk, mv in merge_with[k].items(): return_dict[k][mk] = mv"," def singledict(self, list_to_convert):",43,2
openstack%2Ftempest~master~I2238387c42650aceb9bacf51a4116ce6887cc460,openstack/tempest,master,I2238387c42650aceb9bacf51a4116ce6887cc460,Disable stable/rocky temporarily on Tempest master,MERGED,2020-02-06 21:46:56.000000000,2020-02-07 02:29:58.000000000,2020-02-07 02:27:35.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 21:46:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/535cfb05f90a9b9f1676e29c2bebbb00a81e2360', 'message': 'Disable stable/rocky temporarily on Tempest master\n\nStable/rocky jobs are broken due to py2\ndrop by Tempest dependency.\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012371.html\n\nFixes are on devstack stable/rocky and tempest side\n- https://review.opendev.org/#/q/topic:fix-stable-gate+(status:open+OR+status:merged)\n\nTo get the Tempest fix and other patches merged\nwe need to disable the rocky jobs on master gate\ntemporary and bring them back once everything is fixed.\n\nTempest fix blocked due to stable/rocky jobs\n-https://review.opendev.org/#/c/705870/\n\nChange-Id: I2238387c42650aceb9bacf51a4116ce6887cc460\n'}]",0,706390,535cfb05f90a9b9f1676e29c2bebbb00a81e2360,8,3,1,8556,,,0,"Disable stable/rocky temporarily on Tempest master

Stable/rocky jobs are broken due to py2
drop by Tempest dependency.
- http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012371.html

Fixes are on devstack stable/rocky and tempest side
- https://review.opendev.org/#/q/topic:fix-stable-gate+(status:open+OR+status:merged)

To get the Tempest fix and other patches merged
we need to disable the rocky jobs on master gate
temporary and bring them back once everything is fixed.

Tempest fix blocked due to stable/rocky jobs
-https://review.opendev.org/#/c/705870/

Change-Id: I2238387c42650aceb9bacf51a4116ce6887cc460
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/706390/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,535cfb05f90a9b9f1676e29c2bebbb00a81e2360,, voting: false voting: false,,2,0
openstack%2Ftripleo-ansible~master~I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3,openstack/tripleo-ansible,master,I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3,Pass only variables starting with ANSIBLE,MERGED,2020-02-05 16:56:11.000000000,2020-02-07 02:05:36.000000000,2020-02-07 02:05:36.000000000,"[{'_account_id': 6796}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-05 16:56:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5fc16aea638489e414f247287049ef6af43dcae', 'message': 'Pass only variables starting with ANSIBLE\n\nWhen config-download runs ceph-ansible it does so by calling\nAnsible from within Ansible. We all ANSIBLE_* environment\nvariables to the nested Ansible execution. However there was\na bug where any variable containing ANSILBE was included, not\njust those starting with ANSIBLE. This fix ensures we filter\nout only variables starting with ANSIBLE.\n\nChange-Id: I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3\nCloses-Bug: 1862031\n'}]",2,706041,b5fc16aea638489e414f247287049ef6af43dcae,17,8,1,18002,,,0,"Pass only variables starting with ANSIBLE

When config-download runs ceph-ansible it does so by calling
Ansible from within Ansible. We all ANSIBLE_* environment
variables to the nested Ansible execution. However there was
a bug where any variable containing ANSILBE was included, not
just those starting with ANSIBLE. This fix ensures we filter
out only variables starting with ANSIBLE.

Change-Id: I9f3e18dcf520ee7ac6370a49d0ae003a192d9bd3
Closes-Bug: 1862031
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/706041/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml'],1,b5fc16aea638489e414f247287049ef6af43dcae,bug/1862031," shell: ""env | grep ^ANSIBLE_"""," shell: ""env | grep ANSIBLE_""",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I935c617b242fb955ed08ed492bbd09e7f3f4fd4c,openstack/tripleo-ansible,stable/train,I935c617b242fb955ed08ed492bbd09e7f3f4fd4c,Improve idempotency of podman_container,MERGED,2020-02-06 18:39:14.000000000,2020-02-07 01:29:05.000000000,2020-02-07 01:29:04.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 18:39:14.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7505747102ae8b766979b1d6ff77a925f105e3d', 'message': ""Improve idempotency of podman_container\n\nMake image comparing more readable\nIf 'command' is not set, don't compare it with current,\nassume it's empty.\n\nChange-Id: I935c617b242fb955ed08ed492bbd09e7f3f4fd4c\n(cherry picked from commit fe6d3d4721b76ee13e2950af0f522ede3d530a7f)\n""}]",0,706354,b7505747102ae8b766979b1d6ff77a925f105e3d,8,4,1,3153,,,0,"Improve idempotency of podman_container

Make image comparing more readable
If 'command' is not set, don't compare it with current,
assume it's empty.

Change-Id: I935c617b242fb955ed08ed492bbd09e7f3f4fd4c
(cherry picked from commit fe6d3d4721b76ee13e2950af0f522ede3d530a7f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/706354/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml']",2,b7505747102ae8b766979b1d6ff77a925f105e3d,41, image: docker.io/alpine image: alpine:latest, image: alpine image: alpine,23,17
openstack%2Fironic-specs~master~I5fb57a8fd27209157563cb7dfa194ac160892ec9,openstack/ironic-specs,master,I5fb57a8fd27209157563cb7dfa194ac160892ec9,Intel Node Manager sensor collection support,ABANDONED,2016-12-20 22:29:42.000000000,2020-02-07 01:25:52.000000000,,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14250}, {'_account_id': 14614}, {'_account_id': 19686}]","[{'number': 1, 'created': '2016-12-20 22:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/87e0044e4c75db89f5595d24ed74f3f54b5f2da5', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 2, 'created': '2016-12-20 22:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c1bb7e744c71b501edaec522f5aaecccbec83bff', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 3, 'created': '2016-12-20 22:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/207c151b69f29bee0046129b3f8e6661363d40dc', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 4, 'created': '2017-01-04 18:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5dba8b6c7be879f2e7c89c05ad35670c40f6a098', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 5, 'created': '2017-01-04 18:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0d0fec3b6973388c20dbbf6986dfc2685bfee102', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 6, 'created': '2017-01-05 18:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/540fba5219954da481f8d5d1c46173c5d239ac51', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 7, 'created': '2017-01-05 20:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/86f97a4e356496c1b8170224df77a87cfa6c3dbf', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 8, 'created': '2017-01-05 20:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a84a15682e0d7cc5b4d3fa7f9c698d5385ea54cb', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 9, 'created': '2017-01-09 15:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/14cba10fc7f9e0530a2602556a13922efa2a6642', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 10, 'created': '2017-01-09 15:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cd09e09988c4727044cd380e50512569f50c75f8', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 11, 'created': '2017-01-09 19:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fcb051263c4f11409172729cef78ecee2f611b86', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 12, 'created': '2017-01-11 19:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8445266fd22bd7cdfd158bd6c8e0fc4584f12fe3', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 13, 'created': '2017-01-11 19:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/31674a5605181d9a8a2151604daec4601f1c0934', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}, {'number': 14, 'created': '2017-01-17 16:36:41.000000000', 'files': ['specs/approved/Intel-Node-Manager-sensor-collection.rst', 'specs/not-implemented/Intel-Node-Manager-sensor-collection.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/626712a2c6bf62958ecc167b7812c2faceccfa35', 'message': 'Intel Node Manager sensor collection support\n\nThis spec propose support for collecting sensor information from Intel\nNode Manager for Ironic.\n\nChange-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9\nRelated-bug: #1645759\n'}]",78,413249,626712a2c6bf62958ecc167b7812c2faceccfa35,54,10,14,5805,,,0,"Intel Node Manager sensor collection support

This spec propose support for collecting sensor information from Intel
Node Manager for Ironic.

Change-Id: I5fb57a8fd27209157563cb7dfa194ac160892ec9
Related-bug: #1645759
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/49/413249/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/Intel-Node-Manager-sensor-collection.rst', 'specs/not-implemented/Intel-Node-Manager-sensor-collection.rst']",2,87e0044e4c75db89f5595d24ed74f3f54b5f2da5,,../approved/Intel-Node-Manager-sensor-collection.rst,,182,0
openstack%2Fpython-tripleoclient~master~I79ded325b904bf0f60408250611935d229eda426,openstack/python-tripleoclient,master,I79ded325b904bf0f60408250611935d229eda426,Convert get_config to a direct call instead of using mistral,MERGED,2020-01-31 21:27:01.000000000,2020-02-07 01:25:24.000000000,2020-02-07 01:22:41.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-31 21:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bf85844fc30a2d237bc9ca5abf3c5b37af3ccfb', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-03 13:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/964fcbce34d87595536932eaebfb10e7ae2ea876', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-03 18:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b6ff4156f14370a28e9c540c803d8ddad57a342', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-03 18:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f076ef20e10ddea8d0ceeddc9890200db14545b8', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-03 22:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6d021cdc17826af0ef6680da725be53666da6679', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-04 03:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7b34f5a24da31fedf5f9a6b49ff0c44f866e731', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-04 21:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4af945381251cf4b5d05ee6a1f69409a5c859a5', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-02-06 14:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac1ae981f7e11822369a492c81616b6096312795', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-02-06 18:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dcf1eb5069346e7fbceeb2ef7288e9f872a06ee1', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-02-06 18:17:41.000000000', 'files': ['tripleoclient/tests/v1/overcloud_upgrade/fakes.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py', 'tripleoclient/tests/v1/overcloud_update/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04f8e338aa7824db14ca4440f33ea9c3fec0092b', 'message': 'Convert get_config to a direct call instead of using mistral\n\nThis change uses the the generated mistral context to call the underlying workflow\nfunction without needing mistral.\n\nStory: 2007212\nTask: 38436\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I79ded325b904bf0f60408250611935d229eda426\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,705299,04f8e338aa7824db14ca4440f33ea9c3fec0092b,33,6,10,7353,,,0,"Convert get_config to a direct call instead of using mistral

This change uses the the generated mistral context to call the underlying workflow
function without needing mistral.

Story: 2007212
Task: 38436

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I79ded325b904bf0f60408250611935d229eda426
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/705299/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_upgrade/fakes.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py', 'tripleoclient/tests/v1/overcloud_update/fakes.py']",7,3bf85844fc30a2d237bc9ca5abf3c5b37af3ccfb,mistral_to_ansible,from tripleoclient import plugin tc = self.app.client_manager.tripleoclient = FakeClientWrapper() tc.create_mistral_context = plugin.ClientWrapper( instance=fakes.FakeInstanceData ).create_mistral_context tc = self.app.client_manager.tripleoclient = FakeClientWrapper() tc.create_mistral_context = plugin.ClientWrapper( instance=fakes.FakeInstanceData ).create_mistral_context tc = self.app.client_manager.tripleoclient = FakeClientWrapper() tc.create_mistral_context = plugin.ClientWrapper( instance=fakes.FakeInstanceData ).create_mistral_context, self.app.client_manager.tripleoclient = FakeClientWrapper() self.app.client_manager.tripleoclient = FakeClientWrapper() self.app.client_manager.tripleoclient = FakeClientWrapper(),52,24
openstack%2Fironic-specs~master~Ie7b59124764c95e501c42895cb36a8c585e566c4,openstack/ironic-specs,master,Ie7b59124764c95e501c42895cb36a8c585e566c4,Make aggregates/availability zones support ironic nodes,ABANDONED,2017-03-06 12:38:39.000000000,2020-02-07 01:24:39.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 11347}, {'_account_id': 14760}]","[{'number': 1, 'created': '2017-03-06 12:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7a3de142b6dd4f2e7b4871438bf1e9cc746cde30', 'message': ""Make aggregates/availability zones support ironic node\n\nThis spec describes how to make AZ or aggregates support ironic node.\nIronic nodes can be add/remove to/remove from AZ or aggregates. It's\nhelpful for administrators to organize baremetal nodes. F.g. some\nbaremetals in DMZ is an independent AZ. Others in core production\nzone is another AZ.\n\nChange-Id: Ie7b59124764c95e501c42895cb36a8c585e566c4\nRelated-Bug: #1576597\n""}, {'number': 2, 'created': '2017-03-06 12:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0e7b1be52e533c6d5bcef42912279254bba4e0f3', 'message': ""Make aggregates/availability zones support ironic nodes\n\nThis spec describes how to make AZ or aggregates support ironic node.\nIronic nodes can be add/remove to/remove from AZ or aggregates. It's\nhelpful for administrators to organize baremetal nodes. F.g. some\nbaremetals in DMZ is an independent AZ. Others in core production\nzone is another AZ.\n\nChange-Id: Ie7b59124764c95e501c42895cb36a8c585e566c4\nRelated-Bug: #1661571\n""}, {'number': 3, 'created': '2017-03-06 13:15:53.000000000', 'files': ['specs/approved/aggregate-support-in-ironic.rst', 'specs/not-implemented/aggregate-support-in-ironic.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3a215098e4bb4f39306154fb03266073b1f4cd57', 'message': ""Make aggregates/availability zones support ironic nodes\n\nThis spec describes how to make AZ or aggregates support ironic node.\nIronic nodes can be add/remove to/remove from AZ or aggregates. It's\nhelpful for administrators to organize baremetal nodes. F.g. some\nbaremetals in DMZ is an independent AZ. Others in core production\nzone is another AZ.\n\nChange-Id: Ie7b59124764c95e501c42895cb36a8c585e566c4\nRelated-Bug: #1661571\n""}]",0,441924,3a215098e4bb4f39306154fb03266073b1f4cd57,8,4,3,15333,,,0,"Make aggregates/availability zones support ironic nodes

This spec describes how to make AZ or aggregates support ironic node.
Ironic nodes can be add/remove to/remove from AZ or aggregates. It's
helpful for administrators to organize baremetal nodes. F.g. some
baremetals in DMZ is an independent AZ. Others in core production
zone is another AZ.

Change-Id: Ie7b59124764c95e501c42895cb36a8c585e566c4
Related-Bug: #1661571
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/24/441924/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/aggregate-support-in-ironic.rst', 'specs/not-implemented/aggregate-support-in-ironic.rst']",2,7a3de142b6dd4f2e7b4871438bf1e9cc746cde30,bug/1661571,specs/approved/aggregate-support-in-ironic.rst,,139,0
openstack%2Fpython-tripleoclient~master~I463b5e3d1c4c15dd859a841d65a5057716f84208,openstack/python-tripleoclient,master,I463b5e3d1c4c15dd859a841d65a5057716f84208,Remove Mistral from plan list and call the Mistral action directly,MERGED,2020-01-31 16:33:08.000000000,2020-02-07 01:24:16.000000000,2020-02-07 01:22:27.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-31 16:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5dc640f8be011601dc7c993e198d68293372cf80', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\n'}, {'number': 2, 'created': '2020-01-31 20:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/29a440ac3fb662141db1268fe9cd3eef4d5e17ee', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-31 20:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6be6bead3a024d77a58f14faf9d62bff69aaaf3a', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-01-31 21:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/accfc2220b318c118eebac6e624260b33d319463', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-03 11:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2925dc410d86e5dc0454be8d2162a55db7a65d3a', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-03 22:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/475ce388556391ce5da167b87aef57a9d7cb7c37', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\n'}, {'number': 7, 'created': '2020-02-04 03:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/afd3699b566dcc1e2e5c72ca6433a8dbf2be363a', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\n'}, {'number': 8, 'created': '2020-02-04 03:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dfb05350f3f31e010692de8a10cf21afd8fde294', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\n'}, {'number': 9, 'created': '2020-02-04 13:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c725bf5c388826daa82b6612a0662155e0b17d4e', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\n'}, {'number': 10, 'created': '2020-02-06 14:50:38.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/plugin.py', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0d92dc15f892b84b6ee1e3e58530785ea967c042', 'message': 'Remove Mistral from plan list and call the Mistral action directly\n\nThis change creates a context that mimics the Mistral context. This\nallows us to short-circuit and cut Mistral out, calling the Python\naction directly.\n\nAll plan list actions have been updated to use this new process and\nthe old mistral function has been deleted.\n\nStory: 2007247\nTask: 38594\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208\n'}]",8,705254,0d92dc15f892b84b6ee1e3e58530785ea967c042,48,9,10,9712,,,0,"Remove Mistral from plan list and call the Mistral action directly

This change creates a context that mimics the Mistral context. This
allows us to short-circuit and cut Mistral out, calling the Python
action directly.

All plan list actions have been updated to use this new process and
the old mistral function has been deleted.

Story: 2007247
Task: 38594

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I463b5e3d1c4c15dd859a841d65a5057716f84208
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/705254/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/plugin.py', 'tripleoclient/v1/overcloud_plan.py']",2,5dc640f8be011601dc7c993e198d68293372cf80,mistral_to_ansible,from tripleo_common.actions import plan plans = plan.ListPlansAction().run(clients.tripleoclient.create_mistral_context()), plans = plan_management.list_deployment_plans(clients),43,1
openstack%2Fironic-specs~master~I69959d15da549eee556fbf3bbeaf13ea7662b6d4,openstack/ironic-specs,master,I69959d15da549eee556fbf3bbeaf13ea7662b6d4,Generic way to configure clean step priorites in Automated cleaning,ABANDONED,2016-08-30 05:30:54.000000000,2020-02-07 01:22:59.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 15074}, {'_account_id': 18781}, {'_account_id': 19686}, {'_account_id': 20522}]","[{'number': 1, 'created': '2016-08-30 05:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9c5b860d194b2df2880f978931c9cbf65a4fed4a', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 2, 'created': '2016-08-31 05:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e73a66f9320e42cf67551ff35406d1c457dd0671', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 3, 'created': '2016-09-15 08:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e67b454977a1424aa51e451a3a94fba3d86cbd10', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 4, 'created': '2016-09-20 05:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/eb1d1ac0ae6e0fa315609870f1af5ff581e9e995', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 5, 'created': '2016-10-15 06:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/447c4053b52a559db59b5a853ddfa2a4b9b2d5c6', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 6, 'created': '2016-11-02 10:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2c77ef8aaddf179ee3e5e7bc3c2cbd35f9e76331', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 7, 'created': '2016-12-09 04:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e52a2cc19268807a014654fa328b76cc2fa09ec3', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 8, 'created': '2017-01-11 09:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d708874712c5a28637549f1a10fcc07ed2ec3474', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 9, 'created': '2017-02-27 06:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e88844adfa873535b1f4498382870771859b61f8', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}, {'number': 10, 'created': '2017-03-07 09:37:37.000000000', 'files': ['specs/approved/generic-clean-priority-configuration.rst', 'specs/not-implemented/generic-clean-priority-configuration.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5ec19bd26d0cee72b82f91c101e7012572fc616e', 'message': 'Generic way to configure clean step priorites in Automated cleaning\n\nThis Specification allows generic way of configuring the clean step\npriorities instead of adding changes in Ironic for each clean step\nbeing introduced.\n\nRelated-bug: #1618014\nChange-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4\n'}]",41,362615,5ec19bd26d0cee72b82f91c101e7012572fc616e,42,9,10,15074,,,0,"Generic way to configure clean step priorites in Automated cleaning

This Specification allows generic way of configuring the clean step
priorities instead of adding changes in Ironic for each clean step
being introduced.

Related-bug: #1618014
Change-Id: I69959d15da549eee556fbf3bbeaf13ea7662b6d4
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/15/362615/10 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/generic-clean-priority-configuration.rst', 'specs/not-implemented/generic-clean-priority-configuration.rst']",2,9c5b860d194b2df2880f978931c9cbf65a4fed4a,generic_clean,../approved/generic-clean-priority-configuration.rst,,189,0
openstack%2Fpython-tripleoclient~master~I78e68147fc30ff4d71edb023f553219d553b53a6,openstack/python-tripleoclient,master,I78e68147fc30ff4d71edb023f553219d553b53a6,Convert horizon url workflow to ansible,MERGED,2020-01-28 17:04:05.000000000,2020-02-07 01:22:37.000000000,2020-02-07 01:22:37.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-28 17:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4bd949c394e5e0ce1b2492a5a6bd79bf1030df1a', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-29 00:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/461dec99a4b80c7a2b491bf8bf4749818b10dbc0', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-29 14:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab8d368ccc63c868aef5d9b7432bc9aa05b8ad5b', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-01-30 19:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ed70988a4f03223c7d542a4e931546b2f7425441', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-04 20:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c63b827a54f6c260876ff17db12672c9097ddc5f', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-04 20:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/355be5e82fa335b69dbeb5c2a24064ebd0f9ec5c', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-06 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/023fad234f3d77c489b8ade625c31cff74a8394c', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: https://review.opendev.org/#/c/706196/\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-02-06 18:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b126da3d90f45c535c7d2afa0b0e53b45d0cb9e9', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: https://review.opendev.org/#/c/706196/\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-02-06 18:17:29.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d76866404e4579882f13fba53c6fed1fe5571f47', 'message': 'Convert horizon url workflow to ansible\n\nThis change will now use an ansible playbook to parse the horizon URL\ninformation from a heat stack and return the connection string\naccordingly.\n\nStory: 2007212\nTask: 38429\nDepends-On: https://review.opendev.org/#/c/706196/\nDepends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef\nChange-Id: I78e68147fc30ff4d71edb023f553219d553b53a6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,704632,d76866404e4579882f13fba53c6fed1fe5571f47,51,7,9,7353,,,0,"Convert horizon url workflow to ansible

This change will now use an ansible playbook to parse the horizon URL
information from a heat stack and return the connection string
accordingly.

Story: 2007212
Task: 38429
Depends-On: https://review.opendev.org/#/c/706196/
Depends-On: I85cb99d47cf3cb4f3093fc856e9f6892115ff5ef
Change-Id: I78e68147fc30ff4d71edb023f553219d553b53a6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/32/704632/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",4,4bd949c394e5e0ce1b2492a5a6bd79bf1030df1a,mistral_to_ansible, horizon_url = deployment.get_horizon_url(stack=stack.stack_name)," horizon_url = deployment.get_horizon_url( self.clients, stack=stack.stack_name)",38,18
openstack%2Fpython-tripleoclient~master~I5c744e116f00e81f92c014fc1f599ad3db11ada2,openstack/python-tripleoclient,master,I5c744e116f00e81f92c014fc1f599ad3db11ada2,Convert deployment to use new ssh-admin playbook,MERGED,2020-01-22 22:57:32.000000000,2020-02-07 01:22:33.000000000,2020-02-07 01:22:33.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-22 22:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66810396101656539a50a29c8f8b3ee9385a4003', 'message': ""Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook. The admin and deploy workflows have been recreated in the v2\ndirectory and updated to match the new method parameters. Utils was also\nupdated to use a couple new ssh arguments that are both useful and were\nbeing used in the ssh shell commands we were running in the original\ndeployment workflow.\n\nTests have been updated to reflect the use of the new methods. Not all\nworkflows have been placed into the v2 directory, only the ones that\nhave argument changes have been moved over. While not everything touched\nis moved over to v2, all workflows that used the `` deployment function\nhave been updated to use the new function arguments. This will ensure\nwe're not breaking compatibility with the legacy api.\n\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-01-22 23:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fddb6481980a4a852bb1f2beb0fcd7d80c675d6c', 'message': ""Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook. The admin and deploy workflows have been recreated in the v2\ndirectory and updated to match the new method parameters. Utils was also\nupdated to use a couple new ssh arguments that are both useful and were\nbeing used in the ssh shell commands we were running in the original\ndeployment workflow.\n\nTests have been updated to reflect the use of the new methods. Not all\nworkflows have been placed into the v2 directory, only the ones that\nhave argument changes have been moved over. While not everything touched\nis moved over to v2, all workflows that used the `` deployment function\nhave been updated to use the new function arguments. This will ensure\nwe're not breaking compatibility with the legacy api.\n\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2020-01-22 23:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3278b2b5890ba4229d10ef662d2267d3b01a07d6', 'message': ""Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook. The admin and deploy workflows have been recreated in the v2\ndirectory and updated to match the new method parameters. Utils was also\nupdated to use a couple new ssh arguments that are both useful and were\nbeing used in the ssh shell commands we were running in the original\ndeployment workflow.\n\nTests have been updated to reflect the use of the new methods. Not all\nworkflows have been placed into the v2 directory, only the ones that\nhave argument changes have been moved over. While not everything touched\nis moved over to v2, all workflows that used the `` deployment function\nhave been updated to use the new function arguments. This will ensure\nwe're not breaking compatibility with the legacy api.\n\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2020-01-23 01:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92764b2cdc48d65abb54b271185661b45eac0802', 'message': ""Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook. The admin and deploy workflows have been recreated in the v2\ndirectory and updated to match the new method parameters. Utils was also\nupdated to use a couple new ssh arguments that are both useful and were\nbeing used in the ssh shell commands we were running in the original\ndeployment workflow.\n\nTests have been updated to reflect the use of the new methods. Not all\nworkflows have been placed into the v2 directory, only the ones that\nhave argument changes have been moved over. While not everything touched\nis moved over to v2, all workflows that used the `` deployment function\nhave been updated to use the new function arguments. This will ensure\nwe're not breaking compatibility with the legacy api.\n\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 5, 'created': '2020-01-23 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/56086550078e79df85788249c279ecf1519c5904', 'message': ""Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook. The admin and deploy workflows have been recreated in the v2\ndirectory and updated to match the new method parameters. Utils was also\nupdated to use a couple new ssh arguments that are both useful and were\nbeing used in the ssh shell commands we were running in the original\ndeployment workflow.\n\nTests have been updated to reflect the use of the new methods. Not all\nworkflows have been placed into the v2 directory, only the ones that\nhave argument changes have been moved over. While not everything touched\nis moved over to v2, all workflows that used the `` deployment function\nhave been updated to use the new function arguments. This will ensure\nwe're not breaking compatibility with the legacy api.\n\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 6, 'created': '2020-01-23 19:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5fc957d368f6c5d50e0aa1f47e4c9166043b354b', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-01-23 19:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f68fd5e1820e0c0c447608e36dc9e61ae99be5b5', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-01-25 03:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d5359ca1ae537bfe7e0cec0dcd3c73431bec499', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-01-31 21:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/139c4a25e9893fc34014673a73acc3228b931753', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-01-31 21:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8226aff9c5ab84a7e513fd09c6c0137879b464f2', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2020-01-31 23:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2a5982dbc448624fe1690b323d461cae06e0d7c2', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2020-02-03 13:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05d70fc01604f9bf2ec2edbe9ed6e31ef6e4651c', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2020-02-03 16:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83d79274b5938835bce8b3ba16e5bdef26ff2570', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2020-02-04 03:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f029359d000d3364d084590b71a41e9bd1dd657c', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2020-02-04 20:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e4eb83e0e8c5b2664882299e989e2dbafe9d335', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2020-02-06 14:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13339eecd795f434e2cc0061b95d16263df8599e', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: https://review.opendev.org/#/c/706196/\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2020-02-06 18:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fbd263a13c6a112e9d1e45a95bb7054b18ee97c7', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: https://review.opendev.org/#/c/706196/\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2020-02-06 18:16:57.000000000', 'files': ['tripleoclient/v1/overcloud_admin.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4866ab8fdecb1e312e9aea54a98c46103aa2b4aa', 'message': 'Convert deployment to use new ssh-admin playbook\n\nThis change converts the deployment process to use the new enable ssh admin\nplaybook instead of the shell commands and a mistral workflow.\n\nTests have been updated to reflect the use of the new methods.\n\nStory: 2007212\nTask: 38427\nDepends-On: https://review.opendev.org/#/c/706196/\nDepends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08\nChange-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",16,703894,4866ab8fdecb1e312e9aea54a98c46103aa2b4aa,95,7,18,7353,,,0,"Convert deployment to use new ssh-admin playbook

This change converts the deployment process to use the new enable ssh admin
playbook instead of the shell commands and a mistral workflow.

Tests have been updated to reflect the use of the new methods.

Story: 2007212
Task: 38427
Depends-On: https://review.opendev.org/#/c/706196/
Depends-On: I5ab7f4d9dc39a74714c9bcfa39fa50cc586e8e08
Change-Id: I5c744e116f00e81f92c014fc1f599ad3db11ada2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/703894/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/v2/overcloud_admin.py', 'tripleoclient/v1/overcloud_admin.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v2/overcloud_deploy.py', 'setup.cfg', 'tripleoclient/v1/overcloud_deploy.py']",13,66810396101656539a50a29c8f8b3ee9385a4003,mistral_to_ansible," help=_('This option has no effect and is only' 'here for legacy purposes.'), help=_('This option has no effect and is only' 'here for legacy purposes.'), stack, parsed_args.overcloud_ssh_key )"," help=_('Timeout for the ssh enable process to finish.'), help=_('Timeout for to wait for the ssh port to become active.'), self.log, self.clients, stack, parsed_args.overcloud_ssh_key, parsed_args.overcloud_ssh_enable_timeout, parsed_args.overcloud_ssh_port_timeout)",1264,215
openstack%2Fpython-tripleoclient~master~I9dae28d597be0d11acaa35026f5316db4d6d8ae1,openstack/python-tripleoclient,master,I9dae28d597be0d11acaa35026f5316db4d6d8ae1,Extend the mistral context class,MERGED,2020-02-04 18:33:40.000000000,2020-02-07 01:22:32.000000000,2020-02-07 01:22:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 18:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84b926cca568e35c2213cf776282456d1fce60b9', 'message': ""Extend the mistral context class\n\nThis change extends our mistral context class to ensure that we're passing everything that\ntripleo-common will expect, which includes deprecated objects.\n\nChange-Id: I9dae28d597be0d11acaa35026f5316db4d6d8ae1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-02-04 20:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0977352772b06a9b050ca487a9ca9909f4f76f52', 'message': ""Extend the mistral context class\n\nThis change extends our mistral context class to ensure that we're passing everything that\ntripleo-common will expect, which includes deprecated objects.\n\nChange-Id: I9dae28d597be0d11acaa35026f5316db4d6d8ae1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2020-02-06 14:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd209a552cc35f4767cc61d525978d9878a5524a', 'message': ""Extend the mistral context class\n\nThis change extends our mistral context class to ensure that we're passing everything that\ntripleo-common will expect, which includes deprecated objects.\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I9dae28d597be0d11acaa35026f5316db4d6d8ae1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2020-02-06 18:16:05.000000000', 'files': ['tripleoclient/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5855d412624506b0c18eb758a73737314df6bc3c', 'message': ""Extend the mistral context class\n\nThis change extends our mistral context class to ensure that we're passing everything that\ntripleo-common will expect, which includes deprecated objects.\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I9dae28d597be0d11acaa35026f5316db4d6d8ae1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,705795,5855d412624506b0c18eb758a73737314df6bc3c,20,6,4,7353,,,0,"Extend the mistral context class

This change extends our mistral context class to ensure that we're passing everything that
tripleo-common will expect, which includes deprecated objects.

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I9dae28d597be0d11acaa35026f5316db4d6d8ae1
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/705795/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/plugin.py'],1,84b926cca568e35c2213cf776282456d1fce60b9,mistral_to_ansible," def __getattribute__(self, name): deprecated = [ ""auth_cacert"", ""auth_token"", ""auth_uri"", ""expires_at"", ""insecure"", ""is_target"", ""is_trust_scoped"", ""project_id"", ""project_name"", ""redelivered"", ""region_name"", ""service_catalog"", ""trust_id"", ""user_name"" ] if name in deprecated: return getattr(self.security, name) return super(MistralContext, self).__getattribute__(name) ",,11,0
openstack%2Fironic-specs~master~Ie75e38659382334a21d69d9d432cc5d28962b1f1,openstack/ironic-specs,master,Ie75e38659382334a21d69d9d432cc5d28962b1f1,Internal API for long running tasks,ABANDONED,2017-02-09 15:32:03.000000000,2020-02-07 01:22:14.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 11297}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 18320}, {'_account_id': 22724}, {'_account_id': 23883}]","[{'number': 1, 'created': '2017-02-09 15:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d922e5fbc167856f1a430aa6c346bae3e5f616cb', 'message': 'API for long running tasks\n\nThis specs proposes add new internal API for long running\ntasks.\n\nRelated-bug: #1632192\nChange-Id: Ie75e38659382334a21d69d9d432cc5d28962b1f1\n'}, {'number': 2, 'created': '2017-02-09 15:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cddc21004bf922923f3f4d1d90811ab31c9cffcd', 'message': 'API for long running tasks\n\nThis specs proposes add new internal API for long running\ntasks.\n\nRelated-bug: #1632192\nChange-Id: Ie75e38659382334a21d69d9d432cc5d28962b1f1\n'}, {'number': 3, 'created': '2017-02-17 12:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/266e534fb6775ad80f76308fb07b5bdae27d56c7', 'message': 'API for long running tasks\n\nThis specs proposes add new internal API for long running\ntasks.\n\nRelated-bug: #1632192\nChange-Id: Ie75e38659382334a21d69d9d432cc5d28962b1f1\n'}, {'number': 4, 'created': '2017-02-21 11:50:08.000000000', 'files': ['specs/approved/long-running-tasks.rst', 'specs/not-implemented/long-running-tasks.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/661478533abf017fa695e1813e47b2cd055ee084', 'message': 'Internal API for long running tasks\n\nThis specs proposes adding new internal API for long running\ntasks.\n\nRelated-bug: #1632192\nChange-Id: Ie75e38659382334a21d69d9d432cc5d28962b1f1\n'}]",63,431605,661478533abf017fa695e1813e47b2cd055ee084,19,10,4,7711,,,0,"Internal API for long running tasks

This specs proposes adding new internal API for long running
tasks.

Related-bug: #1632192
Change-Id: Ie75e38659382334a21d69d9d432cc5d28962b1f1
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/05/431605/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/long-running-tasks.rst', 'specs/not-implemented/long-running-tasks.rst']",2,d922e5fbc167856f1a430aa6c346bae3e5f616cb,bug/1632192,../approved/long-running-tasks.rst,,255,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I78656e48cf85a1a39f873ee40193765eecf02c56,openstack/tripleo-ansible,stable/train,I78656e48cf85a1a39f873ee40193765eecf02c56,[SQUASH] backport tripleo-container-manage to stable/train,MERGED,2020-01-09 22:16:05.000000000,2020-02-07 01:21:38.000000000,2020-02-07 01:18:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-09 22:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc1a4163ba2ea913e97aa72cb0460c152ee703e6', 'message': '[SQUASH] backport tripleo-container-manage to stable/train\n\nThis is a squash of 32 commits to facilitate the backport of\ntripleo-container-manage and its dependencies.\n\nIntroduce tripleo-container-manage role\n\nThis is a first ieration of the role, but there is still a long TODO,\nthat will come later in separated patches:\n- Add molecule testing\n- In podman.yaml, add cpuset_cpus with parity of what is in paunch\n- Remove containers that are:\n  - managed by tripleo-ansible (using the container_label flag)\n  - not in the container-startup-config\n- Print stdout when containers start as it was done with paunch\n\nStory: 2006732\nTask: 37165\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\n(cherry picked from commit a191a2d6001068c77fa6e4a97c12574c59341864)\n\ntripleo-container-manage: set some defaults\n\nSet defaults that are needed to use the role outside of THT more easily.\n\nChange-Id: Id67cf06c85a2a6b50e6494b1a66f534ccb06c4a7\n(cherry picked from commit 609d7895a1ff4a216abffb7c46c16c49e8abaf4e)\n\nMove the filters plugin to the core plugins location\n\nThis change is a workaround for a zuul issue which moves the\nnested ansible role plugin to the core plugins directory so\nthat it is not creating a gate conflict.\n\nChange-Id: I9f959803381063502b4d15980b14c3416ffa153f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e2719131dbdff4fc5fdee32e84ccb4c7655be29b)\n\nRevert ""Workaround for ansible-lint installation failure""\n\nBackport note: this is a second backport of the same patch\nsince now it includes the change in tripleo-container-manage\nrole that is being backported to stable/train.\n\nThis reverts the disabling of the ansible-lint test from\ncommit cffd4fc9d41b15c31610dee4abd8786916f5933b and updates\nansible-lint to the fixed version.\n\nIncluded are fixes for ansible-lint test failures which\ngot merged as part of I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\nwhile the lint test was disabled.\n\nChange-Id: I37100f5e1764a5cd2cb8df82ae963e673ca0a8da\n(cherry picked from commit 28e105c05689f3b8fc046758f9218e9ffab51360)\n\ntripleo-container-manage: few improvements\n\n- Add and use variables to make the role more flexible:\n  tripleo_container_manage_config,\n  tripleo_container_manage_config_id\n  tripleo_container_manage_debug\n  tripleo_container_manage_config_pattern (and rename hashed_files var)\n\n  With these vars, the role can pretty much be used outside of TripleO.\n\n- Show logs of config data generation if debug is enabled\n\n- Do not run the ""podman exec"" tasks in check mode\n\n- Remove the dependency on the ""step"" variable\n\nChange-Id: I28ee31b723f27c392f880676aaae9368906cf45f\n(cherry picked from commit 9c69840640261783cf7940c3e66a96608ba0ff77)\n\nAdds new molecule testing for tripleo-container-manage\n\nThis test ensure the ""create"" part is working fine with an easy and\nsimple container. The container-create and default scenario have been\nconsoldated so its running one complete test for now.\n\nChange-Id: I9139c7b63c15739a1a95d913acb1128af299ce97\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 414f47cc321353816b8a80c14c2f4b2b81f5e09e)\n\ntripleo-container-manage: add check tasks to the molecule playbook\n\nVerify that the ""fedora"" container exists and has the right infos.\n\nChange-Id: If78a254564cff502b49769b0b401d2efdac8cb23\n(cherry picked from commit c20ab4201568cd70f232ac3ed39a073304776919)\n\nMolecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n\n(cherry picked from commit 2d420827378d43d79def26fb254cd33b7a6e89b5)\n\ntripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn\'t in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn\'t yet\n  idempotent but we\'re working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n(cherry picked from commit 7e41e0642de46e9c410278afc4ad150ce551fe88)\n\ntripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n(cherry picked from commit 57411934b7a1a5486c001699c9ed4d8d486cbd7d)\n\ntripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n(cherry picked from commit 2f8f0fc027ee2a03eef812d452746986ac7e57be)\n\ntripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n(cherry picked from commit e7f71c352e306bceeec97d734cd7228c75b12522)\n\ntripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n(cherry picked from commit 73e49888f7daba4a348aefaa0631fc2cb0ff6cbe)\n\ntripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nAlso podman_containers needs to be refreshed at every start_order to get\nnew container informations status.\nSo moving podman_containers from main, and putting it where we need it:\n- before processing the list of containers to delete\n- when start_order playbook starts\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n(cherry picked from commit e68d4b42a222e97f6c0263398ac739866e5969b4)\n\ntripleo-container-manage: port paunch-services\n\npaunch-services used to be useful for container start/stop ordering,\nwhen on the host some containers are managed by Pacemaker and some\nothers by Paunch.\n\nWe need to keep that feature so we are now porting these scripts and\nservices into tripleo-ansible.\n\nThese files where managed by Paunch:\n%{_libexecdir}/paunch-container-shutdown\n%{_libexecdir}/paunch-start-podman-container\n%{_unitdir}/paunch-container-shutdown.service\n%{_presetdir}/91-paunch-container-shutdown.preset\n%{_unitdir}/netns-placeholder.service\n%{_presetdir}/91-netns-placeholder.preset\n\nNow we handle them via Ansible now, and cleanup the Paunch version.\nIt creates the exact same files from:\nhttps://github.com/rdo-packages/paunch-distgit\n\nThis feature is disabled by default and will be explicitely enabled by\nTHT later. Molecule tests enable it though for testing coverage.\n\nStory: 2006732\nTask: 37382\nChange-Id: I4f79429baab50bc0199fb65fe84641908d83935d\n(cherry picked from commit 6e76f444df00af9ab60de1a5c7a7c8fa1d7eed61)\n\ntripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n(cherry picked from commit e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031)\n\ntripleo-container-manage: fix duplicated loop vars\n\nSo we don\'t have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n(cherry picked from commit 80e0476f78c654f3bd563efb62a2acdc96e6df86)\n\ntripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n(cherry picked from commit f506dd6994c398669ae0b20d36ecce18d0ffbc4b)\n\ntripleo-container-manage: add no_log to podman create\n\nSo we don\'t leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n(cherry picked from commit ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65)\n\nImprove molecule tests for tripleo-container-manage (systemd)\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n(cherry picked from commit 484faa7e8016781afa86c099032b511bf90ef4fb)\n\nfix typo\n\nChange-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3720b41a7f10e937c265a710071ca03fedf2ec70)\n\ntripleo-container-manage: restart systemd service if container changed\n\nIf a podman_container resource changed, it\'ll be added to a fact, that\nlater will be used when it comes to figure our if a systemd service\nneeds to be restarted or not.\n\nIt introduces a new filter: list_of_keys.\nThis filter takes in input a list of dictionaries and for each of them\nit will add the key to list_of_keys and returns it.\n\nChange-Id: I0285b006c015f6cd223615ebdad52286f7683a87\n(cherry picked from commit 0a037c65f7804316d4b1c3f1753d4c35bc8fbfbb)\n\ntripleo-container-manage: some improvements\n\n- Improve logging in some tasks, to display what container is managed\n- Use no_log for the tasks which leak all infos about containers\n  (config_data). If debug is enabled, the logs will show all the\n  config_data.\n- Move the /etc/sysconfig/podman_drop_in tasks into shutdown.yaml so it\n  runs once and it\'s staying close to the other tasks related to why we\n  have this file (manage shutdown/start order when reboot).\n\nChange-Id: I56896f92d58db900fd2ea06281d89f75e8d53a17\n(cherry picked from commit 6743f7586343d826c068f82b13388ca170922810)\n\ntripleo-container-manage: create ansible-managed dropin file\n\nIf a deployment has containers managed by tripleo-ansible and not\npaunch, and an operator would try to run paunch on the host, we want to\nsend a warning because paunch will remove all containers managed by\ntripleo-ansible and then redeploy the containers with managed_by=paunch.\n\nWe could change the default of manage_by in Paunch (currently\nmanaged_by=paunch) to something else e.g. tripleo, which would also be\nthe managed_by of tripleo-ansible; so both paunch and tripleo-ansible\ncould be used on the same host. However, we decided that when\ntripleo-ansible is used to deploy the containers, paunch could not be\nused anymore on that host.\n\nTherefore, we create a file that will be checked by paunch and if\npresent, paunch CLI will show a warning.\n\nChange-Id: I722cb8faa3b7eee81b418da83451bf802351dd79\n(cherry picked from commit db1b13c962fc74ec7be9981d8e6f6af237afd3f5)\n\ntripleo-container-manage: remove no_log for create/exec tasks\n\n1. Remove no_log for the create and exec tasks. It\'s always useful to\n   see what is being run.\n\n2. Enable podman_container debug, so we see what commands are being run.\n\nChange-Id: If728788293dd64622cf95da840b60e271197e9a0\n(cherry picked from commit 89e4adf2ae816244cc9b7b48e86b7ca5511f07d3)\n\nAdd missing ExecReload in container service unit file\n\nIt may happen that we want to just reload the container. Before this\npatch, it was a ""stop and start"", while podman has the ""podman kill""\navailable, accepting the HUP signal.\n\nDoing so allows other automated tools to actually just ""reload"" the\ncontainer as we would do for a standard service.\n\nChange-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431\n(cherry picked from commit 2a2bed6f5cb9989d3544918c7e151ba168c7cd6f)\n\nIntroduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n(cherry picked from commit f90a6d42b3f5a55d5269b2d88b30e6455f6b3287)\n\nFix case in filters when Labels is None\n\nWhen Labels is None it\'s not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n\n(cherry picked from commit 1acc95211d018033858f15e33dd063fca1991d3b)\n\ntripleo-container-manage: include more arguments for container exec\n\nContainer execs can be more complex than just a user and a command.\nIt can also use --env and --privileged.\n\n- container_exec_cmd is a new filter that will help to build the\n  container exec command from the container data.\n- list_or_dict_arg is an utility taken from openstack/paunch which\n  allows to build a command and its arguments with list or dict data.\n\nThis patch will allow the container exec to work fine when they have\nenvironment variables, like it\'s the case for Keystone bootstrap.\n\nChange-Id: I15e0b518936b37e26799dbda9677a248cf17ff3c\n(cherry picked from commit 55d5363b4a1b4d1eceda9522c327f193d133c05b)\n\nAdd SyslogIdenfier to healthcheck systemd unit\n\nAdding this new field will allow to filter all healthcheck logs using\nthe Idenfier value.\n\nFor instance, using journalctl, you would be able to run this:\n`journalctl -t healthcheck_collectd\'\n\nIt will also allow to get a dedicated file out of (r)syslog if needed.\n\nChange-Id: Icdc5caf4cedc46291a807c39c0a31c74955a4a74\nCloses-Bug: #1856573\n(cherry picked from commit 49858c5265310c8cdd1694ae389965370fd97abb)\n\nAllow to run tripleo-container-manage in check mode\n\nChange-Id: I3350a43805b4a148f64de393716c26b0158fcff4\n(cherry picked from commit 6513a4bed825e73454333fa88ac754af90d01b2d)\n\ntripleo-container-manage: fix config_data in Config/Labels\n\nconfig_data should not contain the container name, just the actual\nconfig data which is the value of the container_data dict.\n\nIt removes the add of start_order into the compare, this isn\'t necessary\nand breaks idempotency for containers which don\'t have start_order in\ntheir config_data.\nAlso adds more unit tests to cover all situations handled by the filter.\n\nChange-Id: I0b64bf34c8f7498128b3b1fceb7c727f8544cec6\n(cherry picked from commit 19c5d7e77e0ed7b3661f8f8663b399394c1e12ec)\n\ntripleo-container-manage: search container configs recursively\n\nIf the user doesn\'t override the default value for\ntripleo_container_manage_config, which is set to\n\'/var/lib/tripleo-config/\', to something deeper, we want Ansible to\nrecursively search for the container config until it finds it.\n\nChange-Id: I7d23fec91ffb813f0ab6f11b85d811ef3897f9e0\n(cherry picked from commit 205f7c9b0c5bc232cac393ab38364acb01d3c40f)\n\nIdempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they\'re not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n(cherry picked from commit 1212544a283f99cc4f233c645f92bb805db01e4f)\n\nFix case where there\'re no effective caps\n\nWhen no effective caps in container, it should be list, not None\nChange-Id: I5412edc844ad43223c4b3bda35662a7f7ee43f3a\n\n(cherry picked from commit 3a6690c904a5ed5790f3d1ae8c82134f22d277b4)\n\nAdd idempotency for networks parameter in podman_container\n\nChange-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696\n(cherry picked from commit 25f8abbc5a6195d0f72b9fecca8b0728991a4772)\n\nuse version parsing from distutils\n\nuse LooseVersion for version comparisons\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n(cherry picked from commit 8c83219fbbc4078bfb8e666bd3186c22e809437a)\n\nImprove idempotency for podman containers module\n\nFix some pep8 issues\nChange-Id: If4233e57edeec10ccac965d61c78f30688cd5531\n\n(cherry picked from commit 0609c16d10795bee6bb2a48c023d4272b35d7db5)\n\nImprove idempotency for podman container module\n\nStrip all registry values from ""image"" parameter in input.\nAdd this case to test.\n\nChange-Id: I78656e48cf85a1a39f873ee40193765eecf02c56\n(cherry picked from commit 87d9e9d9a6e6966d71bd574466b2128b58ff096c)\n'}, {'number': 2, 'created': '2020-01-10 02:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10197c77c9ad4d0e6d844a7dc45e2fe04e1b1a49', 'message': '[SQUASH] backport tripleo-container-manage to stable/train\n\nThis is a squash of 32 commits to facilitate the backport of\ntripleo-container-manage and its dependencies.\n\nIntroduce tripleo-container-manage role\n\nThis is a first ieration of the role, but there is still a long TODO,\nthat will come later in separated patches:\n- Add molecule testing\n- In podman.yaml, add cpuset_cpus with parity of what is in paunch\n- Remove containers that are:\n  - managed by tripleo-ansible (using the container_label flag)\n  - not in the container-startup-config\n- Print stdout when containers start as it was done with paunch\n\nStory: 2006732\nTask: 37165\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\n(cherry picked from commit a191a2d6001068c77fa6e4a97c12574c59341864)\n\ntripleo-container-manage: set some defaults\n\nSet defaults that are needed to use the role outside of THT more easily.\n\nChange-Id: Id67cf06c85a2a6b50e6494b1a66f534ccb06c4a7\n(cherry picked from commit 609d7895a1ff4a216abffb7c46c16c49e8abaf4e)\n\nMove the filters plugin to the core plugins location\n\nThis change is a workaround for a zuul issue which moves the\nnested ansible role plugin to the core plugins directory so\nthat it is not creating a gate conflict.\n\nChange-Id: I9f959803381063502b4d15980b14c3416ffa153f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e2719131dbdff4fc5fdee32e84ccb4c7655be29b)\n\nRevert ""Workaround for ansible-lint installation failure""\n\nBackport note: this is a second backport of the same patch\nsince now it includes the change in tripleo-container-manage\nrole that is being backported to stable/train.\n\nThis reverts the disabling of the ansible-lint test from\ncommit cffd4fc9d41b15c31610dee4abd8786916f5933b and updates\nansible-lint to the fixed version.\n\nIncluded are fixes for ansible-lint test failures which\ngot merged as part of I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\nwhile the lint test was disabled.\n\nChange-Id: I37100f5e1764a5cd2cb8df82ae963e673ca0a8da\n(cherry picked from commit 28e105c05689f3b8fc046758f9218e9ffab51360)\n\ntripleo-container-manage: few improvements\n\n- Add and use variables to make the role more flexible:\n  tripleo_container_manage_config,\n  tripleo_container_manage_config_id\n  tripleo_container_manage_debug\n  tripleo_container_manage_config_pattern (and rename hashed_files var)\n\n  With these vars, the role can pretty much be used outside of TripleO.\n\n- Show logs of config data generation if debug is enabled\n\n- Do not run the ""podman exec"" tasks in check mode\n\n- Remove the dependency on the ""step"" variable\n\nChange-Id: I28ee31b723f27c392f880676aaae9368906cf45f\n(cherry picked from commit 9c69840640261783cf7940c3e66a96608ba0ff77)\n\nAdds new molecule testing for tripleo-container-manage\n\nThis test ensure the ""create"" part is working fine with an easy and\nsimple container. The container-create and default scenario have been\nconsoldated so its running one complete test for now.\n\nChange-Id: I9139c7b63c15739a1a95d913acb1128af299ce97\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 414f47cc321353816b8a80c14c2f4b2b81f5e09e)\n\ntripleo-container-manage: add check tasks to the molecule playbook\n\nVerify that the ""fedora"" container exists and has the right infos.\n\nChange-Id: If78a254564cff502b49769b0b401d2efdac8cb23\n(cherry picked from commit c20ab4201568cd70f232ac3ed39a073304776919)\n\nMolecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n\n(cherry picked from commit 2d420827378d43d79def26fb254cd33b7a6e89b5)\n\ntripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn\'t in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn\'t yet\n  idempotent but we\'re working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n(cherry picked from commit 7e41e0642de46e9c410278afc4ad150ce551fe88)\n\ntripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n(cherry picked from commit 57411934b7a1a5486c001699c9ed4d8d486cbd7d)\n\ntripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n(cherry picked from commit 2f8f0fc027ee2a03eef812d452746986ac7e57be)\n\ntripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n(cherry picked from commit e7f71c352e306bceeec97d734cd7228c75b12522)\n\ntripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n(cherry picked from commit 73e49888f7daba4a348aefaa0631fc2cb0ff6cbe)\n\ntripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nAlso podman_containers needs to be refreshed at every start_order to get\nnew container informations status.\nSo moving podman_containers from main, and putting it where we need it:\n- before processing the list of containers to delete\n- when start_order playbook starts\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n(cherry picked from commit e68d4b42a222e97f6c0263398ac739866e5969b4)\n\ntripleo-container-manage: port paunch-services\n\npaunch-services used to be useful for container start/stop ordering,\nwhen on the host some containers are managed by Pacemaker and some\nothers by Paunch.\n\nWe need to keep that feature so we are now porting these scripts and\nservices into tripleo-ansible.\n\nThese files where managed by Paunch:\n%{_libexecdir}/paunch-container-shutdown\n%{_libexecdir}/paunch-start-podman-container\n%{_unitdir}/paunch-container-shutdown.service\n%{_presetdir}/91-paunch-container-shutdown.preset\n%{_unitdir}/netns-placeholder.service\n%{_presetdir}/91-netns-placeholder.preset\n\nNow we handle them via Ansible now, and cleanup the Paunch version.\nIt creates the exact same files from:\nhttps://github.com/rdo-packages/paunch-distgit\n\nThis feature is disabled by default and will be explicitely enabled by\nTHT later. Molecule tests enable it though for testing coverage.\n\nStory: 2006732\nTask: 37382\nChange-Id: I4f79429baab50bc0199fb65fe84641908d83935d\n(cherry picked from commit 6e76f444df00af9ab60de1a5c7a7c8fa1d7eed61)\n\ntripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n(cherry picked from commit e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031)\n\ntripleo-container-manage: fix duplicated loop vars\n\nSo we don\'t have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n(cherry picked from commit 80e0476f78c654f3bd563efb62a2acdc96e6df86)\n\ntripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n(cherry picked from commit f506dd6994c398669ae0b20d36ecce18d0ffbc4b)\n\ntripleo-container-manage: add no_log to podman create\n\nSo we don\'t leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n(cherry picked from commit ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65)\n\nImprove molecule tests for tripleo-container-manage (systemd)\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n(cherry picked from commit 484faa7e8016781afa86c099032b511bf90ef4fb)\n\nfix typo\n\nChange-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3720b41a7f10e937c265a710071ca03fedf2ec70)\n\ntripleo-container-manage: restart systemd service if container changed\n\nIf a podman_container resource changed, it\'ll be added to a fact, that\nlater will be used when it comes to figure our if a systemd service\nneeds to be restarted or not.\n\nIt introduces a new filter: list_of_keys.\nThis filter takes in input a list of dictionaries and for each of them\nit will add the key to list_of_keys and returns it.\n\nChange-Id: I0285b006c015f6cd223615ebdad52286f7683a87\n(cherry picked from commit 0a037c65f7804316d4b1c3f1753d4c35bc8fbfbb)\n\ntripleo-container-manage: some improvements\n\n- Improve logging in some tasks, to display what container is managed\n- Use no_log for the tasks which leak all infos about containers\n  (config_data). If debug is enabled, the logs will show all the\n  config_data.\n- Move the /etc/sysconfig/podman_drop_in tasks into shutdown.yaml so it\n  runs once and it\'s staying close to the other tasks related to why we\n  have this file (manage shutdown/start order when reboot).\n\nChange-Id: I56896f92d58db900fd2ea06281d89f75e8d53a17\n(cherry picked from commit 6743f7586343d826c068f82b13388ca170922810)\n\ntripleo-container-manage: create ansible-managed dropin file\n\nIf a deployment has containers managed by tripleo-ansible and not\npaunch, and an operator would try to run paunch on the host, we want to\nsend a warning because paunch will remove all containers managed by\ntripleo-ansible and then redeploy the containers with managed_by=paunch.\n\nWe could change the default of manage_by in Paunch (currently\nmanaged_by=paunch) to something else e.g. tripleo, which would also be\nthe managed_by of tripleo-ansible; so both paunch and tripleo-ansible\ncould be used on the same host. However, we decided that when\ntripleo-ansible is used to deploy the containers, paunch could not be\nused anymore on that host.\n\nTherefore, we create a file that will be checked by paunch and if\npresent, paunch CLI will show a warning.\n\nChange-Id: I722cb8faa3b7eee81b418da83451bf802351dd79\n(cherry picked from commit db1b13c962fc74ec7be9981d8e6f6af237afd3f5)\n\ntripleo-container-manage: remove no_log for create/exec tasks\n\n1. Remove no_log for the create and exec tasks. It\'s always useful to\n   see what is being run.\n\n2. Enable podman_container debug, so we see what commands are being run.\n\nChange-Id: If728788293dd64622cf95da840b60e271197e9a0\n(cherry picked from commit 89e4adf2ae816244cc9b7b48e86b7ca5511f07d3)\n\nAdd missing ExecReload in container service unit file\n\nIt may happen that we want to just reload the container. Before this\npatch, it was a ""stop and start"", while podman has the ""podman kill""\navailable, accepting the HUP signal.\n\nDoing so allows other automated tools to actually just ""reload"" the\ncontainer as we would do for a standard service.\n\nChange-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431\n(cherry picked from commit 2a2bed6f5cb9989d3544918c7e151ba168c7cd6f)\n\nIntroduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n(cherry picked from commit f90a6d42b3f5a55d5269b2d88b30e6455f6b3287)\n\nFix case in filters when Labels is None\n\nWhen Labels is None it\'s not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n\n(cherry picked from commit 1acc95211d018033858f15e33dd063fca1991d3b)\n\ntripleo-container-manage: include more arguments for container exec\n\nContainer execs can be more complex than just a user and a command.\nIt can also use --env and --privileged.\n\n- container_exec_cmd is a new filter that will help to build the\n  container exec command from the container data.\n- list_or_dict_arg is an utility taken from openstack/paunch which\n  allows to build a command and its arguments with list or dict data.\n\nThis patch will allow the container exec to work fine when they have\nenvironment variables, like it\'s the case for Keystone bootstrap.\n\nChange-Id: I15e0b518936b37e26799dbda9677a248cf17ff3c\n(cherry picked from commit 55d5363b4a1b4d1eceda9522c327f193d133c05b)\n\nAdd SyslogIdenfier to healthcheck systemd unit\n\nAdding this new field will allow to filter all healthcheck logs using\nthe Idenfier value.\n\nFor instance, using journalctl, you would be able to run this:\n`journalctl -t healthcheck_collectd\'\n\nIt will also allow to get a dedicated file out of (r)syslog if needed.\n\nChange-Id: Icdc5caf4cedc46291a807c39c0a31c74955a4a74\nCloses-Bug: #1856573\n(cherry picked from commit 49858c5265310c8cdd1694ae389965370fd97abb)\n\nAllow to run tripleo-container-manage in check mode\n\nChange-Id: I3350a43805b4a148f64de393716c26b0158fcff4\n(cherry picked from commit 6513a4bed825e73454333fa88ac754af90d01b2d)\n\ntripleo-container-manage: fix config_data in Config/Labels\n\nconfig_data should not contain the container name, just the actual\nconfig data which is the value of the container_data dict.\n\nIt removes the add of start_order into the compare, this isn\'t necessary\nand breaks idempotency for containers which don\'t have start_order in\ntheir config_data.\nAlso adds more unit tests to cover all situations handled by the filter.\n\nChange-Id: I0b64bf34c8f7498128b3b1fceb7c727f8544cec6\n(cherry picked from commit 19c5d7e77e0ed7b3661f8f8663b399394c1e12ec)\n\ntripleo-container-manage: search container configs recursively\n\nIf the user doesn\'t override the default value for\ntripleo_container_manage_config, which is set to\n\'/var/lib/tripleo-config/\', to something deeper, we want Ansible to\nrecursively search for the container config until it finds it.\n\nChange-Id: I7d23fec91ffb813f0ab6f11b85d811ef3897f9e0\n(cherry picked from commit 205f7c9b0c5bc232cac393ab38364acb01d3c40f)\n\nIdempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they\'re not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n(cherry picked from commit 1212544a283f99cc4f233c645f92bb805db01e4f)\n\nFix case where there\'re no effective caps\n\nWhen no effective caps in container, it should be list, not None\nChange-Id: I5412edc844ad43223c4b3bda35662a7f7ee43f3a\n\n(cherry picked from commit 3a6690c904a5ed5790f3d1ae8c82134f22d277b4)\n\nAdd idempotency for networks parameter in podman_container\n\nChange-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696\n(cherry picked from commit 25f8abbc5a6195d0f72b9fecca8b0728991a4772)\n\nuse version parsing from distutils\n\nuse LooseVersion for version comparisons\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n(cherry picked from commit 8c83219fbbc4078bfb8e666bd3186c22e809437a)\n\nImprove idempotency for podman containers module\n\nFix some pep8 issues\nChange-Id: If4233e57edeec10ccac965d61c78f30688cd5531\n\n(cherry picked from commit 0609c16d10795bee6bb2a48c023d4272b35d7db5)\n\nImprove idempotency for podman container module\n\nStrip all registry values from ""image"" parameter in input.\nAdd this case to test.\n\nChange-Id: I78656e48cf85a1a39f873ee40193765eecf02c56\n(cherry picked from commit 87d9e9d9a6e6966d71bd574466b2128b58ff096c)\n'}, {'number': 3, 'created': '2020-01-10 16:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6067aa044e49881acdee461a0e9860eb10883417', 'message': '[SQUASH] backport tripleo-container-manage to stable/train\n\nThis is a squash of 32 commits to facilitate the backport of\ntripleo-container-manage and its dependencies.\n\nIntroduce tripleo-container-manage role\n\nThis is a first ieration of the role, but there is still a long TODO,\nthat will come later in separated patches:\n- Add molecule testing\n- In podman.yaml, add cpuset_cpus with parity of what is in paunch\n- Remove containers that are:\n  - managed by tripleo-ansible (using the container_label flag)\n  - not in the container-startup-config\n- Print stdout when containers start as it was done with paunch\n\nStory: 2006732\nTask: 37165\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nChange-Id: I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\n(cherry picked from commit a191a2d6001068c77fa6e4a97c12574c59341864)\n\ntripleo-container-manage: set some defaults\n\nSet defaults that are needed to use the role outside of THT more easily.\n\nChange-Id: Id67cf06c85a2a6b50e6494b1a66f534ccb06c4a7\n(cherry picked from commit 609d7895a1ff4a216abffb7c46c16c49e8abaf4e)\n\nMove the filters plugin to the core plugins location\n\nThis change is a workaround for a zuul issue which moves the\nnested ansible role plugin to the core plugins directory so\nthat it is not creating a gate conflict.\n\nChange-Id: I9f959803381063502b4d15980b14c3416ffa153f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e2719131dbdff4fc5fdee32e84ccb4c7655be29b)\n\nRevert ""Workaround for ansible-lint installation failure""\n\nBackport note: this is a second backport of the same patch\nsince now it includes the change in tripleo-container-manage\nrole that is being backported to stable/train.\n\nThis reverts the disabling of the ansible-lint test from\ncommit cffd4fc9d41b15c31610dee4abd8786916f5933b and updates\nansible-lint to the fixed version.\n\nIncluded are fixes for ansible-lint test failures which\ngot merged as part of I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\nwhile the lint test was disabled.\n\nChange-Id: I37100f5e1764a5cd2cb8df82ae963e673ca0a8da\n(cherry picked from commit 28e105c05689f3b8fc046758f9218e9ffab51360)\n\ntripleo-container-manage: few improvements\n\n- Add and use variables to make the role more flexible:\n  tripleo_container_manage_config,\n  tripleo_container_manage_config_id\n  tripleo_container_manage_debug\n  tripleo_container_manage_config_pattern (and rename hashed_files var)\n\n  With these vars, the role can pretty much be used outside of TripleO.\n\n- Show logs of config data generation if debug is enabled\n\n- Do not run the ""podman exec"" tasks in check mode\n\n- Remove the dependency on the ""step"" variable\n\nChange-Id: I28ee31b723f27c392f880676aaae9368906cf45f\n(cherry picked from commit 9c69840640261783cf7940c3e66a96608ba0ff77)\n\nAdds new molecule testing for tripleo-container-manage\n\nThis test ensure the ""create"" part is working fine with an easy and\nsimple container. The container-create and default scenario have been\nconsoldated so its running one complete test for now.\n\nChange-Id: I9139c7b63c15739a1a95d913acb1128af299ce97\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 414f47cc321353816b8a80c14c2f4b2b81f5e09e)\n\ntripleo-container-manage: add check tasks to the molecule playbook\n\nVerify that the ""fedora"" container exists and has the right infos.\n\nChange-Id: If78a254564cff502b49769b0b401d2efdac8cb23\n(cherry picked from commit c20ab4201568cd70f232ac3ed39a073304776919)\n\nMolecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n\n(cherry picked from commit 2d420827378d43d79def26fb254cd33b7a6e89b5)\n\ntripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn\'t in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn\'t yet\n  idempotent but we\'re working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n(cherry picked from commit 7e41e0642de46e9c410278afc4ad150ce551fe88)\n\ntripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n(cherry picked from commit 57411934b7a1a5486c001699c9ed4d8d486cbd7d)\n\ntripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n(cherry picked from commit 2f8f0fc027ee2a03eef812d452746986ac7e57be)\n\ntripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n(cherry picked from commit e7f71c352e306bceeec97d734cd7228c75b12522)\n\ntripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n(cherry picked from commit 73e49888f7daba4a348aefaa0631fc2cb0ff6cbe)\n\ntripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nAlso podman_containers needs to be refreshed at every start_order to get\nnew container informations status.\nSo moving podman_containers from main, and putting it where we need it:\n- before processing the list of containers to delete\n- when start_order playbook starts\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n(cherry picked from commit e68d4b42a222e97f6c0263398ac739866e5969b4)\n\ntripleo-container-manage: port paunch-services\n\npaunch-services used to be useful for container start/stop ordering,\nwhen on the host some containers are managed by Pacemaker and some\nothers by Paunch.\n\nWe need to keep that feature so we are now porting these scripts and\nservices into tripleo-ansible.\n\nThese files where managed by Paunch:\n%{_libexecdir}/paunch-container-shutdown\n%{_libexecdir}/paunch-start-podman-container\n%{_unitdir}/paunch-container-shutdown.service\n%{_presetdir}/91-paunch-container-shutdown.preset\n%{_unitdir}/netns-placeholder.service\n%{_presetdir}/91-netns-placeholder.preset\n\nNow we handle them via Ansible now, and cleanup the Paunch version.\nIt creates the exact same files from:\nhttps://github.com/rdo-packages/paunch-distgit\n\nThis feature is disabled by default and will be explicitely enabled by\nTHT later. Molecule tests enable it though for testing coverage.\n\nStory: 2006732\nTask: 37382\nChange-Id: I4f79429baab50bc0199fb65fe84641908d83935d\n(cherry picked from commit 6e76f444df00af9ab60de1a5c7a7c8fa1d7eed61)\n\ntripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n(cherry picked from commit e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031)\n\ntripleo-container-manage: fix duplicated loop vars\n\nSo we don\'t have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n(cherry picked from commit 80e0476f78c654f3bd563efb62a2acdc96e6df86)\n\ntripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n(cherry picked from commit f506dd6994c398669ae0b20d36ecce18d0ffbc4b)\n\ntripleo-container-manage: add no_log to podman create\n\nSo we don\'t leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n(cherry picked from commit ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65)\n\nImprove molecule tests for tripleo-container-manage (systemd)\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n(cherry picked from commit 484faa7e8016781afa86c099032b511bf90ef4fb)\n\nfix typo\n\nChange-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3720b41a7f10e937c265a710071ca03fedf2ec70)\n\ntripleo-container-manage: restart systemd service if container changed\n\nIf a podman_container resource changed, it\'ll be added to a fact, that\nlater will be used when it comes to figure our if a systemd service\nneeds to be restarted or not.\n\nIt introduces a new filter: list_of_keys.\nThis filter takes in input a list of dictionaries and for each of them\nit will add the key to list_of_keys and returns it.\n\nChange-Id: I0285b006c015f6cd223615ebdad52286f7683a87\n(cherry picked from commit 0a037c65f7804316d4b1c3f1753d4c35bc8fbfbb)\n\ntripleo-container-manage: some improvements\n\n- Improve logging in some tasks, to display what container is managed\n- Use no_log for the tasks which leak all infos about containers\n  (config_data). If debug is enabled, the logs will show all the\n  config_data.\n- Move the /etc/sysconfig/podman_drop_in tasks into shutdown.yaml so it\n  runs once and it\'s staying close to the other tasks related to why we\n  have this file (manage shutdown/start order when reboot).\n\nChange-Id: I56896f92d58db900fd2ea06281d89f75e8d53a17\n(cherry picked from commit 6743f7586343d826c068f82b13388ca170922810)\n\ntripleo-container-manage: create ansible-managed dropin file\n\nIf a deployment has containers managed by tripleo-ansible and not\npaunch, and an operator would try to run paunch on the host, we want to\nsend a warning because paunch will remove all containers managed by\ntripleo-ansible and then redeploy the containers with managed_by=paunch.\n\nWe could change the default of manage_by in Paunch (currently\nmanaged_by=paunch) to something else e.g. tripleo, which would also be\nthe managed_by of tripleo-ansible; so both paunch and tripleo-ansible\ncould be used on the same host. However, we decided that when\ntripleo-ansible is used to deploy the containers, paunch could not be\nused anymore on that host.\n\nTherefore, we create a file that will be checked by paunch and if\npresent, paunch CLI will show a warning.\n\nChange-Id: I722cb8faa3b7eee81b418da83451bf802351dd79\n(cherry picked from commit db1b13c962fc74ec7be9981d8e6f6af237afd3f5)\n\ntripleo-container-manage: remove no_log for create/exec tasks\n\n1. Remove no_log for the create and exec tasks. It\'s always useful to\n   see what is being run.\n\n2. Enable podman_container debug, so we see what commands are being run.\n\nChange-Id: If728788293dd64622cf95da840b60e271197e9a0\n(cherry picked from commit 89e4adf2ae816244cc9b7b48e86b7ca5511f07d3)\n\nAdd missing ExecReload in container service unit file\n\nIt may happen that we want to just reload the container. Before this\npatch, it was a ""stop and start"", while podman has the ""podman kill""\navailable, accepting the HUP signal.\n\nDoing so allows other automated tools to actually just ""reload"" the\ncontainer as we would do for a standard service.\n\nChange-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431\n(cherry picked from commit 2a2bed6f5cb9989d3544918c7e151ba168c7cd6f)\n\nIntroduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n(cherry picked from commit f90a6d42b3f5a55d5269b2d88b30e6455f6b3287)\n\nFix case in filters when Labels is None\n\nWhen Labels is None it\'s not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n\n(cherry picked from commit 1acc95211d018033858f15e33dd063fca1991d3b)\n\ntripleo-container-manage: include more arguments for container exec\n\nContainer execs can be more complex than just a user and a command.\nIt can also use --env and --privileged.\n\n- container_exec_cmd is a new filter that will help to build the\n  container exec command from the container data.\n- list_or_dict_arg is an utility taken from openstack/paunch which\n  allows to build a command and its arguments with list or dict data.\n\nThis patch will allow the container exec to work fine when they have\nenvironment variables, like it\'s the case for Keystone bootstrap.\n\nChange-Id: I15e0b518936b37e26799dbda9677a248cf17ff3c\n(cherry picked from commit 55d5363b4a1b4d1eceda9522c327f193d133c05b)\n\nAdd SyslogIdenfier to healthcheck systemd unit\n\nAdding this new field will allow to filter all healthcheck logs using\nthe Idenfier value.\n\nFor instance, using journalctl, you would be able to run this:\n`journalctl -t healthcheck_collectd\'\n\nIt will also allow to get a dedicated file out of (r)syslog if needed.\n\nChange-Id: Icdc5caf4cedc46291a807c39c0a31c74955a4a74\nCloses-Bug: #1856573\n(cherry picked from commit 49858c5265310c8cdd1694ae389965370fd97abb)\n\nAllow to run tripleo-container-manage in check mode\n\nChange-Id: I3350a43805b4a148f64de393716c26b0158fcff4\n(cherry picked from commit 6513a4bed825e73454333fa88ac754af90d01b2d)\n\ntripleo-container-manage: fix config_data in Config/Labels\n\nconfig_data should not contain the container name, just the actual\nconfig data which is the value of the container_data dict.\n\nIt removes the add of start_order into the compare, this isn\'t necessary\nand breaks idempotency for containers which don\'t have start_order in\ntheir config_data.\nAlso adds more unit tests to cover all situations handled by the filter.\n\nChange-Id: I0b64bf34c8f7498128b3b1fceb7c727f8544cec6\n(cherry picked from commit 19c5d7e77e0ed7b3661f8f8663b399394c1e12ec)\n\ntripleo-container-manage: search container configs recursively\n\nIf the user doesn\'t override the default value for\ntripleo_container_manage_config, which is set to\n\'/var/lib/tripleo-config/\', to something deeper, we want Ansible to\nrecursively search for the container config until it finds it.\n\nChange-Id: I7d23fec91ffb813f0ab6f11b85d811ef3897f9e0\n(cherry picked from commit 205f7c9b0c5bc232cac393ab38364acb01d3c40f)\n\nIdempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they\'re not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n(cherry picked from commit 1212544a283f99cc4f233c645f92bb805db01e4f)\n\nFix case where there\'re no effective caps\n\nWhen no effective caps in container, it should be list, not None\nChange-Id: I5412edc844ad43223c4b3bda35662a7f7ee43f3a\n\n(cherry picked from commit 3a6690c904a5ed5790f3d1ae8c82134f22d277b4)\n\nAdd idempotency for networks parameter in podman_container\n\nChange-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696\n(cherry picked from commit 25f8abbc5a6195d0f72b9fecca8b0728991a4772)\n\nuse version parsing from distutils\n\nuse LooseVersion for version comparisons\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n(cherry picked from commit 8c83219fbbc4078bfb8e666bd3186c22e809437a)\n\nImprove idempotency for podman containers module\n\nFix some pep8 issues\nChange-Id: If4233e57edeec10ccac965d61c78f30688cd5531\n\n(cherry picked from commit 0609c16d10795bee6bb2a48c023d4272b35d7db5)\n\nImprove idempotency for podman container module\n\nStrip all registry values from ""image"" parameter in input.\nAdd this case to test.\n\nChange-Id: I78656e48cf85a1a39f873ee40193765eecf02c56\n(cherry picked from commit 87d9e9d9a6e6966d71bd574466b2128b58ff096c)\n'}, {'number': 4, 'created': '2020-01-13 01:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f23612f8042633aa10be408d0be0098a8b567da', 'message': '[SQUASH] backport tripleo-container-manage to stable/train\n\nThis is a squash of 32 commits to facilitate the backport of\ntripleo-container-manage and its dependencies.\n\nIntroduce tripleo-container-manage role\n\nThis is a first ieration of the role, but there is still a long TODO,\nthat will come later in separated patches:\n- Add molecule testing\n- In podman.yaml, add cpuset_cpus with parity of what is in paunch\n- Remove containers that are:\n  - managed by tripleo-ansible (using the container_label flag)\n  - not in the container-startup-config\n- Print stdout when containers start as it was done with paunch\n\nStory: 2006732\nTask: 37165\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nDepends-On: https://review.opendev.org/#/c/702144/\nChange-Id: I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\n(cherry picked from commit a191a2d6001068c77fa6e4a97c12574c59341864)\n\ntripleo-container-manage: set some defaults\n\nSet defaults that are needed to use the role outside of THT more easily.\n\nChange-Id: Id67cf06c85a2a6b50e6494b1a66f534ccb06c4a7\n(cherry picked from commit 609d7895a1ff4a216abffb7c46c16c49e8abaf4e)\n\nMove the filters plugin to the core plugins location\n\nThis change is a workaround for a zuul issue which moves the\nnested ansible role plugin to the core plugins directory so\nthat it is not creating a gate conflict.\n\nChange-Id: I9f959803381063502b4d15980b14c3416ffa153f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e2719131dbdff4fc5fdee32e84ccb4c7655be29b)\n\nRevert ""Workaround for ansible-lint installation failure""\n\nBackport note: this is a second backport of the same patch\nsince now it includes the change in tripleo-container-manage\nrole that is being backported to stable/train.\n\nThis reverts the disabling of the ansible-lint test from\ncommit cffd4fc9d41b15c31610dee4abd8786916f5933b and updates\nansible-lint to the fixed version.\n\nIncluded are fixes for ansible-lint test failures which\ngot merged as part of I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\nwhile the lint test was disabled.\n\nChange-Id: I37100f5e1764a5cd2cb8df82ae963e673ca0a8da\n(cherry picked from commit 28e105c05689f3b8fc046758f9218e9ffab51360)\n\ntripleo-container-manage: few improvements\n\n- Add and use variables to make the role more flexible:\n  tripleo_container_manage_config,\n  tripleo_container_manage_config_id\n  tripleo_container_manage_debug\n  tripleo_container_manage_config_pattern (and rename hashed_files var)\n\n  With these vars, the role can pretty much be used outside of TripleO.\n\n- Show logs of config data generation if debug is enabled\n\n- Do not run the ""podman exec"" tasks in check mode\n\n- Remove the dependency on the ""step"" variable\n\nChange-Id: I28ee31b723f27c392f880676aaae9368906cf45f\n(cherry picked from commit 9c69840640261783cf7940c3e66a96608ba0ff77)\n\nAdds new molecule testing for tripleo-container-manage\n\nThis test ensure the ""create"" part is working fine with an easy and\nsimple container. The container-create and default scenario have been\nconsoldated so its running one complete test for now.\n\nChange-Id: I9139c7b63c15739a1a95d913acb1128af299ce97\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 414f47cc321353816b8a80c14c2f4b2b81f5e09e)\n\ntripleo-container-manage: add check tasks to the molecule playbook\n\nVerify that the ""fedora"" container exists and has the right infos.\n\nChange-Id: If78a254564cff502b49769b0b401d2efdac8cb23\n(cherry picked from commit c20ab4201568cd70f232ac3ed39a073304776919)\n\nMolecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n\n(cherry picked from commit 2d420827378d43d79def26fb254cd33b7a6e89b5)\n\ntripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn\'t in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn\'t yet\n  idempotent but we\'re working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n(cherry picked from commit 7e41e0642de46e9c410278afc4ad150ce551fe88)\n\ntripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n(cherry picked from commit 57411934b7a1a5486c001699c9ed4d8d486cbd7d)\n\ntripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n(cherry picked from commit 2f8f0fc027ee2a03eef812d452746986ac7e57be)\n\ntripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n(cherry picked from commit e7f71c352e306bceeec97d734cd7228c75b12522)\n\ntripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n(cherry picked from commit 73e49888f7daba4a348aefaa0631fc2cb0ff6cbe)\n\ntripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nAlso podman_containers needs to be refreshed at every start_order to get\nnew container informations status.\nSo moving podman_containers from main, and putting it where we need it:\n- before processing the list of containers to delete\n- when start_order playbook starts\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n(cherry picked from commit e68d4b42a222e97f6c0263398ac739866e5969b4)\n\ntripleo-container-manage: port paunch-services\n\npaunch-services used to be useful for container start/stop ordering,\nwhen on the host some containers are managed by Pacemaker and some\nothers by Paunch.\n\nWe need to keep that feature so we are now porting these scripts and\nservices into tripleo-ansible.\n\nThese files where managed by Paunch:\n%{_libexecdir}/paunch-container-shutdown\n%{_libexecdir}/paunch-start-podman-container\n%{_unitdir}/paunch-container-shutdown.service\n%{_presetdir}/91-paunch-container-shutdown.preset\n%{_unitdir}/netns-placeholder.service\n%{_presetdir}/91-netns-placeholder.preset\n\nNow we handle them via Ansible now, and cleanup the Paunch version.\nIt creates the exact same files from:\nhttps://github.com/rdo-packages/paunch-distgit\n\nThis feature is disabled by default and will be explicitely enabled by\nTHT later. Molecule tests enable it though for testing coverage.\n\nStory: 2006732\nTask: 37382\nChange-Id: I4f79429baab50bc0199fb65fe84641908d83935d\n(cherry picked from commit 6e76f444df00af9ab60de1a5c7a7c8fa1d7eed61)\n\ntripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n(cherry picked from commit e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031)\n\ntripleo-container-manage: fix duplicated loop vars\n\nSo we don\'t have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n(cherry picked from commit 80e0476f78c654f3bd563efb62a2acdc96e6df86)\n\ntripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n(cherry picked from commit f506dd6994c398669ae0b20d36ecce18d0ffbc4b)\n\ntripleo-container-manage: add no_log to podman create\n\nSo we don\'t leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n(cherry picked from commit ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65)\n\nImprove molecule tests for tripleo-container-manage (systemd)\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n(cherry picked from commit 484faa7e8016781afa86c099032b511bf90ef4fb)\n\nfix typo\n\nChange-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3720b41a7f10e937c265a710071ca03fedf2ec70)\n\ntripleo-container-manage: restart systemd service if container changed\n\nIf a podman_container resource changed, it\'ll be added to a fact, that\nlater will be used when it comes to figure our if a systemd service\nneeds to be restarted or not.\n\nIt introduces a new filter: list_of_keys.\nThis filter takes in input a list of dictionaries and for each of them\nit will add the key to list_of_keys and returns it.\n\nChange-Id: I0285b006c015f6cd223615ebdad52286f7683a87\n(cherry picked from commit 0a037c65f7804316d4b1c3f1753d4c35bc8fbfbb)\n\ntripleo-container-manage: some improvements\n\n- Improve logging in some tasks, to display what container is managed\n- Use no_log for the tasks which leak all infos about containers\n  (config_data). If debug is enabled, the logs will show all the\n  config_data.\n- Move the /etc/sysconfig/podman_drop_in tasks into shutdown.yaml so it\n  runs once and it\'s staying close to the other tasks related to why we\n  have this file (manage shutdown/start order when reboot).\n\nChange-Id: I56896f92d58db900fd2ea06281d89f75e8d53a17\n(cherry picked from commit 6743f7586343d826c068f82b13388ca170922810)\n\ntripleo-container-manage: create ansible-managed dropin file\n\nIf a deployment has containers managed by tripleo-ansible and not\npaunch, and an operator would try to run paunch on the host, we want to\nsend a warning because paunch will remove all containers managed by\ntripleo-ansible and then redeploy the containers with managed_by=paunch.\n\nWe could change the default of manage_by in Paunch (currently\nmanaged_by=paunch) to something else e.g. tripleo, which would also be\nthe managed_by of tripleo-ansible; so both paunch and tripleo-ansible\ncould be used on the same host. However, we decided that when\ntripleo-ansible is used to deploy the containers, paunch could not be\nused anymore on that host.\n\nTherefore, we create a file that will be checked by paunch and if\npresent, paunch CLI will show a warning.\n\nChange-Id: I722cb8faa3b7eee81b418da83451bf802351dd79\n(cherry picked from commit db1b13c962fc74ec7be9981d8e6f6af237afd3f5)\n\ntripleo-container-manage: remove no_log for create/exec tasks\n\n1. Remove no_log for the create and exec tasks. It\'s always useful to\n   see what is being run.\n\n2. Enable podman_container debug, so we see what commands are being run.\n\nChange-Id: If728788293dd64622cf95da840b60e271197e9a0\n(cherry picked from commit 89e4adf2ae816244cc9b7b48e86b7ca5511f07d3)\n\nAdd missing ExecReload in container service unit file\n\nIt may happen that we want to just reload the container. Before this\npatch, it was a ""stop and start"", while podman has the ""podman kill""\navailable, accepting the HUP signal.\n\nDoing so allows other automated tools to actually just ""reload"" the\ncontainer as we would do for a standard service.\n\nChange-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431\n(cherry picked from commit 2a2bed6f5cb9989d3544918c7e151ba168c7cd6f)\n\nIntroduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n(cherry picked from commit f90a6d42b3f5a55d5269b2d88b30e6455f6b3287)\n\nFix case in filters when Labels is None\n\nWhen Labels is None it\'s not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n\n(cherry picked from commit 1acc95211d018033858f15e33dd063fca1991d3b)\n\ntripleo-container-manage: include more arguments for container exec\n\nContainer execs can be more complex than just a user and a command.\nIt can also use --env and --privileged.\n\n- container_exec_cmd is a new filter that will help to build the\n  container exec command from the container data.\n- list_or_dict_arg is an utility taken from openstack/paunch which\n  allows to build a command and its arguments with list or dict data.\n\nThis patch will allow the container exec to work fine when they have\nenvironment variables, like it\'s the case for Keystone bootstrap.\n\nChange-Id: I15e0b518936b37e26799dbda9677a248cf17ff3c\n(cherry picked from commit 55d5363b4a1b4d1eceda9522c327f193d133c05b)\n\nAdd SyslogIdenfier to healthcheck systemd unit\n\nAdding this new field will allow to filter all healthcheck logs using\nthe Idenfier value.\n\nFor instance, using journalctl, you would be able to run this:\n`journalctl -t healthcheck_collectd\'\n\nIt will also allow to get a dedicated file out of (r)syslog if needed.\n\nChange-Id: Icdc5caf4cedc46291a807c39c0a31c74955a4a74\nCloses-Bug: #1856573\n(cherry picked from commit 49858c5265310c8cdd1694ae389965370fd97abb)\n\nAllow to run tripleo-container-manage in check mode\n\nChange-Id: I3350a43805b4a148f64de393716c26b0158fcff4\n(cherry picked from commit 6513a4bed825e73454333fa88ac754af90d01b2d)\n\ntripleo-container-manage: fix config_data in Config/Labels\n\nconfig_data should not contain the container name, just the actual\nconfig data which is the value of the container_data dict.\n\nIt removes the add of start_order into the compare, this isn\'t necessary\nand breaks idempotency for containers which don\'t have start_order in\ntheir config_data.\nAlso adds more unit tests to cover all situations handled by the filter.\n\nChange-Id: I0b64bf34c8f7498128b3b1fceb7c727f8544cec6\n(cherry picked from commit 19c5d7e77e0ed7b3661f8f8663b399394c1e12ec)\n\ntripleo-container-manage: search container configs recursively\n\nIf the user doesn\'t override the default value for\ntripleo_container_manage_config, which is set to\n\'/var/lib/tripleo-config/\', to something deeper, we want Ansible to\nrecursively search for the container config until it finds it.\n\nChange-Id: I7d23fec91ffb813f0ab6f11b85d811ef3897f9e0\n(cherry picked from commit 205f7c9b0c5bc232cac393ab38364acb01d3c40f)\n\nIdempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they\'re not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n(cherry picked from commit 1212544a283f99cc4f233c645f92bb805db01e4f)\n\nFix case where there\'re no effective caps\n\nWhen no effective caps in container, it should be list, not None\nChange-Id: I5412edc844ad43223c4b3bda35662a7f7ee43f3a\n\n(cherry picked from commit 3a6690c904a5ed5790f3d1ae8c82134f22d277b4)\n\nAdd idempotency for networks parameter in podman_container\n\nChange-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696\n(cherry picked from commit 25f8abbc5a6195d0f72b9fecca8b0728991a4772)\n\nuse version parsing from distutils\n\nuse LooseVersion for version comparisons\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n(cherry picked from commit 8c83219fbbc4078bfb8e666bd3186c22e809437a)\n\nImprove idempotency for podman containers module\n\nFix some pep8 issues\nChange-Id: If4233e57edeec10ccac965d61c78f30688cd5531\n\n(cherry picked from commit 0609c16d10795bee6bb2a48c023d4272b35d7db5)\n\nImprove idempotency for podman container module\n\nStrip all registry values from ""image"" parameter in input.\nAdd this case to test.\n\nChange-Id: I78656e48cf85a1a39f873ee40193765eecf02c56\n(cherry picked from commit 87d9e9d9a6e6966d71bd574466b2128b58ff096c)\n'}, {'number': 5, 'created': '2020-02-03 17:46:55.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2', 'test-requirements.txt', 'tripleo_ansible/tests/__init__.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/container_running.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/tripleo-start-podman-container', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/tests/plugins/filter/__init__.py', 'tripleo_ansible/roles/tripleo-container-manage/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/91-tripleo-container-shutdown-preset', 'tripleo_ansible/tests/plugins/__init__.py', 'zuul.d/playbooks/run.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/create.yml', 'ansible-requirements.txt', 'tripleo_ansible/roles/tripleo-container-manage/files/tripleo-container-shutdown-service', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/molecule.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/molecule.yml', 'tox.ini', 'tripleo_ansible/ansible_plugins/modules/podman_volume_info.py', '.gitignore', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/shutdown.yml', 'doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo-container-manage/files/netns-placeholder-service', 'bindep.txt', 'tripleo_ansible/playbooks/podman_tests.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/prepare.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/playbook.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-timer.j2', '.stestr.conf', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/delete.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/91-netns-placeholder-preset', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/molecule.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/tripleo-container-shutdown', 'tripleo_ansible/ansible_plugins/tests/.yamllint', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec4351c56646122f295a4fbdcba65abecc28df26', 'message': '[SQUASH] backport tripleo-container-manage to stable/train\n\nThis is a squash of 32 commits to facilitate the backport of\ntripleo-container-manage and its dependencies.\n\nIntroduce tripleo-container-manage role\n\nThis is a first ieration of the role, but there is still a long TODO,\nthat will come later in separated patches:\n- Add molecule testing\n- In podman.yaml, add cpuset_cpus with parity of what is in paunch\n- Remove containers that are:\n  - managed by tripleo-ansible (using the container_label flag)\n  - not in the container-startup-config\n- Print stdout when containers start as it was done with paunch\n\nStory: 2006732\nTask: 37165\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n\nDepends-On: https://review.opendev.org/#/c/702144/\nChange-Id: I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\n(cherry picked from commit a191a2d6001068c77fa6e4a97c12574c59341864)\n\ntripleo-container-manage: set some defaults\n\nSet defaults that are needed to use the role outside of THT more easily.\n\nChange-Id: Id67cf06c85a2a6b50e6494b1a66f534ccb06c4a7\n(cherry picked from commit 609d7895a1ff4a216abffb7c46c16c49e8abaf4e)\n\nMove the filters plugin to the core plugins location\n\nThis change is a workaround for a zuul issue which moves the\nnested ansible role plugin to the core plugins directory so\nthat it is not creating a gate conflict.\n\nChange-Id: I9f959803381063502b4d15980b14c3416ffa153f\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e2719131dbdff4fc5fdee32e84ccb4c7655be29b)\n\nRevert ""Workaround for ansible-lint installation failure""\n\nBackport note: this is a second backport of the same patch\nsince now it includes the change in tripleo-container-manage\nrole that is being backported to stable/train.\n\nThis reverts the disabling of the ansible-lint test from\ncommit cffd4fc9d41b15c31610dee4abd8786916f5933b and updates\nansible-lint to the fixed version.\n\nIncluded are fixes for ansible-lint test failures which\ngot merged as part of I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\nwhile the lint test was disabled.\n\nChange-Id: I37100f5e1764a5cd2cb8df82ae963e673ca0a8da\n(cherry picked from commit 28e105c05689f3b8fc046758f9218e9ffab51360)\n\ntripleo-container-manage: few improvements\n\n- Add and use variables to make the role more flexible:\n  tripleo_container_manage_config,\n  tripleo_container_manage_config_id\n  tripleo_container_manage_debug\n  tripleo_container_manage_config_pattern (and rename hashed_files var)\n\n  With these vars, the role can pretty much be used outside of TripleO.\n\n- Show logs of config data generation if debug is enabled\n\n- Do not run the ""podman exec"" tasks in check mode\n\n- Remove the dependency on the ""step"" variable\n\nChange-Id: I28ee31b723f27c392f880676aaae9368906cf45f\n(cherry picked from commit 9c69840640261783cf7940c3e66a96608ba0ff77)\n\nAdds new molecule testing for tripleo-container-manage\n\nThis test ensure the ""create"" part is working fine with an easy and\nsimple container. The container-create and default scenario have been\nconsoldated so its running one complete test for now.\n\nChange-Id: I9139c7b63c15739a1a95d913acb1128af299ce97\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 414f47cc321353816b8a80c14c2f4b2b81f5e09e)\n\ntripleo-container-manage: add check tasks to the molecule playbook\n\nVerify that the ""fedora"" container exists and has the right infos.\n\nChange-Id: If78a254564cff502b49769b0b401d2efdac8cb23\n(cherry picked from commit c20ab4201568cd70f232ac3ed39a073304776919)\n\nMolecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n\n(cherry picked from commit 2d420827378d43d79def26fb254cd33b7a6e89b5)\n\ntripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn\'t in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn\'t yet\n  idempotent but we\'re working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n(cherry picked from commit 7e41e0642de46e9c410278afc4ad150ce551fe88)\n\ntripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n(cherry picked from commit 57411934b7a1a5486c001699c9ed4d8d486cbd7d)\n\ntripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n(cherry picked from commit 2f8f0fc027ee2a03eef812d452746986ac7e57be)\n\ntripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n(cherry picked from commit e7f71c352e306bceeec97d734cd7228c75b12522)\n\ntripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n(cherry picked from commit 73e49888f7daba4a348aefaa0631fc2cb0ff6cbe)\n\ntripleo-container-manage: fix exec check\n\nFix the task which check if the container where the exec happens is\nactually running.\n\nAlso podman_containers needs to be refreshed at every start_order to get\nnew container informations status.\nSo moving podman_containers from main, and putting it where we need it:\n- before processing the list of containers to delete\n- when start_order playbook starts\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: I2afb71288208c8b97763caa832c94e06e1b9457c\n(cherry picked from commit e68d4b42a222e97f6c0263398ac739866e5969b4)\n\ntripleo-container-manage: port paunch-services\n\npaunch-services used to be useful for container start/stop ordering,\nwhen on the host some containers are managed by Pacemaker and some\nothers by Paunch.\n\nWe need to keep that feature so we are now porting these scripts and\nservices into tripleo-ansible.\n\nThese files where managed by Paunch:\n%{_libexecdir}/paunch-container-shutdown\n%{_libexecdir}/paunch-start-podman-container\n%{_unitdir}/paunch-container-shutdown.service\n%{_presetdir}/91-paunch-container-shutdown.preset\n%{_unitdir}/netns-placeholder.service\n%{_presetdir}/91-netns-placeholder.preset\n\nNow we handle them via Ansible now, and cleanup the Paunch version.\nIt creates the exact same files from:\nhttps://github.com/rdo-packages/paunch-distgit\n\nThis feature is disabled by default and will be explicitely enabled by\nTHT later. Molecule tests enable it though for testing coverage.\n\nStory: 2006732\nTask: 37382\nChange-Id: I4f79429baab50bc0199fb65fe84641908d83935d\n(cherry picked from commit 6e76f444df00af9ab60de1a5c7a7c8fa1d7eed61)\n\ntripleo-container-manage: use async\n\n- Add a new filter \'haskey\' which returns container data with a specific\n  config key. The filter takes a list of dicts and returns the dicts\n  which have a certain key given in parameter with \'attribute\'.\n  If \'reverse\' is set to True, the returned list won\'t contains dicts\n  which have the \'attribute\' value.\n  If \'any\' is set to True, the returned list will match any value in the\n  list of \'value\' parameter which has to be a list.\n\n- Make the exec and create playbook using ansible ""async"".\n  (WIP is to re-add the podman_container.changed in systemd playbook).\n\nNote: we don\'t manage Systemd resources with async, since it exposes\nrace conditions at the systemd level.\n\nChange-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c\n(cherry picked from commit e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031)\n\ntripleo-container-manage: fix duplicated loop vars\n\nSo we don\'t have the Ansible warning saying the loop var is already used\nfor another loop.\n\nChange-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee\n(cherry picked from commit 80e0476f78c654f3bd563efb62a2acdc96e6df86)\n\ntripleo-container-manage: skip some tasks in check mode\n\nChange-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69\n(cherry picked from commit f506dd6994c398669ae0b20d36ecce18d0ffbc4b)\n\ntripleo-container-manage: add no_log to podman create\n\nSo we don\'t leak confidential informations like passwords and others in\nthe logs.\nNote that if debug is enabled, the infos are displayed in the ansible\nlogs.\n\nChange-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67\n(cherry picked from commit ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65)\n\nImprove molecule tests for tripleo-container-manage (systemd)\n\nChange-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88\n(cherry picked from commit 484faa7e8016781afa86c099032b511bf90ef4fb)\n\nfix typo\n\nChange-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 3720b41a7f10e937c265a710071ca03fedf2ec70)\n\ntripleo-container-manage: restart systemd service if container changed\n\nIf a podman_container resource changed, it\'ll be added to a fact, that\nlater will be used when it comes to figure our if a systemd service\nneeds to be restarted or not.\n\nIt introduces a new filter: list_of_keys.\nThis filter takes in input a list of dictionaries and for each of them\nit will add the key to list_of_keys and returns it.\n\nChange-Id: I0285b006c015f6cd223615ebdad52286f7683a87\n(cherry picked from commit 0a037c65f7804316d4b1c3f1753d4c35bc8fbfbb)\n\ntripleo-container-manage: some improvements\n\n- Improve logging in some tasks, to display what container is managed\n- Use no_log for the tasks which leak all infos about containers\n  (config_data). If debug is enabled, the logs will show all the\n  config_data.\n- Move the /etc/sysconfig/podman_drop_in tasks into shutdown.yaml so it\n  runs once and it\'s staying close to the other tasks related to why we\n  have this file (manage shutdown/start order when reboot).\n\nChange-Id: I56896f92d58db900fd2ea06281d89f75e8d53a17\n(cherry picked from commit 6743f7586343d826c068f82b13388ca170922810)\n\ntripleo-container-manage: create ansible-managed dropin file\n\nIf a deployment has containers managed by tripleo-ansible and not\npaunch, and an operator would try to run paunch on the host, we want to\nsend a warning because paunch will remove all containers managed by\ntripleo-ansible and then redeploy the containers with managed_by=paunch.\n\nWe could change the default of manage_by in Paunch (currently\nmanaged_by=paunch) to something else e.g. tripleo, which would also be\nthe managed_by of tripleo-ansible; so both paunch and tripleo-ansible\ncould be used on the same host. However, we decided that when\ntripleo-ansible is used to deploy the containers, paunch could not be\nused anymore on that host.\n\nTherefore, we create a file that will be checked by paunch and if\npresent, paunch CLI will show a warning.\n\nChange-Id: I722cb8faa3b7eee81b418da83451bf802351dd79\n(cherry picked from commit db1b13c962fc74ec7be9981d8e6f6af237afd3f5)\n\ntripleo-container-manage: remove no_log for create/exec tasks\n\n1. Remove no_log for the create and exec tasks. It\'s always useful to\n   see what is being run.\n\n2. Enable podman_container debug, so we see what commands are being run.\n\nChange-Id: If728788293dd64622cf95da840b60e271197e9a0\n(cherry picked from commit 89e4adf2ae816244cc9b7b48e86b7ca5511f07d3)\n\nAdd missing ExecReload in container service unit file\n\nIt may happen that we want to just reload the container. Before this\npatch, it was a ""stop and start"", while podman has the ""podman kill""\navailable, accepting the HUP signal.\n\nDoing so allows other automated tools to actually just ""reload"" the\ncontainer as we would do for a standard service.\n\nChange-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431\n(cherry picked from commit 2a2bed6f5cb9989d3544918c7e151ba168c7cd6f)\n\nIntroduce unit tests structure for tripleo-ansible filters\n\nChange-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c\n(cherry picked from commit f90a6d42b3f5a55d5269b2d88b30e6455f6b3287)\n\nFix case in filters when Labels is None\n\nWhen Labels is None it\'s not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n\n(cherry picked from commit 1acc95211d018033858f15e33dd063fca1991d3b)\n\ntripleo-container-manage: include more arguments for container exec\n\nContainer execs can be more complex than just a user and a command.\nIt can also use --env and --privileged.\n\n- container_exec_cmd is a new filter that will help to build the\n  container exec command from the container data.\n- list_or_dict_arg is an utility taken from openstack/paunch which\n  allows to build a command and its arguments with list or dict data.\n\nThis patch will allow the container exec to work fine when they have\nenvironment variables, like it\'s the case for Keystone bootstrap.\n\nChange-Id: I15e0b518936b37e26799dbda9677a248cf17ff3c\n(cherry picked from commit 55d5363b4a1b4d1eceda9522c327f193d133c05b)\n\nAdd SyslogIdenfier to healthcheck systemd unit\n\nAdding this new field will allow to filter all healthcheck logs using\nthe Idenfier value.\n\nFor instance, using journalctl, you would be able to run this:\n`journalctl -t healthcheck_collectd\'\n\nIt will also allow to get a dedicated file out of (r)syslog if needed.\n\nChange-Id: Icdc5caf4cedc46291a807c39c0a31c74955a4a74\nCloses-Bug: #1856573\n(cherry picked from commit 49858c5265310c8cdd1694ae389965370fd97abb)\n\nAllow to run tripleo-container-manage in check mode\n\nChange-Id: I3350a43805b4a148f64de393716c26b0158fcff4\n(cherry picked from commit 6513a4bed825e73454333fa88ac754af90d01b2d)\n\ntripleo-container-manage: fix config_data in Config/Labels\n\nconfig_data should not contain the container name, just the actual\nconfig data which is the value of the container_data dict.\n\nIt removes the add of start_order into the compare, this isn\'t necessary\nand breaks idempotency for containers which don\'t have start_order in\ntheir config_data.\nAlso adds more unit tests to cover all situations handled by the filter.\n\nChange-Id: I0b64bf34c8f7498128b3b1fceb7c727f8544cec6\n(cherry picked from commit 19c5d7e77e0ed7b3661f8f8663b399394c1e12ec)\n\ntripleo-container-manage: search container configs recursively\n\nIf the user doesn\'t override the default value for\ntripleo_container_manage_config, which is set to\n\'/var/lib/tripleo-config/\', to something deeper, we want Ansible to\nrecursively search for the container config until it finds it.\n\nChange-Id: I7d23fec91ffb813f0ab6f11b85d811ef3897f9e0\n(cherry picked from commit 205f7c9b0c5bc232cac393ab38364acb01d3c40f)\n\nIdempotency for podman_container\n\nIntroduce partial idepmpotency for running podman_container\n\n- Replace all options by their defaults it they\'re not set\n- Force lower case on all podman inspection data\n- Add a class with methods for every parameter to check its value\nand compare it with module argument\n- Add check_mode support and podman_actions\n\nChange-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3\n(cherry picked from commit 1212544a283f99cc4f233c645f92bb805db01e4f)\n\nFix case where there\'re no effective caps\n\nWhen no effective caps in container, it should be list, not None\nChange-Id: I5412edc844ad43223c4b3bda35662a7f7ee43f3a\n\n(cherry picked from commit 3a6690c904a5ed5790f3d1ae8c82134f22d277b4)\n\nAdd idempotency for networks parameter in podman_container\n\nChange-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696\n(cherry picked from commit 25f8abbc5a6195d0f72b9fecca8b0728991a4772)\n\nuse version parsing from distutils\n\nuse LooseVersion for version comparisons\n\nChange-Id: I609920a96c725c49f1623f60f8295d89ae4f3141\n(cherry picked from commit 8c83219fbbc4078bfb8e666bd3186c22e809437a)\n\nImprove idempotency for podman containers module\n\nFix some pep8 issues\nChange-Id: If4233e57edeec10ccac965d61c78f30688cd5531\n\n(cherry picked from commit 0609c16d10795bee6bb2a48c023d4272b35d7db5)\n\nImprove idempotency for podman container module\n\nStrip all registry values from ""image"" parameter in input.\nAdd this case to test.\n\nChange-Id: I78656e48cf85a1a39f873ee40193765eecf02c56\n(cherry picked from commit 87d9e9d9a6e6966d71bd574466b2128b58ff096c)\n'}]",0,701849,ec4351c56646122f295a4fbdcba65abecc28df26,31,5,5,3153,,,0,"[SQUASH] backport tripleo-container-manage to stable/train

This is a squash of 32 commits to facilitate the backport of
tripleo-container-manage and its dependencies.

Introduce tripleo-container-manage role

This is a first ieration of the role, but there is still a long TODO,
that will come later in separated patches:
- Add molecule testing
- In podman.yaml, add cpuset_cpus with parity of what is in paunch
- Remove containers that are:
  - managed by tripleo-ansible (using the container_label flag)
  - not in the container-startup-config
- Print stdout when containers start as it was done with paunch

Story: 2006732
Task: 37165

Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>

Depends-On: https://review.opendev.org/#/c/702144/
Change-Id: I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5
(cherry picked from commit a191a2d6001068c77fa6e4a97c12574c59341864)

tripleo-container-manage: set some defaults

Set defaults that are needed to use the role outside of THT more easily.

Change-Id: Id67cf06c85a2a6b50e6494b1a66f534ccb06c4a7
(cherry picked from commit 609d7895a1ff4a216abffb7c46c16c49e8abaf4e)

Move the filters plugin to the core plugins location

This change is a workaround for a zuul issue which moves the
nested ansible role plugin to the core plugins directory so
that it is not creating a gate conflict.

Change-Id: I9f959803381063502b4d15980b14c3416ffa153f
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit e2719131dbdff4fc5fdee32e84ccb4c7655be29b)

Revert ""Workaround for ansible-lint installation failure""

Backport note: this is a second backport of the same patch
since now it includes the change in tripleo-container-manage
role that is being backported to stable/train.

This reverts the disabling of the ansible-lint test from
commit cffd4fc9d41b15c31610dee4abd8786916f5933b and updates
ansible-lint to the fixed version.

Included are fixes for ansible-lint test failures which
got merged as part of I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5
while the lint test was disabled.

Change-Id: I37100f5e1764a5cd2cb8df82ae963e673ca0a8da
(cherry picked from commit 28e105c05689f3b8fc046758f9218e9ffab51360)

tripleo-container-manage: few improvements

- Add and use variables to make the role more flexible:
  tripleo_container_manage_config,
  tripleo_container_manage_config_id
  tripleo_container_manage_debug
  tripleo_container_manage_config_pattern (and rename hashed_files var)

  With these vars, the role can pretty much be used outside of TripleO.

- Show logs of config data generation if debug is enabled

- Do not run the ""podman exec"" tasks in check mode

- Remove the dependency on the ""step"" variable

Change-Id: I28ee31b723f27c392f880676aaae9368906cf45f
(cherry picked from commit 9c69840640261783cf7940c3e66a96608ba0ff77)

Adds new molecule testing for tripleo-container-manage

This test ensure the ""create"" part is working fine with an easy and
simple container. The container-create and default scenario have been
consoldated so its running one complete test for now.

Change-Id: I9139c7b63c15739a1a95d913acb1128af299ce97
Co-Authored-By: Emilien Macchi <emilien@redhat.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 414f47cc321353816b8a80c14c2f4b2b81f5e09e)

tripleo-container-manage: add check tasks to the molecule playbook

Verify that the ""fedora"" container exists and has the right infos.

Change-Id: If78a254564cff502b49769b0b401d2efdac8cb23
(cherry picked from commit c20ab4201568cd70f232ac3ed39a073304776919)

Molecule job for testing plugins and modules

and remove ansible_facts from podman_container_info module
Change-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b

(cherry picked from commit 2d420827378d43d79def26fb254cd33b7a6e89b5)

tripleo-container-manage - first support for idempotency

- Implements a new helper to figure out if the existing containers on
  the hosts need to be removed (and re-created later).
  The helper will remove the container if:
    - the container is managed by tripleo_ansible (+ other conditions later)
    - a running container isn't in the config
    - the container has no config_data Label
    - the config_data changed for the container

- Restart the systemd service for the container if the podman_container
  module reported as changed (note the podman_container isn't yet
  idempotent but we're working on it in a separated patch)

- Fix the healthcheck & timer systemd files to be attached to the right
  service (with tripleo_ prefix)

Story: #2006732
Task: #37163
Change-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff
(cherry picked from commit 7e41e0642de46e9c410278afc4ad150ce551fe88)

tripleo-container-manage: include_tasks to speed things up

Change-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114
(cherry picked from commit 57411934b7a1a5486c001699c9ed4d8d486cbd7d)

tripleo-container-manage: introduce concurrency

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Change-Id: I1e5e941558c492b050e4db542703e322707dbbbd
(cherry picked from commit 2f8f0fc027ee2a03eef812d452746986ac7e57be)

tripleo-container-manage: fix log_opt

Put the right variables to have proper logging.

Change-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0
(cherry picked from commit e7f71c352e306bceeec97d734cd7228c75b12522)

tripleo-container-manage: some nits fixed

Change-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b
(cherry picked from commit 73e49888f7daba4a348aefaa0631fc2cb0ff6cbe)

tripleo-container-manage: fix exec check

Fix the task which check if the container where the exec happens is
actually running.

Also podman_containers needs to be refreshed at every start_order to get
new container informations status.
So moving podman_containers from main, and putting it where we need it:
- before processing the list of containers to delete
- when start_order playbook starts

Co-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>
Change-Id: I2afb71288208c8b97763caa832c94e06e1b9457c
(cherry picked from commit e68d4b42a222e97f6c0263398ac739866e5969b4)

tripleo-container-manage: port paunch-services

paunch-services used to be useful for container start/stop ordering,
when on the host some containers are managed by Pacemaker and some
others by Paunch.

We need to keep that feature so we are now porting these scripts and
services into tripleo-ansible.

These files where managed by Paunch:
%{_libexecdir}/paunch-container-shutdown
%{_libexecdir}/paunch-start-podman-container
%{_unitdir}/paunch-container-shutdown.service
%{_presetdir}/91-paunch-container-shutdown.preset
%{_unitdir}/netns-placeholder.service
%{_presetdir}/91-netns-placeholder.preset

Now we handle them via Ansible now, and cleanup the Paunch version.
It creates the exact same files from:
https://github.com/rdo-packages/paunch-distgit

This feature is disabled by default and will be explicitely enabled by
THT later. Molecule tests enable it though for testing coverage.

Story: 2006732
Task: 37382
Change-Id: I4f79429baab50bc0199fb65fe84641908d83935d
(cherry picked from commit 6e76f444df00af9ab60de1a5c7a7c8fa1d7eed61)

tripleo-container-manage: use async

- Add a new filter 'haskey' which returns container data with a specific
  config key. The filter takes a list of dicts and returns the dicts
  which have a certain key given in parameter with 'attribute'.
  If 'reverse' is set to True, the returned list won't contains dicts
  which have the 'attribute' value.
  If 'any' is set to True, the returned list will match any value in the
  list of 'value' parameter which has to be a list.

- Make the exec and create playbook using ansible ""async"".
  (WIP is to re-add the podman_container.changed in systemd playbook).

Note: we don't manage Systemd resources with async, since it exposes
race conditions at the systemd level.

Change-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c
(cherry picked from commit e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031)

tripleo-container-manage: fix duplicated loop vars

So we don't have the Ansible warning saying the loop var is already used
for another loop.

Change-Id: Ie28857cb712d2133aad4a67ae6942fcbbb1a6aee
(cherry picked from commit 80e0476f78c654f3bd563efb62a2acdc96e6df86)

tripleo-container-manage: skip some tasks in check mode

Change-Id: I5e68fdb2d872c741f00a1a24bac33112ba630f69
(cherry picked from commit f506dd6994c398669ae0b20d36ecce18d0ffbc4b)

tripleo-container-manage: add no_log to podman create

So we don't leak confidential informations like passwords and others in
the logs.
Note that if debug is enabled, the infos are displayed in the ansible
logs.

Change-Id: I8473c9118dbce2b04eeb2c01bcc1e55232325a67
(cherry picked from commit ac8cff4ebbbb6964255b2eb45b9cfbfd5394ef65)

Improve molecule tests for tripleo-container-manage (systemd)

Change-Id: Id14ad4876bdf7dcc979d5ecf4fe2b4751c635b88
(cherry picked from commit 484faa7e8016781afa86c099032b511bf90ef4fb)

fix typo

Change-Id: I0a970ae73f01c6ff181a67367cf668091748fc9c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 3720b41a7f10e937c265a710071ca03fedf2ec70)

tripleo-container-manage: restart systemd service if container changed

If a podman_container resource changed, it'll be added to a fact, that
later will be used when it comes to figure our if a systemd service
needs to be restarted or not.

It introduces a new filter: list_of_keys.
This filter takes in input a list of dictionaries and for each of them
it will add the key to list_of_keys and returns it.

Change-Id: I0285b006c015f6cd223615ebdad52286f7683a87
(cherry picked from commit 0a037c65f7804316d4b1c3f1753d4c35bc8fbfbb)

tripleo-container-manage: some improvements

- Improve logging in some tasks, to display what container is managed
- Use no_log for the tasks which leak all infos about containers
  (config_data). If debug is enabled, the logs will show all the
  config_data.
- Move the /etc/sysconfig/podman_drop_in tasks into shutdown.yaml so it
  runs once and it's staying close to the other tasks related to why we
  have this file (manage shutdown/start order when reboot).

Change-Id: I56896f92d58db900fd2ea06281d89f75e8d53a17
(cherry picked from commit 6743f7586343d826c068f82b13388ca170922810)

tripleo-container-manage: create ansible-managed dropin file

If a deployment has containers managed by tripleo-ansible and not
paunch, and an operator would try to run paunch on the host, we want to
send a warning because paunch will remove all containers managed by
tripleo-ansible and then redeploy the containers with managed_by=paunch.

We could change the default of manage_by in Paunch (currently
managed_by=paunch) to something else e.g. tripleo, which would also be
the managed_by of tripleo-ansible; so both paunch and tripleo-ansible
could be used on the same host. However, we decided that when
tripleo-ansible is used to deploy the containers, paunch could not be
used anymore on that host.

Therefore, we create a file that will be checked by paunch and if
present, paunch CLI will show a warning.

Change-Id: I722cb8faa3b7eee81b418da83451bf802351dd79
(cherry picked from commit db1b13c962fc74ec7be9981d8e6f6af237afd3f5)

tripleo-container-manage: remove no_log for create/exec tasks

1. Remove no_log for the create and exec tasks. It's always useful to
   see what is being run.

2. Enable podman_container debug, so we see what commands are being run.

Change-Id: If728788293dd64622cf95da840b60e271197e9a0
(cherry picked from commit 89e4adf2ae816244cc9b7b48e86b7ca5511f07d3)

Add missing ExecReload in container service unit file

It may happen that we want to just reload the container. Before this
patch, it was a ""stop and start"", while podman has the ""podman kill""
available, accepting the HUP signal.

Doing so allows other automated tools to actually just ""reload"" the
container as we would do for a standard service.

Change-Id: I35eff80f7637b013d3a1a831289ec9b1e0f81431
(cherry picked from commit 2a2bed6f5cb9989d3544918c7e151ba168c7cd6f)

Introduce unit tests structure for tripleo-ansible filters

Change-Id: Ie2fea14d2cbfb2c0b78cdc3064df0a558fa28a4c
(cherry picked from commit f90a6d42b3f5a55d5269b2d88b30e6455f6b3287)

Fix case in filters when Labels is None

When Labels is None it's not managed by tripleo container,
then skip it.
Change-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665

(cherry picked from commit 1acc95211d018033858f15e33dd063fca1991d3b)

tripleo-container-manage: include more arguments for container exec

Container execs can be more complex than just a user and a command.
It can also use --env and --privileged.

- container_exec_cmd is a new filter that will help to build the
  container exec command from the container data.
- list_or_dict_arg is an utility taken from openstack/paunch which
  allows to build a command and its arguments with list or dict data.

This patch will allow the container exec to work fine when they have
environment variables, like it's the case for Keystone bootstrap.

Change-Id: I15e0b518936b37e26799dbda9677a248cf17ff3c
(cherry picked from commit 55d5363b4a1b4d1eceda9522c327f193d133c05b)

Add SyslogIdenfier to healthcheck systemd unit

Adding this new field will allow to filter all healthcheck logs using
the Idenfier value.

For instance, using journalctl, you would be able to run this:
`journalctl -t healthcheck_collectd'

It will also allow to get a dedicated file out of (r)syslog if needed.

Change-Id: Icdc5caf4cedc46291a807c39c0a31c74955a4a74
Closes-Bug: #1856573
(cherry picked from commit 49858c5265310c8cdd1694ae389965370fd97abb)

Allow to run tripleo-container-manage in check mode

Change-Id: I3350a43805b4a148f64de393716c26b0158fcff4
(cherry picked from commit 6513a4bed825e73454333fa88ac754af90d01b2d)

tripleo-container-manage: fix config_data in Config/Labels

config_data should not contain the container name, just the actual
config data which is the value of the container_data dict.

It removes the add of start_order into the compare, this isn't necessary
and breaks idempotency for containers which don't have start_order in
their config_data.
Also adds more unit tests to cover all situations handled by the filter.

Change-Id: I0b64bf34c8f7498128b3b1fceb7c727f8544cec6
(cherry picked from commit 19c5d7e77e0ed7b3661f8f8663b399394c1e12ec)

tripleo-container-manage: search container configs recursively

If the user doesn't override the default value for
tripleo_container_manage_config, which is set to
'/var/lib/tripleo-config/', to something deeper, we want Ansible to
recursively search for the container config until it finds it.

Change-Id: I7d23fec91ffb813f0ab6f11b85d811ef3897f9e0
(cherry picked from commit 205f7c9b0c5bc232cac393ab38364acb01d3c40f)

Idempotency for podman_container

Introduce partial idepmpotency for running podman_container

- Replace all options by their defaults it they're not set
- Force lower case on all podman inspection data
- Add a class with methods for every parameter to check its value
and compare it with module argument
- Add check_mode support and podman_actions

Change-Id: I1ae93dff1e10a1a696bb171996a75a0db6c34fa3
(cherry picked from commit 1212544a283f99cc4f233c645f92bb805db01e4f)

Fix case where there're no effective caps

When no effective caps in container, it should be list, not None
Change-Id: I5412edc844ad43223c4b3bda35662a7f7ee43f3a

(cherry picked from commit 3a6690c904a5ed5790f3d1ae8c82134f22d277b4)

Add idempotency for networks parameter in podman_container

Change-Id: Ib7235d1cb64ad0f42e7a0201008536e1a35bd696
(cherry picked from commit 25f8abbc5a6195d0f72b9fecca8b0728991a4772)

use version parsing from distutils

use LooseVersion for version comparisons

Change-Id: I609920a96c725c49f1623f60f8295d89ae4f3141
(cherry picked from commit 8c83219fbbc4078bfb8e666bd3186c22e809437a)

Improve idempotency for podman containers module

Fix some pep8 issues
Change-Id: If4233e57edeec10ccac965d61c78f30688cd5531

(cherry picked from commit 0609c16d10795bee6bb2a48c023d4272b35d7db5)

Improve idempotency for podman container module

Strip all registry values from ""image"" parameter in input.
Add this case to test.

Change-Id: I78656e48cf85a1a39f873ee40193765eecf02c56
(cherry picked from commit 87d9e9d9a6e6966d71bd574466b2128b58ff096c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/701849/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2', 'test-requirements.txt', 'tripleo_ansible/tests/__init__.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/container_running.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/tripleo-start-podman-container', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/tests/plugins/filter/__init__.py', 'tripleo_ansible/roles/tripleo-container-manage/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/91-tripleo-container-shutdown-preset', 'tripleo_ansible/tests/plugins/__init__.py', 'zuul.d/playbooks/run.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/create.yml', 'ansible-requirements.txt', 'tripleo_ansible/roles/tripleo-container-manage/files/tripleo-container-shutdown-service', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/molecule.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/molecule.yml', 'tox.ini', 'tripleo_ansible/ansible_plugins/modules/podman_volume_info.py', '.gitignore', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/shutdown.yml', 'doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo-container-manage/files/netns-placeholder-service', 'bindep.txt', 'tripleo_ansible/playbooks/podman_tests.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/prepare.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/playbook.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-timer.j2', '.stestr.conf', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/manage.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/delete.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/91-netns-placeholder-preset', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/molecule.yml', 'tripleo_ansible/roles/tripleo-container-manage/files/tripleo-container-shutdown', 'tripleo_ansible/ansible_plugins/tests/.yamllint', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/tests/base.py']",55,fc1a4163ba2ea913e97aa72cb0460c152ee703e6,40,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslotest import base class TestCase(base.BaseTestCase): """"""Test case base class for all unit tests."""""" ",,3462,738
openstack%2Fironic-specs~master~Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d,openstack/ironic-specs,master,Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d,RAID configuration during deployment,ABANDONED,2016-10-04 22:16:04.000000000,2020-02-07 01:21:38.000000000,,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6618}, {'_account_id': 6849}, {'_account_id': 7080}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11297}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14250}, {'_account_id': 14826}, {'_account_id': 16140}, {'_account_id': 16530}, {'_account_id': 18893}, {'_account_id': 20522}, {'_account_id': 20835}]","[{'number': 1, 'created': '2016-10-04 22:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/29a917406dc021969379160b4afbf8d47f7f1ed5', 'message': 'RAID configuration during deployment\n\nCloses-bug: #1630376\nChange-Id: Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d\n'}, {'number': 2, 'created': '2016-10-05 11:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e228965f132b20925463f441976f8d009e4c6242', 'message': 'RAID configuration during deployment\n\nPartial-bug: #1630376\nChange-Id: Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d\n'}, {'number': 3, 'created': '2016-10-05 13:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/93a10daf1dce277d3bee6df9afca642c86dd029d', 'message': 'RAID configuration during deployment\n\nThe just-in-time RAID configuration and more generally just-in-time\noperators (e.g. disk partitioning, flashing controllers, etc.) were\ndiscussed during the Newton midcycle but never written out.\n\nPartial-bug: #1630376\nChange-Id: Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d\n'}, {'number': 4, 'created': '2016-10-05 15:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/92720481d376cd420e35906d43cc56cbe805a165', 'message': 'RAID configuration during deployment\n\nThe just-in-time RAID configuration and more generally just-in-time\noperators (e.g. disk partitioning, flashing controllers, etc.) were\ndiscussed during the Newton midcycle but never written out.\n\nPartial-bug: #1630376\nChange-Id: Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d\n'}, {'number': 5, 'created': '2016-10-21 18:00:35.000000000', 'files': ['specs/not-implemented/raid-configuration-during-deploy.rst', 'specs/approved/raid-configuration-during-deploy.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a952e84d1236168dcee8489f081c6f66dade655e', 'message': 'RAID configuration during deployment\n\nThe just-in-time RAID configuration and more generally just-in-time\noperators (e.g. disk partitioning, flashing controllers, etc.) were\ndiscussed during the Newton midcycle but never written out.\n\nPartial-bug: #1630376\nChange-Id: Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d\n'}]",110,382091,a952e84d1236168dcee8489f081c6f66dade655e,32,17,5,7080,,,0,"RAID configuration during deployment

The just-in-time RAID configuration and more generally just-in-time
operators (e.g. disk partitioning, flashing controllers, etc.) were
discussed during the Newton midcycle but never written out.

Partial-bug: #1630376
Change-Id: Id2fb0c6d54f21da0801e1e6a4f28cedbd3056c1d
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/91/382091/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/raid-configuration-during-deploy.rst', 'specs/approved/raid-configuration-during-deploy.rst']",2,29a917406dc021969379160b4afbf8d47f7f1ed5,bug/1630376,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== RAID configuration during deployment ==================================== https://bugs.launchpad.net/ironic/+bug/1630376 Currently, RAID configuration is only possible during manual cleaning. That forces operators who want their RAID configuration changed to go through manual cleaning. The idea is to enable operators to allow RAID configuration to be changed during deployment, prior to imaging. Problem description =================== Right now, the only way for an Ironic user to change the RAID configuration of a node is to go through manual cleaning. Users cannot choose their RAID configuration themselves. Also, if operators want to provide multiple RAID configuration for identical nodes, they have to split their inventory, reducing the capacity of their cloud and requiring manual rebalance activities. Proposed change =============== * Introduce the concept of ``deploy_steps`` which will allow various operations to run prior to imaging. * Introduce a deploy_step to configure the desired RAID configuration (as defined by ``target_raid_config``) onto the RAID controller. Alternatives ------------ * Continue splitting hardware pools for different RAID configuration on identical hardware. * Put the burden on the caller and let them go through manual cleaning if they require a different RAID configuration. This solution works but may not be possible depending on the security policies in place. A user might not be able to change the state of the nodes. Also, this ends up requiring one more boot cycle of the bare metal node. Data model impact ----------------- None. ``deploy_steps`` will be stored in ``node.driver_internal_info`` the same way ``clean_steps`` is currently stored. This does not require any migration or new column in the nodes table. State Machine Impact -------------------- The ``deploy_steps`` will be executed during the DEPLOYING step, before disk deployment. No new state or transition will be added. REST API impact --------------- None. Client (CLI) impact ------------------- None. RPC API impact -------------- None. ``deploy_steps`` will simply be invoked prior to disk imaging, as such, calls to initiate the deployment (such as ``do_node_deploy``) already exist. The API and conductor service will be upgreadable independently because no new interactions between the API and the conductor have been added. Driver API impact ----------------- ``deploy_steps`` ~~~~~~~~~~~~~~~~ This change affects the base driver API. All drivers will be able to declare deploy_steps to be executed prior to disk imaging. This change does not require specific third-party CI, unless vendors add custom deploy_steps. This is not in the scope of this spec. RAID configuration ~~~~~~~~~~~~~~~~~~ The RAID configuration should be applied before deploying only if the driver has a RAID driver configured. Because of this, any driver that current supports RAID configuration will be able to leverage this feature. For drivers that do not support RAID, the RAID configuration deploy step will simply go through without failing. Nova driver impact ------------------ This spec's scope is limited to essentially applying target_raid_config when the node has pending changes. Another spec should cover how Nova will leverage this feature. The general idea would be that the Ironic virt driver in Nova could set target_raid_config prior to initiating deployment. The details of how Nova could do this, or how the end user will be able to input the required RAID configuration are yet to be defined and are outside the scope of this spec. Ramdisk impact -------------- The ``ironic-python-agent`` project and ``agent`` driver will be adjusted to support ``get_deploy_steps``. That way, ``ironic-python-agent`` will be able to declare deploy steps to run prior to disk imaging, and operators will be able to extend ``ironic-python-agent`` to add any custom step. The code in ironic should not fail if the call to ``get_deploy_steps`` fails, this will ensure that Ironic is backwards compatible with older ramdisks. Security impact --------------- None. Other end user impact --------------------- None. Scalability impact ------------------ None. Performance Impact ------------------ Deployments that want to configure RAID during build time will likely see longer time spent during deployment. The exact time spent during deployment is highly dependent on the environment, the machine and the RAID controller. As such, it is hard to describe the exact impacts. This feature will be enabled via a configuration option and will not be imposed upon operators. The configuration option for this feature will contain the appropriate warnings about deployment time. Operators should gather statistics about their deployment times and adjust their timeouts accordingly. This was recently made available by the metrics support. In the case where an operator has enabled the configuration option, but is using a driver without RAID support, or in the case target_raid_config is never set, no performance impacts are expected. Other deployer impact --------------------- Deployers will have the option of enabling RAID configuration during build time. Appropriate warnings will be given about the performance impacts of this choice. Because of the potential performance impacts, the setting will default to false. Developer impact ---------------- Driver developers will have the option of implementing ``get_deploy_steps``. A reference implementation will be available in the agent driver to allow steps to be defined by the ramdisk. Implementation ============== Assignee(s) ----------- Primary assignee: * mat128 Other contributors: * dtantsur Work Items ---------- * Add support for ``deploy_steps`` to Ironic * Adjust developer documentation for ``deploy_steps`` * Add support for ``get_deploy_steps`` in ironic-python-agent * Add support for dispatching found deploy steps in ironic-python-agent * Create a deploy_step to configure pending RAID config changes in Ironic * Adjust operator documentation for new options Dependencies ============ None. Testing ======= 100% unit tested for all new code and changed behaviors. Additionally, proper functional behavior (target_raid_config -> raid_config before deployment) will be validated. Upgrades and Backwards Compatibility ==================================== Old drivers will work with new driver base class because calling code will cleanly fall back when a driver does not support ``get_deploy_steps``. Likewise, a driver with ``get_deploy_steps`` implemented will work in an older version of Ironic. Documentation Impact ==================== As mentioned in work items, the in-tree documentation will be updated. Out-of-tree OpenStack documentation does not need to be updated at this time. References ========== * `Minutes from mid-cycle review <http://lists.openstack.org/pipermail/openstack-dev/2016-June/098060.html>`_, see ""RAID during deployment"" ",,250,0
openstack%2Fironic-specs~master~Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb,openstack/ironic-specs,master,Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb,Add 'abort' support for Soft Power Off and Inject NMI,ABANDONED,2015-11-27 12:48:52.000000000,2020-02-07 01:20:36.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13719}]","[{'number': 1, 'created': '2015-11-27 12:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0ad69acde93a26f752b7f3057352d67519c6aa83', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nImplements: blueprint task-control-functions-for-long-running-tasks\nRelated-to: blueprint enhance-power-interface-for-soft-reboot-and-nmi\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}, {'number': 2, 'created': '2015-12-03 09:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/51162f0ff8ad55ac114cd05ceb7ef1f9b1682b19', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nImplements: blueprint task-control-functions-for-long-running-tasks\nRelated-to: blueprint enhance-power-interface-for-soft-reboot-and-nmi\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}, {'number': 3, 'created': '2015-12-17 05:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/490625fc10b14350998fac9aa02fd606f165baf7', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nPartial-Bug: #1526768\nRelated-Bug: #1526226\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}, {'number': 4, 'created': '2016-01-13 06:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f1abded6ee6e6c0a88818af0f1ad3e93dcd8d01e', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nPartial-Bug: #1526768\nRelated-Bug: #1526226\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}, {'number': 5, 'created': '2016-04-10 23:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cc3af9e4cfb9cc858655f3e1b02ca79ace3544a0', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nPartial-Bug: #1526768\nRelated-Bug: #1526226\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}, {'number': 6, 'created': '2017-01-05 02:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6328a0e5e6fcfed6e93dd64c7d310f322004c173', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nPartial-Bug: #1526768\nRelated-Bug: #1526226\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}, {'number': 7, 'created': '2017-01-05 02:52:53.000000000', 'files': ['specs/approved/task-control-functions-for-long-running-tasks.rst', 'specs/not-implemented/task-control-functions-for-long-running-tasks.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/566d465038fa808610ab2beb550461ecc5fb0237', 'message': ""Add 'abort' support for Soft Power Off and Inject NMI\n\nThis specification proposes the work required to enhance the power\ninterface to support 'abort' operation for 'soft reboot', 'soft power\noff' and 'inject nmi' and the work required to provide IPMIPower\nreference implementation.\n\nPartial-Bug: #1526768\nRelated-Bug: #1526226\n\nChange-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb\n""}]",18,250783,566d465038fa808610ab2beb550461ecc5fb0237,27,6,7,13719,,,0,"Add 'abort' support for Soft Power Off and Inject NMI

This specification proposes the work required to enhance the power
interface to support 'abort' operation for 'soft reboot', 'soft power
off' and 'inject nmi' and the work required to provide IPMIPower
reference implementation.

Partial-Bug: #1526768
Related-Bug: #1526226

Change-Id: Ifc1c017c26bc9e0e7afd1ff76c803df7132bc1fb
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/83/250783/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/task-control-functions-for-long-running-tasks.rst'],1,0ad69acde93a26f752b7f3057352d67519c6aa83,bug/1526768,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Task control functions for long running tasks ============================================= https://blueprints.launchpad.net/ironic/+spec/task-control-functions-for-long-running-tasks This proposal has been separated from the spec `Enhance Power Interface for Soft Power Off and NMI` [1], and mainly specifies a mechanism of supporting `abort` operation for `soft reboot`, `soft power off` and `inject nmi`. However the basic mechanism which this specification proposes can be generalized in concurrent programming to support not only `abort` but also `cancel`, `rollback`, `get status or current progress`, `suspend`, `resume` and alike which requires inter thread communication to control a background long running task. Problem description =================== The power control operation such as `soft reboot`, `soft power off` and `inject nmi` would take a long time or could be hanged. However currently there is no way to abort those tasks. Proposed change =============== In order to enable to abort those tasks, this spec proposes to introduce ABORT target power state as a transition state. The following changes are required: 1. add the following new states to ironic.common.states:: ABORT_SOFT_REBOOT = 'abort soft rebooting' ABORT_SOFT_POWER_OFF = 'abort soft power off' ABORT_INJECT_NMI = 'abort inject nmi' 2. update the default implementation of ""get_supported_power_states"" method in PowerInterface to support only `ABORT_SOFT_REBOOT` and `ABORT_SOFT_POWER_OFF` but not `ABORT_INJECT_NMI`:: def get_supported_power_states(self, task): """"""Get a list of the supported power states. :param task: A TaskManager instance containing the node to act on. :returns: A list of the supported power states defined in :mod:`ironic.common.states`. """""" return [states.POWER_ON, states.POWER_OFF, states.REBOOT, states.ABORT_SOFT_REBOOT, states.ABORT_SOFT_POWER_OFF] Note: `states.ABORT_INJECT_NMI` is excluded because Ironic standard driver, IPMIPower, cannot support it. 3. enhance ""set_power_state"" method in concrete class so that the new states can be accepted as `ABORT_*` parameter:: def set_power_state(self, task, power_state): """"""Set the power state of the task's node. The second parameter ""power_state"" indicates a new power state to be changed to. """""" The following table shows power state value of each state variables. ``new_state`` is a value of the second parameter of set_power_state() function. ``power_state`` is a value of node property. ``target_power_state`` is a value of node property. new_state | power_state | target_power_state | power_state | (start state)| (current value) | (end state) ------------------+--------------+--------------------+-------------- ABORT_SOFT_REBOOT | not ERROR | POWER_OFF_SOFT | ERROR ABORT_SOFT_REBOOT | any state | not POWER_OFF_SOFT | start state ABORT_POWER_OFF | not ERROR | POWER_OFF_SOFT | ERROR ABORT_POWER_OFF | any state | not POWER_OFF_SOFT | start state ABORT_INJECT_NMI | not ERROR | INJECT_NMI | ERROR ABORT_INJECT_NMI | any state | not INJECT_NMI | start state Note: This IPMIPower reference implementation supports SOFT_POWER_OFF and INJECT_NMI, but not states.ABORT_INJECT_NMI. However IRMCPower can supports all of three states.ABORT_*. Alternatives ------------ None. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- * Add support of ABORT_SOFT_REBOOT, ABORT_SOFT_POWER_OFF and ABORT_INJECT_NMI to the target parameter of following API:: PUT /v1/nodes/(node_ident)/states/power The target parameter supports the following Json data respectively. {""target"": ""abort soft rebooting""} {""target"": ""abort soft power off""} {""target"": ""abort inject nmi""} * Add a new ""supported_power_states"" member to the return type Node and NodeStates, and enhance the following APIs:: GET /v1/nodes/(node_ident) GET /v1/nodes/(node_ident)/states Json example of the returned type NodeStates { ""console_enabled"": false, ""last_error"": null, ""power_state"": ""power on"", ""provision_state"": null, ""provision_updated_at"": null, ""target_power_state"": ""soft power off"", ""target_provision_state"": ""active"", ""supported_power_states"": [ ""power on"", ""power off"", ""rebooting"", ""soft rebooting"", ""soft power off"", ""inject nmi"", ""abort soft rebooting"", ""abort soft power off"", ""abort inject nmi"" ] } Consequently Ironic CLI ""ironic node-show"" and ""ironic node-show-states"" return ""supported_power_states"" member in the table format. example of ""ironic node-show-states"" +------------------------+----------------------------------------+ | Property | Value | +------------------------+----------------------------------------+ | target_power_state | soft power off | | target_provision_state | None | | last_error | None | | console_enabled | False | | provision_updated_at | 2015-08-01T00:00:00+00:00 | | power_state | power on | | provision_state | active | | supported_power_states | [""power on"", ""power off"", ""rebooting"", | | | ""soft rebooting"", ""soft power off"", | | | ""inject nmi"", ""abort soft rebooting"",| | | ""abort soft power off"", | | | ""abort inject nmi""] | +------------------------+----------------------------------------+ Client (CLI) impact ------------------- * Enhance ""ironic node-set-power-state"" so that <power-state> parameter can accept 'abort_soft_reboot', 'abort_soft_off' and 'abort_inject_nmi'. This CLI is async. In order to get the latest status, call ""ironic node-show-states"" and check the returned value.:: usage: ironic node-set-power-state <node> <power-state> Power a node on/off/reboot, power graceful off/reboot, inject NMI to a node. Positional arguments <node> Name or UUID of the node. <power-state> 'on', 'off', 'reboot', 'soft_reboot', 'soft_off', 'inject_nmi', 'abort_soft_reboot', 'abort_soft_off', 'abort_inject_nmi', RPC API impact -------------- None. Driver API impact ----------------- None. Nova driver impact ------------------ None. Security impact --------------- None. Other end user impact --------------------- None. Scalability impact ------------------ None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- * Each driver developer needs to follow this interface to implement this proposed feature. Implementation ============== Assignee(s) ----------- Primary assignee: Naohiro Tamura (naohirot) Other contributors: None Work Items ---------- * Enhance PowerInterface class to support abort sort reboot, abort soft power off and abort inject nmi as described ""Proposed change"". * Enhance Ironic API as described in ""REST API impact"". * Enhance Ironic CLI as described in ""Client (CLI) impact"". * Implement the enhanced PowerInterface class into the concrete class IPMIPower. Implementing vendor's power concrete class is up to each vendor. Dependencies ============ This spec is solely depends on the spec `Enhance Power Interface for Soft Power Off and Inject NMI` [1]. Testing ======= * Unit Tests. * Each vendor plans Third Party CI Tests if implemented. Upgrades and Backwards Compatibility ==================================== None. Documentation Impact ==================== * The deployer doc needs to be updated. References ========== [1] https://blueprints.launchpad.net/ironic/+spec/enhance-power-interface-for-soft-reboot-and-nmi ",,274,0
openstack%2Ftripleo-heat-templates~master~Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2,openstack/tripleo-heat-templates,master,Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2,Dynamically include container-puppet tasks,MERGED,2020-01-27 21:54:56.000000000,2020-02-07 01:19:17.000000000,2020-02-07 01:19:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-27 21:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e76b1272ab02061ff0e921a4d13ce0d39a54d0f2', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}, {'number': 2, 'created': '2020-01-28 12:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9baceb7b6f9652e6e21d571b529adf5c8fabaca', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}, {'number': 3, 'created': '2020-01-29 19:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/606626e2250b7a7db202cacf1e05d579fb6e34e2', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}, {'number': 4, 'created': '2020-01-29 19:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8aa11dce2621d46c5a6d23dc8f48de5b9b70e46', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}, {'number': 5, 'created': '2020-01-29 20:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80acba51e296ed3358ec6c867d01a15597087bea', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}, {'number': 6, 'created': '2020-02-05 02:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2025b3f28a9269c8d8929b1e175839566cf27c3b', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}, {'number': 7, 'created': '2020-02-06 18:00:18.000000000', 'files': ['common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1602d68daabecb420efa43188fc517257aa85e0a', 'message': 'Dynamically include container-puppet tasks\n\nThe container-puppet tasks only need to be run if tasks actually exist, which\nis already being checked on the ansible control node.\n\nA ""when"" statement is then applied to the set of tasks necessary to run\nthe container-puppet tasks, when the tasks are actually defined.\n\nThis patch moves that set of tasks to a separate tasks file and uses a\ndynamic include.  This results in less tasks being skipped, which can\nsave several minutes at scale. This results in 3 less tasks that need to\nbe skipped at steps 1-5, which equates to 15 tasks overall, when no\ncontainer-puppet tasks actually exist.\n\nWhen container-puppet tasks do exist, all the tasks will be executed as\nnecessary.\n\nChange-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2\n'}]",4,704442,1602d68daabecb420efa43188fc517257aa85e0a,43,6,7,7144,,,0,"Dynamically include container-puppet tasks

The container-puppet tasks only need to be run if tasks actually exist, which
is already being checked on the ansible control node.

A ""when"" statement is then applied to the set of tasks necessary to run
the container-puppet tasks, when the tasks are actually defined.

This patch moves that set of tasks to a separate tasks file and uses a
dynamic include.  This results in less tasks being skipped, which can
save several minutes at scale. This results in 3 less tasks that need to
be skipped at steps 1-5, which equates to 15 tasks overall, when no
container-puppet tasks actually exist.

When container-puppet tasks do exist, all the tasks will be executed as
necessary.

Change-Id: Ifad32bf79942cde58295fd9aae7e23e2f62c1ae2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/704442/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml']",3,e76b1272ab02061ff0e921a4d13ce0d39a54d0f2,scale-2020, - name: Include container-puppet tasks for step {{step}} include_tasks: host-container-puppet-tasks.yaml," - name: Write container-puppet-tasks json file for {{ansible_hostname}} step {{step}} no_log: True copy: content: ""{{host_container_puppet_tasks|to_nice_json}}"" dest: ""/var/lib/container-puppet/container-puppet-tasks{{step}}.json"" force: yes mode: '0600' tags: - container_config_tasks - name: Run container-puppet tasks (bootstrap tasks) for step {{ step }} async: 3600 poll: 0 shell: ""{{ python_cmd }} /var/lib/container-puppet/container-puppet.py"" environment: CONFIG: /var/lib/container-puppet/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}container-puppet-tasks{{ step }}.json CONFIG_VOLUME_PREFIX: '/var/lib/config-data{{ ansible_check_mode | bool | ternary(""/check-mode"", """") }}' NET_HOST: ""true"" NO_ARCHIVE: ""true"" STEP: ""{{ step }}"" CONTAINER_CLI: ""{{ container_cli }}"" DEBUG: ""{{ docker_puppet_debug }}"" MOUNT_HOST_PUPPET: '{{docker_puppet_mount_host_puppet}}' SHORT_HOSTNAME: ""{{ ansible_hostname }}"" PROCESS_COUNT: ""{{ docker_puppet_process_count }}"" when: host_container_puppet_tasks is defined register: bootstrap_tasks_async_result no_log: true tags: - container_config_tasks - name: Wait for container-puppet tasks (bootstrap tasks) for step {{ step }} to finish async_status: jid: ""{{ bootstrap_tasks_async_result.ansible_job_id }}"" register: bootstrap_tasks_outputs until: bootstrap_tasks_outputs.finished retries: 1200 delay: 3 when: host_container_puppet_tasks is defined tags: - container_config_tasks - name: ""Debug output for task: Run container-puppet tasks (bootstrap tasks) for step {{ step }}"" debug: var: bootstrap_tasks_outputs.stdout_lines | default([]) | union(bootstrap_tasks_outputs.stderr_lines | default([])) when: - host_container_puppet_tasks is defined - bootstrap_tasks_outputs.rc is defined failed_when: bootstrap_tasks_outputs.rc != 0 tags: - container_config_tasks",55,51
openstack%2Fironic-specs~master~Iefaa7e199b03a5e01933efbb077cb73ab64db6d2,openstack/ironic-specs,master,Iefaa7e199b03a5e01933efbb077cb73ab64db6d2,API Evolution - Discoverable Resource Actions,ABANDONED,2016-10-04 17:39:02.000000000,2020-02-07 01:16:57.000000000,,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 6618}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 19213}, {'_account_id': 22724}]","[{'number': 1, 'created': '2016-10-04 17:39:02.000000000', 'files': ['specs/not-implemented/evolve-discoverable-actions.rst', 'specs/approved/evolve-discoverable-actions.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a2334045ffef62c61c789f6d9ab9d2b11c4d7c7a', 'message': ""API Evolution - Discoverable Resource Actions\n\nIt is not currently possible to discover, from the REST API, what the\navailable resource actions are for several endpoints in the REST API.\n\nThis specification describes improvements in the API for Node states\n(power, provision, etc) to make it more descriptive and discoverable.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n'v2' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full 'v2' rewrite.\n\nChange-Id: Iefaa7e199b03a5e01933efbb077cb73ab64db6d2\nRelated-bug: #1630330\n""}]",21,382012,a2334045ffef62c61c789f6d9ab9d2b11c4d7c7a,17,9,1,2889,,,0,"API Evolution - Discoverable Resource Actions

It is not currently possible to discover, from the REST API, what the
available resource actions are for several endpoints in the REST API.

This specification describes improvements in the API for Node states
(power, provision, etc) to make it more descriptive and discoverable.

This patch is part of a series of patches which propose several discrete
units of work, broken out into separate specifications for tracking.
These have grown out of the discussions around whether we should have a
'v2' API, and what current pain-points we all experience with the
current API. It is my belief, after investigating all of the collected
concerns, that we can implement many of the desired changes
incrementally and without a full 'v2' rewrite.

Change-Id: Iefaa7e199b03a5e01933efbb077cb73ab64db6d2
Related-bug: #1630330
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/12/382012/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/evolve-discoverable-actions.rst', 'specs/approved/evolve-discoverable-actions.rst']",2,a2334045ffef62c61c789f6d9ab9d2b11c4d7c7a,api-evolution,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ API Evolution: Discoverable Resource Actions ============================================ As time has gone on, the API surface has evolved, and the community has given rise to more use-cases and more users. This has resulted in the identification of several short-comings in the current REST API: it is not as user-friendly as one might expect, and it does not service all of the use-cases we wish that it would. This specification describes improvements in the API for Node states (power, provision, etc) to make it more descriptive and discoverable. https://bugs.launchpad.net/ironic/+bug/1630330 Problem description =================== **Resource actions are not discoverable** Many interactions with the REST API require foreknowledge available only by reading the code or documentation. For example, Node states can not be updated at the same endpoint from which they are retrieved, and the response does not include any indication of how the client may update the resource:: curl -X GET http://127.0.0.1:6385/v1/nodes/example/states | json_pp { ""provision_updated_at"" : ""2016-07-26T22:24:24.214052+00:00"", ""provision_state"" : ""manageable"", ""power_state"" : null, ""target_power_state"" : null, ""last_error"" : null, ""console_enabled"" : false, ""target_provision_state"" : null } However, to update a state, one does not ``PUT /v1/nodes/example/states``, but instead must do the following:: curl -X PUT http://127.0.0.1:6385/v1/nodes/example/states/power \ -d '{""target"": ""power on""}' Proposed change =============== After the introduction of ETAG identifiers [0] is implemented, another microversion shall be introduced which allows the ``/nodes/NNNN/states`` endpoint to begin to accept PUT requests that contain the full representation of the state, in the same format as is returned from a GET request, so long as the PUT request includes both a sufficient microversion header and the correct ETAG identifier in the request. This will allow a client to easily manipulate the state by retrieving its JSON representation, converting that into a local object, making one or more changes, serializing the object back to JSON, and PUT'ing that representation back to the same endpoint from which it was retrieved. Races between multiple clients are prevented because the request that includes the current ETAG identifier is the only one that will succeed. Other requests will receive an Here is a trivial example, using bash, of manipulating the Node state:: curl -X GET http://127.0.0.1:6385/v1/nodes/example/states \ -H ""X-OpenStack-Ironic-API-Version: 1.20"" \ -H ""Content-Type: application/json"" \ -H ""Accept: application/json"" \ -H ""X-Auth-Token: 8ec8ff5e8b6a48b8a0df573761572928"" \ -D headers | json_pp > body sed -i 's/\(.*""power_state"" :\).*/\1 power on,/' body etag=$(awk '/ETAG/ {print $2}' headers) curl -X POST http://127.0.0.1:6385/v1/nodes/example/states \ -H ""X-OpenStack-Ironic-API-Version: 1.20"" \ -H ""Content-Type: application/json"" \ -H ""X-Auth-Token: 8ec8ff5e8b6a48b8a0df573761572928"" \ -H ""ETAG: $etag"" \ -d body Alternatives ------------ xxx Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- xxx Client (CLI) impact ------------------- xxx ""ironic"" CLI ~~~~~~~~~~~~ ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- None Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: TBD Other contributors: TBD Work Items ---------- * Implement changes in the ironic.api.controllers.v1.node.NodeStatesController class to begin accepting PUT requests that include the full state representation as a means to change the Node state. .. note: We shall continue to support the custom actions of 'power', 'provision', 'raid' which currently exist within the ironic.api.controllers.v1.node.NodeStatesController class. * Update API reference material to document these changes. * Implement unit and tempest test changes. * Implement changes in python client library and CLI to take advantage of this new mechanism for updating state. Dependencies ============ This work depends on `returning ETAG identifiers <evolve-etags.html>`_. Testing ======= Upgrades and Backwards Compatibility ==================================== Documentation Impact ==================== None References ========== * https://etherpad.openstack.org/p/ironic-v2-api ",,223,0
openstack%2Fironic-specs~master~I0339336b1aca6c29529e7e90c686b226cda1e76b,openstack/ironic-specs,master,I0339336b1aca6c29529e7e90c686b226cda1e76b,Log actions taken on nodes,ABANDONED,2016-02-15 07:37:32.000000000,2020-02-07 01:16:34.000000000,,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 7711}, {'_account_id': 11076}, {'_account_id': 13362}]","[{'number': 1, 'created': '2016-02-15 07:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9e84483e7e4200294624be078d36721395922d42', 'message': 'Log actions taken on nodes\n\nChange-Id: I0339336b1aca6c29529e7e90c686b226cda1e76b\nCloses-Bug: #1534894\n'}, {'number': 2, 'created': '2016-02-19 02:09:42.000000000', 'files': ['specs/approved/node-actions-log.rst', 'specs/not-implemented/node-actions-log.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a1cd9180b6360dc2fd2458c38c7e214a0d93ca66', 'message': 'Log actions taken on nodes\n\nChange-Id: I0339336b1aca6c29529e7e90c686b226cda1e76b\nCloses-Bug: #1534894\n'}]",8,280088,a1cd9180b6360dc2fd2458c38c7e214a0d93ca66,11,5,2,6610,,,0,"Log actions taken on nodes

Change-Id: I0339336b1aca6c29529e7e90c686b226cda1e76b
Closes-Bug: #1534894
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/88/280088/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/node-actions-log.rst', 'specs/not-implemented/node-actions-log.rst']",2,9e84483e7e4200294624be078d36721395922d42,bug/1534894,../approved/node-actions-log.rst,,215,0
openstack%2Fironic-specs~master~I1378d7698672491615f4eeed84b9508dbc77b873,openstack/ironic-specs,master,I1378d7698672491615f4eeed84b9508dbc77b873,Creating an ironic blue-print for: https://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach,ABANDONED,2016-12-17 13:05:15.000000000,2020-02-07 01:15:53.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10068}, {'_account_id': 11655}]","[{'number': 1, 'created': '2016-12-17 13:05:15.000000000', 'files': ['specs/not-implemented/generic-image-partition-aproach.rst', 'specs/approved/generic-image-partition-aproach.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8cfe779bb8069fe1f0e68f3960dd0c0d80d90c03', 'message': 'Creating an ironic blue-print for:\nhttps://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach\n\nChange-Id: I1378d7698672491615f4eeed84b9508dbc77b873\n'}]",13,412078,8cfe779bb8069fe1f0e68f3960dd0c0d80d90c03,7,4,1,22094,,,0,"Creating an ironic blue-print for:
https://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach

Change-Id: I1378d7698672491615f4eeed84b9508dbc77b873
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/78/412078/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/generic-image-partition-aproach.rst', 'specs/approved/generic-image-partition-aproach.rst']",2,8cfe779bb8069fe1f0e68f3960dd0c0d80d90c03,bp/s,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Generic image partition aproach =============================== Include the URL of your launchpad bug with ``rfe`` tag: https://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach Introduction paragraph -- start here. Why are we doing anything? We need a generic aproach to partition the Disk where the OS is being installed upon. It comes to solve several issues: 1. when we have a Strict system that we can not change the Disk layout and for example first device have 1TB the OS is being installed upon all Disk and we waste a lot of space. 2. We would like to install ceph OSD on the OS Disk while not having to have tricks and additional code after the initial deployment of the OS. 3. Security requirements - that the disk where the OS resides upon will have different partiotions and might be that some of the partitions will be encrypted. 4. We could want a dynamic design that enables partitioning the disk where the OS is being installed upon without the need to hold several differnt Images and deploy with Full Image method. Reason: reduce the product deployment size while not holding differrnt Images for different partitions. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. * If your specification proposes any changes to the Ironic REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Specifications with the APIImpact flag can be found with the following query: https://review.openstack.org/#/q/status:open+project:openstack/ironic-specs+message:apiimpact,n,z * If you are unsure whether this proposal is aligned with the project's mission and scope, you are encouraged to submit a minimal spec to get feedback early, before investing the effort in a complete specification. Do this by filling in the `Problem description` and `Proposed change` sections and delete the rest of the template. This will fail unit tests, but will still get attention from the review team. * If you do not wish to submit a complete spec (for example, you do not plan to complete the spec during this cycle but would like to document the idea) you can submit a short spec. It must contain at least the `Problem description` and `Proposed change` sections, and may optionally contain any other valid sections. Propose this to the `specs/backlog` directory. This must follow all other rules of a regular spec (eg, it still requires a blueprint, good RST formatting, etc). Problem description =================== A detailed description of the problem: 1. when we have a Strict system that we can not change the Disk layout and for example first device have 1TB the OS is being installed upon all Disk and we waste a lot of space. 2. We would like to install ceph OSD on the OS Disk while not having to have tricks and additional code after the initial deployment of the OS. 3. Security requirements - that the disk where the OS resides upon will have different partiotions and might be that some of the partitions will be encrypted. 4. We could want a dynamic design that enables partitioning the disk where the OS is being installed upon without the need to hold several differnt Images and deploy with Full Image method. Reason: reduce the product deployment size while not holding differrnt Images for different partitions. Proposed change =============== The proposed change is very simple and goes along with the current design of ironic. while using ironic design to deploy an image with partitioning we will do the Following. 1. each ironic node properties can have a propoerty named 'partition_layout_path' this property will point to a file located at the undercloud's file system. Note: each ironic node can have different file hence we gain option to have differnt nodes(or blades) with different partition layout. for example: storage node can have one partition and controller can have different partition. 2. The yaml file that describes the disk partition will contain list of partitions like in the sample example below: #partitions: # - partition_name: 'storage' # size_mb: 890000 # fs_type: 'ext4' # volume_label: 'storage' # - partition_name: 'storage_journal' # size_mb: 10240 # fs_type: 'ext4' # volume_label: 'storage_journal' As can be shown each partition would have a label, file system type, and size in mega bytes. 3. during ironic deployment the following would happen. The ironic will check for the existance of the 'partition_layout_path' if it does not exists we continue the flow as it was before (no additional partitions are done) otherwize we will create the partitions as defined in the file and teh OS partition will be created as the last partition as it is today. 4. after first deploy and CloudInit is being running, it will populate the OS Disk over the rest of the disk like it is being done today (no change) Important Note: te suggesetd implementation was already done and tested in liberty. Need to merge it to master stream for this blueprint. Alternatives ------------ The alternative as suggesetd by redhat are to use disk-image-builder (i think this is there utility) to create a Full disk with partitions and deploy it using the second method of ironic deployment use_whole_disk_image. This Alternative is not good for my purposes and for the general public Since 1. it will require that i will create a different Image for differnt role based Nodes. 2. Since we are using a 'Role based' grouping for the nodes, we need the ability to seperate different groups with the Same role but different hardware. meaning: might be 2 storage nodes with the same role but one of them have 1TB disk and the second 5TB disk so again need differnt images and it is dificult to distinguish between them. 3. overcloud update: if i want to add new nodes to overcloud but to change the partition layout during adding the new nodes, i would need a new undercloud with additional images,or create new Imaegs and manually push them to the underlcoud file system. The suggesetd aproach does not require that hence you just create a new file describing the partition layout and set it for the new ironic node in teh properties before deployemnt. hence tou do not need new undercloud or new Image for that. 4. for security purpose we would need a different partiton layout and maybe encrypted partitios, This would enlarge the matrix of disks layout if we need one layout for storage node and one for controller and a nother for compute while in each we want different partition layout. so we would need different combinations of images if usign whole_disk_iamge aproach. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? The soltion will just require adding a new property to ironic node, This requires adding just small addition to ironic to be familiar with the new property. * What database migrations will accompany this change? Data model will not be impactd. State Machine Impact -------------------- Interaction between the proposed change and the Ironic state machine should be documented here. Questions which need to be addressed by this section include: * Are you adding or removing any states or verbs? None * Are you changing any state transitions? None * What states are impacted by this change? This includes situations where an additional action is being performed on nodes in a given state. None Any change to the state machine is also a REST API change, and should also be documented accordingly in the next section. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does, suitable for use in user documentation. * Method type (POST/PUT/GET/DELETE/PATCH) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included. Describe semantic errors which can cause it, such as inconsistent parameters supplied to the method, or when a resource is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * Parameters which can be passed via the url, including data types * JSON schema definition for the body data if allowed * JSON schema definition for the response data if any * Does the API microversion need to increment? * Example use case including typical API samples for both data supplied by the caller and the response None * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. * Is a corresponding change in the client library and CLI necessary? None * Is this change discoverable by clients? Not all clients will upgrade at the same time, so this change must work with older clients without breaking them. None - this option will be optional , only the ones who want to use it will use it. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted. Use of free-form JSON dicts should only be permitted where necessary to allow divergence in the drivers. In such case, the drivers must expose the expected content of the JSON dict and an ability to validate it. Reuse of existing predefined parameter types is highly encouraged. Client (CLI) impact ------------------- Typically, but not always, if there are any REST API changes, there are corresponding changes to python-ironicclient. If so, what does the user interface look like. If not, describe why there are REST API changes but no changes to the client. ""ironic"" CLI ~~~~~~~~~~~~ Changes, if any, to the ""ironic"" CLI. None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ Changes, if any, to the OpenStackClient plugin, ""openstack baremetal"" CLI. RPC API impact -------------- Changes which affect the RPC API should be listed here. For example: * What are the changes, if any, to existing API calls? None * What new API calls are being added? Will these be using cast() or call()? None * ironic-api and ironic-conductor services must be upgradable independently. What is the upgrade process for rolling this change out to an existing deployment? None Driver API impact ----------------- Changes which affect the driver API have a direct effect on all drivers, and often have a wider impact on the system. There are several things to consider in this section. * Is it a change to a ""core"" or ""common"" API? * Can all drivers support it initially, or is it specific to a particular vendor's hardware? It is not a particular vendor , the solution is generic * How will it be tested in the gate and in third-party CI systems? tests for this new capability where added to ironic/tests/unit/drivers/modules/test_deploy_utils.py ironic/tests/unit/drivers/modules/test_iscsi_deploy.py those tests validates nothing break due to this addition the tests validates if not using this capability all works as expected in all flows the tests validates if using this capaility all works as expected according to the additional partitions added. * If adding a new interface, explain the intended scope of the proposed interface, what functionality it enables, why it is needed, and whether it is supported by current drivers. None * If adding or changing a method on an existing interface, the impact on existing drivers should be explored. None * Will the new interface or method need to be invoked when the hash ring rebalances, for example to rebuild local state on a new conductor service? None * How does this affect upgrades? Third-party drivers could be updated independently from this change, and care must be taken not to break backwards-compatibility within our Driver API. backwards-compatibility is maintained - the users will not detect any change in behaiviour. Nova driver impact ------------------ Chances are, if this change affects the REST or Driver APIs, it will also affect the Nova driver in some way. If this requires a functional change in Nova, chances are the Nova team will require a spec to discuss the changes to their project as well. Provide a link to that here, or a justification for why that is not needed. Questions which need to be addressed in this section include: * What is the impact on Nova? None * If this change is enabling new functionality exposed via Nova, this section should cite the relevant components within other Nova drivers that already implement this. None * Ironic and Nova services must be upgradable independently. If the change affects existing functionality of the nova.virt.ironic driver, how will an upgrade be performed? How will it be tested? Node Ramdisk impact -------------- The ``ironic-python-agent`` project has become an integral component in nearly every Ironic deployment, and is used throughout the life cycle of each Node from inspection to deployment and cleaning. There are multiple ways to build a ramdisk containing this agent which cater to different environments, and operators are encouraged to build their own ramdisks as well. In this section, please describe any changes you expect to make to the ``ironic-python-agent`` or its member classes, to the ramdisk build process, or that otherwise affect the resulting ramdisk and its contents. Be mindful of the downstream impact this may have, and to the impact on compatibility. If your change to the ramdisk will also require a change in Ironic, and you think they should be upgraded together, then you should approach the problem differently. Forward and backward compatibility, within at least one release, must be maintained between Ironic and the IPA ramdisk. This could include changes in any of the following: * Are you proposing a change to the ironic-python-agent API, or adding an extension to it? None * Are you adding a new ironic-python-agent HardwareManager? This is like adding a new driver and should be documented, but will probably be easy to accept. None * Are you changing the HardwareManager base class or interface definitions? This is considered an API change and needs to be considered closely for potential impact on downstream users. None * Are you adding a new extension to IPA? This will require support in Ironic, and care will need to be taken to retain compatibility with ramdisks that lack this extension. None * Are you adding or changing a method on an existing IPA extension? This is likely to break compatibility. None * Are you changing the build process, or proposing a new one? None * If you are adding any new dependencies, explicitly call them out, and indicate any expected change in the size of the resulting ramdisk. This may affect performance in some environments. None * Are you proposing a change to the hardware inventory returned by list_hardware_info? This is part of the interface, and a change here will affect out of tree drivers. None * Are you proposing changes to ironic-inspector, or changes that will affect it? This is now packaged with the default ramdisk capabilities. None Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or credentials? None * Does this change affect the accessibility of hardware managed by Ironic? None * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? None * Does this change involve cryptography or hashing? None * Does this change require the use of sudo or any elevated privileges? None (it is used as all other calls are being done) * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. None * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. None For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Other end user impact --------------------- Aside from the API and client, are there other ways a user will interact with this feature? * Will this require changes in the Horizon panel, or any other OpenStack project? None Scalability impact ------------------ Describe any potential scalability impact on the system, for example any increase in network, RPC, or database traffic, or whether the feature requires synchronization across multiple services. Examples of things to consider here include: * Additional network calls to internal or external services. None * Additional disk or network traffic that will be required by the feature. None * Any change in the number of physical nodes which can be managed by each conductor service. None Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition, but all periodic tasks run in a single thread so a periodic task that takes a long time to run will have an effect on the timing of other periodic tasks. * A small change in a utility function or a commonly used decorator can have a large impact on performance. NA * Calls which result in one or more database queries (whether in the api or conductor services) can have a profound impact on performance when called in critical sections of the code. NA * Will the change include any TaskManager locking, and if so what considerations are there on holding the lock? * How will the new code be affected if the hash ring rebalances while it is running? NA Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example, a flag that other hardware drivers might want to implement as well)? Are the default values appropriate for production? Provide an explanation of why these defaults are reasonable. * Is this a change that takes immediate effect after it's merged, or is it something that has to be explicitly enabled? None * If this change adds a new service that deployers will be required to run, how would it be deployed? Describe the expected topology, for example, what network connectivity the new service would need, what service(s) it would interact with, how many should run relative to the size of the deployment, and so on. None * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we were to change the directory that PXE boot files were stored in, how would we update existing boot files created before the change landed? Would we require deployers to manually move them? Is there a special case in the code, which would be removed after some deprecation period? Would we require operators to delete and recreate all instances in order to perform the upgrade? None Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other drivers would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. kobig kobi.ginon@nokia.com Primary assignee: kobig Other contributors: None Work Items ---------- 1. Coding the changes required for liberty code - Done 2. updated unit test for liberty based code and test tox results - Done 3. Merge the code to master branch and repeat testing Note: requires changes due to the fact that some of the ironic modules where broken to seperate modules. In work Dependencies ============ * Include specific references to specs and/or blueprints in Ironic, or in other projects, that this one either depends on or is related to. None * If this requires functionality of another project that is not currently used by Ironic, document that fact. None * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? None * Does this feature target specific hardware? If so, is it a common standard (eg IPMI) or a vendor-specific implementation (eg iLO)? None Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Added unit tests and updated exsiting unit test Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc)? None Upgrades and Backwards Compatibility ==================================== Care must be taken to support our users by not breaking backwards compatibility with either REST API or Driver API changes. * If your proposal includes any changes to the REST API, describe how existing clients will continue to function when interacting with an upgraded API server. None * If your proposal includes any changes to the Driver API, describe how existing driver implementations will continue to function when loaded by a conductor running with the new driver base class. None * Describe what testing you will be adding to ensure that backwards compatibility is maintained. First i have tested heavily the behaiviour if new partition layout property is not set to check that irnoic maintance the same behaiviour and deploys the same disk partition as it is without setting teh property and comapred also to earlier versions that do not have the new code. also updated the following tests in teh following files to cover all exsiting test cases, and added some more: ironic/tests/unit/drivers/modules/test_deploy_utils.py ironic/tests/unit/drivers/modules/test_iscsi_deploy.py * If deprecating an existing feature or API, describe the deprecation plan, and for how long compatibility will be maintained. None Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to https://bugzilla.redhat.com/show_bug.cgi?id=1381111 https://bugzilla.redhat.com/show_bug.cgi?id=1300405 ",,697,0
openstack%2Fironic-specs~master~I740f02335cd6a7b4886def74e46db82581a66a3e,openstack/ironic-specs,master,I740f02335cd6a7b4886def74e46db82581a66a3e,Hardware alerts support,ABANDONED,2016-04-12 16:30:03.000000000,2020-02-07 01:14:34.000000000,,"[{'_account_id': 3}, {'_account_id': 11297}, {'_account_id': 13362}, {'_account_id': 13719}, {'_account_id': 14614}, {'_account_id': 15784}]","[{'number': 1, 'created': '2016-04-12 16:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/dcc8ce15141a412224ecbe0d743e5eba63c24d4d', 'message': 'Hardware alerts support\n\nThis spec proposes to add hardware alerts support\n(in form of alert sources) to Ironic.\n\nChange-Id: I740f02335cd6a7b4886def74e46db82581a66a3e\nRelated-bug: #1569439\n'}, {'number': 2, 'created': '2016-04-18 13:12:03.000000000', 'files': ['specs/approved/ironic-hardware-alerts.rst', 'specs/not-implemented/ironic-hardware-alerts.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/59a42278821f1aaec0a2bbc99c3186947f8b8313', 'message': 'Hardware alerts support\n\nThis spec proposes to add hardware alerts support\n(in form of alert sources) to Ironic.\n\nChange-Id: I740f02335cd6a7b4886def74e46db82581a66a3e\nRelated-bug: #1569439\n'}]",3,304762,59a42278821f1aaec0a2bbc99c3186947f8b8313,8,6,2,7711,,,0,"Hardware alerts support

This spec proposes to add hardware alerts support
(in form of alert sources) to Ironic.

Change-Id: I740f02335cd6a7b4886def74e46db82581a66a3e
Related-bug: #1569439
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/62/304762/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/ironic-hardware-alerts.rst', 'specs/not-implemented/ironic-hardware-alerts.rst']",2,dcc8ce15141a412224ecbe0d743e5eba63c24d4d,bug/1569439,../approved/ironic-hardware-alerts.rst,,237,0
openstack%2Fironic-specs~master~Ie3c1e35860a6501e1a5aa3eabf2bd7f1e90b08fb,openstack/ironic-specs,master,Ie3c1e35860a6501e1a5aa3eabf2bd7f1e90b08fb,API Evolution - Error Responses,ABANDONED,2016-10-04 17:05:00.000000000,2020-02-07 01:13:15.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 19213}]","[{'number': 1, 'created': '2016-10-04 17:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f4cf719e4e6194c4b25d60f62ab0b141ba0faea2', 'message': ""API Evolution - Error Responses\n\nThis specification describes the implementation of improved error responses.\n\nThis patch is part of a series of patches which propose several discrete units\nof work, broken out into separate specifications for tracking. These have grown\nout of the discussions around whether we should have a 'v2' API, and what\ncurrent pain-points we all experience with the current API. It is my belief,\nafter investigating all of the collected concerns, that we can implement many\nof the desired changes incrementally and without a full 'v2' rewrite.\n\nChange-Id: Ie3c1e35860a6501e1a5aa3eabf2bd7f1e90b08fb\nRelated-bug: #1630319\n""}, {'number': 2, 'created': '2016-10-04 22:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5a51f75dab15e86e10b9447798a0bc1557f4e95b', 'message': ""API Evolution - Error Responses\n\nThis specification describes the implementation of improved error responses.\n\nThis patch is part of a series of patches which propose several discrete units\nof work, broken out into separate specifications for tracking. These have grown\nout of the discussions around whether we should have a 'v2' API, and what\ncurrent pain-points we all experience with the current API. It is my belief,\nafter investigating all of the collected concerns, that we can implement many\nof the desired changes incrementally and without a full 'v2' rewrite.\n\nRelated-bug: #1630319\nChange-Id: Ie3c1e35860a6501e1a5aa3eabf2bd7f1e90b08fb\n""}, {'number': 3, 'created': '2016-10-05 14:57:55.000000000', 'files': ['specs/approved/evolve-error-responses.rst', 'specs/not-implemented/evolve-error-responses.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ee3bbf0125916a49c18499714b397a6ff398ee86', 'message': ""API Evolution - Error Responses\n\nThis specification describes the implementation of improved error responses.\n\nThis patch is part of a series of patches which propose several discrete units\nof work, broken out into separate specifications for tracking. These have grown\nout of the discussions around whether we should have a 'v2' API, and what\ncurrent pain-points we all experience with the current API. It is my belief,\nafter investigating all of the collected concerns, that we can implement many\nof the desired changes incrementally and without a full 'v2' rewrite.\n\nRelated-bug: #1630319\nChange-Id: Ie3c1e35860a6501e1a5aa3eabf2bd7f1e90b08fb\n""}]",22,381989,ee3bbf0125916a49c18499714b397a6ff398ee86,17,8,3,2889,,,0,"API Evolution - Error Responses

This specification describes the implementation of improved error responses.

This patch is part of a series of patches which propose several discrete units
of work, broken out into separate specifications for tracking. These have grown
out of the discussions around whether we should have a 'v2' API, and what
current pain-points we all experience with the current API. It is my belief,
after investigating all of the collected concerns, that we can implement many
of the desired changes incrementally and without a full 'v2' rewrite.

Related-bug: #1630319
Change-Id: Ie3c1e35860a6501e1a5aa3eabf2bd7f1e90b08fb
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/89/381989/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/evolve-error-responses.rst', 'specs/not-implemented/evolve-error-responses.rst']",2,f4cf719e4e6194c4b25d60f62ab0b141ba0faea2,api-evolution,../approved/evolve-error-responses.rst,,205,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I3376378cdffbe69b8d14aed683deba185ba1e0f5,openstack/python-tripleoclient,stable/train,I3376378cdffbe69b8d14aed683deba185ba1e0f5,openstack overcloud node delete --baremetal-deployment,MERGED,2020-01-06 23:16:27.000000000,2020-02-07 01:13:06.000000000,2020-02-07 01:11:03.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-06 23:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60e487a4e1577c38291383615e2baa64c84df02f', 'message': 'openstack overcloud node delete --baremetal-deployment\n\nThis change integrates baremetal provisioning with the existing\n""openstack overcloud node delete"" command.\n\nInstead of providing node ID(s), the --baremetal-deployment argument\nwill specify the provisioning yaml with instances set to\nprovisioned:false for the nodes to be deleted.\n\nInternally the command needs to expand the roles and compare the\nindexes of unprovisioned instances with the indexes of the heat\nresources in the server resource group, using the match to specify the\nheat resource physical_resource_id to pass to the scale down workflow,\nautomating what is done for deployed-server scale-down[1].\n\nBlueprint: nova-less-deploy\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deployed_server.html#scaling-down\n\nChange-Id: I3376378cdffbe69b8d14aed683deba185ba1e0f5\n(cherry picked from commit bd9302d5523855442dacf88add600a2f67b3a318)\n'}, {'number': 2, 'created': '2020-01-07 21:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ba7a0abbf71644408621cdbb9315c87ac2563f9', 'message': 'openstack overcloud node delete --baremetal-deployment\n\nThis change integrates baremetal provisioning with the existing\n""openstack overcloud node delete"" command.\n\nInstead of providing node ID(s), the --baremetal-deployment argument\nwill specify the provisioning yaml with instances set to\nprovisioned:false for the nodes to be deleted.\n\nInternally the command needs to expand the roles and compare the\nindexes of unprovisioned instances with the indexes of the heat\nresources in the server resource group, using the match to specify the\nheat resource physical_resource_id to pass to the scale down workflow,\nautomating what is done for deployed-server scale-down[1].\n\nThis is a medium-risk backport because overcloud node delete is\nsometimes run, but the code-path is only used when the\n--baremetal-deployment argument is passed (which is not documented in\nstable/train)\n\nBlueprint: nova-less-deploy\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deployed_server.html#scaling-down\n\nChange-Id: I3376378cdffbe69b8d14aed683deba185ba1e0f5\n(cherry picked from commit bd9302d5523855442dacf88add600a2f67b3a318)\n'}, {'number': 3, 'created': '2020-01-29 03:20:08.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2f0a34fdb1d27898da8db894484c1e974298301', 'message': 'openstack overcloud node delete --baremetal-deployment\n\nThis change integrates baremetal provisioning with the existing\n""openstack overcloud node delete"" command.\n\nInstead of providing node ID(s), the --baremetal-deployment argument\nwill specify the provisioning yaml with instances set to\nprovisioned:false for the nodes to be deleted.\n\nInternally the command needs to expand the roles and compare the\nindexes of unprovisioned instances with the indexes of the heat\nresources in the server resource group, using the match to specify the\nheat resource physical_resource_id to pass to the scale down workflow,\nautomating what is done for deployed-server scale-down[1].\n\nThis is a medium-risk backport because overcloud node delete is\nsometimes run, but the code-path is only used when the\n--baremetal-deployment argument is passed (which is not documented in\nstable/train)\n\nBlueprint: nova-less-deploy\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deployed_server.html#scaling-down\n\nChange-Id: I3376378cdffbe69b8d14aed683deba185ba1e0f5\n(cherry picked from commit bd9302d5523855442dacf88add600a2f67b3a318)\n'}]",0,701296,b2f0a34fdb1d27898da8db894484c1e974298301,21,5,3,3153,,,0,"openstack overcloud node delete --baremetal-deployment

This change integrates baremetal provisioning with the existing
""openstack overcloud node delete"" command.

Instead of providing node ID(s), the --baremetal-deployment argument
will specify the provisioning yaml with instances set to
provisioned:false for the nodes to be deleted.

Internally the command needs to expand the roles and compare the
indexes of unprovisioned instances with the indexes of the heat
resources in the server resource group, using the match to specify the
heat resource physical_resource_id to pass to the scale down workflow,
automating what is done for deployed-server scale-down[1].

This is a medium-risk backport because overcloud node delete is
sometimes run, but the code-path is only used when the
--baremetal-deployment argument is passed (which is not documented in
stable/train)

Blueprint: nova-less-deploy
[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deployed_server.html#scaling-down

Change-Id: I3376378cdffbe69b8d14aed683deba185ba1e0f5
(cherry picked from commit bd9302d5523855442dacf88add600a2f67b3a318)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/701296/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,60e487a4e1577c38291383615e2baa64c84df02f,train-bp/nova-less-deploy,"import six group = parser.add_mutually_exclusive_group(required=True) group.add_argument('nodes', metavar='<node>', nargs=""*"", default=[], help=_('Node ID(s) to delete (otherwise specified ' 'in the --baremetal-deployment file)')) group.add_argument('-b', '--baremetal-deployment', metavar='<BAREMETAL DEPLOYMENT FILE>', help=_('Configuration file describing the ' 'baremetal deployment')) def _nodes_to_delete(self, parsed_args, roles): # expand for provisioned:False to get a list of nodes # to delete expanded = baremetal.expand_roles( self.app.client_manager, roles=roles, stackname=parsed_args.stack, provisioned=False) nodes = expanded.get('instances', []) if not nodes: print('No nodes to unprovision') return TableArgs = collections.namedtuple( 'TableArgs', 'print_empty max_width fit_width') args = TableArgs(print_empty=True, max_width=80, fit_width=True) nodes_data = [(i.get('hostname', ''), i.get('name', '')) for i in nodes] formatter = table.TableFormatter() output = six.StringIO() formatter.emit_list( column_names=['hostname', 'name'], data=nodes_data, stdout=output, parsed_args=args ) return output.getvalue() def _translate_nodes_to_resources(self, parsed_args, roles): # build a dict of resource type names to role name role_types = dict( ('OS::TripleO::%sServer' % r['name'], r['name']) for r in roles ) expanded = baremetal.expand_roles( self.app.client_manager, roles=roles, stackname=parsed_args.stack, provisioned=True) parameters = expanded.get( 'environment', {}).get('parameter_defaults', {}) # build a dict with the role and # a list of indexes of nodes to delete for that role removal_indexes = {} for role in role_types.values(): removal_indexes.setdefault(role, []) param = '%sRemovalPolicies' % role policies = parameters.get(param, []) if policies: removal_indexes[role] = policies[0].get('resource_list', []) nodes = [] clients = self.app.client_manager # iterate every server resource and compare its index with # the list of indexes to be deleted resources = clients.orchestration.resources.list( parsed_args.stack, nested_depth=5) for res in resources: if res.resource_type not in role_types: continue role = role_types[res.resource_type] removal_list = removal_indexes.get(role, []) index = int(res.parent_resource) if index in removal_list: node = res.physical_resource_id nodes.append(node) return nodes if parsed_args.baremetal_deployment: with open(parsed_args.baremetal_deployment, 'r') as fp: roles = yaml.safe_load(fp) nodes_text = self._nodes_to_delete(parsed_args, roles) if nodes_text: nodes = self._translate_nodes_to_resources( parsed_args, roles) print(nodes_text) else: return else: nodes = parsed_args.nodes nodes_text = '\n'.join('- %s' % node for node in nodes) .format(stack=stack.stack_name, nodes=nodes_text)) nodes, if parsed_args.baremetal_deployment: baremetal.undeploy_roles( self.app.client_manager, roles=roles, plan=parsed_args.stack) "," parser.add_argument('nodes', metavar='<node>', nargs=""+"", help=_('Node ID(s) to delete')) nodes = '\n'.join('- %s' % node for node in parsed_args.nodes) .format(stack=stack.stack_name, nodes=nodes)) parsed_args.nodes,",349,5
openstack%2Fironic-specs~master~Id23d4daee78eea55ca957b758acae5ff30787e8f,openstack/ironic-specs,master,Id23d4daee78eea55ca957b758acae5ff30787e8f,API Evolution - Driver Info,ABANDONED,2016-10-04 17:42:19.000000000,2020-02-07 01:12:52.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 7080}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 10917}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13295}]","[{'number': 1, 'created': '2016-10-04 17:42:19.000000000', 'files': ['specs/approved/evolve-driver-info.rst', 'specs/not-implemented/evolve-driver-info.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f5da55649b5b114c24cebe9447748417f11cbb33', 'message': ""API Evolution - Driver Info\n\nEven though there is a defined mechanism for drivers to expose\nconfiguration metadata (through the ``node.driver_info`` field and its\nrelated ``validate`` method), some drivers alter their behavior based on\nstrings within the ``node.properties['capabilities']`` nested object.\n\nThis specification describes the implementation of improvements in the\nhandling of driver-specific information, and node-specific information\nprovided by operators in order to determine service behavior.\n\nThis patch is part of a series of patches which propose several discrete\nunits of work, broken out into separate specifications for tracking.\nThese have grown out of the discussions around whether we should have a\n'v2' API, and what current pain-points we all experience with the\ncurrent API. It is my belief, after investigating all of the collected\nconcerns, that we can implement many of the desired changes\nincrementally and without a full 'v2' rewrite.\n\nChange-Id: Id23d4daee78eea55ca957b758acae5ff30787e8f\nRelated-bug: #1630331\n""}]",21,382015,f5da55649b5b114c24cebe9447748417f11cbb33,12,9,1,2889,,,0,"API Evolution - Driver Info

Even though there is a defined mechanism for drivers to expose
configuration metadata (through the ``node.driver_info`` field and its
related ``validate`` method), some drivers alter their behavior based on
strings within the ``node.properties['capabilities']`` nested object.

This specification describes the implementation of improvements in the
handling of driver-specific information, and node-specific information
provided by operators in order to determine service behavior.

This patch is part of a series of patches which propose several discrete
units of work, broken out into separate specifications for tracking.
These have grown out of the discussions around whether we should have a
'v2' API, and what current pain-points we all experience with the
current API. It is my belief, after investigating all of the collected
concerns, that we can implement many of the desired changes
incrementally and without a full 'v2' rewrite.

Change-Id: Id23d4daee78eea55ca957b758acae5ff30787e8f
Related-bug: #1630331
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/15/382015/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/evolve-driver-info.rst', 'specs/not-implemented/evolve-driver-info.rst']",2,f5da55649b5b114c24cebe9447748417f11cbb33,api-evolution,../approved/evolve-driver-info.rst,,300,0
openstack%2Fironic-specs~master~I4cf3c98a93c15ab58ab59e4953c6a5379269f441,openstack/ironic-specs,master,I4cf3c98a93c15ab58ab59e4953c6a5379269f441,Add power and thermal limits support,ABANDONED,2015-12-01 16:40:51.000000000,2020-02-07 01:11:23.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 12356}, {'_account_id': 14614}, {'_account_id': 18781}]","[{'number': 1, 'created': '2015-12-01 16:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e735c8185d426a089fe335c9405b3290000467ae', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 2, 'created': '2015-12-02 10:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/04732e8b3ea2f917f2d7c05341d4bd57f7c2ef8e', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 3, 'created': '2015-12-03 12:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/29023e6260ca9f1db59e45b83e4bb56616b497af', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 4, 'created': '2015-12-03 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d0e8272462ea67fd0383f053b63d3ce2898a354d', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 5, 'created': '2015-12-07 12:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f078ab1e65ee294eca6970dcf55c04c8cfbbf9d1', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 6, 'created': '2015-12-08 13:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4f634eaa9b4193ff0138d906a47c45bcba744931', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 7, 'created': '2015-12-10 12:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3abf42e2aa71e9bc9ab7d1b379beb814fce66d6a', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 8, 'created': '2015-12-17 11:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ae61d1f564f7e88dad6ed84551a40ec166fe5693', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 9, 'created': '2015-12-17 11:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/13aa8beb75c4236292dbaa952fd35af594ae1414', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 10, 'created': '2016-02-03 11:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e0b5e9196965424538c95ae888eb9dd8803cca83', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 11, 'created': '2016-02-10 10:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/920c3ad0f164becd1613a0c21af70b0bbef85907', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 12, 'created': '2016-03-21 08:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2e7e35b168eb2fa09fd9e9bd47566589b81a3010', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 13, 'created': '2016-04-06 08:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2a88cffa2b5a0fc02bbc261436755280171d41e8', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}, {'number': 14, 'created': '2016-04-06 09:15:46.000000000', 'files': ['specs/approved/ironic-management-limits.rst', 'specs/not-implemented/ironic-management-limits.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7e5a32744738bbcfe8ddc44e8f5ac5df367f9092', 'message': 'Add power and thermal limits support\n\nThis spec proposes add power and thermal limits support via\ndriver management properties API.\n\nRelated-bug: #1526474\n\nChange-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441\n'}]",23,251957,7e5a32744738bbcfe8ddc44e8f5ac5df367f9092,44,9,14,7711,,,0,"Add power and thermal limits support

This spec proposes add power and thermal limits support via
driver management properties API.

Related-bug: #1526474

Change-Id: I4cf3c98a93c15ab58ab59e4953c6a5379269f441
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/57/251957/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/ironic-management-limits.rst'],1,e735c8185d426a089fe335c9405b3290000467ae,bug/1526474,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Add power and thermal limits support to Ironic =============================================== https://blueprints.launchpad.net/ironic/+spec/ironic-management-limits This spec proposes add support for power and thermal limits management. Problem description =================== Management part of modern server hardware often include support of power and thermal limits. Power limit is a mechanism that supports power consumption value defined by user. Thermal limit is setting of maximum inlet temperature with exception actions such as power off. Minimal requirements for power and thermal limits described in DCMI specification [#]_. There are also vendor technologies like HP Power Capping [#]_ and IBM Active Energy Manager [#]_ which support limits. There is no power and thermal limits support in Ironic. Proposed change =============== * Implement power and thermal limits management via driver management properties API. * Implement new ``IPMI_DCMIManagement`` interface which will use ``IPMIManagement`` as a base and ``ipmitool`` utility for setting of limits. Implementation detail: ``get_supported_properties()`` method checks support of limits on the hardware and returns list ['limit_power', 'limit_thermal'] if both supported or list with dropped item(s) which are not supported. ``set_property()`` method accepts ``values`` dicts:: for 'limit_power' property { # exception action, one of 'no' (no action), 'off' # (hard power off), 'log' (write to system event log). 'action': value1, # requested power limit in watts 'limit': value2, # maximum correction time in milliseconds 'correction_time': value3, # statistics sampling period in seconds 'sampling_time': value4 } for 'limit_thermal' property { # entity instance 'instance': value1, # exception action, same as for power limit 'action': value2, # value of temperature limit 'limit': value3, # maximum exception time in seconds 'exception_time': value4, } Limits are activated immediately after is set. ``get_property_values()`` method returns the dictionary with current values of limit. Alternatives ------------ Power and thermal limit settings via vendor passthru mechanism. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- None RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Security impact --------------- None Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- Developers may implement these new management methods for drivers. Implementation ============== Assignee(s) ----------- Primary assignee: yuriyz Other contributors: vdrok Work Items ---------- * Implement ``IPMI_DCMIManagement`` interface. * Create unit tests. Dependencies ============ None Testing ======= Unit tests will be added. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== Documentation will be provided. References ========== .. [#] http://www.intel.com/content/dam/www/public/us/en/documents/technical-specifications/dcmi-v1-5-rev-spec.pdf .. [#] http://h20565.www2.hpe.com/hpsc/doc/public/display?docId=emr_na-c01549455&lang=en-us&cc=us .. [#] http://www.redbooks.ibm.com/redpapers/pdfs/redp4361.pdf ",,188,0
openstack%2Fpuppet-tripleo~master~I5cd0b6e99f5ffcc495225c61f0773240d90e7930,openstack/puppet-tripleo,master,I5cd0b6e99f5ffcc495225c61f0773240d90e7930,Make pipeline config more flexible,MERGED,2020-01-29 10:48:12.000000000,2020-02-07 01:11:10.000000000,2020-02-07 01:11:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-29 10:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce9f0c1aaa10b45c49bb239df50ae6d0cb0c1a40', 'message': 'Make pipeline config more flexible\n\nThis patch moves Ceilometer notification agent to correct class and also\nadds posibility to configure query parameters.\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n'}, {'number': 2, 'created': '2020-01-29 11:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/35d98ba333315173fde4191802a0ba670c11236d', 'message': 'Make pipeline config more flexible\n\nThis patch moves Ceilometer notification agent to correct class and also\nadds posibility to configure query parameters.\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n'}, {'number': 3, 'created': '2020-01-29 12:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/212ce70f76359ae2d3086feb2795a897c5578b0e', 'message': 'Make pipeline config more flexible\n\nThis patch moves Ceilometer notification agent to correct class and also\nadds posibility to configure query parameters.\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n'}, {'number': 4, 'created': '2020-01-29 13:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb45f0f39d3304313ea1b65f082b89e0d8920a9c', 'message': 'Make pipeline config more flexible\n\nThis patch moves Ceilometer notification agent to correct class and also\nadds posibility to configure query parameters.\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n'}, {'number': 5, 'created': '2020-01-29 14:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0fe206f744312597c7c07d54abf7c659a5fb487b', 'message': 'Make pipeline config more flexible\n\nThis patch moves Ceilometer notification agent to correct class and also\nadds posibility to configure query parameters.\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n'}, {'number': 6, 'created': '2020-01-29 16:48:06.000000000', 'files': ['spec/classes/tripleo_profile_base_ceilometer_agent_notification_spec.rb', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4443ae70372e21418dbbb8d31d7ecedaf3ae1031', 'message': 'Make pipeline config more flexible\n\nThis patch:\n  - moves Ceilometer notification agent to correct class\n  - adds posibility to configure query parameters\n  - avoid setting gnocchi publishers by default\n\nChange-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n'}]",1,704775,4443ae70372e21418dbbb8d31d7ecedaf3ae1031,14,5,6,5241,,,0,"Make pipeline config more flexible

This patch:
  - moves Ceilometer notification agent to correct class
  - adds posibility to configure query parameters
  - avoid setting gnocchi publishers by default

Change-Id: I5cd0b6e99f5ffcc495225c61f0773240d90e7930
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/704775/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_ceilometer_agent_notification_spec.rb', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/ceilometer.pp']",3,ce9f0c1aaa10b45c49bb239df50ae6d0cb0c1a40,ceilo,,"# [*notifier_host_addr*] # (optional) Ip address of ceilometer notifier (edge qdr Endpoint) # Defaults to false # # [*notifier_host_port*] # (optional) Ceilometer notifier port # Defaults to undef # # [*event_pipeline_publishers*] # (Optional) A list of event pipeline publishers # Defaults to undef # # [*pipeline_publishers*] # (Optional) A list of pipeline publishers # Defaults to undef $notifier_host_addr = false, $notifier_host_port = undef, $event_pipeline_publishers = undef, $pipeline_publishers = undef, if $notifier_host_addr { class {'::ceilometer::agent::notification' : event_pipeline_publishers => concat(any2array(os_transport_url({ 'transport' => 'notifier', 'host' => $notifier_host_addr, 'port' => $notifier_host_port, 'query' => { 'driver' => 'amqp' }, })), $event_pipeline_publishers), pipeline_publishers => concat(any2array(os_transport_url({ 'transport' => 'notifier', 'host' => $notifier_host_addr, 'port' => $notifier_host_port, 'query' => { 'driver' => 'amqp' }, })), $pipeline_publishers), } } else { class {'::ceilometer::agent::notification' : event_pipeline_publishers => $event_pipeline_publishers, pipeline_publishers => $pipeline_publishers, } }",114,45
openstack%2Ftripleo-heat-templates~master~I243c761a88f746a6abb4ddb13845e813eaf7155c,openstack/tripleo-heat-templates,master,I243c761a88f746a6abb4ddb13845e813eaf7155c,Remove unnecessary block/whitespace from step1 tasks,MERGED,2020-01-29 12:14:09.000000000,2020-02-07 01:11:08.000000000,2020-02-07 01:11:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-29 12:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffabb24f6392750631347ee6684b6134be7b436e', 'message': 'Remove unnecessary block/whitespace from step1 tasks\n\nIn Id5985ce8ac741baa9adc9f5874df0459fd4c24b2 the step1 tasks were moved\ninto their own file with the leading whitespace and block statement left\nexactly as they were.\n\nThis patch removes the unnecessary block statement, moves the block name\nto the parent inclusion and removes all the leading whitespace.\n\nChange-Id: I243c761a88f746a6abb4ddb13845e813eaf7155c\n'}, {'number': 2, 'created': '2020-02-03 12:14:56.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/134795a13d55ae36da1f3e7651fe017e3729e26c', 'message': 'Remove unnecessary block/whitespace from step1 tasks\n\nIn Id5985ce8ac741baa9adc9f5874df0459fd4c24b2 the step1 tasks were moved\ninto their own file with the leading whitespace and block statement left\nexactly as they were.\n\nThis patch removes the unnecessary block statement, moves the block name\nto the parent inclusion and removes all the leading whitespace.\n\nChange-Id: I243c761a88f746a6abb4ddb13845e813eaf7155c\n'}]",2,704785,134795a13d55ae36da1f3e7651fe017e3729e26c,16,7,2,6816,,,0,"Remove unnecessary block/whitespace from step1 tasks

In Id5985ce8ac741baa9adc9f5874df0459fd4c24b2 the step1 tasks were moved
into their own file with the leading whitespace and block statement left
exactly as they were.

This patch removes the unnecessary block statement, moves the block name
to the parent inclusion and removes all the leading whitespace.

Change-Id: I243c761a88f746a6abb4ddb13845e813eaf7155c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/704785/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml']",2,ffabb24f6392750631347ee6684b6134be7b436e,,"- name: Create and ensure setype for /var/log/containers directory file: path: /var/log/containers state: directory setype: container_file_t selevel: s0 mode: 0750 tags: - host_config - name: Create ContainerLogStdoutPath directory file: path: ""{{ container_log_stdout_path }}"" state: directory selevel: s0 tags: - host_config - name: Create /var/lib/tripleo-config directory file: path: /var/lib/tripleo-config state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - host_config - container_config - container_config_tasks - container_config_scripts - container_startup_configs - name: Delete existing /var/lib/tripleo-config/check-mode directory for check mode file: path: /var/lib/tripleo-config/check-mode state: absent tags: - host_config - container_config - container_config_tasks - container_config_scripts - container_startup_configs when: - ansible_check_mode|bool ignore_errors: true check_mode: no - name: Create /var/lib/tripleo-config/check-mode directory for check mode file: path: /var/lib/tripleo-config/check-mode state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - host_config - container_config - container_config_tasks - container_config_scripts - container_startup_configs when: - ansible_check_mode|bool check_mode: no # Puppet manifest for baremetal host configuration - name: Write the puppet step_config manifest no_log: True copy: content: ""{{ lookup('file', tripleo_role_name + '/step_config.pp', errors='ignore') | default('', True) }}"" dest: /var/lib/tripleo-config/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}puppet_step_config.pp force: yes mode: '0600' tags: - host_config check_mode: no diff: no - name: Diff puppet step_config manifest changes for check mode command: diff -uN /var/lib/tripleo-config/puppet_step_config.pp /var/lib/tripleo-config/check-mode/puppet_step_config.pp register: diff_results tags: - host_config check_mode: no when: - ansible_check_mode|bool - ansible_diff_mode failed_when: false changed_when: diff_results.rc == 1 - name: Diff puppet step_config manifest changes for check mode debug: var: diff_results.stdout_lines changed_when: diff_results.rc == 1 when: - ansible_check_mode|bool - ansible_diff_mode tags: - host_config # Config file for our container-puppet.py script, used to generate container configs - name: Create /var/lib/container-puppet file: path: /var/lib/container-puppet state: directory setype: svirt_sandbox_file_t selevel: s0 tags: - container_config - container_config_tasks - name: Delete existing /var/lib/container-puppet/check-mode for check mode file: path: /var/lib/container-puppet/check-mode state: absent tags: - container_config ignore_errors: true check_mode: no when: - ansible_check_mode|bool - name: Create /var/lib/container-puppet/check-mode for check mode file: path: /var/lib/container-puppet/check-mode state: directory setype: svirt_sandbox_file_t selevel: s0 tags: - container_config check_mode: no when: - ansible_check_mode|bool - name: Write container-puppet.json file no_log: True copy: content: ""{{ lookup('file', tripleo_role_name + '/puppet_config.yaml', errors='ignore') | default([], True) | from_yaml | to_nice_json }}"" dest: /var/lib/container-puppet/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}container-puppet.json force: yes mode: '0600' tags: - container_config check_mode: no diff: no - name: Diff container-puppet.json changes for check mode command: diff -uN /var/lib/container-puppet/container-puppet.json /var/lib/container-puppet/check-mode/container-puppet.json register: diff_results tags: - container_config check_mode: no when: - ansible_check_mode|bool - ansible_diff_mode failed_when: false changed_when: diff_results.rc == 1 - name: Diff container-puppet.json changes for check mode debug: var: diff_results.stdout_lines changed_when: diff_results.rc == 1 when: - ansible_check_mode|bool - ansible_diff_mode tags: - container_config - name: Create /var/lib/container-config-scripts file: path: /var/lib/container-config-scripts state: directory setype: svirt_sandbox_file_t tags: - container_config_scripts # The container config files # /var/lib/container-startup-configs.json is removed as we now write # per-step files instead - name: Clean old /var/lib/container-startup-configs.json file file: path: /var/lib/container-startup-configs.json state: absent tags: - container_startup_configs # For legacy, can be removed in Train cycle - name: Clean old /var/lib/docker-container-startup-configs.json file file: path: /var/lib/docker-container-startup-configs.json state: absent tags: - container_startup_configs - name: Write container config scripts no_log: True copy: content: ""{{ item[1].content }}"" dest: ""/var/lib/container-config-scripts/{{ item[0] }}"" force: yes mode: ""{{ item[1].mode | default('0600', true) }}"" setype: svirt_sandbox_file_t loop: ""{{ role_data_container_config_scripts | dictsort }}"" loop_control: label: ""{{ item[0] }}"" vars: role_data_container_config_scripts: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_config_scripts # Here we are dumping all the container startup configuration data # so that we can have access to how they are started outside of heat # and container cmd. This lets us create command line tools to test containers. - name: Set container_config_default fact no_log: True set_fact: container_config_default: ""{{ container_config_default | default({}) | combine( {'step_' + item: {}} ) }}"" with_sequence: count={{ deploy_steps_max }} tags: - container_startup_configs - name: Set container_startup_configs_with_default fact no_log: True set_fact: container_config_with_default: ""{{ container_config_default | combine(role_data_container_config) }}"" vars: role_data_container_config: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_startup_configs # This file location is deprecated and the new location is now: # /var/lib/tripleo-config/container-startup-config/step_X/<container_name>.json # Can be removed in V cycle - name: Write /var/lib/tripleo-config/container-startup-config-readme.txt no_log: True copy: content: ""Container startup configs moved to /var/lib/tripleo-config/container-startup-config"" dest: /var/lib/tripleo-config/container-startup-config-readme.txt force: yes mode: '0600' tags: - container_startup_configs - name: Generate startup configs files per step and per container no_log: True include_tasks: container_startup_configs_tasks.yaml loop: ""{{ container_config_with_default | dictsort }}"" tags: - container_startup_configs - name: Create /var/lib/kolla/config_files directory file: path: /var/lib/kolla/config_files state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - container_startup_configs - name: Create /var/lib/config-data directory file: path: /var/lib/config-data state: directory setype: svirt_sandbox_file_t selevel: s0 - name: Write kolla config json files no_log: True copy: content: ""{{ item[1] | to_nice_json }}"" dest: ""{{ item[0] }}"" force: yes mode: '0600' setype: svirt_sandbox_file_t loop: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default([], True) | from_yaml | dictsort }}"" loop_control: label: ""{{ item[0] }}"" tags: - container_startup_configs - name: gather facts needed by role setup: gather_subset: ""!min,python"" when: ansible_python is not defined tags: - container_config_tasks - name: set python_cmd set_fact: python_cmd: ""python{{ ansible_python.version.major }}"" cacheable: true when: python_cmd is not defined tags: - container_config_tasks - name: Set host puppet debugging fact string set_fact: host_puppet_config_debug: ""--debug --verbose"" when: - enable_puppet | bool - enable_debug | bool tags: - host_config - name: Check for /etc/puppet/check-mode directory for check mode stat: path: /etc/puppet/check-mode register: check_mode_dir when: ansible_check_mode|bool tags: - host_config - container_config - name: Create /etc/puppet/check-mode/hieradata directory for check mode file: path: /etc/puppet/check-mode/hieradata state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true check_mode: no when: - ansible_check_mode|bool - not check_mode_dir.stat.exists tags: - host_config - container_config - name: Create puppet check-mode files if they don't exist for check mode shell: | cp -a /etc/puppet/hiera.yaml /etc/puppet/check-mode/hiera.yaml cp -a /etc/puppet/hieradata/* /etc/puppet/check-mode/hieradata/ sed -i 's/\/etc\/puppet\/hieradata/\/etc\/puppet\/check-mode\/hieradata/' /etc/puppet/check-mode/hiera.yaml when: - ansible_check_mode|bool - not check_mode_dir.stat.exists check_mode: no tags: - host_config - container_config"," - name: Write config data at the start of step 1 block: - name: Create and ensure setype for /var/log/containers directory file: path: /var/log/containers state: directory setype: container_file_t selevel: s0 mode: 0750 tags: - host_config - name: Create ContainerLogStdoutPath directory file: path: ""{{ container_log_stdout_path }}"" state: directory selevel: s0 tags: - host_config - name: Create /var/lib/tripleo-config directory file: path: /var/lib/tripleo-config state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - host_config - container_config - container_config_tasks - container_config_scripts - container_startup_configs - name: Delete existing /var/lib/tripleo-config/check-mode directory for check mode file: path: /var/lib/tripleo-config/check-mode state: absent tags: - host_config - container_config - container_config_tasks - container_config_scripts - container_startup_configs when: - ansible_check_mode|bool ignore_errors: true check_mode: no - name: Create /var/lib/tripleo-config/check-mode directory for check mode file: path: /var/lib/tripleo-config/check-mode state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - host_config - container_config - container_config_tasks - container_config_scripts - container_startup_configs when: - ansible_check_mode|bool check_mode: no # Puppet manifest for baremetal host configuration - name: Write the puppet step_config manifest no_log: True copy: content: ""{{ lookup('file', tripleo_role_name + '/step_config.pp', errors='ignore') | default('', True) }}"" dest: /var/lib/tripleo-config/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}puppet_step_config.pp force: yes mode: '0600' tags: - host_config check_mode: no diff: no - name: Diff puppet step_config manifest changes for check mode command: diff -uN /var/lib/tripleo-config/puppet_step_config.pp /var/lib/tripleo-config/check-mode/puppet_step_config.pp register: diff_results tags: - host_config check_mode: no when: - ansible_check_mode|bool - ansible_diff_mode failed_when: false changed_when: diff_results.rc == 1 - name: Diff puppet step_config manifest changes for check mode debug: var: diff_results.stdout_lines changed_when: diff_results.rc == 1 when: - ansible_check_mode|bool - ansible_diff_mode tags: - host_config # Config file for our container-puppet.py script, used to generate container configs - name: Create /var/lib/container-puppet file: path: /var/lib/container-puppet state: directory setype: svirt_sandbox_file_t selevel: s0 tags: - container_config - container_config_tasks - name: Delete existing /var/lib/container-puppet/check-mode for check mode file: path: /var/lib/container-puppet/check-mode state: absent tags: - container_config ignore_errors: true check_mode: no when: - ansible_check_mode|bool - name: Create /var/lib/container-puppet/check-mode for check mode file: path: /var/lib/container-puppet/check-mode state: directory setype: svirt_sandbox_file_t selevel: s0 tags: - container_config check_mode: no when: - ansible_check_mode|bool - name: Write container-puppet.json file no_log: True copy: content: ""{{ lookup('file', tripleo_role_name + '/puppet_config.yaml', errors='ignore') | default([], True) | from_yaml | to_nice_json }}"" dest: /var/lib/container-puppet/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}container-puppet.json force: yes mode: '0600' tags: - container_config check_mode: no diff: no - name: Diff container-puppet.json changes for check mode command: diff -uN /var/lib/container-puppet/container-puppet.json /var/lib/container-puppet/check-mode/container-puppet.json register: diff_results tags: - container_config check_mode: no when: - ansible_check_mode|bool - ansible_diff_mode failed_when: false changed_when: diff_results.rc == 1 - name: Diff container-puppet.json changes for check mode debug: var: diff_results.stdout_lines changed_when: diff_results.rc == 1 when: - ansible_check_mode|bool - ansible_diff_mode tags: - container_config - name: Create /var/lib/container-config-scripts file: path: /var/lib/container-config-scripts state: directory setype: svirt_sandbox_file_t tags: - container_config_scripts # The container config files # /var/lib/container-startup-configs.json is removed as we now write # per-step files instead - name: Clean old /var/lib/container-startup-configs.json file file: path: /var/lib/container-startup-configs.json state: absent tags: - container_startup_configs # For legacy, can be removed in Train cycle - name: Clean old /var/lib/docker-container-startup-configs.json file file: path: /var/lib/docker-container-startup-configs.json state: absent tags: - container_startup_configs - name: Write container config scripts no_log: True copy: content: ""{{ item[1].content }}"" dest: ""/var/lib/container-config-scripts/{{ item[0] }}"" force: yes mode: ""{{ item[1].mode | default('0600', true) }}"" setype: svirt_sandbox_file_t loop: ""{{ role_data_container_config_scripts | dictsort }}"" loop_control: label: ""{{ item[0] }}"" vars: role_data_container_config_scripts: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_config_scripts # Here we are dumping all the container startup configuration data # so that we can have access to how they are started outside of heat # and container cmd. This lets us create command line tools to test containers. - name: Set container_config_default fact no_log: True set_fact: container_config_default: ""{{ container_config_default | default({}) | combine( {'step_' + item: {}} ) }}"" with_sequence: count={{ deploy_steps_max }} tags: - container_startup_configs - name: Set container_startup_configs_with_default fact no_log: True set_fact: container_config_with_default: ""{{ container_config_default | combine(role_data_container_config) }}"" vars: role_data_container_config: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_startup_configs # This file location is deprecated and the new location is now: # /var/lib/tripleo-config/container-startup-config/step_X/<container_name>.json # Can be removed in V cycle - name: Write /var/lib/tripleo-config/container-startup-config-readme.txt no_log: True copy: content: ""Container startup configs moved to /var/lib/tripleo-config/container-startup-config"" dest: /var/lib/tripleo-config/container-startup-config-readme.txt force: yes mode: '0600' tags: - container_startup_configs - name: Generate startup configs files per step and per container no_log: True include_tasks: container_startup_configs_tasks.yaml loop: ""{{ container_config_with_default | dictsort }}"" tags: - container_startup_configs - name: Create /var/lib/kolla/config_files directory file: path: /var/lib/kolla/config_files state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - container_startup_configs - name: Create /var/lib/config-data directory file: path: /var/lib/config-data state: directory setype: svirt_sandbox_file_t selevel: s0 - name: Write kolla config json files no_log: True copy: content: ""{{ item[1] | to_nice_json }}"" dest: ""{{ item[0] }}"" force: yes mode: '0600' setype: svirt_sandbox_file_t loop: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default([], True) | from_yaml | dictsort }}"" loop_control: label: ""{{ item[0] }}"" tags: - container_startup_configs - name: gather facts needed by role setup: gather_subset: ""!min,python"" when: ansible_python is not defined tags: - container_config_tasks - name: set python_cmd set_fact: python_cmd: ""python{{ ansible_python.version.major }}"" cacheable: true when: python_cmd is not defined tags: - container_config_tasks - name: Set host puppet debugging fact string set_fact: host_puppet_config_debug: ""--debug --verbose"" when: - enable_puppet | bool - enable_debug | bool tags: - host_config - name: Check for /etc/puppet/check-mode directory for check mode stat: path: /etc/puppet/check-mode register: check_mode_dir when: ansible_check_mode|bool tags: - host_config - container_config - name: Create /etc/puppet/check-mode/hieradata directory for check mode file: path: /etc/puppet/check-mode/hieradata state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true check_mode: no when: - ansible_check_mode|bool - not check_mode_dir.stat.exists tags: - host_config - container_config - name: Create puppet check-mode files if they don't exist for check mode shell: | cp -a /etc/puppet/hiera.yaml /etc/puppet/check-mode/hiera.yaml cp -a /etc/puppet/hieradata/* /etc/puppet/check-mode/hieradata/ sed -i 's/\/etc\/puppet\/hieradata/\/etc\/puppet\/check-mode\/hieradata/' /etc/puppet/check-mode/hiera.yaml when: - ansible_check_mode|bool - not check_mode_dir.stat.exists check_mode: no tags: - host_config - container_config",316,315
openstack%2Fironic-specs~master~I5218362bdf3fb61db6df0dc5dc07061dae33fcb2,openstack/ironic-specs,master,I5218362bdf3fb61db6df0dc5dc07061dae33fcb2,Tooling for recovering nodes,ABANDONED,2016-05-23 09:54:56.000000000,2020-02-07 01:10:24.000000000,,"[{'_account_id': 3}, {'_account_id': 7711}, {'_account_id': 10239}, {'_account_id': 13362}]","[{'number': 1, 'created': '2016-05-23 09:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6f2cf335572dac175e1dd8b636156f610ea09647', 'message': 'Tooling for recovering nodes\n\nThis introduces a tool to recover nodes from -ING state\n\nPartial-Bug: #1580931\n\nChange-Id: I5218362bdf3fb61db6df0dc5dc07061dae33fcb2\n'}, {'number': 2, 'created': '2016-05-24 03:39:37.000000000', 'files': ['specs/not-implemented/tooling-for-recovering-nodes.rst', 'specs/approved/tooling-for-recorvering-nodes.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0cf1d042793ab6070dda973d71d561f33d5cf10f', 'message': 'Tooling for recovering nodes\n\nThis introduces a tool to recover nodes from -ING state\n\nPartial-Bug: #1580931\n\nChange-Id: I5218362bdf3fb61db6df0dc5dc07061dae33fcb2\n'}]",14,319812,0cf1d042793ab6070dda973d71d561f33d5cf10f,12,4,2,13362,,,0,"Tooling for recovering nodes

This introduces a tool to recover nodes from -ING state

Partial-Bug: #1580931

Change-Id: I5218362bdf3fb61db6df0dc5dc07061dae33fcb2
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/12/319812/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/tooling-for-recorvering-nodes.rst', 'specs/not-implemented/tooling-for-recorvering-nodes.rst']",2,6f2cf335572dac175e1dd8b636156f610ea09647,failing-nodes,approved/tooling-for-recorvering-nodes.rst,,165,0
openstack%2Fironic-specs~master~Ic520caa28833cde7e098a3d0f7a160e4df9cc962,openstack/ironic-specs,master,Ic520caa28833cde7e098a3d0f7a160e4df9cc962,Ironic in container infrastuctures,ABANDONED,2018-12-17 22:36:50.000000000,2020-02-07 01:09:07.000000000,,"[{'_account_id': 6133}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 18320}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-12-17 22:36:50.000000000', 'files': ['specs/not-implemented/container-infrastructure.rst', 'specs/approved/container-infrastructure.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cb3897de5726f248707eec3dcbff617f7087b577', 'message': 'Ironic in container infrastuctures\n\nChange-Id: Ic520caa28833cde7e098a3d0f7a160e4df9cc962\n'}]",70,625730,cb3897de5726f248707eec3dcbff617f7087b577,13,9,1,11655,,,0,"Ironic in container infrastuctures

Change-Id: Ic520caa28833cde7e098a3d0f7a160e4df9cc962
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/30/625730/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/container-infrastructure.rst', 'specs/approved/container-infrastructure.rst']",2,cb3897de5726f248707eec3dcbff617f7087b577,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= Container Infrastucture ======================= https://storyboard.openstack.org/#!/story/XXXXXXX OpenStack's Bare Metal as a Service project has long served to solve an important problem in the deployment and management of infrastucture. We have grown from being a project mainly utilized for the basic installation of baremetal nodes as part of a larger deployment, to a project that supports users deploying Bare Metal as part of a service, while at the same time still improving our user experience and working with vendors to improve their driver capabilities. But the foundation of OpenStack is simply one opinionated way to provide infrastucture for a process to execute. Part of this has been due to the goal of OpenStack to be infinitely expandable and as equally performant. At the same time, the capabilitites that we have don't always need all of the same supporting infrastucture. As such, we should evolve to better support living with and co-existing with containers given so many deployers of containers are already using Ironic. Problem description =================== Users want an application, such as ironic, that can be their swiss-army knife to manage thier baremetal nodes. Ironic presently requires the use of two external services to help facilitate and ensure overall redundancy. * MySQL for durable data storage which is leveraged by both the API and conductor portion of Ironic. * RabbitMQ for reliable and distributed data transport between API and conductor processeses. * A third, unnamed service, is required for load balancing and failover of API endpoints. While Conductors can reference specific API endpoints, users of the API generally want to be able to find out the status of their baremetal nodes as the scale (and redundancy requirements) of a deployment increases. As with this, Ironic is presently only available as two distinct services that work in concert. This required substrate simply makes ironic's footprint larger than may be necessary to achieve deployment where the existing infrastucture is not required or desired. Some might view the answer to simply place everything inside a container. This may be acceptable for temporary deployments, but containers are intended to be ephemeral and easily replacable which means the container can not hold anything that cannot be reconstructed. .. NOTE: Out of scope of this problem is DHCP management. This is because users can directly route DHCP to a PXE, iPXE, or URL endpoint for URL based booting. Proposed change =============== Reliable Data Storage --------------------- Provide use of an alternative back-end reliable data store such as etcd[1] which is already considered a ""base service"" which projects are free to utilize. Alternatively, and possibly preferably, we could leverage a Kubernetes Custom Resource Definition[2], which is based on etcd. Regardless of the implementation detail of where we could store our state and inventory information, we essentially would be leveraging a key/value store infrastucture for those that do not wish to utilize MySQL. Key/Value Storage ~~~~~~~~~~~~~~~~~ Given the current nature of our data storage model, where we utilize specific field types and lengths, along with a corresponding database schema that supplies the fields into that data model. It seems logical that if we approach a key/value model such that a node is an entire value. That is if we define a logical pattern to take. Example:: {""ironic-nodes-395"": {""id"": ""395"", ""name"": ""random node 395"", ""driver"": ""ipmi""... Essentially we would result with a data model that would be applied to a schema-less data store, that is reconstructed into a list of nodes with information to be utilized as the reliable storage for the node. This may require some improvement of overall workflows and patterns utilized in other parts of ironic such as those of periodic tasks, and failure handling. On a positive note, Ironic's data model and programming style has already made us well suited to enable this functionality with an intermediate layer that serves in-place of oslo.db and sqlalchemy. Intermediate Layer ~~~~~~~~~~~~~~~~~~ At the time of this being authored, All database interactions go through sqlalchemy API wrapper that ironic has in-tree to support operations. An intermediate layer would be required to map these operations to basic CRUD calls to the backend storage. This layer would be responsible for adding in missing fields to the data model that might not be present in the reliable data storage repository. One likely change is that that data model definitions will likely need default values associated with the field name, in such a way to handle new version of ironic being started. .. NOTE:: Ideally this would enable on-line upgrades of the data store, where an older version is simply unaware of newer fields. The odd transition point would be default field value changes, but that is likely unavoidable and is still a problem with data being stored in SQL. Any intermediate layer may wish to leverage local in-memory caching of data, much as database client cursors can present cached information. It is likely important to stress with this statement, that the ironic community would be doing this without consensus of the larger community, as there seems to be no agreement on use of key/value stores as back-ends for intermediate libraries like oslo.db[3]. Single Process Ironic --------------------- One of the the desired aspects of deploying Ironic into containers is to limit the existence of multiple services that are required. A single process would be ideal. For existing use patterns where RPC is utilized, the oslo.messaging library[4] supplies a ``fake`` RPC driver. It should be recognized that there are still valid deployment cases where an intermediate RPC layer is desirable and needed, but for the use case being discussed, the redundancy is managed by outside processes. Any command should be expected to be executed upon the process that the command is receieved by. This will likely require some modifications of task execution model. .. NOTE:: Locking and task execution capabilities are vitial to such model. This may be as simple as leveraging ``node.last_updated`` in order to prevent concurrent tasks execution upon the same node when multiple containers are executing with the same data source. A possible desired end state is where operators may desire the ability to spread node responsibility beyond the current hash ring concept. .. NOTE:: Conceptually similar approaches to enable distributed task execution have been proposed previously. Node Locking ------------ Possibly the most CPU intensive activity that an ironic conductor undertake is the periodic tasks where a list of nodes is loaded into mememory, and if the conductor is responsible rsponsible for the node, potentially a lock is created which is stored in the database. With a changing model, we cannot rely upon the database any longer to be instantaniously up to date. As such a DLM is required. This is a fairly strait forward item to do that has been under prior discussion[5] in the Ironic community. This work would likely best leverage etcd as a distributed lock manager implementation via tooz. Since we also need to expect that services may not be able to stop operation gracefully, or may never return with the same ``hostname``, a DLM leveraging expiring locks would absolutely be necessary to ensure proper service operation and prevent a slow degredation of capability as an environment operated over a period of time. New RPC Layer ------------- One of the critical aspects is that we enable leveraging what is in essence our RPC layer, but without placing the constraints of our current RPC infrastucture. This would introduce a new service bound in the portion of Ironic that we presently consider the conductor which would expose an authenticatable RPC endpoint, which would allow explicit commands to be transmitted to the conductor, allowing ironic to be utilized as a swiss-army knife, and decoupling our existing API for applicaiton usage as it is presently geared for operation in an OpenStack based universe. The existing API could continued to be leveraged for compatability, but where operators do not need an API, it could eventually no longer be required. Use of this RPC layer would go with the expectation that the client initiating the request, already knows the receieving conductor can suppor the request. This forces environments to either be hetrogenious or expose knowledge of conductor locality for the purposes of accessing the proper RPC endpoint to service the request. Alternative to hetrogenious environments ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Ironic could build a system that uses an intermediate key/value store or database to enable hand-off of requests with a new RPC interaction model. This likely has a greater risk and less reward for most baremetal operators which are typically declaritive in their deployments. ironic Command -------------- If we offer a route that removes the present API, or even if we keep the existing API, we still need a route that permits a user to interact with the service from a command line. Given the nature of this entire specification, it makes less sense to force all ironic CLI useage through an openstack-centric command. That being said, the community may wish to undeprecate the existing command or create a new command. A potentially useful option would be a dedicated or minimal foot-print Go API client, since Ironic can be deployed without other OpenStack services. .. NOTE:: Given the current survey reported use of ironic for deployment of container infrastructures, this seems to be a logical progression to support ironic's user base. Default Desired End State ------------------------- Prsently when new nodes are created, ironic puts them in an ``enroll`` state. An extremely useful case would be to enable an end state, along with related configuration to be operator definable, such that a newly enrolled node would be configured to reach that default end state, which may be ``active`` or just ``available``. This would be achieved through a periodic task that would trigger upon nodes in the ``enroll`` state. This periodic task would have configuration that would allow it to understand if the default is to involve introspection, or simply just to reach the end state by walking through the state machine. Optional cleaning-skip for new-deployments ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Realistically, one of the main reasons an operator would leverage such a feature is for complete hands-off deployments upon powering on a rack of nodes in a datacenter. Such nodes could go through discovery, be added to ironic, and then automatically begin being provisioned. In such cases, We likely can trust that the machine may not HAVE to undergo an initial cleaning prior to deployment. If we add this feature, this would be a logical capability that we should expose as conductor configuration. Task plugins ------------ Presently the only way to add a periodic task to ironic is to either directly edit the code, or for that periodic task to be part of a driver that is loaded. An alternative should be available. We could provide the ability for periodic tasks to be loaded from a defined list of plugins at conductor start. This would further enable operators to more tightly integrate with ironic, such as synchronizing nodes from an external system, or ultimately as proposed in the prior section, trigger nodes to deploy. Alternatives ------------ Naturally what has been proposed is quite a bit, and these items could each be a specificaiton, but build upon prior steps and potential evolutions to help solve the various problems that exist with managing baremetal while living inside of a container. As containers are the more ""DevOps"" style of deployment, it also makes further sense to expect that more developer-operators will need and want more advanced capabilities and entrypoints. That being said, each item is for discussion, and is proposed in more of a general idea form. Given how radical some of these changes are, it may best suited to reach consensus on the overall concept and proceed with proof-of-concepts to be developed. Almost a form follows function model as opposed to defining the form entirely upfront. Data model impact ----------------- What is being proposed is a massive change to underlying layers, but the goal is ultimately ensure that driver code sees no difference or has no comprehension that anything is different between a deployment in an OpenStack environment and a lightweight, or possibly highly distributed Kubernetes deployment. No migrations between the two overall data storage models are anticipated nor expected to ever be supported. State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- ""ironic"" CLI ~~~~~~~~~~~~ To be determined. ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None RPC API impact -------------- This document calls for an entirely new RPC layer to be developed. Existing RPC API interface would likely need to be augmented to enable further API parity. Driver API impact ----------------- None Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- This change proposes fairly radical changes which warrent careful piece by piece evaluation of each change made as part of this effort. Other end user impact --------------------- N/A Scalability impact ------------------ The overall theme of this is to increase the scalability and use case servability of ironic. Performance Impact ------------------ With an alternative data storage model, there will naturally be different challenges and performance model that would need to be understood. Use of pluggable and compatible interfaces should minimize impact. Other deployer impact --------------------- This proposes a set of potentially radical changes. Each change has varying impact. The change prose attemptes to convey the basic idea, and implementation details will vary based upon individual features. Developer impact ---------------- These changes may require ``etcd`` as part of a developer's environment for data storage and locking testing. The ``etcd`` service is already considered a base component for OpenStack. Additional services and software may be required for integration testing and development, however ideally testing would mirror the existing database model of ""use if available, otherwise skip"". Implementation ============== Assignee(s) ----------- Primary assignee: TBD Other contributors: TBD Work Items ---------- TBD Dependencies ============ TBD Testing ======= TBD Upgrades and Backwards Compatibility ==================================== Overall, these changes are not intended to be operationally compatible with an existing ironic deployment. The intent is to provide the same user experience. Documentation Impact ==================== TBD References ========== [1]: https://governance.openstack.org/tc/reference/base-services.html [2]: https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/ [3]: http://lists.openstack.org/pipermail/openstack-discuss/2018-December/thread.html#618 [4]: https://review.openstack.org/#/c/623569/ [5]: https://review.openstack.org/#/c/599191/ ",,435,0
openstack%2Fironic~master~I5712d18af98cf6ed28f7367032d004df3dc58d3d,openstack/ironic,master,I5712d18af98cf6ed28f7367032d004df3dc58d3d,Single process ironic,ABANDONED,2018-12-07 19:45:12.000000000,2020-02-07 01:07:26.000000000,,"[{'_account_id': 6133}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 28429}]","[{'number': 1, 'created': '2018-12-07 19:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2deae401eea860ae6fb4ff83499aab7c73d425d', 'message': '[wip] Single process ironic\n\nChange-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d\nStory: 2004526\nTask: 28269\n'}, {'number': 2, 'created': '2018-12-10 23:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0d47e26f52c3d7ad997f1111ea0ec9b0cb8c23b', 'message': 'Single process ironic\n\nAdds a new command to allow users to launch ironic with a\nfake:// transport_url and thus have a minimal footprint\nfor a single process ironic.\n\nChange-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d\nStory: 2004526\nTask: 28269\n'}, {'number': 3, 'created': '2018-12-12 03:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/568cb7402674836d73bbb7faa81cc60ed3a4d22d', 'message': ""[wip] Single process ironic\n\nAdds a new command to allow users to launch ironic with a\nfake:// transport_url and thus have a minimal footprint\nfor a single process ironic.\n\nSadly, it seems our rpc service never gets the messages\nwith the fake driver. If we're using a local rabbit though,\nthis operates without issues.\n\nChange-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d\nStory: 2004526\nTask: 28269\n""}, {'number': 4, 'created': '2018-12-12 17:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a468a02664b0ace85f9e801ea1d66ade4d84b90', 'message': ""[wip] Single process ironic\n\nAdds a new command to allow users to launch ironic with a\nfake:// transport_url and thus have a minimal footprint\nfor a single process ironic.\n\nSadly, it seems our rpc service never gets the messages\nwith the fake driver. If we're using a local rabbit though,\nthis operates without issues.\n\nChange-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d\nStory: 2004526\nTask: 28269\n""}, {'number': 5, 'created': '2018-12-12 19:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b92dd2096c1294f430121acb8cd3c1ba336974ef', 'message': ""[wip] Single process ironic\n\nAdds a new command to allow users to launch ironic with a\nfake:// transport_url and thus have a minimal footprint\nfor a single process ironic.\n\nSadly, it seems our rpc service never gets the messages\nwith the fake driver. If we're using a local rabbit though,\nthis operates without issues.\n\nChange-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d\nStory: 2004526\nTask: 28269\n""}, {'number': 6, 'created': '2018-12-12 23:53:59.000000000', 'files': ['requirements.txt', 'ironic/tests/unit/conductor/test_rpcapi.py', 'releasenotes/notes/single-process-ironic-7a8b365f927e6432.yaml', 'lower-constraints.txt', 'ironic/cmd/combined.py', 'setup.cfg', 'ironic/conductor/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/25b78d96341b73067075739a7583f2bcbee895dc', 'message': 'Single process ironic\n\nAdds a new command to allow users to launch ironic with a\nfake:// transport_url and thus have a minimal footprint\nfor a single process ironic.\n\nChange-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d\nStory: 2004526\nTask: 28269\n'}]",6,623569,25b78d96341b73067075739a7583f2bcbee895dc,48,10,6,11655,,,0,"Single process ironic

Adds a new command to allow users to launch ironic with a
fake:// transport_url and thus have a minimal footprint
for a single process ironic.

Change-Id: I5712d18af98cf6ed28f7367032d004df3dc58d3d
Story: 2004526
Task: 28269
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/623569/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/cmd/standalone.py', 'setup.cfg']",2,e2deae401eea860ae6fb4ff83499aab7c73d425d,623569, ironic-standalone = ironic.cmd.standalone:main,,58,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic10d0c28c1a98708c30a1554489b589dd8f255cd,openstack/tripleo-ansible,stable/train,Ic10d0c28c1a98708c30a1554489b589dd8f255cd,paunch: use utils.load_config(),MERGED,2020-01-09 14:40:38.000000000,2020-02-07 01:03:22.000000000,2020-02-07 01:03:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-09 14:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4e0141adbbc49fa3dbd6276468f244771f45d10', 'message': 'paunch: use utils.load_config()\n\nUse the new function that supports all use cases when loading\nconfigurations. It supports old and new formats, files and directories.\n\nDepends-On: https://review.opendev.org/701740\nChange-Id: Ic10d0c28c1a98708c30a1554489b589dd8f255cd\n(cherry picked from commit 5f138b57e311625b9ae67b61644f27b288afd188)\n'}, {'number': 2, 'created': '2020-01-10 02:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d2d2810a39f29fbebbb61e85abb3d393f710123', 'message': 'paunch: use utils.load_config()\n\nUse the new function that supports all use cases when loading\nconfigurations. It supports old and new formats, files and directories.\n\nDepends-On: https://review.opendev.org/701740\nChange-Id: Ic10d0c28c1a98708c30a1554489b589dd8f255cd\n(cherry picked from commit 5f138b57e311625b9ae67b61644f27b288afd188)\n'}, {'number': 3, 'created': '2020-01-10 16:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b064cac11a591b7eae7c28e1418fb40cf6669142', 'message': 'paunch: use utils.load_config()\n\nUse the new function that supports all use cases when loading\nconfigurations. It supports old and new formats, files and directories.\n\nDepends-On: https://review.opendev.org/#/c/701827\nChange-Id: Ic10d0c28c1a98708c30a1554489b589dd8f255cd\n(cherry picked from commit 5f138b57e311625b9ae67b61644f27b288afd188)\n'}, {'number': 4, 'created': '2020-02-03 17:46:48.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/655f7e027f834edb54566fbddfb1f6b5d9692abc', 'message': 'paunch: use utils.load_config()\n\nUse the new function that supports all use cases when loading\nconfigurations. It supports old and new formats, files and directories.\n\nDepends-On: https://review.opendev.org/#/c/701827\nChange-Id: Ic10d0c28c1a98708c30a1554489b589dd8f255cd\n(cherry picked from commit 5f138b57e311625b9ae67b61644f27b288afd188)\n'}]",0,701741,655f7e027f834edb54566fbddfb1f6b5d9692abc,24,5,4,3153,,,0,"paunch: use utils.load_config()

Use the new function that supports all use cases when loading
configurations. It supports old and new formats, files and directories.

Depends-On: https://review.opendev.org/#/c/701827
Change-Id: Ic10d0c28c1a98708c30a1554489b589dd8f255cd
(cherry picked from commit 5f138b57e311625b9ae67b61644f27b288afd188)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/701741/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/paunch.py'],1,d4e0141adbbc49fa3dbd6276468f244771f45d10,load/config/train, self.config_yaml = putils_common.load_config(self.config)," if os.path.isdir(self.config): container_configs = {} config_files = [c_json for c_json in os.listdir(self.config) if c_json.startswith('hashed-') and c_json.endswith('.json')] for cf in config_files: with open(os.path.join(self.config, cf), 'r') as f: c = re.sub('^hashed-', '', os.path.splitext(cf)[0]) container_configs[c] = {} container_configs[c].update(yaml.safe_load(f)) self.config_yaml = container_configs else: with open(self.config, 'r') as f: self.config_yaml = yaml.safe_load(f)",1,15
openstack%2Fneutron-tempest-plugin~master~I8e126d986918fd807edb09ed5c84cf225d58bf7f,openstack/neutron-tempest-plugin,master,I8e126d986918fd807edb09ed5c84cf225d58bf7f,Drop all Rocky jobs from both check and gate queues,MERGED,2020-02-06 10:43:33.000000000,2020-02-07 00:50:46.000000000,2020-02-07 00:50:45.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a9f43edd4db31bd0aea9bc0cc81ded539b9233be', 'message': ""Switch all Rocky jobs to be non-voting and non-gating\n\nIt's temporary workaround until drop py27 support drama will be\nfinally gone. We need to unblock neutron-tempest-plugin gate to\nmerge patches related to newer branches.\n\nChange-Id: I8e126d986918fd807edb09ed5c84cf225d58bf7f\n""}, {'number': 2, 'created': '2020-02-06 10:45:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/de952714e262f88c927ab6bb2cc5dfbb5daaf9c7', 'message': ""Drop all Rocky jobs from both check and gate queues\n\nIt's temporary workaround until drop py27 support drama will be\nfinally gone. We need to unblock neutron-tempest-plugin gate to\nmerge patches related to newer branches.\n\nChange-Id: I8e126d986918fd807edb09ed5c84cf225d58bf7f\n""}]",0,706228,de952714e262f88c927ab6bb2cc5dfbb5daaf9c7,16,7,2,11975,,,0,"Drop all Rocky jobs from both check and gate queues

It's temporary workaround until drop py27 support drama will be
finally gone. We need to unblock neutron-tempest-plugin gate to
merge patches related to newer branches.

Change-Id: I8e126d986918fd807edb09ed5c84cf225d58bf7f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/28/706228/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a9f43edd4db31bd0aea9bc0cc81ded539b9233be,drop-py27-support, # TODO(slaweq): switch rocky jobs to be voting when dropping py27 drama # will be finally over - neutron-tempest-plugin-api-rocky: voting: false - neutron-tempest-plugin-designate-scenario-rocky: voting: false - neutron-tempest-plugin-dvr-multinode-scenario-rocky: voting: false - neutron-tempest-plugin-scenario-linuxbridge-rocky: voting: false - neutron-tempest-plugin-scenario-openvswitch-rocky: voting: false - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky: voting: false # TODO(slaweq): bring rocky jobs back to the gate queue when dropping py27 # drama will be finally over # gate: # jobs: # - neutron-tempest-plugin-api-rocky, - neutron-tempest-plugin-api-rocky - neutron-tempest-plugin-designate-scenario-rocky - neutron-tempest-plugin-dvr-multinode-scenario-rocky - neutron-tempest-plugin-scenario-linuxbridge-rocky - neutron-tempest-plugin-scenario-openvswitch-rocky - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky gate: jobs: - neutron-tempest-plugin-api-rocky,19,9
openstack%2Fdevstack~stable%2Focata~I15942917ec96e0f0e17639ea3296e356cdfeb832,openstack/devstack,stable/ocata,I15942917ec96e0f0e17639ea3296e356cdfeb832,Support TEMPEST_BRANCH with tag name & stable u-c,MERGED,2020-02-06 01:07:23.000000000,2020-02-07 00:46:15.000000000,2020-02-07 00:46:15.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 01:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/13b8e1ad611403097e34bc401f566e65dfca6ecb', 'message': 'Support TEMPEST_BRANCH with tag name & stable u-c\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nAlso use the stable/ocata upper constraint in Tempest venv.\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: I15942917ec96e0f0e17639ea3296e356cdfeb832\n'}, {'number': 2, 'created': '2020-02-06 04:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/490198e9dc0331b7e8e8058abfddaf18a9b0f928', 'message': 'Support TEMPEST_BRANCH with tag name & stable u-c\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nAlso use the stable/ocata upper constraint in Tempest venv.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: I15942917ec96e0f0e17639ea3296e356cdfeb832\n'}, {'number': 3, 'created': '2020-02-06 21:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7b591d8721e324408d196e5d60e09d2315252f09', 'message': 'Support TEMPEST_BRANCH with tag name & stable u-c\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nAlso use the stable/ocata upper constraint in Tempest venv.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: I15942917ec96e0f0e17639ea3296e356cdfeb832\n'}, {'number': 4, 'created': '2020-02-06 23:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/289d6e7bf3acbf286e5205a7be699f3923f46632', 'message': 'Support TEMPEST_BRANCH with tag name & stable u-c\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nAlso use the stable/ocata upper constraint in Tempest venv.\n\nDepends-On: https://review.opendev.org/#/c/706178/\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: I15942917ec96e0f0e17639ea3296e356cdfeb832\n'}, {'number': 5, 'created': '2020-02-07 00:30:24.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a6a717a15e61e289b84953bbb4db9a10bcbf636', 'message': 'Support TEMPEST_BRANCH with tag name & stable u-c\n\nTEMPEST_BRANCH which is mostly set as master so\nthat Tempest master is run to test the env. With\nstable branch going to EM state and Tempest master\nmight not work due to incompatibility of code or\nrequirements. In that case we pin the Tempest so that\nolder Tempest can be used for their testing.\n\nTill now for ocata, pike and, queens we used the gerrit style\nref to pin the Tempest which is not preferred way. We should be\nable to use the tag name on TEMPEST_BRANCH.\n\nThis commit explicitly checkout the tag set in TEMPEST_BRANCH\nas git_clone does not checkout the tag directly until RECLONE\nis true or tempest dir does not exist.\n\nAfter this stable branch or job can set the tag directly with name.\nFor exmaple: TEMPEST_BRANCH=23.0.0.\n\nAlso use the stable/ocata upper constraint in Tempest venv.\n\nRelated--Bug: 1861308\n[1] https://review.opendev.org/#/c/704840/\n\nChange-Id: I15942917ec96e0f0e17639ea3296e356cdfeb832\n'}]",0,706161,4a6a717a15e61e289b84953bbb4db9a10bcbf636,18,4,5,8556,,,0,"Support TEMPEST_BRANCH with tag name & stable u-c

TEMPEST_BRANCH which is mostly set as master so
that Tempest master is run to test the env. With
stable branch going to EM state and Tempest master
might not work due to incompatibility of code or
requirements. In that case we pin the Tempest so that
older Tempest can be used for their testing.

Till now for ocata, pike and, queens we used the gerrit style
ref to pin the Tempest which is not preferred way. We should be
able to use the tag name on TEMPEST_BRANCH.

This commit explicitly checkout the tag set in TEMPEST_BRANCH
as git_clone does not checkout the tag directly until RECLONE
is true or tempest dir does not exist.

After this stable branch or job can set the tag directly with name.
For exmaple: TEMPEST_BRANCH=23.0.0.

Also use the stable/ocata upper constraint in Tempest venv.

Related--Bug: 1861308
[1] https://review.opendev.org/#/c/704840/

Change-Id: I15942917ec96e0f0e17639ea3296e356cdfeb832
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/706161/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,13b8e1ad611403097e34bc401f566e65dfca6ecb,fix-stable-gate,TEMPEST_REPO=${TEMPEST_REPO:-${GIT_BASE}/openstack/tempest.git} # Use Tempest tag 20.0.0 which is ocata supported version.TEMPEST_BRANCH=${TEMPEST_BRANCH:-20.0.0},TEMPEST_REPO=${TEMPEST_REPO:-https://review.opendev.org/openstack/tempest} # Use Tempest commit (for tag 20.0.0) which is Ocata supported version.# https://github.com/openstack/tempest/commit/a955095f8369e2e15c97a536edc1a9c077208129 TEMPEST_BRANCH=${TEMPEST_BRANCH:-refs/changes/71/645471/2},14,4
openstack%2Fironic~master~Ieee9f166406d74812c6be39cbb593099157f6847,openstack/ironic,master,Ieee9f166406d74812c6be39cbb593099157f6847,Add api history note for 1.60,ABANDONED,2020-02-07 00:12:55.000000000,2020-02-07 00:28:42.000000000,,[],"[{'number': 1, 'created': '2020-02-07 00:12:55.000000000', 'files': ['doc/source/contributor/webapi-version-history.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/57a2a8d08e03e7626605a12ee8aa295be3ba7e76', 'message': 'Add api history note for 1.60\n\nChange-Id: Ieee9f166406d74812c6be39cbb593099157f6847\n'}]",0,706414,57a2a8d08e03e7626605a12ee8aa295be3ba7e76,2,0,1,11655,,,0,"Add api history note for 1.60

Change-Id: Ieee9f166406d74812c6be39cbb593099157f6847
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/706414/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/webapi-version-history.rst'],1,57a2a8d08e03e7626605a12ee8aa295be3ba7e76,21-add-led-mgmt-api,"1.60 (Ussuri, master) --------------------- Added ``owner`` field to the allocations object.",,4,0
openstack%2Fironic~master~I3c53ca2591d92e3354efb9da99cf2ee19ea51b7d,openstack/ironic,master,I3c53ca2591d92e3354efb9da99cf2ee19ea51b7d,Disable debug output in doc building,MERGED,2020-02-06 10:28:16.000000000,2020-02-07 00:24:16.000000000,2020-02-07 00:22:41.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:28:16.000000000', 'files': ['doc/source/_exts/automated_steps.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1366bde2dbda99df5119fbc3e49f0b74084013c7', 'message': ""Disable debug output in doc building\n\nDisable the debug output, we don't need 10s of lines to display the RST\nfile during normal builds.\n\nChange-Id: I3c53ca2591d92e3354efb9da99cf2ee19ea51b7d\n""}]",2,706220,1366bde2dbda99df5119fbc3e49f0b74084013c7,11,6,1,6547,,,0,"Disable debug output in doc building

Disable the debug output, we don't need 10s of lines to display the RST
file during normal builds.

Change-Id: I3c53ca2591d92e3354efb9da99cf2ee19ea51b7d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/706220/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/automated_steps.py'],1,1366bde2dbda99df5119fbc3e49f0b74084013c7,debug-output, # print('\n'.join(result)), print('\n'.join(result)),1,1
openstack%2Ftripleo-ansible~master~I268d7b257334d78da11c37cb0ba0783fbe2021c0,openstack/tripleo-ansible,master,I268d7b257334d78da11c37cb0ba0783fbe2021c0,tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code,MERGED,2020-02-04 18:33:54.000000000,2020-02-07 00:11:15.000000000,2020-02-07 00:08:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 18:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b91e4c9502c0a61e8645399506ef40a6ae6e0d32', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 2, 'created': '2020-02-04 18:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44c69eb466c36a8e021279d575fe2c8415c7b9a2', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 3, 'created': '2020-02-04 18:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f5bd8a8b325f30bfc670caba9cbcdb1406cea8e', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 4, 'created': '2020-02-04 20:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f16cbf74b787b49675d2051696632e7c71e09941', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 5, 'created': '2020-02-04 20:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa403c1caf27d4410a1caa4c6d29f28de7c71bdd', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 6, 'created': '2020-02-04 22:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/064f7db660526a14ce429aa12c74f54c60f814f4', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 7, 'created': '2020-02-05 02:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2652ea19d2b6691bd2a457fc71f1cd435f341918', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 8, 'created': '2020-02-05 02:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/477ffce735214605e3b9bfc889e05808b6bf9366', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 9, 'created': '2020-02-05 13:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34312c610e1ad75031d5cad23b214cd08ac67fa4', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 10, 'created': '2020-02-05 16:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/105ecae0297e76ce291ca8b175373b85db4feca9', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 11, 'created': '2020-02-05 19:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05ccf57e9f8a2a34a0787f8a9e32bcf7a5b4cbf6', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 12, 'created': '2020-02-05 19:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e97cf43aeb316ddf1235ede8498c4ea33516b27', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 13, 'created': '2020-02-05 19:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d479c7d9e0270772fada1e2704d807fa778b932a', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 14, 'created': '2020-02-05 19:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/466aaf494962f5ad6e4a7fd175abea72dc1b1394', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}, {'number': 15, 'created': '2020-02-06 18:00:58.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31e1624eb150a9066480eb4d3aa3f2685e6cc549', 'message': 'tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code\n\nIf tripleo_container_manage_valid_exit_code is set to a list of codes,\nfor each container that will be created and expected to run something,\nAnsible will check that the container exited with a valid code, given in\nthe parameter.\n\nIt can be useful for the Puppet containers where the entrypoint returns\nthe code from Puppet that has run in the container.\n\nChange-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0\n'}]",11,705796,31e1624eb150a9066480eb4d3aa3f2685e6cc549,38,5,15,3153,,,0,"tripleo-container-manage: introduce tripleo_container_manage_valid_exit_code

If tripleo_container_manage_valid_exit_code is set to a list of codes,
for each container that will be created and expected to run something,
Ansible will check that the container exited with a valid code, given in
the parameter.

It can be useful for the Puppet containers where the entrypoint returns
the code from Puppet that has run in the container.

Change-Id: I268d7b257334d78da11c37cb0ba0783fbe2021c0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/705796/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-container-manage.rst', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml']",3,b91e4c9502c0a61e8645399506ef40a6ae6e0d32,exit_code,tripleo_container_manage_valid_exit_code: [],,36,1
openstack%2Fkeystoneauth~master~Ief8adcc693ff9bb4625f3bad1cbb38c55719d9ef,openstack/keystoneauth,master,Ief8adcc693ff9bb4625f3bad1cbb38c55719d9ef,Remove universal wheel configuration,MERGED,2020-02-06 17:30:35.000000000,2020-02-07 00:00:46.000000000,2020-02-06 23:58:41.000000000,"[{'_account_id': 2}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 17:30:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1fd67089f7714fcaf0df1e3db845b93272b95b15', 'message': ""Remove universal wheel configuration\n\nNow that we've dropped py2 support we shouldn't be setting this\nanymore.\n\nChange-Id: Ief8adcc693ff9bb4625f3bad1cbb38c55719d9ef\n""}]",0,706330,1fd67089f7714fcaf0df1e3db845b93272b95b15,11,4,1,6928,,,0,"Remove universal wheel configuration

Now that we've dropped py2 support we shouldn't be setting this
anymore.

Change-Id: Ief8adcc693ff9bb4625f3bad1cbb38c55719d9ef
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/30/706330/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1fd67089f7714fcaf0df1e3db845b93272b95b15,no-universal,,[wheel] universal = 1,0,2
openstack%2Fbifrost~master~I71a07193e44e7cee402a5c28b955d5da315200b6,openstack/bifrost,master,I71a07193e44e7cee402a5c28b955d5da315200b6,Fix bash syntax in test-bifrost script,MERGED,2020-01-14 10:31:48.000000000,2020-02-06 23:54:26.000000000,2020-02-06 23:53:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-14 10:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2d0d8dbe05897e2fdf977ade72407bea7ef5effc', 'message': 'Correct bash syntax in test-bifrost script\n\nSquare brackets are redundant and can deal to wrong output.\nAlso the test can be simplified using -a and removing -n for the\nsame outcome.\n\nChange-Id: I71a07193e44e7cee402a5c28b955d5da315200b6\n'}, {'number': 2, 'created': '2020-01-15 09:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cbdc807a00151b38191ca880578e3c7773062d9f', 'message': ""Always setup mysql database\n\nWe don't need a different setup for special cases anymore since\nthe Openstack CI doesn't make difference for node types anymore.\n\nChange-Id: I71a07193e44e7cee402a5c28b955d5da315200b6\n""}, {'number': 3, 'created': '2020-02-06 16:16:16.000000000', 'files': ['scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fdd5fbe2a1a6b42ac90329b3a2dfc104403d2908', 'message': 'Fix bash syntax in test-bifrost script\n\nSquare brackets are redundant and can deal to wrong output.\nAlso the test can be simplified using -a and removing -n for the\nsame outcome.\n\nChange-Id: I71a07193e44e7cee402a5c28b955d5da315200b6\n'}]",4,702390,fdd5fbe2a1a6b42ac90329b3a2dfc104403d2908,24,6,3,23851,,,0,"Fix bash syntax in test-bifrost script

Square brackets are redundant and can deal to wrong output.
Also the test can be simplified using -a and removing -n for the
same outcome.

Change-Id: I71a07193e44e7cee402a5c28b955d5da315200b6
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/90/702390/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/test-bifrost.sh'],1,2d0d8dbe05897e2fdf977ade72407bea7ef5effc,mysql-setup,"if [ ""$ZUUL_BRANCH"" != """" -a ""$ZUUL_REF"" ]; then","if [ [ ""$ZUUL_BRANCH"" != """" ] && [ -n ""$ZUUL_REF"" ] ]; then",1,1
openstack%2Ftripleo-ansible~master~I6b656df725803db0c1cdaac6f534766398a15810,openstack/tripleo-ansible,master,I6b656df725803db0c1cdaac6f534766398a15810,"Add module ""container_puppet_config""",MERGED,2020-01-14 00:42:48.000000000,2020-02-06 23:50:02.000000000,2020-02-06 23:48:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-14 00:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20653b2e5af08df76a07cd2642ceb1a26871c3fd', 'message': 'Add custom filter ""container_puppet_config""\n\ncontainer_puppet_config() filter will be useful to construct the\ncontainer data that later will be consumed by THT when building the\ncontainer puppet config data; to replace container_puppet.py and use\ntripleo-container-manage to generate these containers.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 2, 'created': '2020-01-14 00:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31624afa161db58772bf7a6d65c6bec52ce06e41', 'message': 'Add custom filter ""container_puppet_config""\n\ncontainer_puppet_config() filter will be useful to construct the\ncontainer data that later will be consumed by THT when building the\ncontainer puppet config data; to replace container_puppet.py and use\ntripleo-container-manage to generate these containers.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 3, 'created': '2020-01-15 02:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e3de8df3637a4f76828a88061e54e39eb596693', 'message': 'Add custom filter ""container_puppet_config""\n\ncontainer_puppet_config() filter will be useful to construct the\ncontainer data that later will be consumed by THT when building the\ncontainer puppet config data; to replace container_puppet.py and use\ntripleo-container-manage to generate these containers.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 4, 'created': '2020-01-15 05:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa3e6eab3baddde3cc4ab8c9a46c844dc0fbec36', 'message': 'WIP - Add custom filter ""container_puppet_config""\n\ncontainer_puppet_config() filter will be useful to construct the\ncontainer data that later will be consumed by THT when building the\ncontainer puppet config data; to replace container_puppet.py and use\ntripleo-container-manage to generate these containers.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 5, 'created': '2020-01-16 02:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c5e7cdd144e7eb42a917bf24fc22621f781c0d7f', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 6, 'created': '2020-01-16 16:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/489301e87bb70a628595952a93e8f5cf8a4f59bd', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 7, 'created': '2020-01-23 03:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29b250a707a87b12e8d96f92487e7b7a8785a135', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 8, 'created': '2020-01-23 03:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9f3a02abae50ebcff1e2a084141f423027d00e8', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 9, 'created': '2020-01-23 03:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4301c7c18cb718601add705c8beb2cdc0971f36e', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 10, 'created': '2020-01-23 03:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1519da4e8116a94e7f0ab770d7ad8a354ed2ce5c', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 11, 'created': '2020-01-23 18:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c0b380c987f527a585cd52a150bda6ed3046961', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will generate the container config files used to run\nPuppet.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 12, 'created': '2020-01-24 01:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5718bd6be88493a9eff055aa24a08b7da80e8918', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 13, 'created': '2020-01-24 01:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba19f09e979b985b3c579e1891af6dd2e2768426', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 14, 'created': '2020-01-24 19:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7a96aa1539adb0703130e9779fb1401270dbf47', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 15, 'created': '2020-01-24 20:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/150128961853f68d11a5e11dbeb20bba3a785121', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 16, 'created': '2020-01-27 00:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e8724d7b8962a1f680f236f6baf130650871132', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 17, 'created': '2020-01-27 02:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38f00dcb429392ac759901f701a2c0d4f464824c', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 18, 'created': '2020-01-27 03:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88c66bca8b77876d94b1a5b693810f5572aecfce', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 19, 'created': '2020-01-27 03:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b79603410f3565e0f7eb0b49fffadc82cb6d2121', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 20, 'created': '2020-01-27 03:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81295b6ca39be05afeefac047ce37a2597abf30d', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 21, 'created': '2020-01-27 03:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fe0e392e4874a33c0dada0ba36bb8d365bdb375', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 22, 'created': '2020-01-27 13:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06c6fe5f3b991cb24118d82bb8da5da94b034817', 'message': 'WIP - Add action plugin ""container_puppet_config""\n\nThis action plugin will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 23, 'created': '2020-01-27 17:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/408a3f5ba2593f8a42e910c20f52114d793d5672', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 24, 'created': '2020-01-27 17:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77cb4362c674a7cde7b2d1a10d176e952013ee61', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 25, 'created': '2020-01-27 19:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c679a1febe91493deec4c150194afd934fabdda', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 26, 'created': '2020-01-27 20:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/292aec553903b6e6daffcdcbef11f6bf5d552507', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 27, 'created': '2020-01-28 13:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/466e733de2eebdc8ca03204e541f0dc19a188268', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 28, 'created': '2020-01-30 01:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/630dfb1b445bea6819b839bee3a7e0ec741ac8a6', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 29, 'created': '2020-01-30 03:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ad44a612e6845cb264a1282b19c661cc75b2a35', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 30, 'created': '2020-01-30 03:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/781dc7224fb00e5d1ec72acd8d742de83d274a33', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 31, 'created': '2020-01-30 16:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f23c5f3a359589d910dcc21bb2a3b1c1930de27', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 32, 'created': '2020-01-30 16:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94831b810cbab464e79c980627f863153a9b8746', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 33, 'created': '2020-01-30 17:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f6371b50a7ec701f324f675cf7f7915db242d5f', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 34, 'created': '2020-01-30 17:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd9eea9e7388208b8db7696907c408df80103a25', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 35, 'created': '2020-01-31 00:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dacac3f74c74318df7be2b2de8e06e7f71ab7d2c', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 36, 'created': '2020-01-31 17:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a24f76c444b5b5d3e1caa718f8d36ada8e86a654', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 37, 'created': '2020-02-01 18:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e482bb0c3a105b2d8ddf868296f7691cec7b64a1', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 38, 'created': '2020-02-02 16:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5000d19bcda65c566e873d454a3b4dc979b03599', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 39, 'created': '2020-02-03 00:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b96e0ff1826103ce21597e5566f1854ca63c674d', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 40, 'created': '2020-02-03 18:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f137c459e653a46c27c50b0a13d1982415c4a98b', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 41, 'created': '2020-02-03 21:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b201749b48a9a7bcf3c45a5a18a71227130c796d', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 42, 'created': '2020-02-03 21:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aacddc0fae58e86d7f4e274649ac80f0922e31d8', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 43, 'created': '2020-02-03 22:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa42e0c69b13f07ad70d0b102bfc9f8adca11183', 'message': 'WIP - Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 44, 'created': '2020-02-04 02:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0134651f57441b21efa8b837eeb3ce4de883b956', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 45, 'created': '2020-02-04 12:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d0da328fa3945ab06f7821fc6e72e58935664bb', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 46, 'created': '2020-02-04 14:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/495f1129b69e1b08903299fd1a2444a531053363', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 47, 'created': '2020-02-04 22:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa217df8b7b6adee9214d81844b884c046aae263', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 48, 'created': '2020-02-05 16:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c64d127fd4d7f18ffff51498975ba92437e22c4d', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 49, 'created': '2020-02-05 18:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/904819d290d7e0336fba7c535af0e42c792a93e1', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 50, 'created': '2020-02-05 19:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/33871e30dd1becfb2cde14a14f49631f72f8e675', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 51, 'created': '2020-02-05 19:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a8854fd7c50180b94b1e4308468ca2829963221', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 52, 'created': '2020-02-05 19:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d6d6136b4fd82313c099091b2db486681a80c32a', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}, {'number': 53, 'created': '2020-02-06 18:00:52.000000000', 'files': ['tripleo_ansible/tests/modules/__init__.py', 'doc/source/modules/modules-container-puppet-config.rst', 'tripleo_ansible/tests/modules/test_container_puppet_config.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24e9c33ad4384a096534d3a6a286b581ecf9da4c', 'message': 'Add module ""container_puppet_config""\n\nThis module will do two things:\n\nSummary:\n\n(1) Generate container configs for each container that has a puppet\n    deployment step; and but the files in\n    /var/lib/tripleo-config/container-puppet-config\n(2) Update the container-startup-config of the containers which have a new\n    hash; so they get restarted later.\n\nDetails:\n\n(1) Here are the steps that happen to generate the puppet container\n    configs:\n\n    - Create /var/lib/tripleo-config/container-puppet-config/step_X\n    - Generate a JSON file, that is the same format as the\n      well-known container-startup-configs (which are understood by\n      Paunch and tripleo-container-manage Ansible role). It mimics\n      the logic from THT/common/container-puppet.py to add the\n      required configuration so the container can run.\n\n(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH\n    will be updated in the startup config of the container, so later\n    Paunch or tripleo-container-manage Ansible role can restart the\n    container so the config is applied.\n\nNote: it processing a bunch of files and data, so it\'s better for it to\nbe a module and not an action plugin so the file generation can be\ndelegated on to the remote nodes instead of the undercloud.\nIn the future, we\'ll try to generate container configuration directly in\nconfig-download so the data will be ready to be copied.\n\nChange-Id: I6b656df725803db0c1cdaac6f534766398a15810\n'}]",33,702315,24e9c33ad4384a096534d3a6a286b581ecf9da4c,139,7,53,3153,,,0,"Add module ""container_puppet_config""

This module will do two things:

Summary:

(1) Generate container configs for each container that has a puppet
    deployment step; and but the files in
    /var/lib/tripleo-config/container-puppet-config
(2) Update the container-startup-config of the containers which have a new
    hash; so they get restarted later.

Details:

(1) Here are the steps that happen to generate the puppet container
    configs:

    - Create /var/lib/tripleo-config/container-puppet-config/step_X
    - Generate a JSON file, that is the same format as the
      well-known container-startup-configs (which are understood by
      Paunch and tripleo-container-manage Ansible role). It mimics
      the logic from THT/common/container-puppet.py to add the
      required configuration so the container can run.

(2) If a container has a new configuration, the TRIPLEO_CONFIG_HASH
    will be updated in the startup config of the container, so later
    Paunch or tripleo-container-manage Ansible role can restart the
    container so the config is applied.

Note: it processing a bunch of files and data, so it's better for it to
be a module and not an action plugin so the file generation can be
delegated on to the remote nodes instead of the undercloud.
In the future, we'll try to generate container configuration directly in
config-download so the data will be ready to be copied.

Change-Id: I6b656df725803db0c1cdaac6f534766398a15810
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/702315/29 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",2,20653b2e5af08df76a07cd2642ceb1a26871c3fd,container-config/ansible," 'get_domain_id': self.get_domain_id, 'container_puppet_config': self.container_puppet_config def container_puppet_config(self, data): """"""Return a list of puppet configs per container. This filter takes in input a list of dicts and returns a dictionary where each item has a key from the 'config_volume'. """""" returned_dict = {} for config in data: cname = config.get('config_volume') if cname is None: raise KeyError('Missing config_volume key in ' '%s' % config) returned_dict[cname] = {} for k, v in config.items(): if k == 'config_volume': continue returned_dict[cname][k] = v return returned_dict", 'get_domain_id': self.get_domain_id,46,1
openstack%2Fopenstack-helm-images~master~Iebf1e862cb0a48a5a5eeda6ea0e8df3537eb602b,openstack/openstack-helm-images,master,Iebf1e862cb0a48a5a5eeda6ea0e8df3537eb602b,Fix source publishing and publish logic,MERGED,2020-02-06 01:25:21.000000000,2020-02-06 22:39:47.000000000,2020-02-06 22:37:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 28618}, {'_account_id': 28628}, {'_account_id': 30777}, {'_account_id': 31362}, {'_account_id': 31415}]","[{'number': 1, 'created': '2020-02-06 01:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0174f55a706c841b169ae56bb36b00b11e58f57', 'message': 'Fix source publishing and publish logic\n\nSometime recently the logic in aptly changed so that even if the\nconfiguration option ""downloadSourcePackages"" is true, the source\npackages will not be published in the resulting mirror unless the\narchitectures list includes ""source"", but adding ""source"" to the\nactual architecture list for a repo will prevent the mirror creation\nfrom functioning as most repos don\'t have a ""source"" architecture.\n\nThis change adds a new check to look at the aptly configuration file to\ndetermine if ""downloadSourcePackages"" is true, and if so then it will\nadd a flag to the publish command with the architectures from the\nconfiguration plus the ""source"" architecture.\n\nI also modified the publish command to bring it into one command while\nstill allowing it to be configurable as it was before.\n\nChange-Id: Iebf1e862cb0a48a5a5eeda6ea0e8df3537eb602b\n'}, {'number': 2, 'created': '2020-02-06 19:16:09.000000000', 'files': ['mini-mirror/tools/publish_snapshots.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e45829dc9e080c079bb155409f6f01aa7824aef8', 'message': 'Fix source publishing and publish logic\n\nSometime recently the logic in aptly changed so that even if the\nconfiguration option ""downloadSourcePackages"" is true, the source\npackages will not be published in the resulting mirror unless the\narchitectures list includes ""source"", but adding ""source"" to the\nactual architecture list for a repo will prevent the mirror creation\nfrom functioning as most repos don\'t have a ""source"" architecture.\n\nThis change adds a new check to look at the aptly configuration file to\ndetermine if ""downloadSourcePackages"" is true, and if so then it will\nadd a flag to the publish command with the architectures from the\nconfiguration plus the ""source"" architecture.\n\nI also modified the publish command to bring it into one command while\nstill allowing it to be configurable as it was before.\n\nThis also removes the ""set -x"" to limit the excessive output\n\nChange-Id: Iebf1e862cb0a48a5a5eeda6ea0e8df3537eb602b\n'}]",2,706162,e45829dc9e080c079bb155409f6f01aa7824aef8,16,8,2,28628,,,0,"Fix source publishing and publish logic

Sometime recently the logic in aptly changed so that even if the
configuration option ""downloadSourcePackages"" is true, the source
packages will not be published in the resulting mirror unless the
architectures list includes ""source"", but adding ""source"" to the
actual architecture list for a repo will prevent the mirror creation
from functioning as most repos don't have a ""source"" architecture.

This change adds a new check to look at the aptly configuration file to
determine if ""downloadSourcePackages"" is true, and if so then it will
add a flag to the publish command with the architectures from the
configuration plus the ""source"" architecture.

I also modified the publish command to bring it into one command while
still allowing it to be configurable as it was before.

This also removes the ""set -x"" to limit the excessive output

Change-Id: Iebf1e862cb0a48a5a5eeda6ea0e8df3537eb602b
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/62/706162/2 && git format-patch -1 --stdout FETCH_HEAD,['mini-mirror/tools/publish_snapshots.sh'],1,d0174f55a706c841b169ae56bb36b00b11e58f57,," # Check if the aptly config specifies to download source packages. If it # does, then we will need to create a flag to add ""source"" to the list of # architectures to ensure it is published download_source=$(cat ""${conf}"" | jq -r "".downloadSourcePackages"") if [[ ""${download_source}"" = ""true"" ]]; then architectures=$(cat ""${conf}"" | jq -r "".architectures | join(\"",\"")"") aptly publish snapshot \ ${1:+""-batch=true""} \ ${1:+""-passphrase=${1}""} \ ${architectures:+""-architectures=${architectures},source""} \ -config=""${conf}"" \ -component=""${com_list}"" \ -distribution=""${dist}"" \ -codename=""${codename}"" \ -label=""${label}"" \ ""${mirrors[@]}"" ""${source_name}"" ","set -ex if [[ ! -z ""$1"" ]]; then aptly publish snapshot \ -batch=true \ -config=""${conf}"" \ -component=""${com_list}"" \ -distribution=""${dist}"" \ -passphrase=""${1}"" \ -codename=""${codename}"" \ -label=""${label}"" \ ""${mirrors[@]}"" ""${source_name}"" else aptly publish snapshot \ -config=""${conf}"" \ -component=""${com_list}"" \ -distribution=""${dist}"" \ -codename=""${codename}"" \ -label=""${label}"" \ ""${mirrors[@]}"" ""${source_name}""",19,19
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c,openstack/tripleo-heat-templates,stable/train,I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c,container-puppet: update 'env' when not null,MERGED,2020-01-11 00:17:36.000000000,2020-02-06 22:25:20.000000000,2020-02-06 22:25:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-11 00:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/587b2bfa6966d519d2ac1d4f1b40d1bd75729225', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n(cherry picked from commit c01f383ea0283ac864b3bde63b0f424783afd1a2)\n'}, {'number': 2, 'created': '2020-02-03 17:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0feae0d168ffa563745fd3f8af7dd79ab4659f4', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n(cherry picked from commit c01f383ea0283ac864b3bde63b0f424783afd1a2)\n'}, {'number': 3, 'created': '2020-02-05 11:55:23.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd4c3f6dc981d98b33ed7a5c8166b78e6aec2c51', 'message': 'container-puppet: update \'env\' when not null\n\nOnly update ""env"" if the content isn\'t null otherwise we\'ll have\ncontainer configs with:\n""environment"": null\n\nAnd it causes problem later when we manipulate the config.\n\nChange-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c\n(cherry picked from commit c01f383ea0283ac864b3bde63b0f424783afd1a2)\n'}]",0,702058,bd4c3f6dc981d98b33ed7a5c8166b78e6aec2c51,17,6,3,3153,,,0,"container-puppet: update 'env' when not null

Only update ""env"" if the content isn't null otherwise we'll have
container configs with:
""environment"": null

And it causes problem later when we manipulate the config.

Change-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c
(cherry picked from commit c01f383ea0283ac864b3bde63b0f424783afd1a2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/702058/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,587b2bfa6966d519d2ac1d4f1b40d1bd75729225,bla," if infile_data.get('environment', None) is None: infile_data['environment'] = {} infile_data['environment'].update( {'TRIPLEO_CONFIG_HASH': config_hash} )"," infile_data.get('environment', {}).update({'TRIPLEO_CONFIG_HASH': config_hash}) env = infile_data.get('environment') infile_data['environment'] = env",5,3
openstack%2Fpython-glanceclient~master~I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb,openstack/python-glanceclient,master,I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb,Drop python 2.7 support and testing,MERGED,2019-10-30 06:55:49.000000000,2020-02-06 22:24:46.000000000,2020-02-06 22:18:16.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 06:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b1a782a42078f7a701c6372f83602c58a116f07f', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-glanceclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb\n'}, {'number': 2, 'created': '2019-10-30 06:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/964cf8b5c8cba64b328251509be3770924db7467', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-glanceclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb\n'}, {'number': 3, 'created': '2019-12-14 15:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/073edaf7603824cb4f812a29828bdde1ec01fbfd', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-glanceclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb\n'}, {'number': 4, 'created': '2020-01-22 02:38:42.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-f10417b8d1dd38fb.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/a4465dfc2268b2fc36f04a1a7e5455f6f8c92886', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-glanceclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb\n'}]",3,692046,a4465dfc2268b2fc36f04a1a7e5455f6f8c92886,18,4,4,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-glanceclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I029d10a2860c5ba371ff9c5df9b7e2c645a7dfbb
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/46/692046/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-f10417b8d1dd38fb.yaml', 'setup.cfg', 'tox.ini']",4,b1a782a42078f7a701c6372f83602c58a116f07f,drop-py27-support,"envlist = py37,pep8","envlist = py27,py37,pep8",10,25
openstack%2Fheat-cfntools~master~I23c273d0aa57e1400b383357883f298b8288897d,openstack/heat-cfntools,master,I23c273d0aa57e1400b383357883f298b8288897d,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-04 19:06:57.000000000,2020-02-06 22:20:29.000000000,2020-02-06 22:15:51.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 19:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/1b1a82d062ddd440d1006c6167d42ae392c898e1', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I23c273d0aa57e1400b383357883f298b8288897d\n'}, {'number': 2, 'created': '2020-02-04 19:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/d00d7a5a5f4751f11a5685070c6a8dc1814f5439', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nUpdate boto minimal requirement for python3 support.\n\nChange-Id: I23c273d0aa57e1400b383357883f298b8288897d\n'}, {'number': 3, 'created': '2020-02-04 19:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/3b420fdf6068568fd3d65b51f30f73debf8df3cc', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nUpdate boto,pbr minimal requirement for python3 support.\n\nChange-Id: I23c273d0aa57e1400b383357883f298b8288897d\n'}, {'number': 4, 'created': '2020-02-04 20:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/e624425ba069e74a48dcbe39fe9c0df17f665f76', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nUpdate boto,pbr minimal requirement for python3 support.\n\nChange-Id: I23c273d0aa57e1400b383357883f298b8288897d\n'}, {'number': 5, 'created': '2020-02-04 20:34:35.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.py', 'lower-constraints.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/e3457fcf7d1c8fe5df7610094cf3c0e4262adeb1', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nUpdate boto,pbr minimal requirement for python3 support.\n\nChange-Id: I23c273d0aa57e1400b383357883f298b8288897d\n'}]",0,705803,e3457fcf7d1c8fe5df7610094cf3c0e4262adeb1,15,2,5,6547,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Update boto,pbr minimal requirement for python3 support.

Change-Id: I23c273d0aa57e1400b383357883f298b8288897d
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/03/705803/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,1b1a82d062ddd440d1006c6167d42ae392c898e1,drop-py27-support,"envlist = py37,pep8 ignore_basepython_conflict = truebasepython = python3deps =-c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt","envlist = py27,py37,pep8install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} deps = -r{toxinidir}/requirements.txtbasepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",7,28
openstack%2Fheat-cfnclient~master~Ic8ebb5982135de079572cca300799a0d3c025ef3,openstack/heat-cfnclient,master,Ic8ebb5982135de079572cca300799a0d3c025ef3,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-04 19:04:52.000000000,2020-02-06 22:18:16.000000000,2020-02-06 22:18:16.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 19:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/1c00f8cd670d22363c19dcbcd59e044d0110c3d7', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ic8ebb5982135de079572cca300799a0d3c025ef3\n'}, {'number': 2, 'created': '2020-02-04 19:23:06.000000000', 'files': ['.zuul.yaml', 'setup.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/4735fbbb4f8a6ea1736e06a3303851f8cd271319', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ic8ebb5982135de079572cca300799a0d3c025ef3\n'}]",0,705801,4735fbbb4f8a6ea1736e06a3303851f8cd271319,8,2,2,6547,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ic8ebb5982135de079572cca300799a0d3c025ef3
",git fetch https://review.opendev.org/openstack/heat-cfnclient refs/changes/01/705801/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'setup.py', 'setup.cfg', 'tox.ini']",5,1c00f8cd670d22363c19dcbcd59e044d0110c3d7,drop-py27-support,"envlist = py37,pep8 ignore_basepython_conflict = true minversion = 3.1.0basepython = python3","envlist = py27,py37,pep8 minversion = 1.6install_command = pip install {opts} {packages}",7,25
openstack%2Ftripleo-common~stable%2Ftrain~I35d73e7eca6f3cc208eda5d4c78a7bdd6cd7b810,openstack/tripleo-common,stable/train,I35d73e7eca6f3cc208eda5d4c78a7bdd6cd7b810,image_uploader (attempt #3): fix images upload with no labels,MERGED,2020-01-15 18:38:09.000000000,2020-02-06 22:12:51.000000000,2020-02-06 22:09:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-15 18:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d732acb4122532fd753ea3bbd365341e4bf73b6b', 'message': ""image_uploader (attempt #3): fix images upload with no labels\n\nIf an image has no label, we set labels to {}; so to build tag_label in\nthat case we need to catch the TypeError exception or\ntag_from_label.format(**labels) will raise, since labels would be NoneType.\n\nWe could have remove the default {} for Labels; but it's better to keep\nit for further use in the image uploader; when the parameter is required\nfor certain methods.\n\nCloses-Bug: #1857012\nChange-Id: I35d73e7eca6f3cc208eda5d4c78a7bdd6cd7b810\n(cherry picked from commit 1b4f32a28ac93b5a46f36f6aa631f9d26034fb67)\n""}, {'number': 2, 'created': '2020-01-29 03:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f95fd2028c34c7afd58b186d51df3ed0fa23e72', 'message': ""image_uploader (attempt #3): fix images upload with no labels\n\nIf an image has no label, we set labels to {}; so to build tag_label in\nthat case we need to catch the TypeError exception or\ntag_from_label.format(**labels) will raise, since labels would be NoneType.\n\nWe could have remove the default {} for Labels; but it's better to keep\nit for further use in the image uploader; when the parameter is required\nfor certain methods.\n\nCloses-Bug: #1857012\nChange-Id: I35d73e7eca6f3cc208eda5d4c78a7bdd6cd7b810\n(cherry picked from commit 1b4f32a28ac93b5a46f36f6aa631f9d26034fb67)\n""}, {'number': 3, 'created': '2020-02-06 14:49:41.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bcec69e0dc1724899f0902b4deab121cf941ceaa', 'message': ""image_uploader (attempt #3): fix images upload with no labels\n\nIf an image has no label, we set labels to {}; so to build tag_label in\nthat case we need to catch the TypeError exception or\ntag_from_label.format(**labels) will raise, since labels would be NoneType.\n\nWe could have remove the default {} for Labels; but it's better to keep\nit for further use in the image uploader; when the parameter is required\nfor certain methods.\n\nCloses-Bug: #1857012\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I35d73e7eca6f3cc208eda5d4c78a7bdd6cd7b810\n(cherry picked from commit 1b4f32a28ac93b5a46f36f6aa631f9d26034fb67)\n""}]",0,702720,bcec69e0dc1724899f0902b4deab121cf941ceaa,39,5,3,3153,,,0,"image_uploader (attempt #3): fix images upload with no labels

If an image has no label, we set labels to {}; so to build tag_label in
that case we need to catch the TypeError exception or
tag_from_label.format(**labels) will raise, since labels would be NoneType.

We could have remove the default {} for Labels; but it's better to keep
it for further use in the image uploader; when the parameter is required
for certain methods.

Closes-Bug: #1857012
Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I35d73e7eca6f3cc208eda5d4c78a7bdd6cd7b810
(cherry picked from commit 1b4f32a28ac93b5a46f36f6aa631f9d26034fb67)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/702720/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,d732acb4122532fd753ea3bbd365341e4bf73b6b,train/labels," except (KeyError, TypeError) as e:", except KeyError as e:,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1cf8923a698d0f6e0b1e00a7985f363a83e914c4,openstack/tripleo-heat-templates,stable/train,I1cf8923a698d0f6e0b1e00a7985f363a83e914c4,Generate startup configs files per step and per container,MERGED,2020-01-09 20:08:19.000000000,2020-02-06 22:12:41.000000000,2020-02-06 22:12:41.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-09 20:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0418d5d22ed83e55cf87a39ff575ef5fb0403048', 'message': ""Generate startup configs files per step and per container\n\nFor each step and each container, generate a unique JSON, and Paunch\nwill be able to read them all thanks to the patch in dependency\n(tripleo-ansible).\n\nOld location:\n/var/lib/tripleo-config/container-startup-config-step1.json\nWe keep the old files for backward compatibility.\n\nNew location:\n/var/lib/tripleo-config/container-startup-config/step_1/haproxy.json\n\nNote: hashed files won't be generated for the old location anymore,\nsince it's done via container-puppet.py in which we now give the new\nlocation.\n\nStory: 2006732\nTask: 37162\nDepends-On: If0f1c6c308cd58f7baa9a8449fbf685ff10f0e0a\nChange-Id: I1cf8923a698d0f6e0b1e00a7985f363a83e914c4\n(cherry picked from commit b5a33168a7289398e499ca7f10ac2ea7680fb6ea)\n""}, {'number': 2, 'created': '2020-01-10 02:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/774e548cb9651070fbf807f63b2620fcf4eec9d6', 'message': ""Generate startup configs files per step and per container\n\nFor each step and each container, generate a unique JSON, and Paunch\nwill be able to read them all thanks to the patch in dependency\n(tripleo-ansible).\n\nOld location:\n/var/lib/tripleo-config/container-startup-config-step1.json\nWe keep the old files for backward compatibility.\n\nNew location:\n/var/lib/tripleo-config/container-startup-config/step_1/haproxy.json\n\nNote: hashed files won't be generated for the old location anymore,\nsince it's done via container-puppet.py in which we now give the new\nlocation.\n\nStory: 2006732\nTask: 37162\nDepends-On: https://review.opendev.org/#/c/701741/\nChange-Id: I1cf8923a698d0f6e0b1e00a7985f363a83e914c4\n(cherry picked from commit b5a33168a7289398e499ca7f10ac2ea7680fb6ea)\n""}, {'number': 3, 'created': '2020-01-10 16:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e1170bff87eaed7d7bd52b9fc85dd96f4ed1129', 'message': ""Generate startup configs files per step and per container\n\nFor each step and each container, generate a unique JSON, and Paunch\nwill be able to read them all thanks to the patch in dependency\n(tripleo-ansible).\n\nOld location:\n/var/lib/tripleo-config/container-startup-config-step1.json\nWe keep the old files for backward compatibility.\n\nNew location:\n/var/lib/tripleo-config/container-startup-config/step_1/haproxy.json\n\nNote: hashed files won't be generated for the old location anymore,\nsince it's done via container-puppet.py in which we now give the new\nlocation.\n\nStory: 2006732\nTask: 37162\nChange-Id: I1cf8923a698d0f6e0b1e00a7985f363a83e914c4\n(cherry picked from commit b5a33168a7289398e499ca7f10ac2ea7680fb6ea)\n""}, {'number': 4, 'created': '2020-02-03 17:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a9d3f98727da8edc6a5027b0cd89dfc9e48ba23', 'message': ""Generate startup configs files per step and per container\n\nFor each step and each container, generate a unique JSON, and Paunch\nwill be able to read them all thanks to the patch in dependency\n(tripleo-ansible).\n\nOld location:\n/var/lib/tripleo-config/container-startup-config-step1.json\nWe keep the old files for backward compatibility.\n\nNew location:\n/var/lib/tripleo-config/container-startup-config/step_1/haproxy.json\n\nNote: hashed files won't be generated for the old location anymore,\nsince it's done via container-puppet.py in which we now give the new\nlocation.\n\nStory: 2006732\nTask: 37162\nChange-Id: I1cf8923a698d0f6e0b1e00a7985f363a83e914c4\n(cherry picked from commit b5a33168a7289398e499ca7f10ac2ea7680fb6ea)\n""}, {'number': 5, 'created': '2020-02-05 11:55:06.000000000', 'files': ['common/container-puppet.py', 'common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87d994905393f1477e6e8d3441297bd8f7c5a2b3', 'message': ""Generate startup configs files per step and per container\n\nFor each step and each container, generate a unique JSON, and Paunch\nwill be able to read them all thanks to the patch in dependency\n(tripleo-ansible).\n\nOld location:\n/var/lib/tripleo-config/container-startup-config-step1.json\nWe keep the old files for backward compatibility.\n\nNew location:\n/var/lib/tripleo-config/container-startup-config/step_1/haproxy.json\n\nNote: hashed files won't be generated for the old location anymore,\nsince it's done via container-puppet.py in which we now give the new\nlocation.\n\nStory: 2006732\nTask: 37162\nChange-Id: I1cf8923a698d0f6e0b1e00a7985f363a83e914c4\n(cherry picked from commit b5a33168a7289398e499ca7f10ac2ea7680fb6ea)\n""}]",0,701827,87d994905393f1477e6e8d3441297bd8f7c5a2b3,25,7,5,3153,,,0,"Generate startup configs files per step and per container

For each step and each container, generate a unique JSON, and Paunch
will be able to read them all thanks to the patch in dependency
(tripleo-ansible).

Old location:
/var/lib/tripleo-config/container-startup-config-step1.json
We keep the old files for backward compatibility.

New location:
/var/lib/tripleo-config/container-startup-config/step_1/haproxy.json

Note: hashed files won't be generated for the old location anymore,
since it's done via container-puppet.py in which we now give the new
location.

Story: 2006732
Task: 37162
Change-Id: I1cf8923a698d0f6e0b1e00a7985f363a83e914c4
(cherry picked from commit b5a33168a7289398e499ca7f10ac2ea7680fb6ea)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/701827/5 && git format-patch -1 --stdout FETCH_HEAD,"['common/container-puppet.py', 'common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml']",5,0418d5d22ed83e55cf87a39ff575ef5fb0403048,split-stable/train," # This file location is deprecated and the new location is now: # /var/lib/tripleo-config/container-startup-config/step_X/<container_name>.json # Can be removed in V cycle - name: Write /var/lib/tripleo-config/container-startup-config-readme.txt no_log: True copy: content: ""Container startup configs moved to /var/lib/tripleo-config/container-startup-config"" dest: /var/lib/tripleo-config/container-startup-config-readme.txt force: yes mode: '0600' tags: - container_startup_configs # For backward compatibility, the files are still generated. # However, container_puppet.py won't create their hashed version if # config changed. - name: Write per-step container startup configs for backward compatibility - name: Generate startup configs files per step and per container no_log: True include_tasks: container_startup_configs_tasks.yaml loop: ""{{ container_config_with_default | dictsort }}"" tags: - container_startup_configs ", - name: Write per-step container startup configs,64,15
openstack%2Ftripleo-upgrade~stable%2Ftrain~I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1,openstack/tripleo-upgrade,stable/train,I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1,Remove GlanceRegistry service from roles_data.,MERGED,2020-02-04 12:22:42.000000000,2020-02-06 22:12:40.000000000,2020-02-06 22:12:40.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-04 12:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b0368169a79be9f5d92883aee0446db509b01c14', 'message': 'Remove GlanceRegistry service from roles_data.\n\nGlanceRegistry templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the GlanceRegistry service.\n\n[0] - I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca\n\nChange-Id: I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1\n'}, {'number': 2, 'created': '2020-02-06 14:53:03.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/679793987101bc3a840ffb0e35b7961fd53b5390', 'message': 'Remove GlanceRegistry service from roles_data.\n\nGlanceRegistry templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the GlanceRegistry service.\n\n[0] - I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca\n\nDepends-On: https://review.opendev.org/#/c/706196/\nChange-Id: I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1\n'}]",0,705648,679793987101bc3a840ffb0e35b7961fd53b5390,13,5,2,11090,,,0,"Remove GlanceRegistry service from roles_data.

GlanceRegistry templates where removed completely in Stein [0].
Therefore, there is no need to keep the service inside
any customized roles_data.

This patch parses the customized roles_data passed during
the upgrade prepare step and removes the GlanceRegistry service.

[0] - I548816e3f2d8b9deed8a6f0ba3e203f84ad3d9ca

Depends-On: https://review.opendev.org/#/c/706196/
Change-Id: I7660ae3d3fa4f1da54a6737bf3e8d0daa8191aa1
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/48/705648/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,b0368169a79be9f5d92883aee0446db509b01c14,,"- name: drop GlanceRegistry service replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::GlanceRegistry$)' replace: '' ",,6,0
openstack%2Fnova~master~I33c51ef924a91e4e3c7506f772120c24da5901cf,openstack/nova,master,I33c51ef924a91e4e3c7506f772120c24da5901cf,Disallow specifying a default= on new Columns in schema changes,NEW,2020-02-06 18:34:09.000000000,2020-02-06 22:08:36.000000000,,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 18:34:09.000000000', 'files': ['nova/tests/unit/db/test_migrations.py', 'nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f92430060322df551811aad1dc472ae06601d21d', 'message': 'Disallow specifying a default= on new Columns in schema changes\n\nWe learned in bug 1862205 that specifying default= on a Column in a schema\nmigration will actually attempt to rewrite the table in order to set the\ndefault on existing rows. This can fail on large data sets, but apparently\nnot abort the migration. As a result, we can emerge from an upgrade with\nunmigrated rows, and the SQLA models will not translate NULL values to the\ndefault for us, leading to unexpected behavior.\n\nGoing forward, we should ban the use of default= in schema migrations to\navoid this cropping up late. This change makes our existing fixture which\ndisallows things like ALTER and DROP also intercept Column definitions in\nschema migrations and refuse to allow default= after migration 399.\n\nChange-Id: I33c51ef924a91e4e3c7506f772120c24da5901cf\nRelated-Bug: #1862205\n'}]",1,706351,f92430060322df551811aad1dc472ae06601d21d,7,6,1,4393,,,0,"Disallow specifying a default= on new Columns in schema changes

We learned in bug 1862205 that specifying default= on a Column in a schema
migration will actually attempt to rewrite the table in order to set the
default on existing rows. This can fail on large data sets, but apparently
not abort the migration. As a result, we can emerge from an upgrade with
unmigrated rows, and the SQLA models will not translate NULL values to the
default for us, leading to unexpected behavior.

Going forward, we should ban the use of default= in schema migrations to
avoid this cropping up late. This change makes our existing fixture which
disallows things like ALTER and DROP also intercept Column definitions in
schema migrations and refuse to allow default= after migration 399.

Change-Id: I33c51ef924a91e4e3c7506f772120c24da5901cf
Related-Bug: #1862205
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/706351/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_migrations.py', 'nova/tests/fixtures.py']",2,f92430060322df551811aad1dc472ae06601d21d,bug/1862205,"from sqlalchemy import Column def __init__(self, banned_resources=None, column_default_banned=True): self._column_default_banned = column_default_banned # We need to subclass Column instead of just provide a # callable intercept because the class is passed to # things by our parents in oslo.db which check for # inheritance class UndefaultableColumn(Column): def __init__(self, *args, **kwargs): if 'default' in kwargs: raise exception.DBNotAllowed( 'Columns in schema migrations may not have default= ' 'because doing so requires a table rewrite.') super(UndefaultableColumn, self).__init__(*args, **kwargs) if self._column_default_banned: self.useFixture(fixtures.MonkeyPatch( 'sqlalchemy.Column', UndefaultableColumn)) "," def __init__(self, banned_resources=None):",32,2
openstack%2Ftripleo-quickstart-extras~master~I13050fef0e2b10ed5c6585d2b7ee88929e7199a4,openstack/tripleo-quickstart-extras,master,I13050fef0e2b10ed5c6585d2b7ee88929e7199a4,Disable stackviz for tempest on python2,MERGED,2020-02-06 08:36:04.000000000,2020-02-06 21:59:46.000000000,2020-02-06 17:53:42.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 6683}, {'_account_id': 6816}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 08:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/06e344a4aba5603728ed09ce4aa7ff25adaa631d', 'message': ""Disable stackviz for tempest on python2\n\nstackviz installed for tempest in virtualenv pulls\nit's dependencies also from upstream constrains,\nbut that already dropped python2 support\nand it then fails e.g. on unable to find proper version of oslo.db\n\nhttps://bugs.launchpad.net/tripleo/+bug/1862134\n\nChange-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4\nCloses-Bug: 1862134\n""}, {'number': 2, 'created': '2020-02-06 08:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4c0ffa34a047c96332f295c0ffab0b371f9e01c', 'message': ""Disable stackviz for tempest on python2\n\nstackviz installed for tempest in virtualenv pulls\nit's dependencies also from upstream constrains,\nbut that already dropped python2 support\nand it then fails e.g. on unable to find proper version of oslo.db\n\nhttps://bugs.launchpad.net/tripleo/+bug/1862134\n\nChange-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4\nCloses-Bug: 1862134\n""}, {'number': 3, 'created': '2020-02-06 08:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d69a29af21a25cf048fe238903ba8daac589e53c', 'message': ""Disable stackviz for tempest on python2\n\nstackviz installed for tempest in virtualenv pulls\nit's dependencies also from upstream constrains,\nbut that already dropped python2 support\nand it then fails e.g. on unable to find proper version of oslo.db\n\nhttps://bugs.launchpad.net/tripleo/+bug/1862134\n\nChange-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4\nCloses-Bug: 1862134\n""}, {'number': 4, 'created': '2020-02-06 09:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6f9c7f2e95a30b968debdd7fa6ef63e586f7d1a2', 'message': ""Disable stackviz for tempest on python2\n\nstackviz installed for tempest in virtualenv pulls\nit's dependencies also from upstream constrains,\nbut that already dropped python2 support\nand it then fails e.g. on unable to find proper version of oslo.db\n\nhttps://bugs.launchpad.net/tripleo/+bug/1862134\n\nChange-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4\nCloses-Bug: 1862134\n""}, {'number': 5, 'created': '2020-02-06 11:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a9d9ea16bad75f1bc4a743a39f2d8278d77c6566', 'message': ""Disable stackviz for tempest on python2\n\nstackviz installed for tempest in virtualenv pulls\nit's dependencies also from upstream constrains,\nbut that already dropped python2 support\nand it then fails e.g. on unable to find proper version of oslo.db\n\nhttps://bugs.launchpad.net/tripleo/+bug/1862134\n\nChange-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4\nCloses-Bug: 1862134\n""}, {'number': 6, 'created': '2020-02-06 11:48:01.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bb5afff49caa54a9eb67a9ab88d71b94bcc4a39b', 'message': ""Disable stackviz for tempest on python2\n\nstackviz installed for tempest in virtualenv pulls\nit's dependencies also from upstream constrains,\nbut that already dropped python2 support\nand it then fails e.g. on unable to find proper version of oslo.db\n\nSince os_tempest is installed from master, upstream requirements is\nused and that's why it is also breaking train jobs.\n\nhttps://bugs.launchpad.net/tripleo/+bug/1862134\n\nChange-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4\nCloses-Bug: 1862134\n""}]",7,706196,bb5afff49caa54a9eb67a9ab88d71b94bcc4a39b,38,12,6,6683,,,0,"Disable stackviz for tempest on python2

stackviz installed for tempest in virtualenv pulls
it's dependencies also from upstream constrains,
but that already dropped python2 support
and it then fails e.g. on unable to find proper version of oslo.db

Since os_tempest is installed from master, upstream requirements is
used and that's why it is also breaking train jobs.

https://bugs.launchpad.net/tripleo/+bug/1862134

Change-Id: I13050fef0e2b10ed5c6585d2b7ee88929e7199a4
Closes-Bug: 1862134
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/96/706196/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,06e344a4aba5603728ed09ce4aa7ff25adaa631d,,"# stackviz in venv pulls oslo.db due upstream constraints, # but it dropped py2 support so on such system we need to skip it # https://bugs.launchpad.net/tripleo/+bug/1862134 - name: ""disable stackviz in python2 environment"" set_fact: tempest_run_stackviz: false when: - release|default('master') == master - (ansible_distribution == ""RedHat"" or ansible_distribution == ""CentOS"") - ansible_distribution_major_version|int == 7 ",,11,0
openstack%2Foctavia~stable%2Ftrain~I2f00e9402d1e7763ff59de1aa366fb2917d44326,openstack/octavia,stable/train,I2f00e9402d1e7763ff59de1aa366fb2917d44326,DNM: debugging zuul issue,ABANDONED,2020-02-06 19:46:41.000000000,2020-02-06 21:46:35.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 19:46:41.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b71df395db0add7a0a950548cdbad61cc369062', 'message': 'DNM: debugging zuul issue\n\nChange-Id: I2f00e9402d1e7763ff59de1aa366fb2917d44326\n'}]",2,706372,1b71df395db0add7a0a950548cdbad61cc369062,4,2,1,11628,,,0,"DNM: debugging zuul issue

Change-Id: I2f00e9402d1e7763ff59de1aa366fb2917d44326
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/706372/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,1b71df395db0add7a0a950548cdbad61cc369062,, - job: name: openstack-octavia-amphora-image-build run: playbooks/image-build/run.yaml required-projects: - openstack/octavia - openstack/octavia-lib vars: amphora_os: ubuntu amphora_os_release: bionic - job: name: openstack-octavia-amphora-image-build-train parent: openstack-octavia-amphora-image-build override-checkout: stable/train,,83,67
openstack%2Foctavia~master~I18700c7a17791705d0c55ccd24a10d6494313abc,openstack/octavia,master,I18700c7a17791705d0c55ccd24a10d6494313abc,Add periodic image build jobs for stable branches,ABANDONED,2020-02-06 17:30:02.000000000,2020-02-06 21:28:30.000000000,,"[{'_account_id': 6547}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 17:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8e7d26a50acb84a5640c8e5fd1b27119af2cf9a7', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 2, 'created': '2020-02-06 17:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/78d55032c396104d032eb68613887c5781c38ffa', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 3, 'created': '2020-02-06 17:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f819ecbd591d2403148191cd23b4e737227a250c', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 4, 'created': '2020-02-06 17:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c6e05e93c9549dec44332ac089142e6ca95e79d6', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 5, 'created': '2020-02-06 17:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8cba6d89aa3d7b8bdfcb89e77e943e9a258e9267', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 6, 'created': '2020-02-06 17:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/85eb8b342213de4820f9dba41c4d2ea75fd80a5d', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 7, 'created': '2020-02-06 17:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7e052f8eaa9669193da51ece2d0f73f1145a52f3', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 8, 'created': '2020-02-06 17:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4a0415e25ca93746b45349475a3e66a53ca8f5ff', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 9, 'created': '2020-02-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0c09e8c25e825773ee91693be2d599bd3d311299', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 10, 'created': '2020-02-06 18:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/caca7a352b6769fad7b866dac61ea1a5a1cf81d7', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 11, 'created': '2020-02-06 18:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b7db7035a11b82dc436ed489d778c5434947c6c6', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 12, 'created': '2020-02-06 19:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7d7693994d38940ad83d4875c34b3c028f3c6c7b', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 13, 'created': '2020-02-06 19:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5b4f71a301a9b83606350d8dfe8f7d9b8219423c', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}, {'number': 14, 'created': '2020-02-06 19:22:34.000000000', 'files': ['playbooks/image-build/run.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a4f792fc7b65aa1916a7d3dd3e0e638bd23c1573', 'message': 'Add periodic image build jobs for stable branches\n\nThis patch adds periodic jobs that build the amphora image for the\nstable branches. It will used the released version of\ndiskimage-builder instead of the Git master version.\nThese jobs will not publish the images, but only test that they\nbuild successfully.\n\nChange-Id: I18700c7a17791705d0c55ccd24a10d6494313abc\n'}]",5,706329,a4f792fc7b65aa1916a7d3dd3e0e638bd23c1573,21,3,14,11628,,,0,"Add periodic image build jobs for stable branches

This patch adds periodic jobs that build the amphora image for the
stable branches. It will used the released version of
diskimage-builder instead of the Git master version.
These jobs will not publish the images, but only test that they
build successfully.

Change-Id: I18700c7a17791705d0c55ccd24a10d6494313abc
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/706329/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,8e7d26a50acb84a5640c8e5fd1b27119af2cf9a7,," # Note: This is intended as a periodic job that builds the image for stable # branches, using the released diskimage-builder instead of Git master. # This will not publish the image built. - job: name: openstack-octavia-amphora-image-build run: playbooks/image-build/run.yaml required-projects: - openstack/octavia - openstack/octavia-lib - job: name: openstack-octavia-amphora-image-build-train parent: openstack-octavia-amphora-image-build override-checkout: stable/train - job: name: openstack-octavia-amphora-image-build-stein parent: openstack-octavia-amphora-image-build override-checkout: stable/stein - job: name: openstack-octavia-amphora-image-build-rocky parent: openstack-octavia-amphora-image-build override-checkout: stable/rocky - job: name: openstack-octavia-amphora-image-build-queens parent: openstack-octavia-amphora-image-build override-checkout: stable/queens",,40,0
openstack%2Fcinder~master~I476094ef14d31339afb76da484bef3fdc1be876e,openstack/cinder,master,I476094ef14d31339afb76da484bef3fdc1be876e,Update reviewing doc with py3 usage guidelines,MERGED,2020-01-21 23:34:35.000000000,2020-02-06 20:52:38.000000000,2020-02-06 20:41:12.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-01-21 23:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff8519da923e7866547ba16a6843daf27986b9b0', 'message': 'Update reviewing doc with py3 usage guidelines\n\nThis first patch set is to get the discussion started.  Please\nleave revisions or additional guidelines as comments on this review.\n\nChange-Id: I476094ef14d31339afb76da484bef3fdc1be876e\n'}, {'number': 2, 'created': '2020-01-29 16:50:14.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c542eed7a5eae226300a1409ecdd65d4414d84f', 'message': 'Update reviewing doc with py3 usage guidelines\n\nAdded reviewer guidelines and added a link to the main docs page.\nAlso adjusted the level of headings on the the main docs page so\nthey make sense in the ""Page Contents"" sidebar.\n\nChange-Id: I476094ef14d31339afb76da484bef3fdc1be876e\n'}]",4,703709,2c542eed7a5eae226300a1409ecdd65d4414d84f,60,27,2,5314,,,0,"Update reviewing doc with py3 usage guidelines

Added reviewer guidelines and added a link to the main docs page.
Also adjusted the level of headings on the the main docs page so
they make sense in the ""Page Contents"" sidebar.

Change-Id: I476094ef14d31339afb76da484bef3fdc1be876e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/703709/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,ff8519da923e7866547ba16a6843daf27986b9b0,reviewing-six,"The Great Change ---------------- With the demise of Python 2.7 in January 2020, beginning with the Ussuri development cycle, Cinder only needs to support Python 3 runtimes (in particular, 3.6 and 3.7). Thus we can begin to incorporate Python 3 language features and remove Python 2 compatibility code. At the same time, however, we are still supporting stable branches that must support Python 2. Our biggest interaction with the stable branches is backporting bugfixes, where in the ideal case, we're just doing a simple cherry-pick of a commit from master to the stable branches. You can see that there's some tension here. With that in mind, here are some guidelines for reviewers and developers that the Cinder community has agreed on during this phase where we want to write pure Python 3 but still must support Python 2 code. .. _transition-guidelines: Python 2 to Python 3 transition guidelines ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * we need to be checking the code coverage of test cases very carefully so that new code has excellent coverage and will be likely to fail when tested with py2 in stable branches when a backport is proposed * new features can use py3 language constructs, but bugfixes likely to be backported should be more conservative and write for py2 compatabilty * the code for drivers may continue to use the six compatiblity library at their discretion * we will not remove six from mainline Cinder code that impacts the drivers (for example, classes they inherit from) * we can remove six from code that doesn't impact drivers, keeping in mind that backports may be more problematic, and hence making sure that we have really good test coverage ",,35,0
openstack%2Frequirements~master~Ie075d2a9962f0fc837894586f18d5add3ddfb0d0,openstack/requirements,master,Ie075d2a9962f0fc837894586f18d5add3ddfb0d0,update constraint for reno to new release 3.0.0,MERGED,2020-02-05 15:58:16.000000000,2020-02-06 20:43:09.000000000,2020-02-06 20:41:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 15:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3a7b8e0363bc5a140be3f12e0c5176ca4d827dd', 'message': 'update constraint for reno to new release 3.0.0\n\nChange-Id: Ie075d2a9962f0fc837894586f18d5add3ddfb0d0\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Andreas Jaeger <aj@suse.com>\nmeta:release:Commit: Andreas Jaeger <aj@suse.com>\nmeta:release:Change-Id: Ia8f07af5313c64b22bc29e919bc3b491f3d1dd87\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-05 22:22:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/50703abfacad0266cc7ccc2d319d1f24787459b1', 'message': 'update constraint for reno to new release 3.0.0\n\nDepends-on: https://review.opendev.org/706137\n\nChange-Id: Ie075d2a9962f0fc837894586f18d5add3ddfb0d0\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Andreas Jaeger <aj@suse.com>\nmeta:release:Commit: Andreas Jaeger <aj@suse.com>\nmeta:release:Change-Id: Ia8f07af5313c64b22bc29e919bc3b491f3d1dd87\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,705994,50703abfacad0266cc7ccc2d319d1f24787459b1,11,2,2,11131,,,0,"update constraint for reno to new release 3.0.0

Depends-on: https://review.opendev.org/706137

Change-Id: Ie075d2a9962f0fc837894586f18d5add3ddfb0d0
meta:version: 3.0.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Andreas Jaeger <aj@suse.com>
meta:release:Commit: Andreas Jaeger <aj@suse.com>
meta:release:Change-Id: Ia8f07af5313c64b22bc29e919bc3b491f3d1dd87
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/705994/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c3a7b8e0363bc5a140be3f12e0c5176ca4d827dd,new-release,reno===3.0.0,reno===2.11.3,1,1
openstack%2Fkeystone~master~I2911caa169e063fdaf06933598b52bbb7f5f338a,openstack/keystone,master,I2911caa169e063fdaf06933598b52bbb7f5f338a,Updating tox -e all-plugin command,MERGED,2020-01-21 10:32:12.000000000,2020-02-06 20:19:43.000000000,2020-02-06 20:12:11.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 10:32:12.000000000', 'files': ['doc/source/contributor/testing-keystone.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9fed446b0a4f3c7911730b420661ec9ca927ebbe', 'message': 'Updating tox -e all-plugin command\n\nall-plugin is deprecated and is going to be removed soon.\nIt is being replaced by ""all"" [1].\n\n[1] https://github.com/openstack/tempest/blob/181a26d25872e349ab552724c8d94bd4436868fb/tox.ini#L82\n\nChange-Id: I2911caa169e063fdaf06933598b52bbb7f5f338a\n'}]",0,703578,9fed446b0a4f3c7911730b420661ec9ca927ebbe,8,3,1,27621,,,0,"Updating tox -e all-plugin command

all-plugin is deprecated and is going to be removed soon.
It is being replaced by ""all"" [1].

[1] https://github.com/openstack/tempest/blob/181a26d25872e349ab552724c8d94bd4436868fb/tox.ini#L82

Change-Id: I2911caa169e063fdaf06933598b52bbb7f5f338a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/78/703578/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing-keystone.rst'],1,9fed446b0a4f3c7911730b420661ec9ca927ebbe,, tox -e all -- keystone_tempest_plugin, tox -e all-plugin -- keystone_tempest_plugin,1,1
openstack%2Fswift~master~Id1c54915ebe43f2b46f611a95109d2ab0d02d34d,openstack/swift,master,Id1c54915ebe43f2b46f611a95109d2ab0d02d34d,Remove reno from test-requirements,MERGED,2020-02-05 22:22:22.000000000,2020-02-06 20:16:55.000000000,2020-02-06 20:12:15.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 22:22:22.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/baaa5c57e18da5e7d4baa79e1b5420621c7adf0b', 'message': 'Remove reno from test-requirements\n\nReno is only needed for building release notes. Reno has now dropped py2\nsupport, so attempts to install all requirements for py27 jobs fail with\nthe latest reno release.\n\nReno is already correctly listed in doc/requirements.txt, so this just\nremoves the unnecessary entry in test-requirements.txt.\n\nNeed-by: https://review.opendev.org/705994\n\nChange-Id: Id1c54915ebe43f2b46f611a95109d2ab0d02d34d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706137,baaa5c57e18da5e7d4baa79e1b5420621c7adf0b,7,2,1,11904,,,0,"Remove reno from test-requirements

Reno is only needed for building release notes. Reno has now dropped py2
support, so attempts to install all requirements for py27 jobs fail with
the latest reno release.

Reno is already correctly listed in doc/requirements.txt, so this just
removes the unnecessary entry in test-requirements.txt.

Need-by: https://review.opendev.org/705994

Change-Id: Id1c54915ebe43f2b46f611a95109d2ab0d02d34d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/706137/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,baaa5c57e18da5e7d4baa79e1b5420621c7adf0b,reno,,reno>=1.8.0 # Apache-2.0,0,1
openstack%2Fkeystone~master~I0299d39dc8fca0e91acd277856aaf267bea50c1d,openstack/keystone,master,I0299d39dc8fca0e91acd277856aaf267bea50c1d,Add domain admin grant test cases,MERGED,2020-02-05 21:25:13.000000000,2020-02-06 20:16:27.000000000,2020-02-06 20:12:08.000000000,"[{'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:25:13.000000000', 'files': ['keystone/tests/protection/v3/test_grants.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3aacc4dfe771fa7ab52af8d694e5f125933b8fae', 'message': 'Add domain admin grant test cases\n\nThis commit adds two test cases for domain administrator, specifically\nto check that they can add users and groups to their own domain.\n\nChange-Id: I0299d39dc8fca0e91acd277856aaf267bea50c1d\n'}]",0,706120,3aacc4dfe771fa7ab52af8d694e5f125933b8fae,8,4,1,5046,,,0,"Add domain admin grant test cases

This commit adds two test cases for domain administrator, specifically
to check that they can add users and groups to their own domain.

Change-Id: I0299d39dc8fca0e91acd277856aaf267bea50c1d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/706120/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/protection/v3/test_grants.py'],1,3aacc4dfe771fa7ab52af8d694e5f125933b8fae,," def test_can_create_grant_for_user_own_domain_on_own_domain(self): user = PROVIDERS.identity_api.create_user( unit.new_user_ref(domain_id=self.domain_id) ) with self.test_client() as c: c.put( '/v3/domains/%s/users/%s/roles/%s' % ( self.domain_id, user['id'], self.bootstrapper.reader_role_id ), headers=self.headers ) def test_can_create_grant_for_group_own_domain_on_own_domain(self): group = PROVIDERS.identity_api.create_group( unit.new_group_ref(domain_id=self.domain_id) ) with self.test_client() as c: c.put( '/v3/domains/%s/groups/%s/roles/%s' % ( self.domain_id, group['id'], self.bootstrapper.reader_role_id ), headers=self.headers ) ",,28,0
openstack%2Foctavia~master~I693db277d802b2a54084cc1be11d8ce04ad9be2e,openstack/octavia,master,I693db277d802b2a54084cc1be11d8ce04ad9be2e,Complete dropping py27 support goal,MERGED,2020-01-08 21:22:52.000000000,2020-02-06 19:56:19.000000000,2020-02-06 19:54:18.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 4694}, {'_account_id': 6469}, {'_account_id': 6547}, {'_account_id': 7249}, {'_account_id': 8556}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-08 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7d0cbc24bfc1735df1939ac82f9562b69f4c9533', 'message': 'Complete dropping py27 support goal\n\nThis takes care of the last details for dropping py27\nsupport by adding a proper min version of python in\nsetup.cfg and removing basepython = python3 lines in tox.ini.\n\nChange-Id: I693db277d802b2a54084cc1be11d8ce04ad9be2e\n'}, {'number': 2, 'created': '2020-01-16 16:45:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4af42f837fbbf75585fd3525df27002c7a5da69a', 'message': 'Complete dropping py27 support goal\n\nThis takes care of the last details for dropping py27\nsupport by adding a proper min version of python in setup.cfg.\n\nChange-Id: I693db277d802b2a54084cc1be11d8ce04ad9be2e\n'}]",0,701621,4af42f837fbbf75585fd3525df27002c7a5da69a,17,13,2,1131,,,0,"Complete dropping py27 support goal

This takes care of the last details for dropping py27
support by adding a proper min version of python in setup.cfg.

Change-Id: I693db277d802b2a54084cc1be11d8ce04ad9be2e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/701621/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,7d0cbc24bfc1735df1939ac82f9562b69f4c9533,drop-py27-support,,basepython = python3,6,6
openstack%2Ftripleo-ansible~master~I428f6deb416b540dae552b5fc7a778cbc7505e8c,openstack/tripleo-ansible,master,I428f6deb416b540dae552b5fc7a778cbc7505e8c,Inherit calling Ansible's environment when running ceph-ansible,MERGED,2019-08-05 21:55:17.000000000,2020-02-06 19:54:46.000000000,2019-08-09 14:09:52.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8281}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-05 21:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bda0c8eefae02be49b46d349926657ba6c2413d', 'message': ""Inherit calling Ansible's environment when running ceph-ansible\n\nWhen config-download runs ceph-ansible it does so by calling\nAnsible from within Ansible. This change adds a new boolean,\nceph_ansible_inherits_calling_ansible_environment (default:\ntrue), which passes all ANSIBLE_* environment variables to\nthe nested Ansible execution. If a config-download user\nexported a variable, e.g. ANSIBLE_PRIVATE_KEY_FILE, then\nthey might be surprised if they got to the Ceph installation\nand it failed because Ansible was unable to SSH into the\ntarget nodes because it didn't have that environment variable\nset. Rather than require the user to know about the nested\nexecution and use the CephAnsibleEnvironmentVariables parameter,\nassume they want the same variables passed.\n\nRequired TripleO defaults for ceph-ansible still take precedence\nover config-download environment variables; ANSIBLE_ROLES_PATH\nstill refers to ceph-ansible roles, not config-download roles.\nCephAnsibleEnvironmentVariables takes precedence over both the\ncalling Ansible environment variables and TripleO defaults for\nceph-ansible.\n\nChange-Id: I428f6deb416b540dae552b5fc7a778cbc7505e8c\n""}, {'number': 2, 'created': '2019-08-06 19:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99374ae9069f12ac1404c371b2f3608481bb05c1', 'message': ""Inherit calling Ansible's environment when running ceph-ansible\n\nWhen config-download runs ceph-ansible it does so by calling\nAnsible from within Ansible. This change adds a new boolean,\nceph_ansible_inherits_calling_ansible_environment (default:\ntrue), which passes all ANSIBLE_* environment variables to\nthe nested Ansible execution. If a config-download user\nexported a variable, e.g. ANSIBLE_PRIVATE_KEY_FILE, then\nthey might be surprised if they got to the Ceph installation\nand it failed because Ansible was unable to SSH into the\ntarget nodes because it didn't have that environment variable\nset. Rather than require the user to know about the nested\nexecution and use the CephAnsibleEnvironmentVariables parameter,\nassume they want the same variables passed.\n\nRequired TripleO defaults for ceph-ansible still take precedence\nover config-download environment variables; ANSIBLE_ROLES_PATH\nstill refers to ceph-ansible roles, not config-download roles.\nCephAnsibleEnvironmentVariables takes precedence over both the\ncalling Ansible environment variables and TripleO defaults for\nceph-ansible.\n\nChange-Id: I428f6deb416b540dae552b5fc7a778cbc7505e8c\n""}, {'number': 3, 'created': '2019-08-08 10:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b82b8fb2999ea5c9878c1f2fe497129cbae013e', 'message': ""Inherit calling Ansible's environment when running ceph-ansible\n\nWhen config-download runs ceph-ansible it does so by calling\nAnsible from within Ansible. This change adds a new boolean,\nceph_ansible_inherits_calling_ansible_environment (default:\ntrue), which passes all ANSIBLE_* environment variables to\nthe nested Ansible execution. If a config-download user\nexported a variable, e.g. ANSIBLE_PRIVATE_KEY_FILE, then\nthey might be surprised if they got to the Ceph installation\nand it failed because Ansible was unable to SSH into the\ntarget nodes because it didn't have that environment variable\nset. Rather than require the user to know about the nested\nexecution and use the CephAnsibleEnvironmentVariables parameter,\nassume they want the same variables passed.\n\nRequired TripleO defaults for ceph-ansible still take precedence\nover config-download environment variables; ANSIBLE_ROLES_PATH\nstill refers to ceph-ansible roles, not config-download roles.\nCephAnsibleEnvironmentVariables takes precedence over both the\ncalling Ansible environment variables and TripleO defaults for\nceph-ansible.\n\nChange-Id: I428f6deb416b540dae552b5fc7a778cbc7505e8c\n""}, {'number': 4, 'created': '2019-08-08 10:48:13.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eca6cd03e794a18fb748a166cf0558df3a2b7325', 'message': ""Inherit calling Ansible's environment when running ceph-ansible\n\nWhen config-download runs ceph-ansible it does so by calling\nAnsible from within Ansible. This change adds a new boolean,\nceph_ansible_inherits_calling_ansible_environment (default:\ntrue), which passes all ANSIBLE_* environment variables to\nthe nested Ansible execution. If a config-download user\nexported a variable, e.g. ANSIBLE_PRIVATE_KEY_FILE, then\nthey might be surprised if they got to the Ceph installation\nand it failed because Ansible was unable to SSH into the\ntarget nodes because it didn't have that environment variable\nset. Rather than require the user to know about the nested\nexecution and use the CephAnsibleEnvironmentVariables parameter,\nassume they want the same variables passed.\n\nRequired TripleO defaults for ceph-ansible still take precedence\nover config-download environment variables; ANSIBLE_ROLES_PATH\nstill refers to ceph-ansible roles, not config-download roles.\nCephAnsibleEnvironmentVariables takes precedence over both the\ncalling Ansible environment variables and TripleO defaults for\nceph-ansible.\n\nChange-Id: I428f6deb416b540dae552b5fc7a778cbc7505e8c\n""}]",10,674706,eca6cd03e794a18fb748a166cf0558df3a2b7325,41,8,4,18002,,,0,"Inherit calling Ansible's environment when running ceph-ansible

When config-download runs ceph-ansible it does so by calling
Ansible from within Ansible. This change adds a new boolean,
ceph_ansible_inherits_calling_ansible_environment (default:
true), which passes all ANSIBLE_* environment variables to
the nested Ansible execution. If a config-download user
exported a variable, e.g. ANSIBLE_PRIVATE_KEY_FILE, then
they might be surprised if they got to the Ceph installation
and it failed because Ansible was unable to SSH into the
target nodes because it didn't have that environment variable
set. Rather than require the user to know about the nested
execution and use the CephAnsibleEnvironmentVariables parameter,
assume they want the same variables passed.

Required TripleO defaults for ceph-ansible still take precedence
over config-download environment variables; ANSIBLE_ROLES_PATH
still refers to ceph-ansible roles, not config-download roles.
CephAnsibleEnvironmentVariables takes precedence over both the
calling Ansible environment variables and TripleO defaults for
ceph-ansible.

Change-Id: I428f6deb416b540dae552b5fc7a778cbc7505e8c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/674706/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml']",2,2bda0c8eefae02be49b46d349926657ba6c2413d,inherit_ansible_env_ceph,"- name: set default for calling_ansible_environment_variables set_fact: calling_ansible_environment_variables: [] - when: ceph_ansible_inherits_calling_ansible_environment block: - name: get all ansible environment variables shell: ""env | grep ANSIBLE_"" register: env_shell_output ignore_errors: true - name: set calling_ansible_environment_variables set_fact: calling_ansible_environment_variables: ""{{ env_shell_output.stdout_lines }}"" when: - env_shell_output.rc is defined - env_shell_output.rc == 0 - env_shell_output.stdout_lines is defined - env_shell_output.stdout_lines|length > 0 - ""{{ calling_ansible_environment_variables|join(' ') }}""",,21,0
openstack%2Fpython-keystoneclient~master~Ib6b6f7ca394dfa78cd5c8aeac0941dd625efef3b,openstack/python-keystoneclient,master,Ib6b6f7ca394dfa78cd5c8aeac0941dd625efef3b,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-15 12:50:17.000000000,2020-02-06 19:40:30.000000000,2020-02-06 19:36:06.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-15 12:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5c69112775c28b67f4a468094fdb7515c9aa2e31', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-keystoneclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ib6b6f7ca394dfa78cd5c8aeac0941dd625efef3b\n'}, {'number': 2, 'created': '2019-12-17 08:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/efb8c99c6b1a4b0da04d9cbb940949f57c304a5e', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-keystoneclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ib6b6f7ca394dfa78cd5c8aeac0941dd625efef3b\n'}, {'number': 3, 'created': '2020-01-22 06:24:27.000000000', 'files': ['releasenotes/notes/drop-py-2-7-5ac18e82de83fcfa.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/526350eaeeadef8c1ca5f80547c01f94342a6653', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-keystoneclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ib6b6f7ca394dfa78cd5c8aeac0941dd625efef3b\n'}]",6,699119,526350eaeeadef8c1ca5f80547c01f94342a6653,18,5,3,27621,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-keystoneclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ib6b6f7ca394dfa78cd5c8aeac0941dd625efef3b
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/19/699119/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-5ac18e82de83fcfa.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,5c69112775c28b67f4a468094fdb7515c9aa2e31,drop-py27-support,"minversion = 3.1.1envlist = py37,pep8,releasenotesbasepython = python3","minversion = 2.5.0envlist = py27,py37,pep8,releasenotesbasepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",10,18
openstack%2Fdebtcollector~master~I68f619f21b3df4e73bdb206754bf4449464007bb,openstack/debtcollector,master,I68f619f21b3df4e73bdb206754bf4449464007bb,Move docs linting to pep8,MERGED,2020-02-04 10:20:23.000000000,2020-02-06 19:40:07.000000000,2020-02-06 19:38:10.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-04 10:20:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/88a34966d74ace7143376b7bed9b72d6a8e19c93', 'message': 'Move docs linting to pep8\n\npep8 is our linting target, move linting runs to it.\n\nChange-Id: I68f619f21b3df4e73bdb206754bf4449464007bb\n'}]",0,705622,88a34966d74ace7143376b7bed9b72d6a8e19c93,8,3,1,6547,,,0,"Move docs linting to pep8

pep8 is our linting target, move linting runs to it.

Change-Id: I68f619f21b3df4e73bdb206754bf4449464007bb
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/22/705622/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,88a34966d74ace7143376b7bed9b72d6a8e19c93,drop-py27-support,"commands = flake8 sphinx-build -b doctest doc/source doc/build doc8 --ignore-path ""doc/source/history.rst"" doc/source"," sphinx-build -b doctest doc/source doc/build doc8 --ignore-path ""doc/source/history.rst"" doc/sourcecommands = flake8",4,3
openstack%2Fnova~master~Iaffb27bd8c562ba120047c04bb62619c0864f594,openstack/nova,master,Iaffb27bd8c562ba120047c04bb62619c0864f594,Add Instance.hidden field,MERGED,2019-01-16 03:13:40.000000000,2020-02-06 19:19:24.000000000,2019-08-13 02:51:59.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-01-16 03:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92b7cdfd6e47fb6fb63bd9d54881bc7736f3002d', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 2, 'created': '2019-01-17 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28cba716c94a3c71594e5b73f07baebbca27fe29', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 3, 'created': '2019-01-25 19:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c909c69ca2df729896cdf66be56693bb9e131636', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 4, 'created': '2019-01-25 22:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/064d84dae98359111942ea2ca9f2ed45139497fb', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 5, 'created': '2019-01-30 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81631459842782f6aaab44218a66af94efd0ed87', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 6, 'created': '2019-02-05 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c144b1ffd4c9eb2a1de4f79d38fbb368990a139', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 7, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c675ff896fbcb4b9549e1e76bc06bad6e9de41c5', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 8, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ba9f446c032b3ea3cb735ea3c04815473eede5d', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 9, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d028f33cf7492ee7ade88ec01b3a5296e60f7cdb', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 10, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7abc3122e19704f598e7517bbcaeb7b632dd4bff', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 11, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f80b53e77f827e6372eabbdbf8488b6a82563f4', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 12, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92080383c7f711a81cc2dcba54dd0c3f5f9f3265', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 13, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5112f99e3d67926a41b0c99a6257fa5d39801a8', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 14, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc1ec8a6667681d7c5e5fe62360283113b2d7f6', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 15, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6733fc08e9e10b86c0644ab8ed46e48908b64dfe', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 16, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c5efd49880d6d00a79610aa36079e0709dd3934', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 17, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aacc601aee290dae0207544492646bd44b0cca3d', 'message': 'Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n'}, {'number': 18, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c373d236c6d6f5d27008c2856197d865f722a25f', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nNote that this change does not add the ability to filter\ninstances by the new hidden field and it explicitly blacklists\nthe hidden field from being a sort key or filter parameter\nwhen listing servers in the API since if we add that support\nit should be with a new microversion.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 19, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d48912ac088e0999a1a6e8fd84441305b96dead', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 20, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd0fcd3c52cf9523169317fc79e3d24f0910ade8', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 21, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51091b252cd38fe3b8436acf82181fc7d7ecb555', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 22, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66f1d49b22782ffd83951d10692f17b7c7246d51', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 23, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a9cff963baaa0ecd39da832d0e1e87fd24e13ad', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 24, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d7aab71dcf87527988f9a71d2a43b3e6e708ca1', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 25, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce9ec5862e3eead17c16e73c4cc4517ae2882f10', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 26, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca14d3f203f1c14b6eba39238de8a14113cb83d0', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 27, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e974fb15812bb0dcdf3e35860c69ae0ce17cb3d3', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 28, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1b8512addb412f82bf339fdb32bd62a791957e0', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 29, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddfe65a214a77021ac221c185d4088f8d5045f27', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 30, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e26f702aa20c88660c90bbdfc6d8e56a5cc8bc1', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 31, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e551ff0c15bd644be7c79acee289525dabb154c6', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 32, 'created': '2019-06-12 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5576623ceed3ba9dde3f1c8108f8ec4b0388e2bf', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 33, 'created': '2019-06-18 21:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d3949be79db137a8f177f7d3076cb9669ebffec', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 34, 'created': '2019-06-24 19:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f8f2e76b1dbae326f20291fc0a6a855e40e5be2', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 35, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc337b18116106c335f83bb4b864028d4a460dc5', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 36, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc7c400778999f6731fa97e54a3a6aff84233016', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 37, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/913028e66e791ab0ca06591bd5a1edc4cdbab2f4', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 38, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12f07929a867624e0f1d2e78a117f4f1066070e4', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 39, 'created': '2019-07-10 19:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a06fe97a12193dd9745c01f6cc8e486947bc3565', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 40, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/270a39f6a8b224b98918ad064e50a37efbcab35b', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}, {'number': 41, 'created': '2019-08-07 22:23:02.000000000', 'files': ['nova/tests/functional/db/test_quota.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/functional/db/test_instance.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/objects/build_request.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/compute/api.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_instances_hidden.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d2cfc4aa55ae023633600ad0a2445b0bc187024', 'message': ""Add Instance.hidden field\n\nDuring a cross-cell move operation, an instance can\nexist in multiple cell databases but can be mapped to\nonly one cell in the instances_mappings table in the API DB.\nWhen listing servers out of the API, we need a way to\nfilter out hidden instances to make sure we return the\nappropriate record. In other words, the cell with the\nhidden instance should not be the one in the instance\nmapping and should not be returned when listing instances.\nNote that the API already filters out duplicates (see\n_get_unique_filter_method in API.get_all) but this gives\nus a way to control which is shown rather than get lucky.\nThe DB API method to list instances will filter out hidden\ninstances by default.\n\nQuotas\n======\n\nCounting quota for instances, cores and ram has to be updated\nto filter out hidden instances as well so we don't double\ncount usage for a hidden instance since we should count it\nfor the non-hidden copy of the instance in another cell DB.\n\nSimilarly, we filter hidden instances when counting server\ngroup members (this required the change in the DB API\ninstance_get_all_by_filters_sort method to make that filter\nwork).\n\nFunctional tests are added for both quota scenarios.\n\nREST API Filters and Sorting\n============================\n\nNote that this change does not add the ability to filter or\nsort instances by the new hidden field in the REST API since\nit's only used internally. There is no explicit blacklist\nfor this, but trying to sort on hidden will result in a 400\nerror because the field is not in VALID_SORT_KEYS. Filtering\non hidden will not result in an error because of the\nadditionalProperties=True in query_params_v21 but it will not\nbe passed through to the DB API either.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594\n""}]",36,631123,2d2cfc4aa55ae023633600ad0a2445b0bc187024,499,20,41,6873,,,0,"Add Instance.hidden field

During a cross-cell move operation, an instance can
exist in multiple cell databases but can be mapped to
only one cell in the instances_mappings table in the API DB.
When listing servers out of the API, we need a way to
filter out hidden instances to make sure we return the
appropriate record. In other words, the cell with the
hidden instance should not be the one in the instance
mapping and should not be returned when listing instances.
Note that the API already filters out duplicates (see
_get_unique_filter_method in API.get_all) but this gives
us a way to control which is shown rather than get lucky.
The DB API method to list instances will filter out hidden
instances by default.

Quotas
======

Counting quota for instances, cores and ram has to be updated
to filter out hidden instances as well so we don't double
count usage for a hidden instance since we should count it
for the non-hidden copy of the instance in another cell DB.

Similarly, we filter hidden instances when counting server
group members (this required the change in the DB API
instance_get_all_by_filters_sort method to make that filter
work).

Functional tests are added for both quota scenarios.

REST API Filters and Sorting
============================

Note that this change does not add the ability to filter or
sort instances by the new hidden field in the REST API since
it's only used internally. There is no explicit blacklist
for this, but trying to sort on hidden will result in a 400
error because the field is not in VALID_SORT_KEYS. Filtering
on hidden will not result in an error because of the
additionalProperties=True in query_params_v21 but it will not
be passed through to the DB API either.

Part of blueprint cross-cell-resize

Change-Id: Iaffb27bd8c562ba120047c04bb62619c0864f594
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/631123/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/393_add_instances_hidden.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/objects/instance.py', 'nova/compute/api.py']",9,92b7cdfd6e47fb6fb63bd9d54881bc7736f3002d,bp/cross-cell-resize," # During a cross-cell move operation we could have the instance # in more than one cell database so we not only have to filter # duplicates but we want to make sure we only return the # ""current"" one which should also be the one that the instance # mapping points to, but we don't want to do that expensive # lookup here. if instance.uuid in seen_uuids or instance.hidden:", if instance.uuid in seen_uuids:,93,9
openstack%2Fkeystone~master~Icba56808f38277b27af2ae5aac4b8507dee71b3b,openstack/keystone,master,Icba56808f38277b27af2ae5aac4b8507dee71b3b,Remove six usage,MERGED,2020-01-29 07:35:10.000000000,2020-02-06 19:07:33.000000000,2020-02-06 19:05:10.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-01-29 07:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/475cb7160bf5a8b6dda553e0f29bffafae293ee2', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: Icba56808f38277b27af2ae5aac4b8507dee71b3b\n""}, {'number': 2, 'created': '2020-01-30 06:06:59.000000000', 'files': ['keystone/api/ec2tokens.py', 'keystone/tests/protection/v3/test_roles.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/models/token_model.py', 'keystone/tests/unit/assignment/test_backends.py', 'keystone/trust/backends/sql.py', 'keystone/tests/unit/test_v3_domain_config.py', 'keystone/token/token_formatters.py', 'keystone/api/services.py', 'keystone/tests/protection/v3/test_project_tags.py', 'keystone/tests/unit/test_ldap_tls_livetest.py', 'keystone/assignment/role_backends/base.py', 'keystone/tests/hacking/checks.py', 'keystone/tests/unit/test_cli.py', 'keystone/receipt/handlers.py', 'keystone/api/users.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/identity/shadow_backends/base.py', 'keystone/receipt/receipt_formatters.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/tests/unit/fakeldap.py', 'keystone/tests/unit/test_contrib_ec2_core.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/auth/plugins/totp.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/protection/v3/test_groups.py', 'keystone/resource/config_backends/base.py', 'keystone/tests/protection/v3/test_policy.py', 'keystone/common/resource_options/core.py', 'keystone/endpoint_policy/backends/base.py', 'keystone/tests/protection/v3/test_system_assignments.py', 'keystone/federation/utils.py', 'keystone/api/credentials.py', 'keystone/identity/backends/resource_options.py', 'keystone/credential/backends/sql.py', 'keystone/trust/core.py', 'keystone/api/roles.py', 'keystone/common/manager.py', 'keystone/resource/core.py', 'keystone/api/_shared/EC2_S3_Resource.py', 'keystone/resource/backends/base.py', 'keystone/tests/protection/v3/test_limits.py', 'keystone/tests/unit/test_backend_endpoint_policy.py', 'keystone/api/discovery.py', 'keystone/tests/protection/v3/test_users.py', 'keystone/identity/backends/ldap/common.py', 'keystone/auth/plugins/core.py', 'keystone/auth/plugins/mapped.py', 'keystone/revoke/backends/base.py', 'keystone/tests/unit/trust/test_backends.py', 'keystone/resource/backends/sql_model.py', 'keystone/tests/unit/test_associate_project_endpoint_extension.py', 'keystone/tests/unit/ksfixtures/hacking.py', 'keystone/tests/protection/v3/test_access_rules.py', 'keystone/tests/unit/test_exception.py', 'keystone/tests/unit/test_v3_filters.py', 'keystone/tests/protection/v3/test_projects.py', 'keystone/tests/unit/test_policy.py', 'keystone/server/flask/request_processing/middleware/auth_context.py', 'keystone/oauth1/backends/base.py', 'keystone/tests/protection/v3/test_regions.py', 'keystone/tests/unit/test_ldap_livetest.py', 'keystone/cmd/doctor/ldap.py', 'keystone/auth/plugins/token.py', 'keystone/tests/protection/v3/test_service_providers.py', 'keystone/auth/core.py', 'keystone/tests/unit/filtering.py', 'keystone/assignment/backends/base.py', 'keystone/tests/unit/identity/test_backends.py', 'requirements.txt', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/tests/unit/test_v3_oauth1.py', 'keystone/api/regions.py', 'keystone/tests/protection/v3/test_policy_association.py', 'keystone/tests/protection/v3/test_identity_providers.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'keystone/auth/plugins/base.py', 'keystone/credential/providers/core.py', 'keystone/tests/unit/test_limits.py', 'keystone/token/provider.py', 'keystone/api/os_inherit.py', 'keystone/models/receipt_model.py', 'keystone/oauth1/validator.py', 'keystone/tests/protection/v3/test_tokens.py', 'keystone/tests/unit/test_versions.py', 'keystone/api/_shared/authentication.py', 'keystone/api/auth.py', 'keystone/api/os_federation.py', 'keystone/tests/unit/test_token_provider.py', 'keystone/tests/unit/test_middleware.py', 'keystone/tests/protection/v3/test_domain_config.py', 'keystone/common/validation/validators.py', 'keystone/credential/backends/base.py', 'keystone/api/system.py', 'keystone/common/utils.py', 'keystone/tests/protection/v3/test_implied_roles.py', 'keystone/tests/unit/test_v3.py', 'keystone/auth/plugins/external.py', 'keystone/tests/unit/test_v3_policy.py', 'keystone/api/groups.py', 'keystone/tests/protection/v3/test_project_endpoint.py', 'keystone/catalog/backends/base.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/limit/models/base.py', 'keystone/tests/protection/v3/test_services.py', 'keystone/tests/unit/common/test_utils.py', 'keystone/tests/unit/test_v3_trust.py', 'keystone/tests/unit/test_healthcheck.py', 'keystone/api/policy.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/receipt/provider.py', 'keystone/tests/protection/v3/test_mappings.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/api/os_ep_filter.py', 'keystone/tests/protection/v3/test_trusts.py', 'keystone/limit/backends/base.py', 'keystone/tests/unit/catalog/test_backends.py', 'keystone/tests/unit/resource/test_backends.py', 'keystone/tests/unit/utils.py', 'keystone/identity/backends/ldap/core.py', 'keystone/api/s3tokens.py', 'keystone/api/limits.py', 'keystone/tests/unit/core.py', 'keystone/policy/backends/base.py', 'keystone/credential/providers/fernet/core.py', 'keystone/application_credential/backends/base.py', 'keystone/tests/protection/v3/test_protocols.py', 'keystone/tests/protection/v3/test_application_credential.py', 'keystone/api/endpoints.py', 'keystone/server/flask/common.py', 'keystone/tests/protection/v3/test_registered_limits.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/api/projects.py', 'keystone/federation/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/receipt/providers/base.py', 'keystone/identity/mapping_backends/base.py', 'keystone/tests/protection/v3/test_endpoints.py', 'keystone/api/os_oauth1.py', 'keystone/tests/protection/v3/test_consumer.py', 'keystone/tests/unit/test_v3_os_revoke.py', 'keystone/identity/generator.py', 'keystone/tests/unit/credential/test_backend_sql.py', 'keystone/token/providers/base.py', 'keystone/tests/protection/v3/test_domain_roles.py', 'keystone/tests/protection/v3/test_credentials.py', 'keystone/tests/unit/test_v3_catalog.py', 'keystone/tests/unit/rest.py', 'keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_backend_templated.py', 'keystone/trust/backends/base.py', 'keystone/api/domains.py', 'keystone/api/trusts.py', 'keystone/tests/protection/v3/test_grants.py', 'keystone/server/flask/application.py', 'keystone/tests/unit/test_contrib_simple_cert.py', 'keystone/tests/unit/receipt/test_fernet_provider.py', 'keystone/tests/protection/v3/test_assignment.py', 'keystone/tests/unit/test_v3_endpoint_policy.py', 'keystone/api/registered_limits.py', 'keystone/tests/protection/v3/test_domains.py', 'keystone/common/sql/core.py', 'keystone/exception.py', 'keystone/tests/unit/test_contrib_s3_core.py', 'keystone/identity/backends/base.py', 'keystone/tests/protection/v3/test_endpoint_group.py', 'keystone/federation/backends/base.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4530041931ff23b6d7347000d59703093f7d657a', 'message': ""Remove six usage\n\nThis repo does not support Python 2 anymore, so we don't need\nsix for compatibility between Python2 and 3, convert six usage to Python\n3 code.\n\nChange-Id: Icba56808f38277b27af2ae5aac4b8507dee71b3b\n""}]",2,704736,4530041931ff23b6d7347000d59703093f7d657a,18,6,2,27621,,,0,"Remove six usage

This repo does not support Python 2 anymore, so we don't need
six for compatibility between Python2 and 3, convert six usage to Python
3 code.

Change-Id: Icba56808f38277b27af2ae5aac4b8507dee71b3b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/36/704736/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/ec2tokens.py', 'keystone/tests/protection/v3/test_roles.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/models/token_model.py', 'keystone/tests/unit/assignment/test_backends.py', 'keystone/trust/backends/sql.py', 'keystone/tests/unit/test_v3_domain_config.py', 'keystone/token/token_formatters.py', 'keystone/api/services.py', 'keystone/tests/protection/v3/test_project_tags.py', 'keystone/tests/unit/test_ldap_tls_livetest.py', 'keystone/assignment/role_backends/base.py', 'keystone/tests/hacking/checks.py', 'keystone/tests/unit/test_cli.py', 'keystone/receipt/handlers.py', 'keystone/api/users.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/identity/shadow_backends/base.py', 'keystone/receipt/receipt_formatters.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/tests/unit/fakeldap.py', 'keystone/tests/unit/test_contrib_ec2_core.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/auth/plugins/totp.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/protection/v3/test_groups.py', 'keystone/resource/config_backends/base.py', 'keystone/tests/protection/v3/test_policy.py', 'keystone/common/resource_options/core.py', 'keystone/endpoint_policy/backends/base.py', 'keystone/tests/protection/v3/test_system_assignments.py', 'keystone/federation/utils.py', 'keystone/api/credentials.py', 'keystone/identity/backends/resource_options.py', 'keystone/credential/backends/sql.py', 'keystone/trust/core.py', 'keystone/api/roles.py', 'keystone/common/manager.py', 'keystone/resource/core.py', 'keystone/api/_shared/EC2_S3_Resource.py', 'keystone/resource/backends/base.py', 'keystone/tests/protection/v3/test_limits.py', 'keystone/tests/unit/test_backend_endpoint_policy.py', 'keystone/api/discovery.py', 'keystone/tests/protection/v3/test_users.py', 'keystone/identity/backends/ldap/common.py', 'keystone/auth/plugins/core.py', 'keystone/auth/plugins/mapped.py', 'keystone/revoke/backends/base.py', 'keystone/tests/unit/trust/test_backends.py', 'keystone/resource/backends/sql_model.py', 'keystone/tests/unit/test_associate_project_endpoint_extension.py', 'keystone/tests/unit/ksfixtures/hacking.py', 'keystone/tests/protection/v3/test_access_rules.py', 'keystone/tests/unit/test_exception.py', 'keystone/tests/unit/test_v3_filters.py', 'keystone/tests/protection/v3/test_projects.py', 'keystone/tests/unit/test_policy.py', 'keystone/server/flask/request_processing/middleware/auth_context.py', 'keystone/oauth1/backends/base.py', 'keystone/tests/protection/v3/test_regions.py', 'keystone/tests/unit/test_ldap_livetest.py', 'keystone/cmd/doctor/ldap.py', 'keystone/auth/plugins/token.py', 'keystone/tests/protection/v3/test_service_providers.py', 'keystone/auth/core.py', 'keystone/tests/unit/filtering.py', 'keystone/assignment/backends/base.py', 'keystone/tests/unit/identity/test_backends.py', 'requirements.txt', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/tests/unit/test_v3_oauth1.py', 'keystone/api/regions.py', 'keystone/tests/protection/v3/test_policy_association.py', 'keystone/tests/protection/v3/test_identity_providers.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'keystone/auth/plugins/base.py', 'keystone/credential/providers/core.py', 'keystone/tests/unit/test_limits.py', 'keystone/token/provider.py', 'keystone/api/os_inherit.py', 'keystone/models/receipt_model.py', 'keystone/oauth1/validator.py', 'keystone/tests/protection/v3/test_tokens.py', 'keystone/tests/unit/test_versions.py', 'keystone/api/_shared/authentication.py', 'keystone/api/auth.py', 'keystone/api/os_federation.py', 'keystone/tests/unit/test_token_provider.py', 'keystone/tests/unit/test_middleware.py', 'keystone/tests/protection/v3/test_domain_config.py', 'keystone/common/validation/validators.py', 'keystone/credential/backends/base.py', 'keystone/api/system.py', 'keystone/common/utils.py', 'keystone/tests/protection/v3/test_implied_roles.py', 'keystone/tests/unit/test_v3.py', 'keystone/auth/plugins/external.py', 'keystone/tests/unit/test_v3_policy.py', 'keystone/api/groups.py', 'keystone/tests/protection/v3/test_project_endpoint.py', 'keystone/catalog/backends/base.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/limit/models/base.py', 'keystone/tests/protection/v3/test_services.py', 'keystone/tests/unit/common/test_utils.py', 'keystone/tests/unit/test_v3_trust.py', 'keystone/tests/unit/test_healthcheck.py', 'keystone/api/policy.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/receipt/provider.py', 'keystone/tests/protection/v3/test_mappings.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/api/os_ep_filter.py', 'keystone/tests/protection/v3/test_trusts.py', 'keystone/limit/backends/base.py', 'keystone/tests/unit/catalog/test_backends.py', 'keystone/tests/unit/resource/test_backends.py', 'keystone/tests/unit/utils.py', 'keystone/identity/backends/ldap/core.py', 'keystone/api/s3tokens.py', 'keystone/api/limits.py', 'keystone/tests/unit/core.py', 'keystone/policy/backends/base.py', 'keystone/credential/providers/fernet/core.py', 'keystone/application_credential/backends/base.py', 'keystone/tests/protection/v3/test_protocols.py', 'keystone/tests/protection/v3/test_application_credential.py', 'keystone/api/endpoints.py', 'keystone/server/flask/common.py', 'keystone/tests/protection/v3/test_registered_limits.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/api/projects.py', 'keystone/federation/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/receipt/providers/base.py', 'keystone/identity/mapping_backends/base.py', 'keystone/tests/protection/v3/test_endpoints.py', 'keystone/api/os_oauth1.py', 'keystone/tests/protection/v3/test_consumer.py', 'keystone/tests/unit/test_v3_os_revoke.py', 'keystone/identity/generator.py', 'keystone/tests/unit/credential/test_backend_sql.py', 'keystone/token/providers/base.py', 'keystone/tests/protection/v3/test_domain_roles.py', 'keystone/tests/protection/v3/test_credentials.py', 'keystone/tests/unit/test_v3_catalog.py', 'keystone/tests/unit/rest.py', 'keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_backend_templated.py', 'keystone/trust/backends/base.py', 'keystone/api/domains.py', 'keystone/api/trusts.py', 'keystone/tests/protection/v3/test_grants.py', 'keystone/server/flask/application.py', 'keystone/tests/unit/test_contrib_simple_cert.py', 'keystone/tests/unit/receipt/test_fernet_provider.py', 'keystone/tests/protection/v3/test_assignment.py', 'keystone/tests/unit/test_v3_endpoint_policy.py', 'keystone/api/registered_limits.py', 'keystone/tests/protection/v3/test_domains.py', 'keystone/common/sql/core.py', 'keystone/exception.py', 'keystone/tests/unit/test_contrib_s3_core.py', 'keystone/identity/backends/base.py', 'keystone/tests/protection/v3/test_endpoint_group.py', 'keystone/federation/backends/base.py']",168,475cb7160bf5a8b6dda553e0f29bffafae293ee2,,"class FederationDriverBase(object, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class FederationDriverBase(object):,2060,2257
openstack%2Ftripleo-operator-ansible~master~I677a99e3adc1cde8dc8cd6515513ec5e900fdab5,openstack/tripleo-operator-ansible,master,I677a99e3adc1cde8dc8cd6515513ec5e900fdab5,Quote variables that might contain special chars,MERGED,2020-02-05 21:08:19.000000000,2020-02-06 19:05:27.000000000,2020-02-06 19:05:27.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:08:19.000000000', 'files': ['roles/tripleo_container_image_list/tasks/main.yml', 'roles/tripleo_container_image_show/tasks/main.yml', 'roles/tripleo_container_image_delete/tasks/main.yml', 'roles/tripleo_container_image_push/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/6348f14472b978ded82e11e6e8fe00ede808f8ed', 'message': 'Quote variables that might contain special chars\n\nThe username/passwords might contain characters that need to be properly\nquoted when being passed to the tripleoclient.\n\nChange-Id: I677a99e3adc1cde8dc8cd6515513ec5e900fdab5\n'}]",0,706117,6348f14472b978ded82e11e6e8fe00ede808f8ed,7,3,1,14985,,,0,"Quote variables that might contain special chars

The username/passwords might contain characters that need to be properly
quoted when being passed to the tripleoclient.

Change-Id: I677a99e3adc1cde8dc8cd6515513ec5e900fdab5
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/17/706117/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_container_image_delete/tasks/main.yml', 'roles/tripleo_container_image_list/tasks/main.yml', 'roles/tripleo_container_image_show/tasks/main.yml', 'roles/tripleo_container_image_push/tasks/main.yml']",4,6348f14472b978ded82e11e6e8fe00ede808f8ed,shell-escape," {{ tripleo_container_image_push_username | ternary('--username ""$TRIPLEO_IMAGE_PUSH_USERNAME""', '') }} {{ tripleo_container_image_push_password | ternary('--password ""$TRIPLEO_IMAGE_PUSH_PASSWORD""', '') }} TRIPLEO_IMAGE_PUSH_USERNAME: ""{{ tripleo_container_image_push_username | default('') | quote }}"" TRIPLEO_IMAGE_PUSH_PASSWORD: ""{{ tripleo_container_image_push_password | default('') | quote }}"""," {{ tripleo_container_image_push_username | ternary('--username $TRIPLEO_IMAGE_PUSH_USERNAME', '') }} {{ tripleo_container_image_push_password | ternary('--password $TRIPLEO_IMAGE_PUSH_PASSWORD', '') }} TRIPLEO_IMAGE_PUSH_USERNAME: ""{{ tripleo_container_image_push_username | default('') }}"" TRIPLEO_IMAGE_PUSH_PASSWORD: ""{{ tripleo_container_image_push_password | default('') }}""",16,16
openstack%2Fnova~stable%2Fqueens~I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c,openstack/nova,stable/queens,I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c,Add functional recreate revert resize test for bug 1852610,MERGED,2019-12-18 15:43:10.000000000,2020-02-06 19:05:13.000000000,2020-02-06 19:05:13.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-18 15:43:10.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/917b5d383829851c6cbf7583cd0f3640c8ba2b9a', 'message': 'Add functional recreate revert resize test for bug 1852610\n\nThis builds on I644608b4e197ddea31c5f264adb492f2c8931f04 and\nadds a revert resize test which deletes the source compute service\nwhile the server is in VERIFY_RESIZE status and then reverts the\nresize. The results are a bit different from the confirm scenario\nbecause the confirm fails while the revert actually works which\nis more dumb luck based on where the compute service drops the\nmove claim during the revert process (on the dest which still exists\nrather than the source).\n\nConflicts:\n      nova/tests/functional/integrated_helpers.py\n\nNOTE(mriedem): The conflict is due to not having change\nIea283322124cb35fc0bc6d25f35548621e8c8c2f in Queens. As a result\nthe _resize_and_check_allocations method is added to\nProviderUsageBaseTestCase within test_servers.py.\n\nChange-Id: I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c\nRelated-Bug: #1852610\n(cherry picked from commit f7dde6054e559752d8e9be044c32c0741f8f39c5)\n(cherry picked from commit 3774952410f98bfde014bd9fdc0897d4a9a6c50f)\n(cherry picked from commit 9983b2462401176db0c332f21bc8b24ba1d81503)\n(cherry picked from commit b6b2b3a35e1b95463fac3bbb2acd51d905328a2c)\n'}]",0,699708,917b5d383829851c6cbf7583cd0f3640c8ba2b9a,9,5,1,6873,,,0,"Add functional recreate revert resize test for bug 1852610

This builds on I644608b4e197ddea31c5f264adb492f2c8931f04 and
adds a revert resize test which deletes the source compute service
while the server is in VERIFY_RESIZE status and then reverts the
resize. The results are a bit different from the confirm scenario
because the confirm fails while the revert actually works which
is more dumb luck based on where the compute service drops the
move claim during the revert process (on the dest which still exists
rather than the source).

Conflicts:
      nova/tests/functional/integrated_helpers.py

NOTE(mriedem): The conflict is due to not having change
Iea283322124cb35fc0bc6d25f35548621e8c8c2f in Queens. As a result
the _resize_and_check_allocations method is added to
ProviderUsageBaseTestCase within test_servers.py.

Change-Id: I2dcb1cb3e1f8ed469a4c5bf81ca5ca2fcf1fa73c
Related-Bug: #1852610
(cherry picked from commit f7dde6054e559752d8e9be044c32c0741f8f39c5)
(cherry picked from commit 3774952410f98bfde014bd9fdc0897d4a9a6c50f)
(cherry picked from commit 9983b2462401176db0c332f21bc8b24ba1d81503)
(cherry picked from commit b6b2b3a35e1b95463fac3bbb2acd51d905328a2c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/699708/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/test_servers.py']",2,917b5d383829851c6cbf7583cd0f3640c8ba2b9a,bug/1852610," def _resize_and_check_allocations(self, server, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid): request = { 'resize': { 'flavorRef': new_flavor['id'] } } self._move_and_check_allocations( server, request=request, old_flavor=old_flavor, new_flavor=new_flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) ",,53,0
openstack%2Fkolla-ansible~stable%2Ftrain~I83600c69141714fc412df0976f49019a857655f5,openstack/kolla-ansible,stable/train,I83600c69141714fc412df0976f49019a857655f5,Fix multiple issues with MariaDB handling,MERGED,2020-02-03 10:55:54.000000000,2020-02-06 18:42:54.000000000,2020-02-06 17:26:27.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-02-03 10:55:54.000000000', 'files': ['ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/mariadb/tasks/deploy-containers.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/restart_services.yml', 'releasenotes/notes/fix-multiple-mariadb-issues-d023478df6d76622.yaml', 'ansible/roles/mariadb/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8acf5c132df02002e05a17c1754f5d79143a8d75', 'message': 'Fix multiple issues with MariaDB handling\n\nThese affected both deploy (and reconfigure) and upgrade\nresulting in WSREP issues, failed deploys or need to\nrecover the cluster.\n\nThis patch makes sure k-a does not abruptly terminate\nnodes to break cluster.\nThis is achieved by cleaner separation between stages\n(bootstrap, restart current, deploy new) and 3 phases\nfor restarts (to keep the quorum).\n\nUpgrade actions, which operate on a healthy cluster,\nwent to its section.\n\nService restart was refactored.\n\nWe no longer rely on the master/slave distinction as\nall nodes are masters in Galera.\n\nBackport includes also the:\nFollowup on MariaDB handling fixes\n\nThis fixes issues reported by Mark:\n- possible failure with 4-node cluster (however unlikely)\n- failure to stop all nodes from progressing when conditions are\n  not valid (due to: ""any_errors_fatal: False"")\n\nCloses-bug: #1857908\nCloses-bug: #1859145\nChange-Id: I83600c69141714fc412df0976f49019a857655f5\n(cherry picked from commit 9f14ad651a9e6516d02c90d9eb0ec4b7a4702e7e)\n'}]",0,705414,8acf5c132df02002e05a17c1754f5d79143a8d75,14,6,1,30491,,,0,"Fix multiple issues with MariaDB handling

These affected both deploy (and reconfigure) and upgrade
resulting in WSREP issues, failed deploys or need to
recover the cluster.

This patch makes sure k-a does not abruptly terminate
nodes to break cluster.
This is achieved by cleaner separation between stages
(bootstrap, restart current, deploy new) and 3 phases
for restarts (to keep the quorum).

Upgrade actions, which operate on a healthy cluster,
went to its section.

Service restart was refactored.

We no longer rely on the master/slave distinction as
all nodes are masters in Galera.

Backport includes also the:
Followup on MariaDB handling fixes

This fixes issues reported by Mark:
- possible failure with 4-node cluster (however unlikely)
- failure to stop all nodes from progressing when conditions are
  not valid (due to: ""any_errors_fatal: False"")

Closes-bug: #1857908
Closes-bug: #1859145
Change-Id: I83600c69141714fc412df0976f49019a857655f5
(cherry picked from commit 9f14ad651a9e6516d02c90d9eb0ec4b7a4702e7e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/705414/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/deploy-containers.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/restart_services.yml', 'releasenotes/notes/fix-multiple-mariadb-issues-d023478df6d76622.yaml', 'ansible/roles/mariadb/tasks/register.yml']",9,8acf5c132df02002e05a17c1754f5d79143a8d75,,,"- name: Creating haproxy mysql user become: true kolla_toolbox: module_name: mysql_user module_args: login_host: ""{{ api_interface_address }}"" login_port: ""{{ mariadb_port }}"" login_user: ""{{ database_user }}"" login_password: ""{{ database_password }}"" name: ""haproxy"" password: """" host: ""%"" priv: ""*.*:USAGE"" run_once: True - name: Cleaning up facts set_fact: delegate_host: ""bootstraped""",233,239
openstack%2Fpuppet-swift~master~Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61,openstack/puppet-swift,master,Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61,Add support for audit middleware,MERGED,2019-08-30 10:25:04.000000000,2020-02-06 18:39:13.000000000,2020-02-06 18:37:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-30 10:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/462010d0ac63ec5bf9d6051f779f5065dc7fe258', 'message': 'Add support for audit middleware\n\nDepends-On: Id1b2944783ecaaa631ce9c1ceebfa1a30de4d4c6\nChange-Id: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61\n'}, {'number': 2, 'created': '2019-08-31 09:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9876fd6fcc093a83baca06ce9d1b55c2e1cefa90', 'message': 'Add support for audit middleware\n\nCo-Authored-By: Tobias Urdin <tobias.urdin@binero.se>\nDepends-On: Id1b2944783ecaaa631ce9c1ceebfa1a30de4d4c6\nChange-Id: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61\n'}, {'number': 3, 'created': '2019-08-31 09:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/572e7191df9e3918210b27cd96e55f5e91ab5f71', 'message': 'Add support for audit middleware\n\nCo-Authored-By: Tobias Urdin <tobias.urdin@binero.se>\nDepends-On: Id1b2944783ecaaa631ce9c1ceebfa1a30de4d4c6\nChange-Id: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61\n'}, {'number': 4, 'created': '2019-08-31 09:53:28.000000000', 'files': ['releasenotes/notes/add-swift-proxy-audit-3ee76986d46aa9f4.yaml', 'spec/classes/swift_proxy_audit_spec.rb', 'manifests/proxy/audit.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/2976c7d889cf7bc29a61e4bbf3fba662f08c3840', 'message': 'Add support for audit middleware\n\nCo-Authored-By: Christian Schwede <cschwede@redhat.com>\nDepends-On: Id1b2944783ecaaa631ce9c1ceebfa1a30de4d4c6\nChange-Id: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61\n'}]",0,679416,2976c7d889cf7bc29a61e4bbf3fba662f08c3840,23,7,4,6968,,,0,"Add support for audit middleware

Co-Authored-By: Christian Schwede <cschwede@redhat.com>
Depends-On: Id1b2944783ecaaa631ce9c1ceebfa1a30de4d4c6
Change-Id: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/16/679416/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/proxy/audit.pp'],1,462010d0ac63ec5bf9d6051f779f5065dc7fe258,679416,# # Configure pycadf middleware for Swift proxy. # # == Authors # # Christian Schwede <cschwede@redhat.com> # class swift::proxy::audit { include ::swift::deps swift_proxy_config { 'filter:audit/paste.filter_factory': value => 'keystonemiddleware.audit:filter_factory'; 'filter:audit/audit_map_file': value => '/etc/pycadf/swift_api_audit_map.conf'; } } ,,16,0
openstack%2Fironic-python-agent~master~I1da684c5608e9b7f97f9c3ab6c679c75d244fc7b,openstack/ironic-python-agent,master,I1da684c5608e9b7f97f9c3ab6c679c75d244fc7b,DNM: Testing job timeout,ABANDONED,2020-02-05 22:07:24.000000000,2020-02-06 18:27:51.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 22:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/40ca240f1216230272c62826fa158b369a1c8b4c', 'message': 'DNM: Testing job timeout\n\nDepends-On: https://review.opendev.org/#/c/705870/\nChange-Id: I1da684c5608e9b7f97f9c3ab6c679c75d244fc7b\n'}, {'number': 2, 'created': '2020-02-06 04:47:19.000000000', 'files': ['ironic_python_agent/hardware.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/12c9056e4ca3e4af269b189283323791bf00fd24', 'message': 'DNM: Testing job timeout\n\nDepends-On: https://review.opendev.org/#/c/705870/\nChange-Id: I1da684c5608e9b7f97f9c3ab6c679c75d244fc7b\n'}]",0,706135,12c9056e4ca3e4af269b189283323791bf00fd24,9,3,2,8556,,,0,"DNM: Testing job timeout

Depends-On: https://review.opendev.org/#/c/705870/
Change-Id: I1da684c5608e9b7f97f9c3ab6c679c75d244fc7b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/35/706135/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,40ca240f1216230272c62826fa158b369a1c8b4c,,"# Define virtualenv directory, port to use for functional testing, and number","# Define virtualenv directory, port to use for functional testing, and number",1,1
openstack%2Fnova~master~Ibc03631fc0a80644ba0aafb370523a101c2975d4,openstack/nova,master,Ibc03631fc0a80644ba0aafb370523a101c2975d4,Selectively refresh instance.pci_requests during rollback,NEW,2020-02-06 13:55:48.000000000,2020-02-06 18:25:42.000000000,,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 13:55:48.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb53d027ea1c17be204538bb7c7791814a8fab6', 'message': 'Selectively refresh instance.pci_requests during rollback\n\nThe patch Ied8f96b4e67f79498519931cb6b35dad5288bbb8 unconditionally\nrefreshes the instance.pci_requests from the DB during rollback of a\nlive migration as the conductor might updated that field according\nto the destination host. This patch make sure that such refresh only\nhappens if the conductor really updated the pci_requests.\n\nChange-Id: Ibc03631fc0a80644ba0aafb370523a101c2975d4\n'}]",1,706269,ebb53d027ea1c17be204538bb7c7791814a8fab6,9,9,1,9708,,,0,"Selectively refresh instance.pci_requests during rollback

The patch Ied8f96b4e67f79498519931cb6b35dad5288bbb8 unconditionally
refreshes the instance.pci_requests from the DB during rollback of a
live migration as the conductor might updated that field according
to the destination host. This patch make sure that such refresh only
happens if the conductor really updated the pci_requests.

Change-Id: Ibc03631fc0a80644ba0aafb370523a101c2975d4
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/706269/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/utils.py']",4,ebb53d027ea1c17be204538bb7c7791814a8fab6,conditional_pci_request_refresh_during_rollback, # NOTE(gibi): We need to make sure that we also make the # InstancePciRequest.spec dirty so this change is persisted pci_request.spec = pci_request.spec,,20,29
openstack%2Fkeystone-specs~master~Ie17b61301a941ff554de9fcb8985b5b1e4096113,openstack/keystone-specs,master,Ie17b61301a941ff554de9fcb8985b5b1e4096113,[ussuri][goal] Drop python 2.7 support,MERGED,2019-12-13 18:24:21.000000000,2020-02-06 18:19:26.000000000,2020-02-06 18:15:07.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-13 18:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ec5e735e93b0c01e28db8f75ff138407acbb8171', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ie17b61301a941ff554de9fcb8985b5b1e4096113\n'}, {'number': 2, 'created': '2019-12-13 18:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/b2f576578e5daa33a20bc9463803d53d65ce9f94', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ie17b61301a941ff554de9fcb8985b5b1e4096113\n'}, {'number': 3, 'created': '2019-12-17 18:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/514af2295255014451613a47601546ac215b010f', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ie17b61301a941ff554de9fcb8985b5b1e4096113\n'}, {'number': 4, 'created': '2019-12-23 20:44:51.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/9680cbf5ca5c01979491478b3b829c90cc573efb', 'message': '[ussuri][goal] Drop python 2.7 support\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nspecs repo either has py27 job or requirement or tox env.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ie17b61301a941ff554de9fcb8985b5b1e4096113\n'}]",7,698983,9680cbf5ca5c01979491478b3b829c90cc573efb,19,11,4,8556,,,0,"[ussuri][goal] Drop python 2.7 support

OpenStack is dropping the py2.7 support in ussuri cycle.

specs repo either has py27 job or requirement or tox env.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ie17b61301a941ff554de9fcb8985b5b1e4096113
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/83/698983/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'tox.ini']",3,ec5e735e93b0c01e28db8f75ff138407acbb8171,drop-py27-support,"minversion = 3.1.1 envlist = docs,py37ignore_basepython_conflict = Truebasepython = python","minversion = 1.6 envlist = docs,py27,py37basepython = python3basepython = python3",6,7
openstack%2Foslo.utils~master~I1fd384a0e08716cc48c2a4e7dfad28d6efa15f3c,openstack/oslo.utils,master,I1fd384a0e08716cc48c2a4e7dfad28d6efa15f3c,reword releasenote for py27 support dropping,MERGED,2020-02-06 10:04:38.000000000,2020-02-06 18:06:30.000000000,2020-02-06 18:04:34.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:04:38.000000000', 'files': ['releasenotes/notes/drop-python27-support-f97f680651693b47.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/85efe8e198fd3002a1a125faedddcfaae721a0b6', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: I1fd384a0e08716cc48c2a4e7dfad28d6efa15f3c\n'}]",0,706209,85efe8e198fd3002a1a125faedddcfaae721a0b6,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: I1fd384a0e08716cc48c2a4e7dfad28d6efa15f3c
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/09/706209/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-f97f680651693b47.yaml'],1,85efe8e198fd3002a1a125faedddcfaae721a0b6,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Foslo.service~master~Ib61032323bc4bde9e4145ab4f197d6568802f59f,openstack/oslo.service,master,Ib61032323bc4bde9e4145ab4f197d6568802f59f,reword releasenote for py27 support dropping,MERGED,2020-02-06 10:04:21.000000000,2020-02-06 18:01:59.000000000,2020-02-06 18:00:12.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:04:21.000000000', 'files': ['releasenotes/notes/drop-python27-support-1cfdf65193a03f3a.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/fd74a8b9b904fc463f1542922876c4a9e60125c0', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: Ib61032323bc4bde9e4145ab4f197d6568802f59f\n'}]",0,706208,fd74a8b9b904fc463f1542922876c4a9e60125c0,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: Ib61032323bc4bde9e4145ab4f197d6568802f59f
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/08/706208/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-1cfdf65193a03f3a.yaml'],1,fd74a8b9b904fc463f1542922876c4a9e60125c0,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Foslo.middleware~master~If3a102650346da625ad91af8448c80534f32ac62,openstack/oslo.middleware,master,If3a102650346da625ad91af8448c80534f32ac62,reword releasenote for py27 support dropping,MERGED,2020-02-06 10:05:11.000000000,2020-02-06 18:01:46.000000000,2020-02-06 18:00:01.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:05:11.000000000', 'files': ['releasenotes/notes/drop-python27-support-a6361831195bf29c.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/2c2d94ecd5a38ef43516f1490c5d6ab703a61acd', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: If3a102650346da625ad91af8448c80534f32ac62\n'}]",0,706211,2c2d94ecd5a38ef43516f1490c5d6ab703a61acd,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: If3a102650346da625ad91af8448c80534f32ac62
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/11/706211/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-a6361831195bf29c.yaml'],1,2c2d94ecd5a38ef43516f1490c5d6ab703a61acd,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Foslo.messaging~master~Ic65842371eac32cec3a7b66cb6aa0f3ef52b8637,openstack/oslo.messaging,master,Ic65842371eac32cec3a7b66cb6aa0f3ef52b8637,reword releasenote for py27 support dropping,MERGED,2020-02-06 10:03:47.000000000,2020-02-06 18:01:09.000000000,2020-02-06 17:59:25.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:03:47.000000000', 'files': ['releasenotes/notes/drop-python27-support-5ef2f365d8930483.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b55da383683f50228f8b5d3b1d424789ffcb7321', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: Ic65842371eac32cec3a7b66cb6aa0f3ef52b8637\n'}]",0,706207,b55da383683f50228f8b5d3b1d424789ffcb7321,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: Ic65842371eac32cec3a7b66cb6aa0f3ef52b8637
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/07/706207/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-5ef2f365d8930483.yaml'],1,b55da383683f50228f8b5d3b1d424789ffcb7321,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Foslo.context~master~If2fce70fb885f8a7cd9b1b50d0568c67e2e64b7c,openstack/oslo.context,master,If2fce70fb885f8a7cd9b1b50d0568c67e2e64b7c,reword releasenote for py27 support dropping,MERGED,2020-02-06 11:36:05.000000000,2020-02-06 17:58:55.000000000,2020-02-06 17:57:11.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 11:36:05.000000000', 'files': ['releasenotes/notes/drop-python27-support-b421329839e69d41.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/0371869dd3d76652126b02411a4108f5c7483743', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: If2fce70fb885f8a7cd9b1b50d0568c67e2e64b7c\n'}]",0,706243,0371869dd3d76652126b02411a4108f5c7483743,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: If2fce70fb885f8a7cd9b1b50d0568c67e2e64b7c
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/43/706243/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-b421329839e69d41.yaml'],1,0371869dd3d76652126b02411a4108f5c7483743,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now supported is Python 3.6., Python 2.7 is no longer supported. The minimum supported version of Python is now Python 3.,2,2
openstack%2Foslo.config~master~I39fbf54eb74843cd268c8cbac0a372927fff00e7,openstack/oslo.config,master,I39fbf54eb74843cd268c8cbac0a372927fff00e7,reword releasenote for py27 support dropping,MERGED,2020-02-06 11:30:45.000000000,2020-02-06 17:58:28.000000000,2020-02-06 17:56:50.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 11:30:45.000000000', 'files': ['releasenotes/notes/drop-python27-support-87f1b4089d4cc78b.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/ccb2fcd1e5969f940795b7f878b93843e31c5c05', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: I39fbf54eb74843cd268c8cbac0a372927fff00e7\n'}]",0,706239,ccb2fcd1e5969f940795b7f878b93843e31c5c05,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: I39fbf54eb74843cd268c8cbac0a372927fff00e7
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/39/706239/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-87f1b4089d4cc78b.yaml'],1,ccb2fcd1e5969f940795b7f878b93843e31c5c05,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Fcliff~master~I6b35d628b4d5d1d06d0ffc5925ee5d54e0005923,openstack/cliff,master,I6b35d628b4d5d1d06d0ffc5925ee5d54e0005923,adding missing releasenote for the drop of py27 support,MERGED,2020-02-06 11:33:36.000000000,2020-02-06 17:57:54.000000000,2020-02-06 17:56:21.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 11:33:36.000000000', 'files': ['releasenotes/notes/drop-python27-support-b16c9e5a9e2000ef.yaml'], 'web_link': 'https://opendev.org/openstack/cliff/commit/1e04cb683eae98917b628df810becc13216f0605', 'message': 'adding missing releasenote for the drop of py27 support\n\nChange-Id: I6b35d628b4d5d1d06d0ffc5925ee5d54e0005923\n'}]",0,706241,1e04cb683eae98917b628df810becc13216f0605,8,3,1,28522,,,0,"adding missing releasenote for the drop of py27 support

Change-Id: I6b35d628b4d5d1d06d0ffc5925ee5d54e0005923
",git fetch https://review.opendev.org/openstack/cliff refs/changes/41/706241/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-b16c9e5a9e2000ef.yaml'],1,1e04cb683eae98917b628df810becc13216f0605,reword-releasenotes-drop-py27,--- upgrade: - | Support for Python 2.7 has been dropped. The minimum version of Python now supported is Python 3.6. ,,5,0
openstack%2Foslo.serialization~master~I340048e6e3f1050c8f02be6681a3e741c82fda07,openstack/oslo.serialization,master,I340048e6e3f1050c8f02be6681a3e741c82fda07,reword releasenote for py27 support dropping,MERGED,2020-02-06 10:03:03.000000000,2020-02-06 17:57:54.000000000,2020-02-06 17:55:45.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:03:03.000000000', 'files': ['releasenotes/notes/drop-python27-support-185668eec068ffa5.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/440149f3b91b394ff4156aaee338be66756cd657', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: I340048e6e3f1050c8f02be6681a3e741c82fda07\n'}]",0,706205,440149f3b91b394ff4156aaee338be66756cd657,8,3,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: I340048e6e3f1050c8f02be6681a3e741c82fda07
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/05/706205/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-185668eec068ffa5.yaml'],1,440149f3b91b394ff4156aaee338be66756cd657,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Fmicroversion-parse~master~I2b887873d30171bc979728d975b40b9dc6065735,openstack/microversion-parse,master,I2b887873d30171bc979728d975b40b9dc6065735,adding missing releasenote for the drop of py27 support,MERGED,2020-02-06 11:27:25.000000000,2020-02-06 17:56:46.000000000,2020-02-06 17:56:46.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 11:27:25.000000000', 'files': ['releasenotes/notes/drop-python27-support-5b9a4e0ce63b730e.yaml'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/602fbc83d4e1a3a05337b4875863172fc90aa40c', 'message': 'adding missing releasenote for the drop of py27 support\n\nChange-Id: I2b887873d30171bc979728d975b40b9dc6065735\n'}]",0,706236,602fbc83d4e1a3a05337b4875863172fc90aa40c,7,3,1,28522,,,0,"adding missing releasenote for the drop of py27 support

Change-Id: I2b887873d30171bc979728d975b40b9dc6065735
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/36/706236/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-5b9a4e0ce63b730e.yaml'],1,602fbc83d4e1a3a05337b4875863172fc90aa40c,reword-releasenotes-drop-py27,--- upgrade: - | Support for Python 2.7 has been dropped. The minimum version of Python now supported is Python 3.6. ,,5,0
openstack%2Fproject-config~master~I87806f0e17e678c048035213ceebb3e073161d55,openstack/project-config,master,I87806f0e17e678c048035213ceebb3e073161d55,stop generating constraints for py3.4 and py3.5,MERGED,2020-02-06 16:53:16.000000000,2020-02-06 17:40:28.000000000,2020-02-06 17:33:29.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 16:53:16.000000000', 'files': ['playbooks/proposal/propose_update.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/23d169ebf940cfa1951d28da80e7e0e37ee41f6f', 'message': 'stop generating constraints for py3.4 and py3.5\n\nhttps://governance.openstack.org/tc/goals/selected/train/python3-updates.html\n\nChange-Id: I87806f0e17e678c048035213ceebb3e073161d55\n'}]",0,706321,23d169ebf940cfa1951d28da80e7e0e37ee41f6f,9,4,1,14288,,,0,"stop generating constraints for py3.4 and py3.5

https://governance.openstack.org/tc/goals/selected/train/python3-updates.html

Change-Id: I87806f0e17e678c048035213ceebb3e073161d55
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/706321/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/propose_update.sh'],1,23d169ebf940cfa1951d28da80e7e0e37ee41f6f,drop-py34-py35-from-generate-constraints, --version-map 3.6:3.7 > $1/upper-constraints.txt, --version-map 3.6:3.4 --version-map 3.6:3.5 --version-map 3.6:3.7 \ > $1/upper-constraints.txt,1,2
openstack%2Fmonasca-tempest-plugin~master~I27c82c48541291553141c197cb9c227720cc6dbb,openstack/monasca-tempest-plugin,master,I27c82c48541291553141c197cb9c227720cc6dbb,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-01-23 18:53:02.000000000,2020-02-06 17:25:29.000000000,2020-02-06 17:22:06.000000000,"[{'_account_id': 8556}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 18:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/d7dbcf2e54bc63a9a2314f097372fbb21cfe6a41', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I27c82c48541291553141c197cb9c227720cc6dbb\n'}, {'number': 2, 'created': '2020-01-24 14:46:07.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-e5ad0bf8a877580b.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/34a5bdff42c5003821e668cfc19b5df332f6502c', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I27c82c48541291553141c197cb9c227720cc6dbb\n'}]",2,704052,34a5bdff42c5003821e668cfc19b5df332f6502c,13,3,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I27c82c48541291553141c197cb9c227720cc6dbb
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/52/704052/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-e5ad0bf8a877580b.yaml', 'setup.cfg', 'tox.ini']",5,d7dbcf2e54bc63a9a2314f097372fbb21cfe6a41,drop-py27-support,minversion = 3.1.1ignore_basepython_conflict = Truebasepython = python3,minversion = 2.0basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,13,15
openstack%2Fnova~master~I00443ae111cbd1e1ec4d2c2ae1828ddaa095fd1a,openstack/nova,master,I00443ae111cbd1e1ec4d2c2ae1828ddaa095fd1a,nova-net: Update API reference guide,MERGED,2020-01-22 13:54:40.000000000,2020-02-06 17:19:13.000000000,2020-02-06 17:12:25.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-01-22 13:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae1f410a6a0a24a9454504371bb753098c60c41', 'message': 'nova-net: Update API reference guide\n\nAs highlighted in I77b1cfeab3c00c6c3d7743ba51e12414806b71d2, filtering\neither floating IPs or floating IP pools by floating IP name will\nactually fallback to filtering by ID. Update the API ref to reflect\nthis.\n\nChange-Id: I00443ae111cbd1e1ec4d2c2ae1828ddaa095fd1a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-01-23 09:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c738c1045817941d9b45b8603d2070e2cc9456b5', 'message': 'nova-net: Update API reference guide\n\nAs highlighted in I77b1cfeab3c00c6c3d7743ba51e12414806b71d2, filtering\neither floating IPs or floating IP pools by floating IP name will\nactually fallback to filtering by ID. Update the API ref to reflect\nthis.\n\nChange-Id: I00443ae111cbd1e1ec4d2c2ae1828ddaa095fd1a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2020-01-23 12:10:21.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/os-floating-ip-pools.inc', 'api-ref/source/os-floating-ips.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b1a33ec9ce903e2261dd5ae7b0db8e2968135dc', 'message': 'nova-net: Update API reference guide\n\nAs highlighted in I77b1cfeab3c00c6c3d7743ba51e12414806b71d2, filtering\neither floating IPs or floating IP pools by floating IP name will\nactually fallback to filtering by ID. Update the API ref to reflect\nthis.\n\nChange-Id: I00443ae111cbd1e1ec4d2c2ae1828ddaa095fd1a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,703796,0b1a33ec9ce903e2261dd5ae7b0db8e2968135dc,22,9,3,15334,,,0,"nova-net: Update API reference guide

As highlighted in I77b1cfeab3c00c6c3d7743ba51e12414806b71d2, filtering
either floating IPs or floating IP pools by floating IP name will
actually fallback to filtering by ID. Update the API ref to reflect
this.

Change-Id: I00443ae111cbd1e1ec4d2c2ae1828ddaa095fd1a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/703796/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/os-floating-ip-pools.inc', 'api-ref/source/os-floating-ips.inc']",3,9ae1f410a6a0a24a9454504371bb753098c60c41,bp/remove-nova-network-ussuri, - pool: floating_ip_pool_name_or_id - pool: floating_ip_pool_name_or_id - pool: floating_ip_pool_name_or_id - pool: floating_ip_pool_name_or_id, - pool: floating_ip_pool_name - pool: floating_ip_pool_name - pool: floating_ip_pool_name - pool: floating_ip_pool_name,13,7
openstack%2Fcharm-guide~master~I0415c716f0e600b329b9de0afe385440f6b98767,openstack/charm-guide,master,I0415c716f0e600b329b9de0afe385440f6b98767,Add notice for neutron-api config default change,MERGED,2020-02-04 09:18:19.000000000,2020-02-06 17:18:59.000000000,2020-02-06 17:14:54.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-04 09:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/536e01840f2848af794a5b2690890abb28d3ee8c', 'message': 'Add notice for neutron-api config default change\n\nForward notice of change of default for the\n``manage-neutron-plugin-legacy-mode`` configuration option in the\nupcoming 20.05 OpenStack Charms release.\n\nChange-Id: I0415c716f0e600b329b9de0afe385440f6b98767\n'}, {'number': 2, 'created': '2020-02-04 09:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/950740e45eed0607cc3dcf351b68f830b2db4f40', 'message': 'Add notice for neutron-api config default change\n\nForward notice of change of default for the\n``manage-neutron-plugin-legacy-mode`` configuration option in the\nupcoming 20.05 OpenStack Charms release.\n\nChange-Id: I0415c716f0e600b329b9de0afe385440f6b98767\n'}, {'number': 3, 'created': '2020-02-06 12:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9e828ea9f1706f980973cfabc550544409b852aa', 'message': 'Add notice for neutron-api config default change\n\nForward notice of change of default for the\n``manage-neutron-plugin-legacy-mode`` configuration option in the\nupcoming 20.05 OpenStack Charms release.\n\nChange-Id: I0415c716f0e600b329b9de0afe385440f6b98767\n'}, {'number': 4, 'created': '2020-02-06 13:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0edf04252d058823c68e1ff7a8177080aa125e26', 'message': 'Add notice for neutron-api config default change\n\nForward notice of change of default for the\n``manage-neutron-plugin-legacy-mode`` configuration option in the\nupcoming 20.05 OpenStack Charms release.\n\nChange-Id: I0415c716f0e600b329b9de0afe385440f6b98767\n'}, {'number': 5, 'created': '2020-02-06 13:15:08.000000000', 'files': ['doc/source/2002.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e57e00a266140432badbb32f21a60ffeba22e5e6', 'message': 'Add notice for neutron-api config default change\n\nForward notice of change of default for the\n``manage-neutron-plugin-legacy-mode`` configuration option in the\nupcoming 20.05 OpenStack Charms release.\n\nChange-Id: I0415c716f0e600b329b9de0afe385440f6b98767\n'}]",7,705618,e57e00a266140432badbb32f21a60ffeba22e5e6,20,4,5,13686,,,0,"Add notice for neutron-api config default change

Forward notice of change of default for the
``manage-neutron-plugin-legacy-mode`` configuration option in the
upcoming 20.05 OpenStack Charms release.

Change-Id: I0415c716f0e600b329b9de0afe385440f6b98767
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/18/705618/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2002.rst'],1,536e01840f2848af794a5b2690890abb28d3ee8c,ovn-charm,"Neutron API upcoming change of default ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Starting with the upcoming 20.05 OpenStack Charms release deploying OpenStack Ussuri or newer, the ``neutron-api`` charm will have a change of default for the ``manage-neutron-plugin-legacy-mode`` configuration option. The backdrop of the change is: - During the Ussuri cycle the upstream Neutron project will switch to promote ML2+OVN as its default reference implementation, replacing the traditional ML2+OVS and ML2+OVS+DVR implementations. See the `Toward Convergence of ML2+OVS+DVR and OVN`_ Neutron specification for more information. - Switch to a more sensible default mode of operation enabling easier integration with the rich plugin ecoystem for OpenStack Neutron. .. _Toward Convergence of ML2+OVS+DVR and OVN: http://specs.openstack.org/openstack/neutron-specs/specs/ussuri/ml2ovs-ovn-convergence.html",,19,1
openstack%2Fcharm-guide~master~Id89e8fa4181f44e0308f694b977ad07bb2aac2cd,openstack/charm-guide,master,Id89e8fa4181f44e0308f694b977ad07bb2aac2cd,Inform of the need for migration to mysql8 charms,MERGED,2020-02-05 23:25:57.000000000,2020-02-06 17:16:55.000000000,2020-02-06 17:14:53.000000000,"[{'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-05 23:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/557fe81eb584f3ff402d1b39bd342b7bbcab1782', 'message': 'Inform of the need to migration to mysql8 charms\n\nPercona cluster is going away in Focal. Warn users to be prepared to\nmigrate to mysql-innodb-cluster and mysql-router.\n\nChange-Id: Id89e8fa4181f44e0308f694b977ad07bb2aac2cd\n'}, {'number': 2, 'created': '2020-02-06 16:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f6873c4918690f904ae627bc554692dc9c8e8e12', 'message': 'Inform of the need for migration to mysql8 charms\n\nPercona cluster is going away in Focal. Warn users to be prepared to\nmigrate to mysql-innodb-cluster and mysql-router.\n\nChange-Id: Id89e8fa4181f44e0308f694b977ad07bb2aac2cd\n'}, {'number': 3, 'created': '2020-02-06 16:57:30.000000000', 'files': ['doc/source/2002.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/787d47bddb0d8f81163e8083c5944b6371a3ce53', 'message': 'Inform of the need for migration to mysql8 charms\n\nPercona cluster is going away in Focal. Warn users to be prepared to\nmigrate to mysql-innodb-cluster and mysql-router.\n\nChange-Id: Id89e8fa4181f44e0308f694b977ad07bb2aac2cd\n'}]",17,706154,787d47bddb0d8f81163e8083c5944b6371a3ce53,15,4,3,20805,,,0,"Inform of the need for migration to mysql8 charms

Percona cluster is going away in Focal. Warn users to be prepared to
migrate to mysql-innodb-cluster and mysql-router.

Change-Id: Id89e8fa4181f44e0308f694b977ad07bb2aac2cd
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/54/706154/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2002.rst'],1,557fe81eb584f3ff402d1b39bd342b7bbcab1782,20.02-mysql8," charm application and should be named for the application. i.e. <applicatoin-name>-mysql-router juju deploy cs:~openstack-charmers-next/mysql-router keystone-mysql-rotuer juju add-relation keystone-mysql-router:shared-db keystone:shared-db juju add-relation keystone-mysql-router:db-router mysql-innodb-cluster:db-router .. warning :: In Ubuntu 20.04 Focal percona-cluster will no longer be availble. Therefore, Charmed OpenStack clouds will need to migrate from percona-cluster to the mysql-router and mysql-innodb-cluster charms. The mysql-router and mysql-innodb-cluster charms will replace the percona-cluster charm completely in the 20.05 Charms release. Both charms are available now in the 20.02 Charms release for use with Ubuntu 19.10 Eoan. The migration process is currently under development in the charms to ease the number of required steps. A high level overview is as follows: * Deploy mysql-innodb-cluster along side an existing deployment * Remove the relationship from an application and the percona-cluster charm * Dump the existing database from percona-cluster * Import the database in mysql-innodb-cluster * Deploy and relate an instantiation of mysql-router to the client charm i.e. <application-name>-mysql-router * Relate <application-name>-mysql-router to mysql-innodb-cluster ", charm application. juju deploy cs:~openstack-charmers-next/mysql-router juju add-relation mysql-router:db-router mysql-innodb-cluster:db-router,29,3
openstack%2Fnova~master~I50c79843bf819b731c597dbfe72090cdf02c7641,openstack/nova,master,I50c79843bf819b731c597dbfe72090cdf02c7641,Don't error out on floating IPs without associated ports,MERGED,2020-02-06 10:06:16.000000000,2020-02-06 17:16:52.000000000,2020-02-06 17:12:19.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 10:06:16.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aec3ca0765e85a8bb619cd38b5411a4fbc0acaf3', 'message': ""Don't error out on floating IPs without associated ports\n\nFloating IPs don't have to have an associated port, so there's no reason\nto error out when this is the case.\n\nChange-Id: I50c79843bf819b731c597dbfe72090cdf02c7641\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1861876\n""}]",1,706213,aec3ca0765e85a8bb619cd38b5411a4fbc0acaf3,14,10,1,15334,,,0,"Don't error out on floating IPs without associated ports

Floating IPs don't have to have an associated port, so there's no reason
to error out when this is the case.

Change-Id: I50c79843bf819b731c597dbfe72090cdf02c7641
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-bug: #1861876
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/706213/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,aec3ca0765e85a8bb619cd38b5411a4fbc0acaf3,bug/1861876, # it's possible to create floating IPs without a port fip['port_details'] = None # it's possible to create floating IPs without a port fip['port_details'] = None if port_id in ports: fip['port_details'] = ports[port_id] else: # it's possible to create floating IPs without a port fip['port_details'] = None, raise exception.PortNotFound(port_id=port_id) raise exception.PortNotFound(port_id=port_id) if port_id not in ports: raise exception.PortNotFound(port_id=port_id) fip['port_details'] = ports[port_id],77,32
openstack%2Fnetworking-ovn~stable%2Ftrain~Id95e6e7f9420d3a1c7c98e93f88fbb824161759b,openstack/networking-ovn,stable/train,Id95e6e7f9420d3a1c7c98e93f88fbb824161759b,[WIP] Don't reschedule hosts unless we need to,ABANDONED,2020-02-01 18:42:03.000000000,2020-02-06 17:16:47.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-01 18:42:03.000000000', 'files': ['networking_ovn/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f07fa690fdb6bfe5bd118055c77f6775a5d8c492', 'message': ""[WIP] Don't reschedule hosts unless we need to\n\nOnly reschedule gateways/update segments when things have changed\nthat would require those actions.\n\nChange-Id: Id95e6e7f9420d3a1c7c98e93f88fbb824161759b\nCloses-bug: #1861510\n""}]",5,705331,f07fa690fdb6bfe5bd118055c77f6775a5d8c492,10,5,1,5756,,,0,"[WIP] Don't reschedule hosts unless we need to

Only reschedule gateways/update segments when things have changed
that would require those actions.

Change-Id: Id95e6e7f9420d3a1c7c98e93f88fbb824161759b
Closes-bug: #1861510
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/31/705331/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/ovsdb_monitor.py'],1,f07fa690fdb6bfe5bd118055c77f6775a5d8c492,fix_unnecessary_reschedule," def match_fn(self, event, row, old): if event != self.ROW_UPDATE: return True try: if ('ovn-bridge-mappings' in old.external_ids or 'enable-chassis-as-gw' in old.external_ids['ovn-cms-mappings']): return True except (AttributeError, KeyError): return False return False ",,12,0
openstack%2Fnova~stable%2Fqueens~I644608b4e197ddea31c5f264adb492f2c8931f04,openstack/nova,stable/queens,I644608b4e197ddea31c5f264adb492f2c8931f04,Add functional recreate test for bug 1852610,MERGED,2019-12-18 15:35:48.000000000,2020-02-06 17:12:31.000000000,2020-02-06 17:12:30.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-18 15:35:48.000000000', 'files': ['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/922098044b37c66c51e83f4879c1f37ae999f196', 'message': 'Add functional recreate test for bug 1852610\n\nIt is possible to delete a source compute service which has\npending migration-based allocations and servers in VERIFY_RESIZE\nstatus. Doing so deletes the compute service and compute node\nbut orphans the source node resource provider along with its\nresource allocations held by the migration record while there\nis a pending resized server.\n\nThis adds a simple cold migrate test which deletes the source\ncompute service while the server is in VERIFY_RESIZE status and\nthen tries to confirm the resize which fails.\n\nConflicts:\n      nova/tests/functional/integrated_helpers.py\n\nNOTE(mriedem): The conflict is due to not having change\nIea283322124cb35fc0bc6d25f35548621e8c8c2f in Queens. As a result\nthe helper methods are moved from ServerMovingTests to\nProviderUsageBaseTestCase within test_servers.py.\n\nChange-Id: I644608b4e197ddea31c5f264adb492f2c8931f04\nRelated-Bug: #1852610\n(cherry picked from commit 94d3743b185d22c07504f5d878dff2f9ef42cee3)\n(cherry picked from commit 28d76cc7ae5c86d251915392b5b961a975b343ae)\n(cherry picked from commit 7d673872462f53d0ce5e651263253ec4057a2138)\n(cherry picked from commit 1563a15c8b4bcf1a602f72a549c8d9c56ed7da4e)\n'}]",0,699705,922098044b37c66c51e83f4879c1f37ae999f196,9,5,1,6873,,,0,"Add functional recreate test for bug 1852610

It is possible to delete a source compute service which has
pending migration-based allocations and servers in VERIFY_RESIZE
status. Doing so deletes the compute service and compute node
but orphans the source node resource provider along with its
resource allocations held by the migration record while there
is a pending resized server.

This adds a simple cold migrate test which deletes the source
compute service while the server is in VERIFY_RESIZE status and
then tries to confirm the resize which fails.

Conflicts:
      nova/tests/functional/integrated_helpers.py

NOTE(mriedem): The conflict is due to not having change
Iea283322124cb35fc0bc6d25f35548621e8c8c2f in Queens. As a result
the helper methods are moved from ServerMovingTests to
ProviderUsageBaseTestCase within test_servers.py.

Change-Id: I644608b4e197ddea31c5f264adb492f2c8931f04
Related-Bug: #1852610
(cherry picked from commit 94d3743b185d22c07504f5d878dff2f9ef42cee3)
(cherry picked from commit 28d76cc7ae5c86d251915392b5b961a975b343ae)
(cherry picked from commit 7d673872462f53d0ce5e651263253ec4057a2138)
(cherry picked from commit 1563a15c8b4bcf1a602f72a549c8d9c56ed7da4e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/699705/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/test_servers.py']",2,922098044b37c66c51e83f4879c1f37ae999f196,bug/1852610," def _move_and_check_allocations(self, server, request, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid): self.api.post_server_action(server['id'], request) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') def _check_allocation(): source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(old_flavor, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(new_flavor, dest_usages) # The instance should own the new_flavor allocation against the # destination host created by the scheduler allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_alloc = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(new_flavor, dest_alloc) # The migration should own the old_flavor allocation against the # source host created by conductor migration_uuid = self.get_migration_uuid_for_instance(server['id']) allocations = self._get_allocations_by_server_uuid(migration_uuid) source_alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(old_flavor, source_alloc) # OK, so the move operation has run, but we have not yet confirmed or # reverted the move operation. Before we run periodics, make sure # that we have allocations/usages on BOTH the source and the # destination hosts. _check_allocation() self._run_periodics() _check_allocation() # Make sure the RequestSpec.flavor matches the new_flavor. ctxt = context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(new_flavor['id'], reqspec.flavor.flavorid) def _migrate_and_check_allocations(self, server, flavor, source_rp_uuid, dest_rp_uuid): request = { 'migrate': None } self._move_and_check_allocations( server, request=request, old_flavor=flavor, new_flavor=flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) "," def _migrate_and_check_allocations(self, server, flavor, source_rp_uuid, dest_rp_uuid): request = { 'migrate': None } self._move_and_check_allocations( server, request=request, old_flavor=flavor, new_flavor=flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) def _move_and_check_allocations(self, server, request, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid): self.api.post_server_action(server['id'], request) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') def _check_allocation(): source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(old_flavor, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(new_flavor, dest_usages) # The instance should own the new_flavor allocation against the # destination host created by the scheduler allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(1, len(allocations)) dest_alloc = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(new_flavor, dest_alloc) # The migration should own the old_flavor allocation against the # source host created by conductor migration_uuid = self.get_migration_uuid_for_instance(server['id']) allocations = self._get_allocations_by_server_uuid(migration_uuid) source_alloc = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(old_flavor, source_alloc) # OK, so the move operation has run, but we have not yet confirmed or # reverted the move operation. Before we run periodics, make sure # that we have allocations/usages on BOTH the source and the # destination hosts. _check_allocation() self._run_periodics() _check_allocation() # Make sure the RequestSpec.flavor matches the new_flavor. ctxt = context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(new_flavor['id'], reqspec.flavor.flavorid) ",82,47
openstack%2Fpython-octaviaclient~master~I4cb32bcc4681bd99f178d31547af37a7c582d210,openstack/python-octaviaclient,master,I4cb32bcc4681bd99f178d31547af37a7c582d210,Fix long CLI error messages,MERGED,2020-01-27 16:47:32.000000000,2020-02-06 16:53:05.000000000,2020-02-06 16:50:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-01-27 16:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/afebb812876bd3758c005f0bb682f52bfb9a91e5', 'message': 'Fix long CLI error messages\n\nThe python-octaviaclient plugin was using ""choices"" for validating\nport numbers and weights. The cliff ""choices"" parameter will output\nan error that includes every valid ""choice"". For port numbers, this\nis 65,000+ valid options.\nThis patch changes this to produce a more user friendly error\nmessage.\n\nChange-Id: I4cb32bcc4681bd99f178d31547af37a7c582d210\nStory: 2007218\nTask: 38470\n'}, {'number': 2, 'created': '2020-01-27 17:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ab9bb9cd431ce9381c1d4d24b9866bd2e06df23c', 'message': 'Fix long CLI error messages\n\nThe python-octaviaclient plugin was using ""choices"" for validating\nport numbers and weights. The cliff ""choices"" parameter will output\nan error that includes every valid ""choice"". For port numbers, this\nis 65,000+ valid options.\nThis patch changes this to produce a more user friendly error\nmessage.\n\nChange-Id: I4cb32bcc4681bd99f178d31547af37a7c582d210\nStory: 2007218\nTask: 38470\n'}, {'number': 3, 'created': '2020-01-27 18:11:30.000000000', 'files': ['octaviaclient/osc/v2/member.py', 'octaviaclient/tests/unit/osc/v2/test_validations.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/validate.py', 'octaviaclient/osc/v2/listener.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/cc3e82d5de7dea0dc4edce53074ab72db773a3e0', 'message': 'Fix long CLI error messages\n\nThe python-octaviaclient plugin was using ""choices"" for validating\nport numbers and weights. The cliff ""choices"" parameter will output\nan error that includes every valid ""choice"". For port numbers, this\nis 65,000+ valid options.\nThis patch changes this to produce a more user friendly error\nmessage.\n\nThis patch also fixes the listener protocol-port type validation.\n\nChange-Id: I4cb32bcc4681bd99f178d31547af37a7c582d210\nStory: 2007218\nTask: 38470\n'}]",2,704355,cc3e82d5de7dea0dc4edce53074ab72db773a3e0,18,7,3,11628,,,0,"Fix long CLI error messages

The python-octaviaclient plugin was using ""choices"" for validating
port numbers and weights. The cliff ""choices"" parameter will output
an error that includes every valid ""choice"". For port numbers, this
is 65,000+ valid options.
This patch changes this to produce a more user friendly error
message.

This patch also fixes the listener protocol-port type validation.

Change-Id: I4cb32bcc4681bd99f178d31547af37a7c582d210
Story: 2007218
Task: 38470
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/55/704355/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/member.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/validate.py', 'octaviaclient/osc/v2/listener.py']",4,afebb812876bd3758c005f0bb682f52bfb9a91e5,,from octaviaclient.osc.v2 import validate validate.check_listener_attrs(attrs) validate.check_listener_attrs(attrs) ,,59,5
openstack%2Fkuryr-kubernetes~master~Iab77c0ba67d836c49f91aa9d896d47448e734e79,openstack/kuryr-kubernetes,master,Iab77c0ba67d836c49f91aa9d896d47448e734e79,Fix port creation with generated payload.,MERGED,2020-01-30 10:05:10.000000000,2020-02-06 16:34:40.000000000,2020-02-06 16:30:26.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-30 10:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e60557cdcddfe78c0c0582b34f5129368879bc90', 'message': ""Fix port creation with generated payload.\n\nDrivers nested_macvlan_vif and sriov have _get_port_request helper\nmethod for generating payload used for port creation. There was\ninconsistency in it's usage. In this patch we stright this up.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Iab77c0ba67d836c49f91aa9d896d47448e734e79\n""}, {'number': 2, 'created': '2020-01-30 13:23:23.000000000', 'files': ['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f2eb7ef686bbb0856bcd7ca031d0bd571f10a4b3', 'message': ""Fix port creation with generated payload.\n\nDrivers nested_macvlan_vif and sriov have _get_port_request helper\nmethod for generating payload used for port creation. There was\ninconsistency in it's usage. In this patch we stright this up.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: Iab77c0ba67d836c49f91aa9d896d47448e734e79\n""}]",0,704950,f2eb7ef686bbb0856bcd7ca031d0bd571f10a4b3,35,5,2,13692,,,0,"Fix port creation with generated payload.

Drivers nested_macvlan_vif and sriov have _get_port_request helper
method for generating payload used for port creation. There was
inconsistency in it's usage. In this patch we stright this up.

Implements: blueprint switch-to-openstacksdk
Change-Id: Iab77c0ba67d836c49f91aa9d896d47448e734e79
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/50/704950/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/sriov.py']",3,e60557cdcddfe78c0c0582b34f5129368879bc90,bp/switch-to-openstacksdk, continue continue return port_req_body, continue continue return {'port': port_req_body},6,6
openstack%2Fkuryr-kubernetes~master~I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a,openstack/kuryr-kubernetes,master,I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a,Refactor neutron tag resources for macvlan driver.,MERGED,2020-01-29 12:32:10.000000000,2020-02-06 16:32:11.000000000,2020-02-06 16:30:25.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-29 12:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e961924c5b87cc58d83a2a82a9f5fabef32a0716', 'message': 'Refactor neutron tag resources for macvlan driver.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a\n'}, {'number': 2, 'created': '2020-01-29 12:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/081793dddf44ac93feda21943b982b31b5bafed9', 'message': 'Refactor neutron tag resources for macvlan driver.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a\n'}, {'number': 3, 'created': '2020-01-30 09:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/11b0d08c33fc371b7160d7a1dd2ffa058bc7d85c', 'message': 'Refactor neutron tag resources for macvlan driver.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a\n'}, {'number': 4, 'created': '2020-01-30 13:23:23.000000000', 'files': ['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f2a0cf951c60975faae0633710e121dac648b049', 'message': 'Refactor neutron tag resources for macvlan driver.\n\nImplements: blueprint switch-to-openstacksdk\nChange-Id: I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a\n'}]",5,704789,f2a0cf951c60975faae0633710e121dac648b049,51,5,4,13692,,,0,"Refactor neutron tag resources for macvlan driver.

Implements: blueprint switch-to-openstacksdk
Change-Id: I5db29bcd65e5f97e1c94ee2d863e81cd63bf8d4a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/89/704789/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py'],1,e961924c5b87cc58d83a2a82a9f5fabef32a0716,bp/switch-to-openstacksdk," _tag_neutron_port(container_port['id'])def _tag_neutron_port(res_id): if not tags: return neutron = clients.get_neutron_client() try: neutron.replace_tag('ports', res_id, body={""tags"": tags}) except n_exc.NeutronClientException: LOG.warning(""Failed to tag port %s with %s. Ignoring, but this is "" ""still unexpected."", res_id, tags, exc_info=True)"," _tag_neutron_resources('ports', [container_port['id']])def _tag_neutron_resources(resource, res_ids): if tags: neutron = clients.get_neutron_client() for res_id in res_ids: try: neutron.replace_tag(resource, res_id, body={""tags"": tags}) except n_exc.NeutronClientException: LOG.warning(""Failed to tag %s %s with %s. Ignoring, but this "" ""is still unexpected."", resource, res_id, tags, exc_info=True)",12,11
openstack%2Fnova-specs~master~I637665f0b05a863f31255274f6b96f3a58d5afa4,openstack/nova-specs,master,I637665f0b05a863f31255274f6b96f3a58d5afa4,FUP: Fixed the invalid index in References,MERGED,2020-02-05 11:35:19.000000000,2020-02-06 16:27:21.000000000,2020-02-06 16:22:13.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-02-05 11:35:19.000000000', 'files': ['specs/ussuri/approved/action-event-fault-details.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/001ddac9ec170d7c2c4679eda7d657b2b238073b', 'message': 'FUP: Fixed the invalid index in References\n\nChange-Id: I637665f0b05a863f31255274f6b96f3a58d5afa4\n'}]",1,705933,001ddac9ec170d7c2c4679eda7d657b2b238073b,8,5,1,26458,,,0,"FUP: Fixed the invalid index in References

Change-Id: I637665f0b05a863f31255274f6b96f3a58d5afa4
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/33/705933/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/action-event-fault-details.rst'],1,001ddac9ec170d7c2c4679eda7d657b2b238073b,bp/action-event-fault-details,`exception class name`_ (In the defined ``exception_to_dict`` function to do ``message = fault.__class__.__name__``). ,`exception class name`_. In the defined ``exception_to_dict`` function to do ``message = fault.__class__.__name__`` (Just avoid invalid link). ,2,3
openstack%2Fcinder~master~I59d56889b28663a2248a7ba6cfad4f8260dfb9c8,openstack/cinder,master,I59d56889b28663a2248a7ba6cfad4f8260dfb9c8,Update driver removal policy,MERGED,2020-01-29 23:02:34.000000000,2020-02-06 15:59:10.000000000,2020-02-06 15:47:41.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18784}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28050}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-01-29 23:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d7953578c49bf251c6481d44385cf91bf71000e', 'message': 'Update driver removal policy\n\nThis change follows the discussion of this issue at the 29 January\n2020 Cinder weekly meeting.\n\nChange-Id: I59d56889b28663a2248a7ba6cfad4f8260dfb9c8\n'}, {'number': 2, 'created': '2020-01-30 15:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a2c460a1008f1ec562b92502b6fc4eedc9e8d02', 'message': 'Update driver removal policy\n\nThis change follows the discussion of this issue at the 29 January\n2020 Cinder weekly meeting.\n\nChange-Id: I59d56889b28663a2248a7ba6cfad4f8260dfb9c8\n'}, {'number': 3, 'created': '2020-01-30 17:10:57.000000000', 'files': ['doc/source/drivers-all-about.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/98f08db8588b64c9488d7ccda15782922efdb443', 'message': 'Update driver removal policy\n\nThis change follows the discussion of this issue at the 29 January\n2020 Cinder weekly meeting.\n\nChange-Id: I59d56889b28663a2248a7ba6cfad4f8260dfb9c8\n'}]",8,704906,98f08db8588b64c9488d7ccda15782922efdb443,81,26,3,5314,,,0,"Update driver removal policy

This change follows the discussion of this issue at the 29 January
2020 Cinder weekly meeting.

Change-Id: I59d56889b28663a2248a7ba6cfad4f8260dfb9c8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/704906/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/drivers-all-about.rst'],1,9d7953578c49bf251c6481d44385cf91bf71000e,update-driver-removal-policy,"eligible for removal from the Cinder code repository per the standard OpenStack deprecation policy. Driver Removal -------------- **(Added January 2020**) As stated above, an unsupported driver is eligible for removal during the development cycle following the release in which it was marked 'unsupported'. (For example, a driver marked 'unsupported' in the Ussuri release is eligible for removal during the development cycle leading up to the Victoria release.) During the Ussuri development cycle, the Cinder team decided that drivers eligible for removal, at the discretion of the team, may remain in the code repository *as long as they continue to pass OpenStack CI testing.* When such a driver blocks the CI check or gate, it will be removed immediately. (This does not violate the OpenStack deprecation policy because such a driver's deprecation period began when it was marked as 'unsupported'.) Thus, unsupported drivers *may* remain in the code repository for multiple releases following their declaration as 'unsupported'. Operators should therefore take into account the length a driver has been marked 'unsupported' when deciding to deploy an unsupported driver. This is because as an unmaintained driver ages, updates and bugfixes to libraries and other software it depends on may cause the driver to fail unit and functional tests, making it subject to immediate removal. The intent of this policy revision is to give vendors a longer grace period in which to make the necessary changes to have their drivers reinstated as 'supported' and to make it easier on operators who have deployed storage backends whose drivers have been marked as 'unsupported'. Operators should keep the above points in mind, however, when deploying such a driver.",removed from the Cinder code repository per the standard OpenStack deprecation policy.,32,2
openstack%2Fcharm-keystone-ldap~master~I6a83ec940225d19c82235e2edae7b7f137e7c08f,openstack/charm-keystone-ldap,master,I6a83ec940225d19c82235e2edae7b7f137e7c08f,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:33.000000000,2020-02-06 15:59:00.000000000,2020-02-06 15:58:59.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:33.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/d61b2ea23001ce6150e3e11ca43f170dcfb3ae85', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I6a83ec940225d19c82235e2edae7b7f137e7c08f\n'}]",0,706027,d61b2ea23001ce6150e3e11ca43f170dcfb3ae85,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I6a83ec940225d19c82235e2edae7b7f137e7c08f
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/27/706027/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d61b2ea23001ce6150e3e11ca43f170dcfb3ae85,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Foctavia-lib~master~Ia4e3519f99d9d1bc68d70b1f21173b0b2ec187c1,openstack/octavia-lib,master,Ia4e3519f99d9d1bc68d70b1f21173b0b2ec187c1,Complete dropping py27 support goal,MERGED,2020-01-20 20:42:29.000000000,2020-02-06 15:58:54.000000000,2020-02-06 15:56:54.000000000,"[{'_account_id': 6469}, {'_account_id': 8556}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-20 20:42:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c5f9385b6c6072e74245e60d55e86afa04c73541', 'message': 'Complete dropping py27 support goal\n\nThis takes care of the last details for dropping py27\nsupport by adding a proper min version of python in setup.cfg.\n\nChange-Id: Ia4e3519f99d9d1bc68d70b1f21173b0b2ec187c1\n'}]",0,703499,c5f9385b6c6072e74245e60d55e86afa04c73541,11,4,1,1131,,,0,"Complete dropping py27 support goal

This takes care of the last details for dropping py27
support by adding a proper min version of python in setup.cfg.

Change-Id: Ia4e3519f99d9d1bc68d70b1f21173b0b2ec187c1
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/99/703499/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c5f9385b6c6072e74245e60d55e86afa04c73541,drop-py27-support,python-requires = >=3.6,,1,0
openstack%2Fcharm-pacemaker-remote~master~Ib43009c34431dd624a4a5dd368ce2694257fdc2f,openstack/charm-pacemaker-remote,master,Ib43009c34431dd624a4a5dd368ce2694257fdc2f,Rebuild for 20.02 release,MERGED,2020-02-05 17:02:49.000000000,2020-02-06 15:58:53.000000000,2020-02-06 15:58:53.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 17:02:49.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/b131052d6b2fa3594ddc7cf1647f0c78ea9152b4', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ib43009c34431dd624a4a5dd368ce2694257fdc2f\n'}]",0,706044,b131052d6b2fa3594ddc7cf1647f0c78ea9152b4,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: Ib43009c34431dd624a4a5dd368ce2694257fdc2f
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/44/706044/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b131052d6b2fa3594ddc7cf1647f0c78ea9152b4,rebuild-reactive-2002,52737480-4839-11ea-8ea6-4bb6c0f4660c,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-aodh~master~I0bacaca5c7c47fcebbe12b1c72a9bb5cd78904bb,openstack/charm-aodh,master,I0bacaca5c7c47fcebbe12b1c72a9bb5cd78904bb,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:05.000000000,2020-02-06 15:58:52.000000000,2020-02-06 15:58:52.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:05.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/b9e805773368e4899d891d48c3b30f4621100538', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I0bacaca5c7c47fcebbe12b1c72a9bb5cd78904bb\n'}]",0,706016,b9e805773368e4899d891d48c3b30f4621100538,11,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I0bacaca5c7c47fcebbe12b1c72a9bb5cd78904bb
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/16/706016/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b9e805773368e4899d891d48c3b30f4621100538,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-octavia-dashboard~master~I32c2720d1509fd6a27fc43d0b31eae2b7c356e22,openstack/charm-octavia-dashboard,master,I32c2720d1509fd6a27fc43d0b31eae2b7c356e22,Rebuild for 20.02 release,MERGED,2020-02-05 16:55:02.000000000,2020-02-06 15:57:02.000000000,2020-02-06 15:57:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:55:02.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/72d72e22e1719315dd03849dd094d5edc2bc25b1', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I32c2720d1509fd6a27fc43d0b31eae2b7c356e22\n'}]",0,706039,72d72e22e1719315dd03849dd094d5edc2bc25b1,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I32c2720d1509fd6a27fc43d0b31eae2b7c356e22
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/39/706039/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,72d72e22e1719315dd03849dd094d5edc2bc25b1,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-ceph-fs~master~Ie4f42115d1a8f8ea19b24df2adae71e4df3a2d77,openstack/charm-ceph-fs,master,Ie4f42115d1a8f8ea19b24df2adae71e4df3a2d77,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:39.000000000,2020-02-06 15:55:08.000000000,2020-02-06 15:55:08.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:39.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/cc686ef9b6fd209c04bb4d5552b6e3bcb91edd58', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ie4f42115d1a8f8ea19b24df2adae71e4df3a2d77\n'}]",0,706020,cc686ef9b6fd209c04bb4d5552b6e3bcb91edd58,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: Ie4f42115d1a8f8ea19b24df2adae71e4df3a2d77
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/20/706020/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,cc686ef9b6fd209c04bb4d5552b6e3bcb91edd58,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,6a4e8d66-b54e-11e9-9e21-27ae1864b062,1,1
openstack%2Fcharm-neutron-dynamic-routing~master~I1b1e8a1e0166d52c67305218cfc5933b1ff713a6,openstack/charm-neutron-dynamic-routing,master,I1b1e8a1e0166d52c67305218cfc5933b1ff713a6,Rebuild for 20.02 release,MERGED,2020-02-05 16:54:42.000000000,2020-02-06 15:55:04.000000000,2020-02-06 15:55:04.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:54:42.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/844226fe1f64f56f2a8e6139c13c939c38f4e01a', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I1b1e8a1e0166d52c67305218cfc5933b1ff713a6\n'}]",0,706036,844226fe1f64f56f2a8e6139c13c939c38f4e01a,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I1b1e8a1e0166d52c67305218cfc5933b1ff713a6
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/36/706036/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,844226fe1f64f56f2a8e6139c13c939c38f4e01a,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,6a4e8d66-b54e-11e9-9e21-27ae1864b062,1,1
openstack%2Fcharm-cinder-backup-swift-proxy~master~I4a2626a91cc9f5d5d2d6a2574596e699b156e1e9,openstack/charm-cinder-backup-swift-proxy,master,I4a2626a91cc9f5d5d2d6a2574596e699b156e1e9,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:53.000000000,2020-02-06 15:55:01.000000000,2020-02-06 15:55:01.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:53.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/c3cf0d79bb776a721e9710bb8cc18045f6e63d40', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I4a2626a91cc9f5d5d2d6a2574596e699b156e1e9\n'}]",0,706022,c3cf0d79bb776a721e9710bb8cc18045f6e63d40,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I4a2626a91cc9f5d5d2d6a2574596e699b156e1e9
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/22/706022/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,c3cf0d79bb776a721e9710bb8cc18045f6e63d40,rebuild-reactive-2002,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new d1c16faa-4837-11ea-810e-97e1f362d969 ",,5,0
openstack%2Fcharm-manila-ganesha~master~Ic8bf95093607d53d2afac9a37a79e7f7422d085c,openstack/charm-manila-ganesha,master,Ic8bf95093607d53d2afac9a37a79e7f7422d085c,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:59.000000000,2020-02-06 15:54:33.000000000,2020-02-06 15:54:33.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:59.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/f333cfbf549edea1a4948577449b76a9f5719215', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ic8bf95093607d53d2afac9a37a79e7f7422d085c\n'}]",0,706030,f333cfbf549edea1a4948577449b76a9f5719215,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: Ic8bf95093607d53d2afac9a37a79e7f7422d085c
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/30/706030/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f333cfbf549edea1a4948577449b76a9f5719215,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-neutron-api-plugin-ovn~master~I939be15ecbf7e5fc00a9beddd7fb18d244b8277d,openstack/charm-neutron-api-plugin-ovn,master,I939be15ecbf7e5fc00a9beddd7fb18d244b8277d,Rebuild for 20.02 release,MERGED,2020-02-05 16:54:35.000000000,2020-02-06 15:54:10.000000000,2020-02-06 15:54:10.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:54:35.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/ae9c87833e797a1a1c612903efb912c335b0a19a', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I939be15ecbf7e5fc00a9beddd7fb18d244b8277d\n'}]",0,706035,ae9c87833e797a1a1c612903efb912c335b0a19a,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I939be15ecbf7e5fc00a9beddd7fb18d244b8277d
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/35/706035/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ae9c87833e797a1a1c612903efb912c335b0a19a,rebuild-reactive-2002,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new d1c16faa-4837-11ea-810e-97e1f362d969 ",,5,0
openstack%2Fcharm-barbican~master~I41e42ee1c3c2363127235ce8a5b01c38694cecbb,openstack/charm-barbican,master,I41e42ee1c3c2363127235ce8a5b01c38694cecbb,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:17.000000000,2020-02-06 15:53:47.000000000,2020-02-06 15:53:47.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:17.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/8c40794869e7e1bd0c88d8aa546d50ca1619fbc7', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I41e42ee1c3c2363127235ce8a5b01c38694cecbb\n'}]",0,706017,8c40794869e7e1bd0c88d8aa546d50ca1619fbc7,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I41e42ee1c3c2363127235ce8a5b01c38694cecbb
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/17/706017/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,8c40794869e7e1bd0c88d8aa546d50ca1619fbc7,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-cinder-purestorage~master~Ib098b96ae8cf4a313160f1d73ee6066dda8794e6,openstack/charm-cinder-purestorage,master,Ib098b96ae8cf4a313160f1d73ee6066dda8794e6,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:00.000000000,2020-02-06 15:53:24.000000000,2020-02-06 15:53:24.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/bf0e969ba19e8a34a2fb921ff91c38593e10ef4e', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ib098b96ae8cf4a313160f1d73ee6066dda8794e6\n'}, {'number': 2, 'created': '2020-02-06 06:40:38.000000000', 'files': ['rebuild', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/99c4164a3c585f55e7abeb65e6492176099a2320', 'message': 'Rebuild for 20.02 release\n\nRemove disco.\n\nChange-Id: Ib098b96ae8cf4a313160f1d73ee6066dda8794e6\n'}]",0,706023,99c4164a3c585f55e7abeb65e6492176099a2320,14,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco.

Change-Id: Ib098b96ae8cf4a313160f1d73ee6066dda8794e6
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/23/706023/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,bf0e969ba19e8a34a2fb921ff91c38593e10ef4e,rebuild-reactive-2002,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new d1c16faa-4837-11ea-810e-97e1f362d969 ",,5,0
openstack%2Fcharm-designate~master~I3c14268a9dd7b3601507274c041ea276891847e7,openstack/charm-designate,master,I3c14268a9dd7b3601507274c041ea276891847e7,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:08.000000000,2020-02-06 15:53:19.000000000,2020-02-06 15:53:19.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:08.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/6b58798d6fd0256d92aa9d2338fa28e9cda6a1e6', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I3c14268a9dd7b3601507274c041ea276891847e7\n'}]",0,706024,6b58798d6fd0256d92aa9d2338fa28e9cda6a1e6,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I3c14268a9dd7b3601507274c041ea276891847e7
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/24/706024/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,6b58798d6fd0256d92aa9d2338fa28e9cda6a1e6,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-nova-cell-controller~master~Ia503af4d0156d4ee98fa8158660552b3d7beb3d6,openstack/charm-nova-cell-controller,master,Ia503af4d0156d4ee98fa8158660552b3d7beb3d6,Rebuild for 20.02 release,MERGED,2020-02-05 16:54:49.000000000,2020-02-06 15:53:00.000000000,2020-02-06 15:53:00.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/3fea43becba3f5e0ad64f32dca105062a13acf6f', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ia503af4d0156d4ee98fa8158660552b3d7beb3d6\n'}, {'number': 2, 'created': '2020-02-06 06:54:28.000000000', 'files': ['rebuild', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/f396ba9aceeb8460f0b5745f4b2b94de8d7e50a9', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: Ia503af4d0156d4ee98fa8158660552b3d7beb3d6\n'}]",0,706037,f396ba9aceeb8460f0b5745f4b2b94de8d7e50a9,14,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: Ia503af4d0156d4ee98fa8158660552b3d7beb3d6
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/37/706037/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3fea43becba3f5e0ad64f32dca105062a13acf6f,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-barbican-vault~master~I22742fb346399ceaa2088a269c04dbd2ebf32fc4,openstack/charm-barbican-vault,master,I22742fb346399ceaa2088a269c04dbd2ebf32fc4,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:32.000000000,2020-02-06 15:52:54.000000000,2020-02-06 15:52:54.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/8c62288ba1bcef4f7975ea3fbb0f1a93621ba86e', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I22742fb346399ceaa2088a269c04dbd2ebf32fc4\n'}, {'number': 2, 'created': '2020-02-06 07:12:16.000000000', 'files': ['rebuild', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/03a8c6830281595eb40a403dc36f550b21bc6b2b', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: I22742fb346399ceaa2088a269c04dbd2ebf32fc4\n'}]",0,706019,03a8c6830281595eb40a403dc36f550b21bc6b2b,14,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: I22742fb346399ceaa2088a269c04dbd2ebf32fc4
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/19/706019/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,8c62288ba1bcef4f7975ea3fbb0f1a93621ba86e,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-manila~master~I4e2b0ef736c88bd1f43cec986b457c8534bd4cfb,openstack/charm-manila,master,I4e2b0ef736c88bd1f43cec986b457c8534bd4cfb,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:41.000000000,2020-02-06 15:52:38.000000000,2020-02-06 15:52:38.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/425a312dffbcb66dde25eaefaa1f3b23090eda51', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I4e2b0ef736c88bd1f43cec986b457c8534bd4cfb\n'}, {'number': 2, 'created': '2020-02-06 07:06:23.000000000', 'files': ['rebuild', 'src/tests/gate-basic-disco-stein', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/d39f0ec7ea1cb5813f48d0ca6ee30d42d4dc19f2', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: I4e2b0ef736c88bd1f43cec986b457c8534bd4cfb\n'}]",0,706028,d39f0ec7ea1cb5813f48d0ca6ee30d42d4dc19f2,14,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: I4e2b0ef736c88bd1f43cec986b457c8534bd4cfb
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/28/706028/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,425a312dffbcb66dde25eaefaa1f3b23090eda51,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-manila-generic~master~I8a0fb7bdade9131a83af5da673b45f9aad985cc0,openstack/charm-manila-generic,master,I8a0fb7bdade9131a83af5da673b45f9aad985cc0,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:48.000000000,2020-02-06 15:52:18.000000000,2020-02-06 15:52:18.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/974a80599023f6f708b9bfd02099928a033a7173', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I8a0fb7bdade9131a83af5da673b45f9aad985cc0\n'}, {'number': 2, 'created': '2020-02-06 07:02:08.000000000', 'files': ['rebuild', 'src/tests/gate-basic-disco-stein', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/37aa55923d237682e4181af0b7e21154a0760a93', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: I8a0fb7bdade9131a83af5da673b45f9aad985cc0\n'}]",0,706029,37aa55923d237682e4181af0b7e21154a0760a93,14,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: I8a0fb7bdade9131a83af5da673b45f9aad985cc0
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/29/706029/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,974a80599023f6f708b9bfd02099928a033a7173,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-designate-bind~master~I51cd72754f968b353c59575a77eaea42edd76d3b,openstack/charm-designate-bind,master,I51cd72754f968b353c59575a77eaea42edd76d3b,Rebuild for 20.02 release,MERGED,2020-02-05 16:53:15.000000000,2020-02-06 15:51:14.000000000,2020-02-06 15:51:14.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:53:15.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/3b76da9d5cdf1a61770c7b722a546c4f209dfceb', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I51cd72754f968b353c59575a77eaea42edd76d3b\n'}]",0,706025,3b76da9d5cdf1a61770c7b722a546c4f209dfceb,9,4,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: I51cd72754f968b353c59575a77eaea42edd76d3b
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/25/706025/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3b76da9d5cdf1a61770c7b722a546c4f209dfceb,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-barbican-softhsm~master~I846527b971809e0e6f708f52905bd2868b78d2d1,openstack/charm-barbican-softhsm,master,I846527b971809e0e6f708f52905bd2868b78d2d1,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:25.000000000,2020-02-06 15:50:59.000000000,2020-02-06 15:50:58.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/7f419e6762d53d3518f52d9e89feda39872111b0', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I846527b971809e0e6f708f52905bd2868b78d2d1\n'}, {'number': 2, 'created': '2020-02-06 07:15:54.000000000', 'files': ['rebuild', 'src/tests/gate-basic-disco-stein', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/ff6b21a6f9c70b28f67ba44ee1dc853bba978339', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: I846527b971809e0e6f708f52905bd2868b78d2d1\n'}]",0,706018,ff6b21a6f9c70b28f67ba44ee1dc853bba978339,14,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: I846527b971809e0e6f708f52905bd2868b78d2d1
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/18/706018/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,7f419e6762d53d3518f52d9e89feda39872111b0,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fneutron~stable%2Fstein~I5971d078bd68c3c0b104eea0d443511e741540c4,openstack/neutron,stable/stein,I5971d078bd68c3c0b104eea0d443511e741540c4,Randomize BaseFullStackTestCase._find_available_ips,MERGED,2020-01-31 12:52:22.000000000,2020-02-06 15:50:29.000000000,2020-02-06 15:47:31.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 12:52:22.000000000', 'files': ['neutron/tests/fullstack/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1bcc6022866ec340f58a04d4dbb21595f18b9e6', 'message': 'Randomize BaseFullStackTestCase._find_available_ips\n\nInstead of retrieving an IP address of the CIDR network in\nascending order, this patch randomizes the IP address selection.\n\nChange-Id: I5971d078bd68c3c0b104eea0d443511e741540c4\nRelated-Bug: #1808595\n(cherry picked from commit 94f69ab407d081ce49fa5a93946c4cd41bf6ee89)\n'}]",0,705211,e1bcc6022866ec340f58a04d4dbb21595f18b9e6,35,6,1,11975,,,0,"Randomize BaseFullStackTestCase._find_available_ips

Instead of retrieving an IP address of the CIDR network in
ascending order, this patch randomizes the IP address selection.

Change-Id: I5971d078bd68c3c0b104eea0d443511e741540c4
Related-Bug: #1808595
(cherry picked from commit 94f69ab407d081ce49fa5a93946c4cd41bf6ee89)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/705211/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/base.py'],1,e1bcc6022866ec340f58a04d4dbb21595f18b9e6,bug/1808595-stable/train-stable/stein,"import itertoolsimport random used_ips = netaddr.IPSet( [netaddr.IPAddress(ip['ip_address']) for port in ports for ip in port['fixed_ips']]) used_ips.add(netaddr.IPAddress(subnet['gateway_ip'])) valid_ips = netaddr.IPSet(netaddr.IPNetwork(subnet['cidr'])) valid_ips = valid_ips.difference(used_ips) if valid_ips.size < num: self.fail(""Cannot find enough free IP addresses."") initial = random.randint(0, min(valid_ips.size - num, 1000)) available_ips = itertools.islice(valid_ips, initial, initial + num) return [str(available_ip) for available_ip in available_ips]"," used_ips = [ip['ip_address'] for port in ports for ip in port['fixed_ips']] used_ips.append(subnet['gateway_ip']) available_ips = [] for ip in netaddr.IPNetwork(subnet['cidr']).iter_hosts(): ip = str(ip) if ip not in used_ips: available_ips.append(ip) if len(available_ips) >= num: return available_ips self.fail(""Cannot find enough free IP addresses."")",13,12
openstack%2Fnova~master~I426de20864321d664d3fe0e08a14e1af509c8a2b,openstack/nova,master,I426de20864321d664d3fe0e08a14e1af509c8a2b,libvirt: Rename _is_storage_shared_with to _is_path_shared_with,MERGED,2019-11-07 11:11:14.000000000,2020-02-06 15:49:57.000000000,2020-02-06 15:47:35.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-07 11:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc36424d2992748f304ec88a61b6a2f76cda2b40', 'message': 'libvirt: Rename _is_storage_shared_with to _is_instance_path_shared_with\n\nChange-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b\n'}, {'number': 2, 'created': '2019-11-07 11:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab8e6af9b51fe24b8d5ac54f14ede361dc4e1dc7', 'message': 'libvirt: Rename _is_storage_shared_with to _is_instance_path_shared_with\n\nThis is a specific check against the instance path so it should be named\naccordingly.\n\nChange-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b\n'}, {'number': 3, 'created': '2019-11-07 15:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2428a7f1b9dad2fa66603c880341543c6a3b8827', 'message': 'libvirt: Rename _is_storage_shared_with to _is_path_shared_with\n\nThis method only checks if a specific path is shared between two hosts\nand has been renamed accordingly to avoid confusion.\n\nAdditionally the shared_storage variable used to store the returned\nvalue from this method within migrate_disk_and_power_off is renamed to\nshared_instance_path.\n\nChange-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b\n'}, {'number': 4, 'created': '2019-11-22 12:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea30c23bb8c3d80e92d4c124c092de2468538f28', 'message': 'libvirt: Rename _is_storage_shared_with to _is_path_shared_with\n\nThis method only checks if a specific path is shared between two hosts\nand has been renamed accordingly to avoid confusion.\n\nAdditionally the shared_storage variable used to store the returned\nvalue from this method within migrate_disk_and_power_off is renamed to\nshared_instance_path.\n\nChange-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b\n'}, {'number': 5, 'created': '2019-12-02 12:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e065586e7b41cb20ea1d4190b83e854bb80e7830', 'message': 'libvirt: Rename _is_storage_shared_with to _is_path_shared_with\n\nThis method only checks if a specific path is shared between two hosts\nand has been renamed accordingly to avoid confusion.\n\nAdditionally the shared_storage variable used to store the returned\nvalue from this method within migrate_disk_and_power_off is renamed to\nshared_instance_path.\n\nChange-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b\n'}, {'number': 6, 'created': '2020-02-06 11:09:00.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/afebcdc95065a8c213c3fdaa55760355694f1c85', 'message': 'libvirt: Rename _is_storage_shared_with to _is_path_shared_with\n\nThis method only checks if a specific path is shared between two hosts\nand has been renamed accordingly to avoid confusion.\n\nAdditionally the shared_storage variable used to store the returned\nvalue from this method within migrate_disk_and_power_off is renamed to\nshared_instance_path.\n\nChange-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b\n'}]",0,693337,afebcdc95065a8c213c3fdaa55760355694f1c85,59,16,6,10135,,,0,"libvirt: Rename _is_storage_shared_with to _is_path_shared_with

This method only checks if a specific path is shared between two hosts
and has been renamed accordingly to avoid confusion.

Additionally the shared_storage variable used to store the returned
value from this method within migrate_disk_and_power_off is renamed to
shared_instance_path.

Change-Id: I426de20864321d664d3fe0e08a14e1af509c8a2b
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/693337/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,dc36424d2992748f304ec88a61b6a2f76cda2b40,," result = drvr._is_instance_path_shared_with('host', '/path') self.assertTrue(drvr._is_instance_path_shared_with('foo', '/path')) '_is_instance_path_shared_with'), return_value=False) '_is_instance_path_shared_with'), return_value=False) '._is_instance_path_shared_with') @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_instance_path_shared_with', '._is_instance_path_shared_with')"," result = drvr._is_storage_shared_with('host', '/path') self.assertTrue(drvr._is_storage_shared_with('foo', '/path')) '_is_storage_shared_with'), return_value=False) '_is_storage_shared_with'), return_value=False) '._is_storage_shared_with') @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_storage_shared_with', '._is_storage_shared_with')",10,9
openstack%2Fcharm-ceph-rbd-mirror~master~I77c66884fd47508b46eba7152cffb644e4935204,openstack/charm-ceph-rbd-mirror,master,I77c66884fd47508b46eba7152cffb644e4935204,Rebuild for 20.02 release,MERGED,2020-02-05 16:52:46.000000000,2020-02-06 15:49:52.000000000,2020-02-06 15:49:52.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/75dcb1395674c0a32fbd45bffd233cc4c21035ab', 'message': 'Rebuild for 20.02 release\n\nChange-Id: I77c66884fd47508b46eba7152cffb644e4935204\n'}, {'number': 2, 'created': '2020-02-06 10:52:13.000000000', 'files': ['rebuild', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/180bd579d4b38e9789918aeb184c856e1bfea8af', 'message': 'Rebuild for 20.02 release\n\nRemove Disco\n\nChange-Id: I77c66884fd47508b46eba7152cffb644e4935204\n'}]",0,706021,180bd579d4b38e9789918aeb184c856e1bfea8af,16,5,2,12549,,,0,"Rebuild for 20.02 release

Remove Disco

Change-Id: I77c66884fd47508b46eba7152cffb644e4935204
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/21/706021/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,75dcb1395674c0a32fbd45bffd233cc4c21035ab,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,6a4e8d66-b54e-11e9-9e21-27ae1864b062,1,1
openstack%2Fcharm-tempest~master~Ic1d32a082498727f8673436144a3149044f86c4d,openstack/charm-tempest,master,Ic1d32a082498727f8673436144a3149044f86c4d,Rebuild for 20.02 release,MERGED,2020-02-05 17:03:02.000000000,2020-02-06 15:46:28.000000000,2020-02-06 15:46:28.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 17:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/fd4a766d2d209d338b6be5071ce0ea434d49d1e1', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ic1d32a082498727f8673436144a3149044f86c4d\n'}, {'number': 2, 'created': '2020-02-06 09:00:26.000000000', 'files': ['rebuild', 'src/tests/gate-basic-disco-stein', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/166c4694a1352a10e05c3338c7ab15a93699a3fe', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: Ic1d32a082498727f8673436144a3149044f86c4d\n'}]",0,706046,166c4694a1352a10e05c3338c7ab15a93699a3fe,16,5,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: Ic1d32a082498727f8673436144a3149044f86c4d
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/46/706046/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,fd4a766d2d209d338b6be5071ce0ea434d49d1e1,rebuild-reactive-2002,52737480-4839-11ea-8ea6-4bb6c0f4660c,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fcharm-octavia-diskimage-retrofit~master~Ia1e5391f7045c0bd93d4d922c3a95c8b1fc0ab88,openstack/charm-octavia-diskimage-retrofit,master,Ia1e5391f7045c0bd93d4d922c3a95c8b1fc0ab88,Rebuild for 20.02 release,MERGED,2020-02-05 16:55:09.000000000,2020-02-06 15:46:05.000000000,2020-02-06 15:46:05.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 16:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/8b6de46f25fd20812adb4f41798950ecc08ab7e6', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Ia1e5391f7045c0bd93d4d922c3a95c8b1fc0ab88\n'}, {'number': 2, 'created': '2020-02-06 06:49:23.000000000', 'files': ['rebuild', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/af0cd5e65667bc2ed923527233fe347fcde1f85e', 'message': 'Rebuild for 20.02 release\n\nRemove disco\n\nChange-Id: Ia1e5391f7045c0bd93d4d922c3a95c8b1fc0ab88\n'}]",0,706040,af0cd5e65667bc2ed923527233fe347fcde1f85e,16,6,2,12549,,,0,"Rebuild for 20.02 release

Remove disco

Change-Id: Ia1e5391f7045c0bd93d4d922c3a95c8b1fc0ab88
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/40/706040/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,8b6de46f25fd20812adb4f41798950ecc08ab7e6,rebuild-reactive-2002,d1c16faa-4837-11ea-810e-97e1f362d969,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fproject-config~master~I0f8b8526adaa83876ff92a98500d35c70cc23174,openstack/project-config,master,I0f8b8526adaa83876ff92a98500d35c70cc23174,Fix triggers for release-approval pipeline,MERGED,2020-02-06 12:45:16.000000000,2020-02-06 15:32:08.000000000,2020-02-06 15:25:25.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 12:45:16.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7d6c978e70b2ca0a015dc4a144f3046942fbfba8', 'message': ""Fix triggers for release-approval pipeline\n\nThe release-approval pipeline implemented a nice infinite loop as\nit was triggered by all comment-added events, and Zuul is posting one\nevery time the job runs.\n\nAdd a regexp to exclude comment-added events from the 'zuul' user.\n\nAlso since patchset-created actually does not trigger comment-added,\nit needs to be specified separately (in order to approve releases\nproposed by the PTL themselves).\n\nChange-Id: I0f8b8526adaa83876ff92a98500d35c70cc23174\n""}]",0,706257,7d6c978e70b2ca0a015dc4a144f3046942fbfba8,9,4,1,308,,,0,"Fix triggers for release-approval pipeline

The release-approval pipeline implemented a nice infinite loop as
it was triggered by all comment-added events, and Zuul is posting one
every time the job runs.

Add a regexp to exclude comment-added events from the 'zuul' user.

Also since patchset-created actually does not trigger comment-added,
it needs to be specified separately (in order to approve releases
proposed by the PTL themselves).

Change-Id: I0f8b8526adaa83876ff92a98500d35c70cc23174
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/706257/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,7d6c978e70b2ca0a015dc4a144f3046942fbfba8,release-approval-pipeline, - event: patchset-created username: ^(?!zuul\b)\b\w+$,,2,0
openstack%2Fneutron~stable%2Fstein~If865c4683645f9bd11f5e1b528bade0547505bfd,openstack/neutron,stable/stein,If865c4683645f9bd11f5e1b528bade0547505bfd,Re execute a test case if fixtures.TimeoutException is thrown,MERGED,2020-01-31 10:14:56.000000000,2020-02-06 15:30:32.000000000,2020-02-06 15:28:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 10:14:56.000000000', 'files': ['neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6589f06e4646ef0a3df3f6f65f92b3733d58e7fb', 'message': 'Re execute a test case if fixtures.TimeoutException is thrown\n\nSince [1] was introduced, it\'s very frequent to have\n""fixtures._fixtures.timeout.TimeoutException"" exceptions during the\nexecution of UTs and FTs. Because the privsep includes the synchronized\ndecorator, the synchronization wait is done inside the privsep context.\nThis is prone to timeouts if the wait is too long.\n\nUntil we can reorder the decorators of ip_lib [2] or we can remove the\nsync decorators [3], this patch can mitigate the errors in the CI.\n\nBackporting for stable/stein as mentioned change [1] is in this branch\n\n[1]https://review.opendev.org/#/c/631275/\n[2]https://review.opendev.org/#/c/666853/\n[3]https://review.opendev.org/#/c/657608/\n\nCloses-Bug: #1843478\n\nChange-Id: If865c4683645f9bd11f5e1b528bade0547505bfd\n(cherry picked from commit 63715ea361ea94fb48842c83deef1e5850bcc44d)\n'}]",0,705183,6589f06e4646ef0a3df3f6f65f92b3733d58e7fb,33,6,1,21798,,,0,"Re execute a test case if fixtures.TimeoutException is thrown

Since [1] was introduced, it's very frequent to have
""fixtures._fixtures.timeout.TimeoutException"" exceptions during the
execution of UTs and FTs. Because the privsep includes the synchronized
decorator, the synchronization wait is done inside the privsep context.
This is prone to timeouts if the wait is too long.

Until we can reorder the decorators of ip_lib [2] or we can remove the
sync decorators [3], this patch can mitigate the errors in the CI.

Backporting for stable/stein as mentioned change [1] is in this branch

[1]https://review.opendev.org/#/c/631275/
[2]https://review.opendev.org/#/c/666853/
[3]https://review.opendev.org/#/c/657608/

Closes-Bug: #1843478

Change-Id: If865c4683645f9bd11f5e1b528bade0547505bfd
(cherry picked from commit 63715ea361ea94fb48842c83deef1e5850bcc44d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/705183/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/base.py'],1,6589f06e4646ef0a3df3f6f65f92b3733d58e7fb,bug/1843478-stable/stein,"TESTCASE_RETRIES = 3 for idx in range(1, TESTCASE_RETRIES + 1): try: return f(self, *args, **kwargs) except eventlet.Timeout as e: self.fail('Execution of this test timed out: %s' % e) # NOTE(ralonsoh): exception catch added due to the constant # occurrences of this exception during FT and UT execution. # This is due to [1]. Once the sync decorators are removed or the # privsep ones are decorated by those ones (swap decorator # declarations) this catch can be remove. # [1] https://review.opendev.org/#/c/631275/ except fixtures.TimeoutException: with excutils.save_and_reraise_exception() as ctxt: if idx < TESTCASE_RETRIES: msg = ('""fixtures.TimeoutException"" during test case ' 'execution no %s; test case re-executed' % idx) self.addDetail('DietTestCase', msg) ctxt.reraise = False"," try: return f(self, *args, **kwargs) except eventlet.Timeout as e: self.fail('Execution of this test timed out: %s' % e)",20,4
openstack%2Foslo.rootwrap~master~I5d51e1d64e136ebcf283c43c568fc163b4b988ab,openstack/oslo.rootwrap,master,I5d51e1d64e136ebcf283c43c568fc163b4b988ab,reword releasenote for py27 support dropping,MERGED,2020-02-06 10:04:56.000000000,2020-02-06 15:05:00.000000000,2020-02-06 15:02:02.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:04:56.000000000', 'files': ['releasenotes/notes/drop-python27-support-a4d3707304c73df6.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/d929380266aaf63c58d8148cb8c6198f668a0d54', 'message': 'reword releasenote for py27 support dropping\n\nChange-Id: I5d51e1d64e136ebcf283c43c568fc163b4b988ab\n'}]",0,706210,d929380266aaf63c58d8148cb8c6198f668a0d54,9,4,1,28522,,,0,"reword releasenote for py27 support dropping

Change-Id: I5d51e1d64e136ebcf283c43c568fc163b4b988ab
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/10/706210/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/drop-python27-support-a4d3707304c73df6.yaml'],1,d929380266aaf63c58d8148cb8c6198f668a0d54,reword-releasenotes-drop-py27, Support for Python 2.7 has been dropped. The minimum version of Python now, Support for Python 2.7 has been dropped. The latest version of Python now,1,1
openstack%2Fkolla~stable%2Fstein~I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6,openstack/kolla,stable/stein,I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6,nova-libvirt: add UEFI packages to support UEFI instances,MERGED,2020-02-05 17:36:48.000000000,2020-02-06 14:43:53.000000000,2020-02-06 14:41:33.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-05 17:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/16a743ad52285dfefc8e1a45478f3b8e791688a6', 'message': 'nova-libvirt: add UEFI packages to support UEFI instances\n\nFix inability to run UEFI-based images/instances by installing UEFI\npackages also in nova-libvirt image which is not based on nova-base.\n\nIncludes support for C8.\nBackport below Train w/o C8.\n\nCloses-Bug: #1814552\nCo-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6\n(cherry picked from commit 15b68c15c1dd0c2df1cc49b550f2fa03a4c65e8e)\n(cherry picked from commit ffaf585d0f05ccd9123459bb0cdf345af5b09573)\n'}, {'number': 2, 'created': '2020-02-05 17:41:47.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2', 'releasenotes/notes/bug-1814552-a037354969dcf7e5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/757fe57563ed54e53c14c8cfae780b71fb49b7ba', 'message': 'nova-libvirt: add UEFI packages to support UEFI instances\n\nFix inability to run UEFI-based images/instances by installing UEFI\npackages also in nova-libvirt image which is not based on nova-base.\n\nAdapted for Stein and below (e.g. Rocky) by removing\nany C8 support.\n\nCloses-Bug: #1814552\nCo-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6\n(cherry picked from commit 15b68c15c1dd0c2df1cc49b550f2fa03a4c65e8e)\n(cherry picked from commit ffaf585d0f05ccd9123459bb0cdf345af5b09573)\n'}]",0,706061,757fe57563ed54e53c14c8cfae780b71fb49b7ba,13,5,2,30491,,,0,"nova-libvirt: add UEFI packages to support UEFI instances

Fix inability to run UEFI-based images/instances by installing UEFI
packages also in nova-libvirt image which is not based on nova-base.

Adapted for Stein and below (e.g. Rocky) by removing
any C8 support.

Closes-Bug: #1814552
Co-authored-by: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>
Co-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I1d5cd3d9af98444acac5bedd7daeaa6c6673dcd6
(cherry picked from commit 15b68c15c1dd0c2df1cc49b550f2fa03a4c65e8e)
(cherry picked from commit ffaf585d0f05ccd9123459bb0cdf345af5b09573)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/706061/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'releasenotes/notes/bug-1814552-a037354969dcf7e5.yaml']",2,16a743ad52285dfefc8e1a45478f3b8e791688a6,bug/1814552-stable/train-stable/stein,--- fixes: - | Fix inability to run UEFI-based images/instances by installing UEFI packages also in nova-libvirt image which is not based on nova-base. `LP#1814552 <https://launchpad.net/bugs/1814552>` ,,36,0
openstack%2Fkolla-ansible~stable%2Frocky~I1881f51a6c8508f0f186a5623443343dc1df41d4,openstack/kolla-ansible,stable/rocky,I1881f51a6c8508f0f186a5623443343dc1df41d4,Fix qemu loading of ceph.conf (permission error),MERGED,2020-02-05 18:09:42.000000000,2020-02-06 14:39:40.000000000,2020-02-06 14:37:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24849}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-02-05 18:09:42.000000000', 'files': ['ansible/roles/nova/templates/nova-libvirt.json.j2', 'releasenotes/notes/bug-1861513-8e09a6fb42dfc99c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc36a163b869c93cd3d9510d9435762c3d9a3c84', 'message': 'Fix qemu loading of ceph.conf (permission error)\n\nceph.conf is loaded by qemu, not libvirt.\nSince qemu runs as the nova user, ceph.conf owned by root\ncauses a permission error. The logs in\n/var/log/libvirt/qemu/instance-*.log reveal the error.\n\nThis change fixes the issue by changing the ownership of ceph.conf\nin nova-libvirt to the nova user.\n\nAdapted for Stein and below by amending paths (no cells).\n\nCloses-Bug: #1861513\nChange-Id: I1881f51a6c8508f0f186a5623443343dc1df41d4\nSigned-off-by: Ning Yao <yaoning@unitedstack.com>\n(cherry picked from commit 91910d2a455f66e5f014a04bedf132fe0cab55ea)\n(cherry picked from commit e2c600d9a1317422acd95f460f726201f84d4187)\n'}]",0,706073,dc36a163b869c93cd3d9510d9435762c3d9a3c84,8,4,1,30491,,,0,"Fix qemu loading of ceph.conf (permission error)

ceph.conf is loaded by qemu, not libvirt.
Since qemu runs as the nova user, ceph.conf owned by root
causes a permission error. The logs in
/var/log/libvirt/qemu/instance-*.log reveal the error.

This change fixes the issue by changing the ownership of ceph.conf
in nova-libvirt to the nova user.

Adapted for Stein and below by amending paths (no cells).

Closes-Bug: #1861513
Change-Id: I1881f51a6c8508f0f186a5623443343dc1df41d4
Signed-off-by: Ning Yao <yaoning@unitedstack.com>
(cherry picked from commit 91910d2a455f66e5f014a04bedf132fe0cab55ea)
(cherry picked from commit e2c600d9a1317422acd95f460f726201f84d4187)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/706073/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova-libvirt.json.j2', 'releasenotes/notes/bug-1861513-8e09a6fb42dfc99c.yaml']",2,dc36a163b869c93cd3d9510d9435762c3d9a3c84,bug/1861513-stable/rocky,--- fixes: - | Fix qemu loading of ceph.conf (permission error). `LP#1861513 <https://launchpad.net/bugs/1861513>` ,,6,1
openstack%2Fkolla-ansible~stable%2Fstein~I1881f51a6c8508f0f186a5623443343dc1df41d4,openstack/kolla-ansible,stable/stein,I1881f51a6c8508f0f186a5623443343dc1df41d4,Fix qemu loading of ceph.conf (permission error),MERGED,2020-02-05 18:09:30.000000000,2020-02-06 14:38:51.000000000,2020-02-06 14:37:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24849}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-02-05 18:09:30.000000000', 'files': ['ansible/roles/nova/templates/nova-libvirt.json.j2', 'releasenotes/notes/bug-1861513-8e09a6fb42dfc99c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c950d842d50d2919f6e1a88313dbe494ab9c6e4', 'message': 'Fix qemu loading of ceph.conf (permission error)\n\nceph.conf is loaded by qemu, not libvirt.\nSince qemu runs as the nova user, ceph.conf owned by root\ncauses a permission error. The logs in\n/var/log/libvirt/qemu/instance-*.log reveal the error.\n\nThis change fixes the issue by changing the ownership of ceph.conf\nin nova-libvirt to the nova user.\n\nAdapted for Stein and below by amending paths (no cells).\n\nCloses-Bug: #1861513\nChange-Id: I1881f51a6c8508f0f186a5623443343dc1df41d4\nSigned-off-by: Ning Yao <yaoning@unitedstack.com>\n(cherry picked from commit 91910d2a455f66e5f014a04bedf132fe0cab55ea)\n(cherry picked from commit e2c600d9a1317422acd95f460f726201f84d4187)\n'}]",0,706072,6c950d842d50d2919f6e1a88313dbe494ab9c6e4,9,4,1,30491,,,0,"Fix qemu loading of ceph.conf (permission error)

ceph.conf is loaded by qemu, not libvirt.
Since qemu runs as the nova user, ceph.conf owned by root
causes a permission error. The logs in
/var/log/libvirt/qemu/instance-*.log reveal the error.

This change fixes the issue by changing the ownership of ceph.conf
in nova-libvirt to the nova user.

Adapted for Stein and below by amending paths (no cells).

Closes-Bug: #1861513
Change-Id: I1881f51a6c8508f0f186a5623443343dc1df41d4
Signed-off-by: Ning Yao <yaoning@unitedstack.com>
(cherry picked from commit 91910d2a455f66e5f014a04bedf132fe0cab55ea)
(cherry picked from commit e2c600d9a1317422acd95f460f726201f84d4187)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/706072/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova-libvirt.json.j2', 'releasenotes/notes/bug-1861513-8e09a6fb42dfc99c.yaml']",2,6c950d842d50d2919f6e1a88313dbe494ab9c6e4,bug/1861513,--- fixes: - | Fix qemu loading of ceph.conf (permission error). `LP#1861513 <https://launchpad.net/bugs/1861513>` ,,6,1
openstack%2Fpuppet-openstack-integration~master~I21b4128176372fdfb33f2ef6028d2bf0c59e709a,openstack/puppet-openstack-integration,master,I21b4128176372fdfb33f2ef6028d2bf0c59e709a,"Revert ""Make Ubuntu jobs voting""",MERGED,2020-02-05 13:31:29.000000000,2020-02-06 14:32:03.000000000,2020-02-06 14:32:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 13:31:29.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/64dda8ac65f88503584cc8eb3ce27786bb4afd28', 'message': 'Revert ""Make Ubuntu jobs voting""\n\nWe need to set Ubuntu jobs to non-voting again since Tempest has stopped working with python2 now that some modules are not installed. I think the issue should be solved by just porting Tempest (when installed from source) to use python3.\n\nThis reverts commit edd7558ee2ab23539cd14da2e66293a6d24f5885.\n\nChange-Id: I21b4128176372fdfb33f2ef6028d2bf0c59e709a\n'}]",0,705961,64dda8ac65f88503584cc8eb3ce27786bb4afd28,7,5,1,16137,,,0,"Revert ""Make Ubuntu jobs voting""

We need to set Ubuntu jobs to non-voting again since Tempest has stopped working with python2 now that some modules are not installed. I think the issue should be solved by just porting Tempest (when installed from source) to use python3.

This reverts commit edd7558ee2ab23539cd14da2e66293a6d24f5885.

Change-Id: I21b4128176372fdfb33f2ef6028d2bf0c59e709a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/61/705961/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/integration.yaml']",2,64dda8ac65f88503584cc8eb3ce27786bb4afd28,, voting: false voting: false voting: false voting: false voting: false voting: false,,7,0
openstack%2Fpython-tripleoclient~stable%2Fstein~I211c43f2b28804ee096238deb663c8477c4db32a,openstack/python-tripleoclient,stable/stein,I211c43f2b28804ee096238deb663c8477c4db32a,Moving tripleo-ci-centos-7-scenario010-standalone to nv,ABANDONED,2019-10-09 13:42:10.000000000,2020-02-06 14:13:55.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 13:42:10.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8acff23f568b1d78cf01dfa60d7d220394ae04d', 'message': 'Moving tripleo-ci-centos-7-scenario010-standalone to nv\n\nMoving tripleo-ci-centos-7-scenario010-standalone to non-voting on stein\nbranch.\n\nChange-Id: I211c43f2b28804ee096238deb663c8477c4db32a\n'}]",0,687560,b8acff23f568b1d78cf01dfa60d7d220394ae04d,5,3,1,8367,,,0,"Moving tripleo-ci-centos-7-scenario010-standalone to nv

Moving tripleo-ci-centos-7-scenario010-standalone to non-voting on stein
branch.

Change-Id: I211c43f2b28804ee096238deb663c8477c4db32a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/687560/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b8acff23f568b1d78cf01dfa60d7d220394ae04d,scen10-nv, - tripleo-ci-centos-7-scenario010-standalone: voting: false,,2,0
openstack%2Fnova~master~If067a730b0fcbe3f59f4472b00c690cc43be4b3b,openstack/nova,master,If067a730b0fcbe3f59f4472b00c690cc43be4b3b,Avoid calling neutron for N networks,MERGED,2020-02-04 17:38:00.000000000,2020-02-06 14:02:11.000000000,2020-02-06 06:50:58.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 17:38:00.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e79cb7577ae295eac32a417b9261d70fdbbc465', 'message': 'Avoid calling neutron for N networks\n\nIn the worst case scenario, we could list N floating IPs, each of which\nhas a different network. This would result in N additional calls to\nneutron - one for each of the networks. Avoid this by calling neutron\nonce for all networks associated with the floating IPs.\n\nChange-Id: If067a730b0fcbe3f59f4472b00c690cc43be4b3b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",4,705784,3e79cb7577ae295eac32a417b9261d70fdbbc465,42,11,1,15334,,,0,"Avoid calling neutron for N networks

In the worst case scenario, we could list N floating IPs, each of which
has a different network. This would result in N additional calls to
neutron - one for each of the networks. Avoid this by calling neutron
once for all networks associated with the floating IPs.

Change-Id: If067a730b0fcbe3f59f4472b00c690cc43be4b3b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/705784/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,3e79cb7577ae295eac32a417b9261d70fdbbc465,bug/1861876," networks = {net['id']: net for net in self._get_available_networks( context, project_id, [fip['floating_network_id'] for fip in fips], client)} raise exception.NetworkNotFound(network_id=network_uuid)", networks = {} try: network = client.show_network(network_uuid)['network'] except neutron_client_exc.NetworkNotFoundClient: raise exception.NetworkNotFound(network_id=network_uuid) networks[network['id']] = network,12,11
openstack%2Frpm-packaging~master~I4bae3b4af6d9dc199bb865f0a9f61147e24d6bef,openstack/rpm-packaging,master,I4bae3b4af6d9dc199bb865f0a9f61147e24d6bef,update octavia-lib to 1.5.0,MERGED,2020-02-05 11:22:00.000000000,2020-02-06 13:54:06.000000000,2020-02-06 13:54:06.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-05 11:22:00.000000000', 'files': ['openstack/octavia-lib/octavia-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0e7a4c2a8f99b708d00be18aa61afb08d9f002df', 'message': 'update octavia-lib to 1.5.0\n\nChange-Id: I4bae3b4af6d9dc199bb865f0a9f61147e24d6bef\n'}]",0,705929,0e7a4c2a8f99b708d00be18aa61afb08d9f002df,10,6,1,28654,,,0,"update octavia-lib to 1.5.0

Change-Id: I4bae3b4af6d9dc199bb865f0a9f61147e24d6bef
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/29/705929/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/octavia-lib/octavia-lib.spec.j2'],1,0e7a4c2a8f99b708d00be18aa61afb08d9f002df,bug/octavia-lib,{% set upstream_version = upstream_version('1.5.0') %},{% set upstream_version = upstream_version('1.4.0') %},1,1
openstack%2Ftripleo-operator-ansible~master~I4f1be3bb610e238225a6d0acd06aeea2901b433a,openstack/tripleo-operator-ansible,master,I4f1be3bb610e238225a6d0acd06aeea2901b433a,Add tripleo deploy role,MERGED,2020-02-03 22:15:46.000000000,2020-02-06 13:37:34.000000000,2020-02-06 13:37:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 22:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/294def618e9b09d7bcd289a6489f32b8c4e1f5bf', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 2, 'created': '2020-02-03 22:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2a5ce6998c1b2187aaad5a1fa22ef7e998168fd0', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 3, 'created': '2020-02-03 23:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/078c698257da2c4597e01768a842f420adaea0a1', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 4, 'created': '2020-02-03 23:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a1611752ed34abfe6e302a90d9667a79a9e66c0c', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 5, 'created': '2020-02-04 15:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/41215b32c0f51e31687a5453ad2492d1dd987359', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 6, 'created': '2020-02-04 16:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8badb9a0a09ab6b082e21dad52be881f936540ca', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 7, 'created': '2020-02-04 16:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7c340567f6b04f621f09bd9031c295a87025167b', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 8, 'created': '2020-02-04 17:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/093db49a9a61db30d6432602c023dc454faf0958', 'message': 'WIP: Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 9, 'created': '2020-02-04 17:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/77577becd99f5283d8a47fad265ea4e1a1ed3f07', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 10, 'created': '2020-02-04 18:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ddd4ce1c8cc660c96f6d2d7db8833f2855afbf92', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 11, 'created': '2020-02-04 18:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8213e322a67a5a7104847bd23fcd5c55dff35d63', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 12, 'created': '2020-02-04 19:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9fc1055865516c861df2796b6c32d1cf722789a3', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 13, 'created': '2020-02-04 20:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/041ad5fd95f2b286bacb2546697a8152dc85692e', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 14, 'created': '2020-02-04 21:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/71d13dd45636715abac6235252a2c39e3f7b5c61', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 15, 'created': '2020-02-04 21:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/10ba93013d1e173a8181147516fc2c5ff991620f', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}, {'number': 16, 'created': '2020-02-05 20:51:31.000000000', 'files': ['roles/tripleo_deploy/molecule/default/playbook.yml', 'roles/tripleo_deploy/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_deploy/tests/inventory', 'roles/tripleo_deploy/meta/main.yml', 'roles/tripleo_deploy/tasks/main.yml', 'roles/tripleo_deploy/molecule/default/molecule.yml', 'roles/tripleo_deploy/tests/test.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2c290c4b12ab32846f62ea739879cf6f100eaf45', 'message': 'Add tripleo deploy role\n\nAdds tripleo_deploy role that wraps the standalone tripleo deploy\ncommand.\n\nChange-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a\n'}]",2,705565,2c290c4b12ab32846f62ea739879cf6f100eaf45,39,5,16,14985,,,0,"Add tripleo deploy role

Adds tripleo_deploy role that wraps the standalone tripleo deploy
command.

Change-Id: I4f1be3bb610e238225a6d0acd06aeea2901b433a
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/65/705565/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_deploy/molecule/default/playbook.yml', 'roles/tripleo_deploy/molecule/default/prepare.yml', 'roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_deploy/tests/inventory', 'roles/tripleo_deploy/meta/main.yml', 'roles/tripleo_deploy/tasks/main.yml', 'roles/tripleo_deploy/molecule/default/molecule.yml', 'roles/tripleo_deploy/tests/test.yml']",9,294def618e9b09d7bcd289a6489f32b8c4e1f5bf,tripleo-deploy,--- - hosts: localhost roles: - tripleo_deploy ,,326,0
openstack%2Fnova~master~I11556c6f3e921fd6f4dce513728bdfad12f2d7b1,openstack/nova,master,I11556c6f3e921fd6f4dce513728bdfad12f2d7b1,Fix volume attachment rollback,ABANDONED,2020-01-29 17:03:35.000000000,2020-02-06 13:10:38.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-29 17:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b37335495a892dc78c7d85b6dd159a5226ea02d2', 'message': 'Fix volume attachment rollback\n\nIf messaging connection between compute and conductor flaps,\nit is possible that wrap_instance_event decorator might fail.\nIn case of volume attachment process, if that decorator fails\nto call object_class_action_versions of indirection api, the\nvolume will stay in the reserved state without cleaning up,\neven when instance is deleted.\n\nThis change adds cleanup of such cases in the detach_volume\nAPI method.\n\nCloses-Bug: 1860107\nChange-Id: I11556c6f3e921fd6f4dce513728bdfad12f2d7b1\n'}, {'number': 2, 'created': '2020-01-30 11:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab41b384cac150409767b233d9ffa0f14424e0ee', 'message': 'Fix volume attachment rollback\n\nIf messaging connection between compute and conductor flaps,\nit is possible that wrap_instance_event decorator might fail.\nIn case of volume attachment process, if that decorator fails\nto call object_class_action_versions of indirection api, the\nvolume will stay in the reserved state without cleaning up,\neven when instance is deleted.\n\nThis change adds cleanup of such cases in the detach_volume\nAPI method, so that the user is able to put their volume back\nin the usable state.\n\nCloses-Bug: 1860107\nChange-Id: I11556c6f3e921fd6f4dce513728bdfad12f2d7b1\n'}, {'number': 3, 'created': '2020-01-31 16:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/555da108613ca3b4eab90324505f00894ba56541', 'message': 'Fix volume attachment rollback\n\nIf messaging connection between compute and conductor flaps,\nit is possible that wrap_instance_event decorator might fail.\nIn case of volume attachment process, if that decorator fails\nto call object_class_action_versions of indirection api, the\nvolume will stay in the reserved state without cleaning up,\neven when instance is deleted.\n\nThis change adds cleanup of such cases in the detach_volume\ncompute manager method, so that the user is able to put\ntheir volume back in the usable state. As volume attachment\nand detachment use the lock by instance.uuid, detachment\nwill not be happening in the middle of attachment. If detach\nhappens before attachment finishes, attachment will fail\nwith 404 attachment not found when nova will try to set\nconnection info in the cinder attachment object.\n\nCloses-Bug: 1860107\nChange-Id: I11556c6f3e921fd6f4dce513728bdfad12f2d7b1\n'}, {'number': 4, 'created': '2020-01-31 17:20:56.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/839d34694ccbfdc936fab82c587263f8f34774ec', 'message': 'Fix volume attachment rollback\n\nIf messaging connection between compute and conductor flaps,\nit is possible that wrap_instance_event decorator might fail.\nIn case of volume attachment process, if that decorator fails\nto call object_class_action_versions of indirection api, the\nvolume will stay in the reserved state without cleaning up,\neven when instance is deleted.\n\nThis change adds cleanup of such cases in the detach_volume\ncompute manager method, so that the user is able to put\ntheir volume back in the usable state. As volume attachment\nand detachment use the lock by instance.uuid, detachment\nwill not be happening in the middle of attachment. If detach\nhappens before attachment finishes, attachment will fail\nwith 404 attachment not found when nova will try to set\nconnection info in the cinder attachment object.\n\nCloses-Bug: 1860107\nChange-Id: I11556c6f3e921fd6f4dce513728bdfad12f2d7b1\n'}]",6,704847,839d34694ccbfdc936fab82c587263f8f34774ec,39,12,4,12356,,,0,"Fix volume attachment rollback

If messaging connection between compute and conductor flaps,
it is possible that wrap_instance_event decorator might fail.
In case of volume attachment process, if that decorator fails
to call object_class_action_versions of indirection api, the
volume will stay in the reserved state without cleaning up,
even when instance is deleted.

This change adds cleanup of such cases in the detach_volume
compute manager method, so that the user is able to put
their volume back in the usable state. As volume attachment
and detachment use the lock by instance.uuid, detachment
will not be happening in the middle of attachment. If detach
happens before attachment finishes, attachment will fail
with 404 attachment not found when nova will try to set
connection info in the cinder attachment object.

Closes-Bug: 1860107
Change-Id: I11556c6f3e921fd6f4dce513728bdfad12f2d7b1
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/704847/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,b37335495a892dc78c7d85b6dd159a5226ea02d2,fix-volume-stuck-attaching," try: bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( context, volume['id'], instance.uuid) except exception.VolumeBDMNotFound: pass else: if bdm.is_volume: try: if bdm.attachment_id: self.volume_api.attachment_delete( context, bdm.attachment_id) except Exception: pass",,13,0
openstack%2Fopenstack-ansible-os_magnum~master~I0f0e97ac8ec625f26bf1cf6437457f3733cd5e8c,openstack/openstack-ansible-os_magnum,master,I0f0e97ac8ec625f26bf1cf6437457f3733cd5e8c,Download Magnum images once,MERGED,2020-01-28 14:10:41.000000000,2020-02-06 13:10:15.000000000,2020-02-03 22:33:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-28 14:10:41.000000000', 'files': ['tasks/magnum_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/143f6c16cfab5a613979fc3fb32f416c1043aa69', 'message': 'Download Magnum images once\n\nWe delegate the post-installation steps to localhost, but we do not\nlimit to running them once so we download them multiple times :(\n\nChange-Id: I0f0e97ac8ec625f26bf1cf6437457f3733cd5e8c\n'}]",0,704575,143f6c16cfab5a613979fc3fb32f416c1043aa69,16,4,1,1004,,,0,"Download Magnum images once

We delegate the post-installation steps to localhost, but we do not
limit to running them once so we download them multiple times :(

Change-Id: I0f0e97ac8ec625f26bf1cf6437457f3733cd5e8c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/75/704575/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/magnum_post_install.yml'],1,143f6c16cfab5a613979fc3fb32f416c1043aa69,, run_once: true,,1,0
openstack%2Ftripleo-quickstart-extras~master~Ic1a3457a8164097b73dd906744c49171aa4cb833,openstack/tripleo-quickstart-extras,master,Ic1a3457a8164097b73dd906744c49171aa4cb833,Bump tox minversion to 3.9 due to inline comments,MERGED,2020-02-06 10:00:03.000000000,2020-02-06 12:47:28.000000000,2020-02-06 12:44:51.000000000,"[{'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-06 10:00:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/90772598ecc1b318e9f19302c13580439d062a25', 'message': ""Bump tox minversion to 3.9 due to inline comments\n\nCurrent minimal required version of tox (3.4.0),\nas per tox.ini, is not compatible with inline comments.\n\nSupport for inline comments in deps was added in 3.9 according to:\n- https://tox.readthedocs.io/en/latest/config.html#conf-deps\n- https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17\n\nE.g. there are inline comments at deps lines:\n\n  [testenv:molecule]\n  deps =\n      ansible\n      ansi2html  # GPL (soft-dependency of pytest-html)\n\nwhich then fails like:\n\n  ERROR: Invalid requirement: 'ansi2html  # GPL (soft-dependency of pytest-html)'\n\nChange-Id: Ic1a3457a8164097b73dd906744c49171aa4cb833\n""}]",0,706204,90772598ecc1b318e9f19302c13580439d062a25,12,2,1,6683,,,0,"Bump tox minversion to 3.9 due to inline comments

Current minimal required version of tox (3.4.0),
as per tox.ini, is not compatible with inline comments.

Support for inline comments in deps was added in 3.9 according to:
- https://tox.readthedocs.io/en/latest/config.html#conf-deps
- https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

E.g. there are inline comments at deps lines:

  [testenv:molecule]
  deps =
      ansible
      ansi2html  # GPL (soft-dependency of pytest-html)

which then fails like:

  ERROR: Invalid requirement: 'ansi2html  # GPL (soft-dependency of pytest-html)'

Change-Id: Ic1a3457a8164097b73dd906744c49171aa4cb833
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/04/706204/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,90772598ecc1b318e9f19302c13580439d062a25,min-tox-deps-comment,minversion = 3.9.0,minversion = 3.4.0,1,1
openstack%2Freleases~master~I6e289021ae07d03f05cc9b93af1229bd68072613,openstack/releases,master,I6e289021ae07d03f05cc9b93af1229bd68072613,Release OpenStack-Ansible Rocky,MERGED,2020-02-03 14:09:17.000000000,2020-02-06 12:38:53.000000000,2020-02-06 12:38:53.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-03 14:09:17.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/176d423fa51d074e62a9b768a2e9cbfd245d6808', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: I6e289021ae07d03f05cc9b93af1229bd68072613\n'}]",0,705449,176d423fa51d074e62a9b768a2e9cbfd245d6808,8,4,1,28619,,,0,"Release OpenStack-Ansible Rocky

Change-Id: I6e289021ae07d03f05cc9b93af1229bd68072613
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/705449/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,176d423fa51d074e62a9b768a2e9cbfd245d6808,release_osa, - version: 18.1.18 projects: - repo: openstack/openstack-ansible hash: 2ccc5afe680e7aff577a4f10dfaee271615cde84,,4,0
openstack%2Freleases~master~Ic24822b192a64e90812606d8c6f209b2bf817f7b,openstack/releases,master,Ic24822b192a64e90812606d8c6f209b2bf817f7b,Release OpenStack-Ansible Stein,MERGED,2020-02-03 14:07:30.000000000,2020-02-06 12:38:52.000000000,2020-02-06 12:38:52.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-03 14:07:30.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/626789ff594ae475568fb7dda41a2afe836c7644', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: Ic24822b192a64e90812606d8c6f209b2bf817f7b\n'}]",0,705447,626789ff594ae475568fb7dda41a2afe836c7644,9,5,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: Ic24822b192a64e90812606d8c6f209b2bf817f7b
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/705447/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,626789ff594ae475568fb7dda41a2afe836c7644,release_osa, - version: 19.0.10 projects: - repo: openstack/openstack-ansible hash: dd04abeac87d5be6402fd87db1f22fa133649614,,4,0
openstack%2Freleases~master~I0eab7f690dd8f44f2c30df6fba5fca625406acff,openstack/releases,master,I0eab7f690dd8f44f2c30df6fba5fca625406acff,nova: Release 19.1.0,MERGED,2020-02-03 11:37:35.000000000,2020-02-06 12:38:51.000000000,2020-02-06 12:38:51.000000000,"[{'_account_id': 308}, {'_account_id': 4690}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-03 11:37:35.000000000', 'files': ['deliverables/stein/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aa8c20c80335d63907834f1cd9f997bd87ec9feb', 'message': 'nova: Release 19.1.0\n\nMinor version bump due to the change in API behvaiour introduced by\nI0322d872bdff68936033a6f5a54e8296a6fb3434 / 4a691c33d1.\n\n$ git log --oneline --no-merges 19.0.3..HEAD\nd8fbf04f32 Mask the token used to allow access to consoles\n8346c527b3 FUP for in-place numa rebuild\n4a691c33d1 Disable NUMATopologyFilter on rebuild\n9f57d16f38 Block rebuild when NUMA topology changed\nd41afc7276 Remove \'test_cold_migrate_with_physnet_fails\' test\n23d3b8fbc9 Remove global state from the FakeDriver\n6310e69303 libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event\n2f48bbd224 libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY\n99aa8ebc12 Zuul v3: use devstack-plugin-nfs-tempest-full\n95bf4a1e15 block_device: Copy original volume_type when missing for snapshot based volumes\n9f9f8d330a Do not update root_device_name during guest config\nfec95a2e4f Improve metadata server performance with large security groups\n99048af872 Cache security group driver\ne858ab3bbe compute: Use long_rpc_timeout in reserve_block_device_name\nad873b67b3 [stable-only] Disable cinder-backup service in nova-next job\n92eb45ba5e Replace time.sleep(10) with service forced_down in tests\n304d3f62a4 compute: Take an instance.uuid lock when rebooting\n603171bd5c Join migration_context and flavor in Migration.instance\na0290858b7 Block deleting compute services with in-progress migrations\n9983b24624 Add functional recreate revert resize test for bug 1852610\n7d67387246 Add functional recreate test for bug 1852610\nb18e42d20b Add functional recreate test for bug 1829479 and bug 1817833\n65ada9745c Use admin neutron client to see if instance has qos ports\nb1ae940ddb Use admin neutron client to query ports for binding\n87f7a4268f Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n92645be4bb Add --instance option to heal_allocations\n4acec3e715 Add --dry-run option to heal_allocations CLI\ne00fa24a18 Don\'t delete compute node, when deleting service other than nova-compute\nf2d6dbd771 Revert ""openstack server create"" to ""nova boot"" in nova docs\na80eb82f67 Remove redundant call to get/create default security group\n844209b064 Add regression test for bug 1824435\n06caa62441 Add integration testing for heal_allocations\ndefe542eb1 Nova compute: add in log exception to help debug failures\n13d01b697d Imported Translations from Zanata\n8ee59604dc Avoid error 500 on shelve task_state race\n972d717984 Switch to opensuse-15 nodeset\n6272046bc8 Added openssh-client into bindep\n022ea28194 libvirt: Ignore volume exceptions during post_live_migration\n6038455e1d Fix listing deleted servers with a marker\n47caaccd4a Add functional regression test for bug 1849409\n792ec7c1df Fix unit of hw_rng:rate_period\nc0313bce06 Fix exception translation when creating volume\na06922d546 Stop sending bad values from libosinfo to libvirt\n530ad1ae88 Error out interrupted builds\ne4a5516098 Functional reproduce for bug 1833581\n080b4759d3 Prevent init_host test to interfere with other tests\nc565cab479 Add functional test for resize crash compute restart revert\n53bcf0b1ee Handle get_host_availability_zone error during reschedule\n58ad6aba98 Ignore sqla-migrate inspect.getargspec deprecation warnings on py36\n7e074ad030 rt: soften warning case in _remove_deleted_instances_allocations\n\nChange-Id: I0eab7f690dd8f44f2c30df6fba5fca625406acff\n'}]",3,705424,aa8c20c80335d63907834f1cd9f997bd87ec9feb,11,7,1,10135,,,0,"nova: Release 19.1.0

Minor version bump due to the change in API behvaiour introduced by
I0322d872bdff68936033a6f5a54e8296a6fb3434 / 4a691c33d1.

$ git log --oneline --no-merges 19.0.3..HEAD
d8fbf04f32 Mask the token used to allow access to consoles
8346c527b3 FUP for in-place numa rebuild
4a691c33d1 Disable NUMATopologyFilter on rebuild
9f57d16f38 Block rebuild when NUMA topology changed
d41afc7276 Remove 'test_cold_migrate_with_physnet_fails' test
23d3b8fbc9 Remove global state from the FakeDriver
6310e69303 libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event
2f48bbd224 libvirt: remove conditional on VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY
99aa8ebc12 Zuul v3: use devstack-plugin-nfs-tempest-full
95bf4a1e15 block_device: Copy original volume_type when missing for snapshot based volumes
9f9f8d330a Do not update root_device_name during guest config
fec95a2e4f Improve metadata server performance with large security groups
99048af872 Cache security group driver
e858ab3bbe compute: Use long_rpc_timeout in reserve_block_device_name
ad873b67b3 [stable-only] Disable cinder-backup service in nova-next job
92eb45ba5e Replace time.sleep(10) with service forced_down in tests
304d3f62a4 compute: Take an instance.uuid lock when rebooting
603171bd5c Join migration_context and flavor in Migration.instance
a0290858b7 Block deleting compute services with in-progress migrations
9983b24624 Add functional recreate revert resize test for bug 1852610
7d67387246 Add functional recreate test for bug 1852610
b18e42d20b Add functional recreate test for bug 1829479 and bug 1817833
65ada9745c Use admin neutron client to see if instance has qos ports
b1ae940ddb Use admin neutron client to query ports for binding
87f7a4268f Add BFV wrinkle to TestNovaManagePlacementHealAllocations
92645be4bb Add --instance option to heal_allocations
4acec3e715 Add --dry-run option to heal_allocations CLI
e00fa24a18 Don't delete compute node, when deleting service other than nova-compute
f2d6dbd771 Revert ""openstack server create"" to ""nova boot"" in nova docs
a80eb82f67 Remove redundant call to get/create default security group
844209b064 Add regression test for bug 1824435
06caa62441 Add integration testing for heal_allocations
defe542eb1 Nova compute: add in log exception to help debug failures
13d01b697d Imported Translations from Zanata
8ee59604dc Avoid error 500 on shelve task_state race
972d717984 Switch to opensuse-15 nodeset
6272046bc8 Added openssh-client into bindep
022ea28194 libvirt: Ignore volume exceptions during post_live_migration
6038455e1d Fix listing deleted servers with a marker
47caaccd4a Add functional regression test for bug 1849409
792ec7c1df Fix unit of hw_rng:rate_period
c0313bce06 Fix exception translation when creating volume
a06922d546 Stop sending bad values from libosinfo to libvirt
530ad1ae88 Error out interrupted builds
e4a5516098 Functional reproduce for bug 1833581
080b4759d3 Prevent init_host test to interfere with other tests
c565cab479 Add functional test for resize crash compute restart revert
53bcf0b1ee Handle get_host_availability_zone error during reschedule
58ad6aba98 Ignore sqla-migrate inspect.getargspec deprecation warnings on py36
7e074ad030 rt: soften warning case in _remove_deleted_instances_allocations

Change-Id: I0eab7f690dd8f44f2c30df6fba5fca625406acff
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/705424/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/nova.yaml'],1,aa8c20c80335d63907834f1cd9f997bd87ec9feb,, - projects: - hash: bf9d9e55e652012d16b9d052a37efc18abbf1a01 repo: openstack/nova version: 19.1.0,,4,0
openstack%2Freleases~master~I35b1531b7716671305daf451432514995857a954,openstack/releases,master,I35b1531b7716671305daf451432514995857a954,nova: Release 20.1.0,MERGED,2020-02-03 11:32:44.000000000,2020-02-06 12:35:30.000000000,2020-02-06 12:35:30.000000000,"[{'_account_id': 308}, {'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-03 11:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b64b2c7b52b2d92bcedbfb393c476de656820a3e', 'message': 'nova: release 20.1.0\n\nMinor version bump due to the change in API behvaiour introduced by\nI0322d872bdff68936033a6f5a54e8296a6fb3434 / 94c0362918.\n\n$ git log --oneline --no-merges 20.0.1..HEAD\n27bfd0bc62 libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event\n48bb9a9663 FUP for in-place numa rebuild\n94c0362918 Disable NUMATopologyFilter on rebuild\n745de99063 Block rebuild when NUMA topology changed\n8b766d14cf Remove \'test_cold_migrate_with_physnet_fails\' test\ne82e1704ca Zuul v3: use devstack-plugin-nfs-tempest-full\nc64a136ea7 Revert ""docs: Highlight the current broken state of SEV"" (partially)\n7bdd8e97fb Create a controller for qga when SEV is used\n0662697bbf Also enable iommu for virtio controllers and video in libvirt\nf38e151b0d Switch to uses_virtio to enable iommu driver for AMD SEV\n3ea6a7f79b Cache security group driver\nf9a1bc7105 compute: Use long_rpc_timeout in reserve_block_device_name\nd7826bcd76 Mask the token used to allow access to consoles\n059dc01ae0 block_device: Copy original volume_type when missing for snapshot based volumes\n5e858d0cbd Do not update root_device_name during guest config\n939cd9b177 compute: Take an instance.uuid lock when rebooting\na5daa0ddb3 Replace time.sleep(10) with service forced_down in tests\nf3763778dd Reset instance to current vm_state if rolling back in resize_instance\n716cde5454 Don\'t delete compute node, when deleting service other than nova-compute\n0d2c26c087 Imported Translations from Zanata\na9650b3cbf Block deleting compute services with in-progress migrations\n3774952410 Add functional recreate revert resize test for bug 1852610\n28d76cc7ae Add functional recreate test for bug 1852610\n418af2d865 Improve metadata server performance with large security groups\ne2b4e3346e Join migration_context and flavor in Migration.instance\n4cb493fe4f Use admin neutron client to see if instance has qos ports\nc7a43d3427 Use admin neutron client to gather port resource requests\nb6989836dd Use admin neutron client to query ports for binding\n47e5e89cea Revert ""openstack server create"" to ""nova boot"" in nova docs\n35b5dc0d97 Nova compute: add in log exception to help debug failures\n98757fa7e7 Added openssh-client into bindep\n\nChange-Id: I35b1531b7716671305daf451432514995857a954\n'}, {'number': 2, 'created': '2020-02-03 12:48:25.000000000', 'files': ['deliverables/train/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/90752030f7ea6f70f55751b1530cf8b8fc5f2231', 'message': 'nova: Release 20.1.0\n\nMinor version bump due to the change in API behvaiour introduced by\nI0322d872bdff68936033a6f5a54e8296a6fb3434 / 94c0362918.\n\n$ git log --oneline --no-merges 20.0.1..HEAD\n27bfd0bc62 libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event\n48bb9a9663 FUP for in-place numa rebuild\n94c0362918 Disable NUMATopologyFilter on rebuild\n745de99063 Block rebuild when NUMA topology changed\n8b766d14cf Remove \'test_cold_migrate_with_physnet_fails\' test\ne82e1704ca Zuul v3: use devstack-plugin-nfs-tempest-full\nc64a136ea7 Revert ""docs: Highlight the current broken state of SEV"" (partially)\n7bdd8e97fb Create a controller for qga when SEV is used\n0662697bbf Also enable iommu for virtio controllers and video in libvirt\nf38e151b0d Switch to uses_virtio to enable iommu driver for AMD SEV\n3ea6a7f79b Cache security group driver\nf9a1bc7105 compute: Use long_rpc_timeout in reserve_block_device_name\nd7826bcd76 Mask the token used to allow access to consoles\n059dc01ae0 block_device: Copy original volume_type when missing for snapshot based volumes\n5e858d0cbd Do not update root_device_name during guest config\n939cd9b177 compute: Take an instance.uuid lock when rebooting\na5daa0ddb3 Replace time.sleep(10) with service forced_down in tests\nf3763778dd Reset instance to current vm_state if rolling back in resize_instance\n716cde5454 Don\'t delete compute node, when deleting service other than nova-compute\n0d2c26c087 Imported Translations from Zanata\na9650b3cbf Block deleting compute services with in-progress migrations\n3774952410 Add functional recreate revert resize test for bug 1852610\n28d76cc7ae Add functional recreate test for bug 1852610\n418af2d865 Improve metadata server performance with large security groups\ne2b4e3346e Join migration_context and flavor in Migration.instance\n4cb493fe4f Use admin neutron client to see if instance has qos ports\nc7a43d3427 Use admin neutron client to gather port resource requests\nb6989836dd Use admin neutron client to query ports for binding\n47e5e89cea Revert ""openstack server create"" to ""nova boot"" in nova docs\n35b5dc0d97 Nova compute: add in log exception to help debug failures\n98757fa7e7 Added openssh-client into bindep\n\nChange-Id: I35b1531b7716671305daf451432514995857a954\n'}]",1,705423,90752030f7ea6f70f55751b1530cf8b8fc5f2231,16,8,2,10135,,,0,"nova: Release 20.1.0

Minor version bump due to the change in API behvaiour introduced by
I0322d872bdff68936033a6f5a54e8296a6fb3434 / 94c0362918.

$ git log --oneline --no-merges 20.0.1..HEAD
27bfd0bc62 libvirt: check job status for VIR_DOMAIN_EVENT_SUSPENDED_MIGRATED event
48bb9a9663 FUP for in-place numa rebuild
94c0362918 Disable NUMATopologyFilter on rebuild
745de99063 Block rebuild when NUMA topology changed
8b766d14cf Remove 'test_cold_migrate_with_physnet_fails' test
e82e1704ca Zuul v3: use devstack-plugin-nfs-tempest-full
c64a136ea7 Revert ""docs: Highlight the current broken state of SEV"" (partially)
7bdd8e97fb Create a controller for qga when SEV is used
0662697bbf Also enable iommu for virtio controllers and video in libvirt
f38e151b0d Switch to uses_virtio to enable iommu driver for AMD SEV
3ea6a7f79b Cache security group driver
f9a1bc7105 compute: Use long_rpc_timeout in reserve_block_device_name
d7826bcd76 Mask the token used to allow access to consoles
059dc01ae0 block_device: Copy original volume_type when missing for snapshot based volumes
5e858d0cbd Do not update root_device_name during guest config
939cd9b177 compute: Take an instance.uuid lock when rebooting
a5daa0ddb3 Replace time.sleep(10) with service forced_down in tests
f3763778dd Reset instance to current vm_state if rolling back in resize_instance
716cde5454 Don't delete compute node, when deleting service other than nova-compute
0d2c26c087 Imported Translations from Zanata
a9650b3cbf Block deleting compute services with in-progress migrations
3774952410 Add functional recreate revert resize test for bug 1852610
28d76cc7ae Add functional recreate test for bug 1852610
418af2d865 Improve metadata server performance with large security groups
e2b4e3346e Join migration_context and flavor in Migration.instance
4cb493fe4f Use admin neutron client to see if instance has qos ports
c7a43d3427 Use admin neutron client to gather port resource requests
b6989836dd Use admin neutron client to query ports for binding
47e5e89cea Revert ""openstack server create"" to ""nova boot"" in nova docs
35b5dc0d97 Nova compute: add in log exception to help debug failures
98757fa7e7 Added openssh-client into bindep

Change-Id: I35b1531b7716671305daf451432514995857a954
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/705423/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/nova.yaml'],1,b64b2c7b52b2d92bcedbfb393c476de656820a3e,, - version: 20.1.0 projects: - repo: openstack/nova hash: 27bfd0bc6233c25114504bb363402807752a7ece ,,4,0
openstack%2Fec2-api~master~If7ba4697a2e5e7f6390187e094a1e7f3c1996078,openstack/ec2-api,master,If7ba4697a2e5e7f6390187e094a1e7f3c1996078,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-28 03:15:17.000000000,2020-02-06 12:34:51.000000000,2020-02-06 12:31:04.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 03:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/39e1a940ac76916d0ab4518c582b110afd702694', 'message': ""Stop testing python2.7\n\nTrain was the last release supporting python2. Let's rip the bandaid\noff.\n\nChange-Id: If7ba4697a2e5e7f6390187e094a1e7f3c1996078\n""}, {'number': 2, 'created': '2020-01-22 02:27:26.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-a4b96d486289a772.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/bd411b7272839f2394e40008315a9adac48d6201', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nMasakari is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nCo-authored-by: Ghanshyam <gmann@ghanshyammann.com>\nChange-Id: If7ba4697a2e5e7f6390187e094a1e7f3c1996078\n'}]",1,691563,bd411b7272839f2394e40008315a9adac48d6201,49,4,2,30092,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Masakari is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Co-authored-by: Ghanshyam <gmann@ghanshyammann.com>
Change-Id: If7ba4697a2e5e7f6390187e094a1e7f3c1996078
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/63/691563/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,39e1a940ac76916d0ab4518c582b110afd702694,drop-py27-support,"envlist = pep8,py37,docs,api-ref","envlist = pep8,py27,py37,docs,api-ref",1,4
openstack%2Fkuryr-kubernetes~master~I28f4a1b7d6b683d81970bf6a4cfb3fe6d95dfb90,openstack/kuryr-kubernetes,master,I28f4a1b7d6b683d81970bf6a4cfb3fe6d95dfb90,Remove old CNI handlers,MERGED,2020-01-20 15:08:16.000000000,2020-02-06 11:42:10.000000000,2020-02-06 11:40:01.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-20 15:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74e036360762106b5a7bd41d723360b8c358978e', 'message': 'Remove old CNI handlers\n\nSeems like AddHandler and DelHandler are not used by kuryr-daemon or CNI\ncode anymore and this commit gets rid of them.\n\nChange-Id: I28f4a1b7d6b683d81970bf6a4cfb3fe6d95dfb90\n'}, {'number': 2, 'created': '2020-01-20 16:06:42.000000000', 'files': ['kuryr_kubernetes/cni/handlers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b287d33e2b8e69889a36d2afd514705b1f0693be', 'message': 'Remove old CNI handlers\n\nSeems like AddHandler and DelHandler are not used by kuryr-daemon or CNI\ncode anymore and this commit gets rid of them.\n\nChange-Id: I28f4a1b7d6b683d81970bf6a4cfb3fe6d95dfb90\n'}]",2,703415,b287d33e2b8e69889a36d2afd514705b1f0693be,14,6,2,11600,,,0,"Remove old CNI handlers

Seems like AddHandler and DelHandler are not used by kuryr-daemon or CNI
code anymore and this commit gets rid of them.

Change-Id: I28f4a1b7d6b683d81970bf6a4cfb3fe6d95dfb90
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/15/703415/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/handlers.py'],1,74e036360762106b5a7bd41d723360b8c358978e,remove-old-cni-handlers,,"from kuryr_kubernetes.cni.binding import base as b_baseclass AddHandler(CNIHandlerBase): def __init__(self, cni, on_done): LOG.debug(""AddHandler called with CNI env: %r"", cni) super(AddHandler, self).__init__(cni, on_done) def on_vif(self, pod, vif, ifname): """"""Called once for every vif of a Pod on every event. If it is the first time we see this vif, plug it in. :param pod: dict containing Kubernetes Pod object :param vif: os_vif VIF object :param ifname: string, name of the interfaces inside container """""" if ifname not in self._vifs: self._vifs[ifname] = vif _vif = vif.obj_clone() _vif.active = True # set eth0's gateway as default is_default_gateway = (ifname == self._cni.CNI_IFNAME) b_base.connect(_vif, self._get_inst(pod), ifname, self._cni.CNI_NETNS, is_default_gateway=is_default_gateway, container_id=self._cni.CNI_CONTAINERID) def should_callback(self, pod, vifs): """"""Called after all vifs have been processed Determines if CNI is ready to call the callback and stop watching for more events. For AddHandler the callback should be called if there is at least one VIF in the annotation and all the VIFs received are marked active :param pod: dict containing Kubernetes Pod object :param vifs: dict containing os_vif VIF objects and ifnames :returns True/False """""" all_vifs_active = vifs and all(vif.active for vif in vifs.values()) if all_vifs_active: if self._cni.CNI_IFNAME in self._vifs: self.callback_vif = self._vifs[self._cni.CNI_IFNAME] else: self.callback_vif = next(iter(self._vifs.values())) LOG.debug(""All VIFs are active, exiting. Will return %s"", self.callback_vif) return True else: LOG.debug(""Waiting for all vifs to become active"") return False def callback(self): self._callback(self.callback_vif) class DelHandler(CNIHandlerBase): def on_vif(self, pod, vif, ifname): b_base.disconnect(vif, self._get_inst(pod), self._cni.CNI_IFNAME, self._cni.CNI_NETNS, container_id=self._cni.CNI_CONTAINERID) def should_callback(self, pod, vifs): """"""Called after all vifs have been processed Calls callback if there was at least one vif in the Pod :param pod: dict containing Kubernetes Pod object :param vifs: dict containing os_vif VIF objects and ifnames :returns True/False """""" if vifs: return True return False def callback(self): self._callback(None) ",0,83
openstack%2Ftap-as-a-service~master~I6132054ef3bd8423990f91fae6329dfd089660b4,openstack/tap-as-a-service,master,I6132054ef3bd8423990f91fae6329dfd089660b4,Adds policy in code to Tap-as-a-Service,MERGED,2019-04-23 19:36:38.000000000,2020-02-06 11:39:11.000000000,2020-02-06 11:39:11.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 18204}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 29963}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-04-23 19:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a960c8a82098a84b0676fb07c57343d3a3a9d324', 'message': '[WIP] Adds policy in code to Tap-as-a-Service\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n'}, {'number': 2, 'created': '2019-04-23 22:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/293ab18b2473bcf0fb40d3bf1fd2671fec041062', 'message': '[WIP] Adds policy in code to Tap-as-a-Service\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n'}, {'number': 3, 'created': '2019-04-29 23:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/cb7bdd7f7b1e37cd575e1b33ee904e53eead066d', 'message': '[WIP] Adds policy in code to Tap-as-a-Service\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n'}, {'number': 4, 'created': '2019-05-07 22:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/22b880c5dbf2d6066fb36460c5e8a1005d1a0397', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}, {'number': 5, 'created': '2019-05-07 23:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f4456babd8204f99f9066e87a9d62d53f0326cad', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}, {'number': 6, 'created': '2019-05-22 20:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/32f020fde2425c42572d673350a0f977e2f70823', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}, {'number': 7, 'created': '2019-05-29 19:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/276357df643b3b04c3f85ee2ce50b1d3dd4c56f9', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}, {'number': 8, 'created': '2019-06-03 23:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a84a4ece118e95c67e087427f86a8146d2d4c8b6', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}, {'number': 9, 'created': '2019-06-05 00:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/de3447ba938382fd55a27b3314991f9283e5860b', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}, {'number': 10, 'created': '2020-01-09 12:52:26.000000000', 'files': ['etc/policy-generator.conf', 'neutron_taas/policies/tap_service.py', 'neutron_taas/policies/tap_flow.py', 'setup.cfg', 'tox.ini', 'neutron_taas/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/b2b225e967b6eacdf677b5c030b35f5b5c16c9d7', 'message': ""Adds policy in code to Tap-as-a-Service\n\nAdding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of\nrelying on Neutron's default policy.\n\nChange-Id: I6132054ef3bd8423990f91fae6329dfd089660b4\n""}]",24,655237,b2b225e967b6eacdf677b5c030b35f5b5c16c9d7,60,10,10,23140,,,0,"Adds policy in code to Tap-as-a-Service

Adding oslo.policy allows operators to use and customize RBAC for tap-as-a-service instead of
relying on Neutron's default policy.

Change-Id: I6132054ef3bd8423990f91fae6329dfd089660b4
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/37/655237/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/tempest_plugin/tests/api/rbac/rbac_base.py', 'neutron_taas/policy.py', 'neutron_taas/policies/tap_service.py', 'neutron_taas/policies/base.py', 'neutron_taas/policies/tap_flow.py', 'setup.cfg', 'etc/taas/policy.yaml.sample', 'tox.ini', 'neutron_taas/policies/__init__.py']",9,a960c8a82098a84b0676fb07c57343d3a3a9d324,policy_in_code,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import itertools from neutron_taas.policies import tap_flow from neutron_taas.policies import tap_service def list_rules(): return itertools.chain( tap_flow.list_rules(), tap_service.list_rules(), ) ",,234,0
openstack%2Ftripleo-quickstart-extras~master~I8871799516cc192508b3ce3d3d93c255d8591bef,openstack/tripleo-quickstart-extras,master,I8871799516cc192508b3ce3d3d93c255d8591bef,[os_tempest] set venv to python3 for stackviz,ABANDONED,2020-02-06 07:45:32.000000000,2020-02-06 11:29:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-06 07:45:32.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2b7c38bf58dcd01b5ca6ccee10994ca0cf7c277', 'message': ""[os_tempest] set venv to python3 for stackviz\n\nCurrently on CentOS7 system, python2 is used by default but\nstackviz is installed in venv and pulls upstream constrients and\nupstream is removing support of py2 and leading to failure of\ndependencies.\n\nSince python3 is available in CentOS7, let's use that for stackviz\npurpose.\n\nChange-Id: I8871799516cc192508b3ce3d3d93c255d8591bef\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,706189,f2b7c38bf58dcd01b5ca6ccee10994ca0cf7c277,4,2,1,12393,,,0,"[os_tempest] set venv to python3 for stackviz

Currently on CentOS7 system, python2 is used by default but
stackviz is installed in venv and pulls upstream constrients and
upstream is removing support of py2 and leading to failure of
dependencies.

Since python3 is available in CentOS7, let's use that for stackviz
purpose.

Change-Id: I8871799516cc192508b3ce3d3d93c255d8591bef
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/89/706189/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,f2b7c38bf58dcd01b5ca6ccee10994ca0cf7c277,fix_stackviz,- name: set tempest python executable set_fact: tempest_venv_python_executable: 'python3' when: release is 'master' ,,5,0
openstack%2Fgovernance~master~Icb52677918301c128a82e1f124db9e0e8759e9be,openstack/governance,master,Icb52677918301c128a82e1f124db9e0e8759e9be,Add charm-interface-keystone-notifications project,MERGED,2020-01-21 20:43:44.000000000,2020-02-06 11:15:19.000000000,2020-02-06 11:13:34.000000000,"[{'_account_id': 308}, {'_account_id': 2424}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 13686}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 20:43:44.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ae50e2091a444c4bf8973cbb8566372db4430994', 'message': 'Add charm-interface-keystone-notifications project\n\nThis patch adds charm-interface-keytone-notifications project to enable\nthe use of identity-notifications relation in reactive charms.\n\nDepends-On: https://review.opendev.org/703691\nChange-Id: Icb52677918301c128a82e1f124db9e0e8759e9be\n'}]",0,703692,ae50e2091a444c4bf8973cbb8566372db4430994,18,9,1,2424,,,0,"Add charm-interface-keystone-notifications project

This patch adds charm-interface-keytone-notifications project to enable
the use of identity-notifications relation in reactive charms.

Depends-On: https://review.opendev.org/703691
Change-Id: Icb52677918301c128a82e1f124db9e0e8759e9be
",git fetch https://review.opendev.org/openstack/governance refs/changes/92/703692/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,ae50e2091a444c4bf8973cbb8566372db4430994,project-update, charm-interface-keystone-notifications: release-management: external repos: - openstack/charm-interface-keystone-notifications,,4,0
openstack%2Fkolla-ansible~stable%2Frocky~I53261d0403b983ab419bd44e705b89f7b7a1c316,openstack/kolla-ansible,stable/rocky,I53261d0403b983ab419bd44e705b89f7b7a1c316,Remove /etc/hosts entries pointing hostname to localhost and prevent cloud-init to manage /etc/hosts,MERGED,2020-02-06 08:13:15.000000000,2020-02-06 11:07:20.000000000,2020-02-06 11:05:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 08:13:15.000000000', 'files': ['ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ca1b012f1972c38f75e91ff8d99d4f6a0a974d9', 'message': 'Remove /etc/hosts entries pointing hostname to localhost and prevent\ncloud-init to manage /etc/hosts\n\n1) Ubuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\n2) The distribution might come with cloud-init installed, and manage_etc_hosts\nconfiguration enabled. If so, it will override the file /etc/hosts from cloud-init\ntemplates at every boot, which will break RabbitMQ.\n\nThis change fixes these issues.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n(cherry picked from commit 0b24a0f2f0880c35368581e3acc529672da665f8)\n'}]",0,706192,3ca1b012f1972c38f75e91ff8d99d4f6a0a974d9,9,3,1,30687,,,0,"Remove /etc/hosts entries pointing hostname to localhost and prevent
cloud-init to manage /etc/hosts

1) Ubuntu includes a line in /etc/hosts that makes the local hostname and
nodename (if different) point to 127.0.1.1. This can break RabbitMQ,
which expects the hostname to resolve to the API network address.

2) The distribution might come with cloud-init installed, and manage_etc_hosts
configuration enabled. If so, it will override the file /etc/hosts from cloud-init
templates at every boot, which will break RabbitMQ.

This change fixes these issues.

Change-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316
Closes-Bug: #1837699
(cherry picked from commit 0b24a0f2f0880c35368581e3acc529672da665f8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/706192/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/pre-install.yml'],1,3ca1b012f1972c38f75e91ff8d99d4f6a0a974d9,bug/1837699-stable/rocky,"# NOTE(mgoddard): Ubuntu includes a line in /etc/hosts that makes the local # hostname and nodename (if different) point to 127.0.1.1. This can break # RabbitMQ, which expects the hostname to resolve to the API network address. # Remove these troublesome entries. - name: Ensure hostname does not point to loopback in /etc/hosts lineinfile: dest: /etc/hosts regexp: ""^127.\\d+.\\d+.\\d+(\\s+{{ ansible_nodename }})?\\s+{{ ansible_hostname }}$"" state: absent become: True when: customize_etc_hosts | bool # NOTE(osmanlicilegi): The distribution might come with cloud-init installed, and manage_etc_hosts # configuration enabled. If so, it will override the file /etc/hosts from cloud-init templates at # every boot, which will break RabbitMQ. To prevent this happens, first we check whether cloud-init # has been installed, and then set manage_etc_hosts to false. - name: Check whether cloud-init has been installed, and ensure manage_etc_hosts is disabled block: - name: Ensure /etc/cloud/cloud.cfg exists stat: path: /etc/cloud/cloud.cfg register: cloud_init - name: Disable cloud-init manage_etc_hosts copy: content: ""manage_etc_hosts: false"" dest: /etc/cloud/cloud.cfg.d/99-kolla.cfg mode: ""0660"" when: cloud_init.stat.exists become: True when: customize_etc_hosts | bool ",,32,0
openstack%2Ftripleo-validations~master~Id199fc250afa0646b1e851581e3a92290f7bcb00,openstack/tripleo-validations,master,Id199fc250afa0646b1e851581e3a92290f7bcb00,Make groups documentation part dynamic,MERGED,2020-01-17 11:52:30.000000000,2020-02-06 10:32:45.000000000,2020-02-06 10:30:52.000000000,"[{'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-17 11:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6f24a4fcfa08f2928d016af487e4a614a9267a6b', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2020-01-17 13:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/717e2904f33e860e71bac704274cf6590c2c337b', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2020-01-17 13:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c0f4f86e784ef1daa16e16b3337be9f952ed678e', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2020-01-17 15:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/65d11744e3b0f873efbeb345c441fcefeacd88d0', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2020-01-28 13:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f0f2cee9b2c9d7edb64f8ca53cc325f5b96d5b11', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nThis patch also fixes the basepython conflict for the tox docs testenv.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2020-01-28 13:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/55027eef3516c1225ad88ff12dab9912dae4c7e5', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nThis patch also fixes the basepython conflict for the tox py37 testenv.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2020-01-29 13:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cac28252bd3c5d7a9f6b51852a561c80a503228b', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nThis patch also fixes the basepython conflict for the tox py37 testenv.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2020-01-29 14:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c5ee173b387bc7828154cbbaa3242b0c356f90ac', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nThis patch also fixes the basepython conflict for the tox py37 testenv.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2020-01-30 10:50:48.000000000', 'files': ['doc/source/roles/role-rabbitmq_limits.rst', 'doc/source/roles/role-collect-flavors-and-verify-profiles.rst', 'doc/source/roles/role-xfs-check-ftype.rst', 'doc/source/roles/role-healthcheck-service-status.rst', 'doc/source/roles/role-undercloud_disk_space.rst', 'doc/source/roles/role-undercloud_tokenflush.rst', 'doc/source/roles/role-controller-token.rst', 'doc/source/roles/role-openstack_endpoints.rst', 'doc/source/roles/role-mysql-open-files-limit.rst', 'doc/source/roles/role-service-status.rst', 'doc/source/roles/role-ironic-boot-configuration.rst', 'doc/source/roles/role-default-node-count.rst', 'doc/source/roles/role-undercloud_selinux_mode.rst', 'doc/source/roles/role-rabbitmq-limits.rst', 'doc/source/roles/role-service_status.rst', 'doc/source/roles/role-advanced_format_512e_support.rst', 'doc/source/roles/role-collect_flavors_and_verify_profiles.rst', 'doc/source/roles/role-undercloud-disk-space.rst', 'doc/source/roles/role-image-serve.rst', 'doc/source/roles/role-containerized-undercloud-docker.rst', 'doc/source/roles/role-undercloud-process-count.rst', 'doc/source/roles/role-nova_status.rst', 'doc/source/roles/role-switch-vlans.rst', 'doc/source/roles/role-check_network_gateway.rst', 'doc/source/roles/role-no_op_firewall_nova_driver.rst', 'doc/source/roles/role-container_status.rst', 'doc/source/roles/role-containerized_undercloud_docker.rst', 'doc/source/roles/role-ctlplane-ip-range.rst', 'doc/source/roles/role-pacemaker_status.rst', 'doc/source/roles/role-default_node_count.rst', 'doc/source/roles/role-neutron_sanity_check.rst', 'doc/source/roles/role-tls_everywhere.rst', 'doc/source/roles/role-dhcp-validations.rst', 'doc/source/roles/role-advanced-format-512e-support.rst', 'doc/source/roles/role-stonith_exists.rst', 'doc/source/roles/role-ceilometerdb-size.rst', 'doc/source/roles/role-openshift_on_openstack.rst', 'doc/source/roles/role-switch_vlans.rst', 'doc/source/roles/role-undercloud-ram.rst', 'doc/source/roles/role-undercloud-service-status.rst', 'doc/source/roles/role-controller-ulimits.rst', 'doc/source/roles/role-node-health.rst', 'doc/source/roles/role-nova_event_callback.rst', 'doc/source/roles/role-no_op.rst', 'doc/source/roles/role-ovs-dpdk-pmd.rst', 'tox.ini', 'doc/source/roles/role-dhcp_validations.rst', 'doc/source/roles/role-ironic_boot_configuration.rst', 'doc/source/roles/role-openstack-endpoints.rst', 'doc/source/roles/role-no-op.rst', 'doc/source/roles/role-undercloud-heat-purge-deleted.rst', 'doc/source/roles/role-xfs_check_ftype.rst', 'doc/source/roles/role-stack_health.rst', 'doc/source/roles/role-image_serve.rst', 'doc/source/roles/role-ceilometerdb_size.rst', 'doc/source/roles/role-controller_token.rst', 'doc/source/roles/role-undercloud-debug.rst', 'doc/source/roles/role-ctlplane_ip_range.rst', 'doc/source/roles/role-tls-everywhere.rst', 'doc/source/roles/role-undercloud_cpu.rst', 'doc/source/roles/role-check-network-gateway.rst', 'doc/source/roles/role-stack-health.rst', 'doc/source/roles/role-check_latest_packages_version.rst', 'doc/source/roles/role-validate-selinux.rst', 'doc/source/roles/role-neutron-sanity-check.rst', 'doc/source/roles/role-undercloud_process_count.rst', 'doc/source/roles/role-check-latest-packages-version.rst', 'doc/source/roles/role-undercloud_ram.rst', 'doc/source/roles/role-stonith-exists.rst', 'doc/source/roles/role-node_disks.rst', 'doc/source/roles/role-mysql_open_files_limit.rst', 'doc/source/roles/role-ovs_dpdk_pmd.rst', 'doc/source/roles/role-undercloud_service_status.rst', 'doc/source/roles/role-undercloud-cpu.rst', 'doc/source/roles/role-controller_ulimits.rst', 'doc/source/roles/role-nova-event-callback.rst', 'doc/source/roles/role-validate_selinux.rst', 'doc/source/roles/role-openshift-on-openstack.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/roles/role-undercloud-tokenflush.rst', 'doc/source/roles/role-node_health.rst', 'doc/source/roles/role-undercloud_debug.rst', 'doc/source/roles/role-undercloud_heat_purge_deleted.rst', 'doc/source/index.rst', 'doc/source/roles/role-healthcheck_service_status.rst', 'doc/source/roles/role-network_environment.rst', 'doc/source/roles/role-node-disks.rst', 'doc/source/roles/role-network-environment.rst', 'doc/requirements.txt', 'doc/source/readme.rst', 'doc/source/roles/role-nova-status.rst', 'doc/source/roles/role-undercloud-selinux-mode.rst', 'doc/source/roles/role-container-status.rst', 'doc/source/roles/role-pacemaker-status.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/42934b9a09e53b562f6c66b69e235ddaeb64f8a9', 'message': 'Make groups documentation part dynamic\n\nThe groups.yaml file is now the source of information concerning the\nvalidations groups. The groups information part is now created\ndynamically by reading the groups.yaml file.\n\nThis patch also fixes the basepython conflict for the tox py37 testenv.\n\nChange-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",1,703060,42934b9a09e53b562f6c66b69e235ddaeb64f8a9,28,6,9,11491,,,0,"Make groups documentation part dynamic

The groups.yaml file is now the source of information concerning the
validations groups. The groups information part is now created
dynamically by reading the groups.yaml file.

This patch also fixes the basepython conflict for the tox py37 testenv.

Change-Id: Id199fc250afa0646b1e851581e3a92290f7bcb00
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/703060/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/readme.rst', 'doc/source/_exts/generate_validations_doc.py']",3,6f24a4fcfa08f2928d016af487e4a614a9267a6b,,"def build_groups_detail(groups): entries = [ """""" {group} {adornment} {desc} .. include:: {link} """""" .format(group=(grp), adornment=(len(grp) * '~'), link=""validations-{}.rst"".format(grp), desc=desc[0].get('description', None), ) for grp, desc in sorted(groups.items())] with open('doc/source/validations-groups.rst', 'w') as f: f.write(""\n"".join(entries)) def parse_groups_file(): contents = {} groups_file_path = os.path.abspath('groups.yaml') if os.path.exists(groups_file_path): with open(groups_file_path, ""r"") as grps: contents = yaml.safe_load(grps) return contents def get_groups(): # Seed it with the known groups from groups.yaml file. groups = set() contents = parse_groups_file() for group_name in contents.keys(): groups.add(group_name) return groups, contents def setup(app): group_name, group_info = get_groups() build_groups_detail(group_info) group_name.add(group) for group in group_name:","def setup(app): # Seed it with the known groups: groups = set(('no-op', 'prep', 'pre-introspection', 'pre-deployment', 'post-deployment', 'pre-update', 'pre-upgrade', 'post-upgrade', 'openshift-on-openstack')) groups.add(group) for group in groups:",51,72
openstack%2Fmonasca-persister~master~I82c3e4e64984a996e41fe2657ce36b032b40d3fd,openstack/monasca-persister,master,I82c3e4e64984a996e41fe2657ce36b032b40d3fd,Add configuration option influxdb.batch_size,MERGED,2020-01-21 09:21:01.000000000,2020-02-06 10:16:56.000000000,2020-02-06 10:15:33.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 09:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/68fc230fedf9044c38811469505e25da723e59a2', 'message': 'Add configuration option influxdb.batch_size\n\nThe new configuration option is used to control the maximum size of\nbatches written to InfluxDB and optimizes performance for high loads.\nThe default value is set to 10.000 data points per batch.\n\nChange-Id: I82c3e4e64984a996e41fe2657ce36b032b40d3fd\nStory: 2007191\nTask: 38319\n'}, {'number': 2, 'created': '2020-01-21 10:08:12.000000000', 'files': ['monasca_persister/repositories/influxdb/abstract_repository.py', 'monasca_persister/conf/influxdb.py', 'releasenotes/notes/add_influxb_batch_size-01b7a476b6bd8a81.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/0696cf54ee22848d1b09d60290ca01e46c60aa66', 'message': 'Add configuration option influxdb.batch_size\n\nThe new configuration option is used to control the maximum size of\nbatches written to InfluxDB and optimizes performance for high loads.\nThe default value is set to 10 000 data points per batch.\n\nChange-Id: I82c3e4e64984a996e41fe2657ce36b032b40d3fd\nStory: 2007191\nTask: 38319\n'}]",2,703563,0696cf54ee22848d1b09d60290ca01e46c60aa66,14,3,2,16222,,,0,"Add configuration option influxdb.batch_size

The new configuration option is used to control the maximum size of
batches written to InfluxDB and optimizes performance for high loads.
The default value is set to 10 000 data points per batch.

Change-Id: I82c3e4e64984a996e41fe2657ce36b032b40d3fd
Story: 2007191
Task: 38319
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/63/703563/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/repositories/influxdb/abstract_repository.py', 'monasca_persister/conf/influxdb.py', 'releasenotes/notes/add_influxb_batch_size-01b7a476b6bd8a81.yaml']",3,68fc230fedf9044c38811469505e25da723e59a2,,--- features: - | Configuration option `batch_size` for InfluxDB to controll the maximum size of batches written to the database. Default value set to 10.000 data points.,,12,1
openstack%2Fironic-python-agent-builder~master~Ib2ae8c2d9f59695ce7af5414f73e1f4bcc7ae462,openstack/ironic-python-agent-builder,master,Ib2ae8c2d9f59695ce7af5414f73e1f4bcc7ae462,Test artifact publishing via AFS,MERGED,2020-01-31 06:37:59.000000000,2020-02-06 10:16:24.000000000,2020-02-06 10:12:00.000000000,"[{'_account_id': 4146}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-31 06:37:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/f854e34a152b19b8b768d89e9a87d65752bb7014', 'message': ""Test artifact publishing via AFS\n\nI'm requesting this job be temporarily merged for testing publishing\nartifacts to an AFS volume instead of pushing it to a static server.\nThis is part of the efforts to retire our static.openstack.org server\nand serve files from our distributed storage [1].\n\nBecause the publishing steps happen in the post phase using a secret\nvalue in project-config to get the kerberos ticket for writing to AFS,\nwe have to commit changes to really test them.\n\nThis repository is a good user of the artifact upload process and a\ngood target for testing the changes on just one repository.\n\nThis adds a job ironic-python-agent-build-image-tinyipa-publish-to-afs\nwhich is ultimately parented to the new\npublish-openstack-artifacts-with-afs from project-config.  The only\ndifference is that this will upload the output to AFS, where I will\ncheck that everything copied as expected.  We can then revert this.\n\nUltimately we will change the publish-openstack-artifacts job in\nproject-config -- this will be transparent to end-users such as this\nrepository as we will be switching tarballs.openstack.org to use this\nat the same time.\n\nDepends-On: https://review.opendev.org/705159\n[1] https://docs.opendev.org/opendev/infra-specs/latest/specs/retire-static.html\n\nChange-Id: Ib2ae8c2d9f59695ce7af5414f73e1f4bcc7ae462\n""}]",0,705160,f854e34a152b19b8b768d89e9a87d65752bb7014,9,4,1,7118,,,0,"Test artifact publishing via AFS

I'm requesting this job be temporarily merged for testing publishing
artifacts to an AFS volume instead of pushing it to a static server.
This is part of the efforts to retire our static.openstack.org server
and serve files from our distributed storage [1].

Because the publishing steps happen in the post phase using a secret
value in project-config to get the kerberos ticket for writing to AFS,
we have to commit changes to really test them.

This repository is a good user of the artifact upload process and a
good target for testing the changes on just one repository.

This adds a job ironic-python-agent-build-image-tinyipa-publish-to-afs
which is ultimately parented to the new
publish-openstack-artifacts-with-afs from project-config.  The only
difference is that this will upload the output to AFS, where I will
check that everything copied as expected.  We can then revert this.

Ultimately we will change the publish-openstack-artifacts job in
project-config -- this will be transparent to end-users such as this
repository as we will be switching tarballs.openstack.org to use this
at the same time.

Depends-On: https://review.opendev.org/705159
[1] https://docs.opendev.org/opendev/infra-specs/latest/specs/retire-static.html

Change-Id: Ib2ae8c2d9f59695ce7af5414f73e1f4bcc7ae462
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/60/705160/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f854e34a152b19b8b768d89e9a87d65752bb7014,static-services,# NOTE(ianw) 2020-01-31 : this is just for infra testing uploading # artifacts to AFS instead of a static partition. - job: name: ironic-python-agent-build-image-base-publish-to-afs parent: publish-openstack-artifacts-with-afs pre-run: playbooks/ironic-python-agent-build-image/pre.yaml run: playbooks/ironic-python-agent-build-image/run.yaml post-run: playbooks/ironic-python-agent-build-image/post.yaml timeout: 1800 required-projects: - openstack/requirements - openstack/ironic-python-agent - openstack/ironic-python-agent-builder vars: ipa_raw_dir: '{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent/UPLOAD_RAW' ipa_tar_dir: '{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent/UPLOAD_TAR' - job: name: ironic-python-agent-build-image-tinyipa-publish-to-afs parent: ironic-python-agent-build-image-base-publish-to-afs vars: image_type: 'tinyipa' - ironic-python-agent-build-image-tinyipa-publish-to-afs,,24,0
openstack%2Fmonasca-api~master~Iac7d608a202440381f211d04b0978218ac36c54d,openstack/monasca-api,master,Iac7d608a202440381f211d04b0978218ac36c54d,Remove handling legacy monasca-agent service file,MERGED,2019-10-01 11:39:54.000000000,2020-02-06 10:13:50.000000000,2020-02-06 10:07:45.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/4a51a701f1040a58a62cdd31c48dd596492d530f', 'message': 'Remove handling legacy monasca-agent service file\n\nChange-Id: Iac7d608a202440381f211d04b0978218ac36c54d\n'}, {'number': 2, 'created': '2019-10-02 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/710a3a20d565d73405d97c437c2dd436f50b69ac', 'message': 'Remove handling legacy monasca-agent service file\n\nmonasca-agent service file is not used anymore. monasca-collector,\nmonasca-forwarder and monasca-statsd are new services defined in\nmonasca-agent target.\n\nThis change removes the legacy monasca-agent service file handling from\nDevStack plugin.\n\nStory: 2000975\nTask: 36886\n\nChange-Id: Iac7d608a202440381f211d04b0978218ac36c54d\n'}, {'number': 3, 'created': '2019-10-07 13:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/986a403d2eef37bde6a968b4dc139a0e76727c65', 'message': 'Remove handling legacy monasca-agent service file\n\nmonasca-agent service file is not used anymore. monasca-collector,\nmonasca-forwarder and monasca-statsd are new services defined in\nmonasca-agent target.\n\nThis change removes the legacy monasca-agent service file handling from\nDevStack plugin.\n\nStory: 2000975\nTask: 36886\n\nChange-Id: Iac7d608a202440381f211d04b0978218ac36c54d\n'}, {'number': 4, 'created': '2019-11-18 10:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/03b4e64fb09e0eb0743d0755a6c95fc3bf66983a', 'message': 'Remove handling legacy monasca-agent service file\n\nmonasca-agent service file is not used anymore. monasca-collector,\nmonasca-forwarder and monasca-statsd are new services defined in\nmonasca-agent target.\n\nThis change removes the legacy monasca-agent service file handling from\nDevStack plugin.\n\nStory: 2000975\nTask: 36886\n\nChange-Id: Iac7d608a202440381f211d04b0978218ac36c54d\n'}, {'number': 5, 'created': '2020-01-27 10:40:24.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6d0200133790ddc545c545061d60e2ba7321a033', 'message': 'Remove handling legacy monasca-agent service file\n\nmonasca-agent service file is not used anymore. monasca-collector,\nmonasca-forwarder and monasca-statsd are new services defined in\nmonasca-agent target.\n\nThis change removes the legacy monasca-agent service file handling from\nDevStack plugin.\n\nStory: 2000975\nTask: 36886\n\nChange-Id: Iac7d608a202440381f211d04b0978218ac36c54d\n'}]",0,685939,6d0200133790ddc545c545061d60e2ba7321a033,19,4,5,16222,,,0,"Remove handling legacy monasca-agent service file

monasca-agent service file is not used anymore. monasca-collector,
monasca-forwarder and monasca-statsd are new services defined in
monasca-agent target.

This change removes the legacy monasca-agent service file handling from
DevStack plugin.

Story: 2000975
Task: 36886

Change-Id: Iac7d608a202440381f211d04b0978218ac36c54d
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/39/685939/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,4a51a701f1040a58a62cdd31c48dd596492d530f,,, if [ -f /etc/systemd/system/monasca-agent.target ]; then start_service monasca-agent.target || restart_service monasca-agent.target fi if [ -f /etc/systemd/system/monasca-agent.service ]; then start_service monasca-agent.service || restart_service monasca-agent.service fi [[ -f /etc/systemd/system/monasca-agent.service ]] && stop_service monasca-agent.service || true,0,7
openstack%2Fmonasca-api~master~Ie909b13c7692267e787d481f4de658db3b07a1c4,openstack/monasca-api,master,Ie909b13c7692267e787d481f4de658db3b07a1c4,Use Confluent Kafka producer for logs,MERGED,2019-10-08 12:27:31.000000000,2020-02-06 10:11:51.000000000,2020-02-06 10:07:42.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 27078}]","[{'number': 1, 'created': '2019-10-08 12:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/02c1aa8495469867853d13641c5656c501817fcb', 'message': 'Use Confluent Kafka producer for logs\n\nAs already implemented for metrics, also logs should be published to\nApache Kafka using the new Kafka client.\n\nChange-Id: Ie909b13c7692267e787d481f4de658db3b07a1c4\nStory: 2003705\nTask: 36866\n'}, {'number': 2, 'created': '2019-12-12 14:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/91e5b352bf86be0c160f4018f4f246a483eac0a2', 'message': 'Use Confluent Kafka producer for logs\n\nAs already implemented for metrics, also logs should be published to\nApache Kafka using the new Kafka client.\n\nChange-Id: Ie909b13c7692267e787d481f4de658db3b07a1c4\nStory: 2003705\nTask: 36866\n'}, {'number': 3, 'created': '2020-01-17 15:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c8d21abe4bb52ea51e7514986f52caae9edcaabb', 'message': 'Use Confluent Kafka producer for logs\n\nAs already implemented for metrics, also logs should be published to\nApache Kafka using the new Kafka client.\n\nChange-Id: Ie909b13c7692267e787d481f4de658db3b07a1c4\nStory: 2003705\nTask: 36866\n'}, {'number': 4, 'created': '2020-01-27 08:20:40.000000000', 'files': ['monasca_api/api/core/log/log_publisher.py', 'monasca_api/tests/test_logs.py', 'monasca_api/tests/test_log_publisher.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/394be3f33022ea13bef752457fbcb05bea4a9a9e', 'message': 'Use Confluent Kafka producer for logs\n\nAs already implemented for metrics, also logs should be published to\nApache Kafka using the new Kafka client.\n\nChange-Id: Ie909b13c7692267e787d481f4de658db3b07a1c4\nStory: 2003705\nTask: 36866\n'}]",0,687283,394be3f33022ea13bef752457fbcb05bea4a9a9e,20,5,4,16222,,,0,"Use Confluent Kafka producer for logs

As already implemented for metrics, also logs should be published to
Apache Kafka using the new Kafka client.

Change-Id: Ie909b13c7692267e787d481f4de658db3b07a1c4
Story: 2003705
Task: 36866
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/83/687283/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/api/core/log/log_publisher.py', 'monasca_api/tests/test_logs.py', 'monasca_api/tests/test_log_publisher.py']",3,02c1aa8495469867853d13641c5656c501817fcb,, @mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer') @mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer') @mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer') @mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer') @mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer') @mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer')@mock.patch('monasca_api.api.core.log.log_publisher.client_factory' '.get_kafka_producer'), @mock.patch('monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer') @mock.patch('monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer') @mock.patch('monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer') @mock.patch('monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer') @mock.patch('monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer') @mock.patch('monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer')@mock.patch( 'monasca_api.api.core.log.log_publisher.producer' '.KafkaProducer'),19,21
openstack%2Fkolla-ansible~stable%2Frocky~Ia8cca7326526326486c4495e4ddfe126c7251448,openstack/kolla-ansible,stable/rocky,Ia8cca7326526326486c4495e4ddfe126c7251448,Use become for Cinder LVM precheck,MERGED,2020-02-06 03:48:04.000000000,2020-02-06 10:10:25.000000000,2020-02-06 10:08:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-06 03:48:04.000000000', 'files': ['ansible/roles/cinder/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9cd60fbf849577d4496d20a0e6e2548b8ff96284', 'message': 'Use become for Cinder LVM precheck\n\nTypically root privileges are required to access LVM.\n\nChange-Id: Ia8cca7326526326486c4495e4ddfe126c7251448\n(cherry picked from commit 280761394c3c63b53e5be383c11dd52071e2ad2e)\n'}]",0,706172,9cd60fbf849577d4496d20a0e6e2548b8ff96284,8,5,1,22997,,,0,"Use become for Cinder LVM precheck

Typically root privileges are required to access LVM.

Change-Id: Ia8cca7326526326486c4495e4ddfe126c7251448
(cherry picked from commit 280761394c3c63b53e5be383c11dd52071e2ad2e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/706172/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/tasks/precheck.yml'],1,9cd60fbf849577d4496d20a0e6e2548b8ff96284,, become: true,,1,0
openstack%2Fmonasca-persister~master~Ib720c4d0358a5e67734fbc38d9a7d513e662d65f,openstack/monasca-persister,master,Ib720c4d0358a5e67734fbc38d9a7d513e662d65f,Fix batch_size configuration option in Docker,MERGED,2020-01-28 09:17:29.000000000,2020-02-06 10:06:37.000000000,2020-02-06 10:06:37.000000000,"[{'_account_id': 16957}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 09:17:29.000000000', 'files': ['docker/monasca-persister.conf.j2'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/a8b8d3efeff16961ba8208e734b8f35f51e6481b', 'message': 'Fix batch_size configuration option in Docker\n\nThe configuration option name for Kafka batch size (max. number of\nmessages before commiting them to Kafka broker) has been changed in\nQueens release. The option passed to Docker image must reflect that.\n\nChange-Id: Ib720c4d0358a5e67734fbc38d9a7d513e662d65f\nStory: 2007225\nTask: 38492\n'}]",0,704510,a8b8d3efeff16961ba8208e734b8f35f51e6481b,7,4,1,16222,,,0,"Fix batch_size configuration option in Docker

The configuration option name for Kafka batch size (max. number of
messages before commiting them to Kafka broker) has been changed in
Queens release. The option passed to Docker image must reflect that.

Change-Id: Ib720c4d0358a5e67734fbc38d9a7d513e662d65f
Story: 2007225
Task: 38492
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/10/704510/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/monasca-persister.conf.j2'],1,a8b8d3efeff16961ba8208e734b8f35f51e6481b,,batch_size = {{ KAFKA_ALARM_HISTORY_BATCH_SIZE }}batch_size = {{ KAFKA_METRICS_BATCH_SIZE }},database_batch_size = {{ KAFKA_ALARM_HISTORY_BATCH_SIZE }}database_batch_size = {{ KAFKA_METRICS_BATCH_SIZE }},2,2
openstack%2Fnova~master~Ifb96f31f471cc0a25c1dfce2161a669b97a384ae,openstack/nova,master,Ifb96f31f471cc0a25c1dfce2161a669b97a384ae,Handle neutron without the fip-port-details extension,MERGED,2020-02-04 16:52:13.000000000,2020-02-06 10:04:35.000000000,2020-02-05 21:35:14.000000000,"[{'_account_id': 1131}, {'_account_id': 4393}, {'_account_id': 6773}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24791}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 16:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6dbed2c70f1b490def5245f345ad76b09a5627b', 'message': ""Handle neutron without the fip-port-details extension\n\nThe 'fip-port-details' API extension was added to neutron in Rocky [1]\nand is optional. As a result, we cannot rely on the 'port_details' field\nbeing present in API responses. If it is not, we need to make a second\nquery for all ports and build 'port_details' using the 'port_id' field.\n\n[1] https://docs.openstack.org/releasenotes/neutron-lib/rocky.html#relnotes-1-14-0-stable-rocky-new-features\n\nChange-Id: Ifb96f31f471cc0a25c1dfce2161a669b97a384ae\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1861876\n""}, {'number': 2, 'created': '2020-02-04 17:38:00.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/api_sample_tests/test_floating_ips.py', 'nova/network/constants.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eef658bf5354e1a47b742851c29a1479c9aebcf8', 'message': ""Handle neutron without the fip-port-details extension\n\nThe 'fip-port-details' API extension was added to neutron in Rocky [1]\nand is optional. As a result, we cannot rely on the 'port_details' field\nbeing present in API responses. If it is not, we need to make a second\nquery for all ports and build 'port_details' using the 'port_id' field.\n\n[1] https://docs.openstack.org/releasenotes/neutron-lib/rocky.html#relnotes-1-14-0-stable-rocky-new-features\n\nChange-Id: Ifb96f31f471cc0a25c1dfce2161a669b97a384ae\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1861876\n""}]",22,705760,eef658bf5354e1a47b742851c29a1479c9aebcf8,44,17,2,15334,,,0,"Handle neutron without the fip-port-details extension

The 'fip-port-details' API extension was added to neutron in Rocky [1]
and is optional. As a result, we cannot rely on the 'port_details' field
being present in API responses. If it is not, we need to make a second
query for all ports and build 'port_details' using the 'port_id' field.

[1] https://docs.openstack.org/releasenotes/neutron-lib/rocky.html#relnotes-1-14-0-stable-rocky-new-features

Change-Id: Ifb96f31f471cc0a25c1dfce2161a669b97a384ae
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-bug: #1861876
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/705760/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/test_floating_ips.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/network/neutron.py']",4,c6dbed2c70f1b490def5245f345ad76b09a5627b,bug/1861876," def _has_fip_port_details_extension(self, context, neutron=None): self._refresh_neutron_extensions_cache(context, neutron=neutron) return constants.FIP_PORT_DETAILS in self.extensions if not fips: return fips # ...and retrieve the port details for the same reason, but only if # they're not already there because the fip-port-details extension is # present if not self._has_fip_port_details_extension(context, client): ports = {port['id']: port for port in client.list_ports( **{'tenant_id': project_id})['ports']} for fip in fips: port_id = fip['port_id'] if port_id not in ports: raise exception.PortNotFound(port_id=port_id) fip['port_details'] = ports[port_id] ",,88,0
openstack%2Frpm-packaging~master~I761908784a5aa1370bec55a93c435744fc1c594c,openstack/rpm-packaging,master,I761908784a5aa1370bec55a93c435744fc1c594c,oslo.middleware: convert to python3,ABANDONED,2020-02-06 09:32:35.000000000,2020-02-06 09:33:12.000000000,,[],"[{'number': 1, 'created': '2020-02-06 09:32:35.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7cac869511c865bf66e18a7f015b66ba658412e0', 'message': 'oslo.middleware: convert to python3\n\nChange-Id: I761908784a5aa1370bec55a93c435744fc1c594c\n'}]",0,706202,7cac869511c865bf66e18a7f015b66ba658412e0,2,0,1,13294,,,0,"oslo.middleware: convert to python3

Change-Id: I761908784a5aa1370bec55a93c435744fc1c594c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/706202/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,7cac869511c865bf66e18a7f015b66ba658412e0,remove-python2,BuildRequires: {{ py3('Jinja2') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('statsd') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack oslo.middleware library Requires: {{ py3('Jinja2') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} Requires: {{ py3('statsd') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} Oslo middleware library includes components that can be injected into wsgi pipelines to intercept request/response flows. The base class can be enhanced with functionality like add/delete/modification of http headers and support for limiting size/connection etc. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_middleware %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('Jinja2', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('statsd', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stevedore', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Jinja2') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('statsd') }} Requires: {{ py2pkg('stevedore') }}%python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_middleware %{python_sitelib}/*.egg-info",44,36
openstack%2Ftripleo-heat-templates~stable%2Frocky~I563f42dc417ce5e403310ea33b969e19d16ad68f,openstack/tripleo-heat-templates,stable/rocky,I563f42dc417ce5e403310ea33b969e19d16ad68f,Ignore SR-IOV VFs on dhcp_all_interfaces list,MERGED,2020-02-04 05:10:22.000000000,2020-02-06 09:26:06.000000000,2020-02-06 09:26:05.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 05:10:22.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0188cea1fcf88ebf0c8e58cbc467d1c7023ac14d', 'message': 'Ignore SR-IOV VFs on dhcp_all_interfaces list\n\nWhen os-net-config fails, it will trigger the configure_safe_defaults\nfunction, which will enable dhcp on all interfaces which has link up\nand having a valid mac address. SR-IOV VFs will also fall in this\nlist, ignore VFs in the dhcp all list.\nCloses-Bug: #1861473\n\nChange-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f\n(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)\n'}]",0,705604,0188cea1fcf88ebf0c8e58cbc467d1c7023ac14d,12,4,1,18575,,,0,"Ignore SR-IOV VFs on dhcp_all_interfaces list

When os-net-config fails, it will trigger the configure_safe_defaults
function, which will enable dhcp on all interfaces which has link up
and having a valid mac address. SR-IOV VFs will also fall in this
list, ignore VFs in the dhcp all list.
Closes-Bug: #1861473

Change-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f
(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/705604/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,0188cea1fcf88ebf0c8e58cbc467d1c7023ac14d,fix_dhcp_all_inteface_for_vf," local vf_parent=""/sys/class/net/${iface}/device/physfn"" elif [[ -d $vf_parent ]]; then echo ""Device (${iface}) is a SR-IOV VF, skipping.""",,3,0
openstack%2Frequirements~master~I3f2ead92cf8ff27b7c65aca952ec49eda3070173,openstack/requirements,master,I3f2ead92cf8ff27b7c65aca952ec49eda3070173,Keep oslo.concurrency to 3.31.0 for py2.7,ABANDONED,2020-02-04 13:59:33.000000000,2020-02-06 09:08:29.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29755}]","[{'number': 1, 'created': '2020-02-04 13:59:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4fa8131a826369956b8bf2007cee34901733f1fa', 'message': 'Keep oslo.concurrency to 3.31.0 for py2.7\n\nTripleO jobs still runs on CentOS7 but new oslo.concurrency\n4.0.0 breaks the py27 jobs. Pinning to a working version for\nthe same fixes the issue.\n\nCloses-Bug: #1861803\n\nChange-Id: I3f2ead92cf8ff27b7c65aca952ec49eda3070173\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,705685,4fa8131a826369956b8bf2007cee34901733f1fa,10,7,1,12393,,,0,"Keep oslo.concurrency to 3.31.0 for py2.7

TripleO jobs still runs on CentOS7 but new oslo.concurrency
4.0.0 breaks the py27 jobs. Pinning to a working version for
the same fixes the issue.

Closes-Bug: #1861803

Change-Id: I3f2ead92cf8ff27b7c65aca952ec49eda3070173
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/705685/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4fa8131a826369956b8bf2007cee34901733f1fa,fixoslo,oslo.concurrency===3.31.0;python_version=='2.7',,1,0
openstack%2Fec2-api~master~If9846de935c51c640398d52b6599aaf91c58c51b,openstack/ec2-api,master,If9846de935c51c640398d52b6599aaf91c58c51b,Add links to readme,MERGED,2019-12-23 11:28:12.000000000,2020-02-06 09:06:25.000000000,2020-02-06 09:04:39.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-23 11:28:12.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b901a3df6a7922341444e8052b74f3abcc1568d9', 'message': 'Add links to readme\n\nChange-Id: If9846de935c51c640398d52b6599aaf91c58c51b\n'}]",0,700424,b901a3df6a7922341444e8052b74f3abcc1568d9,9,2,1,31027,,,0,"Add links to readme

Change-Id: If9846de935c51c640398d52b6599aaf91c58c51b
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/24/700424/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b901a3df6a7922341444e8052b74f3abcc1568d9,,Wiki: https://wiki.openstack.org/wiki/EC2API Bugs: https://launchpad.net/ec2-api Source: https://opendev.org/openstack/ec2-api ,,9,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0,openstack/tripleo-heat-templates,stable/rocky,Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0,Remove stray conditional from aodh-evaluator tasks,MERGED,2020-02-04 18:38:31.000000000,2020-02-06 08:48:55.000000000,2020-02-06 08:48:55.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 18:38:31.000000000', 'files': ['docker/services/aodh-evaluator.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05703160f96afd663eb14d5bed6d415fb9b28f31', 'message': ""Remove stray conditional from aodh-evaluator tasks\n\nIn Ib4c59302ad5ad64f23419cd69ee9b2a80333924e a conditional\nwas moved incorrectly and left as a stray. Luckily it is\nonly a cosmetic issue, but it might be confusing when doing\nany maintenance work so it's better to remove it.\n\nChange-Id: Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0\n(cherry picked from commit edd10576ca33337b09070da204a88d189456a5e2)\n""}]",0,705797,05703160f96afd663eb14d5bed6d415fb9b28f31,8,4,1,6816,,,0,"Remove stray conditional from aodh-evaluator tasks

In Ib4c59302ad5ad64f23419cd69ee9b2a80333924e a conditional
was moved incorrectly and left as a stray. Luckily it is
only a cosmetic issue, but it might be confusing when doing
any maintenance work so it's better to remove it.

Change-Id: Iac3cbf23437bb11ec47dd1a0f189babe0c5587d0
(cherry picked from commit edd10576ca33337b09070da204a88d189456a5e2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/705797/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/aodh-evaluator.yaml'],1,05703160f96afd663eb14d5bed6d415fb9b28f31,,, - release == 'ocata',0,1
openstack%2Fgovernance~master~I7b58f1040a1b0d0c669901ba862b2a485992a44f,openstack/governance,master,I7b58f1040a1b0d0c669901ba862b2a485992a44f,Adding microversion-parse to oslo scope,ABANDONED,2020-02-04 16:47:31.000000000,2020-02-06 08:40:48.000000000,,"[{'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 16:47:31.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/c13ea1c19e5269398f47f861bfec97b2062193c0', 'message': ""Adding microversion-parse to oslo scope\n\nIf I'm right this project is missing under the oslo scope.\n\nChange-Id: I7b58f1040a1b0d0c669901ba862b2a485992a44f\n""}]",0,705756,c13ea1c19e5269398f47f861bfec97b2062193c0,6,3,1,28522,,,0,"Adding microversion-parse to oslo scope

If I'm right this project is missing under the oslo scope.

Change-Id: I7b58f1040a1b0d0c669901ba862b2a485992a44f
",git fetch https://review.opendev.org/openstack/governance refs/changes/56/705756/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,c13ea1c19e5269398f47f861bfec97b2062193c0,project-update, microversion-parse: repos: - openstack/microversion-parse tags: - stable:follows-policy,,5,0
openstack%2Fproject-config~master~Id9b2bb34145cb513b49885d208a29ea6d439e0ab,openstack/project-config,master,Id9b2bb34145cb513b49885d208a29ea6d439e0ab,"Revert ""Remove unnecessary jobs from networking-spp""",ABANDONED,2020-02-06 08:34:14.000000000,2020-02-06 08:36:57.000000000,,"[{'_account_id': 1004}, {'_account_id': 8988}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-02-06 08:34:14.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/68450a8953822dd58252315628c5361835679090', 'message': 'Revert ""Remove unnecessary jobs from networking-spp""\n\nThis reverts commit 04d0df0a44e4855cba9f48de2be214ab781a670b.\n\nThe change fixed the wrong repository, let\'s fix it properly.\n\nChange-Id: Id9b2bb34145cb513b49885d208a29ea6d439e0ab\n'}]",0,706195,68450a8953822dd58252315628c5361835679090,2,4,1,6547,,,0,"Revert ""Remove unnecessary jobs from networking-spp""

This reverts commit 04d0df0a44e4855cba9f48de2be214ab781a670b.

The change fixed the wrong repository, let's fix it properly.

Change-Id: Id9b2bb34145cb513b49885d208a29ea6d439e0ab
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/706195/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,68450a8953822dd58252315628c5361835679090,remove-unnecessary-job-from-networking-spp, - openstack-python-jobs-neutron - check-requirements,,2,0
openstack%2Fproject-config~master~Idfc286489bdc9d89e2bae9316e31607fca244a54,openstack/project-config,master,Idfc286489bdc9d89e2bae9316e31607fca244a54,Remove unnecessary jobs from networking-spp,MERGED,2020-02-06 06:57:15.000000000,2020-02-06 08:36:50.000000000,2020-02-06 07:30:42.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 8988}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-02-06 06:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/074e7bd57fde7533cb010d81b60aaead4581cbe3', 'message': ""Remove openstack-python-jobs-neutron job from networking-spp\n\nPython 2.7 support and tests were already dropped from networking-spp.\nAnd openstack-python-jobs-neutron job contains openstack-tox-py27 job.\nSo this patch removes openstack-python-jobs-neutron job from\nnetworking-spp.\nOther tests contained in openstack-python-jobs-neutron are contained\nin jobs which specified in networking-spp's zuul.yaml.\n\nChange-Id: Idfc286489bdc9d89e2bae9316e31607fca244a54\n""}, {'number': 2, 'created': '2020-02-06 07:10:22.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/04d0df0a44e4855cba9f48de2be214ab781a670b', 'message': ""Remove unnecessary jobs from networking-spp\n\nPython 2.7 support and tests were already dropped from networking-spp.\nAnd openstack-python-jobs-neutron job contains openstack-tox-py27 job.\nSo this patch removes openstack-python-jobs-neutron job from\nnetworking-spp.\nOther tests contained in openstack-python-jobs-neutron are contained\nin jobs which specified in networking-spp's zuul.yaml.\n\nAnd, this patch also removes check-requirements job from\nnetworking-spp.\ncheck-requirements job is specified in networking-spp's zuul.yaml.\n\nChange-Id: Idfc286489bdc9d89e2bae9316e31607fca244a54\n""}]",3,706186,04d0df0a44e4855cba9f48de2be214ab781a670b,15,5,2,8988,,,0,"Remove unnecessary jobs from networking-spp

Python 2.7 support and tests were already dropped from networking-spp.
And openstack-python-jobs-neutron job contains openstack-tox-py27 job.
So this patch removes openstack-python-jobs-neutron job from
networking-spp.
Other tests contained in openstack-python-jobs-neutron are contained
in jobs which specified in networking-spp's zuul.yaml.

And, this patch also removes check-requirements job from
networking-spp.
check-requirements job is specified in networking-spp's zuul.yaml.

Change-Id: Idfc286489bdc9d89e2bae9316e31607fca244a54
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/706186/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,074e7bd57fde7533cb010d81b60aaead4581cbe3,remove-unnecessary-job-from-networking-spp,, - openstack-python-jobs-neutron,0,1
openstack%2Fkolla-ansible~master~I53261d0403b983ab419bd44e705b89f7b7a1c316,openstack/kolla-ansible,master,I53261d0403b983ab419bd44e705b89f7b7a1c316,Remove /etc/hosts entries pointing hostname to localhost and prevent cloud-init to manage /etc/hosts,MERGED,2019-09-27 08:26:20.000000000,2020-02-06 08:13:15.000000000,2019-10-11 18:08:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-09-27 08:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06406dec6a33da315ca99f3012a0c66324ad7e55', 'message': 'Remove /etc/hosts entries pointing hostname to localhost\n\nUbuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\nThis change removes these troublesome entries.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n'}, {'number': 2, 'created': '2019-09-27 12:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56b3fd75c7182bb10d30454fec9ae6c47d83a9c5', 'message': 'Remove /etc/hosts entries pointing hostname to localhost\n\nUbuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\nThis change removes these troublesome entries.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n'}, {'number': 3, 'created': '2019-10-07 19:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9572452e388b58e90daaaaed88e688aaf8bf2507', 'message': 'Remove /etc/hosts entries pointing hostname to localhost\n\nUbuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\nThis change removes these troublesome entries.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n'}, {'number': 4, 'created': '2019-10-08 07:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0c73ed2c0a246b71a6d2f4d7f3c05a4feac6811', 'message': 'Remove /etc/hosts entries pointing hostname to localhost\n\nUbuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\nThis change removes these troublesome entries.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n'}, {'number': 5, 'created': '2019-10-09 19:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/323bbe53fff5ffee8bda99b085041384459c9f01', 'message': 'Remove /etc/hosts entries pointing hostname to localhost and prevent\ncloud-init to manage /etc/hosts\n\n1) Ubuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\n2) The distribution might come with cloud-init installed, and manage_etc_hosts\nconfiguration enabled. If so, it will override the file /etc/hosts from cloud-init\ntemplates at every boot, which will break RabbitMQ.\n\nThis change fixes these issues.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n'}, {'number': 6, 'created': '2019-10-10 13:21:36.000000000', 'files': ['ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b24a0f2f0880c35368581e3acc529672da665f8', 'message': 'Remove /etc/hosts entries pointing hostname to localhost and prevent\ncloud-init to manage /etc/hosts\n\n1) Ubuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\n2) The distribution might come with cloud-init installed, and manage_etc_hosts\nconfiguration enabled. If so, it will override the file /etc/hosts from cloud-init\ntemplates at every boot, which will break RabbitMQ.\n\nThis change fixes these issues.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n'}]",12,685233,0b24a0f2f0880c35368581e3acc529672da665f8,35,5,6,14826,,,0,"Remove /etc/hosts entries pointing hostname to localhost and prevent
cloud-init to manage /etc/hosts

1) Ubuntu includes a line in /etc/hosts that makes the local hostname and
nodename (if different) point to 127.0.1.1. This can break RabbitMQ,
which expects the hostname to resolve to the API network address.

2) The distribution might come with cloud-init installed, and manage_etc_hosts
configuration enabled. If so, it will override the file /etc/hosts from cloud-init
templates at every boot, which will break RabbitMQ.

This change fixes these issues.

Change-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316
Closes-Bug: #1837699
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/685233/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/pre-install.yml'],1,06406dec6a33da315ca99f3012a0c66324ad7e55,bug/1837699,"# NOTE(mgoddard): Ubuntu includes a line in /etc/hosts that makes the local # hostname and nodename (if different) point to 127.0.1.1. This can break # RabbitMQ, which expects the hostname to resolve to the API network address. # Remove these troublesome entries. - name: Ensure hostname does not point to localhost in /etc/hosts lineinfile: dest: /etc/hosts regexp: ""^127.\\d+.\\d+.\\d+\\s+({{ ansible_nodename }})?\\s*{{ ansible_hostname }}$"" state: absent become: True when: customize_etc_hosts | bool ",,12,0
openstack%2Fos-brick~master~Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e,openstack/os-brick,master,Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e,Split connector list by platform,MERGED,2019-10-28 08:12:16.000000000,2020-02-06 07:54:15.000000000,2019-12-11 15:14:36.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 8543}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-28 08:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0a89140a8e84286b8a0381cd6fffa794e7e87232', 'message': ""Drop legacy mappings, fixing Windows support\n\nFor backwards compatibility reasons, os-brick imports all the\nconnectors, exposing them by the class name.\n\nThe issue is that one of the connectors, the scaleio one, is\nno longer importable on Windows. A recent patch is using ioctl\ncalls through the fcntl module, which isn't available on Windows.\n\nThere's a TODO for dropping those mappings. By doing this, we'll\nno longer import unused connectors, restoring Windows support.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}, {'number': 2, 'created': '2019-10-29 08:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cf22891fb9869cc6fcc0b6914b17d55d95e74609', 'message': ""Add platform check, fixing Windows support\n\nFor backwards compatibility reasons, os-brick imports all the\nconnectors, exposing them by the class name. Although there's a\nTODO for removing those mappings in 2.x, Cinder is still using\nthem.\n\nA recent patch is using ioctl calls through the fcntl module,\nwhich isn't available on Windows, so the scaleio connector\ncan't be imported, essentially breaking Windows support.\n\nAs a quick fix, we'll add a platform check, skipping this import\non Windows.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}, {'number': 3, 'created': '2019-10-29 10:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1a064b8ed23f65a22c42cc23e01d02d8e8ebb2a1', 'message': ""Add platform check, fixing Windows support\n\nFor backwards compatibility reasons, os-brick imports all the\nconnectors, exposing them by the class name. Although there's a\nTODO for removing those mappings in 2.x, Cinder is still using\nthem.\n\nA recent patch is using ioctl calls through the fcntl module,\nwhich isn't available on Windows, so the scaleio connector\ncan't be imported, essentially breaking Windows support.\n\nAs a quick fix, we'll add a platform check, skipping this import\non Windows.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}, {'number': 4, 'created': '2019-10-29 19:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5c06702fd719aef7bdf774cd67c01a7d091f1944', 'message': ""Split connector list by platform\n\nWe'll keep separate lists of connectors for each of the supported\noperating systems so that we don't end up trying to use unsupported\nconnectors.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}, {'number': 5, 'created': '2019-10-30 07:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ad15da0bb5b89620477208150a405fbd1ba5c7be', 'message': ""Split connector list by platform\n\nWe'll keep separate lists of connectors for each of the supported\noperating systems so that we don't end up trying to use unsupported\nconnectors.\n\nSince Cinder is explicitly trying to use the iSCSI/FC connectors,\nwe'll have to include those as well, for now.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}, {'number': 6, 'created': '2019-11-12 10:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7602c7153d6494ee5078060f0138f7f00c58d82a', 'message': ""Split connector list by platform\n\nWe'll keep separate lists of connectors for each of the supported\noperating systems so that we don't end up trying to use unsupported\nconnectors.\n\nSince Cinder is explicitly trying to use the iSCSI/FC connectors,\nwe'll have to include those as well, for now.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}, {'number': 7, 'created': '2019-11-12 11:20:26.000000000', 'files': ['os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py', 'tools/generate_connector_list.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9e8657dd6ef781d7e6027625fc2f05442256c6ac', 'message': ""Split connector list by platform\n\nWe'll keep separate lists of connectors for each of the supported\noperating systems so that we don't end up trying to use unsupported\nconnectors.\n\nSince Cinder is explicitly trying to use the iSCSI/FC connectors,\nwe'll have to include those as well, for now.\n\nChange-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e\nCloses-Bug: #1850109\n""}]",8,691626,9e8657dd6ef781d7e6027625fc2f05442256c6ac,101,20,7,8543,,,0,"Split connector list by platform

We'll keep separate lists of connectors for each of the supported
operating systems so that we don't end up trying to use unsupported
connectors.

Since Cinder is explicitly trying to use the iSCSI/FC connectors,
we'll have to include those as well, for now.

Change-Id: Ibec2b798e8c5c3457cebea12cfd2f5813e62fb9e
Closes-Bug: #1850109
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/26/691626/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connector.py'],1,0a89140a8e84286b8a0381cd6fffa794e7e87232,bug/1850109,, # Create aliases to the old names until 2.0.0 # TODO(smcginnis) Remove this lookup once unit test code is updated to # point to the correct location for item in connector_list: _name = item.split('.')[-1] globals()[_name] = importutils.import_class(item) ,0,9
openstack%2Fmistral-lib~master~I47cc8ab5b348af28062ab3ff5329b96d2cbccdbb,openstack/mistral-lib,master,I47cc8ab5b348af28062ab3ff5329b96d2cbccdbb,[ussuri][goal] Cleanup python 2.7 removal,MERGED,2020-02-05 16:05:57.000000000,2020-02-06 07:43:55.000000000,2020-02-06 07:41:19.000000000,"[{'_account_id': 6547}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-02-05 16:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/f5704d23882a7f508920cc272e97f2727c5eb957', 'message': '[ussuri][goal] Cleanup python 2.7 removal\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nThis removes some cruft from Python 2.7 support.\n\nChange-Id: I47cc8ab5b348af28062ab3ff5329b96d2cbccdbb\n'}, {'number': 2, 'created': '2020-02-05 16:22:52.000000000', 'files': ['setup.py', 'lower-constraints.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/b97e38391881204e2ada54df8e4ec47fba33ac49', 'message': '[ussuri][goal] Cleanup python 2.7 removal\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nThis removes some cruft from Python 2.7 support.\nRaise requests lower-constraint to satisfy oslo.config.\n\nChange-Id: I47cc8ab5b348af28062ab3ff5329b96d2cbccdbb\n'}]",0,706001,b97e38391881204e2ada54df8e4ec47fba33ac49,12,9,2,6547,,,0,"[ussuri][goal] Cleanup python 2.7 removal

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

This removes some cruft from Python 2.7 support.
Raise requests lower-constraint to satisfy oslo.config.

Change-Id: I47cc8ab5b348af28062ab3ff5329b96d2cbccdbb
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/01/706001/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,f5704d23882a7f508920cc272e97f2727c5eb957,drop-py27-support,,install_command = pip install {opts} {packages},2,25
openstack%2Fproject-config~master~I689f74c66f8f935481f091bc2292cac80f72a283,openstack/project-config,master,I689f74c66f8f935481f091bc2292cac80f72a283,Update Octavia failure rate dashboard,MERGED,2020-02-03 17:32:47.000000000,2020-02-06 07:40:55.000000000,2020-02-06 07:30:43.000000000,"[{'_account_id': 1004}, {'_account_id': 6469}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 17:32:47.000000000', 'files': ['grafana/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1a57abe14a939dc82181f0a4426636bc20aadac4', 'message': 'Update Octavia failure rate dashboard\n\nThere were some job additions and one removal in\nhttps://review.opendev.org/#/c/702845/ so update\nthe dashboard to reflect that.\n\nChange-Id: I689f74c66f8f935481f091bc2292cac80f72a283\n'}]",0,705496,1a57abe14a939dc82181f0a4426636bc20aadac4,9,4,1,1131,,,0,"Update Octavia failure rate dashboard

There were some job additions and one removal in
https://review.opendev.org/#/c/702845/ so update
the dashboard to reflect that.

Change-Id: I689f74c66f8f935481f091bc2292cac80f72a283
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/705496/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/octavia.yaml'],1,1a57abe14a939dc82181f0a4426636bc20aadac4,octavia-update," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-spare-pool.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-spare-pool.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'octavia-v2-dsvm-spare-pool') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-stdby-dsvm-scenario.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-stdby-dsvm-scenario.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'octavia-v2-act-stdby-dsvm-scenario') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-spare-pool.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'octavia-v2-dsvm-spare-pool') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-stdby-dsvm-scenario.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'octavia-v2-act-stdby-dsvm-scenario') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-spare-pool.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-spare-pool.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'octavia-v2-dsvm-spare-pool') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-stdby-dsvm-scenario.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-stdby-dsvm-scenario.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'octavia-v2-act-stdby-dsvm-scenario') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-cinder-amphora.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-cinder-amphora.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'octavia-v2-dsvm-cinder-amphora (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-spare-pool.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'octavia-v2-dsvm-spare-pool') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-stdby-dsvm-scenario.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'octavia-v2-act-stdby-dsvm-scenario') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-dsvm-scenario-cinder-amphora,FAILURE,TIMED_OUT}),'24hours'), 'octavia-v2-dsvm-cinder-amphora (non-voting)')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-standby-iptables-dsvm-scenario.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-standby-iptables-dsvm-scenario.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'octavia-v2-act-standby-iptables-dsvm-scenario (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_octavia.master.job.octavia-v2-act-standby-iptables-dsvm-scenario.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'octavia-v2-act-standby-iptables-dsvm-scenario (non-voting)')",10,2
openstack%2Ftripleo-common~stable%2Fstein~Ifd28fd60e4bc1218acc24381d13534c227f2877e,openstack/tripleo-common,stable/stein,Ifd28fd60e4bc1218acc24381d13534c227f2877e,container_update: Retry removing containers.,MERGED,2020-01-28 18:30:53.000000000,2020-02-06 07:40:44.000000000,2020-02-06 07:39:23.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-28 18:30:53.000000000', 'files': ['scripts/container-update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/179f6953cf4b9623fd7a5f8ada37888b3aad34ca', 'message': 'container_update: Retry removing containers.\n\nChange-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e\nRelated-Bug: #1856086\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit ef77f081a21e8483b143558dbf5ace5d909a368f)\n(cherry picked from commit 64718a796125dd1197fb4c64ca5cd8db44b750be)\n'}]",0,704654,179f6953cf4b9623fd7a5f8ada37888b3aad34ca,8,3,1,25877,,,0,"container_update: Retry removing containers.

Change-Id: Ifd28fd60e4bc1218acc24381d13534c227f2877e
Related-Bug: #1856086
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit ef77f081a21e8483b143558dbf5ace5d909a368f)
(cherry picked from commit 64718a796125dd1197fb4c64ca5cd8db44b750be)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/704654/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/container-update.py'],1,179f6953cf4b9623fd7a5f8ada37888b3aad34ca,,"import tenacity@tenacity.retry( reraise=True, retry=tenacity.retry_if_exception_type(RuntimeError), stop=tenacity.stop_after_attempt(3), wait=tenacity.wait_fixed(1) ) rc = subproc.returncode if rc != 0: if 'No such container' in cmd_stderr: log.warn('Container that does not exist cannot be deleted: ' '%s' % name) else: log.error('Error removing container: %s' % name) log.error(cmd_stderr) raise RuntimeError(cmd_stdout, cmd_stderr, rc)", if cmd_stderr and \ cmd_stderr != 'Error response from daemon: ' \ 'No such container: {}\n'.format(name): log.debug(cmd_stderr),19,4
openstack%2Frequirements~master~I79d0105537898fb82a4cfae38b101797164d53d6,openstack/requirements,master,I79d0105537898fb82a4cfae38b101797164d53d6,update constraint for oslo.service to new release 2.0.0,MERGED,2020-02-05 22:00:22.000000000,2020-02-06 06:57:15.000000000,2020-02-06 06:51:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 22:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/85f9b174c82e55ed7987513592adcaa9735cc7e0', 'message': 'update constraint for oslo.service to new release 2.0.0\n\nChange-Id: I79d0105537898fb82a4cfae38b101797164d53d6\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Icbb73481d01f6841d3e5fa9d4b83ddd3cb372331\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-02-06 03:03:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e87845e6bc29945e1a4e50f5795af7a90f1ab19c', 'message': 'update constraint for oslo.service to new release 2.0.0\n\nChange-Id: I79d0105537898fb82a4cfae38b101797164d53d6\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Icbb73481d01f6841d3e5fa9d4b83ddd3cb372331\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706130,e87845e6bc29945e1a4e50f5795af7a90f1ab19c,11,2,2,11131,,,0,"update constraint for oslo.service to new release 2.0.0

Change-Id: I79d0105537898fb82a4cfae38b101797164d53d6
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Icbb73481d01f6841d3e5fa9d4b83ddd3cb372331
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/706130/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,85f9b174c82e55ed7987513592adcaa9735cc7e0,new-release,oslo.service===2.0.0,oslo.service===1.41.1,1,1
openstack%2Fneutron~stable%2Ftrain~I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00,openstack/neutron,stable/train,I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00,"Check ""security_group_rule"" quota during security group creation",MERGED,2020-01-31 17:59:07.000000000,2020-02-06 06:55:45.000000000,2020-02-06 06:50:54.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 17:59:07.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/tests/functional/db/test_network.py', 'neutron/tests/fullstack/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/967d3dea9142c4784302a637b752c673ebe6fc67', 'message': 'Check ""security_group_rule"" quota during security group creation\n\nThe tracked resources quota check is done at the beginning of an API\ncall to the Neutron server. The API call contains a resource and an\naction over the resource. In case of creation, the server checks if\nthe number of items requested fits in the existing quota.\n\nIn case of security group creation, the tracked resource checked is\n""security_group"". But ""SecurityGroupDbMixin.create_security_group""\nmethod also creates several default rules for the new group and the\nquota for ""security_group_rule"" is not enforced.\n\nThis patch checks the number of security group rules being created\n(""delta"") and checks in the plugin method (not in the API method) if\nthere is enough room for those new rules (tracked resource\n""security_group_rule"").\n\nChange-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00\nCloses-Bug: #1858680\n(cherry picked from commit 936bd67aa42b2e06241d309315b895c9c9c49dcc)\n'}]",0,705267,967d3dea9142c4784302a637b752c673ebe6fc67,35,5,1,16688,,,0,"Check ""security_group_rule"" quota during security group creation

The tracked resources quota check is done at the beginning of an API
call to the Neutron server. The API call contains a resource and an
action over the resource. In case of creation, the server checks if
the number of items requested fits in the existing quota.

In case of security group creation, the tracked resource checked is
""security_group"". But ""SecurityGroupDbMixin.create_security_group""
method also creates several default rules for the new group and the
quota for ""security_group_rule"" is not enforced.

This patch checks the number of security group rules being created
(""delta"") and checks in the plugin method (not in the API method) if
there is enough room for those new rules (tracked resource
""security_group_rule"").

Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00
Closes-Bug: #1858680
(cherry picked from commit 936bd67aa42b2e06241d309315b895c9c9c49dcc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/705267/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/tests/functional/db/test_network.py', 'neutron/tests/fullstack/test_securitygroup.py']",8,967d3dea9142c4784302a637b752c673ebe6fc67,bug/1858680-stable/train,"from neutronclient.common import exceptions as nc_exc class SecurityGroupRulesTest(base.BaseFullStackTestCase): def setUp(self): host_descriptions = [environment.HostDescription()] env = environment.Environment(environment.EnvironmentDescription(), host_descriptions) super(SecurityGroupRulesTest, self).setUp(env) def test_security_group_rule_quota(self): project_id = uuidutils.generate_uuid() quota = self.client.show_quota_details(project_id) sg_rules_used = quota['quota']['security_group_rule']['used'] self.assertEqual(0, sg_rules_used) self.safe_client.create_security_group(project_id) quota = self.client.show_quota_details(project_id) sg_rules_used = quota['quota']['security_group_rule']['used'] self.safe_client.update_quota(project_id, 'security_group_rule', sg_rules_used) self.assertRaises(nc_exc.OverQuotaClient, self.safe_client.create_security_group, project_id)",,67,0
openstack%2Frequirements~master~I4926fbde06460311046df839e122f5f38b1118c6,openstack/requirements,master,I4926fbde06460311046df839e122f5f38b1118c6,update constraint for oslo.vmware to new release 3.0.0,MERGED,2020-02-05 22:01:06.000000000,2020-02-06 06:55:28.000000000,2020-02-06 06:51:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 22:01:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/45af43c5c246150f8179924c572f7a44967eb3b0', 'message': 'update constraint for oslo.vmware to new release 3.0.0\n\nChange-Id: I4926fbde06460311046df839e122f5f38b1118c6\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I45de10e20f6d007e60f95e72c83f5eeb937584f2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706131,45af43c5c246150f8179924c572f7a44967eb3b0,9,2,1,11131,,,0,"update constraint for oslo.vmware to new release 3.0.0

Change-Id: I4926fbde06460311046df839e122f5f38b1118c6
meta:version: 3.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I45de10e20f6d007e60f95e72c83f5eeb937584f2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/706131/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,45af43c5c246150f8179924c572f7a44967eb3b0,new-release,oslo.vmware===3.0.0,oslo.vmware===2.35.0,1,1
openstack%2Fkeystone~stable%2Fstein~I9dc634e073657ff337751ec67363a57bd10e20d4,openstack/keystone,stable/stein,I9dc634e073657ff337751ec67363a57bd10e20d4,Add voting k2k tests,MERGED,2020-02-05 19:05:00.000000000,2020-02-06 06:55:15.000000000,2020-02-06 06:51:08.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 19:05:00.000000000', 'files': ['devstack/lib/federation.sh', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f537ed542698ebeb20d110d766b26320733effe', 'message': 'Add voting k2k tests\n\nWith the addition of K2K-specific tests in the tempest plugin and a\nconfig toggle in the plugin to disable use of the external IdP, we can\nsafely add a voting federation job. This also fixes the devstack plugin\nto install the xmlsec1 tool which is needed for K2K.\n\nChange-Id: I9dc634e073657ff337751ec67363a57bd10e20d4\nDepends-on: https://review.opendev.org/689222\n(cherry picked from commit fb0be8e59917b5b637926d9526a64676af07ebf0)\n(cherry picked from commit ac74320876ac6c771d69b85ebb30058fe4eb3692)\n'}]",0,706088,8f537ed542698ebeb20d110d766b26320733effe,12,3,1,8482,,,0,"Add voting k2k tests

With the addition of K2K-specific tests in the tempest plugin and a
config toggle in the plugin to disable use of the external IdP, we can
safely add a voting federation job. This also fixes the devstack plugin
to install the xmlsec1 tool which is needed for K2K.

Change-Id: I9dc634e073657ff337751ec67363a57bd10e20d4
Depends-on: https://review.opendev.org/689222
(cherry picked from commit fb0be8e59917b5b637926d9526a64676af07ebf0)
(cherry picked from commit ac74320876ac6c771d69b85ebb30058fe4eb3692)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/88/706088/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/federation.sh', '.zuul.yaml']",2,8f537ed542698ebeb20d110d766b26320733effe,k2k-tests-stable/stein,- job: name: keystone-dsvm-py3-functional-federation-opensuse15-k2k parent: keystone-dsvm-py3-functional-federation-opensuse15 vars: devstack_localrc: IDP_ID: k2k - keystone-dsvm-py3-functional-federation-opensuse15-k2k: irrelevant-files: *irrelevant-files - keystone-dsvm-py3-functional-federation-opensuse15-k2k: irrelevant-files: *irrelevant-files,,20,0
openstack%2Fcinder~master~Iff1dbb5abd5e6e93d136aeeee0533c82ebf3ca16,openstack/cinder,master,Iff1dbb5abd5e6e93d136aeeee0533c82ebf3ca16,PowerMax Driver - RDF clean snapvx target fix,MERGED,2019-12-17 11:06:06.000000000,2020-02-06 06:55:11.000000000,2020-02-06 06:51:02.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30165}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-12-17 11:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b272fdd84313e3df5b5b2825e832ed30f4498fa', 'message': 'PowerMax Driver - RDF clean snapvx target fix\n\nAdded source volume to _sync_check to prevent device\nid from being overwritten when attempting to clean up\nsnapvx target sessions only.\n\nChange-Id: Iff1dbb5abd5e6e93d136aeeee0533c82ebf3ca16\n'}, {'number': 2, 'created': '2020-01-14 17:01:26.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/03b5724f47bb3bba4cdd85f08a09dd25cd67c7e2', 'message': 'PowerMax Driver - RDF clean snapvx target fix\n\nAdded source volume to _sync_check to prevent device\nid from being overwritten when attempting to clean up\nsnapvx target sessions only.\n\nChange-Id: Iff1dbb5abd5e6e93d136aeeee0533c82ebf3ca16\n'}]",0,699389,03b5724f47bb3bba4cdd85f08a09dd25cd67c7e2,103,36,2,30165,,,0,"PowerMax Driver - RDF clean snapvx target fix

Added source volume to _sync_check to prevent device
id from being overwritten when attempting to clean up
snapvx target sessions only.

Change-Id: Iff1dbb5abd5e6e93d136aeeee0533c82ebf3ca16
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/699389/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",2,1b272fdd84313e3df5b5b2825e832ed30f4498fa,clone_volume_sync_check_fix," mck_sync.assert_called_once_with( self.data.array, self.data.device_id, self.extra_specs, tgt_only=True, source_device_id=self.data.device_id)",,5,1
openstack%2Frequirements~stable%2Ftrain~Iad2615a49eef52722207e7ba9b7a1f199c40cfbd,openstack/requirements,stable/train,Iad2615a49eef52722207e7ba9b7a1f199c40cfbd,cap libvirt-python for py27,MERGED,2020-02-06 02:17:25.000000000,2020-02-06 06:51:13.000000000,2020-02-06 06:51:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 02:17:25.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f91300104bc0802fa04cee5a62f5c04ec77ae41c', 'message': 'cap libvirt-python for py27\n\nChange-Id: Iad2615a49eef52722207e7ba9b7a1f199c40cfbd\n'}]",0,706167,f91300104bc0802fa04cee5a62f5c04ec77ae41c,6,2,1,14288,,,0,"cap libvirt-python for py27

Change-Id: Iad2615a49eef52722207e7ba9b7a1f199c40cfbd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/706167/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f91300104bc0802fa04cee5a62f5c04ec77ae41c,py3-libvirt-python-train,"libvirt-python!=4.1.0,!=4.2.0,<6.0.0;python_version<'3.0' # LGPLv2+ libvirt-python!=4.1.0,!=4.2.0;python_version>='3.0' # LGPLv2+","libvirt-python!=4.1.0,!=4.2.0 # LGPLv2+",2,1
openstack%2Fliberasurecode~master~I6c7a1725ba00981d45511fc3c18795737b1967cb,openstack/liberasurecode,master,I6c7a1725ba00981d45511fc3c18795737b1967cb,Build and test on centos-8 node,MERGED,2020-02-06 02:36:26.000000000,2020-02-06 06:38:42.000000000,2020-02-06 06:38:41.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 02:36:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/4e4995cccc2d21c292a11d80ee138e2b3f15992e', 'message': 'Build and test on centos-8 node\n\nChange-Id: I6c7a1725ba00981d45511fc3c18795737b1967cb\n'}]",0,706169,4e4995cccc2d21c292a11d80ee138e2b3f15992e,6,2,1,9625,,,0,"Build and test on centos-8 node

Change-Id: I6c7a1725ba00981d45511fc3c18795737b1967cb
",git fetch https://review.opendev.org/openstack/liberasurecode refs/changes/69/706169/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4e4995cccc2d21c292a11d80ee138e2b3f15992e,build_centos8,- job: name: liberasurecode-unittests-centos-8 parent: liberasurecode-unittests nodeset: centos-8 description: | Build and run test and valgrind-test for liberasurecode. This job runs on CentOS-8. - liberasurecode-unittests-centos-8 - liberasurecode-unittests-centos-8,,10,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I563f42dc417ce5e403310ea33b969e19d16ad68f,openstack/tripleo-heat-templates,stable/stein,I563f42dc417ce5e403310ea33b969e19d16ad68f,Ignore SR-IOV VFs on dhcp_all_interfaces list,MERGED,2020-02-04 05:10:06.000000000,2020-02-06 06:22:25.000000000,2020-02-06 06:22:24.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 05:10:06.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c45c2ba14c94659245a3d6d11807adcf71fe914e', 'message': 'Ignore SR-IOV VFs on dhcp_all_interfaces list\n\nWhen os-net-config fails, it will trigger the configure_safe_defaults\nfunction, which will enable dhcp on all interfaces which has link up\nand having a valid mac address. SR-IOV VFs will also fall in this\nlist, ignore VFs in the dhcp all list.\nCloses-Bug: #1861473\n\nChange-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f\n(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)\n'}]",0,705603,c45c2ba14c94659245a3d6d11807adcf71fe914e,10,4,1,18575,,,0,"Ignore SR-IOV VFs on dhcp_all_interfaces list

When os-net-config fails, it will trigger the configure_safe_defaults
function, which will enable dhcp on all interfaces which has link up
and having a valid mac address. SR-IOV VFs will also fall in this
list, ignore VFs in the dhcp all list.
Closes-Bug: #1861473

Change-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f
(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/705603/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,c45c2ba14c94659245a3d6d11807adcf71fe914e,fix_dhcp_all_inteface_for_vf," local vf_parent=""/sys/class/net/${iface}/device/physfn"" elif [[ -d $vf_parent ]]; then echo ""Device (${iface}) is a SR-IOV VF, skipping.""",,3,0
openstack%2Fpuppet-tripleo~stable%2Fstein~I7909cd18c7a123d64d24ebc33167d415a8cfb228,openstack/puppet-tripleo,stable/stein,I7909cd18c7a123d64d24ebc33167d415a8cfb228,Remove side-car containers in Create status,MERGED,2020-02-05 12:02:29.000000000,2020-02-06 06:01:47.000000000,2020-02-06 06:01:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 12:02:29.000000000', 'files': ['templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5863f5ff63ee1b95fc3a723d75d7de569358e057', 'message': ""Remove side-car containers in Create status\n\nThe change Ib3c41a8bee349856d21f360595e41a9eafd79323 added a mechanism\nto remove side-car containers before spawning a new one for the same\nnetwork.\n\nFor dnsmasq side-car, it matches on container statuses Exited\nand Created, while all remaining containers match on Exited only.\nHowever if a node running side-car is shut down ungracefully, containers\nend in Created status and wrapper script won't be able to start the\ncontainers because they already exist.\n\nThis change goes only to Train because in current master (Ussuri) these\nwrappers were replaced by ansible.\n\nCloses-bug: #1862010\n\nChange-Id: I7909cd18c7a123d64d24ebc33167d415a8cfb228\n(cherry picked from commit 378580d3d8b3909c113e8d5c9bcae1fbf3315376)\n""}]",0,705937,5863f5ff63ee1b95fc3a723d75d7de569358e057,9,5,1,8655,,,0,"Remove side-car containers in Create status

The change Ib3c41a8bee349856d21f360595e41a9eafd79323 added a mechanism
to remove side-car containers before spawning a new one for the same
network.

For dnsmasq side-car, it matches on container statuses Exited
and Created, while all remaining containers match on Exited only.
However if a node running side-car is shut down ungracefully, containers
end in Created status and wrapper script won't be able to start the
containers because they already exist.

This change goes only to Train because in current master (Ussuri) these
wrappers were replaced by ansible.

Closes-bug: #1862010

Change-Id: I7909cd18c7a123d64d24ebc33167d415a8cfb228
(cherry picked from commit 378580d3d8b3909c113e8d5c9bcae1fbf3315376)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/705937/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp']",4,5863f5ff63ee1b95fc3a723d75d7de569358e057,side-car-stable/stein,"# FIXME(cjeanner): https://github.com/containers/libpod/issues/1703 ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep -E "":(Exited|Created)"")","ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep "":Exited"")",8,4
openstack%2Fzun~stable%2Fstein~I6182926db0c314338c03ed02b1d2f28b057f0eb3,openstack/zun,stable/stein,I6182926db0c314338c03ed02b1d2f28b057f0eb3,Replace tox_envlist 'all-plugin' with 'all',MERGED,2020-02-06 01:43:16.000000000,2020-02-06 04:35:23.000000000,2020-02-06 03:57:52.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 01:43:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/3f4ea79e2d9fa56b9d1ae3474be19ebab5a52d68', 'message': ""Replace tox_envlist 'all-plugin' with 'all'\n\nThe tox envlist 'all-plugin' is deprecated in tempest\n\nChange-Id: I6182926db0c314338c03ed02b1d2f28b057f0eb3\n(cherry picked from commit 67b1ec978ff4365fc0d00eb6fe66a796e0fe15cf)\n(cherry picked from commit 25e566361ee654d9ebfb086341ff5c20ac84823a)\n""}]",0,706163,3f4ea79e2d9fa56b9d1ae3474be19ebab5a52d68,8,2,1,11536,,,0,"Replace tox_envlist 'all-plugin' with 'all'

The tox envlist 'all-plugin' is deprecated in tempest

Change-Id: I6182926db0c314338c03ed02b1d2f28b057f0eb3
(cherry picked from commit 67b1ec978ff4365fc0d00eb6fe66a796e0fe15cf)
(cherry picked from commit 25e566361ee654d9ebfb086341ff5c20ac84823a)
",git fetch https://review.opendev.org/openstack/zun refs/changes/63/706163/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3f4ea79e2d9fa56b9d1ae3474be19ebab5a52d68,, tox_envlist: all tempest_plugins: - zun-tempest-plugin, tox_envlist: all-plugin,3,1
openstack%2Ftripleo-repos~master~I626095e7defc48719524d3b587af27f0c4d57cf0,openstack/tripleo-repos,master,I626095e7defc48719524d3b587af27f0c4d57cf0,"add centos8 highavailability,powertools",MERGED,2020-01-17 17:02:14.000000000,2020-02-06 03:36:41.000000000,2020-02-06 03:36:41.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-17 17:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/04564a2b8a246da1747fc07557c6a18f3660e768', 'message': 'WIP: add centos8 highavailability\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\ncentos/8/HighAvailability/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 2, 'created': '2020-01-17 18:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/06be3001aca600ff5d849d82fd42ed8802260404', 'message': 'add centos8 highavailability\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\ncentos/8/HighAvailability/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 3, 'created': '2020-01-17 19:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/0c7691b53a4986c9dedfd1a251dc1c7dd0935d68', 'message': 'add centos8 highavailability\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\ncentos/8/HighAvailability/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 4, 'created': '2020-02-03 21:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/24e8e22663a21875bd28b6b30e48f11b87dc7f27', 'message': 'add centos8 highavailability\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\ncentos/8/HighAvailability/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 5, 'created': '2020-02-03 21:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/53adabb905446d79d63168f44667d2d81d0c7c43', 'message': 'add centos8 highavailability,powertools\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\ncentos/8/HighAvailability/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 6, 'created': '2020-02-04 19:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/621841536cdacae95dbab929473bb7a501c070c0', 'message': 'add centos8 highavailability,powertools\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\nalso add powertools on the advice\nof rdo team\n\ncentos/8/HighAvailability/x86_64/os\ncentos/8/PowerTools/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 7, 'created': '2020-02-04 21:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/b1ae7aefa6dd1aac1574d8316476a1cd45a1a079', 'message': 'add centos8 highavailability,powertools\n\nthe pacemaker rpms are no longer supplied\nin delorean-deps, they have moved to a\ncentos-8 repo.\n\nalso add powertools on the advice\nof rdo team\n\ncentos/8/HighAvailability/x86_64/os\ncentos/8/PowerTools/x86_64/os\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 8, 'created': '2020-02-05 11:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/1851bb1facca639c8cd21e890bd34ee58f47b4be', 'message': 'add centos8 highavailability,powertools\n\nthe pacemaker rpms are no longer supplied in delorean-deps,\nthey have moved to a centos-8 repo.\n\nalso add powertools on the advice of rdo team.\n\ncentos/8/HighAvailability/x86_64/os\ncentos/8/PowerTools/x86_64/os\n\nCo-Authored-By: Rafael Folco <rfolco@redhat.com>\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}, {'number': 9, 'created': '2020-02-05 13:12:26.000000000', 'files': ['tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/bcbb1aed4b669a90d4717b10a0b85e6093d42270', 'message': 'add centos8 highavailability,powertools\n\nthe pacemaker rpms are no longer supplied in delorean-deps,\nthey have moved to a centos-8 repo.\n\nalso add powertools on the advice of rdo team.\n\ncentos/8/HighAvailability/x86_64/os\ncentos/8/PowerTools/x86_64/os\n\nCo-Authored-By: Rafael Folco <rfolco@redhat.com>\n\nChange-Id: I626095e7defc48719524d3b587af27f0c4d57cf0\n'}]",9,703125,bcbb1aed4b669a90d4717b10a0b85e6093d42270,38,8,9,9592,,,0,"add centos8 highavailability,powertools

the pacemaker rpms are no longer supplied in delorean-deps,
they have moved to a centos-8 repo.

also add powertools on the advice of rdo team.

centos/8/HighAvailability/x86_64/os
centos/8/PowerTools/x86_64/os

Co-Authored-By: Rafael Folco <rfolco@redhat.com>

Change-Id: I626095e7defc48719524d3b587af27f0c4d57cf0
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/25/703125/9 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,04564a2b8a246da1747fc07557c6a18f3660e768,centos8-repos,"HIGHAVAILABILITY_REPO_TEMPLATE = ''' [tripleo-centos-highavailability] name=tripleo-centos-highavailability baseurl=%s/centos/8/highavailability/x86_64/ gpgcheck=0 enabled=1 ''' 'tripleo-ci-testing', 'highavailability'], pattern = re.compile('^(delorean|tripleo-centos-(opstools|ceph|highavailability)).*.repo') elif repo == 'highavailability': content = HIGHAVAILABILITY_REPO_TEMPLATE % args.mirror _write_repo(content, args.output_path)"," 'tripleo-ci-testing'], pattern = re.compile('^(delorean|tripleo-centos-(opstools|ceph)).*.repo')",14,2
openstack%2Ftripleo-validations~stable%2Ftrain~Ibc202e84108fb7f64906dc41cc14923bb113f9cd,openstack/tripleo-validations,stable/train,Ibc202e84108fb7f64906dc41cc14923bb113f9cd,zuul: all functional jobs now depend on linter job first,MERGED,2020-02-04 10:27:09.000000000,2020-02-06 03:36:40.000000000,2020-02-06 03:36:40.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-04 10:27:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a9b92aea56d65834e8d4d4f85413737f15bc749', 'message': ""zuul: all functional jobs now depend on linter job first\n\nThere is no need to run functional jobs if the linters don't pass; often\ndue to syntax errors.\nThis patch will help to save CI resources when syntax isn't good in a\npatch.\n\nChange-Id: Ibc202e84108fb7f64906dc41cc14923bb113f9cd\nCo-Authored-By: Emilien Macchi <emacchi@redhat.com>\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 585d0c177947b58228badce37b23fd6cb8b78389)\n""}]",0,705626,1a9b92aea56d65834e8d4d4f85413737f15bc749,8,4,1,11491,,,0,"zuul: all functional jobs now depend on linter job first

There is no need to run functional jobs if the linters don't pass; often
due to syntax errors.
This patch will help to save CI resources when syntax isn't good in a
patch.

Change-Id: Ibc202e84108fb7f64906dc41cc14923bb113f9cd
Co-Authored-By: Emilien Macchi <emacchi@redhat.com>
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 585d0c177947b58228badce37b23fd6cb8b78389)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/26/705626/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1a9b92aea56d65834e8d4d4f85413737f15bc749,, dependencies: &deps - openstack-tox-linters,,2,0
openstack%2Fpython-tripleoclient~stable%2Fstein~Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28,openstack/python-tripleoclient,stable/stein,Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28,Fix all py27 tests,MERGED,2020-01-30 14:51:15.000000000,2020-02-06 03:24:32.000000000,2020-02-06 03:23:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-01-30 14:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee237d494cf85fde48d7796d205e325696ec6501', 'message': 'Fix all py27 tests\n\nThis change fixes our py27 tests. The issue was a cascading failure caused\nby a bad mock for sys.stdout.flush which results in general failure when\ncalling system and other builtin functions.\n\nChange-Id: Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 6aa5cdd3b02eff76aea9cda9103b2b173339c717)\n'}, {'number': 2, 'created': '2020-01-30 15:47:43.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe961790f3620934cf5888a98f9dc75f17adc4c6', 'message': 'Fix all py27 tests\n\nThis change fixes our py27 tests. The issue was a cascading failure caused\nby a bad mock for sys.stdout.flush which results in general failure when\ncalling system and other builtin functions.\n\nChange-Id: Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 6aa5cdd3b02eff76aea9cda9103b2b173339c717)\n'}]",0,705035,fe961790f3620934cf5888a98f9dc75f17adc4c6,14,6,2,14985,,,0,"Fix all py27 tests

This change fixes our py27 tests. The issue was a cascading failure caused
by a bad mock for sys.stdout.flush which results in general failure when
calling system and other builtin functions.

Change-Id: Ia1a108e77dd50404b78d952c9c9a9c0d534a5d28
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 6aa5cdd3b02eff76aea9cda9103b2b173339c717)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/705035/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'],1,ee237d494cf85fde48d7796d205e325696ec6501,fix-py27-stable/stein," def test_download_ansible_playbooks(self, mock_join, mock_stack_config, mock_launch_heat, mock_importInv, createdir_mock): with mock.patch('sys.stdout', autospec=True) as mock_stdout: self.cmd.output_dir = fake_output_dir self.cmd._download_ansible_playbooks(mock_launch_heat, 'undercloud', 'Undercloud') self.assertEqual(mock_stdout.flush.call_count, 2)"," @mock.patch('tripleoclient.v1.tripleo_deploy.sys.stdout.flush') def test_download_ansible_playbooks(self, mock_join, mock_flush, mock_stack_config, mock_launch_heat, mock_importInv, createdir_mock): self.cmd.output_dir = fake_output_dir self.cmd._download_ansible_playbooks(mock_launch_heat, 'undercloud', 'Undercloud') self.assertEqual(mock_flush.call_count, 2)",9,9
openstack%2Ftripleo-common~master~I6108aebf49a4bbc98394987f56dce6bcbe521b3a,openstack/tripleo-common,master,I6108aebf49a4bbc98394987f56dce6bcbe521b3a,Add tripleo_role_networks to inventory role group vars,MERGED,2020-01-30 03:20:31.000000000,2020-02-06 03:23:21.000000000,2020-02-06 03:22:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-01-30 03:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3d01a6eb6e513e63e66c030cfd88ec357d2d1fcb', 'message': 'Add tripleo_role_networks to inventory role group vars\n\nBoth invertory host vars and deployment global vars set enabled_networks.\nHost var is snake_case network, global var is CamelCase network.\nGlobal var takes precedence as we explicly include it in the deployment playbook.\n\nCreate tripleo_role_networks to avoid conflicts.\n\nChange-Id: I6108aebf49a4bbc98394987f56dce6bcbe521b3a\nRelated-bug: #1861296\n'}, {'number': 2, 'created': '2020-01-30 16:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ed3170d785f5af869ac861841cddb262ddad5b7', 'message': 'Add tripleo_role_networks to inventory role group vars\n\nBoth invertory host vars and deployment global vars set enabled_networks.\nHost var is snake_case network, global var is CamelCase network.\nGlobal var takes precedence as we explicly include it in the deployment\nplaybook.\n\nCreate tripleo_role_networks to avoid conflicts and drop the enabled_networks\nhost vars at it is not currently used (AFAICT).\n\nChange-Id: I6108aebf49a4bbc98394987f56dce6bcbe521b3a\nRelated-bug: #1861296\n'}, {'number': 3, 'created': '2020-02-04 18:42:49.000000000', 'files': ['tripleo_common/tests/test_inventories.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff3e716b1a081e139943f2dedf0aec1df22e4f37', 'message': 'Add tripleo_role_networks to inventory role group vars\n\nBoth invertory host vars and deployment global vars set enabled_networks.\nHost var is snake_case network, global var is CamelCase network.\nGlobal var takes precedence as we explicly include it in the deployment\nplaybook.\n\nCreate tripleo_role_networks to avoid conflicts and drop the enabled_networks\nhost vars at it is not currently used (AFAICT).\n\nDepends-On: https://review.opendev.org/#/c/705757/\nDepends-On: https://review.opendev.org/#/c/705767/\nChange-Id: I6108aebf49a4bbc98394987f56dce6bcbe521b3a\nRelated-bug: #1861296\n'}]",3,704919,ff3e716b1a081e139943f2dedf0aec1df22e4f37,40,15,3,23811,,,0,"Add tripleo_role_networks to inventory role group vars

Both invertory host vars and deployment global vars set enabled_networks.
Host var is snake_case network, global var is CamelCase network.
Global var takes precedence as we explicly include it in the deployment
playbook.

Create tripleo_role_networks to avoid conflicts and drop the enabled_networks
host vars at it is not currently used (AFAICT).

Depends-On: https://review.opendev.org/#/c/705757/
Depends-On: https://review.opendev.org/#/c/705767/
Change-Id: I6108aebf49a4bbc98394987f56dce6bcbe521b3a
Related-bug: #1861296
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/704919/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/test_inventories.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",3,3d01a6eb6e513e63e66c030cfd88ec357d2d1fcb,," 'tripleo_role_name': 'Compute', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'Controller', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'CustomRole', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'Compute', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'Controller', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'CustomRole', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'Compute', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'Controller', 'tripleo_role_networks': ['ctlplane']}}, 'tripleo_role_name': 'CustomRole', 'tripleo_role_networks': ['ctlplane']}},"," 'tripleo_role_name': 'Compute'}}, 'tripleo_role_name': 'Controller'}}, 'tripleo_role_name': 'CustomRole'}}, 'tripleo_role_name': 'Compute'}}, 'tripleo_role_name': 'Controller'}}, 'tripleo_role_name': 'CustomRole'}}, 'tripleo_role_name': 'Compute'}}, 'tripleo_role_name': 'Controller'}}, 'tripleo_role_name': 'CustomRole'}},",57,11
openstack%2Frequirements~master~If547ce8426c9519c672dbb23a1e32ad005a968f7,openstack/requirements,master,If547ce8426c9519c672dbb23a1e32ad005a968f7,update constraint for oslo.db to new release 7.0.0,MERGED,2020-02-05 22:04:34.000000000,2020-02-06 03:02:54.000000000,2020-02-06 03:00:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 22:04:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/171aa59938ff12e110db18e563b06698fbfbf088', 'message': 'update constraint for oslo.db to new release 7.0.0\n\nChange-Id: If547ce8426c9519c672dbb23a1e32ad005a968f7\nmeta:version: 7.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ia42d9148cd0401562f7d52cc79de5cb02519f9eb\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706133,171aa59938ff12e110db18e563b06698fbfbf088,7,2,1,11131,,,0,"update constraint for oslo.db to new release 7.0.0

Change-Id: If547ce8426c9519c672dbb23a1e32ad005a968f7
meta:version: 7.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ia42d9148cd0401562f7d52cc79de5cb02519f9eb
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/706133/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,171aa59938ff12e110db18e563b06698fbfbf088,new-release,oslo.db===7.0.0,oslo.db===6.0.0,1,1
openstack%2Fnova~master~I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f,openstack/nova,master,I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f,"Revert ""nova shared storage: rbd is always shared storage""",MERGED,2019-09-17 01:56:56.000000000,2020-02-06 03:02:32.000000000,2020-02-06 03:00:26.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14473}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19153}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27614}, {'_account_id': 28706}, {'_account_id': 29963}, {'_account_id': 29979}]","[{'number': 1, 'created': '2019-09-17 01:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86aee83812ff04f4439b715ca9ac06dc1aa690ae', 'message': 'Revert ""nova shared storage: rbd is always shared storage""\n\nAfter cold migration, there is a directory left every time.\nRemove this patch to avoid this directory\nleft.\n\nCloses-Bug: 1824858\nThis reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.\n\nChange-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f\n'}, {'number': 2, 'created': '2019-11-07 11:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b84547ca5e8b7a1b41066d21ef8f2e9849b8f533', 'message': 'Revert ""nova shared storage: rbd is always shared storage""\n\nAfter cold migration, there is a directory left every time.\nRemove this patch to avoid this directory\nleft.\n\nCloses-Bug: 1824858\nThis reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.\n\nChange-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f\n'}, {'number': 3, 'created': '2019-11-22 12:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c608fdec24ada1668757101b2a44ecf122afaf69', 'message': 'Revert ""nova shared storage: rbd is always shared storage""\n\nThis reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.\n\nThe _is_storage_shared_with method is specifically checking if the\ninstance directory is shared. It is not checking if the actual instance\ndisks are shared and as a result assumptions cannot be made based on the\nvalue of images_type.\n\nCloses-Bug: 1824858\nChange-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f\n'}, {'number': 4, 'created': '2019-12-02 12:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2eaf398639959d8a7faa660e6cd448a02141362c', 'message': 'Revert ""nova shared storage: rbd is always shared storage""\n\nThis reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.\n\nThe _is_storage_shared_with method is specifically checking if the\ninstance directory is shared. It is not checking if the actual instance\ndisks are shared and as a result assumptions cannot be made based on the\nvalue of images_type.\n\nCloses-Bug: 1824858\nChange-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f\n'}, {'number': 5, 'created': '2019-12-11 02:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc3d47cb03d7959ad04c73f29f30e65d11be357', 'message': 'Revert ""nova shared storage: rbd is always shared storage""\n\nThis reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.\n\nThe _is_storage_shared_with method is specifically checking if the\ninstance directory is shared. It is not checking if the actual instance\ndisks are shared and as a result assumptions cannot be made based on the\nvalue of images_type.\n\nCloses-Bug: 1824858\nChange-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f\n'}, {'number': 6, 'created': '2019-12-11 03:55:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/404932f82130445472837095b3ad9089c75e2660', 'message': 'Revert ""nova shared storage: rbd is always shared storage""\n\nThis reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.\n\nThe _is_storage_shared_with method is specifically checking if the\ninstance directory is shared. It is not checking if the actual instance\ndisks are shared and as a result assumptions cannot be made based on the\nvalue of images_type.\n\nCloses-Bug: 1824858\nChange-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f\n'}]",3,682523,404932f82130445472837095b3ad9089c75e2660,65,30,6,29979,,,0,"Revert ""nova shared storage: rbd is always shared storage""

This reverts commit 05b7f63a42e3512da6fe45d2e6639fb47ed8102b.

The _is_storage_shared_with method is specifically checking if the
instance directory is shared. It is not checking if the actual instance
disks are shared and as a result assumptions cannot be made based on the
value of images_type.

Closes-Bug: 1824858
Change-Id: I52293b6ce3e1ce77fa31b382d0067fb3bc68b21f
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/682523/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,86aee83812ff04f4439b715ca9ac06dc1aa690ae,,," self.assertTrue(drvr._is_storage_shared_with('foo', 'bar'))",0,5
openstack%2Frequirements~master~I8c10e87c2ca4a1196a86855bc620dc24878e6f47,openstack/requirements,master,I8c10e87c2ca4a1196a86855bc620dc24878e6f47,update constraint for tooz to new release 2.0.0,MERGED,2020-02-05 21:57:32.000000000,2020-02-06 03:01:46.000000000,2020-02-06 03:00:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:57:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fefe0b281a0e437fada65e62b20550912987dfe3', 'message': 'update constraint for tooz to new release 2.0.0\n\nChange-Id: I8c10e87c2ca4a1196a86855bc620dc24878e6f47\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ie6adf3596941ff9efd02ba23cc4f59d8fb0f3040\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706128,fefe0b281a0e437fada65e62b20550912987dfe3,7,2,1,11131,,,0,"update constraint for tooz to new release 2.0.0

Change-Id: I8c10e87c2ca4a1196a86855bc620dc24878e6f47
meta:version: 2.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie6adf3596941ff9efd02ba23cc4f59d8fb0f3040
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/706128/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fefe0b281a0e437fada65e62b20550912987dfe3,new-release,tooz===2.0.0,tooz===1.67.2,1,1
openstack%2Frequirements~master~Ief6d844c81ae88452aa7e93d8f992c327c991701,openstack/requirements,master,Ief6d844c81ae88452aa7e93d8f992c327c991701,update constraint for oslo.rootwrap to new release 6.0.0,MERGED,2020-02-05 22:02:42.000000000,2020-02-06 03:00:22.000000000,2020-02-06 03:00:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 22:02:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8fa05c387717c6a037bae722d8077d9b5f57ce69', 'message': 'update constraint for oslo.rootwrap to new release 6.0.0\n\nChange-Id: Ief6d844c81ae88452aa7e93d8f992c327c991701\nmeta:version: 6.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Id879b66025049e7fa6a7e503e0007aabefd27b13\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706132,8fa05c387717c6a037bae722d8077d9b5f57ce69,6,2,1,11131,,,0,"update constraint for oslo.rootwrap to new release 6.0.0

Change-Id: Ief6d844c81ae88452aa7e93d8f992c327c991701
meta:version: 6.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Id879b66025049e7fa6a7e503e0007aabefd27b13
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/706132/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8fa05c387717c6a037bae722d8077d9b5f57ce69,new-release,oslo.rootwrap===6.0.0,oslo.rootwrap===5.17.1,1,1
openstack%2Frequirements~master~I51d39b63df9be561df57d244ad3c1af1006a6f63,openstack/requirements,master,I51d39b63df9be561df57d244ad3c1af1006a6f63,update constraint for taskflow to new release 4.0.0,MERGED,2020-02-05 21:59:33.000000000,2020-02-06 03:00:21.000000000,2020-02-06 03:00:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:59:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/534616484e66eec3c789a41945bbd165b4950b45', 'message': 'update constraint for taskflow to new release 4.0.0\n\nChange-Id: I51d39b63df9be561df57d244ad3c1af1006a6f63\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ie8171b6f0108f3826d1c3462c0fc7c204973bcdf\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706129,534616484e66eec3c789a41945bbd165b4950b45,6,2,1,11131,,,0,"update constraint for taskflow to new release 4.0.0

Change-Id: I51d39b63df9be561df57d244ad3c1af1006a6f63
meta:version: 4.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie8171b6f0108f3826d1c3462c0fc7c204973bcdf
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/706129/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,534616484e66eec3c789a41945bbd165b4950b45,new-release,taskflow===4.0.0,taskflow===3.8.0,1,1
openstack%2Frequirements~master~Ie1f3c96047047021475abed58b88750fc252ec29,openstack/requirements,master,Ie1f3c96047047021475abed58b88750fc252ec29,update constraint for openstacksdk to new release 0.41.0,MERGED,2020-02-05 21:54:12.000000000,2020-02-06 02:58:39.000000000,2020-02-06 02:56:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:54:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/974440b52f2f17e1597116c7eb962553846b41a3', 'message': 'update constraint for openstacksdk to new release 0.41.0\n\nChange-Id: Ie1f3c96047047021475abed58b88750fc252ec29\nmeta:version: 0.41.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Ib19082bd885a94fdb396733365917401cc27900f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706126,974440b52f2f17e1597116c7eb962553846b41a3,7,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.41.0

Change-Id: Ie1f3c96047047021475abed58b88750fc252ec29
meta:version: 0.41.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Ib19082bd885a94fdb396733365917401cc27900f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/706126/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,974440b52f2f17e1597116c7eb962553846b41a3,new-release,openstacksdk===0.41.0,openstacksdk===0.40.0,1,1
openstack%2Frequirements~master~I5b1440779675f37c2c0f34a5c29a4d0e9b33827c,openstack/requirements,master,I5b1440779675f37c2c0f34a5c29a4d0e9b33827c,update constraint for microversion_parse to new release 1.0.0,MERGED,2020-02-05 21:17:19.000000000,2020-02-06 02:57:34.000000000,2020-02-06 02:56:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:17:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e55b70adc3804bffe7f950883415c04b696d887d', 'message': 'update constraint for microversion_parse to new release 1.0.0\n\nChange-Id: I5b1440779675f37c2c0f34a5c29a4d0e9b33827c\nmeta:version: 1.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I4ec02e6abbb230cd6e7299c9f6a95a49bbee3f51\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706118,e55b70adc3804bffe7f950883415c04b696d887d,7,2,1,11131,,,0,"update constraint for microversion_parse to new release 1.0.0

Change-Id: I5b1440779675f37c2c0f34a5c29a4d0e9b33827c
meta:version: 1.0.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I4ec02e6abbb230cd6e7299c9f6a95a49bbee3f51
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/706118/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e55b70adc3804bffe7f950883415c04b696d887d,new-release,microversion-parse===1.0.0,microversion-parse===0.2.1,1,1
openstack%2Frequirements~master~I834c93f6a570b5acb905829079e229c1b76272a0,openstack/requirements,master,I834c93f6a570b5acb905829079e229c1b76272a0,update constraint for oslo.messaging to new release 11.0.0,MERGED,2020-02-05 21:52:41.000000000,2020-02-06 02:56:08.000000000,2020-02-06 02:56:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:52:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/21cb91bee5cfcf45017b5ce19859d482852d4b08', 'message': 'update constraint for oslo.messaging to new release 11.0.0\n\nChange-Id: I834c93f6a570b5acb905829079e229c1b76272a0\nmeta:version: 11.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: If80225ad5c1153b6191c36178f8e8572189aa893\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706125,21cb91bee5cfcf45017b5ce19859d482852d4b08,6,2,1,11131,,,0,"update constraint for oslo.messaging to new release 11.0.0

Change-Id: I834c93f6a570b5acb905829079e229c1b76272a0
meta:version: 11.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: If80225ad5c1153b6191c36178f8e8572189aa893
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/706125/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,21cb91bee5cfcf45017b5ce19859d482852d4b08,new-release,oslo.messaging===11.0.0,oslo.messaging===10.5.0,1,1
openstack%2Frequirements~master~I33208d9ba41277311a4741c72bd27f2787ed3f1a,openstack/requirements,master,I33208d9ba41277311a4741c72bd27f2787ed3f1a,update constraint for oslo.middleware to new release 4.0.0,MERGED,2020-02-05 21:46:51.000000000,2020-02-06 02:56:07.000000000,2020-02-06 02:56:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:46:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8fd3ad254153aa4241240ff6192f4a506c0f60c2', 'message': 'update constraint for oslo.middleware to new release 4.0.0\n\nChange-Id: I33208d9ba41277311a4741c72bd27f2787ed3f1a\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Id14f22f10dd0b200640ac74e47ad37bebde744de\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706122,8fd3ad254153aa4241240ff6192f4a506c0f60c2,6,2,1,11131,,,0,"update constraint for oslo.middleware to new release 4.0.0

Change-Id: I33208d9ba41277311a4741c72bd27f2787ed3f1a
meta:version: 4.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: Id14f22f10dd0b200640ac74e47ad37bebde744de
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/706122/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8fd3ad254153aa4241240ff6192f4a506c0f60c2,new-release,oslo.middleware===4.0.0,oslo.middleware===3.38.1,1,1
openstack%2Frequirements~master~Ib476aa4730dfeb96ea6c8f9015812907458f2b8f,openstack/requirements,master,Ib476aa4730dfeb96ea6c8f9015812907458f2b8f,update constraint for osprofiler to new release 3.0.0,MERGED,2020-02-05 21:01:47.000000000,2020-02-06 02:55:02.000000000,2020-02-06 02:50:59.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 21:01:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ed717f468f0114ab9fa542066b6b9e6ad99832f', 'message': 'update constraint for osprofiler to new release 3.0.0\n\nChange-Id: Ib476aa4730dfeb96ea6c8f9015812907458f2b8f\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I19c852502aa2dbfd0159b351c9b9f0224a7d367f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706114,6ed717f468f0114ab9fa542066b6b9e6ad99832f,7,2,1,11131,,,0,"update constraint for osprofiler to new release 3.0.0

Change-Id: Ib476aa4730dfeb96ea6c8f9015812907458f2b8f
meta:version: 3.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I19c852502aa2dbfd0159b351c9b9f0224a7d367f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/706114/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6ed717f468f0114ab9fa542066b6b9e6ad99832f,new-release,osprofiler===3.0.0,osprofiler===2.9.0,1,1
openstack%2Frequirements~master~I18928e1a7d4413423be36eeb87bbf6376ffbe2d9,openstack/requirements,master,I18928e1a7d4413423be36eeb87bbf6376ffbe2d9,Stop testing with pypy,MERGED,2020-02-05 22:12:55.000000000,2020-02-06 02:53:45.000000000,2020-02-06 02:50:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 22:12:55.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f0fe3ce1b5771463130aad905ee2aed148884ec1', 'message': 'Stop testing with pypy\n\nChange-Id: I18928e1a7d4413423be36eeb87bbf6376ffbe2d9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,706136,f0fe3ce1b5771463130aad905ee2aed148884ec1,7,2,1,11904,,,0,"Stop testing with pypy

Change-Id: I18928e1a7d4413423be36eeb87bbf6376ffbe2d9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/706136/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,f0fe3ce1b5771463130aad905ee2aed148884ec1,bybypypy,, - openstack-pypy-jobs-nonvoting,0,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I563f42dc417ce5e403310ea33b969e19d16ad68f,openstack/tripleo-heat-templates,stable/queens,I563f42dc417ce5e403310ea33b969e19d16ad68f,Ignore SR-IOV VFs on dhcp_all_interfaces list,MERGED,2020-02-04 05:10:32.000000000,2020-02-06 02:34:57.000000000,2020-02-06 02:34:57.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 05:10:32.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4c8e6a26b16d5700fa56772b2dd6610157ee05e', 'message': 'Ignore SR-IOV VFs on dhcp_all_interfaces list\n\nWhen os-net-config fails, it will trigger the configure_safe_defaults\nfunction, which will enable dhcp on all interfaces which has link up\nand having a valid mac address. SR-IOV VFs will also fall in this\nlist, ignore VFs in the dhcp all list.\nCloses-Bug: #1861473\n\nChange-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f\n(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)\n'}]",0,705605,d4c8e6a26b16d5700fa56772b2dd6610157ee05e,7,3,1,18575,,,0,"Ignore SR-IOV VFs on dhcp_all_interfaces list

When os-net-config fails, it will trigger the configure_safe_defaults
function, which will enable dhcp on all interfaces which has link up
and having a valid mac address. SR-IOV VFs will also fall in this
list, ignore VFs in the dhcp all list.
Closes-Bug: #1861473

Change-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f
(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/705605/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,d4c8e6a26b16d5700fa56772b2dd6610157ee05e,fix_dhcp_all_inteface_for_vf-stable/train-stable/stein-stable/rocky-stable/queens," local vf_parent=""/sys/class/net/${iface}/device/physfn"" elif [[ -d $vf_parent ]]; then echo ""Device (${iface}) is a SR-IOV VF, skipping.""",,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9ffddcaa52314c615362969757c94ebdf01a3b6d,openstack/tripleo-heat-templates,stable/train,I9ffddcaa52314c615362969757c94ebdf01a3b6d,Swap tasks to avoid non-existing variable error.,MERGED,2020-02-04 10:25:33.000000000,2020-02-06 02:34:55.000000000,2020-02-06 02:34:55.000000000,"[{'_account_id': 3153}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-04 10:25:33.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26e00764f777b09fce635e54645cdf11e774bea9', 'message': 'Swap tasks to avoid non-existing variable error.\n\nThe upgrade workflow to Stein has a guard task that\nchecks that the --limit option is being used when\nrunning the overcloud upgrade run command, as the\nupgrade needs to be performed node by node due to\nthe operating system upgrade. However, if the --limit\noption is not passed, the upgrade tasks fails in the\ntask right before the guard, as that task already\nreferences the undefined variable. So, it is needed\nto invert the order so we fail at will in the guard\ntask.\n\nChange-Id: I9ffddcaa52314c615362969757c94ebdf01a3b6d\nCloses-Bug: #1861663\n(cherry picked from commit bca35e611bbc8f103e4893282c9b2c49aa4e1e48)\n'}]",0,705624,26e00764f777b09fce635e54645cdf11e774bea9,9,5,1,6816,,,0,"Swap tasks to avoid non-existing variable error.

The upgrade workflow to Stein has a guard task that
checks that the --limit option is being used when
running the overcloud upgrade run command, as the
upgrade needs to be performed node by node due to
the operating system upgrade. However, if the --limit
option is not passed, the upgrade tasks fails in the
task right before the guard, as that task already
references the undefined variable. So, it is needed
to invert the order so we fail at will in the guard
task.

Change-Id: I9ffddcaa52314c615362969757c94ebdf01a3b6d
Closes-Bug: #1861663
(cherry picked from commit bca35e611bbc8f103e4893282c9b2c49aa4e1e48)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/705624/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",11,26e00764f777b09fce635e54645cdf11e774bea9,bug/1838971-stable/train," - debug: msg: ""Prepare oslo_messaging_rpc upgrade for {{ oslo_messaging_rpc_short_node_names_upgraded }}"""," - debug: msg: ""Prepare oslo_messaging_rpc upgrade for {{ oslo_messaging_rpc_short_node_names_upgraded }}""",22,37
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I563f42dc417ce5e403310ea33b969e19d16ad68f,openstack/tripleo-heat-templates,stable/train,I563f42dc417ce5e403310ea33b969e19d16ad68f,Ignore SR-IOV VFs on dhcp_all_interfaces list,MERGED,2020-02-04 05:09:50.000000000,2020-02-06 02:34:53.000000000,2020-02-06 02:34:53.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-04 05:09:50.000000000', 'files': ['network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2de751d73a7136e3785f4f9b3919c6612928d8a', 'message': 'Ignore SR-IOV VFs on dhcp_all_interfaces list\n\nWhen os-net-config fails, it will trigger the configure_safe_defaults\nfunction, which will enable dhcp on all interfaces which has link up\nand having a valid mac address. SR-IOV VFs will also fall in this\nlist, ignore VFs in the dhcp all list.\nCloses-Bug: #1861473\n\nChange-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f\n(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)\n'}]",0,705602,b2de751d73a7136e3785f4f9b3919c6612928d8a,9,4,1,18575,,,0,"Ignore SR-IOV VFs on dhcp_all_interfaces list

When os-net-config fails, it will trigger the configure_safe_defaults
function, which will enable dhcp on all interfaces which has link up
and having a valid mac address. SR-IOV VFs will also fall in this
list, ignore VFs in the dhcp all list.
Closes-Bug: #1861473

Change-Id: I563f42dc417ce5e403310ea33b969e19d16ad68f
(cherry picked from commit bc014864282372e74839aefd6d7a444a20643af3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/705602/1 && git format-patch -1 --stdout FETCH_HEAD,['network/scripts/run-os-net-config.sh'],1,b2de751d73a7136e3785f4f9b3919c6612928d8a,fix_dhcp_all_inteface_for_vf-stable/train," local vf_parent=""/sys/class/net/${iface}/device/physfn"" elif [[ -d $vf_parent ]]; then echo ""Device (${iface}) is a SR-IOV VF, skipping.""",,3,0
openstack%2Fpuppet-tripleo~master~I47c6e4fb3beab14cc5c7f824646e3c2242b140d4,openstack/puppet-tripleo,master,I47c6e4fb3beab14cc5c7f824646e3c2242b140d4,Enable sudo rule creation,MERGED,2020-01-13 21:31:15.000000000,2020-02-06 02:22:54.000000000,2020-02-06 02:22:54.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-13 21:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/32c6ca4d10903520ca23d0d43cf9df4c536dfad7', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}, {'number': 2, 'created': '2020-01-14 12:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c3c6f9acd29edaf33d9ece753d8f0e4fa968c5e6', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}, {'number': 3, 'created': '2020-01-14 21:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/600a9c5639e0fa7560773441fd556af708461510', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}, {'number': 4, 'created': '2020-01-20 12:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8396f9ef4d82dfea5acb344217084275ff48bf4f', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}, {'number': 5, 'created': '2020-01-21 13:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e556a2da47eee2de3e14a119cb0807105f7f5697', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}, {'number': 6, 'created': '2020-01-22 10:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b6146641dfd73539495ba307c09683fc21f87a7', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}, {'number': 7, 'created': '2020-02-03 06:36:02.000000000', 'files': ['manifests/profile/base/metrics/collectd/sensubility.pp', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_metrics_collectd_sensubility_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/03ade40ffd457f5674fed8f918581142526d851a', 'message': 'Enable sudo rule creation\n\nWe need to enable creation of sudo rule creation for user under which sensubility\nis executed to enable operators execution of any command they possibly need\nin their health check implementation.\n\nChange-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4\n'}]",8,702296,03ade40ffd457f5674fed8f918581142526d851a,39,12,7,5241,,,0,"Enable sudo rule creation

We need to enable creation of sudo rule creation for user under which sensubility
is executed to enable operators execution of any command they possibly need
in their health check implementation.

Change-Id: I47c6e4fb3beab14cc5c7f824646e3c2242b140d4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/96/702296/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_collectd_spec.rb', 'manifests/profile/base/metrics/collectd/sensubility.pp']",2,32c6ca4d10903520ca23d0d43cf9df4c536dfad7,sensubility-sudoers,"# # [*exec_user*] # (Optional) String. User under which sensubility is executed via collectd-exec. # Defaults to 'collectd' # # [*exec_group*] # (Optional) String. Group under which sensubility is executed via collectd-exec. # Defaults to 'collectd' # # [*exec_sudo_rule*] # (Optional) String. Rule which will be saved in /etc/sudoers.d for user specified # by parameter exec_user. # Defaults to undef $amqp_password = undef, $exec_user = 'collectd', $exec_group = 'collectd', $exec_sudo_rule = undef user => $exec_user, group => $exec_group, if $exec_sudo_rule { file { ""/etc/sudoers.d/sensubility_${exec_user}"": ensure => $ensure, mode => '0440', content => ""${exec_user} ${exec_sudo_rule}"" } } "," $amqp_password = undef user => 'collectd', group => 'collectd',",31,4
openstack%2Frequirements~stable%2Fqueens~Idc82d58c29ce20aac4c479745fc09a8a24dadc68,openstack/requirements,stable/queens,Idc82d58c29ce20aac4c479745fc09a8a24dadc68,cap libvirt-python for py27,ABANDONED,2020-02-06 02:08:19.000000000,2020-02-06 02:16:01.000000000,,[],"[{'number': 1, 'created': '2020-02-06 02:08:19.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1c34fbdd46c7e17e6cbbc0b8c86bfea8fb16e703', 'message': 'cap libvirt-python for py27\n\nChange-Id: Idc82d58c29ce20aac4c479745fc09a8a24dadc68\n'}]",0,706164,1c34fbdd46c7e17e6cbbc0b8c86bfea8fb16e703,2,0,1,14288,,,0,"cap libvirt-python for py27

Change-Id: Idc82d58c29ce20aac4c479745fc09a8a24dadc68
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/706164/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,1c34fbdd46c7e17e6cbbc0b8c86bfea8fb16e703,py3-libvirt-python,"libvirt-python>=3.5.0,!=4.1.0,<6.0.0;python_version<'3.0' # LGPLv2+ libvirt-python>=3.5.0,!=4.1.0;python_version>='3.0' # LGPLv2+",,2,0
openstack%2Fcharm-placement~master~Iae27a03a21eecea78327bcde0e8fa1becd2820a1,openstack/charm-placement,master,Iae27a03a21eecea78327bcde0e8fa1becd2820a1,Rebuild for 20.02 release,MERGED,2020-02-05 17:02:55.000000000,2020-02-06 01:55:05.000000000,2020-02-06 01:55:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-02-05 17:02:55.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/ccd4826dea9b6197e0d552da35c17366c586b6d9', 'message': 'Rebuild for 20.02 release\n\nChange-Id: Iae27a03a21eecea78327bcde0e8fa1becd2820a1\n'}]",0,706045,ccd4826dea9b6197e0d552da35c17366c586b6d9,9,3,1,12549,,,0,"Rebuild for 20.02 release

Change-Id: Iae27a03a21eecea78327bcde0e8fa1becd2820a1
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/45/706045/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ccd4826dea9b6197e0d552da35c17366c586b6d9,rebuild-reactive-2002,52737480-4839-11ea-8ea6-4bb6c0f4660c,f57f307b-74f9-4f1d-bdc2-50e20aecbb63,1,1
openstack%2Fneutron-lib~master~I58a47bb895bede219cfeebbf0665aaf01660ce89,openstack/neutron-lib,master,I58a47bb895bede219cfeebbf0665aaf01660ce89,Extend qos DriverBase with validate_rule_for_port(),MERGED,2020-02-04 14:33:14.000000000,2020-02-06 01:28:28.000000000,2020-02-06 01:24:51.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26106}]","[{'number': 1, 'created': '2020-02-04 14:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b144986cf59bae552ac9bbf3bb061a04a6e9da6e', 'message': ""Extend qos DriverBase with validate_rule_for_port()\n\nThe openvswitch qos driver supports the min-bw qos rule only on\nnetworks backed by physnets. Currently the qos driver interface does\nnot have a method that takes both the policy/rule and the network/port,\ntherefore we don't have enough information in the driver to tell if\nwe support the min-bw rule for a port or not. This change introduces\nvalidate_rule_for_port(..., rule, port) so we have all the information\nto tell.\n\nThe base method validate_rule_for_port() is concrete, but does\nnothing (i.e. returns None), therefore other qos drivers\ndo not need to override this method explicitly. Their behavior\nremains the same without code change.\n\nChange-Id: I58a47bb895bede219cfeebbf0665aaf01660ce89\nNeeded-By: I02d77a03c411dc8ab303a7d7b53d7ea93cc9f4c6\nPartial-Bug: #1861442\nRelated-Bug: #1819029\n""}, {'number': 2, 'created': '2020-02-04 14:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d247c29adefabfc025981dc2a5b70021a33e3a66', 'message': ""Extend qos DriverBase with validate_rule_for_port()\n\nThe openvswitch qos driver supports the min-bw qos rule only on\nnetworks backed by physnets. Currently the qos driver interface does\nnot have a method that takes both the policy/rule and the network/port,\ntherefore we don't have enough information in the driver to tell if\nwe support the min-bw rule for a port or not. This change introduces\nvalidate_rule_for_port(..., rule, port) so we have all the information\nto tell.\n\nThe base method validate_rule_for_port() is concrete, but does\nnothing (i.e. returns None), therefore other qos drivers\ndo not need to override this method explicitly. Their behavior\nremains the same without code change.\n\nChange-Id: I58a47bb895bede219cfeebbf0665aaf01660ce89\nNeeded-By: https://review.opendev.org/705695\nPartial-Bug: #1861442\nRelated-Bug: #1819029\n""}, {'number': 3, 'created': '2020-02-05 13:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b9dd399bab16149cd43a784eb391b56efc2918e0', 'message': ""Extend qos DriverBase with validate_rule_for_port()\n\nThe openvswitch qos driver supports the min-bw qos rule only on\nnetworks backed by physnets. Currently the qos driver interface does\nnot have a method that takes both the policy/rule and the network/port,\ntherefore we don't have enough information in the driver to tell if\nwe support the min-bw rule for a port or not. This change introduces\nvalidate_rule_for_port(..., rule, port) so we have all the information\nto tell.\n\nThe base method validate_rule_for_port() is concrete, but does\nnothing (i.e. returns None), therefore other qos drivers\ndo not need to override this method explicitly. Their behavior\nremains the same without code change.\n\nChange-Id: I58a47bb895bede219cfeebbf0665aaf01660ce89\nNeeded-By: https://review.opendev.org/705695\nPartial-Bug: #1861442\nRelated-Bug: #1819029\n""}, {'number': 4, 'created': '2020-02-05 13:22:18.000000000', 'files': ['neutron_lib/services/qos/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6f3fb7fc8199b8c374e6e97a2e5a617a47b30671', 'message': ""Extend qos DriverBase with validate_rule_for_port()\n\nThe openvswitch qos driver supports the min-bw qos rule only on\nnetworks backed by physnets. Currently the qos driver interface does\nnot have a method that takes both the policy/rule and the network/port,\ntherefore we don't have enough information in the driver to tell if\nwe support the min-bw rule for a port or not. This change introduces\nvalidate_rule_for_port(..., rule, port) so we have all the information\nto tell.\n\nThe base method validate_rule_for_port() is concrete and returns True\nfor backwards compatibility.\n\nChange-Id: I58a47bb895bede219cfeebbf0665aaf01660ce89\nNeeded-By: https://review.opendev.org/705695\nPartial-Bug: #1861442\nRelated-Bug: #1819029\n""}]",9,705694,6f3fb7fc8199b8c374e6e97a2e5a617a47b30671,17,6,4,15554,,,0,"Extend qos DriverBase with validate_rule_for_port()

The openvswitch qos driver supports the min-bw qos rule only on
networks backed by physnets. Currently the qos driver interface does
not have a method that takes both the policy/rule and the network/port,
therefore we don't have enough information in the driver to tell if
we support the min-bw rule for a port or not. This change introduces
validate_rule_for_port(..., rule, port) so we have all the information
to tell.

The base method validate_rule_for_port() is concrete and returns True
for backwards compatibility.

Change-Id: I58a47bb895bede219cfeebbf0665aaf01660ce89
Needed-By: https://review.opendev.org/705695
Partial-Bug: #1861442
Related-Bug: #1819029
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/94/705694/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/services/qos/base.py'],1,b144986cf59bae552ac9bbf3bb061a04a6e9da6e,bug/1861442," def validate_rule_for_port(self, context, rule, port): """"""Raise if rule is incompatible with port. This is only meant to be used when a rule is compatible with some ports/networks but not with others (depending on port/network properties). """""" ",,8,0
openstack%2Fkeystone~stable%2Fstein~I55b4e727404d910aa9b5a07b49b783799bc5f098,openstack/keystone,stable/stein,I55b4e727404d910aa9b5a07b49b783799bc5f098,Added keystone identity provider installation to Devstack plugin,MERGED,2020-02-05 19:05:00.000000000,2020-02-06 01:16:03.000000000,2020-02-06 01:12:33.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 20163}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 19:05:00.000000000', 'files': ['devstack/lib/federation.sh', 'devstack/files/federation/shibboleth2.xml', 'devstack/files/federation/shib_apache_handler.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0e6c07e46fdfdd7662dd3eee7a110f72dda128e6', 'message': 'Added keystone identity provider installation to Devstack plugin\n\nDevstack, alongside samltest, will now setup keystone as an idp.\n\nbp devstack-plugin\n\nChange-Id: I55b4e727404d910aa9b5a07b49b783799bc5f098\n(cherry picked from commit 1e0a9684937038df59931363c4e1560edc176473)\n'}]",0,706087,0e6c07e46fdfdd7662dd3eee7a110f72dda128e6,8,4,1,8482,,,0,"Added keystone identity provider installation to Devstack plugin

Devstack, alongside samltest, will now setup keystone as an idp.

bp devstack-plugin

Change-Id: I55b4e727404d910aa9b5a07b49b783799bc5f098
(cherry picked from commit 1e0a9684937038df59931363c4e1560edc176473)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/87/706087/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/federation.sh', 'devstack/files/federation/shibboleth2.xml', 'devstack/files/federation/shib_apache_handler.txt']",3,0e6c07e46fdfdd7662dd3eee7a110f72dda128e6,k2k-tests-stable/stein, <Location /identity/v3/OS-FEDERATION/identity_providers/keystone/protocols/mapped/auth> ShibRequestSetting requireSession 1 AuthType shibboleth ShibExportAssertion Off Require valid-user <IfVersion < 2.4> ShibRequireSession On ShibRequireAll On </IfVersion> </Location>,,63,27
openstack%2Frequirements~stable%2Fstein~Iaed3883d1ab09d95c884c73e7281005a2ada0652,openstack/requirements,stable/stein,Iaed3883d1ab09d95c884c73e7281005a2ada0652,Bump diskimage-builder to 2.30.0 in UC,MERGED,2020-02-04 19:15:19.000000000,2020-02-06 01:12:32.000000000,2020-02-06 01:12:32.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 19:15:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ea183cfc252fb5341abd084aa8db9bd2f5fb0dc', 'message': 'Bump diskimage-builder to 2.30.0 in UC\n\nDiskimage-builder (DIB) is a branch-less project. Unfortunately pip\nmade a change that required a modification to DIB[1]. This patch was\nfirst released in DIB 2.30.0.\nTo fix image building on the OpenStack stable branches, we need to\nbump diskimage-builder to 2.30.0 in the upper-constraints.txt of\nthe stable OpenStack releases.\n\n[1] https://review.opendev.org/#/c/695823/\n\nChange-Id: Iaed3883d1ab09d95c884c73e7281005a2ada0652\n'}]",0,705809,5ea183cfc252fb5341abd084aa8db9bd2f5fb0dc,7,3,1,11628,,,0,"Bump diskimage-builder to 2.30.0 in UC

Diskimage-builder (DIB) is a branch-less project. Unfortunately pip
made a change that required a modification to DIB[1]. This patch was
first released in DIB 2.30.0.
To fix image building on the OpenStack stable branches, we need to
bump diskimage-builder to 2.30.0 in the upper-constraints.txt of
the stable OpenStack releases.

[1] https://review.opendev.org/#/c/695823/

Change-Id: Iaed3883d1ab09d95c884c73e7281005a2ada0652
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/705809/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5ea183cfc252fb5341abd084aa8db9bd2f5fb0dc,,diskimage-builder===2.30.0,diskimage-builder===2.20.3,1,1
