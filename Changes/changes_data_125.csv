id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-ceph-mon~master~Ie38bb4bc952d8df31ce7be8e12a4ea9fee7b56db,openstack/charm-ceph-mon,master,Ie38bb4bc952d8df31ce7be8e12a4ea9fee7b56db,Move the charm into a virtualenv,ABANDONED,2019-03-13 12:05:04.000000000,2021-12-17 12:05:00.000000000,,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-03-13 12:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/866243c68ba25f8cefe0dec69fcfeb853e930412', 'message': 'Move the charm into a virtualenv\n\nWith reactive charms, we get a virtualenv for the charm for\nfree, including pulling in various libraries. With classic\ncharms, this has traditionally been a problem, and has lead\nto solutions like `make sync` to keep charmhelpers, in-tree,\nup to date.\n\nIf we setup and manage a virtualenv, we can reasonably easily\nrun the charm inside this virtualenv and remove the need to\ncargo-cult in charmhelpers (and other libraries).\n\nChange-Id: Ie38bb4bc952d8df31ce7be8e12a4ea9fee7b56db\n'}, {'number': 2, 'created': '2019-03-13 12:49:37.000000000', 'files': ['actions/get_health.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/10.hardcore.conf', 'hooks/charmhelpers/contrib/hardening/mysql/__init__.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/hardening/defaults/mysql.yaml', 'hooks/charmhelpers/core/host_factory/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'actions/create_pool.py', 'hooks/charmhelpers/cli/commands.py', 'hooks/charmhelpers/contrib/storage/__init__.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'actions/remove_cache_tier.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/fetch/bzrurl.py', 'hooks/charmhelpers/contrib/openstack/ha/__init__.py', 'actions/get_erasure_profile.py', 'hooks/charmhelpers/fetch/python/rpdb.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/sshd_config', 'hooks/upgrade-charm', 'hooks/charmhelpers/contrib/hardening/host/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/passwdqc.conf', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/tally2', 'hooks/charmhelpers/payload/execd.py', 'actions/pool_statistics.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'hooks/charmhelpers/contrib/hardening/defaults/ssh.yaml', 'hooks/charmhelpers/core/decorators.py', 'actions/pool_get.py', 'hooks/charmhelpers/contrib/hardening/mysql/templates/hardening.cnf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'hooks/charmhelpers/contrib/__init__.py', 'actions/pool_set.py', 'actions/set_noout.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'actions/delete_pool.py', 'hooks/charmhelpers/cli/host.py', 'hooks/charmhelpers/cli/benchmark.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-juju-hardening.conf', 'actions/unset_noout.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/__init__.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/host/templates/securetty', 'hooks/charmhelpers/cli/hookenv.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/core/services/__init__.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/suid_sgid.py', 'hooks/charmhelpers/contrib/openstack/ip.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/charmsupport/__init__.py', 'hooks/charmhelpers/fetch/python/version.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'hooks/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/__init__.py', 'hooks/charmhelpers/core/kernel.py', 'hooks/charmhelpers/contrib/hardening/host/templates/pinerolo_profile.sh', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/core/hugepage.py', 'hooks/charmhelpers/contrib/storage/linux/__init__.py', 'hooks/charmhelpers/core/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'actions/list_erasure_profiles.py', 'hooks/charmhelpers/contrib/openstack/files/__init__.py', 'actions/snapshot_pool.py', 'hooks/charmhelpers/fetch/python/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'actions/delete_erasure_profile.py', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/fetch/giturl.py', 'hooks/ceph_hooks.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/charmsupport/volumes.py', 'hooks/charmhelpers/core/files.py', 'hooks/charmhelpers/contrib/hardening/host/checks/apt.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'hooks/charmhelpers/contrib/hardening/defaults/ssh.yaml.schema', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/network/__init__.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'actions/copy_pool.py', 'actions/show_disk_free.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/alias.conf', 'hooks/charmhelpers/contrib/hardening/host/__init__.py', 'hooks/charmhelpers/core/services/helpers.py', 'hooks/charmhelpers/payload/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/hardening/host/checks/minimize_access.py', 'hooks/charmhelpers/cli/unitdata.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/securetty.py', 'hooks/charmhelpers/core/kernel_factory/__init__.py', 'actions/rename_pool.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'hooks/install_deps', 'hooks/charmhelpers/contrib/hardening/defaults/__init__.py', 'hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hardening/host/checks/limits.py', 'actions/crushmap_update.py', 'hooks/charmhelpers/core/fstab.py', 'hooks/charmhelpers/contrib/hardening/host/templates/login.defs', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'hooks/charmhelpers/fetch/python/packages.py', 'actions/list_pools.py', 'hooks/charmhelpers/contrib/hardening/__init__.py', 'hooks/charmhelpers/contrib/openstack/amulet/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/__init__.py', 'actions/create_crush_rule.py', 'actions/create_cache_tier.py', 'hooks/charmhelpers/contrib/hardening/apache/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/ssh_config', 'hooks/charmhelpers/core/templating.py', 'hooks/charmhelpers/contrib/openstack/alternatives.py', 'hooks/install', 'hooks/charmhelpers/contrib/openstack/templates/__init__.py', 'actions/remove_pool_snapshot.py', 'hooks/charmhelpers/contrib/hardening/defaults/mysql.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/pam.py', 'hooks/charmhelpers/contrib/openstack/__init__.py', 'actions/create_erasure_profile.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/modules', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hardening/README.hardening.md', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'actions/set_pool_max_bytes.py', 'hooks/charmhelpers/core/kernel_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/host/checks/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ee0228a67d0f917e51278d373a289aa2d3456168', 'message': 'Move the charm into a virtualenv\n\nWith reactive charms, we get a virtualenv for the charm for\nfree, including pulling in various libraries. With classic\ncharms, this has traditionally been a problem, and has lead\nto solutions like `make sync` to keep charmhelpers, in-tree,\nup to date.\n\nIf we setup and manage a virtualenv, we can reasonably easily\nrun the charm inside this virtualenv and remove the need to\ncargo-cult in charmhelpers (and other libraries).\n\nChange-Id: Ie38bb4bc952d8df31ce7be8e12a4ea9fee7b56db\n'}]",3,643028,ee0228a67d0f917e51278d373a289aa2d3456168,12,5,2,20634,,,0,"Move the charm into a virtualenv

With reactive charms, we get a virtualenv for the charm for
free, including pulling in various libraries. With classic
charms, this has traditionally been a problem, and has lead
to solutions like `make sync` to keep charmhelpers, in-tree,
up to date.

If we setup and manage a virtualenv, we can reasonably easily
run the charm inside this virtualenv and remove the need to
cargo-cult in charmhelpers (and other libraries).

Change-Id: Ie38bb4bc952d8df31ce7be8e12a4ea9fee7b56db
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/28/643028/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/10.hardcore.conf', 'hooks/charmhelpers/contrib/hardening/mysql/__init__.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/hardening/defaults/mysql.yaml', 'hooks/charmhelpers/core/host_factory/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/cli/commands.py', 'hooks/charmhelpers/contrib/storage/__init__.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/fetch/bzrurl.py', 'hooks/charmhelpers/contrib/openstack/ha/__init__.py', 'hooks/charmhelpers/fetch/python/rpdb.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/sshd_config', 'hooks/upgrade-charm', 'hooks/charmhelpers/contrib/hardening/host/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/passwdqc.conf', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/tally2', 'hooks/charmhelpers/payload/execd.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'hooks/charmhelpers/contrib/hardening/defaults/ssh.yaml', 'hooks/charmhelpers/core/decorators.py', 'hooks/charmhelpers/contrib/hardening/mysql/templates/hardening.cnf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/__init__.py', 'hooks/charmhelpers/contrib/__init__.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/cli/host.py', 'hooks/charmhelpers/cli/benchmark.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-juju-hardening.conf', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/__init__.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/host/templates/securetty', 'hooks/charmhelpers/cli/hookenv.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/core/services/__init__.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/suid_sgid.py', 'hooks/charmhelpers/contrib/openstack/ip.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/charmsupport/__init__.py', 'hooks/charmhelpers/fetch/python/version.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/hardening/mysql/templates/__init__.py', 'hooks/charmhelpers/core/sysctl.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/__init__.py', 'hooks/charmhelpers/core/kernel.py', 'hooks/charmhelpers/contrib/hardening/host/templates/pinerolo_profile.sh', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/core/hugepage.py', 'hooks/charmhelpers/contrib/storage/linux/__init__.py', 'hooks/charmhelpers/core/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/files/__init__.py', 'hooks/charmhelpers/fetch/python/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/fetch/giturl.py', 'hooks/ceph_hooks.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/charmsupport/volumes.py', 'hooks/charmhelpers/core/files.py', 'hooks/charmhelpers/contrib/hardening/host/checks/apt.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'hooks/charmhelpers/contrib/hardening/defaults/ssh.yaml.schema', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/network/__init__.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/alias.conf', 'hooks/charmhelpers/contrib/hardening/host/__init__.py', 'hooks/charmhelpers/core/services/helpers.py', 'hooks/charmhelpers/payload/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/hardening/host/checks/minimize_access.py', 'hooks/charmhelpers/cli/unitdata.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/securetty.py', 'hooks/charmhelpers/core/kernel_factory/__init__.py', 'hooks/charmhelpers/core/kernel_factory/ubuntu.py', 'hooks/install_deps', 'hooks/charmhelpers/contrib/hardening/defaults/__init__.py', 'hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hardening/host/checks/limits.py', 'hooks/charmhelpers/core/fstab.py', 'hooks/charmhelpers/contrib/hardening/host/templates/login.defs', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/hardening/__init__.py', 'hooks/charmhelpers/contrib/openstack/amulet/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/hardening/ssh/templates/ssh_config', 'hooks/charmhelpers/core/templating.py', 'hooks/charmhelpers/contrib/openstack/alternatives.py', 'hooks/install', 'hooks/charmhelpers/contrib/openstack/templates/__init__.py', 'hooks/charmhelpers/contrib/hardening/defaults/mysql.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/pam.py', 'hooks/charmhelpers/contrib/openstack/__init__.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/__init__.py', 'hooks/charmhelpers/contrib/hardening/host/templates/modules', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/hardening/README.hardening.md', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/core/kernel_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/host/checks/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",138,866243c68ba25f8cefe0dec69fcfeb853e930412,virtualenv,,"# Copyright 2016 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import os import re import six import subprocess from charmhelpers.core.hookenv import ( log, INFO, ) from charmhelpers.contrib.hardening.audits.file import ( FilePermissionAudit, DirectoryPermissionAudit, NoReadWriteForOther, TemplatedFile, DeletedFile ) from charmhelpers.contrib.hardening.audits.apache import DisabledModuleAudit from charmhelpers.contrib.hardening.apache import TEMPLATES_DIR from charmhelpers.contrib.hardening import utils def get_audits(): """"""Get Apache hardening config audits. :returns: dictionary of audits """""" if subprocess.call(['which', 'apache2'], stdout=subprocess.PIPE) != 0: log(""Apache server does not appear to be installed on this node - "" ""skipping apache hardening"", level=INFO) return [] context = ApacheConfContext() settings = utils.get_settings('apache') audits = [ FilePermissionAudit(paths=os.path.join( settings['common']['apache_dir'], 'apache2.conf'), user='root', group='root', mode=0o0640), TemplatedFile(os.path.join(settings['common']['apache_dir'], 'mods-available/alias.conf'), context, TEMPLATES_DIR, mode=0o0640, user='root', service_actions=[{'service': 'apache2', 'actions': ['restart']}]), TemplatedFile(os.path.join(settings['common']['apache_dir'], 'conf-enabled/99-hardening.conf'), context, TEMPLATES_DIR, mode=0o0640, user='root', service_actions=[{'service': 'apache2', 'actions': ['restart']}]), DirectoryPermissionAudit(settings['common']['apache_dir'], user='root', group='root', mode=0o0750), DisabledModuleAudit(settings['hardening']['modules_to_disable']), NoReadWriteForOther(settings['common']['apache_dir']), DeletedFile(['/var/www/html/index.html']) ] return audits class ApacheConfContext(object): """"""Defines the set of key/value pairs to set in a apache config file. This context, when called, will return a dictionary containing the key/value pairs of setting to specify in the /etc/apache/conf-enabled/hardening.conf file. """""" def __call__(self): settings = utils.get_settings('apache') ctxt = settings['hardening'] out = subprocess.check_output(['apache2', '-v']) if six.PY3: out = out.decode('utf-8') ctxt['apache_version'] = re.search(r'.+version: Apache/(.+?)\s.+', out).group(1) ctxt['apache_icondir'] = '/usr/share/apache2/icons/' return ctxt ",28,22135
openstack%2Fcharm-ceph-osd~master~I1c6afa3699544de43d7500811e82c003d61fa5b5,openstack/charm-ceph-osd,master,I1c6afa3699544de43d7500811e82c003d61fa5b5,Fixed upgrades.,ABANDONED,2019-02-15 21:24:19.000000000,2021-12-17 12:02:46.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-15 21:24:19.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/fee762233ee71b908247800ac882fc71ceaa8c21', 'message': 'Fixed upgrades.\n\nWhen we\'re upgrading ceph-osd, we always want to write out apparmor\nprofiles, just in case they\'ve changed.\n\nAdded ""upgrade"" option to install_apparmor_profile so that we always\ndo it during an upgrade.\n\nChange-Id: I1c6afa3699544de43d7500811e82c003d61fa5b5\n'}]",1,637308,fee762233ee71b908247800ac882fc71ceaa8c21,5,3,1,26040,,,0,"Fixed upgrades.

When we're upgrading ceph-osd, we always want to write out apparmor
profiles, just in case they've changed.

Added ""upgrade"" option to install_apparmor_profile so that we always
do it during an upgrade.

Change-Id: I1c6afa3699544de43d7500811e82c003d61fa5b5
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/08/637308/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,fee762233ee71b908247800ac882fc71ceaa8c21,bug/1783373," @patch.object(ceph_hooks, '_is_new_aa_profile') @patch.object(ceph_hooks, 'ceph') @patch.object(ceph_hooks, 'service_restart') @patch.object(ceph_hooks, 'service_reload') @patch.object(ceph_hooks, 'copy_profile_into_place') @patch.object(ceph_hooks, 'CephOsdAppArmorContext') @patch.object(ceph_hooks, 'config') def test_install_apparmor_profile_upgrade_charm( self, mock_config, mock_apparmor_context, mock_copy_profile_into_place, mock_service_reload, mock_service_restart, mock_ceph, mock_is_new_aa): '''Apparmor profile always reloaded when we inform it that we are upgrading. ''' m_config = MagicMock() m_config.changed.return_value = True mock_config.return_value = m_config m_aa_context = MagicMock() mock_apparmor_context.return_value = m_aa_context mock_ceph.systemd.return_value = True mock_ceph.get_local_osd_ids.return_value = [0, 1, 2] ceph_hooks.install_apparmor_profile(upgrade=True) m_aa_context.setup_aa_profile.assert_called() mock_copy_profile_into_place.assert_called() mock_is_new_aa.assert_not_called() m_config.changed.assert_not_called() mock_service_reload.assert_called_with('apparmor') mock_service_restart.assert_has_calls([ call('ceph-osd@0'), call('ceph-osd@1'), call('ceph-osd@2'), ]) ",,47,4
openstack%2Fcharm-nova-cloud-controller~master~I17b64cab01fb7abe97309f5dbdf0295d72369226,openstack/charm-nova-cloud-controller,master,I17b64cab01fb7abe97309f5dbdf0295d72369226,Drop default cpu-allocation-ratio to 2:1.,MERGED,2021-11-25 18:18:57.000000000,2021-12-17 11:39:54.000000000,2021-12-17 11:39:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 18:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/cdc29d0f7fa35fd74d6de49844ef8c3a8d858c89', 'message': 'Drop default cpu-allocation-ratio to 2:1.\n\nThe old default of 16:1 was, IMO, really only suitable for test\nclouds (or niche use cases where a high over subscription makes sense\nwith a production workload).  Our defaults should make sense for\nproduction and this change reflects that.\n\nChange-Id: I17b64cab01fb7abe97309f5dbdf0295d72369226\n'}, {'number': 2, 'created': '2021-11-25 18:37:36.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/379d54f5778092e586711f8306c60837b2b06fa0', 'message': 'Drop default cpu-allocation-ratio to 2:1.\n\nThe old default of 16:1 was, IMO, really only suitable for test\nclouds (or niche use cases where a high over subscription makes sense\nwith a production workload).  Our defaults should make sense for\nproduction and this change reflects that.\n\nCloses-Bug: 1942921\nChange-Id: I17b64cab01fb7abe97309f5dbdf0295d72369226\n'}]",1,819361,379d54f5778092e586711f8306c60837b2b06fa0,11,3,2,30028,,,0,"Drop default cpu-allocation-ratio to 2:1.

The old default of 16:1 was, IMO, really only suitable for test
clouds (or niche use cases where a high over subscription makes sense
with a production workload).  Our defaults should make sense for
production and this change reflects that.

Closes-Bug: 1942921
Change-Id: I17b64cab01fb7abe97309f5dbdf0295d72369226
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/61/819361/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,cdc29d0f7fa35fd74d6de49844ef8c3a8d858c89,sanity, default: 2.0, default: 16.0,1,1
openstack%2Fcharm-nova-compute~master~Id0aaba514b06fe3dfa79e9e1d263b1dbde20f494,openstack/charm-nova-compute,master,Id0aaba514b06fe3dfa79e9e1d263b1dbde20f494,Add numactl to nova_compute_utils.py base packages,MERGED,2021-08-10 12:23:32.000000000,2021-12-17 11:34:32.000000000,2021-12-17 11:34:32.000000000,"[{'_account_id': 935}, {'_account_id': 9247}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 12:23:32.000000000', 'files': ['hooks/nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1d5c980616b67820841b361283600dd10e263cc3', 'message': 'Add numactl to nova_compute_utils.py base packages\n\nThis tool is useful for numa usage reporting.\n\nChange-Id: Id0aaba514b06fe3dfa79e9e1d263b1dbde20f494\n'}]",0,804075,1d5c980616b67820841b361283600dd10e263cc3,10,4,1,33195,,,0,"Add numactl to nova_compute_utils.py base packages

This tool is useful for numa usage reporting.

Change-Id: Id0aaba514b06fe3dfa79e9e1d263b1dbde20f494
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/75/804075/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_compute_utils.py'],1,1d5c980616b67820841b361283600dd10e263cc3,add-numactl-package," 'numactl',",,1,0
openstack%2Fcharm-nova-compute~master~Ia7c97d66d5d03887d5ec076222d0e572b6d5869d,openstack/charm-nova-compute,master,Ia7c97d66d5d03887d5ec076222d0e572b6d5869d,Clarify header of templates/train/nova.conf,MERGED,2021-08-20 12:19:53.000000000,2021-12-17 11:32:02.000000000,2021-12-17 11:32:02.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 12:19:53.000000000', 'files': ['templates/train/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/973a85d5392ff923adde82266571ca45c8d76761', 'message': ""Clarify header of templates/train/nova.conf\n\ntemplates/train/nova.conf is also used for subsequent versions and the\n'train' at the top of the file is very confusing for operators who are\nrunning, e.g. Ussuri.\n\nChange-Id: Ia7c97d66d5d03887d5ec076222d0e572b6d5869d\n""}]",0,805368,973a85d5392ff923adde82266571ca45c8d76761,9,3,1,30028,,,0,"Clarify header of templates/train/nova.conf

templates/train/nova.conf is also used for subsequent versions and the
'train' at the top of the file is very confusing for operators who are
running, e.g. Ussuri.

Change-Id: Ia7c97d66d5d03887d5ec076222d0e572b6d5869d
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/68/805368/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/train/nova.conf'],1,973a85d5392ff923adde82266571ca45c8d76761,clarify-nova-version,# train or later,# train,1,1
openstack%2Fcharm-hacluster~master~I094ab81a2fe90b2fc8ff06f24b7d18cd85c77ea3,openstack/charm-hacluster,master,I094ab81a2fe90b2fc8ff06f24b7d18cd85c77ea3,[WIP] Delete diff resources and reconfigure groups,NEW,2021-11-23 17:19:36.000000000,2021-12-17 11:31:20.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 17:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/f263cad76a3b3632fa70d7e2f3df78c0528c6e4d', 'message': '[WIP] Delete diff resources and reconfigure groups\n\nUpon receiving new relation-set data the charm should\napply what is set in the relation as the source of\ntruth. To accomplish that, the charm needs to diff\nout the existing resources configured to remove old\ndata that had been previously configured.\n\nAdditionally, new or removed VIPs need to be\nadded/remove from existing groups.\n\nCloses-bug: #1513889\nChange-Id: I094ab81a2fe90b2fc8ff06f24b7d18cd85c77ea3\n'}, {'number': 2, 'created': '2021-11-23 17:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a62e592a13c7f6bcdd17bc0c5bba0d2cc889ce9e', 'message': '[WIP] Delete diff resources and reconfigure groups\n\nUpon receiving new relation-set data the charm should\napply what is set in the relation as the source of\ntruth. To accomplish that, the charm needs to diff\nout the existing resources configured to remove old\ndata that had been previously configured.\n\nAdditionally, new or removed VIPs need to be\nadded/remove from existing groups.\n\n- pending improved unit tests\n- pending upgrade test\n\nCloses-bug: #1513889\nChange-Id: I094ab81a2fe90b2fc8ff06f24b7d18cd85c77ea3\n'}, {'number': 3, 'created': '2021-11-24 12:39:20.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_pcmk.py', 'hooks/pcmk.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/758f2f934431b24ce929c3ad41cd252b257ca7c1', 'message': '[WIP] Delete diff resources and reconfigure groups\n\nUpon receiving new relation-set data the charm should\napply what is set in the relation as the source of\ntruth. To accomplish that, the charm needs to diff\nout the existing resources configured to remove old\ndata that had been previously configured.\n\nAdditionally, new or removed VIPs need to be\nadded/remove from existing groups.\n\n- pending improved unit tests\n- pending upgrade test\n\nCloses-bug: #1513889\nChange-Id: I094ab81a2fe90b2fc8ff06f24b7d18cd85c77ea3\n'}]",3,818996,758f2f934431b24ce929c3ad41cd252b257ca7c1,8,3,3,14567,,,0,"[WIP] Delete diff resources and reconfigure groups

Upon receiving new relation-set data the charm should
apply what is set in the relation as the source of
truth. To accomplish that, the charm needs to diff
out the existing resources configured to remove old
data that had been previously configured.

Additionally, new or removed VIPs need to be
added/remove from existing groups.

- pending improved unit tests
- pending upgrade test

Closes-bug: #1513889
Change-Id: I094ab81a2fe90b2fc8ff06f24b7d18cd85c77ea3
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/96/818996/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_pcmk.py', 'hooks/pcmk.py', 'unit_tests/test_hacluster_hooks.py']",4,f263cad76a3b3632fa70d7e2f3df78c0528c6e4d,bug/1513889," @mock.patch('pcmk.cluster_status') @mock.patch.object(pcmk.unitdata, 'kv') @mock.patch.object(hooks, 'remote_unit') @mock.patch.object(hooks, 'relation_type') @mock.patch.object(hooks, 'trigger_corosync_update_from_leader') @mock.patch.object(hooks, 'is_stonith_configured') @mock.patch.object(hooks, 'configure_peer_stonith_resource') @mock.patch.object(hooks, 'get_member_ready_nodes') @mock.patch.object(hooks, 'configure_resources_on_remotes') @mock.patch.object(hooks, 'configure_pacemaker_remote_stonith_resource') @mock.patch.object(hooks, 'configure_pacemaker_remote_resources') @mock.patch.object(hooks, 'set_cluster_symmetry') @mock.patch.object(hooks, 'write_maas_dns_address') @mock.patch('pcmk.wait_for_pcmk') @mock.patch('pcmk.crm_opt_exists') @mock.patch.object(hooks, 'is_leader') @mock.patch.object(hooks, 'configure_corosync') @mock.patch.object(hooks, 'configure_cluster_global') @mock.patch.object(hooks, 'configure_monitor_host') @mock.patch.object(hooks, 'configure_stonith') @mock.patch.object(hooks, 'related_units') @mock.patch.object(hooks, 'get_cluster_nodes') @mock.patch.object(hooks, 'relation_set') @mock.patch.object(hooks, 'relation_ids') @mock.patch.object(hooks, 'get_corosync_conf') @mock.patch('pcmk.commit') @mock.patch.object(hooks, 'config') @mock.patch.object(hooks, 'parse_data') def test_ha_relation_changed_cluster_status_delete( self, parse_data, config, commit, get_corosync_conf, relation_ids, relation_set, get_cluster_nodes, related_units, configure_stonith, configure_monitor_host, configure_cluster_global, configure_corosync, is_leader, crm_opt_exists, wait_for_pcmk, write_maas_dns_address, set_cluster_symmetry, configure_pacemaker_remote_resources, configure_pacemaker_remote_stonith_resource, configure_resources_on_remotes, get_member_ready_nodes, configure_peer_stonith_resource, is_stonith_configured, trigger_corosync_update_from_leader, relation_type, remote_unit, mock_kv, mock_cluster_status): def fake_crm_opt_exists(res_name): # res_ubuntu will take the ""update resource"" route # res_nova_eth0_vip, res_foo2 and res_foo3 will take # the delete resource route return res_name in [""res_ubuntu"", ""res_nova_eth0_vip"", ""res_foo2"", ""res_foo3""] rel_get_data = {'locations': {'loc_foo': 'bar rule inf: meh eq 1'}, 'clones': {'cl_foo': 'res_foo meta interleave=true'}, 'groups': {'grp_foo': 'res_foo'}, 'colocations': {'co_foo': 'inf: grp_foo cl_foo'}, 'resources': {'res_foo': 'ocf:heartbeat:IPaddr2', 'res_bar': 'ocf:heartbear:IPv6addr', 'res_ubuntu': 'IPaddr2'}, 'resource_params': {'res_foo': 'params bar', 'res_ubuntu': 'params ubuntu=42'}, 'ms': {'ms_foo': 'res_foo meta notify=true'}, 'orders': {'foo_after': 'inf: res_foo ms_foo'}, 'delete_resources': ['res_nova_eth0_vip']} mock_cluster_status.return_value = { 'resources': { 'groups': { 'grp_foo': [{ 'id': 'res_foo', }, { 'id': 'res_foo2', }, ]}, 'clones': { 'cl_foo': { 'id': 'cl_foo', 'resources': [{ 'id': 'res_foo', }] } }, 'ungrouped': { 'res_foo3': { 'id': 'res_foo3', } } } } db = test_utils.FakeKvStore() mock_kv.return_value = db crm_opt_exists.side_effect = fake_crm_opt_exists commit.return_value = 0 is_stonith_configured.return_value = False is_leader.return_value = True related_units.return_value = ['ha/0', 'ha/1', 'ha/2'] get_cluster_nodes.return_value = ['10.0.3.2', '10.0.3.3', '10.0.3.4'] get_member_ready_nodes.return_value = ['10.0.3.2', '10.0.3.3', '10.0.3.4'] relation_ids.return_value = ['hanode:1'] get_corosync_conf.return_value = True cfg = {'debug': False, 'prefer-ipv6': False, 'corosync_transport': 'udpu', 'corosync_mcastaddr': 'corosync_mcastaddr', 'cluster_count': 3, 'failure_timeout': 180, 'cluster_recheck_interval': 60} trigger_corosync_update_from_leader.return_value = False relation_type.return_value = ""hanode"" remote_unit.return_value = ""hacluster/0"" config.side_effect = lambda key: cfg.get(key) def fake_parse_data(relid, unit, key): return rel_get_data.get(key, {}) parse_data.side_effect = fake_parse_data with mock.patch.object(tempfile, ""NamedTemporaryFile"", side_effect=lambda: self.tmpfile): hooks.ha_relation_changed() relation_set.assert_any_call(relation_id='hanode:1', ready=True) configure_stonith.assert_called_with() configure_monitor_host.assert_called_with() configure_cluster_global.assert_called_with(180, 60) configure_corosync.assert_called_with() set_cluster_symmetry.assert_called_with() configure_pacemaker_remote_resources.assert_called_with() write_maas_dns_address.assert_not_called() # verify deletion of resources. crm_opt_exists.assert_any_call('res_nova_eth0_vip') crm_opt_exists.assert_any_call('res_foo2') crm_opt_exists.assert_any_call('res_foo3') commit.assert_any_call('crm resource cleanup res_nova_eth0_vip') commit.assert_any_call('crm -w -F resource stop res_nova_eth0_vip') commit.assert_any_call('crm -w -F configure delete res_nova_eth0_vip') commit.assert_any_call('crm -w -F configure delete res_foo2') commit.assert_any_call('crm -w -F configure delete res_foo3') for kw, key in [('location', 'locations'), ('clone', 'clones'), ('group', 'groups'), ('colocation', 'colocations'), ('primitive', 'resources'), ('ms', 'ms'), ('order', 'orders')]: for name, params in rel_get_data[key].items(): if name == ""res_ubuntu"": commit.assert_any_call( 'crm configure load update %s' % self.tmpfile.name) elif name in rel_get_data['resource_params']: res_params = rel_get_data['resource_params'][name] commit.assert_any_call( 'crm -w -F configure %s %s %s %s' % (kw, name, params, res_params)) else: commit.assert_any_call( 'crm -w -F configure %s %s %s' % (kw, name, params)) ",,224,9
openstack%2Fcharm-specs~master~Ie5694538fc1b81e7e7b80db6bb76f003c1e90b6a,openstack/charm-specs,master,Ie5694538fc1b81e7e7b80db6bb76f003c1e90b6a,Add ironic charms specification,MERGED,2020-09-14 10:04:20.000000000,2021-12-17 11:29:32.000000000,2021-12-17 11:27:53.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-14 10:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/80ec2d6a7881ea2bf3caeb13a642fea7c0621b9d', 'message': 'Add ironic charms specification\n\nChange-Id: Ie5694538fc1b81e7e7b80db6bb76f003c1e90b6a\n'}, {'number': 2, 'created': '2020-09-15 08:23:11.000000000', 'files': ['specs/victoria/approved/charm-ironic.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/a46be77560f9663f700069cf310dc474abb7e361', 'message': 'Add ironic charms specification\n\nChange-Id: Ie5694538fc1b81e7e7b80db6bb76f003c1e90b6a\n'}]",0,751717,a46be77560f9663f700069cf310dc474abb7e361,9,2,2,9426,,,0,"Add ironic charms specification

Change-Id: Ie5694538fc1b81e7e7b80db6bb76f003c1e90b6a
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/17/751717/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/charm-ironic.rst'],1,80ec2d6a7881ea2bf3caeb13a642fea7c0621b9d,ironic-charm,".. Copyright 2020, Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ====== Ironic ====== Ironic is the OpenStack bare metal provisioning project, which aims to provision bare metal servers instead of virtual machines. It integrates well with existing OpenStack deployments and can function along side existing Nova deployments, enabling both virtual and physical deployments in the same tenancy. Problem Description =================== There is currently no charm that lets you easily deploy Ironic as part of Charmed OpenStack. Proposed Change =============== Implement a set of reactive charms that enables the deployment of all required Ironic components. Changes will also be made to existing charms to integrate with the new Ironic charms. Baseline supported OpenStack version will be Train. Alternatives ------------ None Implementation ============== The implementation consists of the following new charms: - ironic-api - Provides the Ironic API. OpenStack administrators and nova-compute will call into this API to add, provision, clean and rescue bare metal nodes. - Requires relations to AMQP, database and keystone - ironic-conductor - Manages the lifecycle of bare metal nodes. Implements the various power drivers for the bare metal nodes. - Provides TFTP server for legacy PXE deployments. - Provides a HTTP server for iPXE deployments. - Can deploy bare metal nodes using iSCSI deploy (requires conductor to be deployed on bare metal) or local deploy (requires Glance with Swift storage backend, and temporary URL support). - Requires relations to AMQP, database and keystone. - neutron-api-plugin-ironic - Enables tight integration between Ironic and Neutron. - Enables the bare metal mechanism driver in neutron-server. - Starts a neutron ironic agent. - This will be a subordinate charm, attached to the neutron-api charm, which will enable the above mentioned features. The implementation also requires changes to the following charms: - ceph-radosgw - The ``object-store`` interface needs to be added to ``ceph-radosgw`` in order to allow ``glance`` to consume object storage as a backend for images. - glance - Multi backend support needs to be added to glance. Ironic requires access to OS images, stored inside an object storage system that allows the creation of `temporary URLs <https://docs.openstack.org/swift/latest/api/ temporary_url_middleware.html>`_ - Creating a relation to ``ceph-radosgw`` or ``swift`` will enable ``glance`` to store images in object storage. Local storage will also be enabled. - Order of preference for default backend to store images will be: - RBD - Object storage - Local - If a relation to RBD exists, this will be set as a default. If a relation to ``object-store`` exists, but not ``RBD``, then swift will be used. If no relation exists to either ``RBD`` or ``object-store``, local storage will be used. - Operators will still be able to explicitly upload to one of the enabled storage backends by passing the ``--store`` flag when creating an image. - nova-compute - When not deploying Ironic as a stand-alone service, Nova acts as a front-end, and scheduler. A key piece of this enablement is the ``ironic virt driver``, which is acts as a client that calls into ``ironic-api`` when an operator requests a new bare metal instance. - ``nova-compute`` charm will be extended to allow setting the ``ironic`` virt type. This will enable the proper virt driver in ``nova-compute.conf`` and add any needed config sections to nova. - A relation to ``ironic-api`` will be mandatory when the ironic virt driver will be in use. This will block the ``nova-compute`` charm, until the ``ironic-api`` will be ready. The nova-compute service will otherwise fail, and will need manual intervention to restart it once ``ironic-api`` is available. - keystone - The ``ironic`` service needs to be added to ``valid_services`` in ``keystone_utils``. - This will allow the ``ironic-api`` charm to register the proper endpoints for the service. Assignee(s) ----------- Primary assignee: gabriel-samfira Gerrit Topic ------------ Use Gerrit topic ""ironic-charm"" for all patches related to this spec. .. code-block:: bash git-review -t ironic-charm Work Items ---------- In addition to the items in the Implementation_ section, an ``ironic-api`` interface will also be created. Repositories ------------ - charm-ironic-api - charm-ironic-conductor - charm-neutron-api-plugin-ironic - charm-interface-ironic-api Documentation ------------- Each charm will contain a README with instructions on deploying the charm. In addition, an appendix will be added to the deployment guide which will outline various deployment scenarios, hardware and networking requirements and config options. Security -------- - ``ironic-api`` - Requires keystone, database and rabbitmq credentials which will be stored in ``ironic.conf`` - IPMI/BMC credentials for each bare metal node will be stored in the database. - The API endpoints for Ironic will optionally be accessible via TLS, either by creating a relation to Vault / easy-rsa, or by manually supplying the TLS key/cert via config - ``ironic-conductor`` - Requires keystone, database and rabbitmq credentials which will be stored in ``ironic.conf`` Testing ------- Code written or changed will be covered by unit tests; functional testing will be implemented using the ``Zaza`` framework Dependencies ============ - A new nova-compute-ironic package will need to be added. Alternatively a different virtual driver package can be used, and the appropriate config can be create from a template. - The nova-compute-ironic will provide an appropriate ``nova-compute.conf`` with the ironic virtual driver enabled. The package will need to have python3-ironicclient as a dependency, in addition to the dependencies that come from python3-nova. - The networking-baremetal packages will need to be made available for all supported OpenStack versions starting with OpenStack Train, in their appropriate cloud archives, or PPAs. - Power drivers in Ironic, require dependencies to be satisfied. Power driver dependencies are listed in `driver-requirements.txt <https://github.com/ope nstack/ironic/blob/master/driver-requirements.txt>`_ - Library versions for power drivers must be made available either in the cloud archive for the OpenStack version that is being installed, or in a separate PPA.",,233,0
openstack%2Fcharm-nova-cell-controller~master~Ia47f7ffb165ab0907751ebfde3788a05cb26b162,openstack/charm-nova-cell-controller,master,Ia47f7ffb165ab0907751ebfde3788a05cb26b162,Use unittest.mock instead of mock,ABANDONED,2021-01-03 02:08:59.000000000,2021-12-17 11:23:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 02:08:59.000000000', 'files': ['unit_tests/test_nova_cell_controller_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/bde0d7d2d51fb66cebc967ef6c69cf96eb7b5a75', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ia47f7ffb165ab0907751ebfde3788a05cb26b162\n'}]",0,768904,bde0d7d2d51fb66cebc967ef6c69cf96eb7b5a75,5,3,1,31825,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ia47f7ffb165ab0907751ebfde3788a05cb26b162
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/04/768904/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_nova_cell_controller_handlers.py'],1,bde0d7d2d51fb66cebc967ef6c69cf96eb7b5a75,,from unittest import mock,import mock,1,1
openstack%2Fcharm-manila~master~Ic4abbada82b8f817e63978efe6808ccc6d64f7f7,openstack/charm-manila,master,Ic4abbada82b8f817e63978efe6808ccc6d64f7f7,Use unittest.mock instead of mock,ABANDONED,2021-01-04 00:35:57.000000000,2021-12-17 11:22:50.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 00:35:57.000000000', 'files': ['unit_tests/test_manila_handlers.py', 'unit_tests/test_lib_charm_openstack_manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/9eed20a935883548ef5f156e9f2b2ac9268b89b3', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ic4abbada82b8f817e63978efe6808ccc6d64f7f7\n'}]",0,769072,9eed20a935883548ef5f156e9f2b2ac9268b89b3,4,2,1,32326,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ic4abbada82b8f817e63978efe6808ccc6d64f7f7
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/72/769072/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_manila_handlers.py', 'unit_tests/test_lib_charm_openstack_manila.py']",2,9eed20a935883548ef5f156e9f2b2ac9268b89b3,,from unittest import mock,import mock,2,2
openstack%2Fcharm-watcher~master~Ie035ff7b1ddb901859e4b4cb88ebd4b58a8326f3,openstack/charm-watcher,master,Ie035ff7b1ddb901859e4b4cb88ebd4b58a8326f3,Use unittest.mock instead of mock,ABANDONED,2021-01-04 02:27:00.000000000,2021-12-17 11:22:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 02:27:00.000000000', 'files': ['unit_tests/test_watcher_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/aa2421ff524dfceeb6af66f117d1ff2701224c15', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie035ff7b1ddb901859e4b4cb88ebd4b58a8326f3\n'}]",0,769076,aa2421ff524dfceeb6af66f117d1ff2701224c15,4,2,1,31825,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ie035ff7b1ddb901859e4b4cb88ebd4b58a8326f3
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/76/769076/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_watcher_handlers.py'],1,aa2421ff524dfceeb6af66f117d1ff2701224c15,,from unittest import mock,import mock,1,1
openstack%2Fcharm-masakari-monitors~master~I86a18d38e0a02c81ccc1284194bfc5c175c5da85,openstack/charm-masakari-monitors,master,I86a18d38e0a02c81ccc1284194bfc5c175c5da85,Use unittest.mock instead of mock,ABANDONED,2021-01-04 09:02:36.000000000,2021-12-17 11:22:31.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 09:02:36.000000000', 'files': ['unit_tests/test_lib_charm_openstack_masakari_monitors.py', 'unit_tests/test_masakari_monitors_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/c64e3ae1955e4e6d3d86e56609e8e85bd9ecdc7a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I86a18d38e0a02c81ccc1284194bfc5c175c5da85\n'}]",0,769111,c64e3ae1955e4e6d3d86e56609e8e85bd9ecdc7a,4,2,1,31825,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I86a18d38e0a02c81ccc1284194bfc5c175c5da85
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/11/769111/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_masakari_monitors.py', 'unit_tests/test_masakari_monitors_handlers.py']",2,c64e3ae1955e4e6d3d86e56609e8e85bd9ecdc7a,,from unittest import mock,import mock,2,2
openstack%2Fpuppet-openstack-integration~master~Id25a1e3c1d869925524710d1a9d54b9a65b62737,openstack/puppet-openstack-integration,master,Id25a1e3c1d869925524710d1a9d54b9a65b62737,Updated from Puppet OpenStack modules constraints,MERGED,2021-12-16 02:33:24.000000000,2021-12-17 11:09:43.000000000,2021-12-17 11:09:43.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 02:33:24.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/36b4b2dc7e9a746999d02149a05397a95b26c7d5', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Id25a1e3c1d869925524710d1a9d54b9a65b62737\n'}]",0,821926,36b4b2dc7e9a746999d02149a05397a95b26c7d5,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Id25a1e3c1d869925524710d1a9d54b9a65b62737
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/26/821926/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,36b4b2dc7e9a746999d02149a05397a95b26c7d5,openstack/puppet/constraints, :ref => 'v3.3.0', :ref => 'v3.2.0',1,1
openstack%2Fneutron~master~Ifbe0a50e726728fd03feb72b25e4438ef8deea77,openstack/neutron,master,Ifbe0a50e726728fd03feb72b25e4438ef8deea77,[DNM] Check rax pypi failures,ABANDONED,2021-12-15 05:33:00.000000000,2021-12-17 10:26:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-15 05:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be02d76efe4fb3c78d835bbad8c0420ea00c4875', 'message': '[DNM] Check rax pypi failures\n\nChange-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77\n'}, {'number': 2, 'created': '2021-12-15 05:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32702e2159e61d0fb106e294974ef82e8224e60d', 'message': '[DNM] Check rax pypi failures\n\nChange-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77\n'}, {'number': 3, 'created': '2021-12-15 06:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/002541bbd46613ebf0c9989b674d885cc4f4923f', 'message': '[DNM] Check rax pypi failures\n\nChange-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77\n'}, {'number': 4, 'created': '2021-12-17 05:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f230186c93f44a25f4299c6331c3b90d894efbbd', 'message': '[DNM] Check rax pypi failures\n\nChange-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77\n'}, {'number': 5, 'created': '2021-12-17 06:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e2d5bda044157038c446c3330b50b2da1804f2a', 'message': '[DNM] Check rax pypi failures\n\nChange-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77\n'}, {'number': 6, 'created': '2021-12-17 07:52:58.000000000', 'files': ['requirements.txt', 'playbooks/post.yaml', 'playbooks/pre.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5056a532bc547fbed56c1848a5f21a9bae826f22', 'message': '[DNM] Check rax pypi failures\n\nChange-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77\n'}]",12,821798,5056a532bc547fbed56c1848a5f21a9bae826f22,46,1,6,13861,,,0,"[DNM] Check rax pypi failures

Change-Id: Ifbe0a50e726728fd03feb72b25e4438ef8deea77
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/821798/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/post.yaml', 'playbooks/pre.yaml', 'zuul.d/project.yaml']",3,be02d76efe4fb3c78d835bbad8c0420ea00c4875,dnm,# - job: name: openstack-tox-py36-1 parent: openstack-tox-py36 pre-run: playbooks/pre.yaml post-run: playbooks/post.yaml - job: name: openstack-tox-py36-2 parent: openstack-tox-py36-1 - job: name: openstack-tox-py36-3 parent: openstack-tox-py36-1 - job: name: openstack-tox-py36-4 parent: openstack-tox-py36-1 - job: name: openstack-tox-py36-5 parent: openstack-tox-py36-1 - project: - openstack-tox-py36-1 - openstack-tox-py36-2 - openstack-tox-py36-3 - openstack-tox-py36-4 - openstack-tox-py36-5,"- project: templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-yoga-jobs - openstack-python3-yoga-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py39: # from openstack-python3-yoga-jobs template timeout: 3600 voting: false - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 check-arm64: jobs: - openstack-tox-py38-arm64: # from openstack-python3-yoga-jobs-arm64 template timeout: 4800 - openstack-tox-py39-arm64: # from openstack-python3-yoga-jobs-arm64 template timeout: 4800 gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-tempest-multinode-full - neutron-ovs-grenade-multinode - neutron-ovn-tempest-ipv6-only - openstack-tox-py36: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-yoga-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 experimental: jobs: - neutron-functional-with-uwsgi-fips - neutron-fullstack-with-uwsgi-fips - neutron-ovn-grenade-multinode - neutron-ovn-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-ovn-tempest-with-neutron-lib-master - neutron-ovs-tempest-with-neutron-lib-master - neutron-fullstack-with-uwsgi-with-neutron-lib-master - neutron-functional-with-uwsgi-with-neutron-lib-master periodic: jobs: - neutron-functional - neutron-fullstack - neutron-ovs-tempest-with-os-ken-master - neutron-ovn-tempest-postgres-full - neutron-ovn-tempest-mariadb-full - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - neutron-ovn-tempest-ovs-master-fedora - neutron-ovn-tempest-with-neutron-lib-master - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps - neutron-linuxbridge-tempest-plugin-scenario-nftables - neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables",50,105
openstack%2Frally-openstack~master~Ifb309f991be7bba9734b79c11e4a2862c72210a1,openstack/rally-openstack,master,Ifb309f991be7bba9734b79c11e4a2862c72210a1,fix use cinder v3,ABANDONED,2021-12-15 11:58:25.000000000,2021-12-17 10:06:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-15 11:58:25.000000000', 'files': ['tests/unit/common/services/storage/test_cinder_v2.py', 'rally_openstack/common/services/storage/cinder_v3.py', 'rally_openstack/common/services/storage/cinder_v2.py', 'tests/unit/common/services/storage/test_cinder_v3.py', 'rally_openstack/task/scenarios/cinder/volume_types.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3b1a70839727dc3bf25598eff2e4c2cdc0503a32', 'message': 'fix use cinder v3\n\nChange-Id: Ifb309f991be7bba9734b79c11e4a2862c72210a1\n'}]",0,821833,3b1a70839727dc3bf25598eff2e4c2cdc0503a32,3,1,1,34367,,,0,"fix use cinder v3

Change-Id: Ifb309f991be7bba9734b79c11e4a2862c72210a1
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/33/821833/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/common/services/storage/test_cinder_v2.py', 'rally_openstack/common/services/storage/cinder_v3.py', 'rally_openstack/common/services/storage/cinder_v2.py', 'tests/unit/common/services/storage/test_cinder_v3.py', 'rally_openstack/task/scenarios/cinder/volume_types.py']",5,3b1a70839727dc3bf25598eff2e4c2cdc0503a32,,"from rally_openstack.common.services.storage import cinder_v3 service_class = None api_version = self._admin_clients.credential.api_info.get(""cinder"", {}).get(""version"", 3) if api_version == 2: service_class = cinder_v2.CinderV2Service elif api_version == 3 or not api_version: service_class = cinder_v3.CinderV3Service service = service_class(self._admin_clients, self.generate_random_name, atomic_inst=self.atomic_actions()) volume_type = service.create_volume_type(description=description, is_public=is_public) name=update_name and self.generate_random_name() or None, is_public=update_is_public ) service_class = None api_version = self._admin_clients.credential.api_info.get(""cinder"", {}).get(""version"", 3) if api_version == 2: service_class = cinder_v2.CinderV2Service elif api_version == 3 or not api_version: service_class = cinder_v3.CinderV3Service service = service_class(self._admin_clients, self.generate_random_name, atomic_inst=self.atomic_actions()) volume_type = service.create_volume_type(description=description, is_public=is_public) service.add_type_access(volume_type, project=self.context[""tenant""][""id""])"," service = cinder_v2.CinderV2Service(self._admin_clients, self.generate_random_name, atomic_inst=self.atomic_actions()) volume_type = service.create_volume_type( description=description, is_public=is_public) name=volume_type.name if not update_name else False, is_public=update_is_public) service = cinder_v2.CinderV2Service(self._admin_clients, self.generate_random_name, atomic_inst=self.atomic_actions()) volume_type = service.create_volume_type(description=description, is_public=is_public) service.add_type_access(volume_type, project=self.context[""tenant""][""id""])",28,23
openstack%2Fansible-collections-openstack~master~Ia0376bf253b9f0ce2f13222982e7e9b8582a93d6,openstack/ansible-collections-openstack,master,Ia0376bf253b9f0ce2f13222982e7e9b8582a93d6,Replace victoria job by xena one,MERGED,2021-12-16 20:09:33.000000000,2021-12-17 10:01:31.000000000,2021-12-17 10:01:31.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 20:09:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b1952e0c4bfab54c8c552d9db015f659d512a0e6', 'message': 'Replace victoria job by xena one\n\nMove victoria job to experimental, add xena job to check/gate.\nChange-Id: Ia0376bf253b9f0ce2f13222982e7e9b8582a93d6\n'}]",2,822043,b1952e0c4bfab54c8c552d9db015f659d512a0e6,11,2,1,10969,,,0,"Replace victoria job by xena one

Move victoria job to experimental, add xena job to check/gate.
Change-Id: Ia0376bf253b9f0ce2f13222982e7e9b8582a93d6
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/43/822043/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b1952e0c4bfab54c8c552d9db015f659d512a0e6,, - job: name: ansible-collections-openstack-functional-devstack-xena-ansible-2.12 parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a xena devstack using xena brach of openstacksdk and stable 2.12 branch of ansible voting: true override-checkout: stable/xena required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.12 - name: openstack/openstacksdk override-checkout: stable/xena vars: tox_envlist: ansible - ansible-collections-openstack-functional-devstack-xena-ansible-2.12: - ansible-collections-openstack-functional-devstack-wallaby-ansible-2.12: - ansible-collections-openstack-functional-devstack-xena-ansible-2.12 - ansible-collections-openstack-functional-devstack-xena-ansible-2.12 - ansible-collections-openstack-functional-devstack-victoria-ansible-2.12, - ansible-collections-openstack-functional-devstack-wallaby-ansible-2.12: - ansible-collections-openstack-functional-devstack-victoria-ansible-2.12: - ansible-collections-openstack-functional-devstack-victoria-ansible-2.12,22,3
openstack%2Fcharm-specs~master~I687a4cc74d96bb4054138f73c22754097e78bf7b,openstack/charm-specs,master,I687a4cc74d96bb4054138f73c22754097e78bf7b,Add quorum queue support,MERGED,2021-12-09 14:03:55.000000000,2021-12-17 09:35:14.000000000,2021-12-17 09:33:31.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 14:03:55.000000000', 'files': ['specs/yoga/approved/rabbitmq-quorum-queue-support.rst', 'specs/yoga/approved/designate-bind-service-ip.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/f6f6427be11b197023bb3ebcdfb3453816d4073d', 'message': 'Add quorum queue support\n\nChange-Id: I687a4cc74d96bb4054138f73c22754097e78bf7b\n'}]",1,821217,f6f6427be11b197023bb3ebcdfb3453816d4073d,7,2,1,12549,,,0,"Add quorum queue support

Change-Id: I687a4cc74d96bb4054138f73c22754097e78bf7b
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/17/821217/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/approved/rabbitmq-quorum-queue-support.rst', 'specs/yoga/approved/designate-bind-service-ip.rst']",2,f6f6427be11b197023bb3ebcdfb3453816d4073d,main,,References ========== ,128,3
openstack%2Fcharms.openstack~master~I6cb655295287c367e128194f1264910a2d761e79,openstack/charms.openstack,master,I6cb655295287c367e128194f1264910a2d761e79,[ussuri][goal] Updates for python 2.7 drop,MERGED,2020-02-24 01:49:02.000000000,2021-12-17 09:25:22.000000000,2021-12-17 09:25:22.000000000,"[{'_account_id': 935}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 01:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ee5bd59054219f998d48949030c7b0782aa01e76', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I6cb655295287c367e128194f1264910a2d761e79\n'}, {'number': 2, 'created': '2020-03-24 18:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c465578368f3af29098330ed80fe6dec5f006fcf', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/714728/\n\nChange-Id: I6cb655295287c367e128194f1264910a2d761e79\n'}, {'number': 3, 'created': '2020-03-24 23:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/22d154f5103e5ff1c17b9bb31636d334554b255e', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/714728/\n\nChange-Id: I6cb655295287c367e128194f1264910a2d761e79\n'}, {'number': 4, 'created': '2020-03-25 06:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/91fb0f942d4452553aca1a287c7ef703c27cf240', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nNeeded-By: https://review.opendev.org/#/c/714728/\n\nChange-Id: I6cb655295287c367e128194f1264910a2d761e79\n'}, {'number': 5, 'created': '2020-03-27 03:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/682404a943c1b023bdf5bbe151429da70c1fa0fe', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nNeeded-By: https://review.opendev.org/#/c/714728/\n\nChange-Id: I6cb655295287c367e128194f1264910a2d761e79\n'}, {'number': 6, 'created': '2021-12-14 13:02:21.000000000', 'files': ['.zuul.yaml', 'setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/d99799bb85da01564835f1084059e20d083c147e', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nNeeded-By: https://review.opendev.org/#/c/714728/\n\nChange-Id: I6cb655295287c367e128194f1264910a2d761e79\n'}]",14,709385,d99799bb85da01564835f1084059e20d083c147e,23,6,6,8556,,,0,"[ussuri][goal] Updates for python 2.7 drop

OpenStack is dropping the py2.7 support in ussuri cycle.

charm repos need few updates on either py2 drop or updating
ussuri python template, tox.ini etc.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Needed-By: https://review.opendev.org/#/c/714728/

Change-Id: I6cb655295287c367e128194f1264910a2d761e79
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/85/709385/6 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,ee5bd59054219f998d48949030c7b0782aa01e76,drop-py27-support,minversion = 3.1 envlist = pep8py37ignore_basepython_conflict = Truebasepython = python3,"envlist = pep8,py27,py37[testenv:py27] basepython = python2.7 deps = -r{toxinidir}/test-requirements.txt # Py27 needs to be disabled as upstream charms.reactive is not Py3.5+ only # However, we can't yet remove the actually py27 test from the gate. commands = python -c ""print('Py27 testing disabled.')"" && /bin/true basepython = python3basepython = python3basepython = python3",6,13
openstack%2Fcharm-octavia~master~Ib9cd965d84654a4ff3a5c24814d8a171865b2db1,openstack/charm-octavia,master,Ib9cd965d84654a4ff3a5c24814d8a171865b2db1,Use unittest.mock instead of mock,MERGED,2020-06-08 21:58:24.000000000,2021-12-17 09:17:57.000000000,2021-12-17 09:17:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c5c0fa588b28b2a118312432f87abf9ccdd577d1', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib9cd965d84654a4ff3a5c24814d8a171865b2db1\n'}, {'number': 2, 'created': '2020-06-09 13:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/df55d180c1496f2ad3c98ce5f0bd24730f6d4e32', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib9cd965d84654a4ff3a5c24814d8a171865b2db1\n""}, {'number': 3, 'created': '2021-12-15 11:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dc0bd9bbacd7859df6c33c25f18b8bb4e47e2e81', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib9cd965d84654a4ff3a5c24814d8a171865b2db1\n""}, {'number': 4, 'created': '2021-12-16 09:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/607bfcd67497da4eecbc1ded7f54629b94e59ee6', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib9cd965d84654a4ff3a5c24814d8a171865b2db1\n""}, {'number': 5, 'created': '2021-12-16 09:12:47.000000000', 'files': ['osci.yaml', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_octavia_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_octavia.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/49b7a2348fdb4b4a2c57afce7531a4780c63ccb9', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib9cd965d84654a4ff3a5c24814d8a171865b2db1\n""}]",1,734307,49b7a2348fdb4b4a2c57afce7531a4780c63ccb9,20,3,5,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ib9cd965d84654a4ff3a5c24814d8a171865b2db1
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/07/734307/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_api_crud.py', 'test-requirements.txt', 'unit_tests/test_octavia_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_octavia.py']",5,c5c0fa588b28b2a118312432f87abf9ccdd577d1,drop_mock,from unitest import mock,import mock,4,5
openstack%2Fvenus~master~Idf08dc34c8b9965fca2917f7e85e60fe62ba9d81,openstack/venus,master,Idf08dc34c8b9965fca2917f7e85e60fe62ba9d81,"Revert ""add support of Python3.10""",MERGED,2021-12-16 16:18:34.000000000,2021-12-17 08:48:33.000000000,2021-12-17 08:47:05.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-12-16 16:18:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/da666ff38e5dee5d697ff57d7fd37ce935c304b8', 'message': 'Revert ""add support of Python3.10""\n\nThis reverts commit 7e394d2b944f58db450a2c5e37634137c14d8dee.\n\nReason for revert: We are not testing py3.10 yet. that might be the target in Z cycle. We are adding a non voting job for py3.10 in Yoga job template but that is also not done yet.\n\nChange-Id: Idf08dc34c8b9965fca2917f7e85e60fe62ba9d81\n'}]",2,822011,da666ff38e5dee5d697ff57d7fd37ce935c304b8,8,3,1,8556,,,0,"Revert ""add support of Python3.10""

This reverts commit 7e394d2b944f58db450a2c5e37634137c14d8dee.

Reason for revert: We are not testing py3.10 yet. that might be the target in Z cycle. We are adding a non voting job for py3.10 in Yoga job template but that is also not done yet.

Change-Id: Idf08dc34c8b9965fca2917f7e85e60fe62ba9d81
",git fetch https://review.opendev.org/openstack/venus refs/changes/11/822011/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,da666ff38e5dee5d697ff57d7fd37ce935c304b8,,, Programming Language :: Python :: 3.10,0,1
openstack%2Ftacker~master~I2717540f042882363cce3d1a0da22c71789a36cb,openstack/tacker,master,I2717540f042882363cce3d1a0da22c71789a36cb,support retry operation task of v2 API,MERGED,2021-11-01 04:54:23.000000000,2021-12-17 08:46:40.000000000,2021-12-17 08:44:49.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 33453}]","[{'number': 1, 'created': '2021-11-01 04:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/15dd0a3dc28c99058fcd3daec56b5f8a4aacd045', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 2, 'created': '2021-11-08 02:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7441f140423e3833677ae5deaefb7ed163c5af46', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 3, 'created': '2021-11-08 23:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bcca0f1556390198a7e80a856870bb4ce0f951fc', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 4, 'created': '2021-11-11 03:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c5c823d7fc0f1baff1a6aa12711e9e69319d9809', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 5, 'created': '2021-11-24 03:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/66a7ab1eb8300df9d58eed77cf4f4d60e314465d', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 6, 'created': '2021-12-02 04:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ee95af77769141a74f5b946fbe6277d4525f2241', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 7, 'created': '2021-12-02 05:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c462efa5a1f32f2f56f5d8292d95b6dd7be00599', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}, {'number': 8, 'created': '2021-12-08 04:31:11.000000000', 'files': ['tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/sol_refactored/api/router.py', 'tacker/sol_refactored/db/sqlalchemy/models.py', 'tacker/sol_refactored/objects/v1/grant_request.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/tests/unit/sol_refactored/conductor/test_conductor_v2.py', 'releasenotes/notes/add-v2-retry-api-34667d944db1f54c.yaml', 'tacker/db/migration/alembic_migrations/versions/3ff50553e9d3_add_grant_and_grant_request.py', 'tacker/sol_refactored/conductor/conductor_rpc_v2.py', 'tacker/sol_refactored/db/api.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/sol_refactored/objects/base.py', 'tacker/tests/functional/sol_v2/base_v2.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/bf51c2bc800f6511a7756eeccddd7d18b7bc8b69', 'message': 'support retry operation task of v2 API\n\nThis patch implements retry operation task defined in ETSI NFV-SOL003\nv3.3.1 5.4.14.\n\nBasically retry operation is not task API specific. Thus retry\noperation of a task API which is added in the future (ex. scale)\nwill be supported naturally.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I2717540f042882363cce3d1a0da22c71789a36cb\n'}]",54,816115,bf51c2bc800f6511a7756eeccddd7d18b7bc8b69,51,8,8,4149,,,0,"support retry operation task of v2 API

This patch implements retry operation task defined in ETSI NFV-SOL003
v3.3.1 5.4.14.

Basically retry operation is not task API specific. Thus retry
operation of a task API which is added in the future (ex. scale)
will be supported naturally.

Functional tests will be provided with another patch.

Implements: blueprint support-nfv-solv3-error-handling
Change-Id: I2717540f042882363cce3d1a0da22c71789a36cb
",git fetch https://review.opendev.org/openstack/tacker refs/changes/15/816115/8 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/sol_refactored/api/router.py', 'tacker/sol_refactored/db/sqlalchemy/models.py', 'tacker/sol_refactored/objects/v1/grant_request.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/tests/unit/sol_refactored/conductor/test_conductor_v2.py', 'tacker/db/migration/alembic_migrations/versions/3ff50553e9d3_add_grant_and_grant_request.py', 'tacker/sol_refactored/conductor/conductor_rpc_v2.py', 'tacker/sol_refactored/db/api.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/sol_refactored/objects/base.py', 'tacker/tests/functional/sol_v2/base_v2.py']",21,15dd0a3dc28c99058fcd3daec56b5f8a4aacd045,bp/support-nfv-solv3-error-handling, objects.register_all(), objects.register_all(False),800,167
openstack%2Fopenstack-ansible~master~Ic4cee0eb776960deecaf5da752d5e0b7f9afcb5c,openstack/openstack-ansible,master,Ic4cee0eb776960deecaf5da752d5e0b7f9afcb5c,[doc] Update stable releases support status,MERGED,2021-12-14 15:54:16.000000000,2021-12-17 08:44:58.000000000,2021-12-17 08:42:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-14 15:54:16.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc9804b1921f3d6b5efa674c5e8e408abcabea6d', 'message': '[doc] Update stable releases support status\n\nTrain and Ussuri are moved to EM status which should be reflected in\nour doc.\n\nChange-Id: Ic4cee0eb776960deecaf5da752d5e0b7f9afcb5c\n'}]",2,821726,dc9804b1921f3d6b5efa674c5e8e408abcabea6d,10,4,1,28619,,,0,"[doc] Update stable releases support status

Train and Ussuri are moved to EM status which should be reflected in
our doc.

Change-Id: Ic4cee0eb776960deecaf5da752d5e0b7f9afcb5c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/821726/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,dc9804b1921f3d6b5efa674c5e8e408abcabea6d,,Ussuri: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~Train: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~,Ussuri: Maintained ~~~~~~~~~~~~~~~~~~Train: Maintained ~~~~~~~~~~~~~~~~~,4,4
openstack%2Fcyborg~master~Ie145d9557a41710d306a5ea6de27530b139ffaef,openstack/cyborg,master,Ie145d9557a41710d306a5ea6de27530b139ffaef,Remove all usage of six library,ABANDONED,2020-05-06 16:35:44.000000000,2021-12-17 07:59:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-06 16:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0750d9c858ac13750420addf227114e330e66387', 'message': '[WIP] Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}, {'number': 2, 'created': '2020-05-07 01:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d87842eb7a009e5c6e607b7e7e8fbce4e62f59cc', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}, {'number': 3, 'created': '2020-06-21 04:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ebdb26102582a1df2de1c813c72f2398251a0534', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}, {'number': 4, 'created': '2020-06-26 04:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e89736434d8509758ad1b8ac520bf75878699161', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}, {'number': 5, 'created': '2020-07-12 05:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2cee737a34a65c4a3b75245d2a132033f3dbdd8b', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}, {'number': 6, 'created': '2020-07-12 05:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b34e1d81a8c086e3c566294939cfd9ef07ab61f8', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}, {'number': 7, 'created': '2020-08-27 15:46:41.000000000', 'files': ['cyborg/common/exception.py', 'cyborg/common/utils.py', 'cyborg/db/sqlalchemy/models.py', 'cyborg/tests/unit/objects/test_extarq.py', 'cyborg/accelerator/common/exception.py', 'cyborg/conductor/manager.py', 'requirements.txt', 'cyborg/context.py', 'cyborg/db/api.py', 'cyborg/image/glance.py', 'cyborg/accelerator/drivers/driver.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py', 'cyborg/api/middleware/parsable_error.py', 'cyborg/objects/ext_arq.py', 'cyborg/quota.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/74abc3f7bcdd0409aaa88f274a41621937c95b9f', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef\n'}]",12,725928,74abc3f7bcdd0409aaa88f274a41621937c95b9f,14,1,7,28614,,,0,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Change-Id: Ie145d9557a41710d306a5ea6de27530b139ffaef
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/28/725928/7 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/exception.py', 'cyborg/common/utils.py', 'cyborg/db/sqlalchemy/models.py', 'cyborg/tests/unit/objects/test_extarq.py', 'cyborg/accelerator/common/exception.py', 'cyborg/conductor/manager.py', 'requirements.txt', 'cyborg/context.py', 'cyborg/db/api.py', 'cyborg/image/glance.py', 'cyborg/accelerator/drivers/driver.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py', 'cyborg/api/middleware/parsable_error.py', 'cyborg/objects/ext_arq.py', 'cyborg/quota.py']",15,0750d9c858ac13750420addf227114e330e66387,," if isinstance(expire, int):","import six if isinstance(expire, six.integer_types):",22,41
openstack%2Fcyborg~master~I04ed8b69bfd1c6472a66d55f792d70ed78115faa,openstack/cyborg,master,I04ed8b69bfd1c6472a66d55f792d70ed78115faa,add cyborg multinode job,ABANDONED,2020-02-25 00:28:21.000000000,2021-12-17 07:58:47.000000000,,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-02-25 00:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/adfcdf4547edcfe92f7399f47f2a2adeaac0541d', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nthis is currently not planned to merge but if it proves\nto be useful i can update it later. i have disabled\nother cyborg jobs to not waste gate resouces so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/674726/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 2, 'created': '2020-02-25 00:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0705ab7502487594fafcb129fa6c633b08bc3053', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nthis is currently not planned to merge but if it proves\nto be useful i can update it later. i have disabled\nother cyborg jobs to not waste gate resouces so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/674726/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 3, 'created': '2020-02-25 19:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8cfcbd64b9d9336e582345ceed4a72a69b9cb9eb', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/674726/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 4, 'created': '2020-02-25 20:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/605c37ea4de668615f7f533d9c3ce431b285ef99', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/699554/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 5, 'created': '2020-02-25 23:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1f046047151c99b7c0f6d1a787f296779e0e61cd', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full-py3 with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/699554/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 6, 'created': '2020-03-02 15:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6c55e1b61e4fdb25d6b5ed9f68ede51bb065bbd8', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full-py3 with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/674726/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 7, 'created': '2020-03-03 17:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b52597e6a347335a48704005dc59f50e90515dc2', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full-py3 with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/674726/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 8, 'created': '2020-03-16 13:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/76d969207c6f521c231f397cb39223f78c87532b', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full-py3 with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/#/c/674726/\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 9, 'created': '2020-03-31 00:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6a493067d9cf699c5a9eed3e88b198bd699f23bf', 'message': 'WIP add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full-py3 with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nDepends-on: https://review.opendev.org/#/c/679914/\nDepends-on: https://review.opendev.org/715326\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}, {'number': 10, 'created': '2020-07-10 22:02:48.000000000', 'files': ['.zuul.yaml', 'playbooks/multinode/local-sh.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/05850bc593a782982ec6a3dedced8e12f970b7a1', 'message': 'add cyborg multinode job\n\nThis patch adds an experimental cyborg multinode\njob that runs standard tempest-full-py3 with a cyborg\nflavor. This is intended to help test the integration\nwith nova but may be useful to keep long term.\n\nThis is currently not planned to merge but if it proves\nto be useful i can update it later. I have disabled\nother cyborg jobs to not waste gate resources so that should\nbe fixed if this is merged in the future.\n\nChange-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa\n'}]",14,709641,05850bc593a782982ec6a3dedced8e12f970b7a1,35,4,10,11604,,,0,"add cyborg multinode job

This patch adds an experimental cyborg multinode
job that runs standard tempest-full-py3 with a cyborg
flavor. This is intended to help test the integration
with nova but may be useful to keep long term.

This is currently not planned to merge but if it proves
to be useful i can update it later. I have disabled
other cyborg jobs to not waste gate resources so that should
be fixed if this is merged in the future.

Change-Id: I04ed8b69bfd1c6472a66d55f792d70ed78115faa
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/41/709641/9 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/multinode/local-sh.yaml']",2,adfcdf4547edcfe92f7399f47f2a2adeaac0541d,multinode,"- hosts: controller tasks: - name: create local.sh become: yes blockinfile: path: /opt/stack/devstack/local.sh create: True mode: 0777 block: | profile_name=""FakeDeviceProfile"" groups='[{ ""resources:FPGA"":""1"", ""trait:CUSTOM_FAKE_DEVICE"": ""required""}]' openstack accelerator device profile create ${profile_name} ""${groups}"" openstack flavor create --vcpus 1 --ram 64 --disk 1 --property ""accel:device_profile=${profile_name}"" --id 420 ""CyborgFlavor"" openstack flavor create --vcpus 1 --ram 64 --disk 1 --id 840 ""StandardFlavor"" ",,77,4
openstack%2Fcyborg~master~I09ab2d0abd9a20671eeaac2a31bf2d9e3641fe10,openstack/cyborg,master,I09ab2d0abd9a20671eeaac2a31bf2d9e3641fe10,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 00:57:41.000000000,2021-12-17 07:57:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-04-20 00:57:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b77e6dd4377f10b39196c8a8189089b7a937f26e', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I09ab2d0abd9a20671eeaac2a31bf2d9e3641fe10\n""}]",0,786996,b77e6dd4377f10b39196c8a8189089b7a937f26e,5,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I09ab2d0abd9a20671eeaac2a31bf2d9e3641fe10
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/96/786996/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b77e6dd4377f10b39196c8a8189089b7a937f26e,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fproject-config~master~Ie26f19bd845c348d8871ac18a6a4cea9a84ed9f8,openstack/project-config,master,Ie26f19bd845c348d8871ac18a6a4cea9a84ed9f8,Add cache-devstack element for openEuler,MERGED,2021-12-17 07:09:28.000000000,2021-12-17 07:44:11.000000000,2021-12-17 07:37:51.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-17 07:09:28.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4a058ac8bf4f7b23a37bd0d4585ae12af71561d7', 'message': 'Add cache-devstack element for openEuler\n\nThe openEuler node can be setup successful now. While the\nerror `/opt/cache/files, No such file or directory ` will\nraise when running devstack jobs on it.\n\nThis patch add the cache-devstack element for openEuler diskimage\nto ensure devstack jobs work well.\n\nChange-Id: Ie26f19bd845c348d8871ac18a6a4cea9a84ed9f8\n'}]",0,822073,4a058ac8bf4f7b23a37bd0d4585ae12af71561d7,7,2,1,15054,,,0,"Add cache-devstack element for openEuler

The openEuler node can be setup successful now. While the
error `/opt/cache/files, No such file or directory ` will
raise when running devstack jobs on it.

This patch add the cache-devstack element for openEuler diskimage
to ensure devstack jobs work well.

Change-Id: Ie26f19bd845c348d8871ac18a6a4cea9a84ed9f8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/822073/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,4a058ac8bf4f7b23a37bd0d4585ae12af71561d7,update_openeuler_diskimage, - cache-devstack,,1,0
openstack%2Fdevstack~master~I118efee32004450e4b9a98f3338d0c378f51c266,openstack/devstack,master,I118efee32004450e4b9a98f3338d0c378f51c266,[DNM] just for test nodepool and zuul with openeuler,ABANDONED,2021-12-17 03:25:25.000000000,2021-12-17 06:10:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-17 03:25:25.000000000', 'files': ['lib/keystone', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c551bccf20b4d1f08f3a358e4595d641522810da', 'message': '[DNM] just for test nodepool and zuul with openeuler\n\nChange-Id: I118efee32004450e4b9a98f3338d0c378f51c266\n'}]",0,822065,c551bccf20b4d1f08f3a358e4595d641522810da,4,1,1,15054,,,0,"[DNM] just for test nodepool and zuul with openeuler

Change-Id: I118efee32004450e4b9a98f3338d0c378f51c266
",git fetch https://review.opendev.org/openstack/devstack refs/changes/65/822065/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/keystone', '.zuul.yaml']",2,c551bccf20b4d1f08f3a358e4595d641522810da,test_arm64_openeuler, name: devstack-single-node-openeuler-20.03-sp2-arm64 nodes: - name: controller label: openEuler-20-03-LTS-SP2-arm64-xxxlarge groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-openeuler-arm64 parent: tempest-full-py3 description: test openeuler arm64 nodeset: devstack-single-node-openeuler-20.03-sp2-arm64 voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-openeuler-arm64,,22,1
openstack%2Fjs-openstack-lib~master~I2b1e4c7dc90d299275392f3288bb3eaa2d049838,openstack/js-openstack-lib,master,I2b1e4c7dc90d299275392f3288bb3eaa2d049838,Capitalizes the first letter -- should to Should,NEW,2018-12-13 08:43:06.000000000,2021-12-17 06:06:41.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:43:06.000000000', 'files': ['test/functional/keystoneTest.js'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/d005ed920dc92333bff26e5c1ed9d1edc4494dc5', 'message': 'Capitalizes the first letter -- should to Should\n\nChange-Id: I2b1e4c7dc90d299275392f3288bb3eaa2d049838\n'}]",1,624892,d005ed920dc92333bff26e5c1ed9d1edc4494dc5,4,3,1,29075,,,0,"Capitalizes the first letter -- should to Should

Change-Id: I2b1e4c7dc90d299275392f3288bb3eaa2d049838
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/92/624892/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/keystoneTest.js'],1,d005ed920dc92333bff26e5c1ed9d1edc4494dc5,," it(""Should return a list of all versions available on this clouds' keystone"", (done) => { it(""Should return a supported version."", (done) => { it(""Should 'just work' by using provided credentials from the config."", (done) => { it(""Should permit passing your own user, password, and project."", (done) => { it(""Should throw an exception if invalid username and password are provided."", (done) => { it(""Should throw an exception if invalid project is provided."", (done) => { it(""Should throw an exception if invalid user domain is provided."", (done) => { it(""Should permit self-revocation."", (done) => { it(""Should allow an admin to revoke another token."", (done) => { it(""Should throw an exception if invalid token is provided."", (done) => { it(""Should retrieve info about a token."", (done) => { it(""Should throw an exception if invalid token is provided."", (done) => { it(""Should list a catalog."", (done) => { it(""Should error if not authenticated."", (done) => {"," it(""should return a list of all versions available on this clouds' keystone"", (done) => { it(""should return a supported version."", (done) => { it(""should 'just work' by using provided credentials from the config."", (done) => { it(""should permit passing your own user, password, and project."", (done) => { it(""should throw an exception if invalid username and password are provided."", (done) => { it(""should throw an exception if invalid project is provided."", (done) => { it(""should throw an exception if invalid user domain is provided."", (done) => { it(""should permit self-revocation."", (done) => { it(""should allow an admin to revoke another token."", (done) => { it(""should throw an exception if invalid token is provided."", (done) => { it(""should retrieve info about a token."", (done) => { it(""should throw an exception if invalid token is provided."", (done) => { it(""should list a catalog."", (done) => { it(""should error if not authenticated."", (done) => {",14,14
openstack%2Fjs-openstack-lib~master~Ife500e44e667d05c8ca3f4ba1d1fcf9197fb346f,openstack/js-openstack-lib,master,Ife500e44e667d05c8ca3f4ba1d1fcf9197fb346f,Capitalizes the first letter -- should to Should,NEW,2018-12-13 08:38:37.000000000,2021-12-17 06:05:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:38:37.000000000', 'files': ['test/functional/glanceTest.js'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/c1f1b9159026508b6b7277b75a3bd31554769058', 'message': 'Capitalizes the first letter -- should to Should\n\nChange-Id: Ife500e44e667d05c8ca3f4ba1d1fcf9197fb346f\n'}]",1,624891,c1f1b9159026508b6b7277b75a3bd31554769058,3,2,1,29075,,,0,"Capitalizes the first letter -- should to Should

Change-Id: Ife500e44e667d05c8ca3f4ba1d1fcf9197fb346f
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/91/624891/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/glanceTest.js'],1,c1f1b9159026508b6b7277b75a3bd31554769058,," it(""Should return a list of all versions available on this clouds' glance."", (done) => { it(""Should return a supported version."", (done) => { it(""Should return a supported version."", (done) => {"," it(""should return a list of all versions available on this clouds' glance"", (done) => { it(""should return a supported version."", (done) => { it(""should return a supported version."", (done) => {",3,3
openstack%2Fjs-openstack-lib~master~I03cdc6e70c08f3a797bcfff4c84d49e77200fae4,openstack/js-openstack-lib,master,I03cdc6e70c08f3a797bcfff4c84d49e77200fae4,change http:// to https://,NEW,2018-12-13 08:09:56.000000000,2021-12-17 05:45:31.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:09:56.000000000', 'files': ['doc/source/specs/server_interaction.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/b3bafdde31e4ae1fd85e162302c8ce9efd7d7608', 'message': 'change http:// to https://\n\nChange-Id: I03cdc6e70c08f3a797bcfff4c84d49e77200fae4\n'}]",1,624884,b3bafdde31e4ae1fd85e162302c8ce9efd7d7608,4,3,1,29075,,,0,"change http:// to https://

Change-Id: I03cdc6e70c08f3a797bcfff4c84d49e77200fae4
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/84/624884/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/server_interaction.rst'],1,b3bafdde31e4ae1fd85e162302c8ce9efd7d7608,, https://creativecommons.org/licenses/by/3.0/legalcode, http://creativecommons.org/licenses/by/3.0/legalcode,1,1
openstack%2Fjs-openstack-lib~master~I86e3cecd38ec062ee66ed68ab7daa1b7446210d5,openstack/js-openstack-lib,master,I86e3cecd38ec062ee66ed68ab7daa1b7446210d5,change http:// to https://,NEW,2018-12-13 08:03:10.000000000,2021-12-17 05:45:22.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:03:10.000000000', 'files': ['doc/source/releasing.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/4ac6de4141a92e90a5d509d108e788d336b75548', 'message': 'change http:// to https://\n\nChange-Id: I86e3cecd38ec062ee66ed68ab7daa1b7446210d5\n'}]",1,624880,4ac6de4141a92e90a5d509d108e788d336b75548,4,3,1,29075,,,0,"change http:// to https://

Change-Id: I86e3cecd38ec062ee66ed68ab7daa1b7446210d5
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/80/624880/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/releasing.rst'],1,4ac6de4141a92e90a5d509d108e788d336b75548,,https://docs.openstack.org/infra/manual/drivers.html#tagging-a-release,http://docs.openstack.org/infra/manual/drivers.html#tagging-a-release,1,1
openstack%2Fjs-openstack-lib~master~I9dfabef6e39774e4161e53b846a6c5fe0ea7abc5,openstack/js-openstack-lib,master,I9dfabef6e39774e4161e53b846a6c5fe0ea7abc5,change http:// to https://,NEW,2018-12-13 08:11:50.000000000,2021-12-17 05:45:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:11:50.000000000', 'files': ['doc/source/specs/template.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/27c841e490670d37f152dabcc227371e215090ab', 'message': 'change http:// to https://\n\nChange-Id: I9dfabef6e39774e4161e53b846a6c5fe0ea7abc5\n'}]",1,624886,27c841e490670d37f152dabcc227371e215090ab,3,2,1,29075,,,0,"change http:// to https://

Change-Id: I9dfabef6e39774e4161e53b846a6c5fe0ea7abc5
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/86/624886/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/template.rst'],1,27c841e490670d37f152dabcc227371e215090ab,, https://creativecommons.org/licenses/by/3.0/legalcode, http://creativecommons.org/licenses/by/3.0/legalcode,1,1
openstack%2Fjs-openstack-lib~master~I0271865d598091c34fec0c41f271c02daf61ab2e,openstack/js-openstack-lib,master,I0271865d598091c34fec0c41f271c02daf61ab2e,change http:// to https://,NEW,2018-12-13 08:08:19.000000000,2021-12-17 05:44:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:08:19.000000000', 'files': ['doc/source/specs/es2015.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/1cba9e202ed31017a060c435937bd5c4aec97089', 'message': 'change http:// to https://\n\nChange-Id: I0271865d598091c34fec0c41f271c02daf61ab2e\n'}]",1,624883,1cba9e202ed31017a060c435937bd5c4aec97089,3,2,1,29075,,,0,"change http:// to https://

Change-Id: I0271865d598091c34fec0c41f271c02daf61ab2e
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/83/624883/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/es2015.rst'],1,1cba9e202ed31017a060c435937bd5c4aec97089,, https://creativecommons.org/licenses/by/3.0/legalcode, http://creativecommons.org/licenses/by/3.0/legalcode,1,1
openstack%2Fjs-openstack-lib~master~Ib5f7805c1791790d8ad426d23eaa7888bb1c9987,openstack/js-openstack-lib,master,Ib5f7805c1791790d8ad426d23eaa7888bb1c9987,change http:// to https://,NEW,2018-12-13 08:12:49.000000000,2021-12-17 05:44:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:12:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/3d730440dc24ccc56887fc25b5acbd1126b678cf', 'message': 'change http:// to https://\n\nChange-Id: Ib5f7805c1791790d8ad426d23eaa7888bb1c9987\n'}]",1,624887,3d730440dc24ccc56887fc25b5acbd1126b678cf,3,2,1,29075,,,0,"change http:// to https://

Change-Id: Ib5f7805c1791790d8ad426d23eaa7888bb1c9987
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/87/624887/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3d730440dc24ccc56887fc25b5acbd1126b678cf,,.. image:: https://governance.openstack.org/badges/js-openstack-lib.svg :target: https://governance.openstack.org/reference/tags/index.html Please read `Developer's Guide <https://docs.openstack.org/infra/manual/developers.html>`_ before sending your first patch for review,.. image:: http://governance.openstack.org/badges/js-openstack-lib.svg :target: http://governance.openstack.org/reference/tags/index.html Please read `Developer's Guide <http://docs.openstack.org/infra/manual/developers.html>`_ before sending your first patch for review,3,3
openstack%2Fjs-openstack-lib~master~I921a9fb014918d97ddb90f8172665bd66441461d,openstack/js-openstack-lib,master,I921a9fb014918d97ddb90f8172665bd66441461d,change http:// to https://,NEW,2018-12-13 08:04:04.000000000,2021-12-17 05:43:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 08:04:04.000000000', 'files': ['doc/source/specs/devstack.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/6cf549106eaf48580540b2f715920d4b2b9eba5f', 'message': 'change http:// to https://\n\nChange-Id: I921a9fb014918d97ddb90f8172665bd66441461d\n'}]",1,624881,6cf549106eaf48580540b2f715920d4b2b9eba5f,3,2,1,29075,,,0,"change http:// to https://

Change-Id: I921a9fb014918d97ddb90f8172665bd66441461d
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/81/624881/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/devstack.rst'],1,6cf549106eaf48580540b2f715920d4b2b9eba5f,, https://creativecommons.org/licenses/by/3.0/legalcode.. _`Third Party CI`: https://docs.openstack.org/infra/system-config/third_party.html, http://creativecommons.org/licenses/by/3.0/legalcode.. _`Third Party CI`: http://docs.openstack.org/infra/system-config/third_party.html,2,2
openstack%2Fjs-openstack-lib~master~Ia92389dc3338886c1fa44714d6a60b79fd0c7838,openstack/js-openstack-lib,master,Ia92389dc3338886c1fa44714d6a60b79fd0c7838,change http:// to https://,NEW,2018-12-13 07:53:00.000000000,2021-12-17 05:43:02.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 07:53:00.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/6ec816c5d4c00543b015366ca2928a92d10f7bc8', 'message': 'change http:// to https://\n\nChange-Id: Ia92389dc3338886c1fa44714d6a60b79fd0c7838\n'}]",1,624875,6ec816c5d4c00543b015366ca2928a92d10f7bc8,4,3,1,29075,,,0,"change http:// to https://

Change-Id: Ia92389dc3338886c1fa44714d6a60b79fd0c7838
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/75/624875/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,6ec816c5d4c00543b015366ca2928a92d10f7bc8,," ""homepage"": ""https://www.openstack.org/"","," ""homepage"": ""http://www.openstack.org/"",",1,1
openstack%2Fjs-openstack-lib~master~I8f50407a37bae23e07908090e29a1f524a2afe6d,openstack/js-openstack-lib,master,I8f50407a37bae23e07908090e29a1f524a2afe6d,change http:// to https://,NEW,2018-12-13 07:47:56.000000000,2021-12-17 05:39:59.000000000,,"[{'_account_id': 8871}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 07:47:56.000000000', 'files': ['doc/source/dev_get_started.rst'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/c4f36f3c8564d29809da022f53ba9c895b7e8fd9', 'message': 'change http:// to https://\n\nChange-Id: I8f50407a37bae23e07908090e29a1f524a2afe6d\n'}]",1,624874,c4f36f3c8564d29809da022f53ba9c895b7e8fd9,4,3,1,29075,,,0,"change http:// to https://

Change-Id: I8f50407a37bae23e07908090e29a1f524a2afe6d
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/74/624874/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev_get_started.rst'],1,c4f36f3c8564d29809da022f53ba9c895b7e8fd9,, https://docs.openstack.org/infra/manual/developers.html https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://docs.openstack.org/infra/manual/developers.html http://docs.openstack.org/infra/manual/developers.html#development-workflow,2,2
openstack%2Fjs-openstack-lib~master~I1e039a2b9abb49fff27ab96b6db26e64e2ffbf35,openstack/js-openstack-lib,master,I1e039a2b9abb49fff27ab96b6db26e64e2ffbf35,change http:// to https://,NEW,2018-12-13 07:44:06.000000000,2021-12-17 05:27:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-12-13 07:44:06.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/js-openstack-lib/commit/b2e64d58639f9830e5db1472196d967b2049515c', 'message': 'change http:// to https://\n\nChange-Id: I1e039a2b9abb49fff27ab96b6db26e64e2ffbf35\n'}]",1,624873,b2e64d58639f9830e5db1472196d967b2049515c,3,2,1,29075,,,0,"change http:// to https://

Change-Id: I1e039a2b9abb49fff27ab96b6db26e64e2ffbf35
",git fetch https://review.opendev.org/openstack/js-openstack-lib refs/changes/73/624873/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b2e64d58639f9830e5db1472196d967b2049515c,,# see https://docs.openstack.org/infra/bindep/ for additional information.,# see http://docs.openstack.org/infra/bindep/ for additional information.,1,1
openstack%2Fsahara-specs~master~I8f58d6bc22acbd37ea68d086d6def84f658fc18d,openstack/sahara-specs,master,I8f58d6bc22acbd37ea68d086d6def84f658fc18d,Remove Unnecessary Plugins From Sahara,NEW,2021-12-16 06:09:05.000000000,2021-12-17 01:36:21.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-12-16 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/9fecf7820a15e4111f42d98bb63ab9872fb3c8bf', 'message': ""Remove Unnecessary Plugins From Sahara\n\nThis spec proposes to provide the initial design for Cyborg's Remove\nunnecessary plugins.\n\nChange-Id: I8f58d6bc22acbd37ea68d086d6def84f658fc18d\n""}, {'number': 2, 'created': '2021-12-16 09:21:54.000000000', 'files': ['specs/yoga/remove-some-plugin-from-sahara.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/ee12e3098654db5f696c8ebbf0e333198d469933', 'message': ""Remove Unnecessary Plugins From Sahara\n\nThis spec proposes to provide the initial design for Cyborg's Remove\nunnecessary plugins.\n\nChange-Id: I8f58d6bc22acbd37ea68d086d6def84f658fc18d\n""}]",5,821933,ee12e3098654db5f696c8ebbf0e333198d469933,8,4,2,30077,,,0,"Remove Unnecessary Plugins From Sahara

This spec proposes to provide the initial design for Cyborg's Remove
unnecessary plugins.

Change-Id: I8f58d6bc22acbd37ea68d086d6def84f658fc18d
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/33/821933/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/remove-some-plugin-from-sahara.rst'],1,9fecf7820a15e4111f42d98bb63ab9872fb3c8bf,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Remove Unnecessary Plugins From Sahara ====================================== https://storyboard.openstack.org/#!/story/2009746 This spec proposes to provide the initial design for Cyborg's Remove unnecessary plugins. Problem description =================== This spec will remove plugins HDP, CDH, MapR, Storm, Spark and Vanilla from Sahara. This topic has been arranged in the Sahara Yoga version of the PTG plan [1]_. Use Cases --------- * These plugins are end life or already discontinued or not maintained. * As a contributor to a project, I don't want the project code to have too much unnecessary code. So need to remove these plugins from Sahara. Proposed change =============== Remove the relevant code of these plugins from Sahara. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: qiujunting(qiujunting@inspur.com) Work Items ---------- * Remove unnecessary plugins from Sahara. Dependencies ============ None Testing ======== None Documentation Impact ==================== None References ========== .. [1] https://etherpad.opendev.org/p/sahara-yoga-ptg#L24 History ======= .. list-table:: Revisions :header-rows: 1 * - Release - Description * - Yoga - Introduced ",,123,0
openstack%2Fironic~stable%2Fvictoria~Id8c0e4830011ca2fa526df461ed5b9b01f769cf9,openstack/ironic,stable/victoria,Id8c0e4830011ca2fa526df461ed5b9b01f769cf9,CI: Lower test VM memory by 400MB,MERGED,2021-12-09 00:45:12.000000000,2021-12-17 00:09:27.000000000,2021-12-15 23:42:42.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 00:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a6f508925bb10fa0a7a2ea88bf99ba212e9f49f', 'message': ""CI: Lower test VM memory by 200MB\n\nWe're seeing OOM events in CI, hopefully this helps.\n\nChange-Id: Id8c0e4830011ca2fa526df461ed5b9b01f769cf9\n""}, {'number': 2, 'created': '2021-12-09 00:45:41.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/259647c7cbbe5af445eef436f3bb57bb2672d010', 'message': ""CI: Lower test VM memory by 400MB\n\nWe're seeing OOM events in CI, hopefully this helps.\n\nChange-Id: Id8c0e4830011ca2fa526df461ed5b9b01f769cf9\n""}]",3,821140,259647c7cbbe5af445eef436f3bb57bb2672d010,18,3,2,11655,,,0,"CI: Lower test VM memory by 400MB

We're seeing OOM events in CI, hopefully this helps.

Change-Id: Id8c0e4830011ca2fa526df461ed5b9b01f769cf9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/821140/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,9a6f508925bb10fa0a7a2ea88bf99ba212e9f49f,, IRONIC_VM_SPECS_RAM: 2600, IRONIC_VM_SPECS_RAM: 3072,1,1
openstack%2Ftempest~master~Ic14c171f95dacdadcc68ed4fd7e6af52db1de21e,openstack/tempest,master,Ic14c171f95dacdadcc68ed4fd7e6af52db1de21e,Run 'slow' marked personality tests in tempest-slow job,ABANDONED,2018-09-21 03:19:54.000000000,2021-12-16 23:59:41.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-21 03:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e755f4de01571dd8fb27a00007d3ed578be5fb9', 'message': ""Run 'slow' marked personality tests in tempest-slow job\n\nFew personality tests has been marked as slow in\n- https://review.openstack.org/#/c/603900/\n\nso that those will not run in tempest-slow job\ninstead of tempest-full. But tempest-slow job\ndoes not enable the ENABLE_FILE_INJECTION flag on\ndevstack.\n\nThis commit enable the ENABLE_FILE_INJECTION on tempest-slow\njob also.\n\nChange-Id: Ic14c171f95dacdadcc68ed4fd7e6af52db1de21e\n""}, {'number': 2, 'created': '2019-05-28 11:36:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/874e1fcf6e6b6910ef054d986fdb3a0150f8b2e1', 'message': ""Run 'slow' marked personality tests in tempest-slow job\n\nFew personality tests has been marked as slow in\n- https://review.openstack.org/#/c/603900/\n\nwhich means personaility tests will not run in\ntempest-full job and supposed to run in tempest-slow job.\nBut tempest-slow job does not enable the\nENABLE_FILE_INJECTION flag on devstack.\n\nThis commit enable the ENABLE_FILE_INJECTION on tempest-slow\njob.\n\nChange-Id: Ic14c171f95dacdadcc68ed4fd7e6af52db1de21e\n""}]",2,604252,874e1fcf6e6b6910ef054d986fdb3a0150f8b2e1,18,6,2,8556,,,0,"Run 'slow' marked personality tests in tempest-slow job

Few personality tests has been marked as slow in
- https://review.openstack.org/#/c/603900/

which means personaility tests will not run in
tempest-full job and supposed to run in tempest-slow job.
But tempest-slow job does not enable the
ENABLE_FILE_INJECTION flag on devstack.

This commit enable the ENABLE_FILE_INJECTION on tempest-slow
job.

Change-Id: Ic14c171f95dacdadcc68ed4fd7e6af52db1de21e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/604252/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e755f4de01571dd8fb27a00007d3ed578be5fb9,bug/1783405, ENABLE_FILE_INJECTION: true,,1,0
openstack%2Fos-brick~stable%2Fvictoria~Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,openstack/os-brick,stable/victoria,Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,linuxscsi: Only raise and log multipathd errors when required,MERGED,2021-12-16 16:42:58.000000000,2021-12-16 23:12:58.000000000,2021-12-16 23:11:11.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 16:42:58.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4', 'message': ""linuxscsi: Only raise and log multipathd errors when required\n\nLogging and then ignoring multipathd errors when it isn't enforced is\nconfusing to operators investigating attach or detach issues.\n\nChange-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32\n(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)\n(cherry picked from commit d09dc9e51c783fde574f160476ed10efc21eee9a)\n""}]",1,822013,ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4,11,4,1,21129,,,0,"linuxscsi: Only raise and log multipathd errors when required

Logging and then ignoring multipathd errors when it isn't enforced is
confusing to operators investigating attach or detach issues.

Change-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32
(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)
(cherry picked from commit d09dc9e51c783fde574f160476ed10efc21eee9a)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/13/822013/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4,," except putils.ProcessExecutionError as err: if enforce_multipath: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code})"," except putils.ProcessExecutionError as err: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code}) if enforce_multipath:",44,5
openstack%2Fproject-config~master~I187b6f283d8c861c5f5a32c4c9b46f80bda19f94,openstack/project-config,master,I187b6f283d8c861c5f5a32c4c9b46f80bda19f94,nodepool: Remove yet still more . from openEuler,MERGED,2021-12-16 22:03:35.000000000,2021-12-16 22:42:04.000000000,2021-12-16 22:21:10.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 22:03:35.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bd04590212504d89a3de3419623c49a01f19c26a', 'message': 'nodepool: Remove yet still more . from openEuler\n\nChange I20e1a926d02a632450b8114d84a0fa738b7ec639 updated this for\nthe arm64 images, but we have amd64 images as well which will need\nthe same treatment.\n\nChange-Id: I187b6f283d8c861c5f5a32c4c9b46f80bda19f94\n'}]",0,822052,bd04590212504d89a3de3419623c49a01f19c26a,7,2,1,5263,,,0,"nodepool: Remove yet still more . from openEuler

Change I20e1a926d02a632450b8114d84a0fa738b7ec639 updated this for
the arm64 images, but we have amd64 images as well which will need
the same treatment.

Change-Id: I187b6f283d8c861c5f5a32c4c9b46f80bda19f94
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/822052/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,bd04590212504d89a3de3419623c49a01f19c26a,openeuler-dot, - name: openEuler-20-03-LTS-SP2 - name: openEuler-20-03-LTS-SP2, - name: openEuler-20.03-LTS-SP2 - name: openEuler-20.03-LTS-SP2,2,2
openstack%2Fkuryr-kubernetes~master~I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82,openstack/kuryr-kubernetes,master,I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82,KuryrLoadBalancer Listener Reconciliation,MERGED,2021-10-14 23:39:06.000000000,2021-12-16 22:33:35.000000000,2021-12-16 19:18:45.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-10-14 23:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8afe9ed018cac974da64308c0dd9b920edd51249', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThe project checks for KuryrLoadBalancer Listeners\non Kubernetes with OpenStack and reconciles missing\nListeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 2, 'created': '2021-10-21 10:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/98a54c9ff285bb8d1a6ecf2d7eb013c9caca644b', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 3, 'created': '2021-10-26 08:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74262a099c40362ef93e6768c281406a62785e5c', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 4, 'created': '2021-10-26 10:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b6fd2d0c6c4008e9be0d8f6135228bd756b4280', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 5, 'created': '2021-10-26 12:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f54b76e5860740ebe51f6b50e71d7d8a6c21e542', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 6, 'created': '2021-10-27 12:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c593efe954f8bfea52ffe6a5698ae10a40b54d91', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 7, 'created': '2021-11-07 08:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d4fd48a9c8adf5771c1a088777ecc14fa092c8a3', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 8, 'created': '2021-11-07 08:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fc188d29baf32459ee46e09f213159fc5752be69', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 9, 'created': '2021-11-07 08:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cd19143c670b282244d7ae9d8cad59b3b9bd6af2', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 10, 'created': '2021-11-08 10:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28d385f0cee2ffd6a5271f7cf983f7e8c65c698e', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 11, 'created': '2021-11-08 14:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5a33364d172a9b7bc49c35bc10f0c146f08f745b', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 12, 'created': '2021-11-10 10:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/26b9b38580f730c6f5c9ed99fdd79f149237803e', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 13, 'created': '2021-11-17 15:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1fea33c5acecf74a5703874e609042d3d37a1c56', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 14, 'created': '2021-11-25 13:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3e31b6abdbc609fd2320c5935da3e12bfd04443a', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 15, 'created': '2021-11-27 05:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2dbf212d47a1e904064cb1e1870888f7d97903fb', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 16, 'created': '2021-12-02 05:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/78988c1f4cc688e563d2ccc05dd43a1bccf3234d', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 17, 'created': '2021-12-02 12:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1836ba60df1b0996ec12d960f73da995f2483e79', 'message': 'wip: KuryrLoadBalancer Listener Reconciliation\n\nThis patch checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 18, 'created': '2021-12-02 15:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6429f7674d8a78e529a4510a8a52bc0bcda6bc4f', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 19, 'created': '2021-12-03 08:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a4282cf65c1b4fd3730ee73e9875c69c04f4c77a', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 20, 'created': '2021-12-03 14:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/160b96ec34d73e314533e72e0ccc4f486d8aeff8', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 21, 'created': '2021-12-04 18:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/68e55339a6290a7418668a9e27dd0e0e64db14b3', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares  with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 22, 'created': '2021-12-07 09:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5d0083c473a38b22d0681d5a9082f96b78cbab8c', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 23, 'created': '2021-12-10 14:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f94c08ea8f55bcde77bd5b34dc186e7fe04f77d9', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 24, 'created': '2021-12-10 15:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2e804b5127558a99287abe1c130f88fe57dad293', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 25, 'created': '2021-12-10 15:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/71b6d018a493a9492522499e11a0dab7866c8e2b', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 26, 'created': '2021-12-15 10:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6762bdb25c40294c91c2d95bffb0c78c6cf8053b', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 27, 'created': '2021-12-16 07:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8068e3abd8892e83cacd8e3670943723d85f9d88', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 28, 'created': '2021-12-16 08:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dceb37b7849b1eed29facb7803c4cb9e84349931', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}, {'number': 29, 'created': '2021-12-16 09:10:33.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6da97aa78811286fdfba90c60a7a87212222bfd0', 'message': 'KuryrLoadBalancer Listener Reconciliation\n\nThis commit checks for KuryrLoadBalancer Listeners\non Kubernetes and compares with OpenStack. It then\nreconciles missing Listeners\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82\n'}]",67,814077,6da97aa78811286fdfba90c60a7a87212222bfd0,120,5,29,33240,,,0,"KuryrLoadBalancer Listener Reconciliation

This commit checks for KuryrLoadBalancer Listeners
on Kubernetes and compares with OpenStack. It then
reconciles missing Listeners

Implements: blueprint reconcile-openstack-resources-with-k8s
Change-Id: I7dcd7f9069500bc6f58fecc7ee5e1621bc203b82
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/77/814077/29 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/loadbalancer.py'],1,8afe9ed018cac974da64308c0dd9b920edd51249,bp/reconcile-openstack-resources-with-k8s," self._trigger_listener_reconciliation(loadbalancer_crds) def _trigger_listener_reconciliation(self, loadbalancer_crds): LOG.debug(""Reconciling the listener CRDs"") # get the loadbalancers id in the CRD status crd_lsnrs_by_id = [{'id': l['id'], 'selflink': utils.get_res_link( loadbalancer_crd)} for loadbalancer_crd in loadbalancer_crds for l in loadbalancer_crd[ 'status'].get('listeners', [])] lbaas = clients.get_loadbalancer_client() lbaas_spec = {} self._drv_lbaas.add_tags('listener', lbaas_spec) lsners = lbaas.listeners(**lbaas_spec) lsners_id = [lsner['id'] for lsner in lsners] crds_to_reconcile_selflink = [crd_lb['selflink'] for crd_lb in crd_lsnrs_by_id if crd_lb['id'] not in lsners_id] if not crds_to_reconcile_selflink: LOG.debug(""KuryrLoadBalancer Listener CRDs already in sync"" ""with OpenStack"") return LOG.debug(""Reconciling the following KuryrLoadBalancer CRDs: %r"", crds_to_reconcile_selflink) self._reconcile_lbaas(crds_to_reconcile_selflink) ",,24,0
openstack%2Fneutron~master~I9fab40d789849f90673323ce4782ffb5273c1dcb,openstack/neutron,master,I9fab40d789849f90673323ce4782ffb5273c1dcb,Fix stackalytics' link,MERGED,2021-12-14 13:03:04.000000000,2021-12-16 21:56:12.000000000,2021-12-16 21:54:20.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-14 13:03:04.000000000', 'files': ['doc/source/contributor/policies/code-reviews.rst', 'doc/source/contributor/policies/neutron-teams.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3233c97f99f1ca1ef180c3912a686b36624c0b22', 'message': ""Fix stackalytics' link\n\nstackalytics was recently moved and the link is stackalytics.io.\n\nChange-Id: I9fab40d789849f90673323ce4782ffb5273c1dcb\n""}]",0,821704,3233c97f99f1ca1ef180c3912a686b36624c0b22,11,5,1,8313,,,0,"Fix stackalytics' link

stackalytics was recently moved and the link is stackalytics.io.

Change-Id: I9fab40d789849f90673323ce4782ffb5273c1dcb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/821704/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/policies/code-reviews.rst', 'doc/source/contributor/policies/neutron-teams.rst']",2,3233c97f99f1ca1ef180c3912a686b36624c0b22,stackalitics_link,* `30 day review stats <https://www.stackalytics.io/report/contribution?module=neutron-group&project_type=openstack&days=30>`_ * `60 day review stats <https://www.stackalytics.io/report/contribution?module=neutron-group&project_type=openstack&days=60>`_ * `90 day review stats <https://www.stackalytics.io/report/contribution?module=neutron-group&project_type=openstack&days=90>`_ * `180 day review stats <https://www.stackalytics.io/report/contribution?module=neutron-group&project_type=openstack&days=180>`_,* `30 day review stats <http://stackalytics.com/report/contribution/neutron-group/30>`_ * `60 day review stats <http://stackalytics.com/report/contribution/neutron-group/60>`_ * `90 day review stats <http://stackalytics.com/report/contribution/neutron-group/90>`_ * `180 day review stats <http://stackalytics.com/report/contribution/neutron-group/180>`_,8,8
openstack%2Fproject-config~master~I20e1a926d02a632450b8114d84a0fa738b7ec639,openstack/project-config,master,I20e1a926d02a632450b8114d84a0fa738b7ec639,nodepool: Remove . from openEuler name,MERGED,2021-12-16 20:40:26.000000000,2021-12-16 21:06:04.000000000,2021-12-16 20:58:57.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 20:40:26.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dc65009eaf3ee6f2d59e9bce994d771205371f4d', 'message': 'nodepool: Remove . from openEuler name\n\nWe have a bug uploading images with ""."" in the name.  Work around this\nfor now by avoid it.\n\nChange-Id: I20e1a926d02a632450b8114d84a0fa738b7ec639\n'}]",0,822046,dc65009eaf3ee6f2d59e9bce994d771205371f4d,8,3,1,7118,,,0,"nodepool: Remove . from openEuler name

We have a bug uploading images with ""."" in the name.  Work around this
for now by avoid it.

Change-Id: I20e1a926d02a632450b8114d84a0fa738b7ec639
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/822046/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'nodepool/nb03.opendev.org.yaml']",3,dc65009eaf3ee6f2d59e9bce994d771205371f4d,openeuler-dot, - name: openEuler-20-03-LTS-SP2-arm64 - name: openEuler-20-03-LTS-SP2-arm64 DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/openeuler/openEuler-20.03-LTS-SP2' , - name: openEuler-20.03-LTS-SP2-arm64 - name: openEuler-20.03-LTS-SP2-arm64 DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/openeuler/openEuler-20.03-LTS-SP2',13,13
openstack%2Fpython-manilaclient~master~I1992a9f4cce93fd2e6394c87a7d54a7ee2405fb9,openstack/python-manilaclient,master,I1992a9f4cce93fd2e6394c87a7d54a7ee2405fb9,Move release notes to correct folders,MERGED,2021-12-16 16:58:17.000000000,2021-12-16 21:04:40.000000000,2021-12-16 21:02:51.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 16:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/be91164628b0e5bdd1eaba196303299082f5d088', 'message': 'Move release notes to correct folders\n\nChange-Id: I1992a9f4cce93fd2e6394c87a7d54a7ee2405fb9\n'}, {'number': 2, 'created': '2021-12-16 18:54:09.000000000', 'files': ['releasenotes/notes/bug-1899325-implement-usage-of-c-or-column-without-additional-logic-2970ee294f32bd31.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c34f59326f507758ed5847adef0eedfff68e50e5', 'message': 'Move release notes to correct folders\n\nChange-Id: I1992a9f4cce93fd2e6394c87a7d54a7ee2405fb9\n'}]",2,822003,c34f59326f507758ed5847adef0eedfff68e50e5,10,2,2,6413,,,0,"Move release notes to correct folders

Change-Id: I1992a9f4cce93fd2e6394c87a7d54a7ee2405fb9
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/03/822003/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/releasenotes/notes/bug-1899325-implement-usage-of-c-or-column-without-additional-logic-2970ee294f32bd31.yaml'],1,be91164628b0e5bdd1eaba196303299082f5d088,fix-reno,,"--- fixes: - | The commands ""openstack share type list"" and ""openstack share access list"" no longer support the ""--columns"" option. Use ""--column"" to filter the output. ",0,8
openstack%2Fswift~stable%2Fussuri~I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,openstack/swift,stable/ussuri,I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,Fix cname_lookup test,MERGED,2021-12-14 23:49:40.000000000,2021-12-16 20:34:54.000000000,2021-12-16 20:33:07.000000000,"[{'_account_id': 15343}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 23:49:40.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ade6b52f5058fb5f99f77645a468841abb3fc892', 'message': ""Fix cname_lookup test\n\nc.badtest.com actually has a CNAME now, and apparently we're actually\ndoing the look-up during tests.\n\nChange-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc\n(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)\n""}]",2,821761,ade6b52f5058fb5f99f77645a468841abb3fc892,12,3,1,15343,,,0,"Fix cname_lookup test

c.badtest.com actually has a CNAME now, and apparently we're actually
doing the look-up during tests.

Change-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc
(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/821761/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_cname_lookup.py'],1,ade6b52f5058fb5f99f77645a468841abb3fc892,," @mock.patch('dns.resolver.Resolver.query', side_effect=dns.exception.DNSException) def test_host_is_storage_domain(self, mock_lookup): self.assertEqual(1, len(mock_lookup.mock_calls)) mock_lookup.reset_mock() self.assertEqual(0, len(mock_lookup.mock_calls))", def test_host_is_storage_domain(self):,6,1
openstack%2Fkayobe~master~I2f6c2f92903815973865ef0f5d6b867d5b995bd5,openstack/kayobe,master,I2f6c2f92903815973865ef0f5d6b867d5b995bd5,Add overcloud_dib_upper_constraints_file variable,MERGED,2021-11-29 11:50:01.000000000,2021-12-16 20:33:39.000000000,2021-12-16 20:31:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-11-29 11:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e226aff4b44de8ba0221ebad8e1ffd2be3640bfb', 'message': 'Add overcloud_dib_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the overcloud-host-image-dib virtual\nenvironment. This can be used when we need a newer version of\ndiskimage-builder than the one available in upper constraints for the\ncurrent release.\n\nChange-Id: I2f6c2f92903815973865ef0f5d6b867d5b995bd5\n'}, {'number': 2, 'created': '2021-12-01 05:28:20.000000000', 'files': ['etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'ansible/group_vars/all/overcloud-dib'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ad3f6f10a2dd7078c69efc1418a2c70b05dc2a54', 'message': 'Add overcloud_dib_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the overcloud-host-image-dib virtual\nenvironment. This can be used when we need a newer version of\ndiskimage-builder than the one available in upper constraints for the\ncurrent release.\n\nChange-Id: I2f6c2f92903815973865ef0f5d6b867d5b995bd5\nStory: 2002098\nTask: 44101\n'}]",0,819630,ad3f6f10a2dd7078c69efc1418a2c70b05dc2a54,10,3,2,15197,,,0,"Add overcloud_dib_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the overcloud-host-image-dib virtual
environment. This can be used when we need a newer version of
diskimage-builder than the one available in upper constraints for the
current release.

Change-Id: I2f6c2f92903815973865ef0f5d6b867d5b995bd5
Story: 2002098
Task: 44101
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/819630/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/overcloud-dib.yml', 'ansible/overcloud-host-image-build.yml', 'ansible/group_vars/all/overcloud-dib']",3,e226aff4b44de8ba0221ebad8e1ffd2be3640bfb,story/2002098," # Upper constraints file for installing packages in the virtual environment # used for building overcloud host disk images. Default is {{ # pip_upper_constraints_file }}. overcloud_dib_upper_constraints_file: ""{{ pip_upper_constraints_file }}""",,11,1
openstack%2Fneutron~master~Ibc71d26cbb0dce99ea6dad9e5ccd0966e72f3f20,openstack/neutron,master,Ibc71d26cbb0dce99ea6dad9e5ccd0966e72f3f20,Update placement allocation of bound ports when network QoS policy is changed,MERGED,2021-11-23 12:02:19.000000000,2021-12-16 20:16:41.000000000,2021-12-16 20:13:26.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-23 12:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2430457916b7d5b80e67f78b035e1b6d56a19b3', 'message': 'Update placement allocation of bound ports when network QoS policy is changed\n\nWhen QoS policy is changed on a network, placement allocation of bound\nports in that network has to be updated. This applies only to ports\nthat do not overwrite network QoS policy.\n\nTo detect network resource change, a new callback is registered for\nAFTER_UPDATE event.\n\nCloses-Bug: #1915898\nChange-Id: Ibc71d26cbb0dce99ea6dad9e5ccd0966e72f3f20\n'}, {'number': 2, 'created': '2021-11-24 14:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a4a0b63eed8cab251b65a91825459b1bc2b6e01', 'message': 'Update placement allocation of bound ports when network QoS policy is changed\n\nWhen QoS policy is changed on a network, placement allocation of bound\nports in that network has to be updated. This applies only to ports\nthat do not overwrite network QoS policy.\n\nTo detect network resource change, a new callback is registered for\nAFTER_UPDATE event.\n\nCloses-Bug: #1915898\nChange-Id: Ibc71d26cbb0dce99ea6dad9e5ccd0966e72f3f20\n'}, {'number': 3, 'created': '2021-11-25 08:03:22.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e68a2832114739264dbbd42766b4991afa2e0d0d', 'message': 'Update placement allocation of bound ports when network QoS policy is changed\n\nWhen QoS policy is changed on a network, placement allocation of bound\nports in that network has to be updated. This applies only to ports\nthat do not overwrite network QoS policy.\n\nTo detect network resource change, a new callback is registered for\nAFTER_UPDATE event.\n\nCloses-Bug: #1915898\nChange-Id: Ibc71d26cbb0dce99ea6dad9e5ccd0966e72f3f20\n'}]",9,818889,e68a2832114739264dbbd42766b4991afa2e0d0d,45,6,3,33652,,,0,"Update placement allocation of bound ports when network QoS policy is changed

When QoS policy is changed on a network, placement allocation of bound
ports in that network has to be updated. This applies only to ports
that do not overwrite network QoS policy.

To detect network resource change, a new callback is registered for
AFTER_UPDATE event.

Closes-Bug: #1915898
Change-Id: Ibc71d26cbb0dce99ea6dad9e5ccd0966e72f3f20
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/818889/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,b2430457916b7d5b80e67f78b035e1b6d56a19b3,bug/1915898," def _make_port(self, network_id, qos_policy_id=None, port_id=None, device_owner=None): device_owner = device_owner if device_owner else '3' self.context, network_id=network_id, device_owner=device_owner, def test_check_network_for_placement_allocation_change_no_qos_change(self): qos1 = self._make_qos_policy() original_network = self._make_network(qos1.id) network = original_network ml2plugin_mock = mock.MagicMock() with mock.patch.object( self.qos_plugin, '_change_placement_allocation') as mock_alloc_change: self.qos_plugin._check_network_for_placement_allocation_change( 'network', 'after_update', ml2plugin_mock, payload=events.DBEventPayload( self.context, states=(original_network, network))) mock_alloc_change.assert_not_called() ml2plugin_mock._make_port_dict.assert_not_called() def test_check_network_for_placement_allocation_change_no_ports_to_update( self): original_qos = self._make_qos_policy() qos = self._make_qos_policy() port_qos = self._make_qos_policy() original_network = self._make_network(original_qos.id) network = self._make_network(qos.id) # Port which is not compute bound self._make_port(network_id=network.id, qos_policy_id=None, device_owner='uu:id') # Port with overwritten QoS policy self._make_port(network_id=network.id, qos_policy_id=port_qos.id, device_owner='compute:uu:id') ml2plugin_mock = mock.MagicMock() with mock.patch.object( self.qos_plugin, '_change_placement_allocation') as mock_alloc_change: self.qos_plugin._check_network_for_placement_allocation_change( 'network', 'after_update', ml2plugin_mock, payload=events.DBEventPayload( self.context, states=(original_network, network))) mock_alloc_change.assert_not_called() ml2plugin_mock._make_port_dict.assert_not_called() def test_check_network_for_placement_allocation_change(self): original_qos = self._make_qos_policy() qos = self._make_qos_policy() original_network = self._make_network(original_qos.id) network = self._make_network(qos.id) ml2plugin_mock = mock.MagicMock() def fake_make_port_dict(port): return { 'id': port.id, 'device_owner': port.device_owner, 'qos_policy_id': port.qos_policy_id, 'qos_network_policy_id': port.qos_network_policy_id, } ml2plugin_mock._make_port_dict.side_effect = fake_make_port_dict port1 = self._make_port( network_id=network.id, qos_policy_id=None, device_owner='compute:uu:id') port1_binding = ports_object.PortBinding( self.context, port_id=port1.id, host='fake_host1', vnic_type='fake_vnic_type', vif_type='fake_vif_type', profile={}) port1_binding.create() port1.bindings = [port1_binding] port1.update() port2 = self._make_port( network_id=network.id, qos_policy_id=None, device_owner='compute:uu:id') port2_binding = ports_object.PortBinding( self.context, port_id=port2.id, host='fake_host2', vnic_type='fake_vnic_type', vif_type='fake_vif_type', profile={}) port2_binding.create() port2.bindings = [port2_binding] port2.update() with mock.patch.object( self.qos_plugin, '_change_placement_allocation') as mock_alloc_change: def fake_change_placement_allocation(orig_policy, policy, orig_port, port): port['binding:profile'] = {'allocation': 'fake_allocation'} mock_alloc_change.side_effect = fake_change_placement_allocation self.qos_plugin._check_network_for_placement_allocation_change( 'network', 'after_update', ml2plugin_mock, payload=events.DBEventPayload( self.context, states=(original_network, network))) self.assertEqual(ml2plugin_mock._make_port_dict.call_count, 2) mock_alloc_change_calls = [ mock.call( original_qos, qos, {'id': port1.id, 'device_owner': 'compute:uu:id', 'qos_policy_id': None, 'qos_network_policy_id': qos.id}, mock.ANY), mock.call( original_qos, qos, {'id': port2.id, 'device_owner': 'compute:uu:id', 'qos_policy_id': None, 'qos_network_policy_id': qos.id}, mock.ANY)] mock_alloc_change.assert_has_calls(mock_alloc_change_calls, any_order=True) port1.update() port2.update() self.assertDictEqual( port1.bindings[0].profile, {'allocation': 'fake_allocation'}) self.assertDictEqual( port2.bindings[0].profile, {'allocation': 'fake_allocation'}) "," def _make_port(self, network_id, qos_policy_id=None, port_id=None): self.context, network_id=network_id, device_owner='3',",158,2
openstack%2Frequirements~stable%2Fussuri~I6efffb447d998fd1d7edb65bfa689ed435f85602,openstack/requirements,stable/ussuri,I6efffb447d998fd1d7edb65bfa689ed435f85602,Cap setuptools to <58.0.0,MERGED,2021-12-16 15:39:24.000000000,2021-12-16 20:13:23.000000000,2021-12-16 20:13:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 15:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a4cb8d239d1b95bacfb65611ab208c8773fdda8a', 'message': 'Cap setuptools to <58.0.0\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0 which is still being used in Ussuri and Train.\n\nChange-Id: I6efffb447d998fd1d7edb65bfa689ed435f85602\n'}, {'number': 2, 'created': '2021-12-16 16:07:49.000000000', 'files': ['global-requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6d3c282da968938ef234546797a4f4dfee2aca8f', 'message': 'Cap setuptools to <58.0.0\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0 which is still being used in Ussuri and Train.\n\nChange-Id: I6efffb447d998fd1d7edb65bfa689ed435f85602\n'}]",0,821992,6d3c282da968938ef234546797a4f4dfee2aca8f,7,2,2,3153,,,0,"Cap setuptools to <58.0.0

Setuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of
decorator 3.4.0 which is still being used in Ussuri and Train.

Change-Id: I6efffb447d998fd1d7edb65bfa689ed435f85602
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/821992/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,a4cb8d239d1b95bacfb65611ab208c8773fdda8a,use_2to3,"# Cap setuptools to 58.0.0 on python3.5 due to the incompatibility with decorator 3.4.0. setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,<58.0.0;python_version>='3.5' # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0;python_version>='3.5' # PSF/ZPL",2,1
openstack%2Fcharms.openstack~master~Id88eda48764ec244f992d2905a64fc19605e439d,openstack/charms.openstack,master,Id88eda48764ec244f992d2905a64fc19605e439d,Add xena and yoga to testing mocks,MERGED,2021-12-16 19:24:03.000000000,2021-12-16 20:05:19.000000000,2021-12-16 20:05:19.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 19:24:03.000000000', 'files': ['charms_openstack/test_mocks.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8a1b220486ba43e97067a3086afb8dde4f11e7bb', 'message': 'Add xena and yoga to testing mocks\n\nChange-Id: Id88eda48764ec244f992d2905a64fc19605e439d\n'}]",1,822039,8a1b220486ba43e97067a3086afb8dde4f11e7bb,6,2,1,11805,,,0,"Add xena and yoga to testing mocks

Change-Id: Id88eda48764ec244f992d2905a64fc19605e439d
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/39/822039/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/test_mocks.py'],1,8a1b220486ba43e97067a3086afb8dde4f11e7bb,," 'xena', 'yoga',",,2,0
openstack%2Fopenstack-ansible~stable%2Fxena~Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01,openstack/openstack-ansible,stable/xena,Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01,[doc] Add Xena compatible OS,MERGED,2021-12-16 18:58:56.000000000,2021-12-16 19:51:07.000000000,2021-12-16 19:47:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-16 18:58:56.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c17fd726a9dd810f12b66991a832ae50b62cd48', 'message': '[doc] Add Xena compatible OS\n\nChange-Id: Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01\n(cherry picked from commit 48de575aee889c33b0740dd7d35abfabfb0e0fa1)\n'}]",0,822020,9c17fd726a9dd810f12b66991a832ae50b62cd48,8,3,1,28619,,,0,"[doc] Add Xena compatible OS

Change-Id: Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01
(cherry picked from commit 48de575aee889c33b0740dd7d35abfabfb0e0fa1)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/822020/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,9c17fd726a9dd810f12b66991a832ae50b62cd48,," <tr class=""active""> <th rowspan=""2"" style=""vertical-align: middle"">Xena</td> <td>source</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>distro</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>",,25,0
openstack%2Fopenstack-ansible~stable%2Fxena~Idc7b1c8908b150eaaf12980612083d31d3a5b669,openstack/openstack-ansible,stable/xena,Idc7b1c8908b150eaaf12980612083d31d3a5b669,Add documentation of security improvements made to Openstack Ansible,MERGED,2021-12-14 16:38:35.000000000,2021-12-16 19:49:23.000000000,2021-12-16 19:47:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31749}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-14 16:38:35.000000000', 'files': ['doc/source/user/security/security-txt.rst', 'doc/source/user/security/security-headers.rst', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/haproxy/haproxy.yml', 'doc/source/user/security/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/50c8a2283f0bc693c9eb1e45d207a7b1d940956a', 'message': 'Add documentation of security improvements made to Openstack Ansible\n\nIn the past couple of weeks a number of security patches have\nbeen made to openstack-ansible, this patch documents these\nchanges. Hopefully the level of the documentation gives the users\nenough background on what the changes are and how to use them,\nwithout going into the detailed specifics of each feature.\n\nRegarding the upgrade to TLS for haproxy internal VIP and backends\nin existing deployments, I have some ideas on how this could be\ndone without causing downtime but have not had chance to test\nthis yet. The idea is to use a TCP frontend that accepts both\nHTTP and HTTPS traffic and redirects to correct frontend for each.\n\nChange-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669\n(cherry picked from commit 8ad37b254d47238d50a249beb06996df4fcbad37)\n'}]",1,821529,50c8a2283f0bc693c9eb1e45d207a7b1d940956a,14,4,1,28619,,,0,"Add documentation of security improvements made to Openstack Ansible

In the past couple of weeks a number of security patches have
been made to openstack-ansible, this patch documents these
changes. Hopefully the level of the documentation gives the users
enough background on what the changes are and how to use them,
without going into the detailed specifics of each feature.

Regarding the upgrade to TLS for haproxy internal VIP and backends
in existing deployments, I have some ideas on how this could be
done without causing downtime but have not had chance to test
this yet. The idea is to use a TCP frontend that accepts both
HTTP and HTTPS traffic and redirects to correct frontend for each.

Change-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669
(cherry picked from commit 8ad37b254d47238d50a249beb06996df4fcbad37)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/821529/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/security/security-txt.rst', 'doc/source/user/security/security-headers.rst', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/haproxy/haproxy.yml', 'doc/source/user/security/index.rst']",5,50c8a2283f0bc693c9eb1e45d207a7b1d940956a,docs-stable/xena,.. include:: security-headers.rst .. include:: security-txt.rst,,309,11
openstack%2Fcharm-masakari-monitors~master~Id883c117e73e71842fbe7a96e0471b37e999020f,openstack/charm-masakari-monitors,master,Id883c117e73e71842fbe7a96e0471b37e999020f,Remove all traces of process monitor,MERGED,2021-11-04 11:41:04.000000000,2021-12-16 19:48:12.000000000,2021-12-16 19:48:12.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 11:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/49d177fbc08e3c42bbd0f4b4dda8b32b4323adfa', 'message': 'Remove all traces of process monitor\n\nThe Masakari process monitor is explicitly outside the scope of\nwhat we chose to enable when the original charm development was\ndone for Masakari.\n\nDrop installation of the process monitor package and related\ntemplates and configuration.\n\nRelated-Bug: 1941623\nChange-Id: Id883c117e73e71842fbe7a96e0471b37e999020f\n'}, {'number': 2, 'created': '2021-11-04 14:07:20.000000000', 'files': ['src/templates/masakarimonitors.conf', 'requirements.txt', 'test-requirements.txt', 'src/lib/charm/openstack/masakari_monitors.py', 'src/templates/process_list.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/2f33d9afeb74bd8e6d31cfe76481dd445537b4fc', 'message': 'Remove all traces of process monitor\n\nThe Masakari process monitor is explicitly outside the scope of\nwhat we chose to enable when the original charm development was\ndone for Masakari.\n\nDrop installation of the process monitor package and related\ntemplates and configuration.\n\nDrive-by fixup of requirements for older Pythons.\n\nRelated-Bug: 1941623\nChange-Id: Id883c117e73e71842fbe7a96e0471b37e999020f\n'}]",1,816649,2f33d9afeb74bd8e6d31cfe76481dd445537b4fc,10,4,2,935,,,0,"Remove all traces of process monitor

The Masakari process monitor is explicitly outside the scope of
what we chose to enable when the original charm development was
done for Masakari.

Drop installation of the process monitor package and related
templates and configuration.

Drive-by fixup of requirements for older Pythons.

Related-Bug: 1941623
Change-Id: Id883c117e73e71842fbe7a96e0471b37e999020f
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/49/816649/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/masakarimonitors.conf', 'src/lib/charm/openstack/masakari_monitors.py', 'src/templates/process_list.yaml']",3,49d177fbc08e3c42bbd0f4b4dda8b32b4323adfa,drop-process-monitor,,# WARNING: Maintained by Juju. # Any manual changes will be overridden. # Define the monitoring processes as follows: # process_name: [Name of the process as it in 'ps -ef'.] # start_command: [Start command of the process.] # pre_start_command: [Command which is executed before start_command.] # post_start_command: [Command which is executed after start_command.] # restart_command: [Restart command of the process.] # pre_restart_command: [Command which is executed before restart_command.] # post_restart_command: [Command which is executed after restart_command.] # run_as_root: [Bool value whether to execute commands as root authority.] # # These definitions need to be set according to the environment to use. # Sample of definitions is shown below. - # libvirt-bin process_name: /usr/sbin/libvirtd start_command: systemctl start libvirtd pre_start_command: post_start_command: restart_command: systemctl restart libvirtd pre_restart_command: post_restart_command: run_as_root: True - # nova-compute process_name: /usr/bin/nova-compute start_command: systemctl start nova-compute pre_start_command: post_start_command: restart_command: systemctl restart nova-compute pre_restart_command: post_restart_command: run_as_root: True - # instancemonitor process_name: /usr/bin/masakari-instancemonitor start_command: systemctl start masakari-instance-monitor pre_start_command: post_start_command: restart_command: systemctl restart masakari-instance-monitor pre_restart_command: post_restart_command: run_as_root: True - # hostmonitor process_name: /usr/bin/masakari-hostmonitor start_command: systemctl start masakari-host-monitor pre_start_command: post_start_command: restart_command: systemctl restart masakari-host-monitor pre_restart_command: post_restart_command: run_as_root: True - # sshd process_name: /usr/sbin/sshd start_command: systemctl start ssh pre_start_command: post_start_command: restart_command: systemctl restart ssh pre_restart_command: post_restart_command: run_as_root: True ,2,71
openstack%2Fkuryr-kubernetes~master~If4f3173bd3bdf72862c2f0f94ed016b68eaccb30,openstack/kuryr-kubernetes,master,If4f3173bd3bdf72862c2f0f94ed016b68eaccb30,Remove another log without sense,MERGED,2021-12-15 16:31:04.000000000,2021-12-16 19:40:11.000000000,2021-12-16 19:38:20.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-15 16:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3b0e678f6c35cf284bface580479c2e74badee98', 'message': ""Remove another log without sense\n\nIn Endpoints' on_delete we're attempting to remove spec.endpointSlices\nfrom the KuryrLoadBalancer object. In case of 422 Unprocessable Entity\nerror we're logging a warning. Such code is however mostly returned when\nour patch cannot be applied, so in this particular case when spec is\nalready missing the endpointSlices field. This patch makes sure we don't\nlog anything in that case as it's definitely not a warning.\n\nChange-Id: If4f3173bd3bdf72862c2f0f94ed016b68eaccb30\n""}, {'number': 2, 'created': '2021-12-15 22:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5e4ca2fce4723054605d1ec23553a30477a90c41', 'message': ""Remove another log without sense\n\nIn Endpoints' on_delete we're attempting to remove spec.endpointSlices\nfrom the KuryrLoadBalancer object. In case of 422 Unprocessable Entity\nerror we're logging a warning. Such code is however mostly returned when\nour patch cannot be applied, so in this particular case when spec is\nalready missing the endpointSlices field. This patch makes sure we don't\nlog anything in that case as it's definitely not a warning.\n\nChange-Id: If4f3173bd3bdf72862c2f0f94ed016b68eaccb30\n""}, {'number': 3, 'created': '2021-12-16 07:53:57.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/769d213c3afdb5fad8a1e19c1c331a730c623729', 'message': ""Remove another log without sense\n\nIn Endpoints' on_delete we're attempting to remove spec.endpointSlices\nfrom the KuryrLoadBalancer object. In case of 422 Unprocessable Entity\nerror we're logging a warning. Such code is however mostly returned when\nour patch cannot be applied, so in this particular case when spec is\nalready missing the endpointSlices field. This patch makes sure we don't\nlog anything in that case as it's definitely not a warning.\n\nChange-Id: If4f3173bd3bdf72862c2f0f94ed016b68eaccb30\n""}]",3,821861,769d213c3afdb5fad8a1e19c1c331a730c623729,22,5,3,11600,,,0,"Remove another log without sense

In Endpoints' on_delete we're attempting to remove spec.endpointSlices
from the KuryrLoadBalancer object. In case of 422 Unprocessable Entity
error we're logging a warning. Such code is however mostly returned when
our patch cannot be applied, so in this particular case when spec is
already missing the endpointSlices field. This patch makes sure we don't
log anything in that case as it's definitely not a warning.

Change-Id: If4f3173bd3bdf72862c2f0f94ed016b68eaccb30
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/61/821861/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,3b0e678f6c35cf284bface580479c2e74badee98,remove-another-log," lb_name = utils.get_res_unique_name(endpoints) try: kubernetes.patch_crd('spec', utils.get_klb_crd_path(endpoints), 'endpointSlices', action='remove') # This happens when endpointSlices doesn't exist on the KLB, # safe to ignore, the resources is in the state we want already. pass"," lb_name = endpoints['metadata']['name'] try: kubernetes.patch_crd('spec', utils.get_klb_crd_path(endpoints), 'endpointSlices', action='remove') LOG.warning('KuryrLoadBalancer %s modified, ignoring.', lb_name)",6,6
openstack%2Fcharm-cinder-purestorage~master~I535a61480d3349ad2d8e9bac6391f629fdb67c0a,openstack/charm-cinder-purestorage,master,I535a61480d3349ad2d8e9bac6391f629fdb67c0a,DNM: Check if test_create_volume is fixed,ABANDONED,2021-12-16 14:45:40.000000000,2021-12-16 19:38:02.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 14:45:40.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/b2a16514769c6e34e14381ea347e0409328f6f3f', 'message': 'DNM: Check if test_create_volume is fixed\n\nRelated-Bug: #1947702\nChange-Id: I535a61480d3349ad2d8e9bac6391f629fdb67c0a\n'}]",0,821986,b2a16514769c6e34e14381ea347e0409328f6f3f,4,2,1,11805,,,0,"DNM: Check if test_create_volume is fixed

Related-Bug: #1947702
Change-Id: I535a61480d3349ad2d8e9bac6391f629fdb67c0a
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/86/821986/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b2a16514769c6e34e14381ea347e0409328f6f3f,,e8a63b6e-8815-4003-aaf4-29447d6730b7,53b88b0a-1178-11ec-8522-47c722334a7b,1,1
openstack%2Fkuryr-kubernetes~master~Ia9fb5cac516bc042c20897d8527afdfb8661b42b,openstack/kuryr-kubernetes,master,Ia9fb5cac516bc042c20897d8527afdfb8661b42b,Add events for Network Policy related activities.,MERGED,2021-12-03 13:20:08.000000000,2021-12-16 19:20:20.000000000,2021-12-16 19:18:43.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-03 13:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b44acd43373a3edb2023e5b4ee02c15029f3c3f6', 'message': '[WIP] Add events for Network Policy related issues.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n'}, {'number': 2, 'created': '2021-12-06 13:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0e871bffd0f3409f2922fd9e532d57b1686da49', 'message': 'Add events for Network Policy related activities.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n'}, {'number': 3, 'created': '2021-12-10 14:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7a9ee2b5ea13bbe6bd3ac9701db6ef4f0091bbec', 'message': ""[WIP] Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}, {'number': 4, 'created': '2021-12-13 10:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1247297d27d6e11231440f8009cb2c3c41b158e4', 'message': ""Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}, {'number': 5, 'created': '2021-12-13 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d4d7fe132c48587f0caabad3329ccf9334b4e313', 'message': ""Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}, {'number': 6, 'created': '2021-12-15 12:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9c89a029ea3a5887cb2382e368eb21829c49066b', 'message': ""Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}, {'number': 7, 'created': '2021-12-16 05:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2e9d1f49de68e267a4c40345a7ab7b0bcf22261c', 'message': ""Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}, {'number': 8, 'created': '2021-12-16 09:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2dc90220f48c37efc0c605f9f0a6e5b0613ccb06', 'message': ""Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}, {'number': 9, 'created': '2021-12-16 13:16:21.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/exceptions.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7369dc2f6734c135c6b93a5467f95507ab4279f3', 'message': ""Add events for Network Policy related activities.\n\nBesides that, added ownerReferences to the KuryrNetworkPolicy, so that\nwe don't need to query kubertnetes API about uid of NetworkPolicy\nobject. Although side effect of that field is, that it will be removed\nalongside with NetworkPolicy, but it's acceptable, since we remove it\nanyway after NetworkPolicy removal.\n\nChange-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b\n""}]",26,820380,7369dc2f6734c135c6b93a5467f95507ab4279f3,40,3,9,13692,,,0,"Add events for Network Policy related activities.

Besides that, added ownerReferences to the KuryrNetworkPolicy, so that
we don't need to query kubertnetes API about uid of NetworkPolicy
object. Although side effect of that field is, that it will be removed
alongside with NetworkPolicy, but it's acceptable, since we remove it
anyway after NetworkPolicy removal.

Change-Id: Ia9fb5cac516bc042c20897d8527afdfb8661b42b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/80/820380/8 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/exceptions.py']",4,b44acd43373a3edb2023e5b4ee02c15029f3c3f6,events," self.message = ""Resource not ready: %r"" % msg super(ResourceNotReady, self).__init__(self.message)"," super(ResourceNotReady, self).__init__(""Resource not ready: %r"" % msg)",51,8
openstack%2Fopenstack-ansible~master~Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01,openstack/openstack-ansible,master,Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01,[doc] Add Xena compatible OS,MERGED,2021-12-14 08:53:01.000000000,2021-12-16 18:59:28.000000000,2021-12-16 18:55:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-12-14 08:53:01.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48de575aee889c33b0740dd7d35abfabfb0e0fa1', 'message': '[doc] Add Xena compatible OS\n\nChange-Id: Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01\n'}]",1,821676,48de575aee889c33b0740dd7d35abfabfb0e0fa1,13,4,1,28619,,,0,"[doc] Add Xena compatible OS

Change-Id: Ie05efc8b7f62d01df9e6f73acf9846b54b3ddd01
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/821676/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,48de575aee889c33b0740dd7d35abfabfb0e0fa1,," <tr class=""active""> <th rowspan=""2"" style=""vertical-align: middle"">Xena</td> <td>source</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>distro</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr>",,25,0
openstack%2Fopenstack-ansible~master~I6561ef28831f55490e742b371bdccd0ecd2fd113,openstack/openstack-ansible,master,I6561ef28831f55490e742b371bdccd0ecd2fd113,Change haproxy variable used to set security headers to haproxy_frontend_raw,MERGED,2021-12-15 10:03:19.000000000,2021-12-16 18:57:48.000000000,2021-12-16 18:55:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-15 10:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/948a0daebef4c590a4e062ccc101b3ef58bb3552', 'message': 'Change haproxy variable used to set security headers to haproxy_frontend_raw\n\nHaproxy role has changed the naming of ``haproxy_raw`` to\n ``haproxy_frontend_raw``\n\nChange-Id: I6561ef28831f55490e742b371bdccd0ecd2fd113\n'}, {'number': 2, 'created': '2021-12-16 03:41:39.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5d9a074d10bd44999b968395bac7130c25977b09', 'message': 'Change haproxy variable used to set security headers to haproxy_frontend_raw\n\nHaproxy role has changed the naming of ``haproxy_raw`` to\n ``haproxy_frontend_raw``\n\nChange-Id: I6561ef28831f55490e742b371bdccd0ecd2fd113\n'}]",2,821814,5d9a074d10bd44999b968395bac7130c25977b09,18,3,2,31749,,,0,"Change haproxy variable used to set security headers to haproxy_frontend_raw

Haproxy role has changed the naming of ``haproxy_raw`` to
 ``haproxy_frontend_raw``

Change-Id: I6561ef28831f55490e742b371bdccd0ecd2fd113
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/821814/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,948a0daebef4c590a4e062ccc101b3ef58bb3552,security-headers-raw," haproxy_frontend_raw: ""{{ (haproxy_ssl | bool and haproxy_security_headers is defined) | ternary( haproxy_security_headers + [ haproxy_horizon_csp | default(haproxy_security_headers_csp)], []) }}"""," haproxy_raw: ""{{ (haproxy_ssl | bool and haproxy_security_headers is defined) | ternary( haproxy_security_headers + [ haproxy_horizon_csp | default(haproxy_security_headers_csp)], []) }}""",1,1
openstack%2Fmanila-ui~master~I4b0812ee828635c6bf21957710f5716c18169660,openstack/manila-ui,master,I4b0812ee828635c6bf21957710f5716c18169660,"API v2.39, added share-type quotas",NEW,2021-06-30 09:07:17.000000000,2021-12-16 18:35:57.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 09:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/44f25743b2c734b07c3ea08304a0789162b0ce43', 'message': 'API v2.39, added share-type quotas\n\nChange-Id: I4b0812ee828635c6bf21957710f5716c18169660\n'}, {'number': 2, 'created': '2021-07-06 09:13:58.000000000', 'files': ['manila_ui/dashboards/admin/defaults/workflows.py', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/1e3f3e7966c51bbe8df99ab60d376507eeac00c2', 'message': 'API v2.39, added share-type quotas\n\nChange-Id: I4b0812ee828635c6bf21957710f5716c18169660\n'}]",2,798807,1e3f3e7966c51bbe8df99ab60d376507eeac00c2,10,3,2,33380,,,0,"API v2.39, added share-type quotas

Change-Id: I4b0812ee828635c6bf21957710f5716c18169660
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/07/798807/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/admin/defaults/workflows.py', 'manila_ui/api/manila.py']",2,44f25743b2c734b07c3ea08304a0789162b0ce43,add-share-type-quotas,"MANILA_VERSION = ""2.39"" ""share_type_quotas"", ""share_type_quotas"": ""share_type_quotas"",","MANILA_VERSION = ""2.44""",6,1
openstack%2Fswift~stable%2Ftrain~I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,openstack/swift,stable/train,I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,Fix cname_lookup test,MERGED,2021-12-14 23:49:52.000000000,2021-12-16 18:04:44.000000000,2021-12-16 18:02:54.000000000,"[{'_account_id': 15343}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 23:49:52.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2bffa1e205c499768abd767f0ec4d6f0dc745e85', 'message': ""Fix cname_lookup test\n\nc.badtest.com actually has a CNAME now, and apparently we're actually\ndoing the look-up during tests.\n\nChange-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc\n(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)\n""}]",1,821762,2bffa1e205c499768abd767f0ec4d6f0dc745e85,9,3,1,15343,,,0,"Fix cname_lookup test

c.badtest.com actually has a CNAME now, and apparently we're actually
doing the look-up during tests.

Change-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc
(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)
",git fetch https://review.opendev.org/openstack/swift refs/changes/62/821762/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_cname_lookup.py'],1,2bffa1e205c499768abd767f0ec4d6f0dc745e85,," @mock.patch('dns.resolver.Resolver.query', side_effect=dns.exception.DNSException) def test_host_is_storage_domain(self, mock_lookup): self.assertEqual(1, len(mock_lookup.mock_calls)) mock_lookup.reset_mock() self.assertEqual(0, len(mock_lookup.mock_calls))", def test_host_is_storage_domain(self):,6,1
openstack%2Fkuryr-kubernetes~master~I59cf314f9bdd389def9b0b519589e6cf93a822f1,openstack/kuryr-kubernetes,master,I59cf314f9bdd389def9b0b519589e6cf93a822f1,Fix f-string for event message.,MERGED,2021-12-13 10:29:40.000000000,2021-12-16 18:03:52.000000000,2021-12-16 18:02:08.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-13 10:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9817cae085f7ea8463afbfa6493f8b3c3fa6b6aa', 'message': 'Fix f-string for event message.\n\nChange-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1\n'}, {'number': 2, 'created': '2021-12-13 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/23336eed906f19765ed83c42397fb9f5ce38db28', 'message': 'Fix f-string for event message.\n\nChange-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1\n'}, {'number': 3, 'created': '2021-12-15 12:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0b8e9fbe331dd2a7b5286c50201840f356f81a9c', 'message': 'Fix f-string for event message.\n\nChange-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1\n'}, {'number': 4, 'created': '2021-12-16 05:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f591a2d433259a263171c4002e4978984f28084b', 'message': 'Fix f-string for event message.\n\nChange-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1\n'}, {'number': 5, 'created': '2021-12-16 09:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/477a92f2c35a1eb7727ad1a7200d5bb5e58b6e30', 'message': 'Fix f-string for event message.\n\nChange-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1\n'}, {'number': 6, 'created': '2021-12-16 12:46:37.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetwork.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3f98851dd6111880da231b14dbacb452f69344be', 'message': 'Fix f-string for event message.\n\nChange-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1\n'}]",2,821541,3f98851dd6111880da231b14dbacb452f69344be,23,3,6,13692,,,0,"Fix f-string for event message.

Change-Id: I59cf314f9bdd389def9b0b519589e6cf93a822f1
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/821541/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrnetwork.py'],1,9817cae085f7ea8463afbfa6493f8b3c3fa6b6aa,events-fixes," f'Error during creating Neutron network: ' f'{ex.details}', 'Warning') 'Warning') 'Warning')"," 'Error during creating Neutron network: ' f'{ex.details}', type_='Warning') type_='Warning') type_='Warning')",4,5
openstack%2Fswift~stable%2Fvictoria~I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,openstack/swift,stable/victoria,I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,Fix cname_lookup test,MERGED,2021-12-14 23:49:23.000000000,2021-12-16 17:45:00.000000000,2021-12-16 17:42:21.000000000,"[{'_account_id': 15343}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-14 23:49:23.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f53500522ae52df3c07bdcf775d11b9adccc817c', 'message': ""Fix cname_lookup test\n\nc.badtest.com actually has a CNAME now, and apparently we're actually\ndoing the look-up during tests.\n\nChange-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc\n(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)\n""}]",4,821760,f53500522ae52df3c07bdcf775d11b9adccc817c,16,5,1,15343,,,0,"Fix cname_lookup test

c.badtest.com actually has a CNAME now, and apparently we're actually
doing the look-up during tests.

Change-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc
(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/821760/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_cname_lookup.py'],1,f53500522ae52df3c07bdcf775d11b9adccc817c,," @mock.patch('dns.resolver.Resolver.query', side_effect=dns.exception.DNSException) def test_host_is_storage_domain(self, mock_lookup): self.assertEqual(1, len(mock_lookup.mock_calls)) mock_lookup.reset_mock() self.assertEqual(0, len(mock_lookup.mock_calls))", def test_host_is_storage_domain(self):,6,1
openstack%2Ftempest~master~Ia3188fb8e052e325693ca8f390fdf88b4e371bf9,openstack/tempest,master,Ia3188fb8e052e325693ca8f390fdf88b4e371bf9,Fix VolumesListTestJSON for volume microversion 3.48,ABANDONED,2020-06-03 08:11:16.000000000,2021-12-16 17:44:42.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-03 08:11:16.000000000', 'files': ['tempest/api/volume/test_volumes_list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b69777acf4234006de4a89559afa352d0ff686e', 'message': ""Fix VolumesListTestJSON for volume microversion 3.48\n\nAfter microversion 3.48 service_uuid and shared_targets are added to\nthe body of volume_detail, and microversion is not used in resource_setup\nfor now, so the result of show_volume in resource_setup doesn't contain\nservice_uuid and shared_targets, but the result of list_volume(detail=True)\nin testcases contains those fields, so the matching fails.\n\nSo we should create and get volume details in setUp in order to use the\nsame microversion as in testcases till microversion support in\nresource_setup is fulfilled.\n\nChange-Id: Ia3188fb8e052e325693ca8f390fdf88b4e371bf9\nCloses-Bug: #1881863\n""}]",6,733066,2b69777acf4234006de4a89559afa352d0ff686e,22,4,1,20190,,,0,"Fix VolumesListTestJSON for volume microversion 3.48

After microversion 3.48 service_uuid and shared_targets are added to
the body of volume_detail, and microversion is not used in resource_setup
for now, so the result of show_volume in resource_setup doesn't contain
service_uuid and shared_targets, but the result of list_volume(detail=True)
in testcases contains those fields, so the matching fails.

So we should create and get volume details in setUp in order to use the
same microversion as in testcases till microversion support in
resource_setup is fulfilled.

Change-Id: Ia3188fb8e052e325693ca8f390fdf88b4e371bf9
Closes-Bug: #1881863
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/733066/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_list.py'],1,2b69777acf4234006de4a89559afa352d0ff686e,bp/fix-microversion-gap," def setUp(self): super(VolumesListTestJSON, self).setUp() # TODO(zhufl): After microversion 3.48 service_uuid and shared_targets # are added to the body of volume_detail, and microversion is not used # in resource_setup for now, so we should create and get volume # details in setUp in order to use the same microversion as in # testcases till microversion support in resource_setup is fulfilled. if not hasattr(self, 'volume_list'): existing_volumes = self.volumes_client.list_volumes()['volumes'] self.__class__.volume_id_list = [ vol['id'] for vol in existing_volumes] # Create 3 test volumes self.__class__.volume_list = [] self.__class__.metadata = {'Type': 'work'} for _ in range(3): volume = self.create_volume(metadata=self.metadata) volume = self.volumes_client.show_volume( volume['id'])['volume'] self.__class__.volume_list.append(volume) self.__class__.volume_id_list.append(volume['id']) self._remove_volatile_fields(self.volume_list)"," @classmethod def resource_setup(cls): super(VolumesListTestJSON, cls).resource_setup() existing_volumes = cls.volumes_client.list_volumes()['volumes'] cls.volume_id_list = [vol['id'] for vol in existing_volumes] # Create 3 test volumes cls.volume_list = [] cls.metadata = {'Type': 'work'} for _ in range(3): volume = cls.create_volume(metadata=cls.metadata) volume = cls.volumes_client.show_volume(volume['id'])['volume'] cls.volume_list.append(volume) cls.volume_id_list.append(volume['id']) cls._remove_volatile_fields(cls.volume_list)",21,15
openstack%2Fdevstack~stable%2Fxena~I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3,openstack/devstack,stable/xena,I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3,Further fixup for Ubuntu cloud images,MERGED,2021-12-16 14:44:17.000000000,2021-12-16 17:44:07.000000000,2021-12-16 17:42:18.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 14:44:17.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fe59f94632dc9a362bd9f155fa13977e8bbef5c9', 'message': 'Further fixup for Ubuntu cloud images\n\nThe official Ubuntu cloud images have some further python pkgs\npreinstalled that conflict with our requirements. Allow to\noverwrite them.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nCloses-Bug: 1871485\nChange-Id: I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3\n(cherry picked from commit 61a37bff9a35337f5924ca7cc61c76e42e55d787)\n'}]",1,821908,fe59f94632dc9a362bd9f155fa13977e8bbef5c9,8,2,1,15334,,,0,"Further fixup for Ubuntu cloud images

The official Ubuntu cloud images have some further python pkgs
preinstalled that conflict with our requirements. Allow to
overwrite them.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Closes-Bug: 1871485
Change-Id: I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3
(cherry picked from commit 61a37bff9a35337f5924ca7cc61c76e42e55d787)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/821908/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,fe59f94632dc9a362bd9f155fa13977e8bbef5c9,ubuntu-cloudimage-stable/xena, sudo rm -rf /usr/lib/python3/dist-packages/pyasn1_modules-*.egg-info sudo rm -rf /usr/lib/python3/dist-packages/simplejson-*.egg-info,,2,0
openstack%2Fopenstacksdk~feature%2Fr1~Id30cf928d09d5a06524616a9d6969306dc475740,openstack/openstacksdk,feature/r1,Id30cf928d09d5a06524616a9d6969306dc475740,Add revert share to snapshot to shared file system.,MERGED,2021-11-29 03:27:10.000000000,2021-12-16 17:39:04.000000000,2021-12-16 17:35:19.000000000,"[{'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-29 03:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eeb5ae2069aa452b44596e8896ef2138ac1a9448', 'message': 'Add revert share to snapshot to shared file system.\n\nIntroduce revert share to snapshot method for Share class to shared file systems service.\n\nChange-Id: Id30cf928d09d5a06524616a9d6969306dc475740\n'}, {'number': 2, 'created': '2021-11-29 04:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/86cdc560987b8ff7638075d8eba85a76cc4bbbd8', 'message': '[WIP] Add revert share to snapshot to shared file system.\n\nIntroduce revert share to snapshot method for Share class to shared file systems service.\n\nChange-Id: Id30cf928d09d5a06524616a9d6969306dc475740\n'}, {'number': 3, 'created': '2021-11-30 20:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6ed619013ae5cc8b0833d80187600133222e9487', 'message': 'Add revert share to snapshot to shared file system.\n\nIntroduce revert share to snapshot method for Share class to shared file systems service.\n\nChange-Id: Id30cf928d09d5a06524616a9d6969306dc475740\n'}, {'number': 4, 'created': '2021-12-10 02:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/084a888276d96b2eed338374f2f4a7ebff327ec9', 'message': 'Add revert share to snapshot to shared file system.\n\nIntroduce revert share to snapshot method for Share class to shared file systems service.\n\nChange-Id: Id30cf928d09d5a06524616a9d6969306dc475740\n'}, {'number': 5, 'created': '2021-12-14 19:50:05.000000000', 'files': ['doc/source/user/proxies/shared_file_system.rst', 'openstack/shared_file_system/v2/share.py', 'openstack/tests/functional/shared_file_system/base.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/functional/shared_file_system/test_share.py', 'releasenotes/notes/add-shared-file-system-shares-2e1d44a1bb882d6d.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/104a361a5f42a1612796df8694fa2232f8fd7c5e', 'message': 'Add revert share to snapshot to shared file system.\n\nIntroduce revert share to snapshot method for Share class to shared file systems service.\n\nChange-Id: Id30cf928d09d5a06524616a9d6969306dc475740\n'}]",6,819559,104a361a5f42a1612796df8694fa2232f8fd7c5e,20,4,5,34037,,,0,"Add revert share to snapshot to shared file system.

Introduce revert share to snapshot method for Share class to shared file systems service.

Change-Id: Id30cf928d09d5a06524616a9d6969306dc475740
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/59/819559/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/proxies/shared_file_system.rst', 'openstack/shared_file_system/v2/share.py', 'openstack/tests/functional/shared_file_system/base.py', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/tests/functional/shared_file_system/test_share.py']",5,eeb5ae2069aa452b44596e8896ef2138ac1a9448,change-797189," my_share_snapshot = self.create_share_snapshot( share_id=self.SHARE_ID ) self.SHARE_SNAPSHOT_ID = my_share_snapshot.id def test_revert_share_to_snapshot(self): updated_share = self.user_cloud.share.update_share( self.SHARE_ID, display_description='updated share') reverted_share = self.user_cloud.share.revert_share_to_snapshot( updated_share.id, self.SHARE_SNAPSHOT_ID) get_reverted_share = self.user_cloud.share.get_share( reverted_share.id) self.assertIsNone(get_reverted_share.description)",,53,1
openstack%2Fopenstacksdk~feature%2Fr1~Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183,openstack/openstacksdk,feature/r1,Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183,Load balancer - reindentation of the docstrings,MERGED,2021-12-03 09:17:26.000000000,2021-12-16 17:37:18.000000000,2021-12-16 17:35:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-03 09:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cf804cd35ce3abca67926a3767bed790e5d557c2', 'message': 'Load balancer - reindentation of the docstrings\n\nChange-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183\n'}, {'number': 2, 'created': '2021-12-03 11:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ccc585a8db54e0fffc8000a9c1a061af0134182f', 'message': 'Load balancer - reindentation of the docstrings\n\nChange-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183\n'}, {'number': 3, 'created': '2021-12-03 11:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2332b818104c400b1e046aef9302685e93507165', 'message': 'Load balancer - reindentation of the docstrings\n\nChange-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183\n'}, {'number': 4, 'created': '2021-12-03 13:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/87d64f85fe9a8ba385dc9e7bc1c810ffc6a87655', 'message': 'Load balancer - reindentation of the docstrings\n\nChange-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183\n'}, {'number': 5, 'created': '2021-12-03 15:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/02f429121de8b2e1295a3d14d0767466be9d9674', 'message': 'Load balancer - reindentation of the docstrings\n\nChange-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183\n'}, {'number': 6, 'created': '2021-12-13 14:01:47.000000000', 'files': ['openstack/load_balancer/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a1263076e4d93bb3697b4ed879a51deae10f35ab', 'message': 'Load balancer - reindentation of the docstrings\n\nChange-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183\n'}]",29,820357,a1263076e4d93bb3697b4ed879a51deae10f35ab,17,2,6,33945,,,0,"Load balancer - reindentation of the docstrings

Change-Id: Ie98dcd47298389ae52a70e4ab7d623ebcb4a9183
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/57/820357/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/load_balancer/v2/_proxy.py'],1,cf804cd35ce3abca67926a3767bed790e5d557c2,," a :class:`~openstack.load_balancer.v2.load_balancer.LoadBalancer`, comprised of the properties on the LoadBalancer class. or :class:`~openstack.load_balancer.v2.load_balancer.LoadBalancer` instance. :class:`~openstack.load_balancer.v2.load_balancer.LoadBalancer` :returns: One :class:`~openstack.load_balancer.v2.load_balancer.LoadBalancerStats` represented by ``load_balancer``. :class:`~openstack.load_balancer.v2.listener.Listener`, comprised of the properties on the Listener class. :class:`~openstack.load_balancer.v2.listener.Listener` instance. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the listner does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent listener. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.listener.Listener` instance. when no resource can be found. :class:`~openstack.load_balancer.v2.listener.Listener` instance. :returns: One :class:`~openstack.load_balancer.v2.listener.ListenerStats`' :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.listener.Listener` instance. represented by ``listener``. a :class:`~openstack.load_balancer.v2.pool.Pool`, comprised of the properties on the Pool class. :class:`~openstack.load_balancer.v2.pool.Pool` :class:`~openstack.load_balancer.v2.pool.Pool` instance. represented by ``pool``. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member will be created in. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the member does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent member. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.member.Member` instance. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. when no resource can be found. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.member.Member` instance. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. represented by ``member``. than one resource is found for this request. is found and ignore_missing is ``False``. a :class:`~openstack.load_balancer.v2.healthmonitor.HealthMonitor`, comprised of the properties on the HealthMonitor class. :rtype: :class:`~openstack.load_balancer.v2.healthmonitor.HealthMonitor` :rtype: :class:`~openstack.load_balancer.v2.healthmonitor.HealthMonitor` the resources being returned. Valid parameters are: 'name', 'created_at', 'updated_at', 'delay', 'expected_codes', 'http_method', 'max_retries', 'max_retries_down', 'pool_id', 'provisioning_status', 'operating_status', 'timeout', 'project_id', 'type', 'url_path', 'is_admin_state_up'. represented by ``healthmonitor``. :rtype: :class:`~openstack.load_balancer.v2.healthmonitor.HealthMonitor` :class:`~openstack.load_balancer.v2.l7_policy.L7Policy`, comprised of the properties on the L7Policy class. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the l7policy does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent l7policy. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance. when no resource can be found. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance. represented by ``l7policy``. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule will be created in. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the l7rule does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent l7rule. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.l7_rule.L7Rule` instance. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. when no resource can be found. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.l7_rule.L7Rule` instance. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. represented by ``l7rule``. the resources being returned. Currently no query parameter is supported. :class:`~openstack.load_balancer.v2.quota.Quota` instance. The ID of a quota is the same as the project ID for the quota. when no resource can be found. :class:`~openstack.load_balancer.v2.quota.Quota` instance. The ID of a quota is the same as the project ID for the quota. by ``quota``. :class:`~openstack.load_balancer.v2.quota.Quota` instance. The ID of a quota is the same as the project ID for the quota. :class:`~openstack.exceptions.ResourceNotFound` will be raised when quota does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent quota. :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.load_balancer.v2.flavor_profile.FlavorProfile`, comprised of the properties on the FlavorProfile class. :rtype: :class:`~openstack.load_balancer.v2.flavor_profile.FlavorProfile` :param flavor_profile: The value can be the name of a flavor profile or :class:`~openstack.load_balancer.v2.flavor_profile.FlavorProfile` instance. :class:`~openstack.load_balancer.v2.flavor_profile.FlavorProfile` represented by ``flavor_profile``. :rtype: :class:`~openstack.load_balancer.v2.flavor_profile.FlavorProfile` a :class:`~openstack.load_balancer.v2.flavor.Flavor`, comprised of the properties on the Flavorclass. or :class:`~openstack.load_balancer.v2.flavor.Flavor` instance. :class:`~openstack.load_balancer.v2.flavor.Flavor` represented by ``flavor``. or :class:`~openstack.load_balancer.v2.amphora.Amphora` instance. :class:`~openstack.load_balancer.v2.amphora.Amphora` :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.load_balancer.v2.availability_zone_profile.AvailabilityZoneProfile` comprised of the properties on the AvailabilityZoneProfile class. :rtype: :class:`~openstack.load_balancer.v2.availability_zone_profile.AvailabilityZoneProfile` availability_zone profile or :class:`~openstack.load_balancer.v2.availability_zone_profile.AvailabilityZoneProfile` instance. :class:`~openstack.load_balancer.v2.availability_zone_profile.AvailabilityZoneProfile` profile represented by ``availability_zone_profile``. :rtype: :class:`~openstack.load_balancer.v2.availability_zone_profile.AvailabilityZoneProfile` :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.load_balancer.v2.availability_zone.AvailabilityZone` comprised of the properties on the AvailabilityZoneclass. availability_zone or :class:`~openstack.load_balancer.v2.availability_zone.AvailabilityZone` instance. :class:`~openstack.load_balancer.v2.availability_zone.AvailabilityZone` represented by ``availability_zone``."," a :class:`~openstack.load_balancer.v2. load_balancer.LoadBalancer`, comprised of the properties on the LoadBalancer class. or :class:`~openstack.load_balancer.v2.load_balancer.LoadBalancer` instance. :class:`~openstack.load_balancer.v2.load_balancer.LoadBalancer` :returns: One :class:`~openstack.load_balancer.v2.load_balancer. LoadBalancerStats` represented by ``load_balancer``. :class:`~openstack.load_balancer.v2.listener.Listener`, comprised of the properties on the Listener class. :class:`~openstack.load_balancer.v2.listener.Listener` instance. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the listner does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent listener. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.listener.Listener` instance. when no resource can be found. :class:`~openstack.load_balancer.v2.listener.Listener` instance. :returns: One :class:`~openstack.load_balancer.v2.listener. ListenerStats` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.listener.Listener` instance. represented by ``listener``. a :class:`~openstack.load_balancer.v2. pool.Pool`, comprised of the properties on the Pool class. :class:`~openstack.load_balancer.v2.pool.Pool` :class:`~openstack.load_balancer.v2.pool.Pool` instance. represented by ``pool``. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member will be created in. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the member does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent member. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.member.Member` instance. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. when no resource can be found. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.member.Member` instance. :class:`~openstack.load_balancer.v2.pool.Pool` instance that the member belongs to. represented by ``member``. than one resource is found for this request. is found and ignore_missing is ``False``. a :class:`~openstack.load_balancer.v2. healthmonitor.HealthMonitor`, comprised of the properties on the HealthMonitor class. :rtype: :class:`~openstack.load_balancer.v2. healthmonitor.HealthMonitor` :rtype: :class:`~openstack.load_balancer.v2. healthmonitor.HealthMonitor` the resources being returned. Valid parameters are: 'name', 'created_at', 'updated_at', 'delay', 'expected_codes', 'http_method', 'max_retries', 'max_retries_down', 'pool_id', 'provisioning_status', 'operating_status', 'timeout', 'project_id', 'type', 'url_path', 'is_admin_state_up'. represented by ``healthmonitor``. :rtype: :class:`~openstack.load_balancer.v2. healthmonitor.HealthMonitor` :class:`~openstack.load_balancer.v2.l7_policy.L7Policy`, comprised of the properties on the L7Policy class. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the l7policy does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent l7policy. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance. when no resource can be found. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance. represented by ``l7policy``. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule will be created in. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the l7rule does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent l7rule. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. or None :class:`~openstack.load_balancer.v2.l7_rule.L7Rule` instance. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. when no resource can be found. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. the resources being returned. Valid parameters are: :class:`~openstack.load_balancer.v2.l7_rule.L7Rule` instance. :class:`~openstack.load_balancer.v2.l7_policy.L7Policy` instance that the l7rule belongs to. represented by ``l7rule``. the resources being returned. Currently no query parameter is supported. :class:`~openstack.load_balancer.v2.quota.Quota` instance. The ID of a quota is the same as the project ID for the quota. when no resource can be found. :class:`~openstack.load_balancer.v2.quota.Quota` instance. The ID of a quota is the same as the project ID for the quota. by ``quota``. :class:`~openstack.load_balancer.v2.quota.Quota` instance. The ID of a quota is the same as the project ID for the quota. :class:`~openstack.exceptions.ResourceNotFound` will be raised when quota does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent quota. :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.load_balancer.v2. flavor_profile.FlavorProfile`, comprised of the properties on the FlavorProfile class. :rtype: :class:`~openstack.load_balancer.v2.flavor_profile. FlavorProfile` :param flavor_profile: The value can be the name of a flavor profile or :class:`~openstack.load_balancer.v2.flavor_profile. FlavorProfile` instance. :class:`~openstack.load_balancer.v2.flavor_profile.FlavorProfile` represented by ``flavor_profile``. :rtype: :class:`~openstack.load_balancer.v2.flavor_profile. FlavorProfile` a :class:`~openstack.load_balancer.v2. flavor.Flavor`, comprised of the properties on the Flavorclass. or :class:`~openstack.load_balancer.v2.flavor.Flavor` instance. :class:`~openstack.load_balancer.v2.flavor.Flavor` represented by ``flavor``. or :class:`~openstack.load_balancer.v2.amphora.Amphora` instance. :class:`~openstack.load_balancer.v2.amphora.Amphora` :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.load_balancer.v2. availability_zone_profile.AvailabilityZoneProfile`, comprised of the properties on the AvailabilityZoneProfile class. :rtype: :class:`~openstack.load_balancer.v2.availability_zone_profile. AvailabilityZoneProfile` availability_zone profile or :class:`~openstack.load_balancer.v2.availability_zone_profile. AvailabilityZoneProfile` instance. :class:`~openstack.load_balancer.v2.availability_zone_profile.AvailabilityZoneProfile` profile represented by ``availability_zone_profile``. :rtype: :class:`~openstack.load_balancer.v2.availability_zone_profile. AvailabilityZoneProfile` :param dict attrs: Keyword arguments which will be used to create a :class:`~openstack.load_balancer.v2. availability_zone.AvailabilityZone`, comprised of the properties on the AvailabilityZoneclass. availability_zone or :class:`~openstack.load_balancer.v2.availability_zone.AvailabilityZone` instance. :class:`~openstack.load_balancer.v2.availability_zone.AvailabilityZone` represented by ``availability_zone``.",189,201
openstack%2Fneutron-tempest-plugin~master~Ia05be62e552ca43173833d3436fc1d36c1c34bf4,openstack/neutron-tempest-plugin,master,Ia05be62e552ca43173833d3436fc1d36c1c34bf4,Add test_create_and_update_port_with_dns_name,MERGED,2021-12-08 14:46:26.000000000,2021-12-16 17:35:14.000000000,2021-12-16 17:35:14.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 29088}, {'_account_id': 29350}, {'_account_id': 31291}, {'_account_id': 31450}]","[{'number': 1, 'created': '2021-12-08 14:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c5ee9b4c790dc9710fb02999ad97268f6048df9d', 'message': 'Add test_update_port_with_dns_name\n\nTest update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 2, 'created': '2021-12-08 14:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/97c08d97fbc67c92adfb20c3ec876cea7952426e', 'message': 'Add test_update_port_with_dns_name\n\nTest update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 3, 'created': '2021-12-12 10:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/578ff05af58edfcee13186e4fc2fe088127ea13a', 'message': 'Add test_update_port_with_dns_name\n\nTest update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 4, 'created': '2021-12-14 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ce029bb71a91276e5ba9f49a2158dc4a49205192', 'message': 'Add test_create_and_update_port_with_dns_name\n\nTest both create and update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 5, 'created': '2021-12-14 14:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0270505521def0b2b03a3a5d284b8c8fe5f8997c', 'message': 'Add test_create_and_update_port_with_dns_name\n\nTest both create and update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 6, 'created': '2021-12-14 15:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7e0bf6183b28033033450c6d85505e6af7ff90ed', 'message': 'Add test_create_and_update_port_with_dns_name\n\nTest both create and update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 7, 'created': '2021-12-14 16:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/59fe3c98c02269ba570c21e5cdfe19eef74cc010', 'message': 'Add test_create_and_update_port_with_dns_name\n\nTest both create and update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}, {'number': 8, 'created': '2021-12-14 17:36:02.000000000', 'files': ['neutron_tempest_plugin/scenario/test_internal_dns.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c18067fa3489dd488d9fc80127ee28fd05182f18', 'message': 'Add test_create_and_update_port_with_dns_name\n\nTest both create and update of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4\n'}]",8,821079,c18067fa3489dd488d9fc80127ee28fd05182f18,29,9,8,33341,,,0,"Add test_create_and_update_port_with_dns_name

Test both create and update of port with a correct predefined
internal dns-name (hostname).

Change-Id: Ia05be62e552ca43173833d3436fc1d36c1c34bf4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/79/821079/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_internal_dns.py'],1,c5ee9b4c790dc9710fb02999ad97268f6048df9d,internal_dns_update," @decorators.idempotent_id('ed3cf56a-3d1d-4040-bcc4-b8fd791ad099') def test_update_port_with_dns_name(self): """"""Test update of port with correct internal dns-name (hostname)."""""" # 2) Create a port with wrong dns-name. # 3) Update the port with correct dns-name # 3) Verify that correct port dns-name (as VM name) # 5) Validate correct hostname configured in VM is same as VM's name. # create port with wrong dns-name dns_name='bazinga', # update port with correct dns-name (as VM name) dns_port = self.update_port(dns_port, dns_name=vm_name) # validate dns port changed hostname from API"," @decorators.idempotent_id('db5e612f-f17f-4974-b5f1-9fe89f4a6fc9') def test_create_port_with_dns_name(self): """"""Test creation of port with correct internal dns-name (hostname)."""""" # 2) Create a port with dns-name. # 3) Verify that correct port initial dns-name (as VM name) # 5) Validate hostname configured in VM is same as VM's name. # create port with dns-name (as VM name) dns_name=vm_name, # validate dns port initial hostname from API",12,9
openstack%2Fsenlin~stable%2Fussuri~Ie17133b86f421868cddca46c29225d51ae671594,openstack/senlin,stable/ussuri,Ie17133b86f421868cddca46c29225d51ae671594,Delete unavailable py2 package,MERGED,2021-12-05 06:57:16.000000000,2021-12-16 17:24:57.000000000,2021-12-16 17:22:54.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-12-05 06:57:16.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b26b793a8fa9c9f8b79a8bbdbb2f35f485badfdf', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: Ie17133b86f421868cddca46c29225d51ae671594\n(cherry picked from commit 19c30d86ba4250e87809b011f1fb3cc84e5497f7)\n(cherry picked from commit 28f8abc29a966d41f8b4502d1fc7432f86b14bea)\n'}]",1,820339,b26b793a8fa9c9f8b79a8bbdbb2f35f485badfdf,8,3,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: Ie17133b86f421868cddca46c29225d51ae671594
(cherry picked from commit 19c30d86ba4250e87809b011f1fb3cc84e5497f7)
(cherry picked from commit 28f8abc29a966d41f8b4502d1fc7432f86b14bea)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/39/820339/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,b26b793a8fa9c9f8b79a8bbdbb2f35f485badfdf,, python3-senlinclient.noarch, python2-senlinclient.noarch,1,1
openstack%2Fsenlin~stable%2Fwallaby~Ie17133b86f421868cddca46c29225d51ae671594,openstack/senlin,stable/wallaby,Ie17133b86f421868cddca46c29225d51ae671594,Delete unavailable py2 package,MERGED,2021-12-05 06:56:20.000000000,2021-12-16 17:22:26.000000000,2021-12-16 17:20:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-12-05 06:56:20.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ac8245b582376b460a2494ad23ff9e2d83d228cb', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: Ie17133b86f421868cddca46c29225d51ae671594\n(cherry picked from commit 19c30d86ba4250e87809b011f1fb3cc84e5497f7)\n(cherry picked from commit 28f8abc29a966d41f8b4502d1fc7432f86b14bea)\n'}]",1,820337,ac8245b582376b460a2494ad23ff9e2d83d228cb,8,3,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: Ie17133b86f421868cddca46c29225d51ae671594
(cherry picked from commit 19c30d86ba4250e87809b011f1fb3cc84e5497f7)
(cherry picked from commit 28f8abc29a966d41f8b4502d1fc7432f86b14bea)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/37/820337/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,ac8245b582376b460a2494ad23ff9e2d83d228cb,, python3-senlinclient.noarch, python2-senlinclient.noarch,1,1
openstack%2Fsenlin~stable%2Fvictoria~Ie17133b86f421868cddca46c29225d51ae671594,openstack/senlin,stable/victoria,Ie17133b86f421868cddca46c29225d51ae671594,Delete unavailable py2 package,MERGED,2021-12-05 06:56:59.000000000,2021-12-16 17:22:08.000000000,2021-12-16 17:20:19.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-12-05 06:56:59.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/90d26685e82b8e18a151050dc7e12a9d3f0e51e3', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: Ie17133b86f421868cddca46c29225d51ae671594\n(cherry picked from commit 19c30d86ba4250e87809b011f1fb3cc84e5497f7)\n(cherry picked from commit 28f8abc29a966d41f8b4502d1fc7432f86b14bea)\n'}]",1,820338,90d26685e82b8e18a151050dc7e12a9d3f0e51e3,8,3,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: Ie17133b86f421868cddca46c29225d51ae671594
(cherry picked from commit 19c30d86ba4250e87809b011f1fb3cc84e5497f7)
(cherry picked from commit 28f8abc29a966d41f8b4502d1fc7432f86b14bea)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/38/820338/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,90d26685e82b8e18a151050dc7e12a9d3f0e51e3,, python3-senlinclient.noarch, python2-senlinclient.noarch,1,1
openstack%2Fblazar-tempest-plugin~master~I23e7b959aed3fe24d14b672b016dac8ac350f26f,openstack/blazar-tempest-plugin,master,I23e7b959aed3fe24d14b672b016dac8ac350f26f,Test when a lease starts at the same time another ends,NEW,2018-08-08 11:00:38.000000000,2021-12-16 17:19:18.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-08 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/a3f8183be8cc31b8c009fcd6f73293d68db42167', 'message': 'Test when a lease starts at the same time another ends\n\nThis patch adds a test scenario checking whether a lease can\nsuccessfully start when a previous lease for the same host ends at the\nsame time.\n\nChange-Id: I23e7b959aed3fe24d14b672b016dac8ac350f26f\n'}, {'number': 2, 'created': '2018-08-08 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/16cbc86c2bcede7138a539984006382a02cdd321', 'message': 'Test when a lease starts at the same time another ends\n\nThis patch adds a test scenario checking whether a lease can\nsuccessfully start when a previous lease for the same host ends at the\nsame time.\n\nChange-Id: I23e7b959aed3fe24d14b672b016dac8ac350f26f\n'}, {'number': 3, 'created': '2018-08-08 14:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/244b66ba86a3ac8b621cf89190c8d6932531cd63', 'message': 'Test when a lease starts at the same time another ends\n\nThis patch adds a test scenario checking whether a lease can\nsuccessfully start when a previous lease for the same host ends at the\nsame time.\n\nChange-Id: I23e7b959aed3fe24d14b672b016dac8ac350f26f\nDepends-On: https://review.openstack.org/589899\n'}, {'number': 4, 'created': '2021-12-16 16:31:43.000000000', 'files': ['blazar_tempest_plugin/tests/scenario/test_host_reservation.py', 'blazar_tempest_plugin/exceptions.py', 'blazar_tempest_plugin/tests/scenario/resource_reservation_scenario.py'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/a64e07fe5c6e201111b331e61f71b9859c395630', 'message': 'Test when a lease starts at the same time another ends\n\nThis patch adds a test scenario checking whether a lease can\nsuccessfully start when a previous lease for the same host ends at the\nsame time.\n\nChange-Id: I23e7b959aed3fe24d14b672b016dac8ac350f26f\nDepends-On: https://review.openstack.org/589899\n'}]",0,589840,a64e07fe5c6e201111b331e61f71b9859c395630,9,2,4,15197,,,0,"Test when a lease starts at the same time another ends

This patch adds a test scenario checking whether a lease can
successfully start when a previous lease for the same host ends at the
same time.

Change-Id: I23e7b959aed3fe24d14b672b016dac8ac350f26f
Depends-On: https://review.openstack.org/589899
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/40/589840/4 && git format-patch -1 --stdout FETCH_HEAD,"['blazar_tempest_plugin/tests/scenario/test_host_reservation.py', 'blazar_tempest_plugin/exceptions.py', 'blazar_tempest_plugin/tests/scenario/resource_reservation_scenario.py']",3,a3f8183be8cc31b8c009fcd6f73293d68db42167,event-ordering,"from blazar_tempest_plugin import exceptions as blazar_exceptions def wait_for_lease_end(self, lease_id, raise_on_error=False): if raise_on_error: if len([evt for evt in events if evt['status'] == 'ERROR']) > 0: raise blazar_exceptions.EndLeaseException( lease_id=lease_id) message = ""Timed out waiting for event to change status to DONE"""," def wait_for_lease_end(self, lease_id): message = ""Timed out waiting for lease to change status to DONE""",82,7
openstack%2Fci-log-processing~master~I941372ce018add714ec3f688f227886fe5e9d32c,openstack/ci-log-processing,master,I941372ce018add714ec3f688f227886fe5e9d32c,Add required fields for pypi upload,MERGED,2021-12-09 14:41:14.000000000,2021-12-16 16:53:26.000000000,2021-12-16 16:51:01.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 14:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/fb792d0b300fc2fa65319c53ca047a524d2264bb', 'message': 'Add required fields for pypi upload\n\nSome fields were missing, so the publish-to-pypi-quietly job\nwas not pushing package into pypi repository.\n\nChange-Id: I941372ce018add714ec3f688f227886fe5e9d32c\n'}, {'number': 2, 'created': '2021-12-16 13:38:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/e8b1fac7916eeb006f841f66562cdb2b90806af5', 'message': 'Add required fields for pypi upload\n\nSome fields were missing, so the publish-to-pypi-quietly job\nwas not pushing package into pypi repository.\n\nChange-Id: I941372ce018add714ec3f688f227886fe5e9d32c\n'}]",1,821229,e8b1fac7916eeb006f841f66562cdb2b90806af5,12,6,2,20676,,,0,"Add required fields for pypi upload

Some fields were missing, so the publish-to-pypi-quietly job
was not pushing package into pypi repository.

Change-Id: I941372ce018add714ec3f688f227886fe5e9d32c
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/29/821229/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,fb792d0b300fc2fa65319c53ca047a524d2264bb,," name=""logscraper"", packages=[""logscraper""], description=""OpenStack CI Log Processing tool"", long_description=open(""README.rst"").read(), long_description_content_type='text/x-rst',",,5,0
openstack%2Fcloudkitty~stable%2Fwallaby~Ia6ef6543a5100445b203196d39b404bc74b75ba0,openstack/cloudkitty,stable/wallaby,Ia6ef6543a5100445b203196d39b404bc74b75ba0,Fix quote API,MERGED,2021-12-13 17:36:44.000000000,2021-12-16 16:51:53.000000000,2021-12-16 16:49:22.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-12-13 17:36:44.000000000', 'files': ['releasenotes/notes/fix-quote-v1-api-7282f01b596f0f3b.yaml', 'cloudkitty/api/v1/controllers/rating.py', 'cloudkitty/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/824e14f35e789d53c9f4c78dc5efc7b68c8417ac', 'message': 'Fix quote API\n\nThe quote API method has been broken for a while now. This patch fixes\nthe API and makes it work again. To use it, one can issue the following\ncommand.\n\n    curl -s -X POST ""http://cloudkitty_server_and_port/v1/rating/quote"" -H ""Accept: application/json"" -H ""User-Agent: python-keystoneclient"" -H ""Content-Type: application/json"" -H ""X-Auth-Token: ${ACCESS_TOKEN_KEYSTONE}"" -d \'{""resources"": [{""service"": ""<cloudkitty_service_name>"", ""volume"": ""<quantity_to_quote>"", ""desc"": {""metadata"": {""<field_name_used_to_define_price>"": ""<value_to_activate_a_price>""}}}]}\'\n\nChange-Id: Ia6ef6543a5100445b203196d39b404bc74b75ba0\nStory: 2009022\nTask: 42744\n(cherry picked from commit 21a873041cbd67e46f1fd7ec25d93eb2e3a311a0)\n'}]",1,821518,824e14f35e789d53c9f4c78dc5efc7b68c8417ac,10,3,1,15197,,,0,"Fix quote API

The quote API method has been broken for a while now. This patch fixes
the API and makes it work again. To use it, one can issue the following
command.

    curl -s -X POST ""http://cloudkitty_server_and_port/v1/rating/quote"" -H ""Accept: application/json"" -H ""User-Agent: python-keystoneclient"" -H ""Content-Type: application/json"" -H ""X-Auth-Token: ${ACCESS_TOKEN_KEYSTONE}"" -d '{""resources"": [{""service"": ""<cloudkitty_service_name>"", ""volume"": ""<quantity_to_quote>"", ""desc"": {""metadata"": {""<field_name_used_to_define_price>"": ""<value_to_activate_a_price>""}}}]}'

Change-Id: Ia6ef6543a5100445b203196d39b404bc74b75ba0
Story: 2009022
Task: 42744
(cherry picked from commit 21a873041cbd67e46f1fd7ec25d93eb2e3a311a0)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/18/821518/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-quote-v1-api-7282f01b596f0f3b.yaml', 'cloudkitty/api/v1/controllers/rating.py', 'cloudkitty/orchestrator.py']",3,824e14f35e789d53c9f4c78dc5efc7b68c8417ac,patch-quote-v1-api-stable/wallaby," LOG.debug('Received quote request [%s] from RPC.', res_data) start = tzutils.localized_now() end = tzutils.add_delta(start, timedelta(seconds=CONF.collect.period)) # Need to prepare data to support the V2 processing format usage = {} for k in res_data['usage']: all_data_points_for_metric = [] all_quote_data_entries = res_data['usage'][k] for p in all_quote_data_entries: vol = p['vol'] desc = p.get('desc', {}) data_point = dataframe.DataPoint( vol['unit'], vol['qty'], 0, desc.get('groupby', []), desc.get('metadata', []), ) all_data_points_for_metric.append(data_point) usage[k] = all_data_points_for_metric frame = dataframe.DataFrame( start=start, end=end, usage=usage, ) quote_result = worker.quote(frame) LOG.debug(""Quote result [%s] for input data [%s]."", quote_result, res_data) return str(quote_result) quote_result = res_data for processor in self._processors: quote_result = processor.obj.quote(quote_result) for _, point in quote_result.iterpoints(): price += point.price"," LOG.debug('Received quote from RPC.') return str(worker.quote(res_data)) for processor in self._processors: processor.obj.quote(res_data) for res in res_data: for res_usage in res['usage'].values(): for data in res_usage: price += data.get('rating', {}).get('price', decimal.Decimal(0))",48,9
openstack%2Fblazar~master~I9149eb5a046127057cc41f44fcd6b6784fcc61a1,openstack/blazar,master,I9149eb5a046127057cc41f44fcd6b6784fcc61a1,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-11-25 00:29:22.000000000,2021-12-16 16:51:28.000000000,2021-12-16 16:48:56.000000000,"[{'_account_id': 8556}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2021-11-25 00:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c3e55044c2f65e9761a489d57adf4e4a71e90105', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in setup.cfg metadata.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I9149eb5a046127057cc41f44fcd6b6784fcc61a1\n'}, {'number': 2, 'created': '2021-12-14 02:37:22.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d85abc7589482dea6bc202606a98226776fde54a', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I9149eb5a046127057cc41f44fcd6b6784fcc61a1\n'}]",1,819210,d85abc7589482dea6bc202606a98226776fde54a,13,4,2,8556,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I9149eb5a046127057cc41f44fcd6b6784fcc61a1
",git fetch https://review.opendev.org/openstack/blazar refs/changes/10/819210/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,c3e55044c2f65e9761a489d57adf4e4a71e90105,yoga-python-testing,"envlist = py39,py38,pep8","envlist = py36,py38,pep8",2,3
openstack%2Fcharm-guide~master~Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3,openstack/charm-guide,master,Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3,Add policy for automatic review abandonment,MERGED,2021-12-14 16:48:44.000000000,2021-12-16 16:38:55.000000000,2021-12-16 16:36:55.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-12-14 16:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5553fee3df5b755457bc5fad26164a8126f5e3ef', 'message': 'Add policy for automatic review abandonment\n\nReviews more that 12 weeks take with either a blocking -2 review\nor failing tests will be automatically abandoned in gerrit.\n\nChange-Id: Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3\n'}, {'number': 2, 'created': '2021-12-14 17:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/393620b68a6afc21444a7f0fda55375c160e88ff', 'message': 'Add policy for automatic review abandonment\n\nReviews more that 12 weeks take with either a blocking -2 review\nor failing tests will be automatically abandoned in gerrit.\n\nChange-Id: Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3\n'}, {'number': 3, 'created': '2021-12-16 09:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/cbe9a85732d754d156ba2dc1d0de52d5a0969a6b', 'message': 'Add policy for automatic review abandonment\n\nReviews more that 12 weeks take with either a blocking -2 review\nor failing tests will be automatically abandoned in gerrit.\n\nChange-Id: Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3\n'}, {'number': 4, 'created': '2021-12-16 09:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8b9e6c65afd78b5873f1b581e422b06c276160c9', 'message': 'Add policy for automatic review abandonment\n\nReviews more that 12 weeks take with either a blocking -2 review\nor failing tests will be automatically abandoned in gerrit.\n\nChange-Id: Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3\n'}, {'number': 5, 'created': '2021-12-16 10:31:25.000000000', 'files': ['doc/source/community/rotas.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9992f039ce8613c71eca6e10fa9d3bc4b3c86470', 'message': 'Add policy for automatic review abandonment\n\nReviews more that 12 weeks take with either a blocking -2 review\nor failing tests will be automatically abandoned in gerrit.\n\nChange-Id: Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3\n'}]",4,821735,9992f039ce8613c71eca6e10fa9d3bc4b3c86470,17,3,5,935,,,0,"Add policy for automatic review abandonment

Reviews more that 12 weeks take with either a blocking -2 review
or failing tests will be automatically abandoned in gerrit.

Change-Id: Iaed7e3bef72688accca98e3699fb6d3ffbbc4be3
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/35/821735/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/rotas.rst'],1,5553fee3df5b755457bc5fad26164a8126f5e3ef,review-abandonment,Charm review abandonment policy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Charm reviews which are either blocked (> 12 weeks without comment and are blocked by a core reviewer with a -2) or failing (> 12 weeks without comment and failed tests the last time the review was checked) will be automatically marked as abandoned within Gerrit. Abandoned reviews can always be restored in the event that work on a review resumes - reviews that are blocked by a -2 review will also need to be discussed with the core reviewer involved. ,,12,0
openstack%2Fos-brick~stable%2Fwallaby~Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,openstack/os-brick,stable/wallaby,Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,linuxscsi: Only raise and log multipathd errors when required,MERGED,2021-12-10 18:40:12.000000000,2021-12-16 16:37:19.000000000,2021-12-16 16:35:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 18:40:12.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d09dc9e51c783fde574f160476ed10efc21eee9a', 'message': ""linuxscsi: Only raise and log multipathd errors when required\n\nLogging and then ignoring multipathd errors when it isn't enforced is\nconfusing to operators investigating attach or detach issues.\n\nChange-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32\n(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)\n""}]",1,821450,d09dc9e51c783fde574f160476ed10efc21eee9a,10,4,1,21129,,,0,"linuxscsi: Only raise and log multipathd errors when required

Logging and then ignoring multipathd errors when it isn't enforced is
confusing to operators investigating attach or detach issues.

Change-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32
(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/50/821450/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,d09dc9e51c783fde574f160476ed10efc21eee9a,," except putils.ProcessExecutionError as err: if enforce_multipath: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code})"," except putils.ProcessExecutionError as err: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code}) if enforce_multipath:",44,5
openstack%2Fcharm-specs~master~I5ccb1f9ccf596a38634049aac603846c396d174a,openstack/charm-specs,master,I5ccb1f9ccf596a38634049aac603846c396d174a,Pausing Principal units and hacluster without sending false alerts,MERGED,2021-08-30 19:06:22.000000000,2021-12-16 16:37:07.000000000,2021-12-16 16:35:11.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 19:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/c38c92466a5d24e5610b162a9cd8cda8e1623db8', 'message': 'Spec proposal for Pausing Keystone and hacluster without sending false alerts\n\nProposes a way of pausing keystone and/or hacluster that will update\nnrpe files to not send false alerts.\n\nChange-Id: I5ccb1f9ccf596a38634049aac603846c396d174a\n'}, {'number': 2, 'created': '2021-10-27 18:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/aa6d763c47a9a489b0803db9df36defaa1be8b13', 'message': 'Spec proposal for Pausing Principal units and hacluster without sending false alerts\n\nProposes a way of pausing openstack charms and/or hacluster that will update\nnrpe files to not send false alerts\n\nChange-Id: I5ccb1f9ccf596a38634049aac603846c396d174a\n'}, {'number': 3, 'created': '2021-11-22 22:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/1f6b076c34f1d5533d6a4d21b2f116f9a76efa2b', 'message': 'Spec proposal for Pausing Principal units and hacluster without sending false alerts\n\nProposes a way of pausing openstack charms and/or hacluster that will update\nnrpe files to not send false alerts\n\nChange-Id: I5ccb1f9ccf596a38634049aac603846c396d174a\n'}, {'number': 4, 'created': '2021-11-22 23:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/1cd867e3f388f25b56a8b7ffce8819c69af5672d', 'message': 'Spec proposal for Pausing Principal units and hacluster without sending false alerts\n\nProposes a way of pausing openstack charms and/or hacluster that will update\nnrpe files to not send false alerts\n\nChange-Id: I5ccb1f9ccf596a38634049aac603846c396d174a\n'}, {'number': 5, 'created': '2021-11-23 18:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/70c7367aed5dfc33d141526f1ee6fe002e96cf94', 'message': 'Spec proposal for Pausing Principal units and hacluster without sending false alerts\n\nProposes a way of pausing openstack charms and/or hacluster that will update\nnrpe files to not send false alerts\n\nChange-Id: I5ccb1f9ccf596a38634049aac603846c396d174a\n'}, {'number': 6, 'created': '2021-12-14 21:59:02.000000000', 'files': ['specs/yoga/approved/pausing-charms-hacluster-no-false-alerts.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/498c4e752043158dc3dccfb155fb94d17143d563', 'message': 'Pausing Principal units and hacluster without sending false alerts\n\nProposes a way of pausing openstack charms and/or hacluster that\nwill update nrpe files to not send false alerts.\n\nChange-Id: I5ccb1f9ccf596a38634049aac603846c396d174a\n'}]",6,806633,498c4e752043158dc3dccfb155fb94d17143d563,22,2,6,33536,,,0,"Pausing Principal units and hacluster without sending false alerts

Proposes a way of pausing openstack charms and/or hacluster that
will update nrpe files to not send false alerts.

Change-Id: I5ccb1f9ccf596a38634049aac603846c396d174a
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/33/806633/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/keystone-hacluster-no-false-alerts.rst'],1,c38c92466a5d24e5610b162a9cd8cda8e1623db8,bug/1906259,".. Copyright 2021 Canonical Ltd This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =========================================================== Pausing Keystone and hacluster without sending false alerts =========================================================== Overall, the goal is to leave warning alerts instead of critical that will help a human operator understand that all services are not completely healthy while reducing the criticality due to an on-going operation. Nrpe checks will be reconfigured once services under a maintenance operation are set back to normal (resume). The following logic will be applied when pausing/resuming a unit: - Pausing a keystone unit, doesnt pause the subordinate hacluster; - Resuming a keystone unit, doesnt resume the subordinate hacluster; - Pausing a hacluster unit, pauses the principal keystone unit; - Resuming a hacluster unit, resumes the principal keystone unit; Problem Description =================== We need to stop sending false alerts when a hacluster subordinate of a keystone unit is paused or when the principal unit is also paused for maintenance. This may help operations to receive more effective alerts. Pausing Keystone unit --------------------- If eg. 3 keystone units (keystone/0, keystone/1 and keystone/2) are deployed and keystone/0 is paused: 1) haproxy_servers on the other units (keystone/1 and keystone/2) will alert, because apache2 service on keystone/0 is down 2) haproxy, apache2.service and memcached.service in keystone/0 will also alert Pausing hacluster unit ---------------------- Pausing hacluster set the cluster node, e.g keystone, in standby mode. A standby node will have its resources stopped (hacluster, apache2) which will fire false alerts. To solve this issue, the units of hacluster should inform the keystone unit that they are paused. A way of doing this is through the ha relation. Proposed Change =============== Pausing Keystone unit --------------------- File actions.py in charm-keystone .. code-block:: python def pause(args): """"""Pause all the Keystone services. @raises Exception if any services fail to stop """""" pause_unit_helper(register_configs()) # Logic added to share the event with peers inform_peers_if_ready(check_api_unit_ready) update_nrpe_config() def resume(args): """"""Resume all the Keystone services. @raises Exception if any services fail to start """""" resume_unit_helper(register_configs()) # Logic added to share the event with peers inform_peers_if_ready(check_api_unit_ready) update_nrpe_config() After pausing unit keystone/0 it is possible to see that the unit is set to NOTREADY, as expected. Before the change above, the unit was as READY after pausing it: .. code-block:: yaml juju show-unit keystone/0 --endpoint cluster keystone/0: workload-version: 17.0.0 machine: ""1"" opened-ports: - 5000/tcp public-address: 10.5.2.64 charm: cs:~openstack-charmers-next/keystone-562 leader: true relation-info: - endpoint: cluster related-endpoint: cluster application-data: {} local-unit: in-scope: true data: admin-address: 10.5.2.64 egress-subnets: 10.5.2.64/32 ingress-address: 10.5.2.64 internal-address: 10.5.2.64 private-address: 10.5.2.64 public-address: 10.5.2.64 unit-state-keystone-0: NOTREADY P.S: unit-state-keystone field was already implemented, Im just proposing to change the value to NOTREADY when a unit is paused and return to READY when resumed. File nrpe.py on charmhelpers/contrib/charmsupport .. code-block:: python def add_haproxy_checks(nrpe, unit_name): """""" Add checks for each service in list :param NRPE nrpe: NRPE object to add check to :param str unit_name: Unit name to use in check description """""" cmd = ""check_haproxy.py"" peers_states = get_peers_unit_state() units_not_ready = [ unit.replace('/', '-') for unit, state in peers_states.items() if state == UNIT_NOTREADY ] if is_unit_paused_set(): units_not_ready.append(local_unit().replace('/', '-')) if units_not_ready: cmd += "" --warning {}"".format(','.join(units_not_ready)) nrpe.add_check( shortname='haproxy_servers', description='Check HAProxy {%s}' % unit_name, check_cmd=cmd) nrpe.add_check( shortname='haproxy_queue', description='Check HAProxy queue depth {%s}' % unit_name, check_cmd='check_haproxy_queue_depth.sh') With every unit knowing which one is paused, it is possible to change the script check_haproxy.sh to accept a flag to warn the keystone units that are paused. The bash script is not able now to receive flags. check_haproxy.sh in charmhelpers rewritten from Bash to Python to accept flag to warn specific hostname (e.g. check_haproxy.py --warning keystone-0) is under maintenance: .. code-block:: python #!/usr/bin/env python3 import argparse import csv import os import re import requests from datetime import datetime from nagios_plugin3 import ( CriticalError, try_check, WarnError, ) LOG_FILE = ""/var/log/nagios/check_haproxy.log"" HAPROXY_FILE = ""/etc/haproxy/haproxy.cfg"" REGEX_AUTH = r""(admin:.*)"" AUTH_ERR_MSG = ""CRITICAL: Failed to get auth"" REGEX_SERVERS = r""\s+server (\S+) "" SERVERS_ERR_MSG = ""CRITICAL: Failed to get servers"" URL_CHECK_HTTP = ""http://127.0.0.1:8888/;csv"" parser = argparse.ArgumentParser(description=""Check haproxy servers"") parser.add_argument( ""-w"", ""--warning"", help=""""""Comma-separated list of backends to alert at warning level, rather than critical. Eg: --warning keystone-0,keystone-1"""""", type=str, ) def get_from_file(file, regex, err_msg): """"""Gets the content of a file using a regex pattern :param file: Path to the file :type file: str :param regex: Regex pattern to be used :type regex: str :param err_msg: error message in case the pattern is not found :type err_msg: str :raises CriticalError: raises the error to be handled by nagios_plugin3 :return: List of matches :rtype: [str] """""" with open(file, ""r"") as open_file: content = open_file.read() match = re.findall(regex, content) if not match: date_utc = datetime.utcnow().isoformat() write_log_file(""{} {}\n"".format(date_utc, err_msg)) raise CriticalError(err_msg) return match def check_http(auth, err_msg, warning_servers): """"""Tests the HTTP service on all hosts :param auth: user and password in the pattern '<usr>:<pwd>' :type auth: str :param err_msg: error message in case the request status is not 200 :type err_msg: str :raises CriticalError: raises the error to be handled by nagios_plugin3 :return: List of dicts containing the lines of the check_http :rtype: [dict] """""" usr, pwd = auth.split("":"") try: check = requests.get( URL_CHECK_HTTP, auth=requests.auth.HTTPBasicAuth(usr, pwd) ) if check.status_code != 200: write_log_file(err_msg) raise CriticalError(err_msg) return csv.DictReader(check.text.splitlines(), delimiter="","") except requests.exceptions.ConnectionError: if warning_servers: warning_msg = ( ""WARNING: Unable to open TCP socket. "" ""Clusters: {} might be with hacluster paused"".format( "","".join(warning_servers) ) ) write_log_file(warning_msg) raise WarnError(warning_msg) else: write_log_file(err_msg) raise CriticalError(err_msg) def write_log_file(msg): """"""Append to the nagios log file. :param msg: message to be appended :type msg: str """""" with open(LOG_FILE, ""a"") as log_file: log_file.write(""{} {}"".format(datetime.utcnow().isoformat(), msg)) def main(): critical = False critical_servers = [] args = parser.parse_args() warning_servers = [] warning_servers_checked = [] if args.warning: warning_servers = args.warning.split("","") auth = get_from_file(HAPROXY_FILE, REGEX_AUTH, AUTH_ERR_MSG)[0] all_servers = set( get_from_file(HAPROXY_FILE, REGEX_SERVERS, SERVERS_ERR_MSG) ) check = check_http( auth, ""CRITICAL: Failed to check server"", warning_servers ) not_active = [ { ""name"": server[""svname""], ""status"": server[""status""], ""check_desc"": server[""check_desc""], } for server in check if server[""status""] == ""DOWN"" ] # admin and public port server name can be duplicated unique_not_active = list( {server[""name""]: server for server in not_active}.values() ) for server in unique_not_active: server_name = server[""name""] if server_name not in warning_servers: critical = True critical_servers.append(server[""name""]) err_msg = ""CRITICAL: server: {} is with status: {} and check_desc: {}"".format( server_name, server[""status""], server[""check_desc""], ) write_log_file(err_msg) elif server_name in warning_servers: warning_servers_checked.append(server_name) if critical: err_msg = ""CRITICAL: {}"".format("", "".join(critical_servers)) raise CriticalError(err_msg) if warning_servers_checked: warning_msg = ( ""WARNING: haproxy instances ({}) are under maintenance"".format( "", "".join(warning_servers_checked) ) ) write_log_file(warning_msg) raise WarnError(warning_msg) ok_msg = ""OK: All haproxy instances ({}) looking good"".format( len(all_servers) ) write_log_file(ok_msg) print(ok_msg) if __name__ == ""__main__"": try_check(main) When a keystone unit changes the state e.g READY to NOTREADY, its necessary to re-write the nrpe files in the other keystone units because, otherwise, they wont be able to warn that a unit is under maintenance. File keystone_hooks.py in charm-keystone: .. code-block:: python @hooks.hook('cluster-relation-changed') @restart_on_change(restart_map(), stopstart=True) def cluster_changed(): # NOTE(jamespage) re-echo passwords for peer storage echo_whitelist = ['_passwd', 'identity-service:'] log(""Peer echo whitelist: {}"".format(echo_whitelist), level=DEBUG) peer_echo(includes=echo_whitelist, force=True) update_all_identity_relation_units() CONFIGS.write_all() inform_peers_if_ready(check_api_unit_ready) # logic added to update nrpe_config in all keystone units when a status is changed update_nrpe_config() Removing apache2 and memcached services from the .cfg files, when the unit is paused, to stop sending critical errors. File keystone_hooks.py in charm-keystone: .. code-block:: python @hooks.hook('nrpe-external-master-relation-joined', 'nrpe-external-master-relation-changed') def update_nrpe_config(): # python-dbus is used by check_upstart_job log('Updating NRPE configuration') status_set('maintenance', 'Updating NRPE configuration') apt_install('python-dbus') hostname = nrpe.get_nagios_hostname() current_unit = nrpe.get_nagios_unit_name() nrpe_setup = nrpe.NRPE(hostname=hostname) nrpe.copy_nrpe_checks() _services = [] for service in services(): if service.startswith('snap.'): service = service.split('.')[1] _services.append(service) # added logic to remove apache2 and memcached if is_unit_paused_set(): nrpe.remove_init_service_checks( nrpe_setup, _services, current_unit ) else: nrpe.add_init_service_checks( nrpe_setup, _services, current_unit ) nrpe.add_haproxy_checks(nrpe_setup, current_unit) nrpe_setup.write() File charmhelpers/contrib/charmsupport/nrpe.py .. code-block:: python # added logic to remove apache2 and memcached def remove_init_service_checks(nrpe, services, unit_name): for svc in services: if host.init_is_systemd(service_name=svc): nrpe.remove_check( shortname=svc, description='process check {%s}' % unit_name, check_cmd='check_systemd.py %s' % svc ) Pausing hacluster unit ---------------------- File actions.py in charm-hacluster: .. code-block:: python def pause(args): """"""Pause the hacluster services. @raises Exception should the service fail to stop. """""" pause_unit() # logic added to inform keystone that unit has been paused relid = relation_ids('ha') for r_id in relid: relation_set(relation_id=r_id, paused=True) def resume(args): """"""Resume the hacluster services. @raises Exception should the service fail to start."""""" resume_unit() # logic added to inform keystone that unit has been resumed relid = relation_ids('ha') for r_id in relid: relation_set(relation_id=r_id, paused=False) Pausing hacluster/0 would result in the following result for the ha relation: .. code-block:: yaml juju show-unit keystone/0 --endpoint ha keystone/0: workload-version: 17.0.0 machine: ""1"" opened-ports: - 5000/tcp public-address: 10.5.2.64 charm: cs:~openstack-charmers-next/keystone-562 leader: true relation-info: - endpoint: ha related-endpoint: ha application-data: {} related-units: hacluster/0: in-scope: true data: clustered: ""yes"" egress-subnets: 10.5.2.64/32 ingress-address: 10.5.2.64 paused: ""True"" private-address: 10.5.2.64 File keystone_hooks.py in charm-keystone: .. code-block:: python @hooks.hook('ha-relation-changed') @restart_on_change(restart_map(), restart_functions=restart_function_map()) def ha_changed(): CONFIGS.write_all() clustered = relation_get('clustered') if clustered: log('Cluster configured, notifying other services and updating ' 'keystone endpoint configuration') for rid in relation_ids('certificates'): if related_units(rid): for unit in related_units(rid): certs_changed(rid, unit) if (is_db_initialised() and is_elected_leader(CLUSTER_RES) and not is_unit_paused_set()): ensure_initial_admin(config) update_all_identity_relation_units() update_all_domain_backends() update_all_fid_backends() inform_peers_if_ready(check_api_unit_ready) # Added logic to pause keystone unit when hacluster is paused for rid in relation_ids('ha'): for unit in related_units(rid): paused = relation_get('paused', rid=rid, unit=unit) clustered = relation_get('clustered', rid=rid, unit=unit) if clustered: if paused == 'True': pause_unit_helper(register_configs()) update_nrpe_config() elif paused == 'False': resume_unit_helper(register_configs()) update_nrpe_config() inform_peers_if_ready(check_api_unit_ready) Alternatives ------------ One alternative to apache2 and memcached checks is to change systemd.py in charm-nrpe to accept flag -w like the proposal for the check_haproxy.py Implementation ============== Assignee(s) ----------- Primary assignee: gabrielcocenza Gerrit Topic ------------ Use Gerrit topic ""keystone-hacluster-no-false-alerts"" for all patches related to this spec. .. code-block:: bash git-review -t keystone-hacluster-no-false-alerts Work Items ---------- - charmhelpers - nrpe.py - check_haproxy.py - charm-keystone - actions.py - keystone_hooks.py - charm-hacluster - actions.py Repositories ------------ No new git Repository is required. Documentation ------------- It might be necessary to document the impact of pausing/resuming a subordinate hacluster and the impacts on keystone Security -------- No additional security concerns. Testing ------- Code changes will be covered by unit and functional tests. For functional tests, it will use a bundle with keystone, hacluster, nrpe and nagios. Dependencies ============ None ",,593,0
openstack%2Fopenstack-ansible~master~I1da1398df37ec4d5c0dae616d24d3b9a019c1d47,openstack/openstack-ansible,master,I1da1398df37ec4d5c0dae616d24d3b9a019c1d47,Start Yoga development cycle,MERGED,2021-12-10 21:14:59.000000000,2021-12-16 16:33:20.000000000,2021-12-16 16:29:44.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-10 21:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a30efaed0efc50b040c3b4e7fb6e952958191fb', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 2, 'created': '2021-12-10 21:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3980933af4a2177b503f30e2aacd003773edc927', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 3, 'created': '2021-12-10 21:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c1a4abe792f7d134478150a193b4781341299ba', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 4, 'created': '2021-12-10 21:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8aed19b4f84b40f466f352e90a2021ca58d0918e', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 5, 'created': '2021-12-10 21:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6f179d4538c134f3f028a78fc47e552ea2b3bda6', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 6, 'created': '2021-12-10 21:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/237881563234b1182cecdadc0302a604d669b989', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 7, 'created': '2021-12-12 10:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/78826e28745e26d49449f43c633eaefa31ccd554', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}, {'number': 8, 'created': '2021-12-14 11:59:51.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'playbooks/os-tempest-install.yml', 'scripts/gate-check-commit.sh', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'scripts/run-upgrade.sh', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11d3797c470c756a2d3f6920ea4a678807b5d1a9', 'message': 'Start Yoga development cycle\n\nChange-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47\n'}]",9,821476,11d3797c470c756a2d3f6920ea4a678807b5d1a9,40,5,8,28619,,,0,"Start Yoga development cycle

Change-Id: I1da1398df37ec4d5c0dae616d24d3b9a019c1d47
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/821476/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'playbooks/os-tempest-install.yml', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'scripts/run-upgrade.sh', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'ansible-role-requirements.yml']",7,8a30efaed0efc50b040c3b4e7fb6e952958191fb,change-821476, version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master version: master version: master version: master version: master version: stable-6.0 version: master version: master version: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master, version: cda7343ac84c97d1db2c099671402407a0b903a8 trackbranch: stable/xena version: fbb457f0183634be50e0f7d1f3a928084044e8f0 trackbranch: stable/xena version: 76bdc362428d436e7dc3f5c3b15a5d815781dc9f trackbranch: stable/xena version: 9ebf7eddee15624f5e4e2c5f3cb9695fadc73a15 trackbranch: stable/xena version: 3abcf462648c70a685ad5e0fefd2ea77ed2ab505 trackbranch: stable/xena version: 78fcf28f2c7be772d16740e8154c21a78a19e775 version: 4d756978fe5e032e1fc1003a86258ce5e832b9e8 trackbranch: stable/xena version: d65aa506d09275089950cf4e55b3836a9938046d trackbranch: stable/xena version: 58c403201d9a2ad7e0901a69ece9146b95fb8860 trackbranch: stable/xena version: 2675479dd46b744d727c9a25b7fe7a928cc9be48 trackbranch: stable/xena version: 8fab446dec67dfa75ac953ccaee8e2f011c401ae trackbranch: stable/xena version: fc780cb1a354217c43fab8482080194af4a210d6 trackbranch: stable/xena version: 3b35767d43c326cc89bf912ce0dc844bec78cd3e trackbranch: stable/xena version: 609c4c0676fb231706a5b4090a4e250383422297 trackbranch: stable/xena version: dcb7e1c74f52a5d7cd457d42536aa8fa361c1d30 trackbranch: stable/xena version: 83e72d95cdc12368c90f5b6ab915cf595d50721a trackbranch: stable/xena version: 436228c585b0baf91be6cde6619faf4a5ae768d8 trackbranch: stable/xena version: 9d525d4129b7953af133e82f2bd1c74f8b77c61e trackbranch: stable/xena version: 0682e7b294452aa93aeaedeb010a0a36e850e909 trackbranch: stable/xena version: 0c3b61217ec347519b9306e4500f0dcb49557859 trackbranch: stable/xena version: 445aab6d91b42c0489dd4a5bad41ee34f118c401 trackbranch: stable/xena version: 886d812bf0165bb8191adf60ee4e065bfeedc861 trackbranch: stable/xena version: ad31c50511ef894b48f8a16ebf46467dc3a2c63f trackbranch: stable/xena version: 639d8ae1cca47ed0ca32d11d74e08bed6d422cea trackbranch: stable/xena version: 2d93fc88a82a032ca03f6a061b9171cae867dde2 trackbranch: stable/xena version: d113f0c0cb2204000768c5075ba2150554feb7d8 trackbranch: stable/xena version: 2365fb40601bc577dcfcbd0875d7f550d569bc50 trackbranch: stable/xena version: 492022022d01bff870e2dccfcadf781f25e1fee6 trackbranch: stable/xena version: f3fbe6f52fe204a5cbd62ee64b7ada5ce2279d98 trackbranch: stable/xena version: 74bc2d140cc1681911aee7ff810debb22b44fb6d trackbranch: stable/xena version: b1d7a6c6ed8eb2890ca927606c06171bd3894192 trackbranch: stable/xena version: 2b74d92657f0983da7abfd6634c753ff3aaad1e2 trackbranch: stable/xena version: b2a61da2e4786c3ec0b5cb3890e64edd74e496f8 trackbranch: stable/xena version: 6244bfa1774ad914ef9ab1ea2345298ac83b18e9 trackbranch: stable/xena version: 5cd6439985624ac1ef5faf4cbea25664c8224872 trackbranch: stable/xena version: b49f69557e1e8e2d2626ff442ac696c354ea19dc trackbranch: stable/xena version: 631bd8c562382f05a1997911aec2151e14d14cda trackbranch: stable/xena version: a7b33376201de2b1bca5ffd0e27f22673bc12689 trackbranch: stable/xena version: 570a0e861c54922630ccb8191a4d06dda5653c42 trackbranch: stable/xena version: 40509100f3e8bd1858cf50726313cb3a935c183b trackbranch: stable/xena version: 024118851338597b5720fb9dc34e1576794e9a56 trackbranch: stable/xena version: 1c9a9367506588b2a5fbe65068dea7e7c25c1573 trackbranch: stable/xena version: 1bf80ebc96f984347459eb6833709850816169c6 trackbranch: stable/xena version: d7bc864c5596fe2249cf0c06caa0e05ab885ad4d trackbranch: stable/xena version: e225bdd9e12b8bceaabedd6de04142293261eaec trackbranch: stable/xena version: 6573c7f512aedbc0c3ced88e9bc8d25d24559dcc trackbranch: stable/xena version: a4ad2c6c3128adc320b24691dd9e356e1e209ae2 trackbranch: stable/xena version: d13007540a12eaafa897e011a3945ddd84f92647 trackbranch: stable/xena version: 214df35c0bee77b5d69f49c2da269251d451b28f version: 904e55d56f82f36e3e9e9fbc5b3bd932a1151f7b version: ab9861e35c23342fa30c703d29e370da590ea582 version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: 8a32576d209bc329b4159a781151a7d3a40c5b7d version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: 70d3c59efea4c3080fa66aeef75eadd0a032a83e version: 4a5fb95608c2ca490073f7c253fc13c8b1134cd3 trackbranch: stable/xena version: eb52a1e6daca04e262a1a5aa3f96a5cf18d17cdb trackbranch: stable/xena version: 3817a269c6d52882e6ba9e36254f6e37e4cc4cd0 trackbranch: stable/xena version: 568011364df031eab8547c553cac29985acac4f0 trackbranch: stable/xena version: 805b4675a25aaa79e8670f6228355ed982252c15 trackbranch: stable/xena version: 64a6bb421085c2f28fb6f306ae71712a67fa3558 trackbranch: stable/xena,257,249
openstack%2Fcharm-cinder-ceph~master~I3c0f7a75cb20d9429910feb7562fbe55cd1f8cc7,openstack/charm-cinder-ceph,master,I3c0f7a75cb20d9429910feb7562fbe55cd1f8cc7,Dropping explicit unicode literal,ABANDONED,2021-07-06 08:02:42.000000000,2021-12-16 16:22:07.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/37daa94841a598d076cdd0a67425187280f44cc3', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I3c0f7a75cb20d9429910feb7562fbe55cd1f8cc7\n'}, {'number': 2, 'created': '2021-12-08 04:16:43.000000000', 'files': ['charmhelpers/core/unitdata.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/a5632042e8c9faeb35c9615cec02293191a82b25', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I3c0f7a75cb20d9429910feb7562fbe55cd1f8cc7\n'}]",2,799571,a5632042e8c9faeb35c9615cec02293191a82b25,23,3,2,30615,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: I3c0f7a75cb20d9429910feb7562fbe55cd1f8cc7
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/71/799571/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",2,37daa94841a598d076cdd0a67425187280f44cc3,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",34,34
openstack%2Fcharm-nova-compute~master~I4b005e6b8a6d261ea0a7a0190e81a64916681643,openstack/charm-nova-compute,master,I4b005e6b8a6d261ea0a7a0190e81a64916681643,Remove six,ABANDONED,2020-09-28 09:40:18.000000000,2021-12-16 16:21:24.000000000,,"[{'_account_id': 11904}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30092}]","[{'number': 1, 'created': '2020-09-28 09:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/3e5e919f0f85a7a748e9204ac8c1c05d84205ae9', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.iteritems\n- six.PY2\n- six.PY3\n- six.text_type\n- six.string_types\n\nChange-Id: I4b005e6b8a6d261ea0a7a0190e81a64916681643\n'}, {'number': 2, 'created': '2020-10-08 00:43:54.000000000', 'files': ['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'requirements.txt', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/nova_compute_utils.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/71ea80ed48521a66afbcd47bdf9fab7cebed885e', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.iteritems\n- six.PY2\n- six.PY3\n- six.text_type\n- six.string_types\n\nChange-Id: I4b005e6b8a6d261ea0a7a0190e81a64916681643\n'}]",1,754675,71ea80ed48521a66afbcd47bdf9fab7cebed885e,13,4,2,30092,,,0,"Remove six

Replace the following items with Python 3 style code.

- six.iteritems
- six.PY2
- six.PY3
- six.text_type
- six.string_types

Change-Id: I4b005e6b8a6d261ea0a7a0190e81a64916681643
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/75/754675/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/python/packages.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'requirements.txt', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/nova_compute_utils.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",35,3e5e919f0f85a7a748e9204ac8c1c05d84205ae9,bp/six-removal, out = out.decode('utf-8'),import six if six.PY3: out = out.decode('utf-8'),117,246
openstack%2Fcharm-cinder~master~I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0,openstack/charm-cinder,master,I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0,Remove six,ABANDONED,2020-09-28 08:23:58.000000000,2021-12-16 16:21:06.000000000,,"[{'_account_id': 11904}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30092}]","[{'number': 1, 'created': '2020-09-28 08:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f1169ffefd1a9ae5d96d16e745303e41a19972c2', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.iteritems\n- six.iterkeys\n- six.itervalues\n- six.moves.zip\n- six.moves.cStringIO\n- six.text_type\n- six.string_types\n- six.moves\n\nChange-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0\n'}, {'number': 2, 'created': '2020-09-28 09:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/846ff979fad94854a2780e77d9c6185f0ebc87c2', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.iteritems\n- six.iterkeys\n- six.itervalues\n- six.moves.zip\n- six.moves.cStringIO\n- six.text_type\n- six.string_types\n- six.moves\n\nChange-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0\n'}, {'number': 3, 'created': '2020-10-08 00:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/43690b5084c3bccd4f556ce5f4ee4ed6fee410a0', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.iteritems\n- six.iterkeys\n- six.itervalues\n- six.moves.zip\n- six.moves.cStringIO\n- six.text_type\n- six.string_types\n- six.moves\n\nChange-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0\n'}, {'number': 4, 'created': '2020-10-08 06:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/941795e31a69ee046ce1a536e90f644cedbfc302', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.iteritems\n- six.iterkeys\n- six.itervalues\n- six.moves.zip\n- six.moves.cStringIO\n- six.text_type\n- six.string_types\n- six.moves\n\nChange-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0\n'}, {'number': 5, 'created': '2020-10-09 01:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8c4d31950443df794fe9ada8f4496a6b532eca67', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.iteritems\n- six.iterkeys\n- six.itervalues\n- six.moves.zip\n- six.moves.cStringIO\n- six.text_type\n- six.string_types\n- six.moves\n\nChange-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0\n'}, {'number': 6, 'created': '2020-10-09 01:59:30.000000000', 'files': ['unit_tests/test_cinder_hooks.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/5e0311d2fd02a68482067f5dfd454eee1d916abb', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\n- six.PY3\n- six.iteritems\n- six.iterkeys\n- six.itervalues\n- six.moves.zip\n- six.moves.cStringIO\n- six.text_type\n- six.string_types\n- six.moves\n\nChange-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0\n'}]",1,754650,5e0311d2fd02a68482067f5dfd454eee1d916abb,26,6,6,30092,,,0,"Remove six

Replace the following items with Python 3 style code.

- six.PY3
- six.iteritems
- six.iterkeys
- six.itervalues
- six.moves.zip
- six.moves.cStringIO
- six.text_type
- six.string_types
- six.moves

Change-Id: I71dca73d8d06b2f31f50a9f7b89a5a508d41e3b0
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/50/754650/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_hooks.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",33,f1169ffefd1a9ae5d96d16e745303e41a19972c2,bp/six-removal," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",155,285
openstack%2Fcharm-heat~master~I4969d9c8332365131fef561b93a883320956e308,openstack/charm-heat,master,I4969d9c8332365131fef561b93a883320956e308,Remove six,ABANDONED,2021-01-08 07:37:44.000000000,2021-12-16 16:20:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 07:37:44.000000000', 'files': ['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'requirements.txt', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/heat_utils.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/4107d497ed618cd63d1008b33262a650b1f50cdc', 'message': 'Remove six\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.text_type\n- six.PY2\n- six.PY3\n- six.moves.urllib\n- six.string_types\n- six.iteritems\n- six.with_metaclass\n- six.iterkeys\n- six.itervalues\n\nChange-Id: I4969d9c8332365131fef561b93a883320956e308\n'}]",0,769876,4107d497ed618cd63d1008b33262a650b1f50cdc,4,2,1,32326,,,0,"Remove six

Remove six.moves Replace the following items with Python 3 style code.

- six.text_type
- six.PY2
- six.PY3
- six.moves.urllib
- six.string_types
- six.iteritems
- six.with_metaclass
- six.iterkeys
- six.itervalues

Change-Id: I4969d9c8332365131fef561b93a883320956e308
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/76/769876/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/cli/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'requirements.txt', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/__init__.py', 'hooks/heat_utils.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",31,4107d497ed618cd63d1008b33262a650b1f50cdc,, out = out.decode('utf-8'),import six if six.PY3: out = out.decode('utf-8'),98,208
openstack%2Fcharm-glance~master~I5875b8f1aadd1b9a76184cef1233dfe3372e9f9e,openstack/charm-glance,master,I5875b8f1aadd1b9a76184cef1233dfe3372e9f9e,remove six of files charmhelpers/core,ABANDONED,2021-01-08 08:21:16.000000000,2021-12-16 16:20:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 08:21:16.000000000', 'files': ['charmhelpers/core/host.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/core/strutils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/15588445246f76a4c9a86451e324f3a3728e379c', 'message': 'remove six of files charmhelpers/core\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.text_type\n- six.PY3\n- six.iteritems\n\nChange-Id: I5875b8f1aadd1b9a76184cef1233dfe3372e9f9e\n'}]",0,769881,15588445246f76a4c9a86451e324f3a3728e379c,4,2,1,32326,,,0,"remove six of files charmhelpers/core

Remove six.moves Replace the following items with Python 3 style code.

- six.text_type
- six.PY3
- six.iteritems

Change-Id: I5875b8f1aadd1b9a76184cef1233dfe3372e9f9e
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/81/769881/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/host.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/core/strutils.py']",3,15588445246f76a4c9a86451e324f3a3728e379c,," if isinstance(value, str): value = str(value) if isinstance(value, str): value = str(value)","import six if isinstance(value, six.string_types): value = six.text_type(value) if isinstance(value, six.string_types): value = six.text_type(value)",11,19
openstack%2Fcharm-glance~master~Ie24a3fc6ae0c3340272d04d556cbe7f7d8a743ee,openstack/charm-glance,master,Ie24a3fc6ae0c3340272d04d556cbe7f7d8a743ee,remove six of file charmhelpers/cli/__init__.py,ABANDONED,2021-01-08 08:01:08.000000000,2021-12-16 16:20:34.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 08:01:08.000000000', 'files': ['charmhelpers/cli/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/0e1b0e25e76ad8f7ba04d94ee56cff4b80959342', 'message': 'remove six of file charmhelpers/cli/__init__.py\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.moves\n\nChange-Id: Ie24a3fc6ae0c3340272d04d556cbe7f7d8a743ee\n'}]",0,769879,0e1b0e25e76ad8f7ba04d94ee56cff4b80959342,4,2,1,32326,,,0,"remove six of file charmhelpers/cli/__init__.py

Remove six.moves Replace the following items with Python 3 style code.

- six.moves

Change-Id: Ie24a3fc6ae0c3340272d04d556cbe7f7d8a743ee
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/79/769879/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/cli/__init__.py'],1,0e1b0e25e76ad8f7ba04d94ee56cff4b80959342,,,from six.moves import zip ,0,2
openstack%2Fcharm-glance~master~Icb2848d88bec4f4658251139ea7a20c113fe85bd,openstack/charm-glance,master,Icb2848d88bec4f4658251139ea7a20c113fe85bd,remove six of files charmhelpers/contrib/openstack,ABANDONED,2021-01-08 09:24:08.000000000,2021-12-16 16:20:25.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 09:24:08.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/contrib/openstack/neutron.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f536f392ea641eb002902819421420ef45564c5c', 'message': 'remove six of files charmhelpers/contrib/openstack\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.PY2\n- six.PY3\n- six.string_types\n- six.iteritems\n- six.iterkeys\n\nChange-Id: Icb2848d88bec4f4658251139ea7a20c113fe85bd\n'}]",0,769895,f536f392ea641eb002902819421420ef45564c5c,4,2,1,32326,,,0,"remove six of files charmhelpers/contrib/openstack

Remove six.moves Replace the following items with Python 3 style code.

- six.PY2
- six.PY3
- six.string_types
- six.iteritems
- six.iterkeys

Change-Id: Icb2848d88bec4f4658251139ea7a20c113fe85bd
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/95/769895/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/contrib/openstack/neutron.py']",8,f536f392ea641eb002902819421420ef45564c5c,," for p, r in _mappings.items():","import six for p, r in six.iteritems(_mappings):",36,73
openstack%2Fmanila~master~Iced1edc86adbad987468633b4433121ae9b1231c,openstack/manila,master,Iced1edc86adbad987468633b4433121ae9b1231c,Bump Oslo.log,ABANDONED,2021-11-30 19:52:35.000000000,2021-12-16 16:20:22.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-11-30 19:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a6bb7dd346a3bc0c0a8951f5ab698162ff45ce08', 'message': 'Bump Oslo.log\n\nbumps oslo.log to 4.6.0 to pass requirements_check\n\nChange-Id: Iced1edc86adbad987468633b4433121ae9b1231c\n'}, {'number': 2, 'created': '2021-12-01 16:42:28.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/4c851fa2d7bd724cd41915673d7932fd7b9903b5', 'message': 'Bump Oslo.log\n\nbumps oslo.log to 4.6.0 to pass requirements_check\n\nChange-Id: Iced1edc86adbad987468633b4433121ae9b1231c\n'}]",6,819921,4c851fa2d7bd724cd41915673d7932fd7b9903b5,17,3,2,32594,,,0,"Bump Oslo.log

bumps oslo.log to 4.6.0 to pass requirements_check

Change-Id: Iced1edc86adbad987468633b4433121ae9b1231c
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/819921/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,a6bb7dd346a3bc0c0a8951f5ab698162ff45ce08,bump_log,oslo.log==4.6.0,oslo.log==4.4.0,1,1
openstack%2Fcharm-glance~master~Ia0d0869a5abc6fcc579bd3cef3e0bf10e32dd235,openstack/charm-glance,master,Ia0d0869a5abc6fcc579bd3cef3e0bf10e32dd235,remove six of files charmhelpers/fetch,ABANDONED,2021-01-08 08:37:27.000000000,2021-12-16 16:20:16.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 08:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/7951f3d706c929db48e2b80e556faad0381923ac', 'message': 'remove six\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.PY2\n- six.PY3\n- six.string_types\n- six.iteritems\n- six.iterkeys\n\nChange-Id: Ia0d0869a5abc6fcc579bd3cef3e0bf10e32dd235\n'}, {'number': 2, 'created': '2021-01-08 08:38:40.000000000', 'files': ['charmhelpers/fetch/__init__.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/fetch/python/packages.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/feac5c4149ef2aacac5d47d5daf9585e46e1b953', 'message': 'remove six of files charmhelpers/fetch\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.PY2\n- six.PY3\n- six.string_types\n- six.iteritems\n- six.iterkeys\n\nChange-Id: Ia0d0869a5abc6fcc579bd3cef3e0bf10e32dd235\n'}]",0,769883,feac5c4149ef2aacac5d47d5daf9585e46e1b953,5,2,2,32326,,,0,"remove six of files charmhelpers/fetch

Remove six.moves Replace the following items with Python 3 style code.

- six.PY2
- six.PY3
- six.string_types
- six.iteritems
- six.iterkeys

Change-Id: Ia0d0869a5abc6fcc579bd3cef3e0bf10e32dd235
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/83/769883/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/fetch/__init__.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/fetch/python/packages.py']",5,7951f3d706c929db48e2b80e556faad0381923ac,, apt_install('python3-pip') apt_install('python3-virtualenv'),import six if six.PY2: apt_install('python-pip') else: apt_install('python3-pip') if six.PY2: apt_install('python-virtualenv') else: apt_install('python3-virtualenv'),24,57
openstack%2Fcharm-glance~master~Ifecefc4f6cd787b78f80a6220676533d4b953c4b,openstack/charm-glance,master,Ifecefc4f6cd787b78f80a6220676533d4b953c4b,remove six of files charmhelpers/contrib/**,ABANDONED,2021-01-08 09:09:44.000000000,2021-12-16 16:20:06.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 09:09:44.000000000', 'files': ['charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/contrib/hardening/host/checks/login.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1f6055858841b744d2d98e3584b29e5d5134a0d7', 'message': 'remove six of files charmhelpers/contrib/**\n\nRemove six.moves Replace the following items with Python 3 style code.\n\n- six.PY2\n- six.PY3\n- six.string_types\n- six.iteritems\n- six.iterkeys\n\nChange-Id: Ifecefc4f6cd787b78f80a6220676533d4b953c4b\n'}]",0,769888,1f6055858841b744d2d98e3584b29e5d5134a0d7,4,2,1,32326,,,0,"remove six of files charmhelpers/contrib/**

Remove six.moves Replace the following items with Python 3 style code.

- six.PY2
- six.PY3
- six.string_types
- six.iteritems
- six.iterkeys

Change-Id: Ifecefc4f6cd787b78f80a6220676533d4b953c4b
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/88/769888/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/contrib/hardening/host/checks/login.py']",14,1f6055858841b744d2d98e3584b29e5d5134a0d7,," if not isinstance(umask, str):","from six import string_types if not isinstance(umask, string_types):",44,86
openstack%2Fcharm-cinder~master~I4daf7e72e0bff4846e590a1ef836307f8f47044c,openstack/charm-cinder,master,I4daf7e72e0bff4846e590a1ef836307f8f47044c,Fix misspell word,ABANDONED,2020-03-25 08:57:33.000000000,2021-12-16 16:19:50.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-25 08:57:33.000000000', 'files': ['charmhelpers/core/host.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/074bc641e516425e4503fdabb564e99961a1ce29', 'message': 'Fix misspell word\n\nChange-Id: I4daf7e72e0bff4846e590a1ef836307f8f47044c\n'}]",0,714893,074bc641e516425e4503fdabb564e99961a1ce29,5,3,1,24061,,,0,"Fix misspell word

Change-Id: I4daf7e72e0bff4846e590a1ef836307f8f47044c
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/93/714893/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host.py'],1,074bc641e516425e4503fdabb564e99961a1ce29,," """"""Generate a random password."""""""," """"""Generate a random pasword.""""""",1,1
openstack%2Fvenus~master~I67d730dfe46ee17b8b5a5bf747f2a7d08392d575,openstack/venus,master,I67d730dfe46ee17b8b5a5bf747f2a7d08392d575,add support of Python3.10,MERGED,2021-10-12 11:50:36.000000000,2021-12-16 16:18:34.000000000,2021-10-12 12:02:57.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-10-12 11:50:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/7e394d2b944f58db450a2c5e37634137c14d8dee', 'message': 'add support of Python3.10\n\nChange-Id: I67d730dfe46ee17b8b5a5bf747f2a7d08392d575\n'}]",0,813613,7e394d2b944f58db450a2c5e37634137c14d8dee,7,2,1,30455,,,0,"add support of Python3.10

Change-Id: I67d730dfe46ee17b8b5a5bf747f2a7d08392d575
",git fetch https://review.opendev.org/openstack/venus refs/changes/13/813613/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7e394d2b944f58db450a2c5e37634137c14d8dee,, Programming Language :: Python :: 3.10,,1,0
openstack%2Fci-log-processing~master~Ie98758d30b58f45bb0d8ba641d294774fda89eac,openstack/ci-log-processing,master,Ie98758d30b58f45bb0d8ba641d294774fda89eac,Add missing default value for requests verify,MERGED,2021-12-16 15:10:25.000000000,2021-12-16 16:17:23.000000000,2021-12-16 16:15:37.000000000,"[{'_account_id': 6889}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 15:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/c2a5dc15c7b8305db21267c5113698103dcc51a3', 'message': 'Add missing default value for requests verify\n\nThis change fixes an exception happening in check_specified_files.\n\nChange-Id: Ie98758d30b58f45bb0d8ba641d294774fda89eac\n'}, {'number': 2, 'created': '2021-12-16 15:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0ab91dfdb2108faaf29e871b88cc558044e57be5', 'message': 'Add missing default value for requests verify\n\nThis change fixes an exception happening in check_specified_files.\n\nChange-Id: Ie98758d30b58f45bb0d8ba641d294774fda89eac\n'}, {'number': 3, 'created': '2021-12-16 15:19:07.000000000', 'files': ['logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/5417daba04bb01a8454310d40a9078bc82023e35', 'message': 'Add missing default value for requests verify\n\nThis change fixes an exception thrown by check_specified_files.\n\nChange-Id: Ie98758d30b58f45bb0d8ba641d294774fda89eac\n'}]",0,821989,5417daba04bb01a8454310d40a9078bc82023e35,11,3,3,9311,,,0,"Add missing default value for requests verify

This change fixes an exception thrown by check_specified_files.

Change-Id: Ie98758d30b58f45bb0d8ba641d294774fda89eac
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/89/821989/1 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logscraper.py'],1,c2a5dc15c7b8305db21267c5113698103dcc51a3,,"def requests_get(url, verify=True):def requests_get_json(url, verify=True):","def requests_get(url, verify):def requests_get_json(url, verify):",2,2
openstack%2Fsahara~master~Id54e135631897d1e5345286ef2ffdf38e5f54d75,openstack/sahara,master,Id54e135631897d1e5345286ef2ffdf38e5f54d75,Fix ignored [castellan] barbican_* options,NEW,2021-12-12 14:52:33.000000000,2021-12-16 16:15:20.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2021-12-12 14:52:33.000000000', 'files': ['sahara/service/castellan/config.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/e65d905e95ed1d7e0afd4e10479e53332f071a94', 'message': 'Fix ignored [castellan] barbican_* options\n\nThis change fixes the following two parameters which were ignored, and\nensures these parameters are properly passed to the castellan library.\n\n - barbican_api_endpoint\n - barbican_api_version.\n\nThe default value of barbican_api_version is updated to keep\nthe previous default behavior.\n\nStory: 2009739\nTask: 44168\nChange-Id: Id54e135631897d1e5345286ef2ffdf38e5f54d75\n'}]",1,821496,e65d905e95ed1d7e0afd4e10479e53332f071a94,3,3,1,9816,,,0,"Fix ignored [castellan] barbican_* options

This change fixes the following two parameters which were ignored, and
ensures these parameters are properly passed to the castellan library.

 - barbican_api_endpoint
 - barbican_api_version.

The default value of barbican_api_version is updated to keep
the previous default behavior.

Story: 2009739
Task: 44168
Change-Id: Id54e135631897d1e5345286ef2ffdf38e5f54d75
",git fetch https://review.opendev.org/openstack/sahara refs/changes/96/821496/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/castellan/config.py'],1,e65d905e95ed1d7e0afd4e10479e53332f071a94,story/2009739," cfg.StrOpt('barbican_api_version', castellan.set_defaults( CONF, auth_endpoint=utils.retrieve_auth_url(), barbican_api_endpoint=CONF.castellan.barbican_api_endpoint, barbican_api_version=CONF.castellan.barbican_api_version)"," cfg.StrOpt('barbican_api_version', default='v1', castellan.set_defaults(CONF, auth_endpoint=utils.retrieve_auth_url())",5,2
openstack%2Fironic~stable%2Fxena~I95252aea808c48ea2d94569449c871f0d483caaa,openstack/ironic,stable/xena,I95252aea808c48ea2d94569449c871f0d483caaa,Adoption: do not validate boot interface when local booting,MERGED,2021-12-15 10:57:23.000000000,2021-12-16 16:10:38.000000000,2021-12-15 15:01:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-15 10:57:23.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/adopt-validation-7249ceb57016f0e4.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/20a0c23293511b894fb571ac685d4660c689d570', 'message': 'Adoption: do not validate boot interface when local booting\n\nWe validate the boot interface during adoption because of:\na) potential rebuilding,\nb) non-local boot.\n\nRebuild proved a rarely used feature, and local boot is the default\nnowadays, so it makes less sense to unconditionally validate the boot\ninterface during adoption. We will run the validation anyway the next\ntime we need to do something with booting.\n\nSimilarly, do not record is_whole_disk_image None if it cannot be\nreliably determined.\n\nConflicts:\n\tironic/conductor/manager.py\n\nChange-Id: I95252aea808c48ea2d94569449c871f0d483caaa\n(cherry picked from commit d342b07dd6f8c5478f37a31b14e77bba6bef55e2)\n'}]",0,821821,20a0c23293511b894fb571ac685d4660c689d570,11,2,1,10239,,,0,"Adoption: do not validate boot interface when local booting

We validate the boot interface during adoption because of:
a) potential rebuilding,
b) non-local boot.

Rebuild proved a rarely used feature, and local boot is the default
nowadays, so it makes less sense to unconditionally validate the boot
interface during adoption. We will run the validation anyway the next
time we need to do something with booting.

Similarly, do not record is_whole_disk_image None if it cannot be
reliably determined.

Conflicts:
	ironic/conductor/manager.py

Change-Id: I95252aea808c48ea2d94569449c871f0d483caaa
(cherry picked from commit d342b07dd6f8c5478f37a31b14e77bba6bef55e2)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/821821/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/adopt-validation-7249ceb57016f0e4.yaml']",3,20a0c23293511b894fb571ac685d4660c689d570,,--- fixes: - | No longer validates boot interface parameters when adopting a node that uses local boot. ,,62,13
openstack%2Fironic~master~I940d4a625ac635a6e4c374a6e3e5e5228a6f8a77,openstack/ironic,master,I940d4a625ac635a6e4c374a6e3e5e5228a6f8a77,Update RAID docs,MERGED,2021-12-15 00:02:10.000000000,2021-12-16 16:00:12.000000000,2021-12-16 15:58:16.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-15 00:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8057745c89542575f8e4d006670ff71842f31fcc', 'message': ""Update RAID docs\n\nI've been asked a number of questions w/r/t RAID recently, and\nthoguht it would be easiest to just update the documentation for\nthe purposes of clarity.\n\nChange-Id: I940d4a625ac635a6e4c374a6e3e5e5228a6f8a77\n""}, {'number': 2, 'created': '2021-12-15 14:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e5717db559748706e0dded7c60bdffe2bb1d321', 'message': ""Update RAID docs\n\nI've been asked a number of questions w/r/t RAID recently, and\nthoguht it would be easiest to just update the documentation for\nthe purposes of clarity.\n\nChange-Id: I940d4a625ac635a6e4c374a6e3e5e5228a6f8a77\n""}, {'number': 3, 'created': '2021-12-15 18:04:39.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/454ad95666ac6b21f733455159336e4574bedde4', 'message': ""Update RAID docs\n\nI've been asked a number of questions w/r/t RAID recently, and\nthoguht it would be easiest to just update the documentation for\nthe purposes of clarity.\n\nChange-Id: I940d4a625ac635a6e4c374a6e3e5e5228a6f8a77\n""}]",17,821782,454ad95666ac6b21f733455159336e4574bedde4,16,5,3,11655,,,0,"Update RAID docs

I've been asked a number of questions w/r/t RAID recently, and
thoguht it would be easiest to just update the documentation for
the purposes of clarity.

Change-Id: I940d4a625ac635a6e4c374a6e3e5e5228a6f8a77
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/821782/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,8057745c89542575f8e4d006670ff71842f31fcc,,"* The final instance image must have the ``mdadm`` utility installed and needs to be able to detect software RAID devices at boot time (which is usually done by having the RAID drivers embedded in the image's initrd). This includes flavors requesting dynamic creation of swap filesystems. Swap should be pre-allocated inside of a disk image partition layout. * Images utilizing LVM for their root filesystem are not supported. Patches are welcome to explicitly support such functionality. * If the root filesystem UUID is not known to ironic via metadata, then the disk image layout **MUST** have the first partition consist of the root filesystem. Ironic is agnostic if the partition table is a DOS MBR or a GPT partition. Starting in Ironic 14.0.0 (Ussuri), the root filesystem UUID can be set and passed through to ironic through the Glance Image Service ``properties`` sub-field ``rootfs_uuid`` for the image to be deployed. Starting in Ironic 16.1.0 (Wallaby), similar functionality is available via the baremetal node ``instance_info`` field value ``image_rootfs_uuid``. See :doc:`/install/standalone` for more details on standalone usage including an example command.* Linux kernel device naming is not consistent across reboots for RAID devices and may be numbered in an distribution specific pattern. Operators will need to be mindful of this if a root device hint is utilized. A particular example of this is that the first md0 device on an Ubuntu based ramdisk may start as device ""md0"", where as on a Centos or Red Hat Enterprise Linux based ramdisk may start at device ""md127"". After a reboot, these device names may change. .. NOTE:: :ref:`Root device hints <root-device-hints>` should not be explicitly required to utilize software RAID. Candidate devices are chosen by sorting the usable device list looking for the smallest usable device which is then sorted by name. The secondary sort by name impoves the odds for matching the first initialized block device. ","* If local boot is going to be used, the final instance image must have the ``mdadm`` utility installed and needs to be able to detect software RAID devices at boot time (which is usually done by having the RAID drivers embedded in the image's initrd).",38,4
openstack%2Fbarbican~master~I92cc78df6245774c2038d35fb6e353cb2fa83cda,openstack/barbican,master,I92cc78df6245774c2038d35fb6e353cb2fa83cda,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-11-25 00:29:30.000000000,2021-12-16 15:41:57.000000000,2021-12-16 15:39:58.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-25 00:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d8c5ab79bae0094d5ece88a83c0ca14fbc768dbb', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in setup.cfg metadata.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I92cc78df6245774c2038d35fb6e353cb2fa83cda\n'}, {'number': 2, 'created': '2021-12-14 02:46:32.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1d198ab481579b92b6bf1cd9681b5acd5332fb94', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I92cc78df6245774c2038d35fb6e353cb2fa83cda\n'}]",1,819211,1d198ab481579b92b6bf1cd9681b5acd5332fb94,13,6,2,8556,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I92cc78df6245774c2038d35fb6e353cb2fa83cda
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/819211/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,d8c5ab79bae0094d5ece88a83c0ca14fbc768dbb,yoga-python-testing,"envlist = py39,py38,pep8,docs","envlist = py36,py38,pep8,docs",2,3
openstack%2Frequirements~stable%2Ftrain~I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2,openstack/requirements,stable/train,I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2,[stable-only] pin virtualenv,ABANDONED,2021-12-16 15:02:27.000000000,2021-12-16 15:39:37.000000000,,[],"[{'number': 1, 'created': '2021-12-16 15:02:27.000000000', 'files': ['global-requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/30d91a8bd71769863c89f5d473db4d3aaf35e896', 'message': '[stable-only] pin virtualenv\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0 which is still being used in Ussuri and Train.\n\nThis patch pins virtualenv to avoid the break.\n\nChange-Id: I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2\n(cherry picked from commit 84831a3287aa98a7aa640e36b0c69a03d0dc7534)\n'}]",0,821909,30d91a8bd71769863c89f5d473db4d3aaf35e896,2,0,1,3153,,,0,"[stable-only] pin virtualenv

Setuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of
decorator 3.4.0 which is still being used in Ussuri and Train.

This patch pins virtualenv to avoid the break.

Change-Id: I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2
(cherry picked from commit 84831a3287aa98a7aa640e36b0c69a03d0dc7534)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/821909/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'test-requirements.txt']",2,30d91a8bd71769863c89f5d473db4d3aaf35e896,use_2to3-stable/train,virtualenv<20.8 # MIT,virtualenv>=14.0.6 # MIT,2,2
openstack%2Fmistral~stable%2Fxena~I4a4cacc358fe7700347fc3f2c2b4ae44a4b60214,openstack/mistral,stable/xena,I4a4cacc358fe7700347fc3f2c2b4ae44a4b60214,Update TOX_CONSTRAINTS_FILE for stable/xena,NEW,2021-09-17 16:22:37.000000000,2021-12-16 15:20:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-17 16:22:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7b396834a18d35210d7356b9f8be237592893945', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4a4cacc358fe7700347fc3f2c2b4ae44a4b60214\n'}]",1,809819,7b396834a18d35210d7356b9f8be237592893945,13,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4a4cacc358fe7700347fc3f2c2b4ae44a4b60214
",git fetch https://review.opendev.org/openstack/mistral refs/changes/19/809819/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7b396834a18d35210d7356b9f8be237592893945,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fkolla-ansible~master~If9186d8aa65150c492657550064789e211dbb570,openstack/kolla-ansible,master,If9186d8aa65150c492657550064789e211dbb570,Bump timeout for grafana startup,MERGED,2021-12-03 18:30:27.000000000,2021-12-16 15:16:03.000000000,2021-12-16 15:13:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-03 18:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b37ddf1d7e87dc1d3d791a12e365ce1a412073e8', 'message': 'Bump timeout for grafana startup\n\nThe initial migrations when starting grafana for the first time may\nsometimes take much longer than 20s, we have seen samples up to near\n60s. Allow 120s to have some margin.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: If9186d8aa65150c492657550064789e211dbb570\n'}, {'number': 2, 'created': '2021-12-08 12:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cee23b787183e828a510fc4b860c071f0c3e2004', 'message': 'Bump timeout for grafana startup\n\nThe initial migrations when starting grafana for the first time may\nsometimes take much longer than 20s, we have seen samples up to near\n60s. Allow 120s to have some margin. Also make the timeout parameters\nconfigurable.\n\nCloses-Bug: 1769962\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: If9186d8aa65150c492657550064789e211dbb570\n'}, {'number': 3, 'created': '2021-12-08 15:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d357110cadcd353ee28fe5a1d70ec0fc9fa9c92', 'message': 'Bump timeout for grafana startup\n\nThe initial migrations when starting grafana for the first time may\nsometimes take much longer than 20s, we have seen samples up to near\n60s. Allow 120s to have some margin. Also make the timeout parameters\nconfigurable.\n\nCloses-Bug: 1769962\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: If9186d8aa65150c492657550064789e211dbb570\n'}, {'number': 4, 'created': '2021-12-08 18:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b7139f35ff4429a9466b2f26eb5bc8913a817e0', 'message': 'Bump timeout for grafana startup\n\nThe initial migrations when starting grafana for the first time may\nsometimes take much longer than 20s, we have seen samples up to near\n60s. Allow 120s to have some margin. Also make the timeout parameters\nconfigurable.\n\nCloses-Bug: 1769962\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: If9186d8aa65150c492657550064789e211dbb570\n'}, {'number': 5, 'created': '2021-12-09 07:06:19.000000000', 'files': ['ansible/roles/grafana/defaults/main.yml', 'ansible/roles/grafana/handlers/main.yml', 'releasenotes/notes/grafana-start-first-node-timeout-f9a6149cc68153a5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8f34e0c471c37c4f9e39135bbcf6501f00440aa', 'message': 'Bump timeout for grafana startup\n\nThe initial migrations when starting grafana for the first time may\nsometimes take much longer than 20s, we have seen samples up to near\n60s. Allow 120s to have some margin. Also make the timeout parameters\nconfigurable.\n\nCloses-Bug: 1769962\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: If9186d8aa65150c492657550064789e211dbb570\n'}]",6,820400,f8f34e0c471c37c4f9e39135bbcf6501f00440aa,27,5,5,13252,,,0,"Bump timeout for grafana startup

The initial migrations when starting grafana for the first time may
sometimes take much longer than 20s, we have seen samples up to near
60s. Allow 120s to have some margin. Also make the timeout parameters
configurable.

Closes-Bug: 1769962
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: If9186d8aa65150c492657550064789e211dbb570
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/820400/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/grafana/handlers/main.yml'],1,b37ddf1d7e87dc1d3d791a12e365ce1a412073e8,grafana-startup, retries: 24 delay: 5, retries: 10 delay: 2,2,2
openstack%2Fcharm-nova-compute-proxy~master~I231135878d847ceae2076ccb8b97882578eede4b,openstack/charm-nova-compute-proxy,master,I231135878d847ceae2076ccb8b97882578eede4b,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 06:37:17.000000000,2021-12-16 15:13:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-17 06:37:17.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-proxy/commit/38f02513fa2bf2b2d29bf4798e7807608099e366', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I231135878d847ceae2076ccb8b97882578eede4b\n'}]",0,631432,38f02513fa2bf2b2d29bf4798e7807608099e366,3,1,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I231135878d847ceae2076ccb8b97882578eede4b
",git fetch https://review.opendev.org/openstack/charm-nova-compute-proxy refs/changes/32/631432/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templating.py'],1,38f02513fa2bf2b2d29bf4798e7807608099e366,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-odl-controller~master~Ic8ad316f84648132380ff0e693530442317e95b5,openstack/charm-odl-controller,master,Ic8ad316f84648132380ff0e693530442317e95b5,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 05:25:49.000000000,2021-12-16 15:13:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-17 05:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-odl-controller/commit/f40bff69020b79af28997eb9411f522d26755b39', 'message': 'Fix the misspelling of ""package""\n\nChange-Id: Ic8ad316f84648132380ff0e693530442317e95b5\n'}, {'number': 2, 'created': '2019-01-17 05:31:14.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-odl-controller/commit/829e528134b6d48cc9c85391dbc8b88c22217421', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: Ic8ad316f84648132380ff0e693530442317e95b5\n'}]",0,631393,829e528134b6d48cc9c85391dbc8b88c22217421,5,2,2,29721,,,0,"Fix the misspelling of ""search""

Change-Id: Ic8ad316f84648132380ff0e693530442317e95b5
",git fetch https://review.opendev.org/openstack/charm-odl-controller refs/changes/93/631393/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templating.py'],1,f40bff69020b79af28997eb9411f522d26755b39,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-nova-cloud-controller~master~Ifb50155de744757521c6b41b90620838f6d82d49,openstack/charm-nova-cloud-controller,master,Ifb50155de744757521c6b41b90620838f6d82d49,"Fix the misspelling of ""available""",ABANDONED,2019-01-22 03:54:35.000000000,2021-12-16 15:13:38.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-22 03:54:35.000000000', 'files': ['charmhelpers/contrib/peerstorage/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5f198361f231eda16c97202946ec5a2e3fd2c96e', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: Ifb50155de744757521c6b41b90620838f6d82d49\n'}]",0,632208,5f198361f231eda16c97202946ec5a2e3fd2c96e,6,4,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: Ifb50155de744757521c6b41b90620838f6d82d49
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/08/632208/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/peerstorage/__init__.py'],1,5f198361f231eda16c97202946ec5a2e3fd2c96e,," should the peer sotrage not be available."""""""," should the peer sotrage not be avialable.""""""",1,1
openstack%2Fcharm-ceilometer~master~I9f78bdd6f1ff879224f1861f0d0da30583bb462f,openstack/charm-ceilometer,master,I9f78bdd6f1ff879224f1861f0d0da30583bb462f,"Fix the misspelling of ""available""",ABANDONED,2019-01-22 03:49:03.000000000,2021-12-16 15:13:35.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-22 03:49:03.000000000', 'files': ['charmhelpers/contrib/peerstorage/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/a28aea5d5a964ef8d5c9e9984b627e0844722ed0', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: I9f78bdd6f1ff879224f1861f0d0da30583bb462f\n'}]",1,632206,a28aea5d5a964ef8d5c9e9984b627e0844722ed0,7,4,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: I9f78bdd6f1ff879224f1861f0d0da30583bb462f
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/06/632206/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/peerstorage/__init__.py'],1,a28aea5d5a964ef8d5c9e9984b627e0844722ed0,," should the peer sotrage not be available."""""""," should the peer sotrage not be avialable.""""""",1,1
openstack%2Fcharm-ceph-osd~master~I33b423031038e9d5164c1c85604080ad8ca2c438,openstack/charm-ceph-osd,master,I33b423031038e9d5164c1c85604080ad8ca2c438,"Fix the misspelling of ""available""",ABANDONED,2019-01-22 05:29:19.000000000,2021-12-16 15:13:32.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-22 05:29:19.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/53b739165d379443c449a919bb76f1c2a0ee0f49', 'message': 'Fix the misspelling of ""available""\n\nChange-Id: I33b423031038e9d5164c1c85604080ad8ca2c438\n'}]",0,632218,53b739165d379443c449a919bb76f1c2a0ee0f49,6,4,1,29721,,,0,"Fix the misspelling of ""available""

Change-Id: I33b423031038e9d5164c1c85604080ad8ca2c438
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/18/632218/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,53b739165d379443c449a919bb76f1c2a0ee0f49,, Initialize a raw block device consuming 100% of the available, Initialize a raw block device consuming 100% of the avaliable,1,1
openstack%2Fcharm-cinder~master~I2b664be077d804887bf1e94467d84b86a67df59c,openstack/charm-cinder,master,I2b664be077d804887bf1e94467d84b86a67df59c,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 05:28:56.000000000,2021-12-16 15:13:30.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 05:28:56.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/33d721f290609c3e861f7cfdf0311133185ac94e', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I2b664be077d804887bf1e94467d84b86a67df59c\n'}]",0,631394,33d721f290609c3e861f7cfdf0311133185ac94e,5,3,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I2b664be077d804887bf1e94467d84b86a67df59c
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/94/631394/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templating.py'],1,33d721f290609c3e861f7cfdf0311133185ac94e,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-glance-simplestreams-sync~master~I8b40390d310ea9cf24872492e606b0bb09231ea3,openstack/charm-glance-simplestreams-sync,master,I8b40390d310ea9cf24872492e606b0bb09231ea3,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 06:03:41.000000000,2021-12-16 15:13:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 06:03:41.000000000', 'files': ['charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/d3e58faa3d7d5ea9152449ee79aa3e0024a491f5', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I8b40390d310ea9cf24872492e606b0bb09231ea3\n'}]",0,631415,d3e58faa3d7d5ea9152449ee79aa3e0024a491f5,5,3,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I8b40390d310ea9cf24872492e606b0bb09231ea3
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/15/631415/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/templating.py'],1,d3e58faa3d7d5ea9152449ee79aa3e0024a491f5,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-neutron-api~master~Id6d9df92261edc245905e57de61be8417b5cbbe0,openstack/charm-neutron-api,master,Id6d9df92261edc245905e57de61be8417b5cbbe0,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 05:56:18.000000000,2021-12-16 15:13:25.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 05:56:18.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/737f9a694b7990f0b4fb29424686a5ef9f14a50e', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: Id6d9df92261edc245905e57de61be8417b5cbbe0\n'}]",0,631408,737f9a694b7990f0b4fb29424686a5ef9f14a50e,5,3,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: Id6d9df92261edc245905e57de61be8417b5cbbe0
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/08/631408/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templating.py'],1,737f9a694b7990f0b4fb29424686a5ef9f14a50e,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-neutron-openvswitch~master~I61091d98cd32726e400d050cccbddca7ef8bbb15,openstack/charm-neutron-openvswitch,master,I61091d98cd32726e400d050cccbddca7ef8bbb15,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 05:54:40.000000000,2021-12-16 15:13:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 05:54:40.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7fe4a1ab079e6d6dc590b6d2e5ff7e774e541f3e', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I61091d98cd32726e400d050cccbddca7ef8bbb15\n'}]",0,631407,7fe4a1ab079e6d6dc590b6d2e5ff7e774e541f3e,4,2,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I61091d98cd32726e400d050cccbddca7ef8bbb15
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/07/631407/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templating.py'],1,7fe4a1ab079e6d6dc590b6d2e5ff7e774e541f3e,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-openstack-dashboard~master~I448ccf3f7f3f0aa06cc84f21cf9a86e83ad17434,openstack/charm-openstack-dashboard,master,I448ccf3f7f3f0aa06cc84f21cf9a86e83ad17434,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 05:57:20.000000000,2021-12-16 15:13:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 05:57:20.000000000', 'files': ['charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/15b6ccf680ddc753ea274b8e5a1e0b5be4d116fc', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I448ccf3f7f3f0aa06cc84f21cf9a86e83ad17434\n'}]",0,631409,15b6ccf680ddc753ea274b8e5a1e0b5be4d116fc,5,3,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I448ccf3f7f3f0aa06cc84f21cf9a86e83ad17434
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/09/631409/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/templating.py'],1,15b6ccf680ddc753ea274b8e5a1e0b5be4d116fc,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-swift-proxy~master~I3d069d3560abf85882718267195006cd28b16bf9,openstack/charm-swift-proxy,master,I3d069d3560abf85882718267195006cd28b16bf9,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 06:30:18.000000000,2021-12-16 15:13:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 06:30:18.000000000', 'files': ['charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/8993e64f0130df7f0aa512c6284113aa1def3987', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I3d069d3560abf85882718267195006cd28b16bf9\n'}]",0,631428,8993e64f0130df7f0aa512c6284113aa1def3987,5,3,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I3d069d3560abf85882718267195006cd28b16bf9
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/28/631428/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/templating.py'],1,8993e64f0130df7f0aa512c6284113aa1def3987,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcharm-nova-lxd~master~I45465b6df25d63cbc3a2ce8813261ae83a0273c4,openstack/charm-nova-lxd,master,I45465b6df25d63cbc3a2ce8813261ae83a0273c4,[ussuri][goal] Updates for python 2.7 drop,ABANDONED,2020-02-29 18:11:30.000000000,2021-12-16 15:11:42.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-29 18:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/ee45b247ebce6af8d773756e32211eb9e5c709ab', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I45465b6df25d63cbc3a2ce8813261ae83a0273c4\n'}, {'number': 2, 'created': '2020-03-24 17:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/2c7530a3d6009a4404e01468b4d67eb3152e748b', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I45465b6df25d63cbc3a2ce8813261ae83a0273c4\n'}, {'number': 3, 'created': '2020-03-24 23:28:07.000000000', 'files': ['.gitreview', 'test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/a67defc32ff691b3eec2e8804d6ec1183f0866e0', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I45465b6df25d63cbc3a2ce8813261ae83a0273c4\n'}]",0,710578,a67defc32ff691b3eec2e8804d6ec1183f0866e0,10,2,3,8556,,,0,"[ussuri][goal] Updates for python 2.7 drop

OpenStack is dropping the py2.7 support in ussuri cycle.

charm repos need few updates on either py2 drop or updating
ussuri python template, tox.ini etc.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I45465b6df25d63cbc3a2ce8813261ae83a0273c4
",git fetch https://review.opendev.org/openstack/charm-nova-lxd refs/changes/78/710578/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'tox.ini']",3,ee45b247ebce6af8d773756e32211eb9e5c709ab,drop-py27-support,minversion = 3.1ignore_basepython_conflict = Truebasepython = python3[testenv:func37-noop]basepython = python3.7[testenv:func37]basepython = python3.7[testenv:func37-smoke]basepython = python3.7[testenv:func37-dfs]basepython = python3.7[testenv:func37-dev]basepython = python3.7,[testenv:py27] basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt basepython = python3basepython = python3[testenv:func27-noop]basepython = python2.7[testenv:func27]basepython = python2.7[testenv:func27-smoke]basepython = python2.7[testenv:func27-dfs]basepython = python2.7[testenv:func27-dev]basepython = python2.7,14,20
openstack%2Fcharm-cinder-ceph~master~I4480482cb8c9e35e6e73e9935c3d79b0a50c4ff5,openstack/charm-cinder-ceph,master,I4480482cb8c9e35e6e73e9935c3d79b0a50c4ff5,[ussuri][goal] Updates for python 2.7 drop,ABANDONED,2020-02-24 02:50:35.000000000,2021-12-16 15:11:40.000000000,,"[{'_account_id': 8556}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 02:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/78a6ca6638776cd7becfba4dedba1a8ce00cf378', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I4480482cb8c9e35e6e73e9935c3d79b0a50c4ff5\n'}, {'number': 2, 'created': '2020-03-24 17:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/792a4a56a89402854b0ebf991fde576c205ff969', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I4480482cb8c9e35e6e73e9935c3d79b0a50c4ff5\n'}, {'number': 3, 'created': '2020-03-27 03:23:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/f57bab6197e7e550f7fedda125c1bfd9259347a7', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I4480482cb8c9e35e6e73e9935c3d79b0a50c4ff5\n'}]",3,709395,f57bab6197e7e550f7fedda125c1bfd9259347a7,13,4,3,8556,,,0,"[ussuri][goal] Updates for python 2.7 drop

OpenStack is dropping the py2.7 support in ussuri cycle.

charm repos need few updates on either py2 drop or updating
ussuri python template, tox.ini etc.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I4480482cb8c9e35e6e73e9935c3d79b0a50c4ff5
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/95/709395/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,78a6ca6638776cd7becfba4dedba1a8ce00cf378,drop-py27-support,minversion = 3.1ignore_basepython_conflict = Truebasepython = python3,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,3,8
openstack%2Fcharm-nova-cloud-controller~master~Iec9a17bf582ede6ff6c00e8b9b52a71ce14c0041,openstack/charm-nova-cloud-controller,master,Iec9a17bf582ede6ff6c00e8b9b52a71ce14c0041,[ussuri][goal] Updates for python 2.7 drop,ABANDONED,2020-02-29 18:23:25.000000000,2021-12-16 15:11:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-29 18:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/bf92f035b93efddf9c32f103cb47f4b67f9d3a98', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Iec9a17bf582ede6ff6c00e8b9b52a71ce14c0041\n'}, {'number': 2, 'created': '2020-03-24 17:11:32.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5cfb598544edf75c582bf19af02ad5ca4694fefc', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Iec9a17bf582ede6ff6c00e8b9b52a71ce14c0041\n'}]",0,710582,5cfb598544edf75c582bf19af02ad5ca4694fefc,9,4,2,8556,,,0,"[ussuri][goal] Updates for python 2.7 drop

OpenStack is dropping the py2.7 support in ussuri cycle.

charm repos need few updates on either py2 drop or updating
ussuri python template, tox.ini etc.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Iec9a17bf582ede6ff6c00e8b9b52a71ce14c0041
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/82/710582/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,bf92f035b93efddf9c32f103cb47f4b67f9d3a98,drop-py27-support,minversion = 3.1ignore_basepython_conflict = Truebasepython = python3basepython = python3.7basepython = python3.7basepython = python3.7basepython = python3.7,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,7,10
openstack%2Fcharm-interface-nova-cell~master~Ia00e20685a12bae99af77aed0d900c2e5332f5ea,openstack/charm-interface-nova-cell,master,Ia00e20685a12bae99af77aed0d900c2e5332f5ea,[ussuri][goal] Updates for python 2.7 drop,ABANDONED,2020-02-28 03:16:39.000000000,2021-12-16 15:11:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 13686}, {'_account_id': 20648}]","[{'number': 1, 'created': '2020-02-28 03:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-nova-cell/commit/56a3d5852d9f31900834fbc7e3400324c9d24cea', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ia00e20685a12bae99af77aed0d900c2e5332f5ea\n'}, {'number': 2, 'created': '2020-03-24 17:28:49.000000000', 'files': ['.gitreview', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-nova-cell/commit/1f20c5670fd7fc4dfa9ba5bdf6d4701786416f1a', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncharm repos need few updates on either py2 drop or updating\nussuri python template, tox.ini etc.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ia00e20685a12bae99af77aed0d900c2e5332f5ea\n'}]",0,710372,1f20c5670fd7fc4dfa9ba5bdf6d4701786416f1a,11,3,2,8556,,,0,"[ussuri][goal] Updates for python 2.7 drop

OpenStack is dropping the py2.7 support in ussuri cycle.

charm repos need few updates on either py2 drop or updating
ussuri python template, tox.ini etc.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ia00e20685a12bae99af77aed0d900c2e5332f5ea
",git fetch https://review.opendev.org/openstack/charm-interface-nova-cell refs/changes/72/710372/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'tox.ini']",2,56a3d5852d9f31900834fbc7e3400324c9d24cea,drop-py27-support,minversion = 3.1ignore_basepython_conflict = Truebasepython = python3basepython = python3.5,basepython = python3basepython = python2.7,8,2
openstack%2Fcharm-gnocchi~stable%2F19.10~Ic57530ad7f19d1499e47286e29faa13f3ba1c47e,openstack/charm-gnocchi,stable/19.10,Ic57530ad7f19d1499e47286e29faa13f3ba1c47e,Changing condition release from rocky to queens for mysql uri,ABANDONED,2020-01-14 03:15:53.000000000,2021-12-16 15:08:44.000000000,,"[{'_account_id': 935}, {'_account_id': 5112}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 03:15:53.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/7220bb4fa2305c00dd7b4f702c0d3c81b48c1327', 'message': 'Changing condition release from rocky to queens for mysql uri\n\nAs Queens also has PyMySQL 0.8.0 dependency so it has the same issue[1][2][3][4],\nchanging condition release from rocky to queens to fix warning flood.\n\n[1] https://github.com/openstack/charm-gnocchi/commit/bf7ac78d07a313651e486196309140517d9ad861\n[2] https://github.com/openstack/requirements/blob/stable/rocky/upper-constraints.txt#L377\n[3] https://github.com/openstack/requirements/blob/stable/queens/upper-constraints.txt#L374\n[4] gnocchixyz/gnocchi#847\n\nChange-Id: Ic57530ad7f19d1499e47286e29faa13f3ba1c47e\n(cherry picked from commit 408bf97a36bd9538d07e92398a8278b567b78fc3)\n'}]",0,702329,7220bb4fa2305c00dd7b4f702c0d3c81b48c1327,12,4,1,5112,,,0,"Changing condition release from rocky to queens for mysql uri

As Queens also has PyMySQL 0.8.0 dependency so it has the same issue[1][2][3][4],
changing condition release from rocky to queens to fix warning flood.

[1] https://github.com/openstack/charm-gnocchi/commit/bf7ac78d07a313651e486196309140517d9ad861
[2] https://github.com/openstack/requirements/blob/stable/rocky/upper-constraints.txt#L377
[3] https://github.com/openstack/requirements/blob/stable/queens/upper-constraints.txt#L374
[4] gnocchixyz/gnocchi#847

Change-Id: Ic57530ad7f19d1499e47286e29faa13f3ba1c47e
(cherry picked from commit 408bf97a36bd9538d07e92398a8278b567b78fc3)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/29/702329/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,7220bb4fa2305c00dd7b4f702c0d3c81b48c1327,, ch_utils.OPENSTACK_RELEASES.index('queens')):, ch_utils.OPENSTACK_RELEASES.index('rocky')):,1,1
openstack%2Fcharm-openstack-dashboard~stable%2F19.10~I299f6a6388c3a2ab68cabaeb16e5104ec319e144,openstack/charm-openstack-dashboard,stable/19.10,I299f6a6388c3a2ab68cabaeb16e5104ec319e144,Add disable-password-reveal option,ABANDONED,2020-05-27 06:13:15.000000000,2021-12-16 15:08:42.000000000,,"[{'_account_id': 10086}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-05-27 06:13:15.000000000', 'files': ['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/7da3218c6e2c29aa4e012bd9ca3cbc20f7b94e5b', 'message': ""Add disable-password-reveal option\n\nAdds config item to add HORIZON_CONFIG['disable_password_reveal'] = True\noption to Horizon's local_settings.py, from Mitaka onwards.  This\nprevents the reveal password button from being displayed.\n\nChange-Id: I299f6a6388c3a2ab68cabaeb16e5104ec319e144\nCloses-bug: #1840251\n""}]",0,731084,7da3218c6e2c29aa4e012bd9ca3cbc20f7b94e5b,6,5,1,25817,,,0,"Add disable-password-reveal option

Adds config item to add HORIZON_CONFIG['disable_password_reveal'] = True
option to Horizon's local_settings.py, from Mitaka onwards.  This
prevents the reveal password button from being displayed.

Change-Id: I299f6a6388c3a2ab68cabaeb16e5104ec319e144
Closes-bug: #1840251
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/84/731084/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py']",6,7da3218c6e2c29aa4e012bd9ca3cbc20f7b94e5b,bug/1840251,"{% if disable_password_reveal %} HORIZON_CONFIG[""disable_password_reveal""] = True {% endif %} ",,65,0
openstack%2Fcharm-openstack-dashboard~stable%2F19.07~I299f6a6388c3a2ab68cabaeb16e5104ec319e144,openstack/charm-openstack-dashboard,stable/19.07,I299f6a6388c3a2ab68cabaeb16e5104ec319e144,Add disable-password-reveal option,ABANDONED,2020-05-27 06:06:13.000000000,2021-12-16 15:08:27.000000000,,"[{'_account_id': 10086}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-05-27 06:06:13.000000000', 'files': ['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/7eceb86d713f65204a616d1228cdfbb5e89df7ff', 'message': ""Add disable-password-reveal option\n\nAdds config item to add HORIZON_CONFIG['disable_password_reveal'] = True\noption to Horizon's local_settings.py, from Mitaka onwards.  This\nprevents the reveal password button from being displayed.\n\nChange-Id: I299f6a6388c3a2ab68cabaeb16e5104ec319e144\nCloses-bug: #1840251\n""}]",0,731083,7eceb86d713f65204a616d1228cdfbb5e89df7ff,5,4,1,25817,,,0,"Add disable-password-reveal option

Adds config item to add HORIZON_CONFIG['disable_password_reveal'] = True
option to Horizon's local_settings.py, from Mitaka onwards.  This
prevents the reveal password button from being displayed.

Change-Id: I299f6a6388c3a2ab68cabaeb16e5104ec319e144
Closes-bug: #1840251
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/83/731083/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/newton/local_settings.py', 'templates/mitaka/local_settings.py', 'unit_tests/test_horizon_contexts.py', 'config.yaml', 'templates/ocata/local_settings.py']",6,7eceb86d713f65204a616d1228cdfbb5e89df7ff,bug/1840251,"{% if disable_password_reveal %} HORIZON_CONFIG[""disable_password_reveal""] = True {% endif %} ",,70,0
openstack%2Fcharm-openstack-dashboard~stable%2F21.04~I8e52e63e17836260b87899a059e0bbc77827dc54,openstack/charm-openstack-dashboard,stable/21.04,I8e52e63e17836260b87899a059e0bbc77827dc54,Do not assume ksv2 in multi-region deploys,ABANDONED,2021-07-28 22:19:11.000000000,2021-12-16 15:07:39.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-07-28 22:19:11.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/552a8aa6bd165b656e0cd2613c47207a1cf4596a', 'message': 'Do not assume ksv2 in multi-region deploys\n\nRemove hardcoded keystone v2 from identity urls when in a multi-\nregion deploy. The api version is passed by the keystone charm\nso use that.\n\nChange-Id: I8e52e63e17836260b87899a059e0bbc77827dc54\nCloses-Bug: #1925669\n(cherry picked from commit e07c27fc35cb5581a9658eb38310ffe618e5f761)\n'}]",0,802811,552a8aa6bd165b656e0cd2613c47207a1cf4596a,10,4,1,8992,,,0,"Do not assume ksv2 in multi-region deploys

Remove hardcoded keystone v2 from identity urls when in a multi-
region deploy. The api version is passed by the keystone charm
so use that.

Change-Id: I8e52e63e17836260b87899a059e0bbc77827dc54
Closes-Bug: #1925669
(cherry picked from commit e07c27fc35cb5581a9658eb38310ffe618e5f761)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/11/802811/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,552a8aa6bd165b656e0cd2613c47207a1cf4596a,bug/1925669," 'ks_endpoint_path': 'v2.0', 'ks_endpoint_path': 'v2.0', 'ks_endpoint_path': 'v2.0', def test_IdentityServiceContext_multi_region_v3(self, mock_format_ipv6_addr): mock_format_ipv6_addr.side_effect = lambda x: x self.relation_ids.return_value = ['foo'] self.related_units.return_value = ['bar', 'baz'] self.relation_get.side_effect = self.test_relation.get self.test_relation.set({'service_host': 'foo', 'service_port': 5000, 'internal_host': 'bar', 'internal_port': 5001, 'region': 'regionOne regionTwo', 'api_version': '3', 'admin_domain_id': 'admindomainid'}) self.context_complete.return_value = True self.assertEqual(horizon_contexts.IdentityServiceContext()(), {'admin_domain_id': 'admindomainid', 'service_host': 'foo', 'service_port': 5000, 'service_protocol': 'http', 'api_version': '3', 'internal_host': 'bar', 'internal_port': 5001, 'internal_protocol': 'http', 'ks_host': 'foo', 'ks_port': 5000, 'ks_protocol': 'http', 'ks_endpoint_path': 'v3', 'default_role': 'member', 'regions': [{'endpoint': 'http://foo:5000/v3', 'title': 'regionOne'}, {'endpoint': 'http://foo:5000/v3', 'title': 'regionTwo'}]}) @patch(""hooks.horizon_contexts.format_ipv6_addr"") 'ks_endpoint_path': 'v3', 'ks_endpoint_path': 'v3', 'ks_endpoint_path': 'v3', 'region': 'regionOne', 'api_version': '2'}) 'ks_endpoint_path': 'v2.0', 'region': 'regionOne regionTwo', 'api_version': '2'}) 'ks_endpoint_path': 'v2.0',", 'region': 'regionOne'}) 'region': 'regionOne regionTwo'}),50,7
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2F21.04~Ie2deced1ba0112f5013db8e87836e11c49f31cb5,openstack/charm-octavia-diskimage-retrofit,stable/21.04,Ie2deced1ba0112f5013db8e87836e11c49f31cb5,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:54:53.000000000,2021-12-16 15:07:37.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:54:53.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/060a64bc23d30ae103d5ef98265aa9643015383d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ie2deced1ba0112f5013db8e87836e11c49f31cb5\n'}]",0,806377,060a64bc23d30ae103d5ef98265aa9643015383d,6,3,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Ie2deced1ba0112f5013db8e87836e11c49f31cb5
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/77/806377/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,060a64bc23d30ae103d5ef98265aa9643015383d,wallaby-bundles-stable/21.04,- focal-wallaby dev_bundles: - hirsute-wallaby - hirsute-wallaby,dev_bundles: - groovy-victoria,231,2
openstack%2Fcharm-manila-ganesha~stable%2F21.04~I1fcee89725686c2f1ff061f8964ee5ef8b7e09a2,openstack/charm-manila-ganesha,stable/21.04,I1fcee89725686c2f1ff061f8964ee5ef8b7e09a2,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:52:32.000000000,2021-12-16 15:07:35.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:52:32.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/55a7d9c5836c3c2673e1b69cee6e19db865248d0', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I1fcee89725686c2f1ff061f8964ee5ef8b7e09a2\n'}]",0,806371,55a7d9c5836c3c2673e1b69cee6e19db865248d0,6,3,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I1fcee89725686c2f1ff061f8964ee5ef8b7e09a2
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/71/806371/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,55a7d9c5836c3c2673e1b69cee6e19db865248d0,wallaby-bundles-stable/21.04,- hirsute-wallaby - focal-wallaby - hirsute-wallaby, - groovy-victoria,629,2
openstack%2Fcharm-octavia-dashboard~stable%2F21.04~I91fc84a52d64aebc219707368632f01ee001867b,openstack/charm-octavia-dashboard,stable/21.04,I91fc84a52d64aebc219707368632f01ee001867b,Rebuild,ABANDONED,2021-08-27 09:45:46.000000000,2021-12-16 15:07:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/60c987e4ac882314940207987a73572ec70148bd', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I91fc84a52d64aebc219707368632f01ee001867b\n(cherry picked from commit b65ad85a2931458a383a8ad942cb24fa918d14d1)\n'}, {'number': 2, 'created': '2021-08-27 11:51:20.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/b5e6900e9bdbc68ab0c7abcbca64caed1a552f21', 'message': 'Rebuild\n\nin order to pick\nhttps://review.opendev.org/c/openstack/charms.openstack/+/787641\n\nCloses-Bug: #1940627\nChange-Id: I91fc84a52d64aebc219707368632f01ee001867b\n'}]",0,806227,b5e6900e9bdbc68ab0c7abcbca64caed1a552f21,9,3,2,31289,,,0,"Rebuild

in order to pick
https://review.opendev.org/c/openstack/charms.openstack/+/787641

Closes-Bug: #1940627
Change-Id: I91fc84a52d64aebc219707368632f01ee001867b
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/27/806227/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",2,60c987e4ac882314940207987a73572ec70148bd,wallaby-bundles-stable/21.04,<<<<<<< HEAD (0b5804 Updates for stable branch creation)======= charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router octavia-mysql-router: charm: cs:~openstack-charmers-next/mysql-router openstack-dashboard-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '4' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs neutron-security-groups: True openstack-origin: *openstack-origin to: - '5' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch num_units: 0 octavia: charm: cs:~openstack-charmers-next/octavia num_units: 1 options: openstack-origin: *openstack-origin to: - '6' openstack-dashboard: charm: cs:~openstack-charmers-next/openstack-dashboard >>>>>>> CHANGE (b65ad8 Test bundles for focal-wallaby and hirsute-wallaby),,124,0
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2F21.04~I53c243eac27a21948cc60b9f11125faec3f3ec36,openstack/charm-neutron-api-plugin-ovn,stable/21.04,I53c243eac27a21948cc60b9f11125faec3f3ec36,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:49:28.000000000,2021-12-16 15:07:31.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:49:28.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/7bf7bf36710f514e986194ff1d34259fbe5b2ae9', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36\n(cherry picked from commit 6183b4c40844eb5c4a54b71aeec3afe77a797660)\n'}]",0,806363,7bf7bf36710f514e986194ff1d34259fbe5b2ae9,7,3,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36
(cherry picked from commit 6183b4c40844eb5c4a54b71aeec3afe77a797660)
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/63/806363/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,7bf7bf36710f514e986194ff1d34259fbe5b2ae9,wallaby-bundles-stable/21.04,- focal-wallaby dev_bundles: - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,316,2
openstack%2Fcharm-glance-simplestreams-sync~stable%2F21.04~I8dfa9b0111fa3f204364e2c0833595bf8b219a7c,openstack/charm-glance-simplestreams-sync,stable/21.04,I8dfa9b0111fa3f204364e2c0833595bf8b219a7c,Ensure py3 pkgs installed on series-upgrade,ABANDONED,2021-07-02 19:27:25.000000000,2021-12-16 15:07:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-07-02 19:27:25.000000000', 'files': ['hooks/hooks.py', 'hooks/post-series-upgrade.real', 'hooks/post-series-upgrade', 'hooks/upgrade-charm.real', 'hooks/upgrade-charm'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/199e07138d37a9a2011496cde4f972a8429eec13', 'message': 'Ensure py3 pkgs installed on series-upgrade\n\nOn series-upgrade the g-s-s stopped syncing due python packages required\nby the sync file (that is run in the context of the unit, rather than\nthe charm) not being present.  I believe they may have been removed\nduring the series-upgrade when unused packages were removed.\n\nThis patch ensures that on both upgrade and series upgrade, all the\npackages that are needed are installed.\n\nChange-Id: I8dfa9b0111fa3f204364e2c0833595bf8b219a7c\nCloses-Bug: #1934306\n(cherry picked from commit 787a9c5ae9d20fc6d714f010739bcbd765d024db)\n'}]",0,799322,199e07138d37a9a2011496cde4f972a8429eec13,6,4,1,8992,,,0,"Ensure py3 pkgs installed on series-upgrade

On series-upgrade the g-s-s stopped syncing due python packages required
by the sync file (that is run in the context of the unit, rather than
the charm) not being present.  I believe they may have been removed
during the series-upgrade when unused packages were removed.

This patch ensures that on both upgrade and series upgrade, all the
packages that are needed are installed.

Change-Id: I8dfa9b0111fa3f204364e2c0833595bf8b219a7c
Closes-Bug: #1934306
(cherry picked from commit 787a9c5ae9d20fc6d714f010739bcbd765d024db)
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/22/799322/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/post-series-upgrade', 'hooks/post-series-upgrade.real', 'hooks/upgrade-charm.real', 'hooks/upgrade-charm']",5,199e07138d37a9a2011496cde4f972a8429eec13,bug/1934306,"#!/bin/bash -e # Wrapper to deal with newer Ubuntu versions that don't have py2 installed # by default; when upgrading, ensure that the python3 packages are installed. declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml') check_and_install() { pkg=""${1}-${2}"" if ! dpkg -s ${pkg} 2>&1 > /dev/null; then apt-get -y install ${pkg} fi } PYTHON=""python3"" for dep in ${DEPS[@]}; do check_and_install ${PYTHON} ${dep} done exec ./hooks/upgrade-charm.real ",,44,2
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2F21.04~I1f142c3aedb333a4a258be21aad9cb2a44ece46c,openstack/charm-neutron-api-plugin-ironic,stable/21.04,I1f142c3aedb333a4a258be21aad9cb2a44ece46c,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:49:44.000000000,2021-12-16 15:07:26.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/6b348985a490736ae5f5ef84c225e9b491a9f35a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c\n(cherry picked from commit 864496b2f2086c665bc3859ed01a0663c863f721)\n'}, {'number': 2, 'created': '2021-09-15 09:02:07.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/fe2970b4db4ae987b2abdd7143d6c0d0d3da0c61', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c\n(cherry picked from commit 864496b2f2086c665bc3859ed01a0663c863f721)\n'}]",0,806365,fe2970b4db4ae987b2abdd7143d6c0d0d3da0c61,30,5,2,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c
(cherry picked from commit 864496b2f2086c665bc3859ed01a0663c863f721)
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/65/806365/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,6b348985a490736ae5f5ef84c225e9b491a9f35a,wallaby-bundles-stable/21.04,- focal-wallaby dev_bundles: - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,583,2
openstack%2Fcharm-nova-cell-controller~master~Ief7720af2bfb2452af8fc3f2f9c33e0b02cc2bf4,openstack/charm-nova-cell-controller,master,Ief7720af2bfb2452af8fc3f2f9c33e0b02cc2bf4,Use unittest.mock instead of mock,ABANDONED,2021-01-03 02:22:00.000000000,2021-12-16 15:05:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 02:22:00.000000000', 'files': ['unit_tests/test_nova_cell_controller_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/d4818321eaa96c45ce0ef5daf7dd1f71baabb58a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: Ief7720af2bfb2452af8fc3f2f9c33e0b02cc2bf4\n'}]",0,768908,d4818321eaa96c45ce0ef5daf7dd1f71baabb58a,5,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: Ief7720af2bfb2452af8fc3f2f9c33e0b02cc2bf4
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/08/768908/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_nova_cell_controller_handlers.py'],1,d4818321eaa96c45ce0ef5daf7dd1f71baabb58a,,from unittest import mock,import mock,1,1
openstack%2Fcharm-keystone-ldap~master~If648dd401494670b50f33a83c943fa9985448b49,openstack/charm-keystone-ldap,master,If648dd401494670b50f33a83c943fa9985448b49,Use unittest.mock instead of mock,ABANDONED,2021-01-03 03:06:45.000000000,2021-12-16 15:05:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 03:06:45.000000000', 'files': ['unit_tests/test_keystone_ldap_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/f52add9cac85a7254a06f010843b5742a8426b25', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: If648dd401494670b50f33a83c943fa9985448b49\n'}]",0,768932,f52add9cac85a7254a06f010843b5742a8426b25,5,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: If648dd401494670b50f33a83c943fa9985448b49
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/32/768932/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_ldap_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py']",2,f52add9cac85a7254a06f010843b5742a8426b25,,from unittest import mock,import mock,2,2
openstack%2Fcharm-keystone-kerberos~master~I9e5fdb97340b13e922ded1dc8c480e6c7fdfcd78,openstack/charm-keystone-kerberos,master,I9e5fdb97340b13e922ded1dc8c480e6c7fdfcd78,Use unittest.mock instead of mock,ABANDONED,2021-01-03 03:03:05.000000000,2021-12-16 15:05:35.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 03:03:05.000000000', 'files': ['unit_tests/test_keystone_kerberos_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_keystone_kerberos.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/7bd692ff5f9ab78ca730bed0448ab2b8c9c5c89e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I9e5fdb97340b13e922ded1dc8c480e6c7fdfcd78\n'}]",0,768930,7bd692ff5f9ab78ca730bed0448ab2b8c9c5c89e,5,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I9e5fdb97340b13e922ded1dc8c480e6c7fdfcd78
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/30/768930/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_kerberos_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_keystone_kerberos.py']",3,7bd692ff5f9ab78ca730bed0448ab2b8c9c5c89e,,from unittest import mock,import mock,3,3
openstack%2Fcharm-glance~master~I56f10c2c735c48bc880705d65793bdd977b30d3c,openstack/charm-glance,master,I56f10c2c735c48bc880705d65793bdd977b30d3c,Use unittest.mock instead of mock,ABANDONED,2021-01-03 02:42:11.000000000,2021-12-16 15:05:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 02:42:11.000000000', 'files': ['unit_tests/test_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/56b2af1a8a22917c6cc217413f2e6b81e906955f', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I56f10c2c735c48bc880705d65793bdd977b30d3c\n'}]",0,768915,56b2af1a8a22917c6cc217413f2e6b81e906955f,5,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I56f10c2c735c48bc880705d65793bdd977b30d3c
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/15/768915/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_actions.py'],1,56b2af1a8a22917c6cc217413f2e6b81e906955f,,from unittest import mock,import mock,1,1
openstack%2Fcharm-barbican-vault~master~If4fa01bcc408e95496981606c5f552b678240e50,openstack/charm-barbican-vault,master,If4fa01bcc408e95496981606c5f552b678240e50,Use unittest.mock instead of mock,ABANDONED,2021-01-03 03:32:56.000000000,2021-12-16 15:05:31.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 03:32:56.000000000', 'files': ['unit_tests/test_barbican_vault_handlers.py', 'unit_tests/test_lib_charm_openstack_barbican_vault.py', 'unit_tests/test_vault_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/682a9972de70971b3b330822beb417b813a798b2', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: If4fa01bcc408e95496981606c5f552b678240e50\n'}]",0,768947,682a9972de70971b3b330822beb417b813a798b2,5,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: If4fa01bcc408e95496981606c5f552b678240e50
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/47/768947/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_barbican_vault_handlers.py', 'unit_tests/test_lib_charm_openstack_barbican_vault.py', 'unit_tests/test_vault_utils.py']",3,682a9972de70971b3b330822beb417b813a798b2,,from unittest import mock,import mock,3,3
openstack%2Fcharm-glance-simplestreams-sync~master~I23e2f61084525a0a85af623468a6cf37211b27a5,openstack/charm-glance-simplestreams-sync,master,I23e2f61084525a0a85af623468a6cf37211b27a5,Use unittest.mock instead of mock,ABANDONED,2021-01-03 02:46:33.000000000,2021-12-16 15:05:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 02:46:33.000000000', 'files': ['unit_tests/test_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f83dbf74da742c4db43c4f510ec5dc80790b9e41', 'message': ' Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I23e2f61084525a0a85af623468a6cf37211b27a5\n'}]",0,768917,f83dbf74da742c4db43c4f510ec5dc80790b9e41,9,2,1,31828,,,0," Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I23e2f61084525a0a85af623468a6cf37211b27a5
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/17/768917/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_hooks.py'],1,f83dbf74da742c4db43c4f510ec5dc80790b9e41,,from unittest import mock,import mock,1,1
openstack%2Fcharm-glance~master~I2e21a77cbd95f30ece487a72e0cec35936670025,openstack/charm-glance,master,I2e21a77cbd95f30ece487a72e0cec35936670025,remove py37,ABANDONED,2021-01-03 07:32:17.000000000,2021-12-16 15:05:26.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 07:32:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f99fd9ea1ee07d676269f07e3eb784ea6dfb04e5', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I2e21a77cbd95f30ece487a72e0cec35936670025\n""}]",0,768978,f99fd9ea1ee07d676269f07e3eb784ea6dfb04e5,4,2,1,31828,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I2e21a77cbd95f30ece487a72e0cec35936670025
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/78/768978/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f99fd9ea1ee07d676269f07e3eb784ea6dfb04e5,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fcharm-keystone-saml-mellon~master~Ic7f6582ed975e1a4da22afffdd50d073a63f0875,openstack/charm-keystone-saml-mellon,master,Ic7f6582ed975e1a4da22afffdd50d073a63f0875,Use unittest.mock instead of mock,ABANDONED,2021-01-03 08:34:20.000000000,2021-12-16 15:05:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 08:34:20.000000000', 'files': ['unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_keystone_saml_mellon_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_saml_mellon.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/4bacdfa57b63f624902670fc3f217ce58112860c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: Ic7f6582ed975e1a4da22afffdd50d073a63f0875\n'}]",0,769031,4bacdfa57b63f624902670fc3f217ce58112860c,4,2,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: Ic7f6582ed975e1a4da22afffdd50d073a63f0875
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/31/769031/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_keystone_saml_mellon_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_saml_mellon.py']",4,4bacdfa57b63f624902670fc3f217ce58112860c,,from unittest import mock,import mock,4,4
openstack%2Fcharm-cinder~master~Ie11561e3e51b72ab9ebcb388cfebde88f665786c,openstack/charm-cinder,master,Ie11561e3e51b72ab9ebcb388cfebde88f665786c,Use unittest.mock instead of mock,ABANDONED,2021-01-04 07:36:57.000000000,2021-12-16 15:05:22.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 07:36:57.000000000', 'files': ['unit_tests/test_actions_cinder_manage.py', 'unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_cinder_contexts.py', 'unit_tests/test_actions_openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/5ca7f783eea8e536f79a593cba63de37cfbe3ecc', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead\n\nChange-Id: Ie11561e3e51b72ab9ebcb388cfebde88f665786c\n'}]",0,769092,5ca7f783eea8e536f79a593cba63de37cfbe3ecc,4,2,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead

Change-Id: Ie11561e3e51b72ab9ebcb388cfebde88f665786c
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/92/769092/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_actions_cinder_manage.py', 'unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_cinder_contexts.py', 'unit_tests/test_actions_openstack_upgrade.py']",5,5ca7f783eea8e536f79a593cba63de37cfbe3ecc,,"from unittest.mock import patch, MagicMock","from mock import patch, MagicMock",5,5
openstack%2Fcharm-cinder~master~I11522be5c4f971d963af15cc198ddcbd44ca8662,openstack/charm-cinder,master,I11522be5c4f971d963af15cc198ddcbd44ca8662,remove unicode from code,ABANDONED,2021-01-04 07:46:20.000000000,2021-12-16 15:05:20.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 07:46:20.000000000', 'files': ['charmhelpers/core/unitdata.py', 'unit_tests/test_cinder_contexts.py', 'charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/510100c2782cb3eb8478a03bc1ab7df115b74606', 'message': 'remove unicode from code\n\nChange-Id: I11522be5c4f971d963af15cc198ddcbd44ca8662\n'}]",9,769094,510100c2782cb3eb8478a03bc1ab7df115b74606,4,2,1,31828,,,0,"remove unicode from code

Change-Id: I11522be5c4f971d963af15cc198ddcbd44ca8662
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/94/769094/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/unitdata.py', 'unit_tests/test_cinder_contexts.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",3,510100c2782cb3eb8478a03bc1ab7df115b74606,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",61,61
openstack%2Fcharm-openstack-dashboard~master~If33371e554961f1f14327486599973a6992708f2,openstack/charm-openstack-dashboard,master,If33371e554961f1f14327486599973a6992708f2,Use unittest.mock instead of mock,ABANDONED,2021-01-04 07:53:24.000000000,2021-12-16 15:05:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 07:53:24.000000000', 'files': ['unit_tests/test_utils.py', 'unit_tests/test_horizon_contexts.py', 'unit_tests/test_actions.py', 'unit_tests/test_horizon_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/82376c8bd846a81718567b39e9210f4347703595', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: If33371e554961f1f14327486599973a6992708f2\n'}]",0,769098,82376c8bd846a81718567b39e9210f4347703595,4,2,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: If33371e554961f1f14327486599973a6992708f2
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/98/769098/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_utils.py', 'unit_tests/test_horizon_contexts.py', 'unit_tests/test_actions.py', 'unit_tests/test_horizon_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_horizon_hooks.py']",6,82376c8bd846a81718567b39e9210f4347703595,,"from unittest.mock import MagicMock, patch, call","from mock import MagicMock, patch, call",7,7
openstack%2Fcharm-openstack-dashboard~master~Ie4ee9ef2d2222f4818bfc14623f2e025e8aa0194,openstack/charm-openstack-dashboard,master,Ie4ee9ef2d2222f4818bfc14623f2e025e8aa0194,remove unicode from code,ABANDONED,2021-01-04 07:56:51.000000000,2021-12-16 15:05:15.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 07:56:51.000000000', 'files': ['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f07b8acd479a654e114afbef47da873ef556ceac', 'message': 'remove unicode from code\n\nChange-Id: Ie4ee9ef2d2222f4818bfc14623f2e025e8aa0194\n'}]",0,769100,f07b8acd479a654e114afbef47da873ef556ceac,4,2,1,31828,,,0,"remove unicode from code

Change-Id: Ie4ee9ef2d2222f4818bfc14623f2e025e8aa0194
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/00/769100/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",2,f07b8acd479a654e114afbef47da873ef556ceac,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",34,34
openstack%2Fcharm-interface-magpie~master~I1eef1bab6b99e8ed26de78a15da8fcb836b772ba,openstack/charm-interface-magpie,master,I1eef1bab6b99e8ed26de78a15da8fcb836b772ba,Use unittest.mock instead of mock,ABANDONED,2021-01-04 08:18:36.000000000,2021-12-16 15:05:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 08:18:36.000000000', 'files': ['unit_tests/test_peers.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-magpie/commit/667e75114cac02d7ea362668e68ff6506056dcf7', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I1eef1bab6b99e8ed26de78a15da8fcb836b772ba\n'}]",0,769103,667e75114cac02d7ea362668e68ff6506056dcf7,4,2,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I1eef1bab6b99e8ed26de78a15da8fcb836b772ba
",git fetch https://review.opendev.org/openstack/charm-interface-magpie refs/changes/03/769103/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_peers.py'],1,667e75114cac02d7ea362668e68ff6506056dcf7,,from unittest import mock,import mock,1,1
openstack%2Fcharm-hacluster~master~I8877a649b3a6e8e389acbf96d8dc6e9d4ffbb5f6,openstack/charm-hacluster,master,I8877a649b3a6e8e389acbf96d8dc6e9d4ffbb5f6,Use unittest.mock instead of mock,ABANDONED,2021-01-04 08:15:50.000000000,2021-12-16 15:05:11.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 08:15:50.000000000', 'files': ['unit_tests/test_pcmk.py', 'unit_tests/test_utils.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/604041ff1d756633e8a738f57a576da5a3818b21', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I8877a649b3a6e8e389acbf96d8dc6e9d4ffbb5f6\n'}]",0,769102,604041ff1d756633e8a738f57a576da5a3818b21,4,2,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I8877a649b3a6e8e389acbf96d8dc6e9d4ffbb5f6
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/02/769102/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_pcmk.py', 'unit_tests/test_utils.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py']",4,604041ff1d756633e8a738f57a576da5a3818b21,,from unittest import mock,import mock,4,4
openstack%2Fcharm-gnocchi~master~I3dc92b548d380b2b6508eb4b0beba8a094c4ffeb,openstack/charm-gnocchi,master,I3dc92b548d380b2b6508eb4b0beba8a094c4ffeb,Use unittest.mock instead of mock,ABANDONED,2021-01-04 08:04:45.000000000,2021-12-16 15:05:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 08:04:45.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/615d3063893e780b34f968ae623200f7a97d881d', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I3dc92b548d380b2b6508eb4b0beba8a094c4ffeb\n'}]",0,769101,615d3063893e780b34f968ae623200f7a97d881d,4,2,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I3dc92b548d380b2b6508eb4b0beba8a094c4ffeb
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/01/769101/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_gnocchi_handlers.py', 'unit_tests/__init__.py']",2,615d3063893e780b34f968ae623200f7a97d881d,,from unittest import mock,import mock,2,2
openstack%2Fcharm-glance-simplestreams-sync~master~I58df240c05a4f3d9424920518f8e4565bde584d8,openstack/charm-glance-simplestreams-sync,master,I58df240c05a4f3d9424920518f8e4565bde584d8,remove unicode from code,ABANDONED,2021-01-05 07:37:05.000000000,2021-12-16 15:05:06.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 07:37:05.000000000', 'files': ['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/a9665a12a0a2cc4a36099d9753921a4fd70ed02a', 'message': 'remove unicode from code\n\nChange-Id: I58df240c05a4f3d9424920518f8e4565bde584d8\n'}]",0,769255,a9665a12a0a2cc4a36099d9753921a4fd70ed02a,4,2,1,31828,,,0,"remove unicode from code

Change-Id: I58df240c05a4f3d9424920518f8e4565bde584d8
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/55/769255/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",2,a9665a12a0a2cc4a36099d9753921a4fd70ed02a,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",34,34
openstack%2Fcharm-glance~master~I058c7f64063c16f50072ad1007596fd4a11ff04b,openstack/charm-glance,master,I058c7f64063c16f50072ad1007596fd4a11ff04b,remove unicode from code,ABANDONED,2021-01-05 07:29:48.000000000,2021-12-16 15:05:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 07:29:48.000000000', 'files': ['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/7a97c9c6f471cce456d37e68cec639110fbd18f5', 'message': 'remove unicode from code\n\nChange-Id: I058c7f64063c16f50072ad1007596fd4a11ff04b\n'}]",0,769254,7a97c9c6f471cce456d37e68cec639110fbd18f5,4,2,1,31828,,,0,"remove unicode from code

Change-Id: I058c7f64063c16f50072ad1007596fd4a11ff04b
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/54/769254/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/core/unitdata.py', 'charmhelpers/contrib/openstack/amulet/utils.py']",2,7a97c9c6f471cce456d37e68cec639110fbd18f5,," links={'self': '<RESTful URL of this endpoint>'}, links={'self': '<RESTful url of this endpoint>'}, {'identity': [{'id': '48346b01c6804b298cdd7349aadb732e', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:35357/v3'}, {'id': '8414f7352a4b47a69fddd9dbd2aef5cf', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}, {'id': 'd5ca31440cc24ee1bf625e2996fb6a5b', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.224:5000/v3'}], 'key-manager': [{'id': '68ebc17df0b045fcb8a8a433ebea9e62', 'interface': 'public', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': '9cdfe2a893c34afd8f504eb218cd2f9d', 'interface': 'internal', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9311'}, {'id': 'f629388955bc407f8b11d8b7ca168086', 'interface': 'admin', 'region': 'RegionOne', 'region_id': 'RegionOne', 'url': 'http://10.5.5.223:9312'}]}"," links={u'self': u'<RESTful URL of this endpoint>'}, links={u'self': u'<RESTful url of this endpoint>'}, {u'identity': [{u'id': u'48346b01c6804b298cdd7349aadb732e', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:35357/v3'}, {u'id': u'8414f7352a4b47a69fddd9dbd2aef5cf', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}, {u'id': u'd5ca31440cc24ee1bf625e2996fb6a5b', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.224:5000/v3'}], u'key-manager': [{u'id': u'68ebc17df0b045fcb8a8a433ebea9e62', u'interface': u'public', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'9cdfe2a893c34afd8f504eb218cd2f9d', u'interface': u'internal', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9311'}, {u'id': u'f629388955bc407f8b11d8b7ca168086', u'interface': u'admin', u'region': u'RegionOne', u'region_id': u'RegionOne', u'url': u'http://10.5.5.223:9312'}]}",34,34
openstack%2Fcharm-barbican~master~I506c1e60b9319403086ce3dcaa0655dc4e8cd3e9,openstack/charm-barbican,master,I506c1e60b9319403086ce3dcaa0655dc4e8cd3e9,Use unittest.mock instead of mock,ABANDONED,2021-01-03 03:22:32.000000000,2021-12-16 15:05:02.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 03:22:32.000000000', 'files': ['unit_tests/test_lib_charm_openstack_barbican.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/10361f62ec63bc2b34d9c02310138fed45db734a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: I506c1e60b9319403086ce3dcaa0655dc4e8cd3e9\n'}]",0,768942,10361f62ec63bc2b34d9c02310138fed45db734a,6,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: I506c1e60b9319403086ce3dcaa0655dc4e8cd3e9
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/42/768942/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_barbican.py', 'unit_tests/test_barbican_handlers.py']",2,10361f62ec63bc2b34d9c02310138fed45db734a,,from unittest import mock,import mock,2,2
openstack%2Fcharm-ceph-mon~master~Idffdcf1153821c3d9514f3410e5609ea8c99fe74,openstack/charm-ceph-mon,master,Idffdcf1153821c3d9514f3410e5609ea8c99fe74,Use unittest.mock instead of mock,MERGED,2021-12-16 09:20:55.000000000,2021-12-16 15:03:39.000000000,2021-12-16 15:03:39.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 09:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5228f4c4ab334f307fdeaf1032c0de33a81c96d6', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Idffdcf1153821c3d9514f3410e5609ea8c99fe74\n'}, {'number': 2, 'created': '2021-12-16 09:37:29.000000000', 'files': ['unit_tests/test_action_list_inconsistent.py', 'unit_tests/test_ceph_actions.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_status.py', 'unit_tests/test_upgrade.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions_mon.py', 'unit_tests/test_action_change_osd_weight.py', 'unit_tests/test_action_list_pools.py', 'unit_tests/test_ceph_utils.py', 'unit_tests/test_check_ceph_status.py', 'unit_tests/test_action_purge_osd.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e2d8f32d31d5a5ee1d4d87d3af50694d707a796d', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Idffdcf1153821c3d9514f3410e5609ea8c99fe74\n'}]",0,821952,e2d8f32d31d5a5ee1d4d87d3af50694d707a796d,9,3,2,935,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Idffdcf1153821c3d9514f3410e5609ea8c99fe74
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/52/821952/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_action_list_inconsistent.py', 'unit_tests/test_ceph_actions.py', 'test-requirements.txt', 'unit_tests/test_status.py', 'unit_tests/test_upgrade.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions_mon.py', 'unit_tests/test_action_change_osd_weight.py', 'unit_tests/test_ceph_utils.py', 'unit_tests/test_check_ceph_status.py', 'unit_tests/test_action_purge_osd.py']",12,5228f4c4ab334f307fdeaf1032c0de33a81c96d6,drop_mock,import unittest.mock as mock,from mock import mock,12,17
openstack%2Fcharm-ceph-dashboard~master~If62bed2598c42b861a11ceab21e9f1ab0c0cf9dd,openstack/charm-ceph-dashboard,master,If62bed2598c42b861a11ceab21e9f1ab0c0cf9dd,Use unittest.mock instead of mock,MERGED,2021-12-16 09:27:51.000000000,2021-12-16 15:03:37.000000000,2021-12-16 15:03:37.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 09:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/356c7b2d9dd59aed3762434454015c703546bfa7', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: If62bed2598c42b861a11ceab21e9f1ab0c0cf9dd\n'}, {'number': 2, 'created': '2021-12-16 10:26:30.000000000', 'files': ['osci.yaml', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/__init__.py', 'tox.ini', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/3a23930bb6a1802c01179e871d669c37ebfac029', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: If62bed2598c42b861a11ceab21e9f1ab0c0cf9dd\n'}]",0,821953,3a23930bb6a1802c01179e871d669c37ebfac029,9,3,2,935,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: If62bed2598c42b861a11ceab21e9f1ab0c0cf9dd
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/53/821953/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_ceph_dashboard_charm.py']",5,356c7b2d9dd59aed3762434454015c703546bfa7,drop_mock,"from unittest.mock import ANY, call, patch, MagicMock","from mock import ANY, call, patch, MagicMock",5,7
openstack%2Fcharm-aodh~master~If11f063cf1379ce92de41ca912f74918b2841bfc,openstack/charm-aodh,master,If11f063cf1379ce92de41ca912f74918b2841bfc,Use unittest.mock instead of third party mock,ABANDONED,2020-04-19 14:20:13.000000000,2021-12-16 14:58:32.000000000,,"[{'_account_id': 11904}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-19 14:20:13.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_aodh_handlers.py', 'unit_tests/test_lib_charm_openstack_aodh.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9608a8700ba26e1330354bd4812e055040f2b630', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: If11f063cf1379ce92de41ca912f74918b2841bfc\n'}]",1,721085,9608a8700ba26e1330354bd4812e055040f2b630,6,3,1,28614,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: If11f063cf1379ce92de41ca912f74918b2841bfc
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/85/721085/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_aodh_handlers.py', 'unit_tests/test_lib_charm_openstack_aodh.py']",3,9608a8700ba26e1330354bd4812e055040f2b630,unittest.mock,from unittest import mock,from __future__ import absolute_import from __future__ import print_function import mock,2,11
openstack%2Fcharm-glance~master~I22e95e9376f354de16894d2b280bf79f0b3103f7,openstack/charm-glance,master,I22e95e9376f354de16894d2b280bf79f0b3103f7,Use unittest.mock instead of third party mock,ABANDONED,2020-04-19 13:39:18.000000000,2021-12-16 14:58:17.000000000,,"[{'_account_id': 11904}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-19 13:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/7386a214ed3cda9259f2a36a1090736124385c9c', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I22e95e9376f354de16894d2b280bf79f0b3103f7\n'}, {'number': 2, 'created': '2020-04-19 14:13:18.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/4f26c6214df09bc459538601085ed9eb8d7316f4', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I22e95e9376f354de16894d2b280bf79f0b3103f7\n'}]",0,721081,4f26c6214df09bc459538601085ed9eb8d7316f4,8,3,2,28614,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I22e95e9376f354de16894d2b280bf79f0b3103f7
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/81/721081/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_actions.py']",2,7386a214ed3cda9259f2a36a1090736124385c9c,unittest.mock,from unittest import mock, import mock,1,4
openstack%2Fcharm-cinder-ceph~master~I7b211cfd80cf66d07961b7906feaf471d64e61a5,openstack/charm-cinder-ceph,master,I7b211cfd80cf66d07961b7906feaf471d64e61a5,"Fix the misspelling of ""search""",ABANDONED,2019-01-17 05:51:57.000000000,2021-12-16 14:57:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-01-17 05:51:57.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templating.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/c6b9fe1c717ae02668efe80f8017575062ea5a5e', 'message': 'Fix the misspelling of ""search""\n\nChange-Id: I7b211cfd80cf66d07961b7906feaf471d64e61a5\n'}]",0,631405,c6b9fe1c717ae02668efe80f8017575062ea5a5e,4,2,1,29721,,,0,"Fix the misspelling of ""search""

Change-Id: I7b211cfd80cf66d07961b7906feaf471d64e61a5
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/05/631405/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templating.py'],1,c6b9fe1c717ae02668efe80f8017575062ea5a5e,," Since it was registered with the grizzly release, it first searches"," Since it was registered with the grizzly release, it first seraches",1,1
openstack%2Fcinder-specs~master~Ie483be9e82031d8c89dd49c8159373d769e5037d,openstack/cinder-specs,master,Ie483be9e82031d8c89dd49c8159373d769e5037d,Propose image-encryption spec for Yoga,MERGED,2021-11-20 13:46:01.000000000,2021-12-16 14:40:24.000000000,2021-12-15 21:19:52.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-20 13:46:01.000000000', 'files': ['specs/yoga/remove-me.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'specs/yoga/image-encryption.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/6d1c94b8fa387fb7c3fc1b7b95b1986e24e39fa6', 'message': ""Propose image-encryption spec for Yoga\n\nThe team working on this effort has scaled it back to remove a\ndependency that's been holding up development [0].  This change\nhas no impact on the current Cinder spec, which was approved\nfor Train, and whose approved status has been carried along through\nXena.  It's now proposed for Yoga.\n\n[0] https://review.opendev.org/c/openstack/glance-specs/+/792134\n\nChange-Id: Ie483be9e82031d8c89dd49c8159373d769e5037d\n""}]",3,818671,6d1c94b8fa387fb7c3fc1b7b95b1986e24e39fa6,9,3,1,5314,,,0,"Propose image-encryption spec for Yoga

The team working on this effort has scaled it back to remove a
dependency that's been holding up development [0].  This change
has no impact on the current Cinder spec, which was approved
for Train, and whose approved status has been carried along through
Xena.  It's now proposed for Yoga.

[0] https://review.opendev.org/c/openstack/glance-specs/+/792134

Change-Id: Ie483be9e82031d8c89dd49c8159373d769e5037d
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/71/818671/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/remove-me.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'specs/yoga/image-encryption.rst']",4,6d1c94b8fa387fb7c3fc1b7b95b1986e24e39fa6,image-encryption,,,10,14
openstack%2Fcharm-cinder-purestorage~master~I140e92548602f2be78f638c36ee4d0492c703811,openstack/charm-cinder-purestorage,master,I140e92548602f2be78f638c36ee4d0492c703811,Advertise Active/Active HA for >= Victoria.,NEW,2021-10-21 02:36:55.000000000,2021-12-16 14:33:27.000000000,,"[{'_account_id': 2424}, {'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-21 02:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/24441961d1b7fbd09dbe5f9ed26a6b35c3189063', 'message': 'Advertise Active/Active HA for >= Victoria.\n\nPurestorage supports Active/Active HA since Victoria and this change\nwill inform the cinder charm about this and let it configure a clustered\nVolume service when possible.\n\nDepends-On: https://review.opendev.org/c/openstack/charm-cinder/+/814845\nDepends-On: https://review.opendev.org/c/openstack/charms.openstack/+/814850\nCloses-Bug: #1947702\nChange-Id: I140e92548602f2be78f638c36ee4d0492c703811\n'}, {'number': 2, 'created': '2021-10-21 12:51:59.000000000', 'files': ['src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/158d6b934c3c90ba6e9f35339f2bda67d7a59407', 'message': 'Advertise Active/Active HA for >= Victoria.\n\nPurestorage supports Active/Active HA since Victoria and this change\nwill inform the cinder charm about this and let it configure a clustered\nVolume service when possible.\n\nDepends-On: https://review.opendev.org/c/openstack/charm-cinder/+/814845\nDepends-On: https://review.opendev.org/c/openstack/charms.openstack/+/814850\nCloses-Bug: #1947702\nChange-Id: I140e92548602f2be78f638c36ee4d0492c703811\n'}]",2,814851,158d6b934c3c90ba6e9f35339f2bda67d7a59407,7,4,2,2424,,,0,"Advertise Active/Active HA for >= Victoria.

Purestorage supports Active/Active HA since Victoria and this change
will inform the cinder charm about this and let it configure a clustered
Volume service when possible.

Depends-On: https://review.opendev.org/c/openstack/charm-cinder/+/814845
Depends-On: https://review.opendev.org/c/openstack/charms.openstack/+/814850
Closes-Bug: #1947702
Change-Id: I140e92548602f2be78f638c36ee4d0492c703811
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/51/814851/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/cinder_purestorage.py'],1,24441961d1b7fbd09dbe5f9ed26a6b35c3189063,bug/1947702, active_active_ha = False class CinderpurestorageCharmVictoria(CinderpurestorageCharmRocky): # Purestorage implemencted Active/Active flag since Victoria release = 'victoria' active_active_ha = False,,8,0
openstack%2Ftripleo-validations~master~Idd854e9dc2173883f87c067807765e26bf8dd178,openstack/tripleo-validations,master,Idd854e9dc2173883f87c067807765e26bf8dd178,Adding FIPS validation - check if the system is FIPS enabled,ABANDONED,2021-12-16 10:20:14.000000000,2021-12-16 14:25:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 33774}]","[{'number': 1, 'created': '2021-12-16 10:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab5dedba86adeb81ed8d25b3c6043c0a3f10a369', 'message': 'Adding FIPS validation - check if the system is FIPS enabled\n\nChange-Id: Idd854e9dc2173883f87c067807765e26bf8dd178\n'}, {'number': 2, 'created': '2021-12-16 10:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/70803007ecc02cb92d540bff66c2ef6a6ce90f5d', 'message': 'Adding FIPS validation - check if the system is FIPS enabled\n\nChange-Id: Idd854e9dc2173883f87c067807765e26bf8dd178\n'}, {'number': 3, 'created': '2021-12-16 11:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/36422f08c39b53a3b24878b2df1a36d6b7df26f7', 'message': 'Adding FIPS validation - check if the system is FIPS enabled\n\nChange-Id: Idd854e9dc2173883f87c067807765e26bf8dd178\n'}, {'number': 4, 'created': '2021-12-16 12:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b72dc0a301d3da13eb91a553515620f1948b5e9a', 'message': 'Adding FIPS validation - check if the system is FIPS enabled\n\nChange-Id: Idd854e9dc2173883f87c067807765e26bf8dd178\n'}, {'number': 5, 'created': '2021-12-16 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3b9a95304063769da3006d31c3e6d93ea711eed4', 'message': 'Adding FIPS validation - check if the system is FIPS enabled\n\nChange-Id: Idd854e9dc2173883f87c067807765e26bf8dd178\n'}, {'number': 6, 'created': '2021-12-16 13:26:33.000000000', 'files': ['roles/tripleo_check_fips_status/defaults/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_check_fips_status/molecule/default/prepare.yml', 'roles/tripleo_check_fips_status/tasks/main.yml', 'roles/tripleo_check_fips_status/vars/main.yml', 'doc/source/roles/role-tripleo_check_fips_status.rst', 'playbooks/tripleo-check-fips-status.yaml', 'roles/tripleo_check_fips_status/molecule/default/converge.yml', 'roles/tripleo_check_fips_status/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d596edc219a1b3b364d050c51573c831c83423a1', 'message': 'Adding FIPS validation - check if the system is FIPS enabled\n\nChange-Id: Idd854e9dc2173883f87c067807765e26bf8dd178\n'}]",0,821956,d596edc219a1b3b364d050c51573c831c83423a1,12,2,6,32926,,,0,"Adding FIPS validation - check if the system is FIPS enabled

Change-Id: Idd854e9dc2173883f87c067807765e26bf8dd178
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/56/821956/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_check_fips_status/defaults/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_check_fips_status/molecule/default/prepare.yml', 'roles/tripleo_check_fips_status/tasks/main.yml', 'roles/tripleo_check_fips_status/vars/main.yml', 'doc/source/roles/role-tripleo_check_fips_status.rst', 'playbooks/tripleo-check-fips-status.yaml', 'roles/tripleo_check_fips_status/molecule/default/verify.yml', 'roles/tripleo_check_fips_status/molecule/default/converge.yml', 'roles/tripleo_check_fips_status/molecule/default/molecule.yml']",10,ab5dedba86adeb81ed8d25b3c6043c0a3f10a369,fips-val-fips,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. ",,255,0
openstack%2Fironic~bugfix%2F19.0~I95252aea808c48ea2d94569449c871f0d483caaa,openstack/ironic,bugfix/19.0,I95252aea808c48ea2d94569449c871f0d483caaa,Adoption: do not validate boot interface when local booting,MERGED,2021-12-15 10:55:18.000000000,2021-12-16 14:16:19.000000000,2021-12-15 15:01:12.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-15 10:55:18.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/adopt-validation-7249ceb57016f0e4.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5c47ac862d8afbd23e0cac2aef58dd83e665af9', 'message': 'Adoption: do not validate boot interface when local booting\n\nWe validate the boot interface during adoption because of:\na) potential rebuilding,\nb) non-local boot.\n\nRebuild proved a rarely used feature, and local boot is the default\nnowadays, so it makes less sense to unconditionally validate the boot\ninterface during adoption. We will run the validation anyway the next\ntime we need to do something with booting.\n\nSimilarly, do not record is_whole_disk_image None if it cannot be\nreliably determined.\n\nChange-Id: I95252aea808c48ea2d94569449c871f0d483caaa\n(cherry picked from commit d342b07dd6f8c5478f37a31b14e77bba6bef55e2)\n'}]",0,821820,d5c47ac862d8afbd23e0cac2aef58dd83e665af9,12,2,1,10239,,,0,"Adoption: do not validate boot interface when local booting

We validate the boot interface during adoption because of:
a) potential rebuilding,
b) non-local boot.

Rebuild proved a rarely used feature, and local boot is the default
nowadays, so it makes less sense to unconditionally validate the boot
interface during adoption. We will run the validation anyway the next
time we need to do something with booting.

Similarly, do not record is_whole_disk_image None if it cannot be
reliably determined.

Change-Id: I95252aea808c48ea2d94569449c871f0d483caaa
(cherry picked from commit d342b07dd6f8c5478f37a31b14e77bba6bef55e2)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/821820/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/adopt-validation-7249ceb57016f0e4.yaml']",3,d5c47ac862d8afbd23e0cac2aef58dd83e665af9,,--- fixes: - | No longer validates boot interface parameters when adopting a node that uses local boot. ,,60,11
openstack%2Fironic-inspector~master~Ib42ec0ccb8d9d1e958fb11381962c3512611a475,openstack/ironic-inspector,master,Ib42ec0ccb8d9d1e958fb11381962c3512611a475,DNM test the CI,ABANDONED,2021-12-08 08:50:29.000000000,2021-12-16 14:15:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-08 08:50:29.000000000', 'files': ['ironic_inspector/main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/cbb172466f0e503929c63681c1d6c11d1c624fea', 'message': 'DNM test the CI\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/820985\nChange-Id: Ib42ec0ccb8d9d1e958fb11381962c3512611a475\n'}]",0,820987,cbb172466f0e503929c63681c1d6c11d1c624fea,3,1,1,10239,,,0,"DNM test the CI

Depends-On: https://review.opendev.org/c/openstack/ironic/+/820985
Change-Id: Ib42ec0ccb8d9d1e958fb11381962c3512611a475
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/87/820987/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/main.py'],1,cbb172466f0e503929c63681c1d6c11d1c624fea,test,,,0,1
openstack%2Fbifrost~master~I8d570898ed493d726af6d8e7f70888d87dd89d5a,openstack/bifrost,master,I8d570898ed493d726af6d8e7f70888d87dd89d5a,DNM expose_json_rpc,ABANDONED,2021-12-06 15:41:37.000000000,2021-12-16 14:15:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-06 15:41:37.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d73a80ce2cb4800122606b3d02f51990198738f0', 'message': 'DNM expose_json_rpc\n\nChange-Id: I8d570898ed493d726af6d8e7f70888d87dd89d5a\n'}]",0,820543,d73a80ce2cb4800122606b3d02f51990198738f0,3,1,1,10239,,,0,"DNM expose_json_rpc

Change-Id: I8d570898ed493d726af6d8e7f70888d87dd89d5a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/43/820543/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/defaults/main.yml'],1,d73a80ce2cb4800122606b3d02f51990198738f0,test,expose_json_rpc: true,expose_json_rpc: false,1,1
openstack%2Freleases~master~I5987cd594631577310b1bed7f49ced226fdf0859,openstack/releases,master,I5987cd594631577310b1bed7f49ced226fdf0859,[yoga] release oslo's deliverables,MERGED,2021-12-15 10:23:43.000000000,2021-12-16 14:09:08.000000000,2021-12-16 14:09:08.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 10:23:43.000000000', 'files': ['deliverables/yoga/oslo.messaging.yaml', 'deliverables/yoga/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b4ebd74b71b67269ed8957af0d3a5ba1fcf971bf', 'message': ""[yoga] release oslo's deliverables\n\nChange-Id: I5987cd594631577310b1bed7f49ced226fdf0859\n""}]",1,821816,b4ebd74b71b67269ed8957af0d3a5ba1fcf971bf,8,3,1,28522,,,0,"[yoga] release oslo's deliverables

Change-Id: I5987cd594631577310b1bed7f49ced226fdf0859
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/821816/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/oslo.messaging.yaml', 'deliverables/yoga/oslo.policy.yaml']",2,b4ebd74b71b67269ed8957af0d3a5ba1fcf971bf,oslo-yoga, - version: 3.10.1 projects: - repo: openstack/oslo.policy hash: 919c3280aa79762df8475f131a65d12b78ac436e,,8,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ib02f509bbaf6bfcf639cd4df633fb11237d49524,openstack/tripleo-upgrade,stable/train,Ib02f509bbaf6bfcf639cd4df633fb11237d49524,"Revert ""Revert ""[upgrade] Update rename-nics for improved options""""",MERGED,2021-12-14 20:53:32.000000000,2021-12-16 14:01:31.000000000,2021-12-16 14:01:31.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-12-14 20:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7a9464d1a2c9d6780f5b751c990a09b69e04c021', 'message': 'Revert ""Revert ""[upgrade] Update rename-nics for improved options""""\n\nThis reverts commit 932ddcb913947c2c4e04d3b64cd63b70bf4aa864.\n\nReason for revert: Fixed\n\nChange-Id: Ib02f509bbaf6bfcf639cd4df633fb11237d49524\n'}, {'number': 2, 'created': '2021-12-15 16:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/54f712e5ceeb57f706351ddd4e75361e4283b271', 'message': 'Revert ""Revert ""[upgrade] Update rename-nics for improved options""""\n\nThis reverts commit 932ddcb913947c2c4e04d3b64cd63b70bf4aa864.\n\nReason for revert:\n\nThis now includes the fix in line 31 which ensures that we do not\nattempt to add udev rules to subinterfaces.\n\nChange-Id: Ib02f509bbaf6bfcf639cd4df633fb11237d49524\n'}, {'number': 3, 'created': '2021-12-15 19:10:58.000000000', 'files': ['files/rename-nics.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c864f47764b17a08e1417638f6043e56441c25ab', 'message': 'Revert ""Revert ""[upgrade] Update rename-nics for improved options""""\n\nThis reverts commit 932ddcb913947c2c4e04d3b64cd63b70bf4aa864.\n\nReason for revert:\n\nThis now includes the fix in line 31 which ensures that we do not\nattempt to add udev rules to subinterfaces.\n\nChange-Id: Ib02f509bbaf6bfcf639cd4df633fb11237d49524\n'}]",2,821754,c864f47764b17a08e1417638f6043e56441c25ab,14,6,3,11090,,,0,"Revert ""Revert ""[upgrade] Update rename-nics for improved options""""

This reverts commit 932ddcb913947c2c4e04d3b64cd63b70bf4aa864.

Reason for revert:

This now includes the fix in line 31 which ensures that we do not
attempt to add udev rules to subinterfaces.

Change-Id: Ib02f509bbaf6bfcf639cd4df633fb11237d49524
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/821754/2 && git format-patch -1 --stdout FETCH_HEAD,['files/rename-nics.yaml'],1,7a9464d1a2c9d6780f5b751c990a09b69e04c021,,"- name: Rename network interfaces src_prefix: ""eth"" dst_prefix: ""em"" osnet_conf: ""/etc/os-net-config/config.json"" src_interfaces: ""{{ ansible_interfaces | select('match', src_prefix ~ '.*') | sort | list }}"" undercloud_conf: ""~/undercloud.conf"" tasks: - debug: msg: ""{{ src_interfaces }}"" tags: - udev NAME=""{{ item | replace(src_prefix, dst_prefix) }}"" with_items: ""{{ src_interfaces }}"" - name: Rename ifcfg files tags: - ifcfg block: - name: Check that src_prefix files exists with_items: ""{{ src_interfaces }}"" - name: Copy ifcfg files using dst_prefix dest: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" line: ""NAME={{ item.item | replace(src_prefix, dst_prefix) }}"" path: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" line: ""DEVICE={{ item.item | replace(src_prefix, dst_prefix) }}"" path: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" - name: Backup old ifcfg network-script files loop_control: label: ""{{ item.item }}"" - name: Remove old ifcfg network-script files loop_control: label: ""{{ item.item }}"" tags: - routes with_items: ""{{ src_interfaces }}"" - name: Copy route files using dst_prefix dest: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" - name: Update dst_prefix in route files that use IP command arguments format replace: regexp: ""{{ src_prefix }}"" replace: ""{{ dst_prefix }}"" path: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" loop_control: label: ""{{ item.item }}"" loop_control: label: ""{{ item.item }}"" - name: Perform a final regex for any remaining src_prefix in ifcfg files tags: - ifcfg replace: ""{{ item[1] | replace(src_prefix, dst_prefix) }}"" - ""{{ src_interfaces }}"" loop_control: label: ""{{ item[1] }} -> {{ item[0].path }}"" - name: Replace interface name in TripleO configuration files tags: - tripleo regexp: ""{{ item }}"" replace: ""{{ item | replace(src_prefix, dst_prefix) }}"" with_items: ""{{ src_interfaces }}"" regexp: ""{{ item }}"" replace: ""{{ item | replace(src_prefix, dst_prefix) }}"" with_items: ""{{ src_interfaces }}""","- name: Rename eth devices prefix: ""em"" tasks: - set_fact: eth_interfaces: ""{{ ansible_interfaces | select('match','eth.*') | list }}"" osnet_conf: ""/etc/os-net-config/config.json"" - debug: msg: ""{{ eth_interfaces }}"" NAME=""{{ item|replace('eth',prefix) }}"" with_items: ""{{ eth_interfaces }}"" - name: Rename eth files block: - name: Check that eth files exists with_items: ""{{ eth_interfaces }}"" - name: Copy nic files using the new prefix dest: ""{{ item.stat.path|replace('eth',prefix) }}"" line: ""NAME={{ item.item|replace('eth',prefix) }}"" path: ""{{ item.stat.path|replace('eth',prefix) }}"" line: ""DEVICE={{ item.item|replace('eth',prefix) }}"" path: ""{{ item.stat.path|replace('eth',prefix) }}"" - name: Backup old eth network-script files - name: Remove old eth network-script files with_items: ""{{ eth_interfaces }}"" - name: Copy route files using the new prefix dest: ""{{ item.stat.path|replace('eth',prefix) }}"" - name: Update prefix in route files that use IP command arguments format replace: regexp: ""eth"" replace: ""{{ prefix }}"" path: ""{{ item.stat.path|replace('eth',prefix) }}"" - name: Perform a final regex for any remaining eth prefixes in ifcfg files replace: ""{{ item[1]|replace('eth',prefix) }}"" - ""{{ eth_interfaces }}"" - name: Replace interface name in files referencing old eth interface regexp: 'eth(\d+)' replace: ""{{ prefix }}\\1"" regexp: 'eth(\d+)' replace: ""{{ prefix }}\\1""",90,34
openstack%2Fpython-mistralclient~stable%2Fxena~Ib33110fd02728dee55d336fd86855d45575014de,openstack/python-mistralclient,stable/xena,Ib33110fd02728dee55d336fd86855d45575014de,Update .gitreview for stable/xena,NEW,2021-09-10 15:15:58.000000000,2021-12-16 13:57:21.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 15:15:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/7ec2d31fed67566bebd6f251cccf19c9de72cc76', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Ib33110fd02728dee55d336fd86855d45575014de\n'}]",1,808436,7ec2d31fed67566bebd6f251cccf19c9de72cc76,10,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Ib33110fd02728dee55d336fd86855d45575014de
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/36/808436/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7ec2d31fed67566bebd6f251cccf19c9de72cc76,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fsushy-oem-idrac~master~Iaf69ad23ccf85b3a92d89b46a8c4726b3f38ce8f,openstack/sushy-oem-idrac,master,Iaf69ad23ccf85b3a92d89b46a8c4726b3f38ce8f,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 08:42:26.000000000,2021-12-16 13:44:02.000000000,2021-12-16 13:44:02.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-12-14 08:42:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/e6b444bbd960e5eb4065d758e6c8c713ef64e04c', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: Iaf69ad23ccf85b3a92d89b46a8c4726b3f38ce8f\n'}]",3,821672,e6b444bbd960e5eb4065d758e6c8c713ef64e04c,8,4,1,23851,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: Iaf69ad23ccf85b3a92d89b46a8c4726b3f38ce8f
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/72/821672/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e6b444bbd960e5eb4065d758e6c8c713ef64e04c,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Fpython-dracclient~master~I40a88297b09a542fcf79fde9d4066beef50a1b9d,openstack/python-dracclient,master,I40a88297b09a542fcf79fde9d4066beef50a1b9d,Update tox Python versions for Yoga,MERGED,2021-11-25 09:53:36.000000000,2021-12-16 13:36:11.000000000,2021-12-16 13:36:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-11-25 09:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/2f3a25ff7ab6026e625c2d07a677dd40302582a6', 'message': 'Update tox Python versions for Yoga\n\nUpdate list to Python 3.8, 3.9 per [1].\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I40a88297b09a542fcf79fde9d4066beef50a1b9d\n'}, {'number': 2, 'created': '2021-12-14 09:22:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/c104340ff60e0f9ccafe22a3e0e205f38a649e64', 'message': 'Update tox Python versions for Yoga\n\nUpdate list to Python 3.6, 3.9 per [1].\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I40a88297b09a542fcf79fde9d4066beef50a1b9d\n'}]",1,819278,c104340ff60e0f9ccafe22a3e0e205f38a649e64,8,2,2,27909,,,0,"Update tox Python versions for Yoga

Update list to Python 3.6, 3.9 per [1].

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I40a88297b09a542fcf79fde9d4066beef50a1b9d
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/78/819278/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f3a25ff7ab6026e625c2d07a677dd40302582a6,yoga-py,"envlist = py39,py38,pep8","envlist = py38,py36,pep8",1,1
openstack%2Fpuppet-neutron~master~I173e0d516aeccc61b836573b81141a5dcab6d825,openstack/puppet-neutron,master,I173e0d516aeccc61b836573b81141a5dcab6d825,Deprecate service validation for neutron-server,MERGED,2021-12-13 14:34:13.000000000,2021-12-16 13:32:25.000000000,2021-12-16 13:30:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ed990fb237dc57787ce5f242f6fe15335ad9a84c', 'message': 'Deprecate service validation for neutron-server\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for neutron-server.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: I173e0d516aeccc61b836573b81141a5dcab6d825\n'}, {'number': 2, 'created': '2021-12-13 14:46:45.000000000', 'files': ['releasenotes/notes/deprecate-service-validation-e972b361eb17e21e.yaml', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/35659b8d918e8e10e8dbbadf29339d04069bceb3', 'message': 'Deprecate service validation for neutron-server\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for neutron-server.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nDepends-on: https://review.opendev.org/821585\nChange-Id: I173e0d516aeccc61b836573b81141a5dcab6d825\n'}]",3,821582,35659b8d918e8e10e8dbbadf29339d04069bceb3,17,3,2,9816,,,0,"Deprecate service validation for neutron-server

Following the past deprecation in puppet-keystone[1], this change
deprecates service validation for neutron-server.

[1] 3c95205e0253895e477b9135c10f5175d4166cfc

Depends-on: https://review.opendev.org/821585
Change-Id: I173e0d516aeccc61b836573b81141a5dcab6d825
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/82/821582/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-service-validation-e972b361eb17e21e.yaml', 'manifests/server.pp']",2,ed990fb237dc57787ce5f242f6fe15335ad9a84c,deprecate-service-validation,"# DEPRECATED PARAMETERS # # [*validate*] # (Optional) Whether to validate the service is working after any service refreshes # Defaults to undef # # DEPRECATED PARAMETERS $validate = undef, if $validate != undef { warning('The neutron::server::validate parameter has been deprecated and has no effect') } ","# [*validate*] # (Optional) Whether to validate the service is working after any service refreshes # Defaults to false # $validate = false, # The service validation is required by Debian and Ubuntu, because the # server takes too much time to be fully up after the service starts. if $validate { $keystone_project_name = $::neutron::keystone::authtoken::project_name $keystone_username = $::neutron::keystone::authtoken::username $keystone_password = $::neutron::keystone::authtoken::password $keystone_www_uri = $::neutron::keystone::authtoken::www_authenticate_uri $validation_cmd = { 'neutron-server' => { 'environment' => [""OS_PASSWORD=${keystone_password}""], # lint:ignore:140chars 'unless' => ""openstack --os-auth-url ${keystone_www_uri} --os-project-name ${keystone_project_name} --os-username ${keystone_username} --os-identity-api-version 3 network list"", 'command' => ""openstack --os-auth-url ${keystone_www_uri} --os-project-name ${keystone_project_name} --os-username ${keystone_username} --os-identity-api-version 3 network list"", # lint:endignore 'timeout' => '60', 'tries' => '30', 'try_sleep' => '2', } } create_resources('openstacklib::service_validation', $validation_cmd, {'subscribe' => 'Anchor[neutron::service::end]'}) }",18,28
openstack%2Fpython-dracclient~master~I26d89615aa8812e1ba3fcaebb66a82ffe135644b,openstack/python-dracclient,master,I26d89615aa8812e1ba3fcaebb66a82ffe135644b,Updating yoga tested python versions in classifier,MERGED,2021-11-25 09:55:03.000000000,2021-12-16 13:31:30.000000000,2021-12-16 13:31:30.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-11-25 09:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/a16315c89e8b21761d8e423b140097dc0e29c214', 'message': 'Updating yoga tested python versions in classifier\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job and you\ncan see the updated jobs running in gate.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit updates the tested py versions in setup.cfg classifier.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I26d89615aa8812e1ba3fcaebb66a82ffe135644b\n'}, {'number': 2, 'created': '2021-12-14 09:20:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/980c097b47bc53d21a6e562d721092220df2bd17', 'message': 'Updating yoga tested python versions in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit adds missing 3.9 in version in setup.cfg classifier.\n\nChange-Id: I26d89615aa8812e1ba3fcaebb66a82ffe135644b\n'}]",5,819279,980c097b47bc53d21a6e562d721092220df2bd17,12,3,2,27909,,,0,"Updating yoga tested python versions in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.9 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit adds missing 3.9 in version in setup.cfg classifier.

Change-Id: I26d89615aa8812e1ba3fcaebb66a82ffe135644b
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/79/819279/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a16315c89e8b21761d8e423b140097dc0e29c214,yoga-python-testing, Programming Language :: Python :: 3.9, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,2
openstack%2Fpython-dracclient~master~If34d96fab4249f466f63b3740d1ff5eb68012462,openstack/python-dracclient,master,If34d96fab4249f466f63b3740d1ff5eb68012462,Set iDRACCard attributes as nullable,MERGED,2021-11-02 12:55:42.000000000,2021-12-16 13:17:33.000000000,2021-12-16 13:17:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-11-02 12:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/38f1326017c7fc062666fb5a1131266523b19bee', 'message': 'Set attribute GroupID as nullable\n\nThe existing attribute GroupID was not receiving any value for\nfew servers while executing config_idrac which resulted in\nerror ""atrribute GroupID is not nullable"".\n\nThis change is setting attribute GroupID as nullable True.\nSimilarly, setting attributes UpperBound and LowerBound as\nnullable True.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n'}, {'number': 2, 'created': '2021-11-25 12:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/8e4dd731adb34e636778980053a7cc0600053317', 'message': 'Set attribute GroupID, UpperBound, LowerBound nil\n\nAttributes GroupID was empty for 15G servers(PowerEdge R750\nand PowerEdge R650) while executing config_idrac which\nresulted in error ""atrribute GroupID is not nullable"".\n\nEarlier for XE2420 server, similar error message was observed for\nattributes UpperBound and LowerBound. Still to be investigated\nthe cause.\n\nThis change is to set attributes GroupID, UpperBound and LowerBound\nas nullable True.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n'}, {'number': 3, 'created': '2021-12-04 14:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f75711fe4f99ee672919342c11328b3148e94073', 'message': 'Set GroupID, UpperBound, LowerBound as nullable\n\nAttribute GroupID was empty for 15G servers (PowerEdge R750\nand PowerEdge R650) while executing config_idrac which\nresulted in error ""atrribute GroupID is not nullable"".\n\nEarlier for XE2420 server, similar error message was observed for\nattributes UpperBound and LowerBound. Still to be investigated\nthe cause.\n\nThis change is to set attributes GroupID, UpperBound and LowerBound\nas nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n'}, {'number': 4, 'created': '2021-12-15 12:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/2d05ca95d60fae6580530ac7d9aac9badadaef24', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n'}, {'number': 5, 'created': '2021-12-15 13:05:38.000000000', 'files': ['dracclient/tests/utils.py', 'dracclient/resources/idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-upper-bound.xml', 'dracclient/tests/wsman_mocks/idraccard_integer-enum-nil-lower-bound.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/tests/wsman_mocks/idraccard_string-enum-nil-group-id.xml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/1488d904e2ad19e1b6455f66e23cdb03243f6912', 'message': 'Set iDRACCard attributes as nullable\n\nThe iDRACCard attribute GroupID is empty for 15th Generation servers,\ne.g., Dell EMC PowerEdge R750 and R650, which triggered the error\n""attribute GroupID is not nullable"".\n\nA similar error message has been observed when processing the\niDRACCardInteger attributes LowerBound and UpperBound read\nfrom a PowerEdge XE2420 server.\n\nThis change sets those attributes as nullable.\n\nChange-Id: If34d96fab4249f466f63b3740d1ff5eb68012462\n'}]",61,816353,1488d904e2ad19e1b6455f66e23cdb03243f6912,23,3,5,33121,,,0,"Set iDRACCard attributes as nullable

The iDRACCard attribute GroupID is empty for 15th Generation servers,
e.g., Dell EMC PowerEdge R750 and R650, which triggered the error
""attribute GroupID is not nullable"".

A similar error message has been observed when processing the
iDRACCardInteger attributes LowerBound and UpperBound read
from a PowerEdge XE2420 server.

This change sets those attributes as nullable.

Change-Id: If34d96fab4249f466f63b3740d1ff5eb68012462
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/53/816353/1 && git format-patch -1 --stdout FETCH_HEAD,['dracclient/resources/idrac_card.py'],1,38f1326017c7fc062666fb5a1131266523b19bee,change-816353," idrac_attr_xml, namespace, 'GroupID', nullable=True) idrac_attr_xml, cls.namespace, 'LowerBound', nullable=True) idrac_attr_xml, cls.namespace, 'UpperBound', nullable=True)"," idrac_attr_xml, namespace, 'GroupID') idrac_attr_xml, cls.namespace, 'LowerBound') idrac_attr_xml, cls.namespace, 'UpperBound')",3,3
openstack%2Fpuppet-nova~master~Ib038691b7324e613ed302059888841119c890d99,openstack/puppet-nova,master,Ib038691b7324e613ed302059888841119c890d99,Wire in rabbit_retry_interval,MERGED,2021-12-15 16:57:16.000000000,2021-12-16 12:05:19.000000000,2021-12-16 12:03:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16339}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-12-15 16:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9a9807cc5f91e461d9abfcaebef7a82b6f10413a', 'message': 'Wire in rabbit_retry_interval\n\nThere is no way to override it via Hiera data for a\nresource-like class oslo::messaging::rabbit[Nova_Config].\nSo add a perameter for nova class for it.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib038691b7324e613ed302059888841119c890d99\n'}, {'number': 2, 'created': '2021-12-15 23:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f48aa5de5c28217b0aeebeeb5d599fb2dea77d2a', 'message': 'Wire in rabbit_retry_interval\n\nThere is no way to override it via Hiera data for a\nresource-like class oslo::messaging::rabbit[Nova_Config].\nSo add a perameter for nova class for it.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib038691b7324e613ed302059888841119c890d99\n'}, {'number': 3, 'created': '2021-12-15 23:16:50.000000000', 'files': ['releasenotes/notes/rabbit_retry_interval-7f42d6339afafdf1.yaml', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2fda18a2aaa0e6f2e6283f65c996edda409d2c19', 'message': 'Wire in rabbit_retry_interval\n\nThere is no way to override it via Hiera data for a\nresource-like class oslo::messaging::rabbit[Nova_Config].\nSo add a perameter for nova class for it.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib038691b7324e613ed302059888841119c890d99\n'}]",2,821864,2fda18a2aaa0e6f2e6283f65c996edda409d2c19,15,6,3,6926,,,0,"Wire in rabbit_retry_interval

There is no way to override it via Hiera data for a
resource-like class oslo::messaging::rabbit[Nova_Config].
So add a perameter for nova class for it.

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ib038691b7324e613ed302059888841119c890d99
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/64/821864/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,9a9807cc5f91e461d9abfcaebef7a82b6f10413a,, is_expected.to contain_nova_config('oslo_messaging_rabbit/rabbit_retry_interval').with_value('<SERVICE DEFAULT>'),,8,0
openstack%2Fneutron~stable%2Ftrain~I3a2a94b76630fc80b76b171c826e890c60c26b2a,openstack/neutron,stable/train,I3a2a94b76630fc80b76b171c826e890c60c26b2a,[stable-only] Cap lazy-object-proxy to 1.6.0 in Python 2.7,ABANDONED,2021-12-16 08:37:36.000000000,2021-12-16 12:04:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-16 08:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfd2b0ab3af1ac2f0524f95e8c78c4cb4c8c6b06', 'message': '[stable-only] Cap lazy-object-proxy to 1.7.0 in Python 2.7\n\nThis library drops Python 2.7 in newer versions.\n\nCloses-Bug: #1955010\nChange-Id: I3a2a94b76630fc80b76b171c826e890c60c26b2a\n'}, {'number': 2, 'created': '2021-12-16 09:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a97a28b2a9f778e6eed75b6bf50a6eaefc1fc482', 'message': '[stable-only] Cap lazy-object-proxy to 1.6.0 in Python 2.7\n\nFurther versions drop Python 2.7 support.\n\nCloses-Bug: #1955010\nChange-Id: I3a2a94b76630fc80b76b171c826e890c60c26b2a\n'}, {'number': 3, 'created': '2021-12-16 11:34:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d0384e49d3108439fa51848f44196e6b8604d27', 'message': '[stable-only] Cap lazy-object-proxy to 1.6.0 in Python 2.7\n\nFurther versions drop Python 2.7 support.\n\nCloses-Bug: #1955010\nChange-Id: I3a2a94b76630fc80b76b171c826e890c60c26b2a\n'}]",0,821944,3d0384e49d3108439fa51848f44196e6b8604d27,5,1,3,16688,,,0,"[stable-only] Cap lazy-object-proxy to 1.6.0 in Python 2.7

Further versions drop Python 2.7 support.

Closes-Bug: #1955010
Change-Id: I3a2a94b76630fc80b76b171c826e890c60c26b2a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/821944/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,cfd2b0ab3af1ac2f0524f95e8c78c4cb4c8c6b06,bug/1955010,python-lazy-object-proxy<=1.7.0;python_version=='2.7' # BSD,,1,0
openstack%2Frequirements~master~I530461a3bc23de4c021eadc00e1c1b851b0cefa4,openstack/requirements,master,I530461a3bc23de4c021eadc00e1c1b851b0cefa4,"Pin ""lazy-object-proxy"" < 1.6.0 on Python 2.7",ABANDONED,2021-12-16 11:59:30.000000000,2021-12-16 12:02:18.000000000,,[],"[{'number': 1, 'created': '2021-12-16 11:59:30.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dac350cf7da84880b34a1aacc1c67664009d322a', 'message': 'Pin ""lazy-object-proxy"" < 1.6.0 on Python 2.7\n\nThe library lazy-object-proxy has dropped support for Python 2.7\n[1][2] in version 1.7.0.\n\n[1]https://github.com/ionelmc/python-lazy-object-proxy/issues/61\n[2]https://github.com/ionelmc/python-lazy-object-proxy/commit/16db739035116ed74af16aff4a8f2cfeab6fce80\n\nCloses-Bug: #1955010\nChange-Id: I530461a3bc23de4c021eadc00e1c1b851b0cefa4\n'}]",0,821970,dac350cf7da84880b34a1aacc1c67664009d322a,2,0,1,16688,,,0,"Pin ""lazy-object-proxy"" < 1.6.0 on Python 2.7

The library lazy-object-proxy has dropped support for Python 2.7
[1][2] in version 1.7.0.

[1]https://github.com/ionelmc/python-lazy-object-proxy/issues/61
[2]https://github.com/ionelmc/python-lazy-object-proxy/commit/16db739035116ed74af16aff4a8f2cfeab6fce80

Closes-Bug: #1955010
Change-Id: I530461a3bc23de4c021eadc00e1c1b851b0cefa4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/821970/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,dac350cf7da84880b34a1aacc1c67664009d322a,bug/1955010,lazy-object-proxy==1.6.0;python_version=='2.7',,2,0
openstack%2Fcharm-keystone-saml-mellon~master~Ib7e61c0293e398b831fbf8a6ade02bf833b78948,openstack/charm-keystone-saml-mellon,master,Ib7e61c0293e398b831fbf8a6ade02bf833b78948,Use unittest.mock instead of mock,MERGED,2020-06-08 20:59:53.000000000,2021-12-16 11:45:23.000000000,2021-12-16 11:45:23.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/53e0d28073a2bd340e127885b17f181f22a9cf28', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib7e61c0293e398b831fbf8a6ade02bf833b78948\n'}, {'number': 2, 'created': '2020-06-09 12:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/48b3fd99ff77e1de02bdf11bf793e8e585044b43', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib7e61c0293e398b831fbf8a6ade02bf833b78948\n""}, {'number': 3, 'created': '2021-12-15 14:04:24.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_keystone_saml_mellon_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_saml_mellon.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/0225c61e769d80dba405f7fde90a7d265d4f77e0', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib7e61c0293e398b831fbf8a6ade02bf833b78948\n""}]",0,734283,0225c61e769d80dba405f7fde90a7d265d4f77e0,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ib7e61c0293e398b831fbf8a6ade02bf833b78948
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/83/734283/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_keystone_saml_mellon_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_saml_mellon.py']",5,53e0d28073a2bd340e127885b17f181f22a9cf28,drop_mock,from unitest import mock,import mock,4,5
openstack%2Fxstatic-lodash~master~Ia83d18fdf2be79925dc245835e37632f8e88870a,openstack/xstatic-lodash,master,Ia83d18fdf2be79925dc245835e37632f8e88870a,Use py3 as the default runtime for tox,NEW,2021-04-20 02:29:47.000000000,2021-12-16 11:35:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:29:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-lodash/commit/8060f4d8b7c80734a1eef735e5ff5c3e578aee13', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Ia83d18fdf2be79925dc245835e37632f8e88870a\n'}]",1,787028,8060f4d8b7c80734a1eef735e5ff5c3e578aee13,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Ia83d18fdf2be79925dc245835e37632f8e88870a
",git fetch https://review.opendev.org/openstack/xstatic-lodash refs/changes/28/787028/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8060f4d8b7c80734a1eef735e5ff5c3e578aee13,,"envlist = py27,py3","envlist = py27,py34",1,1
openstack%2Fxstatic-roboto-fontface~master~I3321fcdf2d1d7857445cf95db8ed8941aa8ea19c,openstack/xstatic-roboto-fontface,master,I3321fcdf2d1d7857445cf95db8ed8941aa8ea19c,Use py3 as the default runtime for tox,NEW,2021-04-20 02:26:05.000000000,2021-12-16 11:34:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:26:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-roboto-fontface/commit/18c31fb9bf52a5c68b313eda8003617276f42eae', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I3321fcdf2d1d7857445cf95db8ed8941aa8ea19c\n'}]",1,787025,18c31fb9bf52a5c68b313eda8003617276f42eae,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I3321fcdf2d1d7857445cf95db8ed8941aa8ea19c
",git fetch https://review.opendev.org/openstack/xstatic-roboto-fontface refs/changes/25/787025/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,18c31fb9bf52a5c68b313eda8003617276f42eae,,"envlist = py27,py3","envlist = py27,py34",1,1
openstack%2Fxstatic-moment~master~Id926099def8d54c72f6170932520093f8f03f59f,openstack/xstatic-moment,master,Id926099def8d54c72f6170932520093f8f03f59f,Use py3 as the default runtime for tox,NEW,2021-04-20 02:31:19.000000000,2021-12-16 11:31:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:31:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-moment/commit/93f783265b5b4729d961e5b234cb7c6245d55a11', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Id926099def8d54c72f6170932520093f8f03f59f\n'}]",1,787030,93f783265b5b4729d961e5b234cb7c6245d55a11,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Id926099def8d54c72f6170932520093f8f03f59f
",git fetch https://review.opendev.org/openstack/xstatic-moment refs/changes/30/787030/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,93f783265b5b4729d961e5b234cb7c6245d55a11,,"envlist = py27,py3","envlist = py27,py34",1,1
openstack%2Fmanila-specs~master~Ib77bcba765a6be2ebb1cc76fc29fffaeda41481d,openstack/manila-specs,master,Ib77bcba765a6be2ebb1cc76fc29fffaeda41481d,WIP: Share Network with Multiple Subnets per AZ,ABANDONED,2021-12-15 12:59:02.000000000,2021-12-16 11:28:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-15 12:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/0046a3be9a03d441bed5948ff39be833406031eb', 'message': 'Share Network with Multiple Subnets per AZ\n\nAdds a new manila specification to allow multiple subnets in\nthe same AZ if they are from same network segment.\n\nSigned-off-by: Felipe Rodrigues <felipefuty01@gmail.com>\nChange-Id: Ib77bcba765a6be2ebb1cc76fc29fffaeda41481d\n'}, {'number': 2, 'created': '2021-12-15 14:11:24.000000000', 'files': ['doc/source/index.rst', 'specs/yoga/share-network-multiple-subnets-per-az.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2ffec1c245ef6abfec3cff055afcfa850b1324ba', 'message': 'WIP: Share Network with Multiple Subnets per AZ\n\nAdds a new manila specification to allow multiple subnets in\nthe same AZ if they are from same network segment.\n\nSigned-off-by: Felipe Rodrigues <felipefuty01@gmail.com>\nChange-Id: Ib77bcba765a6be2ebb1cc76fc29fffaeda41481d\n'}]",21,821843,2ffec1c245ef6abfec3cff055afcfa850b1324ba,7,1,2,31721,,,0,"WIP: Share Network with Multiple Subnets per AZ

Adds a new manila specification to allow multiple subnets in
the same AZ if they are from same network segment.

Signed-off-by: Felipe Rodrigues <felipefuty01@gmail.com>
Change-Id: Ib77bcba765a6be2ebb1cc76fc29fffaeda41481d
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/43/821843/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/yoga/share-network-multiple-subnets-per-az.rst']",2,0046a3be9a03d441bed5948ff39be833406031eb,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================= Share network with multiple subnets per AZ ============================================================= https://blueprints.launchpad.net/manila/+spec/share-network-multiple-subnets-per-az In Manila, the provision of share is done either by drivers handling the share server (DHSS) or not. For DHSS, the Manila requires the network configuration (called share network) in order to setup the new share server. The share network is created by supplying the neutron network and neutron subnet IDs. Then, for each new share server, it is requested to Neutron service one port in the share network subnet. With the Train release, the Manila started supporting several subnets to the same share network, being one, and only one, for each Availability Zone (AZ) [1]. It solved the isolation problem of network resources for replication scenario over availability zones as **failure domains** within an OpenStack cloud. However, it does not allow more than one subnet per AZ. Second the spec for this feature, it avoids the indeterminate behavior, Manila would have no way of picking the right subnet of the choices it would have [2]. The previous problem makes sense when it is dealing with different networks, for the same network segment with several subnets the indeterminate behavior does not exist, though. The Manila can request the port from any subnet in the AZ, the first that has available IP will be used. Therefore, this spec proposes adding the support for multiple subnets per AZ from a same network, requesting only one IP from any of available subnet. Problem description =================== In some OpenStack deployments, the user may want to add different subnets in the same network segment. Currently, this is not possible to be applied in the Manila service, because the Manila requires from the user a specific subnet. Likewise, the Nova requests a port from a network, leaving to the Neutron service the selection of one of available subnets, the Manila could have support to setup share networks with several subnets from same network in the same AZ. Use Cases ========= In an overloaded environment, the share network subnet may be running out of IPs. So, the user would like to add a new subnet in the same network and AZ, the new and old subnet must be on the same broadcast domain (network segment), but in a different LAN segments (subnet). Currently, a cloud facing issues with lack of IPs should allocate a new subnet and configuring a router between them. It is less scalable, efficient and user friendly then adding the new subnet to the same network using the broadcast domain segment. Proposed change =============== To solve the problem of users running out of IPs in the allocated subnet, without changing the network: - Share networks will span multiple subnets per availability zone. All of them must be in the same network and network type (IPV4). .. note:: To avoid any indeterminate (and hence wrong) behavior, we will not allow more than than one network per availability zone. Only subnets from same network. Things that will not change: - Share network API keeps the same, it already enables user to add more than one subnet per share network. - A share would still only be associated with one share network. - A share server would still be allocated IPs from a single subnet's allocation pool. - A security service would continue to be associated with the share network. When share servers are created on new subnets, they will derive all the security server information from the share network. Work-flows affected ------------------- **Creating a share network** Users can continue creating a share network with single subnet per AZ or ""empty"". However, it will have the ability to span multiple subnets in the same AZ, if, and only if, the subnets are from same network segment. **Creation of a share server** Share servers will still be created by manila-share service with network allocations from a single subnet. However, it will not fail if the requested port from Neutron fails by exhausting available IPs, instead of it, the Manila will try another configured subnet in the same network and AZ. It only fails in case all subnets are exhausted. **Creating a share** No changes are proposed to this workflow. **Creating a share replica** No changes are proposed to this workflow. **Assigning a security service** No changes are proposed to this workflow. Alternatives ------------ Keeping the same design of Manila makes the users, who is running out of IPs in the share network, create a new share network with the new Neutron subnet. Quotas are currently enforced on the number of share networks. If a user needs to deal with lacking of IPs per AZ as multiple share networks, quota limitations would be a problem. Indeed, the share network for the same network could be reused if they are in the same broadcast domain. Data model impact ----------------- Since the current Manila data model design has the entity ``manila.db .sqlalchemy.models.ShareNetworkSubnet`` containing the foreign key ``availability_zone_id``, not the inverse, nothing is blocking the data model to have multiple subnets in the same AZ. Therefore, no key changes are going to be made in the Manila data model. The database upgrade and downgrade has no impact. REST API impact --------------- Please note the current state of these APIs in our `API reference <http://developer.openstack.org/api-ref-share-v2.html>`_. **Creating a share network** No changes from the previous version of this API. **Adding a subnet to a share network** No changes on the API request parameters and endpoint:: POST /v2/{tenant_id}/share-networks/{share_network_id}/subnets Request:: { ""share-network-subnet"" : { ""neutron_net_id"": ""998b42ee-2cee-4d36-8b95-67b5ca1f2109"", ""neutron_subnet_id"": ""12c1490a-e82c-4f5e-bcb1-fb267a58cf10"", ""availability_zone"": ""paris"" } } The API check will change. Instead of responding with ``409 Conflict`` if there already is a neutron subnet defined for the specified availability zone, it only responds with that error message if the ``neutron_net_id`` differs from the old one. **Removing a subnet from a share network** No changes from the previous version of this API. **Summary listing of share networks** No changes from the previous version of this API. **Detailed listing of share networks** No changes from previous version request:: GET /v2/{tenant_id}/share-networks/detail Response may contain share network subnets with same ``availability_zone``:: Code: 200 OK { ""share_networks"": [ { ""name"": ""my_network"", ""id"": ""77eb3421-4549-4789-ac39-0d5185d68c29"", ""project_id"": ""e10a683c20da41248cfd5e1ab3d88c62"", ""description"": ""This is my share network"", ""updated_at"": null, ""share_network_subnets"": [ { ""created_at"": ""2016-06-01T21:12:14.843836"", ""id"": ""aa7a1269-703b-4832-a3df-17ed954c276c"", ""availability_zone"": ""london"", ""segmentation_id"": null, ""neutron_subnet_id"": ""12c1490a-e82c-4f5e-bcb1-fb267a58cf10"", ""updated_at"": null, ""neutron_net_id"": ""998b42ee-2cee-4d36-8b95-67b5ca1f2109"", ""ip_version"": null, ""cidr"": null, ""network_type"": null }, { ""created_at"": ""2016-06-01T21:12:14.843836"", ""id"": ""9c5dbe11-cdf6-48a4-b6ca-9582ef5af193"", ""availability_zone"": ""london"", ""segmentation_id"": null, ""neutron_subnet_id"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""updated_at"": null, ""neutron_net_id"": ""998b42ee-2cee-4d36-8b95-67b5ca1f2109"", ""ip_version"": null, ""cidr"": null, ""network_type"": null } ] }, { ""name"": ""my_network_2"", ""id"": ""00cc3770-2558-4370-a088-de03b055dcff"", ""project_id"": ""e10a683c20da41248cfd5e1ab3d88c62"", ""description"": ""This is also my share network"", ""updated_at"": null, ""share_network_subnets"": [ { ""created_at"": ""2016-06-01T21:12:14.843836"", ""id"": ""1feffbd9-9747-413d-b162-83b97981f0ba"", ""availability_zone"": ""paris"", ""segmentation_id"": null, ""neutron_subnet_id"": ""647cf190-e439-4159-98f9-17cb266d6d00"", ""updated_at"": null, ""neutron_net_id"": ""3b49335d-273e-4829-9b08-b7b1df157e69"", ""ip_version"": null, ""cidr"": null, ""network_type"": null } ] } ] } **Showing details of a single share network** No changes from previous version request:: GET /v2/{tenant_id}/share-networks/{share_network_id}/detail If the share network ID is invalid, the API will respond with ``404 NotFound``. Response:: Code: 200 OK { ""name"": ""my_network"", ""id"": ""77eb3421-4549-4789-ac39-0d5185d68c29"", ""project_id"": ""e10a683c20da41248cfd5e1ab3d88c62"", ""description"": ""This is my share network"", ""updated_at"": null, ""share_network_subnets"": [ { ""created_at"": ""2016-06-01T21:12:14.843836"", ""id"": ""aa7a1269-703b-4832-a3df-17ed954c276c"", ""availability_zone"": ""london"", ""segmentation_id"": null, ""neutron_subnet_id"": ""12c1490a-e82c-4f5e-bcb1-fb267a58cf10"", ""updated_at"": null, ""neutron_net_id"": ""998b42ee-2cee-4d36-8b95-67b5ca1f2109"", ""ip_version"": null, ""cidr"": null, ""network_type"": null }, { ""created_at"": ""2016-06-01T21:12:14.843836"", ""id"": ""9c5dbe11-cdf6-48a4-b6ca-9582ef5af193"", ""availability_zone"": ""london"", ""segmentation_id"": null, ""neutron_subnet_id"": ""53482b62-2c84-4a53-b6ab-30d9d9800d06"", ""updated_at"": null, ""neutron_net_id"": ""998b42ee-2cee-4d36-8b95-67b5ca1f2109"", ""ip_version"": null, ""cidr"": null, ""network_type"": null } ] } **Showing details of a subnet** No changes from previous version request. **Deleting a share network** No changes from previous version request. Security impact --------------- None. Notifications impact -------------------- We will asynchronously validate the network information during share creation, and if there is a mismatch with what is specified in the configured network plugin, we will raise an error user message. Other end user impact --------------------- - End users cannot select which of the defined subnets in the AZ will be used, so this feature should be used only when subnet selection is not required. - End users would have to add new subnets to an existing network iteratively to extend the share network within the AZ. Performance impact ------------------ Validating that users provide the correct network and availability zone will be performed at the API layer. However, the validation of the availability zone with respect to their configured networks will be done at the network plugin layer, as existing network checks are done today. This check might cause a performance impact, since all subnets might be tried to allocate the port, so we keep our existing share network validation isolated from the API allowing for further enhancements instead of gating changes at the API layer. Other deployer impact --------------------- None. Developer impact ---------------- None Driver impact ------------- None. Drivers must be agnostic to all these changes since they will be handled at the manila API service and the share manager services. Implementation ============== Assignee(s) ----------- Primary assignee: | felipe_rodrigues Work Items ---------- * Allows the API service to create multiple subnets in a same AZ * Changes plugin neutron to treat exhausted IPs using other configured subnets Dependencies ============ None. Testing ======= Unit test coverage will be added/maintained as per community standards. Tempest tests will be modified/added to cover new share network changes. Documentation Impact ==================== The following OpenStack documentation will be updated to reflect this change: * OpenStack User Guide: will document the changes in modification of share networks with multiple subnets. * OpenStack Admin Guide: will update the API return conflict code scenarios. * OpenStack API Reference: update API changes return conflict code scenarios. * Manila Developer Reference: document support for multiple subnets in same AZ. References ========== [1]: https://review.opendev.org/c/openstack/manila/+/671043 [2]: https://specs.openstack.org/openstack/manila-specs/specs/train/share-network-multiple-subnets.html ",,408,0
openstack%2Fneutron~master~Ia082f8531ffcc1599206124774599dcdb500274a,openstack/neutron,master,Ia082f8531ffcc1599206124774599dcdb500274a,"When creating a VXLAN interface, a device is mandatory",MERGED,2021-12-09 18:13:29.000000000,2021-12-16 11:25:22.000000000,2021-12-16 11:22:47.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 6062}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 18:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb59faecb4886ff6207db90d4de8d7c368b6f3e0', 'message': '[WIP] When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n'}, {'number': 2, 'created': '2021-12-10 10:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebbbb0a335c20960026d941551ce5304d5b7cd47', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n'}, {'number': 3, 'created': '2021-12-10 12:23:48.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/16a793af19a2dc13e3d121b36db52d6b9ec25278', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n'}]",7,821271,16a793af19a2dc13e3d121b36db52d6b9ec25278,44,6,3,16688,,,0,"When creating a VXLAN interface, a device is mandatory

""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional
argument. A VXLAN interface must be always created on top of an existing
network device:
  https://www.kernel.org/doc/Documentation/networking/vxlan.txt

Closes-Bug: #1954316
Change-Id: Ia082f8531ffcc1599206124774599dcdb500274a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/821271/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py']",7,cb59faecb4886ff6207db90d4de8d7c368b6f3e0,bug/1954316, self.device[i]), dev=self.device[i]),17,14
openstack%2Fkuryr-kubernetes~master~Ia2d6f41c0b9f969ea01ae78a16036cd4715de703,openstack/kuryr-kubernetes,master,Ia2d6f41c0b9f969ea01ae78a16036cd4715de703,Follow up to Pods events patch,MERGED,2021-12-15 18:00:02.000000000,2021-12-16 11:17:33.000000000,2021-12-16 11:14:51.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-15 18:00:02.000000000', 'files': ['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/85a9696039dc65ee3704fffc8e7ddda0f13e04ca', 'message': ""Follow up to Pods events patch\n\nSome minor wording fixes, making sure we're not logging errors happening\nwhen we try to create events on Namespace termination and a safeguard if\nsomebody puts garbage into ownerReferences we depend from.\n\nChange-Id: Ia2d6f41c0b9f969ea01ae78a16036cd4715de703\n""}]",3,821868,85a9696039dc65ee3704fffc8e7ddda0f13e04ca,11,4,1,11600,,,0,"Follow up to Pods events patch

Some minor wording fixes, making sure we're not logging errors happening
when we try to create events on Namespace termination and a safeguard if
somebody puts garbage into ownerReferences we depend from.

Change-Id: Ia2d6f41c0b9f969ea01ae78a16036cd4715de703
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/68/821868/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/utils.py']",4,85a9696039dc65ee3704fffc8e7ddda0f13e04ca,restrict-bulk-port-creation, if ref['kind'] != kind: continue ,,10,3
openstack%2Fkuryr-kubernetes~master~I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7,openstack/kuryr-kubernetes,master,I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7,Add lock to pools poulation,MERGED,2021-12-03 09:32:24.000000000,2021-12-16 11:16:15.000000000,2021-12-16 11:14:49.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-03 09:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/404856a7d3e57f942320290a02651308ed7d57d2', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 2, 'created': '2021-12-03 09:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6e90b86dbfacec68c394c4a8255d0b4578be9cb1', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 3, 'created': '2021-12-03 09:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/893fa8c238da2d931d0c6bf462b43ae626dabd0c', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 4, 'created': '2021-12-09 02:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/979650e063554b21f1ec8ff1d6b9fe0759edc143', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 5, 'created': '2021-12-09 14:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2132ea452688697d11e17cfa8c5945ceea0bae7', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 6, 'created': '2021-12-09 21:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d6c12bfff797b92f63d79eb4d25f230ee0d06868', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 7, 'created': '2021-12-09 21:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5a7c38491ff04d276f6463430baa4dab902e8445', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 8, 'created': '2021-12-10 01:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f39d8c9826e7e7849ec62c41e03abc8e2df64866', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 9, 'created': '2021-12-11 14:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4c2af0aca0ebc6a9223a153ad24e6d294b3c6c0f', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 10, 'created': '2021-12-13 14:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9cbbc1c9e7cd55c9ba3c1b1a967f2b4dd18f8fd6', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 11, 'created': '2021-12-13 15:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a214a5c8f50db4ac37c639c5b22f83742ce3fcfe', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 12, 'created': '2021-12-15 13:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aade0681bc67ee14a08adb41ed0dc6dad1fd4fc3', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}, {'number': 13, 'created': '2021-12-15 14:09:01.000000000', 'files': ['doc/source/installation/ports-pool.rst', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2bfcaca2b3c4feda32d1d9cd835db788d648555', 'message': 'Add lock to pools poulation\n\nWe have seen issues that the Neutron Server was not\nable to respond in time during the creation of Ports\nin bulk. In order to avoid this type of failures and\nimprove time taken for Pods to be created, this commit\nincludes a lock that will only allow one population to\nhappen at time for a specific pool, instead of controling\nall the pools population with the frequency setting.\n\nChange-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7\n'}]",20,820359,e2bfcaca2b3c4feda32d1d9cd835db788d648555,36,5,13,27032,,,0,"Add lock to pools poulation

We have seen issues that the Neutron Server was not
able to respond in time during the creation of Ports
in bulk. In order to avoid this type of failures and
improve time taken for Pods to be created, this commit
includes a lock that will only allow one population to
happen at time for a specific pool, instead of controling
all the pools population with the frequency setting.

Change-Id: I76f5d08e744b7bbc64093ab1a54084a1f97d4aa7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/59/820359/13 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,404856a7d3e57f942320290a02651308ed7d57d2,restrict-bulk-port-creation," raise_not_ready=False): LOG.warning(""Kuryr-controller not yet ready to populate pools."") return # Allow only one population per pool to happen at a time with lockutils.lock(pool_key): pool_size = self._get_pool_size(pool_key) ports_pool_min = oslo_cfg.CONF.vif_pool.ports_pool_min if pool_size < ports_pool_min: num_ports = max(oslo_cfg.CONF.vif_pool.ports_pool_batch, ports_pool_min - pool_size) vifs = self._drv_vif.request_vifs( pod=pod, project_id=pool_key[1], subnets=subnets, security_groups=security_groups, num_ports=num_ports) for vif in vifs: self._existing_vifs[vif.id] = vif self._available_ports_pools.setdefault( pool_key, {}).setdefault( security_groups, []).append(vif.id) if vifs: now = time.time() self._last_update[pool_key] = {security_groups: now}"," raise_not_ready=True): LOG.debug(""Kuryr-controller not yet ready to populate pools."") if raise_not_ready: raise exceptions.ResourceNotReady(pod) else: return now = time.time() last_update = 0 pool_updates = self._last_update.get(pool_key) if pool_updates: last_update = pool_updates.get(security_groups, 0) try: if (now - oslo_cfg.CONF.vif_pool.ports_pool_update_frequency < last_update): LOG.debug(""Not enough time since the last pool update"") return except AttributeError: LOG.debug(""Kuryr-controller not yet ready to populate pools."") return self._last_update[pool_key] = {security_groups: now} pool_size = self._get_pool_size(pool_key) if pool_size < oslo_cfg.CONF.vif_pool.ports_pool_min: num_ports = max(oslo_cfg.CONF.vif_pool.ports_pool_batch, oslo_cfg.CONF.vif_pool.ports_pool_min - pool_size) vifs = self._drv_vif.request_vifs( pod=pod, project_id=pool_key[1], subnets=subnets, security_groups=security_groups, num_ports=num_ports) for vif in vifs: self._existing_vifs[vif.id] = vif self._available_ports_pools.setdefault( pool_key, {}).setdefault( security_groups, []).append(vif.id) if not vifs: self._last_update[pool_key] = {security_groups: last_update}",24,37
openstack%2Fkolla~master~I4af8cb8cacb0c3a7e8642dba7bc979c11de7bc9e,openstack/kolla,master,I4af8cb8cacb0c3a7e8642dba7bc979c11de7bc9e,Added doc about ssh agent forwarding,ABANDONED,2019-04-24 08:00:12.000000000,2021-12-16 11:14:45.000000000,,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 18551}, {'_account_id': 19316}, {'_account_id': 20676}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-24 08:00:12.000000000', 'files': ['doc/source/admin/template-override/ssh-agent.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6be63e3636fbadb4c537dbb647c9df7445fe9b4b', 'message': 'Added doc about ssh agent forwarding\n\nDocument describes how to install packages in the container from\nprotected git repository using ssh protocol.\n\nChange-Id: I4af8cb8cacb0c3a7e8642dba7bc979c11de7bc9e\nCo-Authored-By: Szymon Datko <szymon.datko@corp.ovh.com>\n'}]",2,655350,6be63e3636fbadb4c537dbb647c9df7445fe9b4b,7,13,1,20676,,,0,"Added doc about ssh agent forwarding

Document describes how to install packages in the container from
protected git repository using ssh protocol.

Change-Id: I4af8cb8cacb0c3a7e8642dba7bc979c11de7bc9e
Co-Authored-By: Szymon Datko <szymon.datko@corp.ovh.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/655350/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/template-override/ssh-agent.rst'],1,6be63e3636fbadb4c537dbb647c9df7445fe9b4b,,"============================================================= Building images with SSH agent forwaring and without BuildKit ============================================================= Sometimes it may be required to install in the containers additional packages that are stored in non-public repositories with restricted access. In such case, utilizing a SSH agent is a reliable option for accessing the protected repository without revealing passwords/secrets. Recently an useful feature for achieving SSH agent forwarding in the Docker build procedure was introduced into Docker engine as an enhancement [1][2]. However, currently the `docker-py` library, used by Kolla, does not support the Docker BuildKit toolkit [3], which is crucial for this process. Therefore, currently there is no easy way to utilize agent forwarding during Docker images building. Until a necessary fix will be introduced in `docker-py`, a proposed approach is to expose Unix file socket used by SSH agent and forward communication there via TCP connection [4]. Run ssh-agent and add key ------------------------- Spawn ssh-agent process and add there your SSH key as usual: .. code-block:: console eval $(ssh-agent) ssh-add ~/.ssh/your-ssh-key Spawn socat ----------- Spawn forwarder, that will expose Unix file socket on a given TCP port: .. code-block:: console socat TCP-LISTEN:56789,reuseaddr,fork UNIX-CLIENT:${SSH_AUTH_SOCK} & Note it may be good to add `range=127.0.0.1/32` as an option to the first command line argument, so the exposure will be limited to certain host or network range. Override Kolla template ----------------------- Now all one needs to do is to prefix `git clone` operation with additional shell call that will redirect connections from local SSH agent socket to the real, exposed one. If the project you want to install is a dependency for some other with already existing template, you can utilize the templates override mechanism. For example like this: .. code-block:: {% extends parent_template %} {% block glance_base_header %} RUN apt update; apt install --assume-yes socat openssh-client ENV SSH_AUTH_SOCK /tmp/ssh_auth_sock RUN /bin/sh -c ""socat -v UNIX-LISTEN:${SSH_AUTH_SOCK},unlink-early,mode=777,fork TCP:127.0.0.1:56789 &> /dev/null &"" \ && git clone ssh://github.com/my-account/my-project -b master /tmp/my_project {% endblock %} {% block glance_base_footer %} RUN pip install --no-deps --ignore-installed /tmp/my_project {% endblock %} Note that in order to make it work, an argument `--net=host` to `kolla-build` command may be necessary (depending on where your ssh-agent is started). Example kolla-build command for the override as given above .. code-block:: kolla-build my-project --config-file kolla-build.conf --template-override my-project-override.j2 --net=host References ---------- [1]: https://medium.com/@tonistiigi/build-secrets-and-ssh-forwarding-in-docker-18-09-ae8161d066 [2]: https://docs.docker.com/develop/develop-images/build_enhancements/#using-ssh-to-access-private-data-in-builds [3]: https://github.com/docker/docker-py/issues/2230 [4]: https://stackoverflow.com/questions/43418188/ssh-agent-forwarding-during-docker-build ",,93,0
openstack%2Fkolla~master~I7a7e06124e05df5da26f356d3d60b9b53c16547d,openstack/kolla,master,I7a7e06124e05df5da26f356d3d60b9b53c16547d,"Revert ""[neutron] Do not migrate all subprojects""",ABANDONED,2019-07-11 09:16:55.000000000,2021-12-16 10:57:56.000000000,,"[{'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 27781}, {'_account_id': 29100}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-11 09:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3be979f299b4449cad5cffd92d0ee822139eb6f4', 'message': 'Revert ""[neutron] Do not migrate all subprojects""\n\nThis reverts commit f36d7aacf28bc75a4b0ece73b45aa09591cd262c.\n\nWe don\'t have the logic in ansible nor in the extend_start.sh to do migrations of every subproject, is a potential issue to user already using those subprojects and upgrading, as well as it breaks new deployments.\n\nSubprojects which haven\'t been migrated bgpvpn, l2gw, odl, neutron-dynamic-routing, fwaas, vpnaas and neutron-nsx\n\nChange-Id: I7a7e06124e05df5da26f356d3d60b9b53c16547d\n'}, {'number': 2, 'created': '2019-07-11 09:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3669b47bd56ebac4dabf9723e6f487c79fb93ba', 'message': 'Revert ""[neutron] Do not migrate all subprojects""\n\nThis reverts commit f36d7aacf28bc75a4b0ece73b45aa09591cd262c.\n\nWe don\'t have the logic in ansible nor in the extend_start.sh to do\nmigrations of every subproject, is a potential issue to user already\nusing those subprojects and upgrading, as well as it breaks new deployments.\n\nSubprojects which haven\'t been migrated bgpvpn, l2gw, odl,\nneutron-dynamic-routing, fwaas, vpnaas and neutron-nsx\n\nChange-Id: I7a7e06124e05df5da26f356d3d60b9b53c16547d\n'}, {'number': 3, 'created': '2019-07-12 08:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/04d3d4dfd8645de4ac8b363c3961e2bf008c0c99', 'message': 'Revert ""[neutron] Do not migrate all subprojects""\n\nThis reverts commit f36d7aacf28bc75a4b0ece73b45aa09591cd262c.\n\nWe don\'t have the logic in ansible nor in the extend_start.sh to do\nmigrations of every subproject, is a potential issue to user already\nusing those subprojects and upgrading, as well as it breaks new deployments.\n\nSubprojects which haven\'t been migrated bgpvpn, l2gw, odl,\nneutron-dynamic-routing, fwaas, vpnaas and neutron-nsx\n\nChange-Id: I7a7e06124e05df5da26f356d3d60b9b53c16547d\n'}, {'number': 4, 'created': '2019-07-12 08:40:52.000000000', 'files': ['docker/neutron/neutron-server/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4c1f80d7f3bb303a814d63aa97ea080d5f46bb9', 'message': 'Revert ""[neutron] Do not migrate all subprojects""\n\nThis reverts commit f36d7aacf28bc75a4b0ece73b45aa09591cd262c.\n\nWe don\'t have the logic in ansible nor in the extend_start.sh to do\nmigrations of every subproject, is a potential issue to user already\nusing those subprojects and upgrading, as well as it breaks new deployments.\n\nSubprojects which haven\'t been migrated bgpvpn, l2gw, odl,\nneutron-dynamic-routing, fwaas, vpnaas and neutron-nsx\n\nCloses-Bug: #1835735\nChange-Id: I7a7e06124e05df5da26f356d3d60b9b53c16547d\n'}]",11,670255,b4c1f80d7f3bb303a814d63aa97ea080d5f46bb9,25,10,4,19316,,,0,"Revert ""[neutron] Do not migrate all subprojects""

This reverts commit f36d7aacf28bc75a4b0ece73b45aa09591cd262c.

We don't have the logic in ansible nor in the extend_start.sh to do
migrations of every subproject, is a potential issue to user already
using those subprojects and upgrading, as well as it breaks new deployments.

Subprojects which haven't been migrated bgpvpn, l2gw, odl,
neutron-dynamic-routing, fwaas, vpnaas and neutron-nsx

Closes-Bug: #1835735
Change-Id: I7a7e06124e05df5da26f356d3d60b9b53c16547d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/670255/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-server/extend_start.sh'],1,3be979f299b4449cad5cffd92d0ee822139eb6f4,neutron-migrate-fix, neutron-db-manage ${OPTS} upgrade head, neutron-db-manage ${OPTS} --subproject neutron upgrade head,1,1
openstack%2Fskyline-console~master~Ifea9927b024ae613d2db4f402aa4ad020d767c6e,openstack/skyline-console,master,Ifea9927b024ae613d2db4f402aa4ad020d767c6e,fix: Fix the value of the name column in the network list which use the simple table,MERGED,2021-12-16 06:00:03.000000000,2021-12-16 10:55:38.000000000,2021-12-16 10:55:38.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-12-16 06:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/cd266270472c3a12a77ba40418da8e4c44cfde4a', 'message': 'fix: Fix the value of the name column in the network list which use the simple table\n\nShow id and name to match column headings\n\nChange-Id: Ifea9927b024ae613d2db4f402aa4ad020d767c6e\n'}, {'number': 2, 'created': '2021-12-16 07:37:36.000000000', 'files': ['src/components/Tables/SimpleTable/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0aaca80308082b9f736e2c466a65efc28f0ab7b8', 'message': 'fix: Fix the value of the name column in the network list which use the simple table\n\nShow id and name to match column headings\n\nChange-Id: Ifea9927b024ae613d2db4f402aa4ad020d767c6e\n'}]",0,821932,0aaca80308082b9f736e2c466a65efc28f0ab7b8,8,2,2,33689,,,0,"fix: Fix the value of the name column in the network list which use the simple table

Show id and name to match column headings

Change-Id: Ifea9927b024ae613d2db4f402aa4ad020d767c6e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/32/821932/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/Tables/SimpleTable/index.jsx'],1,cd266270472c3a12a77ba40418da8e4c44cfde4a,open-118402," getNameRenderByRouter, routeName, isLink, if ((dataIndex === 'name' && routeName) || isLink) { const { rowKey } = this.props; newRender = getNameRenderByRouter(newRender, column, rowKey); }",,7,0
openstack%2Fcharm-rabbitmq-server~master~I98f432a771b5f6c966328d30629410a0a180dbee,openstack/charm-rabbitmq-server,master,I98f432a771b5f6c966328d30629410a0a180dbee,Use unittest.mock instead of mock,MERGED,2020-06-08 22:01:43.000000000,2021-12-16 10:42:22.000000000,2021-12-16 10:42:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c4688b1a172b1a0f72d7def2efd2f556104a6b01', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I98f432a771b5f6c966328d30629410a0a180dbee\n'}, {'number': 2, 'created': '2020-06-09 12:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c83a7e072ad8551a2170f5bd63e8d4db95beb0a5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I98f432a771b5f6c966328d30629410a0a180dbee\n""}, {'number': 3, 'created': '2021-12-15 11:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/2cbbb482f480921b23c986d84ea2d31ff2382a9d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I98f432a771b5f6c966328d30629410a0a180dbee\n""}, {'number': 4, 'created': '2021-12-15 11:54:52.000000000', 'files': ['unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_rabbitmq_context.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_ssl_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ff45f3ae4bc7c703b2d7b5cb3ef79e33c206629a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I98f432a771b5f6c966328d30629410a0a180dbee\n""}]",0,734315,ff45f3ae4bc7c703b2d7b5cb3ef79e33c206629a,16,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I98f432a771b5f6c966328d30629410a0a180dbee
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/15/734315/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbitmq_server_relations.py', 'unit_tests/test_rabbit_utils.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_rabbitmq_context.py', 'unit_tests/test_actions.py', 'unit_tests/test_ssl_utils.py']",7,c4688b1a172b1a0f72d7def2efd2f556104a6b01,drop_mock,from unittest.mock import patch,from mock import patch,6,7
openstack%2Fcharm-designate~master~I7b12f467e329e2693e4c7349f328133a1ec3cb00,openstack/charm-designate,master,I7b12f467e329e2693e4c7349f328133a1ec3cb00,Use unittest.mock instead of mock,MERGED,2020-06-08 20:39:33.000000000,2021-12-16 10:42:20.000000000,2021-12-16 10:42:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/d943291b318ea46b94d9e96a0d3413289ca1b681', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I7b12f467e329e2693e4c7349f328133a1ec3cb00\n'}, {'number': 2, 'created': '2020-06-09 14:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/8766eb7701ccca941af01d3d67cc0de214e573bd', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I7b12f467e329e2693e4c7349f328133a1ec3cb00\n""}, {'number': 3, 'created': '2021-12-15 10:28:43.000000000', 'files': ['unit_tests/test_designate_handlers.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_lib_charm_openstack_designate.py', 'unit_tests/__init__.py', 'unit_tests/test_designate_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/f6121b5691db3080510b9a3339e604c00e16ab8a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I7b12f467e329e2693e4c7349f328133a1ec3cb00\n""}]",0,734249,f6121b5691db3080510b9a3339e604c00e16ab8a,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I7b12f467e329e2693e4c7349f328133a1ec3cb00
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/49/734249/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_designate_handlers.py', 'test-requirements.txt', 'unit_tests/test_lib_charm_openstack_designate.py', 'unit_tests/__init__.py', 'unit_tests/test_designate_utils.py']",5,d943291b318ea46b94d9e96a0d3413289ca1b681,drop_mock,from unitest import mock,import mock,4,5
openstack%2Fcharm-ceph-radosgw~master~If352ea32d18cd3d1d8bc5577a32c0397e1cb7e93,openstack/charm-ceph-radosgw,master,If352ea32d18cd3d1d8bc5577a32c0397e1cb7e93,Use unittest.mock instead of mock,MERGED,2020-06-08 20:34:53.000000000,2021-12-16 10:30:59.000000000,2021-12-16 10:30:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/daabebb98450ef54ea21a9f7be2d3061d102525e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: If352ea32d18cd3d1d8bc5577a32c0397e1cb7e93\n'}, {'number': 2, 'created': '2020-06-09 13:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4c75eaf153bac8330477726e381620d7b36324c3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If352ea32d18cd3d1d8bc5577a32c0397e1cb7e93\n""}, {'number': 3, 'created': '2021-12-15 11:04:59.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', 'unit_tests/test_ceph_radosgw_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_multisite.py', 'unit_tests/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c817ef666be1d64c85c3c14b61e4909eaffb53e6', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If352ea32d18cd3d1d8bc5577a32c0397e1cb7e93\n""}]",0,734241,c817ef666be1d64c85c3c14b61e4909eaffb53e6,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: If352ea32d18cd3d1d8bc5577a32c0397e1cb7e93
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/41/734241/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', 'unit_tests/test_ceph_radosgw_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_multisite.py', 'unit_tests/test_ceph.py']",8,daabebb98450ef54ea21a9f7be2d3061d102525e,drop_mock,"from unittest.mock import patch, call","from mock import patch, call",8,9
openstack%2Fcharm-nova-compute~master~Ibefa1987730d29c04beb41f6e129e47f5524d49a,openstack/charm-nova-compute,master,Ibefa1987730d29c04beb41f6e129e47f5524d49a,Use unittest.mock instead of mock,MERGED,2020-06-08 21:04:26.000000000,2021-12-16 10:30:56.000000000,2021-12-16 10:30:56.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8b2ab7f12289407c7a053e5fe4d4f8d1f0ed8dac', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ibefa1987730d29c04beb41f6e129e47f5524d49a\n'}, {'number': 2, 'created': '2020-06-09 12:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6920c4764a05bc886018c368b9dcf774578f579d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ibefa1987730d29c04beb41f6e129e47f5524d49a\n""}, {'number': 3, 'created': '2021-12-15 14:25:31.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_actions_virsh_audit.py', 'unit_tests/test_actions_hugepagereport.py', 'unit_tests/test_actions_pause_resume.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ba8a4f71f770aa842f59ab372d1551ad507e992f', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ibefa1987730d29c04beb41f6e129e47f5524d49a\n""}]",0,734301,ba8a4f71f770aa842f59ab372d1551ad507e992f,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ibefa1987730d29c04beb41f6e129e47f5524d49a
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/01/734301/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/__init__.py', 'unit_tests/test_actions_hugepagereport.py', 'unit_tests/test_actions_pause_resume.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_compute_contexts.py']",9,8b2ab7f12289407c7a053e5fe4d4f8d1f0ed8dac,drop_mock,from unittest.mock import patch,from mock import patch,9,10
openstack%2Fcharm-aodh~master~I0417bae3d6311c9dcee53ef974ed49270adb4fc1,openstack/charm-aodh,master,I0417bae3d6311c9dcee53ef974ed49270adb4fc1,Use unittest.mock instead of mock,MERGED,2020-06-08 20:27:13.000000000,2021-12-16 10:30:54.000000000,2021-12-16 10:30:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/ddb038b4b48cff48d7a15a89a2c37c2e87a441ab', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I0417bae3d6311c9dcee53ef974ed49270adb4fc1\n'}, {'number': 2, 'created': '2020-06-08 22:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/55a50253d79640687b2e2b927459648f1580fcd1', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I0417bae3d6311c9dcee53ef974ed49270adb4fc1\n'}, {'number': 3, 'created': '2020-06-09 09:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/08b3a6cea51c40d9ee317eeb5fa693b03b79dfe4', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that we can't drop mock from test-requirements because it is used\nby another dependency which doesn't declare `mock` in its requirements, so we\nneed to migrate this other project first to drop our requirement here.\nThis is some sort of cross-dependency.\n\nChange-Id: I0417bae3d6311c9dcee53ef974ed49270adb4fc1\n""}, {'number': 4, 'created': '2020-06-09 10:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/b665780a876a022408f37a83737934799f21d86d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0417bae3d6311c9dcee53ef974ed49270adb4fc1\n""}, {'number': 5, 'created': '2021-12-15 14:38:03.000000000', 'files': ['.zuul.yaml', 'unit_tests/test_aodh_handlers.py', 'unit_tests/test_lib_charm_openstack_aodh.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/ed427636986ee4ca81b5e5f522a33581aeb51546', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0417bae3d6311c9dcee53ef974ed49270adb4fc1\n""}]",0,734229,ed427636986ee4ca81b5e5f522a33581aeb51546,21,3,5,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I0417bae3d6311c9dcee53ef974ed49270adb4fc1
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/29/734229/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_aodh_handlers.py', 'unit_tests/test_lib_charm_openstack_aodh.py']",3,ddb038b4b48cff48d7a15a89a2c37c2e87a441ab,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-ceilometer~master~I27ccd34f2337533b217d8c6f817a6d5a14e47abb,openstack/charm-ceilometer,master,I27ccd34f2337533b217d8c6f817a6d5a14e47abb,Use unittest.mock instead of mock,MERGED,2020-06-08 20:29:36.000000000,2021-12-16 10:30:52.000000000,2021-12-16 10:30:52.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/ec1a1c34183f0ba61e60728f5cce29a4cb27f94e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I27ccd34f2337533b217d8c6f817a6d5a14e47abb\n'}, {'number': 2, 'created': '2020-06-09 13:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b60169f7847359b548b302882f10335f3c8abaeb', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I27ccd34f2337533b217d8c6f817a6d5a14e47abb\n""}, {'number': 3, 'created': '2021-12-15 11:07:57.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_ceilometer_hooks.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_ceilometer_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/dc22f20319a2ac0c6b623d26fcba85ea7c92511a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I27ccd34f2337533b217d8c6f817a6d5a14e47abb\n""}]",0,734233,dc22f20319a2ac0c6b623d26fcba85ea7c92511a,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I27ccd34f2337533b217d8c6f817a6d5a14e47abb
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/33/734233/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceilometer_contexts.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_ceilometer_hooks.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_ceilometer_utils.py']",7,ec1a1c34183f0ba61e60728f5cce29a4cb27f94e,drop_mock,"from unittest.mock import patch, call, MagicMock","from mock import patch, call, MagicMock",7,8
openstack%2Fcharm-ceph-fs~master~If34c7c237f705b7b78261ccd0fc4a1655663300a,openstack/charm-ceph-fs,master,If34c7c237f705b7b78261ccd0fc4a1655663300a,Use unittest.mock instead of mock,MERGED,2020-06-08 20:31:03.000000000,2021-12-16 10:30:50.000000000,2021-12-16 10:30:50.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/9ee1aedf603a76523e15f0a9f0cb913fa5c0f7fa', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: If34c7c237f705b7b78261ccd0fc4a1655663300a\n'}, {'number': 2, 'created': '2020-06-09 13:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/95548fad843473aa4b74e0130099f76ebcab00bc', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If34c7c237f705b7b78261ccd0fc4a1655663300a\n""}, {'number': 3, 'created': '2021-12-15 11:00:03.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/0446879a1e06a27246ba778f64d345d17ea24df1', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If34c7c237f705b7b78261ccd0fc4a1655663300a\n""}]",0,734235,0446879a1e06a27246ba778f64d345d17ea24df1,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: If34c7c237f705b7b78261ccd0fc4a1655663300a
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/35/734235/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/__init__.py']",4,9ee1aedf603a76523e15f0a9f0cb913fa5c0f7fa,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fcharm-mysql-router~master~If49888ab570c44f69edc4420d2c5ab680a20d436,openstack/charm-mysql-router,master,If49888ab570c44f69edc4420d2c5ab680a20d436,Use unittest.mock instead of mock,MERGED,2020-06-08 21:01:56.000000000,2021-12-16 10:26:42.000000000,2021-12-16 10:26:42.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3a71496ef98d60bd57d56815ec017b3235653143', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: If49888ab570c44f69edc4420d2c5ab680a20d436\n'}, {'number': 2, 'created': '2020-06-09 12:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/a6cffbafa3815827b6f5f5d090af40f9c323be6f', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If49888ab570c44f69edc4420d2c5ab680a20d436\n""}, {'number': 3, 'created': '2021-12-15 11:57:23.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3797d1d2ec8db3e55d8acaaa74725ab4019ead45', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If49888ab570c44f69edc4420d2c5ab680a20d436\n""}]",0,734292,3797d1d2ec8db3e55d8acaaa74725ab4019ead45,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: If49888ab570c44f69edc4420d2c5ab680a20d436
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/92/734292/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",4,3a71496ef98d60bd57d56815ec017b3235653143,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fcharm-octavia-dashboard~master~I661477f9d0bdbebc90041a3eaff4ea92ef8c2b12,openstack/charm-octavia-dashboard,master,I661477f9d0bdbebc90041a3eaff4ea92ef8c2b12,Use unittest.mock instead of mock,MERGED,2020-06-08 21:58:41.000000000,2021-12-16 10:26:41.000000000,2021-12-16 10:26:41.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/54790f89b891f9c2c162b0ebbec7b7e5b7247853', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I661477f9d0bdbebc90041a3eaff4ea92ef8c2b12\n""}, {'number': 2, 'created': '2020-06-09 11:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/7d97039ca40fa106b928a3bc4055a46f4d48936d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I661477f9d0bdbebc90041a3eaff4ea92ef8c2b12\n""}, {'number': 3, 'created': '2021-12-15 14:31:18.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_octavia_dashboard_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/388f8c2f474bfa298f65ad352d52c48773215ddd', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I661477f9d0bdbebc90041a3eaff4ea92ef8c2b12\n""}]",0,734308,388f8c2f474bfa298f65ad352d52c48773215ddd,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I661477f9d0bdbebc90041a3eaff4ea92ef8c2b12
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/08/734308/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_octavia_dashboard_handlers.py']",2,54790f89b891f9c2c162b0ebbec7b7e5b7247853,drop_mock,from unitest import mock,import mock,1,2
openstack%2Fcharm-pacemaker-remote~master~I4f3952c5c751b805dfd1b931011483681491d1ef,openstack/charm-pacemaker-remote,master,I4f3952c5c751b805dfd1b931011483681491d1ef,Use unittest.mock instead of mock,MERGED,2020-06-08 21:59:35.000000000,2021-12-16 10:26:39.000000000,2021-12-16 10:26:39.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/9439cf588a63a761e67f7bade650d528a97bf7b0', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I4f3952c5c751b805dfd1b931011483681491d1ef\n""}, {'number': 2, 'created': '2020-06-09 11:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/618ab47f07cee97873dd86964176eaa618235808', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I4f3952c5c751b805dfd1b931011483681491d1ef\n""}, {'number': 3, 'created': '2020-06-09 11:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/0953f89fc290d9fba27d6c3328a3babcd79fd7ea', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I4f3952c5c751b805dfd1b931011483681491d1ef\n""}, {'number': 4, 'created': '2021-12-15 14:36:08.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_pacemaker_remote_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/ea906577620374b977e74d4112b0e2d1758c1351', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I4f3952c5c751b805dfd1b931011483681491d1ef\n""}]",0,734311,ea906577620374b977e74d4112b0e2d1758c1351,17,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I4f3952c5c751b805dfd1b931011483681491d1ef
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/11/734311/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_pacemaker_remote_handlers.py']",2,9439cf588a63a761e67f7bade650d528a97bf7b0,drop_mock,from unitest import mock,import mock,1,2
openstack%2Fcharm-placement~master~I3a717050803c897395e37e3093be6cb9dc73ef45,openstack/charm-placement,master,I3a717050803c897395e37e3093be6cb9dc73ef45,Use unittest.mock instead of mock,MERGED,2020-06-08 22:01:25.000000000,2021-12-16 10:26:37.000000000,2021-12-16 10:26:37.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/c48cb08f03be2dfcda969373a33a7c6f5f2d9e8f', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I3a717050803c897395e37e3093be6cb9dc73ef45\n""}, {'number': 2, 'created': '2020-06-09 12:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/da89b0558f77d23321fd63582fc0f02f2006823a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I3a717050803c897395e37e3093be6cb9dc73ef45\n""}, {'number': 3, 'created': '2021-12-15 14:27:22.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/31541c9b19fac254091283b6d2ef82c5ae543217', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I3a717050803c897395e37e3093be6cb9dc73ef45\n""}]",0,734314,31541c9b19fac254091283b6d2ef82c5ae543217,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I3a717050803c897395e37e3093be6cb9dc73ef45
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/14/734314/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'test-requirements.txt']",2,c48cb08f03be2dfcda969373a33a7c6f5f2d9e8f,drop_mock,,mock>=1.2,1,2
openstack%2Fcharm-barbican~master~I2f54eb8f1fae913603f8692986361b88a32cc221,openstack/charm-barbican,master,I2f54eb8f1fae913603f8692986361b88a32cc221,Use unittest.mock instead of mock,MERGED,2020-06-08 20:27:45.000000000,2021-12-16 10:26:35.000000000,2021-12-16 10:26:35.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/0a76e599740fe8b85ad6e5d3be794cf9ed6680de', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I2f54eb8f1fae913603f8692986361b88a32cc221\n'}, {'number': 2, 'created': '2020-06-09 10:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/826a7be2bae690ebcb6816ef8b8b234c3f2d88b3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2f54eb8f1fae913603f8692986361b88a32cc221\n""}, {'number': 3, 'created': '2020-06-09 10:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/c4019c1bd79a82888b7a46cdcaf6b536713e1bc5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2f54eb8f1fae913603f8692986361b88a32cc221\n""}, {'number': 4, 'created': '2021-12-15 14:40:24.000000000', 'files': ['unit_tests/test_lib_charm_openstack_barbican.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/8a162064db4ca8292bb6f7ded67741d7a9bd6dfc', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2f54eb8f1fae913603f8692986361b88a32cc221\n""}]",0,734230,8a162064db4ca8292bb6f7ded67741d7a9bd6dfc,16,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I2f54eb8f1fae913603f8692986361b88a32cc221
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/30/734230/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_barbican.py', 'test-requirements.txt', 'unit_tests/test_barbican_handlers.py']",3,0a76e599740fe8b85ad6e5d3be794cf9ed6680de,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-nova-cloud-controller~master~Id925078c5c04c2f89a570bdf7171c666839f9e40,openstack/charm-nova-cloud-controller,master,Id925078c5c04c2f89a570bdf7171c666839f9e40,Use unittest.mock instead of mock,MERGED,2020-06-08 21:04:07.000000000,2021-12-16 10:26:33.000000000,2021-12-16 10:26:33.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3d60e7839154e662aa513418a05d80826e01f968', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Id925078c5c04c2f89a570bdf7171c666839f9e40\n'}, {'number': 2, 'created': '2020-06-09 12:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c0ebc2f0f1ede98a7900659c3c8686d50fbf181a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Id925078c5c04c2f89a570bdf7171c666839f9e40\n""}, {'number': 3, 'created': '2021-12-15 14:17:02.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_nova_cc_utils.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/71bc3193262cdaca59f4a8dfda92d3de76aef47e', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Id925078c5c04c2f89a570bdf7171c666839f9e40\n""}]",0,734300,71bc3193262cdaca59f4a8dfda92d3de76aef47e,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Id925078c5c04c2f89a570bdf7171c666839f9e40
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/00/734300/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_nova_cc_utils.py', 'unit_tests/__init__.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_cc_contexts.py']",8,3d60e7839154e662aa513418a05d80826e01f968,drop_mock,from unitest import mock,import mock,7,8
openstack%2Fcharm-neutron-api~master~I25d6d26f2a4169ddc30d8eeac193d768aa345058,openstack/charm-neutron-api,master,I25d6d26f2a4169ddc30d8eeac193d768aa345058,Use unittest.mock instead of mock,MERGED,2020-06-08 21:02:15.000000000,2021-12-16 10:26:31.000000000,2021-12-16 10:26:31.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6164df19e239dbd8f06b4daa41339fae24600391', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I25d6d26f2a4169ddc30d8eeac193d768aa345058\n'}, {'number': 2, 'created': '2020-06-09 12:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/cd7b2a9749188f6fe3a1e7165719802b37265462', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I25d6d26f2a4169ddc30d8eeac193d768aa345058\n""}, {'number': 3, 'created': '2021-12-15 14:07:33.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_neutron_api_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_neutron_api_context.py', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/48cdd1a86cc7a472c309b75dbc083814e5135182', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I25d6d26f2a4169ddc30d8eeac193d768aa345058\n""}]",0,734294,48cdd1a86cc7a472c309b75dbc083814e5135182,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I25d6d26f2a4169ddc30d8eeac193d768aa345058
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/94/734294/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_neutron_api_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_neutron_api_context.py', 'unit_tests/test_neutron_api_utils.py']",8,6164df19e239dbd8f06b4daa41339fae24600391,drop_mock,"from unittest.mock import MagicMock, patch, call","from mock import MagicMock, patch, call",7,8
openstack%2Fcharm-neutron-dynamic-routing~master~I2bb3b81355a3bd9f6f055d1c66b038f4f0abfd0e,openstack/charm-neutron-dynamic-routing,master,I2bb3b81355a3bd9f6f055d1c66b038f4f0abfd0e,Use unittest.mock instead of mock,MERGED,2020-06-08 21:02:49.000000000,2021-12-16 10:26:29.000000000,2021-12-16 10:26:29.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/3bd036940e1b5a6d876d09ad58e201b5fc0dded0', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I2bb3b81355a3bd9f6f055d1c66b038f4f0abfd0e\n'}, {'number': 2, 'created': '2020-06-09 12:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/242f4e7741fca3a4708870bd0bb99f5160a7c969', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2bb3b81355a3bd9f6f055d1c66b038f4f0abfd0e\n""}, {'number': 3, 'created': '2021-12-15 14:21:21.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_dragent_handlers.py', 'unit_tests/test_lib_charm_openstack_dragent.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/033a7945202e9b352321ae7441bbf94a6169e09a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2bb3b81355a3bd9f6f055d1c66b038f4f0abfd0e\n""}]",0,734296,033a7945202e9b352321ae7441bbf94a6169e09a,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I2bb3b81355a3bd9f6f055d1c66b038f4f0abfd0e
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/96/734296/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_dragent_handlers.py', 'unit_tests/test_lib_charm_openstack_dragent.py']",3,3bd036940e1b5a6d876d09ad58e201b5fc0dded0,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-mysql-innodb-cluster~master~I0536220d62930173f34971575a49596fcc07a2b9,openstack/charm-mysql-innodb-cluster,master,I0536220d62930173f34971575a49596fcc07a2b9,Use unittest.mock instead of mock,MERGED,2020-06-08 21:01:39.000000000,2021-12-16 10:26:27.000000000,2021-12-16 10:26:27.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/401368d8cf014ed5f4846219c0476fae36f4d7c6', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I0536220d62930173f34971575a49596fcc07a2b9\n'}, {'number': 2, 'created': '2020-06-09 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/bd66c2609ac3d0a693b9b57a5764e25cbf372ee3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0536220d62930173f34971575a49596fcc07a2b9\n""}, {'number': 3, 'created': '2021-12-15 11:59:12.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c21427f3dc16c034d69ff4c3d9016e2586480b0b', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0536220d62930173f34971575a49596fcc07a2b9\n""}]",0,734290,c21427f3dc16c034d69ff4c3d9016e2586480b0b,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I0536220d62930173f34971575a49596fcc07a2b9
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/90/734290/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'unit_tests/__init__.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py']",4,401368d8cf014ed5f4846219c0476fae36f4d7c6,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fcharm-openstack-dashboard~master~I718a003c5f07e390457bc39e69871c7ecb533e7b,openstack/charm-openstack-dashboard,master,I718a003c5f07e390457bc39e69871c7ecb533e7b,Use unittest.mock instead of mock,MERGED,2020-06-08 21:59:17.000000000,2021-12-16 10:26:26.000000000,2021-12-16 10:26:26.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5c2eb52d22b077378b250e9ad894a72bba67b747', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I718a003c5f07e390457bc39e69871c7ecb533e7b\n'}, {'number': 2, 'created': '2020-06-09 11:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/c3d6ef7858845d751b5c0104455378773ade0634', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I718a003c5f07e390457bc39e69871c7ecb533e7b\n""}, {'number': 3, 'created': '2021-12-15 14:33:55.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_horizon_contexts.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_horizon_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/9da66b4cc5c2631464f15de72932786f814bbfd8', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I718a003c5f07e390457bc39e69871c7ecb533e7b\n""}]",0,734310,9da66b4cc5c2631464f15de72932786f814bbfd8,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I718a003c5f07e390457bc39e69871c7ecb533e7b
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/10/734310/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_horizon_contexts.py', 'unit_tests/test_actions.py', 'unit_tests/test_horizon_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_horizon_hooks.py']",7,5c2eb52d22b077378b250e9ad894a72bba67b747,drop_mock,"from unittest.mock import MagicMock, patch, call","from mock import MagicMock, patch, call",7,8
openstack%2Fcharm-nova-cell-controller~master~I821bf39f976be059f6e7e03b337d6f323787dcb0,openstack/charm-nova-cell-controller,master,I821bf39f976be059f6e7e03b337d6f323787dcb0,Use unittest.mock instead of mock,MERGED,2020-06-08 21:03:46.000000000,2021-12-16 10:26:24.000000000,2021-12-16 10:26:24.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/9ff69f31367af6ee2a56f0af5d2eea34966b0e24', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I821bf39f976be059f6e7e03b337d6f323787dcb0\n""}, {'number': 2, 'created': '2020-06-09 12:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/74c8b39e620adf0fa34927a6ae194ba6153e3ef7', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I821bf39f976be059f6e7e03b337d6f323787dcb0\n""}, {'number': 3, 'created': '2021-12-15 14:18:57.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_nova_cell_controller_handlers.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/ff9280d24d09502414af3e7d8d2fd4c250133075', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I821bf39f976be059f6e7e03b337d6f323787dcb0\n""}]",0,734299,ff9280d24d09502414af3e7d8d2fd4c250133075,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I821bf39f976be059f6e7e03b337d6f323787dcb0
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/99/734299/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_nova_cell_controller_handlers.py']",2,9ff69f31367af6ee2a56f0af5d2eea34966b0e24,drop_mock,from unitest import mock,import mock,1,2
openstack%2Fcharm-octavia-diskimage-retrofit~master~I8e66bb9ebf79d1da31bf5c8a090b7cd47686b8fe,openstack/charm-octavia-diskimage-retrofit,master,I8e66bb9ebf79d1da31bf5c8a090b7cd47686b8fe,Use unittest.mock instead of mock,MERGED,2020-06-08 21:58:58.000000000,2021-12-16 10:26:22.000000000,2021-12-16 10:26:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/c3666677be92ee2dbb82884f0a98b24b57e5b5ed', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I8e66bb9ebf79d1da31bf5c8a090b7cd47686b8fe\n'}, {'number': 2, 'created': '2020-06-09 12:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/863d2b017f02800d9b560920055a613a6ded6e54', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I8e66bb9ebf79d1da31bf5c8a090b7cd47686b8fe\n""}, {'number': 3, 'created': '2021-12-15 14:29:24.000000000', 'files': ['unit_tests/test_lib_charm_openstack_glance_retrofitter.py', 'unit_tests/test_lib_charm_openstack_octavia_diskimage_retrofit.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_reactive_octavia_diskimage_retrofit_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/67798c304eab37066148b0d8792cb520c0004637', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I8e66bb9ebf79d1da31bf5c8a090b7cd47686b8fe\n""}]",0,734309,67798c304eab37066148b0d8792cb520c0004637,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I8e66bb9ebf79d1da31bf5c8a090b7cd47686b8fe
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/09/734309/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_glance_retrofitter.py', 'unit_tests/test_lib_charm_openstack_octavia_diskimage_retrofit.py', 'test-requirements.txt', 'unit_tests/__init__.py', 'unit_tests/test_reactive_octavia_diskimage_retrofit_handlers.py']",5,c3666677be92ee2dbb82884f0a98b24b57e5b5ed,drop_mock,from unitest import mock,import mock,4,5
openstack%2Fcharm-neutron-openvswitch~master~I8eedfa05c07067bb9a0d3a331d1868210534d84c,openstack/charm-neutron-openvswitch,master,I8eedfa05c07067bb9a0d3a331d1868210534d84c,Use unittest.mock instead of mock,MERGED,2020-06-08 21:03:30.000000000,2021-12-16 10:26:20.000000000,2021-12-16 10:26:20.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/fe317a3c69e9f773557a2f85533b273028a976d9', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I8eedfa05c07067bb9a0d3a331d1868210534d84c\n'}, {'number': 2, 'created': '2020-06-09 12:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/bddc6bc0e4d3a0ba7b432c18165ca6ffb3614b66', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I8eedfa05c07067bb9a0d3a331d1868210534d84c\n""}, {'number': 3, 'created': '2021-12-15 14:11:51.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'test-requirements.txt', 'unit_tests/test_pci.py', 'unit_tests/test_utils.py', 'unit_tests/test_pci_helper.py', 'unit_tests/test_os_actions.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9951beeff2f5df55ce84f1aca4e2038eff990b39', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I8eedfa05c07067bb9a0d3a331d1868210534d84c\n""}]",0,734298,9951beeff2f5df55ce84f1aca4e2038eff990b39,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I8eedfa05c07067bb9a0d3a331d1868210534d84c
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/98/734298/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'test-requirements.txt', 'unit_tests/test_pci.py', 'unit_tests/test_utils.py', 'unit_tests/test_pause_resume.py', 'unit_tests/test_pci_helper.py']",8,fe317a3c69e9f773557a2f85533b273028a976d9,drop_mock,"from unittest.mock import patch, MagicMock","from mock import patch, MagicMock",8,9
openstack%2Fcharm-vault~master~I1d7de2bd4d704ffc331fdeacea725e903890f296,openstack/charm-vault,master,I1d7de2bd4d704ffc331fdeacea725e903890f296,Use unittest.mock instead of mock,MERGED,2020-06-08 22:03:02.000000000,2021-12-16 10:26:17.000000000,2021-12-16 10:26:17.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/890cdb82b2671cd4e4abb9f7a1318d80d103339b', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296\n'}, {'number': 2, 'created': '2020-06-09 12:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2b27425a56b7ef4e9d147ca3cb4eab8211874199', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296\n""}, {'number': 3, 'created': '2021-12-15 11:39:20.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_lib_charm_vault.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1de27bc18f8879c4782476a8daacbdf0a1cb7077', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296\n""}]",0,734319,1de27bc18f8879c4782476a8daacbdf0a1cb7077,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I1d7de2bd4d704ffc331fdeacea725e903890f296
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/19/734319/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_lib_charm_vault.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_vault_pki.py']",6,890cdb82b2671cd4e4abb9f7a1318d80d103339b,drop_mock,from unittest import mock,import mock,5,6
openstack%2Fcharm-cinder-purestorage~master~I23a6844f5b81944834e03556d5519ebcae67849a,openstack/charm-cinder-purestorage,master,I23a6844f5b81944834e03556d5519ebcae67849a,Use unittest.mock instead of mock,MERGED,2020-06-08 20:39:03.000000000,2021-12-16 10:26:15.000000000,2021-12-16 10:26:15.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/efefd655971006e1619ea5340d3281ea66bd695e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I23a6844f5b81944834e03556d5519ebcae67849a\n'}, {'number': 2, 'created': '2020-06-09 13:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/deeac9be1701a4f428c416eb3918aa7899a6ca0d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I23a6844f5b81944834e03556d5519ebcae67849a\n""}, {'number': 3, 'created': '2021-12-15 10:48:55.000000000', 'files': ['test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/58cce9ede90480de78775ff435c1ba1c05e7e2b3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I23a6844f5b81944834e03556d5519ebcae67849a\n""}]",0,734248,58cce9ede90480de78775ff435c1ba1c05e7e2b3,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I23a6844f5b81944834e03556d5519ebcae67849a
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/48/734248/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,efefd655971006e1619ea5340d3281ea66bd695e,drop_mock,,mock>=1.2,0,1
openstack%2Fcharm-swift-proxy~master~I8757d430ab233f4a21d1d599f1a7a9a0dc68d7ef,openstack/charm-swift-proxy,master,I8757d430ab233f4a21d1d599f1a7a9a0dc68d7ef,Use unittest.mock instead of mock,MERGED,2020-06-08 22:02:01.000000000,2021-12-16 10:26:13.000000000,2021-12-16 10:26:13.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/795b35baef014c252a90872cc41b4153a669a963', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I8757d430ab233f4a21d1d599f1a7a9a0dc68d7ef\n'}, {'number': 2, 'created': '2020-06-09 12:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2860dcdb7a8e242ec05e8f4e6fd72d0fc75ef721', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I8757d430ab233f4a21d1d599f1a7a9a0dc68d7ef\n""}, {'number': 3, 'created': '2021-12-15 11:46:48.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_templates.py', 'unit_tests/test_swift_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', '.zuul.yaml', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_swift_context.py', 'swift_manager/test_manager.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/50417cdb32449fb070d781dc980d344c5280af31', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I8757d430ab233f4a21d1d599f1a7a9a0dc68d7ef\n""}]",0,734316,50417cdb32449fb070d781dc980d344c5280af31,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I8757d430ab233f4a21d1d599f1a7a9a0dc68d7ef
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/16/734316/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_swift_hooks.py', 'unit_tests/test_templates.py', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'swift_manager/test_manager.py', 'unit_tests/test_swift_context.py']",8,795b35baef014c252a90872cc41b4153a669a963,drop_mock,from unittest import mock,import mock,8,9
openstack%2Fcharm-barbican-vault~master~I2570caf6f292b2dd152f7c229be6651978f80bff,openstack/charm-barbican-vault,master,I2570caf6f292b2dd152f7c229be6651978f80bff,Use unittest.mock instead of mock,MERGED,2020-06-08 20:28:33.000000000,2021-12-16 10:26:11.000000000,2021-12-16 10:26:11.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/6533b78c7bba5a3ba2a96bae77f5b07a82cfd36f', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I2570caf6f292b2dd152f7c229be6651978f80bff\n'}, {'number': 2, 'created': '2020-06-09 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/be8fb2ed715b83001e4606c97e66befc6c1fd923', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2570caf6f292b2dd152f7c229be6651978f80bff\n""}, {'number': 3, 'created': '2021-12-15 11:10:20.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_barbican_vault_handlers.py', 'unit_tests/test_lib_charm_openstack_barbican_vault.py', 'unit_tests/test_vault_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/b74404f536a703305842a3ab91de05a6b9365144', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I2570caf6f292b2dd152f7c229be6651978f80bff\n""}]",0,734232,b74404f536a703305842a3ab91de05a6b9365144,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I2570caf6f292b2dd152f7c229be6651978f80bff
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/32/734232/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_barbican_vault_handlers.py', 'unit_tests/test_lib_charm_openstack_barbican_vault.py', 'unit_tests/test_vault_utils.py']",4,6533b78c7bba5a3ba2a96bae77f5b07a82cfd36f,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fcharm-percona-cluster~master~Ie96a81d19be4f14efc7067ddb9c47827f5255ccf,openstack/charm-percona-cluster,master,Ie96a81d19be4f14efc7067ddb9c47827f5255ccf,Use unittest.mock instead of mock,MERGED,2020-06-08 22:00:08.000000000,2021-12-16 10:26:09.000000000,2021-12-16 10:26:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/04a03cc648d8b78314fb7d03d5b0eec652373f81', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie96a81d19be4f14efc7067ddb9c47827f5255ccf\n'}, {'number': 2, 'created': '2020-06-09 13:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/56b81ed959481cd6890b8be7e023bd012cf4d1a0', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ie96a81d19be4f14efc7067ddb9c47827f5255ccf\n""}, {'number': 3, 'created': '2021-12-15 11:13:51.000000000', 'files': ['unit_tests/test_percona_utils.py', 'unit_tests/test_percona_hooks.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/6ff8acbd6a1f2249c41d84fcf3308e0dbf4d59eb', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ie96a81d19be4f14efc7067ddb9c47827f5255ccf\n""}]",0,734313,6ff8acbd6a1f2249c41d84fcf3308e0dbf4d59eb,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ie96a81d19be4f14efc7067ddb9c47827f5255ccf
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/13/734313/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_utils.py', 'unit_tests/test_percona_hooks.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/__init__.py']",6,04a03cc648d8b78314fb7d03d5b0eec652373f81,drop_mock,from unitest import mock,import mock,6,7
openstack%2Fcharm-cinder~master~I538b5c2a9df4de66c9874e65247496e54c0522e8,openstack/charm-cinder,master,I538b5c2a9df4de66c9874e65247496e54c0522e8,Use unittest.mock instead of mock,MERGED,2020-06-08 20:36:21.000000000,2021-12-16 10:26:07.000000000,2021-12-16 10:26:07.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/756fbe668ff5506e5a08a6d0aa112359a10a0276', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I538b5c2a9df4de66c9874e65247496e54c0522e8\n'}, {'number': 2, 'created': '2020-06-09 13:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/6f8b20a88a82d16f7dd7117f85978a02e0aef388', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I538b5c2a9df4de66c9874e65247496e54c0522e8\n""}, {'number': 3, 'created': '2021-12-15 10:56:50.000000000', 'files': ['unit_tests/test_cinder_hooks.py', 'unit_tests/test_cinder_utils.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions_cinder_manage.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/__init__.py', 'unit_tests/test_cinder_contexts.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_cluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/77fdcf3e2743528633bf5fd8802715aa46b8e736', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I538b5c2a9df4de66c9874e65247496e54c0522e8\n""}]",0,734243,77fdcf3e2743528633bf5fd8802715aa46b8e736,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I538b5c2a9df4de66c9874e65247496e54c0522e8
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/43/734243/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_hooks.py', 'unit_tests/test_cinder_utils.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions_cinder_manage.py', 'unit_tests/test_actions.py', 'unit_tests/__init__.py', 'unit_tests/test_cinder_contexts.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_cluster_hooks.py']",10,756fbe668ff5506e5a08a6d0aa112359a10a0276,drop_mock,"from unittest.mock import patch, call, MagicMock","from mock import patch, call, MagicMock",9,10
openstack%2Fcharm-ceph-rbd-mirror~master~I6cf34358b919d4ab568a329395207676bd2e531d,openstack/charm-ceph-rbd-mirror,master,I6cf34358b919d4ab568a329395207676bd2e531d,Use unittest.mock instead of mock,MERGED,2020-06-08 20:35:24.000000000,2021-12-16 10:26:05.000000000,2021-12-16 10:26:05.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c3cc9c7da11834e4fcd2b97739ccd7fd1811bb1a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I6cf34358b919d4ab568a329395207676bd2e531d\n'}, {'number': 2, 'created': '2020-06-09 13:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/21b867da2be80063c2a8f7ebcf0276bffc1dc81f', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I6cf34358b919d4ab568a329395207676bd2e531d\n""}, {'number': 3, 'created': '2021-12-15 11:02:07.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_ceph_rbd_mirror_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/a0781dafff68e752c35f71eb6bf754ff037aa18b', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I6cf34358b919d4ab568a329395207676bd2e531d\n""}]",0,734242,a0781dafff68e752c35f71eb6bf754ff037aa18b,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I6cf34358b919d4ab568a329395207676bd2e531d
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/42/734242/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'unit_tests/test_actions.py', 'unit_tests/test_ceph_rbd_mirror_handlers.py']",4,c3cc9c7da11834e4fcd2b97739ccd7fd1811bb1a,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fcharm-gnocchi~master~I991fa5afc63c09fcb3f0982c08c815d5561b7f07,openstack/charm-gnocchi,master,I991fa5afc63c09fcb3f0982c08c815d5561b7f07,Use unittest.mock instead of mock,MERGED,2020-06-08 20:43:07.000000000,2021-12-16 10:26:03.000000000,2021-12-16 10:26:03.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/58a9a21769da97085b4654d2d53bb991e57ce413', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I991fa5afc63c09fcb3f0982c08c815d5561b7f07\n""}, {'number': 2, 'created': '2020-06-09 14:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/b5c35ac1d2c24a6af41f533971ddcbe4aad107d9', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I991fa5afc63c09fcb3f0982c08c815d5561b7f07\n""}, {'number': 3, 'created': '2021-12-15 10:15:55.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', 'test-requirements.txt', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/7d3ea76ca882cb0894b03681f126b45ab3750e9a', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I991fa5afc63c09fcb3f0982c08c815d5561b7f07\n""}]",0,734253,7d3ea76ca882cb0894b03681f126b45ab3750e9a,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I991fa5afc63c09fcb3f0982c08c815d5561b7f07
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/53/734253/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_gnocchi_handlers.py', 'test-requirements.txt']",2,58a9a21769da97085b4654d2d53bb991e57ce413,drop_mock,,mock>=1.2,1,2
openstack%2Fcharm-masakari~master~I55ccb5548917c8431b0080c956bec5543d31a9a3,openstack/charm-masakari,master,I55ccb5548917c8431b0080c956bec5543d31a9a3,Use unittest.mock instead of mock,MERGED,2020-06-08 21:01:04.000000000,2021-12-16 10:26:01.000000000,2021-12-16 10:26:01.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/ff1b830412fbd6e2b1ab3f3ae68a04c62a6b2d73', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I55ccb5548917c8431b0080c956bec5543d31a9a3\n'}, {'number': 2, 'created': '2020-06-09 13:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/1da7973a903cbdc595f6b7d5dbdd5d0577ed3aa1', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I55ccb5548917c8431b0080c956bec5543d31a9a3\n""}, {'number': 3, 'created': '2021-12-15 11:20:22.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_masakari_handlers.py', '.zuul.yaml', 'unit_tests/test_lib_charm_openstack_masakari.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/d9a643d8e342e99f960135355af79ecd948bf387', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I55ccb5548917c8431b0080c956bec5543d31a9a3\n""}]",0,734288,d9a643d8e342e99f960135355af79ecd948bf387,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I55ccb5548917c8431b0080c956bec5543d31a9a3
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/88/734288/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_masakari_handlers.py', 'unit_tests/test_lib_charm_openstack_masakari.py']",3,ff1b830412fbd6e2b1ab3f3ae68a04c62a6b2d73,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-hacluster~master~I631d32e1a330bcd17b53ee873833e8434023958f,openstack/charm-hacluster,master,I631d32e1a330bcd17b53ee873833e8434023958f,Use unittest.mock instead of mock,MERGED,2020-06-08 20:43:25.000000000,2021-12-16 10:26:00.000000000,2021-12-16 10:26:00.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/734d26f283e9f40e362a376868d5c2754ebea663', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I631d32e1a330bcd17b53ee873833e8434023958f\n'}, {'number': 2, 'created': '2020-06-09 14:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/f279dbb552274f9531c8b8946faeff8a48019c8d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I631d32e1a330bcd17b53ee873833e8434023958f\n""}, {'number': 3, 'created': '2021-12-15 10:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/59cb42e7ce0ff1e1aed5735d8ee5c9ae79492288', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I631d32e1a330bcd17b53ee873833e8434023958f\n""}, {'number': 4, 'created': '2021-12-15 10:32:47.000000000', 'files': ['unit_tests/test_pcmk.py', 'test-requirements.txt', 'unit_tests/test_utils.py', '.zuul.yaml', 'unit_tests/test_action.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e195794f39255d845bff091aa7c78b67598043b5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I631d32e1a330bcd17b53ee873833e8434023958f\n""}]",0,734254,e195794f39255d845bff091aa7c78b67598043b5,16,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I631d32e1a330bcd17b53ee873833e8434023958f
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/54/734254/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_pcmk.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hacluster_utils.py', 'unit_tests/test_hacluster_hooks.py']",5,734d26f283e9f40e362a376868d5c2754ebea663,drop_mock,from unitest import mock,import mock,4,5
openstack%2Fcharm-glance~master~I3286f03d977e6f602f0f50dac0646534d1d6f305,openstack/charm-glance,master,I3286f03d977e6f602f0f50dac0646534d1d6f305,Use unittest.mock instead of mock,MERGED,2020-06-08 20:40:59.000000000,2021-12-16 10:25:57.000000000,2021-12-16 10:25:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ec793d76d733eeaab5963a93c5e6c700dfbd1391', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I3286f03d977e6f602f0f50dac0646534d1d6f305\n'}, {'number': 2, 'created': '2020-06-09 14:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/df6248db77b5fd0b96b4a4f4ca8227d3627ae972', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I3286f03d977e6f602f0f50dac0646534d1d6f305\n""}, {'number': 3, 'created': '2021-12-15 10:24:47.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_glance_contexts.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/4c7ebb7cf92dd1397dff57920717d5e10ef48237', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I3286f03d977e6f602f0f50dac0646534d1d6f305\n""}]",0,734251,4c7ebb7cf92dd1397dff57920717d5e10ef48237,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I3286f03d977e6f602f0f50dac0646534d1d6f305
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/51/734251/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_glance_contexts.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_glance_relations.py', 'unit_tests/test_glance_utils.py']",7,ec793d76d733eeaab5963a93c5e6c700dfbd1391,drop_mock,"from unittest.mock import patch, call, MagicMock, mock_open","from mock import patch, call, MagicMock, mock_open",6,7
openstack%2Fcharm-ceph-proxy~master~I33cd69aca44f48af2766c92ede46ff12367160c5,openstack/charm-ceph-proxy,master,I33cd69aca44f48af2766c92ede46ff12367160c5,Use unittest.mock instead of mock,MERGED,2020-06-08 20:33:56.000000000,2021-12-16 10:25:56.000000000,2021-12-16 10:25:56.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f77a9e877ae1c2a0612f01ef9962df71a5cf4e0d', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I33cd69aca44f48af2766c92ede46ff12367160c5\n'}, {'number': 2, 'created': '2020-06-09 13:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/4a0b20e46a0d733f88691ecf9d8b17ee5d80e5d2', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I33cd69aca44f48af2766c92ede46ff12367160c5\n""}, {'number': 3, 'created': '2021-12-15 10:04:09.000000000', 'files': ['unit_tests/test_ceph_hooks.py', 'test-requirements.txt', 'unit_tests/test_utils.py', '.zuul.yaml', 'unit_tests/test_ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/7cd8f7c31a33cb80c50b598fa7c45996f08d5afa', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I33cd69aca44f48af2766c92ede46ff12367160c5\n""}]",0,734239,7cd8f7c31a33cb80c50b598fa7c45996f08d5afa,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I33cd69aca44f48af2766c92ede46ff12367160c5
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/39/734239/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_broker.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_ceph.py']",5,f77a9e877ae1c2a0612f01ef9962df71a5cf4e0d,drop_mock,from unitest import mock,import mock,4,5
openstack%2Fcharm-manila-ganesha~master~I7413322f3a3fdb16208abf52253c0447a9fe3e89,openstack/charm-manila-ganesha,master,I7413322f3a3fdb16208abf52253c0447a9fe3e89,Use unittest.mock instead of mock,MERGED,2020-06-08 21:00:28.000000000,2021-12-16 10:25:54.000000000,2021-12-16 10:25:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/c1ee5b4ffc3f1b0db754ba3bd022e2fed2f88410', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I7413322f3a3fdb16208abf52253c0447a9fe3e89\n""}, {'number': 2, 'created': '2020-06-09 16:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/d8a022264b1243ba58f8267eb359863d0b334c71', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I7413322f3a3fdb16208abf52253c0447a9fe3e89\n""}, {'number': 3, 'created': '2021-12-15 09:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/7c26edd27c30aea69907c5b1c6b39f2791e7ca27', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I7413322f3a3fdb16208abf52253c0447a9fe3e89\n""}, {'number': 4, 'created': '2021-12-15 09:54:08.000000000', 'files': ['unit_tests/test_lib_charm_openstack_manila_ganesha.py', 'test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/31a79c39054b0dd5f8c0319e3eb195b130353dab', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I7413322f3a3fdb16208abf52253c0447a9fe3e89\n""}]",0,734285,31a79c39054b0dd5f8c0319e3eb195b130353dab,16,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I7413322f3a3fdb16208abf52253c0447a9fe3e89
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/85/734285/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_manila_ganesha.py', 'test-requirements.txt']",2,c1ee5b4ffc3f1b0db754ba3bd022e2fed2f88410,drop_mock,,mock>=1.2,1,2
openstack%2Fcharm-ceph-osd~master~Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63,openstack/charm-ceph-osd,master,Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63,Use unittest.mock instead of mock,MERGED,2020-06-08 20:32:58.000000000,2021-12-16 10:25:52.000000000,2021-12-16 10:25:52.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4dd6b9bf0f965d963b00f61f6317614293ae458d', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63\n'}, {'number': 2, 'created': '2020-06-09 13:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/305209b6f3fa0084c8a065df9a967615e3a73955', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63\n""}, {'number': 3, 'created': '2021-12-15 09:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/70d6687149a297ff4d2fae33473c06fd10c95947', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63\n""}, {'number': 4, 'created': '2021-12-15 09:39:20.000000000', 'files': ['unit_tests/test_actions_zap_disk.py', 'unit_tests/test_actions_blacklist.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_actions_service.py', 'unit_tests/test_tuning.py', 'unit_tests/test_status.py', 'unit_tests/test_config.py', 'unit_tests/test_upgrade.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions_osd_out_in.py', 'unit_tests/test_actions_add_disk.py', 'unit_tests/test_ceph_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4cbac58ba1219c5865e50635dc99051f9aabf059', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63\n""}]",0,734238,4cbac58ba1219c5865e50635dc99051f9aabf059,17,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ib658c7f61fe4aceafc1919e366d24ce81ec1dd63
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/38/734238/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_actions_zap_disk.py', 'unit_tests/test_actions_blacklist.py', 'test-requirements.txt', 'unit_tests/test_tuning.py', 'unit_tests/test_status.py', 'unit_tests/test_config.py', 'unit_tests/test_upgrade.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions_osd_out_in.py', 'unit_tests/test_actions_add_disk.py', 'unit_tests/test_ceph_utils.py']",12,4dd6b9bf0f965d963b00f61f6317614293ae458d,drop_mock,from unittest.mock import patch,from mock import patch,12,13
openstack%2Fcharm-manila~master~I38b8a9d40577e97bf7c5e73630fc044c3356c902,openstack/charm-manila,master,I38b8a9d40577e97bf7c5e73630fc044c3356c902,Use unittest.mock instead of mock,MERGED,2020-06-08 21:00:11.000000000,2021-12-16 10:25:51.000000000,2021-12-16 10:25:51.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/2289db3821bf2364cf5d7006b46fffee355a9560', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I38b8a9d40577e97bf7c5e73630fc044c3356c902\n'}, {'number': 2, 'created': '2020-06-09 15:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/1b249ffaeb019cad5725c517ce03b2a05035bd2c', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I38b8a9d40577e97bf7c5e73630fc044c3356c902\n""}, {'number': 3, 'created': '2021-12-15 09:45:29.000000000', 'files': ['unit_tests/test_manila_handlers.py', 'test-requirements.txt', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/0c1b1f1a508060480e562bc2e3d9740637d876bf', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I38b8a9d40577e97bf7c5e73630fc044c3356c902\n""}]",0,734284,0c1b1f1a508060480e562bc2e3d9740637d876bf,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I38b8a9d40577e97bf7c5e73630fc044c3356c902
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/84/734284/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_manila_handlers.py', 'test-requirements.txt', 'unit_tests/test_lib_charm_openstack_manila.py']",3,2289db3821bf2364cf5d7006b46fffee355a9560,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-manila-generic~master~I609298d09de3806636b8a157f4ef81c1ab567bf7,openstack/charm-manila-generic,master,I609298d09de3806636b8a157f4ef81c1ab567bf7,Use unittest.mock instead of mock,MERGED,2020-06-08 21:00:46.000000000,2021-12-16 10:25:49.000000000,2021-12-16 10:25:49.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/13fb4e567c4938c752f6b9e6365e4ccf8be033b9', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I609298d09de3806636b8a157f4ef81c1ab567bf7\n'}, {'number': 2, 'created': '2020-06-09 16:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/8339ac9389e44216963eaae46cde9d4667a7a9d3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I609298d09de3806636b8a157f4ef81c1ab567bf7\n""}, {'number': 3, 'created': '2021-12-15 09:35:56.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_manila_generic.py', 'unit_tests/test_manila_generic_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/ab1d7e94a16674757f928efe9559d3c6724d50a8', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I609298d09de3806636b8a157f4ef81c1ab567bf7\n""}]",0,734286,ab1d7e94a16674757f928efe9559d3c6724d50a8,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I609298d09de3806636b8a157f4ef81c1ab567bf7
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/86/734286/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_manila_generic.py', 'unit_tests/test_manila_generic_handlers.py']",3,13fb4e567c4938c752f6b9e6365e4ccf8be033b9,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-masakari-monitors~master~I13057e3e6544c8024d39c611ec8bdbbec387da6a,openstack/charm-masakari-monitors,master,I13057e3e6544c8024d39c611ec8bdbbec387da6a,Use unittest.mock instead of mock,MERGED,2020-06-08 21:01:21.000000000,2021-12-16 10:22:09.000000000,2021-12-16 10:22:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/44028bc7e8433ca045e5c44862d8436f6d9e4042', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I13057e3e6544c8024d39c611ec8bdbbec387da6a\n'}, {'number': 2, 'created': '2020-06-09 12:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/af6ed04a7f4bfaf5b50e3fcd1a5823dbd8908812', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I13057e3e6544c8024d39c611ec8bdbbec387da6a\n""}, {'number': 3, 'created': '2021-12-15 11:49:34.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_lib_charm_openstack_masakari_monitors.py', 'unit_tests/test_masakari_monitors_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/3d69d31878dbc5a59bad767c7213af2ca3b02d93', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I13057e3e6544c8024d39c611ec8bdbbec387da6a\n""}]",0,734289,3d69d31878dbc5a59bad767c7213af2ca3b02d93,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I13057e3e6544c8024d39c611ec8bdbbec387da6a
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/89/734289/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_masakari_monitors.py', 'unit_tests/test_masakari_monitors_handlers.py']",3,44028bc7e8433ca045e5c44862d8436f6d9e4042,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-designate-bind~master~Ie62d7878f7b952f35ca854cc36ee55b62af5f8c1,openstack/charm-designate-bind,master,Ie62d7878f7b952f35ca854cc36ee55b62af5f8c1,Use unittest.mock instead of mock,MERGED,2020-06-08 20:40:01.000000000,2021-12-16 10:22:07.000000000,2021-12-16 10:22:07.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/c037659aa0316969480a9e0167be76a4da8684f0', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ie62d7878f7b952f35ca854cc36ee55b62af5f8c1\n'}, {'number': 2, 'created': '2020-06-09 14:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/65e3ac8b684390f9263b16da38d733bc24a6f9c5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ie62d7878f7b952f35ca854cc36ee55b62af5f8c1\n""}, {'number': 3, 'created': '2021-12-15 10:27:04.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_designate_bind_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_designate_bind.py'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/41d36e8b2eec2644070e42ff3bffa7a026816106', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ie62d7878f7b952f35ca854cc36ee55b62af5f8c1\n""}]",0,734250,41d36e8b2eec2644070e42ff3bffa7a026816106,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ie62d7878f7b952f35ca854cc36ee55b62af5f8c1
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/50/734250/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_designate_bind_handlers.py', 'unit_tests/__init__.py', 'unit_tests/test_lib_charm_openstack_designate_bind.py']",4,c037659aa0316969480a9e0167be76a4da8684f0,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fcharm-keystone~master~I029c77ed697620725dc040d1849a691eb10c9351,openstack/charm-keystone,master,I029c77ed697620725dc040d1849a691eb10c9351,Use unittest.mock instead of mock,MERGED,2020-06-08 20:59:20.000000000,2021-12-16 10:22:05.000000000,2021-12-16 10:22:05.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f52e3e331a6b27c5698015cb3a2824f7f3c2b57a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I029c77ed697620725dc040d1849a691eb10c9351\n'}, {'number': 2, 'created': '2020-06-09 15:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/375d1a43ff3ae2e698df04d0441c650eea5f64e3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I029c77ed697620725dc040d1849a691eb10c9351\n""}, {'number': 3, 'created': '2021-12-14 11:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2e1174f7358063d608107c78cc5ec873e5bb94e0', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I029c77ed697620725dc040d1849a691eb10c9351\n""}, {'number': 4, 'created': '2021-12-14 13:33:25.000000000', 'files': ['unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', '.zuul.yaml', 'unit_tests/test_scripts_fernet_rotate_and_sync.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_keystone_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9a5bf82fae8ed0e3929a06f0a5eb70f033d4aa48', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDrop Python 3.5 testing.\n\nRework some unit tests that use unittest.mock features not introduced\nuntil Python 3.7.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I029c77ed697620725dc040d1849a691eb10c9351\n""}]",3,734281,9a5bf82fae8ed0e3929a06f0a5eb70f033d4aa48,26,4,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Drop Python 3.5 testing.

Rework some unit tests that use unittest.mock features not introduced
until Python 3.7.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I029c77ed697620725dc040d1849a691eb10c9351
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/81/734281/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_hooks.py', 'test-requirements.txt', 'unit_tests/test_keystone_utils.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'unit_tests/test_scripts_fernet_rotate_and_sync.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_keystone_contexts.py']",8,f52e3e331a6b27c5698015cb3a2824f7f3c2b57a,drop_mock,"from unittest.mock import patch, MagicMock, ANY","from mock import patch, MagicMock, ANY",8,9
openstack%2Fcharm-glance-simplestreams-sync~master~I57ef29855eefd0f8dc40cc427eb9bfc8796032e3,openstack/charm-glance-simplestreams-sync,master,I57ef29855eefd0f8dc40cc427eb9bfc8796032e3,Use unittest.mock instead of mock,MERGED,2020-06-08 20:42:49.000000000,2021-12-16 10:21:47.000000000,2021-12-16 10:21:47.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/fd19b28915fac7b503dd2140d569df8d916b2096', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I57ef29855eefd0f8dc40cc427eb9bfc8796032e3\n'}, {'number': 2, 'created': '2020-06-09 14:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/200db5ed15de24f69ebad8657631e4779686bc65', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I57ef29855eefd0f8dc40cc427eb9bfc8796032e3\n""}, {'number': 3, 'created': '2021-12-15 10:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/1b5c9d87d7c93102c6340939a1c55be86f9e36ac', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I57ef29855eefd0f8dc40cc427eb9bfc8796032e3\n""}, {'number': 4, 'created': '2021-12-15 10:22:58.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', '.zuul.yaml', 'unit_tests/test_glance_simplestreams_sync.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/e80b2b6b2ba9b05f19500d8e6818b94ed4d828c2', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I57ef29855eefd0f8dc40cc427eb9bfc8796032e3\n""}]",0,734252,e80b2b6b2ba9b05f19500d8e6818b94ed4d828c2,15,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I57ef29855eefd0f8dc40cc427eb9bfc8796032e3
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/52/734252/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py']",3,fd19b28915fac7b503dd2140d569df8d916b2096,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-keystone-ldap~master~I107cabe4608950da02ef2b89e811791ad912cf7e,openstack/charm-keystone-ldap,master,I107cabe4608950da02ef2b89e811791ad912cf7e,Use unittest.mock instead of mock,MERGED,2020-06-08 20:59:37.000000000,2021-12-16 10:21:03.000000000,2021-12-16 10:21:03.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/b97f4979e155ec0fcdcdaab7b72d57ed12526de8', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I107cabe4608950da02ef2b89e811791ad912cf7e\n'}, {'number': 2, 'created': '2020-06-09 15:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/8c0c5a68f601c76765dc4e10095ff0464b5d63fa', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I107cabe4608950da02ef2b89e811791ad912cf7e\n""}, {'number': 3, 'created': '2021-12-15 09:48:08.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_keystone_ldap_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/f721b78c2223907639eee8d09bdbe4636cd653af', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I107cabe4608950da02ef2b89e811791ad912cf7e\n""}]",0,734282,f721b78c2223907639eee8d09bdbe4636cd653af,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I107cabe4608950da02ef2b89e811791ad912cf7e
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/82/734282/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_keystone_ldap_handlers.py', 'unit_tests/test_lib_charm_openstack_keystone_ldap.py']",3,b97f4979e155ec0fcdcdaab7b72d57ed12526de8,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-neutron-api-plugin-ovn~master~I62e4e03f73db6e4ddd10b8d221a2ae8fda0a4290,openstack/charm-neutron-api-plugin-ovn,master,I62e4e03f73db6e4ddd10b8d221a2ae8fda0a4290,Use unittest.mock instead of mock,MERGED,2020-06-08 21:02:32.000000000,2021-12-16 10:18:13.000000000,2021-12-16 10:18:13.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 21:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/175b8742b2a172ac406fa9957f335a97e5722cda', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I62e4e03f73db6e4ddd10b8d221a2ae8fda0a4290\n'}, {'number': 2, 'created': '2020-06-09 16:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/7597d1027ba2d1ff470ead7076b24caca65a47d0', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I62e4e03f73db6e4ddd10b8d221a2ae8fda0a4290\n""}, {'number': 3, 'created': '2021-12-15 09:33:00.000000000', 'files': ['test-requirements.txt', 'unit_tests/__init__.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/09e5ddc8d0c951d0e004faeba1e6e99e57f4f761', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I62e4e03f73db6e4ddd10b8d221a2ae8fda0a4290\n""}]",0,734295,09e5ddc8d0c951d0e004faeba1e6e99e57f4f761,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I62e4e03f73db6e4ddd10b8d221a2ae8fda0a4290
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/95/734295/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_lib_charm_openstack_ovn.py', 'unit_tests/__init__.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",4,175b8742b2a172ac406fa9957f335a97e5722cda,drop_mock,from unitest import mock,import mock,3,4
openstack%2Fneutron~master~I751b8baeda00ce890722d96199b19a91818b2ca0,openstack/neutron,master,I751b8baeda00ce890722d96199b19a91818b2ca0,Add upgrade check for floating IP QoS inheritance from network,MERGED,2021-11-18 15:05:31.000000000,2021-12-16 10:10:18.000000000,2021-12-16 10:08:15.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-11-18 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20bd9d2ae468679b9af84b9ac388ad480878caf6', 'message': 'Add upgrade check for floating IP QoS inheritance from network\n\nThis new upgrade check will inform to the user what external networks\nhave at least one floating IP address and a bound QoS policy. That\ncould affect to the L3 QoS applied on the floating IP.\n\nPartial-Bug: #1950454\nChange-Id: I751b8baeda00ce890722d96199b19a91818b2ca0\n'}, {'number': 2, 'created': '2021-11-19 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cec0b37ab31ea62f8850cb7f4e698361c8e75f9', 'message': 'Add upgrade check for floating IP QoS inheritance from network\n\nThis new upgrade check will inform to the user what external networks\nhave at least one floating IP address and a bound QoS policy. That\ncould affect to the L3 QoS applied on the floating IP.\n\nPartial-Bug: #1950454\nChange-Id: I751b8baeda00ce890722d96199b19a91818b2ca0\n'}, {'number': 3, 'created': '2021-11-19 09:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd0d9d977ee7b4414502e30eb66ba0ad8a3b81d9', 'message': 'Add upgrade check for floating IP QoS inheritance from network\n\nThis new upgrade check will inform to the user what external networks\nhave at least one floating IP address and a bound QoS policy. That\ncould affect to the L3 QoS applied on the floating IP.\n\nPartial-Bug: #1950454\nChange-Id: I751b8baeda00ce890722d96199b19a91818b2ca0\n'}, {'number': 4, 'created': '2021-11-19 12:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25f251dfb9527dd31e5306ea47a726d74ab9f11d', 'message': 'Add upgrade check for floating IP QoS inheritance from network\n\nThis new upgrade check will inform to the user what external networks\nhave at least one floating IP address and a bound QoS policy. That\ncould affect to the L3 QoS applied on the floating IP.\n\nPartial-Bug: #1950454\nChange-Id: I751b8baeda00ce890722d96199b19a91818b2ca0\n'}, {'number': 5, 'created': '2021-11-24 09:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1d1b30d5cdded5409ee707a0a4a4967fc48c9a9', 'message': 'Add upgrade check for floating IP QoS inheritance from network\n\nThis new upgrade check will inform to the user what external networks\nhave at least one floating IP address and a bound QoS policy. That\ncould affect to the L3 QoS applied on the floating IP.\n\nPartial-Bug: #1950454\nChange-Id: I751b8baeda00ce890722d96199b19a91818b2ca0\n'}, {'number': 6, 'created': '2021-11-24 12:44:48.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7178927fdea70c2200ec409b4c3a94a8819a029', 'message': 'Add upgrade check for floating IP QoS inheritance from network\n\nThis new upgrade check will inform to the user what external networks\nhave at least one floating IP address and a bound QoS policy. That\ncould affect to the L3 QoS applied on the floating IP.\n\nPartial-Bug: #1950454\nChange-Id: I751b8baeda00ce890722d96199b19a91818b2ca0\n'}]",41,818399,d7178927fdea70c2200ec409b4c3a94a8819a029,93,8,6,16688,,,0,"Add upgrade check for floating IP QoS inheritance from network

This new upgrade check will inform to the user what external networks
have at least one floating IP address and a bound QoS policy. That
could affect to the L3 QoS applied on the floating IP.

Partial-Bug: #1950454
Change-Id: I751b8baeda00ce890722d96199b19a91818b2ca0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/818399/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/upgrade_checks/checks.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py']",2,20bd9d2ae468679b9af84b9ac388ad480878caf6,bug/1950454," def test_floatingip_inherit_qos_from_network(self): cases = ([[], mock.ANY, Code.SUCCESS], [['net1'], 0, Code.SUCCESS], [['net1'], 1, Code.WARNING]) with mock.patch.object( checks, 'get_external_networks_with_qos_policies') \ as mock_nets, \ mock.patch.object( checks, 'get_floatingip_per_network_count') as mock_fips: for _nets, _fips, returned_code in cases: mock_nets.return_value = _nets mock_fips.return_value = _fips result = checks.CoreChecks. \ floatingip_inherit_qos_from_network(mock.ANY) self.assertEqual(returned_code, result.code)",,66,0
openstack%2Ftacker-specs~master~I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a,openstack/tacker-specs,master,I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a,Heal and scale method support of lcm_user_data,MERGED,2021-10-20 04:22:57.000000000,2021-12-16 10:02:46.000000000,2021-12-16 10:01:03.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-10-20 04:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c562539c47cda598818fa1be617db2a52fe24d49', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 2, 'created': '2021-10-20 04:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0f78f73567633ffc88955dee0b2e8e1c9c24fbca', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 3, 'created': '2021-10-20 07:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c6f27ad639384865d2f42a1836f51cf8cae2f441', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 4, 'created': '2021-10-20 10:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dda93f788cb2b3446e11cca472ee5de88281f263', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 5, 'created': '2021-10-20 10:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1f908b26c3102b1e8786d7d4e8f3056ee334644c', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 6, 'created': '2021-10-20 11:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dc46670be49f42b3138c25921de86c66e6439be3', 'message': '[WIP] Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 7, 'created': '2021-10-20 12:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/50b707be5f2db5af8a56c74b55ca28c808e1032e', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 8, 'created': '2021-10-20 17:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/257369b812acf9c8fc4cb911584ceb66aff3efa5', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 9, 'created': '2021-10-21 03:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1fee91701bf10a1bdc08b0ec4b6897042534e95e', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 10, 'created': '2021-10-21 05:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/43ca436e6a18026ec506a57d0866c153bdba6889', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 11, 'created': '2021-10-21 05:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c854cd327925aff51457f982c83239b25315904f', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\n'}, {'number': 12, 'created': '2021-12-14 09:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9d389eaa21f6b6b0cb3cfbdfddae006f8cb0b7bf', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: stack-parameter-customization\n'}, {'number': 13, 'created': '2021-12-14 09:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/01ca99a1485d1f086d493db61720f2082a06c1e4', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: stack-parameter-customization\n'}, {'number': 14, 'created': '2021-12-14 09:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d2f7bd01179d484c0de081aee9ebcd09a2f348ce', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: blueprint stack-parameter-customization\n'}, {'number': 15, 'created': '2021-12-14 09:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/19c085bc1e31320b9b6f8fd7fe0683a5c7580738', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: stack-parameter-customization\n'}, {'number': 16, 'created': '2021-12-14 09:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/07b05817c4f37260b459aec4ec589dd69069ff3e', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: stack-parameter-customization\n'}, {'number': 17, 'created': '2021-12-14 09:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a477d309393b736a542f1571ef075c77f71ac03d', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: blureprint stack-parameter-customization\n'}, {'number': 18, 'created': '2021-12-14 09:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a660a293f92f6d449e62b95bbd761fdd67afa8ae', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: stack-parameter-customization\n'}, {'number': 19, 'created': '2021-12-14 09:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7ce17116b60196179794546387d3cf11161aa72c', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: blueprints stack-parameter-customization\n'}, {'number': 20, 'created': '2021-12-14 09:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fb6994ee99b36e8b7dcc9c1595ef22ae351cd7a1', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: blueprint stack-parameter-customization\n'}, {'number': 21, 'created': '2021-12-15 17:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/34cfed9385fbcea5116673e15b56bc110730e3f6', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: blueprint stack-parameter-customization\n'}, {'number': 22, 'created': '2021-12-16 03:52:58.000000000', 'files': ['specs/yoga/support-heal-scale-in-user_lcm.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4eed572aa59f48bcb22fdb2164e01fa215a82eed', 'message': 'Heal and scale method support of lcm_user_data\n\nCustomization of stack parameter during heal and scale through\nlcm_user_data.\n\nChange-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a\nImplements: blueprint stack-parameter-customization\n'}]",43,814698,4eed572aa59f48bcb22fdb2164e01fa215a82eed,47,5,22,33558,,,0,"Heal and scale method support of lcm_user_data

Customization of stack parameter during heal and scale through
lcm_user_data.

Change-Id: I2b7b6f61a6a4a7a7de45f15dd66b905cf553c19a
Implements: blueprint stack-parameter-customization
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/98/814698/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/support-heal-scale-in-user_lcm.rst'],1,c562539c47cda598818fa1be617db2a52fe24d49,bp/stack-parameter-customization,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Heal and scale method support of lcm_user_data ============================================== Blueprints: https://blueprints.launchpad.net/tacker/+spec/stack-parameter-customization This specification supports stack parameter cusomization during heal and scale. Problem description =================== As regards the stack parameter to be passed at the time of updating the Heat, the user can create the stack parameter using lcm_user_data during Instantiation, but during Heal and Scale, the creation of the stack parameter is a fixed process and user cannot do the customization. For example, at the time of scale, the desired_capacity value is rewritten as a Tacker process by setting up a get_param naming convention (VDU name_desired_capacity) on the HOT (Heat Orchestration Template) without going through the lcm_user_data script. Since desired_capacity is also in the scope of rewriting HOT with parameters, it needs to be modified through the script of lcm_user_data. Proposed change =============== * At the time of stack parameter generation process before Heat Update in the Heal process, if the heal method exists in lcm_user_data, call it to get the stack parameters. * At the time of stack parameter generation process before Heat Update in the Scale process, if the scale method exists in lcm_user_data, call it to get the stack parameters. * Heal method input parameter * Scale method input parameter 1) Flow of the Stack update process ---------------------------------------------- * Heal vnf instance (POST /vnf_instances/(vnfinstanceId)/heal) .. seqdiag:: seqdiag { Client -> WSGIMiddleware [label = ""1. HEAL VNF""]; WSGIMiddleware -->> WSGIMiddleware [label = ""request validation""]; Client <-- WSGIMiddleware [label = ""202 Accepted""]; WSGIMiddleware -> TackerConductor [label = ""Trigger asynchronous task""]; TackerConductor --> VnfLcmDriver [label = ""heal_vnf(vnf_instance, heal_vnf_request)""]; VnfLcmDriver --> OpenstackDriver [label = ""heal_vnf(vnf_instance, vim_connection_info,heal_vnf_request)""]; OpenstackDriver --> Heat [label = ""2. Mark resource unhealthy""]; OpenstackDriver <-- Heat; OpenstackDriver --> Heat [label = ""3. update stack""]; OpenstackDriver <-- Heat [label = ""stack updated""]; VnfLcmDriver <-- OpenstackDriver; VnfLcmDriver --> OpenstackDriver [label = ""post_heal_vnf(vnf_instance, vim_connection_info,heal_vnf_request)""]; OpenstackDriver --> Heat [label = ""4. get updated resource data""]; OpenstackDriver <-- Heat [label = ""resources""]; VnfLcmDriver <-- OpenstackDriver; VnfLcmDriver -->> VnfLcmDriver [label = ""5. update DB""]; TackerConductor <-- VnfLcmDriver [label = ""request successfully completed""]; } The procedure consists of the following steps as illustrated in the above sequence: Precondition: The resource representing the VNF instance has been created and instantiated. * Scale vnf instance (GET /vnf_instances) .. seqdiag:: seqdiag { NFVO -> ""VNFM"" [label = ""Healing Request""]; VNFM <-- ""NFVO"" [label = ""Response 200 OK (VnfInstance)""]; } The procedure consists of the following steps as illustrated in the above sequence: Precondition: The resource representing the VNF instance has been created and instantiated. Work Items ----------- * Call heal method in lcm_user_data * Call scale method in lcm_user_data * Generation utility method of desired_capacity information * Testing Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Users can now create stack parameters through the lcm_user_data script. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Renu Rani <renu.rani@gmail.com> Work Items ---------- * Add new version API endpoints to Tacker-server. * Add new unit and functional tests. * Update the Tacker's API documentation. Dependencies ============ None Testing ======== Unit and functional test cases will be added for heal and scale operation with updated lcm_user_data script. Documentation Impact ==================== Complete user guide will be added to explain how to use lcm_user_data script for stack parameter update in heal and scale operation. References ========== .. [#etsi_nfv] https://www.etsi.org/technologies-clusters/technologies/NFV .. [#NFV-SOL002_261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL002_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL013_341] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.04.01_60/gs_nfv-sol013v030401p.pdf ",,192,0
openstack%2Fheat-agents~stable%2Fxena~Iae67e8ecee537011dc26043f19d16ebac6e25139,openstack/heat-agents,stable/xena,Iae67e8ecee537011dc26043f19d16ebac6e25139,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 01:58:50.000000000,2021-12-16 09:50:11.000000000,2021-12-16 09:46:26.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:58:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/472cbae9bd2dbe24d5f2032a1fd4ab286588dbd8', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iae67e8ecee537011dc26043f19d16ebac6e25139\n'}]",1,809034,472cbae9bd2dbe24d5f2032a1fd4ab286588dbd8,12,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iae67e8ecee537011dc26043f19d16ebac6e25139
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/34/809034/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,472cbae9bd2dbe24d5f2032a1fd4ab286588dbd8,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fheat-agents~stable%2Fwallaby~I29b4325e83cfe84557cee805b8fcc6203f3ad5fa,openstack/heat-agents,stable/wallaby,I29b4325e83cfe84557cee805b8fcc6203f3ad5fa,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-30 21:38:48.000000000,2021-12-16 09:49:07.000000000,2021-12-16 09:46:24.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 21:38:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/169babc5823cdd8bdb13e6cecc62bacb0fe45909', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I29b4325e83cfe84557cee805b8fcc6203f3ad5fa\n'}]",1,783973,169babc5823cdd8bdb13e6cecc62bacb0fe45909,12,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I29b4325e83cfe84557cee805b8fcc6203f3ad5fa
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/73/783973/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,169babc5823cdd8bdb13e6cecc62bacb0fe45909,create-wallaby,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fheat-agents~stable%2Fxena~Id5d8c3a4ea20605b771485c1cf990b7cada12a71,openstack/heat-agents,stable/xena,Id5d8c3a4ea20605b771485c1cf990b7cada12a71,Update .gitreview for stable/xena,MERGED,2021-09-15 01:58:46.000000000,2021-12-16 09:48:18.000000000,2021-12-16 09:39:46.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:58:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/0083ba41d0b43e289e116ecaa1b9a0daa8c9763e', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Id5d8c3a4ea20605b771485c1cf990b7cada12a71\n'}]",1,809033,0083ba41d0b43e289e116ecaa1b9a0daa8c9763e,12,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Id5d8c3a4ea20605b771485c1cf990b7cada12a71
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/33/809033/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0083ba41d0b43e289e116ecaa1b9a0daa8c9763e,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fcharm-interface-barbican-secrets~master~I17855080c832cd94783c279449f17c58ab5e3d9c,openstack/charm-interface-barbican-secrets,master,I17855080c832cd94783c279449f17c58ab5e3d9c,Use unittest.mock instead of mock,MERGED,2020-06-08 20:43:59.000000000,2021-12-16 09:40:44.000000000,2021-12-16 09:40:44.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-barbican-secrets/commit/6d91543a08791a481ef98d8a41b4767a42e98728', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I17855080c832cd94783c279449f17c58ab5e3d9c\n'}, {'number': 2, 'created': '2020-06-09 14:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-barbican-secrets/commit/94d23b1a72a88a08453de282a9ed937dea6b63c0', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I17855080c832cd94783c279449f17c58ab5e3d9c\n""}, {'number': 3, 'created': '2021-12-15 09:56:53.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-barbican-secrets/commit/4cae88ff57db96b9394bf6b70982a5ff4ee8bcef', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I17855080c832cd94783c279449f17c58ab5e3d9c\n""}]",0,734256,4cae88ff57db96b9394bf6b70982a5ff4ee8bcef,13,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I17855080c832cd94783c279449f17c58ab5e3d9c
",git fetch https://review.opendev.org/openstack/charm-interface-barbican-secrets refs/changes/56/734256/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt', 'unit_tests/test_requires.py']",3,6d91543a08791a481ef98d8a41b4767a42e98728,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-interface-mysql-innodb-cluster~master~I5212f10fed28ad11f123b0c4210be0f232b3a38a,openstack/charm-interface-mysql-innodb-cluster,master,I5212f10fed28ad11f123b0c4210be0f232b3a38a,Use unittest.mock instead of mock,MERGED,2020-06-08 20:47:18.000000000,2021-12-16 09:39:52.000000000,2021-12-16 09:39:52.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-innodb-cluster/commit/bb577cff141f440e600ded42ee1f2435e5ac084c', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I5212f10fed28ad11f123b0c4210be0f232b3a38a\n""}, {'number': 2, 'created': '2020-06-09 15:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-innodb-cluster/commit/7bed5252fb1beff4487b10209725ccdff6d586d5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I5212f10fed28ad11f123b0c4210be0f232b3a38a\n""}, {'number': 3, 'created': '2021-12-15 10:08:53.000000000', 'files': ['unit_tests/test_peers.py', 'test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-innodb-cluster/commit/034077071275af64d106117854703f02518639ef', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I5212f10fed28ad11f123b0c4210be0f232b3a38a\n""}]",1,734264,034077071275af64d106117854703f02518639ef,15,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I5212f10fed28ad11f123b0c4210be0f232b3a38a
",git fetch https://review.opendev.org/openstack/charm-interface-mysql-innodb-cluster refs/changes/64/734264/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_peers.py', 'test-requirements.txt']",2,bb577cff141f440e600ded42ee1f2435e5ac084c,drop_mock,,mock>=1.2,1,2
openstack%2Fcharm-interface-ceph-rbd-mirror~master~If1ef6178116ed8f1ce8f0244d72246292cdf52e9,openstack/charm-interface-ceph-rbd-mirror,master,If1ef6178116ed8f1ce8f0244d72246292cdf52e9,Use unittest.mock instead of mock,MERGED,2020-06-08 20:44:52.000000000,2021-12-16 09:39:50.000000000,2021-12-16 09:39:50.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-rbd-mirror/commit/a024c9858bd4f4011875355c6176a2c664ebc87d', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: If1ef6178116ed8f1ce8f0244d72246292cdf52e9\n""}, {'number': 2, 'created': '2020-06-09 14:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-rbd-mirror/commit/d27549029d464d761b294b8fed257e63e558e273', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If1ef6178116ed8f1ce8f0244d72246292cdf52e9\n""}, {'number': 3, 'created': '2021-12-15 10:07:39.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-rbd-mirror/commit/d746757302beb385384f9c647afe68ce764bb3b7', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: If1ef6178116ed8f1ce8f0244d72246292cdf52e9\n""}]",0,734259,d746757302beb385384f9c647afe68ce764bb3b7,13,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: If1ef6178116ed8f1ce8f0244d72246292cdf52e9
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-rbd-mirror refs/changes/59/734259/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_requires.py']",2,a024c9858bd4f4011875355c6176a2c664ebc87d,drop_mock,from unitest import mock,import mock,1,2
openstack%2Fcharm-interface-placement~master~I0e18ed6b0d56c3cb4ffca9faa8fed5c925842a7f,openstack/charm-interface-placement,master,I0e18ed6b0d56c3cb4ffca9faa8fed5c925842a7f,Use unittest.mock instead of mock,MERGED,2020-06-08 20:58:41.000000000,2021-12-16 09:39:48.000000000,2021-12-16 09:39:48.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/672a03e75f7a13e0bb28e9b30660e713850aa608', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I0e18ed6b0d56c3cb4ffca9faa8fed5c925842a7f\n""}, {'number': 2, 'created': '2020-06-09 12:47:27.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/e8a30d9fb4adce74e7b547942a615fd26a04185c', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0e18ed6b0d56c3cb4ffca9faa8fed5c925842a7f\n""}]",1,734279,e8a30d9fb4adce74e7b547942a615fd26a04185c,13,3,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I0e18ed6b0d56c3cb4ffca9faa8fed5c925842a7f
",git fetch https://review.opendev.org/openstack/charm-interface-placement refs/changes/79/734279/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt']",2,672a03e75f7a13e0bb28e9b30660e713850aa608,drop_mock,,mock>=1.2,1,2
openstack%2Fpython-heatclient~stable%2Fwallaby~I8b2bb080261ce5ee0aef67710c2fd67ab0a05108,openstack/python-heatclient,stable/wallaby,I8b2bb080261ce5ee0aef67710c2fd67ab0a05108,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 19:43:01.000000000,2021-12-16 09:37:05.000000000,2021-12-16 09:35:02.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 19:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/5a570a869de89f274e22abbe6093df38273563a5', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8b2bb080261ce5ee0aef67710c2fd67ab0a05108\n'}, {'number': 2, 'created': '2021-12-15 12:38:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/3c5a604949dcc5a94c1c814861e8b910832cc53f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8b2bb080261ce5ee0aef67710c2fd67ab0a05108\n'}]",2,781880,3c5a604949dcc5a94c1c814861e8b910832cc53f,19,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8b2bb080261ce5ee0aef67710c2fd67ab0a05108
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/80/781880/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5a570a869de89f274e22abbe6093df38273563a5,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fcharm-interface-mysql-router~master~I33ef862cde41a229864856486e4fed2dcaa52906,openstack/charm-interface-mysql-router,master,I33ef862cde41a229864856486e4fed2dcaa52906,Use unittest.mock instead of mock,MERGED,2020-06-08 20:47:35.000000000,2021-12-16 09:36:55.000000000,2021-12-16 09:36:55.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-router/commit/71229f2c3c3ddc9050a1afb77db98c364919b3fc', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I33ef862cde41a229864856486e4fed2dcaa52906\n'}, {'number': 2, 'created': '2020-06-09 15:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-router/commit/45d19c71227d3875b177f4dd58a10dc5c6c3285d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I33ef862cde41a229864856486e4fed2dcaa52906\n""}, {'number': 3, 'created': '2021-12-15 09:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-router/commit/e83c6abd2078106cc148fe0522cecbb30e3a8ee1', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I33ef862cde41a229864856486e4fed2dcaa52906\n""}, {'number': 4, 'created': '2021-12-15 10:05:29.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-router/commit/21586be61f07897dba96a8a409966016f0f2a706', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I33ef862cde41a229864856486e4fed2dcaa52906\n""}]",0,734265,21586be61f07897dba96a8a409966016f0f2a706,15,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I33ef862cde41a229864856486e4fed2dcaa52906
",git fetch https://review.opendev.org/openstack/charm-interface-mysql-router refs/changes/65/734265/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt', 'unit_tests/test_requires.py']",3,71229f2c3c3ddc9050a1afb77db98c364919b3fc,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-interface-mysql-shared~master~I69e03a14ab370bd6870e4325627e7be86fe2a53f,openstack/charm-interface-mysql-shared,master,I69e03a14ab370bd6870e4325627e7be86fe2a53f,Use unittest.mock instead of mock,MERGED,2020-06-08 20:47:51.000000000,2021-12-16 09:36:50.000000000,2021-12-16 09:36:50.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-shared/commit/362b7b8658b74327f0def35381824727067c3c1b', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I69e03a14ab370bd6870e4325627e7be86fe2a53f\n'}, {'number': 2, 'created': '2020-06-09 15:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-shared/commit/a0f4177a51859f1b1fc972bdeb25941cb692a797', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I69e03a14ab370bd6870e4325627e7be86fe2a53f\n""}, {'number': 3, 'created': '2021-12-15 09:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-shared/commit/a6d43f5b8bed9f30996f80fb9fb38b2124a3b16b', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I69e03a14ab370bd6870e4325627e7be86fe2a53f\n""}, {'number': 4, 'created': '2021-12-15 10:09:46.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt', '.zuul.yaml', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-shared/commit/f90f8c6edce21e4da3a872f0f9d6761730ce025d', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I69e03a14ab370bd6870e4325627e7be86fe2a53f\n""}]",0,734266,f90f8c6edce21e4da3a872f0f9d6761730ce025d,15,3,4,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I69e03a14ab370bd6870e4325627e7be86fe2a53f
",git fetch https://review.opendev.org/openstack/charm-interface-mysql-shared refs/changes/66/734266/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt', 'unit_tests/test_requires.py']",3,362b7b8658b74327f0def35381824727067c3c1b,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fcharm-interface-dashboard-plugin~master~Id1cb42a412de130a85ec48695ecdbbadc9df7a6c,openstack/charm-interface-dashboard-plugin,master,Id1cb42a412de130a85ec48695ecdbbadc9df7a6c,Use unittest.mock instead of mock,MERGED,2020-06-08 20:46:14.000000000,2021-12-16 09:36:29.000000000,2021-12-16 09:36:29.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-dashboard-plugin/commit/af07fd4c744dcd36a8fc245e4ca52bb3e6501635', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Id1cb42a412de130a85ec48695ecdbbadc9df7a6c\n""}, {'number': 2, 'created': '2020-06-09 15:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-dashboard-plugin/commit/443767865fd58285c01bbd4938f9bb8ef22109cb', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Id1cb42a412de130a85ec48695ecdbbadc9df7a6c\n""}, {'number': 3, 'created': '2021-12-15 09:56:41.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-dashboard-plugin/commit/5fe099ee3065400e16902eadf009682e21852e9b', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Id1cb42a412de130a85ec48695ecdbbadc9df7a6c\n""}]",0,734261,5fe099ee3065400e16902eadf009682e21852e9b,13,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Id1cb42a412de130a85ec48695ecdbbadc9df7a6c
",git fetch https://review.opendev.org/openstack/charm-interface-dashboard-plugin refs/changes/61/734261/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_requires.py']",2,af07fd4c744dcd36a8fc245e4ca52bb3e6501635,drop_mock,from unitest import mock,import mock,1,2
openstack%2Fcharm-interface-neutron-load-balancer~master~I5ed229b2c5abd08c464225ce17b571aecc642849,openstack/charm-interface-neutron-load-balancer,master,I5ed229b2c5abd08c464225ce17b571aecc642849,Use unittest.mock instead of mock,MERGED,2020-06-08 20:48:09.000000000,2021-12-16 09:36:22.000000000,2021-12-16 09:36:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-load-balancer/commit/d5747d6f9a06f1d3bee7be4576bc1a3b128082e8', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I5ed229b2c5abd08c464225ce17b571aecc642849\n'}, {'number': 2, 'created': '2020-06-09 15:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-load-balancer/commit/c3c807ecddab615913106a978949c33716af3d9e', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I5ed229b2c5abd08c464225ce17b571aecc642849\n""}, {'number': 3, 'created': '2021-12-15 09:55:40.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-load-balancer/commit/232bf9bad4536ea20f26831b6a31b55b778315d9', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I5ed229b2c5abd08c464225ce17b571aecc642849\n""}]",0,734267,232bf9bad4536ea20f26831b6a31b55b778315d9,13,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I5ed229b2c5abd08c464225ce17b571aecc642849
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-load-balancer refs/changes/67/734267/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d5747d6f9a06f1d3bee7be4576bc1a3b128082e8,drop_mock,,mock>=1.2,0,1
openstack%2Fcharm-interface-neutron-plugin-api-subordinate~master~I0550ad77a072d7edb083f24b260cbe034c8b9c75,openstack/charm-interface-neutron-plugin-api-subordinate,master,I0550ad77a072d7edb083f24b260cbe034c8b9c75,Use unittest.mock instead of mock,MERGED,2020-06-08 20:48:43.000000000,2021-12-16 09:36:09.000000000,2021-12-16 09:36:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin-api-subordinate/commit/a1ee18afcdd9d5d58e0d95ceaa431dee886b8e02', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I0550ad77a072d7edb083f24b260cbe034c8b9c75\n""}, {'number': 2, 'created': '2020-06-09 15:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin-api-subordinate/commit/f0bb42f68085e7f34caa66f85a2fab023589fe02', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0550ad77a072d7edb083f24b260cbe034c8b9c75\n""}, {'number': 3, 'created': '2021-12-15 09:52:38.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin-api-subordinate/commit/33bcde1011235a77501d2a66f44b2be9e3ae61ef', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I0550ad77a072d7edb083f24b260cbe034c8b9c75\n""}]",0,734269,33bcde1011235a77501d2a66f44b2be9e3ae61ef,14,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I0550ad77a072d7edb083f24b260cbe034c8b9c75
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-plugin-api-subordinate refs/changes/69/734269/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt']",2,a1ee18afcdd9d5d58e0d95ceaa431dee886b8e02,drop_mock,,mock,1,2
openstack%2Fcharm-interface-neutron-plugin~master~Id390874b58b796fe6b8b6c9f03d8aa61381e00d5,openstack/charm-interface-neutron-plugin,master,Id390874b58b796fe6b8b6c9f03d8aa61381e00d5,Use unittest.mock instead of mock,MERGED,2020-06-08 20:48:25.000000000,2021-12-16 09:35:11.000000000,2021-12-16 09:35:11.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin/commit/f755b0f565d3d7c8ace8a7eef783c5dd476619a7', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Id390874b58b796fe6b8b6c9f03d8aa61381e00d5\n'}, {'number': 2, 'created': '2020-06-09 15:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin/commit/03a6974a7efe4095e20fac4a0368f54982da47c3', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Id390874b58b796fe6b8b6c9f03d8aa61381e00d5\n""}, {'number': 3, 'created': '2021-12-15 09:50:23.000000000', 'files': ['unit_tests/test_provides.py', 'test-requirements.txt', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-neutron-plugin/commit/3fba729d3e2856a9cab4de71c1252388213b9844', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Id390874b58b796fe6b8b6c9f03d8aa61381e00d5\n""}]",0,734268,3fba729d3e2856a9cab4de71c1252388213b9844,13,3,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Id390874b58b796fe6b8b6c9f03d8aa61381e00d5
",git fetch https://review.opendev.org/openstack/charm-interface-neutron-plugin refs/changes/68/734268/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_provides.py', 'test-requirements.txt', 'unit_tests/test_requires.py']",3,f755b0f565d3d7c8ace8a7eef783c5dd476619a7,drop_mock,from unitest import mock,import mock,2,3
openstack%2Fpython-tripleoclient~master~Id9da01bc870194273bb8cc5776699b30250ac4fd,openstack/python-tripleoclient,master,Id9da01bc870194273bb8cc5776699b30250ac4fd,Check old passwords file path during uc validation,MERGED,2021-12-14 15:21:49.000000000,2021-12-16 09:32:20.000000000,2021-12-16 09:29:57.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-12-14 15:21:49.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3e7f484586106718ba7abe43d537d6544934319c', 'message': 'Check old passwords file path during uc validation\n\nThe old passwords file path should also be checked during the\n_validate_passwords_file undercloud preflight validation. Since the old\npath will be migrated when tripleo deploy is run[1], it should be\nconsidered as a valid path to allow the validation to pass.\n\n[1] https://opendev.org/openstack/python-tripleoclient/src/commit/ddfd6d99404ed4b5cb24d4b1e278283c603a23bd/tripleoclient/v1/tripleo_deploy.py#L290\n\nChange-Id: Id9da01bc870194273bb8cc5776699b30250ac4fd\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",2,821710,3e7f484586106718ba7abe43d537d6544934319c,12,5,1,7144,,,0,"Check old passwords file path during uc validation

The old passwords file path should also be checked during the
_validate_passwords_file undercloud preflight validation. Since the old
path will be migrated when tripleo deploy is run[1], it should be
considered as a valid path to allow the validation to pass.

[1] https://opendev.org/openstack/python-tripleoclient/src/commit/ddfd6d99404ed4b5cb24d4b1e278283c603a23bd/tripleoclient/v1/tripleo_deploy.py#L290

Change-Id: Id9da01bc870194273bb8cc5776699b30250ac4fd
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/821710/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,3e7f484586106718ba7abe43d537d6544934319c,," the user know about the problem. Both the old and new path to the file is checked. If either is found, the validation will pass as the old path will be migrated to the new during and update/upgrade. old_passwd_path = None file_name = 'tripleo-undercloud-passwords.yaml' old_passwd_path = os.path.join(output_dir, file_name) # If old_passwd_path is not yet set, then default to the old path if not old_passwd_path: old_passwd_path = os.path.join(constants.CLOUD_HOME_DIR, file_name) passwd_path = os.path.join(output_dir, file_name) not (os.path.isfile(passwd_path) or os.path.isfile(old_passwd_path))):"," the user know about the problem. passwd_path = os.path.join(output_dir, 'tripleo-undercloud-passwords.yaml') not os.path.isfile(passwd_path)):",15,4
openstack%2Fcharm-ceph-mon~master~I2930b32943fb75778cf3b56bb7f1d2a9f9c7c454,openstack/charm-ceph-mon,master,I2930b32943fb75778cf3b56bb7f1d2a9f9c7c454,Stop setting default capabilities in get_named_key.,MERGED,2021-12-10 14:03:46.000000000,2021-12-16 09:27:38.000000000,2021-12-16 09:27:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 14:03:46.000000000', 'files': ['lib/charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/04a9c98dfaa760ff6b469ef448275f7e9796c8e3', 'message': 'Stop setting default capabilities in get_named_key.\n\nWhen get_named_key is called on a keyring that\nhas customised capabilities, it overwrites the\ncapabilities to the default capabilities.\n\nDepends-On: I777650ae2194609a95e5cfb101e343824b3d0a34\nChange-Id: I2930b32943fb75778cf3b56bb7f1d2a9f9c7c454\n'}]",1,821406,04a9c98dfaa760ff6b469ef448275f7e9796c8e3,9,3,1,20634,,,0,"Stop setting default capabilities in get_named_key.

When get_named_key is called on a keyring that
has customised capabilities, it overwrites the
capabilities to the default capabilities.

Depends-On: I777650ae2194609a95e5cfb101e343824b3d0a34
Change-Id: I2930b32943fb75778cf3b56bb7f1d2a9f9c7c454
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/06/821406/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms_ceph/utils.py'],1,04a9c98dfaa760ff6b469ef448275f7e9796c8e3,bug/ceph-mon-resetting-keys,," # NOTE(jamespage); # Apply any changes to key capabilities, dealing with # upgrades which requires new caps for operation. upgrade_key_caps(key_name, caps or _default_caps, pool_list)",0,6
openstack%2Fheat-agents~stable%2Fwallaby~Ia9536d856c71e2dfa6a3b0c38902034349b6db46,openstack/heat-agents,stable/wallaby,Ia9536d856c71e2dfa6a3b0c38902034349b6db46,Fix lower-constraints,MERGED,2021-12-16 08:50:10.000000000,2021-12-16 09:25:25.000000000,2021-12-16 09:23:37.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 08:50:10.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/5aa02385c1a5a50f4ae0d167462388e29d577cf1', 'message': 'Fix lower-constraints\n\nSeems broken for sometime.\n\nChange-Id: Ia9536d856c71e2dfa6a3b0c38902034349b6db46\n(cherry picked from commit cb6bc9c126a580881f599744361390aa16144a7d)\n'}]",1,821904,5aa02385c1a5a50f4ae0d167462388e29d577cf1,7,3,1,8833,,,0,"Fix lower-constraints

Seems broken for sometime.

Change-Id: Ia9536d856c71e2dfa6a3b0c38902034349b6db46
(cherry picked from commit cb6bc9c126a580881f599744361390aa16144a7d)
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/04/821904/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,5aa02385c1a5a50f4ae0d167462388e29d577cf1,,decorator==4.3.0msgpack-python==0.5.6pytz==2018.3,decorator==3.4.0msgpack-python==0.4.0pytz==2013.6,3,3
openstack%2Fheat-agents~stable%2Fxena~Ia9536d856c71e2dfa6a3b0c38902034349b6db46,openstack/heat-agents,stable/xena,Ia9536d856c71e2dfa6a3b0c38902034349b6db46,Fix lower-constraints,MERGED,2021-12-16 08:49:53.000000000,2021-12-16 09:25:18.000000000,2021-12-16 09:23:00.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 08:49:53.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/62d7e356460e1ed9e1cc0101f5df4b451485156a', 'message': 'Fix lower-constraints\n\nSeems broken for sometime.\n\nChange-Id: Ia9536d856c71e2dfa6a3b0c38902034349b6db46\n(cherry picked from commit cb6bc9c126a580881f599744361390aa16144a7d)\n'}]",1,821903,62d7e356460e1ed9e1cc0101f5df4b451485156a,7,3,1,8833,,,0,"Fix lower-constraints

Seems broken for sometime.

Change-Id: Ia9536d856c71e2dfa6a3b0c38902034349b6db46
(cherry picked from commit cb6bc9c126a580881f599744361390aa16144a7d)
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/03/821903/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,62d7e356460e1ed9e1cc0101f5df4b451485156a,,decorator==4.3.0msgpack-python==0.5.6pytz==2018.3,decorator==3.4.0msgpack-python==0.4.0pytz==2013.6,3,3
openstack%2Fcharm-vault~master~I7b77cd4f57e1770faf92860ee7846bf480efdb9e,openstack/charm-vault,master,I7b77cd4f57e1770faf92860ee7846bf480efdb9e,Register previous vip set for deletion.,MERGED,2021-11-29 23:49:30.000000000,2021-12-16 09:16:14.000000000,2021-12-16 09:16:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-29 23:49:30.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'unit_tests/test_utils.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2b115c8d488f3c634dc79bfa0af0e46c51f02022', 'message': ""Register previous vip set for deletion.\n\nWhen the vip is changed the ones that are no longer present need to be\nregistered for deletion from pacemaker's configuration. This change\nrelies on hookenv.config.changed() to determine what vip(s) are no\nlonger present in the configuration ask hacluster to remove them.\n\nCloses-Bug: #1952363\nChange-Id: I7b77cd4f57e1770faf92860ee7846bf480efdb9e\n""}]",0,819730,2b115c8d488f3c634dc79bfa0af0e46c51f02022,7,3,1,2424,,,0,"Register previous vip set for deletion.

When the vip is changed the ones that are no longer present need to be
registered for deletion from pacemaker's configuration. This change
relies on hookenv.config.changed() to determine what vip(s) are no
longer present in the configuration ask hacluster to remove them.

Closes-Bug: #1952363
Change-Id: I7b77cd4f57e1770faf92860ee7846bf480efdb9e
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/30/819730/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'unit_tests/test_utils.py', 'src/reactive/vault_handlers.py']",3,2b115c8d488f3c634dc79bfa0af0e46c51f02022,bug/1952363," cfg = config() # the `vip` config option has changed and there was a value previously # set, the principle needs to ask hacluster to remove it from # pacemaker's configuration (LP: #1952363). if cfg.changed('vip') and cfg.previous('vip'): old_vips = cfg.previous('vip').split() vips_to_del = set(old_vips) - set(vips) for vip in vips_to_del: log(""Registering %s for deletion"" % vip) hacluster.remove_vip('vault', vip) ",,80,10
openstack%2Fpython-heatclient~master~Ie312cb884537ec541bf2111fe8a647e939b6519e,openstack/python-heatclient,master,Ie312cb884537ec541bf2111fe8a647e939b6519e,Replace deprecated import of ABCs from collections,MERGED,2021-07-16 15:52:42.000000000,2021-12-16 09:12:56.000000000,2021-12-16 09:11:12.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 29313}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-16 15:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/39589a52dec3a779d6d451d7b7a879438b692b26', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie312cb884537ec541bf2111fe8a647e939b6519e\n'}, {'number': 2, 'created': '2021-08-02 07:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/83c683956d9f74ab0050f479427998480a56dfe3', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie312cb884537ec541bf2111fe8a647e939b6519e\n'}, {'number': 3, 'created': '2021-09-20 11:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/56caaa2cb919607d6dd6afa20521794f8e723c70', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie312cb884537ec541bf2111fe8a647e939b6519e\n'}, {'number': 4, 'created': '2021-09-20 11:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/274a9cbc7718fac8023660186db41a8785d763e6', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie312cb884537ec541bf2111fe8a647e939b6519e\n'}, {'number': 5, 'created': '2021-12-16 07:21:36.000000000', 'files': ['heatclient/common/template_utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/796a8f5a9642a8ee0a455f59bbabe94e038fac4f', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\n\nCloses-Bug: #1936667\nChange-Id: Ie312cb884537ec541bf2111fe8a647e939b6519e\n'}]",1,801086,796a8f5a9642a8ee0a455f59bbabe94e038fac4f,26,5,5,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Closes-Bug: #1936667
Change-Id: Ie312cb884537ec541bf2111fe8a647e939b6519e
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/86/801086/4 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/common/template_utils.py'],1,39589a52dec3a779d6d451d7b7a879438b692b26,collections-abc,"import collections.abc if isinstance(v, collections.abc.Mapping): elif v is None and isinstance(old.get(k), collections.abc.Mapping):","import collections if isinstance(v, collections.Mapping): elif v is None and isinstance(old.get(k), collections.Mapping):",3,3
openstack%2Fheat-agents~master~Ib525930df564e3b99717aa7f029ef15b9103cb19,openstack/heat-agents,master,Ib525930df564e3b99717aa7f029ef15b9103cb19,Add Python3 yoga unit tests,MERGED,2021-09-15 01:59:21.000000000,2021-12-16 09:09:34.000000000,2021-12-16 09:04:58.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/8c489b8af7bb3351656c9008a1a98a123adfb379', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ib525930df564e3b99717aa7f029ef15b9103cb19\n'}]",2,809036,8c489b8af7bb3351656c9008a1a98a123adfb379,13,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ib525930df564e3b99717aa7f029ef15b9103cb19
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/36/809036/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8c489b8af7bb3351656c9008a1a98a123adfb379,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fproject-config~master~Iff25cbc517a7b459be23d0f553f8d789c37eae77,openstack/project-config,master,Iff25cbc517a7b459be23d0f553f8d789c37eae77,Add openstack-venus irc channel in access an gerrit bot,MERGED,2021-12-15 20:08:09.000000000,2021-12-16 09:07:56.000000000,2021-12-16 08:59:14.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24061}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-12-15 20:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/485b5e718986f25cd2eed0cf19adb456afe7390d', 'message': 'Add openstack-venus irc channel in access an gerrit bot\n\nopenstack/venus project is newly added\n- https://review.opendev.org/c/openstack/project-config/+/808149\nand channel is also registered now #openstack-venus.\n\nChange-Id: Iff25cbc517a7b459be23d0f553f8d789c37eae77\n'}, {'number': 2, 'created': '2021-12-15 21:35:07.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/61707891ac0c3ca603ef98013b42a4f26a0759d9', 'message': 'Add openstack-venus irc channel in access an gerrit bot\n\nopenstack/venus project is newly added\n- https://review.opendev.org/c/openstack/project-config/+/808149\nand channel is also registered now #openstack-venus.\n\nChange-Id: Iff25cbc517a7b459be23d0f553f8d789c37eae77\n'}]",3,821875,61707891ac0c3ca603ef98013b42a4f26a0759d9,15,5,2,8556,,,0,"Add openstack-venus irc channel in access an gerrit bot

openstack/venus project is newly added
- https://review.opendev.org/c/openstack/project-config/+/808149
and channel is also registered now #openstack-venus.

Change-Id: Iff25cbc517a7b459be23d0f553f8d789c37eae77
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/821875/2 && git format-patch -1 --stdout FETCH_HEAD,"['accessbot/channels.yaml', 'gerritbot/channels.yaml']",2,485b5e718986f25cd2eed0cf19adb456afe7390d,,openstack-venus: events: - patchset-created - change-merged projects: - openstack/venus - openstack/venus-dashboard - openstack/venus-specs - openstack/venus-tempest-plugin - openstack/python-venusclient branches: - master - ^stable/.* ,,15,0
openstack%2Fsenlin~master~I27b3ddb38c677cce2966554d625791f02c0e11df,openstack/senlin,master,I27b3ddb38c677cce2966554d625791f02c0e11df,Switch to collections.abc abstract base classes,MERGED,2021-12-09 19:16:25.000000000,2021-12-16 09:05:00.000000000,2021-12-16 09:03:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-12-09 19:16:25.000000000', 'files': ['senlin/tests/unit/test_common_schema.py', 'senlin/common/constraints.py', 'senlin/common/schema.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/39105af5596a8371a49ae311caa822bdd7a82585', 'message': ""Switch to collections.abc abstract base classes\n\nThe standard library's collections abstract base classes have been\nmoved from the collections module to the collections.abc module. The\nabstract data clases in the collections module have been deprecated\nsince Python 3.3 and are removed in Python 3.10.\n\nCloses-Bug: #1954319\nChange-Id: I27b3ddb38c677cce2966554d625791f02c0e11df\n""}]",4,821278,39105af5596a8371a49ae311caa822bdd7a82585,14,2,1,11805,,,0,"Switch to collections.abc abstract base classes

The standard library's collections abstract base classes have been
moved from the collections module to the collections.abc module. The
abstract data clases in the collections module have been deprecated
since Python 3.3 and are removed in Python 3.10.

Closes-Bug: #1954319
Change-Id: I27b3ddb38c677cce2966554d625791f02c0e11df
",git fetch https://review.opendev.org/openstack/senlin refs/changes/78/821278/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/test_common_schema.py', 'senlin/common/constraints.py', 'senlin/common/schema.py']",3,39105af5596a8371a49ae311caa822bdd7a82585,,"class AnyIndexDict(collections.abc.Mapping):class SchemaBase(collections.abc.Mapping): if not isinstance(value, collections.abc.Sequence): # if not isinstance(value, collections.abc.Mapping): if not isinstance(value, collections.abc.Sequence): if not isinstance(self.default, collections.abc.Mapping): if not isinstance(value, collections.abc.Mapping): if not isinstance(value, collections.abc.Mapping):class Spec(collections.abc.Mapping):","class AnyIndexDict(collections.Mapping):class SchemaBase(collections.Mapping): if not isinstance(value, collections.Sequence): # if not isinstance(value, collections.Mapping): if not isinstance(value, collections.Sequence): if not isinstance(self.default, collections.Mapping): if not isinstance(value, collections.Mapping): if not isinstance(value, collections.Mapping):class Spec(collections.Mapping):",12,12
openstack%2Fheat-agents~master~Ia9536d856c71e2dfa6a3b0c38902034349b6db46,openstack/heat-agents,master,Ia9536d856c71e2dfa6a3b0c38902034349b6db46,Fix lower-constraints,MERGED,2021-12-16 08:22:30.000000000,2021-12-16 08:50:52.000000000,2021-12-16 08:49:16.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 08:22:30.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/cb6bc9c126a580881f599744361390aa16144a7d', 'message': 'Fix lower-constraints\n\nSeems broken for sometime.\n\nChange-Id: Ia9536d856c71e2dfa6a3b0c38902034349b6db46\n'}]",1,821940,cb6bc9c126a580881f599744361390aa16144a7d,8,2,1,8833,,,0,"Fix lower-constraints

Seems broken for sometime.

Change-Id: Ia9536d856c71e2dfa6a3b0c38902034349b6db46
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/40/821940/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,cb6bc9c126a580881f599744361390aa16144a7d,,decorator==4.3.0msgpack-python==0.5.6pytz==2018.3,decorator==3.4.0msgpack-python==0.4.0pytz==2013.6,3,3
openstack%2Fxstatic-json2yaml~master~I29e3e2a820ec4e43308624b44dbbd39f3ebd803f,openstack/xstatic-json2yaml,master,I29e3e2a820ec4e43308624b44dbbd39f3ebd803f,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:37:45.000000000,2021-12-16 08:43:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:37:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-json2yaml/commit/7695b2f5b74b5b7cb37a98a4160db5db62cf0496', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I29e3e2a820ec4e43308624b44dbbd39f3ebd803f\n'}]",0,787035,7695b2f5b74b5b7cb37a98a4160db5db62cf0496,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I29e3e2a820ec4e43308624b44dbbd39f3ebd803f
",git fetch https://review.opendev.org/openstack/xstatic-json2yaml refs/changes/35/787035/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7695b2f5b74b5b7cb37a98a4160db5db62cf0496,,"envlist = py27,py3","envlist = py27,py33,py34",1,1
openstack%2Fxstatic-jquery.tablesorter~master~Iab2f29449ba29bd3fc834dab1fef38384880db1a,openstack/xstatic-jquery.tablesorter,master,Iab2f29449ba29bd3fc834dab1fef38384880db1a,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:32:59.000000000,2021-12-16 08:43:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:32:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-jquery.tablesorter/commit/27dbfbe86a18f621c597537f38692ee2c6f2b955', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Iab2f29449ba29bd3fc834dab1fef38384880db1a\n'}]",0,787031,27dbfbe86a18f621c597537f38692ee2c6f2b955,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Iab2f29449ba29bd3fc834dab1fef38384880db1a
",git fetch https://review.opendev.org/openstack/xstatic-jquery.tablesorter refs/changes/31/787031/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,27dbfbe86a18f621c597537f38692ee2c6f2b955,,"envlist = py27,py3","envlist = py27,py34",1,1
openstack%2Fxstatic-magic-search~master~I8755d2b59e7a7b6e9460e36620fe334591465b53,openstack/xstatic-magic-search,master,I8755d2b59e7a7b6e9460e36620fe334591465b53,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:39:10.000000000,2021-12-16 08:42:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:39:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-magic-search/commit/4bf0e2bccf09b7fb1675f39c7105cb5432c79f94', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I8755d2b59e7a7b6e9460e36620fe334591465b53\n'}]",0,787036,4bf0e2bccf09b7fb1675f39c7105cb5432c79f94,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I8755d2b59e7a7b6e9460e36620fe334591465b53
",git fetch https://review.opendev.org/openstack/xstatic-magic-search refs/changes/36/787036/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4bf0e2bccf09b7fb1675f39c7105cb5432c79f94,,"envlist = py27,py3","envlist = py27,py33,py34",1,1
openstack%2Fxstatic-jsencrypt~master~I794b45bc1635043143f5eee352a79860b205485f,openstack/xstatic-jsencrypt,master,I794b45bc1635043143f5eee352a79860b205485f,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:36:39.000000000,2021-12-16 08:42:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:36:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-jsencrypt/commit/e23edd516b105dfab6fc18990b68d8db1a4c1536', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I794b45bc1635043143f5eee352a79860b205485f\n'}]",0,787033,e23edd516b105dfab6fc18990b68d8db1a4c1536,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I794b45bc1635043143f5eee352a79860b205485f
",git fetch https://review.opendev.org/openstack/xstatic-jsencrypt refs/changes/33/787033/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e23edd516b105dfab6fc18990b68d8db1a4c1536,,"envlist = py27,py3","envlist = py27,py33,py34",1,1
openstack%2Fxstatic-js-yaml~master~I3afcc08f57d0f0ecdd45fdbbd00bfd576eb48901,openstack/xstatic-js-yaml,master,I3afcc08f57d0f0ecdd45fdbbd00bfd576eb48901,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:34:35.000000000,2021-12-16 08:41:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:34:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-js-yaml/commit/9c81274ba244a5c8c56785229dad794106dc5064', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I3afcc08f57d0f0ecdd45fdbbd00bfd576eb48901\n'}]",0,787032,9c81274ba244a5c8c56785229dad794106dc5064,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I3afcc08f57d0f0ecdd45fdbbd00bfd576eb48901
",git fetch https://review.opendev.org/openstack/xstatic-js-yaml refs/changes/32/787032/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c81274ba244a5c8c56785229dad794106dc5064,,"envlist = py27,py3","envlist = py27,py33,py34",1,1
openstack%2Fxstatic-spin~master~I285c2e869966d5dbbe411cb3dbaedfe89a702a83,openstack/xstatic-spin,master,I285c2e869966d5dbbe411cb3dbaedfe89a702a83,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:26:58.000000000,2021-12-16 08:40:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:26:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-spin/commit/ea9bb9a8b1cfa304358571a833ab793eeb524d6a', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I285c2e869966d5dbbe411cb3dbaedfe89a702a83\n'}]",0,787026,ea9bb9a8b1cfa304358571a833ab793eeb524d6a,4,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I285c2e869966d5dbbe411cb3dbaedfe89a702a83
",git fetch https://review.opendev.org/openstack/xstatic-spin refs/changes/26/787026/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ea9bb9a8b1cfa304358571a833ab793eeb524d6a,,"envlist = py27,py3","envlist = py27,py34",1,1
openstack%2Fxstatic-rickshaw~master~I24d0f68ade8920b52a9552ab55fc5fc478eef61a,openstack/xstatic-rickshaw,master,I24d0f68ade8920b52a9552ab55fc5fc478eef61a,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:24:43.000000000,2021-12-16 08:39:43.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-20 02:24:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-rickshaw/commit/6a3db9b7efa87a1b6338c1ee72104e8b76f45869', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I24d0f68ade8920b52a9552ab55fc5fc478eef61a\n'}]",1,787024,6a3db9b7efa87a1b6338c1ee72104e8b76f45869,5,3,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I24d0f68ade8920b52a9552ab55fc5fc478eef61a
",git fetch https://review.opendev.org/openstack/xstatic-rickshaw refs/changes/24/787024/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6a3db9b7efa87a1b6338c1ee72104e8b76f45869,,"envlist = py27,py3","envlist = py27,py33,py34",1,1
openstack%2Fpython-heatclient~stable%2Fxena~Id3f2aebe47250f5ebd117193421277b1717c8db3,openstack/python-heatclient,stable/xena,Id3f2aebe47250f5ebd117193421277b1717c8db3,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 14:31:44.000000000,2021-12-16 08:33:37.000000000,2021-12-16 08:29:01.000000000,"[{'_account_id': 8833}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/ba1039cf23a9976148c8718207f1fe9956787e64', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id3f2aebe47250f5ebd117193421277b1717c8db3\n'}, {'number': 2, 'created': '2021-12-15 12:42:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/001b6a6b14672abae8a76d04d954a22ac50c189b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id3f2aebe47250f5ebd117193421277b1717c8db3\n'}]",2,808237,001b6a6b14672abae8a76d04d954a22ac50c189b,17,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id3f2aebe47250f5ebd117193421277b1717c8db3
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/37/808237/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ba1039cf23a9976148c8718207f1fe9956787e64,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-heatclient~stable%2Fxena~I91acf6eaba1d61cedbee5690fc692edb7e613f04,openstack/python-heatclient,stable/xena,I91acf6eaba1d61cedbee5690fc692edb7e613f04,Update .gitreview for stable/xena,MERGED,2021-09-10 14:31:42.000000000,2021-12-16 08:31:19.000000000,2021-12-16 08:28:59.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:31:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/59d4d0d68dff2a8e03436024bf866b2d0e687631', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I91acf6eaba1d61cedbee5690fc692edb7e613f04\n'}]",3,808233,59d4d0d68dff2a8e03436024bf866b2d0e687631,16,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I91acf6eaba1d61cedbee5690fc692edb7e613f04
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/33/808233/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,59d4d0d68dff2a8e03436024bf866b2d0e687631,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fkuryr-kubernetes~master~I83aac0b1b396e89cfcda5665d3df2688eb67ec61,openstack/kuryr-kubernetes,master,I83aac0b1b396e89cfcda5665d3df2688eb67ec61,Lock fetching ports from a pool,NEW,2021-12-10 18:36:46.000000000,2021-12-16 08:31:01.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-12-10 18:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3f0c21b96c753c8911095168bbae833e823af534', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 2, 'created': '2021-12-12 16:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce9b66dc68b6df44a47d067e292beb732c658799', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 3, 'created': '2021-12-12 19:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a3946476a4a4c4f7e4caf51e740ed3923d3472ce', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 4, 'created': '2021-12-13 15:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0082d7ca96512d6ea62312bdefe937b1effba528', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 5, 'created': '2021-12-13 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e3321ddf574dd8799fce047d2d8bef0580ff74b1', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 6, 'created': '2021-12-13 23:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f2f7c1046904ec1c063f076ddac2ee9451c3ea72', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 7, 'created': '2021-12-14 16:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f4714ca3daf2cab26b68bcf4d4202f3969a9119', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 8, 'created': '2021-12-15 13:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a921e7e9de7b77dc09db07bbc615c45dd33b4ac9', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}, {'number': 9, 'created': '2021-12-15 14:09:01.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d315d6839926c32b309879e52d8af30d42b17bb', 'message': ""Lock fetching ports from a pool\n\nIt's possible that while a pool is being populated\nnewer Pods attempt to fetch the newly created Ports,\nleaving the older Pods without Ports, which increases\nthe time for the first ones to be Running. This commit\nfixes the issues by ensuring the retrieval of Ports is\nlocked for the current Pod in process.\n\nChange-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61\n""}]",13,821442,2d315d6839926c32b309879e52d8af30d42b17bb,28,4,9,27032,,,0,"Lock fetching ports from a pool

It's possible that while a pool is being populated
newer Pods attempt to fetch the newly created Ports,
leaving the older Pods without Ports, which increases
the time for the first ones to be Running. This commit
fixes the issues by ensuring the retrieval of Ports is
locked for the current Pod in process.

Change-Id: I83aac0b1b396e89cfcda5665d3df2688eb67ec61
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/42/821442/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,3f0c21b96c753c8911095168bbae833e823af534,restrict-bulk-port-creation," lock_type = pool_key + (""block-get-port-from-pool"",) lock = self._get_pool_lock(lock_type) port = None try: if lock.acquire(timeout=300): sgs = tuple(sorted(security_groups)) try: port = self._get_port_from_pool(pool_key, pod, subnets, sgs, lock=lock) except exceptions.ResourceNotReady: if self._populate_pool(pool_key, pod, subnets, sgs): port = self._get_port_from_pool( pool_key, pod, subnets, sgs) if lock.locked(): lock.release() if port: return port raise exceptions.ResourceNotReady(pod) finally: if lock.locked(): lock.release() def _get_port_from_pool(self, pool_key, pod, subnets, security_groups, lock=None): # Neutron operations can take long, let's release the lock # since the port is already acquired if lock: lock.release() del self._pools_lock[pool_key + (""block-get-port-from-pool"",)] def _get_port_from_pool(self, pool_key, pod, subnets, security_groups, lock=None): # Neutron operations can take long, let's release the lock # since the port is already acquired if lock: lock.release() del self._pools_lock[pool_key + (""block-get-port-from-pool"",)]"," # NOTE(maysams): It's possible that more recent Pods will retrieve # the Ports from the pool that older Pods were waiting for. In case # this happens, the event will be retried. try: return self._get_port_from_pool(pool_key, pod, subnets, tuple(sorted(security_groups))) except exceptions.ResourceNotReady: if self._populate_pool(pool_key, pod, subnets, tuple(sorted(security_groups))): return self._get_port_from_pool( pool_key, pod, subnets, tuple(sorted(security_groups))) raise def _get_port_from_pool(self, pool_key, pod, subnets, security_groups): def _get_port_from_pool(self, pool_key, pod, subnets, security_groups):",34,13
openstack%2Fnova~master~I96f9be0461986cd013d8484f40adbca05196979a,openstack/nova,master,I96f9be0461986cd013d8484f40adbca05196979a,Delete bogus attachments.,ABANDONED,2021-12-07 19:08:31.000000000,2021-12-16 08:31:00.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-07 19:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acfe588102235d1f56857cd8bc4bdd7fbfff3770', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 2, 'created': '2021-12-08 06:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eec9417678e05899ddd6214e36428b17dc6bcf6', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 3, 'created': '2021-12-08 10:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c015072b8e5c13ca9b243825f9f04265c215000', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 4, 'created': '2021-12-08 15:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c9b42bf9e352acb6c0b314b039fcd855ed0ca4f', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 5, 'created': '2021-12-08 15:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a838c2c41fa79ad24cf66e484af4bbf28eaddfe', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 6, 'created': '2021-12-09 15:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e83183f554b12a51ce9bdea76bc8b66760d839e3', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 7, 'created': '2021-12-10 12:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a3cb6e6d07ffadb4f3b863c05d03b426291d646', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 8, 'created': '2021-12-14 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f717b3c22866e78152900147ded40d5373b6afd8', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 9, 'created': '2021-12-14 12:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e19df0efeb761171e95a59662d74c9e9c262885b', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 10, 'created': '2021-12-14 16:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5593f2fa1114f21955e422232d48e52fbd68456', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}, {'number': 11, 'created': '2021-12-16 06:44:55.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/volume/cinder.py', 'nova/tests/fixtures/cinder.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/api/openstack/compute/volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/689733fb9f0ca1f706853b32c8c4876afcb895de', 'message': ""Delete bogus attachments.\n\nOne can create attachments to a server via Cinder api.\nSo volume can have multiple attachments with\nthe same server made via Cinder and Nova apis.\nNova doesn't know about attachments created via\nCinder api and doesn't think that volume attached to server.\nAfter volume was attached and detached via\nNova api, a volume still has bogus\nattachments to the server and is 'in-use'.\nVolume cannot be deleted.\nPatch makes volume dettachment to delete all attachments\nwith the same server.\n\nCloses-Bug: 1953538\nChange-Id: I96f9be0461986cd013d8484f40adbca05196979a\n""}]",16,820935,689733fb9f0ca1f706853b32c8c4876afcb895de,90,2,11,32927,,,0,"Delete bogus attachments.

One can create attachments to a server via Cinder api.
So volume can have multiple attachments with
the same server made via Cinder and Nova apis.
Nova doesn't know about attachments created via
Cinder api and doesn't think that volume attached to server.
After volume was attached and detached via
Nova api, a volume still has bogus
attachments to the server and is 'in-use'.
Volume cannot be deleted.
Patch makes volume dettachment to delete all attachments
with the same server.

Closes-Bug: 1953538
Change-Id: I96f9be0461986cd013d8484f40adbca05196979a
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/820935/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/volume/cinder.py', 'nova/api/openstack/compute/volumes.py']",3,acfe588102235d1f56857cd8bc4bdd7fbfff3770,bug/1953538,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) self._delete_bogus_attachments(context, volume_id, instance.uuid) def _delete_bogus_attachments(self, context, volume_id, instance_uuid): """"""Sometimes bogus attachments to the same server are created via Cinder api. Nova has no idea about them. When Nova detaches volume from server it can delete only one attachment, but others remain intact. Volume cannot be deleted because its status is 'in-use' and there are bogus attachments. The method deletes these attachments and reset status to 'available' if no other attachments. """""" LOG.debug('Searching bogus attachments via Cinder api...') volume = self.volume_api.get(context, volume_id, row=True) bogus_attachments_number = volume_attachments_number = 0 for attachment in volume.attachments: volume_attachments_number += 1 if attachment['server_id'] == instance_uuid: LOG.warning('Bogus attachment was detected: %s', str(attachment)) attachment_id = attachment.get('attachment_id') result = self.volume_api.detach( context, volume_id, instance_uuid=instance_uuid, attachment_id=attachment_id) LOG.warning('Bogus attachment was deleted with result: %s', str(result)) bogus_attachments_number += 1 if volume.status == 'in-use' and \ volume_attachments_number == bogus_attachments_number: result = self.volume_api.reset_state(context, volume, state='available') LOG.warning('Since all volume attachments were bogus and they ' 'were removed and volume status is ""in-use"" - volume ' 'status was tried to reset to ""available"" with ' 'result: %s', str(result)) ",,68,4
openstack%2Fpython-heatclient~master~Icfc46e4f80c8877a688d1c898d380a4c18a13c7c,openstack/python-heatclient,master,Icfc46e4f80c8877a688d1c898d380a4c18a13c7c,Add Python3 yoga unit tests,MERGED,2021-09-10 14:31:48.000000000,2021-12-16 07:56:38.000000000,2021-12-16 07:51:30.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:31:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b45793038869a30e35a7afefb0368615855c27be', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Icfc46e4f80c8877a688d1c898d380a4c18a13c7c\n'}]",4,808241,b45793038869a30e35a7afefb0368615855c27be,17,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Icfc46e4f80c8877a688d1c898d380a4c18a13c7c
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/41/808241/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b45793038869a30e35a7afefb0368615855c27be,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fci-log-processing~master~Ifa702c87d61ee83c9c86295ba2af1d3180df686f,openstack/ci-log-processing,master,Ifa702c87d61ee83c9c86295ba2af1d3180df686f,Retry network call to recover from external failure,MERGED,2021-11-26 18:53:26.000000000,2021-12-16 07:54:47.000000000,2021-12-16 07:50:59.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 18:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/8e8de693e46b63b59b4901de451e9a6f47d56a0f', 'message': 'Retry network call to recover from external failure\n\nThis change integrates the tenacity library to prevent crashed\ncaused by external network failure.\n\nChange-Id: Ifa702c87d61ee83c9c86295ba2af1d3180df686f\n'}, {'number': 2, 'created': '2021-11-26 19:02:26.000000000', 'files': ['requirements.txt', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/cd93d0fbfbdce7b142b3669b83a6e9c97f8d1b46', 'message': 'Retry network call to recover from external failure\n\nThis change integrates the tenacity library to prevent crashed\ncaused by external network failure.\n\nChange-Id: Ifa702c87d61ee83c9c86295ba2af1d3180df686f\n'}]",8,819491,cd93d0fbfbdce7b142b3669b83a6e9c97f8d1b46,13,5,2,9311,,,0,"Retry network call to recover from external failure

This change integrates the tenacity library to prevent crashed
caused by external network failure.

Change-Id: Ifa702c87d61ee83c9c86295ba2af1d3180df686f
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/91/819491/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'logscraper/logscraper.py']",2,8e8de693e46b63b59b4901de451e9a6f47d56a0f,,"from tenacity import retry, stop_after_attempt, wait_exponential # type: ignore retry_request = retry( # Raise the real exception instead of RetryError reraise=True, # Stop after 10 attempts stop=stop_after_attempt(10), # Slowly wait more wait=wait_exponential(multiplier=1, min=1, max=10), ) @retry_request def requests_get(url, verify): return requests.get(url, verify=verify) def requests_get_json(url, verify): resp = requests_get(url, verify) resp.raise_for_status() return resp.json() zuul_status = requests_get_json(url, verify=insecure) zuul_version = parse_version(zuul_status.get(""zuul_version"")) jobs_result = requests_get_json(url, verify=insecure) for job in jobs_result: response = requests_get(""%s%s"" % (job_result[""log_url""], f))"," zuul_status = requests.get(url, verify=insecure) zuul_status.raise_for_status() zuul_version = parse_version(zuul_status.json().get(""zuul_version"")) jobs_result = requests.get(url, verify=insecure) jobs_result.raise_for_status() for job in jobs_result.json(): response = requests.get(""%s%s"" % (job_result[""log_url""], f))",29,7
openstack%2Fpython-heatclient~stable%2Fwallaby~Iba863242365c4be63495600b741513c2ca0ea9b0,openstack/python-heatclient,stable/wallaby,Iba863242365c4be63495600b741513c2ca0ea9b0,Fix test and lower constraints,MERGED,2021-12-16 05:10:56.000000000,2021-12-16 07:43:36.000000000,2021-12-16 07:42:15.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-12-16 05:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/d7b01fed2d41e32e3cfe87af4c378c60de4b60c0', 'message': 'Fix test and lower constraints\n\nThis fixes failures for PyYAML new version and\nlower constraints.\n\nChange-Id: Iba863242365c4be63495600b741513c2ca0ea9b0\n'}, {'number': 2, 'created': '2021-12-16 05:51:28.000000000', 'files': ['lower-constraints.txt', 'heatclient/tests/functional/osc/v1/test_readonly.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4d9fbf2a34c7ce38c74108e8f7df6355acc01a24', 'message': 'Fix test and lower constraints\n\nThis fixes failures for PyYAML new version and\nlower constraints.\n\nChange-Id: Iba863242365c4be63495600b741513c2ca0ea9b0\n(cherry picked from commit 4753a47bbf1c31b907b21b3987dc4cc1b130990d)\n'}]",0,821897,4d9fbf2a34c7ce38c74108e8f7df6355acc01a24,9,3,2,30073,,,0,"Fix test and lower constraints

This fixes failures for PyYAML new version and
lower constraints.

Change-Id: Iba863242365c4be63495600b741513c2ca0ea9b0
(cherry picked from commit 4753a47bbf1c31b907b21b3987dc4cc1b130990d)
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/97/821897/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'heatclient/tests/functional/osc/v1/test_readonly.py']",2,d7b01fed2d41e32e3cfe87af4c378c60de4b60c0,," self.assertIsInstance(yaml.safe_load(rsrc_schema), dict)"," self.assertIsInstance(yaml.load(rsrc_schema), dict)",5,5
openstack%2Ftripleo-ci~master~I75f6d4dd6ffe93437bef3455487886d7b05c69de,openstack/tripleo-ci,master,I75f6d4dd6ffe93437bef3455487886d7b05c69de,DNM - FIPS jobs testing,ABANDONED,2021-12-15 08:24:17.000000000,2021-12-16 07:32:21.000000000,,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-15 08:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/913a8f94cd17639434df5f48cd3f3a17bd1eff61', 'message': 'WIP/DNM - Add fips jobs\n\nEnabled FIPS mode by adding pre-run script to the base standalone\njob.  Lets see what fails and fix it.  It will be up to the tripleo\ncores to eventually determine when the fips jobs should be run\non a permanent basis.  We have added the multinode jobs to this commit as well.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/820270\nDepends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/815143\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819123\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819697\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/820056\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I75f6d4dd6ffe93437bef3455487886d7b05c69de\n'}, {'number': 2, 'created': '2021-12-15 08:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/603699020a5564b80a6b84c58ab76542c9c5a94c', 'message': 'WIP/DNM - Add fips jobs\n\nEnabled FIPS mode by adding pre-run script to the base standalone\njob.  Lets see what fails and fix it.  It will be up to the tripleo\ncores to eventually determine when the fips jobs should be run\non a permanent basis.  We have added the multinode jobs to this commit as well.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/820270\nDepends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/815143\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819123\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819697\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/820056\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I75f6d4dd6ffe93437bef3455487886d7b05c69de\n'}, {'number': 3, 'created': '2021-12-15 14:48:05.000000000', 'files': ['zuul.d/content-provider.yaml', 'roles/run-test/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbdb7fffbf514db3aa2737a68f9cee8c785dba7a', 'message': 'DNM - FIPS jobs testing\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/820270\nDepends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/815143\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819123\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819697\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/820056\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I75f6d4dd6ffe93437bef3455487886d7b05c69de\n'}]",1,821804,fbdb7fffbf514db3aa2737a68f9cee8c785dba7a,8,3,3,32926,,,0,"DNM - FIPS jobs testing

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/807031
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/816855
Depends-On: https://review.opendev.org/c/openstack/tempest/+/820270
Depends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/810782
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/815143
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819123
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/819697
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/820056

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I75f6d4dd6ffe93437bef3455487886d7b05c69de
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/04/821804/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'roles/run-test/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml']",5,913a8f94cd17639434df5f48cd3f3a17bd1eff61,add_fips_job, vars: enable_fips: false,,25,1
openstack%2Fskyline-console~master~I6fc4a93c4e78e9a75f32fe1f35e4b73cb504bcca,openstack/skyline-console,master,I6fc4a93c4e78e9a75f32fe1f35e4b73cb504bcca,feat: Update flavor detail page,MERGED,2021-12-16 02:28:15.000000000,2021-12-16 07:21:26.000000000,2021-12-16 07:21:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-12-16 02:28:15.000000000', 'files': ['src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/20cc08159c481c4572175173f771148b29d2550d', 'message': 'feat: Update flavor detail page\n\n1. Add numa node info in flavor detail page\n2. Add memory page size info in flavor detail page\n\nChange-Id: I6fc4a93c4e78e9a75f32fe1f35e4b73cb504bcca\n'}]",0,821925,20cc08159c481c4572175173f771148b29d2550d,6,2,1,30434,,,0,"feat: Update flavor detail page

1. Add numa node info in flavor detail page
2. Add memory page size info in flavor detail page

Change-Id: I6fc4a93c4e78e9a75f32fe1f35e4b73cb504bcca
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/25/821925/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/locales/zh.json', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx']",4,20cc08159c481c4572175173f771148b29d2550d,," label: t('Memory Page Size'), label: t('Memory Page Size'),"," label: t('Memory Page Value'), label: t('Memory Page Value'),",19,6
openstack%2Fpython-heatclient~master~I67b2703864d3045b0475b3b138a1e445abe04bd3,openstack/python-heatclient,master,I67b2703864d3045b0475b3b138a1e445abe04bd3,Bump lower-constraints to fix gate,ABANDONED,2021-09-20 11:00:51.000000000,2021-12-16 07:20:28.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-09-20 11:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/69e7521f8333dd4b5fb5b8adcab9d6964c5eea20', 'message': 'Bump lower-constraints to fix gate\n\nChange-Id: I67b2703864d3045b0475b3b138a1e445abe04bd3\n'}, {'number': 2, 'created': '2021-09-20 11:13:24.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/38b37b69072d1803ebb49de34ffea006d22fd74e', 'message': 'Bump lower-constraints to fix gate\n\nChange-Id: I67b2703864d3045b0475b3b138a1e445abe04bd3\n'}]",0,809999,38b37b69072d1803ebb49de34ffea006d22fd74e,6,4,2,8833,,,0,"Bump lower-constraints to fix gate

Change-Id: I67b2703864d3045b0475b3b138a1e445abe04bd3
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/99/809999/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,69e7521f8333dd4b5fb5b8adcab9d6964c5eea20,collections-abc,decorator==4.1.0keystoneauth1==3.16.0openstacksdk==0.35.0os-service-types==1.7.0,decorator==3.4.0keystoneauth1==3.8.0openstacksdk==0.15.0os-service-types==1.2.0,4,4
openstack%2Fpython-heatclient~stable%2Fxena~Iba863242365c4be63495600b741513c2ca0ea9b0,openstack/python-heatclient,stable/xena,Iba863242365c4be63495600b741513c2ca0ea9b0,Fix test and lower constraints,MERGED,2021-12-16 05:09:48.000000000,2021-12-16 07:10:53.000000000,2021-12-16 07:08:55.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 05:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/517282ecc7835a5afd71c1481e323024beb0658d', 'message': 'Fix test and lower constraints\n\nThis fixes failures for PyYAML new version and\nlower constraints.\n\nChange-Id: Iba863242365c4be63495600b741513c2ca0ea9b0\n'}, {'number': 2, 'created': '2021-12-16 05:40:07.000000000', 'files': ['lower-constraints.txt', 'heatclient/tests/functional/osc/v1/test_readonly.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/851dd9398bec9070537cfbb77eb325be62ceab2e', 'message': 'Fix test and lower constraints\n\nThis fixes failures for PyYAML new version and\nlower constraints.\n\nChange-Id: Iba863242365c4be63495600b741513c2ca0ea9b0\n(cherry picked from commit 4753a47bbf1c31b907b21b3987dc4cc1b130990d)\n'}]",1,821896,851dd9398bec9070537cfbb77eb325be62ceab2e,11,3,2,30073,,,0,"Fix test and lower constraints

This fixes failures for PyYAML new version and
lower constraints.

Change-Id: Iba863242365c4be63495600b741513c2ca0ea9b0
(cherry picked from commit 4753a47bbf1c31b907b21b3987dc4cc1b130990d)
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/96/821896/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'heatclient/tests/functional/osc/v1/test_readonly.py']",2,517282ecc7835a5afd71c1481e323024beb0658d,," self.assertIsInstance(yaml.safe_load(rsrc_schema), dict)"," self.assertIsInstance(yaml.load(rsrc_schema), dict)",5,5
openstack%2Fironic~master~I95252aea808c48ea2d94569449c871f0d483caaa,openstack/ironic,master,I95252aea808c48ea2d94569449c871f0d483caaa,Adoption: do not validate boot interface when local booting,MERGED,2021-12-13 09:27:34.000000000,2021-12-16 06:55:11.000000000,2021-12-15 12:45:42.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-13 09:27:34.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/adopt-validation-7249ceb57016f0e4.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d342b07dd6f8c5478f37a31b14e77bba6bef55e2', 'message': 'Adoption: do not validate boot interface when local booting\n\nWe validate the boot interface during adoption because of:\na) potential rebuilding,\nb) non-local boot.\n\nRebuild proved a rarely used feature, and local boot is the default\nnowadays, so it makes less sense to unconditionally validate the boot\ninterface during adoption. We will run the validation anyway the next\ntime we need to do something with booting.\n\nSimilarly, do not record is_whole_disk_image None if it cannot be\nreliably determined.\n\nChange-Id: I95252aea808c48ea2d94569449c871f0d483caaa\n'}]",5,821537,d342b07dd6f8c5478f37a31b14e77bba6bef55e2,28,4,1,10239,,,0,"Adoption: do not validate boot interface when local booting

We validate the boot interface during adoption because of:
a) potential rebuilding,
b) non-local boot.

Rebuild proved a rarely used feature, and local boot is the default
nowadays, so it makes less sense to unconditionally validate the boot
interface during adoption. We will run the validation anyway the next
time we need to do something with booting.

Similarly, do not record is_whole_disk_image None if it cannot be
reliably determined.

Change-Id: I95252aea808c48ea2d94569449c871f0d483caaa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/821537/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/adopt-validation-7249ceb57016f0e4.yaml']",3,d342b07dd6f8c5478f37a31b14e77bba6bef55e2,adopt-validation,--- fixes: - | No longer validates boot interface parameters when adopting a node that uses local boot. ,,60,11
openstack%2Fneutron-tempest-plugin~master~Id52d1fd070b5dd1c907a3babfed5a0a05abd5c24,openstack/neutron-tempest-plugin,master,Id52d1fd070b5dd1c907a3babfed5a0a05abd5c24,Update irrelevant-files for stadium project's tests,MERGED,2021-12-10 14:47:33.000000000,2021-12-16 06:41:47.000000000,2021-12-16 06:41:47.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 14:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e3886dbca657cf7e912cb4fe85a0331f912c27ff', 'message': ""Update irrelevant-files for stadium project's tests\n\nWhen changes are done to a particular stadium\nproject tests, other standium projects jobs and\nscenario jobs do not run as those are not tested\ntogether.\n\nAlso skip job runs when changes are made to\nEM releases job files as those jobs don't run on\nneutron-tempest-plugin changes.\n\nChange-Id: Id52d1fd070b5dd1c907a3babfed5a0a05abd5c24\n""}, {'number': 2, 'created': '2021-12-14 09:19:51.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/007c22fe824f2dea0574c0a3f8a0179b08ce0d5c', 'message': ""Update irrelevant-files for stadium project's tests\n\nWhen changes are done to a particular stadium\nproject tests, other standium projects jobs and\nscenario jobs do not run as those are not tested\ntogether.\n\nAlso skip job runs when changes are made to\nEM releases job files as those jobs don't run on\nneutron-tempest-plugin changes.\n\nChange-Id: Id52d1fd070b5dd1c907a3babfed5a0a05abd5c24\n""}]",8,821414,007c22fe824f2dea0574c0a3f8a0179b08ce0d5c,24,3,2,13861,,,0,"Update irrelevant-files for stadium project's tests

When changes are done to a particular stadium
project tests, other standium projects jobs and
scenario jobs do not run as those are not tested
together.

Also skip job runs when changes are made to
EM releases job files as those jobs don't run on
neutron-tempest-plugin changes.

Change-Id: Id52d1fd070b5dd1c907a3babfed5a0a05abd5c24
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/14/821414/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml']",2,e3886dbca657cf7e912cb4fe85a0331f912c27ff,neutron-ci-improvements, - ^zuul.d/(queens|rocky|stein|train|ussuri)_jobs.yaml$,,105,1
openstack%2Fcyborg~master~Ie8b9b6d68b978302c2647a09746d9916965a194e,openstack/cyborg,master,Ie8b9b6d68b978302c2647a09746d9916965a194e,Update contributor page,MERGED,2021-12-15 14:09:58.000000000,2021-12-16 06:15:18.000000000,2021-12-16 06:13:41.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-12-15 14:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1e4034889df3ca5075ea4141a8d13d483aa10673', 'message': 'Update contributor page\n\nThis patch added the necessary notes about contributing in Cyborg.\n\nChange-Id: Ie8b9b6d68b978302c2647a09746d9916965a194e\n'}, {'number': 2, 'created': '2021-12-16 01:01:48.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b83a97038e5e8f7040c1ad3a56d11d8d93e66155', 'message': 'Update contributor page\n\nThis patch added the necessary notes about contributing in Cyborg.\n\nChange-Id: Ie8b9b6d68b978302c2647a09746d9916965a194e\n'}]",3,821848,b83a97038e5e8f7040c1ad3a56d11d8d93e66155,10,3,2,31827,,,0,"Update contributor page

This patch added the necessary notes about contributing in Cyborg.

Change-Id: Ie8b9b6d68b978302c2647a09746d9916965a194e
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/48/821848/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,1e4034889df3ca5075ea4141a8d13d483aa10673,,"with Cyborg.The openstack-discuss mailing list is another way we make announcement and discuss some topics in public. Cyborg related discussions usually start with tag:[cyborg]. `<The openstack-discuss Archives http://lists.openstack.org/pipermail/openstack-discuss/>`_ We also have our planed goals and schedule for each OpenStack official release. If you are a new contributor who are looking for tasks, please take a look. we have tasks from low-hanging-fruit to middle, and advanced levels. `Development_Release_Schedule <https://wiki.openstack.org/wiki/Cyborg#Development_Release_Schedule>`_But before you report a bug or register a new feature, we recommend you to check if it is already registered there. Otherwise, it might be a duplicated patch and will be abandoned. If you're still confused, as a more efficient way, we encourage you to go and ask PTL and cores in the IRC channel directly. Or mail PTL if IRC is not convenient for you.",with {{cookiecutter.service}}.,16,1
openstack%2Fpuppet-openstack-integration~master~Idec36d03284ff5569db34107a365a02346aa4103,openstack/puppet-openstack-integration,master,Idec36d03284ff5569db34107a365a02346aa4103,Placement: Remove redundant override of api_port/path,MERGED,2021-11-24 04:27:05.000000000,2021-12-16 05:40:20.000000000,2021-12-16 05:40:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-24 04:27:05.000000000', 'files': ['manifests/placement.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/963ce0bea027e56a2344bf297dd1c28546ede3e3', 'message': 'Placement: Remove redundant override of api_port/path\n\nDefault values of api_port and path have been updated, so we no longer\nneed to set these parameters explicitly.\n\nDepends-on: https://review.opendev.org/819052\nChange-Id: Idec36d03284ff5569db34107a365a02346aa4103\n'}]",3,819053,963ce0bea027e56a2344bf297dd1c28546ede3e3,17,3,1,9816,,,0,"Placement: Remove redundant override of api_port/path

Default values of api_port and path have been updated, so we no longer
need to set these parameters explicitly.

Depends-on: https://review.opendev.org/819052
Change-Id: Idec36d03284ff5569db34107a365a02346aa4103
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/819053/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/placement.pp'],1,963ce0bea027e56a2344bf297dd1c28546ede3e3,placement-port,," api_port => '8778', path => '/',",0,2
openstack%2Fpython-heatclient~master~Iba863242365c4be63495600b741513c2ca0ea9b0,openstack/python-heatclient,master,Iba863242365c4be63495600b741513c2ca0ea9b0,Fix test and lower constraints,MERGED,2021-12-16 04:26:44.000000000,2021-12-16 05:35:43.000000000,2021-12-16 05:34:11.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-12-16 04:26:44.000000000', 'files': ['lower-constraints.txt', 'heatclient/tests/functional/osc/v1/test_readonly.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4753a47bbf1c31b907b21b3987dc4cc1b130990d', 'message': 'Fix test and lower constraints\n\nThis fixes failures for PyYAML new version and\nlower constraints.\n\nChange-Id: Iba863242365c4be63495600b741513c2ca0ea9b0\n'}]",1,821931,4753a47bbf1c31b907b21b3987dc4cc1b130990d,9,4,1,8833,,,0,"Fix test and lower constraints

This fixes failures for PyYAML new version and
lower constraints.

Change-Id: Iba863242365c4be63495600b741513c2ca0ea9b0
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/31/821931/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'heatclient/tests/functional/osc/v1/test_readonly.py']",2,4753a47bbf1c31b907b21b3987dc4cc1b130990d,," self.assertIsInstance(yaml.safe_load(rsrc_schema), dict)"," self.assertIsInstance(yaml.load(rsrc_schema), dict)",5,5
openstack%2Ftripleo-ansible~stable%2Fwallaby~I271a1b7436ed9d2a737a0660abe76b08723188ee,openstack/tripleo-ansible,stable/wallaby,I271a1b7436ed9d2a737a0660abe76b08723188ee,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:33:33.000000000,2021-12-16 05:13:09.000000000,2021-12-16 05:11:29.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-05 15:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51e4ab9c161b1d4c29cfeebd169f5301a16c3386', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I271a1b7436ed9d2a737a0660abe76b08723188ee\n'}, {'number': 2, 'created': '2021-12-15 14:52:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2b993cc761de500482c67ac2ad14e818770c85d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I271a1b7436ed9d2a737a0660abe76b08723188ee\n'}]",4,789886,f2b993cc761de500482c67ac2ad14e818770c85d,24,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I271a1b7436ed9d2a737a0660abe76b08723188ee
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/789886/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,51e4ab9c161b1d4c29cfeebd169f5301a16c3386,create-wallaby,install_command = python3 -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},install_command = python3 -m pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fkolla-ansible~stable%2Ftrain~Ieae6538d5002d8030d7813fad07d488c5deb85dc,openstack/kolla-ansible,stable/train,Ieae6538d5002d8030d7813fad07d488c5deb85dc,Remove the cpuset_cpus parameter for nova_libvirt container,ABANDONED,2021-01-12 12:00:53.000000000,2021-12-16 05:05:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-12 12:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85940bf3ff2d907f0be7423567f15c76d4f98657', 'message': 'Remove the cpuset_cpus parameter for nova_libvirt container\n\nRemove the cpuset_cpus parameter even when it is configured for\nnova_libvirt container. If libvirtd start with cpuset, qemu-kvm will\nstart failed.\n\nIssue: 81630\nChange-Id: Ieae6538d5002d8030d7813fad07d488c5deb85dc\n'}, {'number': 2, 'created': '2021-12-16 04:39:34.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1126f279b166851aac87e4a30daf6da6e546522', 'message': 'Remove the cpuset_cpus parameter for nova_libvirt container\n\nRemove the cpuset_cpus parameter even when it is configured for\nnova_libvirt container. If libvirtd start with cpuset, qemu-kvm will\nstart failed.\n\nCloses-Bug: #1954720\nChange-Id: Ieae6538d5002d8030d7813fad07d488c5deb85dc\n'}]",0,770275,b1126f279b166851aac87e4a30daf6da6e546522,5,2,2,7488,,,0,"Remove the cpuset_cpus parameter for nova_libvirt container

Remove the cpuset_cpus parameter even when it is configured for
nova_libvirt container. If libvirtd start with cpuset, qemu-kvm will
start failed.

Closes-Bug: #1954720
Change-Id: Ieae6538d5002d8030d7813fad07d488c5deb85dc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/770275/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/group_vars/all.yml']",2,85940bf3ff2d907f0be7423567f15c76d4f98657,,"default_container_dimensions: cpuset_cpus: ""{{ default_cpuset_cpus | default('') }}""",default_container_dimensions: {} ,3,3
openstack%2Fskyline-console~master~Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b,openstack/skyline-console,master,Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b,fix: Add tip for ipv6 subnet,MERGED,2021-12-15 08:47:35.000000000,2021-12-16 04:58:45.000000000,2021-12-16 04:58:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-12-15 08:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e6cec7db263ac7d3b3665fc9e2fcb9e3b3b0ba03', 'message': 'fix: Add tip for ipv6 subnet\n\n1. add tip for ipv6 subnet\n2. set default value of ipv6_ra_mode & ipv6_address_mode\n\nChange-Id: Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b\n'}, {'number': 2, 'created': '2021-12-15 09:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/74def6c9346c783b79076946e51aaa3e4734c2a4', 'message': 'fix: Add tip for ipv6 subnet\n\n1. add tip for ipv6 subnet\n2. set default value of ipv6_ra_mode & ipv6_address_mode\n\nChange-Id: Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b\n'}, {'number': 3, 'created': '2021-12-15 09:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4cab385c5536dd83fefb6c0df0c010e34bbf765e', 'message': 'fix: Add tip for ipv6 subnet\n\n1. add tip for ipv6 subnet\n2. set default value of ipv6_ra_mode & ipv6_address_mode\n\nChange-Id: Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b\n'}, {'number': 4, 'created': '2021-12-16 02:41:04.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/resources/network.jsx', 'src/pages/network/containers/Network/actions/CreateSubnet.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6ea6e2c8d0bd45dfd94733354812d78b13d05a28', 'message': 'fix: Add tip for ipv6 subnet\n\n1. add tip for ipv6 subnet\n2. set default value of ipv6_ra_mode & ipv6_address_mode\n\nChange-Id: Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b\n'}]",0,821805,6ea6e2c8d0bd45dfd94733354812d78b13d05a28,10,2,4,33636,,,0,"fix: Add tip for ipv6 subnet

1. add tip for ipv6 subnet
2. set default value of ipv6_ra_mode & ipv6_address_mode

Change-Id: Ie2cfe736052892b52e508a81a7d5c8e0e2a3528b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/05/821805/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/network/containers/Network/actions/CreateSubnet.jsx']",4,e6cec7db263ac7d3b3665fc9e2fcb9e3b3b0ba03,," ipv6_ra_mode: 'slaac', ipv6_address_mode: 'slaac', tip: t( 'Default is slaac, for details, see https://docs.openstack.org/neutron/pike/admin/config-ipv6.html' ), tip: t( 'Default is slaac, for details, see https://docs.openstack.org/neutron/pike/admin/config-ipv6.html' ),",,18,0
openstack%2Fkayobe~stable%2Fvictoria~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/victoria,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,MERGED,2021-12-06 12:04:40.000000000,2021-12-16 04:54:20.000000000,2021-12-16 04:52:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-06 12:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d7f447d945b1a7646fc9f0b9750ac8a5c6a250b4', 'message': ""Fix installation prefix detection\n\nWhen multiple 'lib' components are present in the installation path,\nKayobe fails to detect the right installation prefix which causes\nvarious commands to raise an error.\n\nRewrite logic to detect the last 'lib' component in path instead. This\nshould work as long as this function is not stored under a lib directory\ninside the Kayobe source tree.\n\nChange-Id: Ie9b15db6563546ede9ce9735292ec566d540432a\nStory: 2009721\nTask: 44109\n(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)\n""}, {'number': 2, 'created': '2021-12-06 12:04:57.000000000', 'files': ['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c0073e7eafb9080e078b061ecdccbab3c359e1f8', 'message': ""Fix installation prefix detection\n\nWhen multiple 'lib' components are present in the installation path,\nKayobe fails to detect the right installation prefix which causes\nvarious commands to raise an error.\n\nRewrite logic to detect the last 'lib' component in path instead. This\nshould work as long as this function is not stored under a lib directory\ninside the Kayobe source tree.\n\nChange-Id: Ie9b15db6563546ede9ce9735292ec566d540432a\nStory: 2009721\nTask: 44109\n(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)\n""}]",1,820501,c0073e7eafb9080e078b061ecdccbab3c359e1f8,13,3,2,15197,,,0,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/01/820501/2 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml']",3,d7f447d945b1a7646fc9f0b9750ac8a5c6a250b4,story/2009721-stable/victoria-stable/victoria,--- fixes: - | Fixes a failure to detect the Kayobe installation prefix when ``lib`` is present multiple times in the installation path. See `story 2009721 <https://storyboard.openstack.org/#!/story/2009721>`__ for details. ,,16,6
openstack%2Ftripleo-common~master~I51e8f830a35766033b063d2128a8a0a678308b32,openstack/tripleo-common,master,I51e8f830a35766033b063d2128a8a0a678308b32,Remove workaround for tempest sudoers,MERGED,2021-12-13 15:50:14.000000000,2021-12-16 04:34:01.000000000,2021-12-16 04:32:11.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-13 15:50:14.000000000', 'files': ['container-images/tcib/base/os/tempest/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a7a2a13f574aada3aea163650dafbdb5ab74136', 'message': 'Remove workaround for tempest sudoers\n\nThis removes the workaround added in\nI2d06904cc89e398f82ffc8b4f2d862427507d0dc. It is no longer required once\nthat patch is included in the tripleo-common package.\n\nChange-Id: I51e8f830a35766033b063d2128a8a0a678308b32\n'}]",5,821600,7a7a2a13f574aada3aea163650dafbdb5ab74136,20,5,1,23811,,,0,"Remove workaround for tempest sudoers

This removes the workaround added in
I2d06904cc89e398f82ffc8b4f2d862427507d0dc. It is no longer required once
that patch is included in the tripleo-common package.

Change-Id: I51e8f830a35766033b063d2128a8a0a678308b32
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/821600/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/tempest/tempest.yaml'],1,7a7a2a13f574aada3aea163650dafbdb5ab74136,,- run: cp /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers /etc/sudoers.d/tempest_sudoers,- run: >- if [ -e /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers ]; then cp /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers /etc/sudoers.d/tempest_sudoers; else sed -e 's/cloud-admin/tempest/' /usr/share/openstack-tripleo-common-containers/container-images/kolla/tripleoclient/tripleoclient_sudoers > /etc/sudoers.d/tempest_sudoers; fi,1,6
openstack%2Ftripleo-heat-templates~master~Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96,openstack/tripleo-heat-templates,master,Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96,Start the l3 agent with cgroupns: host,MERGED,2021-12-14 15:01:07.000000000,2021-12-16 04:32:07.000000000,2021-12-16 04:32:07.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-12-14 15:01:07.000000000', 'files': ['deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/157d0c112bf21139b4d9ca076f1121a941a35114', 'message': 'Start the l3 agent with cgroupns: host\n\nSince the l3 agent is spinning containers, it should use the host cgroups\nnamespaces just like we did in nova [1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802489/\n\nRelated-Bug: #1936005\nCloses-Bug: #1953738\nChange-Id: Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96\n'}]",1,821709,157d0c112bf21139b4d9ca076f1121a941a35114,14,7,1,27419,,,0,"Start the l3 agent with cgroupns: host

Since the l3 agent is spinning containers, it should use the host cgroups
namespaces just like we did in nova [1]

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802489/

Related-Bug: #1936005
Closes-Bug: #1953738
Change-Id: Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/821709/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-l3-container-puppet.yaml'],1,157d0c112bf21139b4d9ca076f1121a941a35114,, cgroupns: host,,1,0
openstack%2Fdesignate-tempest-plugin~master~I259e7b94aae2e7794dd2514bb50cdc811c518845,openstack/designate-tempest-plugin,master,I259e7b94aae2e7794dd2514bb50cdc811c518845,Fix PTR API tests for scoped tokens,MERGED,2021-12-14 01:02:03.000000000,2021-12-16 03:32:09.000000000,2021-12-16 03:29:50.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-12-14 01:02:03.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_ptrs.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0ed7644b8b82aa2893030a91c38b5f5904730c02', 'message': 'Fix PTR API tests for scoped tokens\n\nThe PTR API tests were not using scoped tokens even though a test\njob had scoped tokens enabled. This was not caught because the scoped\ntoken patch for designate has not yet merged.\nThis patch updates the PTR API tests to use a scoped token for\nadmin if scoped tokens are enabled in the test run.\n\nChange-Id: I259e7b94aae2e7794dd2514bb50cdc811c518845\n'}]",0,821632,0ed7644b8b82aa2893030a91c38b5f5904730c02,9,3,1,11628,,,0,"Fix PTR API tests for scoped tokens

The PTR API tests were not using scoped tokens even though a test
job had scoped tokens enabled. This was not caught because the scoped
token patch for designate has not yet merged.
This patch updates the PTR API tests to use a scoped token for
admin if scoped tokens are enabled in the test run.

Change-Id: I259e7b94aae2e7794dd2514bb50cdc811c518845
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/32/821632/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_ptrs.py'],1,0ed7644b8b82aa2893030a91c38b5f5904730c02,," credentials = ['primary', 'admin', 'system_admin'] if CONF.enforce_scope.designate: cls.admin_ptr_client = cls.os_system_admin.dns_v2.PtrClient() else: cls.admin_ptr_client = cls.os_admin.dns_v2.PtrClient()"," credentials = ['primary', 'admin'] cls.admin_ptr_client = cls.os_admin.dns_v2.PtrClient()",5,2
openstack%2Fzaqar~master~Ibbaea3fee6645ac15e808b87882be1b33c964112,openstack/zaqar,master,Ibbaea3fee6645ac15e808b87882be1b33c964112,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 06:06:56.000000000,2021-12-16 03:10:52.000000000,2021-12-16 03:06:31.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-24 06:06:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/72d12f01c1ea5032f6d0e17e67deeb6464da4269', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ibbaea3fee6645ac15e808b87882be1b33c964112\n'}]",3,768392,72d12f01c1ea5032f6d0e17e67deeb6464da4269,15,2,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ibbaea3fee6645ac15e808b87882be1b33c964112
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/92/768392/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,72d12f01c1ea5032f6d0e17e67deeb6464da4269,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Frequirements~master~I5b93dc8a1266909cb43e4c7032a33547aa22674a,openstack/requirements,master,I5b93dc8a1266909cb43e4c7032a33547aa22674a,Updated from generate-constraints,ABANDONED,2021-12-16 02:53:56.000000000,2021-12-16 03:04:18.000000000,,[],"[{'number': 1, 'created': '2021-12-16 02:53:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd8d2988a94542c77b94598c1a60d6aa9f83500a', 'message': 'Updated from generate-constraints\n\nChange-Id: I5b93dc8a1266909cb43e4c7032a33547aa22674a\n'}]",0,821928,fd8d2988a94542c77b94598c1a60d6aa9f83500a,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I5b93dc8a1266909cb43e4c7032a33547aa22674a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/821928/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fd8d2988a94542c77b94598c1a60d6aa9f83500a,openstack/requirements/constraints,lxml===4.7.1rcssmin===1.1.0moto===2.2.19XStatic-Angular===1.8.2.1google-api-core===2.3.1pyghmi===1.5.30graphviz===0.19.1cryptography===36.0.1pkg_resources===0.0.0django-compressor===3.0amqp===5.0.7scp===0.14.2pytest-xdist===2.5.0mypy===0.920boto3===1.20.24pysaml2===7.1.0kubernetes===21.7.0tomli===1.2.3;python_version=='3.6' tomli===2.0.0;python_version=='3.8'botocore===1.23.24typed-ast===1.5.1;python_version=='3.6'xattr===0.9.9rjsmin===1.2.0fasteners===0.16.3pytest-forked===1.4.0,lxml===4.6.4rcssmin===1.0.6moto===2.2.17XStatic-Angular===1.5.8.0google-api-core===2.3.0pyghmi===1.5.29graphviz===0.19cryptography===36.0.0django-compressor===2.4.1amqp===5.0.6scp===0.14.1pytest-xdist===2.4.0mypy===0.910boto3===1.20.23pysaml2===7.0.1kubernetes===20.13.0botocore===1.23.23typed-ast===1.4.3;python_version=='3.6'xattr===0.9.8rjsmin===1.1.0fasteners===0.14.1pytest-forked===1.3.0setuptools===59.5.0,25,23
openstack%2Fironic~master~Ief7df40c83ef03d0ec5ae92d09ceffd39d3c12a3,openstack/ironic,master,Ief7df40c83ef03d0ec5ae92d09ceffd39d3c12a3,Allow enabling fast-track per node,MERGED,2021-12-08 11:56:26.000000000,2021-12-16 03:03:35.000000000,2021-12-15 16:39:28.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 11:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/880c5efdba16cf49c48a1d9a2d33229b6e93a3c5', 'message': 'Allow enabling fast-track per node\n\nThis is useful when some nodes need the ""agent"" power interface, while\nthe others can be deployed normally.\n\nChange-Id: Ief7df40c83ef03d0ec5ae92d09ceffd39d3c12a3\n'}, {'number': 2, 'created': '2021-12-08 13:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f3199cf6a23f7310e5631a4a692069b0466e1da', 'message': 'Allow enabling fast-track per node\n\nThis is useful when some nodes need the ""agent"" power interface, while\nthe others can be deployed normally.\n\nChange-Id: Ief7df40c83ef03d0ec5ae92d09ceffd39d3c12a3\n'}, {'number': 3, 'created': '2021-12-08 13:27:05.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/utils.py', 'ironic/conf/inspector.py', 'doc/source/admin/fast-track.rst', 'ironic/tests/unit/drivers/modules/test_agent_power.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/inspector.py', 'ironic/drivers/modules/agent_power.py', 'releasenotes/notes/fast-track-per-node-1fc62918e03fd74a.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a6cdf4b249a85575017264aea20dd0148564ee3', 'message': 'Allow enabling fast-track per node\n\nThis is useful when some nodes need the ""agent"" power interface, while\nthe others can be deployed normally.\n\nChange-Id: Ief7df40c83ef03d0ec5ae92d09ceffd39d3c12a3\n'}]",10,821010,2a6cdf4b249a85575017264aea20dd0148564ee3,40,4,3,10239,,,0,"Allow enabling fast-track per node

This is useful when some nodes need the ""agent"" power interface, while
the others can be deployed normally.

Change-Id: Ief7df40c83ef03d0ec5ae92d09ceffd39d3c12a3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/821010/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/fast-track.rst', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/conductor/utils.py', 'ironic/common/utils.py', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py', 'ironic/drivers/modules/agent_power.py', 'releasenotes/notes/fast-track-per-node-1fc62918e03fd74a.yaml']",10,880c5efdba16cf49c48a1d9a2d33229b6e93a3c5,fast-track-per-node,--- features: - | Fast track mode can now be enabled or disabled per node:: baremetal node set <node> --driver-info fast_track=true upgrade: - | The configuration option ``[inspector]power_off`` is now ignored for nodes that have fast-track enabled. These nodes are never powered off. ,,50,25
openstack%2Fproject-config~master~I7d7804376c4579b550c865a3ad5719fea1ec703b,openstack/project-config,master,I7d7804376c4579b550c865a3ad5719fea1ec703b,Add openEuler disto support for elements,MERGED,2021-12-15 02:33:45.000000000,2021-12-16 02:44:44.000000000,2021-12-16 02:21:45.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 02:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ac8bb8e94f74d603ba75a1ddb85b24fe20f295f', 'message': 'Add openEuler disto support for elements\n\nThis patch add openEuler disto support for the diskimage-builder\nelements in project-config\n\nChange-Id: I7d7804376c4579b550c865a3ad5719fea1ec703b\n'}, {'number': 2, 'created': '2021-12-16 01:37:42.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-boot-settings', 'nodepool/elements/nodepool-base/post-install.d/20-iptables', 'nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/nodepool-base/install.d/20-iptables'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c28cce5d750b2ce6be2d1c618763ae14caf12087', 'message': 'Add openEuler disto support for elements\n\nThis patch add openEuler disto support for the diskimage-builder\nelements in project-config\n\nChange-Id: I7d7804376c4579b550c865a3ad5719fea1ec703b\n'}]",4,821794,c28cce5d750b2ce6be2d1c618763ae14caf12087,12,2,2,15054,,,0,"Add openEuler disto support for elements

This patch add openEuler disto support for the diskimage-builder
elements in project-config

Change-Id: I7d7804376c4579b550c865a3ad5719fea1ec703b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/821794/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/finalise.d/89-boot-settings', 'nodepool/elements/nodepool-base/post-install.d/20-iptables', 'nodepool/elements/nodepool-base/install.d/20-iptables']",3,8ac8bb8e94f74d603ba75a1ddb85b24fe20f295f,fix_openeuler,"elif [[ ""$DISTRO_NAME"" =~ (centos|rhel7|fedora|openeuler) ]] ; then","elif [[ ""$DISTRO_NAME"" =~ (centos|rhel7|fedora) ]] ; then",6,6
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5b6124210aec0c25ffa7daf82a9c6e944bdb4966,openstack/tripleo-heat-templates,stable/wallaby,I5b6124210aec0c25ffa7daf82a9c6e944bdb4966,Remove tripleo_ovn_mac_port_name port tag,MERGED,2021-12-14 04:06:20.000000000,2021-12-16 02:35:05.000000000,2021-12-16 02:35:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 04:06:20.000000000', 'files': ['network/ports/ovn_mac_addr_port.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/807dcc675e9b617164e912fe0ea9a0f235012226', 'message': 'Remove tripleo_ovn_mac_port_name port tag\n\nThe tripleo_ovn_mac_port_name can become very\nlong in case a very long role name is used.\nFor example, the following role name triggered\nthe maximum length of 60 characters error:\n  ""DistributedComputeHCIScaleOut""\n\nThe tags are used for ideompetency in:\ntripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py\n\nHowever the tripleo_ovn_mac_port_name tag is\nnot actually used.\n\nRelated Bug: #1921713\n\nChange-Id: I5b6124210aec0c25ffa7daf82a9c6e944bdb4966\n(cherry picked from commit d8475ede4ae51aa546ecebdd04a94126ad19d4dc)\n'}]",1,821522,807dcc675e9b617164e912fe0ea9a0f235012226,12,3,1,24245,,,0,"Remove tripleo_ovn_mac_port_name port tag

The tripleo_ovn_mac_port_name can become very
long in case a very long role name is used.
For example, the following role name triggered
the maximum length of 60 characters error:
  ""DistributedComputeHCIScaleOut""

The tags are used for ideompetency in:
tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py

However the tripleo_ovn_mac_port_name tag is
not actually used.

Related Bug: #1921713

Change-Id: I5b6124210aec0c25ffa7daf82a9c6e944bdb4966
(cherry picked from commit d8475ede4ae51aa546ecebdd04a94126ad19d4dc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/821522/1 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/ovn_mac_addr_port.yaml'],1,807dcc675e9b617164e912fe0ea9a0f235012226,bug/1921713-stable/wallaby,, template: tripleo_ovn_mac_port_name=$PORT_NAME params: $PORT_NAME: {get_param: PortName} - str_replace:,0,4
openstack%2Ftripleo-quickstart-extras~master~Ibfbefcacd684f046c0798987483c48a97e222092,openstack/tripleo-quickstart-extras,master,Ibfbefcacd684f046c0798987483c48a97e222092,Specify backing format for restoring images,MERGED,2021-12-14 14:30:40.000000000,2021-12-16 02:35:02.000000000,2021-12-16 02:35:02.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-14 14:30:40.000000000', 'files': ['roles/snapshot-libvirt/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5083aff99d308234ed95aadda67df7c98e776b3', 'message': 'Specify backing format for restoring images\n\nhttps://github.com/libguestfs/libguestfs/commit/45de287447bb18d59749fbfc1ec5072413090109\nprovides a fix to autodect the backing format.\n\nUntil we have that fix in libguestfs, specify it explicitly.\n\nRelated: rhbz#1998820\n\nChange-Id: Ibfbefcacd684f046c0798987483c48a97e222092\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,821708,b5083aff99d308234ed95aadda67df7c98e776b3,11,7,1,6926,,,0,"Specify backing format for restoring images

https://github.com/libguestfs/libguestfs/commit/45de287447bb18d59749fbfc1ec5072413090109
provides a fix to autodect the backing format.

Until we have that fix in libguestfs, specify it explicitly.

Related: rhbz#1998820

Change-Id: Ibfbefcacd684f046c0798987483c48a97e222092
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/08/821708/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/snapshot-libvirt/tasks/main.yml'],1,b5083aff99d308234ed95aadda67df7c98e776b3,cs9-libvirt-repro, qemu-img create -F qcow2 -f qcow2 -b {{ libvirt_volume_path }}/{{ item.name }}.qcow2.bak {{ libvirt_volume_path }}/{{ item.name }}.qcow2 qemu-img create -F qcow2 -f qcow2 -b {{ libvirt_volume_path }}/{{ item.name }}.qcow2.bak {{ libvirt_volume_path }}/{{ item.name }}.qcow2, qemu-img create -f qcow2 -b {{ libvirt_volume_path }}/{{ item.name }}.qcow2.bak {{ libvirt_volume_path }}/{{ item.name }}.qcow2 qemu-img create -f qcow2 -b {{ libvirt_volume_path }}/{{ item.name }}.qcow2.bak {{ libvirt_volume_path }}/{{ item.name }}.qcow2,2,2
openstack%2Ftacker-specs~master~I7e5193b4d437d6c053929f6e4828f477c83f05a9,openstack/tacker-specs,master,I7e5193b4d437d6c053929f6e4828f477c83f05a9,Support NFV SOL_v3 error-handling operation,MERGED,2021-10-15 07:38:14.000000000,2021-12-16 02:23:09.000000000,2021-12-16 02:10:11.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-10-15 07:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c0d9187bf3acfa81b101abde71a4c3d179b2a0c3', 'message': 'Support NFV SOL_v3 error-handling operation\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nerror handling operations (retry, fail, rollback).\n\nCo-authored-By: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp>\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I7e5193b4d437d6c053929f6e4828f477c83f05a9\n'}, {'number': 2, 'created': '2021-10-18 06:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dd378c9c0acb4a68f019a62a8c51a47cf5b0c9e7', 'message': 'Support NFV SOL_v3 error-handling operation\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nerror handling operations (retry, fail, rollback).\n\nCo-authored-By: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp>\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I7e5193b4d437d6c053929f6e4828f477c83f05a9\n'}, {'number': 3, 'created': '2021-12-14 05:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/418b5485d11dd605efe7beced040503170aaadbf', 'message': 'Support NFV SOL_v3 error-handling operation\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nerror handling operations (retry, fail, rollback).\n\nCo-authored-By: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp>\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I7e5193b4d437d6c053929f6e4828f477c83f05a9\n'}, {'number': 4, 'created': '2021-12-14 23:56:04.000000000', 'files': ['specs/yoga/support-nfv-solv3-error-handling.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c5e2afb4743c0c2dd036f7e0570360a2fc4d25e6', 'message': 'Support NFV SOL_v3 error-handling operation\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nerror handling operations (retry, fail, rollback).\n\nCo-authored-By: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp>\nImplements: blueprint support-nfv-solv3-error-handling\nChange-Id: I7e5193b4d437d6c053929f6e4828f477c83f05a9\n'}]",39,814111,c5e2afb4743c0c2dd036f7e0570360a2fc4d25e6,23,5,4,31668,,,0,"Support NFV SOL_v3 error-handling operation

This specification supports a new version of
VNF lifecycle management APIs complying with ETSI NFV SOL v3.
It adds a new version of APIs involved in
error handling operations (retry, fail, rollback).

Co-authored-By: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp>
Implements: blueprint support-nfv-solv3-error-handling
Change-Id: I7e5193b4d437d6c053929f6e4828f477c83f05a9
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/11/814111/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/support-nfv-solv3-error-handling.rst'],1,c0d9187bf3acfa81b101abde71a4c3d179b2a0c3,bp/support-nfv-solv3-error-handling,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Support ETSI NFV-SOL_v3 error-handling operation ================================================ https://blueprints.launchpad.net/tacker/+spec/support-nfv-solv3-error-handling This specification supports a new version of VNF lifecycle management APIs complying with ETSI NFV SOL v3. It adds a new version of APIs involved in error handling operations (retry, fail, rollback). Problem description =================== ETSI specifications within the NFV Architecture Framework [#etsi_nfv]_ describe the main aspects of NFV development and usage based on the industry needs, feedback from SDN/NFV vendors and telecom operators. These specifications include the REST API and data model architecture which is used by NFV users and developers in related products. Support of key ETSI NFV specifications will significantly reduce efforts for Tacker integration into Telecom production networks and also will simplify further development and support of future standards. To integrate Tacker into a wide variety of products, it should comply with multiple versions of ETSI NFV SOL specifications. Tacker has already supported VNF lifecycle management operations defined in ETSI NFV SOL002 v2.6.1 [#NFV-SOL002_261]_ and SOL003 v2.6.1 [#NFV-SOL003_261]_. Furthermore, Xena release supported a part of VNF lifecycle management operations defined in ETSI NFV SOL002 v3.3.1 [#NFV-SOL002_331]_ and SOL003 v3.3.1 [#NFV-SOL003_331]_. The details of supported APIs are described in Tacker Xena Specifications [#SOL_v3_starting_and_terminating]_ [#SOL_v3_getting_LCM_information]_. Tacker should support more VNF lifecycle management operations defined in ETSI NFV SOL002/003 v3.3.1. Proposed change =============== Since the VNF lifecycle management interface version specified in ETSI NFV SOL v3 is ""2.0.0"", the API major version included in the URI shall be set to ""v2"". Supporting v2 APIs involves changing the data type of some attributes and adding or removing attributes. To avoid impact on the existing implementation, APIs corresponding to ""v2"" should be implemented as a process independent of that of ""v1"". This interface supports the following APIs involved in error handling of lifecycle management operation. * Retry operation (POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/retry) * Fail operation (POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/fail) * Rollback operation (POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback) 1) Flow of Retry operation ----------------------------- LCM operation that can perform Retry operation are Instantiation, Termination, Healing, Scaling, Modify and ChangeExternalConnectivity. .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/retry""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""start retry procedure""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (PROCESSING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""end retry procedure""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (COMPLETED or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } The procedure consists of the following steps as illustrated in above sequence: Precondition: VNF lifecycle management operation occurrence is in FAILED_TEMP state. #. The Client sends a POST request with an empty body to the ""Retry operation"" resource. #. VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""PROCESSING"" state to indicate the processing occurrence of the lifecycle management operation. #. On successful retry, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""COMPLETED"" state to indicate successful completion of the operation. #. On unsuccessful retry, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""FAILED_TEMP"" state to indicate an intermediate error (retry failed) of the operation. Postcondition: The VNF lifecycle management operation occurrence is in one of the following states: FAILED_TEMP, COMPLETED. .. note:: For details on the retry procedure, refer to the specifications [#SOL_v3_starting_and_terminating]_ [#SOL_v3_enhance_LCM_operation]_ for each VNF lifecycle management operation. 2) Flow of Fail operation ---------------------------- LCM operation that can perform Fail operation are Instantiation, Termination, Healing, Scaling, Modify and ChangeExternalConnectivity. .. seqdiag:: seqdiag { Client; tacker-server; tacker-conductor; tacker-database; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/fail""]; ""tacker-server"" -> ""tacker-database"" [label = ""mark operation as failed""]; ""tacker-server"" <-- ""tacker-database"" ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (FAILED)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; Client <-- ""tacker-server"" [label = ""Response 200 OK""]; } The procedure consists of the following steps as illustrated in above sequence: Precondition: VNF lifecycle management operation occurrence is in FAILED_TEMP state. #. The client sends a POST request with an empty body to the ""Fail operation"" resource. #. VNFM marks the operation as failed. #. VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""FAILED"" state to indicate the final failure of the operation. Postcondition: The VNF lifecycle management operation occurrence is FAILED state. 3) Flow of Rollback operation ------------------------------ LCM operation that can perform Rollback operation are Instantiation, Scale-out, Modify, and ChangeExternalConnectivity. When a Rollback request is received, VNFM operates to stop the lifecycle operation normally while it is terminated. As shown in the below, there are differences in flow of rollback for each VNF lifecycle management operation. When the rollback operation is executed during VNF instantiation, VNFM removes all VMs and resources. .. seqdiag:: seqdiag { node_width = 90; edge_length = 130; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLING_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""delete stack if exists""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLED_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } When the rollback operation is executed for scale-out VNF operation, VNFM reverts changes of VMs and resources specified in the middle of scale-out operation. .. seqdiag:: seqdiag { node_width = 75; edge_length = 100; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLING_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute LCM operation""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""mark stack unhealthy (PATCH /v1/{tenant_id}/stacks/{stack_name}/{stack_id}/resources/{resource_name_or_physical_id})""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""openstackDriver"" -> ""heat"" [label = ""update stack (PATCH /v1/{tenant_id}/stacks/{stack_name}/{stack_id})""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLED_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } When the rollback operation is executed during modifying VNF Information, VNFM simply updates the state of operation. .. seqdiag:: seqdiag { node_width = 90; edge_length = 130; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLING_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLED_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } When the rollback operation is executed during changing external VNF connectivity, VNFM reverts changes of the external connectivity for VNF instances. .. seqdiag:: seqdiag { node_width = 90; edge_length = 130; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLING_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute LCM operation""]; ""VnfLcmDriver"" ->> ""VnfLcmDriver"" [label = ""recreated stack parameters using instantiatedVnfInfo""]; ""VnfLcmDriver"" -> ""openstackDriver"" [label = ""execute openstackDriver""]; ""openstackDriver"" -> ""heat"" [label = ""update stack (PATCH /v1/{tenant_id}/stacks/{stack_name}/{stack_id})""]; ""openstackDriver"" <-- ""heat"" [label = """"]; ""VnfLcmDriver"" <-- ""openstackDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLED_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } The procedure consists of the following steps as illustrated in above sequences: Precondition: VNF lifecycle management operation occurrence is in FAILED_TEMP state. #. The Client sends a POST request with an empty body to the ""Rollback operation"" resource. #. VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""ROLLING_BACK"" state to indicate the processing occurrence of the lifecycle management operation. #. On successful rollback, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""ROLLED_BACK"" state to indicate successful completion of the operation. #. On unsuccessful rollback, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""FAILED_TEMP"" state to indicate an intermediate error (rollback failed) of the operation. Postcondition: The VNF lifecycle management operation occurrence is in one of the following states: FAILED_TEMP, ROLLED_BACK. .. note:: API v1 supports rollback operation for Instantiation and Scale-out. API v1 does not support rollback operation for Modify and ChangeExternalConnectivity. Data model impact ----------------- The change has no impact for data model. Since Xena release has already supported all attributes defined in SOL002 v3.3.1 [#NFV-SOL002_331]_ and SOL003 v3.3.1 [#NFV-SOL003_331]_, Data objects and Database tables do not need to be changed. REST API impact --------------- All defined attributes should be supported in API validation. * | **Name**: Retry a VNF LCM operation occurrence | **Description**: Request to retry a VNF LCM operation occurrence | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId}/retry | **Request**: Resource URI variables for this resource .. list-table:: :header-rows: 1 :widths: 2 2 * - Name - Description * - vnfLcmOpOccId - Identifier of a VNF lifecycle management operation occurrence to be retried. | **Response**: .. list-table:: :widths: 10 10 16 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - n/a - n/a - Success: 202 - The request has been accepted for processing, but processing has not been completed. * - ProblemDetails - 0..1 - Error: 404 - Error: The API producer did not find a current representation for the target resource or is not willing to disclose that one exists. The general cause for this error and its handling is specified in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_, not been completed. * - ProblemDetails - 1 - Error: 409 - Error: The operation cannot be executed currently, due to a conflict with the state of the VNF LCM operationoccurrence resource. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx, 5xx - Error: Any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Fail a VNF LCM operation occurrence | **Description**: Request to mark a VNF LCM operation occurrence as ""FAILED"". | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId}/fail | **Request**: Resource URI variables for this resource .. list-table:: :header-rows: 1 :widths: 2 2 * - Name - Description * - vnfLcmOpOccId - Identifier of the related VNF lifecycle management operation occurrence to be marked as ""failed"". | **Response**: .. list-table:: :widths: 10 10 16 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - VnfLcmOpOcc - 1 - Success: 200 - The state of the VNF lifecycle management operation occurrence has been changed successfully. * - ProblemDetails - 0..1 - Error: 404 - Error: The API producer did not find a current representation for the target resource or is not willing to disclose that one exists. The general cause for this error and its handling is specified in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_, not been completed. * - ProblemDetails - 1 - Error: 409 - Error: The operation cannot be executed currently, due to a conflict with the state of the VNF LCM operationoccurrence resource. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx, 5xx - Error: Any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 * - Attribute name - Data type - Cardinality - Supported in API v2 - Supported in API v1 - Description * - id - Identifier - 1 - Yes - Yes - * - operationState - LcmOperationStateType - 1 - Yes - Yes - * - stateEnteredTime - DateTime - 1 - Yes - Yes - * - startTime - DateTime - 1 - Yes - Yes - * - vnfInstanceId - Identifier - 1 - Yes - Yes - * - grantId - Identifier - 0..1 - Yes - Yes - * - operation - LcmOperationType - 1 - Yes - Yes - In SOL 002/003, 11 types of values are defined. See note. * - isAutomaticInvocation - Boolean - 1 - Yes - Yes - * - operationParams - Object - 0..1 - Yes - Yes - * - isCancelPending - Boolean - 1 - Yes - Yes - * - cancelMode - CancelModeType - 0..1 - Yes - No - In SOL 002/003, 2 types of values are defined: FORCEFUL, GRACEFUL * - error - ProblemDetails - 0..1 - Yes - Yes - * - >type - URI - 0..1 - Yes - No - * - >title - String - 0..1 - Yes - Yes - * - >status - Integer - 1 - Yes - Yes - * - >detail - String - 1 - Yes - Yes - * - >instance - URI - 0..N - Yes - No - * - >additional attributes - Not specified. - 0..N - No - No - * - resourceChanges - Structure (inlined) - 0..1 - Yes - Yes - * - >affectedVnfcs - AffectedVnfc - 0..N - Yes - Yes - * - >>id - IdentifierInVnf - 1 - Yes - Yes - * - >>vduId - IdentifierInVnfd - 1 - Yes - Yes - * - >>vnfdId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >>changeType - Enum (inlined) - 1 - Yes - Yes - Permitted values: ADDED, REMOVED, MODIFIED, TEMPORARY * - >>computeResource - ResourceHandle - 1 - Yes - Yes - * - >>>vimConnectionId - Identifier - 0..1 - Yes - Yes - * - >>>resourceProviderId - Identifier - 0..1 - Yes - No - * - >>>resourceId - IdentifierInVim - 1 - Yes - Yes - * - >>>vimLevelResourceType - String - 0..1 - Yes - No - * - >>resourceDefinitionId - IdentifierLocal - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >>zoneId - Identifier - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >>metadata - KeyValuePairs - 0..1 - Yes - No - * - >>affectedVnfcCPIds - IdentifierInVnf - 0..N - Yes - Yes - * - >>addedStorageResourceIds - VnfVirtualLinkResourceInfo - 0..N - Yes - Yes - * - >>removedStorageResourceIds - IdentifierInVnf - 0..N - Yes - Yes - * - >affectedVirtualLinks - AffectedVirtualLink - 0..N - Yes - Yes - * - >>id - IdentifierInVnf - 1 - Yes - Yes - * - >>vnfVirtualLinkDescId - IdentifierInVnfd - 1 - Yes - Yes - * - >>vnfdId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >>changeType - Enum (inlined) - 1 - Yes - Yes - Permitted values: ADDED, REMOVED, MODIFIED, TEMPORARY, LINK_PORT_ADDED, LINK_PORT_REMOVED * - >>networkResource - resourceHandle - 1 - Yes - Yes - * - >>>vimConnectionId - Identifier - 0..1 - Yes - Yes - * - >>>resourceProviderId - Identifier - 0..1 - Yes - No - * - >>>resourceId - IdentifierInVim - 1 - Yes - Yes - * - >>>vimLevelResourceType - String - 0..1 - Yes - No - * - >>vnfLinkPortIds - IdentifierInVnf - 0..N - Yes - Yes - * - >>resourceDefinitionId - IdentifierLocal - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >>zoneId - Identifier - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >>metadata - KeyValuePairs - 0..1 - Yes - No - * - >affectedExtLinkPorts - AffectedExtLinkPort - 0..N - Yes - Not defined - New attribute in API v2. * - >>id - IdentifierInVnf - 1 - Yes - Not defined - New attribute in API v2. * - >>changeType - Enum (inlined) - 1 - Yes - Not defined - | Permitted values: ADD, REMOVED | New attribute in API v2. * - >>extCpInstanceId - IdentifierInVnf - 1 - Yes - Not defined - New attribute in API v2. * - >>resourceHandle - ResourceHandle - 1 - Yes - Not defined - New attribute in API v2. * - >>>vimConnectionId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>resourceProviderId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>resourceId - IdentifierInVim - 1 - Yes - Not defined - New attribute in API v2. * - >>>vimLevelResourceType - String - 0..1 - Yes - Not defined - New attribute in API v2. * - >>resourceDefinitionId - IdentifierLocal - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >affectedVirtualStorages - AffectedVirtualStorage - 0..N - Yes - Yes - * - >>id - IdentifierInVnf - 1 - Yes - Yes - * - >>VirtualStorageDescId - IdentifierInVnfd - 1 - Yes - Yes - * - >>vnfdId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >>changeType - Enum (inlined) - 1 - Yes - Yes - Permitted values: ADDED, REMOVED, MODIFIED, TEMPORARY * - >>storageResource - resourceHandle - 1 - Yes - Yes - * - >>>vimConnectionId - Identifier - 0..1 - Yes - Yes - * - >>>resourceProviderId - Identifier - 0..1 - Yes - No - * - >>>resourceId - IdentifierInVim - 1 - Yes - Yes - * - >>>vimLevelResourceType - String - 0..1 - Yes - No - * - >>resourceDefinitionId - IdentifierLocal - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >>zoneId - Identifier - 0..1 - Yes - Not defined - | This attribute is defined in only SOL 003. | New attribute in API v2. * - >>metadata - KeyValuePairs - 0..1 - Yes - No - * - changedInfo - VnfInfoModifications - 0..1 - Yes - Yes - * - >vnfInstanceName - String - 0..1 - Yes - Yes - * - >vnfInstanceDescription - String - 0..1 - Yes - Yes - * - >vnfConfigurableProperties - KeyValuePairs - 0..1 - Yes - No - * - >metadata - KeyValuePairs - 0..1 - Yes - Yes - * - >extensions - KeyValuePairs - 0..1 - Yes - No - * - >vimConnectionInfo - map(vimConnectionInfo) - 0..N - Yes - Yes - This attribute is defined only in SOL 003. * - >>vimId - Identifier - 0..1 - Yes - Yes - * - >>vimType - String - 1 - Yes - Yes - * - >>interfaceInfo - KeyValuePairs - 0..1 - Yes - Yes - * - >>accessInfo - KeyValuePairs - 0..1 - Yes - Yes - * - >>extra - KeyValuePairs - 0..1 - Yes - Yes - * - >vnfdId - Identifier - 0..1 - Yes - Yes - * - >vnfProvider - String - 0..1 - Yes - Yes - * - >vnfProductName - String - 0..1 - Yes - Yes - * - >vnfSoftwareVersion - Version - 0..1 - Yes - Yes - * - >vnfdVersion - Version - 0..1 - Yes - Yes - * - >vnfcInfoModifications - VnfcInfoModifications - 0..N - Yes - Not defined - | This attribute is defined in only SOL 002. | New attribute in API v2. * - >>id - IdentifierInVnf - 1 - Yes - Not defined - New attribute in API v2. * - >>vnfcConfigurableProperties - KeyValuePairs - 1 - Yes - Not defined - New attribute in API v2. * - changedExtConnectivity - ExtVirtualLinkInfo - 0..N - Yes - Yes - * - >id - Identifier - 1 - Yes - Yes - * - >resourceHandle - ResourceHandle - 1 - Yes - Yes - * - >>vimConnectionId - Identifier - 0..1 - Yes - Yes - * - >>resourceProviderId - Identifier - 0..1 - Yes - No - * - >>resourceId - IdentifierInVim - 1 - Yes - Yes - * - >>vimLevelResourceType - String - 0..1 - Yes - No - * - >extLinkPorts - ExtLinkPortInfo - 0..N - Yes - Yes - * - >>id - Identifier - 1 - Yes - Yes - * - >>resourceHandle - ResourceHandle - 1 - Yes - Yes - * - >>>vimConnectionId - Identifier - 0..1 - Yes - Yes - * - >>>resourceProviderId - Identifier - 0..1 - Yes - No - * - >>>resourceId - IdentifierInVim - 1 - Yes - Yes - * - >>>vimLevelResourceType - String - 0..1 - Yes - No - * - >>cpInstanceId - IdentifierInVnf - 0..1 - Yes - Yes - * - >currentVnfExtCpData - VnfExtCpData - 1..N - Yes - Not defined - New attribute in API v2. * - >>cpdId - IdentifierInVnfd - 1 - Yes - Not defined - New attribute in API v2. * - >>cpConfig - map(VnfExtCpConfig) - 1..N - Yes - Not defined - New attribute in API v2. * - >>>parentCpConfigId - IdentifierInVnf - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>linkPortId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>cpProtocolData - CpProtocolData - 0..N - Yes - Not defined - New attribute in API v2. * - >>>>layerProtocol - Enum (inlined) - 1 - Yes - Not defined - | Permitted values: IP_OVER_ETHERNET | New attribute in API v2. * - >>>>ipOverEthernet - IpOverEthernetAddressData - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>>>macAddress - MacAddress - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>>>segmentationId - String - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>>>ipAddresses - Structure (inlined) - 0..N - Yes - Not defined - New attribute in API v2. * - >>>>>>type - Enum (inlined) - 1 - Yes - Not defined - | Permitted values: IPV4, IPV6 | New attribute in API v2. * - >>>>>>fixedAddresses - IpAddress - 0..N - Yes - Not defined - New attribute in API v2. * - >>>>>>numDynamicAddresses - Integer - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>>>>addressRange - Structure (inlined) - 0..1 - Yes - Not defined - New attribute in API v2. * - >>>>>>>minAddress - IpAddress - 1 - Yes - Not defined - New attribute in API v2. * - >>>>>>>maxAddress - IpAddress - 1 - Yes - Not defined - New attribute in API v2. * - >>>>>>subnetId - IdentifierInVim - 0..1 - Yes - Not defined - New attribute in API v2. * - modificationsTriggeredByVnfPkgChange - ModificationsTriggeredByVnfPkgChange - 0..1 - Yes - Not defined - New attribute in API v2. * - >vnfConfigurableProperties - KeyValuePairs - 0..1 - Yes - Not defined - New attribute in API v2. * - >metadata - KeyValuePairs - 0..1 - Yes - Not defined - New attribute in API v2. * - >extensions - KeyValuePairs - 0..1 - Yes - Not defined - New attribute in API v2. * - >vnfdId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - >vnfProvider - String - 0..1 - Yes - Not defined - New attribute in API v2. * - >vnfProductName - String - 0..1 - Yes - Not defined - New attribute in API v2. * - >vnfSoftwareVersion - Version - 0..1 - Yes - Not defined - New attribute in API v2. * - >vnfdVersion - Version - 0..1 - Yes - Not defined - New attribute in API v2. * - vnfSnapshotInfoId - Identifier - 0..1 - Yes - Not defined - New attribute in API v2. * - _links - Structure (inlined) - 1 - Yes - Yes - * - >self - Link - 1 - Yes - Yes - * - >vnfInstance - Link - 1 - Yes - Yes - * - >grant - Link - 0..1 - Yes - Yes - * - >cancel - Link - 0..1 - No - No - * - >retry - Link - 0..1 - Yes - Yes - * - >rollback - Link - 0..1 - Yes - Yes - * - >fail - Link - 0..1 - Yes - Yes - * - >vnfSnapshot - Link - 0..1 - No - Not defined - New attribute in API v2. .. note:: LcmOperationType defines the permitted values to represent VNF lifecycle operation types in VNF lifecycle management operation occurrence resources and VNF lifecycle management operation occurrence notifications. It shall comply with the provisions defined in following table. .. list-table:: :widths: 10 50 :header-rows: 1 * - Value - Description * - INSTANTIATE - Represents the ""Instantiate VNF"" LCM operation. * - SCALE - Represents the ""Scale VNF"" LCM operation. * - SCALE_TO_LEVEL - Represents the ""Scale VNF to Level"" LCM operation. * - CHANGE_FLAVOUR - Represents the ""Change VNF Flavour"" LCM operation. * - TERMINATE - Represents the ""Terminate VNF"" LCM operation. * - HEAL - Represents the ""Heal VNF"" LCM operation. * - OPERATE - Represents the ""Operate VNF"" LCM operation. * - CHANGE_EXT_CONN - Represents the ""Change external VNF connectivity"" LCM operation. * - MODIFY_INFO - Represents the ""Modify VNF Information"" LCM operation. * - CREATE_SNAPSHOT - Represents the ""Create VNF Snapshot"" LCM operation. * - REVERT_TO_SNAPSHOT - Represents the ""Revert To VNF Snapshot"" LCM operation. * - CHANGE_VNFPKG - Represents the ""Change current VNF package"" LCM operation. * | **Name**: Rollback a VNF LCM operation occurrence | **Description**: Request to rollback a VNF LCM operation occurrence | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback | **Resource URI variables for this resource:**: .. list-table:: :header-rows: 1 :widths: 2 2 * - Name - Description * - vnfLcmOpOccId - Identifier of a VNF lifecycle management operation occurrence to be rolled back. | **Response**: .. list-table:: :widths: 10 10 16 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - n/a - n/a - Success: 202 - The request has been accepted for processing, but processing has not been completed. * - ProblemDetails - 0..1 - Error: 404 - Error: The API producer did not find a current representation for the target resource or is not willing to disclose that one exists. The general cause for this error and its handling is specified in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_, not been completed. * - ProblemDetails - 1 - Error: 409 - Error: The operation cannot be executed currently, due to a conflict with the state of the VNF LCM operationoccurrence resource. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx, 5xx - Error: Any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Work Items ---------- * Add new version API endpoints to Tacker-server. * Implement new version API processings for Tacker-conductor. * Add new unit and functional tests. * Update the Tacker's API reference. Dependencies ============ None Testing ======== Unit and functional test cases will be added for VNF lifecycle management of VNF instances. Documentation Impact ==================== New supported APIs needs to be added into Tacker API reference. References ========== .. [#etsi_nfv] https://www.etsi.org/technologies-clusters/technologies/NFV .. [#NFV-SOL002_261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL002_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#SOL_v3_starting_and_terminating] https://specs.openstack.org/openstack/tacker-specs/specs/xena/support-nfv-solv3-start-and-terminate-vnf.html .. [#SOL_v3_getting_LCM_information] https://specs.openstack.org/openstack/tacker-specs/specs/xena/support-nfv-solv3-get-information.html .. [#SOL_v3_enhance_LCM_operation] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/enhance-nfv-solv3-lcm-operation.html .. [#NFV-SOL013_341] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.04.01_60/gs_nfv-sol013v030401p.pdf ",,1510,0
openstack%2Frequirements~stable%2Fussuri~I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2,openstack/requirements,stable/ussuri,I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2,[stable-only] pin virtualenv,MERGED,2021-12-15 21:03:58.000000000,2021-12-16 02:16:53.000000000,2021-12-16 02:16:53.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 21:03:58.000000000', 'files': ['global-requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/84831a3287aa98a7aa640e36b0c69a03d0dc7534', 'message': '[stable-only] pin virtualenv\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0 which is still being used in Ussuri and Train.\n\nThis patch pins virtualenv to avoid the break.\n\nChange-Id: I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2\n'}]",0,821878,84831a3287aa98a7aa640e36b0c69a03d0dc7534,6,2,1,3153,,,0,"[stable-only] pin virtualenv

Setuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of
decorator 3.4.0 which is still being used in Ussuri and Train.

This patch pins virtualenv to avoid the break.

Change-Id: I6aaff34a0ba8f7eed64afe2a41904b285f82b7a2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/821878/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'test-requirements.txt']",2,84831a3287aa98a7aa640e36b0c69a03d0dc7534,use_2to3,virtualenv<20.8 # MIT,virtualenv>=14.0.6 # MIT,2,2
openstack%2Ftripleo-ci~master~I951846a66148dd03482bbb4c5d36bc77715bbdae,openstack/tripleo-ci,master,I951846a66148dd03482bbb4c5d36bc77715bbdae,Add centos-9 provider and standalone jobs to CI repos,MERGED,2021-12-09 16:17:49.000000000,2021-12-16 00:58:11.000000000,2021-12-16 00:58:11.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-09 16:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c9cc0db74ad98e3476c1fb4c17520595ab6480e5', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 2, 'created': '2021-12-09 16:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c1edcbac75b3cbe395cff179fca0ce33ec7f8165', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 3, 'created': '2021-12-09 16:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/071e821421e85b092406688cd7d72acefcf1b975', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 4, 'created': '2021-12-09 17:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6d572928bddb067d959ed8d545339dadd3ebe663', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 5, 'created': '2021-12-09 18:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/84e78bfb8a8b6b92e25398ccbf601360518c0279', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 6, 'created': '2021-12-13 14:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9fbb44944dab536f94b3f182748e665eb91dab77', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 7, 'created': '2021-12-13 16:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d6f349f3f680505aac6c5b482eecf1e4a32c9a66', 'message': 'DNM test standalone\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 8, 'created': '2021-12-13 19:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cbb022685261350cde074f27b91dbe8079eac733', 'message': 'Add centos-9 provider and standalone jobs\n\nAdd them non-voting for now\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 9, 'created': '2021-12-14 09:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2b8ad693d4d93d7b9ec65fb0a3d7c99927723240', 'message': 'Add centos-9 provider and standalone jobs\n\nAdd them non-voting for now\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 10, 'created': '2021-12-14 14:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9dc09fe532550d9fa65c1f690f98eea8c6a619bd', 'message': 'Add centos-9 provider and standalone jobs to CI repos\n\nAdd them non-voting for now\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 11, 'created': '2021-12-15 08:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6ee9e7f88ea4339fd815b6c56fdf5e8cac32fe9e', 'message': 'Add centos-9 provider and standalone jobs to CI repos\n\nAdd them non-voting for now\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}, {'number': 12, 'created': '2021-12-15 08:27:12.000000000', 'files': ['zuul.d/content-provider.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d01398bb90b18f58b1a58127da8408ecc9d905d8', 'message': 'Add centos-9 provider and standalone jobs to CI repos\n\nAdd them non-voting for now\n\nChange-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae\n'}]",25,821241,d01398bb90b18f58b1a58127da8408ecc9d905d8,49,6,12,10969,,,0,"Add centos-9 provider and standalone jobs to CI repos

Add them non-voting for now

Change-Id: I951846a66148dd03482bbb4c5d36bc77715bbdae
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/821241/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml']",2,c9cc0db74ad98e3476c1fb4c17520595ab6480e5,test9, - tripleo-ci-centos-9-standalone," - tripleo-tox-molecule: vars: tox_environment: PYTEST_REQPASS: 1 - openstack-tox-py36: &tox-py success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ vars: tox_environment: PYTEST_REQPASS: 84 - openstack-tox-py39: *tox-py - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - openstack-tox-py36: *tox-py - openstack-tox-py39: *tox-py",9,23
openstack%2Fkuryr-kubernetes~master~I17e1672a46496bc6a51f3d28fbfbd1adea9ca249,openstack/kuryr-kubernetes,master,I17e1672a46496bc6a51f3d28fbfbd1adea9ca249,Add events for Pod object.,MERGED,2021-10-15 11:58:56.000000000,2021-12-16 00:56:21.000000000,2021-12-16 00:54:22.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-10-15 11:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eacea160b1b458c0af7f79d9c4d9975352a171f9', 'message': '[WIP] Add events for Pod object\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 2, 'created': '2021-11-18 14:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9084663b8021a7e8351c7b7980a44208cef20a60', 'message': 'Add events for Pod object.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 3, 'created': '2021-12-01 13:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f1a41dbcf97f41ac75de398922e650c9c8b46509', 'message': 'Add events for Pod object.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 4, 'created': '2021-12-01 14:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/78c3e5b060bbd07cdb9dd8d3094265c212622d7a', 'message': 'Add events for Pod object.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 5, 'created': '2021-12-02 12:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/601bbdfd819acdd94f862092773d315da57e77e2', 'message': 'Add events for Pod object.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 6, 'created': '2021-12-02 14:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/876886af6d97eefc1b44d657583c5ea5ce1edc75', 'message': 'Add events for Pod object.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 7, 'created': '2021-12-03 13:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/88bcfeb191b7b6e5982260b009123341493ad8f8', 'message': 'Add events for Pod object.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 8, 'created': '2021-12-10 14:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/917871fa67be44239c81cc8e29183e67c1dbbfe4', 'message': '[WIP] Add events for Pod object.\n\nAlso added function for getting object out of ownerReferences or by\nquery kubernetes API for getting original obj out of CRD.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 9, 'created': '2021-12-13 10:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/472ac8762b2c0967ee2a724370ca54c1ffdc594b', 'message': 'Add events for Pod object.\n\nAlso added function for getting object out of ownerReferences or by\nquery kubernetes API for getting original obj out of CRD.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 10, 'created': '2021-12-13 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4403c5b6990045d1f04dc102a2fb6df6b8b315da', 'message': 'Add events for Pod object.\n\nAlso added function for getting object out of ownerReferences or by\nquery kubernetes API for getting original obj out of CRD.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}, {'number': 11, 'created': '2021-12-15 14:09:01.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8c0b736c1042d8b2a71d5212a26950563decf25', 'message': 'Add events for Pod object.\n\nAlso added function for getting object out of ownerReferences or by\nquery kubernetes API for getting original obj out of CRD.\n\nChange-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249\n'}]",68,814133,f8c0b736c1042d8b2a71d5212a26950563decf25,55,3,11,13692,,,0,"Add events for Pod object.

Also added function for getting object out of ownerReferences or by
query kubernetes API for getting original obj out of CRD.

Change-Id: I17e1672a46496bc6a51f3d28fbfbd1adea9ca249
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/33/814133/11 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py']",3,eacea160b1b458c0af7f79d9c4d9975352a171f9,restrict-bulk-port-creation," def __init__(self): super(VIFHandler).__init__() self.k8s = clients.get_kubernetes_client() try: if not self.k8s.add_finalizer(pod, constants.POD_FINALIZER): kp = self.k8s.get(KURYRPORT_URI.format( ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) self.k8s.remove_finalizer(pod, constants.POD_FINALIZER) self.k8s.annotate(utils.get_res_link(kp), {'KuryrTrigger': '1'}) self.k8s.remove_finalizer(pod, constants.POD_FINALIZER) self.k8s.delete(KURYRPORT_URI .format(ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) except k_exc.K8sResourceNotFound: self.k8s.remove_finalizer(pod, constants.POD_FINALIZER) self.k8s.post(KURYRPORT_URI.format(ns=pod[""metadata""][""namespace""], crd=''), kuryr_port)"," k8s = clients.get_kubernetes_client() try: if not k8s.add_finalizer(pod, constants.POD_FINALIZER): k8s = clients.get_kubernetes_client() kp = k8s.get(KURYRPORT_URI.format(ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) k8s.remove_finalizer(pod, constants.POD_FINALIZER) k8s.annotate(utils.get_res_link(kp), {'KuryrTrigger': '1'}) k8s.remove_finalizer(pod, constants.POD_FINALIZER) k8s.delete(KURYRPORT_URI .format(ns=pod[""metadata""][""namespace""], crd=pod[""metadata""][""name""])) except k_exc.K8sResourceNotFound: k8s.remove_finalizer(pod, constants.POD_FINALIZER) k8s = clients.get_kubernetes_client() k8s.post(KURYRPORT_URI.format(ns=pod[""metadata""][""namespace""], crd=''), kuryr_port)",55,76
openstack%2Ftripleo-common~stable%2Ftrain~I2d06904cc89e398f82ffc8b4f2d862427507d0dc,openstack/tripleo-common,stable/train,I2d06904cc89e398f82ffc8b4f2d862427507d0dc,Add tempest to sudoers for tempest container image,MERGED,2021-12-13 15:46:14.000000000,2021-12-16 00:38:32.000000000,2021-12-16 00:36:46.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-13 15:46:14.000000000', 'files': ['container-images/tcib/base/os/tempest/tempest_sudoers', 'container-images/tcib/base/os/tempest/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/173edbafab6f1f4a25f31771d49affc411e6ee49', 'message': 'Add tempest to sudoers for tempest container image\n\nRequired to configure TLS in the tempest pod init when used by\nosp-director-operator.\n\nWorkaround cirular dependency: tempest_sudoers will not exist until this\npatch is included in the openstack-tripleo-common-containers rpm.\nFallback to using an existing sudoers file with sed, then followup with\na patch to remove this logic once the package is updated.\n\nDepends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5\n\nChange-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc\n(cherry picked from commit b80b98ffe96c4a182efb264f8d476717220f8dca)\n(cherry picked from commit 1b211e64868eda1d9191923ba9c7496bcbffb1ff)\n(cherry picked from commit 7c93f76136e9337c290b1703897cdb91b859b49b)\n(cherry picked from commit ad0438d6f3a7d21ad7e72dfb328ac5d3899f2f2e)\n'}]",1,821597,173edbafab6f1f4a25f31771d49affc411e6ee49,13,5,1,23811,,,0,"Add tempest to sudoers for tempest container image

Required to configure TLS in the tempest pod init when used by
osp-director-operator.

Workaround cirular dependency: tempest_sudoers will not exist until this
patch is included in the openstack-tripleo-common-containers rpm.
Fallback to using an existing sudoers file with sed, then followup with
a patch to remove this logic once the package is updated.

Depends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5

Change-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc
(cherry picked from commit b80b98ffe96c4a182efb264f8d476717220f8dca)
(cherry picked from commit 1b211e64868eda1d9191923ba9c7496bcbffb1ff)
(cherry picked from commit 7c93f76136e9337c290b1703897cdb91b859b49b)
(cherry picked from commit ad0438d6f3a7d21ad7e72dfb328ac5d3899f2f2e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/821597/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/tempest/tempest_sudoers', 'container-images/tcib/base/os/tempest/tempest.yaml']",2,173edbafab6f1f4a25f31771d49affc411e6ee49,,- run: >- if [ -e /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers ]; then cp /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers /etc/sudoers.d/tempest_sudoers; else sed -e 's/cloud-admin/tempest/' /usr/share/openstack-tripleo-common-containers/container-images/kolla/tripleoclient/tripleoclient_sudoers > /etc/sudoers.d/tempest_sudoers; fi - run: chmod 440 /etc/sudoers.d/tempest_sudoers ,,9,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2,openstack/tripleo-heat-templates,stable/wallaby,Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2,Fix external-ceph deployment directory reference,MERGED,2021-12-14 13:27:43.000000000,2021-12-16 00:36:49.000000000,2021-12-16 00:36:49.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 13:27:43.000000000', 'files': ['environments/external-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a92fa21e60e66af4626823d828591a2f19385eb', 'message': 'Fix external-ceph deployment directory reference\n\nWhen external-ceph.yaml is included, the CephExternal resource points\nto the right tht deployment path.\nThis change fixes the wrong level that was set to the related Heat\nresource.\n\nCloses-Bug: #1954673\nChange-Id: Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2\n(cherry picked from commit 97da97edac4b40de8be0ceadbd73708f122d3ee8)\n'}]",1,821527,2a92fa21e60e66af4626823d828591a2f19385eb,11,5,1,25402,,,0,"Fix external-ceph deployment directory reference

When external-ceph.yaml is included, the CephExternal resource points
to the right tht deployment path.
This change fixes the wrong level that was set to the related Heat
resource.

Closes-Bug: #1954673
Change-Id: Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2
(cherry picked from commit 97da97edac4b40de8be0ceadbd73708f122d3ee8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/821527/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/external-ceph.yaml'],1,2a92fa21e60e66af4626823d828591a2f19385eb,ext_ceph_fix, OS::TripleO::Services::CephExternal: ../deployment/cephadm/ceph-external.yaml, OS::TripleO::Services::CephExternal: ../../deployment/cephadm/ceph-external.yaml,1,1
openstack%2Fneutron~stable%2Fwallaby~I2f8d974d6644657aea95302d94ca0095d70a7e62,openstack/neutron,stable/wallaby,I2f8d974d6644657aea95302d94ca0095d70a7e62,bw-limit: Pass int parameters to Open vSwitch,MERGED,2021-12-07 00:52:24.000000000,2021-12-16 00:21:46.000000000,2021-12-16 00:19:41.000000000,"[{'_account_id': 4694}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-07 00:52:24.000000000', 'files': ['neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/38551777e027847e67e00b0bbcc920be98ab5d57', 'message': 'bw-limit: Pass int parameters to Open vSwitch\n\nMake sure we pass integer values to ovs when configuring bandwidth\nlimit. This was likely working properly with Python2, and we may have\nmissed this when migrating to Python3:\n\nhttps://www.python.org/dev/peps/pep-0238/\n\nChange-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62\nCloses-Bug: #1936839\nCo-Authored-By: Tams Trsy <tamas.trasy@ericsson.com>\n(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)\n'}]",2,820612,38551777e027847e67e00b0bbcc920be98ab5d57,16,4,1,9816,,,0,"bw-limit: Pass int parameters to Open vSwitch

Make sure we pass integer values to ovs when configuring bandwidth
limit. This was likely working properly with Python2, and we may have
missed this when migrating to Python3:

https://www.python.org/dev/peps/pep-0238/

Change-Id: I2f8d974d6644657aea95302d94ca0095d70a7e62
Closes-Bug: #1936839
Co-Authored-By: Tams Trsy <tamas.trasy@ericsson.com>
(cherry picked from commit 8261b67b6e6248c5cc1a4426544188e5bd9bfa03)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/820612/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,38551777e027847e67e00b0bbcc920be98ab5d57,bug/1936839-stable/wallaby," 'max-rate': str(int(max_bw_in_bits)) 'max-rate': str(int(max_bw_in_bits)), 'burst': str(int(max_burst_in_bits)), 'cir': str(max_bw_in_bits // 8), 'cbs': str(max_burst_in_bits // 8)"," 'max-rate': str(max_bw_in_bits) 'max-rate': str(max_bw_in_bits), 'burst': str(max_burst_in_bits), 'cir': str(max_bw_in_bits / 8), 'cbs': str(max_burst_in_bits / 8)",5,5
openstack%2Fcharm-deployment-guide~master~Ia62695cdef916a8f78de0ccae04074fc66ae7dbd,openstack/charm-deployment-guide,master,Ia62695cdef916a8f78de0ccae04074fc66ae7dbd,Clarify and streamline upgrade methods,MERGED,2021-12-07 17:40:02.000000000,2021-12-15 23:40:15.000000000,2021-12-15 23:38:03.000000000,"[{'_account_id': 8992}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-12-07 17:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/10c66e96d97eacd02092e6f9602cd588fea66b72', 'message': 'Clarify and streamline upgrade methods\n\nClarify - take a less prescribed approach as to\nwhich of the three payload upgrade methods to use.\nAllow the operator to choose their poison according\nto their needs and desires.\n\nStreamline - reduce the chance of user-headscratching\nby removing information of a redundant or dubious\nnature.\n\nThis PR is a retake of an abandoned PR:\n\nIe033471930e8cd2f7cb4ba110a92ff6897ae15c9\n\nCloses-Bug: #1901592\nChange-Id: Ia62695cdef916a8f78de0ccae04074fc66ae7dbd\n'}, {'number': 2, 'created': '2021-12-07 23:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/60349b425bfa90400f14e32f4b23aa5f08a20e7a', 'message': 'Clarify and streamline upgrade methods\n\nClarify - take a less prescribed approach as to\nwhich of the three payload upgrade methods to use.\nAllow the operator to choose their poison according\nto their needs and desires.\n\nStreamline - reduce the chance of user-headscratching\nby removing information of a redundant or dubious\nnature.\n\nThis PR is a retake of an abandoned PR:\n\nIe033471930e8cd2f7cb4ba110a92ff6897ae15c9\n\nCloses-Bug: #1901592\nChange-Id: Ia62695cdef916a8f78de0ccae04074fc66ae7dbd\n'}, {'number': 3, 'created': '2021-12-15 20:30:26.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a85d34c075069b2ef48f9e726b53f796a9e603ff', 'message': 'Clarify and streamline upgrade methods\n\nClarify - take a less prescribed approach as to\nwhich of the three payload upgrade methods to use.\nAllow the operator to choose their poison according\nto their needs and desires.\n\nStreamline - reduce the chance of user-headscratching\nby removing information of a redundant or dubious\nnature.\n\nThis PR is a retake of an abandoned PR:\n\nIe033471930e8cd2f7cb4ba110a92ff6897ae15c9\n\nCloses-Bug: #1901592\nChange-Id: Ia62695cdef916a8f78de0ccae04074fc66ae7dbd\n'}]",6,820919,a85d34c075069b2ef48f9e726b53f796a9e603ff,15,4,3,30561,,,0,"Clarify and streamline upgrade methods

Clarify - take a less prescribed approach as to
which of the three payload upgrade methods to use.
Allow the operator to choose their poison according
to their needs and desires.

Streamline - reduce the chance of user-headscratching
by removing information of a redundant or dubious
nature.

This PR is a retake of an abandoned PR:

Ie033471930e8cd2f7cb4ba110a92ff6897ae15c9

Closes-Bug: #1901592
Change-Id: Ia62695cdef916a8f78de0ccae04074fc66ae7dbd
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/19/820919/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,10c66e96d97eacd02092e6f9602cd588fea66b72,lp1901592-upgrade-openstack-ii," A few charms support option ``source`` instead of ``openstack-origin``.There are three methods available for performing an OpenStack service upgrade, two of which have charm requirements in terms of supported actions. Each method also has advantages and disadvantages with regard to: * the time required to perform an upgrade * maintaining service availability during an upgrade This table summarises the characteristics and requirements of each method: +--------------------+----------+----------+--------------------------------------------------+ | Method | Time | Downtime | Charm requirements (actions) | +====================+==========+==========+==================================================+ | all-in-one | shortest | most | *none* | +--------------------+----------+----------+--------------------------------------------------+ | single-unit | medium | medium | ``openstack-upgrade`` | +--------------------+----------+----------+--------------------------------------------------+ | paused-single-unit | longest | less | ``openstack-upgrade``, ``pause``, and ``resume`` | +--------------------+----------+----------+--------------------------------------------------+ For example, although the all-in-one method upgrades a service the fastest, it also has the greatest potential for service downtime. .. note:: A charm's supported actions can be listed with command :command:`juju actions <charm-name>`.The ""all-in-one"" method upgrades an application immediately. This method must be used if the application has a sole unit. Although it is the quickest route, it can be harsh when applied in the context of multi-unit applications. This is because all the units are upgraded simultaneously and is likely to cause service downtime.enablement of charm option ``action-managed-upgrade`` and action ``openstack-upgrade`` must be supported. This method is slower than the all-in-one method due to the need for each unit to be upgraded separately. There is a lesser chance of downtime as the unit being upgraded must be in the process of servicing client requests for downtime to occur.requirements are the ``pause`` and ``resume`` actions. This method provides more versatility by allowing a unit to be removed from service, upgraded, and returned to service. Each of these are distinct events whose timing is chosen by the operator. This is the slowest method due to the need for each unit to be upgraded separately in addition to the required pause/resume management. However, it is the method that will result in the least downtime."," A few charms use option ``source`` instead of ``openstack-origin``. See the next section.There are three methods available for performing an OpenStack service upgrade. The appropriate method is chosen based on the actions supported by the charm. Actions for a charm can be listed with command :command:`juju actions <charm-name>`.The ""all-in-one"" method upgrades an application immediately. Although it is the quickest route, it can be harsh when applied in the context of multi-unit applications. This is because all the units are upgraded simultaneously, and is likely to cause a transient service outage. This method must be used if the application has a sole unit. .. attention:: The ""all-in-one"" method should only be used when the charm does not support the ``openstack-upgrade`` action.enablement of charm option ``action-managed-upgrade`` and the charm action ``openstack-upgrade``. .. attention:: The ""single-unit"" method should only be used when the charm does not support the ``pause`` and ``resume`` actions... note:: The ``openstack-upgrade`` action is only available for charms whose services are part of the OpenStack project. For instance, you will need to use the ""all-in-one"" method for the Ceph charms. requirements are the ``pause`` and ``resume`` actions. This method provides more versatility by allowing a unit to be removed from service, upgraded, and returned to service. Each of these are distinct events whose timing is chosen by the operator. .. attention:: The ""paused-single-unit"" method is the recommended OpenStack service upgrade method.",45,34
openstack%2Fpython-ironicclient~master~Iefbbe47c64f7ca302761c02106b79bdef1a1c635,openstack/python-ironicclient,master,Iefbbe47c64f7ca302761c02106b79bdef1a1c635,"Improve description of ""node boot mode set""",MERGED,2021-12-15 20:37:58.000000000,2021-12-15 23:19:27.000000000,2021-12-15 23:17:53.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 20:37:58.000000000', 'files': ['ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4549820bfad9fb4ba1a676a00aa966caec3538b9', 'message': 'Improve description of ""node boot mode set""\n\nThe current description is ambigious and suggests that the actual boot\nmode for an existing node might be immediately changed.\n\nThis change clarifies that the set boot mode will be used for the next\ndeployment attempt.\n\nrhbz#2006021\n\nChange-Id: Iefbbe47c64f7ca302761c02106b79bdef1a1c635\n'}]",1,821877,4549820bfad9fb4ba1a676a00aa966caec3538b9,8,3,1,4571,,,0,"Improve description of ""node boot mode set""

The current description is ambigious and suggests that the actual boot
mode for an existing node might be immediately changed.

This change clarifies that the set boot mode will be used for the next
deployment attempt.

rhbz#2006021

Change-Id: Iefbbe47c64f7ca302761c02106b79bdef1a1c635
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/77/821877/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/osc/v1/baremetal_node.py'],1,4549820bfad9fb4ba1a676a00aa966caec3538b9,bootmode-desc," """"""Set the boot mode for the next baremetal node deployment"""""""," """"""Set boot mode for baremetal node""""""",1,1
openstack%2Fswift~master~Ic64e20e634936ce03dd17ace5c119a0a671a363a,openstack/swift,master,Ic64e20e634936ce03dd17ace5c119a0a671a363a,Updater: Allow derrfered updates to sleep,ABANDONED,2021-12-13 06:35:28.000000000,2021-12-15 22:28:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-13 06:35:28.000000000', 'files': ['swift/obj/updater.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8191d85d9db39b4e4a3963dc1349ed99692ceed5', 'message': ""Updater: Allow derrfered updates to sleep\n\nItems that are skipped are placed on a deferred queue. But if everything\nin that queue is waiting then we want to sleep the minimum amount of\ntime.\n\nThis patch replaces the deque with a priority queue. The updates are\nadded (next_action, put_time, update). The priority queue will sort\ntheses by the next_action. Which means when we get an update off the\ndeferred queue. If the next_action is > time.now() we need to sleep for\nthat long.\n\nThere is a chance there are a bunch of updates set at the same\nnext_action time, those following will be dropped and requeued on the\ndeferred queue and the next_action time for that container.\n\nBecause the updates are now prioritised, popping the front wont\nneccessarly be the oldest update. So this patch reverts back to stop\nfilling the queue once it's full. Having said that, I have now had to\nadd a put timestamp, so this could probably reinstate to pop the oldest\nupdate again.\n\nThe put_time timestamp is the time it was added to the deferred\nqueue. This was added later in the game because a heap can't compare\ndicts, so when were are a bunch of updates at the same next_action the\nheap can fail, as it then compares the next value in the tuple. Fixing\nthis was either moving to an update class (so we can __lt__). Or adding\nthe put timestamp to keep each unique. The latter, not only is less code,\nbut also means in a future patchset we can use it to pop the oldest\nwaiting update from the queue.\n\nChange-Id: Ic64e20e634936ce03dd17ace5c119a0a671a363a\n""}]",3,821532,8191d85d9db39b4e4a3963dc1349ed99692ceed5,6,1,1,7233,,,0,"Updater: Allow derrfered updates to sleep

Items that are skipped are placed on a deferred queue. But if everything
in that queue is waiting then we want to sleep the minimum amount of
time.

This patch replaces the deque with a priority queue. The updates are
added (next_action, put_time, update). The priority queue will sort
theses by the next_action. Which means when we get an update off the
deferred queue. If the next_action is > time.now() we need to sleep for
that long.

There is a chance there are a bunch of updates set at the same
next_action time, those following will be dropped and requeued on the
deferred queue and the next_action time for that container.

Because the updates are now prioritised, popping the front wont
neccessarly be the oldest update. So this patch reverts back to stop
filling the queue once it's full. Having said that, I have now had to
add a put timestamp, so this could probably reinstate to pop the oldest
update again.

The put_time timestamp is the time it was added to the deferred
queue. This was added later in the game because a heap can't compare
dicts, so when were are a bunch of updates at the same next_action the
heap can fail, as it then compares the next value in the tuple. Fixing
this was either moving to an update class (so we can __lt__). Or adding
the put timestamp to keep each unique. The latter, not only is less code,
but also means in a future patchset we can use it to pop the oldest
waiting update from the queue.

Change-Id: Ic64e20e634936ce03dd17ace5c119a0a671a363a
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/821532/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,8191d85d9db39b4e4a3963dc1349ed99692ceed5,bucket-ratelimiter," max_deferred_updates = 1 'max_deferred_updates': max_deferred_updates, captured_queues.append(list(daemon.deferred_updates.queue)) orig_iteration = contexts_fed_in[:num_c1_files + max_deferred_updates] expected_drops = (1, 3) [[ctx['update']['obj'] for next_ts, put_time, ctx in q] for q in captured_queues]) max_deferred_updates = 2 'max_deferred_updates': max_deferred_updates, captured_queues.append(list(daemon.deferred_updates.queue)) all_obj_in_async_iter_order = [ ctx['update']['obj'] for ctx in orig_iteration + re_iteration[:max_deferred_updates]] # Only the required number is queued, because now it sleeps until # the next event. self.assertEqual(len(re_iterated_obj), 3) expected_drops = (1, 3, 4) [len(q) for q in captured_queues[:8]], [0, 0, 1, 1, 2, 1, 0, 0], [aorder[d['update']['obj']] for next_time, put_time, d in captured_queues[2]] [aorder[d['update']['obj']] for next_time, put_time, d in captured_queues[3]] [d['update']['obj'] for next_time, put_time, d in captured_queues[4]] # Because we are using a priority queue, it doesn't make sense to drop # the head of the queue, and it might not be the oldest anymore. So # there is no shifting around. [all_obj_in_async_iter_order[3]], [d['update']['obj'] for next_time, put_time, d in captured_queues[5]] # And we only iterated as much as we needed self.assertEqual(len(captured_skips_stats), 8) max_deferred_updates = 5 'max_deferred_updates': max_deferred_updates, # 2nd deferred item succeeds, rest are re-queued. One other manages # to sleep and become a success before we cut it short. latencies = [0, .05, 0.051, 0, 0, .11, 0, 0.11, 0, 0, 0] expected_success = 5 captured_queues.append(list(daemon.deferred_updates.queue)) + all_paths[3:4] * 3 + all_paths[4:5] * 3) # note: 2nd was deferred twice [[ctx['update']['obj'] for next_time, put_time, ctx in q] for q in captured_queues]) def on_skip(update_ctx, next_action):"," 'max_deferred_updates': 1, captured_queues.append(list(daemon.deferred_updates)) orig_iteration = contexts_fed_in[:num_c1_files] expected_drops = (1,) [[ctx['update']['obj'] for ctx in q] for q in captured_queues]) this_number_sucks = 1000 'max_deferred_updates': 2, captured_queues.append(list(daemon.deferred_updates)) all_obj_in_async_iter_order = [ctx['update']['obj'] for ctx in orig_iteration] # ... but we re-iterate them like ... *a lot* self.assertGreater(len(re_iterated_obj), this_number_sucks) expected_drops = (1,) [len(q) for q in captured_queues[:10]], [0, 0, 1, 1, 2, 1, 0, 0, 0, 0], [aorder[d['update']['obj']] for d in captured_queues[2]] [aorder[d['update']['obj']] for d in captured_queues[3]] [d['update']['obj'] for d in captured_queues[4]] # we can't see it but the queue briefly looked like this ... # self.assertEqual( # [all_obj_in_async_iter_order[3], all_obj_in_async_iter_order[4]], # [d['update']['obj'] for d in captured_queues[4]] # ) # ... and then we only get to see it while re-iterating 3 [all_obj_in_async_iter_order[4]], [d['update']['obj'] for d in captured_queues[5]] # after this the queue is ""empty"" - but only because where this test is # doing the capture the updater is currently in the process of # ""passing"" the object to the back of the queue self.assertEqual({0}, set(len(q) for q in captured_queues[10:])) self.assertGreater(len(captured_queues), this_number_sucks) # but we re-iterated a LOT to do it self.assertGreater(len(captured_skips_stats), this_number_sucks) 'max_deferred_updates': 5, # 2nd deferred item succeeds, rest are re-queued latencies = [0, .05, 0.051, 0, 0, .11, 0, 0.11, 0, 0, 0, 0] expected_success = 4 captured_queues.append(list(daemon.deferred_updates)) + all_paths[3:4] * 3) # note: 2nd was deferred twice [[ctx['update']['obj'] for ctx in q] for q in captured_queues]) def on_skip(update_ctx):",74,56
openstack%2Fswift~master~Iaba8fcecebf1e811eb239698ce319077cf1827cf,openstack/swift,master,Iaba8fcecebf1e811eb239698ce319077cf1827cf,Updater: With modified PriorityQueue that tracks age,ABANDONED,2021-12-13 23:13:53.000000000,2021-12-15 22:28:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-13 23:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9cc7bb138d45fab667283fb6e3b79f2084afe87b', 'message': 'Updater: With modified PriorityQueue that tracks age\n\nUse an ""UpdateQueue"" to tracked deferred updates. This uses an extended\neventlet PriorityQueue that also tracks the age the updates where added.\n\nIt also provides a `pop_oldest` method which will pop the oldest off the\npriorty queue.\n\nChange-Id: Iaba8fcecebf1e811eb239698ce319077cf1827cf\n'}, {'number': 2, 'created': '2021-12-13 23:17:57.000000000', 'files': ['swift/obj/updater.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/320915b1a1c3ebab87ed7d68044dd7758db9076e', 'message': 'Updater: With modified PriorityQueue that tracks age\n\nUse an ""UpdateQueue"" to tracked deferred updates. This uses an extended\neventlet PriorityQueue that also tracks the age the updates where added.\n\nIt also provides a `pop_oldest` method which will pop the oldest off the\npriorty queue.\n\nChange-Id: Iaba8fcecebf1e811eb239698ce319077cf1827cf\n'}]",1,821630,320915b1a1c3ebab87ed7d68044dd7758db9076e,6,1,2,7233,,,0,"Updater: With modified PriorityQueue that tracks age

Use an ""UpdateQueue"" to tracked deferred updates. This uses an extended
eventlet PriorityQueue that also tracks the age the updates where added.

It also provides a `pop_oldest` method which will pop the oldest off the
priorty queue.

Change-Id: Iaba8fcecebf1e811eb239698ce319077cf1827cf
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/821630/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,9cc7bb138d45fab667283fb6e3b79f2084afe87b,bucket-ratelimiter," self.assertEqual([0, 0, 0, 0, 1], captured_skips_stats) [all_obj_in_async_iter_order[4]],"," [], self.assertEqual([0, 0, 0, 0, 1, 1], captured_skips_stats) [all_obj_in_async_iter_order[3]],",26,13
openstack%2Fswift~master~I37e74db28c42d2078a27c543a05b4517ff47f972,openstack/swift,master,I37e74db28c42d2078a27c543a05b4517ff47f972,Updater: pop oldest and bucket heapable follow up,ABANDONED,2021-12-15 01:57:00.000000000,2021-12-15 22:27:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-15 01:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4cea8316113a05ee992b02353d5218a041daa119', 'message': 'Updater: pop oldest and bucket heapable follow up\n\nAdd a __lt__ to the updater Bucket class that compares the\nBucket.wait_until() so it can:\n\n  1. Be used in a heap/priority queue and;\n  2. We now can add buckets directly to the priority queue, no tuples.\n\nAlso change so tracking maxlen only happens in the Bucket iter _not_ the\nBucket class. Also track deferred bucket order so we can also pop the\noldest.\n\nChange-Id: I37e74db28c42d2078a27c543a05b4517ff47f972\n'}, {'number': 2, 'created': '2021-12-15 02:01:04.000000000', 'files': ['swift/obj/updater.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/38e488349266464237abed3bfa92bad8d7159b2c', 'message': 'Updater: pop oldest and bucket heapable follow up\n\nAdd a __lt__ to the updater Bucket class that compares the\nBucket.wait_until() so it can:\n\n  1. Be used in a heap/priority queue and;\n  2. We now can add buckets directly to the priority queue, no tuples.\n\nAlso change so tracking maxlen only happens in the Bucket iter _not_ the\nBucket class. Also track deferred bucket order so we can also pop the\noldest.\n\nChange-Id: I37e74db28c42d2078a27c543a05b4517ff47f972\n'}]",10,821790,38e488349266464237abed3bfa92bad8d7159b2c,9,1,2,7233,,,0,"Updater: pop oldest and bucket heapable follow up

Add a __lt__ to the updater Bucket class that compares the
Bucket.wait_until() so it can:

  1. Be used in a heap/priority queue and;
  2. We now can add buckets directly to the priority queue, no tuples.

Also change so tracking maxlen only happens in the Bucket iter _not_ the
Bucket class. Also track deferred bucket order so we can also pop the
oldest.

Change-Id: I37e74db28c42d2078a27c543a05b4517ff47f972
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/821790/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,4cea8316113a05ee992b02353d5218a041daa119,bucket-ratelimiter," @mock.patch('swift.obj.updater.dump_recon_cache') def test_per_container_rate_limit_defer_3_skip_1(self, mock_recon): # limit length of deferral queue so that some defer and some skip conf = { 'devices': self.devices_dir, 'mount_check': 'false', 'swift_dir': self.testdir, 'max_objects_per_container_per_second': 10, # only one bucket needed for test 'per_container_ratelimit_buckets': 1, 'max_deferred_updates': 2, } daemon = object_updater.ObjectUpdater(conf, logger=self.logger) self.async_dir = os.path.join(self.sda1, get_async_dir(POLICIES[0])) os.mkdir(self.async_dir) # all updates for same container num_c1_files = 5 for i in range(num_c1_files): obj_name = 'o%02d' % i self._make_async_pending_pickle('a', 'c1', obj_name) c1_part, _ = daemon.get_container_ring().get_nodes('a', 'c1') expected_total = num_c1_files self.assertEqual(expected_total, len(self._find_async_pending_files())) # first succeeds, second is deferred, third succeeds, fourth is # deferred, fifth also deferred and bumps second out of deferral queue, # fourth is re-tried latencies = [0, 0.05, .051, 0, 0, 0, .11] expected_success = 4 contexts_fed_in = [] captured_queues = [] captured_skips_stats = [] def ratelimit_if(value): contexts_fed_in.append(value) return False # returning False overrides normal ratelimiting orig_rate_limited_iterator = utils.RateLimitedIterator def fake_rate_limited_iterator(*args, **kwargs): # insert our own rate limiting function kwargs['ratelimit_if'] = ratelimit_if return orig_rate_limited_iterator(*args, **kwargs) now = [time()] def fake_get_time(bucket_iter): captured_skips_stats.append(daemon.stats.skips) captured_queues.append(list(bucket_iter.buckets[0].deque)) # make each update delay before the iter being called again now[0] += latencies.pop(0) return now[0] captured_updates = [] def fake_object_update(node, part, op, obj, *args, **kwargs): captured_updates.append((node, part, op, obj)) return True, node['id'], False with mock.patch( 'swift.obj.updater.BucketizedUpdateSkippingLimiter._get_time', fake_get_time), \ mock.patch.object(daemon, 'object_update', fake_object_update), \ mock.patch('swift.obj.updater.RateLimitedIterator', fake_rate_limited_iterator): daemon.run_once() self.assertEqual(expected_success, daemon.stats.successes) expected_skipped = expected_total - expected_success self.assertEqual(expected_skipped, daemon.stats.skips) self.assertEqual(expected_skipped, len(self._find_async_pending_files())) orig_iteration = contexts_fed_in[:num_c1_files] # we first capture every async fed in one by one all_obj_in_async_iter_order = [ctx['update']['obj'] for ctx in orig_iteration] self.assertEqual(num_c1_files, len(set(all_obj_in_async_iter_order))) # keep track of this order for context aorder = {ctx['update']['obj']: 'a%02d' % i for i, ctx in enumerate(orig_iteration)} expected_drops = (1,) expected_updates_sent = [] for i, obj in enumerate(all_obj_in_async_iter_order): if i in expected_drops: continue # triple replica, request to 3 nodes each obj! expected_updates_sent.extend([obj] * 3) actual_updates_sent = [ utils.split_path(update[3], minsegs=3)[-1] for update in captured_updates ] self.assertEqual([aorder[o] for o in expected_updates_sent], [aorder[o] for o in actual_updates_sent]) self.assertEqual([0, 0, 0, 0, 0, 1, 1], captured_skips_stats) expected_deferrals = [ [], [], all_obj_in_async_iter_order[1:2], all_obj_in_async_iter_order[1:2], all_obj_in_async_iter_order[1:2] + all_obj_in_async_iter_order[3:4], all_obj_in_async_iter_order[3:4] + all_obj_in_async_iter_order[4:5], all_obj_in_async_iter_order[4:5] ] self.assertEqual( expected_deferrals, [[ctx['update']['obj'] for ctx in q] for q in captured_queues])"," # @mock.patch('swift.obj.updater.dump_recon_cache') # def test_per_container_rate_limit_defer_3_skip_1(self, mock_recon): # this_number_sucks = 1000 # # limit length of deferral queue so that some defer and some skip # conf = { # 'devices': self.devices_dir, # 'mount_check': 'false', # 'swift_dir': self.testdir, # # yield update every 0.1s # 'max_objects_per_container_per_second': 10, # 'max_deferred_updates': 2, # } # daemon = object_updater.ObjectUpdater(conf, logger=self.logger) # self.async_dir = os.path.join(self.sda1, get_async_dir(POLICIES[0])) # os.mkdir(self.async_dir) # # all updates for same container # num_c1_files = 5 # for i in range(num_c1_files): # obj_name = 'o%02d' % i # self._make_async_pending_pickle('a', 'c1', obj_name) # c1_part, _ = daemon.get_container_ring().get_nodes('a', 'c1') # expected_total = num_c1_files # self.assertEqual(expected_total, # len(self._find_async_pending_files())) # # 0th index sets next_update # # 1st index sleeps *some* (but still gets skip queued) # # 2nd index sleeps a little more and isn't rate limited # # 3rd & 4th both come fast; get queued; and bump 1st update out # # then we block on the first re-iteration to ensure we process the # # deferred queue ""in order"" # # ... before we let it rip & spin # latencies = [0, 0.05, .051, 0, 0, 0.11] # expected_success = 4 # 1st index is dropped # fake_status_codes = [200] * 3 * expected_success # # contexts_fed_in = [] # captured_queues = [] # captured_skips_stats = [] # # def ratelimit_if(value): # contexts_fed_in.append(value) # captured_queues.append(list(daemon.deferred_updates)) # captured_skips_stats.append(daemon.stats.skips) # # make each update delay before the iter being called again # try: # eventlet.sleep(latencies.pop(0)) # except IndexError: # # we can slow down re-iteration a quite a bit # # either by yielding to the hub # # eventlet.sleep(0) # # or better with the default objects_per_second of 50 # # return True # pass # return False # returning False overrides normal ratelimiting # # orig_rate_limited_iterator = utils.RateLimitedIterator # # def fake_rate_limited_iterator(*args, **kwargs): # # insert our own rate limiting function # kwargs['ratelimit_if'] = ratelimit_if # return orig_rate_limited_iterator(*args, **kwargs) # # with mocked_http_conn(*fake_status_codes) as fake_conn, \ # mock.patch('swift.obj.updater.RateLimitedIterator', # fake_rate_limited_iterator): # daemon.run_once() # self.assertEqual(expected_success, daemon.stats.successes) # expected_skipped = expected_total - expected_success # self.assertEqual(expected_skipped, daemon.stats.skips) # self.assertEqual(expected_skipped, # len(self._find_async_pending_files())) # # orig_iteration, re_iteration = (contexts_fed_in[:num_c1_files], # contexts_fed_in[num_c1_files:]) # # we first capture every async fed in one by one # all_obj_in_async_iter_order = [ctx['update']['obj'] # for ctx in orig_iteration] # self.assertEqual(num_c1_files, len(set(all_obj_in_async_iter_order))) # # keep track of this order for context # aorder = {ctx['update']['obj']: 'a%02d' % i # for i, ctx in enumerate(orig_iteration)} # # then we capture re-iteration (of at most max_deferred_updates) # re_iterated_obj = [ctx['update']['obj'] # for ctx in re_iteration] # self.assertEqual(daemon.max_deferred_updates, # len(set(re_iterated_obj))) # # ... but we re-iterate them like ... *a lot* # self.assertGreater(len(re_iterated_obj), this_number_sucks) # expected_drops = (1,) # expected_obj_req = [] # for i, obj in enumerate(all_obj_in_async_iter_order): # if i in expected_drops: # continue # # triple replica, request to 3 nodes each obj! # expected_obj_req.extend([obj] * 3) # obj_req_sent = [ # # dev, part, acct, cont, obj # utils.split_path(req['path'], minsegs=5)[-1] # for req in fake_conn.requests # ] # self.assertEqual([aorder[o] for o in expected_obj_req], # [aorder[o] for o in obj_req_sent]) # # # the len of the deferred queue over time roughly tracks how quickly # we # # iter updates to our ratelimiter # # latencies = [0, 0.05, .051, 0, 0, 0.11] # self.assertEqual( # [len(q) for q in captured_queues[:10]], # [0, 0, 1, 1, 2, 1, 0, 0, 0, 0], # ) # # ultimately the first deferred update ends up getting dropped # self.assertEqual( # [aorder[all_obj_in_async_iter_order[1]]], # [aorder[d['update']['obj']] for d in captured_queues[2]] # ) # self.assertEqual( # [aorder[all_obj_in_async_iter_order[1]]], # [aorder[d['update']['obj']] for d in captured_queues[3]] # ) # # we're full; the next one kicks out 1 # self.assertEqual( # [all_obj_in_async_iter_order[1], all_obj_in_async_iter_order[3]], # [d['update']['obj'] for d in captured_queues[4]] # ) # # we can't see it but the queue briefly looked like this ... # # self.assertEqual( # # [all_obj_in_async_iter_order[3], # all_obj_in_async_iter_order[4]], # # [d['update']['obj'] for d in captured_queues[4]] # # ) # # ... and then we only get to see it while re-iterating 3 # self.assertEqual( # [all_obj_in_async_iter_order[4]], # [d['update']['obj'] for d in captured_queues[5]] # ) # # after this the queue is ""empty"" - but only because where this test # is # # doing the capture the updater is currently in the process of # # ""passing"" the object to the back of the queue # self.assertEqual({0}, set(len(q) for q in captured_queues[10:])) # self.assertGreater(len(captured_queues), this_number_sucks) # # # first we haven't skipped # self.assertEqual({0}, set(captured_skips_stats[:num_c1_files])) # # ... then we have skipped, just the one # self.assertEqual({1}, set(captured_skips_stats[num_c1_files:])) # # but we re-iterated a LOT to do it # self.assertGreater(len(captured_skips_stats), this_number_sucks)",137,172
openstack%2Fneutron~master~I8af6565d2537db7f0df2e8e567ea046a0a6e003a,openstack/neutron,master,I8af6565d2537db7f0df2e8e567ea046a0a6e003a,Remove the expired reservations in a separate DB transaction,MERGED,2021-12-13 15:34:03.000000000,2021-12-15 22:22:05.000000000,2021-12-15 22:19:19.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 15:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a4c7a06ac41a042a64954415c6773c619d9ad7f', 'message': 'Remove the expired reservations in a separate DB transaction\n\nIn ""DbQuotaNoLockDriver"", when a new reservation is being made,\nfirst the expired reservations are removed. That guarantees the\nfresness of the existing reservations.\n\nIn systems with high concurrency of operations, the\n""DbQuotaNoLockDriver.make_reservation"" method will be called in\nparallel. The expired reservations removal implies a deletion\non the ""reservation"" table that could be executed by several\nworkers at the same time (in the same controller or not). That\ncould lead to a ""DBDeadlock"" exception if multiple workers want\nto delete the same registers.\n\nIn case an API worker receives this exception, it should continue\nas the expired reservations have been deleted by other worker. It\nshould not retry this operation.\n\nCloses-Bug: #1954662\nChange-Id: I8af6565d2537db7f0df2e8e567ea046a0a6e003a\n'}, {'number': 2, 'created': '2021-12-14 10:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dff4b378e92940e509bef396001d4f2467cae2e5', 'message': 'Remove the expired reservations in a separate DB transaction\n\nIn ""DbQuotaNoLockDriver"", when a new reservation is being made,\nfirst the expired reservations are removed. That guarantees the\nfresness of the existing reservations.\n\nIn systems with high concurrency of operations, the\n""DbQuotaNoLockDriver.make_reservation"" method will be called in\nparallel. The expired reservations removal implies a deletion\non the ""reservation"" table that could be executed by several\nworkers at the same time (in the same controller or not). That\ncould lead to a ""DBDeadlock"" exception if multiple workers want\nto delete the same registers.\n\nIn case an API worker receives this exception, it should continue\nas the expired reservations have been deleted by other worker. It\nshould not retry this operation.\n\nThe default reservation expiration timeout is set to 120 seconds\n(as it should have been initially set) that is the default\nexpiration delta for a reservation since 2015.\n\nCloses-Bug: #1954662\nChange-Id: I8af6565d2537db7f0df2e8e567ea046a0a6e003a\n'}, {'number': 3, 'created': '2021-12-14 13:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/856fe2a4c46d9c76433d1d9a8ff09e9bde8d9c69', 'message': 'Remove the expired reservations in a separate DB transaction\n\nIn ""DbQuotaNoLockDriver"", when a new reservation is being made,\nfirst the expired reservations are removed. That guarantees the\nfreshness of the existing reservations.\n\nIn systems with high concurrency of operations, the\n""DbQuotaNoLockDriver.make_reservation"" method will be called in\nparallel. The expired reservations removal implies a deletion\non the ""reservation"" table that could be executed by several\nworkers at the same time (in the same controller or not). That\ncould lead to a ""DBDeadlock"" exception if multiple workers want\nto delete the same registers.\n\nIn case an API worker receives this exception, it should continue\nas the expired reservations have been deleted by other worker. It\nshould not retry this operation.\n\nThe default reservation expiration timeout is set to 120 seconds\n(as it should have been initially set) that is the default\nexpiration delta for a reservation since 2015.\n\nCloses-Bug: #1954662\nChange-Id: I8af6565d2537db7f0df2e8e567ea046a0a6e003a\n'}, {'number': 4, 'created': '2021-12-14 15:09:32.000000000', 'files': ['neutron/db/quota/api.py', 'neutron/db/quota/driver_nolock.py', 'neutron/tests/unit/db/quota/test_driver_nolock.py', 'neutron/tests/unit/db/quota/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2dd3ffa271d68b4e042ff64fcc2657af6990e95f', 'message': 'Remove the expired reservations in a separate DB transaction\n\nIn ""DbQuotaNoLockDriver"", when a new reservation is being made,\nfirst the expired reservations are removed. That guarantees the\nfreshness of the existing reservations.\n\nIn systems with high concurrency of operations, the\n""DbQuotaNoLockDriver.make_reservation"" method will be called in\nparallel. The expired reservations removal implies a deletion\non the ""reservation"" table that could be executed by several\nworkers at the same time (in the same controller or not). That\ncould lead to a ""DBDeadlock"" exception if multiple workers want\nto delete the same registers.\n\nIn case an API worker receives this exception, it should continue\nas the expired reservations have been deleted by other worker. It\nshould not retry this operation.\n\nIf the reservations are not deleted, the quota engine will filter\nout those expired reservations when counting the current number of\nreservations [1][2][3]. That means even if in a particular request\nthe expired reservations are not deleted, these won\'t count in the\nresource quota calculation.\n\nThe default reservation expiration timeout is set to 120 seconds\n(as it should have been initially set) that is the default\nexpiration delta for a reservation since 2015.\n\n[1]https://github.com/openstack/neutron/blob/e99d9a9d0697a21ba7ec84465f415f60041f3767/neutron/quota/resource.py#L340\n[2]https://github.com/openstack/neutron/blob/e99d9a9d0697a21ba7ec84465f415f60041f3767/neutron/db/quota/api.py#L226\n[3]https://github.com/openstack/neutron/blob/e99d9a9d0697a21ba7ec84465f415f60041f3767/neutron/objects/quota.py#L100-L101\n\nCloses-Bug: #1954662\nChange-Id: I8af6565d2537db7f0df2e8e567ea046a0a6e003a\n'}]",19,821592,2dd3ffa271d68b4e042ff64fcc2657af6990e95f,44,5,4,16688,,,0,"Remove the expired reservations in a separate DB transaction

In ""DbQuotaNoLockDriver"", when a new reservation is being made,
first the expired reservations are removed. That guarantees the
freshness of the existing reservations.

In systems with high concurrency of operations, the
""DbQuotaNoLockDriver.make_reservation"" method will be called in
parallel. The expired reservations removal implies a deletion
on the ""reservation"" table that could be executed by several
workers at the same time (in the same controller or not). That
could lead to a ""DBDeadlock"" exception if multiple workers want
to delete the same registers.

In case an API worker receives this exception, it should continue
as the expired reservations have been deleted by other worker. It
should not retry this operation.

If the reservations are not deleted, the quota engine will filter
out those expired reservations when counting the current number of
reservations [1][2][3]. That means even if in a particular request
the expired reservations are not deleted, these won't count in the
resource quota calculation.

The default reservation expiration timeout is set to 120 seconds
(as it should have been initially set) that is the default
expiration delta for a reservation since 2015.

[1]https://github.com/openstack/neutron/blob/e99d9a9d0697a21ba7ec84465f415f60041f3767/neutron/quota/resource.py#L340
[2]https://github.com/openstack/neutron/blob/e99d9a9d0697a21ba7ec84465f415f60041f3767/neutron/db/quota/api.py#L226
[3]https://github.com/openstack/neutron/blob/e99d9a9d0697a21ba7ec84465f415f60041f3767/neutron/objects/quota.py#L100-L101

Closes-Bug: #1954662
Change-Id: I8af6565d2537db7f0df2e8e567ea046a0a6e003a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/821592/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/quota/api.py', 'neutron/db/quota/driver_nolock.py']",2,7a4c7a06ac41a042a64954415c6773c619d9ad7f,bug/1954662,"from oslo_db import exception as db_excfrom neutron.common import utils @utils.skip_exceptions(db_exc.DBError) def _remove_expired_reservations(self, context, project_id, timeout): """"""Remove expired reservations Any DB exception will be catch and dismissed. This operation can have been successfully executed by another concurrent request. There is no need to fail or retry it. """""" quota_api.remove_expired_reservations(context, project_id=project_id, timeout=timeout) # Delete expired reservations before counting valid ones. This # operation is fast and by calling it before making any # reservation, we ensure the freshness of the reservations. self._remove_expired_reservations( context, project_id=project_id, timeout=quota_api.RESERVATION_EXPIRATION_TIMEOUT) "," # Delete expired reservations before counting valid ones. This # operation is fast and by calling it before making any # reservation, we ensure the freshness of the reservations. quota_api.remove_expired_reservations( context, project_id=project_id, timeout=quota_api.RESERVATION_EXPIRATION_TIMEOUT) ",20,8
openstack%2Fcharm-keystone~master~Ife14892c69cf3ab2edcd7ade1346bb227ebe4250,openstack/charm-keystone,master,Ife14892c69cf3ab2edcd7ade1346bb227ebe4250,Add CMR gate test for vault <-> keystone,MERGED,2020-07-09 10:35:54.000000000,2021-12-15 22:15:43.000000000,2021-12-15 22:15:43.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-09 10:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/06ad29e144a8ba4372023727a200fa6cd9c8780f', 'message': 'Add CMR gate test for vault <-> keystone\n\nAdd a gate test to check the keystone relating to vault via a\nCMR.\n\nChange-Id: Ife14892c69cf3ab2edcd7ade1346bb227ebe4250\n'}, {'number': 2, 'created': '2020-07-17 12:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/82491f3f6c297c27953cc3670a93a2f7f14943c4', 'message': 'Add CMR gate test for vault <-> keystone\n\nAdd a gate test to check the keystone relating to vault via a\nCMR.\n\nChange-Id: Ife14892c69cf3ab2edcd7ade1346bb227ebe4250\n'}, {'number': 3, 'created': '2021-12-14 11:09:38.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/overlays/bionic-train-cmr.yaml.j2', 'tests/bundles/bionic-train-cmr.yaml', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/overlays/bionic-vault.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cca2cb4b96cbaedd65ce66c083fd95fe09a0fc94', 'message': 'Add CMR gate test for vault <-> keystone\n\nAdd a gate test to check the keystone relating to vault via a\nCMR.\n\nChange-Id: Ife14892c69cf3ab2edcd7ade1346bb227ebe4250\n'}]",1,740234,cca2cb4b96cbaedd65ce66c083fd95fe09a0fc94,27,5,3,12549,,,0,"Add CMR gate test for vault <-> keystone

Add a gate test to check the keystone relating to vault via a
CMR.

Change-Id: Ife14892c69cf3ab2edcd7ade1346bb227ebe4250
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/34/740234/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/bionic-train-cmr.yaml', 'tests/bundles/overlays/bionic-train-cmr.yaml.j2', 'tests/bundles/bionic-vault.yaml', 'tests/bundles/overlays/bionic-vault.yaml.j2']",5,06ad29e144a8ba4372023727a200fa6cd9c8780f,change-740234,applications: vault: offers: vault: endpoints: - secrets - certificates ,,47,0
openstack%2Fos-net-config~master~Ia0e65d80302ba55a138c7621e7c6b73de6647060,openstack/os-net-config,master,Ia0e65d80302ba55a138c7621e7c6b73de6647060,Use Python3 yoga unit tests,MERGED,2021-12-14 09:44:05.000000000,2021-12-15 22:01:52.000000000,2021-12-15 21:55:47.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f05ea2b839cbf1207af436d457027cd7500b200a', 'message': 'Use Python3 yoga unit tests\n\nBecause TripleO decided to skip Xena release, test runtime is not\nupdated by automation tools. This change updates the teat runtime\nmanually to use the tested runtime for Yoga.\n\nChange-Id: Ia0e65d80302ba55a138c7621e7c6b73de6647060\n'}, {'number': 2, 'created': '2021-12-14 09:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b440eeaf6dea9f0ba285eb319769389732aa813f', 'message': 'Use Python3 yoga unit tests\n\nBecause TripleO decided to skip Xena release, test runtime is not\nupdated by automation tools. This change updates the teat runtime\nmanually to use the tested runtime for Yoga.\n\nChange-Id: Ia0e65d80302ba55a138c7621e7c6b73de6647060\n'}, {'number': 3, 'created': '2021-12-14 09:53:18.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/154c9c8df90c81e35caecec4b540e245a3d0a6b6', 'message': 'Use Python3 yoga unit tests\n\nBecause the Xena release is not being created for TripleO repos, test\nruntime is not updated by automation tools. This change updates\nthe job template to use the tested runtime for Yoga.\n\nChange-Id: Ia0e65d80302ba55a138c7621e7c6b73de6647060\n'}]",1,821680,154c9c8df90c81e35caecec4b540e245a3d0a6b6,10,3,3,9816,,,0,"Use Python3 yoga unit tests

Because the Xena release is not being created for TripleO repos, test
runtime is not updated by automation tools. This change updates
the job template to use the tested runtime for Yoga.

Change-Id: Ia0e65d80302ba55a138c7621e7c6b73de6647060
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/80/821680/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f05ea2b839cbf1207af436d457027cd7500b200a,tripleo-yoga-runtime, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftripleo-common~master~I3c746be9ddb8d6e8a310071ba2f5be54e732d356,openstack/tripleo-common,master,I3c746be9ddb8d6e8a310071ba2f5be54e732d356,Use Python3 yoga unit tests,MERGED,2021-12-14 09:48:25.000000000,2021-12-15 22:01:23.000000000,2021-12-15 21:55:49.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 09:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7905ab1aa0d5dc5643f46afb2695a2d37bef54ef', 'message': 'Use Python3 yoga unit tests\n\nBecause TripleO decided to skip Xena release, test runtime is not\nupdated by automation tools. This change updates the teat runtime\nmanually to use the tested runtime for Yoga.\n\nChange-Id: I3c746be9ddb8d6e8a310071ba2f5be54e732d356\n'}, {'number': 2, 'created': '2021-12-14 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e1704c590a89541676e4a4f3cc646029671d019', 'message': 'Use Python3 yoga unit tests\n\nBecause the Xena release is not being created for TripleO repos, test\nruntime is not updated by automation tools. This change updates\nthe job template to use the tested runtime for Yoga.\n\nChange-Id: I3c746be9ddb8d6e8a310071ba2f5be54e732d356\n'}, {'number': 3, 'created': '2021-12-14 09:53:30.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f442bcad19e8effaeb8a1408e3ee6a8fd7ea0280', 'message': 'Use Python3 yoga unit tests\n\nBecause the Xena release is not being created for TripleO repos, test\nruntime is not updated by automation tools. This change updates\nthe job template to use the tested runtime for Yoga.\n\nChange-Id: I3c746be9ddb8d6e8a310071ba2f5be54e732d356\n'}]",1,821682,f442bcad19e8effaeb8a1408e3ee6a8fd7ea0280,11,4,3,9816,,,0,"Use Python3 yoga unit tests

Because the Xena release is not being created for TripleO repos, test
runtime is not updated by automation tools. This change updates
the job template to use the tested runtime for Yoga.

Change-Id: I3c746be9ddb8d6e8a310071ba2f5be54e732d356
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/821682/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,7905ab1aa0d5dc5643f46afb2695a2d37bef54ef,tripleo-yoga-runtime, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I6e0455e13a2f1351b072f11c98dfc79fecf847fb,openstack/tripleo-ansible,stable/ussuri,I6e0455e13a2f1351b072f11c98dfc79fecf847fb,Create SG rule for Octavia log offloading,MERGED,2021-12-09 14:34:09.000000000,2021-12-15 21:55:45.000000000,2021-12-15 21:55:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-09 14:34:09.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61cc61e877aca157d5d411d5bac9f48db5d086c3', 'message': ""Create SG rule for Octavia log offloading\n\nA SG rule for Octavia log offloading (syslog on UDP 514) was\nmissing, and now that the security-group has been added to the\nmanagement port, it's required for receiving the amphora logs.\n\nChange-Id: I6e0455e13a2f1351b072f11c98dfc79fecf847fb\n(cherry picked from commit 4843f8b6a20eb06a43cc7ffde009a93402630aa3)\n(cherry picked from commit 7a7034462d52cb7756438305abbe4c05f80bacd8)\n""}]",0,821225,61cc61e877aca157d5d411d5bac9f48db5d086c3,8,3,1,29244,,,0,"Create SG rule for Octavia log offloading

A SG rule for Octavia log offloading (syslog on UDP 514) was
missing, and now that the security-group has been added to the
management port, it's required for receiving the amphora logs.

Change-Id: I6e0455e13a2f1351b072f11c98dfc79fecf847fb
(cherry picked from commit 4843f8b6a20eb06a43cc7ffde009a93402630aa3)
(cherry picked from commit 7a7034462d52cb7756438305abbe4c05f80bacd8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/821225/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'],1,61cc61e877aca157d5d411d5bac9f48db5d086c3,," - name: create security group rule for log offloading openstack.cloud.security_group_rule: security_group: ""{{ lb_health_mgr_sec_grp_name }}"" protocol: udp port_range_min: 514 port_range_max: 514 remote_ip_prefix: 0.0.0.0/0 environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}""",,12,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,openstack/tripleo-ansible,stable/ussuri,Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,Enable security group on the Octavia management port,MERGED,2021-12-09 14:34:09.000000000,2021-12-15 21:55:43.000000000,2021-12-15 21:55:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-09 14:34:09.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f7bc5537d3cd14884c3e2933a4b7fc20c9eeab5', 'message': 'Enable security group on the Octavia management port\n\nA dedicated security group (lb-health-mgr-sec-grp) is created for the\nOctavia management port but it was unused as the port was created with\nno-security-groups.\nThis commit enables this security group of the health-manager port.\n\nChange-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea\n(cherry picked from commit a767d65dbcd5f4523fb570c87c54f58de7cb10ae)\n(cherry picked from commit d76130d0df595654341db5f5e451c1a33febb736)\n'}]",1,821224,1f7bc5537d3cd14884c3e2933a4b7fc20c9eeab5,12,3,1,29244,,,0,"Enable security group on the Octavia management port

A dedicated security group (lb-health-mgr-sec-grp) is created for the
Octavia management port but it was unused as the port was created with
no-security-groups.
This commit enables this security group of the health-manager port.

Change-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea
(cherry picked from commit a767d65dbcd5f4523fb570c87c54f58de7cb10ae)
(cherry picked from commit d76130d0df595654341db5f5e451c1a33febb736)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/821224/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml'],1,1f7bc5537d3cd14884c3e2933a4b7fc20c9eeab5,, --security-group {{ lb_health_mgr_sec_grp_name }} \, --no-security-groups \ --port-security-enabled=False \,1,2
openstack%2Fopenstack-ansible~stable%2Fxena~I55e09d7ee6a22e41706e66cd5d17f0b87899800b,openstack/openstack-ansible,stable/xena,I55e09d7ee6a22e41706e66cd5d17f0b87899800b,Fix ceph-ansible shallow_since,MERGED,2021-12-15 15:44:07.000000000,2021-12-15 21:34:16.000000000,2021-12-15 21:31:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-15 15:44:07.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/97060d391f363cc40fe729857cf768d411c3a27c', 'message': 'Fix ceph-ansible shallow_since\n\nDue to timezones, we need to set 1 day before the commit was made\notherwise we can get error while retrieving it.\n\nChange-Id: I55e09d7ee6a22e41706e66cd5d17f0b87899800b\n'}]",0,821858,97060d391f363cc40fe729857cf768d411c3a27c,7,2,1,28619,,,0,"Fix ceph-ansible shallow_since

Due to timezones, we need to set 1 day before the commit was made
otherwise we can get error while retrieving it.

Change-Id: I55e09d7ee6a22e41706e66cd5d17f0b87899800b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/821858/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,97060d391f363cc40fe729857cf768d411c3a27c,, shallow_since: '2021-12-07', shallow_since: '2021-12-08',1,1
openstack%2Fironic~stable%2Fxena~Ia0a986152c2b9fc9c5ff54cf698a351db452fbbd,openstack/ironic,stable/xena,Ia0a986152c2b9fc9c5ff54cf698a351db452fbbd,CI: reduce api worker processes to 1,MERGED,2021-12-08 17:21:20.000000000,2021-12-15 21:34:07.000000000,2021-12-15 16:14:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 17:21:20.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1dbec7340cd8fce808f38730def55b419b8d25c0', 'message': ""CI: reduce api worker processes to 1\n\nCI is memory intensive, and we realistically don't need 2 or\nmore API workers running for every single WSGI process which\ndoes not implement it's own specific override value.\n\nThis should reduce the memory footprint by an average of six processes\nwhich consume 60-90 MB each.\n\nChange-Id: Ia0a986152c2b9fc9c5ff54cf698a351db452fbbd\n""}]",1,821037,1dbec7340cd8fce808f38730def55b419b8d25c0,17,3,1,11655,,,0,"CI: reduce api worker processes to 1

CI is memory intensive, and we realistically don't need 2 or
more API workers running for every single WSGI process which
does not implement it's own specific override value.

This should reduce the memory footprint by an average of six processes
which consume 60-90 MB each.

Change-Id: Ia0a986152c2b9fc9c5ff54cf698a351db452fbbd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/821037/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,1dbec7340cd8fce808f38730def55b419b8d25c0,," # Default API workers is 2, however only 1 is needed, # which cuts API memory utilziation in half reducing the risk of # oom-killer events in CI. API_WORKERS: 1",,4,0
openstack%2Fpuppet-openstack-integration~master~I1f54c87b8bb7a1c61cc18cfa8096670bc860bc7c,openstack/puppet-openstack-integration,master,I1f54c87b8bb7a1c61cc18cfa8096670bc860bc7c,Remove workaround for old keystone package in UCA,MERGED,2021-12-13 14:00:04.000000000,2021-12-15 21:31:04.000000000,2021-12-15 21:31:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:00:04.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9bb96e4f318a45167e0bdb9d6526c2105ff5cce4', 'message': 'Remove workaround for old keystone package in UCA\n\nNow the keystone package in UCA provides the credential feature so\nwe can enable credential setup for both CentOS and Ubuntu.\n\nDepends-on: https://review.opendev.org/821567\nChange-Id: I1f54c87b8bb7a1c61cc18cfa8096670bc860bc7c\n'}]",0,821568,9bb96e4f318a45167e0bdb9d6526c2105ff5cce4,7,3,1,9816,,,0,"Remove workaround for old keystone package in UCA

Now the keystone package in UCA provides the credential feature so
we can enable credential setup for both CentOS and Ubuntu.

Depends-on: https://review.opendev.org/821567
Change-Id: I1f54c87b8bb7a1c61cc18cfa8096670bc860bc7c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/68/821568/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,9bb96e4f318a45167e0bdb9d6526c2105ff5cce4,,," # Keystone credential setup is not packaged in UCA yet. # It should be done when Newton is released. if $::osfamily == 'RedHat' { $enable_credential_setup = true } else { $enable_credential_setup = false } enable_credential_setup => $enable_credential_setup,",0,9
openstack%2Fkuryr-kubernetes~master~I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455,openstack/kuryr-kubernetes,master,I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455,Add events for Services,MERGED,2021-12-07 17:21:08.000000000,2021-12-15 21:30:40.000000000,2021-12-15 21:28:45.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-07 17:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/326e2c664cc0dcf70b9c9a05b988684b5216cec6', 'message': ""WiP: Add events for Services\n\nThis commit implements adding Events for various things that may happen\nwhen Kuryr handles a Service - either incidents or just informative\nmessages helpful to the user.\n\nAs to add an Event it is required to have a uid of the object and in\nmost of KuryrLoadBalancerHandler we don't have the Service\nrepresentation, this commit implements populating ownerReferences of the\nKuryrLoadBalancer object with a reference to the Service. This has a\nmajor side effect that KLB will be garbage collected if corresponding\nservice doesn't exist, which is probably a good thing (and we manage\nthat ourselves using finalizers anyway).\n\nChange-Id: I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455\n""}, {'number': 2, 'created': '2021-12-08 18:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/815b79c804ac63f98c9971ae68465b1f52fbf2f1', 'message': ""Add events for Services\n\nThis commit implements adding Events for various things that may happen\nwhen Kuryr handles a Service - either incidents or just informative\nmessages helpful to the user.\n\nAs to add an Event it is required to have a uid of the object and in\nmost of KuryrLoadBalancerHandler we don't have the Service\nrepresentation, this commit implements populating ownerReferences of the\nKuryrLoadBalancer object with a reference to the Service. This has a\nmajor side effect that KLB will be garbage collected if corresponding\nservice doesn't exist, which is probably a good thing (and we manage\nthat ourselves using finalizers anyway).\n\nAnother set of refactorings is to remove KLB creation from\nEndpointsHandler in order to stop it fighting with ServiceHandler over\ncreation - EndpointsHandler cannot add ownerReference as it has no uid\nof the Service.\n\nOther refactorings related to the error messages are also included.\n\nChange-Id: I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455\n""}, {'number': 3, 'created': '2021-12-09 15:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ea9a237e191ef67e16c217a823f0b44eb7fbaf9e', 'message': ""Add events for Services\n\nThis commit implements adding Events for various things that may happen\nwhen Kuryr handles a Service - either incidents or just informative\nmessages helpful to the user.\n\nAs to add an Event it is required to have a uid of the object and in\nmost of KuryrLoadBalancerHandler we don't have the Service\nrepresentation, this commit implements populating ownerReferences of the\nKuryrLoadBalancer object with a reference to the Service. This has a\nmajor side effect that KLB will be garbage collected if corresponding\nservice doesn't exist, which is probably a good thing (and we manage\nthat ourselves using finalizers anyway).\n\nAnother set of refactorings is to remove KLB creation from\nEndpointsHandler in order to stop it fighting with ServiceHandler over\ncreation - EndpointsHandler cannot add ownerReference as it has no uid\nof the Service.\n\nOther refactorings related to the error messages are also included.\n\nChange-Id: I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455\n""}, {'number': 4, 'created': '2021-12-10 17:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a68a20895019918e2fe8ed747b6cb0360559ea0c', 'message': ""Add events for Services\n\nThis commit implements adding Events for various things that may happen\nwhen Kuryr handles a Service - either incidents or just informative\nmessages helpful to the user.\n\nAs to add an Event it is required to have a uid of the object and in\nmost of KuryrLoadBalancerHandler we don't have the Service\nrepresentation, this commit implements populating ownerReferences of the\nKuryrLoadBalancer object with a reference to the Service. This has a\nmajor side effect that KLB will be garbage collected if corresponding\nservice doesn't exist, which is probably a good thing (and we manage\nthat ourselves using finalizers anyway).\n\nAnother set of refactorings is to remove KLB creation from\nEndpointsHandler in order to stop it fighting with ServiceHandler over\ncreation - EndpointsHandler cannot add ownerReference as it has no uid\nof the Service.\n\nOther refactorings related to the error messages are also included.\n\nChange-Id: I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455\n""}, {'number': 5, 'created': '2021-12-13 16:06:34.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_pipeline.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/handlers/pipeline.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py', 'kuryr_kubernetes/handlers/logging.py', 'kuryr_kubernetes/handlers/retry.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ca719a4009384b8c86f9e0561d809f573f7d8dab', 'message': ""Add events for Services\n\nThis commit implements adding Events for various things that may happen\nwhen Kuryr handles a Service - either incidents or just informative\nmessages helpful to the user.\n\nAs to add an Event it is required to have a uid of the object and in\nmost of KuryrLoadBalancerHandler we don't have the Service\nrepresentation, this commit implements populating ownerReferences of the\nKuryrLoadBalancer object with a reference to the Service. This has a\nmajor side effect that KLB will be garbage collected if corresponding\nservice doesn't exist, which is probably a good thing (and we manage\nthat ourselves using finalizers anyway).\n\nAnother set of refactorings is to remove KLB creation from\nEndpointsHandler in order to stop it fighting with ServiceHandler over\ncreation - EndpointsHandler cannot add ownerReference as it has no uid\nof the Service.\n\nOther refactorings related to the error messages are also included.\n\nChange-Id: I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455\n""}]",27,820914,ca719a4009384b8c86f9e0561d809f573f7d8dab,37,5,5,11600,,,0,"Add events for Services

This commit implements adding Events for various things that may happen
when Kuryr handles a Service - either incidents or just informative
messages helpful to the user.

As to add an Event it is required to have a uid of the object and in
most of KuryrLoadBalancerHandler we don't have the Service
representation, this commit implements populating ownerReferences of the
KuryrLoadBalancer object with a reference to the Service. This has a
major side effect that KLB will be garbage collected if corresponding
service doesn't exist, which is probably a good thing (and we manage
that ourselves using finalizers anyway).

Another set of refactorings is to remove KLB creation from
EndpointsHandler in order to stop it fighting with ServiceHandler over
creation - EndpointsHandler cannot add ownerReference as it has no uid
of the Service.

Other refactorings related to the error messages are also included.

Change-Id: I36b4d62e6fc7ace00909e9b1aa7681f6d59ca455
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/820914/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/clients.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py']",3,326e2c664cc0dcf70b9c9a05b988684b5216cec6,lb-events," self.k8s = clients.get_kubernetes_client() def _add_event(self, klb, reason, message, type_=None): """"""_add_event adds an event for the corresponding Service."""""" klb_meta = klb['metadata'] for ref in klb_meta.get('ownerReferences', []): # ""mock"" a Service based on ownerReference to it. if ref['kind'] == 'Service' and ref['name'] == klb_meta['name']: service = {'metadata': ref.copy()} service['metadata']['namespace'] = klb_meta['namespace'] break else: # No reference, just fetch the service from the API. try: service = self.k8s.get( f""{k_const.K8S_API_NAMESPACES}/{klb_meta['namespace']}"" f""/services/{klb_meta['name']}"") except k_exc.K8sClientException: LOG.debug('Error when fetching Service to add an event %s, ' 'ignoring', utils.get_res_unique_name(klb)) return kwargs = {'type_': type_} if type_ else {} self.k8s.add_event(service, reason, message, **kwargs) try: self.k8s.patch_crd('status', utils.get_res_link(loadbalancer_crd), {}) reason = self._should_ignore(loadbalancer_crd) if reason: reason %= utils.get_res_unique_name(loadbalancer_crd) LOG.debug(reason) self._add_event(loadbalancer_crd, 'ServiceSkippedByKuryr', reason) self.k8s.patch_crd('status', selflink, {}) if not(self._has_endpoints(loadbalancer_crd) or loadbalancer_crd.get('status')): return 'Skipping Service %s without Endpoints' elif not loadbalancer_crd['spec'].get('ip'): return 'Skipping Service %s without IP set yet' return False self.k8s.remove_finalizer(loadbalancer_crd, k_const.KURYRLB_FINALIZER) service = self.k8s.get(f""{k_const.K8S_API_NAMESPACES}/{namespace}"" f""/services/{name}"") self.k8s.remove_finalizer(service, k_const.SERVICE_FINALIZER) try: self.k8s.patch_crd('status', utils.get_res_link(loadbalancer_crd), loadbalancer_crd['status']) try: service = self.k8s.get( self.k8s.patch_crd('status/loadbalancer', utils.get_res_link(klb_crd), {'security_groups': lb_sgs}) try: self.k8s.patch(""status"", f""{k_const.K8S_API_NAMESPACES}"" f""/{ns}/services/{name}/status"", status_data)"," kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link(loadbalancer_crd), {}) if self._should_ignore(loadbalancer_crd): LOG.debug(""Ignoring Kubernetes service %s"", loadbalancer_crd['metadata']['name']) kubernetes = clients.get_kubernetes_client() kubernetes.patch_crd('status', selflink, {}) return (not(self._has_endpoints(loadbalancer_crd) or loadbalancer_crd.get('status')) or not loadbalancer_crd['spec'].get('ip')) kubernetes = clients.get_kubernetes_client() kubernetes.remove_finalizer(loadbalancer_crd, k_const.KURYRLB_FINALIZER) service = kubernetes.get(f""{k_const.K8S_API_NAMESPACES}"" f""/{namespace}/services/{name}"") kubernetes.remove_finalizer(service, k_const.SERVICE_FINALIZER) kubernetes = clients.get_kubernetes_client() try: kubernetes.patch_crd('status', utils.get_res_link( loadbalancer_crd), loadbalancer_crd['status']) k8s = clients.get_kubernetes_client() try: service = k8s.get( k8s.patch_crd('status/loadbalancer', utils.get_res_link(klb_crd), {'security_groups': lb_sgs}) k8s = clients.get_kubernetes_client() try: k8s.patch(""status"", f""{k_const.K8S_API_NAMESPACES}"" f""/{ns}/services/{name}/status"", status_data)",125,113
openstack%2Fswift~master~I0e8c0655f09af4a201c905098b2ead970aa52568,openstack/swift,master,I0e8c0655f09af4a201c905098b2ead970aa52568,container-server: set shard ranges in memcache,NEW,2021-11-09 18:24:35.000000000,2021-12-15 21:17:28.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 18:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03aec6b372f60081e25c6903c3567bb626a62943', 'message': 'WIP container-server: set shard ranges in memcache\n\nThe proxy-server puts shard ranges into memcache to avoid making a GET\nrequest to container servers on every object PUT for the purposes of\ndirecting object updates to the correct shard. On the occasions when\nthe memcache entry has expired and the proxy does make a GET request\nto the container server, a container server under extreme load may not\nrespond in a timely way. A primary container servers may eventually\nrespond to the proxy GET requests, but the proxy will have timed\nout, gone to handoffs and given up on the container GET.\n\nThis has two undesirable consequences: the proxy cannot repopulate\nmemcache with shard ranges, and object updates default to being\ndirected to the root container, therefore placing more load on the\nalready busy container servers.\n\nThis patch enables the container server to set shard ranges into\nmemcache if it has access to the memcache pool. That way, even when\ncontainer server responses are slow and the proxy times out, the shard\nranges may still make it to memcache for subsequent proxy requests to\nuse.\n\nChange-Id: I0e8c0655f09af4a201c905098b2ead970aa52568\n'}, {'number': 2, 'created': '2021-11-29 16:54:13.000000000', 'files': ['test/unit/common/middleware/test_object_versioning.py', 'test/unit/common/middleware/test_formpost.py', 'test/unit/proxy/controllers/test_account.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/container/test_server.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/container/server.py', 'swift/common/utils.py', 'test/unit/common/middleware/test_etag_quoter.py', 'swift/proxy/controllers/container.py', 'test/unit/common/test_utils.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5b20475bb06483d7863b1bf3d25c15fe0574cbbe', 'message': 'container-server: set shard ranges in memcache\n\nThe proxy-server puts shard ranges into memcache to avoid making a GET\nrequest to container servers on every object PUT for the purposes of\ndirecting object updates to the correct shard. On the occasions when\nthe memcache entry has expired and the proxy does make a GET request\nto the container server, a container server under extreme load may not\nrespond in a timely way. A primary container server may eventually\nrespond to the proxy GET requests, but the proxy will have timed out,\ngone to handoffs and given up on the primary container server GET.\n\nThis has two undesirable consequences: the proxy cannot repopulate\nmemcache with shard ranges; object updates default to being\ndirected to the root container, therefore placing more load on the\nalready busy container servers.\n\nThis patch enables the container server to set shard ranges into\nmemcache if it has access to the memcache pool. That way, even when\ncontainer server responses are slow and the proxy times out, the shard\nranges may still make it to memcache for subsequent proxy requests to\nuse.\n\nChange-Id: I0e8c0655f09af4a201c905098b2ead970aa52568\n'}]",4,817294,5b20475bb06483d7863b1bf3d25c15fe0574cbbe,9,2,2,7847,,,0,"container-server: set shard ranges in memcache

The proxy-server puts shard ranges into memcache to avoid making a GET
request to container servers on every object PUT for the purposes of
directing object updates to the correct shard. On the occasions when
the memcache entry has expired and the proxy does make a GET request
to the container server, a container server under extreme load may not
respond in a timely way. A primary container server may eventually
respond to the proxy GET requests, but the proxy will have timed out,
gone to handoffs and given up on the primary container server GET.

This has two undesirable consequences: the proxy cannot repopulate
memcache with shard ranges; object updates default to being
directed to the root container, therefore placing more load on the
already busy container servers.

This patch enables the container server to set shard ranges into
memcache if it has access to the memcache pool. That way, even when
container server responses are slow and the proxy times out, the shard
ranges may still make it to memcache for subsequent proxy requests to
use.

Change-Id: I0e8c0655f09af4a201c905098b2ead970aa52568
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/817294/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_object_versioning.py', 'test/unit/common/middleware/test_formpost.py', 'test/unit/proxy/controllers/test_account.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/container/server.py', 'swift/common/utils.py', 'test/unit/common/middleware/test_etag_quoter.py', 'swift/proxy/controllers/container.py', 'test/unit/common/test_utils.py', 'swift/proxy/controllers/base.py']",15,03aec6b372f60081e25c6903c3567bb626a62943,p-cache-shards," cache_from_env, get_cache_key"," cache_from_envdef get_cache_key(account, container=None, obj=None, shard=None): """""" Get the keys for both memcache and env['swift.infocache'] (cache_key) where info about accounts, containers, and objects is cached :param account: The name of the account :param container: The name of the container (or None if account) :param obj: The name of the object (or None if account or container) :param shard: Sharding state for the container query; typically 'updating' or 'listing' (Requires account and container; cannot use with obj) :returns: a (native) string cache_key """""" if six.PY2: def to_native(s): if s is None or isinstance(s, str): return s return s.encode('utf8') else: def to_native(s): if s is None or isinstance(s, str): return s return s.decode('utf8', 'surrogateescape') account = to_native(account) container = to_native(container) obj = to_native(obj) if shard: if not (account and container): raise ValueError('Shard cache key requires account and container') if obj: raise ValueError('Shard cache key cannot have obj') cache_key = 'shard-%s/%s/%s' % (shard, account, container) elif obj: if not (account and container): raise ValueError('Object cache key requires account and container') cache_key = 'object/%s/%s/%s' % (account, container, obj) elif container: if not account: raise ValueError('Container cache key requires account') cache_key = 'container/%s/%s' % (account, container) else: cache_key = 'account/%s' % account # Use a unique environment cache key per account and one container. # This allows caching both account and container and ensures that when we # copy this env to form a new request, it won't accidentally reuse the # old container or account info return cache_key ",146,120
openstack%2Fswift~master~Id34eea3f20621c2b25cc7753b1323d4ffb88f11b,openstack/swift,master,Id34eea3f20621c2b25cc7753b1323d4ffb88f11b,Move CI from CentOS 8 to CentOS 8 Stream,MERGED,2021-12-08 00:16:10.000000000,2021-12-15 20:59:03.000000000,2021-12-15 20:51:53.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 00:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ccdca29f7f8cc41d1cd8014a1afb885071d14410', 'message': 'Move CI from CentOS 8 to CentOS 8 Stream\n\nSee also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html\n\nChange-Id: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b\n'}, {'number': 2, 'created': '2021-12-10 21:25:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/546c9629ebf1831f7dca55ccd3f7b0e424a788b8', 'message': 'Move CI from CentOS 8 to CentOS 8 Stream\n\nSee also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html\n\nChange-Id: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b\n'}]",8,820964,546c9629ebf1831f7dca55ccd3f7b0e424a788b8,35,2,2,15343,,,0,"Move CI from CentOS 8 to CentOS 8 Stream

See also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html

Change-Id: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/820964/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ccdca29f7f8cc41d1cd8014a1afb885071d14410,, name: swift-tox-py36-centos-8-stream nodeset: centos-8-stream name: swift-tox-func-py36-centos-8-stream nodeset: centos-8-stream name: swift-tox-func-encryption-py36-centos-8-stream parent: swift-tox-func-py36-centos-8-stream name: swift-tox-func-ec-py36-centos-8-stream parent: swift-tox-func-py36-centos-8-stream name: swift-probetests-centos-8-stream nodeset: centos-8-stream name: swift-probetests-centos-8-stream-arm64 parent: swift-probetests-centos-8-stream nodeset: centos-8-stream-arm64 - swift-probetests-centos-8-stream-arm64 - swift-probetests-centos-8-stream: - swift-probetests-centos-8-stream: - swift-tox-py36-centos-8-stream - swift-tox-func-py36-centos-8-stream - swift-tox-func-encryption-py36-centos-8-stream - swift-tox-func-ec-py36-centos-8-stream, name: swift-tox-py36-centos-8 nodeset: centos-8 name: swift-tox-func-py36-centos-8 nodeset: centos-8 name: swift-tox-func-encryption-py36-centos-8 parent: swift-tox-func-py36-centos-8 name: swift-tox-func-ec-py36-centos-8 parent: swift-tox-func-py36-centos-8 name: swift-probetests-centos-8 nodeset: centos-8 name: swift-probetests-centos-8-arm64 parent: swift-probetests-centos-8 nodeset: centos-8-arm64 - swift-probetests-centos-8-arm64 - swift-probetests-centos-8: - swift-probetests-centos-8: - swift-tox-py36-centos-8 - swift-tox-func-py36-centos-8 - swift-tox-func-encryption-py36-centos-8 - swift-tox-func-ec-py36-centos-8,20,20
openstack%2Fironic~master~I543b106621b9b94bf20addb74b6302b314c6bcba,openstack/ironic,master,I543b106621b9b94bf20addb74b6302b314c6bcba,CI: Disable neutron metadata service,ABANDONED,2021-12-08 17:24:27.000000000,2021-12-15 20:34:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-08 17:24:27.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac30e8b0866959a65156dc4e5ef5a016beec3b9b', 'message': ""CI: Disable neutron metadata service\n\nWe don't need, afaik, the neutron metadata proxy service in\nany ironic jobs. This is intended to reduce the operating memory\nfootprint in CI.\n\nChange-Id: I543b106621b9b94bf20addb74b6302b314c6bcba\n""}]",1,821105,ac30e8b0866959a65156dc4e5ef5a016beec3b9b,10,1,1,11655,,,0,"CI: Disable neutron metadata service

We don't need, afaik, the neutron metadata proxy service in
any ironic jobs. This is intended to reduce the operating memory
footprint in CI.

Change-Id: I543b106621b9b94bf20addb74b6302b314c6bcba
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/821105/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,ac30e8b0866959a65156dc4e5ef5a016beec3b9b,, q-meta: false, q-meta: true,1,1
openstack%2Fneutron~master~Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439,openstack/neutron,master,Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439,"[OVN] Keep ""connectivity"" VIF details parameter in migration",MERGED,2021-10-15 13:22:26.000000000,2021-12-15 20:29:42.000000000,2021-12-15 20:27:36.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-10-15 13:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dcc497dce08602c9eb9d0f6553e87d4938ca21b', 'message': '[OVN] Keep ""connectivity"" VIF details parameter in migration\n\nDuring the OVS to OVN migration, the port bindings ""vif_details""\ndictionary should keep the ""connectivity"" key (""l2"" in both mech\ndrivers).\n\nCloses-Bug: #1947366\nChange-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439\n'}, {'number': 2, 'created': '2021-10-15 15:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4d28cbe28986ddaa35084f48dbb4dbf884261b6', 'message': '[OVN] Keep ""connectivity"" VIF details parameter in migration\n\nDuring the OVS to OVN migration, the port bindings ""vif_details""\ndictionary should keep the ""connectivity"" key (""l2"" in both mech\ndrivers).\n\nCloses-Bug: #1947366\nChange-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439\n'}, {'number': 3, 'created': '2021-12-13 15:34:32.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/569bafbbd5f90a458d781f1e49f099f96c363683', 'message': '[OVN] Keep ""connectivity"" VIF details parameter in migration\n\nDuring the OVS to OVN migration, the port bindings ""vif_details""\ndictionary should keep the ""connectivity"" key (""l2"" in both mech\ndrivers).\n\nCloses-Bug: #1947366\nChange-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439\n'}]",3,814145,569bafbbd5f90a458d781f1e49f099f96c363683,41,9,3,16688,,,0,"[OVN] Keep ""connectivity"" VIF details parameter in migration

During the OVS to OVN migration, the port bindings ""vif_details""
dictionary should keep the ""connectivity"" key (""l2"" in both mech
drivers).

Closes-Bug: #1947366
Change-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/814145/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/db_migration.py'],1,8dcc497dce08602c9eb9d0f6553e87d4938ca21b,bug/1947366, pb_api.VIF_DETAILS_BRIDGE_NAME)," pb_api.VIF_DETAILS_BRIDGE_NAME, pb_api.VIF_DETAILS_CONNECTIVITY)",1,2
openstack%2Ftap-as-a-service~master~I21deec1adc7ecf452503b0b2b32e45f83012a7d7,openstack/tap-as-a-service,master,I21deec1adc7ecf452503b0b2b32e45f83012a7d7,CLI: remove leftover logs from tap-flow create,MERGED,2021-09-24 12:54:54.000000000,2021-12-15 20:14:12.000000000,2021-12-15 20:14:12.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 12:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d5193bb335dd723b09f8676cdaefe99759d513e3', 'message': 'CLI: remove leftover logs from tap-flow create\n\nChange-Id: I21deec1adc7ecf452503b0b2b32e45f83012a7d7\n'}, {'number': 2, 'created': '2021-11-10 12:37:59.000000000', 'files': ['neutron_taas/taas_client/osc/tap_flow.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c78e795a355b816b9807a64f3fc634cf6f5e2f62', 'message': 'CLI: remove leftover logs from tap-flow create\n\nChange-Id: I21deec1adc7ecf452503b0b2b32e45f83012a7d7\n'}]",0,810895,c78e795a355b816b9807a64f3fc634cf6f5e2f62,11,3,2,8313,,,0,"CLI: remove leftover logs from tap-flow create

Change-Id: I21deec1adc7ecf452503b0b2b32e45f83012a7d7
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/95/810895/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/taas_client/osc/tap_flow.py'],1,d5193bb335dd723b09f8676cdaefe99759d513e3,osc_cleanup,, print('XXXXX headers=%s ' % headers) print('XXXXX columns=%s ' % columns) print('XXXXX objs=%s ' % objs),0,3
openstack%2Ftap-as-a-service~master~Id0eb972c5fd364efe2ce84f088db83c33cff9e79,openstack/tap-as-a-service,master,Id0eb972c5fd364efe2ce84f088db83c33cff9e79,Execute neutron-db-manage only if q-svc is enabled,MERGED,2021-11-24 11:13:03.000000000,2021-12-15 20:14:10.000000000,2021-12-15 20:14:10.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-24 11:13:03.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/04d9000eedd9d82cb2dfcdb7690d92d68b342823', 'message': 'Execute neutron-db-manage only if q-svc is enabled\n\nIn case devsatck is executed in a multihost environment on the host\nwhere only q-agt is enabled for example it is not necessary to execute\nneutron-db-manage command.\n\nChange-Id: Id0eb972c5fd364efe2ce84f088db83c33cff9e79\n'}]",0,819094,04d9000eedd9d82cb2dfcdb7690d92d68b342823,7,3,1,8313,,,0,"Execute neutron-db-manage only if q-svc is enabled

In case devsatck is executed in a multihost environment on the host
where only q-agt is enabled for example it is not necessary to execute
neutron-db-manage command.

Change-Id: Id0eb972c5fd364efe2ce84f088db83c33cff9e79
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/94/819094/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,04d9000eedd9d82cb2dfcdb7690d92d68b342823,dont_run_dbmanage, if is_service_enabled q-svc neutron-api; then neutron-db-manage --subproject tap-as-a-service upgrade head fi, neutron-db-manage --subproject tap-as-a-service upgrade head,3,1
openstack%2Fmetalsmith~master~I767a6981fb960954f53d86475927bb97aa967ed6,openstack/metalsmith,master,I767a6981fb960954f53d86475927bb97aa967ed6,Add unit tests for metalsmith/_nics.py,MERGED,2021-12-10 17:32:13.000000000,2021-12-15 20:02:10.000000000,2021-12-15 20:00:20.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-10 17:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/73f0b232cf72e9ebb5be65f9da73b8bf63d8a644', 'message': 'Add unit tests for metalsmith/_nics.py\n\nAdd unit tests for metalsmith._nics.detach_and_delete_ports\nand metalsmith._nics.NICs.\n\nChange-Id: I767a6981fb960954f53d86475927bb97aa967ed6\n'}, {'number': 2, 'created': '2021-12-10 17:34:55.000000000', 'files': ['metalsmith/test/test_nics.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/043f80b45a6d7e6a9fa60845f0509089d31598ce', 'message': 'Add unit tests for metalsmith/_nics.py\n\nAdd unit tests for metalsmith._nics.detach_and_delete_ports\nand metalsmith._nics.NICs.\n\nChange-Id: I767a6981fb960954f53d86475927bb97aa967ed6\n'}]",0,821432,043f80b45a6d7e6a9fa60845f0509089d31598ce,9,4,2,24245,,,0,"Add unit tests for metalsmith/_nics.py

Add unit tests for metalsmith._nics.detach_and_delete_ports
and metalsmith._nics.NICs.

Change-Id: I767a6981fb960954f53d86475927bb97aa967ed6
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/32/821432/2 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith/test/test_nics.py'],1,73f0b232cf72e9ebb5be65f9da73b8bf63d8a644,metalsmith-nics-unit-tests,"# Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import unittest from unittest import mock from openstack import exceptions as sdk_exc from metalsmith import _nics from metalsmith import exceptions from metalsmith.test import test_provisioner class TestNICs(unittest.TestCase): def setUp(self): super(TestNICs, self).setUp() self.connection = mock.Mock(spec=['network', 'baremetal']) self.node = mock.Mock(spec=test_provisioner.NODE_FIELDS + ['to_dict'], id='000', instance_id=None, properties={'local_gb': 100}, instance_info={}, is_maintenance=False, extra={}, allocation_id=None) def test_init(self): nic_info = [{'network': 'uuid', 'fixed_ip': '1.1.1.1', 'unexpected': 'field'}] nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.assertEqual(nics._node, self.node) self.assertEqual(nics._connection, self.connection) self.assertEqual(nics._nics, nic_info) self.assertIsNone(nics._validated) self.assertEqual(nics._hostname, 'test-host') self.assertEqual(nics.created_ports, []) self.assertEqual(nics.attached_ports, []) def test_init_wrong_type(self): nic_info = {'wrong': 'type'} self.assertRaisesRegex( TypeError, 'NICs must be a list of dicts', _nics.NICs, self.connection, self.node, nic_info, hostname='test-host') nic_info = [['wrong', 'type']] self.assertRaisesRegex( TypeError, 'Each NIC must be a dict', _nics.NICs, self.connection, self.node, nic_info, hostname='test-host') def test_get_port(self): nic_info = [{'port': 'port_uuid'}] nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') fake_port = mock.Mock() self.connection.network.find_port.return_value = fake_port return_value = nics._get_port(nic_info[0]) self.connection.network.find_port.assert_called_once_with( nic_info[0]['port'], ignore_missing=False) self.assertEqual(fake_port, return_value) def test_get_port_unexpected_fields(self): nic_info = [{'port': 'port_uuid', 'unexpected': 'field'}] nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.assertRaisesRegex(exceptions.InvalidNIC, 'Unexpected fields for a port: unexpected', nics._get_port, nic_info[0]) def test_get_port_resource_not_found(self): nic_info = [{'port': 'aaaa-bbbb-cccc'}] nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.connection.network.find_port.side_effect = ( sdk_exc.SDKException('SDK_ERROR')) self.assertRaisesRegex(exceptions.InvalidNIC, 'Cannot find port aaaa-bbbb-cccc: SDK_ERROR', nics._get_port, nic_info[0]) def test_get_network(self): nic_info = [{'network': 'net-name'}] hostname = 'test-host' nics = _nics.NICs(self.connection, self.node, nic_info, hostname=hostname) fake_net = mock.Mock(id='fake_net_id', name='fake_net_name') self.connection.network.find_network.return_value = fake_net return_value = nics._get_network(nic_info[0]) self.connection.network.find_network.assert_called_once_with( nic_info[0]['network'], ignore_missing=False) self.assertEqual({'network_id': fake_net.id, 'name': '%s-%s' % (hostname, fake_net.name)}, return_value) def test_get_network_fixed_ip(self): nic_info = [{'network': 'net-name', 'fixed_ip': '1.1.1.1'}] hostname = 'test-host' nics = _nics.NICs(self.connection, self.node, nic_info, hostname=hostname) fake_net = mock.Mock(id='fake_net_id', name='fake_net_name') self.connection.network.find_network.return_value = fake_net return_value = nics._get_network(nic_info[0]) self.connection.network.find_network.assert_called_once_with( nic_info[0]['network'], ignore_missing=False) self.assertEqual({'network_id': fake_net.id, 'name': '%s-%s' % (hostname, fake_net.name), 'fixed_ips': [{'ip_address': '1.1.1.1'}]}, return_value) def test_get_network_unexpected_fields(self): nic_info = [{'network': 'uuid', 'fixed_ip': '1.1.1.1', 'unexpected': 'field'}] nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.assertRaisesRegex(exceptions.InvalidNIC, 'Unexpected fields for a network: unexpected', nics._get_network, nic_info[0]) def test_get_network_resource_not_found(self): nic_info = [{'network': 'aaaa-bbbb-cccc', 'fixed_ip': '1.1.1.1'}] self.connection.network.find_network.side_effect = ( sdk_exc.SDKException('SDK_ERROR')) nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.assertRaisesRegex(exceptions.InvalidNIC, 'Cannot find network aaaa-bbbb-cccc: SDK_ERROR', nics._get_network, nic_info[0]) def test_get_subnet(self): nic_info = [{'subnet': 'net-name'}] hostname = 'test-host' nics = _nics.NICs(self.connection, self.node, nic_info, hostname=hostname) fake_net = mock.Mock(id='fake_net_id', name='fake_net_name') fake_subnet = mock.Mock(id='fake_subnetnet_id', name='fake_subnetnet_name', network_id=fake_net.id) self.connection.network.find_subnet.return_value = fake_subnet self.connection.network.get_network.return_value = fake_net return_value = nics._get_subnet(nic_info[0]) self.connection.network.find_subnet.assert_called_once_with( nic_info[0]['subnet'], ignore_missing=False) self.connection.network.get_network.assert_called_once_with( fake_subnet.network_id) self.assertEqual({'network_id': fake_net.id, 'name': '%s-%s' % (hostname, fake_net.name), 'fixed_ips': [{'subnet_id': fake_subnet.id}]}, return_value) def test_get_subnet_unexpected_fields(self): nic_info = [{'subnet': 'uuid', 'unexpected': 'field'}] nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.assertRaisesRegex(exceptions.InvalidNIC, 'Unexpected fields for a subnet: unexpected', nics._get_subnet, nic_info[0]) def test_get_subnet_resource_not_found(self): nic_info = [{'subnet': 'uuid'}] self.connection.network.find_subnet.side_effect = ( sdk_exc.SDKException('SDK_ERROR')) nics = _nics.NICs(self.connection, self.node, nic_info, hostname='test-host') self.assertRaisesRegex(exceptions.InvalidNIC, 'Cannot find subnet uuid: SDK_ERROR', nics._get_subnet, nic_info[0]) @mock.patch.object(_nics.NICs, '_get_port', autospec=True) @mock.patch.object(_nics.NICs, '_get_subnet', autospec=True) @mock.patch.object(_nics.NICs, '_get_network', autospec=True) def test_validate(self, mock_network, mock_subnet, mock_port): nic_info = [{'network': 'network'}, {'subnet': 'subnet'}, {'port': 'port'}] nics = _nics.NICs(self.connection, self.node, nic_info) mock_network.return_value = {'network_id': 'net_id'} mock_subnet.return_value = {'network_id': 'net_id', 'fixed_ips': [ {'subnet_id': 'subnet_id'}]} mock_port.return_value = port_mock = mock.Mock(id='port_id') nics.validate() mock_network.assert_called_once_with(nics, nic_info[0]) mock_subnet.assert_called_once_with(nics, nic_info[1]) mock_port.assert_called_once_with(nics, nic_info[2]) self.assertEqual(('network', {'network_id': 'net_id'}), nics._validated[0]) self.assertEqual(('subnet', {'network_id': 'net_id', 'fixed_ips': [ {'subnet_id': 'subnet_id'}]}), nics._validated[1]) self.assertEqual(('port', port_mock), nics._validated[2]) @mock.patch.object(_nics.NICs, '_get_port', autospec=True) @mock.patch.object(_nics.NICs, '_get_subnet', autospec=True) @mock.patch.object(_nics.NICs, '_get_network', autospec=True) def test_create_and_attach_ports(self, mock_network, mock_subnet, mock_port): nic_info = [{'network': 'network'}, {'subnet': 'subnet'}, {'port': 'port'}] nics = _nics.NICs(self.connection, self.node, nic_info) mock_network.return_value = {'network_id': 'net_id'} mock_subnet.return_value = {'network_id': 'net_id', 'fixed_ips': [ {'subnet_id': 'subnet_id'}]} port_a_mock = mock.Mock(id='port_a_id') port_b_mock = mock.Mock(id='port_b_id') port_c_mock = mock.Mock(id='port_c_id') self.connection.network.create_port.side_effect = [port_a_mock, port_b_mock] mock_port.return_value = port_c_mock nics.create_and_attach_ports() self.connection.network.create_port.assert_has_calls( [mock.call(binding_host_id=nics._node.id, **{'network_id': 'net_id'}), mock.call(binding_host_id=nics._node.id, **{'network_id': 'net_id', 'fixed_ips': [{'subnet_id': 'subnet_id'}]})]) self.connection.network.update_port.assert_has_calls( [mock.call(port_c_mock, binding_host_id=nics._node.id)]) self.connection.baremetal.attach_vif_to_node.assert_has_calls( [mock.call(nics._node, port_a_mock.id), mock.call(nics._node, port_b_mock.id), mock.call(nics._node, port_c_mock.id)]) self.assertEqual([port_a_mock.id, port_b_mock.id], nics.created_ports) self.assertEqual([port_a_mock.id, port_b_mock.id, port_c_mock.id], nics.attached_ports) @mock.patch.object(_nics, 'detach_and_delete_ports', autospec=True) def test_detach_and_delete_ports(self, mock_detach_delete): nics = _nics.NICs(self.connection, self.node, []) nics.created_ports = ['port_a_id'] nics.attached_ports = ['port_a_id', 'port_b_id'] nics.detach_and_delete_ports() mock_detach_delete.assert_called_once_with( self.connection, nics._node, nics.created_ports, nics.attached_ports) def test_nics_detach_and_delete_ports(self): created_ports = ['port_a_id'] attached_ports = ['port_a_id', 'port_b_id'] _nics.detach_and_delete_ports( self.connection, self.node, created_ports, attached_ports) self.connection.baremetal.detach_vif_from_node.assert_any_call( self.node, attached_ports[0]) self.connection.baremetal.detach_vif_from_node.assert_any_call( self.node, attached_ports[1]) self.connection.network.delete_port.assert_called_once_with( created_ports[0], ignore_missing=False) ",,264,0
openstack%2Fswift~stable%2Fwallaby~I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,openstack/swift,stable/wallaby,I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,Fix cname_lookup test,MERGED,2021-12-14 23:49:08.000000000,2021-12-15 19:26:05.000000000,2021-12-15 19:24:22.000000000,"[{'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 23:49:08.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a25a936c4fd4486d66c434715f0cb8a6f404885d', 'message': ""Fix cname_lookup test\n\nc.badtest.com actually has a CNAME now, and apparently we're actually\ndoing the look-up during tests.\n\nChange-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc\n(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)\n""}]",2,821759,a25a936c4fd4486d66c434715f0cb8a6f404885d,10,3,1,15343,,,0,"Fix cname_lookup test

c.badtest.com actually has a CNAME now, and apparently we're actually
doing the look-up during tests.

Change-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc
(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/821759/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_cname_lookup.py'],1,a25a936c4fd4486d66c434715f0cb8a6f404885d,," @mock.patch('dns.resolver.Resolver.query', side_effect=dns.exception.DNSException) def test_host_is_storage_domain(self, mock_lookup): self.assertEqual(1, len(mock_lookup.mock_calls)) mock_lookup.reset_mock() self.assertEqual(0, len(mock_lookup.mock_calls))", def test_host_is_storage_domain(self):,6,1
openstack%2Frequirements~master~If1354895383e2e98fda99006df662a69e9a7e4ee,openstack/requirements,master,If1354895383e2e98fda99006df662a69e9a7e4ee,update constraint for neutron-lib to new release 2.18.0,MERGED,2021-12-15 15:49:36.000000000,2021-12-15 18:48:21.000000000,2021-12-15 18:46:25.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-15 15:49:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/134bfe059a4f78a51f95342f5598c0c7f8fe2a40', 'message': 'update constraint for neutron-lib to new release 2.18.0\n\nmeta: version: 2.18.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I554ef91c88636df51baad1efb1d0effcdd146d81\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Oleg Bondarev <oleg.bondarev@huawei.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: If1354895383e2e98fda99006df662a69e9a7e4ee\n'}]",0,821859,134bfe059a4f78a51f95342f5598c0c7f8fe2a40,10,6,1,11131,,,0,"update constraint for neutron-lib to new release 2.18.0

meta: version: 2.18.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I554ef91c88636df51baad1efb1d0effcdd146d81
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: yatin <ykarel@redhat.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Oleg Bondarev <oleg.bondarev@huawei.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: If1354895383e2e98fda99006df662a69e9a7e4ee
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/821859/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,134bfe059a4f78a51f95342f5598c0c7f8fe2a40,new-release,neutron-lib===2.18.0,neutron-lib===2.17.0,1,1
openstack%2Frequirements~master~Ie14c48c76b9edc594facfa4c156b6e979bb9250f,openstack/requirements,master,Ie14c48c76b9edc594facfa4c156b6e979bb9250f,Updated from generate-constraints,ABANDONED,2021-12-15 02:48:44.000000000,2021-12-15 18:48:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-15 02:48:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/52b03976ee9f1969cce0d63f60d01835759ee396', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie14c48c76b9edc594facfa4c156b6e979bb9250f\n'}]",0,821795,52b03976ee9f1969cce0d63f60d01835759ee396,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ie14c48c76b9edc594facfa4c156b6e979bb9250f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/821795/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,52b03976ee9f1969cce0d63f60d01835759ee396,openstack/requirements/constraints,lxml===4.7.1rcssmin===1.1.0moto===2.2.19XStatic-Angular===1.8.2.1graphviz===0.19.1cryptography===36.0.1pkg_resources===0.0.0django-compressor===3.0amqp===5.0.7pytest-xdist===2.5.0boto3===1.20.24pysaml2===7.1.0botocore===1.23.24xattr===0.9.9rjsmin===1.2.0fasteners===0.16.3pytest-forked===1.4.0,lxml===4.6.4rcssmin===1.0.6moto===2.2.17XStatic-Angular===1.5.8.0graphviz===0.19cryptography===36.0.0django-compressor===2.4.1amqp===5.0.6pytest-xdist===2.4.0boto3===1.20.23pysaml2===7.0.1botocore===1.23.23xattr===0.9.8rjsmin===1.1.0fasteners===0.14.1pytest-forked===1.3.0setuptools===59.5.0,17,17
openstack%2Fkayobe~stable%2Fwallaby~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/wallaby,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,MERGED,2021-12-06 12:04:23.000000000,2021-12-15 18:43:24.000000000,2021-12-15 18:41:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-06 12:04:23.000000000', 'files': ['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf7ef2aef3cc001927db5ce1b3983f29362f4be1', 'message': ""Fix installation prefix detection\n\nWhen multiple 'lib' components are present in the installation path,\nKayobe fails to detect the right installation prefix which causes\nvarious commands to raise an error.\n\nRewrite logic to detect the last 'lib' component in path instead. This\nshould work as long as this function is not stored under a lib directory\ninside the Kayobe source tree.\n\nChange-Id: Ie9b15db6563546ede9ce9735292ec566d540432a\nStory: 2009721\nTask: 44109\n(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)\n""}]",0,820500,bf7ef2aef3cc001927db5ce1b3983f29362f4be1,8,3,1,15197,,,0,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/820500/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml']",3,bf7ef2aef3cc001927db5ce1b3983f29362f4be1,story/2009721-stable/wallaby,--- fixes: - | Fixes a failure to detect the Kayobe installation prefix when ``lib`` is present multiple times in the installation path. See `story 2009721 <https://storyboard.openstack.org/#!/story/2009721>`__ for details. ,,16,6
openstack%2Fkayobe~stable%2Fussuri~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/ussuri,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,MERGED,2021-12-06 12:05:12.000000000,2021-12-15 18:43:23.000000000,2021-12-15 18:41:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-06 12:05:12.000000000', 'files': ['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/30fd30f8c1bc8d6b866fd8cd2e3e6ff2a2581b7c', 'message': ""Fix installation prefix detection\n\nWhen multiple 'lib' components are present in the installation path,\nKayobe fails to detect the right installation prefix which causes\nvarious commands to raise an error.\n\nRewrite logic to detect the last 'lib' component in path instead. This\nshould work as long as this function is not stored under a lib directory\ninside the Kayobe source tree.\n\nChange-Id: Ie9b15db6563546ede9ce9735292ec566d540432a\nStory: 2009721\nTask: 44109\n(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)\n""}]",0,820502,30fd30f8c1bc8d6b866fd8cd2e3e6ff2a2581b7c,8,3,1,15197,,,0,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/820502/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml']",3,30fd30f8c1bc8d6b866fd8cd2e3e6ff2a2581b7c,story/2009721-stable/ussuri,--- fixes: - | Fixes a failure to detect the Kayobe installation prefix when ``lib`` is present multiple times in the installation path. See `story 2009721 <https://storyboard.openstack.org/#!/story/2009721>`__ for details. ,,16,6
openstack%2Fkayobe~stable%2Fxena~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/xena,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,MERGED,2021-12-06 12:04:04.000000000,2021-12-15 18:43:15.000000000,2021-12-15 18:41:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-06 12:04:04.000000000', 'files': ['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b01173b1c968031cc02ab6322be9416fb38cbc91', 'message': ""Fix installation prefix detection\n\nWhen multiple 'lib' components are present in the installation path,\nKayobe fails to detect the right installation prefix which causes\nvarious commands to raise an error.\n\nRewrite logic to detect the last 'lib' component in path instead. This\nshould work as long as this function is not stored under a lib directory\ninside the Kayobe source tree.\n\nChange-Id: Ie9b15db6563546ede9ce9735292ec566d540432a\nStory: 2009721\nTask: 44109\n(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)\n""}]",0,820499,b01173b1c968031cc02ab6322be9416fb38cbc91,8,3,1,15197,,,0,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/820499/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml']",3,b01173b1c968031cc02ab6322be9416fb38cbc91,story/2009721-stable/xena,--- fixes: - | Fixes a failure to detect the Kayobe installation prefix when ``lib`` is present multiple times in the installation path. See `story 2009721 <https://storyboard.openstack.org/#!/story/2009721>`__ for details. ,,16,6
openstack%2Fcinder~stable%2Ftrain~I56d48ae312730c9023ebd5b87a9e5afb8cb694cc,openstack/cinder,stable/train,I56d48ae312730c9023ebd5b87a9e5afb8cb694cc,[stable-only] Pin virtualenv and setuptools,MERGED,2021-12-14 17:08:07.000000000,2021-12-15 18:17:02.000000000,2021-12-15 18:13:38.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-12-14 17:08:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0fb7229979858aa1a0d33dca141a110da6e6a21e', 'message': ""[stable-only] Pin virtualenv and setuptools\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0. So this patch pins virtualenv to avoid the break.\nAs the used 'require' feature was introduced in tox in version 3.2 [1],\nthe required minversion has to be bumped, too.\n\n[1] https://tox.readthedocs.io/en/latest/config.html#conf-requires\n\nChange-Id: I56d48ae312730c9023ebd5b87a9e5afb8cb694cc\n""}]",3,821738,0fb7229979858aa1a0d33dca141a110da6e6a21e,13,6,1,3153,,,0,"[stable-only] Pin virtualenv and setuptools

Setuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of
decorator 3.4.0. So this patch pins virtualenv to avoid the break.
As the used 'require' feature was introduced in tox in version 3.2 [1],
the required minversion has to be bumped, too.

[1] https://tox.readthedocs.io/en/latest/config.html#conf-requires

Change-Id: I56d48ae312730c9023ebd5b87a9e5afb8cb694cc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/821738/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0fb7229979858aa1a0d33dca141a110da6e6a21e,use_2to3,minversion = 3.2.0# Pin the virtualenv and therefore the setuptools version used for the env # creation. This results in a new tox being installed in .tox/.tox virtualenv # and the tox on the host will delegate all the calls to the tox in that env. requires = virtualenv<20.8,minversion = 2.5,5,1
openstack%2Fnetworking-bgpvpn~stable%2Frocky~I9efad8c23ddee86150b4da4c178209224b9c65db,openstack/networking-bgpvpn,stable/rocky,I9efad8c23ddee86150b4da4c178209224b9c65db,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-17 06:12:20.000000000,2021-12-15 18:14:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 06:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5cc82f1d8044990e0fbfbda23d28d7dc5016e05d', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I9efad8c23ddee86150b4da4c178209224b9c65db\n'}, {'number': 2, 'created': '2021-09-17 06:13:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ca7d455dbf34bf9e12a07f3d537c0697c282f6da', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I9efad8c23ddee86150b4da4c178209224b9c65db\n'}]",0,809499,ca7d455dbf34bf9e12a07f3d537c0697c282f6da,6,1,2,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this branch is also EOL for TripleO.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I9efad8c23ddee86150b4da4c178209224b9c65db
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/99/809499/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5cc82f1d8044990e0fbfbda23d28d7dc5016e05d,remove-c7-jobs-stable/rocky,<<<<<<< HEAD (18d1cf Fix lower-constraints)======= >>>>>>> CHANGE (646d15 Remove jobs corresponds to obselete featuresets),,3,0
openstack%2Fnetworking-ovn~stable%2Fpike~Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f,openstack/networking-ovn,stable/pike,Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-17 07:52:17.000000000,2021-12-15 18:14:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 07:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/80c3d4fe92a198d3bac288a8712d52bcbcae156b', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f\n'}, {'number': 2, 'created': '2021-09-17 07:53:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/efc6b576048601b3b8f65ba74b6b02cdfa36ff94', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f\n'}]",0,809506,efc6b576048601b3b8f65ba74b6b02cdfa36ff94,6,1,2,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this branch is also EOL for TripleO.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/809506/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,80c3d4fe92a198d3bac288a8712d52bcbcae156b,remove-c7-jobs-stable/pike,<<<<<<< HEAD (b9902d OpenDev Migration Patch)======= - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ voting: false >>>>>>> CHANGE (f6f081 Remove jobs corresponds to obselete featuresets)<<<<<<< HEAD (b9902d OpenDev Migration Patch)======= >>>>>>> CHANGE (f6f081 Remove jobs corresponds to obselete featuresets),,9,0
openstack%2Fnetworking-ovn~stable%2Fqueens~Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f,openstack/networking-ovn,stable/queens,Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-17 07:50:03.000000000,2021-12-15 18:14:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 07:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d9dd4cbed495745da7e192f1d7343d6fd2248fdd', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f\n'}, {'number': 2, 'created': '2021-09-17 07:51:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b3cbee9a0e181f8f0f633546707b326ce3334827', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f\n'}]",0,809505,b3cbee9a0e181f8f0f633546707b326ce3334827,6,1,2,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this branch is also EOL for TripleO.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/809505/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d9dd4cbed495745da7e192f1d7343d6fd2248fdd,remove-c7-jobs-stable/queens,"<<<<<<< HEAD (51639a Merge ""[OVN] Remove VLAN check when setting external_mac"" in)======= - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ voting: false >>>>>>> CHANGE (f6f081 Remove jobs corresponds to obselete featuresets)<<<<<<< HEAD (51639a Merge ""[OVN] Remove VLAN check when setting external_mac"" in)======= >>>>>>> CHANGE (f6f081 Remove jobs corresponds to obselete featuresets)",,9,0
openstack%2Fnetworking-ovn~stable%2Frocky~Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f,openstack/networking-ovn,stable/rocky,Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-17 07:49:34.000000000,2021-12-15 18:13:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 07:49:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f6f0817c39fa1c2bdb6c01217c6866067fff45f2', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f\n'}]",0,809536,f6f0817c39fa1c2bdb6c01217c6866067fff45f2,3,1,1,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this branch is also EOL for TripleO.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icc9eb2ec714bd4a960c8457306d1d33becd4fa9f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/36/809536/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f6f0817c39fa1c2bdb6c01217c6866067fff45f2,remove-c7-jobs,," # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario007-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario007-multinode-oooq-container: voting: false - tripleo-ci-centos-7-scenario007-multinode-oooq",0,10
openstack%2Fneutron~master~I4ff3ef21131f1d065de60053c3844392e739fb47,openstack/neutron,master,I4ff3ef21131f1d065de60053c3844392e739fb47,Trunk and port are residual in VM deleting scenario when southbound plugin/agent failed,ABANDONED,2021-09-10 07:56:54.000000000,2021-12-15 18:13:51.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-09-10 07:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ad79c1b75d528bcaafeae6ab68ee4297d4e803c', 'message': ""Trunk and port are residual in VM deleting scenario when southbound plugin/agent failed\n\nWith following reproduce steps, trunk and port will be residual:\n\n 1. Operator create trunk , parent port and subport\n 2. Operator create VM with parent port\n 3. Port is bound succeed. Host and device information are updated.\n 4. Operator start to delete VM\n 5. Due to 3rd party plugin issue, port unbind failed. Host and device information are not updated. Trunk and port binding information are not updated. Port's status is normal and active.\n\n Test result: operator fail to delete trunk as port is in bound status.\n\n In trunk deleting scenario, VM that the port is bound will be checked\n and trunk can be deleted if the VM is no longer exist.\n\n Closes-Bug: #1938972\n\nChange-Id: I4ff3ef21131f1d065de60053c3844392e739fb47\n""}, {'number': 2, 'created': '2021-09-16 03:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/888053012d7d872926929ca23f5b984a0c6fd955', 'message': ""Trunk and port are residual in VM deleting scenario when southbound plugin/agent failed\n\nWith following reproduce steps, trunk and port will be residual:\n\n 1. Operator create trunk , parent port and subport\n 2. Operator create VM with parent port\n 3. Port is bound succeed. Host and device information are updated.\n 4. Operator start to delete VM\n 5. Due to 3rd party plugin issue, port unbind failed. Host and device information are not updated. Trunk and port binding information are not updated. Port's status is normal and active.\n\n Test result: operator fail to delete trunk as port is in bound status.\n\n In trunk deleting scenario, VM that the port is bound will be checked\n and trunk can be deleted if the VM is no longer exist.\n\n Closes-Bug: #1938972\n\nChange-Id: I4ff3ef21131f1d065de60053c3844392e739fb47\n""}, {'number': 3, 'created': '2021-09-16 03:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1f804b636bcb40208789dd1589228faa1db0046', 'message': ""Trunk and port are residual in VM deleting scenario when southbound plugin/agent failed\n\nWith following reproduce steps, trunk and port will be residual:\n\n 1. Operator create trunk , parent port and subport\n 2. Operator create VM with parent port\n 3. Port is bound succeed. Host and device information are updated.\n 4. Operator start to delete VM\n 5. Due to 3rd party plugin issue, port unbind failed. Host and device information are not updated. Trunk and port binding information are not updated. Port's status is normal and active.\n\n Test result: operator fail to delete trunk as port is in bound status.\n\n In trunk deleting scenario, VM that the port is bound will be checked\n and trunk can be deleted if the VM is no longer exist.\n\n Closes-Bug: #1938972\n\nChange-Id: I4ff3ef21131f1d065de60053c3844392e739fb47\n""}, {'number': 4, 'created': '2021-09-17 01:58:51.000000000', 'files': ['neutron/services/trunk/rules.py', 'neutron/notifiers/nova.py', 'neutron/services/trunk/plugin.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e8b66b5b2448731f64fca738eaed7cad74ceb1d', 'message': ""Trunk and port are residual in VM deleting scenario when southbound plugin/agent failed\n\nWith following reproduce steps, trunk and port will be residual:\n\n 1. Operator create trunk , parent port and subport\n 2. Operator create VM with parent port\n 3. Port is bound succeed. Host and device information are updated.\n 4. Operator start to delete VM\n 5. Due to 3rd party plugin issue, port unbind failed. Host and device information are not updated. Trunk and port binding information are not updated. Port's status is normal and active.\n\n Test result: operator fail to delete trunk as port is in bound status.\n\n In trunk deleting scenario, VM that the port is bound will be checked\n and trunk can be deleted if the VM is no longer exist.\n\n Closes-Bug: #1938972\n\nChange-Id: I4ff3ef21131f1d065de60053c3844392e739fb47\n""}]",20,808179,3e8b66b5b2448731f64fca738eaed7cad74ceb1d,28,7,4,33145,,,0,"Trunk and port are residual in VM deleting scenario when southbound plugin/agent failed

With following reproduce steps, trunk and port will be residual:

 1. Operator create trunk , parent port and subport
 2. Operator create VM with parent port
 3. Port is bound succeed. Host and device information are updated.
 4. Operator start to delete VM
 5. Due to 3rd party plugin issue, port unbind failed. Host and device information are not updated. Trunk and port binding information are not updated. Port's status is normal and active.

 Test result: operator fail to delete trunk as port is in bound status.

 In trunk deleting scenario, VM that the port is bound will be checked
 and trunk can be deleted if the VM is no longer exist.

 Closes-Bug: #1938972

Change-Id: I4ff3ef21131f1d065de60053c3844392e739fb47
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/808179/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/nova.py', 'neutron/services/trunk/rules.py', 'neutron/services/trunk/plugin.py', 'neutron/tests/unit/notifiers/test_nova.py']",4,6ad79c1b75d528bcaafeae6ab68ee4297d4e803c,bug/1938972," with mock.patch.object( directory.get_plugin(), 'get_port', def _bound_with_nonexistent_server(self, get_server_func): port = {'device_owner': DEVICE_OWNER_COMPUTE, 'id': 'bee50827-bcee-4cc8-91c1-a27b0ce54222', 'device_id': '32102d7b-1cf4-404d-b50a-97aae1f55f87'} with mock.patch('novaclient.client.Client') as mock_client: mock_client.return_value.servers.get.side_effect = get_server_func return self.nova_notifier.bound_with_nonexistent_server(port) def test_bound_with_nonexistent_server_False(self): self.assertFalse( self._bound_with_nonexistent_server(lambda uuid: 'Server')) def test_bound_with_nonexistent_server_True(self): def get_server(uuid): raise nova_exceptions.NotFound(404) self.assertTrue(self._bound_with_nonexistent_server(get_server)) def test_bound_with_nonexistent_server_with_other_Exceptions(self): self.assertFalse(self._bound_with_nonexistent_server(Exception))"," with mock.patch.object(directory.get_plugin(), 'get_port',",52,2
openstack%2Fneutron-vpnaas-dashboard~stable%2Fxena~I335a0e883d05fed27f36959b6f537f5e8217b1b1,openstack/neutron-vpnaas-dashboard,stable/xena,I335a0e883d05fed27f36959b6f537f5e8217b1b1,Update .gitreview for stable/xena,ABANDONED,2021-09-22 12:28:10.000000000,2021-12-15 18:13:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-22 12:28:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/b52d20d2318bbb669269323e6403fde225d34077', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I335a0e883d05fed27f36959b6f537f5e8217b1b1\n'}]",0,810416,b52d20d2318bbb669269323e6403fde225d34077,3,1,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I335a0e883d05fed27f36959b6f537f5e8217b1b1
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/16/810416/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b52d20d2318bbb669269323e6403fde225d34077,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fcinder~stable%2Fussuri~Ia80ec828869e3c4f3d80f7fe9898a57788ff2b07,openstack/cinder,stable/ussuri,Ia80ec828869e3c4f3d80f7fe9898a57788ff2b07,[stable-only] Pin virtualenv and setuptools,MERGED,2021-12-14 17:04:12.000000000,2021-12-15 18:13:38.000000000,2021-12-15 18:10:34.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-12-14 17:04:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37f61486c88206e351260a0b78c65f70d4fd3df9', 'message': ""[stable-only] Pin virtualenv and setuptools\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0. So this patch pins virtualenv to avoid the break.\n\nAs the used 'require' feature was introduced in tox in version 3.2 [1],\nthe required minversion has to be bumped, too.\n\n[1] https://tox.readthedocs.io/en/latest/config.html#conf-requires\n\nChange-Id: Ia80ec828869e3c4f3d80f7fe9898a57788ff2b07\n""}]",3,821737,37f61486c88206e351260a0b78c65f70d4fd3df9,14,6,1,3153,,,0,"[stable-only] Pin virtualenv and setuptools

Setuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of
decorator 3.4.0. So this patch pins virtualenv to avoid the break.

As the used 'require' feature was introduced in tox in version 3.2 [1],
the required minversion has to be bumped, too.

[1] https://tox.readthedocs.io/en/latest/config.html#conf-requires

Change-Id: Ia80ec828869e3c4f3d80f7fe9898a57788ff2b07
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/821737/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37f61486c88206e351260a0b78c65f70d4fd3df9,use_2to3,minversion = 3.2.0# Pin the virtualenv and therefore the setuptools version used for the env # creation. This results in a new tox being installed in .tox/.tox virtualenv # and the tox on the host will delegate all the calls to the tox in that env. requires = virtualenv<20.8,minversion = 3.1.0,5,1
openstack%2Fneutron-vpnaas-dashboard~stable%2Fxena~Ic3f5a7f3d3da6930d5fbe8cea39bccf264e1750b,openstack/neutron-vpnaas-dashboard,stable/xena,Ic3f5a7f3d3da6930d5fbe8cea39bccf264e1750b,Update TOX_CONSTRAINTS_FILE for stable/xena,ABANDONED,2021-09-22 12:28:11.000000000,2021-12-15 18:13:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-22 12:28:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/bc4c1d89d98657c35ec89012782ade606b88da8f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic3f5a7f3d3da6930d5fbe8cea39bccf264e1750b\n'}]",0,810417,bc4c1d89d98657c35ec89012782ade606b88da8f,3,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic3f5a7f3d3da6930d5fbe8cea39bccf264e1750b
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/17/810417/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bc4c1d89d98657c35ec89012782ade606b88da8f,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fneutron~master~I370be712051c53ab68583f7b3b5b2db723ce30ba,openstack/neutron,master,I370be712051c53ab68583f7b3b5b2db723ce30ba,[WIP] Do not use privsep daemon within DHCP agents,ABANDONED,2021-09-09 09:15:04.000000000,2021-12-15 18:13:29.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-09 09:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3138bd3c7e7b296c42fd76a664c9fbeb054ceda1', 'message': '[WIP] Do not use privsep daemon within DHCP agents\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}, {'number': 2, 'created': '2021-09-09 12:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f768d365cc3db48c633dc70f6550d18298e63a80', 'message': '[WIP] Merge all privsep contexts in one in DHCP agents\n\nAny privsep command will be executed using one single privsep\ncontext. That means a DHCP agent will spawn just one privsep\ndaemon.\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}, {'number': 3, 'created': '2021-09-10 16:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64b2c86a8173cfbf87eaac7f2574b33af0b2b5e7', 'message': '[WIP] Do not use privsep daemon within DHCP agents\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}, {'number': 4, 'created': '2021-09-21 09:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eff026b1328bd1342bd2f4e8a357fc151a635b5a', 'message': '[WIP] Do not use privsep daemon within DHCP agents\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}, {'number': 5, 'created': '2021-09-21 16:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a190901c0c9d32620cfc7265241e0c36a053b42d', 'message': '[WIP] Do not use privsep daemon within DHCP agents\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}, {'number': 6, 'created': '2021-09-22 08:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ea3fa9cffe00a293ca38fad8fcd01e849223262', 'message': '[WIP] Do not use privsep daemon within DHCP agents\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}, {'number': 7, 'created': '2021-09-22 15:55:06.000000000', 'files': ['neutron/tests/fullstack/agents/dhcp_agent.py', 'neutron/tests/fullstack/resources/process.py', 'etc/neutron/rootwrap.d/rootwrap.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf7e8441140a061dae4336d0aec8a85e61d9696e', 'message': '[WIP] Do not use privsep daemon within DHCP agents\n\nChange-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba\n'}]",0,808026,cf7e8441140a061dae4336d0aec8a85e61d9696e,37,3,7,16688,,,0,"[WIP] Do not use privsep daemon within DHCP agents

Change-Id: I370be712051c53ab68583f7b3b5b2db723ce30ba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/808026/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/agents/dhcp_agent.py'],1,3138bd3c7e7b296c42fd76a664c9fbeb054ceda1,dhcp_no_privsep,"from oslo_privsep import priv_contextfrom neutron import privilegeddef privsep_not_client_mode(): for var_name in (var for var in privileged.__dict__ if not (var.startswith('__') or var.startswith('_'))): var = getattr(privileged, var_name) if isinstance(var, priv_context.PrivContext): var.client_mode = False privsep_not_client_mode()",,11,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~Id4e15867b61925fa157c9e81750d8c5f63ad48a5,openstack/ovn-octavia-provider,stable/ussuri,Id4e15867b61925fa157c9e81750d8c5f63ad48a5,Fix race condition retrieving logical router rows,ABANDONED,2021-09-23 07:12:07.000000000,2021-12-15 18:13:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-23 07:12:07.000000000', 'files': ['ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d27ae02a185cd11dcbcd63f37a1c27594ab7ae85', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration).\n\nIn one case we now directly use lookup() as we were\nlooking for a specific logical router.\n\nIn the other two cases we create a new class to do the\noperation in a transaction, making it idempotent, since\nboth need to iterate the returned list.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n(cherry picked from commit fab03e7c6d3f61afab2fb71ef70efa603f393de2)\n'}]",85,810570,d27ae02a185cd11dcbcd63f37a1c27594ab7ae85,3,1,1,11082,,,0,"Fix race condition retrieving logical router rows

Using rows.values() via the ovsdbapp API is inherently
racy as if there are multiple threads an add/delete can
interfere, triggering a RuntimeError (dictionary changed
size during iteration).

In one case we now directly use lookup() as we were
looking for a specific logical router.

In the other two cases we create a new class to do the
operation in a transaction, making it idempotent, since
both need to iterate the returned list.

Also changed the IDL notify code to use a frozen row to
similary avoid any possible race condition with there.

Change-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5
Closes-bug: #1936959
(cherry picked from commit fab03e7c6d3f61afab2fb71ef70efa603f393de2)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/70/810570/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,d27ae02a185cd11dcbcd63f37a1c27594ab7ae85,bug/1936959-stable/wallaby-stable/victoria-stable/ussuri,"<<<<<<< HEAD (4d20d3 Ensure that load balancer is added to logical switch) ======= # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import copy from unittest import mock from neutronclient.common import exceptions as n_exc from octavia_lib.api.drivers import exceptions from octavia_lib.common import constants from oslo_utils import uuidutils from ovsdbapp.backend.ovs_idl import idlutils from ovn_octavia_provider.common import clients from ovn_octavia_provider.common import constants as ovn_const from ovn_octavia_provider import event as ovn_event from ovn_octavia_provider import helper as ovn_helper from ovn_octavia_provider.tests.unit import base as ovn_base from ovn_octavia_provider.tests.unit import fakes class TestOvnProviderHelper(ovn_base.TestOvnOctaviaBase): def setUp(self): super(TestOvnProviderHelper, self).setUp() self.helper = ovn_helper.OvnProviderHelper() self.real_helper_find_ovn_lb_with_pool_key = ( self.helper._find_ovn_lb_with_pool_key) mock.patch.object(self.helper, '_update_status_to_octavia').start() self.listener = {'id': self.listener_id, 'loadbalancer_id': self.loadbalancer_id, 'protocol': 'TCP', 'protocol_port': 80, 'default_pool_id': self.pool_id, 'admin_state_up': False} self.lb = {'id': self.loadbalancer_id, 'vip_address': self.vip_address, 'cascade': False, 'vip_network_id': self.vip_network_id, 'admin_state_up': False} self.ports = {'ports': [{ 'fixed_ips': [{'ip_address': self.vip_address}], 'network_id': self.vip_network_id, 'id': self.port1_id}]} self.pool = {'id': self.pool_id, 'loadbalancer_id': self.loadbalancer_id, 'listener_id': self.listener_id, 'protocol': 'TCP', 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'admin_state_up': False} self.member = {'id': self.member_id, 'address': self.member_address, 'protocol_port': self.member_port, 'subnet_id': self.member_subnet_id, 'pool_id': self.member_pool_id, 'admin_state_up': True, 'old_admin_state_up': True} self.ovn_nbdb_api = mock.patch.object(self.helper, 'ovn_nbdb_api') self.ovn_nbdb_api.start() add_req_thread = mock.patch.object(ovn_helper.OvnProviderHelper, 'add_request') self.mock_add_request = add_req_thread.start() self.ovn_lb = mock.MagicMock() self.ovn_lb.protocol = ['tcp'] self.ovn_lb.uuid = uuidutils.generate_uuid() self.member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', 'enabled': True, 'pool_%s' % self.pool_id: self.member_line, 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} self.helper.ovn_nbdb_api.db_find.return_value.\ execute.return_value = [self.ovn_lb] self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [self.ovn_lb] self.mock_find_lb_pool_key = mock.patch.object( self.helper, '_find_ovn_lb_with_pool_key', return_value=self.ovn_lb).start() self.mock_find_ovn_lbs = mock.patch.object( ovn_helper.OvnProviderHelper, '_find_ovn_lbs', side_effect=lambda x, protocol=None: self.ovn_lb if protocol else [self.ovn_lb]) self.mock_find_ovn_lbs.start() mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() self._update_lb_to_ls_association = mock.patch.object( self.helper, '_update_lb_to_ls_association', return_value=[]) self._update_lb_to_ls_association.start() self._update_lb_to_lr_association = mock.patch.object( self.helper, '_update_lb_to_lr_association', return_value=[]) self._update_lb_to_lr_association.start() # NOTE(mjozefcz): Create foo router and network. net_id = uuidutils.generate_uuid() router_id = uuidutils.generate_uuid() self.ref_lb1 = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, listeners=[], loadbalancer_id=self.loadbalancer_id, name='favorite_lb1', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id, ext_ids={ ovn_const.LB_EXT_IDS_LR_REF_KEY: 'neutron-%s' % net_id, ovn_const.LB_EXT_IDS_LS_REFS_KEY: '{\""neutron-%s\"": 1}' % net_id}) self.ref_lb2 = fakes.FakeLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, listeners=[], loadbalancer_id=self.loadbalancer_id, name='favorite_lb2', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id, ext_ids={ ovn_const.LB_EXT_IDS_LR_REF_KEY: 'neutron-%s' % net_id, ovn_const.LB_EXT_IDS_LS_REFS_KEY: '{\""neutron-%s\"": 1}' % net_id}) # TODO(mjozefcz): Consider using FakeOVNRouter. self.router = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'load_balancer': [self.ref_lb1], 'name': 'neutron-%s' % router_id, 'ports': []}) # TODO(mjozefcz): Consider using FakeOVNSwitch. self.network = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'load_balancer': [self.ref_lb2], 'name': 'neutron-%s' % net_id, 'ports': [], 'uuid': net_id}) self.mock_get_nw = mock.patch.object( self.helper, '_get_nw_router_info_on_interface_event', return_value=(self.router, self.network)) self.mock_get_nw.start() (self.helper.ovn_nbdb_api.ls_get.return_value. execute.return_value) = self.network def test__is_lb_empty(self): f = self.helper._is_lb_empty self.assertFalse(f(self.ovn_lb.external_ids)) self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.assertFalse(f(self.ovn_lb.external_ids)) self.ovn_lb.external_ids.pop('pool_%s' % self.pool_id) self.assertTrue(f(self.ovn_lb.external_ids)) def test__delete_disabled_from_status(self): f = self.helper._delete_disabled_from_status status = { 'pools': [ {'id': 'f:D', 'provisioning_status': 'ACTIVE', 'operating_status': 'ONLINE'}], 'members': [ {'id': 'foo:D', 'provisioning_status': 'ACTIVE'}]} expected = { 'pools': [ {'id': 'f', 'provisioning_status': 'ACTIVE', 'operating_status': 'ONLINE'}], 'members': [ {'id': 'foo', 'provisioning_status': 'ACTIVE'}]} self.assertEqual(f(status), expected) self.assertEqual(f(expected), expected) status = {} self.assertFalse(f(status)) def test__find_ovn_lb_with_pool_key(self): pool_key = self.helper._get_pool_key(uuidutils.generate_uuid()) test_lb = mock.MagicMock() test_lb.external_ids = { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: ovn_const.PORT_FORWARDING_PLUGIN, pool_key: 'it_is_a_pool_party', } self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [test_lb] f = self.real_helper_find_ovn_lb_with_pool_key # Ensure lb is not found, due to its device owner found = f(pool_key) self.assertIsNone(found) # Remove device owner from test_lb.external_ids and make sure test_lb # is found as expected test_lb.external_ids.pop(ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY) found = f(pool_key) self.assertEqual(found, test_lb) def test__find_ovn_lbs(self): self.mock_find_ovn_lbs.stop() f = self.helper._find_ovn_lbs self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] # Without protocol specified return a list found = f(self.ovn_lb.id) self.assertListEqual(found, [self.ovn_lb]) self.helper.ovn_nbdb_api.db_find_rows.assert_called_once_with( 'Load_Balancer', ('name', '=', self.ovn_lb.id)) self.helper.ovn_nbdb_api.db_find_rows.reset_mock() # With protocol specified return an instance found = f(self.ovn_lb.id, protocol='tcp') self.assertEqual(found, self.ovn_lb) self.helper.ovn_nbdb_api.db_find_rows.reset_mock() # LB with given protocol not found self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [] self.assertRaises( idlutils.RowNotFound, f, self.ovn_lb.id, protocol='UDP') # Multiple protocols udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb, udp_lb] found = f(self.ovn_lb.id) self.assertListEqual(found, [self.ovn_lb, udp_lb]) def test__get_or_create_ovn_lb_no_lb_found(self): self.mock_find_ovn_lbs.stop() self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [] self.assertRaises( idlutils.RowNotFound, self.helper._get_or_create_ovn_lb, self.ovn_lb.name, protocol='TCP', admin_state_up='True') @mock.patch.object(ovn_helper.OvnProviderHelper, 'lb_create') def test__get_or_create_ovn_lb_required_proto_not_found(self, lbc): udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] self.mock_find_ovn_lbs.stop() self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[udp_lb], [self.ovn_lb]] self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') expected_lb_info = { 'id': self.ovn_lb.name, 'protocol': 'tcp', 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'vip_address': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_KEY), 'vip_port_id': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY), ovn_const.LB_EXT_IDS_LR_REF_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY), ovn_const.LB_EXT_IDS_LS_REFS_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY), 'admin_state_up': 'True', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_FIP_KEY)} lbc.assert_called_once_with(expected_lb_info, protocol='tcp') def test__get_or_create_ovn_lb_found(self): self.mock_find_ovn_lbs.stop() self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] found = self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') self.assertEqual(found, self.ovn_lb) def test__get_or_create_ovn_lb_lb_without_protocol(self): self.mock_find_ovn_lbs.stop() self.ovn_lb.protocol = [] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] found = self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') self.assertEqual(found, self.ovn_lb) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('protocol', 'tcp')) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_disabled(self, net_cli): self.lb['admin_state_up'] = False net_cli.return_value.list_ports.return_value = self.ports status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'False'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_enabled(self, net_cli): self.lb['admin_state_up'] = True net_cli.return_value.list_ports.return_value = self.ports status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_selection_fields_not_supported(self, net_cli): self.lb['admin_state_up'] = True net_cli.return_value.list_ports.return_value = self.ports self.helper._are_selection_fields_supported = ( mock.Mock(return_value=False)) status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[]) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_selection_fields_not_supported_algo(self, net_cli): self.lb['admin_state_up'] = True net_cli.return_value.list_ports.return_value = self.ports self.pool['lb_algoritm'] = 'foo' status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) # NOTE(mjozefcz): Make sure that we use the same selection # fields as for default algorithm - source_ip_port. self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_on_multi_protocol(self, net_cli): """"""This test situation when new protocol is added to the same loadbalancer and we need to add additional OVN lb with the same name. """""" self.lb['admin_state_up'] = True self.lb['protocol'] = 'UDP' self.lb[ovn_const.LB_EXT_IDS_LR_REF_KEY] = 'foo' self.lb[ovn_const.LB_EXT_IDS_LS_REFS_KEY] = '{\""neutron-foo\"": 1}' net_cli.return_value.list_ports.return_value = self.ports status = self.helper.lb_create(self.lb, protocol='UDP') self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, ovn_const.LB_EXT_IDS_LR_REF_KEY: 'foo', 'enabled': 'True'}, name=mock.ANY, protocol='udp', selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) self.helper._update_lb_to_ls_association.assert_has_calls([ mock.call(self.ovn_lb, associate=True, network_id=self.lb['vip_network_id']), mock.call(self.ovn_lb, associate=True, network_id='foo')]) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_lb_create_exception(self, del_port, net_cli): self.helper._find_ovn_lbs.side_effect = [RuntimeError] net_cli.return_value.list_ports.return_value = self.ports status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) del_port.assert_called_once_with(self.ports.get('ports')[0]['id']) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_lb_delete(self, del_port, net_cli): net_cli.return_value.delete_port.return_value = None status = self.helper.lb_delete(self.ovn_lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) del_port.assert_called_once_with('foo_port') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_row_not_found(self, del_port): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_exception(self, del_port): self.helper.ovn_nbdb_api.lb_del.side_effect = [RuntimeError] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) del_port.assert_called_once_with('foo_port') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') def test_lb_delete_port_not_found(self, del_port, net_cli): net_cli.return_value.delete_port.side_effect = ( [n_exc.PortNotFoundClient]) status = self.helper.lb_delete(self.ovn_lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) del_port.assert_called_once_with('foo_port') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_delete_cascade(self, net_cli): net_cli.return_value.delete_port.return_value = None self.lb['cascade'] = True status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_delete_ls_lr(self, net_cli): self.ovn_lb.external_ids.update({ ovn_const.LB_EXT_IDS_LR_REF_KEY: self.router.name, ovn_const.LB_EXT_IDS_LS_REFS_KEY: '{\""neutron-%s\"": 1}' % self.network.uuid}) net_cli.return_value.delete_port.return_value = None (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network self.helper.ovn_nbdb_api.lookup.return_value = self.router self.helper.lb_delete(self.ovn_lb) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ovn_lb.uuid) self.helper.ovn_nbdb_api.lr_lb_del.assert_called_once_with( self.router.uuid, self.ovn_lb.uuid) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_delete_multiple_protocols(self, net_cli): net_cli.return_value.delete_port.return_value = None self.mock_find_ovn_lbs.stop() udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] udp_lb.uuid = 'foo_uuid' self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb, udp_lb] self.helper.lb_delete(self.lb) self.helper.ovn_nbdb_api.lb_del.assert_has_calls([ mock.call(self.ovn_lb.uuid), mock.call(udp_lb.uuid)]) def test_lb_failover(self): status = self.helper.lb_failover(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_disabled(self, refresh_vips): self.lb['admin_state_up'] = False status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.OFFLINE) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'False'})) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_enabled(self, refresh_vips): # Change the mock, its enabled by default. self.ovn_lb.external_ids.update({'enabled': False}) self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_lb_update_enabled_multiple_protocols(self, refresh_vips): self.mock_find_ovn_lbs.stop() self.ovn_lb.external_ids.update({'enabled': 'False'}) udp_lb = copy.deepcopy(self.ovn_lb) udp_lb.protocol = ['udp'] udp_lb.uuid = 'foo_uuid' self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb, udp_lb] self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) refresh_vips.assert_has_calls([ mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.ANY, mock.ANY, mock.call(udp_lb.uuid, udp_lb.external_ids)], any_order=False) self.helper.ovn_nbdb_api.db_set.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})), mock.call('Load_Balancer', udp_lb.uuid, ('external_ids', {'enabled': 'True'}))]) def test_lb_update_exception(self): self.helper._find_ovn_lbs.side_effect = [RuntimeError] status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_lb_update_no_admin_state_up(self): self.lb.pop('admin_state_up') status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.helper._find_ovn_lbs.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_create_disabled(self, refresh_vips): self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) status = self.helper.listener_create(self.listener) # Set expected as disabled self.ovn_lb.external_ids.update({ 'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) expected_calls = [ mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('protocol', 'tcp'))] self.helper.ovn_nbdb_api.db_set.assert_has_calls(expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_create_enabled(self, refresh_vips): self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) expected_calls = [ mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls(expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) def test_listener_create_no_default_pool(self): self.listener['admin_state_up'] = True self.listener.pop('default_pool_id') self.helper.listener_create(self.listener) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '80:'})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) self.assertEqual( len(expected_calls), self.helper.ovn_nbdb_api.db_set.call_count) def test_listener_create_exception(self): self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) def test_listener_update(self): status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.listener['admin_state_up'] = True status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_listener_update_row_not_found(self): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_exception(self, refresh_vips): refresh_vips.side_effect = [RuntimeError] status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_listener_enabled(self, refresh_vips): self.listener['admin_state_up'] = True # Update the listener port. self.listener.update({'protocol_port': 123}) status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.ONLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'listener_%s' % self.listener_id: '123:pool_%s' % self.pool_id})) # Update expected listener, because it was updated. self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.update( {'listener_%s' % self.listener_id: '123:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_listener_disabled(self, refresh_vips): self.listener['admin_state_up'] = False status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) # It gets disabled, so update the key self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.update( {'listener_%s:D' % self.listener_id: '80:pool_%s' % self.pool_id}) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_no_admin_state_up(self, refresh_vips): self.listener.pop('admin_state_up') status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_update_no_admin_state_up_or_default_pool_id( self, refresh_vips): self.listener.pop('admin_state_up') self.listener.pop('default_pool_id') status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() refresh_vips.assert_not_called() def test_listener_delete_no_external_id(self): self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() def test_listener_delete_row_not_found(self): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) def test_listener_delete_exception(self): self.helper.ovn_nbdb_api.db_remove.side_effect = [RuntimeError] status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['operating_status'], constants.ERROR) @mock.patch.object(ovn_helper.OvnProviderHelper, '_refresh_lb_vips') def test_listener_delete_external_id(self, refresh_vips): status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_not_empty(self, lb_empty): lb_empty.return_value = False self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_empty_octavia_lb_empty(self, lb_empty): """"""That test situation when the OVN and Octavia LBs are empty. That test situation when both OVN and Octavia LBs are empty, but we cannot remove OVN LB row. """""" lb_empty.return_value = True self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() # Assert that protocol has been set to []. self.helper.ovn_nbdb_api.db_set.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('protocol', []))]) @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_empty_octavia_lb_not_empty(self, lb_empty): """"""We test if we can remove one LB with not used protocol"""""" ovn_lb_udp = copy.copy(self.ovn_lb) ovn_lb_udp.protocol = ['udp'] self.mock_find_ovn_lbs.stop() self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[self.ovn_lb], [self.ovn_lb, ovn_lb_udp]] lb_empty.return_value = True self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) # Validate that the vips column hasn't been touched, because # in previous command we remove the LB, so there is no need # to update it. self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_create(self): status = self.helper.pool_create(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) self.pool['admin_state_up'] = True # Pool Operating status shouldnt change if member isnt present. status = self.helper.pool_create(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) # Pool without listener set should be OFFLINE self.pool['listener_id'] = None status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) def test_pool_create_exception(self): self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) def test_pool_update(self): status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.pool['admin_state_up'] = True status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) def test_pool_update_exception_not_found(self): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] status = self.helper.pool_update(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_pool_update_exception(self): self.helper._get_pool_listeners.side_effect = [RuntimeError] status = self.helper.pool_update(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_pool_update_unset_admin_state_up(self): self.pool.pop('admin_state_up') status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_pool_update_pool_disabled_change_to_up(self): self.pool.update({'admin_state_up': True}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ONLINE) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {'10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_update_pool_up_change_to_disabled(self): self.pool.update({'admin_state_up': False}) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s:D' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_update_listeners(self): self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.pool_update(self.pool) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) def test_pool_delete(self): status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.db_clear.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'vips') self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s' % self.pool_id) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {})), mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { ovn_const.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port', 'enabled': True, 'listener_%s' % self.listener_id: '80:'}))] self.assertEqual(self.helper.ovn_nbdb_api.db_set.call_count, len(expected_calls)) self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_pool_delete_row_not_found(self): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.db_remove.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_delete_exception(self): self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_pool_delete_associated_listeners(self): self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.pool_delete(self.pool) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'enabled': True, 'listener_%s' % self.listener_id: '80:', ovn_const.LB_EXT_IDS_VIP_KEY: '10.22.33.4', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '123.123.123.123', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'foo_port'})) def test_pool_delete_pool_disabled(self): disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.DELETED) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s:D' % self.pool_id) @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_pool_delete_ovn_lb_not_empty(self, lb_empty): lb_empty.return_value = False self.helper.pool_delete(self.pool) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s' % self.pool_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_pool_delete_ovn_lb_empty_lb_empty(self, lb_empty): lb_empty.return_value = True self.helper.pool_delete(self.pool) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s' % self.pool_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() # Assert that protocol has been set to []. self.helper.ovn_nbdb_api.db_set.assert_called_with( 'Load_Balancer', self.ovn_lb.uuid, ('protocol', [])) @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_pool_delete_ovn_lb_empty_lb_not_empty(self, lb_empty): ovn_lb_udp = copy.copy(self.ovn_lb) self.mock_find_ovn_lbs.stop() self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[self.ovn_lb], [self.ovn_lb, ovn_lb_udp]] lb_empty.return_value = True self.helper.pool_delete(self.pool) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'pool_%s' % self.pool_id) self.helper.ovn_nbdb_api.lb_del.assert_called_once_with( self.ovn_lb.uuid) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create(self, net_cli): net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.member['admin_state_up'] = False status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.OFFLINE) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr(self, net_cli, f_lr, f_ls): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router f_ls.return_value = [self.network] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network) f_ls.assert_called_once_with(self.router) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_no_ls(self, net_cli, f_lr, f_ls): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} self.ovn_lb.external_ids = mock.MagicMock() (self.helper.ovn_nbdb_api.ls_get.return_value. execute.side_effect) = [n_exc.NotFound] status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) (self.helper.ovn_nbdb_api.ls_get.return_value.execute. assert_called_once_with(check_error=True)) f_lr.assert_not_called() f_ls.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_add_member') def test_member_create_exception(self, mock_add_member): mock_add_member.side_effect = [RuntimeError] status = self.helper.member_create(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) def test_member_create_lb_disabled(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_create(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_listener(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_create(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') def test_member_create_already_exists(self): self.helper.member_create(self.member) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_member_create_already_exists_backward_compat(self): old_member_line = ('member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_create(self.member) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_member_create_first_member_in_pool(self): self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: ''}) self.helper.member_create(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: self.member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_create_second_member_in_pool(self): member2_id = uuidutils.generate_uuid() member2_subnet_id = uuidutils.generate_uuid() member2_port = '1010' member2_address = '192.168.2.150' member2_line = ('member_%s_%s:%s_%s' % (member2_id, member2_address, member2_port, member2_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member2_line}) self.helper.member_create(self.member) all_member_line = ( '%s,member_%s_%s:%s_%s' % (member2_line, self.member_id, self.member_address, self.member_port, self.member_subnet_id)) # We have two members now. expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: all_member_line})), mock.call( 'Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.150:1010,192.168.2.149:1010', '123.123.123.123:80': '192.168.2.150:1010,192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update(self): self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) self.member['admin_state_up'] = False status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.OFFLINE) self.member['old_admin_state_up'] = False self.member['admin_state_up'] = True status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) def test_member_update_disabled_lb(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_update(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_update_pool_listeners(self): self.ovn_lb.external_ids = mock.MagicMock() self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_update(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] status = self.helper.member_update(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_refresh_lb_vips') def test_member_delete(self, mock_vip_command): status = self.helper.member_delete(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) def test_member_delete_one_left(self): member2_id = uuidutils.generate_uuid() member2_port = '1010' member2_address = '192.168.2.150' member_line = ( 'member_%s_%s:%s,member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port, member2_id, member2_address, member2_port)) self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: member_line}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.DELETED) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_delete_backward_compat(self): old_member_line = ('member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_delete(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'pool_%s' % self.pool_id: ''})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.db_set.has_calls(expected_calls) @mock.patch.object(ovn_helper.OvnProviderHelper, '_remove_member') def test_member_delete_exception(self, mock_remove_member): mock_remove_member.side_effect = [RuntimeError] status = self.helper.member_delete(self.member) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test_member_delete_disabled_lb(self): self.helper._find_ovn_lb_with_pool_key.side_effect = [ None, self.ovn_lb] self.helper.member_delete(self.member) self.helper._find_ovn_lb_with_pool_key.assert_has_calls( [mock.call('pool_%s' % self.pool_id), mock.call('pool_%s%s' % (self.pool_id, ':D'))]) def test_member_delete_pool_listeners(self): self.ovn_lb.external_ids.update({ 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port}) self.helper._get_pool_listeners.return_value = ['listener1'] status = self.helper.member_delete(self.member) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['listeners'][0]['id'], 'listener1') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_logical_router_port_event_create(self, net_cli): self.router_port_event = ovn_event.LogicalRouterPortEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'gateway_chassis': []}) self.router_port_event.run('create', row, mock.ANY) expected = { 'info': {'router': self.router, 'network': self.network}, 'type': 'lb_create_lrp_assoc'} self.mock_add_request.assert_called_once_with(expected) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_logical_router_port_event_delete(self, net_cli): self.router_port_event = ovn_event.LogicalRouterPortEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'gateway_chassis': []}) self.router_port_event.run('delete', row, mock.ANY) expected = { 'info': {'router': self.router, 'network': self.network}, 'type': 'lb_delete_lrp_assoc'} self.mock_add_request.assert_called_once_with(expected) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_logical_router_port_event_gw_port(self, net_cli): self.router_port_event = ovn_event.LogicalRouterPortEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'gateway_chassis': ['temp-gateway-chassis']}) self.router_port_event.run(mock.ANY, row, mock.ANY) self.mock_add_request.assert_not_called() def test__get_nw_router_info_on_interface_event(self): self.mock_get_nw.stop() lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: 'network1'} }) self.helper._get_nw_router_info_on_interface_event(lrp) expected_calls = [ mock.call.lookup('Logical_Router', 'neutron-router1'), mock.call.lookup('Logical_Switch', 'network1')] self.helper.ovn_nbdb_api.assert_has_calls(expected_calls) def test__get_nw_router_info_on_interface_event_not_found(self): self.mock_get_nw.stop() self.helper.ovn_nbdb_api.lookup.side_effect = [idlutils.RowNotFound] lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'} }) self.assertRaises( idlutils.RowNotFound, self.helper._get_nw_router_info_on_interface_event, lrp) def test_lb_delete_lrp_assoc_handler(self): lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row() self.helper.lb_delete_lrp_assoc_handler(lrp) expected = { 'info': {'router': self.router, 'network': self.network}, 'type': 'lb_delete_lrp_assoc'} self.mock_add_request.assert_called_once_with(expected) def test_lb_delete_lrp_assoc_handler_info_not_found(self): self.mock_get_nw.stop() self.helper.ovn_nbdb_api.lookup.side_effect = [idlutils.RowNotFound] lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'} }) self.helper.lb_delete_lrp_assoc_handler(lrp) self.mock_add_request.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_execute_commands') def test_lb_delete_lrp_assoc_no_net_lb_no_r_lb(self, mock_execute): info = { 'network': self.network, 'router': self.router, } self.network.load_balancer = [] self.router.load_balancer = [] self.helper.lb_delete_lrp_assoc(info) self.helper._update_lb_to_lr_association.assert_not_called() mock_execute.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_execute_commands') def test_lb_delete_lrp_assoc_no_net_lb_r_lb(self, mock_execute): info = { 'network': self.network, 'router': self.router, } self.network.load_balancer = [] self.helper.lb_delete_lrp_assoc(info) expected = [ self.helper.ovn_nbdb_api.ls_lb_del( self.network.uuid, self.router.load_balancer[0].uuid ), ] self.helper._update_lb_to_lr_association.assert_not_called() mock_execute.assert_called_once_with(expected) @mock.patch.object(ovn_helper.OvnProviderHelper, '_execute_commands') def test_lb_delete_lrp_assoc_net_lb_no_r_lb(self, mock_execute): info = { 'network': self.network, 'router': self.router, } self.router.load_balancer = [] self.helper.lb_delete_lrp_assoc(info) mock_execute.assert_not_called() self.helper._update_lb_to_lr_association.assert_called_once_with( self.network.load_balancer[0], self.router, delete=True ) @mock.patch.object(ovn_helper.OvnProviderHelper, '_execute_commands') def test_lb_delete_lrp_assoc(self, mock_execute): info = { 'network': self.network, 'router': self.router, } self.helper.lb_delete_lrp_assoc(info) self.helper._update_lb_to_lr_association.assert_called_once_with( self.network.load_balancer[0], self.router, delete=True ) expected = [ self.helper.ovn_nbdb_api.ls_lb_del( self.network.uuid, self.router.load_balancer[0].uuid ), ] mock_execute.assert_called_once_with(expected) def test_lb_create_lrp_assoc_handler(self): lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row() self.helper.lb_create_lrp_assoc_handler(lrp) expected = { 'info': {'router': self.router, 'network': self.network}, 'type': 'lb_create_lrp_assoc'} self.mock_add_request.assert_called_once_with(expected) def test_lb_create_lrp_assoc_handler_row_not_found(self): self.mock_get_nw.stop() self.helper.ovn_nbdb_api.lookup.side_effect = [idlutils.RowNotFound] lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'} }) self.helper.lb_create_lrp_assoc_handler(lrp) self.mock_add_request.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_execute_commands') def test_lb_create_lrp_assoc(self, mock_execute): info = { 'network': self.network, 'router': self.router, } self.helper.lb_create_lrp_assoc(info) self.helper._update_lb_to_lr_association.assert_called_once_with( self.network.load_balancer[0], self.router ) expected = [ self.helper.ovn_nbdb_api.ls_lb_add( self.network.uuid, self.router.load_balancer[0].uuid ), ] mock_execute.assert_called_once_with(expected) @mock.patch.object(ovn_helper.OvnProviderHelper, '_execute_commands') def test_lb_create_lrp_assoc_uniq_lb(self, mock_execute): info = { 'network': self.network, 'router': self.router, } # Make it already uniq. self.network.load_balancer = self.router.load_balancer self.helper.lb_create_lrp_assoc(info) self.helper._update_lb_to_lr_association.assert_not_called() mock_execute.assert_not_called() def test__find_lb_in_ls(self): net_lb = self.helper._find_lb_in_ls(self.network) for lb in self.network.load_balancer: self.assertIn(lb, net_lb) def test__find_lb_in_ls_wrong_ref(self): # lets break external_ids refs self.network.load_balancer[0].external_ids.update({ ovn_const.LB_EXT_IDS_LS_REFS_KEY: 'foo'}) net_lb = self.helper._find_lb_in_ls(self.network) for lb in self.network.load_balancer: self.assertNotIn(lb, net_lb) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__find_ls_for_lr(self, net_cli): fake_subnet1 = fakes.FakeSubnet.create_one_subnet() fake_subnet1['network_id'] = 'foo1' fake_subnet2 = fakes.FakeSubnet.create_one_subnet() fake_subnet2['network_id'] = 'foo2' net_cli.return_value.show_subnet.side_effect = [ {'subnet': fake_subnet1}, {'subnet': fake_subnet2}] p1 = fakes.FakeOVNPort.create_one_port(attrs={ 'gateway_chassis': [], 'external_ids': { ovn_const.OVN_SUBNET_EXT_IDS_KEY: '%s %s' % (fake_subnet1.id, fake_subnet2.id)}}) self.router.ports.append(p1) res = self.helper._find_ls_for_lr(self.router) self.assertListEqual(['neutron-foo1', 'neutron-foo2'], res) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__find_ls_for_lr_subnet_not_found(self, net_cli): fake_subnet1 = fakes.FakeSubnet.create_one_subnet() fake_subnet1['network_id'] = 'foo1' fake_subnet2 = fakes.FakeSubnet.create_one_subnet() fake_subnet2['network_id'] = 'foo2' net_cli.return_value.show_subnet.side_effect = [ {'subnet': fake_subnet1}, n_exc.NotFound] p1 = fakes.FakeOVNPort.create_one_port(attrs={ 'gateway_chassis': [], 'external_ids': { ovn_const.OVN_SUBNET_EXT_IDS_KEY: '%s %s' % (fake_subnet1.id, fake_subnet2.id)}}) self.router.ports.append(p1) res = self.helper._find_ls_for_lr(self.router) self.assertListEqual(['neutron-foo1'], res) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__find_ls_for_lr_gw_port(self, net_cli): p1 = fakes.FakeOVNPort.create_one_port(attrs={ 'gateway_chassis': ['foo-gw-chassis'], 'external_ids': { ovn_const.OVN_SUBNET_EXT_IDS_KEY: self.member_subnet_id}}) self.router.ports.append(p1) result = self.helper._find_ls_for_lr(self.router) self.assertListEqual([], result) @mock.patch.object( ovn_helper.OvnProviderHelper, '_del_lb_to_lr_association') @mock.patch.object( ovn_helper.OvnProviderHelper, '_add_lb_to_lr_association') def test__update_lb_to_lr_association(self, add, delete): self._update_lb_to_lr_association.stop() self.helper._update_lb_to_lr_association(self.ref_lb1, self.router) lr_ref = self.ref_lb1.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY) add.assert_called_once_with(self.ref_lb1, self.router, lr_ref) delete.assert_not_called() @mock.patch.object( ovn_helper.OvnProviderHelper, '_del_lb_to_lr_association') @mock.patch.object( ovn_helper.OvnProviderHelper, '_add_lb_to_lr_association') def test__update_lb_to_lr_association_delete(self, add, delete): self._update_lb_to_lr_association.stop() self.helper._update_lb_to_lr_association( self.ref_lb1, self.router, delete=True) lr_ref = self.ref_lb1.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY) add.assert_not_called() delete.assert_called_once_with(self.ref_lb1, self.router, lr_ref) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__del_lb_to_lr_association(self, net_cli): lr_ref = self.ref_lb1.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY) upd_lr_ref = '%s,%s' % (lr_ref, self.router.name) self.helper._del_lb_to_lr_association( self.ref_lb1, self.router, upd_lr_ref) expected_calls = [ mock.call.db_set( 'Load_Balancer', self.ref_lb1.uuid, (('external_ids', {ovn_const.LB_EXT_IDS_LR_REF_KEY: lr_ref}))), mock.call.lr_lb_del( self.router.uuid, self.ref_lb1.uuid, if_exists=True)] self.helper.ovn_nbdb_api.assert_has_calls( expected_calls) self.helper.ovn_nbdb_api.db_remove.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__del_lb_to_lr_association_no_lr_ref(self, net_cli): lr_ref = '' self.helper._del_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.db_set.assert_not_called() self.helper.ovn_nbdb_api.db_remove.assert_not_called() self.helper.ovn_nbdb_api.lr_lb_del.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__del_lb_to_lr_association_lr_ref_empty_after(self, net_cli): lr_ref = self.router.name self.helper._del_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, 'external_ids', ovn_const.LB_EXT_IDS_LR_REF_KEY) self.helper.ovn_nbdb_api.lr_lb_del.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, if_exists=True) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__del_lb_to_lr_association_from_ls(self, f_ls): # This test if LB is deleted from Logical_Router_Port # Logical_Switch. f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._del_lb_to_lr_association(self.ref_lb1, self.router, '') self.helper.ovn_nbdb_api.ls_lb_del.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, if_exists=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, if_exists=True))]) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association(self, f_ls): lr_ref = 'foo' f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'lr_ref': 'foo,%s' % self.router.name})) def test__find_lr_of_ls(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'}, 'type': 'router', 'options': { 'router-port': 'lrp-foo-name'} }) lrp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'name': 'lrp-foo-name' }) lr = fakes.FakeOVNRouter.create_one_router( attrs={ 'name': 'router1', 'ports': [lrp]}) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp]}) (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [lr] returned_lr = self.helper._find_lr_of_ls(ls) self.assertEqual(lr, returned_lr) def test__find_lr_of_ls_gw_port_id(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'}, 'type': 'router', 'options': { 'router-port': 'lrp-lrp-foo-name'} }) lr = fakes.FakeOVNRouter.create_one_router( attrs={ 'name': 'router1', 'ports': [], 'external_ids': { 'neutron:gw_port_id': 'lrp-foo-name'}}) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp]}) (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [lr] returned_lr = self.helper._find_lr_of_ls(ls) self.assertEqual(lr, returned_lr) def test__find_lr_of_ls_no_lrp_name(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'}, 'type': 'router', 'options': { 'router-port': None} }) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp]}) returned_lr = self.helper._find_lr_of_ls(ls) self.assertIsNone(returned_lr) def test__find_lr_of_ls_no_lrp(self): ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': []}) returned_lr = self.helper._find_lr_of_ls(ls) (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.assert_not_called()) self.assertIsNone(returned_lr) def test__update_lb_to_ls_association_empty_network_and_subnet(self): self._update_lb_to_ls_association.stop() returned_commands = self.helper._update_lb_to_ls_association( self.ref_lb1, associate=True) self.assertListEqual(returned_commands, []) def test__update_lb_to_ls_association_network(self): self._update_lb_to_ls_association.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=True) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) ls_refs = {'ls_refs': '{""%s"": 2}' % self.network.name} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', ls_refs)) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__update_lb_to_ls_association_subnet(self, net_cli): self._update_lb_to_ls_association.stop() subnet = fakes.FakeSubnet.create_one_subnet( attrs={'id': 'foo_subnet_id', 'name': 'foo_subnet_name', 'network_id': 'foo_network_id'}) net_cli.return_value.show_subnet.return_value = { 'subnet': subnet} self.helper._update_lb_to_ls_association( self.ref_lb1, subnet_id=subnet.id, associate=True) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( 'neutron-foo_network_id') def test__update_lb_to_ls_association_empty_ls_refs(self): self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network self.ref_lb1.external_ids.pop('ls_refs') self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid) self.helper.ovn_nbdb_api.ls_lb_add.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, may_exist=True) ls_refs = {'ls_refs': '{""%s"": 1}' % self.network.name} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', ls_refs)) def test__update_lb_to_ls_association_no_ls(self): self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. side_effect) = [idlutils.RowNotFound] returned_commands = self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.assertListEqual([], returned_commands) def test__update_lb_to_ls_association_network_disassociate(self): self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'ls_refs': '{}'})) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True) def test__update_lb_to_ls_association_network_dis_ls_not_found(self): self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. side_effect) = [idlutils.RowNotFound] self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'ls_refs': '{}'})) self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__update_lb_to_ls_association_network_dis_net_not_found( self, net_cli): net_cli.return_value.show_subnet.side_effect = n_exc.NotFound self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network self.helper._update_lb_to_ls_association( self.ref_lb1, subnet_id='foo', associate=False) self.helper.ovn_nbdb_api.ls_get.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called() def test__update_lb_to_ls_association_disassoc_ls_not_in_ls_refs(self): self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network self.ref_lb1.external_ids.pop('ls_refs') self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False) self.helper.ovn_nbdb_api.ls_lb_del.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() def test__update_lb_to_ls_association_disassoc_multiple_refs(self): self._update_lb_to_ls_association.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = self.network # multiple refs ls_refs = {'ls_refs': '{""%s"": 2}' % self.network.name} self.ref_lb1.external_ids.update(ls_refs) self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) exp_ls_refs = {'ls_refs': '{""%s"": 1}' % self.network.name} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', exp_ls_refs)) def test_logical_switch_port_update_event_vip_port(self): self.switch_port_event = ovn_event.LogicalSwitchPortUpdateEvent( self.helper) port_name = '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, 'foo') attrs = { 'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name, ovn_const.OVN_PORT_FIP_EXT_ID_KEY: '10.0.0.1'}} row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs) self.switch_port_event.run(mock.ANY, row, mock.ANY) expected_call = { 'info': {'action': 'associate', 'vip_fip': '10.0.0.1', 'ovn_lb': self.ovn_lb}, 'type': 'handle_vip_fip'} self.mock_add_request.assert_called_once_with(expected_call) def test_logical_switch_port_update_event_missing_port_name(self): self.switch_port_event = ovn_event.LogicalSwitchPortUpdateEvent( self.helper) attrs = {'external_ids': {}} row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs) self.switch_port_event.run(mock.ANY, row, mock.ANY) self.mock_add_request.assert_not_called() def test_logical_switch_port_update_event_empty_fip(self): self.switch_port_event = ovn_event.LogicalSwitchPortUpdateEvent( self.helper) port_name = '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, 'foo') attrs = {'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name}} row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs) self.switch_port_event.run(mock.ANY, row, mock.ANY) expected_call = { 'info': {'action': 'disassociate', 'vip_fip': None, 'ovn_lb': self.ovn_lb}, 'type': 'handle_vip_fip'} self.mock_add_request.assert_called_once_with(expected_call) def test_logical_switch_port_update_event_not_vip_port(self): self.switch_port_event = ovn_event.LogicalSwitchPortUpdateEvent( self.helper) port_name = 'foo' row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name}}) self.switch_port_event.run(mock.ANY, row, mock.ANY) self.mock_add_request.assert_not_called() @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test_vip_port_update_handler_lb_not_found(self, lb): lb.side_effect = [idlutils.RowNotFound for _ in range(5)] self.switch_port_event = ovn_event.LogicalSwitchPortUpdateEvent( self.helper) port_name = '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, 'foo') attrs = {'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name}} row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs) self.switch_port_event.run(mock.ANY, row, mock.ANY) self.mock_add_request.assert_not_called() @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test_vip_port_update_handler_multiple_lbs(self, lb): lb1 = mock.MagicMock() lb2 = mock.MagicMock() lb.return_value = [lb1, lb2] self.switch_port_event = ovn_event.LogicalSwitchPortUpdateEvent( self.helper) port_name = '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, 'foo') attrs = {'external_ids': {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name}} row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs=attrs) self.switch_port_event.run(mock.ANY, row, mock.ANY) def expected_call(lb): return {'type': 'handle_vip_fip', 'info': {'action': mock.ANY, 'vip_fip': None, 'ovn_lb': lb}} self.mock_add_request.assert_has_calls([ mock.call(expected_call(lb1)), mock.call(expected_call(lb2))]) @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test_handle_vip_fip_disassociate(self, flb): lb = mock.MagicMock() fip_info = { 'action': 'disassociate', 'vip_fip': None, 'ovn_lb': lb} flb.return_value = lb self.helper.handle_vip_fip(fip_info) calls = [ mock.call.db_remove( 'Load_Balancer', lb.uuid, 'external_ids', 'neutron:vip_fip'), mock.call.db_clear('Load_Balancer', lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test_handle_vip_fip_associate(self, fb): lb = mock.MagicMock() fip_info = { 'action': 'associate', 'vip_fip': '10.0.0.123', 'ovn_lb': lb} members = 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port) external_ids = { 'listener_foo': '80:pool_%s' % self.pool_id, 'pool_%s' % self.pool_id: members, 'neutron:vip': '172.26.21.20'} lb.external_ids = external_ids fb.return_value = lb self.helper.handle_vip_fip(fip_info) calls = [ mock.call.db_set( 'Load_Balancer', lb.uuid, ('external_ids', {'neutron:vip_fip': '10.0.0.123'})), mock.call.db_clear('Load_Balancer', lb.uuid, 'vips'), mock.call.db_set( 'Load_Balancer', lb.uuid, ('vips', {'10.0.0.123:80': '192.168.2.149:1010', '172.26.21.20:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_handle_member_dvr_lb_has_no_fip(self, net_cli): lb = mock.MagicMock() info = { 'id': self.member_id, 'pool_id': self.pool_id, 'action': ovn_const.REQ_INFO_MEMBER_ADDED} external_ids = { 'neutron:vip_fip': ''} lb.external_ids = external_ids self.mock_find_lb_pool_key.return_value = lb self.helper.handle_member_dvr(info) net_cli.show_subnet.assert_not_called() self.helper.ovn_nbdb_api.db_clear.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_handle_member_dvr_lb_fip_no_ls_ports(self, net_cli): lb = mock.MagicMock() info = { 'id': self.member_id, 'subnet_id': self.member_subnet_id, 'pool_id': self.pool_id, 'action': ovn_const.REQ_INFO_MEMBER_ADDED} external_ids = { 'neutron:vip_fip': '11.11.11.11'} lb.external_ids = external_ids self.mock_find_lb_pool_key.return_value = lb fake_ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': {}, 'ports': {}}) self.helper.ovn_nbdb_api.lookup.return_value = fake_ls self.helper.handle_member_dvr(info) self.helper.ovn_nbdb_api.db_clear.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_handle_member_dvr_lb_fip_no_subnet(self, net_cli): lb = mock.MagicMock() info = { 'id': self.member_id, 'subnet_id': self.member_subnet_id, 'pool_id': self.pool_id, 'action': ovn_const.REQ_INFO_MEMBER_ADDED} external_ids = { 'neutron:vip_fip': '11.11.11.11'} lb.external_ids = external_ids self.mock_find_lb_pool_key.return_value = lb net_cli.return_value.show_subnet.side_effect = [n_exc.NotFound] self.helper.handle_member_dvr(info) self.helper.ovn_nbdb_api.db_clear.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_handle_member_dvr_lb_fip_no_ls(self, net_cli): lb = mock.MagicMock() info = { 'id': self.member_id, 'subnet_id': self.member_subnet_id, 'pool_id': self.pool_id, 'action': ovn_const.REQ_INFO_MEMBER_ADDED} external_ids = { 'neutron:vip_fip': '11.11.11.11'} lb.external_ids = external_ids self.mock_find_lb_pool_key.return_value = lb self.helper.ovn_nbdb_api.lookup.side_effect = [idlutils.RowNotFound] self.helper.handle_member_dvr(info) self.helper.ovn_nbdb_api.db_clear.assert_not_called() def _test_handle_member_dvr_lb_fip( self, net_cli, action=ovn_const.REQ_INFO_MEMBER_ADDED): lb = mock.MagicMock() fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) info = { 'id': self.member_id, 'address': fake_port['fixed_ips'][0]['ip_address'], 'pool_id': self.pool_id, 'subnet_id': fake_port['fixed_ips'][0]['subnet_id'], 'action': action} member_subnet = fakes.FakeSubnet.create_one_subnet() member_subnet['id'] = self.member_subnet_id member_subnet['network_id'] = 'foo' net_cli.return_value.show_subnet.return_value = { 'subnet': member_subnet} fake_lsp = fakes.FakeOVNPort.from_neutron_port( fake_port) fake_ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': {}, 'name': 'foo', 'ports': [fake_lsp]}) self.helper.ovn_nbdb_api.lookup.return_value = fake_ls fake_nat = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ip': '22.22.22.22', 'external_ids': { ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id'}}) fip_info = { 'floatingip': { 'description': 'bar'}} net_cli.return_value.show_floatingip.return_value = fip_info self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [fake_nat] external_ids = { ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '11.11.11.11'} lb.external_ids = external_ids self.mock_find_lb_pool_key.return_value = lb self.helper.handle_member_dvr(info) if action == ovn_const.REQ_INFO_MEMBER_ADDED: calls = [ mock.call.lookup('Logical_Switch', 'neutron-foo'), mock.call.db_find_rows('NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: fake_lsp.name})), mock.ANY, mock.call.db_clear('NAT', fake_nat.uuid, 'external_mac'), mock.ANY, mock.call.db_clear('NAT', fake_nat.uuid, 'logical_port'), mock.ANY] self.helper.ovn_nbdb_api.assert_has_calls(calls) else: (net_cli.return_value.show_floatingip. assert_called_once_with('fip_id')) (net_cli.return_value.update_floatingip. assert_called_once_with('fip_id', { 'floatingip': {'description': 'bar'}})) self.helper.ovn_nbdb_api.db_clear.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_handle_member_dvr_lb_fip_member_added(self, net_cli): self._test_handle_member_dvr_lb_fip(net_cli) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_handle_member_dvr_lb_fip_member_deleted(self, net_cli): self._test_handle_member_dvr_lb_fip( net_cli, action=ovn_const.REQ_INFO_MEMBER_DELETED) def test_ovsdb_connections(self): ovn_helper.OvnProviderHelper.ovn_nbdb_api = None ovn_helper.OvnProviderHelper.ovn_nbdb_api_for_events = None prov_helper1 = ovn_helper.OvnProviderHelper() prov_helper2 = ovn_helper.OvnProviderHelper() # One connection for API requests self.assertIs(prov_helper1.ovn_nbdb_api, prov_helper2.ovn_nbdb_api) # One connection to handle events self.assertIs(prov_helper1.ovn_nbdb_api_for_events, prov_helper2.ovn_nbdb_api_for_events) prov_helper2.shutdown() prov_helper1.shutdown() def test_create_vip_port_vip_selected(self): expected_dict = { 'port': {'name': '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id), 'fixed_ips': [{'subnet_id': self.vip_dict['vip_subnet_id'], 'ip_address':'10.1.10.1'}], 'network_id': self.vip_dict['vip_network_id'], 'admin_state_up': True, 'project_id': self.project_id}} with mock.patch.object(clients, 'get_neutron_client') as net_cli: self.vip_dict['vip_address'] = '10.1.10.1' self.helper.create_vip_port(self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().create_port(expected_dict)] net_cli.assert_has_calls(expected_call) def test_create_vip_port_vip_not_selected(self): expected_dict = { 'port': {'name': '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id), 'fixed_ips': [{'subnet_id': self.vip_dict['vip_subnet_id']}], 'network_id': self.vip_dict['vip_network_id'], 'admin_state_up': True, 'project_id': self.project_id}} with mock.patch.object(clients, 'get_neutron_client') as net_cli: self.helper.create_vip_port(self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().create_port(expected_dict)] net_cli.assert_has_calls(expected_call) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_create_vip_port_vip_selected_already_exist(self, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.IpAddressAlreadyAllocatedClient] net_cli.return_value.list_ports.return_value = { 'ports': [ {'name': 'ovn-lb-vip-' + self.loadbalancer_id, 'id': self.loadbalancer_id}]} self.vip_dict['vip_address'] = '10.1.10.1' ret = self.helper.create_vip_port( self.project_id, self.loadbalancer_id, self.vip_dict) expected = { 'port': { 'name': '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id), 'id': self.loadbalancer_id}} self.assertDictEqual(expected, ret) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_create_vip_port_vip_selected_other_allocation_exist( self, net_cli): net_cli.return_value.create_port.side_effect = [ n_exc.IpAddressAlreadyAllocatedClient] net_cli.return_value.list_ports.return_value = { 'ports': []} self.vip_dict['vip_address'] = '10.1.10.1' self.assertRaises( n_exc.IpAddressAlreadyAllocatedClient, self.helper.create_vip_port, self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().list_ports( network_id='%s' % self.vip_dict['vip_network_id'], name='%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id))] net_cli.assert_has_calls(expected_call) self.helper._update_status_to_octavia.assert_not_called() def test_get_pool_member_id(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:1010') self.assertEqual(self.member_id, ret) def test__get_existing_pool_members(self): ret = self.helper._get_existing_pool_members(self.pool_id) self.assertEqual(ret, self.member_line) @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lb_by_pool_id') def test__get_existing_pool_members_exception(self, folbpi): folbpi.return_value = (None, None) self.assertRaises(exceptions.DriverError, self.helper._get_existing_pool_members, self.pool_id) def test__frame_lb_vips(self): ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) expected = {'10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'} self.assertEqual(expected, ret) def test__frame_lb_vips_disabled(self): self.ovn_lb.external_ids['enabled'] = 'False' ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) self.assertEqual({}, ret) def test__frame_lb_vips_ipv6(self): self.member_address = '2001:db8::1' self.member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'pool_%s' % self.pool_id: self.member_line, 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) expected = {'[2002::]:80': '[2001:db8::1]:1010', '[fc00::]:80': '[2001:db8::1]:1010'} self.assertEqual(expected, ret) def test_check_lb_protocol(self): self.ovn_lb.protocol = ['tcp'] ret = self.helper.check_lb_protocol(self.listener_id, 'udp') self.assertFalse(ret) ret = self.helper.check_lb_protocol(self.listener_id, 'UDP') self.assertFalse(ret) ret = self.helper.check_lb_protocol(self.listener_id, 'tcp') self.assertTrue(ret) ret = self.helper.check_lb_protocol(self.listener_id, 'TCP') self.assertTrue(ret) def test_check_lb_protocol_no_listener(self): self.ovn_lb.external_ids = [] ret = self.helper.check_lb_protocol(self.listener_id, 'TCP') self.assertTrue(ret) @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test_check_lb_protocol_no_lb(self, fol): fol.return_value = None ret = self.helper.check_lb_protocol(self.listener_id, 'TCP') self.assertFalse(ret) >>>>>>> CHANGE (1ffea7 Fix race condition retrieving logical router rows) ",,4363,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I9b83f8d337883cc260d6819e96439cc19700134f,openstack/puppet-tripleo,stable/wallaby,I9b83f8d337883cc260d6819e96439cc19700134f,Remove unused tripleo::profile::base::validations,MERGED,2021-11-30 04:12:34.000000000,2021-12-15 18:13:16.000000000,2021-12-15 18:13:16.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-30 04:12:34.000000000', 'files': ['manifests/profile/base/validations.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f67c5d50bf4d9e26c1056d4aa7f78295bab67f53', 'message': 'Remove unused tripleo::profile::base::validations\n\nThis was used by instack-undercloud which was retired during the Rocky\ncycle. The same is now implemented by tripleo-ansible and the remaining\nimplementation is unused.\n\nChange-Id: I9b83f8d337883cc260d6819e96439cc19700134f\n(cherry picked from commit eb77e9a0e5a59a82d6cc8c4111f7e80d18f26633)\n'}]",0,819677,f67c5d50bf4d9e26c1056d4aa7f78295bab67f53,10,4,1,9816,,,0,"Remove unused tripleo::profile::base::validations

This was used by instack-undercloud which was retired during the Rocky
cycle. The same is now implemented by tripleo-ansible and the remaining
implementation is unused.

Change-Id: I9b83f8d337883cc260d6819e96439cc19700134f
(cherry picked from commit eb77e9a0e5a59a82d6cc8c4111f7e80d18f26633)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/819677/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/validations.pp'],1,f67c5d50bf4d9e26c1056d4aa7f78295bab67f53,cleanup-validations-stable/wallaby,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::validations # # Validations profile for tripleo # class tripleo::profile::base::validations { package {'openstack-tripleo-validations': } user {'validations': ensure => present, comment => 'TripleO validations', managehome => true, home => '/home/validations', shell => '/sbin/nologin', } } ",0,29
openstack%2Fneutron-vpnaas~master~I16ee2e9f1a46e10259df44bb1a19814a0cdacd5d,openstack/neutron-vpnaas,master,I16ee2e9f1a46e10259df44bb1a19814a0cdacd5d,Replace old UPPER_CONSTRAINTS_FILE name and url,ABANDONED,2021-10-01 16:27:47.000000000,2021-12-15 18:13:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-01 16:27:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/066cc78a402f687b50c970d6ada303e96c7fedb4', 'message': 'Replace old UPPER_CONSTRAINTS_FILE name and url\n\nThe old UPPER_CONSTRAINTS_FILE environment variable name should be\nreplaced to the new TOX_CONSTRAINTS_FILE name, and also the new URL\nshould be used that points to the proper upper-constraints.txt.\n\nChange-Id: I16ee2e9f1a46e10259df44bb1a19814a0cdacd5d\n'}]",0,812169,066cc78a402f687b50c970d6ada303e96c7fedb4,3,1,1,17685,,,0,"Replace old UPPER_CONSTRAINTS_FILE name and url

The old UPPER_CONSTRAINTS_FILE environment variable name should be
replaced to the new TOX_CONSTRAINTS_FILE name, and also the new URL
should be used that points to the proper upper-constraints.txt.

Change-Id: I16ee2e9f1a46e10259df44bb1a19814a0cdacd5d
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/69/812169/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,066cc78a402f687b50c970d6ada303e96c7fedb4,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fneutron~master~Icf7822bf83f5496f871f40a2fd08d9d01c2551b2,openstack/neutron,master,Icf7822bf83f5496f871f40a2fd08d9d01c2551b2,Use importlib instead of imp,ABANDONED,2021-08-16 00:24:36.000000000,2021-12-15 18:12:56.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 00:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85f0e9cdbaf916d4b4228042beaba900a73531f6', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2\n'}, {'number': 2, 'created': '2021-08-27 13:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0119ff8eb0828a95e4b3e4d48f55380e5dd1b6db', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2\n'}, {'number': 3, 'created': '2021-08-27 13:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be62aa05b36a565a4a883e0690e0a58116806982', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2\n'}, {'number': 4, 'created': '2021-08-27 22:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcbb40f8ffd30c12bf73948b0544aca4b4a7dd41', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2\n'}, {'number': 5, 'created': '2021-09-30 09:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10be983c181b5e712bdf2e6c4650922d3b9dd328', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2\n'}, {'number': 6, 'created': '2021-10-14 09:00:20.000000000', 'files': ['neutron/api/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b74801f332568d7c6c4ed5b36ef9239b70f81072', 'message': 'Use importlib instead of imp\n\n... because the imp module is deprecated since Python 3.4 .\n\nCloses-Bug: #1937904\nChange-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2\n'}]",3,804596,b74801f332568d7c6c4ed5b36ef9239b70f81072,40,4,6,9816,,,0,"Use importlib instead of imp

... because the imp module is deprecated since Python 3.4 .

Closes-Bug: #1937904
Change-Id: Icf7822bf83f5496f871f40a2fd08d9d01c2551b2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/804596/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/extensions.py'],1,85f0e9cdbaf916d4b4228042beaba900a73531f6,bug/1937904,"import importlib spec = importlib.util.spec_from_file_location(mod_name, ext_path) module = importlib.util.module_from_spec(spec) spec.loader.exec_module(module) new_ext_class = getattr(module, ext_name, None)","import imp mod = imp.load_source(mod_name, ext_path) new_ext_class = getattr(mod, ext_name, None)",6,3
openstack%2Fneutron-vpnaas-dashboard~stable%2Fvictoria~I1e6407e0f8d923f50c30478e953502d7d7a0c4be,openstack/neutron-vpnaas-dashboard,stable/victoria,I1e6407e0f8d923f50c30478e953502d7d7a0c4be,Imported Translations from Zanata,ABANDONED,2021-10-15 08:10:32.000000000,2021-12-15 18:12:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-15 08:10:32.000000000', 'files': ['neutron_vpnaas_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/48ea0d1e356df1c9fc4999c40245e1328fb40630', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1e6407e0f8d923f50c30478e953502d7d7a0c4be\n'}]",0,814116,48ea0d1e356df1c9fc4999c40245e1328fb40630,3,1,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1e6407e0f8d923f50c30478e953502d7d7a0c4be
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/16/814116/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/locale/es/LC_MESSAGES/django.po'],1,48ea0d1e356df1c9fc4999c40245e1328fb40630,zanata/translations,"# Eugnia Torrella <tester03@es.ibm.com>, 2016. #zanata # Jose Porrua <jose.porrua@netapp.com>, 2016. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2017. #zanata # Carlos Camacho <ccamacho@redhat.com>, 2017. #zanata # Zeus Arias Lucero <zeusariaslucero@gmail.com>, 2017. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: neutron-vpnaas-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2020-12-01 09:27+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-06-07 06:55+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid """" ""(Deprecated) Remote peer subnet(s) address(es) with mask(s) in CIDR format "" ""separated with commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24)"" msgstr """" ""(Obsoleto) Direccion(es) de subred(es) del par remoto con mscara(s) en "" ""formato CIDR separadas por comas si es necesario (p. ej. 20.1.0.0/24, "" ""21.1.0.0/24)"" msgid ""-"" msgstr ""-"" msgid ""3des"" msgstr ""3des"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Active"" msgstr ""Activa"" msgid ""Add"" msgstr ""Aadir"" msgid ""Add Endpoint Group"" msgstr ""Aadir un grupo de extremo"" msgid ""Add IKE Policy"" msgstr ""Aadir poltica IKE"" msgid ""Add IPsec Policy"" msgstr ""Aadir poltica IPsec"" msgid ""Add IPsec Site Connection"" msgstr ""Aadir conexin sitio a sitio IPsec"" msgid ""Add New Endpoint Groups"" msgstr ""Aadir nuevos grupos de extremos"" msgid ""Add New IKE Policy"" msgstr ""Aadir nueva poltica IKE"" msgid ""Add New IPsec Policy"" msgstr ""Aadir nueva poltica IPSec"" msgid ""Add New IPsec Site Connection"" msgstr ""Aadir nueva conexin sitio a sitio IPSec"" msgid ""Add New VPN Service"" msgstr ""Aadir nuevo servicio VPN"" msgid ""Add VPN Service"" msgstr ""Aadir servicio VPN"" #, python-format msgid ""Added IKE policy \""%s\""."" msgstr ""Poltica IKE \""%s\"" aadida."" #, python-format msgid ""Added IPsec policy \""%s\""."" msgstr ""Poltica IPSec \""%s\"" aadida."" #, python-format msgid ""Added IPsec site connection \""%s\""."" msgstr ""Conexin sitio a sitio IPSec \""%s\"" aadida."" #, python-format msgid ""Added VPN service \""%s\""."" msgstr ""Servicio VPN \""%s\"" aadido."" #, python-format msgid ""Added endpoint group \""%s\""."" msgstr ""Grupo de extremos \""%s\"" aadido."" msgid ""Admin State"" msgstr ""Estado de administracin"" msgid ""Admin State is enabled by default."" msgstr ""El estado de administracin est activado de forma predeterminada."" msgid ""All fields are optional."" msgstr ""Todos los campos son opcionales."" msgid ""An IKE policy is an association of the following attributes:"" msgstr ""Una poltica IKE es una asociacin de los siguiente atributos:"" msgid ""An IPsec policy is an association of the following attributes"" msgstr ""Una poltica IPsec es una asociacin de los siguientes atributos"" msgid ""Authorization algorithm"" msgstr ""Algoritmo de autorizacin"" msgid ""Authorization algorithm ="" msgstr ""Algoritmo de autorizacin ="" msgid ""Authorization mode"" msgstr ""Modo de autorizacin"" msgid ""CIDR (for external systems)"" msgstr ""CIDR (para sistemas externos)"" msgid ""Create IKE policy for current project."" msgstr ""Crear poltica IKE para el proyecto actual."" msgid ""Create IPsec policy for current project."" msgstr ""Crear una poltica IPsec para el proyecto actual."" msgid """" ""Create IPsec site connection for current project. Assign a name and "" ""description for the IPsec site connection. All fields in this tab are "" ""required."" msgstr """" ""Cree una conexin sitio a sitio IPSec para el proyecto actual. Asigne nombre "" ""y descripcin para la conexin sitio a sitio IPSec. Todos los campos en esta "" ""pestaa son obligatorios."" msgid ""Create VPN service for current project."" msgstr ""Crear un servicio VPN en el proyecto actual."" msgid ""Create endpoint group for current project."" msgstr ""Crear grupo de extremos para el proyecto actual."" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Created"" msgstr ""Creado"" msgid ""DPD Timeout must be greater than DPD Interval"" msgstr """" ""La desconexin de la deteccin de pares inactivos debe ser mayor al "" ""intervalo de la misma"" msgid ""Dead peer detection action"" msgstr ""Accin de deteccin del par inactivo"" msgid ""Dead peer detection actions"" msgstr ""Acciones de deteccin de pares inactivos"" msgid ""Dead peer detection interval"" msgstr ""Intervalo de deteccin de pares inactivos"" msgid ""Dead peer detection timeout"" msgstr ""Tiempo lmite de deteccin de pares inactivos"" msgid ""Delete Endpoint Group"" msgid_plural ""Delete Endpoint Groups"" msgstr[0] ""Eliminar grupo de extremos"" msgstr[1] ""Eliminar grupos de extremos"" msgid ""Delete IKE Policy"" msgid_plural ""Delete IKE Policies"" msgstr[0] ""Suprimir poltica IKE"" msgstr[1] ""Suprimir polticas IKE"" msgid ""Delete IPsec Policy"" msgid_plural ""Delete IPsec Policies"" msgstr[0] ""Eliminar poltica IKE"" msgstr[1] ""Eliminar polticas IKE"" msgid ""Delete IPsec Site Connection"" msgid_plural ""Delete IPsec Site Connections"" msgstr[0] ""Eliminar conexin sitio a sitio IPSec"" msgstr[1] ""Eliminar Conexiones sitio a sitio IPSec"" msgid ""Delete VPN Service"" msgid_plural ""Delete VPN Services"" msgstr[0] ""Suprimir servicio VPN"" msgstr[1] ""Suprimir servicios VPN"" msgid ""Description"" msgstr ""Descripcin "" msgid ""Description:"" msgstr ""Descripcin:"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Down"" msgstr ""Abajo"" msgid ""Edit Connection"" msgstr ""Editar conexin"" msgid ""Edit Endpoint Group"" msgstr ""Editar grupo de extremos"" msgid ""Edit IKE Policy"" msgstr ""Editar poltica IKE"" msgid ""Edit IPsec Policy"" msgstr ""Editar poltica IPsec"" msgid ""Edit IPsec Site Connection"" msgstr ""Editar la conexin sitio a sitio IPsec"" msgid ""Edit IPsec policy"" msgstr ""Editar poltica IPsec"" msgid ""Edit IPsec site connection"" msgstr ""Editar conexin sitio a sitio IPsec"" msgid ""Edit VPN Service"" msgstr ""Editar servicio VPN"" msgid ""Enable Admin State"" msgstr ""Activar Estado del Administrador"" msgid ""Encapsulation mode"" msgstr ""Modo de encapsulamiento"" msgid ""Encryption algorithm"" msgstr ""Algoritmo de cifrado"" msgid ""Encryption algorithm ="" msgstr ""Algoritmo de cifrado ="" msgid ""Endpoint Groups"" msgstr ""Grupos de extremos"" msgid ""Endpoint Groups Details"" msgstr ""Detalles del grupo de extremos"" #, python-format msgid ""Endpoint group %s was successfully updated."" msgstr ""El grupo endpoint %s se actuailiz correctamente."" msgid ""Endpoint group for local subnet(s)"" msgstr ""Grupo de extremos para la subred(s) local"" msgid ""Endpoint group for remote peer CIDR(s)"" msgstr ""Grupo de extremos para el CIDR(s) del par remoto "" msgid ""Endpoints"" msgstr ""Extremos"" msgid ""Endpoints ="" msgstr ""Extremos ="" msgid ""Equal to or greater than 60"" msgstr ""Mayor o igual que 60"" msgid """" ""Equal to or greater than 68 if the local subnet is IPv4. Equal to or greater "" ""than 1280 if the local subnet is IPv6."" msgstr """" ""Mayor o igual que 68 si la subred local es IPv4. Igual o mayor que 1280 si "" ""la subred local es IPv6."" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Error"" msgstr ""Error"" msgid ""External System CIDRs"" msgstr ""CIDRs de sistemas externos"" msgid ""External System Subnets"" msgstr ""Subredes de sistemas externos"" #, python-format msgid ""Failed to update IKE policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la poltica IKE %s"" #, python-format msgid ""Failed to update IPsec policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la poltica IPsec %s."" #, python-format msgid ""Failed to update IPsec site connection %s"" msgstr ""Ha ocurrido un fallo al actualizar la conexin sitio a sitio IPsec %s"" #, python-format msgid ""Failed to update VPN service %s"" msgstr ""Ha fallado la modificacin del servicio VPN %s"" #, python-format msgid ""Failed to update endpoint group %s"" msgstr ""Ha ocurrido un fallo al actualizar el grupo endpoint %s"" msgid """" ""Fields in this tab are optional. You can configure the detail of IPsec site "" ""connection created."" msgstr """" ""Los campos en esta pestaa son opcionales. Puede configurar el detalle de la "" ""conexin IPsec sitio a sitio creada."" msgid ""ID"" msgstr ""ID"" msgid ""IKE Phase 1 negotiation mode"" msgstr ""Modo de negociacin IKE Fase 1"" msgid ""IKE Phase1 negotiation mode"" msgstr ""Modo de negociacin Phase1 IKE"" msgid ""IKE Policies"" msgstr ""Polticas IKE"" msgid ""IKE Policy"" msgstr ""Poltica IKE"" msgid ""IKE Policy ="" msgstr ""Poltica IKE ="" msgid ""IKE Policy Details"" msgstr ""Detalles de la poltica IKE"" msgid ""IKE Policy ID ="" msgstr ""ID poltica IKE ="" #, python-format msgid ""IKE policy %s was successfully updated."" msgstr ""La poltica IKE %s se ha actualizado correctamente."" msgid ""IKE policy associated with this connection"" msgstr ""Poltica IKE asociada a esta conexin"" msgid ""IKE version"" msgstr ""Versin IKE"" msgid ""IPsec Policies"" msgstr ""Polticas IPsec"" msgid ""IPsec Policy"" msgstr ""Poltica IPsec"" msgid ""IPsec Policy ="" msgstr ""Poltica IPSec ="" msgid ""IPsec Policy Details"" msgstr ""Detalles de la poltica IPsec"" msgid ""IPsec Policy ID ="" msgstr ""ID poltica IPsec ="" msgid ""IPsec Site Connection Details"" msgstr ""Detalles de la conexin sitio a sitio IPsec"" msgid ""IPsec Site Connections"" msgstr ""Conexiones sitio a sitio IPsec"" msgid ""IPsec connection validation requires that local endpoints are subnets"" msgstr """" ""La validacin de la conexin IPsec requiere que los extremos locales sean "" ""subredes."" msgid """" ""IPsec connection validation requires that local endpoints are subnets, and "" ""peer endpoints are CIDRs."" msgstr """" ""La validacin de la conexin IPsec requete que los extremos locales sean "" ""subredes y que los extremos del par sean CIDRs."" msgid ""IPsec connection validation requires that peer endpoints are CIDRs"" msgstr """" ""La validacin de la conexin IPsec requiere que los extremos del par sean "" ""CIDRs."" #, python-format msgid ""IPsec policy %s was successfully updated."" msgstr ""Se ha actualizaco correctamente la poltica IPsec %s."" msgid ""IPsec policy associated with this connection"" msgstr ""Poltica IPSec asociada a esta conexin"" #, python-format msgid ""IPsec site connection %s was successfully updated."" msgstr ""La conexin sitio a sitio IPsec %s se actualiz correctamente."" msgid ""IPv4"" msgstr ""IPv4"" msgid ""IPv4:"" msgstr ""IPv4:"" msgid ""IPv6"" msgstr ""IPv6"" msgid ""IPv6:"" msgstr ""IPv6:"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Inactive"" msgstr ""Inactiva"" msgid ""Initiator state"" msgstr ""Estado del iniciador"" msgid """" ""Life time consists of units and value. Units in 'seconds' and the default "" ""value is 3600."" msgstr """" ""El tiempo de vida consiste en unidades y valores. Unidades en 'segundos' y "" ""el valor predeterminado es 3600."" msgid ""Lifetime"" msgstr ""Tiempo de vida"" msgid ""Lifetime Units"" msgstr ""Unidades del tiempo de vida"" msgid ""Lifetime Value"" msgstr ""Valor del tiempo de vida"" msgid ""Lifetime units"" msgstr ""Unidades de tiempo de vida"" msgid ""Lifetime units for IKE keys"" msgstr ""Unidades de tiempo de vida para las claves IKE"" msgid ""Lifetime value"" msgstr ""Valor de tiempo de vida"" msgid ""Lifetime value for IKE keys"" msgstr ""Valores de tiempo de vida para las claves IKE"" msgid ""Lifetime value for IKE keys "" msgstr ""Valor de tiempo de vida para claves IKE"" msgid ""Local Endpoint Group"" msgstr ""Grupo de extremos local"" msgid ""Local Endpoint Group(s)"" msgstr ""Grupo(s) de extremo local"" msgid ""Local Side Public IPs"" msgstr ""IP pblicas del lado local"" msgid ""Local System Subnets"" msgstr ""Subredes de sistemas locales"" msgid ""Local subnet(s). This field is valid if type is Subnet"" msgstr ""Subred(es) local(es). Este campo es vlido si el tipo es una subred."" msgid """" ""Local subnets which the new IPsec connection is connected to. Required if no "" ""subnet is specified in a VPN service selected."" msgstr """" ""Subredes locales a las que la nueva conexin IPsec est conectada. "" ""Obligatorio si no se ha especificado una subred en el servicio VPN "" ""seleccionado."" msgid ""MTU"" msgstr ""MTU"" msgid ""Maximum Transmission Unit size for the connection"" msgstr ""Tamao de la unidad de Transmisin mxima de la conexin"" msgid ""Name"" msgstr ""Nombre"" msgid ""Name ="" msgstr ""Nombre ="" msgid """" ""Note: The recommended way to specify local subnets is to use endpoint groups "" ""in IPsec site connection. It is deprecated to specify subnet in VPN service. "" ""For a new VPN service or IPsec site connection, using endpoint group is "" ""recommended."" msgstr """" ""Nota: La forma recomendada de especificar subredes locales es usar grupos de "" ""extremos en conexiones sitio a sitio IPsec. Especificar una subred en el "" ""servicio VPN est obsoleto. Para un nuevo servicio VPN o una conexin sitio "" ""a sitio IPsec, se recomienda usar un grupo de extremos."" msgid ""Optional Parameters"" msgstr ""Parmetros opcionales"" msgid ""Optional. No need to be specified when you use endpoint groups."" msgstr """" ""Opcional. No es necesario especificarlo cuando se usan grupos de extremo."" msgid ""PFS"" msgstr ""PFS"" msgid ""PFS ="" msgstr ""PFS ="" msgid ""PFS limited to using Diffie-Hellman groups 2, 5 (default) and 14."" msgstr """" ""PFS limitados a usar los grupos 2, 5 (predeterminado) y 14 de Diffie-Hellman."" msgid ""Peer Endpoint Group"" msgstr ""Grupo de extermos del par"" msgid ""Peer Endpoint Group(s)"" msgstr ""Grupo(s) de extremo del par"" msgid ""Peer gateway public IPv4/IPv6 Address or FQDN"" msgstr ""Direccin IPv4/IPv6 pblica o FQDN de la puerta de enlace del par"" msgid ""Peer gateway public IPv4/IPv6 address or FQDN for the VPN Connection"" msgstr """" ""Direccin IPv4/IPv6 pblica o FQDN de la puerta de enlace del par para la "" ""conexin VPN."" msgid ""Peer router identity for authentication (Peer ID)"" msgstr ""Identidad del router par para autenticacin (Peer ID)"" msgid """" ""Peer router identity for authentication. Can be IPv4/IPv6 address, e-mail, "" ""key ID, or FQDN"" msgstr """" ""Identificador de un router par para autenticacin. Puede ser una direccin "" ""IPv4/IPv6, una direccin de correo electrnico, un ID de clave o un FQDN"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Create"" msgstr ""Creacin Pendiente"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Delete"" msgstr ""Eliminacin pendiente"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Update"" msgstr ""Actualizacin pendiente"" msgid ""Perfect Forward Secrecy"" msgstr ""Perfect Forward Secrecy"" msgid ""Phase 1 negotiation mode limited to using 'main' and 'aggressive'."" msgstr """" ""El modo de negociacin de la fase 1 est limitado a usar 'main' y "" ""'aggressive'."" msgid ""Pre-Shared Key (PSK) string"" msgstr ""Cadena de clave precompartida (PSK)"" msgid ""Project ID"" msgstr ""ID del proyecto"" msgid ""Remote peer CIDR(s) connected to the new IPsec connection."" msgstr ""CIDR(s) del par remoto conectado a la nueva conexin IPsec."" msgid ""Remote peer subnet"" msgstr ""Subred remota del par"" msgid ""Remote peer subnet(s)"" msgstr ""Subred(es) del par remoto"" msgid """" ""Remote peer subnet(s) address(es) with mask(s) in CIDR format separated with "" ""commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24)"" msgstr """" ""Direccion(es) de subred(es) del par remoto con mscara(s) en formato CIDR "" ""separadas por comas si es necesario (p. ej. 20.1.0.0/24, 21.1.0.0/24)"" msgid """" ""Remote peer subnet(s) address(es) with mask(s) in CIDR format separated with "" ""commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24). This field is valid if "" ""type is CIDR"" msgstr """" ""Direcciones de subredes remotas de los pares con mscara(s) en formato CIDR "" ""separadas con comas si es necesario (p.ej. 20.1.0.0/24, 21.1.0.0/24). Este "" ""campo es vlido si el tipo es CIDR"" msgid ""Route mode"" msgstr ""Modo router"" msgid ""Router"" msgstr ""Router"" msgid ""Router ="" msgstr ""Router ="" msgid ""Router ID ="" msgstr ""ID router ="" msgid ""Save Changes"" msgstr ""Guardar cambios"" msgid ""Scheduled deletion of IKE policy"" msgid_plural ""Scheduled deletion of IKE policies"" msgstr[0] ""Se ha programado la eliminacin de la poltica IKE"" msgstr[1] ""Se ha programado la eliminacin de las polticas IKE"" msgid ""Scheduled deletion of IPsec policy"" msgid_plural ""Scheduled deletion of IPsec policies"" msgstr[0] ""Se ha programado la eliminacin de la poltica IPsec"" msgstr[1] ""Se ha programado la eliminacin de las polticas IPsec"" msgid ""Scheduled deletion of IPsec site connection"" msgid_plural ""Scheduled deletion of IPsec site connections"" msgstr[0] ""Se ha programado la eliminacin de la conexin sitio a sitio IPsec"" msgstr[1] """" ""Se ha programado la eliminacin de las conexiones sitio a sitio IPsec"" msgid ""Scheduled deletion of VPN service"" msgid_plural ""Scheduled deletion of VPN services"" msgstr[0] ""Se ha programado la eliminacin del servicio VPN"" msgstr[1] ""Se ha programado la eliminacin de los servicios VPN"" msgid ""Scheduled deletion of endpoint group"" msgid_plural ""Scheduled deletion of endpoint groups"" msgstr[0] ""Se ha programado la eliminacin del grupo de extremos"" msgstr[1] ""Se ha programado la eliminacin de los grupos de extremos"" msgid ""Select IKE policy"" msgstr ""Seleccionar poltica IKE"" msgid ""Select IPsec Policy"" msgstr ""Seleccionar poltica IPsec"" msgid ""Select VPN service"" msgstr ""Seleccionar servicio VPN"" msgid ""Select a Router"" msgstr ""Seleccionar un router"" msgid ""Select a Subnet"" msgstr ""Seleccione una subred"" msgid ""Select local endpoint group"" msgstr ""Seleccionar grupo de extremos local"" msgid ""Select peer endpoint group"" msgstr ""Seleccionar grupo de extremos del par"" msgid """" ""Specify a name, description, router, and subnet (optional) for the VPN "" ""service."" msgstr """" ""Especifique un nombre, descripcin, router y subred (opcional) para el "" ""servicio VPN."" msgid ""Status"" msgstr ""Estado"" msgid ""Status ="" msgstr ""Estado ="" msgid ""Subnet"" msgstr ""Subred"" msgid ""Subnet (for local systems)"" msgstr ""Subred (para sistemas locales)"" msgid ""Subnet ="" msgstr ""Suberd ="" msgid ""Subnet ID ="" msgstr ""ID de subred ="" msgid """" ""The VPN service is attached to a router and references to endpoint group or "" ""a single subnet to push to a remote site."" msgstr """" ""El servicio VPN se asocia a un router y referencia a un grupo de extremos o "" ""a una sola subred a la que poner en el sitio remoto."" msgid ""The pre-defined key string between the two peers of the VPN connection"" msgstr ""La cadena de clave predefinida entre los dos pares de la conexin VPN."" msgid """" ""The router and admin state fields require to be enabled. All others are "" ""optional."" msgstr """" ""Son obligatorios los campos router y estado de administracin. Todos los "" ""dems son opcionales."" msgid """" ""The state of IPsec site connection to start in. If disabled (not checked), "" ""IPsec site connection does not forward packets."" msgstr """" ""El estado de la conexin sitio a sitio IPsec en la que iniciar. Si est "" ""deshabilitado (no marcado) la conexin IPsec no re-enva paquetes."" msgid """" ""The state of VPN service to start in. If disabled (not checked), VPN service "" ""does not forward packets."" msgstr """" ""El estado del servicio VPN en el que comenzar. Si est deshabilitado (no "" ""marcado) el servicio VPN no re-enviar paquetes."" msgid ""The type of IPsec tunnel (tunnel/transport) to be used."" msgstr ""El tipo de tnel IPsec (tunnel/transport) a usar."" msgid ""The type of protocol (esp, ah, ah-esp) used in IPsec policy."" msgstr ""El tipo de protocolo (esp, ah, ah-esp) a usar en la poltica IPsec."" msgid ""The type of version (v1/v2) that needs to be filtered."" msgstr ""El tipo de versin (v1/v2) que tiene que ser filtrado."" msgid ""Transform Protocol"" msgstr ""Protocolo de transformacin"" msgid ""Type"" msgstr ""Tipo"" msgid ""Type ="" msgstr ""Tipo ="" #, python-format msgid ""Unable to add IKE policy \""%s\""."" msgstr ""No ha sido posible aadir la poltica IKE \""%s\""."" #, python-format msgid ""Unable to add IPsec policy \""%s\""."" msgstr ""No ha sido posible aadir la poltica IPSec \""%s\""."" #, python-format msgid ""Unable to add IPsec site connection \""%s\""."" msgstr ""No ha sido posible aadir la conexin sitio a sitio IPSec \""%s\""."" #, python-format msgid ""Unable to add VPN service \""%s\""."" msgstr ""No ha sido posible aadir el servicio VPN \""%s\""."" #, python-format msgid ""Unable to add endpoint group \""%s\""."" msgstr ""No ha sido posible aadir el grupo de extremos \""%s\""."" msgid ""Unable to delete IKE policy."" msgstr ""No ha sido posible eliminar la poltica IKE."" msgid ""Unable to delete IPsec policy."" msgstr ""No ha sido posible eliminar la poltica IPsec."" msgid ""Unable to delete IPsec site connection."" msgstr ""No ha sido posible eliminar la conexin sitio a sitio IPSec."" msgid ""Unable to delete VPN service."" msgstr ""No ha sido posible eliminar el servicio VPN."" msgid ""Unable to delete endpoint group."" msgstr ""No ha sido posible eliminar el grupo de extremos."" msgid ""Unable to retrieve IKE policies list."" msgstr ""No ha sido posible obtener la lista de polticas IKE."" msgid ""Unable to retrieve IKE policy details."" msgstr ""No ha sido posible obtener los detalles de la poltica IKE."" msgid ""Unable to retrieve IPsec policies list."" msgstr ""No ha sido posible obtener la lista de polticas IPSec."" msgid ""Unable to retrieve IPsec policy details."" msgstr ""No ha sido posible obtener los detalles de la poltica IPSec."" msgid ""Unable to retrieve IPsec policy list."" msgstr ""No ha sido posible obtener la lista de polticas IPsec."" msgid ""Unable to retrieve IPsec site connection details."" msgstr """" ""No ha sido posible obtener los detalles sobre la conexin sitio a sitio "" ""IPSec."" msgid ""Unable to retrieve IPsec site connections list."" msgstr """" ""No ha sido posible obtener la lista de las conexiones sitio a sitio IPsec."" msgid ""Unable to retrieve VPN service details."" msgstr ""No ha sido posible obtener los detalles del servicio VPN."" msgid ""Unable to retrieve VPN services list."" msgstr ""No ha sido posible obtener la lista de servicios VPN."" msgid ""Unable to retrieve endpoint group details."" msgstr ""No ha sido posible obtener los detalles del grupo de extremo."" msgid ""Unable to retrieve endpoint group list."" msgstr ""No ha sido posible obtener la lista de grupo de extremos."" msgid ""Unable to retrieve networks list."" msgstr ""No se ha podido recuperar la lista de redes."" msgid ""Unable to retrieve routers list."" msgstr ""No se ha podido recuperar la lista de routers."" msgid ""VPN"" msgstr ""VPN"" msgid ""VPN Connections"" msgstr ""Conexiones VPN"" msgid ""VPN Service"" msgstr ""Servicio VPN"" msgid ""VPN Service ="" msgstr ""Servicio VPN ="" msgid ""VPN Service Details"" msgstr ""Detalles del servicio VPN"" msgid ""VPN Service ID ="" msgstr ""ID del servicio VPN ="" msgid ""VPN Services"" msgstr ""Servicios VPN"" #, python-format msgid ""VPN service %s was successfully updated."" msgstr ""Servicio VPN %s modificado correctamente."" msgid ""VPN service associated with this connection"" msgstr ""Servicio VPN asociado con esta conexin"" msgid ""Valid algorithms are 3des, aes-128, aes-192 and aes-256."" msgstr ""Los algoritmos vlidos son 3des, aes-128, aes-192 y aes-256."" msgid ""Valid algorithms are sha1, sha256, sha384 and sha512."" msgstr ""Los algoritmos vlidos son sha1, sha256, sha384 y sha512."" msgid ""Valid integer greater than the DPD interval"" msgstr ""Entero vlido mayor al intervalo de deteccin de pares inactivos"" msgid ""Valid integer lesser than DPD timeout"" msgstr ""Entero vlido menor a la desconexin de deteccin de pares inactivos"" msgid ""Valid integer lesser than the DPD timeout"" msgstr ""Entero vlido menor al intervalo de deteccin de pares inactivos"" msgid ""Virtual Private Network"" msgstr ""Red privada virtual"" msgid ""You may update IKE policy details here."" msgstr ""Puede modificar los detalles de la poltica IKE aqu."" msgid ""You may update IPsec policy details here."" msgstr ""Puede modificar los detalles de la poltica IPsec aqu."" msgid ""You may update IPsec site connection details here."" msgstr ""Aqu puede actualizar los detalles de la conexin IPSec sitio a sitio."" msgid ""You may update VPN service details here."" msgstr ""Aqu puede actualizar los detalles del servicio VPN."" msgid ""You may update endpoint group details here."" msgstr ""Debe actualizar los detalles del grupo de extremos aqu."" msgid ""aes-128"" msgstr ""aes-128"" msgid ""aes-192"" msgstr ""aes-192"" msgid ""aes-256"" msgstr ""aes-256"" msgid ""ah"" msgstr ""ah"" msgid ""ah-esp"" msgstr ""ah-esp"" msgid ""bi-directional"" msgstr ""bidireccional"" msgid ""clear"" msgstr ""limpiar"" msgid ""disabled"" msgstr ""deshabilitado"" msgid ""down"" msgstr ""abajo"" msgid ""esp"" msgstr ""esp"" msgid ""group14"" msgstr ""grupo14"" msgid ""group2"" msgstr ""grupo2"" msgid ""group5"" msgstr ""grupo5"" msgid ""hold"" msgstr ""retener"" msgid ""response-only"" msgstr ""slo respuesta"" msgid ""restart"" msgstr ""reiniciar"" msgid ""restart-by-peer"" msgstr ""reiniciar por el par"" msgid ""seconds"" msgstr ""segundos"" msgid ""sha1"" msgstr ""sha1"" msgid ""sha256"" msgstr ""sha256"" msgid ""sha384"" msgstr ""sha384"" msgid ""sha512"" msgstr ""sha512"" msgid ""transport"" msgstr ""transporte"" msgid ""tunnel"" msgstr ""tnel"" msgid ""up"" msgstr ""arriba"" msgid ""v1"" msgstr ""v1"" msgid ""v2"" msgstr ""v2"" ",,926,0
openstack%2Fneutron~master~Ic9af3b390e0c3bab228d88aa06c1920e1965eafb,openstack/neutron,master,Ic9af3b390e0c3bab228d88aa06c1920e1965eafb,[OVN] Implement router gateway IP QoS,ABANDONED,2020-08-31 09:40:04.000000000,2021-12-15 18:12:16.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 10518}, {'_account_id': 11975}, {'_account_id': 12335}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}, {'_account_id': 28056}, {'_account_id': 28781}, {'_account_id': 29157}, {'_account_id': 29963}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-31 09:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9f78c3a374aba0ef1ebe5f1e4d1f6d4f44e2192', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 2, 'created': '2020-08-31 12:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee7ad256b911bd2063bc46224e9797145ccca7ae', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 3, 'created': '2020-10-11 12:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70e3bef0aa14b323ac141618cf874f6c1c6e0b36', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 4, 'created': '2020-10-12 00:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86410d14bdb2fb3a6f97fd40c190f33af2ed266d', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 5, 'created': '2020-11-06 11:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9734acf05d41fa048a723a2ff19a0c2ccde30e84', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 6, 'created': '2020-11-17 08:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ca87c4ded4bf693664f2b0319f832b82029a643', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 7, 'created': '2020-11-18 02:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d101cde1b04a60587b2985a53d0cbf1a7f1b2d9', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 8, 'created': '2020-12-04 01:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01eaa1a2d9d3fd133263c792eae9b4df8bc43fc5', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 9, 'created': '2020-12-04 16:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db773423eae72bc2973db81f1ed6cdef39cb4795', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 10, 'created': '2021-01-05 03:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96db17e25c5083b0a97b9d35d0d3301d87c30dca', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 11, 'created': '2021-01-05 06:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ea34c68d9910e45afd6f0fca608f6652a105ed3', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 12, 'created': '2021-01-06 03:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/addd970392b6434aadf4fb3442045b04fcee8e42', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 13, 'created': '2021-01-06 07:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be38da52fd395b781400bb95f0670d7cf64de546', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 14, 'created': '2021-01-12 03:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/324aadb06629f62f1d8bcbad1d1e3ce4273c8f0b', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 15, 'created': '2021-01-12 03:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/412e7487516003e890c8a24078fb474f36d941b1', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 16, 'created': '2021-01-13 07:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e17bc03ebeec01a99e5823104f9ca1afcd59237a', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 17, 'created': '2021-03-12 02:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75ebc82ff5984870d7f5cff567a81e9342f598f3', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 18, 'created': '2021-03-12 06:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d13de436b9bdf314f3709f0e30bb70c0f9a00137', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 19, 'created': '2021-03-15 01:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51fb17d62060d24238aeaf9d5a1c55d49605dba4', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 20, 'created': '2021-07-21 12:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f156f0ba7067d508ad08b8cf84a26ee7061bc9e', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 21, 'created': '2021-07-22 04:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f57ae82a778596afa0f83647a672b78a1c67a68', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 22, 'created': '2021-07-23 07:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5559144a51c64d1bcd7dce24007f4c593f35267d', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 23, 'created': '2021-07-29 10:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83673e436718807643cb8edf399bdda327917dda', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 24, 'created': '2021-09-28 07:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4e8779c774e47267d734283a378d85b5dff2419', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}, {'number': 25, 'created': '2021-09-29 06:37:24.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/common/ovn/extensions.py', 'releasenotes/notes/ovn-router-gateway-qos-1cae7fb6fd43a73c.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c81d2175b53d05af2f4b250c8b0c9f372dc0e494', 'message': '[OVN] Implement router gateway IP QoS\n\nThis patch implements router gateway IP QoS based on meter,\nusing the existing plugin and extension, only the driver side\nis different.\n\nChange-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb\nCloses-Bug: #1893625\n'}]",129,749012,c81d2175b53d05af2f4b250c8b0c9f372dc0e494,234,18,25,29157,,,0,"[OVN] Implement router gateway IP QoS

This patch implements router gateway IP QoS based on meter,
using the existing plugin and extension, only the driver side
is different.

Change-Id: Ic9af3b390e0c3bab228d88aa06c1920e1965eafb
Closes-Bug: #1893625
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/749012/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/extensions.py', 'neutron/services/ovn_l3/plugin.py']",5,e9f78c3a374aba0ef1ebe5f1e4d1f6d4f44e2192,bug/1893625,"from neutron_lib.api.definitions import qos_gateway_ip as qos_gateway_ip_apifrom neutron.db import l3_gateway_ip_qos l3_fip_qos.FloatingQoSDbMixin, l3_gateway_ip_qos.L3_gw_ip_qos_db_mixin): def disable_qos_fip_or_gwip_extension_by_extension_drivers(aliases): if (qos_api.ALIAS not in cfg.CONF.ml2.extension_drivers and qos_gateway_ip_api.ALIAS in aliases): aliases.remove(qos_gateway_ip_api.ALIAS) self.disable_qos_fip_or_gwip_extension_by_extension_drivers( self._aliases)", l3_fip_qos.FloatingQoSDbMixin): def disable_qos_fip_extension_by_extension_drivers(aliases): self.disable_qos_fip_extension_by_extension_drivers(self._aliases),151,18
openstack%2Fneutron~master~I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe,openstack/neutron,master,I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe,Fix binding:profile parameter type check in the API,ABANDONED,2021-09-30 13:38:24.000000000,2021-12-15 18:11:42.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 13:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d0c94f3330e7ec4cffee9b15856ed8eb00d063b', 'message': ""Fix binding:profile parameter type check in the API\n\nWhen updating the binding:profile of a port, the tag parameter\nis expected but can't be updated because it's received as a\nstring and the expected type is int.\n\nThis patch changes the code to convert the values in the dict\nto the expected type instead.\n\nCloses-bug: #1945651\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe\n""}, {'number': 2, 'created': '2021-09-30 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/937dc6bab1eb5da84a407e3fa606a2f1500832f2', 'message': ""Fix binding:profile parameter type check in the API\n\nWhen updating the binding:profile of a port, the tag parameter\nis expected but can't be updated because it's received as a\nstring and the expected type is int.\n\nThis patch changes the code to convert the values in the dict\nto the expected type instead.\n\nCloses-bug: #1945651\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe\n""}, {'number': 3, 'created': '2021-10-01 13:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f72c3c53152b9fef9a9e75d6a408aad62494ed7', 'message': ""Fix binding:profile parameter type check in the API\n\nWhen updating the binding:profile of a port, the tag parameter\nis expected but can't be updated because it's received as a\nstring and the expected type is int.\n\nThis patch changes the code to convert the values in the dict\nto the expected type instead.\n\nCloses-bug: #1945651\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe\n""}, {'number': 4, 'created': '2021-10-02 14:55:50.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6af4eccba2a17e18cc33268115ae7ccf80a1c986', 'message': ""Fix binding:profile parameter type check in the API\n\nWhen updating the binding:profile of a port, the tag parameter\nis expected but can't be updated because it's received as a\nstring and the expected type is int.\n\nThis patch changes the code to try to convert the value in the dict\nto the integer if that is an expected type.\n\nCloses-bug: #1945651\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe\n""}]",3,811971,6af4eccba2a17e18cc33268115ae7ccf80a1c986,35,4,4,23804,,,0,"Fix binding:profile parameter type check in the API

When updating the binding:profile of a port, the tag parameter
is expected but can't be updated because it's received as a
string and the expected type is int.

This patch changes the code to try to convert the value in the dict
to the integer if that is an expected type.

Closes-bug: #1945651

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/811971/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/utils.py'],1,5d0c94f3330e7ec4cffee9b15856ed8eb00d063b,I5b71f5d0beb64ee9627860d2db2694dc8c8d69fe, try: param_value = param_type(param_dict[param_key]) except ValueError:," param_value = param_dict[param_key] if not isinstance(param_value, param_type):",3,2
openstack%2Fneutron-tempest-plugin~master~I45c5ed434a51b4681a8d93532d5d7ce44079d7cc,openstack/neutron-tempest-plugin,master,I45c5ed434a51b4681a8d93532d5d7ce44079d7cc,Use admin client to list ports in the test_two_vms_fips test,ABANDONED,2021-10-27 13:00:40.000000000,2021-12-15 18:11:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-27 13:00:40.000000000', 'files': ['neutron_tempest_plugin/scenario/admin/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1ffbe1a877f662545e544ea9c4e44f205e0b8e28', 'message': 'Use admin client to list ports in the test_two_vms_fips test\n\nIn that scenario test VMs are spawned by using admin_client because\navailability zone for VMs are specified. As VMs are created for the\nadmin tenant, also admin neutron_client needs to list ports for such\nVMs later as regular user will get empty list from neutron.\nIt happens like that with secure RBAC rules.\n\nChange-Id: I45c5ed434a51b4681a8d93532d5d7ce44079d7cc\n'}]",0,815658,1ffbe1a877f662545e544ea9c4e44f205e0b8e28,3,1,1,11975,,,0,"Use admin client to list ports in the test_two_vms_fips test

In that scenario test VMs are spawned by using admin_client because
availability zone for VMs are specified. As VMs are created for the
admin tenant, also admin neutron_client needs to list ports for such
VMs later as regular user will get empty list from neutron.
It happens like that with secure RBAC rules.

Change-Id: I45c5ed434a51b4681a8d93532d5d7ce44079d7cc
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/58/815658/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/admin/test_floatingip.py'],1,1ffbe1a877f662545e544ea9c4e44f205e0b8e28,option-fs020-enable-rbac," client=cls.os_admin.network_client) client=cls.os_admin.network_client), port = self.os_admin.network_client.list_ports("," network_client = cls.os_admin.network_client client=network_client) client=network_client), port = self.client.list_ports(",3,4
openstack%2Fneutron~master~Ia6bce96b41a9a64b05e6333082b8c25a592ef2b2,openstack/neutron,master,Ia6bce96b41a9a64b05e6333082b8c25a592ef2b2,DNM: testing tempest test change,ABANDONED,2021-10-28 18:42:34.000000000,2021-12-15 18:11:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-28 18:42:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8902d4c0cf47ae8e4ef52eacd1f5b7f981776e5', 'message': 'DNM: testing tempest test change\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/811733/3\nChange-Id: Ia6bce96b41a9a64b05e6333082b8c25a592ef2b2\n'}]",3,815898,a8902d4c0cf47ae8e4ef52eacd1f5b7f981776e5,17,1,1,8556,,,0,"DNM: testing tempest test change

Depends-On: https://review.opendev.org/c/openstack/tempest/+/811733/3
Change-Id: Ia6bce96b41a9a64b05e6333082b8c25a592ef2b2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/815898/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a8902d4c0cf47ae8e4ef52eacd1f5b7f981776e5,,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is,1,1
openstack%2Fneutron~master~Ife63830bce870c2459c3480a23158a91649ae047,openstack/neutron,master,Ife63830bce870c2459c3480a23158a91649ae047,Delete stale SNAT gateway device,ABANDONED,2021-11-03 03:59:43.000000000,2021-12-15 18:11:09.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 03:59:43.000000000', 'files': ['neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/agent/l3/namespaces.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e4698ed1579d336fd1c798cfd6f1cbff63705c0', 'message': 'Delete stale SNAT gateway device\n\nDelete stale SNAT gateway device while removing external device.\n\nChange-Id: Ife63830bce870c2459c3480a23158a91649ae047\n'}]",2,816432,4e4698ed1579d336fd1c798cfd6f1cbff63705c0,15,2,1,30744,,,0,"Delete stale SNAT gateway device

Delete stale SNAT gateway device while removing external device.

Change-Id: Ife63830bce870c2459c3480a23158a91649ae047
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/816432/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/router_info.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/agent/l3/namespaces.py']",3,4e4698ed1579d336fd1c798cfd6f1cbff63705c0,,SNAT_INT_DEV_PREFIX = 'sg-',,18,0
openstack%2Fneutron~master~I6812ddd9da524653f2621807423b66d605522d1a,openstack/neutron,master,I6812ddd9da524653f2621807423b66d605522d1a,"Revert ""ovs firewall: fix mac learning on the ingress rule table when ovs offload enabled""",ABANDONED,2021-10-11 11:27:14.000000000,2021-12-15 18:11:04.000000000,,"[{'_account_id': 9845}, {'_account_id': 10366}, {'_account_id': 12171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-11 11:27:14.000000000', 'files': ['releasenotes/notes/fix-mac-learning-in-case--ovs-offload-26193bf1638fd673.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d873e5fe79c6604a2b3c7e755c359fbfbdcca3cb', 'message': 'Revert ""ovs firewall: fix mac learning on the ingress rule table when ovs offload enabled""\n\nThis reverts commit 8fc80b7e132031d18c787b5be582c146d262de74.\n\nChange-Id: I6812ddd9da524653f2621807423b66d605522d1a\nRelated-Bug: #1931696\n'}]",7,813415,d873e5fe79c6604a2b3c7e755c359fbfbdcca3cb,17,4,1,6737,,,0,"Revert ""ovs firewall: fix mac learning on the ingress rule table when ovs offload enabled""

This reverts commit 8fc80b7e132031d18c787b5be582c146d262de74.

Change-Id: I6812ddd9da524653f2621807423b66d605522d1a
Related-Bug: #1931696
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/813415/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-mac-learning-in-case--ovs-offload-26193bf1638fd673.yaml', 'neutron/agent/linux/openvswitch_firewall/firewall.py']",2,d873e5fe79c6604a2b3c7e755c359fbfbdcca3cb,bug/1931696, actions='output:{:d}'.format(port.ofport)," # NOTE: The OUTPUT action is used instead of NORMAL action to reduce # cpu utilization, but it causes the datapath rule to be flood rule. # This is due to mac learning not happened on ingress traffic. # While this is ok for no offload case, in ovs offload flood rule # is not offloaded. Therefore, we change the action to be NORMAL in # offload case. In case the explicitly_egress_direct is used the # pipeline don't contain action NORMAL so we don't have flood rule # issue. actions = 'output:{:d}'.format(port.ofport) if (self.int_br.br.is_hw_offload_enabled and not cfg.CONF.AGENT.explicitly_egress_direct): actions = 'mod_vlan_vid:{:d},normal'.format(port.vlan_tag) actions=actions",1,24
openstack%2Fneutron~master~Iab03c3300a1603e42c16dbcc36035363c8704340,openstack/neutron,master,Iab03c3300a1603e42c16dbcc36035363c8704340,[OVN] Support native DHCP service for subnets without gateway IP,ABANDONED,2020-02-16 10:48:37.000000000,2021-12-15 18:10:58.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 31210}]","[{'number': 1, 'created': '2020-02-16 10:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/420ddb7349c165c6f780b448a4611022d7829cf9', 'message': 'Always create dhcp port when subnet enable dhcp\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen meatadata service is disable.\nnow Create a reserved port as DHCP service IP for subnet without gateway IP,\nwhen meatadata service is disable\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 2, 'created': '2020-02-19 14:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5af471cd25976e3c845ecb2932b07860060b9a3e', 'message': 'Always create dhcp port when subnet enable dhcp\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as DHCP service IP for subnet without gateway IP,\nwhen metadata service is disable\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 3, 'created': '2020-02-19 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b186a3f319c54d8c4bca6b288fc2db217a48577f', 'message': 'Always create dhcp port when subnet enable dhcp\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as DHCP service IP for subnet without gateway IP,\nwhen metadata service is disable\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 4, 'created': '2020-02-25 15:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/210796fcbeefa96e19f076c75297a6132b25d676', 'message': 'create reserved dhcp port when subnet without gateway and dhcp is enabled\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 5, 'created': '2020-02-25 15:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb9c01b238df3e7cfb6d54c4c8eea9ea2d9f33de', 'message': 'create reserved dhcp port when subnet without gateway and dhcp is enabled\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 6, 'created': '2020-02-26 05:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b67e9f335c7a4a9bf72fe64867279b4650d5d9f4', 'message': 'create reserved dhcp port when subnet without gateway and dhcp is enabled\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 7, 'created': '2020-02-26 16:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d393f1c931b0f034eb9ac3d53053f8295cd58f00', 'message': 'create reserved dhcp port when subnet without gateway and dhcp is enabled\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 8, 'created': '2020-03-01 03:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/686246b58fd2cb1c6dba602ead9e67de31fad945', 'message': 'create reserved dhcp port when subnet without gateway and dhcp is enabled\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 9, 'created': '2020-03-02 06:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7edb56ab17cfc4a6c7bb96e0b31f45864b07722', 'message': '[OVN] Support native DHCP service for subnet without gateway IP \n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 10, 'created': '2020-03-02 11:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14a8ecca82354caf6ad0dcb9e0a56d486d0bd3b4', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 11, 'created': '2020-03-04 08:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b60925ff0f1d3810805c8b6d21b0bdfc0e3284cc', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disable.\nnow Create a reserved port as dhcp-server-ip for this case\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 12, 'created': '2020-03-09 01:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b42b1b2590cdfcd4a9c6df6c393670ac741eded', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 13, 'created': '2020-03-10 01:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f1593ebe0f3db3b9684ddf7c94d577c2a8d15cc', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 14, 'created': '2020-03-10 09:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63e65ec5d2504b8751b93e74991febbcd790e1d2', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 15, 'created': '2020-03-12 03:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/107e425821653337689f99b235c4e5f442d94b11', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 16, 'created': '2020-03-17 12:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5edb2a6f2fa4d18f66337330160b9dd2b246d60d', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 17, 'created': '2020-03-17 13:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d691bbf4c0136f63b767aa2cdf91e173ad198474', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 18, 'created': '2020-03-17 13:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d657b147943786b5000eefca25e2aa41cd973133', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 19, 'created': '2020-04-10 07:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acd5507d166e98c79470159d2c87afc420a530b5', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 20, 'created': '2020-04-15 06:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/998a51618a06e4af35d9c9d8f1006072e5fc60ff', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 21, 'created': '2020-04-16 11:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48b8d056d3310a754761a8082df9dc5f8f246a84', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 22, 'created': '2020-04-17 02:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a637b8538ba52d3d39db89450644c2e169e37290', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 23, 'created': '2020-05-06 10:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/269adcb60c05322cdad4d1cf319268aa1b0cc4df', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 24, 'created': '2020-05-07 03:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0a541f4698a5d0dc27d258db2bdf751639d5437', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 25, 'created': '2020-05-12 02:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f26623d0ab80413b01608ccb6412630f2ba263cd', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 26, 'created': '2020-05-12 06:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/658b6ceb57b547f348a0a275159286017a278671', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 27, 'created': '2020-06-01 09:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/139e625de0c5fd5180dbb4e3b11421f8fa393b64', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 28, 'created': '2020-06-02 02:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bda4e7e77055547e231023c689a7d93a5c93b632', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 29, 'created': '2020-06-02 13:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a962f0975407ab612cea9778808e83b91b90313d', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 30, 'created': '2020-06-03 05:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/318cacbc9301a05349367f2bd3c63ae950b99e94', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 31, 'created': '2020-07-20 04:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e6989f7b72c38b2f5ecc4c76a0944f7db36ef82', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 32, 'created': '2020-07-20 06:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b9ce9f6511bfb748e4c740c6faebd92c3bea455', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 33, 'created': '2020-07-21 01:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da1366faa7571fb0a28f23966086768a130d787a', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 34, 'created': '2020-07-21 03:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d00548577fdf06aeb5c317c1e56af494159d3817', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 35, 'created': '2020-07-21 08:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db865b7700e52c050a178774b24f6f7293aea66c', 'message': '[OVN] Support native DHCP service for subnet without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nStarting from now a reserved port for dhcp will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nSigned-off-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}, {'number': 36, 'created': '2021-11-03 20:27:04.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00177e4fdcb001cb3fa90163ca212af8013bfc96', 'message': '[OVN] Support native DHCP service for subnets without gateway IP\n\nCurrently, OVN does not support DHCP for subnet without gateway IP\nwhen metadata service is disabled.\nA port for DHCP server will be created to support this use-case.\n\nChange-Id: Iab03c3300a1603e42c16dbcc36035363c8704340\nCo-authored-by: zhangyuhe <1073258077@qq.com>\nCloses-Bug: #1670666\n'}]",122,708011,00177e4fdcb001cb3fa90163ca212af8013bfc96,197,12,36,31210,,,0,"[OVN] Support native DHCP service for subnets without gateway IP

Currently, OVN does not support DHCP for subnet without gateway IP
when metadata service is disabled.
A port for DHCP server will be created to support this use-case.

Change-Id: Iab03c3300a1603e42c16dbcc36035363c8704340
Co-authored-by: zhangyuhe <1073258077@qq.com>
Closes-Bug: #1670666
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/708011/31 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,420ddb7349c165c6f780b448a4611022d7829cf9,bug/1670666," dhcp_port_ip = self._get_dhcp_port_ip( n_context.get_admin_context(), subnet) service_id = dhcp_port_ip or subnet['gateway_ip'] or metadata_port_ip # When a subnet enable_dhcp is true # and metadata-agent service is disabled, # we should create a reserved dhcp port for DHCP service. self._validate_dhcp_port(subnet) self._validate_dhcp_port(subnet, ovn_subnet) def _get_dhcp_port(self, context, subnet): dhcp_ports = self._plugin.get_ports(context, filters={ 'device_id': [const.DEVICE_ID_RESERVED_DHCP_PORT], 'device_owner': [const.DEVICE_OWNER_DHCP], 'network_id': [subnet['network_id']]}) return dhcp_ports[0] if dhcp_ports else {} def _get_dhcp_port_ip(self, context, subnet): dhcp_port = self._get_dhcp_port(context, subnet) for fixed_ip in dhcp_port.get('fixed_ips', []): if fixed_ip['subnet_id'] == subnet['id']: return fixed_ip['ip_address'] return '' def _validate_dhcp_port(self, subnet, ori_subnet_dhcp_option=None): if not subnet['ip_version'] == const.IP_VERSION_4: return if subnet['enable_dhcp'] and not ori_subnet_dhcp_option: create = True elif not subnet['enable_dhcp'] and ori_subnet_dhcp_option: create = False else: return ctx = n_context.get_admin_context() if self._find_metadata_port(ctx, subnet['network_id']) or \ self._get_dhcp_port_ip(ctx, subnet): return if create: self._create_dhcp_port(ctx, subnet) else: self._delete_dhcp_port(ctx, subnet) def _create_dhcp_port(self, context, subnet): port_dict = { 'tenant_id': subnet['project_id'] if 'project_id'in subnet else '', 'name': const.DEVICE_ID_RESERVED_DHCP_PORT, 'security_groups': [], 'admin_state_up': False, 'device_id': const.DEVICE_ID_RESERVED_DHCP_PORT, 'device_owner': const.DEVICE_OWNER_DHCP, 'network_id': subnet['network_id'], 'mac_address': const.ATTR_NOT_SPECIFIED, 'fixed_ips': [{'subnet_id': subnet['id']}]} try: self._plugin.create_port(context, {'port': port_dict}) except Exception: with excutils.save_and_reraise_exception(): LOG.error('Create DHCP port for subnet %s failed', subnet['id']) def _delete_dhcp_port(self, context, subnet): dhcp_port = self._get_dhcp_port(context, subnet) if dhcp_port: try: self._plugin.delete_port(context, dhcp_port['id']) except Exception: LOG.error('Delete DHCP port %(port)s for ' 'subnet %(subnet)s failed', {'port': dhcp_port['id'], 'subnet': subnet['id']}) ", service_id = subnet['gateway_ip'] or metadata_port_ip,70,1
openstack%2Fneutron~master~I510d7fbf8619abf08427809aa84cff3fb4aeeb2b,openstack/neutron,master,I510d7fbf8619abf08427809aa84cff3fb4aeeb2b,"[WIP][OVS][QoS] Implement QoS for HW offload, min-bw egress",ABANDONED,2021-11-03 17:01:41.000000000,2021-12-15 18:07:19.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-03 17:01:41.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdc330e14e375568c7b0912029ca35df1cc4ef4f', 'message': '[WIP][OVS][QoS] Implement QoS for HW offload, min-bw egress\n\n... that still do not offload OVS metering (QoS rules). We use\n""ip link"" related commands to set the QoS rule on the PF related\nto the port representor.\n\nChange-Id: I510d7fbf8619abf08427809aa84cff3fb4aeeb2b\n'}]",1,816537,cdc330e14e375568c7b0912029ca35df1cc4ef4f,8,2,1,16688,,,0,"[WIP][OVS][QoS] Implement QoS for HW offload, min-bw egress

... that still do not offload OVS metering (QoS rules). We use
""ip link"" related commands to set the QoS rule on the PF related
to the port representor.

Change-Id: I510d7fbf8619abf08427809aa84cff3fb4aeeb2b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/816537/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py'],1,cdc330e14e375568c7b0912029ca35df1cc4ef4f,ovs_qos_hw-offload," self._update_egress_bandwidth_direct( vif_port, 'max_tx_rate', rule.max_kbps) self._update_egress_bandwidth_direct( vif_port, 'max_tx_rate', 0) def _update_egress_bandwidth_direct(self, vif_port, rate_type, rate_kbps): if rate_kbps == 0: # Delete the BW limit. elif 0 < rate_kbps < 1000: rate_mbps = int(rate_kbps / 1000.0) pci_dev_wrapper.set_vf_rate(pr['vfnum'], rate_type, rate_mbps) if port.get('vnic_type') == portbindings.VNIC_DIRECT: self._update_egress_bandwidth_direct( vif_port, 'min_tx_rate', rule.min_kbps) LOG.debug('Minimum bandwidth egress rule was updated/created for ' 'port %s and rule %s.', port['port_id'], rule.id) return vif_port = port.get('vif_port') port = self.ports[port['port_id']].pop( if not port and not vif_port: vif_port = vif_port or port.get('vif_port') if port.get('vnic_type') == portbindings.VNIC_DIRECT: self._update_egress_bandwidth_direct( vif_port, 'min_tx_rate', 0) else: self.br_int.delete_minimum_bandwidth_queue(port['port_id']) LOG.debug(""Minimum bandwidth agress rule was deleted for port: %s."","," self._update_egress_bandwidth_limit_direct(vif_port, rule.max_kbps) self._update_egress_bandwidth_limit_direct(vif_port, 0) def _update_egress_bandwidth_limit_direct(self, vif_port, max_kbps): if max_kbps == 0: # Delete the BW limit. elif 0 < max_kbps < 1000: rate_mbps = int(max_kbps / 1000.0) pci_dev_wrapper.set_vf_rate(pr['vfnum'], 'max_tx_rate', rate_mbps) rule_port = self.ports[port['port_id']].pop( if not rule_port: self.br_int.delete_minimum_bandwidth_queue(port['port_id']) LOG.debug(""Minimum bandwidth rule was deleted for port: %s."",",27,12
openstack%2Fneutron~master~I3c648194bcf773ada826b2392a57c743e3d18ed2,openstack/neutron,master,I3c648194bcf773ada826b2392a57c743e3d18ed2,[WIP][OVS][QoS] Implement QoS for HW offload,ABANDONED,2021-10-21 16:53:18.000000000,2021-12-15 18:07:13.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-21 16:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c5c3ee82a50549fbfe9cf4ab380301d445d3889', 'message': '[WIP][OVS][QoS] Implement QoS for HW offload\n\n... that still do not offload OVS metering (QoS rules). We use\n""ip link"" related commands to set the QoS rule on the PF related\nto the port representor.\n\nChange-Id: I3c648194bcf773ada826b2392a57c743e3d18ed2\n'}, {'number': 2, 'created': '2021-11-03 16:26:29.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0627bd0eac40f13681bbf27f133d60ca078bbae', 'message': '[WIP][OVS][QoS] Implement QoS for HW offload\n\n... that still do not offload OVS metering (QoS rules). We use\n""ip link"" related commands to set the QoS rule on the PF related\nto the port representor.\n\nChange-Id: I3c648194bcf773ada826b2392a57c743e3d18ed2\n'}]",2,815037,f0627bd0eac40f13681bbf27f133d60ca078bbae,12,2,2,16688,,,0,"[WIP][OVS][QoS] Implement QoS for HW offload

... that still do not offload OVS metering (QoS rules). We use
""ip link"" related commands to set the QoS rule on the PF related
to the port representor.

Change-Id: I3c648194bcf773ada826b2392a57c743e3d18ed2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/815037/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/agent/linux/test_utils.py']",3,8c5c3ee82a50549fbfe9cf4ab380301d445d3889,ovs_qos_hw-offload,"from oslo_concurrency import processutilsDEVLINK_OUTPUT = """""" { ""port"": { ""pci/0000:04:00.1/65542"": { ""type"": ""eth"", ""netdev"": ""enp4s0f1_5"", ""flavour"": ""pcivf"", ""pfnum"": 1, ""vfnum"": 5, ""splittable"": false, ""function"": { ""hw_addr"": ""fa:16:3e:f8:7b:10"" } } } } """""" class DevlinkTestCase(base.BaseTestCase): def _clean(self, _privsep_ctx, client_mode): _privsep_ctx.client_mode = client_mode def test_run_iproute_link_no_namespace(self): _privsep_ctx = priv_utils.privileged.default client_mode = _privsep_ctx.client_mode _privsep_ctx.client_mode = False self.addCleanup(self._clean, _privsep_ctx, client_mode) with mock.patch.object(processutils, 'execute', return_value=DEVLINK_OUTPUT): out = priv_utils.devlink_show_port_representor('port_representor') self.assertEqual({'pf_pci': '0000:04:00.1', 'netdev': 'enp4s0f1_5', 'pfnum': 1, 'vfnum': 5}, out)",,102,2
openstack%2Fneutron-fwaas~stable%2Fqueens~I5921d77bf19ac40f32ba4b6e8621177f7846158c,openstack/neutron-fwaas,stable/queens,I5921d77bf19ac40f32ba4b6e8621177f7846158c,Fix networking-l2gw location,ABANDONED,2021-07-01 07:05:39.000000000,2021-12-15 18:07:01.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/53b2a4f954f879bba64ec1879f9c494204357fba', 'message': 'Fix networking-l2gw location\n\nThe goal of this commit is to remove the reference to\nopenstack/networking-l2gw to avoid zuul configuration error [1].\n\nIt is directly proposed to stable/rocky as\nneutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c\n(cherry picked from commit 354d606c60d1e5e40ee287667be415763ad32682)\n'}, {'number': 2, 'created': '2021-07-06 11:31:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/46fe33e7bfeb545b9e8a52a3fdf30f5be9e5792c', 'message': 'Fix networking-l2gw location\n\nThe goal of this commit is to remove the reference to\nopenstack/networking-l2gw to avoid zuul configuration error [1].\n\nIt is directly proposed to stable/rocky as\nneutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.\n\nMove the failing and non-voting jobs to the experimental queue.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c\n(cherry picked from commit 354d606c60d1e5e40ee287667be415763ad32682)\n'}]",5,798987,46fe33e7bfeb545b9e8a52a3fdf30f5be9e5792c,12,2,2,841,,,0,"Fix networking-l2gw location

The goal of this commit is to remove the reference to
openstack/networking-l2gw to avoid zuul configuration error [1].

It is directly proposed to stable/rocky as
neutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.

Move the failing and non-voting jobs to the experimental queue.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c
(cherry picked from commit 354d606c60d1e5e40ee287667be415763ad32682)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/87/798987/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53b2a4f954f879bba64ec1879f9c494204357fba,zuul-fix-queens, - x/networking-l2gw, - openstack/networking-l2gw,1,1
openstack%2Fneutron-fwaas~stable%2Frocky~I5921d77bf19ac40f32ba4b6e8621177f7846158c,openstack/neutron-fwaas,stable/rocky,I5921d77bf19ac40f32ba4b6e8621177f7846158c,Drop neutron-fwaas-networking-midonet-cross-py35 job,ABANDONED,2021-07-01 06:51:47.000000000,2021-12-15 18:06:49.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 06:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/354d606c60d1e5e40ee287667be415763ad32682', 'message': 'Fix networking-l2gw location\n\nThe goal of this commit is to remove the reference to\nopenstack/networking-l2gw to avoid zuul configuration error [1].\n\nIt is directly proposed to stable/rocky as\nneutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c\n'}, {'number': 2, 'created': '2021-07-06 11:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/23c1fe60e5902506dffa807d80cdc469297a50a7', 'message': 'Fix networking-l2gw location\n\nThe goal of this commit is to remove the reference to\nopenstack/networking-l2gw to avoid zuul configuration error [1].\n\nIt is directly proposed to stable/rocky as\nneutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.\n\nMove the failing and non-voting jobs to the experimental queue.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c\n'}, {'number': 3, 'created': '2021-11-17 09:06:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ac67245c13efe12247c5ae65fa1e0a0cbaef4b16', 'message': ""Drop neutron-fwaas-networking-midonet-cross-py35 job\n\nThe goal of this commit is to remove the reference to\nopenstack/networking-l2gw to avoid zuul configuration error [1].\nneutron-fwaas-networking-midonet-cross-py35 job refers to networking-l2gw repo,\nbut stable/rocky of networking-midonet no longer satisfies its requirements\nas neutron-lbaas was retired. The retirement of stable/rocky of\nnetworking-midonet was proposed in [2] and nobody volunteered two months,\nso it will be EOL's soon. Considering them, the midonet-related job\nis droped in this commit.\n\nThe failing and non-voting jobs are moved to the experimental queue to pass the CI.\n\nNote that it is directly proposed to stable/rocky as\nneutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-September/024915.html\n\nChange-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c\n""}]",5,798976,ac67245c13efe12247c5ae65fa1e0a0cbaef4b16,15,2,3,841,,,0,"Drop neutron-fwaas-networking-midonet-cross-py35 job

The goal of this commit is to remove the reference to
openstack/networking-l2gw to avoid zuul configuration error [1].
neutron-fwaas-networking-midonet-cross-py35 job refers to networking-l2gw repo,
but stable/rocky of networking-midonet no longer satisfies its requirements
as neutron-lbaas was retired. The retirement of stable/rocky of
networking-midonet was proposed in [2] and nobody volunteered two months,
so it will be EOL's soon. Considering them, the midonet-related job
is droped in this commit.

The failing and non-voting jobs are moved to the experimental queue to pass the CI.

Note that it is directly proposed to stable/rocky as
neutron-fwaas-networking-midonet-cross-py35 was dropped in stable/stein.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-September/024915.html

Change-Id: I5921d77bf19ac40f32ba4b6e8621177f7846158c
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/76/798976/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,354d606c60d1e5e40ee287667be415763ad32682,zuul-fix-rocky, - x/networking-l2gw, - openstack/networking-l2gw,1,1
openstack%2Ftripleo-heat-templates~master~I5a479c7235d7851a1895446d481a9ae044f9c3b5,openstack/tripleo-heat-templates,master,I5a479c7235d7851a1895446d481a9ae044f9c3b5,Deprecate env/enable-designate in favor of env/services/designate.yaml,MERGED,2021-10-12 14:04:55.000000000,2021-12-15 18:06:44.000000000,2021-12-15 18:04:19.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-12 14:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9a54b12a6423620369265a38167e2acad010344', 'message': 'Deprecate env/enable-designate in favor of env/services/designate.yaml\n\nThe designate environment files predate the move to the separate\nservices directory for service environment files. This patch creates a\ncopy in the standard location and future documentation should reference\nthe new location. The old location should be removed post Xena.\n\nChange-Id: I5a479c7235d7851a1895446d481a9ae044f9c3b5\n'}, {'number': 2, 'created': '2021-11-01 16:51:01.000000000', 'files': ['environments/enable-designate.yaml', 'releasenotes/notes/designate-environment-file-bd08eef69758a996.yaml', 'sample-env-generator/enable-services.yaml', 'environments/services/designate.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fe7045fa0df83d118ff5ffa428553a006170be9', 'message': 'Deprecate env/enable-designate in favor of env/services/designate.yaml\n\nThe designate environment files predate the move to the separate\nservices directory for service environment files. This patch creates a\ncopy in the standard location and future documentation should reference\nthe new location. The old location should be removed post Xena.\n\nChange-Id: I5a479c7235d7851a1895446d481a9ae044f9c3b5\n'}]",5,813656,0fe7045fa0df83d118ff5ffa428553a006170be9,21,4,2,6681,,,0,"Deprecate env/enable-designate in favor of env/services/designate.yaml

The designate environment files predate the move to the separate
services directory for service environment files. This patch creates a
copy in the standard location and future documentation should reference
the new location. The old location should be removed post Xena.

Change-Id: I5a479c7235d7851a1895446d481a9ae044f9c3b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/813656/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/enable-designate.yaml', 'sample-env-generator/enable-services.yaml', 'environments/services/designate.yaml']",3,d9a54b12a6423620369265a38167e2acad010344,,"parameter_defaults: # If True, enable the internal Neutron DNS server that provides name # resolution between VMs. This parameter has no effect if # NeutronDhcpAgentDnsmasqDnsServers is set. # Type: boolean NeutronEnableInternalDNS: True # Comma-separated list of extensions enabled for the Neutron plugin. # Type: comma_delimited_list NeutronPluginExtensions: qos,port_security,dns resource_registry: OS::TripleO::Services::DesignateApi: ../../deployment/designate/designate-api-container-puppet.yaml OS::TripleO::Services::DesignateBind: ../../deployment/designate/designate-bind-container.yaml OS::TripleO::Services::DesignateCentral: ../../deployment/designate/designate-central-container-puppet.yaml OS::TripleO::Services::DesignateMDNS: ../../deployment/designate/designate-mdns-container-puppet.yaml OS::TripleO::Services::DesignateProducer: ../../deployment/designate/designate-producer-container-puppet.yaml OS::TripleO::Services::DesignateWorker: ../../deployment/designate/designate-worker-container-puppet.yaml OS::TripleO::Services::Redis: ../../deployment/database/redis-container-puppet.yaml OS::TripleO::Services::Unbound: ../../deployment/unbound/unbound-container-ansible.yaml ",,23,40
openstack%2Ftripleo-ansible~stable%2Fwallaby~I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5,openstack/tripleo-ansible,stable/wallaby,I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5,tripleo-podman: Enable and start podman.socket,MERGED,2021-12-14 08:25:25.000000000,2021-12-15 18:06:30.000000000,2021-12-15 18:04:22.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-14 08:25:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'releasenotes/notes/tripleo-podman-enable_socket-f93bdaa47f4b01d9.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2d2eac3bb3c7e7707bde8d78e9cb0d487e9e332', 'message': 'tripleo-podman: Enable and start podman.socket\n\nIt might be a good idea to control wether or not the podman.socket\nservice is enabled in case we want to podman --remote.\n\nWe plan on using this in the wrapper services instead of relying on\nnsenter.\n\nCherry-pick included in this patch.\n* https://review.opendev.org/c/openstack/tripleo-ansible/+/817202\n\nChanges which are already cherry-picked:\n* https://review.opendev.org/q/Ifca971e14abb184c4b7b8a0d004e8c2fbd0ecb68\n* https://review.opendev.org/q/Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\n* https://review.opendev.org/q/Ibdf87463d4a86dd225a1f1b89326407628facb65\n\nChange-Id: I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5\n(cherry picked from commit 7f5ecb62b5a353c657c4a0dc056caa35fbb583f7)\n'}]",1,821663,d2d2eac3bb3c7e7707bde8d78e9cb0d487e9e332,17,7,1,12393,,,0,"tripleo-podman: Enable and start podman.socket

It might be a good idea to control wether or not the podman.socket
service is enabled in case we want to podman --remote.

We plan on using this in the wrapper services instead of relying on
nsenter.

Cherry-pick included in this patch.
* https://review.opendev.org/c/openstack/tripleo-ansible/+/817202

Changes which are already cherry-picked:
* https://review.opendev.org/q/Ifca971e14abb184c4b7b8a0d004e8c2fbd0ecb68
* https://review.opendev.org/q/Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
* https://review.opendev.org/q/Ibdf87463d4a86dd225a1f1b89326407628facb65

Change-Id: I52d63d34a9c01bac7e77f2ce9154aa719b4f82b5
(cherry picked from commit 7f5ecb62b5a353c657c4a0dc056caa35fbb583f7)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/821663/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'releasenotes/notes/tripleo-podman-enable_socket-f93bdaa47f4b01d9.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",3,d2d2eac3bb3c7e7707bde8d78e9cb0d487e9e332,cs9-stable/wallaby," - section: engine option: infra_image value: ""\""{{ tripleo_container_default_infra_image }}\"""" - name: Enable podman.socket service when: - tripleo_podman_enable_socket | bool systemd: name: podman.socket state: started enabled: true",,18,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I912e4d0b1e3f604997c283bf466654c40fd7c57d,openstack/tripleo-heat-templates,stable/wallaby,I912e4d0b1e3f604997c283bf466654c40fd7c57d,set manila context-is-admin policy rule for secure-rbac,MERGED,2021-12-07 18:01:52.000000000,2021-12-15 18:02:43.000000000,2021-12-15 18:02:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-07 18:01:52.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14a0a07d4c72ee6b56e2851aefaffcb4118d1179', 'message': 'set manila context-is-admin policy rule for secure-rbac\n\nIn Triple-O, secure rbac overrides ensure that all service API\nand resource RBAC policies do not enforce scope checks;\nmanila\'s ""context_is_admin"" rule is used by manila as a short\nhand for checking the admin role in most ""system"" level operations.\n\nSince tripleo deployments won\'t be enforcing scope yet, this\npolicy rule must be overridden to allow users with the admin role.\n\nChange-Id: I912e4d0b1e3f604997c283bf466654c40fd7c57d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 7e1ee75118146ba86ed106eb27cfb4f7e36852f7)\n'}]",0,820885,14a0a07d4c72ee6b56e2851aefaffcb4118d1179,9,3,1,16643,,,0,"set manila context-is-admin policy rule for secure-rbac

In Triple-O, secure rbac overrides ensure that all service API
and resource RBAC policies do not enforce scope checks;
manila's ""context_is_admin"" rule is used by manila as a short
hand for checking the admin role in most ""system"" level operations.

Since tripleo deployments won't be enforcing scope yet, this
policy rule must be overridden to allow users with the admin role.

Change-Id: I912e4d0b1e3f604997c283bf466654c40fd7c57d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 7e1ee75118146ba86ed106eb27cfb4f7e36852f7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/820885/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,14a0a07d4c72ee6b56e2851aefaffcb4118d1179,secure-rbac," value: ""role:admin"""," value: ""rule:system-admin""",1,1
openstack%2Ftripleo-heat-templates~master~I0a0bd4a353bdc35698444b72f093cce176bbe5a0,openstack/tripleo-heat-templates,master,I0a0bd4a353bdc35698444b72f093cce176bbe5a0,Make tools scripts executable,MERGED,2021-12-06 16:12:09.000000000,2021-12-15 18:01:59.000000000,2021-12-15 18:01:59.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-06 16:12:09.000000000', 'files': ['tools/convert_heat_nic_config_to_ansible_j2.py', 'tools/convert_v1_net_data.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a77d5ebde2f72366ba1bce6859b7d4034ddc414c', 'message': 'Make tools scripts executable\n\nSet +x permission on files:\n * tools/convert_heat_nic_config_to_ansible_j2.py\n * tools/convert_v1_net_data.py\n\nOther python scripts have the executable permission set.\nAlign the two scripts with the rest.\n\nChange-Id: I0a0bd4a353bdc35698444b72f093cce176bbe5a0\n'}]",2,820548,a77d5ebde2f72366ba1bce6859b7d4034ddc414c,11,6,1,24245,,,0,"Make tools scripts executable

Set +x permission on files:
 * tools/convert_heat_nic_config_to_ansible_j2.py
 * tools/convert_v1_net_data.py

Other python scripts have the executable permission set.
Align the two scripts with the rest.

Change-Id: I0a0bd4a353bdc35698444b72f093cce176bbe5a0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/820548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/convert_heat_nic_config_to_ansible_j2.py', 'tools/convert_v1_net_data.py']",2,a77d5ebde2f72366ba1bce6859b7d4034ddc414c,executable-tools-scripts,,,0,0
openstack%2Ftripleo-heat-templates~master~I18acd8da7913e2136bfa67c858381ede6c1e3d24,openstack/tripleo-heat-templates,master,I18acd8da7913e2136bfa67c858381ede6c1e3d24,Assign project-scoped service role for token validation,MERGED,2021-11-25 04:14:40.000000000,2021-12-15 18:01:54.000000000,2021-12-15 18:01:54.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-25 04:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d563f24be0785bb92e827fec0439b388c4c9b415', 'message': 'Assign project-scoped service role for token validation\n\nWhen SRBAC is enforced(*1), keystone requires one of the following\nconditions for validate token api.\n 1) The user has the service role assigned\n 2) The user is a system reader\n 3) The user generated the token\n\nWhen authtoken middleware validates tokens in requests, it uses service\nusers to call the validate_token API of Keystone. In this case\nthe condition 3 is never met(The token is generated by an external user\nwhile it is validated by the service user used in API). In addition,\ncurrently all credentials used for authtoken middleware are\nproject-scoped, not system-scoped, so condition 2 is never met(*2) if\nSRBAC is enforced.\n\nThis change adds the project-scoped service role to all service\nusers so that all service users can use the validate_token API even\nif SRBAC is enforced. An alternative approach would be assign\nthe system-scoped reader role for these users and replace credentials\nfor authtoken middleware by system scoped one, but we are likely to\nneed additional considerations to establish proper design of\nsystem-scoped role assignment.\n\n(*1)\nWhen scope evaluation is enforced(enforce_scope=True) and new rules\nare enforced(enforce_new_defaults=True)\n\n(*2)\nThere are a few exceptions like the nova user which already have\nthe project-scoped service roles to use the service token feature.\n\nChange-Id: I18acd8da7913e2136bfa67c858381ede6c1e3d24\n'}, {'number': 2, 'created': '2021-11-25 04:16:33.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b80985e56bc0d42170d15c03154241bee95b740', 'message': 'Assign project-scoped service role for token validation\n\nWhen SRBAC is enforced(*1), keystone requires one of the following\nconditions for validate token api.\n 1) The user has the service role assigned\n 2) The user is a system reader\n 3) The user generated the token\n\nWhen authtoken middleware validates tokens in requests, it uses service\nusers to call the validate_token API of Keystone. In this case\nthe condition 3 is never met(The token is generated by an external user\nwhile it is validated by the service user used in API). In addition,\ncurrently all credentials used for authtoken middleware are\nproject-scoped, not system-scoped, so condition 2 is never met(*2) if\nSRBAC is enforced.\n\nThis change adds the project-scoped service role to all service\nusers so that all service users can use the validate_token API even\nif SRBAC is enforced. An alternative approach would be assign\nthe system-scoped reader role for these users and replace credentials\nfor authtoken middleware by system scoped one, but we are likely to\nneed additional considerations to establish proper design of\nsystem-scoped role assignment.\n\n(*1)\nWhen scope evaluation is enforced(enforce_scope=True) and new rules\nare enforced(enforce_new_defaults=True)\n\n(*2)\nThere are a few exceptions like the nova user which already have\nthe project-scoped service role to use the service token feature.\n\nChange-Id: I18acd8da7913e2136bfa67c858381ede6c1e3d24\n'}]",2,819250,3b80985e56bc0d42170d15c03154241bee95b740,11,4,2,9816,,,0,"Assign project-scoped service role for token validation

When SRBAC is enforced(*1), keystone requires one of the following
conditions for validate token api.
 1) The user has the service role assigned
 2) The user is a system reader
 3) The user generated the token

When authtoken middleware validates tokens in requests, it uses service
users to call the validate_token API of Keystone. In this case
the condition 3 is never met(The token is generated by an external user
while it is validated by the service user used in API). In addition,
currently all credentials used for authtoken middleware are
project-scoped, not system-scoped, so condition 2 is never met(*2) if
SRBAC is enforced.

This change adds the project-scoped service role to all service
users so that all service users can use the validate_token API even
if SRBAC is enforced. An alternative approach would be assign
the system-scoped reader role for these users and replace credentials
for authtoken middleware by system scoped one, but we are likely to
need additional considerations to establish proper design of
system-scoped role assignment.

(*1)
When scope evaluation is enforced(enforce_scope=True) and new rules
are enforced(enforce_new_defaults=True)

(*2)
There are a few exceptions like the nova user which already have
the project-scoped service role to use the service token feature.

Change-Id: I18acd8da7913e2136bfa67c858381ede6c1e3d24
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/819250/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",14,d563f24be0785bb92e827fec0439b388c4c9b415,secure-rbac, roles: - admin - service,,43,0
openstack%2Ftripleo-heat-templates~master~I1bf20e061901ebfe64813892a62848e0bfb62b86,openstack/tripleo-heat-templates,master,I1bf20e061901ebfe64813892a62848e0bfb62b86,Use EnableInternalTLS to set pssl in nb and sb,MERGED,2021-09-30 23:32:16.000000000,2021-12-15 17:58:45.000000000,2021-12-15 17:58:45.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-30 23:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a137f7071955aca9930d9453d540d9b2d491d434', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes from EnableInternalTLS from false to true, ovn\nsb and nb listening ports remain in ptcp when they should be changed\nto pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n'}, {'number': 2, 'created': '2021-09-30 23:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c92057f5348433019c6b070275bc4731f9f66f6e', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes from EnableInternalTLS from false to true, ovn\nsb and nb listening ports remain in ptcp when they should be changed\nto pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n'}, {'number': 3, 'created': '2021-09-30 23:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11b2e4792cb144422995d7f17c86e4b3ff438f42', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes from EnableInternalTLS from false to true, ovn\nsb and nb listening ports remain in ptcp when they should be changed\nto pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n'}, {'number': 4, 'created': '2021-09-30 23:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd9849ec9134be2f7a1f55d71c28188740e02857', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes from EnableInternalTLS from false to true, ovn\nsb and nb listening ports remain in ptcp when they should be changed\nto pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n'}, {'number': 5, 'created': '2021-09-30 23:54:49.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a43e8a30704692f3eb184cce694dec52ed77635', 'message': 'Use EnableInternalTLS to set pssl in nb and sb\n\nIf a user changes EnableInternalTLS from false to true on an existing\ndeployment, ovn sb and nb listening ports remain in ptcp when they\nshould be changed to pssl.\n\nChange-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86\n'}]",6,812094,5a43e8a30704692f3eb184cce694dec52ed77635,18,8,5,7130,,,0,"Use EnableInternalTLS to set pssl in nb and sb

If a user changes EnableInternalTLS from false to true on an existing
deployment, ovn sb and nb listening ports remain in ptcp when they
should be changed to pssl.

Change-Id: I1bf20e061901ebfe64813892a62848e0bfb62b86
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/812094/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,a137f7071955aca9930d9453d540d9b2d491d434,pssl," EnableInternalTLS: type: boolean default: false enable_internal_tls: {equals: [{get_param: EnableInternalTLS}, 'True']} command: - ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection'] - if: - enable_internal_tls - ['pssl:$NB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] command: - ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection'] - if: - enable_internal_tls - ['pssl:$SB_DB_PORT:$DBS_LISTEN_IP'] - ['ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']"," command: ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] command: ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']",16,2
openstack%2Ftripleo-quickstart-extras~master~Ie479f52fb2cdca1220a60f03440393b9b010f27f,openstack/tripleo-quickstart-extras,master,Ie479f52fb2cdca1220a60f03440393b9b010f27f,Downgrade pcs to 0.10.11-1 version in upgrade,MERGED,2021-12-14 12:37:48.000000000,2021-12-15 17:58:43.000000000,2021-12-15 17:58:43.000000000,"[{'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-12-14 12:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4097b5914c38b97f744d929d42160689344dac4b', 'message': 'Downgrade pcs to 0.10.11-1 version in upgrade\n\nThe last known good version is 0.10.11-1 and we need to provide it\nin dnf downgrade package command.\nThis patch will be reverted as soon we have a new pcs version that\nworks with upgrade workflow.\n\nRelated-Bug: #1953326\nChange-Id: Ie479f52fb2cdca1220a60f03440393b9b010f27f\n'}, {'number': 2, 'created': '2021-12-14 14:38:45.000000000', 'files': ['roles/standalone-upgrade/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c128e21b032219f12ed14809dddde35a5b996bed', 'message': 'Downgrade pcs to 0.10.11-1 version in upgrade\n\nThe last known good version is 0.10.11-1 and we need to provide it\nin dnf downgrade package command.\nThis patch will be reverted as soon we have a new pcs version that\nworks with upgrade workflow.\n\nRelated-Bug: #1953326\nChange-Id: Ie479f52fb2cdca1220a60f03440393b9b010f27f\n'}]",9,821699,c128e21b032219f12ed14809dddde35a5b996bed,23,5,2,30002,,,0,"Downgrade pcs to 0.10.11-1 version in upgrade

The last known good version is 0.10.11-1 and we need to provide it
in dnf downgrade package command.
This patch will be reverted as soon we have a new pcs version that
works with upgrade workflow.

Related-Bug: #1953326
Change-Id: Ie479f52fb2cdca1220a60f03440393b9b010f27f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/99/821699/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone-upgrade/tasks/main.yml'],1,4097b5914c38b97f744d929d42160689344dac4b,bug/1953326,# For now pcs-0.10.11-1 is the last known good version dnf downgrade pcs-0.10.11-1 -y;, dnf downgrade pcs -y;,2,1
openstack%2Ftripleo-ci~master~I82cc78d6be01116549301d572c91899e9e241e95,openstack/tripleo-ci,master,I82cc78d6be01116549301d572c91899e9e241e95,Add wallaby fixes for c9 patch backports,MERGED,2021-12-14 22:09:57.000000000,2021-12-15 17:52:19.000000000,2021-12-15 17:52:19.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-12-14 22:09:57.000000000', 'files': ['roles/build-containers/templates/tripleo-build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c232a92f9b62be3f8b6a29e77063fdb3ca61e0b', 'message': 'Add wallaby fixes for c9 patch backports\n\nChange-Id: I82cc78d6be01116549301d572c91899e9e241e95\n'}]",2,821778,7c232a92f9b62be3f8b6a29e77063fdb3ca61e0b,12,9,1,9976,,,0,"Add wallaby fixes for c9 patch backports

Change-Id: I82cc78d6be01116549301d572c91899e9e241e95
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/821778/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/tripleo-build.sh.j2'],1,7c232a92f9b62be3f8b6a29e77063fdb3ca61e0b,wallaby-fix,"{% if release|default(branch) not in [""train"", ""ussuri"", ""victoria""] %}","{% if release|default(branch) not in [""train"", ""ussuri"", ""victoria"", ""wallaby""] %}",1,1
openstack%2Ftripleo-quickstart-extras~master~I6bcfe9bb47697f945384b945290e165085a4d51b,openstack/tripleo-quickstart-extras,master,I6bcfe9bb47697f945384b945290e165085a4d51b,Bump Ceph container daemons to v6.0.6,MERGED,2021-12-13 09:32:00.000000000,2021-12-15 17:52:17.000000000,2021-12-15 17:52:17.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-12-13 09:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/314622078ff39b84614736dc9b436a9f42fee6d2', 'message': 'Bump Ceph container daemons to v6.0.6\n\nThe stable Ceph containers v16.2.7 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.6 for the daemon images).\n\nChange-Id: I6bcfe9bb47697f945384b945290e165085a4d51b\n'}, {'number': 2, 'created': '2021-12-13 09:33:26.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8b4ecadf921d3ee68947a0ab69e6fe1b28d0169c', 'message': 'Bump Ceph container daemons to v6.0.6\n\nThe stable Ceph containers v16.2.7 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.6 for the daemon images).\n\nDepends-On: I2e26e1d938d47230b31eb116cbea6f6656b4aad2\nChange-Id: I6bcfe9bb47697f945384b945290e165085a4d51b\n'}]",2,821538,8b4ecadf921d3ee68947a0ab69e6fe1b28d0169c,13,6,2,25402,,,0,"Bump Ceph container daemons to v6.0.6

The stable Ceph containers v16.2.7 are now released.
This change aligns the new tag with the latest released stable
content (which is v6.0.6 for the daemon images).

Depends-On: I2e26e1d938d47230b31eb116cbea6f6656b4aad2
Change-Id: I6bcfe9bb47697f945384b945290e165085a4d51b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/821538/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,314622078ff39b84614736dc9b436a9f42fee6d2,cephadm_container_promotion, v6.0.6-stable-6.0-pacific-centos-8-x86_64, v6.0.4-stable-6.0-pacific-centos-8-x86_64,1,1
openstack%2Fbarbican~stable%2Ftrain~Ie0e6f6edae40e47d45afbe92fd509032cb091b1a,openstack/barbican,stable/train,Ie0e6f6edae40e47d45afbe92fd509032cb091b1a,Fix policy for Orders,MERGED,2021-12-15 13:59:16.000000000,2021-12-15 16:06:58.000000000,2021-12-15 16:04:35.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 13:59:16.000000000', 'files': ['barbican/common/policies/orders.py', 'barbican/api/controllers/orders.py', 'barbican/tests/api/test_resources_policy.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0e526998303ec7fa8e653a4a3424ccb09e6b94e0', 'message': 'Fix policy for Orders\n\nThis patch adds checks to make sure that the project_id of the token\nmatches the project_id that owns the Order.\n\nCurrently, having a role on any project will allow the request to be\nprocessed, which results in a 404 - Not Found instead of 401 -\nForbidden.\n\nChange-Id: Ie0e6f6edae40e47d45afbe92fd509032cb091b1a\n(cherry picked from commit 5d81a3c4531f1179bcac69c4b10542da04822f8b)\n(cherry picked from commit 382b5086a2723da8f8d0a07d263ee47a9c6df5e7)\n(cherry picked from commit ea7451e32caa7863d6e511a39a508e54c60113a7)\n(cherry picked from commit 85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e)\n(cherry picked from commit 93c5636f9c549797d95f69db89673c73f8a1b994)\n'}]",0,821768,0e526998303ec7fa8e653a4a3424ccb09e6b94e0,7,2,1,7973,,,0,"Fix policy for Orders

This patch adds checks to make sure that the project_id of the token
matches the project_id that owns the Order.

Currently, having a role on any project will allow the request to be
processed, which results in a 404 - Not Found instead of 401 -
Forbidden.

Change-Id: Ie0e6f6edae40e47d45afbe92fd509032cb091b1a
(cherry picked from commit 5d81a3c4531f1179bcac69c4b10542da04822f8b)
(cherry picked from commit 382b5086a2723da8f8d0a07d263ee47a9c6df5e7)
(cherry picked from commit ea7451e32caa7863d6e511a39a508e54c60113a7)
(cherry picked from commit 85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e)
(cherry picked from commit 93c5636f9c549797d95f69db89673c73f8a1b994)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/68/821768/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/orders.py', 'barbican/api/controllers/orders.py', 'barbican/tests/api/test_resources_policy.py']",3,0e526998303ec7fa8e653a4a3424ccb09e6b94e0,," self._invoke_on_get, project_id=self.external_project_id) order = mock.MagicMock() order.id = self.order_id order.project.external_id = self.external_project_id order.creator_id = 'CRE-A-TOR-UUID' mock_to_dict = mock.MagicMock() mock_to_dict.side_effect = self._generate_get_error() order.to_dict_fields = mock_to_dict self.resource = OrderResource(order) self._invoke_on_get, project_id=self.external_project_id) self._assert_pass_rbac(['admin'], self._invoke_on_delete, project_id=self.external_project_id)"," self._invoke_on_get) self.resource = OrderResource(self.order_id) self._invoke_on_get) self._assert_pass_rbac(['admin'], self._invoke_on_delete)",23,6
openstack%2Fcharms.ceph~master~I777650ae2194609a95e5cfb101e343824b3d0a34,openstack/charms.ceph,master,I777650ae2194609a95e5cfb101e343824b3d0a34,Stop setting default capabilities in get_named_key.,MERGED,2021-12-10 14:02:08.000000000,2021-12-15 15:54:28.000000000,2021-12-15 15:54:28.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 14:02:08.000000000', 'files': ['charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/d364605a49b088d932178e23566aa405315ea9f3', 'message': 'Stop setting default capabilities in get_named_key.\n\nWhen get_named_key is called on a keyring that\nhas customised capabilities, it overwrites the\ncapabilities to the default capabilities.\n\nChange-Id: I777650ae2194609a95e5cfb101e343824b3d0a34\n'}]",0,821405,d364605a49b088d932178e23566aa405315ea9f3,6,2,1,20634,,,0,"Stop setting default capabilities in get_named_key.

When get_named_key is called on a keyring that
has customised capabilities, it overwrites the
capabilities to the default capabilities.

Change-Id: I777650ae2194609a95e5cfb101e343824b3d0a34
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/05/821405/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,d364605a49b088d932178e23566aa405315ea9f3,,," # NOTE(jamespage); # Apply any changes to key capabilities, dealing with # upgrades which requires new caps for operation. upgrade_key_caps(key_name, caps or _default_caps, pool_list)",0,6
openstack%2Fnova~stable%2Fwallaby~Ie3129ee395427337e9abcef2f938012608f643e1,openstack/nova,stable/wallaby,Ie3129ee395427337e9abcef2f938012608f643e1,Ensure MAC addresses characters are in the same case,MERGED,2021-11-07 23:11:54.000000000,2021-12-15 15:23:29.000000000,2021-12-15 15:21:24.000000000,"[{'_account_id': 4690}, {'_account_id': 7130}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-07 23:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b815f260371fb8d91b2bf90be2c00d2cc1c1165', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n""}, {'number': 2, 'created': '2021-11-30 13:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a4280bf21b577e59f475b244ae67f0eeb225933', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n""}, {'number': 3, 'created': '2021-12-10 18:37:51.000000000', 'files': ['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6c3d5de659e558e8f6ee353475b54ff3ca7240ee', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n""}]",25,816883,6c3d5de659e558e8f6ee353475b54ff3ca7240ee,106,10,3,7130,,,0,"Ensure MAC addresses characters are in the same case

Currently neutron can report ports to have MAC addresses
in upper case when they're created like that. In the meanwhile
libvirt configuration file always stores MAC in lower case
which leads to KeyError while trying to retrieve migrate_vif.

Closes-Bug: #1945646
Change-Id: Ie3129ee395427337e9abcef2f938012608f643e1
(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)
(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/816883/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py']",2,1b815f260371fb8d91b2bf90be2c00d2cc1c1165,bug/1945646," self.assertIn(""ca:fe:de:ad:be:ef"", str(ex)) def test_update_vif_xml_lower_case_mac(self): """"""Tests that the vif in the migrate data is not found in the existing guest interfaces. """""" conf = vconfig.LibvirtConfigGuestInterface() conf.net_type = ""bridge"" conf.source_dev = ""qbra188171c-ea"" conf.target_dev = ""tapa188171c-ea"" conf.mac_addr = ""DE:AD:BE:EF:CA:FE"" conf.model = ""virtio"" original_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""de:ad:be:ef:ca:fe""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <virtualport type=""openvswitch""> <parameters interfaceid=""%s""/> </virtualport> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" % uuids.ovs expected_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" self._test_update_vif_xml(conf, original_xml, expected_xml)"," self.assertIn(""CA:FE:DE:AD:BE:EF"", str(ex))",51,3
openstack%2Freleases~master~I554ef91c88636df51baad1efb1d0effcdd146d81,openstack/releases,master,I554ef91c88636df51baad1efb1d0effcdd146d81,Release neutron-lib 2.18.0,MERGED,2021-12-15 12:15:27.000000000,2021-12-15 15:17:38.000000000,2021-12-15 15:17:38.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-15 12:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/563518e84711adad7c51e167bbbcd385c7128e58', 'message': 'Release neutron-lib 2.18.0\n\nIncluded commits:\n6a922e4 Allow to pass custom reason in NetworkInUse exception\n48345c6 Merge ""Replace ""target_tenant"" with ""target_project"" in RBAC\n        OVOs and models""\n4807bac Add new method ""update_network"" to ""L3AgentExtension"".\n4d44f54 Replace ""target_tenant"" with ""target_project"" in RBAC OVOs and\n        models\nfab7a88 Merge ""Exception for BFD: BfdMonitorInUse""\nb96bf2a Merge ""Add floating IP network QoS field to floating IP\n        definition""\na27c590 Merge ""Add oneline_string validators""\na3b564d Exception for BFD: BfdMonitorInUse\n0b13456 Merge ""Rehome QoS floating IP extension""\n8736420 Rehome QoS floating IP extension\nf9497ac Add floating IP network QoS field to floating IP definition\nd2bd776 Make update_qos_minbw_allocation() more generic\n\nChange-Id: I554ef91c88636df51baad1efb1d0effcdd146d81\n'}, {'number': 2, 'created': '2021-12-15 12:17:21.000000000', 'files': ['deliverables/yoga/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/81c625b4eee7386f563d0cd91a03257a0796ff19', 'message': 'Release neutron-lib 2.18.0\n\nIncluded commits:\n6a922e4 Allow to pass custom reason in NetworkInUse exception\n4807bac Add new method ""update_network"" to ""L3AgentExtension"".\n4d44f54 Replace ""target_tenant"" with ""target_project"" in RBAC OVOs and\n        models\na3b564d Exception for BFD: BfdMonitorInUse\n8736420 Rehome QoS floating IP extension\nf9497ac Add floating IP network QoS field to floating IP definition\nd2bd776 Make update_qos_minbw_allocation() more generic\n\nChange-Id: I554ef91c88636df51baad1efb1d0effcdd146d81\n'}]",1,821835,81c625b4eee7386f563d0cd91a03257a0796ff19,12,7,2,16688,,,0,"Release neutron-lib 2.18.0

Included commits:
6a922e4 Allow to pass custom reason in NetworkInUse exception
4807bac Add new method ""update_network"" to ""L3AgentExtension"".
4d44f54 Replace ""target_tenant"" with ""target_project"" in RBAC OVOs and
        models
a3b564d Exception for BFD: BfdMonitorInUse
8736420 Rehome QoS floating IP extension
f9497ac Add floating IP network QoS field to floating IP definition
d2bd776 Make update_qos_minbw_allocation() more generic

Change-Id: I554ef91c88636df51baad1efb1d0effcdd146d81
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/821835/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/neutron-lib.yaml'],1,563518e84711adad7c51e167bbbcd385c7128e58,neutron_lib_2_18_0, - version: 2.18.0 projects: - repo: openstack/neutron-lib hash: 6a922e45b0be869a22f43609178e77ba0252f6ea,,4,0
openstack%2Frally-openstack~master~I7e64ae2bf955cb2b9c66b7466b155f07b402bd24,openstack/rally-openstack,master,I7e64ae2bf955cb2b9c66b7466b155f07b402bd24,Multiple fixes for CI,MERGED,2021-12-14 15:48:13.000000000,2021-12-15 14:46:57.000000000,2021-12-15 14:46:57.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 15:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4356a978fb0db3848a38bc84ec2e25934c484f7a', 'message': 'Multiple fixes for CI\n\nChange-Id: I7e64ae2bf955cb2b9c66b7466b155f07b402bd24\n'}, {'number': 2, 'created': '2021-12-15 10:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ae43c47dab83c5377c54731f20dc42f606ab6efd', 'message': 'Multiple fixes for CI\n\nChange-Id: I7e64ae2bf955cb2b9c66b7466b155f07b402bd24\n'}, {'number': 3, 'created': '2021-12-15 11:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/772d8004808bbcd8828dc1fe66ac8e6bd7767313', 'message': 'Multiple fixes for CI\n\nChange-Id: I7e64ae2bf955cb2b9c66b7466b155f07b402bd24\n'}, {'number': 4, 'created': '2021-12-15 12:23:13.000000000', 'files': ['tests/unit/common/services/storage/test_cinder_v1.py', 'tests/unit/task/scenarios/nova/test_agents.py', 'rally_openstack/common/services/storage/cinder_v1.py', 'rally-jobs/extra/server_with_volume.yaml.template', '.zuul.d/rally-task-watcher.yaml', 'samples/tasks/scenarios/nova/list-agents.json', 'tests/unit/task/scenarios/manila/test_utils.py', '.zuul.d/zuul.yaml', 'rally_openstack/task/scenarios/nova/agents.py', 'rally-jobs/keystone-glance-swift.yaml', 'rally_openstack/common/services/storage/cinder_common.py', 'rally-jobs/nova.yaml', 'rally_openstack/task/scenarios/cinder/volume_types.py', 'CHANGELOG.rst', 'tests/unit/task/scenarios/cinder/test_volume_types.py', 'rally-jobs/extra/autoscaling_group.yaml.template', 'rally-jobs/senlin.yaml', 'samples/tasks/scenarios/nova/list-agents.yaml', 'rally-jobs/extra/resource_group_server_with_volume.yaml.template', 'tests/unit/common/services/storage/test_cinder_common.py', 'rally-jobs/extra/server_with_ports.yaml.template', 'rally_openstack/task/scenarios/manila/utils.py', '.zuul.d/rally-task-zaqar.yaml', 'rally-jobs/basic-with-existing-users.yaml', 'rally_openstack/common/services/storage/block.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/db87d7f218555f41cc743f249e7ba02b353f0a09', 'message': 'Multiple fixes for CI\n\nChange-Id: I7e64ae2bf955cb2b9c66b7466b155f07b402bd24\n'}]",0,821721,db87d7f218555f41cc743f249e7ba02b353f0a09,11,2,4,9545,,,0,"Multiple fixes for CI

Change-Id: I7e64ae2bf955cb2b9c66b7466b155f07b402bd24
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/21/821721/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/task/scenarios/nova/test_agents.py', 'rally-jobs/extra/autoscaling_group.yaml.template', 'rally-jobs/extra/server_with_volume.yaml.template', 'rally-jobs/senlin.yaml', 'samples/tasks/scenarios/nova/list-agents.yaml', 'rally-jobs/extra/resource_group_server_with_volume.yaml.template', 'rally-jobs/extra/server_with_ports.yaml.template', '.zuul.d/rally-task-watcher.yaml', 'rally_openstack/task/scenarios/manila/utils.py', 'samples/tasks/scenarios/nova/list-agents.json', '.zuul.d/rally-task-zaqar.yaml', 'tests/unit/task/scenarios/manila/test_utils.py', '.zuul.d/zuul.yaml', 'rally-jobs/basic-with-existing-users.yaml', 'rally_openstack/task/scenarios/nova/agents.py', 'rally-jobs/keystone-glance-swift.yaml', 'rally-jobs/nova.yaml', 'rally_openstack/task/scenarios/cinder/volume_types.py', 'CHANGELOG.rst', 'tests/unit/task/scenarios/cinder/test_volume_types.py']",20,4356a978fb0db3848a38bc84ec2e25934c484f7a,restore_ci," def test_create_and_update_volume_type(self): mock_service = self.mock_cinder.return_value mock_service.create_volume_type.return_value = fake_type mock_service.create_volume_type.assert_called_once_with( mock_service.update_volume_type.assert_called_once_with( def test_create_volume_type_add_and_list_type_access(self): mock_service = self.mock_cinder.return_value mock_service.create_volume_type.return_value = fake_type mock_service.create_volume_type.assert_called_once_with( mock_service.add_type_access.assert_called_once_with( fake_type, project=""fake"") mock_service.list_type_access.assert_called_once_with(fake_type)","CINDER_V2_PATH = (""rally_openstack.common.services.storage"" "".cinder_v2.CinderV2Service"") @mock.patch(""%s.create_volume_type"" % CINDER_V2_PATH) @mock.patch(""%s.update_volume_type"" % CINDER_V2_PATH) def test_create_and_update_volume_type(self, mock_update_volume_type, mock_create_volume_type): mock_create_volume_type.return_value = fake_type mock_create_volume_type.assert_called_once_with( mock_update_volume_type.assert_called_once_with( @mock.patch(""%s.list_type_access"" % CINDER_V2_PATH) @mock.patch(""%s.add_type_access"" % CINDER_V2_PATH) @mock.patch(""%s.create_volume_type"" % CINDER_V2_PATH) def test_create_volume_type_add_and_list_type_access( self, mock_create_volume_type, mock_add_type_access, mock_list_type_access): mock_create_volume_type.return_value = fake_type mock_create_volume_type.assert_called_once_with( mock_add_type_access.assert_called_once_with(fake_type, project=""fake"") mock_list_type_access.assert_called_once_with(fake_type)",68,170
openstack%2Fnova~master~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,master,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-06 16:15:50.000000000,2021-12-15 13:42:26.000000000,2021-12-15 13:32:58.000000000,"[{'_account_id': 7166}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 33608}]","[{'number': 1, 'created': '2021-12-06 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ea8787daf8430911a3fc5a792157e2893b5d3eb', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\n'}, {'number': 2, 'created': '2021-12-07 12:32:34.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32c1044d86a8d02712c8e3abdf8b3e4cff234a9c', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n'}]",12,820549,32c1044d86a8d02712c8e3abdf8b3e4cff234a9c,26,4,2,9708,,,0,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/820549/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py']",2,4ea8787daf8430911a3fc5a792157e2893b5d3eb,bug/1953359," # Check for tracked instances with in-progress, incoming, but not # finished migrations. For those instance the migration context # is not applied yet (it will be during finish_resize when the # migration goes to finished state). We need to manually and # temporary apply the migration context here when the resource usage is # updated. See bug 1953359 for more details. instance_by_uuid = {instance.uuid: instance for instance in instances} for migration in migrations: if ( migration.instance_uuid in instance_by_uuid and migration.dest_compute == self.host and migration.dest_node == nodename ): # we does not check for the 'post-migrating' migration status # as applying the migration context for an instance already # in finished migration status is a no-op anyhow. instance = instance_by_uuid[migration.instance_uuid] LOG.debug( 'Applying migration context for instance %s as it has an ' 'incoming, in-progress migration %s. ' 'Migration status is %s', migration.instance_uuid, migration.uuid, migration.status ) # It is OK not to revert the migration context at the end of # the periodic as the instance is not saved during the periodic instance.apply_migration_context() # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) "," # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) ",45,13
openstack%2Fosc-lib~master~Ia1659dec8b6b7f683704c2ad33c91f0219276345,openstack/osc-lib,master,Ia1659dec8b6b7f683704c2ad33c91f0219276345,Add Python3 yoga unit tests,MERGED,2021-09-10 14:35:54.000000000,2021-12-15 13:39:41.000000000,2021-12-15 13:27:43.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:35:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/58eff5e7f99b648d8b8dff66f607e4698ac8e711', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia1659dec8b6b7f683704c2ad33c91f0219276345\n'}]",0,808368,58eff5e7f99b648d8b8dff66f607e4698ac8e711,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia1659dec8b6b7f683704c2ad33c91f0219276345
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/68/808368/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,58eff5e7f99b648d8b8dff66f607e4698ac8e711,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fcharm-guide~master~I2bf7ac465f7ed3868ef55b9cf9df46258fad88a5,openstack/charm-guide,master,I2bf7ac465f7ed3868ef55b9cf9df46258fad88a5,Fix a redirect,MERGED,2021-12-14 18:51:02.000000000,2021-12-15 13:33:10.000000000,2021-12-15 13:24:16.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 18:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bac3be31e4e9aa294ac13ced7b386b7193a199a4', 'message': 'Fix a redirect\n\nChange-Id: I2bf7ac465f7ed3868ef55b9cf9df46258fad88a5\n'}, {'number': 2, 'created': '2021-12-14 21:09:40.000000000', 'files': ['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d072a90d7abf9e19ed9fd43aee8d86697aa932d1', 'message': 'Fix a redirect\n\nRelated to: I7ff07d86ed7ea81993d91f0088b5ab7a5eb77ef8\n\nChange-Id: I2bf7ac465f7ed3868ef55b9cf9df46258fad88a5\n'}]",1,821770,d072a90d7abf9e19ed9fd43aee8d86697aa932d1,9,2,2,30561,,,0,"Fix a redirect

Related to: I7ff07d86ed7ea81993d91f0088b5ab7a5eb77ef8

Change-Id: I2bf7ac465f7ed3868ef55b9cf9df46258fad88a5
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/70/821770/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",2,bac3be31e4e9aa294ac13ced7b386b7193a199a4,fix-redirect-to-admin-page,RedirectMatch 301 ^/charm-guide/([^/]+)/admin/index.html$ /charm-guide/$1/howto/index.html,RedirectMatch 301 ^/charm-guide/([^/]+)/admin$ /charm-guide/$1/howto,2,2
openstack%2Fcharm-panko~master~Ia65b746e14b66a8b9f10d071c84b18bf55fc96f4,openstack/charm-panko,master,Ia65b746e14b66a8b9f10d071c84b18bf55fc96f4,Retire Panko Charm project,MERGED,2021-12-14 10:23:07.000000000,2021-12-15 13:27:45.000000000,2021-12-15 13:27:45.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 10:23:07.000000000', 'files': ['.gitignore', 'unit_tests/test_panko_handlers.py', 'test-requirements.txt', 'src/tox.ini', 'README.rst', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/layer.yaml', 'src/tests/README.md', 'requirements.txt', 'src/templates/panko-api.conf', 'pip.sh', 'LICENSE', '.stestr.conf', 'src/lib/charm/openstack/__init__.py', 'src/lib/charm/openstack/panko.py', 'src/reactive/panko_handlers.py', '.zuul.yaml', 'unit_tests/__init__.py', 'src/tests/tests.yaml', 'README.md', 'src/README.md', 'src/templates/panko.conf', 'src/copyright', 'src/icon.svg', 'src/tests/basic_deployment.py', 'src/wheelhouse.txt', 'src/templates/ocata/panko-api.conf', 'tox.ini', 'src/tests/gate-basic-xenial-ocata'], 'web_link': 'https://opendev.org/openstack/charm-panko/commit/8b12b7978d89d7b661f25e2abb7c3b1abe76ee54', 'message': 'Retire Panko Charm project\n\nPanko is no longer maintained so retire the charm to deploy it.\n\nChange-Id: Ia65b746e14b66a8b9f10d071c84b18bf55fc96f4\n'}]",0,821687,8b12b7978d89d7b661f25e2abb7c3b1abe76ee54,6,2,1,935,,,0,"Retire Panko Charm project

Panko is no longer maintained so retire the charm to deploy it.

Change-Id: Ia65b746e14b66a8b9f10d071c84b18bf55fc96f4
",git fetch https://review.opendev.org/openstack/charm-panko refs/changes/87/821687/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'unit_tests/test_panko_handlers.py', 'test-requirements.txt', 'src/tox.ini', 'README.rst', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/layer.yaml', 'src/tests/README.md', 'requirements.txt', 'src/templates/panko-api.conf', 'pip.sh', 'LICENSE', '.stestr.conf', 'src/lib/charm/openstack/__init__.py', 'src/lib/charm/openstack/panko.py', 'src/reactive/panko_handlers.py', '.zuul.yaml', 'unit_tests/__init__.py', 'src/tests/tests.yaml', 'README.md', 'src/README.md', 'src/templates/panko.conf', 'src/copyright', 'src/icon.svg', 'src/tests/basic_deployment.py', 'src/wheelhouse.txt', 'src/templates/ocata/panko-api.conf', 'tox.ini', 'src/tests/gate-basic-xenial-ocata']",30,8b12b7978d89d7b661f25e2abb7c3b1abe76ee54,,,"#!/usr/bin/env python # # Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Amulet tests on a basic Panko Charm deployment on xenial-ocata."""""" from basic_deployment import PankoCharmDeployment if __name__ == '__main__': deployment = PankoCharmDeployment(series='xenial', openstack='cloud:xenial-ocata') deployment.run_tests() ",11,1620
openstack%2Frally-openstack~master~I38b8ee71ff5bb054fef2c48031ab7a0de475f5ab,openstack/rally-openstack,master,I38b8ee71ff5bb054fef2c48031ab7a0de475f5ab,Add sg rules with ipv6 ethertype.,MERGED,2021-11-30 14:51:25.000000000,2021-12-15 13:26:45.000000000,2021-12-15 13:26:45.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 14:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8d631aa98e503a01eaeb557a6a6e0918a37aaf5b', 'message': 'Add sg rules with ipv6 ethertype\n\nChange-Id: I38b8ee71ff5bb054fef2c48031ab7a0de475f5ab\n'}, {'number': 2, 'created': '2021-11-30 18:46:29.000000000', 'files': ['rally_openstack/task/contexts/network/allow_ssh.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/26d4b94dd811e9214c96969b86ea37d605374e6c', 'message': 'Add sg rules with ipv6 ethertype.\n\nThis allows test Rally vm scenario with dual-stack or IPv6 address only. \n\nChange-Id: I38b8ee71ff5bb054fef2c48031ab7a0de475f5ab\n'}]",6,819888,26d4b94dd811e9214c96969b86ea37d605374e6c,22,2,2,34311,,,0,"Add sg rules with ipv6 ethertype.

This allows test Rally vm scenario with dual-stack or IPv6 address only. 

Change-Id: I38b8ee71ff5bb054fef2c48031ab7a0de475f5ab
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/88/819888/2 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/task/contexts/network/allow_ssh.py'],1,8d631aa98e503a01eaeb557a6a6e0918a37aaf5b,add/ipv6_ethertype," ""ethertype"", ""ethertype"": ""IPv4"", ""ethertype"": ""IPv6"", ""protocol"": ""tcp"", ""port_range_max"": 65535, ""port_range_min"": 1, ""remote_ip_prefix"": ""::/0"", ""direction"": ""ingress"" }, { ""ethertype"": ""IPv4"", ""ethertype"": ""IPv6"", ""protocol"": ""udp"", ""port_range_max"": 65535, ""port_range_min"": 1, ""remote_ip_prefix"": ""::/0"", ""direction"": ""ingress"" }, { ""ethertype"": ""IPv4"", }, { ""ethertype"": ""IPv6"", ""protocol"": ""ipv6-icmp"", ""remote_ip_prefix"": ""::/0"", ""direction"": ""ingress""",,26,0
openstack%2Fcharm-cinder-backup-swift-proxy~master~Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c,openstack/charm-cinder-backup-swift-proxy,master,Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c,Use unittest.mock instead of mock,MERGED,2020-06-08 20:37:36.000000000,2021-12-15 13:06:37.000000000,2021-12-15 13:06:37.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/602c19d9ebcf3a9ef631d223f25f230da6a3470d', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c\n""}, {'number': 2, 'created': '2020-06-09 14:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/c2097a5e2b6088c6783b97427da780bf836cb010', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c\n""}, {'number': 3, 'created': '2020-08-14 10:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/53b58f532eb9bdb1f0900af96920089572ad97b5', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c\n""}, {'number': 4, 'created': '2021-12-14 11:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/85270d048c3b2c5b69f4f840017665d3f1ec7aca', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c\n""}, {'number': 5, 'created': '2021-12-15 09:55:03.000000000', 'files': ['unit_tests/test_cinder_backup_handlers.py', 'test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/7fdd69ca2e4c8099f6c907543808a5485c0fe7da', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c\n""}]",3,734245,7fdd69ca2e4c8099f6c907543808a5485c0fe7da,21,3,5,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ifc40a4739f1d7944d1dfaccdb0f850b436ab6c6c
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/45/734245/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_backup_handlers.py', 'test-requirements.txt']",2,602c19d9ebcf3a9ef631d223f25f230da6a3470d,drop_mock,,mock>=1.2,1,2
openstack%2Fopenstack-ansible-os_ironic~master~I0fa6234ec7321e1d69901175baeab4ddb08afc50,openstack/openstack-ansible-os_ironic,master,I0fa6234ec7321e1d69901175baeab4ddb08afc50,Add Support for Deploying UEFI Baremetal Nodes,MERGED,2020-06-10 16:31:16.000000000,2021-12-15 12:56:00.000000000,2021-12-15 12:54:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-10 16:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/39f5bb0e7196a5f01c337adbf19fbb626615f48b', 'message': 'WIP - Add support for uefi booting\n\nWork in progress. DO NOT MERGE\n\nChange-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50\n'}, {'number': 2, 'created': '2021-12-04 15:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/7237e7117316eb5bef0a0be5101482410a1ad78c', 'message': 'WIP - Add support for uefi booting\n\nWork in progress. DO NOT MERGE\n\nChange-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50\n'}, {'number': 3, 'created': '2021-12-11 14:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3b228c39e0f31b216afbf1460d1229d5d862a6e4', 'message': 'Add Support for Deploying UEFI Baremetal Nodes\n\nThis patchset adds support for deploying instances using UEFI baremetal\nnodes. UEFI may replace Legacy BIOS mode in future Ironic releases. Tested\nwith Ubuntu Focal 20.04 LTS.\n\nChange-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50\n'}, {'number': 4, 'created': '2021-12-11 16:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/78d01fdd03d079757f516f09ecb5a94370bba937', 'message': 'Add Support for Deploying UEFI Baremetal Nodes\n\nThis patchset adds support for deploying instances using UEFI baremetal\nnodes. UEFI may replace Legacy BIOS mode in future Ironic releases. Tested\nwith Ubuntu Focal 20.04 LTS.\n\nChange-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50\n'}, {'number': 5, 'created': '2021-12-11 17:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b68def999c9c5ad72d7061c776fe072d9462884e', 'message': 'Add Support for Deploying UEFI Baremetal Nodes\n\nThis patchset adds support for deploying instances using UEFI baremetal\nnodes. UEFI may replace Legacy BIOS mode in future Ironic releases. Tested\nwith Ubuntu Focal 20.04 LTS.\n\nChange-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50\n'}, {'number': 6, 'created': '2021-12-12 14:24:31.000000000', 'files': ['files/grub.conf', 'templates/ironic.conf.j2', 'vars/redhat.yml', 'vars/debian.yml', 'releasenotes/notes/adds-uefi-boot-support-18ad99dd21f7e8be.yaml', 'tasks/ironic_conductor_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/2a24dd59ba3b930bae3e85929a8f7471c218adc5', 'message': 'Add Support for Deploying UEFI Baremetal Nodes\n\nThis patchset adds support for deploying instances using UEFI baremetal\nnodes. UEFI may replace Legacy BIOS mode in future Ironic releases. Tested\nwith Ubuntu Focal 20.04 LTS.\n\nChange-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50\n'}]",4,734886,2a24dd59ba3b930bae3e85929a8f7471c218adc5,20,3,6,16011,,,0,"Add Support for Deploying UEFI Baremetal Nodes

This patchset adds support for deploying instances using UEFI baremetal
nodes. UEFI may replace Legacy BIOS mode in future Ironic releases. Tested
with Ubuntu Focal 20.04 LTS.

Change-Id: I0fa6234ec7321e1d69901175baeab4ddb08afc50
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/86/734886/2 && git format-patch -1 --stdout FETCH_HEAD,"['files/grub.conf', 'vars/redhat-7.yml', 'vars/debian.yml', 'tasks/ironic_conductor_post_install.yml', 'vars/suse.yml']",5,39f5bb0e7196a5f01c337adbf19fbb626615f48b,add_uefi_support," - grub2-x86_64-efi - shimironic_uefi_modules: - name: ""bootx64.efi"" path: ""/usr/lib64/efi/shim.efi"" - name: ""grubx64.efi"" path: ""/usr/lib/grub2/x86_64-efi/grub.efi"" ironic_grub_config: ""/tftpboot/boot/grub""",,59,1
openstack%2Fosc-lib~master~I48902ee9b4b0eaff4cbdd822fbcac4c90e7270b4,openstack/osc-lib,master,I48902ee9b4b0eaff4cbdd822fbcac4c90e7270b4,Update master for stable/xena,MERGED,2021-09-10 14:35:51.000000000,2021-12-15 12:38:56.000000000,2021-12-15 12:36:36.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:35:51.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/efc33767f9441e5ebcf18eef66aac301612991a4', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I48902ee9b4b0eaff4cbdd822fbcac4c90e7270b4\n'}]",0,808366,efc33767f9441e5ebcf18eef66aac301612991a4,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I48902ee9b4b0eaff4cbdd822fbcac4c90e7270b4
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/66/808366/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,efc33767f9441e5ebcf18eef66aac301612991a4,reno-xena, xena,,7,0
openstack%2Fmasakari-monitors~stable%2Fwallaby~Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,openstack/masakari-monitors,stable/wallaby,Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,Fix a typo,MERGED,2021-12-15 10:46:03.000000000,2021-12-15 12:20:11.000000000,2021-12-15 12:18:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30696}]","[{'number': 1, 'created': '2021-12-15 10:46:03.000000000', 'files': ['masakarimonitors/conf/host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5d672387db9d65e988239290b2ef74d70fbb6527', 'message': 'Fix a typo\n\nThis patch fixes a typo.\n\nChange-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217\n(cherry picked from commit 50677c2ca836b97a048cee3c3ceac096291fe84d)\n'}]",0,821766,5d672387db9d65e988239290b2ef74d70fbb6527,7,3,1,30491,,,0,"Fix a typo

This patch fixes a typo.

Change-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217
(cherry picked from commit 50677c2ca836b97a048cee3c3ceac096291fe84d)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/66/821766/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/conf/host.py'],1,5d672387db9d65e988239290b2ef74d70fbb6527,typo-stable/xena-stable/wallaby," ' hostmonitor.'),"," ' processmonitor.'),",1,1
openstack%2Fmasakari-monitors~stable%2Fxena~Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,openstack/masakari-monitors,stable/xena,Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,Fix a typo,MERGED,2021-12-15 10:45:56.000000000,2021-12-15 12:19:58.000000000,2021-12-15 12:18:19.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30696}]","[{'number': 1, 'created': '2021-12-15 10:45:56.000000000', 'files': ['masakarimonitors/conf/host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2c2602475390257ac901ac5314d860d0766a1bab', 'message': 'Fix a typo\n\nThis patch fixes a typo.\n\nChange-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217\n(cherry picked from commit 50677c2ca836b97a048cee3c3ceac096291fe84d)\n'}]",0,821765,2c2602475390257ac901ac5314d860d0766a1bab,7,3,1,30491,,,0,"Fix a typo

This patch fixes a typo.

Change-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217
(cherry picked from commit 50677c2ca836b97a048cee3c3ceac096291fe84d)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/65/821765/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/conf/host.py'],1,2c2602475390257ac901ac5314d860d0766a1bab,typo-stable/xena," ' hostmonitor.'),"," ' processmonitor.'),",1,1
openstack%2Fneutron-lib~master~I264cda4ac8d5a737e172a62fa2761fd14fc746f3,openstack/neutron-lib,master,I264cda4ac8d5a737e172a62fa2761fd14fc746f3,Allow to pass custom reason in NetworkInUse exception,MERGED,2021-12-15 08:51:24.000000000,2021-12-15 11:56:15.000000000,2021-12-15 11:54:08.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-15 08:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/080b513f3944c0ce94569933a9a91e7e42633406', 'message': 'Allow to pass custom reason in NetworkInUse exception\n\nIn order to pass custom reason like what ports are\nbeing used on the network, need to allow the Exception\nto except ""reason"" argument.\n\nRelated-Bug: #1953716\nChange-Id: I264cda4ac8d5a737e172a62fa2761fd14fc746f3\n'}, {'number': 2, 'created': '2021-12-15 08:58:27.000000000', 'files': ['neutron_lib/tests/unit/exceptions/test_exceptions.py', 'neutron_lib/exceptions/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6a922e45b0be869a22f43609178e77ba0252f6ea', 'message': 'Allow to pass custom reason in NetworkInUse exception\n\nIn order to pass custom reason like what ports are\nbeing used on the network, need to allow the Exception\nto except ""reason"" argument.\n\nRelated-Bug: #1953716\nChange-Id: I264cda4ac8d5a737e172a62fa2761fd14fc746f3\n'}]",1,821806,6a922e45b0be869a22f43609178e77ba0252f6ea,10,3,2,13861,,,0,"Allow to pass custom reason in NetworkInUse exception

In order to pass custom reason like what ports are
being used on the network, need to allow the Exception
to except ""reason"" argument.

Related-Bug: #1953716
Change-Id: I264cda4ac8d5a737e172a62fa2761fd14fc746f3
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/06/821806/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/__init__.py'],1,080b513f3944c0ce94569933a9a91e7e42633406,bug/1953716," :param reason: Details on why the operation failed. If None, a default reason is used indicating one or more ports still in use on the network. ""%(reason)s."") def __init__(self, **kwargs): if 'reason' not in kwargs: kwargs['reason'] = _(""There are one or more ports still in use "" ""on the network."") super().__init__(**kwargs)"," ""There are one or more ports still in use on the network."")",10,1
openstack%2Fmasakari-monitors~stable%2Fvictoria~Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,openstack/masakari-monitors,stable/victoria,Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,Fix a typo,MERGED,2021-12-15 10:46:12.000000000,2021-12-15 11:54:23.000000000,2021-12-15 11:52:11.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30696}]","[{'number': 1, 'created': '2021-12-15 10:46:12.000000000', 'files': ['masakarimonitors/conf/host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/0d00a54f47e38d488c49b0951f427e008fef59e3', 'message': 'Fix a typo\n\nThis patch fixes a typo.\n\nChange-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217\n(cherry picked from commit 50677c2ca836b97a048cee3c3ceac096291fe84d)\n'}]",0,821767,0d00a54f47e38d488c49b0951f427e008fef59e3,7,3,1,30491,,,0,"Fix a typo

This patch fixes a typo.

Change-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217
(cherry picked from commit 50677c2ca836b97a048cee3c3ceac096291fe84d)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/67/821767/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/conf/host.py'],1,0d00a54f47e38d488c49b0951f427e008fef59e3,typo-stable/xena-stable/wallaby-stable/victoria," ' hostmonitor.'),"," ' processmonitor.'),",1,1
openstack%2Fceilometermiddleware~stable%2Fwallaby~I42b913f5d02a08ca980cfc809c79cc74d871c120,openstack/ceilometermiddleware,stable/wallaby,I42b913f5d02a08ca980cfc809c79cc74d871c120,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-12 12:29:42.000000000,2021-12-15 11:34:21.000000000,2021-12-15 11:29:43.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 12:29:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/89ccceda42d0bb33993a2a980cdf8de408687f7a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I42b913f5d02a08ca980cfc809c79cc74d871c120\n'}]",1,780244,89ccceda42d0bb33993a2a980cdf8de408687f7a,13,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I42b913f5d02a08ca980cfc809c79cc74d871c120
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/44/780244/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,89ccceda42d0bb33993a2a980cdf8de408687f7a,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fceilometermiddleware~stable%2Fwallaby~I9ed8b896bafaf42bbc9bedf4b506ff3d3aa0a37a,openstack/ceilometermiddleware,stable/wallaby,I9ed8b896bafaf42bbc9bedf4b506ff3d3aa0a37a,Update .gitreview for stable/wallaby,MERGED,2021-03-12 12:29:16.000000000,2021-12-15 11:32:41.000000000,2021-12-15 11:29:42.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 12:29:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/84a4a7780c8a738ed466243732a7596115f9c015', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I9ed8b896bafaf42bbc9bedf4b506ff3d3aa0a37a\n'}]",1,780243,84a4a7780c8a738ed466243732a7596115f9c015,15,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I9ed8b896bafaf42bbc9bedf4b506ff3d3aa0a37a
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/43/780243/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,84a4a7780c8a738ed466243732a7596115f9c015,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fopenstack-helm-images~master~I89f07b4c43723bed48d5eab46c4e3e39c5058f3c,openstack/openstack-helm-images,master,I89f07b4c43723bed48d5eab46c4e3e39c5058f3c,Fix masakari-monitors issue,MERGED,2021-12-10 09:37:32.000000000,2021-12-15 11:12:44.000000000,2021-12-15 10:57:55.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-12-10 09:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ea50f3211f380e24167e944a188d3678682865cd', 'message': 'Fix masakari-monitors issue\n\nMasakari monitors is going on crashloop with the error ""Unhandled error: ImportError: libvirt.so.0: cannot open shared object file: No such file or directory"". Adding the libvirt-bin package fix the issue.\n\nChange-Id: I89f07b4c43723bed48d5eab46c4e3e39c5058f3c\n'}, {'number': 2, 'created': '2021-12-10 11:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/62cb5305795a77f6d813dd45a43915d56eafb001', 'message': 'Fix masakari-monitors issue\n\nMasakari monitors is going on crashloop with the error ""Unhandled error: ImportError: libvirt.so.0: cannot open shared object file: No such file or directory"". Adding the libvirt-bin package fix the issue.\n\nChange-Id: I89f07b4c43723bed48d5eab46c4e3e39c5058f3c\n'}, {'number': 3, 'created': '2021-12-13 07:39:15.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/10365638fd42e792a7bf9e0eadb4df48f805d7b6', 'message': 'Fix masakari-monitors issue\n\nMasakari monitors is going on crashloop with the error ""Unhandled error: ImportError: libvirt.so.0: cannot open shared object file: No such file or directory"". Adding the libvirt-daemon-system and libvirt-client package fix the issue.\nPacemaker cli utils and tcp dump are added so that the hostmonitors can execute the pacemaker cli utils.\n\nChange-Id: I89f07b4c43723bed48d5eab46c4e3e39c5058f3c\n'}]",0,821377,10365638fd42e792a7bf9e0eadb4df48f805d7b6,12,3,3,33130,,,0,"Fix masakari-monitors issue

Masakari monitors is going on crashloop with the error ""Unhandled error: ImportError: libvirt.so.0: cannot open shared object file: No such file or directory"". Adding the libvirt-daemon-system and libvirt-client package fix the issue.
Pacemaker cli utils and tcp dump are added so that the hostmonitors can execute the pacemaker cli utils.

Change-Id: I89f07b4c43723bed48d5eab46c4e3e39c5058f3c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/77/821377/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,ea50f3211f380e24167e944a188d3678682865cd,fix-masakari-monitors," - ""DIST_PACKAGES='libvirt-bin'""",,1,0
openstack%2Foslo.messaging~master~I6df90254c75174e899fb5d3d74fa86fc04e59823,openstack/oslo.messaging,master,I6df90254c75174e899fb5d3d74fa86fc04e59823,amqp1: add option eventloop_in_pthread,NEW,2021-09-22 19:05:38.000000000,2021-12-15 10:37:05.000000000,,"[{'_account_id': 6928}, {'_account_id': 9257}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-22 19:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c00c4938365d4c536697d70b0dbdf62f63596dea', 'message': 'WIP amqp1: add option eventloop_in_pthread\n\nChange-Id: I6df90254c75174e899fb5d3d74fa86fc04e59823\n'}, {'number': 2, 'created': '2021-09-22 20:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/864b85e807d068e0d92cc9def4af70cf5641785a', 'message': 'WIP amqp1: add option eventloop_in_pthread\n\nChange-Id: I6df90254c75174e899fb5d3d74fa86fc04e59823\n'}, {'number': 3, 'created': '2021-10-26 20:18:14.000000000', 'files': ['oslo_messaging/_drivers/amqp1_driver/opts.py', 'releasenotes/notes/add-eventloop_in_pthread-01bc93bdaba5021d.yaml', 'oslo_messaging/_drivers/amqp1_driver/eventloop.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/_drivers/impl_amqp1.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/53bc87a74c04a509b6624868c586078b50a06e66', 'message': 'amqp1: add option eventloop_in_pthread\n\nAdd a new option `eventloop_in_pthread` to the amqp1 driver.  The\ndefault value is False.  When enabled, this forces the driver\neventloop thread to run in a real pthread, regardless of the\ncontaining execution model.\n\nThis option should be set to False in most circumstances.  At the time\nof this writing, the only common scenario to enable this option is\nwhen running nova-api under mod_wsgi/uWSGI.  This is because:\n\n* nova-api uses eventlet for its execution model\n* nova-api monkey-patches ""thread""\n\nIn this circumstance, the eventloop runs in a greenthread and can only\nbe scheduled for execution during the processing of an active wsgi\nrequest.  Because heartbeat packets are scheduled and sent by the\neventloop, idle workers will not be able to heartbeat and will thus\nrepeatedly disconnect and reconnect their AMQP connection needlessly.\n\nWith the option enabled, it forces the eventloop into a real pthread\nwhich is scheduled normally by the operating system and is not tied to\nthe lifecycle of in-flight wsgi requests.  This allows heartbeats to\ncontinue processing, even when the wsgi workers are idle.\n\nCloses-Bug: #1941652\nChange-Id: I6df90254c75174e899fb5d3d74fa86fc04e59823\n'}]",18,810510,53bc87a74c04a509b6624868c586078b50a06e66,11,4,3,9257,,,0,"amqp1: add option eventloop_in_pthread

Add a new option `eventloop_in_pthread` to the amqp1 driver.  The
default value is False.  When enabled, this forces the driver
eventloop thread to run in a real pthread, regardless of the
containing execution model.

This option should be set to False in most circumstances.  At the time
of this writing, the only common scenario to enable this option is
when running nova-api under mod_wsgi/uWSGI.  This is because:

* nova-api uses eventlet for its execution model
* nova-api monkey-patches ""thread""

In this circumstance, the eventloop runs in a greenthread and can only
be scheduled for execution during the processing of an active wsgi
request.  Because heartbeat packets are scheduled and sent by the
eventloop, idle workers will not be able to heartbeat and will thus
repeatedly disconnect and reconnect their AMQP connection needlessly.

With the option enabled, it forces the eventloop into a real pthread
which is scheduled normally by the operating system and is not tied to
the lifecycle of in-flight wsgi requests.  This allows heartbeats to
continue processing, even when the wsgi workers are idle.

Closes-Bug: #1941652
Change-Id: I6df90254c75174e899fb5d3d74fa86fc04e59823
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/10/810510/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/amqp1_driver/opts.py', 'oslo_messaging/_drivers/amqp1_driver/eventloop.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py', 'oslo_messaging/_drivers/impl_amqp1.py']",5,c00c4938365d4c536697d70b0dbdf62f63596dea,amqp1-heartbeat-pthread,from oslo_messaging._drivers.amqp1_driver.eventloop import initialize_threading initialize_threading(opt_name.eventloop_in_pthread) ,,58,5
openstack%2Fos-net-config~stable%2Ftrain~I3bf1ace914ab8a64f9165c72ffd06d389fad25b0,openstack/os-net-config,stable/train,I3bf1ace914ab8a64f9165c72ffd06d389fad25b0,sriov_config: light refactoring,MERGED,2021-10-18 13:16:38.000000000,2021-12-15 10:25:21.000000000,2021-11-02 08:55:34.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 33688}]","[{'number': 1, 'created': '2021-10-18 13:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9e33d92ead3de46ea151907a3ef61f222964dbfa', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n(cherry picked from commit 380254e897990dce4caea70b82118828e9a4789f)\n'}, {'number': 2, 'created': '2021-10-27 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ccb360922e786da266ffab752cdc668088462212', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n(cherry picked from commit 380254e897990dce4caea70b82118828e9a4789f)\n'}, {'number': 3, 'created': '2021-10-29 13:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1359f47900c98c85f667a7060bf009895dfe4392', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nUpdated f-string reference as train needs to support py27\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n(cherry picked from commit 380254e897990dce4caea70b82118828e9a4789f)\n'}, {'number': 4, 'created': '2021-10-29 14:33:33.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/eee049618bf44381d78b4f9691a8633bfa643e3e', 'message': 'sriov_config: light refactoring\n\nmerging cleaning up the numvfs getter/setters, converting pyformat\nstrings to f-strings and adding a bit more logging.\n\nUpdated f-string reference as train needs to support py27\n\nChange-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0\n(cherry picked from commit 380254e897990dce4caea70b82118828e9a4789f)\n'}]",3,814425,eee049618bf44381d78b4f9691a8633bfa643e3e,18,5,4,33688,,,0,"sriov_config: light refactoring

merging cleaning up the numvfs getter/setters, converting pyformat
strings to f-strings and adding a bit more logging.

Updated f-string reference as train needs to support py27

Change-Id: I3bf1ace914ab8a64f9165c72ffd06d389fad25b0
(cherry picked from commit 380254e897990dce4caea70b82118828e9a4789f)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/25/814425/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,9e33d92ead3de46ea151907a3ef61f222964dbfa,sriov_patches_train," logger.info( f""Received udev event {event['action']} for {event['device']}"" ) logger.error(f""Error reading file: {filename}"")def _get_dev_path(ifname, path=None): path = f""device/{path}"" if path else ""device"" return os.path.join(_SYS_CLASS_NET, ifname, path) def _wait_for_vf_creation(pf_name, numvfs): vf_count = 0 vf_list = [] while vf_count < numvfs: try: # wait for 5 seconds after every udev event event = vf_queue.get(True, 5) vf_name = os.path.basename(event[""device""]) pf_path = os.path.normpath(os.path.join(event[""device""], ""../../physfn/net"")) if os.path.isdir(pf_path): pf_nic = os.listdir(pf_path) if len(pf_nic) == 1 and pf_name == pf_nic[0]: if vf_name not in vf_list: vf_list.append(vf_name) logger.info( f""VF: {vf_name} created for PF: {pf_name}"" ) vf_count = vf_count + 1 else: logger.warning(f""Unable to parse event {event['device']}"") else: logger.warning(f""{pf_path} is not a directory"") except Queue.Empty: logger.info(f""Timeout in the creation of VFs for PF {pf_name}"") return logger.info(f""Required VFs are created for PF {pf_name}"") def get_numvfs(ifname): """"""Getting sriov_numvfs for PF Wrapper that will get the sriov_numvfs file for a PF. :param ifname: interface name (ie: p1p1) :returns: int -- the number of current VFs on ifname :raises: SRIOVNumvfsException """""" sriov_numvfs_path = _get_dev_path(ifname, ""sriov_numvfs"") logger.debug(f""Getting numvfs for interface {ifname}"") try: with open(sriov_numvfs_path, 'r') as f: curr_numvfs = int(f.read()) except IOError as exc: msg = f""Unable to read numvfs for {ifname}: {exc}"" logger.debug(f""Interface {ifname} has {curr_numvfs} configured"") return curr_numvfs def set_numvfs(ifname, numvfs): """"""Setting sriov_numvfs for PF Wrapper that will set the sriov_numvfs file for a PF. After numvfs has been set for an interface, _wait_for_vf_creation will be called to monitor the creation. Some restrictions: - if current number of VF is already defined, we can't change numvfs - if sriov_numvfs doesn't exist for an interface, we can't create it :param ifname: interface name (ie: p1p1) :param numvfs: an int that represents the number of VFs to be created. :returns: int -- the number of current VFs on ifname :raises: SRIOVNumvfsException """""" curr_numvfs = get_numvfs(ifname) logger.debug(f""Interface {ifname} has {curr_numvfs} configured, setting "" f""to {numvfs}"") if not isinstance(numvfs, int): msg = (f""Unable to configure pf: {ifname} with numvfs: {numvfs}\n"" f""numvfs must be an integer"") raise SRIOVNumvfsException(msg) if numvfs != curr_numvfs: if curr_numvfs != 0: logger.warning(f""Numvfs already configured to {curr_numvfs} for "" f""{ifname}"") return curr_numvfs sriov_numvfs_path = _get_dev_path(ifname, ""sriov_numvfs"") try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (f""Unable to configure pf: {ifname} with numvfs: {numvfs}\n"" f""{exc}"") raise SRIOVNumvfsException(msg) _wait_for_vf_creation(ifname, numvfs) curr_numvfs = get_numvfs(ifname) if curr_numvfs != numvfs: msg = (f""Unable to configure pf: {ifname} with numvfs: {numvfs}\n"" ""sriov_numvfs file is not set to the targeted number of "" ""vfs"") raise SRIOVNumvfsException(msg) return curr_numvfs set_numvfs(item['name'], item['numvfs']) logger.info(f""{item['name']}: Mellanox card"") vf_pci_path = f""/sys/bus/pci/devices/{vf_pci}/driver"" if os.path.exists(vf_pci_path): logger.info(f""Unbinding {vf_pci}"") with open(MLNX_UNBIND_FILE_PATH, 'w') as f: f.write(vf_pci) logger.info(f""{item['name']}: Adding udev rules"") # Configure switchdev modedef _wait_for_uplink_rep_creation(pf_name): uplink_rep_phys_switch_id_path = f""/sys/class/net/{pf_name}/phys_switch_id"" logger.info(f""Uplink representor {pf_name} ready"") raise RuntimeError(f""Timeout while waiting for uplink representor "" f""{pf_name}."") logger.info(f""adding udev rules for sriov {pf_name}"") f'KERNELS==""{pf_pci}"", NAME=""{pf_name}""' logger.info(f""adding udev rules for legacy sriov {pf_name}: {numvfs}"") udev_line = f'KERNEL==""{pf_name}"", '\ f'RUN+=""/bin/os-net-config-sriov -n %k:{numvfs}""' pattern = f'KERNEL==""{pf_name}"", RUN+=""/bin/os-net-config-sriov -n' logger.info(f""adding udev rules for vf representators {pf_name}"") logger.error(f""Failed to get function number for {pf_name} \n"" ""its' vf-represent"") logger.info(f""adding udev rules to unmanage vf representators"") logger.debug(f""adding udev rule to {udev_file}: {udev_data}"") data = ""# This file is autogenerated by os-net-config\n""\ f""{udev_data}\n"" except processutils.ProcessExecutionError as exc: logger.error(f""Failed to reload udev rules: {exc}"") except processutils.ProcessExecutionError as exc: logger.error(f""Failed to trigger udev rules: {exc}"") f'pci/{pf_pci}', 'inline-mode', 'transport') except processutils.ProcessExecutionError as exc: logger.error(f""Failed to set inline-mode to transport for "" f""{pf_pci}: {exc}"") f'pci/{pf_pci}', 'mode', 'switchdev') except processutils.ProcessExecutionError as exc: logger.error(f""Failed to set mode to switchdev for {pf_pci}: {exc}"") logger.info(f""Device pci/{pf_pci} set to switchdev mode."") logger.info(f""Enabled \""hw-tc-offload\"" for PF {pf_name}."") except processutils.ProcessExecutionError as exc: logger.error(f""Failed to enable hw-tc-offload on {pf_name}: {exc}"") f'pci/{pf_pci}', 'name', 'flow_steering_mode', logger.info(f""Device pci/{pf_pci} is set to smfs steering mode."") except processutils.ProcessExecutionError as exc: logger.warning(f""Could not set pci/{pf_pci} to smfs steering mode: "" f""{exc}"") except processutils.ProcessExecutionError as exc: logger.error(""Failed to execute %s: %s"" % (' '.join(cmd), exc)) logger.info(f""Bringing up PF: {pf_device['name']}"") with open(_get_dev_path(ifname, ""vendor""), 'r') as f: pf_pci_path = _get_dev_path(pf_name, ""uevent"") pf_device_path = _get_dev_path(pf_name, ""device"") vf_info = get_file_data(_get_dev_path(pf_name, f""{pf_file}/uevent"")) logger.info(f""Running /sbin/ifdown {device}"") logger.error(f""Failed to ifdown {device}"") logger.info(f""Running /sbin/ifup {device}"") logger.error(f""Failed to ifup {device}"") logger.info(f""Configuring settings for PF: {pf_name} VF: {vfid} "" f""VF name: {item['name']}"") set_numvfs(device_name, int(numvfs)) else: logging.error(f""Invalid arguments for --numvfs {opts.numvfs}"")"," logger.info(""Received udev event %s for %s"" % (event[""action""], event[""device""])) logger.error(""Error reading file: %s"" % filename)def get_numvfs(ifname): try: sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, ifname, ""device/sriov_numvfs"") with open(sriov_numvfs_path, 'r') as f: return int(f.read()) except IOError as exc: msg = (""Unable to read numvfs for %s"" % ifname) try: sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, item['name'], ""device/sriov_numvfs"") curr_numvfs = get_numvfs(item['name']) if curr_numvfs == item['numvfs']: logger.info(""Numvfs already configured for %s"" % item['name']) continue with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % item['numvfs']) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (item['name'], item['numvfs'], exc)) raise SRIOVNumvfsException(msg) # Wait for the creation of VFs for each PF _wait_for_vf_creation(item['name'], item['numvfs']) # Configure switchdev mode vf_pci_path = ""/sys/bus/pci/devices/%s/driver"" % vf_pci if os.path.exists(vf_pci_path): with open(MLNX_UNBIND_FILE_PATH, 'w') as f: f.write(""%s"" % vf_pci) def _write_numvfs(device_name, numvfs): sriov_numvfs_path = os.path.join(_SYS_CLASS_NET, device_name, ""device/sriov_numvfs"") curr_numvfs = get_numvfs(device_name) if curr_numvfs != 0: logger.info(""Numvfs already configured for %s"" % device_name) return try: with open(sriov_numvfs_path, 'w') as f: f.write(""%d"" % numvfs) except IOError as exc: msg = (""Unable to configure pf: %s with numvfs: %d\n%s"" % (device_name, numvfs, exc)) raise SRIOVNumvfsException(msg) def _wait_for_vf_creation(pf_name, numvfs): vf_count = 0 vf_list = [] while vf_count < numvfs: try: # wait for 5 seconds after every udev event event = vf_queue.get(True, 5) vf_name = os.path.basename(event[""device""]) pf_path = os.path.normpath(os.path.join(event[""device""], ""../../physfn/net"")) if os.path.isdir(pf_path): pf_nic = os.listdir(pf_path) if len(pf_nic) == 1 and pf_name == pf_nic[0]: if vf_name not in vf_list: vf_list.append(vf_name) logger.info(""VF: %s created for PF: %s"" % (vf_name, pf_name)) vf_count = vf_count + 1 else: logger.warning(""Unable to parse event %s"" % event[""device""]) else: logger.warning(""%s is not a directory"" % pf_path) except Queue.Empty: logger.info(""Timeout in the creation of VFs for PF %s"" % pf_name) return logger.info(""Required VFs are created for PF %s"" % pf_name) def _wait_for_uplink_rep_creation(pf_name): uplink_rep_phys_switch_id_path = ""/sys/class/net/%s/phys_switch_id"" \ % pf_name logger.info(""Uplink representor %s ready"", pf_name) raise RuntimeError(""Timeout while waiting for uplink representor %s."", pf_name) 'KERNELS==""%s"", NAME=""%s""' % (pf_pci, pf_name) logger.info(""adding udev rules for %s"" % (pf_name)) udev_line = 'KERNEL==""%s"", '\ 'RUN+=""/bin/os-net-config-sriov -n %%k:%d""' \ % (pf_name, numvfs) pattern = 'KERNEL==""%s"", RUN+=""/bin/os-net-config-sriov -n' % pf_name logger.error(""Failed to get function number for %s \n"" ""its' vf-represent"" % pf_name) data = ""# This file is autogenerated by os-net-config\n%s\n""\ % udev_data except processutils.ProcessExecutionError: logger.error(""Failed to reload udev rules"") except processutils.ProcessExecutionError: logger.error(""Failed to trigger udev rules"") 'pci/%s' % pf_pci, 'inline-mode', 'transport') except processutils.ProcessExecutionError: logger.error(""Failed to set inline-mode to transport"") 'pci/%s' % pf_pci, 'mode', 'switchdev') except processutils.ProcessExecutionError: logger.error(""Failed to set mode to switchdev"") logger.info(""Device pci/%s set to switchdev mode."" % pf_pci) logger.info(""Enabled \""hw-tc-offload\"" for PF %s."" % pf_name) except processutils.ProcessExecutionError: logger.error(""Failed to enable hw-tc-offload"") 'pci/%s' % pf_pci, 'name', 'flow_steering_mode', logger.info(""Device pci/%s is set to smfs steering mode."" % pf_pci) except processutils.ProcessExecutionError: logger.warning(""Could not set pci/%s to smfs steering mode!"") except processutils.ProcessExecutionError: logger.error(""Failed to execute %s"" % ' '.join(cmd)) logger.info(""Bringing up PF: %s"" % pf_device['name']) with open(os.path.join(_SYS_CLASS_NET, ifname, ""device/vendor""), 'r') as f: pf_pci_path = os.path.join(_SYS_CLASS_NET, pf_name, ""device/uevent"") pf_device_path = os.path.join(_SYS_CLASS_NET, pf_name, ""device/device"") vf_info = get_file_data(os.path.join(_SYS_CLASS_NET, pf_name, ""device"", pf_file, ""uevent"")) logger.info(""Running /sbin/ifdown %s"" % device) logger.error(""Failed to ifdown %s"" % device) logger.info(""Running /sbin/ifup %s"" % device) logger.error(""Failed to ifup %s"" % device) logger.info(""Configuring settings for PF: %s VF :%d VF name : %s"" % (pf_name, vfid, item['name'])) _write_numvfs(device_name, int(numvfs)) else: logging.error(""Invalid arguments for --numvfs %s"" % opts.numvfs)",218,202
openstack%2Fos-net-config~stable%2Fvictoria~Ic6738de42b9aa0346f48060c143c5f779b67867e,openstack/os-net-config,stable/victoria,Ic6738de42b9aa0346f48060c143c5f779b67867e,Update sriov config service to handle nic partitioned PF,MERGED,2021-10-04 14:07:21.000000000,2021-12-15 10:25:07.000000000,2021-10-07 18:15:28.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-04 14:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4f23b1391cba06d367b571f6c35e0185e2647925', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n(cherry picked from commit fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6)\n'}, {'number': 2, 'created': '2021-10-05 05:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ffe0239bd39c64657924cd616f01aa00a2ed10c6', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n(cherry picked from commit fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6)\n'}, {'number': 3, 'created': '2021-10-05 05:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/208b18d4e88636fee84d39d46b41b7f9abcf004c', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n(cherry picked from commit fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6)\n'}, {'number': 4, 'created': '2021-10-06 10:45:11.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3c4c81cab1222e15ee7428c6519b4e5a759f6d56', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nThe function setUp_pf_stubs() was added in the vdpa patch:\n    https://review.opendev.org/c/openstack/os-net-config/+/798926/\nSince there is a dependency on this API for the tests of this patch,\nit has been added here\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n(cherry picked from commit fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6)\n'}]",5,812359,3c4c81cab1222e15ee7428c6519b4e5a759f6d56,17,4,4,33688,,,0,"Update sriov config service to handle nic partitioned PF

Create VFs using udev rules are required for attaching
and removing PF from a VM. On a reboot, when udev rules
trigger VF creation script and when a VF is attached to
vfio-pci driver, some of the VFs on that PF are not
initialized properly, resulting in VF not found issue.
Though it looks like driver issue, this patch avoids
this scenarios by removing the nic-paritioned VF from
the udev rule, as when one of the VF is attached to host,
the PF cannot be used by the VM.

The function setUp_pf_stubs() was added in the vdpa patch:
    https://review.opendev.org/c/openstack/os-net-config/+/798926/
Since there is a dependency on this API for the tests of this patch,
it has been added here

Change-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e
(cherry picked from commit fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/59/812359/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/sriov_config.py']",4,4f23b1391cba06d367b571f6c35e0185e2647925,sriov_patches_victoria,"def is_partitioned_pf(dev_name: str) -> bool: """"""Check if any nic-partition(VF) is already used Given a PF device, returns True if any VFs of this device are in-use. """""" sriov_map = _get_sriov_map() for config in sriov_map: devtype = config.get('device_type', None) if devtype == 'vf': name = config.get('device', {}).get('name') vf_name = config.get('name') if dev_name == name: logger.warning(""%s has VF(%s) used by host"" % (name, vf_name)) return True return False if not is_partitioned_pf(item['name']): add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs']) # When configuring vdpa, we need to configure switchdev before # we create the VFs is_mlnx = vendor_id == MLNX_VENDOR_ID # Configure switchdev mode when vdpa if item.get('vdpa') and is_mlnx: configure_switchdev(item['name']) set_numvfs(item['name'], item['numvfs'])"," add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs']) set_numvfs(item['name'], item['numvfs'])",234,3
openstack%2Fos-net-config~master~Ic6738de42b9aa0346f48060c143c5f779b67867e,openstack/os-net-config,master,Ic6738de42b9aa0346f48060c143c5f779b67867e,Update sriov config service to handle nic partitioned PF,MERGED,2021-08-30 10:59:43.000000000,2021-12-15 10:24:46.000000000,2021-09-18 01:48:40.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 33688}]","[{'number': 1, 'created': '2021-08-30 10:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4883118acfe3e97e7a0798bb1fd29c3b245fc5a8', 'message': 'Fix for proper udev rules of PFs, which have VFs bound\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 2, 'created': '2021-08-31 10:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2bcae6897ce79a64331ff9d23838ab261b9ad50c', 'message': 'Update sriov config service to handle nic partitioned PF\n\nOn compute reboot, the VFs of nic partitioned\nPFs are not initialised properly by os-net sriov service.\nFixed this issue by not updating the udev rules\nfor nic-partitioned PF.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 3, 'created': '2021-09-02 11:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fc7b8aedc93b738e4c66a0dc3ee3509e21a154fa', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 4, 'created': '2021-09-07 07:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2d26c7167a9d9d0910a2b68486946db9c9c12f87', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 5, 'created': '2021-09-08 09:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/628dcaebc08605faf1ed2b2d38280e6435dc47c0', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 6, 'created': '2021-09-09 05:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a8bcc88a3957b416c06cd688c958ad0a89f87093', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 7, 'created': '2021-09-15 07:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/40f3679ea34974cdae11905451d3e8bd1d308696', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 8, 'created': '2021-09-15 12:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/de2daf84c0bab42e8b23529df6ceb1403dd32940', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}, {'number': 9, 'created': '2021-09-16 05:55:28.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6', 'message': 'Update sriov config service to handle nic partitioned PF\n\nCreate VFs using udev rules are required for attaching\nand removing PF from a VM. On a reboot, when udev rules\ntrigger VF creation script and when a VF is attached to\nvfio-pci driver, some of the VFs on that PF are not\ninitialized properly, resulting in VF not found issue.\nThough it looks like driver issue, this patch avoids\nthis scenarios by removing the nic-paritioned VF from\nthe udev rule, as when one of the VF is attached to host,\nthe PF cannot be used by the VM.\n\nChange-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e\n'}]",15,806561,fcf3d9cd126f30ecfe166aa5271a2f212a51a5a6,41,7,9,33688,,,0,"Update sriov config service to handle nic partitioned PF

Create VFs using udev rules are required for attaching
and removing PF from a VM. On a reboot, when udev rules
trigger VF creation script and when a VF is attached to
vfio-pci driver, some of the VFs on that PF are not
initialized properly, resulting in VF not found issue.
Though it looks like driver issue, this patch avoids
this scenarios by removing the nic-paritioned VF from
the udev rule, as when one of the VF is attached to host,
the PF cannot be used by the VM.

Change-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/61/806561/8 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/utils.py', 'os_net_config/sriov_config.py']",3,4883118acfe3e97e7a0798bb1fd29c3b245fc5a8,vfio_reboot_fix,"def check_vfbinding_of_device(dev_name, num_vfs): sriov_map = _get_sriov_map() for config in sriov_map: type = config.get('device_type', None) if type == 'vf': name = config.get('device', {}).get('name') if dev_name == name: logger.warning(""VF-io binding exists for %s VF(s)"" % dev_name) return True else: return False return False if check_vfbinding_of_device( item['name'], item['numvfs']) is False: add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])"," add_udev_rule_for_legacy_sriov_pf(item['name'], item['numvfs'])",65,3
openstack%2Fcharm-glance-simplestreams-sync~master~Id5cceb8af8374d4fbfa4645d778ca0364f6d23a2,openstack/charm-glance-simplestreams-sync,master,Id5cceb8af8374d4fbfa4645d778ca0364f6d23a2,Use unittest.mock instead of mock,ABANDONED,2021-12-15 10:19:15.000000000,2021-12-15 10:20:18.000000000,,[{'_account_id': 28522}],"[{'number': 1, 'created': '2021-12-15 10:19:15.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', '.zuul.yaml', 'unit_tests/test_glance_simplestreams_sync.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/b82fa1f7f02e598d737637b729e6c8edfbd6071d', 'message': 'Use unittest.mock instead of mock\n\nChange-Id: Id5cceb8af8374d4fbfa4645d778ca0364f6d23a2\n'}]",0,821815,b82fa1f7f02e598d737637b729e6c8edfbd6071d,2,1,1,935,,,0,"Use unittest.mock instead of mock

Change-Id: Id5cceb8af8374d4fbfa4645d778ca0364f6d23a2
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/15/821815/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_hooks.py', '.zuul.yaml', 'unit_tests/test_glance_simplestreams_sync.py']",5,b82fa1f7f02e598d737637b729e6c8edfbd6071d,drop_mock,import unittest.mock as mock,import mock,3,9
openstack%2Fskyline-console~master~I4912fe6bad60a307a6fe5035f2221489ad226f56,openstack/skyline-console,master,I4912fe6bad60a307a6fe5035f2221489ad226f56,fix: Fix qos policy jump in fip list page,MERGED,2021-12-15 07:43:17.000000000,2021-12-15 10:20:10.000000000,2021-12-15 10:20:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-12-15 07:43:17.000000000', 'files': ['src/pages/network/containers/FloatingIp/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2b8234421297ebee0e5d44507129aeb138796ff8', 'message': 'fix: Fix qos policy jump in fip list page\n\nFix qos policy jump in fip list page\n\nChange-Id: I4912fe6bad60a307a6fe5035f2221489ad226f56\n'}]",0,821802,2b8234421297ebee0e5d44507129aeb138796ff8,6,2,1,30434,,,0,"fix: Fix qos policy jump in fip list page

Fix qos policy jump in fip list page

Change-Id: I4912fe6bad60a307a6fe5035f2221489ad226f56
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/02/821802/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/FloatingIp/index.jsx'],1,2b8234421297ebee0e5d44507129aeb138796ff8,," routeName: this.getRouteName('networkQosDetail'),"," routeName: 'qosPolicyDetail',",1,1
openstack%2Fneutron~master~I75c759ce94e027790b18411617e08ae5bb46bcef,openstack/neutron,master,I75c759ce94e027790b18411617e08ae5bb46bcef,"Add Chassis creation wait event in ""TestAgentMonitor""",MERGED,2021-11-27 11:28:16.000000000,2021-12-15 10:10:47.000000000,2021-12-15 10:08:41.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-27 11:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ee7dbb86f44019a136ac3615387c88dbfe28469', 'message': 'Add Chassis creation wait event in ""TestAgentMonitor""\n\nAdded a wait event in ""TestAgentMonitor"" setUp method, in order to wait\nfor the Chassis register creation event. This patch also adds an active\nwait to check the number of ""AgentCache"" agents present in the local\ncache, before starting the tests.\n\nCloses-Bug: #1952508\nChange-Id: I75c759ce94e027790b18411617e08ae5bb46bcef\n'}, {'number': 2, 'created': '2021-12-01 10:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8035e8e04639218376855d789fd23e40531a3718', 'message': 'Add Chassis creation wait event in ""TestAgentMonitor""\n\nAdded a wait event in ""TestAgentMonitor"" setUp method, in order to wait\nfor the Chassis register creation event. This patch also adds an active\nwait to check the number of ""AgentCache"" agents present in the local\ncache, before starting the tests.\n\nCloses-Bug: #1952508\nChange-Id: I75c759ce94e027790b18411617e08ae5bb46bcef\n'}, {'number': 3, 'created': '2021-12-13 16:39:04.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1af63e881261ac3a160e9e6d2bea89ac65856cea', 'message': 'Add Chassis creation wait event in ""TestAgentMonitor""\n\nAdded a wait event in ""TestAgentMonitor"" setUp method, in order to wait\nfor the Chassis register creation event. This patch also adds an active\nwait to check the number of ""AgentCache"" agents present in the local\ncache, before starting the tests.\n\nCloses-Bug: #1952508\nChange-Id: I75c759ce94e027790b18411617e08ae5bb46bcef\n'}]",17,819502,1af63e881261ac3a160e9e6d2bea89ac65856cea,46,9,3,16688,,,0,"Add Chassis creation wait event in ""TestAgentMonitor""

Added a wait event in ""TestAgentMonitor"" setUp method, in order to wait
for the Chassis register creation event. This patch also adds an active
wait to check the number of ""AgentCache"" agents present in the local
cache, before starting the tests.

Closes-Bug: #1952508
Change-Id: I75c759ce94e027790b18411617e08ae5bb46bcef
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/819502/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,6ee7dbb86f44019a136ac3615387c88dbfe28469,bug/1952508,"class WaitForChassisCreateEvent(event.WaitEvent): event_name = 'WaitForChassisCreateEvent' def __init__(self, chassis_name): table = 'Chassis' events = (self.ROW_CREATE,) conditions = (('name', '=', chassis_name),) super().__init__(events, table, conditions, timeout=15) chassis_name = uuidutils.generate_uuid() row_event = WaitForChassisCreateEvent(chassis_name) self.mech_driver.sb_ovn.idl.notify_handler.watch_event(row_event) self.chassis_name = self.add_fake_chassis( self.FAKE_CHASSIS_HOST, external_ids={'ovn-cms-options': 'enable-chassis-as-gw'}, name=chassis_name) self.assertTrue(row_event.wait()) n_utils.wait_until_true( lambda: len(list(neutron_agent.AgentCache())) == 1)"," self.chassis_name = self.add_fake_chassis(self.FAKE_CHASSIS_HOST, external_ids={'ovn-cms-options': 'enable-chassis-as-gw'}) def test_network_agent_present(self): chassis_row = self.sb_api.db_find( 'Chassis', ('name', '=', self.chassis_name)).execute( check_error=True) self.assertTrue(chassis_row) self.assertEqual(neutron_agent.ControllerGatewayAgent, type(neutron_agent.AgentCache()[self.chassis_name]))",20,10
openstack%2Fansible-hardening~master~I4dffba103892d243d460e120ac5262f6752b2af1,openstack/ansible-hardening,master,I4dffba103892d243d460e120ac5262f6752b2af1,Update master for stable/xena,MERGED,2021-12-07 10:05:26.000000000,2021-12-15 10:04:09.000000000,2021-12-15 10:01:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-07 10:05:26.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/f80502a2fa3a3291032a6c9176bbf2269da3b8cb', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I4dffba103892d243d460e120ac5262f6752b2af1\n'}]",0,820685,f80502a2fa3a3291032a6c9176bbf2269da3b8cb,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I4dffba103892d243d460e120ac5262f6752b2af1
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/85/820685/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,f80502a2fa3a3291032a6c9176bbf2269da3b8cb,reno-xena, xena,,7,0
openstack%2Fopenstack-ansible-nspawn_container_create~stable%2Fvictoria~I9abe1b01ed7d574432f292e5c40d7683ecefc07d,openstack/openstack-ansible-nspawn_container_create,stable/victoria,I9abe1b01ed7d574432f292e5c40d7683ecefc07d,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-12-18 15:42:38.000000000,2021-12-15 09:45:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-18 15:42:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/fad353f54532c06666b258563b20380d143c67a3', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9abe1b01ed7d574432f292e5c40d7683ecefc07d\n'}]",0,767820,fad353f54532c06666b258563b20380d143c67a3,7,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9abe1b01ed7d574432f292e5c40d7683ecefc07d
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/20/767820/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fad353f54532c06666b258563b20380d143c67a3,create-victoria, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-nspawn_hosts~stable%2Fvictoria~I55b3bb8605c54aae5fd2ab12f843073a1d15382f,openstack/openstack-ansible-nspawn_hosts,stable/victoria,I55b3bb8605c54aae5fd2ab12f843073a1d15382f,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-12-18 15:42:56.000000000,2021-12-15 09:43:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-18 15:42:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/ccfb4f6598cd86a3cd7df16125922dc07c536c4f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I55b3bb8605c54aae5fd2ab12f843073a1d15382f\n'}]",1,767824,ccfb4f6598cd86a3cd7df16125922dc07c536c4f,7,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I55b3bb8605c54aae5fd2ab12f843073a1d15382f
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/24/767824/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ccfb4f6598cd86a3cd7df16125922dc07c536c4f,create-victoria, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-helm~master~Ic0c6996e4af31dc5e293f83b1089c48810ccab34,openstack/openstack-helm,master,Ic0c6996e4af31dc5e293f83b1089c48810ccab34,Add OPENSTACK_ENDPOINT_TYPE value in horizon,MERGED,2021-12-07 13:54:38.000000000,2021-12-15 09:40:42.000000000,2021-12-15 09:38:49.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-12-07 13:54:38.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f89267bb3a858ad46cc7d1241daa5121ab09693', 'message': 'Add OPENSTACK_ENDPOINT_TYPE value in horizon\n\nChange-Id: Ic0c6996e4af31dc5e293f83b1089c48810ccab34\n'}]",0,820865,3f89267bb3a858ad46cc7d1241daa5121ab09693,8,3,1,31746,,,0,"Add OPENSTACK_ENDPOINT_TYPE value in horizon

Change-Id: Ic0c6996e4af31dc5e293f83b1089c48810ccab34
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/820865/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml']",3,3f89267bb3a858ad46cc7d1241daa5121ab09693,," endpoint_type: ""internalURL"" OPENSTACK_ENDPOINT_TYPE = ""{{ .Values.conf.horizon.local_settings.config.endpoint_type }}"""," OPENSTACK_ENDPOINT_TYPE = ""internalURL""",4,2
openstack%2Fcharm-interface-service-control~master~Ic1a687f95e5fd16ffa7f63102d6f8f2de383780e,openstack/charm-interface-service-control,master,Ic1a687f95e5fd16ffa7f63102d6f8f2de383780e,Use unittest.mock instead of mock,MERGED,2020-06-08 20:58:59.000000000,2021-12-15 09:35:05.000000000,2021-12-15 09:35:05.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-service-control/commit/2ef3b174ebd6f9293d65d62acd0aac5abe90b10e', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Ic1a687f95e5fd16ffa7f63102d6f8f2de383780e\n""}, {'number': 2, 'created': '2020-06-09 15:48:23.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-service-control/commit/714ef09e171fc34549b132e556fb88a2614beddf', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: Ic1a687f95e5fd16ffa7f63102d6f8f2de383780e\n""}]",1,734280,714ef09e171fc34549b132e556fb88a2614beddf,11,3,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: Ic1a687f95e5fd16ffa7f63102d6f8f2de383780e
",git fetch https://review.opendev.org/openstack/charm-interface-service-control refs/changes/80/734280/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'unit_tests/test_requires.py']",2,2ef3b174ebd6f9293d65d62acd0aac5abe90b10e,drop_mock,from unitest import mock,import mock,1,2
openstack%2Ftacker~master~Icafbee2e8615aa8a246de3e2e796c685257b6cd4,openstack/tacker,master,Icafbee2e8615aa8a246de3e2e796c685257b6cd4,Use LOG.warning instead of deprecated LOG.warn,MERGED,2021-11-29 09:20:03.000000000,2021-12-15 09:07:51.000000000,2021-12-15 09:05:34.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-11-29 09:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1b4aeb5283c5dbb9da6b50ac1cb1394a46838172', 'message': 'Use LOG.warning instead of deprecated LOG.warn\n\nThe LOG.warn method is deprecated[1] and the LOG.warning method should\nbe used instead.\n\n[1] https://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: Icafbee2e8615aa8a246de3e2e796c685257b6cd4\n'}, {'number': 2, 'created': '2021-12-15 01:28:39.000000000', 'files': ['tacker/glance_store/store.py', 'samples/mgmt_driver/kubernetes_mgmt.py', 'tacker/hacking/checks.py', 'tacker/conductor/conductor_server.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/fee4d127dd40bb1136281338168ef75b7c6e6611', 'message': 'Use LOG.warning instead of deprecated LOG.warn\n\nThe LOG.warn method is deprecated[1] and the LOG.warning method should\nbe used instead.\n\n[1] https://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: Icafbee2e8615aa8a246de3e2e796c685257b6cd4\n'}]",2,819613,fee4d127dd40bb1136281338168ef75b7c6e6611,11,5,2,9816,,,0,"Use LOG.warning instead of deprecated LOG.warn

The LOG.warn method is deprecated[1] and the LOG.warning method should
be used instead.

[1] https://docs.python.org/3/library/logging.html#logging.warning

Change-Id: Icafbee2e8615aa8a246de3e2e796c685257b6cd4
",git fetch https://review.opendev.org/openstack/tacker refs/changes/13/819613/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/glance_store/store.py', 'samples/mgmt_driver/kubernetes_mgmt.py', 'tacker/hacking/checks.py', 'tacker/conductor/conductor_server.py', 'tox.ini', 'HACKING.rst']",6,1b4aeb5283c5dbb9da6b50ac1cb1394a46838172,log-warn,- [T301] Log.warn is deprecated. Enforce use of LOG.warning.,,28,13
openstack%2Fzaqar~master~Ic27e6e885ec5a575ebc168d91eee761177013b9d,openstack/zaqar,master,Ic27e6e885ec5a575ebc168d91eee761177013b9d,Fix tempest error,MERGED,2021-12-02 08:51:57.000000000,2021-12-15 08:39:03.000000000,2021-12-15 08:37:11.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-02 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/cb6b4bd043f4c7bc3ff2b32cbbbfd777e85658ef', 'message': ""Fix tempest error\n\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 2, 'created': '2021-12-03 01:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0f9e5ca271f688828ec70c815314515c0d35a02d', 'message': ""Fix tempest error\n\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 3, 'created': '2021-12-03 06:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6352ec905be8fbb9c8ed760f0d500f901158ba9e', 'message': ""Fix tempest error\n\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 4, 'created': '2021-12-06 02:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/438d60f3d98849c37561bf22f462756cae6cccd5', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 5, 'created': '2021-12-06 06:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7ae5cd3b8dd1df89f26b699b376f102a2d56a899', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 6, 'created': '2021-12-06 06:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6586a3b405e1206949c6c5af7e75e7ee5dd0d929', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 7, 'created': '2021-12-06 09:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a5bc7f2050763341fe13eff7595d9fa251fe6b13', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 8, 'created': '2021-12-07 03:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/64abca18f7bdf798489abfc8e4cad741d3f464e1', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 9, 'created': '2021-12-07 07:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f8188a914313567c2c7be86185f95481a503222b', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 10, 'created': '2021-12-07 11:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9124dd54565ff04286b13dfda6252136a6c3af2b', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 11, 'created': '2021-12-09 03:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/226f018e847a25b4905b57ca618e43755b65f6d1', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 12, 'created': '2021-12-09 05:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/70d6097564e34c50a19c3e974bbee2f5b67087d8', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 13, 'created': '2021-12-09 07:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/58814cd08e00685baf83c6524048b66474195af6', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 14, 'created': '2021-12-09 08:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3ab69f06900f2a3f2fd80935cfca87a7760e3291', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 15, 'created': '2021-12-09 10:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/67023034af9c1ca008acab187605aeefc6456b14', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 16, 'created': '2021-12-10 01:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bd4662e0e468053a5702d3ab45ef3d0cc5ded74c', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 17, 'created': '2021-12-10 01:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3da97a66daa8666d46a6104db352c10ce8b58815', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 18, 'created': '2021-12-10 02:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/12c388a61ce553149c2572907c3ccf602d7f5a5c', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}, {'number': 19, 'created': '2021-12-14 01:19:43.000000000', 'files': ['releasenotes/notes/update-mongo-driver-with-new-version-of-pymongo-ebd82e428bb57ebd.yaml', 'zaqar/storage/mongodb/catalogue.py', 'zaqar/storage/mongodb/subscriptions.py', 'zaqar/storage/mongodb/topic_messages.py', 'zaqar/storage/mongodb/flavors.py', 'zaqar/common/auth.py', 'zaqar/storage/mongodb/pools.py', 'zaqar/storage/mongodb/topics.py', 'zaqar/storage/mongodb/driver.py', 'zaqar/storage/mongodb/messages.py', 'zaqar/storage/mongodb/utils.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/storage/mongodb/claims.py', 'zaqar/storage/mongodb/queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0f6ddd57099fc80776f50858c6b3178e8ec3e011', 'message': ""Fix tempest error\n\npymongo has removed the ensure_index since 4.0.0.\nSo we need to update ensure_index to create_index\nFix the error that couldn't create subscription sucessfully.\n\nChange-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d\n""}]",2,820120,0f6ddd57099fc80776f50858c6b3178e8ec3e011,42,2,19,8846,,,0,"Fix tempest error

pymongo has removed the ensure_index since 4.0.0.
So we need to update ensure_index to create_index
Fix the error that couldn't create subscription sucessfully.

Change-Id: Ic27e6e885ec5a575ebc168d91eee761177013b9d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/20/820120/19 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/notification/tasks/trust.py'],1,cb6b4bd043f4c7bc3ff2b32cbbbfd777e85658ef,fix-tempest-error,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(""Request Data is %s"", request_data)",,5,0
openstack%2Fmasakari-monitors~master~Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,openstack/masakari-monitors,master,Ib72b08823e6a086ef0efbb956a3c2cdb4366c217,Fix a typo,MERGED,2021-12-10 09:28:48.000000000,2021-12-15 08:25:28.000000000,2021-12-15 08:23:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-10 09:28:48.000000000', 'files': ['masakarimonitors/conf/host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/50677c2ca836b97a048cee3c3ceac096291fe84d', 'message': 'Fix a typo\n\nThis patch fixes a typo.\n\nChange-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217\n'}]",1,821375,50677c2ca836b97a048cee3c3ceac096291fe84d,7,2,1,30696,,,0,"Fix a typo

This patch fixes a typo.

Change-Id: Ib72b08823e6a086ef0efbb956a3c2cdb4366c217
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/75/821375/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/conf/host.py'],1,50677c2ca836b97a048cee3c3ceac096291fe84d,typo," ' hostmonitor.'),"," ' processmonitor.'),",1,1
openstack%2Fskyline-console~master~I8c714e97300e70cfe8c761736db7076127ba1e7c,openstack/skyline-console,master,I8c714e97300e70cfe8c761736db7076127ba1e7c,feat: Support flavor mem page size prop,MERGED,2021-12-15 04:22:04.000000000,2021-12-15 07:39:05.000000000,2021-12-15 07:39:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33636}]","[{'number': 1, 'created': '2021-12-15 04:22:04.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Flavor/actions/StepCreate/index.jsx', 'src/components/FormItem/MemberAllocator/index.jsx', 'src/resources/flavor.js', 'src/pages/monitor/containers/StorageCluster/RenderTabs.jsx', 'src/components/Layout/GlobalHeader/RightContent.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/91d9c80d09488be610fc683175119e870a5fa736', 'message': 'feat: Support flavor mem page size prop\n\n1. Add mem page set when create flavor\n2. Update i18n\n3. Update RightContent component extends\n\nChange-Id: I8c714e97300e70cfe8c761736db7076127ba1e7c\n'}]",0,821796,91d9c80d09488be610fc683175119e870a5fa736,7,3,1,30434,,,0,"feat: Support flavor mem page size prop

1. Add mem page set when create flavor
2. Update i18n
3. Update RightContent component extends

Change-Id: I8c714e97300e70cfe8c761736db7076127ba1e7c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/96/821796/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Flavor/actions/StepCreate/index.jsx', 'src/components/FormItem/MemberAllocator/index.jsx', 'src/resources/flavor.js', 'src/pages/monitor/containers/StorageCluster/RenderTabs.jsx', 'src/components/Layout/GlobalHeader/RightContent.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/ParamSetting.jsx']",8,91d9c80d09488be610fc683175119e870a5fa736,master2," memPageSizeMore: 'any', memPageSize: 'large', return [ 'architecture', 'category', 'attachUsb', 'memPageSizeMore', 'more', 'memPageSize', ]; pageSizeValueValidate = (rule, value) => { const r = /^[1-9]\d*(Kb\(it\)|Kib\(it\)|Mb\(it\)|Mib\(it\)|Gb\(it\)|Gib\(it\)|Tb\(it\)|Tib\(it\)|KB|KiB|MB|MiB|GB|GiB|TB|TiB)?$/; if (r.test(value)) { return Promise.resolve(); } return Promise.reject(t('Please enter right format memory page value!')); }; const { architecture, category, attachUsb, memPageSizeMore, more = false, memPageSize, } = this.state; const showNumaInput = !typeIsComputeOptimized && !isBareMetal; const showMemPageMore = more && showNumaInput; const showPageSizeInputMore = showMemPageMore && memPageSizeMore === 'custom'; const showPageSizeInput = typeIsComputeOptimized && memPageSize === 'custom'; const largePageValueTip = t( 'The unit suffix must be one of the following: Kb(it), Kib(it), Mb(it), Mib(it), Gb(it), Gib(it), Tb(it), Tib(it), KB, KiB, MB, MiB, GB, GiB, TB, TiB. If the unit suffix is not provided, it is assumed to be KB.' ); const pageSizePlaceholder = t( 'Please enter a memory page size, such as: 1024, 1024MB' ); hidden: !showNumaInput, }, { name: 'more', label: t('Advanced Options'), type: 'more', hidden: !showNumaInput, }, { name: 'memPageSizeMore', label: t('Memory Page'), type: 'select', options: pageTypeList, hidden: !showMemPageMore, required: showMemPageMore, tip: largePageTip, }, { name: 'memPageSizeValueMore', label: t('Memory Page Value'), type: 'input', hidden: !showPageSizeInputMore, required: showPageSizeInputMore, extra: largePageValueTip, validator: this.pageSizeValueValidate, placeholder: pageSizePlaceholder, name: 'memPageSizeValue', label: t('Memory Page Value'), type: 'input', hidden: !showPageSizeInput, required: showPageSizeInput, extra: largePageValueTip, validator: this.pageSizeValueValidate, placeholder: pageSizePlaceholder, }, {"," return ['architecture', 'category', 'attachUsb']; const { architecture, category, attachUsb } = this.state; hidden: typeIsComputeOptimized || isBareMetal,",119,18
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0da99239275fa7f53f032ca4a85460e6111738b4,openstack/tripleo-heat-templates,stable/wallaby,I0da99239275fa7f53f032ca4a85460e6111738b4,Missing rsyslog parameters for HAProxy,MERGED,2021-12-13 19:41:08.000000000,2021-12-15 07:14:39.000000000,2021-12-15 07:13:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-13 19:41:08.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'releasenotes/notes/bug-1953672-haproxy-rsyslog-6f8e386f8909a253.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d9d3a058bf09af6a4a8c6f14141d7a010764d97', 'message': 'Missing rsyslog parameters for HAProxy\n\nServices need to provide this rsyslog configuration in order for\ntheir logs to get ingested by rsyslog for forwarding.\n\nCloses-Bug: 1953672\nChange-Id: I0da99239275fa7f53f032ca4a85460e6111738b4\n(cherry picked from commit c3bb91338627c600d3def901113e995095c2e2b5)\n'}]",0,821618,2d9d3a058bf09af6a4a8c6f14141d7a010764d97,8,3,1,30893,,,0,"Missing rsyslog parameters for HAProxy

Services need to provide this rsyslog configuration in order for
their logs to get ingested by rsyslog for forwarding.

Closes-Bug: 1953672
Change-Id: I0da99239275fa7f53f032ca4a85460e6111738b4
(cherry picked from commit c3bb91338627c600d3def901113e995095c2e2b5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/821618/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'releasenotes/notes/bug-1953672-haproxy-rsyslog-6f8e386f8909a253.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",3,2d9d3a058bf09af6a4a8c6f14141d7a010764d97,haproxy-missing-rsyslog-params," HAProxyLoggingSource: type: json default: tag: openstack.haproxy file: /var/log/containers/haproxy/haproxy.log startmsg.regex: ""^[a-zA-Z]{3} [0-9]{2} [:0-9]{8}"" service_config_settings: rsyslog: tripleo_logging_sources_haproxy: - {get_param: HAProxyLoggingSource}",,24,0
openstack%2Ftacker-horizon~master~I47c8f5c94f2850600dd7359b2b3db1e50859008a,openstack/tacker-horizon,master,I47c8f5c94f2850600dd7359b2b3db1e50859008a,Update python testing classifier,MERGED,2021-12-14 15:40:47.000000000,2021-12-15 07:05:41.000000000,2021-12-15 07:04:16.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 29313}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-12-14 15:40:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/bb69fed635ab15629817e5a03fabe0e5600339c7', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I47c8f5c94f2850600dd7359b2b3db1e50859008a\n'}]",3,821718,bb69fed635ab15629817e5a03fabe0e5600339c7,9,6,1,32102,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I47c8f5c94f2850600dd7359b2b3db1e50859008a
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/18/821718/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bb69fed635ab15629817e5a03fabe0e5600339c7,yoga-python-testing, Programming Language :: Python :: 3.9,,1,0
openstack%2Fpython-tripleoclient~master~I526ff3b72fe58d69683e845fc2ce3758700f615f,openstack/python-tripleoclient,master,I526ff3b72fe58d69683e845fc2ce3758700f615f,Skip _validate_passwords_file preflight on UC upgrade.,ABANDONED,2021-12-14 10:22:20.000000000,2021-12-15 07:04:01.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-12-14 10:22:20.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a529599ff8a2e9d42b905332e6265ef8806fdfd9', 'message': 'Skip _validate_passwords_file preflight on UC upgrade.\n\nThe _validate_passwords_file validation avoids the user to perform\na deployment if the tripleo-undercloud-passwords.yaml file is missing.\nHowever, when performing an upgrade the undercloud-upgrade-ephimeral-heat.yaml\ntemplate will be always used, which will invoke the\nundercloud-upgrade-ephemeral-heat.py script to make sure the configuration\nis properly migrated to run with heat-ephimeral. Therefore, it does not make\nsense to halt the upgrade if the migration will take place of generating that\nfile.\n\nChange-Id: I526ff3b72fe58d69683e845fc2ce3758700f615f\nCloses-Bug: #1954753\nResolves: rhbz#2031863\n'}]",2,821686,a529599ff8a2e9d42b905332e6265ef8806fdfd9,5,4,1,26343,,,0,"Skip _validate_passwords_file preflight on UC upgrade.

The _validate_passwords_file validation avoids the user to perform
a deployment if the tripleo-undercloud-passwords.yaml file is missing.
However, when performing an upgrade the undercloud-upgrade-ephimeral-heat.yaml
template will be always used, which will invoke the
undercloud-upgrade-ephemeral-heat.py script to make sure the configuration
is properly migrated to run with heat-ephimeral. Therefore, it does not make
sense to halt the upgrade if the migration will take place of generating that
file.

Change-Id: I526ff3b72fe58d69683e845fc2ce3758700f615f
Closes-Bug: #1954753
Resolves: rhbz#2031863
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/821686/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,a529599ff8a2e9d42b905332e6265ef8806fdfd9,, if not upgrade: _checking_status('Password file') _validate_passwords_file(), _checking_status('Password file') _validate_passwords_file(),3,2
openstack%2Fswift~stable%2Fxena~I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,openstack/swift,stable/xena,I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,Fix cname_lookup test,MERGED,2021-12-14 23:48:48.000000000,2021-12-15 06:59:00.000000000,2021-12-15 06:57:32.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 23:48:48.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/68bd795a6439baa869535944380996ca365ae4c2', 'message': ""Fix cname_lookup test\n\nc.badtest.com actually has a CNAME now, and apparently we're actually\ndoing the look-up during tests.\n\nChange-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc\n(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)\n""}]",0,821758,68bd795a6439baa869535944380996ca365ae4c2,8,2,1,15343,,,0,"Fix cname_lookup test

c.badtest.com actually has a CNAME now, and apparently we're actually
doing the look-up during tests.

Change-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc
(cherry picked from commit 54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765)
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/821758/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_cname_lookup.py'],1,68bd795a6439baa869535944380996ca365ae4c2,," @mock.patch('dns.resolver.Resolver.query', side_effect=dns.exception.DNSException) def test_host_is_storage_domain(self, mock_lookup): self.assertEqual(1, len(mock_lookup.mock_calls)) mock_lookup.reset_mock() self.assertEqual(0, len(mock_lookup.mock_calls))", def test_host_is_storage_domain(self):,6,1
openstack%2Ftripleo-common~stable%2Fwallaby~I2e26e1d938d47230b31eb116cbea6f6656b4aad2,openstack/tripleo-common,stable/wallaby,I2e26e1d938d47230b31eb116cbea6f6656b4aad2,Bump Ceph container daemons to v6.0.6,MERGED,2021-12-14 13:39:19.000000000,2021-12-15 06:50:18.000000000,2021-12-15 06:48:36.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-12-14 13:39:19.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/856376c9262ab3f894733891a0f88ec38f09bc81', 'message': 'Bump Ceph container daemons to v6.0.6\n\nThe stable Ceph containers v16.2.7 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.6 for the daemon images).\n\nChange-Id: I2e26e1d938d47230b31eb116cbea6f6656b4aad2\n(cherry picked from commit fbf7abfd89df05125fe666e2293df91903adfd7c)\n'}]",0,821528,856376c9262ab3f894733891a0f88ec38f09bc81,11,8,1,25402,,,0,"Bump Ceph container daemons to v6.0.6

The stable Ceph containers v16.2.7 are now released.
This change aligns the new tag with the latest released stable
content (which is v6.0.6 for the daemon images).

Change-Id: I2e26e1d938d47230b31eb116cbea6f6656b4aad2
(cherry picked from commit fbf7abfd89df05125fe666e2293df91903adfd7c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/821528/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,856376c9262ab3f894733891a0f88ec38f09bc81,cephadm_container_promotion,- imagename: quay.io/ceph/daemon:v6.0.6-stable-6.0-pacific-centos-8-x86_64,- imagename: quay.io/ceph/daemon:v6.0.4-stable-6.0-pacific-centos-8-x86_64,2,2
openstack%2Fneutron-tempest-plugin~master~I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f,openstack/neutron-tempest-plugin,master,I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f,Update irrelevant-files for api/scenario jobs,MERGED,2021-12-09 07:13:47.000000000,2021-12-15 06:25:40.000000000,2021-12-15 06:25:40.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 07:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bbe3af2d7965e628695f42925a282eaa3be10667', 'message': ""Update irrelevant-files for api/scenario jobs\n\nAdding following neutron source files on which\napi/scenario jobs don't need to run:-\n- lower-constraints.txt\n- sample config files\n- fullstack tests\n- functional tests\n- rally-jobs\n- vagrant\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/821067\nChange-Id: I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f\n""}, {'number': 2, 'created': '2021-12-09 07:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c020b4b41ece790d0a2899f07ccef1273f6eb3ee', 'message': ""Update irrelevant-files for api/scenario jobs\n\nAdding following neutron source files on which\napi/scenario jobs don't need to run:-\n- lower-constraints.txt\n- sample config files\n- fullstack tests\n- functional tests\n- rally-jobs\n- vagrant\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/821067\nChange-Id: I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f\n""}, {'number': 3, 'created': '2021-12-10 10:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a26b24e7a39e421663d3dbed92fb9a9564c78918', 'message': ""Update irrelevant-files for api/scenario jobs\n\nAdding following neutron source files on which\napi/scenario jobs don't need to run:-\n- lower-constraints.txt\n- sample config files\n- fullstack tests\n- functional tests\n- rally-jobs\n- vagrant\n\nChange-Id: I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f\n""}, {'number': 4, 'created': '2021-12-14 09:19:15.000000000', 'files': ['zuul.d/stein_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e191dde6e16a11edfe79d6606bcc0642d0ead2b0', 'message': ""Update irrelevant-files for api/scenario jobs\n\nAdding following neutron source files on which\napi/scenario jobs don't need to run:-\n- lower-constraints.txt\n- sample config files\n- fullstack tests\n- functional tests\n- rally-jobs\n- vagrant\n\nChange-Id: I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f\n""}]",35,821160,e191dde6e16a11edfe79d6606bcc0642d0ead2b0,24,5,4,13861,,,0,"Update irrelevant-files for api/scenario jobs

Adding following neutron source files on which
api/scenario jobs don't need to run:-
- lower-constraints.txt
- sample config files
- fullstack tests
- functional tests
- rally-jobs
- vagrant

Change-Id: I22c73a6ba5dd13163dfb1c48739ef65fb4ba139f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/60/821160/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stein_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/rocky_jobs.yaml']",4,bbe3af2d7965e628695f42925a282eaa3be10667,neutron-ci-improvements, - ^neutron/tests/fullstack/.* - ^neutron/tests/functional/.* - ^neutron/tests/fullstack/.* - ^neutron/tests/functional/.*,,51,0
openstack%2Ftacker~master~I5f5bc38c023bbe7674c7513e4a0609c217936595,openstack/tacker,master,I5f5bc38c023bbe7674c7513e4a0609c217936595,Set default namespace when caling k8s scale API,MERGED,2021-12-07 10:06:05.000000000,2021-12-15 06:24:26.000000000,2021-12-15 06:22:04.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-12-07 10:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/164146dbaad3ce0a059a743d3088a8f3cf9f3bc7', 'message': '[WIP] Set default namespace when caling k8s scale api\n\nThe error is occur on calling read/patch_xxx_scale API of kubernetes\npython client when using manifest that has no namespace.\nThis patch fixes this problem by setting namespace to ""default"" if it\nis an empty string or None.\n\nCloses-Bug: #1953477\nChange-Id: I5f5bc38c023bbe7674c7513e4a0609c217936595\n'}, {'number': 2, 'created': '2021-12-07 10:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3d628f77701841c68f524b13d55b66b059caa2df', 'message': '[WIP] Set default namespace when caling k8s scale API\n\nThe error is occur on calling read/patch_xxx_scale API of kubernetes\npython client when using manifest that has no namespace.\nThis patch fixes this problem by setting namespace to ""default"" if it\nis an empty string or None.\n\nCloses-Bug: #1953477\nChange-Id: I5f5bc38c023bbe7674c7513e4a0609c217936595\n'}, {'number': 3, 'created': '2021-12-08 03:52:41.000000000', 'files': ['tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e2fa03fb7ba1d65ddf1c83b3ea856b754afbcec6', 'message': 'Set default namespace when caling k8s scale API\n\nThe error is occur on calling read/patch_xxx_scale API of kubernetes\npython client when using manifest that has no namespace in Helm chart.\nThis patch fixes this problem by setting namespace to ""default"" if it\nis an empty string or None.\n\nCloses-Bug: #1953477\nChange-Id: I5f5bc38c023bbe7674c7513e4a0609c217936595\n'}]",6,820698,e2fa03fb7ba1d65ddf1c83b3ea856b754afbcec6,20,4,3,31857,,,0,"Set default namespace when caling k8s scale API

The error is occur on calling read/patch_xxx_scale API of kubernetes
python client when using manifest that has no namespace in Helm chart.
This patch fixes this problem by setting namespace to ""default"" if it
is an empty string or None.

Closes-Bug: #1953477
Change-Id: I5f5bc38c023bbe7674c7513e4a0609c217936595
",git fetch https://review.opendev.org/openstack/tacker refs/changes/98/820698/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'worker_instance.hot.yaml']",2,164146dbaad3ce0a059a743d3088a8f3cf9f3bc7,bug/1953477,heat_template_version: 2013-05-23 description: Scaling template parameters: vdu1_flavor_id: type: string resources: VDU1: type: OS::Nova::Server properties: flavor: { get_param: vdu1_flavor_id } name: VDU1 image: #ADD_YOUR_IMAGE_HERE networks: - port: { get_resource: CP1 } CP1: type: OS::Neutron::Port properties: network: #ADD_YOUR_NETWORK_HERE ,,24,0
openstack%2Ftacker~master~I62e73f1457741ad811a89ab08630ce133cad8837,openstack/tacker,master,I62e73f1457741ad811a89ab08630ce133cad8837,Add doc of Helm chart for Kubernetes VIM,MERGED,2021-09-30 07:27:23.000000000,2021-12-15 05:49:51.000000000,2021-12-15 05:48:05.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31730}, {'_account_id': 32102}, {'_account_id': 33292}]","[{'number': 1, 'created': '2021-09-30 07:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ee898ffe98b9f8c6cb060f4c59a5bf7621b9ece5', 'message': 'Add docs of Helm chart for Kubernetes VIM\n\nUsage guides for how to install Helm to Kubernetes Cluster and deploy\nCNF using helm chart is added in user docs.\n\nChange-Id: I62e73f1457741ad811a89ab08630ce133cad8837\n'}, {'number': 2, 'created': '2021-10-01 00:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1f893196b5319a7b162782944a5a80133a4ce4d4', 'message': 'Add doc of Helm chart for Kubernetes VIM\n\nUsage guide for how to install Helm to Kubernetes Cluster and deploy\nCNF using helm chart is added in user docs.\n\nChange-Id: I62e73f1457741ad811a89ab08630ce133cad8837\n'}, {'number': 3, 'created': '2021-10-11 05:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/55134a74244d6c868e0f7c2c7d07b47c73e178c1', 'message': 'Add doc of Helm chart for Kubernetes VIM\n\nUsage guide for how to install Helm to Kubernetes Cluster and deploy\nCNF using helm chart is added in user docs.\n\nChange-Id: I62e73f1457741ad811a89ab08630ce133cad8837\n'}, {'number': 4, 'created': '2021-10-11 05:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0bb5e79b30221db4ffbbb25d524b3ee0ac5e9465', 'message': 'Add doc of Helm chart for Kubernetes VIM\n\nUsage guide for how to install Helm to Kubernetes Cluster and deploy\nCNF using helm chart is added in user docs.\n\nChange-Id: I62e73f1457741ad811a89ab08630ce133cad8837\n'}, {'number': 5, 'created': '2021-10-11 05:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/536cf49f81208bdd631ec229a0cd4481870a0e01', 'message': 'Add doc of Helm chart for Kubernetes VIM\n\nUsage guide for how to install Helm to Kubernetes Cluster and deploy\nCNF using helm chart is added in user docs.\n\nChange-Id: I62e73f1457741ad811a89ab08630ce133cad8837\n'}, {'number': 6, 'created': '2021-11-24 01:43:12.000000000', 'files': ['doc/source/user/etsi_use_case_guide.rst', 'doc/source/user/mgmt_driver_deploy_k8s_and_cnf_with_helm.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/79ad3ec71f1c430a81c8b91f3501674ef1dc91d0', 'message': 'Add doc of Helm chart for Kubernetes VIM\n\nUsage guide for how to install Helm to Kubernetes Cluster and deploy\nCNF using helm chart is added in user docs.\n\nChange-Id: I62e73f1457741ad811a89ab08630ce133cad8837\n'}]",51,811883,79ad3ec71f1c430a81c8b91f3501674ef1dc91d0,37,6,6,31857,,,0,"Add doc of Helm chart for Kubernetes VIM

Usage guide for how to install Helm to Kubernetes Cluster and deploy
CNF using helm chart is added in user docs.

Change-Id: I62e73f1457741ad811a89ab08630ce133cad8837
",git fetch https://review.opendev.org/openstack/tacker refs/changes/83/811883/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/etsi_use_case_guide.rst', 'doc/source/user/mgmt_driver_deploy_k8s_and_cnf_with_helm.rst']",2,ee898ffe98b9f8c6cb060f4c59a5bf7621b9ece5,revise-doc,"========================================================================= How to Install Helm to Kubernetes Cluster and Deploy CNF using Helm chart ========================================================================= Overview -------- Tacker supports Kubernetes resource files as Managed Container Infrastructure Object Package (MCIOP) in VNF Lifecycle Management for CNF. On the other hand, Helm chart should be also supported as MCIOP due to the trend of cloud-native application development. By following this procedure, users can install and configure Helm environment in the Master Nodes of Kubernetes Cluster deployed by using Mgmt Driver, and users can deploy CNF by using Helm chart to the deployed Kubernetes Cluster. 1. Kubernetes Cluster and Helm Deployment ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This part describes the changes to the `How to use Mgmt Driver for deploying Kubernetes Cluster`_ procedure for installing Helm. If there are any procedures that have been changed in each chapter, follow the instructions that show the changes in each chapter. If there are no changes, follow the procedures in the original manual. 2. ETSI NFV-SOL CNF (Containerized VNF) Deployment by Helm chart ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This part describes changes to the `ETSI NFV-SOL CNF (Containerized VNF) Deployment`_ procedure for deploying CNF by Helm chart. If there are any procedures that have been changed in each chapter, follow the instructions that show the changes in each chapter. If there are no changes, follow the procedures in the original manual. Kubernetes Cluster and Helm Deployment -------------------------------------- 1. Create and Upload VNF Package ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This chapter describes the changes in the procedure for `Create and Upload VNF Package`_. The changes to the procedure are as follows. * Modify the TOSCA.meta file to install Helm * Add Helm Install Script 1. Directory Structure ~~~~~~~~~~~~~~~~~~~~~~ TOSCA-Metadata/TOSCA.meta ::::::::::::::::::::::::: This section describes the changes to `TOSCA-Metadata/TOSCA.meta`_. To install Helm when deploying a Kubernetes Cluster, add the helm install script information to the ""TOSCA.meta"" file. The target of ""helm install script information"" is the script added by the following :ref:`directory-Scripts/`. The sample file is shown below. TOSCA.meta .. code-block:: console $ cat TOSCA-Metadata/TOSCA.meta TOSCA-Meta-File-Version: 1.0 Created-by: Dummy User CSAR-Version: 1.1 Entry-Definitions: Definitions/sample_kubernetes_top.vnfd.yaml Name: Files/images/ubuntu-20.04-server-cloudimg-amd64.img Content-Type: application/x-iso9066-image Name: Scripts/install_k8s_cluster.sh Content-Type: application/sh Algorithm: SHA-256 Hash: ec6423c8d68ff19e0d44b1437eddefa410a5ed43a434fa51ed07bde5a6d06abe Name: Scripts/install_helm.sh Content-Type: application/sh Algorithm: SHA-256 Hash: 4af332b05e3e85662d403208e1e6d82e5276cbcd3b82a3562d2e3eb80d1ef714 Name: Scripts/kubernetes_mgmt.py Content-Type: text/x-python Algorithm: SHA-256 Hash: bf651994ca7422aadeb0a12fed179f44ab709029c2eee9b2b9c7e8cbf339a66d .. _directory-Scripts/: Scripts/ :::::::: This section describes the changes to `Scripts/`_. Add the following helm install script to the Scripts/. `install_helm.sh`_ .. code-block:: console $ ls Scripts/ install_helm.sh install_k8s_cluster.sh kubernetes_mgmt.py Since there is no change in the procedure of Definitions/, Files/images/, BaseHOT/, UserData/, perform as `1. Directory Structure`_. After completing this procedure, perform `2. Create VNF Package`_. .. _Deploy Kubernetes Cluster by helm: 2. Deploy Kubernetes Cluster ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This chapter describes the changes in the procedure for `Deploy Kubernetes Cluster`_. The changes to the procedure are as follows. * Add script path information to install Helm 1. Multi-master Nodes ~~~~~~~~~~~~~~~~~~~~~ 1. Create the Parameter File :::::::::::::::::::::::::::: This section describes the changes to `1. Create the Parameter File`_. Add ""helm_installation_script_path"" as a KeyValuePairs to the definition of `Explanation of the parameters for deploying a Kubernetes cluster`_ to install Helm. Along with this change, the json file should also include the above KeyValuePairs. .. code-block:: console ## Request parameter to install Helm +--------------------------------------+---------------------------------------------------------+ | Attribute name | Parameter description | +======================================+=========================================================+ | helm_installation_script_path | File path of the script file to install Helm. | +--------------------------------------+---------------------------------------------------------+ complex_kubernetes_param_file.json .. code-block:: json { ""flavourId"": ""complex"", ""vimConnectionInfo"": [{ ""id"": ""3cc2c4ff-525c-48b4-94c9-29247223322f"", ""vimId"": ""8343f55f-6bdf-4c5f-91c4-f6dd145c616d"", ""vimType"": ""openstack"" }], ""additionalParams"": { ""k8s_cluster_installation_param"": { ""script_path"": ""Scripts/install_k8s_cluster.sh"", ""vim_name"": ""kubernetes_vim_complex_helm"", ""master_node"": { ""aspect_id"": ""master_instance"", ""ssh_cp_name"": ""masterNode_CP1"", ""nic_cp_name"": ""masterNode_CP1"", ""username"": ""ubuntu"", ""password"": ""ubuntu"", ""cluster_cp_name"": ""vip_CP"" }, ""worker_node"": { ""aspect_id"": ""worker_instance"", ""ssh_cp_name"": ""workerNode_CP2"", ""nic_cp_name"": ""workerNode_CP2"", ""username"": ""ubuntu"", ""password"": ""ubuntu"" }, ""proxy"": { ""http_proxy"": ""http://user1:password1@host1:port1"", ""https_proxy"": ""http://user1:password1@host1:port1"", ""k8s_node_cidr"": ""10.10.0.0/24"" }, ""helm_installation_script_path"": ""Scripts/install_helm.sh"" }, ""lcm-operation-user-data"": ""./UserData/k8s_cluster_user_data.py"", ""lcm-operation-user-data-class"": ""KubernetesClusterUserData"" }, ""extVirtualLinks"": [{ ""id"": ""net0_master"", ""resourceId"": ""9015848b-8b11-40bd-a918-01138313afa5"", ""extCps"": [{ ""cpdId"": ""masterNode_CP1"", ""cpConfig"": [{ ""linkPortId"": ""ed802cb7-15a4-4942-bf42-21511c888e21"" }] }] }, { ""id"": ""net0_worker"", ""resourceId"": ""9015848b-8b11-40bd-a918-01138313afa5"", ""extCps"": [{ ""cpdId"": ""workerNode_CP2"", ""cpConfig"": [{ ""linkPortId"": ""ed802cb7-15a4-4942-bf42-21511c888e33"" }] }] }] } After completing this procedure, execute the following :ref:`2. Check the Instantiation Operations (multi) result`. .. _2. Check the Instantiation Operations (multi) result: 2. Check the Instantiation Operations result :::::::::::::::::::::::::::::::::::::::::::: This chapter describes the steps to verify that Helm has been successfully installed. After performing the procedure of `2. Execute the Instantiation Operations for Multi Master Node`_, make sure that VIM with extra field is added to vimConnectionInfo. .. code-block:: console $ openstack vnflcm show 7131268c-68ca-4cbe-a881-de4fc339303e --column ""VIM Connection Info"" +---------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+ | Field | Value | +---------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+ | VIM Connection Info | [ | | | { | | | ""id"": ""3cc2c4ff-525c-48b4-94c9-29247223322f"", | | | ""vimId"": ""8343f55f-6bdf-4c5f-91c4-f6dd145c616d"", | | | ""vimType"": ""openstack"", | | | ""interfaceInfo"": {}, | | | ""accessInfo"": {}, | | | ""extra"": {} | | | }, | | | { | | | ""id"": ""7829ce55-86cc-4d02-98a5-4d6ed9214bcb"", | | | ""vimId"": ""690edc6b-7581-48d8-9ac9-910c2c3d7c02"", | | | ""vimType"": ""kubernetes"", | | | ""interfaceInfo"": null, | | | ""accessInfo"": { | | | ""authUrl"": ""https://10.10.0.91:16443"" | | | }, | | | ""extra"": { | | | ""helmInfo"": ""{'masternode_ip': ['10.10.0.35', '10.10.0.63', '10.10.0.4'], 'masternode_username': 'ubuntu', 'masternode_password': 'ubuntu'}"" | | | } | | | } | | | ] | +---------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+ 2. Single Master Node ~~~~~~~~~~~~~~~~~~~~~ 1. Create the Parameter File :::::::::::::::::::::::::::: As in the case of ""Multi Master Node"", add ""helm_installation_script_path"" as a KeyValuePairs to the definition of `Explanation of the parameters for deploying a Kubernetes cluster`_. In addition, you should include KeyValuePairs in the json file. After completing this procedure, execute the following :ref:`2. Check the Instantiation Operations (single) result`. .. _2. Check the Instantiation Operations (single) result: 2. Check the Instantiation Operations result :::::::::::::::::::::::::::::::::::::::::::: This chapter describes the steps to verify that Helm has been successfully installed. As in the case of ""Multi Master Node"", make sure that VIM with extra field is added to vimConnectionInfo. ETSI NFV-SOL CNF (Containerized VNF) Deployment by Helm chart ------------------------------------------------------------- 1. Prepare Kubernetes VIM ^^^^^^^^^^^^^^^^^^^^^^^^^ This chapter describes the procedure changes for `Prepare Kubernetes VIM`_. The changes to the procedure are as follows. * Skip the VIM registration procedure 1. Create a Config File ~~~~~~~~~~~~~~~~~~~~~~~ The procedure to be changed is `1. Create a Config File`_. This step does not need to be performed because it is performed in conjunction with the VIM registration during the Helm installation procedure. After completing the procedures in this chapter, execute the following :ref:`Register Kubernetes VIM by helm charts` instead of conventional procedure (`2. Register Kubernetes VIM`_). .. _Register Kubernetes VIM by helm charts: 2. Register Kubernetes VIM ~~~~~~~~~~~~~~~~~~~~~~~~~~ The procedure to be changed is `2. Register Kubernetes VIM`_. If Helm is used, no new registration is required because :ref:`Deploy Kubernetes Cluster by helm` registers VIM when Kubernetes Cluster is deployed. For the registered VIM information, confirm that the VIM registered in :ref:`Deploy Kubernetes Cluster by helm` exists and the Status is ""REACHABLE"". .. code-block:: console $ openstack vim list +--------------------------------------+-----------------------------+----------------------------------+------------+------------+-------------+ | ID | Name | Tenant_id | Type | Is Default | Status | +--------------------------------------+-----------------------------+----------------------------------+------------+------------+-------------+ | 690edc6b-7581-48d8-9ac9-910c2c3d7c02 | kubernetes_vim_complex_helm | 7e757a0cfea940dab100216036212a65 | kubernetes | False | REACHABLE | | 8343f55f-6bdf-4c5f-91c4-f6dd145c616d | VIM0 | 7e757a0cfea940dab100216036212a65 | openstack | True | REACHABLE | +--------------------------------------+-----------------------------+----------------------------------+------------+------------+-------------+ After completing this procedure, perform `Prepare VNF Package`_. 2. Prepare VNF Package ^^^^^^^^^^^^^^^^^^^^^^ This chapter describes the procedure changes for `Prepare VNF Package`_. The changes to the procedure are as follows. * Skip Kubernetes object file creation * Prepare to use a local Helm chart file * Verify VNFD constraints 1. Create a Kubernetes Object File ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The procedure to be changed is `2. Create a Kubernetes Object File`_. If you use Helm, you do not need to perform this step because the deployment uses Helm chart instead of the deployment.yaml file. After completing this procedure, execute the following :ref:`Deploy a local Helm chart file`. .. _Deploy a local Helm chart file: 2. Deploy a local Helm chart file ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section describes the procedures required to deploy using Helm chart. When using a a local Helm chart file, place the chart file you want to use in ""Files/Kubernetes"". If you use an external repository, you do not need to store chart files. Please refer to [#Helm-Create]_ and [#Helm-Package]_ for how to create and package a Helm chart file and points to be aware of when creating it. .. code-block:: console $ ls Files/kubernetes/ localhelm-0.1.0.tgz After completing this procedure, execute the following :ref:`Create a TOSCA.meta File` instead of `3. Create a TOSCA.meta File`_. .. _Create a TOSCA.meta File: 3. Create a TOSCA.meta File ~~~~~~~~~~~~~~~~~~~~~~~~~~~ The procedure to be changed is `3. Create a TOSCA.meta File`_. If you use a local Helm chart file, enter the relevant information for the chart file instead of ""deployment.yaml"". .. code-block:: console $ cat TOSCA-Metadata/TOSCA.meta TOSCA-Meta-File-Version: 1.0 Created-by: dummy_user CSAR-Version: 1.1 Entry-Definitions: Definitions/sample_vnfd_top.yaml Name: Files/kubernetes/localhelm-0.1.0.tgz Content-Type: application/tar+gzip Algorithm: SHA-256 Hash: 837fcfb73e5fc58572851a80a0143373d9d28ec37bd3bdf52c4d7d34b97592d5 After completing this procedure, perform `4. Download ETSI Definition File`_. 4. Create VNFD ~~~~~~~~~~~~~~ The procedure to be changed is `5. Create VNFD`_. To deploy CNF using Helm chart, modify the ""topology_template.node_templates.VDUxx.properties.name"" value in ""helloworld3_df_simple.yaml"". The following is an example of setting when using an external repository and a local Helm chart file. Refer to :ref:`Set the Value to the Request Parameter File for Helm chart` for the correspondence between the set value and the parameter. If you are using a chart file stored in external repository, the ""topology_template.node_templates.VDUxx.properties.name"" value is ""<helmreleasename> - <helmchartname>"". The following shows the relationship between the value of ""topology_template.node_templates.VDUxx.properties.name"" when using an external repository and the resource definition file created in the step `Instantiate VNF`_. .. code-block:: console $ cat instance_helm.json { ""helmreleasename"": ""vdu1"", ""helmchartname"": ""externalhelm"", } $ cat Definitions/helloworld3_df_simple.yaml topology_template: node_templates: VDU1: properties: name: vdu1-externalhelm If you are using local Helm chart file, ""topology_template.node_templates.VDUxx.properties.name"" value is ""<helmreleasename> - <part of helmchartfile_path>"". .. note:: ""part of helmchart_path"" is the part of file name without ""-<version>.tgz"" at the end. In the following example, it is ""localhelm"". The following shows the relationship between the value of ""topology_template.node_templates.VDUxx.properties.name"" when using an external repository and the resource definition file created in the step `Instantiate VNF`_. .. code-block:: console $ cat instance_helm.json { ""helmreleasename"": ""vdu1"", ""helmchartfile_path"": ""Files/kubernetes/localhelm-0.1.0.tgz"" } $ cat Definitions/helloworld3_df_simple.yaml topology_template: node_templates: VDU1: properties: name: vdu1-localhelm After completing this procedure, perform `6. Compress VNF Package`_. 3. Instantiate VNF ^^^^^^^^^^^^^^^^^^ This chapter describes the procedure changes for `Instantiate VNF`_. The changes to the procedure are as follows. * Add the parameters for deploying CNF to the json definition file * Verify CNF deployment results .. _Set the Value to the Request Parameter File for Helm chart: 1. Set the Value to the Request Parameter File for Helm chart ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The procedure to be changed is `1. Set the Value to the Request Parameter File`_. After verifying the identity of the VIM according to the procedure, add the following parameter to the json definition file to deploy CNF by Helm chart. .. code-block:: console ## List of additional parameters for deploying CNF by Helm chart +----------------------------+-----------+-----------------------------------------------------------+ | Attribute name | Data type | Parameter description | +============================+===========+===========================================================+ |namespace | String | Namespace to deploy Kubernetes resources. | | | | If absent, the value in Helm chart is used as default. | +----------------------------+-----------+-----------------------------------------------------------+ |use_helm | Boolean | If ""true"", Kubernetes InfraDriver utilizes Helm client, | | | | otherwise, Kubernetes Python client is used. | | | | true: with Helm, false: without Helm | +----------------------------+-----------+-----------------------------------------------------------+ |using_helm_install_param | Array | Parameters for the step related to Helm chart. | | | | Shall be present if ""use_helm"" is ""true"". | +----------------------------+-----------+-----------------------------------------------------------+ |> exthelmchart | Boolean | If true, Helm chart is not in VNF Package. | | | | true: external Helm chart, false: in VNF Package | +----------------------------+-----------+-----------------------------------------------------------+ |> helmchartfile_path | String | Path of Helm chart files in VNF Package. | | | | Shall be present if ""exthelmchart"" is ""false"". | | | | | | | | Note: The ""part of helmchartfile_path"" that is noted | | | | above must be unique for VIM. | +----------------------------+-----------+-----------------------------------------------------------+ |> helmreleasename | String | Name of release as instance of Helm chart. | | | | | | | | Note: This parameter must be unique for VIM. | +----------------------------+-----------+-----------------------------------------------------------+ |> helmparameter | Array | Parameters of KeyValuePairs, | | | | which is specified during Helm installation. | +----------------------------+-----------+-----------------------------------------------------------+ |> helmrepostitoryname | String | Helm repository name. | | | | Shall be present if ""exthelmchart"" is ""true"". | +----------------------------+-----------+-----------------------------------------------------------+ |> helmchartname | String | Helm chart name. | | | | Shall be present if ""exthelmchart"" is ""true"". | | | | | | | | Note: This parameter must be unique for VIM. | +----------------------------+-----------+-----------------------------------------------------------+ |> exthelmrepo_url | String | URL of external Helm repository. | | | | Shall be present if ""exthelmchart"" is ""true"". | | | | | | | | Note: Don't specify a different exthelmrepo_url for an | | | | already registered helmrepositoryname in VIM. | +----------------------------+-----------+-----------------------------------------------------------+ If you are deploying using a chart file stored in external repository, set the value of exthelmchart in ""additionalParams"" to ""true"" and set other parameters. The following is a json definition file for deployment using a chart file stored in an external repository. .. code-block:: console $ cat instance_helm.json { ""flavourId"": ""simple"", ""additionalParams"": { ""namespace"": ""default"", ""use_helm"": ""true"", ""using_helm_install_param"": [ { ""exthelmchart"": ""true"", ""helmreleasename"": ""vdu1"", ""helmparameter"": [ ""key1=value1"", ""key2=value2"" ], ""helmrepositoryname"": ""mychart"", ""helmchartname"": ""externalhelm"", ""exthelmrepo_url"": ""http://helmrepo.example.com/sample-charts"" }, ""vimConnectionInfo"": [ { ""id"": ""817954e4-c321-4a31-ae06-cedcc4ddb85c"", ""vimId"": ""690edc6b-7581-48d8-9ac9-910c2c3d7c02"", ""vimType"": ""kubernetes"" } ] } .. note:: The ""helmreleasename"" and ""helmchartname"" in the json file must match the ""topology_template.node_templates.VDUxx.properties.name"" value set in the VNFD. If you are deploying using a local Helm chart file, set the value of exthelmchart in ""additionalParams"" to ""false"" and set other parameters. The following is the json definition file for deployment using a local Helm chart file. .. code-block:: console $ cat instance_helm.json { ""flavourId"": ""simple"", ""additionalParams"": { ""namespace"": ""default"", ""use_helm"": ""true"", ""using_helm_install_param"": [ { ""exthelmchart"": ""false"", ""helmreleasename"": ""vdu1"", ""helmparameter"": [ ""key1=value1"", ""key2=value2"" ], ""helmchartfile_path"": ""Files/kubernetes/localhelm-0.1.0.tgz"" } ] }, ""vimConnectionInfo"": [ { ""id"": ""817954e4-c321-4a31-ae06-cedcc4ddb85c"", ""vimId"": ""690edc6b-7581-48d8-9ac9-910c2c3d7c02"", ""vimType"": ""kubernetes"" } ] } .. note:: The ""helmreleasename"" and ""helmchartfile_path"" in the json file must match the ""topology_template.node_templates.VDUxx.properties.name"" value set in the VNFD. After completing this procedure, perform `2. Execute the Instantiation Command`_. 2. Check the Deployment in Kubernetes ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The procedure to be changed is `4. Check the Deployment in Kubernetes`_ . In addition to checkpoints before modifying the procedure, ensure that the NAME of the deployed CNF matches the value set for the VNFD (topology_template.node_templates.VDUxx.properties.name). .. code-block:: console $ kubectl get deploy NAME READY UP-TO-DATE AVAILABLE AGE vdu1-localhelm 1/1 1 1 5m1s After completing this procedure, execute the following :ref:`3. Check the Deployment in Helms`. .. _3. Check the Deployment in Helms: 3. Check the Deployment in Helms ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This chapter describes the steps to verify that CNF is deployed using Helm chart. Run the following command to verify that it is deployed by the Helm chart. If NAME matches ""helmreleasename"" then deployment succeeded. .. code-block:: console $ helm list --all NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION vdu1 default 1 2021-09-10 09:26:02.091007332 +0000 UTC deployed localhelm-0.1.0 1.16.0 Reference --------- .. _How to use Mgmt Driver for deploying Kubernetes Cluster : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html .. _Create and Upload VNF Package : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#create-and-upload-vnf-package .. _TOSCA-Metadata/TOSCA.meta : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#tosca-metadata-tosca-meta .. _TOSCA.meta : https://opendev.org/openstack/tacker/src/branch/master/samples/mgmt_driver/kubernetes_vnf_package/TOSCA-Metadata/TOSCA.meta .. _Scripts/ : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#scripts .. _1. Directory Structure : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#directory-structure .. _2. Create VNF Package : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#create-vnf-package .. _install_helm.sh : https://opendev.org/openstack/tacker/src/branch/master/samples/mgmt_driver .. _Deploy Kubernetes Cluster : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#deploy-kubernetes-cluster .. _1. Create the Parameter File : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#id2 .. _Explanation of the parameters for deploying a Kubernetes cluster : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#single-master-node .. _2. Execute the Instantiation Operations for Multi Master Node : https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_usage_guide.html#id3 .. _ETSI NFV-SOL CNF (Containerized VNF) Deployment : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html .. _Prepare Kubernetes VIM : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#prepare-kubernetes-vim .. _1. Create a Config File : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#create-a-config-file .. _2. Register Kubernetes VIM : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#register-kubernetes-vim .. _Prepare VNF Package : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#prepare-vnf-package .. _2. Create a Kubernetes Object File : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#create-a-kubernetes-object-file .. _3. Create a TOSCA.meta File : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#create-a-tosca-meta-file .. _4. Download ETSI Definition File : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#download-etsi-definition-file .. _5. Create VNFD : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#create-vnfd .. _Instantiate VNF : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#set-the-value-to-the-request-parameter-file .. _6. Compress VNF Package : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#compress-vnf-package .. _1. Set the Value to the Request Parameter File : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#set-the-value-to-the-request-parameter-file .. _2. Execute the Instantiation Command : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#execute-the-instantiation-command .. _4. Check the Deployment in Kubernetes : https://docs.openstack.org/tacker/latest/user/etsi_containerized_vnf_usage_guide.html#check-the-deployment-in-kubernetes .. [#Helm-Create] : https://helm.sh/docs/helm/helm_create/ .. [#Helm-Package] : https://helm.sh/docs/helm/helm_package/ ",,636,0
openstack%2Fmanila~master~I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4,openstack/manila,master,I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4,Fix ignored [neutron] options,MERGED,2021-10-13 14:04:09.000000000,2021-12-15 05:26:21.000000000,2021-12-15 02:38:35.000000000,"[{'_account_id': 9816}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-10-13 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d5017ef667847eb362c40e7ac2b5c25d163d4dd0', 'message': 'Fix ignored [neutron] options\n\nThe following three options have had no effect since implementation\nto use these parameters were unintentionally removed by [1].\n - url\n - url_timeout\n - auth_strategy\n\nThis change ensures these options are used to initialize neutron\nclient objects.\n\nNote that default value of the url option is changed to None so that\nthe parameter is not unintentionally enabled.\n\n[1] 7fc492ea79ab0dbbc3d50bf477ae2a1586281dda\n\nCloses-Bug: #1946990\nChange-Id: I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4\n'}, {'number': 2, 'created': '2021-10-13 14:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d5611e8b5abd3d962943dcc32b9f9263bc1fcb7b', 'message': 'Fix ignored [neutron] options\n\nThe following three options have had no effect since implementation\nto use these parameters were unintentionally removed by [1].\n - url\n - url_timeout\n - auth_strategy\n\nThis fixes/deprecates these parameters. The details are as follows.\n\n1) url\nThis option is fixed and now overrides the endpoint url which Manila\nuses to connect neutron. Default of the url option is changed to keep\nthe existing behavior by default.\n\n2) url_timeout\nThis option is just deprecated, because there is already the timeout\nparameter in keystoneauth to define request timeout.\n\n3) auth_strategy\nThis option is also deprecated. The auth mechanism should be defined\nby the auth_type parameter in keystoneauth instead.\n\n[1] 7fc492ea79ab0dbbc3d50bf477ae2a1586281dda\n\nCloses-Bug: #1946990\nChange-Id: I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4\n'}, {'number': 3, 'created': '2021-10-13 14:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/63f736bc1aaa4339e742d4c92c48a248ad7fda01', 'message': 'Fix ignored [neutron] options\n\nThe following three options have had no effect since implementation\nto use these parameters were unintentionally removed by [1].\n - url\n - url_timeout\n - auth_strategy\n\nThis fixes/deprecates these parameters. The details are as follows.\n\n1) url\nThis option is fixed and now overrides the endpoint url which Manila\nuses to connect neutron. Default of the url option is changed to keep\nthe existing behavior by default.\n\n2) url_timeout\nThis option is just deprecated, because there is already the timeout\nparameter in keystoneauth to define request timeout.\n\n3) auth_strategy\nThis option is also deprecated. The auth mechanism should be defined\nby the auth_type parameter in keystoneauth instead.\n\n[1] 7fc492ea79ab0dbbc3d50bf477ae2a1586281dda\n\nCloses-Bug: #1946990\nChange-Id: I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4\n'}, {'number': 4, 'created': '2021-10-13 14:55:15.000000000', 'files': ['releasenotes/notes/bug-1946990-fix-ignored-neutron-opts-c438a089de9e2066.yaml', 'manila/tests/network/neutron/test_neutron_api.py', 'manila/network/neutron/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2fd701e657a94d99ede610318c1247ce116bf704', 'message': 'Fix ignored [neutron] options\n\nThe following three options have had no effect since implementation\nto use these parameters were unintentionally removed by [1].\n - url\n - url_timeout\n - auth_strategy\n\nThis fixes/deprecates these parameters. The details are as follows.\n\n1) url\nThis option is fixed and now overrides the endpoint url which Manila\nuses to connect neutron. Default of the url option is changed to keep\nthe existing behavior by default.\n\n2) url_timeout\nThis option is just deprecated, because there is already the timeout\nparameter in keystoneauth to define request timeout.\n\n3) auth_strategy\nThis option is also deprecated. The auth mechanism should be defined\nby the auth_type parameter in keystoneauth instead.\n\n[1] 7fc492ea79ab0dbbc3d50bf477ae2a1586281dda\n\nCloses-Bug: #1946990\nChange-Id: I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4\n'}]",5,813831,2fd701e657a94d99ede610318c1247ce116bf704,33,5,4,9816,,,0,"Fix ignored [neutron] options

The following three options have had no effect since implementation
to use these parameters were unintentionally removed by [1].
 - url
 - url_timeout
 - auth_strategy

This fixes/deprecates these parameters. The details are as follows.

1) url
This option is fixed and now overrides the endpoint url which Manila
uses to connect neutron. Default of the url option is changed to keep
the existing behavior by default.

2) url_timeout
This option is just deprecated, because there is already the timeout
parameter in keystoneauth to define request timeout.

3) auth_strategy
This option is also deprecated. The auth mechanism should be defined
by the auth_type parameter in keystoneauth instead.

[1] 7fc492ea79ab0dbbc3d50bf477ae2a1586281dda

Closes-Bug: #1946990
Change-Id: I34cfff78d70a5e1cbd2ee75da36b692cb19a45a4
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/813831/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1946990-fix-ignored-neutron-opts-c438a089de9e2066.yaml', 'manila/tests/network/neutron/test_neutron_api.py', 'manila/network/neutron/api.py']",3,d5017ef667847eb362c40e7ac2b5c25d163d4dd0,bug/1946990," timeout=CONF[NEUTRON_GROUP].url_timeout, endpoint_url=CONF[NEUTRON_GROUP].url, auth_strategy=CONF[NEUTRON_GROUP].auth_strategy,"," default='http://127.0.0.1:9696',",24,1
openstack%2Ftripleo-common~stable%2Fussuri~I2d06904cc89e398f82ffc8b4f2d862427507d0dc,openstack/tripleo-common,stable/ussuri,I2d06904cc89e398f82ffc8b4f2d862427507d0dc,Add tempest to sudoers for tempest container image,MERGED,2021-12-13 15:45:47.000000000,2021-12-15 05:26:01.000000000,2021-12-15 05:24:27.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 15:45:47.000000000', 'files': ['container-images/tcib/base/os/tempest/tempest_sudoers', 'container-images/tcib/base/os/tempest/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad0438d6f3a7d21ad7e72dfb328ac5d3899f2f2e', 'message': 'Add tempest to sudoers for tempest container image\n\nRequired to configure TLS in the tempest pod init when used by\nosp-director-operator.\n\nWorkaround cirular dependency: tempest_sudoers will not exist until this\npatch is included in the openstack-tripleo-common-containers rpm.\nFallback to using an existing sudoers file with sed, then followup with\na patch to remove this logic once the package is updated.\n\nDepends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5\n\nChange-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc\n(cherry picked from commit b80b98ffe96c4a182efb264f8d476717220f8dca)\n(cherry picked from commit 1b211e64868eda1d9191923ba9c7496bcbffb1ff)\n(cherry picked from commit 7c93f76136e9337c290b1703897cdb91b859b49b)\n'}]",0,821596,ad0438d6f3a7d21ad7e72dfb328ac5d3899f2f2e,8,4,1,23811,,,0,"Add tempest to sudoers for tempest container image

Required to configure TLS in the tempest pod init when used by
osp-director-operator.

Workaround cirular dependency: tempest_sudoers will not exist until this
patch is included in the openstack-tripleo-common-containers rpm.
Fallback to using an existing sudoers file with sed, then followup with
a patch to remove this logic once the package is updated.

Depends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5

Change-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc
(cherry picked from commit b80b98ffe96c4a182efb264f8d476717220f8dca)
(cherry picked from commit 1b211e64868eda1d9191923ba9c7496bcbffb1ff)
(cherry picked from commit 7c93f76136e9337c290b1703897cdb91b859b49b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/821596/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/tempest/tempest_sudoers', 'container-images/tcib/base/os/tempest/tempest.yaml']",2,ad0438d6f3a7d21ad7e72dfb328ac5d3899f2f2e,,- run: >- if [ -e /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers ]; then cp /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers /etc/sudoers.d/tempest_sudoers; else sed -e 's/cloud-admin/tempest/' /usr/share/openstack-tripleo-common-containers/container-images/kolla/tripleoclient/tripleoclient_sudoers > /etc/sudoers.d/tempest_sudoers; fi - run: chmod 440 /etc/sudoers.d/tempest_sudoers ,,9,0
openstack%2Fpython-tackerclient~master~Ic732cbd41691b11ae500eb9465423bb1d57c9a1e,openstack/python-tackerclient,master,Ic732cbd41691b11ae500eb9465423bb1d57c9a1e,Update python testing classifier,MERGED,2021-12-14 15:48:47.000000000,2021-12-15 04:25:00.000000000,2021-12-15 04:23:10.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-12-14 15:48:47.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/b7f27c3dc6a8ec747d13698a3ced1dc5cc162389', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file and envlist in\ntox.ini.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ic732cbd41691b11ae500eb9465423bb1d57c9a1e\n'}]",2,821722,b7f27c3dc6a8ec747d13698a3ced1dc5cc162389,9,5,1,32102,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file and envlist in
tox.ini.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ic732cbd41691b11ae500eb9465423bb1d57c9a1e
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/22/821722/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,b7f27c3dc6a8ec747d13698a3ced1dc5cc162389,yoga-python-testing,"envlist = py39,py38,py36,pep8,docs","envlist = py38,py36,pep8,docs",3,1
openstack%2Fglance_store~master~I81fcca03a2a6a0d36af8c5ea9e7709a4971ed052,openstack/glance_store,master,I81fcca03a2a6a0d36af8c5ea9e7709a4971ed052,remove unicode from code,ABANDONED,2021-01-07 08:04:22.000000000,2021-12-15 02:59:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 08:04:22.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/tests/unit/test_exceptions.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_backend.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6c5970cce3d5dd2d096d7b94e585c921d1ccf7cb', 'message': 'remove unicode from code\n\nChange-Id: I81fcca03a2a6a0d36af8c5ea9e7709a4971ed052\n'}]",0,769683,6c5970cce3d5dd2d096d7b94e585c921d1ccf7cb,3,1,1,32921,,,0,"remove unicode from code

Change-Id: I81fcca03a2a6a0d36af8c5ea9e7709a4971ed052
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/83/769683/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_exceptions.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_backend.py']",5,6c5970cce3d5dd2d096d7b94e585c921d1ccf7cb,," metadata = {'key': 'somevalue'} m = {'key': ['somevalue', '2']} inner = {'key1': 'somevalue', 'key2': 'somevalue'} inner = {'key1': 'somevalue', 'key2': 'somevalue'} m = {'topkey': inner, 'list': ['somevalue', '2'], 'u': '2'} inner = {'key1': 'somevalue', 'key2': 'somevalue'} inner = {'key1': 'somevalue', 'key2': 'somevalue', m = {'topkey': inner, 'list': ['somevalue', '2'], 'u': '2'}"," metadata = {'key': u'somevalue'} m = {'key': [u'somevalue', u'2']} inner = {'key1': u'somevalue', 'key2': u'somevalue'} inner = {'key1': u'somevalue', 'key2': u'somevalue'} m = {'topkey': inner, 'list': [u'somevalue', u'2'], 'u': u'2'} inner = {'key1': u'somevalue', 'key2': u'somevalue'} inner = {'key1': u'somevalue', 'key2': u'somevalue', m = {'topkey': inner, 'list': [u'somevalue', u'2'], 'u': u'2'}",21,21
openstack%2Ftempest~master~I7d8ab7a7bb26425fb59d82e31208eec8db1b005f,openstack/tempest,master,I7d8ab7a7bb26425fb59d82e31208eec8db1b005f,Create volume backups exceed quota,ABANDONED,2021-09-07 06:34:32.000000000,2021-12-15 02:52:05.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-07 06:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c02c9188b96831b7af6ccefcd05f2b8a17ac0f1', 'message': 'Create volume backups exceed quota\n\nChange-Id: I7d8ab7a7bb26425fb59d82e31208eec8db1b005f\n'}, {'number': 2, 'created': '2021-09-07 09:53:22.000000000', 'files': ['tempest/api/volume/admin/test_volume_quotas_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/14f80dc9e49e7dc2cc8f9dd8b0542902b4d0f977', 'message': ""Create volume backups exceed quota\n\ntest create more volume backups than tenent's quota\n\nChange-Id: I7d8ab7a7bb26425fb59d82e31208eec8db1b005f\n""}]",6,807674,14f80dc9e49e7dc2cc8f9dd8b0542902b4d0f977,6,2,2,31280,,,0,"Create volume backups exceed quota

test create more volume backups than tenent's quota

Change-Id: I7d8ab7a7bb26425fb59d82e31208eec8db1b005f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/74/807674/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_quotas_negative.py'],1,9c02c9188b96831b7af6ccefcd05f2b8a17ac0f1,tempest_10," @decorators.attr(type='negative') @decorators.idempotent_id('c0fb3f9c-dda6-4df4-a908-afc6a40230b7') def test_quota_volumes_backup(self): """"""Creating more volume backups than allowed quota will fail"""""" self.admin_quotas_client.update_quota_set( self.demo_tenant_id, backups=1, volumes=-1, gigabytes=-1) backup_name = data_utils.rand_name(self.__class__.__name__ + '-Backup') self.create_backup(volume_id=volume['id'], name=backup_name) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') self.assertRaises(lib_exc.OverLimit, self.create_backup, volume_id=volume['id'])",,13,0
openstack%2Ftempest~master~I32a4fb6ef1c62d5328c7916efdd430284ad808b2,openstack/tempest,master,I32a4fb6ef1c62d5328c7916efdd430284ad808b2,Add reset volume status negative test,ABANDONED,2021-09-07 03:22:33.000000000,2021-12-15 02:51:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-07 03:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d843b4a19f90c3477121a5b353fe42b6a6792da', 'message': 'Add reset volume status negative test\n\nChange-Id: I32a4fb6ef1c62d5328c7916efdd430284ad808b2\n'}, {'number': 2, 'created': '2021-09-07 06:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c9949ccae90d3ab7019ebdb322cd828c953fd53', 'message': 'Add reset volume status negative test\n\nTest reset volume status by normal user, reset status with nonexistent\nvolume id, reset empty status\n\nChange-Id: I32a4fb6ef1c62d5328c7916efdd430284ad808b2\n'}, {'number': 3, 'created': '2021-09-07 09:23:40.000000000', 'files': ['tempest/api/volume/admin/test_volumes_action_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b4195e96dbe53e79877de5ac7a7dd9f35530fcc1', 'message': 'Add reset volume status negative test\n\nTest reset volume status by normal user, reset status with nonexistent\nvolume id, reset empty status\n\nChange-Id: I32a4fb6ef1c62d5328c7916efdd430284ad808b2\n'}]",8,807665,b4195e96dbe53e79877de5ac7a7dd9f35530fcc1,8,2,3,31280,,,0,"Add reset volume status negative test

Test reset volume status by normal user, reset status with nonexistent
volume id, reset empty status

Change-Id: I32a4fb6ef1c62d5328c7916efdd430284ad808b2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/807665/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volumes_action_negative.py'],1,7d843b4a19f90c3477121a5b353fe42b6a6792da,tempest_09,"# Copyright 2014 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest.common import waiters from tempest.lib.common.utils import data_utils from tempest.lib import decorators class VolumesActionsNegativeTest(base.BaseVolumeAdminTest): """"""Test volume actions negative"""""" @classmethod def setup_clients(cls): super(VolumesActionsNegativeTest, cls).setup_clients() cls.volumes_client = cls.os_primary.volumes_client_latest @decorators.idempotent_id('898a110d-75c9-4f68-b44d-26f0c0e336fd') def test_volume_reset_status_normal_user(self): """"""Test reset volume status by normal user should fail"""""" volume = self.create_volume() self.addCleanup(waiters.wait_for_volume_resource_status, self.volumes_client, volume['id'], 'available') self.addCleanup(self.admin_volume_client.reset_volume_status, volume['id'], status='available') self.assertRaises(lib_exc.Forbidden, cls.volumes_client.reset_volume_status, volume['id'], status='error') @decorators.idempotent_id('898a110d-75c9-4f68-b44d-26f0c0e336fd') def test_volume_reset_status_nonexistent_volume_id(self): """"""Test reset volume status with nonexistent volume id will fail"""""" self.assertRaises(lib_exc.NotFound, self.admin_volume_client.reset_volume_status, data_utils.rand_uuid(), status='error') @decorators.idempotent_id('c8a7b6de-7d75-4ecd-bc9b-c5449a4081e6') def test_volume_reset_status_empty_status(self): """"""Test reset volume status with empty status will fail"""""" volume = self.create_volume() self.addCleanup(waiters.wait_for_volume_resource_status, self.volumes_client, volume['id'], 'available') self.addCleanup(self.admin_volume_client.reset_volume_status, volume['id'], status='available') self.assertRaises(lib_exc.BadRequest, self.admin_volume_client.reset_volume_status, volume['id'], status='') ",,59,0
openstack%2Fsenlin-tempest-plugin~master~I45e3dfbd30ee6236222c8bd8a462cd060cbddd72,openstack/senlin-tempest-plugin,master,I45e3dfbd30ee6236222c8bd8a462cd060cbddd72,API for list actions by status,MERGED,2021-06-08 02:33:50.000000000,2021-12-15 02:49:55.000000000,2021-12-15 02:49:55.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-06-08 02:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/2a3b4d293fea48cce26c4de8b09515c55649ba97', 'message': 'API for list actions by status\n\nChange-Id: I45e3dfbd30ee6236222c8bd8a462cd060cbddd72\n'}, {'number': 2, 'created': '2021-11-29 05:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/e827189db45e4fee7dbfca2cbbfea0c8b7a030b5', 'message': 'API for list actions by status\n\nChange-Id: I45e3dfbd30ee6236222c8bd8a462cd060cbddd72\n'}, {'number': 3, 'created': '2021-12-14 05:20:55.000000000', 'files': ['senlin_tempest_plugin/tests/api/actions/test_action_list.py'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/6c248fc2e45f7c36bbdb087d8fe8e64f3fe47ed0', 'message': 'API for list actions by status\n\nChange-Id: I45e3dfbd30ee6236222c8bd8a462cd060cbddd72\n'}]",1,795200,6c248fc2e45f7c36bbdb087d8fe8e64f3fe47ed0,11,4,3,31280,,,0,"API for list actions by status

Change-Id: I45e3dfbd30ee6236222c8bd8a462cd060cbddd72
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/00/795200/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_tempest_plugin/tests/api/actions/test_action_list.py'],1,2a3b4d293fea48cce26c4de8b09515c55649ba97,senlin_100," @decorators.idempotent_id('7cf0b29f-c799-4bac-9e36-57d10f222086') def test_action_list_by_status(self): res = self.client.list_objs( 'actions', params={'status': 'SUCCEEDED'}) self.assertEqual(200, res['status']) self.assertIsNone(res['location']) actions = res['body'] if res['body']: for action in actions: self.assertEqual('SUCCEEDED', action['status'])",,13,1
openstack%2Fsenlin-tempest-plugin~master~I07c3788161dbb922efca50daa808fdcd703c73f6,openstack/senlin-tempest-plugin,master,I07c3788161dbb922efca50daa808fdcd703c73f6,API for list all service for senlin engine,MERGED,2021-06-08 03:11:44.000000000,2021-12-15 02:48:50.000000000,2021-12-15 02:48:50.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-06-08 03:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/23ae95ad7e6f883614fea1b9ef5d4f0916ae25a3', 'message': 'API for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}, {'number': 2, 'created': '2021-06-08 05:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/e04ac3ceb110d88adf867b6321815679ec834656', 'message': 'API for list all service for senlin engine\n\nAPI for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}, {'number': 3, 'created': '2021-06-08 07:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/48dc138c14eb6f88767a66c0b762bb6463e766d1', 'message': 'API for list all service for senlin engine\n\nAPI for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}, {'number': 4, 'created': '2021-06-09 00:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/5b20fb7dcc02a11c58983756a8f7c77f095bb5ad', 'message': 'API for list all service for senlin engine\n\nAPI for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}, {'number': 5, 'created': '2021-11-29 05:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/dccb52d195de5af6368f6ac7edc468547f2d9b58', 'message': 'API for list all service for senlin engine\n\nAPI for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}, {'number': 6, 'created': '2021-11-29 05:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/02ad256b1f55e79eca53299658bab075d734dd1f', 'message': 'API for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}, {'number': 7, 'created': '2021-12-14 05:20:57.000000000', 'files': ['senlin_tempest_plugin/base.py', 'senlin_tempest_plugin/tests/api/services/__init__.py', 'senlin_tempest_plugin/tests/api/services/test_services_list.py', 'senlin_tempest_plugin/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/3be00f8adcbb85a18da11e9d80282a1936518f7f', 'message': 'API for list all service for senlin engine\n\nChange-Id: I07c3788161dbb922efca50daa808fdcd703c73f6\n'}]",2,795202,3be00f8adcbb85a18da11e9d80282a1936518f7f,18,4,7,31280,,,0,"API for list all service for senlin engine

Change-Id: I07c3788161dbb922efca50daa808fdcd703c73f6
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/02/795202/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin_tempest_plugin/tests/api/services/__init__.py', 'senlin_tempest_plugin/tests/api/services/test_services_list.py']",2,23ae95ad7e6f883614fea1b9ef5d4f0916ae25a3,senlin_101,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import decorators from senlin_tempest_plugin.tests.api import base class TestServicesList(base.BaseSenlinAPITest): @utils.api_microversion('1.7') @decorators.idempotent_id('ff263248-19e2-488d-8fb3-fc09ed3b078e') def test_services_list(self): res = self.client.list_objs('services') self.assertEqual(200, res['status']) self.assertIsNotNone(res['body']) services = res['body'] for service in services: for key in ['binary', 'host', 'id', 'state', 'status', 'topic', 'updated_at']: self.assertIn(key, service) ",,31,0
openstack%2Ftripleo-common~stable%2Fwallaby~I2d06904cc89e398f82ffc8b4f2d862427507d0dc,openstack/tripleo-common,stable/wallaby,I2d06904cc89e398f82ffc8b4f2d862427507d0dc,Add tempest to sudoers for tempest container image,MERGED,2021-12-13 15:42:57.000000000,2021-12-15 02:47:25.000000000,2021-12-15 02:43:57.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 15:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4017c9de5a85ab537e53cd75fb5b2e1dcdbd8e77', 'message': 'Add tempest to sudoers for tempest container image\n\nRequired to configure TLS in the tempest pod init when used by\nosp-director-operator.\n\nWorkaround cirular dependency: tempest_sudoers will not exist until this\npatch is included in the openstack-tripleo-common-containers rpm.\nFallback to using an existing sudoers file with sed, then followup with\na patch to remove this logic once the package is updated.\n\nDepends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5\n\nChange-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc\n'}, {'number': 2, 'created': '2021-12-13 15:44:21.000000000', 'files': ['container-images/tcib/base/os/tempest/tempest_sudoers', 'container-images/tcib/base/os/tempest/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b211e64868eda1d9191923ba9c7496bcbffb1ff', 'message': 'Add tempest to sudoers for tempest container image\n\nRequired to configure TLS in the tempest pod init when used by\nosp-director-operator.\n\nWorkaround cirular dependency: tempest_sudoers will not exist until this\npatch is included in the openstack-tripleo-common-containers rpm.\nFallback to using an existing sudoers file with sed, then followup with\na patch to remove this logic once the package is updated.\n\nDepends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5\n\nChange-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc\n(cherry picked from commit b80b98ffe96c4a182efb264f8d476717220f8dca)\n'}]",0,821593,1b211e64868eda1d9191923ba9c7496bcbffb1ff,9,4,2,23811,,,0,"Add tempest to sudoers for tempest container image

Required to configure TLS in the tempest pod init when used by
osp-director-operator.

Workaround cirular dependency: tempest_sudoers will not exist until this
patch is included in the openstack-tripleo-common-containers rpm.
Fallback to using an existing sudoers file with sed, then followup with
a patch to remove this logic once the package is updated.

Depends-On: I039c49e6f5872b02c1fdc1690594e0d9bef303f5

Change-Id: I2d06904cc89e398f82ffc8b4f2d862427507d0dc
(cherry picked from commit b80b98ffe96c4a182efb264f8d476717220f8dca)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/821593/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/tempest/tempest_sudoers', 'container-images/tcib/base/os/tempest/tempest.yaml']",2,4017c9de5a85ab537e53cd75fb5b2e1dcdbd8e77,,- run: >- if [ -e /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers ]; then cp /usr/share/openstack-tripleo-common-containers/container-images/tcib/base/os/tempest/tempest_sudoers /etc/sudoers.d/tempest_sudoers; else sed -e 's/cloud-admin/tempest/' /usr/share/openstack-tripleo-common-containers/container-images/kolla/tripleoclient/tripleoclient_sudoers > /etc/sudoers.d/tempest_sudoers; fi - run: chmod 440 /etc/sudoers.d/tempest_sudoers ,,9,0
openstack%2Fneutron~stable%2Fwallaby~I9f5bd8a1404dde3a0aa163ce72aef2961f537676,openstack/neutron,stable/wallaby,I9f5bd8a1404dde3a0aa163ce72aef2961f537676,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE",MERGED,2021-12-06 09:03:07.000000000,2021-12-15 02:44:27.000000000,2021-12-15 02:40:48.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-06 09:03:07.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0db5334ccf63226383f9fa85017c194bf01fcc38', 'message': 'Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE\n\nThere are two types of OF rules in TRANSIENT_TABLE:\n- With priority 100: these rules match by ""in_port"", that is a\n  unique identifier.\n- With priority 90: these rules match by MAC address and VLAN ID.\n  This combination (MAC, VLAN) is unique.\n\nThat means when a deleting an OF rule in TRANSIENT_TABLE, it is\nenough to specify the ""in_port"" or the (MAC, VLAN) tuple. The\n""--strict"" parameter, added to also define the priority, is not\nneeded.\n\nBy removing the ""--strict"" parameter, these deletion commands can\nbe executed synchronously at the end of the OVS deferred context,\nwhen all the OF rule commands (addition or deletion), are executed\nat the same time. That removes the small window, detected in the\nrelated bug, when the OF rule set for a port is not complete.\n\nCloses-Bug: #1952770\nChange-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676\n(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)\n'}]",0,820490,0db5334ccf63226383f9fa85017c194bf01fcc38,10,4,1,11975,,,0,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE

There are two types of OF rules in TRANSIENT_TABLE:
- With priority 100: these rules match by ""in_port"", that is a
  unique identifier.
- With priority 90: these rules match by MAC address and VLAN ID.
  This combination (MAC, VLAN) is unique.

That means when a deleting an OF rule in TRANSIENT_TABLE, it is
enough to specify the ""in_port"" or the (MAC, VLAN) tuple. The
""--strict"" parameter, added to also define the priority, is not
needed.

By removing the ""--strict"" parameter, these deletion commands can
be executed synchronously at the end of the OVS deferred context,
when all the OF rule commands (addition or deletion), are executed
at the same time. That removes the small window, detected in the
related bug, when the OF rule set for a port is not complete.

Closes-Bug: #1952770
Change-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676
(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/820490/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,0db5334ccf63226383f9fa85017c194bf01fcc38,bug/1952770-stable/xena-stable/wallaby," call_args1 = {""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""table"": ovs_consts.TRANSIENT_TABLE, self.mock_bridge.apply_flows.assert_called_once()"," call_args1 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, ""strict"": True, ""priority"": 100, self.assertEqual(2, self.mock_bridge.apply_flows.call_count)",14,39
openstack%2Fcyborg~master~I4ba71572181238037fb6477f1b3fb3ac4ffed6ff,openstack/cyborg,master,I4ba71572181238037fb6477f1b3fb3ac4ffed6ff,Add install index page,MERGED,2021-11-18 06:54:29.000000000,2021-12-15 02:08:06.000000000,2021-12-15 02:00:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-11-18 06:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/88114d4ec6858c09b3dd9fba0dd2876e188ee952', 'message': 'Add intall index page\n\nChange-Id: I4ba71572181238037fb6477f1b3fb3ac4ffed6ff\n'}, {'number': 2, 'created': '2021-12-15 00:44:47.000000000', 'files': ['doc/source/index.rst', 'doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2b24d6744bcdce4231dc36921083404807ef80cf', 'message': 'Add install index page\n\nChange-Id: I4ba71572181238037fb6477f1b3fb3ac4ffed6ff\n'}]",2,818336,2b24d6744bcdce4231dc36921083404807ef80cf,13,3,2,26458,,,0,"Add install index page

Change-Id: I4ba71572181238037fb6477f1b3fb3ac4ffed6ff
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/36/818336/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/install/index.rst']",2,88114d4ec6858c09b3dd9fba0dd2876e188ee952,,=============== Compute service =============== .. toctree:: common install-from-source install-from-pip ,,19,3
openstack%2Ftripleo-ansible~master~Ia30f4f27ee1a9cdd604d3c63d2d135fc471adc76,openstack/tripleo-ansible,master,Ia30f4f27ee1a9cdd604d3c63d2d135fc471adc76,bnr Add folder marker to avoid overwrote,MERGED,2021-11-04 17:54:19.000000000,2021-12-15 01:46:24.000000000,2021-12-15 01:46:24.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-11-04 17:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/514ba994ea52375c5f021377a8caa5219eff9bbe', 'message': 'bnr Add folder market to avoid overwrote\n\nAdd a specific marker (directory name) to the blockinfile to avoid\ndeletion for any updates of the execution.\n\nCurrently, to configure the ironic integration backup. There is a\nneed of a backup data server (nfs) and the ironic PXE boot files\non the undercloud. If the backup data server is going to be on the\nundercloud. We basically execute twice the nfs server configuration\nwith the data backup directory and the ironic configuration. The\nway that we configure the nfs server, the blockinfile is overwritten.\nSo only the last configuration remains.\n\nThis patch aims to modify the blockinfile only when the directory\nmatches. For two different directories, it will create two\nblockinfile blocks.\n\nChange-Id: Ia30f4f27ee1a9cdd604d3c63d2d135fc471adc76\n'}, {'number': 2, 'created': '2021-11-08 07:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ab3231419b165ca17ab14f0e86da11b83aadb4a', 'message': 'bnr Add folder marker to avoid overwrote\n\nAdd a specific marker (directory name) to the blockinfile to avoid\ndeletion for any updates of the execution.\n\nCurrently, to configure the ironic integration backup. There is a\nneed of a backup data server (nfs) and the ironic PXE boot files\non the undercloud. If the backup data server is going to be on the\nundercloud. We basically execute twice the nfs server configuration\nwith the data backup directory and the ironic configuration. The\nway that we configure the nfs server, the blockinfile is overwritten.\nSo only the last configuration remains.\n\nThis patch aims to modify the blockinfile only when the directory\nmatches. For two different directories, it will create two\nblockinfile blocks.\n\nChange-Id: Ia30f4f27ee1a9cdd604d3c63d2d135fc471adc76\n'}, {'number': 3, 'created': '2021-11-08 09:56:51.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f231ee71bf3d79257cf157917a433d7205fe93f', 'message': 'bnr Add folder marker to avoid overwrote\n\nAdd a specific marker (directory name) to the blockinfile to avoid\ndeletion for any updates of the execution.\n\nCurrently, to configure the ironic integration backup. There is a\nneed of a backup data server (nfs) and the ironic PXE boot files\non the undercloud. If the backup data server is going to be on the\nundercloud. We basically execute twice the nfs server configuration\nwith the data backup directory and the ironic configuration. The\nway that we configure the nfs server, the blockinfile is overwritten.\nSo only the last configuration remains.\n\nThis patch aims to modify the blockinfile only when the directory\nmatches. For two different directories, it will create two\nblockinfile blocks.\n\nChange-Id: Ia30f4f27ee1a9cdd604d3c63d2d135fc471adc76\n'}]",8,816730,2f231ee71bf3d79257cf157917a433d7205fe93f,25,8,3,22954,,,0,"bnr Add folder marker to avoid overwrote

Add a specific marker (directory name) to the blockinfile to avoid
deletion for any updates of the execution.

Currently, to configure the ironic integration backup. There is a
need of a backup data server (nfs) and the ironic PXE boot files
on the undercloud. If the backup data server is going to be on the
undercloud. We basically execute twice the nfs server configuration
with the data backup directory and the ironic configuration. The
way that we configure the nfs server, the blockinfile is overwritten.
So only the last configuration remains.

This patch aims to modify the blockinfile only when the directory
matches. For two different directories, it will create two
blockinfile blocks.

Change-Id: Ia30f4f27ee1a9cdd604d3c63d2d135fc471adc76
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/816730/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml'],1,514ba994ea52375c5f021377a8caa5219eff9bbe,bnr_ironic," marker: ""# {mark} ANSIBLE MANAGED BLOCK {{ tripleo_backup_and_restore_shared_storage_folder }}""",,1,0
openstack%2Fneutron~stable%2Fussuri~I9f5bd8a1404dde3a0aa163ce72aef2961f537676,openstack/neutron,stable/ussuri,I9f5bd8a1404dde3a0aa163ce72aef2961f537676,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE",MERGED,2021-12-06 09:04:00.000000000,2021-12-15 01:22:15.000000000,2021-12-15 01:20:19.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-06 09:04:00.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab6aea2639dd52867c3bc12fbca2fac3848452f', 'message': 'Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE\n\nThere are two types of OF rules in TRANSIENT_TABLE:\n- With priority 100: these rules match by ""in_port"", that is a\n  unique identifier.\n- With priority 90: these rules match by MAC address and VLAN ID.\n  This combination (MAC, VLAN) is unique.\n\nThat means when a deleting an OF rule in TRANSIENT_TABLE, it is\nenough to specify the ""in_port"" or the (MAC, VLAN) tuple. The\n""--strict"" parameter, added to also define the priority, is not\nneeded.\n\nBy removing the ""--strict"" parameter, these deletion commands can\nbe executed synchronously at the end of the OVS deferred context,\nwhen all the OF rule commands (addition or deletion), are executed\nat the same time. That removes the small window, detected in the\nrelated bug, when the OF rule set for a port is not complete.\n\nCloses-Bug: #1952770\nChange-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676\n(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)\n'}]",0,820492,3ab6aea2639dd52867c3bc12fbca2fac3848452f,11,6,1,11975,,,0,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE

There are two types of OF rules in TRANSIENT_TABLE:
- With priority 100: these rules match by ""in_port"", that is a
  unique identifier.
- With priority 90: these rules match by MAC address and VLAN ID.
  This combination (MAC, VLAN) is unique.

That means when a deleting an OF rule in TRANSIENT_TABLE, it is
enough to specify the ""in_port"" or the (MAC, VLAN) tuple. The
""--strict"" parameter, added to also define the priority, is not
needed.

By removing the ""--strict"" parameter, these deletion commands can
be executed synchronously at the end of the OVS deferred context,
when all the OF rule commands (addition or deletion), are executed
at the same time. That removes the small window, detected in the
related bug, when the OF rule set for a port is not complete.

Closes-Bug: #1952770
Change-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676
(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/820492/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,3ab6aea2639dd52867c3bc12fbca2fac3848452f,bug/1952770-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," call_args1 = {""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""table"": ovs_consts.TRANSIENT_TABLE, self.mock_bridge.apply_flows.assert_called_once()"," call_args1 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, ""strict"": True, ""priority"": 100, self.assertEqual(2, self.mock_bridge.apply_flows.call_count)",14,39
openstack%2Ftacker~master~Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02,openstack/tacker,master,Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02,[DNM] Revise FT of V2-API,ABANDONED,2021-11-02 05:58:59.000000000,2021-12-15 01:00:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-02 05:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ef0828f28e9963df30e24eef7fafd5896356e5ed', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 2, 'created': '2021-11-02 07:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3ba45384ed619ec0605c6f00734aa89dffdc6be1', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 3, 'created': '2021-11-12 04:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e249162e1b591540cba3e9050e0d1ed93a693f9e', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 4, 'created': '2021-11-12 04:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c603a36966ad195a6e16e9b0d7ed06642b703be0', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 5, 'created': '2021-11-12 04:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/188da54204b19a728f0961ac39f2d7e281609a2a', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 6, 'created': '2021-11-12 07:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/086d059ff384eb99f85196da2aad4629f25c8542', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 7, 'created': '2021-11-24 05:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5d1613174f2ec22a4f983f8b002b7d8cfc2445fb', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}, {'number': 8, 'created': '2021-11-25 04:24:22.000000000', 'files': ['tacker/tests/functional/sol_v2/samples/sample_error/contents/Definitions/v2_sample2_top.vnfd.yaml', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/Definitions/v2_sample2_types.yaml', '.zuul.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/tests/functional/sol_v2/samples/sample_error/pkggen.py', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2/samples/sample1/contents/UserData/userdata.py', 'tacker/tests/functional/sol_v2/paramgen.py', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/pkggen.py', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample_error/contents/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/tests/functional/sol_v2/base_v2.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/nested/VDU1.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/14415ebfadde704eebbbcc2fc41890b639de39b3', 'message': '[DNM] Revise FT of V2-API\n\nIn this patch, I will test the revising of FT of V2-API.\nAfter the testing is completed, I will abandon this patch and post a new patch.\n\nChange-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02\n'}]",3,816300,14415ebfadde704eebbbcc2fc41890b639de39b3,21,1,8,31072,,,0,"[DNM] Revise FT of V2-API

In this patch, I will test the revising of FT of V2-API.
After the testing is completed, I will abandon this patch and post a new patch.

Change-Id: Id73f5bd8303358c97d19b9f3fa4c2cb582a62b02
",git fetch https://review.opendev.org/openstack/tacker refs/changes/00/816300/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ef0828f28e9963df30e24eef7fafd5896356e5ed,test-revise-ft, # Temporary skip # - tacker-functional-devstack-multinode-legacy # - tacker-functional-devstack-multinode-sol # - tacker-functional-devstack-multinode-sol-separated-nfvo # - tacker-functional-devstack-multinode-sol-kubernetes # - tacker-functional-devstack-multinode-libs-master, - tacker-functional-devstack-multinode-legacy - tacker-functional-devstack-multinode-sol - tacker-functional-devstack-multinode-sol-separated-nfvo - tacker-functional-devstack-multinode-sol-kubernetes - tacker-functional-devstack-multinode-libs-master,6,5
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,openstack/tripleo-ansible,stable/train,Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,Enable security group on the Octavia management port,MERGED,2021-12-09 14:34:57.000000000,2021-12-15 00:47:19.000000000,2021-12-15 00:47:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-09 14:34:57.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-config/tasks/netport.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3fb8ec579d8a2d0db38a1201d7c7a023bf6ab5b', 'message': 'Enable security group on the Octavia management port\n\nA dedicated security group (lb-health-mgr-sec-grp) is created for the\nOctavia management port but it was unused as the port was created with\nno-security-groups.\nThis commit enables this security group of the health-manager port.\n\nChange-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea\n(cherry picked from commit a767d65dbcd5f4523fb570c87c54f58de7cb10ae)\n(cherry picked from commit d76130d0df595654341db5f5e451c1a33febb736)\n'}]",0,821226,e3fb8ec579d8a2d0db38a1201d7c7a023bf6ab5b,7,3,1,29244,,,0,"Enable security group on the Octavia management port

A dedicated security group (lb-health-mgr-sec-grp) is created for the
Octavia management port but it was unused as the port was created with
no-security-groups.
This commit enables this security group of the health-manager port.

Change-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea
(cherry picked from commit a767d65dbcd5f4523fb570c87c54f58de7cb10ae)
(cherry picked from commit d76130d0df595654341db5f5e451c1a33febb736)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/821226/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-controller-config/tasks/netport.yml'],1,e3fb8ec579d8a2d0db38a1201d7c7a023bf6ab5b,, --security-group {{ lb_health_mgr_sec_grp_name }} \, --no-security-groups \ --port-security-enabled=False \,1,2
openstack%2Fopenstacksdk~feature%2Fr1~Ie3fb8c7b14276d505a415aae857e2c6e5fefa888,openstack/openstacksdk,feature/r1,Ie3fb8c7b14276d505a415aae857e2c6e5fefa888,Add share snapshot to shared file system.,MERGED,2021-06-20 09:19:02.000000000,2021-12-14 23:19:02.000000000,2021-12-14 23:17:13.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-06-20 09:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e623b044cf395a6869f5b1e1a7d926605cf777d2', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 2, 'created': '2021-07-17 09:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/505ad0c0cb18d6dd10ee2da38d6e119b1fd7c03c', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 3, 'created': '2021-08-04 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4ad027f06db97292411284ded0b9326de887370f', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 4, 'created': '2021-08-11 08:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5dddc6d33f52102ea4d903d3bfffb63fcbeb8ac1', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 5, 'created': '2021-09-02 09:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/175955feef783f4d132f1220be77469437093032', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 6, 'created': '2021-09-07 06:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d849c07766964a1d20bf9916933047ceae76b51a', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 7, 'created': '2021-09-10 15:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/60ff3a46a48aa8abd4359fa411ab548b47f4008f', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 8, 'created': '2021-09-14 09:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c95bc45947fa91d7c037e6f4c2efd575f9c83bd4', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file system service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 9, 'created': '2021-09-16 16:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8c64cb7c2c2245fafdf2e3c92b76c1af6b722fe1', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file systems service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}, {'number': 10, 'created': '2021-11-03 07:48:36.000000000', 'files': ['openstack/shared_file_system/v2/share_snapshot.py', 'openstack/tests/functional/shared_file_system/test_share_snapshot.py', 'releasenotes/notes/add-share-snapshot-to-shared-file-82ecedbdbed2e3c5.yaml', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'doc/source/user/proxies/shared_file_system.rst', 'doc/source/user/resources/shared_file_system/index.rst', 'doc/source/user/resources/shared_file_system/v2/share_snapshot.rst', 'openstack/tests/unit/shared_file_system/v2/test_share_snapshot.py', 'openstack/shared_file_system/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/72c223b52ce9a5e86b41954358c90581015b7ee0', 'message': 'Add share snapshot to shared file system.\n\nIntroduce Share Snapshot class with basic methods\nincluding list, create, delete, get and update to\nshared file systems service.\n\nChange-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888\n'}]",29,797189,72c223b52ce9a5e86b41954358c90581015b7ee0,46,6,10,32493,,,0,"Add share snapshot to shared file system.

Introduce Share Snapshot class with basic methods
including list, create, delete, get and update to
shared file systems service.

Change-Id: Ie3fb8c7b14276d505a415aae857e2c6e5fefa888
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/797189/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/shared_file_system/v2/share_snapshot.py', 'openstack/tests/functional/shared_file_system/test_share_snapshot.py', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'releasenotes/notes/add-share-snapshot-to-shared-file-82ecedbdbed2e3c5.yaml', 'openstack/tests/unit/shared_file_system/v2/test_share_snapshot.py', 'openstack/tests/functional/shared_file_system/base.py', 'openstack/shared_file_system/v2/_proxy.py']",7,e623b044cf395a6869f5b1e1a7d926605cf777d2,share-snapshot,"from openstack.shared_file_system.v2 import share_snapshot def share_snapshots(self, details=True, **query): """"""Lists all share snapshots with details. :param kwargs query: Optional query parameters to be sent to limit the snapshots being returned. Available parameters include: * project_id: The ID of the user or service making the API request. * name~: The name pattern that can be used to filter shares, share snapshots, share networks or share groups. * description~: The description pattern that can be used to filter shares, share snapshots, share networks or share groups. :returns: Details of shares snapshot resources :rtype: :class:`~openstack.shared_file_system.v2. share_snapshot.ShareSnapshot` """""" base_path = '/share_snapshots/detail' if details else None return self._list( share_snapshot.ShareSnapshot, base_path=base_path, **query) def get_share_snapshot(self, snapshot_id): """"""Lists details of a single share snapshot :param snapshot_id: The ID of the snapshot to get :returns: Details of the identified share snapshot :rtype: :class:`~openstack.shared_file_system.v2. share_snapshot.ShareSnapshot` """""" return self._get(share_snapshot.ShareSnapshot, snapshot_id) def create_share_snapshot(self, **attrs): """"""Creates a share snapshot from attributes :returns: Details of the new share snapshot :rtype: :class:`~openstack.shared_file_system.v2. share_snapshot.ShareSnapshot` """""" return self._create(share_snapshot.ShareSnapshot, **attrs) def update_share_snapshot(self, snapshot_id, **attrs): """"""Updates details of a single share. :param snapshot_id: The ID of the snapshot to update :pram dict attrs: The attributes to update on the snapshot :returns: the updated share snapshot :rtype: :class:`~openstack.shared_file_system.v2. share_snapshot.ShareSnapshot` """""" return self._update(share_snapshot.ShareSnapshot, snapshot_id, **attrs) def delete_share_snapshot(self, snapshot_id, ignore_missing=True): """"""Deletes a single share snapshot :param snapshot_id: The ID of the snapshot to get :returns: Result of the ``delete`` :rtype: ``None`` """""" return self._delete(share_snapshot.ShareSnapshot, snapshot_id, ignore_missing=ignore_missing)",,265,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I42531b4e6f7b3b18ae085cc2eb36234cb306b375,openstack/python-tripleoclient,stable/wallaby,I42531b4e6f7b3b18ae085cc2eb36234cb306b375,Use netaddr when comparing local_ip for changes,MERGED,2021-12-09 21:56:08.000000000,2021-12-14 23:13:39.000000000,2021-12-14 23:12:03.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 21:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4482938c8ef24ab1bb7ffcecbd44c4d701b5f5a2', 'message': 'Use netaddr when comparing local_ip for changes\n\nIn undercloud preflight validations the IP address in\nconfig is compared to the IP address on the deployed\nundercloud. For IPv6 the string discovered on the\nsystem may be in a different format, representing the\nsame actual IP address and netmask but written using a\ndifferent valid syntax.\n\nLoad the existing IP and config IP as a netaddr.IPNetwork,\nand compare both the networks and IPs to ensure we compare\nthe actuall address and network, not the strings.\n\nCloses-Bug: #1953552\nChange-Id: I42531b4e6f7b3b18ae085cc2eb36234cb306b375\n(cherry picked from commit 02b67f8e63833a783ad83ece6ecdb1f0eb080ed0)\n'}, {'number': 2, 'created': '2021-12-13 12:43:01.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eadbcec0ab5cd8a61bd5f06a418edda506da582c', 'message': 'Use netaddr when comparing local_ip for changes\n\nIn undercloud preflight validations the IP address in\nconfig is compared to the IP address on the deployed\nundercloud. For IPv6 the string discovered on the\nsystem may be in a different format, representing the\nsame actual IP address and netmask but written using a\ndifferent valid syntax.\n\nLoad the existing IP and config IP as a netaddr.IPNetwork,\nand compare both the networks and IPs to ensure we compare\nthe actuall address and network, not the strings.\n\nCloses-Bug: #1953552\nChange-Id: I42531b4e6f7b3b18ae085cc2eb36234cb306b375\n(cherry picked from commit 02b67f8e63833a783ad83ece6ecdb1f0eb080ed0)\n'}]",0,821260,eadbcec0ab5cd8a61bd5f06a418edda506da582c,9,2,2,24245,,,0,"Use netaddr when comparing local_ip for changes

In undercloud preflight validations the IP address in
config is compared to the IP address on the deployed
undercloud. For IPv6 the string discovered on the
system may be in a different format, representing the
same actual IP address and netmask but written using a
different valid syntax.

Load the existing IP and config IP as a netaddr.IPNetwork,
and compare both the networks and IPs to ensure we compare
the actuall address and network, not the strings.

Closes-Bug: #1953552
Change-Id: I42531b4e6f7b3b18ae085cc2eb36234cb306b375
(cherry picked from commit 02b67f8e63833a783ad83ece6ecdb1f0eb080ed0)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/821260/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,4482938c8ef24ab1bb7ffcecbd44c4d701b5f5a2,bug/1953552-stable/wallaby, conf_netaddr = netaddr.IPNetwork(CONF.local_ip) existing_netaddr = netaddr.IPNetwork(existing_ip) if (conf_netaddr != existing_netaddr or conf_netaddr.ip != existing_netaddr.ip):, if existing_ip != CONF.local_ip:,4,1
openstack%2Foperations-guide~master~Idccebe1916c398af73205fcc1f6439b507ac7f10,openstack/operations-guide,master,Idccebe1916c398af73205fcc1f6439b507ac7f10,Update Interop doc,ABANDONED,2021-12-13 12:52:34.000000000,2021-12-14 22:53:59.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 12:52:34.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/91583996d78849bd1932fbb56d55317414e48dba', 'message': 'Update Interop doc\n\nThe commit replaces DefCore committee (a former name) by\nInterop Working Group (the current name) and updates a few\nmore old interop references.\n\nChange-Id: Idccebe1916c398af73205fcc1f6439b507ac7f10\n'}]",1,821551,91583996d78849bd1932fbb56d55317414e48dba,4,2,1,22873,,,0,"Update Interop doc

The commit replaces DefCore committee (a former name) by
Interop Working Group (the current name) and updates a few
more old interop references.

Change-Id: Idccebe1916c398af73205fcc1f6439b507ac7f10
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/51/821551/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,91583996d78849bd1932fbb56d55317414e48dba,update-interop-doc," Interop Working Group. Currently, consists of Interop Working Group. Currently, consists of"," DefCore Committee. Currently, consists of DefCore Committee. Currently, consists of",2,2
openstack%2Fha-guide~master~I2b1a318f9898b49c8478a93cf4fd639c91d2b09b,openstack/ha-guide,master,I2b1a318f9898b49c8478a93cf4fd639c91d2b09b,Update Interop doc,ABANDONED,2021-12-13 13:01:10.000000000,2021-12-14 22:53:18.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:01:10.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/b1100621f5891a95238ef11f26c6fcdf8c4302b9', 'message': 'Update Interop doc\n\nThe commit replaces DefCore committee (a former name) by\nInterop Working Group (the current name) and updates a few\nmore old interop references.\n\nChange-Id: I2b1a318f9898b49c8478a93cf4fd639c91d2b09b\n'}]",1,821553,b1100621f5891a95238ef11f26c6fcdf8c4302b9,4,2,1,22873,,,0,"Update Interop doc

The commit replaces DefCore committee (a former name) by
Interop Working Group (the current name) and updates a few
more old interop references.

Change-Id: I2b1a318f9898b49c8478a93cf4fd639c91d2b09b
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/53/821553/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,b1100621f5891a95238ef11f26c6fcdf8c4302b9,update-interop-doc," Interop Working Group. Currently, consists of Interop Working Group. Currently, consists of"," DefCore Committee. Currently, consists of DefCore Committee. Currently, consists of",2,2
openstack%2Fbarbican~stable%2Fussuri~Ie0e6f6edae40e47d45afbe92fd509032cb091b1a,openstack/barbican,stable/ussuri,Ie0e6f6edae40e47d45afbe92fd509032cb091b1a,Fix policy for Orders,MERGED,2021-12-14 19:40:42.000000000,2021-12-14 22:21:30.000000000,2021-12-14 22:19:42.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 19:40:42.000000000', 'files': ['barbican/common/policies/orders.py', 'barbican/api/controllers/orders.py', 'barbican/tests/api/test_resources_policy.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/93c5636f9c549797d95f69db89673c73f8a1b994', 'message': 'Fix policy for Orders\n\nThis patch adds checks to make sure that the project_id of the token\nmatches the project_id that owns the Order.\n\nCurrently, having a role on any project will allow the request to be\nprocessed, which results in a 404 - Not Found instead of 401 -\nForbidden.\n\nChange-Id: Ie0e6f6edae40e47d45afbe92fd509032cb091b1a\n(cherry picked from commit 5d81a3c4531f1179bcac69c4b10542da04822f8b)\n(cherry picked from commit 382b5086a2723da8f8d0a07d263ee47a9c6df5e7)\n(cherry picked from commit ea7451e32caa7863d6e511a39a508e54c60113a7)\n(cherry picked from commit 85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e)\n'}]",0,821752,93c5636f9c549797d95f69db89673c73f8a1b994,8,3,1,7973,,,0,"Fix policy for Orders

This patch adds checks to make sure that the project_id of the token
matches the project_id that owns the Order.

Currently, having a role on any project will allow the request to be
processed, which results in a 404 - Not Found instead of 401 -
Forbidden.

Change-Id: Ie0e6f6edae40e47d45afbe92fd509032cb091b1a
(cherry picked from commit 5d81a3c4531f1179bcac69c4b10542da04822f8b)
(cherry picked from commit 382b5086a2723da8f8d0a07d263ee47a9c6df5e7)
(cherry picked from commit ea7451e32caa7863d6e511a39a508e54c60113a7)
(cherry picked from commit 85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/52/821752/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/orders.py', 'barbican/api/controllers/orders.py', 'barbican/tests/api/test_resources_policy.py']",3,93c5636f9c549797d95f69db89673c73f8a1b994,," self._invoke_on_get, project_id=self.external_project_id) order = mock.MagicMock() order.id = self.order_id order.project.external_id = self.external_project_id order.creator_id = 'CRE-A-TOR-UUID' mock_to_dict = mock.MagicMock() mock_to_dict.side_effect = self._generate_get_error() order.to_dict_fields = mock_to_dict self.resource = OrderResource(order) self._invoke_on_get, project_id=self.external_project_id) self._assert_pass_rbac(['admin'], self._invoke_on_delete, project_id=self.external_project_id)"," self._invoke_on_get) self.resource = OrderResource(self.order_id) self._invoke_on_get) self._assert_pass_rbac(['admin'], self._invoke_on_delete)",23,6
openstack%2Fmanila~stable%2Fxena~I7a9fec49850e2b2369bb7b798347a03f30aee1ae,openstack/manila,stable/xena,I7a9fec49850e2b2369bb7b798347a03f30aee1ae,XENA release note regarding scheduler filters,MERGED,2021-12-08 21:38:35.000000000,2021-12-14 21:49:59.000000000,2021-12-14 21:48:08.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-12-08 21:38:35.000000000', 'files': ['releasenotes/notes/admin-only-metadata-xena-issue-91690edef7bc13aa.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/c72c607e8f285996b6a991fd5d480de2e2ec8e69', 'message': 'XENA release note regarding scheduler filters\n\nCurrently, scheduler filters are stored as metadata and can be\nmanipulated by end users as all metadata can. In a future release, these\nfilters will be restricted so that only admins can manipulate this data,\nas partially implemented in [1].\n\n[1] https://review.opendev.org/c/openstack/manila/+/806647\n\nChange-Id: I7a9fec49850e2b2369bb7b798347a03f30aee1ae\n(cherry picked from commit ca6e49da0bd70fc6758c2cd34d3503dd8d9cd8d5)\n'}]",1,821043,c72c607e8f285996b6a991fd5d480de2e2ec8e69,12,4,1,16643,,,0,"XENA release note regarding scheduler filters

Currently, scheduler filters are stored as metadata and can be
manipulated by end users as all metadata can. In a future release, these
filters will be restricted so that only admins can manipulate this data,
as partially implemented in [1].

[1] https://review.opendev.org/c/openstack/manila/+/806647

Change-Id: I7a9fec49850e2b2369bb7b798347a03f30aee1ae
(cherry picked from commit ca6e49da0bd70fc6758c2cd34d3503dd8d9cd8d5)
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/821043/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/admin-only-metadata-xena-issue-91690edef7bc13aa.yaml'],1,c72c607e8f285996b6a991fd5d480de2e2ec8e69,bp/affinity-antiaffinity-filter,"--- issues: - | User specified scheduler hints such as ""same_host"" and ""different_host"" are stored as share metadata with keys such as ""__affinity_same_host"" and ""__affinity_different_host"" respectively. These can be manipulated or deleted by end users like all metadata unless prevented by RBAC policy. In a future release, the service will restrict the deletion or manipulation of these specific metadata items. ",,10,0
openstack%2Fswift~master~I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,openstack/swift,master,I306b7d05740a2b8fcef2f5f432ebf5211bc723cc,Fix cname_lookup test,MERGED,2021-12-13 20:59:13.000000000,2021-12-14 21:33:47.000000000,2021-12-13 22:29:41.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 20:59:13.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765', 'message': ""Fix cname_lookup test\n\nc.badtest.com actually has a CNAME now, and apparently we're actually\ndoing the look-up during tests.\n\nChange-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc\n""}]",4,821625,54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765,9,2,1,15343,,,0,"Fix cname_lookup test

c.badtest.com actually has a CNAME now, and apparently we're actually
doing the look-up during tests.

Change-Id: I306b7d05740a2b8fcef2f5f432ebf5211bc723cc
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/821625/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_cname_lookup.py'],1,54fc8a7dee4ad7a38944cbd4c2e3b5f2ec393765,," @mock.patch('dns.resolver.Resolver.query', side_effect=dns.exception.DNSException) def test_host_is_storage_domain(self, mock_lookup): self.assertEqual(1, len(mock_lookup.mock_calls)) mock_lookup.reset_mock() self.assertEqual(0, len(mock_lookup.mock_calls))", def test_host_is_storage_domain(self):,6,1
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ib8757d0e5993c8be665040151cb535d4485f8dc7,openstack/tripleo-puppet-elements,stable/wallaby,Ib8757d0e5993c8be665040151cb535d4485f8dc7,Add octavia client to the installed packages for the overcloud-image,MERGED,2021-10-12 14:53:17.000000000,2021-12-14 21:27:17.000000000,2021-12-14 21:27:17.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-12 14:53:17.000000000', 'files': ['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients', 'elements/overcloud-openstack-clients/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a243865258852978ac2b413681342acf31d1c92b', 'message': 'Add octavia client to the installed packages for the overcloud-image\n\nAs per I551d6ac2d064bff05862b3ffa025240657fafd36, the client packages\nare installed in the image, but the octavia client was missing.\n\nChange-Id: Ib8757d0e5993c8be665040151cb535d4485f8dc7\n(cherry picked from commit 112071837e965d96b4941dfcda9bfcbf107d48f7)\n'}]",1,813663,a243865258852978ac2b413681342acf31d1c92b,12,4,1,6681,,,0,"Add octavia client to the installed packages for the overcloud-image

As per I551d6ac2d064bff05862b3ffa025240657fafd36, the client packages
are installed in the image, but the octavia client was missing.

Change-Id: Ib8757d0e5993c8be665040151cb535d4485f8dc7
(cherry picked from commit 112071837e965d96b4941dfcda9bfcbf107d48f7)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/63/813663/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients', 'elements/overcloud-openstack-clients/pkg-map']",2,a243865258852978ac2b413681342acf31d1c92b,wallaby," ""octaviaclient_package"": ""python2-octaviaclient"", ""octaviaclient_package"": ""python2-octaviaclient"", ""octaviaclient_package"": ""python3-octaviaclient"",",,4,0
openstack%2Fmanila~stable%2Fwallaby~I1bd57eec3474768596cfab1bf2f8eb6123cc95a8,openstack/manila,stable/wallaby,I1bd57eec3474768596cfab1bf2f8eb6123cc95a8,Adapt CephFS driver to do not try to escape export ip,MERGED,2021-11-04 15:30:51.000000000,2021-12-14 21:06:09.000000000,2021-12-14 21:03:44.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 15:30:51.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'releasenotes/notes/cephfs-fix-export-ip-escaping-on-hostname-e2866be32a8f5e38.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/909d437f1301455a7c28e781b0bec685f63b2b9d', 'message': ""Adapt CephFS driver to do not try to escape export ip\n\nChanges CephFS driver to do not try to escape export ip in case it\nis a hostname. The CephFS driver might use the hostname as an\nexport ip in case no ``cephfs_ganesha_server_ip`` is configured.\nIf that happens, we should not be allowing ip validations to occur\nuppon a hostname, because it differs from an IPv4 or IPv6 and that\nisn't necessarily an issue.\n\nChange-Id: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8\n(cherry picked from commit 43ebc12fb53546a286ac6180db52ee8bbb775b1a)\n(cherry picked from commit a1f8f4b293d6bb656109367f3531faea5f322402)\n""}]",1,816663,909d437f1301455a7c28e781b0bec685f63b2b9d,11,2,1,29632,,,0,"Adapt CephFS driver to do not try to escape export ip

Changes CephFS driver to do not try to escape export ip in case it
is a hostname. The CephFS driver might use the hostname as an
export ip in case no ``cephfs_ganesha_server_ip`` is configured.
If that happens, we should not be allowing ip validations to occur
uppon a hostname, because it differs from an IPv4 or IPv6 and that
isn't necessarily an issue.

Change-Id: I1bd57eec3474768596cfab1bf2f8eb6123cc95a8
(cherry picked from commit 43ebc12fb53546a286ac6180db52ee8bbb775b1a)
(cherry picked from commit a1f8f4b293d6bb656109367f3531faea5f322402)
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/816663/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'releasenotes/notes/cephfs-fix-export-ip-escaping-on-hostname-e2866be32a8f5e38.yaml']",2,909d437f1301455a7c28e781b0bec685f63b2b9d,,"--- fixes: - | When ``cephfs_ganesha_server_ip`` is not set, the current hostname is used as a default for such config option. The driver was treating this value as an IP address and trying to perform validations on it. The CEPH NFS driver will no longer treat hostnames as ip addresses and try to validate them as such. ",,17,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~I2df2fd42e803789de6ec651fbf424c8e565af604,openstack/tripleo-upgrade,stable/train,I2df2fd42e803789de6ec651fbf424c8e565af604,"Revert ""[upgrade] Update rename-nics for improved options""",MERGED,2021-12-10 16:13:31.000000000,2021-12-14 20:53:32.000000000,2021-12-10 23:38:24.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-12-10 16:13:31.000000000', 'files': ['files/rename-nics.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/932ddcb913947c2c4e04d3b64cd63b70bf4aa864', 'message': 'Revert ""[upgrade] Update rename-nics for improved options""\n\nThis reverts commit 2389b7a54720a40e70178d19c03a2c7a7b96c3fd.\n\nReason for revert: Jobs started to fail\n\nChange-Id: I2df2fd42e803789de6ec651fbf424c8e565af604\n'}]",1,821265,932ddcb913947c2c4e04d3b64cd63b70bf4aa864,8,4,1,11090,,,0,"Revert ""[upgrade] Update rename-nics for improved options""

This reverts commit 2389b7a54720a40e70178d19c03a2c7a7b96c3fd.

Reason for revert: Jobs started to fail

Change-Id: I2df2fd42e803789de6ec651fbf424c8e565af604
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/65/821265/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rename-nics.yaml'],1,932ddcb913947c2c4e04d3b64cd63b70bf4aa864,,"- name: Rename eth devices prefix: ""em"" tasks: - set_fact: eth_interfaces: ""{{ ansible_interfaces | select('match','eth.*') | list }}"" osnet_conf: ""/etc/os-net-config/config.json"" - debug: msg: ""{{ eth_interfaces }}"" NAME=""{{ item|replace('eth',prefix) }}"" with_items: ""{{ eth_interfaces }}"" - name: Rename eth files block: - name: Check that eth files exists with_items: ""{{ eth_interfaces }}"" - name: Copy nic files using the new prefix dest: ""{{ item.stat.path|replace('eth',prefix) }}"" line: ""NAME={{ item.item|replace('eth',prefix) }}"" path: ""{{ item.stat.path|replace('eth',prefix) }}"" line: ""DEVICE={{ item.item|replace('eth',prefix) }}"" path: ""{{ item.stat.path|replace('eth',prefix) }}"" - name: Backup old eth network-script files - name: Remove old eth network-script files with_items: ""{{ eth_interfaces }}"" - name: Copy route files using the new prefix dest: ""{{ item.stat.path|replace('eth',prefix) }}"" - name: Update prefix in route files that use IP command arguments format replace: regexp: ""eth"" replace: ""{{ prefix }}"" path: ""{{ item.stat.path|replace('eth',prefix) }}"" - name: Perform a final regex for any remaining eth prefixes in ifcfg files replace: ""{{ item[1]|replace('eth',prefix) }}"" - ""{{ eth_interfaces }}"" - name: Replace interface name in files referencing old eth interface regexp: 'eth(\d+)' replace: ""{{ prefix }}\\1"" regexp: 'eth(\d+)' replace: ""{{ prefix }}\\1""","- name: Rename network interfaces src_prefix: ""eth"" dst_prefix: ""em"" osnet_conf: ""/etc/os-net-config/config.json"" src_interfaces: ""{{ ansible_interfaces | select('match', src_prefix ~ '.*') | sort | list }}"" undercloud_conf: ""~/undercloud.conf"" tasks: - debug: msg: ""{{ src_interfaces }}"" tags: - udev NAME=""{{ item | replace(src_prefix, dst_prefix) }}"" with_items: ""{{ src_interfaces }}"" - name: Rename ifcfg files tags: - ifcfg block: - name: Check that src_prefix files exists with_items: ""{{ src_interfaces }}"" - name: Copy ifcfg files using dst_prefix dest: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" line: ""NAME={{ item.item | replace(src_prefix, dst_prefix) }}"" path: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" line: ""DEVICE={{ item.item | replace(src_prefix, dst_prefix) }}"" path: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" - name: Backup old ifcfg network-script files loop_control: label: ""{{ item.item }}"" - name: Remove old ifcfg network-script files loop_control: label: ""{{ item.item }}"" tags: - routes with_items: ""{{ src_interfaces }}"" - name: Copy route files using dst_prefix dest: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" - name: Update dst_prefix in route files that use IP command arguments format replace: regexp: ""{{ src_prefix }}"" replace: ""{{ dst_prefix }}"" path: ""{{ item.stat.path | replace(src_prefix, dst_prefix) }}"" loop_control: label: ""{{ item.item }}"" loop_control: label: ""{{ item.item }}"" loop_control: label: ""{{ item.item }}"" - name: Perform a final regex for any remaining src_prefix in ifcfg files tags: - ifcfg replace: ""{{ item[1] | replace(src_prefix, dst_prefix) }}"" - ""{{ src_interfaces }}"" loop_control: label: ""{{ item[1] }} -> {{ item[0].path }}"" - name: Replace interface name in TripleO configuration files tags: - tripleo regexp: ""{{ item }}"" replace: ""{{ item | replace(src_prefix, dst_prefix) }}"" with_items: ""{{ src_interfaces }}"" regexp: ""{{ item }}"" replace: ""{{ item | replace(src_prefix, dst_prefix) }}"" with_items: ""{{ src_interfaces }}""",34,90
openstack%2Fpuppet-nova~master~I6c409232f5b5120b93d1d47ffa416309d3d9d643,openstack/puppet-nova,master,I6c409232f5b5120b93d1d47ffa416309d3d9d643,Deprecate service validation for nova-api,MERGED,2021-12-13 14:23:03.000000000,2021-12-14 19:57:26.000000000,2021-12-14 19:55:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:23:03.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'releasenotes/notes/deprecate-service-validation-30764e37f030aa9a.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2476bd9af54f3df68fdb57085a25d9754fff455e', 'message': 'Deprecate service validation for nova-api\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for nova-api.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: I6c409232f5b5120b93d1d47ffa416309d3d9d643\n'}]",0,821577,2476bd9af54f3df68fdb57085a25d9754fff455e,8,3,1,9816,,,0,"Deprecate service validation for nova-api

Following the past deprecation in puppet-keystone[1], this change
deprecates service validation for nova-api.

[1] 3c95205e0253895e477b9135c10f5175d4166cfc

Change-Id: I6c409232f5b5120b93d1d47ffa416309d3d9d643
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/77/821577/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'releasenotes/notes/deprecate-service-validation-30764e37f030aa9a.yaml', 'manifests/api.pp']",3,2476bd9af54f3df68fdb57085a25d9754fff455e,deprecate-service-validation,"# [*validate*] # (optional) Whether to validate the service is working after any service refreshes # Defaults to undef # # [*validation_options*] # (optional) Service validation options # Should be a hash of options defined in openstacklib::service_validation # If empty, defaults values are taken from openstacklib function. # Default command list nova flavors. # Require validate set at True. # Defaults to undef # $validate = undef, $validation_options = undef, if $validate != undef { warning('The nova::api::validate parameter has been deprecated and has no effect') } if $validation_options != undef { warning('The nova::api::validation_options parameter has been deprecated and has no effect') } ","# [*validate*] # (optional) Whether to validate the service is working after any service refreshes # Defaults to false # # [*validation_options*] # (optional) Service validation options # Should be a hash of options defined in openstacklib::service_validation # If empty, defaults values are taken from openstacklib function. # Default command list nova flavors. # Require validate set at True. # Example: # nova::api::validation_options: # nova-api: # command: check_nova.py # path: /usr/bin:/bin:/usr/sbin:/sbin # provider: shell # tries: 5 # try_sleep: 10 # Defaults to {} # $validate = false, $validation_options = {}, if $validate { $authtoken_values = { 'username' => $::nova::keystone::authtoken::username, 'password' => $::nova::keystone::authtoken::password, 'project_name' => $::nova::keystone::authtoken::project_name, 'www_authenticate_uri' => $::nova::keystone::authtoken::www_authenticate_uri, } $authtoken = merge($authtoken_values, $::nova::keystone::authtoken::params) $defaults = { 'nova-api' => { 'command' => @(""CMD""/L) nova --os-auth-url ${authtoken['www_authenticate_uri']} \ --os-project-name ${authtoken['project_name']} \ --os-username ${authtoken['username']} \ --os-password ${authtoken['password']} \ flavor-list |- CMD } } $validation_options_hash = merge ($defaults, $validation_options) create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Anchor[nova::service::end]'}) }",27,72
openstack%2Fopenstack-helm~master~If348d8be9748c281be27bdf5e8ac37d240d72636,openstack/openstack-helm,master,If348d8be9748c281be27bdf5e8ac37d240d72636,Remove outdated overrides for glance,MERGED,2021-12-01 02:13:47.000000000,2021-12-14 19:56:55.000000000,2021-12-14 19:54:57.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30495}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-12-01 02:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6c5bd1ac7e809ae1ef3779050d360c0553ce7be', 'message': 'Remove outdated overrides for glance\n\nThe deployment scripts for glance have leftover value settings\nfrom older openstack releases that are no longer supported by\nOSH. This change removes those random override values and has\nthem fallback to the get-values-overrides script.\n\nChange-Id: If348d8be9748c281be27bdf5e8ac37d240d72636\n'}, {'number': 2, 'created': '2021-12-14 16:31:39.000000000', 'files': ['tools/deployment/component/glance/glance.sh', 'tools/deployment/developer/ceph/120-glance.sh', 'tools/deployment/developer/nfs/120-glance.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0bdc96c401fdb1d790ea50ee7a44c3973cc987d', 'message': 'Remove outdated overrides for glance\n\nThe deployment scripts for glance have leftover value settings\nfrom older openstack releases that are no longer supported by\nOSH. This change removes those random override values and has\nthem fallback to the get-values-overrides script.\n\nChange-Id: If348d8be9748c281be27bdf5e8ac37d240d72636\n'}]",1,819940,c0bdc96c401fdb1d790ea50ee7a44c3973cc987d,19,5,2,21420,,,0,"Remove outdated overrides for glance

The deployment scripts for glance have leftover value settings
from older openstack releases that are no longer supported by
OSH. This change removes those random override values and has
them fallback to the get-values-overrides script.

Change-Id: If348d8be9748c281be27bdf5e8ac37d240d72636
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/819940/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/glance/glance.sh', 'tools/deployment/developer/ceph/120-glance.sh', 'tools/deployment/developer/nfs/120-glance.sh']",3,a6c5bd1ac7e809ae1ef3779050d360c0553ce7be,glance-cleanup,,": ${OSH_OPENSTACK_RELEASE:=""newton""}if [ ""x${OSH_OPENSTACK_RELEASE}"" == ""xnewton"" ]; then # NOTE(portdirect): glance APIv1 is required for heat in Newton tee -a /tmp/glance.yaml <<EOF conf: glance: DEFAULT: enable_v1_api: true enable_v2_registry: true manifests: deployment_registry: true ingress_registry: true pdb_registry: true service_ingress_registry: true service_registry: true EOF fi",0,59
openstack%2Fcharm-neutron-api~master~I3c0d8392c4b0c68687a36c9455fc7991fda215f1,openstack/charm-neutron-api,master,I3c0d8392c4b0c68687a36c9455fc7991fda215f1,Use configure_installation_source instead of add_source,MERGED,2021-10-26 01:36:01.000000000,2021-12-14 19:51:16.000000000,2021-12-14 19:51:16.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 01:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/02ea442f26ba1d69d8b59a42e718445d40c2f5f5', 'message': 'Use configure_installation_source instead of add_source\n\nUse the configure_installation_source method from\nch.contrib.openstack.utils instead of add_source since it understands\nthe various openstack-origin permutations.\n\nChange-Id: I3c0d8392c4b0c68687a36c9455fc7991fda215f1\nCloses-Bug: 1928727\n'}, {'number': 2, 'created': '2021-12-14 13:35:05.000000000', 'files': ['hooks/neutron_api_utils.py', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/1561529e1270a7ec0bf2ec1ff9c0c9f584248953', 'message': 'Use configure_installation_source instead of add_source\n\nUse the configure_installation_source method from\nch.contrib.openstack.utils instead of add_source since it understands\nthe various openstack-origin permutations.\n\nChange-Id: I3c0d8392c4b0c68687a36c9455fc7991fda215f1\nCloses-Bug: 1928727\n'}]",3,815398,1561529e1270a7ec0bf2ec1ff9c0c9f584248953,12,4,2,8992,,,0,"Use configure_installation_source instead of add_source

Use the configure_installation_source method from
ch.contrib.openstack.utils instead of add_source since it understands
the various openstack-origin permutations.

Change-Id: I3c0d8392c4b0c68687a36c9455fc7991fda215f1
Closes-Bug: 1928727
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/98/815398/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_utils.py', 'unit_tests/test_neutron_api_utils.py']",2,02ea442f26ba1d69d8b59a42e718445d40c2f5f5,bug/1928727," @patch.object(nutils, 'configure_installation_source') gsrc, config_install_src, mock_manage_plugin): config_install_src.assert_called_with('cloud:trusty-juno') @patch.object(nutils, 'configure_installation_source') gsrc, config_install_src, mock_manage_plugin): @patch.object(nutils, 'configure_installation_source') config_install_src, @patch.object(nutils, 'configure_installation_source') config_install_src, @patch.object(nutils, 'configure_installation_source') config_install_src, @patch.object(nutils, 'configure_installation_source') @patch.object(nutils, 'fwaas_migrate_v1_to_v2') @patch.object(nutils, 'migrate_neutron_database') @patch.object(nutils, 'stamp_neutron_database') def test_do_openstack_upgrade_mirror(self, stamp_neutron_db, migrate_neutron_db, fwaas_migrate_v1_to_v2, config_install_src, mock_manage_plugin): self.is_elected_leader.return_value = True self.os_release.return_value = 'train' self.config.side_effect = self.test_config.get origin = (""deb http://example.org/repository/standalone/uca "" ""bionic-updates-train main|GPGKEY"") self.test_config.set('openstack-origin', origin) # Rather hacky way of calling through to get_os_codename_install_source # without having to rework a bunch of unit tests since this is mocked # globally self.get_os_codename_install_source.side_effect =\ charmhelpers.contrib.openstack.utils.get_os_codename_install_source self.filter_missing_packages.return_value = ['python-neutron'] configs = MagicMock() nutils.do_openstack_upgrade(configs) self.apt_purge.assert_called_with(['python-neutron'], fatal=True) self.apt_autoremove.assert_called_with(purge=True, fatal=True) self.filter_missing_packages.assert_called_with( nutils.PURGE_PACKAGES + nutils.PURGE_EXTRA_PACKAGES_ON_TRAIN) self.assertFalse(stamp_neutron_db.called) fwaas_migrate_v1_to_v2.assert_called_once_with() configs.write_all.assert_called_once_with() @patch.object(nutils, 'manage_plugin') @patch.object(nutils, 'configure_installation_source') config_install_src, config_install_src.assert_called_with('cloud:trusty-juno')"," gsrc, mock_manage_plugin): self.add_source.assert_called_with('cloud:trusty-juno') gsrc, mock_manage_plugin): self.add_source.assert_called_with('cloud:trusty-juno')",52,6
openstack%2Fpuppet-keystone~master~Ib3674d5275ac8d289f2f5e499fea8e1354c497d4,openstack/puppet-keystone,master,Ib3674d5275ac8d289f2f5e499fea8e1354c497d4,Deprecate unused admin_endpoint,MERGED,2021-12-13 14:12:10.000000000,2021-12-14 19:45:24.000000000,2021-12-14 19:42:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8ea63b6ef6bfa67f6ef3f5af956d94edd7a02167', 'message': 'Deprecate unused admin_endpoint\n\nThis parameter was left to be used by service validation, which was\nremoved later by [1].\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: Ib3674d5275ac8d289f2f5e499fea8e1354c497d4\n'}, {'number': 2, 'created': '2021-12-13 14:13:44.000000000', 'files': ['releasenotes/notes/deprecate-admin_endpoint-d8ea2cc9c7423bf4.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/aeb2861b46a7a4c28e134309e9212f393f310dfd', 'message': 'Deprecate unused admin_endpoint\n\nThis parameter was left to be used by service validation, which was\nremoved later by [1].\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: Ib3674d5275ac8d289f2f5e499fea8e1354c497d4\n'}]",1,821570,aeb2861b46a7a4c28e134309e9212f393f310dfd,11,3,2,9816,,,0,"Deprecate unused admin_endpoint

This parameter was left to be used by service validation, which was
removed later by [1].

[1] 3c95205e0253895e477b9135c10f5175d4166cfc

Change-Id: Ib3674d5275ac8d289f2f5e499fea8e1354c497d4
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/70/821570/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-admin_endpoint-d8ea2cc9c7423bf4.yaml', 'manifests/init.pp']",2,8ea63b6ef6bfa67f6ef3f5af956d94edd7a02167,,"# [*admin_endpoint*] # (Optional) The base admin endpoint URL for keystone that are # advertised to clients (NOTE: this does NOT affect how keystone listens # for connections) (string value) # If set to false, no admin_endpoint will be defined in keystone.conf. # Sample value: 'http://localhost:5000/' # Defaults to undef # $admin_endpoint = undef, if $admin_endpoint != undef { warning('the admin_endpoint parameter is deprecated. This parameter has no effect') } ","# [*admin_endpoint*] # (Optional) The base admin endpoint URL for keystone that are # advertised to clients (NOTE: this does NOT affect how keystone listens # for connections) (string value) # If set to false, no admin_endpoint will be defined in keystone.conf. # Sample value: 'http://localhost:5000/' # Defaults to $::os_service_default # $admin_endpoint = $::os_service_default,",18,9
openstack%2Fpuppet-keystone~master~Ib7642c957d51c59606ba033b86a6f989c034459e,openstack/puppet-keystone,master,Ib7642c957d51c59606ba033b86a6f989c034459e,Deprecate support for member_role_id/name,MERGED,2021-12-13 14:06:07.000000000,2021-12-14 19:39:43.000000000,2021-12-14 19:36:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/607393a68b2f58b573d62c0ca2f564f25b3ed8d3', 'message': 'Deprecate support for member_role_id/name\n\n... because these parameters were already removed from keystone by [1].\n\n[1] c838d93c35fdacae5f5bd77a55c62978b8a0b138\n\nChange-Id: Ib7642c957d51c59606ba033b86a6f989c034459e\n'}, {'number': 2, 'created': '2021-12-13 14:13:44.000000000', 'files': ['releasenotes/notes/deprecate-member_role-e99b3344b50af47b.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f4bba7122a4d3010be3905b4314071a71307f1f1', 'message': 'Deprecate support for member_role_id/name\n\n... because these parameters were already removed from keystone by [1].\n\n[1] c838d93c35fdacae5f5bd77a55c62978b8a0b138\n\nChange-Id: Ib7642c957d51c59606ba033b86a6f989c034459e\n'}]",0,821569,f4bba7122a4d3010be3905b4314071a71307f1f1,9,3,2,9816,,,0,"Deprecate support for member_role_id/name

... because these parameters were already removed from keystone by [1].

[1] c838d93c35fdacae5f5bd77a55c62978b8a0b138

Change-Id: Ib7642c957d51c59606ba033b86a6f989c034459e
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/69/821569/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-member_role-e99b3344b50af47b.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",3,607393a68b2f58b573d62c0ca2f564f25b3ed8d3,,," is_expected.to contain_keystone_config('DEFAULT/member_role_id').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('DEFAULT/member_role_name').with_value('<SERVICE DEFAULT>') :member_role_id => 'someid', :member_role_name => 'member', is_expected.to contain_keystone_config('DEFAULT/member_role_id').with_value('someid') is_expected.to contain_keystone_config('DEFAULT/member_role_name').with_value('member')",34,25
openstack%2Fbarbican~stable%2Fvictoria~Ie0e6f6edae40e47d45afbe92fd509032cb091b1a,openstack/barbican,stable/victoria,Ie0e6f6edae40e47d45afbe92fd509032cb091b1a,Fix policy for Orders,MERGED,2021-12-08 21:10:00.000000000,2021-12-14 19:38:16.000000000,2021-12-14 19:36:00.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 21:10:00.000000000', 'files': ['barbican/common/policies/orders.py', 'barbican/api/controllers/orders.py', 'barbican/tests/api/test_resources_policy.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e', 'message': 'Fix policy for Orders\n\nThis patch adds checks to make sure that the project_id of the token\nmatches the project_id that owns the Order.\n\nCurrently, having a role on any project will allow the request to be\nprocessed, which results in a 404 - Not Found instead of 401 -\nForbidden.\n\nChange-Id: Ie0e6f6edae40e47d45afbe92fd509032cb091b1a\n(cherry picked from commit 5d81a3c4531f1179bcac69c4b10542da04822f8b)\n(cherry picked from commit 382b5086a2723da8f8d0a07d263ee47a9c6df5e7)\n(cherry picked from commit ea7451e32caa7863d6e511a39a508e54c60113a7)\n'}]",2,821131,85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e,11,2,1,7973,,,0,"Fix policy for Orders

This patch adds checks to make sure that the project_id of the token
matches the project_id that owns the Order.

Currently, having a role on any project will allow the request to be
processed, which results in a 404 - Not Found instead of 401 -
Forbidden.

Change-Id: Ie0e6f6edae40e47d45afbe92fd509032cb091b1a
(cherry picked from commit 5d81a3c4531f1179bcac69c4b10542da04822f8b)
(cherry picked from commit 382b5086a2723da8f8d0a07d263ee47a9c6df5e7)
(cherry picked from commit ea7451e32caa7863d6e511a39a508e54c60113a7)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/31/821131/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/orders.py', 'barbican/api/controllers/orders.py', 'barbican/tests/api/test_resources_policy.py']",3,85b9feecd26f48ebb65edd57073bbbfeb9c7fe9e,," self._invoke_on_get, project_id=self.external_project_id) order = mock.MagicMock() order.id = self.order_id order.project.external_id = self.external_project_id order.creator_id = 'CRE-A-TOR-UUID' mock_to_dict = mock.MagicMock() mock_to_dict.side_effect = self._generate_get_error() order.to_dict_fields = mock_to_dict self.resource = OrderResource(order) self._invoke_on_get, project_id=self.external_project_id) self._assert_pass_rbac(['admin'], self._invoke_on_delete, project_id=self.external_project_id)"," self._invoke_on_get) self.resource = OrderResource(self.order_id) self._invoke_on_get) self._assert_pass_rbac(['admin'], self._invoke_on_delete)",23,6
openstack%2Fpuppet-keystone~master~I56bcc20d69110f25645c13230036341a9c5c519b,openstack/puppet-keystone,master,I56bcc20d69110f25645c13230036341a9c5c519b,Enable credential setup by default,MERGED,2021-12-13 13:59:05.000000000,2021-12-14 19:30:20.000000000,2021-12-14 19:28:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3fb136c41d6ea71a9b5a01c9ca5efb16ade90180', 'message': 'Enable credential setup by default\n\nCredential setup should have been enabled by default when\nthe credential feature in keystone become available in in UCA but we\nmissed updating the parameter default.\n\nThis change updates the parameter because the credential parameter is\navailable in UCA as well.\n\nChange-Id: I56bcc20d69110f25645c13230036341a9c5c519b\n'}, {'number': 2, 'created': '2021-12-13 23:06:07.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/enable-credental-setup-by-default-98fcc7d80cfdb39a.yaml', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b4e600bbd09178f3f2797f03bead2baf5731bf08', 'message': 'Enable credential setup by default\n\nCredential setup should have been enabled by default when\nthe credential feature in keystone become available in in UCA but we\nmissed updating the parameter default.\n\nThis change updates the parameter because the credential parameter is\navailable in UCA as well.\n\nChange-Id: I56bcc20d69110f25645c13230036341a9c5c519b\n'}]",0,821567,b4e600bbd09178f3f2797f03bead2baf5731bf08,10,3,2,9816,,,0,"Enable credential setup by default

Credential setup should have been enabled by default when
the credential feature in keystone become available in in UCA but we
missed updating the parameter default.

This change updates the parameter because the credential parameter is
available in UCA as well.

Change-Id: I56bcc20d69110f25645c13230036341a9c5c519b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/67/821567/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/enable-credental-setup-by-default-98fcc7d80cfdb39a.yaml', 'spec/classes/keystone_init_spec.rb']",3,3fb136c41d6ea71a9b5a01c9ca5efb16ade90180,," it { is_expected.to contain_file('/etc/keystone/credential-keys').with( :ensure => 'directory', :owner => 'keystone', :group => 'keystone', 'mode' => '0600', ) } it { is_expected.to contain_exec('keystone-manage credential_setup').with( :command => 'keystone-manage credential_setup --keystone-user keystone --keystone-group keystone', :user => 'keystone', :creates => '/etc/keystone/credential-keys/0', :require => 'File[/etc/keystone/credential-keys]', ) } it { is_expected.to contain_keystone_config('credential/key_repository').with_value('/etc/keystone/credential-keys')} context 'when disabling credential_setup' do 'enable_credential_setup' => false, it { is_expected.to_not contain_file('/etc/keystone/credential-keys') } it { is_expected.to_not contain_exec('keystone-manage credential_setup') } it { is_expected.to contain_keystone_config('credential/key_repository').with_value('/etc/keystone/credential-keys') } it { is_expected.to contain_file('/var/lib/credential-keys').with( :ensure => 'directory', :owner => 'keystone', :group => 'keystone', 'mode' => '0600', ) } it { is_expected.to contain_keystone_config('credential/key_repository').with_value('/var/lib/credential-keys') }"," context 'when enabling credential_setup' do 'enable_credential_setup' => true, 'credential_key_repository' => '/etc/keystone/credential-keys', it { is_expected.to contain_file(params['credential_key_repository']).with( :ensure => 'directory', :owner => 'keystone', :group => 'keystone', 'mode' => '0600', ) } it { is_expected.to contain_exec('keystone-manage credential_setup').with( :command => 'keystone-manage credential_setup --keystone-user keystone --keystone-group keystone', :user => 'keystone', :creates => '/etc/keystone/credential-keys/0', :require => 'File[/etc/keystone/credential-keys]', ) } it { is_expected.to contain_keystone_config('credential/key_repository').with_value('/etc/keystone/credential-keys')}",33,20
openstack%2Fmanila~master~I751b6e4a3288cde7a98c0ddc55deac7a0682010d,openstack/manila,master,I751b6e4a3288cde7a98c0ddc55deac7a0682010d,Move release notes to correct folders,MERGED,2021-12-07 22:23:29.000000000,2021-12-14 19:29:53.000000000,2021-12-14 19:27:55.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-12-07 22:23:29.000000000', 'files': ['releasenotes/notes/.placeholder', 'releasenotes/notes/bug-1475351-handle-successful-deletion-of-snapshot-if-quota-commit-fails-4d150bf0b71a2fd9.yaml', 'releasenotes/notes/bug-1942124-fix-list-mandatory-services-for-cifs-share-0c524831e8fc6175.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/578e3c78c2aa90555e65924657e630bdc843be28', 'message': 'Move release notes to correct folders\n\nIdb4b6de5108dd1862df7de97d0ffdc15282b1d74 recently merged and\nis backport worthy to all maintained older stable releases.\n\nI34020da6a929f5c7ae1c63bc0f2ef338c49dbe10 was committed\nto stable/xena when it was still under development; the bug-fix\nin question is not back portable to other stable branches, so\nbackporting this release note fix to stable/xena should suffice.\n\nChange-Id: I751b6e4a3288cde7a98c0ddc55deac7a0682010d\nRelated-bug: #1942124\nRelated-Bug: #1475351\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,820955,578e3c78c2aa90555e65924657e630bdc843be28,14,3,1,16643,,,0,"Move release notes to correct folders

Idb4b6de5108dd1862df7de97d0ffdc15282b1d74 recently merged and
is backport worthy to all maintained older stable releases.

I34020da6a929f5c7ae1c63bc0f2ef338c49dbe10 was committed
to stable/xena when it was still under development; the bug-fix
in question is not back portable to other stable branches, so
backporting this release note fix to stable/xena should suffice.

Change-Id: I751b6e4a3288cde7a98c0ddc55deac7a0682010d
Related-bug: #1942124
Related-Bug: #1475351
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/55/820955/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/.placeholder', 'releasenotes/notes/bug-1475351-handle-successful-deletion-of-snapshot-if-quota-commit-fails-4d150bf0b71a2fd9.yaml', 'releasenotes/notes/bug-1942124-fix-list-mandatory-services-for-cifs-share-0c524831e8fc6175.yaml']",3,578e3c78c2aa90555e65924657e630bdc843be28,fix-reno,,,0,0
openstack%2Fpuppet-openstack-integration~master~I2ee65ed2f0ff09461bb8f3db3f21b1fff01d7ba9,openstack/puppet-openstack-integration,master,I2ee65ed2f0ff09461bb8f3db3f21b1fff01d7ba9,Aodh: Replace deprecated aodh::auth by aodh::service_credentials,MERGED,2021-01-31 13:37:02.000000000,2021-12-14 19:28:58.000000000,2021-12-14 19:28:58.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-31 13:37:02.000000000', 'files': ['manifests/aodh.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7eaa6a3051f1cc8d991a5a2d964c5b3cc068083d', 'message': 'Aodh: Replace deprecated aodh::auth by aodh::service_credentials\n\nDepends-on: https://review.opendev.org/772694\nChange-Id: I2ee65ed2f0ff09461bb8f3db3f21b1fff01d7ba9\n'}]",0,773256,7eaa6a3051f1cc8d991a5a2d964c5b3cc068083d,8,4,1,9816,,,0,"Aodh: Replace deprecated aodh::auth by aodh::service_credentials

Depends-on: https://review.opendev.org/772694
Change-Id: I2ee65ed2f0ff09461bb8f3db3f21b1fff01d7ba9
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/56/773256/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/aodh.pp'],1,7eaa6a3051f1cc8d991a5a2d964c5b3cc068083d,service_credentials," class { 'aodh::service_credentials': auth_url => $::openstack_integration::config::keystone_auth_uri, password => 'a_big_secret',"," class { 'aodh::auth': auth_url => $::openstack_integration::config::keystone_auth_uri, auth_password => 'a_big_secret',",3,3
openstack%2Fpuppet-openstack-integration~master~Iaec28fc13f38d0b3a758df1bfcadee6b2e4c656f,openstack/puppet-openstack-integration,master,Iaec28fc13f38d0b3a758df1bfcadee6b2e4c656f,Neutron: Avoid usage of built-in service validation,MERGED,2021-12-13 14:46:16.000000000,2021-12-14 19:28:56.000000000,2021-12-14 19:28:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c6da25820d3e392d531eaaddfa3566e5fe69c032', 'message': 'Neutron: Avoid usage of built-in service validation\n\n... because service validation feature in each module is being\ndeprecated.\n\nChange-Id: Iaec28fc13f38d0b3a758df1bfcadee6b2e4c656f\n'}, {'number': 2, 'created': '2021-12-13 23:08:40.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6cd5788d7f8db692328fc89279f5e8e515331837', 'message': 'Neutron: Avoid usage of built-in service validation\n\n... because service validation feature in each module is being\ndeprecated.\n\nChange-Id: Iaec28fc13f38d0b3a758df1bfcadee6b2e4c656f\n'}]",0,821585,6cd5788d7f8db692328fc89279f5e8e515331837,9,3,2,9816,,,0,"Neutron: Avoid usage of built-in service validation

... because service validation feature in each module is being
deprecated.

Change-Id: Iaec28fc13f38d0b3a758df1bfcadee6b2e4c656f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/821585/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,c6da25820d3e392d531eaaddfa3566e5fe69c032,," $auth_url = $::openstack_integration::config::keystone_auth_uri exec { ""check-neutron-server"": command => ""openstack --os-auth-url ${auth_url} --os-project-name services --os-username neutron --os-identity-api-version 3 network list"", environment => [""OS_PASSWORD=a_big_secret""], path => '/usr/bin:/bin:/usr/sbin:/sbin', provider => shell, timeout => 60, tries => 10, try_sleep => 2, } Anchor['neutron::service::end'] -> Exec['check-neutron-server'] -> Neutron_network<||> } "," Service<| title == 'neutron-server'|> -> Openstacklib::Service_validation<| title == 'neutron-server' |> -> Neutron_network<||> $validate_neutron_server_service = true } else { $validate_neutron_server_service = false } validate => $validate_neutron_server_service,",12,5
openstack%2Ftempest~master~I83fbd9b006ecc593cd4c84089079bdc879fa4de0,openstack/tempest,master,I83fbd9b006ecc593cd4c84089079bdc879fa4de0,Improves test_fix_argument_yes Failure Rate,ABANDONED,2021-12-09 18:23:49.000000000,2021-12-14 19:19:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-12-09 18:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96099186c34132a553795820b9987b3f4fd46b18', 'message': 'This is a fix/improvement for bug openstack/tempest/804839\nThe fix should decreases the frequency with which the test fails\n\nChange-Id: I83fbd9b006ecc593cd4c84089079bdc879fa4de0\n'}, {'number': 2, 'created': '2021-12-13 14:18:34.000000000', 'files': ['tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d806dc0a94912b5aa98e701a81fd592290965fe2', 'message': 'Improves test_fix_argument_yes Failure Rate\n\ntest_fix_argument_yes fails intermittently under very \nspecific circumstances: \nUnittest must me manually setup, \nmust not be run as a single test\nThe failure is in check_uuid.run() not adding a uuid to \nthe class, then the test fails on an assert. This fix \nshould decreases the frequency with which test fails.\n\nChange-Id: I83fbd9b006ecc593cd4c84089079bdc879fa4de0\n'}]",2,821273,d806dc0a94912b5aa98e701a81fd592290965fe2,7,2,2,34308,,,0,"Improves test_fix_argument_yes Failure Rate

test_fix_argument_yes fails intermittently under very 
specific circumstances: 
Unittest must me manually setup, 
must not be run as a single test
The failure is in check_uuid.run() not adding a uuid to 
the class, then the test fails on an assert. This fix 
should decreases the frequency with which test fails.

Change-Id: I83fbd9b006ecc593cd4c84089079bdc879fa4de0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/821273/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/cmd/test_check_uuid.py'],1,96099186c34132a553795820b9987b3f4fd46b18,check-uuid-bug,"import time self.scriptDir = os.path.dirname(os.path.realpath(__file__)) dummy_init = os.path.join(self.scriptDir, ""__init__.py"") init_file = os.path.join(self.directory, ""__init__.py"") shutil.copy(dummy_init, init_file) dummy_module_name = ""fake_module.py"" self.src_module = os.path.join(""."", ""tempest"", ""tests"", ""lib"", dummy_module_name) self.test_file = os.path.join(self.directory, dummy_module_name) shutil.copy(self.src_module, self.test_file) with open(self.test_file, ""r"") as f: with open(self.src_module, ""r"") as fm: self.assertTrue(fm.read() == f.read()) time.sleep(.05) ### does not seem to effect reliability of test with open(self.test_file, ""r"") as f: with open(self.src_module, ""r"") as fm: self.assertTrue(fm.read() != f.read())"," CODE = ""import unittest\n"" \ ""class TestClass(unittest.TestCase):\n"" \ "" def test_tests(self):\n"" \ "" pass"" init_file = open(self.directory + ""/__init__.py"", ""w"") init_file.close() self.tests_file = self.directory + ""/tests.py"" with open(self.tests_file, ""w"") as fake_file: fake_file.write(TestCLInterface.CODE) fake_file.close() with open(self.tests_file, ""r"") as f: self.assertTrue(TestCLInterface.CODE == f.read()) with open(self.tests_file, ""r"") as f: self.assertTrue(TestCLInterface.CODE != f.read())",17,14
openstack%2Fos-net-config~master~Ia2214f24e20eaba3a24da1d13b88113512f009d9,openstack/os-net-config,master,Ia2214f24e20eaba3a24da1d13b88113512f009d9,Fix log message related to pkey_id,MERGED,2021-12-14 08:12:20.000000000,2021-12-14 19:02:47.000000000,2021-12-14 19:00:36.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 08:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/54bd799ffa415382806ca8fb671e5d9a36901ac0', 'message': 'Fix log message related to pkey_id\npkey only supports base 10 or base 16 int numbers\n\nChange-Id: Ia2214f24e20eaba3a24da1d13b88113512f009d9\n'}, {'number': 2, 'created': '2021-12-14 08:14:40.000000000', 'files': ['os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/99a9aa0da8700754c847061748ccb1020555c96c', 'message': 'Fix log message related to pkey_id\n\npkey only supports base 10 or base 16 int numbers\n\nChange-Id: Ia2214f24e20eaba3a24da1d13b88113512f009d9\n'}]",0,821658,99a9aa0da8700754c847061748ccb1020555c96c,9,5,2,25241,,,0,"Fix log message related to pkey_id

pkey only supports base 10 or base 16 int numbers

Change-Id: Ia2214f24e20eaba3a24da1d13b88113512f009d9
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/58/821658/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/objects.py'],1,54bd799ffa415382806ca8fb671e5d9a36901ac0,," # bases other than base 10 or base 16 msg = ""pkey only supports base 10 or base 16 int numbers"""," # bases other than decimal and hexa msg = ""pkey only support decimal and hex bases, not int""",2,2
openstack%2Fpuppet-ironic~master~I4c86174ff12d7c5550839f3e508591cbd5b261a1,openstack/puppet-ironic,master,I4c86174ff12d7c5550839f3e508591cbd5b261a1,Add support for [conductor] bootloader,MERGED,2021-12-10 04:13:07.000000000,2021-12-14 18:59:11.000000000,2021-12-14 18:56:31.000000000,"[{'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 04:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/59589ae9072de195574fc72d29b15f2701fb2fcd', 'message': 'Add support for [conductor] bootloader\n\n.. and update description of the parameters to point kernel/initramfs\nimages according to the latest parameter descriptions in ironic.\n\nChange-Id: I4c86174ff12d7c5550839f3e508591cbd5b261a1\n'}, {'number': 2, 'created': '2021-12-13 23:27:12.000000000', 'files': ['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/conductor-bootloader-42553c33ec6a8dc1.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/feea417befb1b03b4dd15b05c6203ab63d6e093c', 'message': 'Add support for [conductor] bootloader\n\n.. and update description of the parameters to point kernel/initramfs\nimages according to the latest parameter descriptions in ironic.\n\nChange-Id: I4c86174ff12d7c5550839f3e508591cbd5b261a1\n'}]",0,821364,feea417befb1b03b4dd15b05c6203ab63d6e093c,10,3,2,9816,,,0,"Add support for [conductor] bootloader

.. and update description of the parameters to point kernel/initramfs
images according to the latest parameter descriptions in ironic.

Change-Id: I4c86174ff12d7c5550839f3e508591cbd5b261a1
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/64/821364/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/conductor-bootloader-42553c33ec6a8dc1.yaml']",3,59589ae9072de195574fc72d29b15f2701fb2fcd,conductor-bootloader,"--- features: - | The ``ironic::conductor`` class now supports customizing the ``[conductor] bootloader``, by the new ``bootloader`` parameter. ",,27,4
openstack%2Fpuppet-watcher~master~I04879377153443d6cf1e2e062de493b0103d4138,openstack/puppet-watcher,master,I04879377153443d6cf1e2e062de493b0103d4138,Deprecate service validation for watcher-api,MERGED,2021-12-13 14:28:14.000000000,2021-12-14 18:56:38.000000000,2021-12-14 18:53:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:28:14.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/deprecate-service-validation-a8d7f27af3981c1a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/3d5c217596daeafe7620273ab7a0b5dd9ee2d194', 'message': 'Deprecate service validation for watcher-api\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for watcher-api.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: I04879377153443d6cf1e2e062de493b0103d4138\n'}]",1,821579,3d5c217596daeafe7620273ab7a0b5dd9ee2d194,10,3,1,9816,,,0,"Deprecate service validation for watcher-api

Following the past deprecation in puppet-keystone[1], this change
deprecates service validation for watcher-api.

[1] 3c95205e0253895e477b9135c10f5175d4166cfc

Change-Id: I04879377153443d6cf1e2e062de493b0103d4138
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/79/821579/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/deprecate-service-validation-a8d7f27af3981c1a.yaml']",2,3d5c217596daeafe7620273ab7a0b5dd9ee2d194,deprecate-service-validation,"--- deprecations: - | The service validation feature of the ``watcher::api`` class is deprecated, and the ``watcher::api::validate`` parameter has no effect now. ",,28,29
openstack%2Fcharms.openstack~master~I491ca9f482a00b7ca3fa44aa8c26ef73559c178f,openstack/charms.openstack,master,I491ca9f482a00b7ca3fa44aa8c26ef73559c178f,Use unittest.mock instead of mock,MERGED,2020-06-08 22:04:11.000000000,2021-12-14 18:53:42.000000000,2021-12-14 18:53:42.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 22:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c3433c7d2b3eab0534bfdf2ff7b1f45988e404cb', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I491ca9f482a00b7ca3fa44aa8c26ef73559c178f\n'}, {'number': 2, 'created': '2021-12-14 13:06:39.000000000', 'files': ['unit_tests/charms_openstack/plugins/test_adapters.py', 'test-requirements.txt', 'charms_openstack/test_mocks.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py', 'unit_tests/charms_openstack/charm/test_defaults.py', 'unit_tests/charms_openstack/charm/utils.py', 'unit_tests/utils.py', 'unit_tests/test_charms_openstack_bus.py', 'unit_tests/test_charms_openstack_devices_pci.py', 'unit_tests/charms_openstack/plugins/test_classes.py', 'unit_tests/test_charms_openstack_adapters.py', 'charms_openstack/test_utils.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/2812f9f6649d809e80bc66bee4a12509fef6bb0d', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I491ca9f482a00b7ca3fa44aa8c26ef73559c178f\n'}]",3,734323,2812f9f6649d809e80bc66bee4a12509fef6bb0d,12,3,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I491ca9f482a00b7ca3fa44aa8c26ef73559c178f
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/23/734323/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/plugins/test_adapters.py', 'test-requirements.txt', 'charms_openstack/test_mocks.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py', 'unit_tests/charms_openstack/charm/test_defaults.py', 'unit_tests/charms_openstack/charm/utils.py', 'unit_tests/utils.py', 'unit_tests/test_charms_openstack_bus.py', 'unit_tests/test_charms_openstack_devices_pci.py', 'unit_tests/charms_openstack/plugins/test_classes.py', 'unit_tests/test_charms_openstack_adapters.py', 'charms_openstack/test_utils.py', 'unit_tests/charms_openstack/charm/test_classes.py']",14,c3433c7d2b3eab0534bfdf2ff7b1f45988e404cb,drop_mock,from unittest import mock,import mock,13,14
openstack%2Fpuppet-glance~master~Icf44d49d68a345b0ac910918a3b4208e1c23aec9,openstack/puppet-glance,master,Icf44d49d68a345b0ac910918a3b4208e1c23aec9,Deprecate service validation for glance-api,MERGED,2021-12-13 14:25:46.000000000,2021-12-14 18:48:25.000000000,2021-12-14 18:46:13.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bad24368ee8611fad747854be9e6c7ae8c518afa', 'message': 'Deprecate service validation for glance-api\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for glance-api.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: Icf44d49d68a345b0ac910918a3b4208e1c23aec9\n'}, {'number': 2, 'created': '2021-12-13 23:12:49.000000000', 'files': ['releasenotes/notes/deprecate-service-validation-fe0803b6ba6af40f.yaml', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f3754c8c1f3484a11bc358cea12441bd00c76d6a', 'message': 'Deprecate service validation for glance-api\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for glance-api.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: Icf44d49d68a345b0ac910918a3b4208e1c23aec9\n'}]",0,821578,f3754c8c1f3484a11bc358cea12441bd00c76d6a,10,3,2,9816,,,0,"Deprecate service validation for glance-api

Following the past deprecation in puppet-keystone[1], this change
deprecates service validation for glance-api.

[1] 3c95205e0253895e477b9135c10f5175d4166cfc

Change-Id: Icf44d49d68a345b0ac910918a3b4208e1c23aec9
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/78/821578/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-service-validation-fe0803b6ba6af40f.yaml', 'manifests/api.pp']",2,bad24368ee8611fad747854be9e6c7ae8c518afa,deprecate-service-validation,"# [*validate*] # (optional) Whether to validate the service is working after any service refreshes # Defaults to undef # # [*validation_options*] # (optional) Service validation options # Should be a hash of options defined in openstacklib::service_validation # If empty, defaults values are taken from openstacklib function. # Default command list images. # Require validate set at True. # Example: # Defaults to undef # $validate = undef, $validation_options = undef, if $validate != undef { warning('The glance::api::validate parameter has been deprecated and has no effect') } if $validation_options != undef { warning('The glance::api::validation_options parameter has been deprecated and has no effect') } ","# [*validate*] # (optional) Whether to validate the service is working after any service refreshes # Defaults to false # # [*validation_options*] # (optional) Service validation options # Should be a hash of options defined in openstacklib::service_validation # If empty, defaults values are taken from openstacklib function. # Default command list images. # Require validate set at True. # Example: # glance::api::validation_options: # glance-api: # command: check_glance-api.py # path: /usr/bin:/bin:/usr/sbin:/sbin # provider: shell # tries: 5 # try_sleep: 10 # Defaults to {} # $validate = false, $validation_options = {}, if $validate { $keystone_project_name = $::glance::api::authtoken::project_name $keystone_username = $::glance::api::authtoken::username $keystone_password = $::glance::api::authtoken::password $auth_url = $::glance::api::authtoken::www_authenticate_uri $defaults = { 'glance-api' => { # lint:ignore:140chars 'command' => ""glance --os-auth-url ${auth_url} --os-project-name ${keystone_project_name} --os-username ${keystone_username} --os-password ${keystone_password} image-list"", # lint:endignore } } $validation_options_hash = merge ($defaults, $validation_options) create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Service[glance-api]'}) } ",29,39
openstack%2Fneutron~stable%2Ftrain~Ic0bc3d951d32efadc116708bfe518a711730429d,openstack/neutron,stable/train,Ic0bc3d951d32efadc116708bfe518a711730429d,Cleanup router for which processing added router failed,MERGED,2021-11-12 09:01:40.000000000,2021-12-14 18:46:30.000000000,2021-12-14 18:29:36.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 09:01:40.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/faabf03a629a8cbe16161f56873b2f29f5ad7171', 'message': 'Cleanup router for which processing added router failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be cleaned to e.g. be removed from\nthe router cache so it will not be treated as updated router in next\niteration of the agent.\n\nConflicts:\n    neutron/agent/l3/agent.py\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n(cherry picked from commit 41159bd9a4178a5f8a4fdc90b034c48fa9880cac)\n(cherry picked from commit 1c17019f6c7957c95b1d12942c5898fcc111e4ab)\n'}]",3,817677,faabf03a629a8cbe16161f56873b2f29f5ad7171,17,3,1,11975,,,0,"Cleanup router for which processing added router failed

In the _process_added_router() method of the L3 agent, if processing
router will fail, router_info should be cleaned to e.g. be removed from
the router cache so it will not be treated as updated router in next
iteration of the agent.

Conflicts:
    neutron/agent/l3/agent.py

Closes-Bug: #1947993
Change-Id: Ic0bc3d951d32efadc116708bfe518a711730429d
(cherry picked from commit 41159bd9a4178a5f8a4fdc90b034c48fa9880cac)
(cherry picked from commit 1c17019f6c7957c95b1d12942c5898fcc111e4ab)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/817677/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,faabf03a629a8cbe16161f56873b2f29f5ad7171,bug/1947993-stable/wallaby-stable/victoria-stable/ussuri-stable/train," def test__process_router_added_router_not_in_cache_after_failure(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router_id = _uuid() router = {'id': router_id} ri_mock = mock.Mock() class TestRouterProcessingException(Exception): pass with mock.patch.object(agent, ""_router_added""), \ mock.patch.dict(agent.router_info, {router_id: ri_mock}): ri_mock.process.side_effect = TestRouterProcessingException() self.assertRaises( TestRouterProcessingException, agent._process_added_router, router) self.assertNotIn(router_id, agent.router_info) ",,43,8
openstack%2Fpuppet-cinder~master~I39350edfd17e15ac2470423896cac33e26ff3c93,openstack/puppet-cinder,master,I39350edfd17e15ac2470423896cac33e26ff3c93,Deprecate service validation for cinder-api,MERGED,2021-12-13 14:17:53.000000000,2021-12-14 18:46:08.000000000,2021-12-14 18:29:50.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/cced6f649df1d0ebbd5cd5ff2656f846ae0633e1', 'message': 'Deprecate service validation for cinder-api\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for cinder-api.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: I39350edfd17e15ac2470423896cac33e26ff3c93\n'}, {'number': 2, 'created': '2021-12-13 14:20:09.000000000', 'files': ['releasenotes/notes/deprecate-service-validation-f30611c72f3a484d.yaml', 'manifests/api.pp', 'spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d944a76b95fb82fe161159954f3dfe720726bcfc', 'message': 'Deprecate service validation for cinder-api\n\nFollowing the past deprecation in puppet-keystone[1], this change\ndeprecates service validation for cinder-api.\n\n[1] 3c95205e0253895e477b9135c10f5175d4166cfc\n\nChange-Id: I39350edfd17e15ac2470423896cac33e26ff3c93\n'}]",0,821574,d944a76b95fb82fe161159954f3dfe720726bcfc,9,3,2,9816,,,0,"Deprecate service validation for cinder-api

Following the past deprecation in puppet-keystone[1], this change
deprecates service validation for cinder-api.

[1] 3c95205e0253895e477b9135c10f5175d4166cfc

Change-Id: I39350edfd17e15ac2470423896cac33e26ff3c93
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/74/821574/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-service-validation-f30611c72f3a484d.yaml', 'manifests/api.pp', 'spec/classes/cinder_api_spec.rb']",3,cced6f649df1d0ebbd5cd5ff2656f846ae0633e1,deprecate-service-validation,," context 'while validating the service with default command' do let :params do req_params.merge({ :validate => true, }) end it { is_expected.to contain_openstacklib__service_validation('cinder-api').with( :command => 'cinder --os-auth-url http://localhost:5000 --os-project-name services --os-username cinder --os-password foo list', :subscribe => 'Anchor[cinder::service::end]', )} end ",16,34
openstack%2Fcinder~master~I19a47c463dfb8794ebbeda78f39c962e47ad0d93,openstack/cinder,master,I19a47c463dfb8794ebbeda78f39c962e47ad0d93,mypy: annotate volume/api.py,MERGED,2020-06-04 14:26:44.000000000,2021-12-14 18:44:52.000000000,2021-12-14 17:40:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}, {'_account_id': 33431}]","[{'number': 1, 'created': '2020-06-04 14:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a71c6f9b636f6604e327a85ef0fdc5adbf6275ee', 'message': 'WIP: mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 2, 'created': '2020-06-08 23:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b20d412ae06c489b107775b962159178124bd60f', 'message': 'WIP: mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 3, 'created': '2020-06-18 22:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f51161ba08d579bf51a0304081554b06ee529281', 'message': 'WIP: mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 4, 'created': '2020-06-22 13:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0079f071217c35f5677f42f39eaa5e061b68bc55', 'message': 'WIP: mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 5, 'created': '2020-07-07 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f002080da1992d1cdcd7115d1f83b3bb4db651fd', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 6, 'created': '2020-07-14 15:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4d40942b3ebedaa5118a4bb94b038d80442fec2', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 7, 'created': '2020-09-02 15:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7aa38ac298f022881ed83b51e4d2824778391698', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 8, 'created': '2020-10-07 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/933190a5f992aba19a4fe0663a5a7a6114ab98a2', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 9, 'created': '2020-10-14 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd515500d9f54523b26a9f75643b031f8a2ab7dc', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 10, 'created': '2020-10-21 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e50d6991dfd7fe3ec59962727def25fc0b4bc76b', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 11, 'created': '2020-10-23 15:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db2c8a15226e380bb41e798baf63b24cda5b69bb', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 12, 'created': '2021-03-01 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecda20bfcd15439ca0b304a1ea92daf02c53c9d8', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 13, 'created': '2021-04-16 15:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f3e88908891fec98672f8bf069755eb3ab97d21', 'message': 'mypy: annotate api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 14, 'created': '2021-04-30 18:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7eae8ad1235a7d68f4f971023ed5ea04295e0622', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 15, 'created': '2021-05-03 15:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6dae247ddcffacb24a61aaf8df733b4f0581686', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 16, 'created': '2021-06-08 17:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/caa84b2c981da28298a4d081a4cb97622f318de7', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 17, 'created': '2021-07-13 14:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/991f48814cbc84cc9f560e052dfd4d64e11b93cc', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 18, 'created': '2021-09-07 17:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c9a6915f52a98faa9a938fa28937bcf848272ca', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 19, 'created': '2021-09-23 13:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/121c5a6b64b2a4ac4a4615ae2c3aefe2c9db574a', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 20, 'created': '2021-11-11 21:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a64078789b5330183137ba4ecb58d720b9210172', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 21, 'created': '2021-11-16 20:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdf862b1f38602143b6eb5f8a47c52a759dd732a', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 22, 'created': '2021-11-18 15:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ebb34f1ea3c1a515dd93eec5a5e8609c6bfc82d', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}, {'number': 23, 'created': '2021-12-02 19:57:04.000000000', 'files': ['mypy-files.txt', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/80dc6c91581bbf7e8d0c0b0af49dee0f7cfdd451', 'message': 'mypy: annotate volume/api.py\n\nChange-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93\n'}]",92,733622,80dc6c91581bbf7e8d0c0b0af49dee0f7cfdd451,675,47,23,4523,,,0,"mypy: annotate volume/api.py

Change-Id: I19a47c463dfb8794ebbeda78f39c962e47ad0d93
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/733622/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,a71c6f9b636f6604e327a85ef0fdc5adbf6275ee,mypy,"import typing as ty def list_availability_zones(self, enable_cache=False, refresh_cache=False) -> tuple: disabled_map: ty.Dict[str, ty.Union[str, bool]] = {} source_type, target_type) -> bool: def _is_volume_migrating(self, volume) -> bool: # ignore type (Exception has no attr ""msg"") error ""volume: %s"") % (e.msg) # type: ignore def begin_detaching(self, context: context.RequestContext, volume: objects.Volume) -> None: def attach(self, context: context.RequestContext, volume: objects.Volume, instance_uuid: str, host_name: str, mountpoint: str, mode: str): def create_snapshot_in_db(self, context: context.RequestContext, volume: objects.Volume, name: str, description: str, force: bool, metadata: dict, # type error because snapshot may be None if snapshot.obj_attr_is_set('id'): # type: ignore snapshot.destroy() # type: ignore total_reserve_opts: ty.Dict[str, int] = {} expected: ty.Dict[str, ty.Any] results:collections.defaultdict = collections.defaultdict(dict) def get_volume_image_metadata(self, context: context.RequestContext, volume: objects.Volume) -> ty.Dict[str, str]: def get_list_volumes_image_metadata(self, context: context.RequestContext, volume_id_list: ty.List[str]) -> ty.DefaultDict[str, str]: results:collections.defaultdict = collections.defaultdict(dict) def _merge_volume_image_meta(self, context: context.RequestContext, volume: objects.Volume, image_meta: dict) -> None: def copy_volume_to_image(self, context: context.RequestContext, volume: objects.Volume, metadata: ty.Dict[str, str], force:bool) -> ty.Dict[str, ty.Optional[str]]: def _extend(self, context, volume, new_size, attached=False) -> None: def extend(self, context, volume, new_size) -> None: def extend_attached_volume(self, context, volume, new_size) -> None: lock_volume) -> None: def _get_cluster_and_services_for_replication(self, ctxt, host: str, cluster_name: str) -> ty.Tuple[ty.Any, ty.Any]: host, cluster_name, check_up=False) -> ty.Tuple[ty.Any, ty.Any]: def _error_msg(service: str) -> str: msg = _error_msg([s.host for s in not_changed][0]) # TODO: examine this change def failover(self, ctxt: context.RequestContext, host: str, cluster_name: str, secondary_id=None) -> None: def freeze_host(self, ctxt, host, cluster_name) -> None: def thaw_host(self, ctxt, host, cluster_name) -> ty.Optional[str]: return None def _check_boolean_filter_value(self, key, val, strict=False) -> bool:"," def list_availability_zones(self, enable_cache=False, refresh_cache=False): disabled_map = {} source_type, target_type): def _is_volume_migrating(self, volume): ""volume: %s"") % (e.msg) def begin_detaching(self, context, volume): def attach(self, context, volume, instance_uuid, host_name, mountpoint, mode): def create_snapshot_in_db(self, context, volume, name, description, force, metadata, if snapshot.obj_attr_is_set('id'): snapshot.destroy() total_reserve_opts = {} results = collections.defaultdict(dict) def get_volume_image_metadata(self, context, volume): def get_list_volumes_image_metadata(self, context, volume_id_list): results = collections.defaultdict(dict) def _merge_volume_image_meta(self, context, volume, image_meta): def copy_volume_to_image(self, context, volume, metadata, force): def _extend(self, context, volume, new_size, attached=False): def extend(self, context, volume, new_size): def extend_attached_volume(self, context, volume, new_size): lock_volume): def _get_cluster_and_services_for_replication(self, ctxt, host, cluster_name): host, cluster_name, check_up=False): def _error_msg(service): msg = _error_msg([s.host for s in not_changed]) def failover(self, ctxt, host, cluster_name, secondary_id=None): def freeze_host(self, ctxt, host, cluster_name): def thaw_host(self, ctxt, host, cluster_name): def _check_boolean_filter_value(self, key, val, strict=False):",65,33
openstack%2Fcharm-ironic-conductor~master~I3a48a669c922dabd781fcd92c18faa2d155736a5,openstack/charm-ironic-conductor,master,I3a48a669c922dabd781fcd92c18faa2d155736a5,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:56.000000000,2021-12-14 17:41:54.000000000,2021-12-14 14:13:26.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/d91afcc930875a5cb4afc4c54d03c56f24d71bcc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 2, 'created': '2021-11-01 13:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/79a3c4d43590302a85664d2f6e0e585d7fa82e23', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 3, 'created': '2021-11-03 22:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/8dcb4e5c2845be84f79a25bc3021c4a52e65c168', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 4, 'created': '2021-11-05 17:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/a7faf29615f305faeea9831209f02ef4bec152de', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 5, 'created': '2021-11-09 15:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/a46685cfeb4241696fc3b494b12a022c41cb4670', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 6, 'created': '2021-11-12 13:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/863a421d7b64777c2539d33bd40591ad5b002622', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 7, 'created': '2021-11-12 14:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/c306f806dd6495e099c7911f2efc79f251ae9e5b', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 8, 'created': '2021-11-12 16:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2231feae20715c22beb5dbdec3a76f7424c5bf4c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 9, 'created': '2021-11-17 17:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/eb722b39d4d581fbeab208451e14995e87e41045', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 10, 'created': '2021-11-17 19:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/f0014b0922999637e00bed6c3fced5d047047456', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 11, 'created': '2021-11-22 13:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/6f914ae1edc6f1d6c512bf28dc553ccb99ab860c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 12, 'created': '2021-11-24 14:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/663c3227319e027dfd9ebfebbf223f7287b5bc8f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 13, 'created': '2021-11-24 20:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/6ffcddcec1ddc4f249ad326af1768c9aca37f2aa', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 14, 'created': '2021-11-24 20:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/018bac7066d0cd2fc41d49aad750499cf4b00d8d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 15, 'created': '2021-11-29 20:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/decbfe6edb9fdf276df049e92f57c7723e186d24', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n* include poetry-core>=1.0.0 in wheelhouse\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\nCloses-Bug: #1952659\n'}, {'number': 16, 'created': '2021-11-29 20:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/f1e8cc27f9af33a36b8402672be2ea19ce3e174d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 17, 'created': '2021-12-01 18:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/9ea0d960e8f03ce728c4736d174ef700999a0413', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n* pin iso8601<1.0.0\n\nCloses-Bug: #1952659\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}, {'number': 18, 'created': '2021-12-01 19:37:46.000000000', 'files': ['src/tests/bundles/overlays/focal-xena.yaml.j2', 'osci.yaml', 'test-requirements.txt', 'src/tests/bundles/overlays/jammy-yoga.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/overlays/focal-yoga.yaml.j2', 'src/wheelhouse.txt', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/40d33362a62fb1b41dd8bc15e240bc7985effd2c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n* pin iso8601<1.0.0\n\nCloses-Bug: #1952659\nChange-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5\n'}]",17,816022,40d33362a62fb1b41dd8bc15e240bc7985effd2c,76,4,18,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* sync from release-tools
* switch to release-specific zosci functional tests
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata/tests
* drop py35 and add py39
* pin iso8601<1.0.0

Closes-Bug: #1952659
Change-Id: I3a48a669c922dabd781fcd92c18faa2d155736a5
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/22/816022/18 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/metadata.yaml']",3,d91afcc930875a5cb4afc4c54d03c56f24d71bcc,batch-update,- jammy,,4,0
openstack%2Fcharm-ironic-api~master~Idb410de1010371c7aca7d97f9cf3036c26aaf7f4,openstack/charm-ironic-api,master,Idb410de1010371c7aca7d97f9cf3036c26aaf7f4,Additional test updates,MERGED,2021-11-17 19:47:28.000000000,2021-12-14 17:35:22.000000000,2021-12-14 14:20:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-17 19:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/50768fa28a2ee35041c223b95ad9b3c59c98225f', 'message': 'Additional test updates\n\n* switch to release-specific zosci functional tests\n* switch to yoga zosci unit test job\n* add py39\n\nChange-Id: Idb410de1010371c7aca7d97f9cf3036c26aaf7f4\n'}, {'number': 2, 'created': '2021-11-23 17:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/1900646887a5253a89b5bbbbfd920d5e0231d1d3', 'message': 'Additional test updates\n\n* switch to release-specific zosci functional tests\n* switch to yoga zosci unit test job\n* add py39\n\nChange-Id: Idb410de1010371c7aca7d97f9cf3036c26aaf7f4\n'}, {'number': 3, 'created': '2021-11-30 19:54:49.000000000', 'files': ['osci.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/36216b9de35c5480fdf00a0c1861f179ab6df862', 'message': 'Additional test updates\n\n* switch to release-specific zosci functional tests\n* switch to yoga zosci unit test job\n* add py39\n\nChange-Id: Idb410de1010371c7aca7d97f9cf3036c26aaf7f4\n'}]",13,818267,36216b9de35c5480fdf00a0c1861f179ab6df862,39,3,3,11805,,,0,"Additional test updates

* switch to release-specific zosci functional tests
* switch to yoga zosci unit test job
* add py39

Change-Id: Idb410de1010371c7aca7d97f9cf3036c26aaf7f4
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/67/818267/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'tox.ini']",2,50768fa28a2ee35041c223b95ad9b3c59c98225f,batch-update,[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,13,16
openstack%2Fcharm-manila-ganesha~master~I737d011a94b32e0675f04c1647a6a608513352f5,openstack/charm-manila-ganesha,master,I737d011a94b32e0675f04c1647a6a608513352f5,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:21:48.000000000,2021-12-14 17:29:34.000000000,2021-12-14 14:29:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/a47005df0f82319c0b370c8f8bf7d54829732ef7', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 2, 'created': '2021-11-01 13:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e981f2fd4eb4635b69270484f400bd61bd9058c1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 3, 'created': '2021-11-03 20:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/6bf7a80f5e7babc4f81de1aafe73dbe8aa68fa58', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 4, 'created': '2021-11-05 17:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3718b83253a7ddf3b68cfb6246fd982d29303f27', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 5, 'created': '2021-11-09 15:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/b769c1da455430ba79ad6f0f97eb1ef105a63c21', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 6, 'created': '2021-11-12 13:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/796b43ac9a36d59923378ad99b76339fd2bc6e6f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 7, 'created': '2021-11-12 14:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e86f7ebe8d3d507b12225deef76b5bcd2d0d7c89', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 8, 'created': '2021-11-12 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/08c6fcbb19031d913948a5d1c2ce611e2e1f3f09', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 9, 'created': '2021-11-17 17:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/1af00079ad4e5158731a22b4d284b5690b8b512d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 10, 'created': '2021-11-17 19:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/d31a38fa6a60a0668e112986e57aeecb86e98411', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 11, 'created': '2021-11-29 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ab0a77f05f8dd9d15bf7f9e5443af4654ac0f94c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 12, 'created': '2021-11-29 17:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3f76561cbf95910a8001c7add9b615104df7ee8a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n* add nrpe to bundles\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\nCloses-Bug: #1925977\n'}, {'number': 13, 'created': '2021-11-29 17:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/42b6a57afaa1bca8e8cc9a06002e4ec5fe1b96d1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 14, 'created': '2021-11-30 13:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/dd1d448666c59b552408544f982208b1e7722df8', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 15, 'created': '2021-11-30 20:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/4c313ddd5680b2b6b76556b8fbde454e5ab34818', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 16, 'created': '2021-12-02 14:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/4b06c0ce1591e596561422a5a3564dff46fb3919', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 17, 'created': '2021-12-03 13:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ec4b6c73d7c9ab2da89a90371efae8eab74e5b97', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}, {'number': 18, 'created': '2021-12-07 15:22:02.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/bundles/focal-ussuri-non-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/f4b003667bae90190fb546fa0f3601da90828965', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* sync from release-tools\n* switch to release-specific zosci functional tests\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata/tests\n* drop py35 and add py39\n\nChange-Id: I737d011a94b32e0675f04c1647a6a608513352f5\n'}]",20,816032,f4b003667bae90190fb546fa0f3601da90828965,82,3,18,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* sync from release-tools
* switch to release-specific zosci functional tests
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata/tests
* drop py35 and add py39

Change-Id: I737d011a94b32e0675f04c1647a6a608513352f5
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/32/816032/17 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml']",7,a47005df0f82319c0b370c8f8bf7d54829732ef7,batch-update,- focal-yoga- jammy-yoga - jammy-yoga,,629,6
openstack%2Ftripleo-common~stable%2Fwallaby~I23c64637e161c8054332c4e4761cd82802f3ae1f,openstack/tripleo-common,stable/wallaby,I23c64637e161c8054332c4e4761cd82802f3ae1f,Update tcib for CentOS Stream 9,MERGED,2021-12-13 09:09:59.000000000,2021-12-14 17:24:30.000000000,2021-12-14 16:59:35.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-12-13 09:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2b8cb9bbf852f6c2be8e1ceceaca92956f0acce', 'message': 'Update tcib for CentOS Stream 9\n\nIt moves the EL8 and EL9 packages into two conditional\nand also introduces python_version for both EL versions.\n\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/807098\nadds the support for passing extra parameters and based on those\nparameter above distro and python version conditionals\nwill be evaluated.\n\nSince collectd packages and qdrouterd packages are not available\ncurrently so are restricting to EL8.\n\nNote: /usr/share/zoneinfo comes from tzdata and this directory\ndoes not exists on base image. On reinstalling in a running\ncontainer, the directory exists but on a image it does not\nexists. So In order to fix it, we are removing the tzdata\nrpm and reinstalling it as a workaround.\n\nRelated-Bug: #1946461\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800577\n\nSigned-off-by: Ronelle Landy <rlandy@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23c64637e161c8054332c4e4761cd82802f3ae1f\n(cherry picked from commit f558eaa75a12cc2f1c3147f61c57510e51859c99)\n'}, {'number': 2, 'created': '2021-12-13 09:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04bcb6003afaccf9dd20781511317c0e97baede9', 'message': 'Update tcib for CentOS Stream 9\n\nIt moves the EL8 and EL9 packages into two conditional\nand also introduces python_version for both EL versions.\n\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/807098\nadds the support for passing extra parameters and based on those\nparameter above distro and python version conditionals\nwill be evaluated.\n\nSince collectd packages and qdrouterd packages are not available\ncurrently so are restricting to EL8.\n\nNote: /usr/share/zoneinfo comes from tzdata and this directory\ndoes not exists on base image. On reinstalling in a running\ncontainer, the directory exists but on a image it does not\nexists. So In order to fix it, we are removing the tzdata\nrpm and reinstalling it as a workaround.\n\nRelated-Bug: #1946461\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800577\n\nNote: It is not a clean cherry-pick. It collects other CS9\nchanges https://review.opendev.org/q/%28topic:%2522cs9%2522+OR+hashtag:%2522cs9%2522%29+status:merged+project:openstack/tripleo-common\nin a single patch.\n\nBelow is the list of patches included in this change:\n* https://review.opendev.org/c/openstack/tripleo-common/+/816321\n* https://review.opendev.org/c/openstack/tripleo-common/+/820041\n* https://review.opendev.org/c/openstack/tripleo-common/+/820382\n* https://review.opendev.org/c/openstack/tripleo-common/+/814119\n* https://review.opendev.org/c/openstack/tripleo-common/+/813745\n* https://review.opendev.org/c/openstack/tripleo-common/+/808044\n\nAlready Backported:\n* https://review.opendev.org/q/I544d117e03037c8a4744139c36bc63b978c489dd\n* https://review.opendev.org/q/I6c3798c40b7f5c241a7eb13d2ae01cd23fd943b5\n\nSigned-off-by: Ronelle Landy <rlandy@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23c64637e161c8054332c4e4761cd82802f3ae1f\n(cherry picked from commit f558eaa75a12cc2f1c3147f61c57510e51859c99)\n'}, {'number': 3, 'created': '2021-12-13 11:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1759c562bbb103b90c873a3758d980aaa532de69', 'message': 'Update tcib for CentOS Stream 9\n\nIt moves the EL8 and EL9 packages into two conditional\nand also introduces python_version for both EL versions.\n\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/807098\nadds the support for passing extra parameters and based on those\nparameter above distro and python version conditionals\nwill be evaluated.\n\nSince collectd packages and qdrouterd packages are not available\ncurrently so are restricting to EL8.\n\nNote: /usr/share/zoneinfo comes from tzdata and this directory\ndoes not exists on base image. On reinstalling in a running\ncontainer, the directory exists but on a image it does not\nexists. So In order to fix it, we are removing the tzdata\nrpm and reinstalling it as a workaround.\n\nRelated-Bug: #1946461\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800577\n\nNote: It is not a clean cherry-pick. It collects other CS9\nchanges https://review.opendev.org/q/%28topic:%2522cs9%2522+OR+hashtag:%2522cs9%2522%29+status:merged+project:openstack/tripleo-common\nin a single patch.\n\nBelow is the list of patches included in this change:\n* https://review.opendev.org/c/openstack/tripleo-common/+/816321\n* https://review.opendev.org/c/openstack/tripleo-common/+/820041\n* https://review.opendev.org/c/openstack/tripleo-common/+/820382\n* https://review.opendev.org/c/openstack/tripleo-common/+/814119\n* https://review.opendev.org/c/openstack/tripleo-common/+/813745\n* https://review.opendev.org/c/openstack/tripleo-common/+/808044\n\nAlready Backported:\n* https://review.opendev.org/q/I544d117e03037c8a4744139c36bc63b978c489dd\n* https://review.opendev.org/q/I6c3798c40b7f5c241a7eb13d2ae01cd23fd943b5\n\nSigned-off-by: Ronelle Landy <rlandy@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23c64637e161c8054332c4e4761cd82802f3ae1f\n(cherry picked from commit f558eaa75a12cc2f1c3147f61c57510e51859c99)\n'}, {'number': 4, 'created': '2021-12-14 07:37:55.000000000', 'files': ['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af7f1a2d5d70162ed2b1cf30de68afecd13da3d3', 'message': 'Update tcib for CentOS Stream 9\n\nIt moves the EL8 and EL9 packages into two conditional\nand also introduces python_version for both EL versions.\n\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/807098\nadds the support for passing extra parameters and based on those\nparameter above distro and python version conditionals\nwill be evaluated.\n\nSince collectd packages and qdrouterd packages are not available\ncurrently so are restricting to EL8.\n\nNote: /usr/share/zoneinfo comes from tzdata and this directory\ndoes not exists on base image. On reinstalling in a running\ncontainer, the directory exists but on a image it does not\nexists. So In order to fix it, we are removing the tzdata\nrpm and reinstalling it as a workaround.\n\nRelated-Bug: #1946461\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800577\n\nNote: It is not a clean cherry-pick. It collects other CS9\nchanges https://review.opendev.org/q/%28topic:%2522cs9%2522+OR+hashtag:%2522cs9%2522%29+status:merged+project:openstack/tripleo-common\nin a single patch.\n\nBelow is the list of patches included in this change:\n* https://review.opendev.org/c/openstack/tripleo-common/+/816321\n* https://review.opendev.org/c/openstack/tripleo-common/+/820041\n* https://review.opendev.org/c/openstack/tripleo-common/+/820382\n* https://review.opendev.org/c/openstack/tripleo-common/+/814119\n* https://review.opendev.org/c/openstack/tripleo-common/+/813745\n* https://review.opendev.org/c/openstack/tripleo-common/+/808044\n\nAlready Backported:\n* https://review.opendev.org/q/I544d117e03037c8a4744139c36bc63b978c489dd\n* https://review.opendev.org/q/I6c3798c40b7f5c241a7eb13d2ae01cd23fd943b5\n\nSigned-off-by: Ronelle Landy <rlandy@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I23c64637e161c8054332c4e4761cd82802f3ae1f\n(cherry picked from commit f558eaa75a12cc2f1c3147f61c57510e51859c99)\n'}]",5,821511,af7f1a2d5d70162ed2b1cf30de68afecd13da3d3,20,9,4,12393,,,0,"Update tcib for CentOS Stream 9

It moves the EL8 and EL9 packages into two conditional
and also introduces python_version for both EL versions.

https://review.opendev.org/c/openstack/python-tripleoclient/+/807098
adds the support for passing extra parameters and based on those
parameter above distro and python version conditionals
will be evaluated.

Since collectd packages and qdrouterd packages are not available
currently so are restricting to EL8.

Note: /usr/share/zoneinfo comes from tzdata and this directory
does not exists on base image. On reinstalling in a running
container, the directory exists but on a image it does not
exists. So In order to fix it, we are removing the tzdata
rpm and reinstalling it as a workaround.

Related-Bug: #1946461

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/800577

Note: It is not a clean cherry-pick. It collects other CS9
changes https://review.opendev.org/q/%28topic:%2522cs9%2522+OR+hashtag:%2522cs9%2522%29+status:merged+project:openstack/tripleo-common
in a single patch.

Below is the list of patches included in this change:
* https://review.opendev.org/c/openstack/tripleo-common/+/816321
* https://review.opendev.org/c/openstack/tripleo-common/+/820041
* https://review.opendev.org/c/openstack/tripleo-common/+/820382
* https://review.opendev.org/c/openstack/tripleo-common/+/814119
* https://review.opendev.org/c/openstack/tripleo-common/+/813745
* https://review.opendev.org/c/openstack/tripleo-common/+/808044

Already Backported:
* https://review.opendev.org/q/I544d117e03037c8a4744139c36bc63b978c489dd
* https://review.opendev.org/q/I6c3798c40b7f5c241a7eb13d2ae01cd23fd943b5

Signed-off-by: Ronelle Landy <rlandy@redhat.com>
Co-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I23c64637e161c8054332c4e4761cd82802f3ae1f
(cherry picked from commit f558eaa75a12cc2f1c3147f61c57510e51859c99)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/821511/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml']",8,d2b8cb9bbf852f6c2be8e1ceceaca92956f0acce,cs9-stable/wallaby,- run: if ['{{ tcib_release }}' == '8' ]; then dnf -y install {{ tcib_packages['el8'] | join(' ') }}; fi el8: - trousers, - trousers,43,16
openstack%2Fneutron-tempest-plugin~master~I2f78f9de1ad1dc8c34688951c6bb2d5648d5dc3f,openstack/neutron-tempest-plugin,master,I2f78f9de1ad1dc8c34688951c6bb2d5648d5dc3f,Switch scenario jobs to nested-virt nodes,MERGED,2021-12-08 14:05:42.000000000,2021-12-14 17:15:34.000000000,2021-12-14 17:15:34.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 14:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4958a3723bf5a7261de540b6043198cac51b74a4', 'message': '[WIP] Switch scenario jobs to virt nodes\n\nTo avoid intermittent failures in scenario jobs\nmove these jobs to nested virt nodes.\n\nOnly moving scenario jobs those are mostly affected\nby intermittent issues(SSH Tempest failures) and also\nnested virt nodes are provided only by a few nodepool\nproviders.\n\nAlso switching non-scenario jobs to use cirros uec\nimage to avoid kernel panic issue.\n\nInitial tests were done with [2] and issues being\ntracked at [3].\n\n[1] https://bugs.launchpad.net/nova/+bug/1939108\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/819590\n[3] https://etherpad.opendev.org/p/neutron-ci-improvements\n\nChange-Id: I2f78f9de1ad1dc8c34688951c6bb2d5648d5dc3f\n'}, {'number': 2, 'created': '2021-12-09 04:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1e671b556b05df47551ec9f700ceb2c40fd4d5bc', 'message': '[WIP] Switch scenario jobs to virt nodes\n\nTo avoid intermittent failures in scenario jobs\nmove these jobs to nested virt nodes.\n\nOnly moving scenario jobs those are mostly affected\nby intermittent issues(SSH Tempest failures) and also\nnested virt nodes are provided only by a few nodepool\nproviders.\n\nAlso switching non-scenario jobs to use cirros uec\nimage to avoid kernel panic issue.\n\nInitial tests were done with [2] and issues being\ntracked at [3].\n\n[1] https://bugs.launchpad.net/nova/+bug/1939108\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/819590\n[3] https://etherpad.opendev.org/p/neutron-ci-improvements\n\nChange-Id: I2f78f9de1ad1dc8c34688951c6bb2d5648d5dc3f\n'}, {'number': 3, 'created': '2021-12-10 10:04:27.000000000', 'files': ['zuul.d/queens_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/165e40922470ae26f9bd99fb28e51abf832ee798', 'message': 'Switch scenario jobs to nested-virt nodes\n\nTo avoid intermittent failures and job timeouts\nin scenario jobs, move these jobs to nested virt nodes.\n\nOnly moving scenario jobs as those are mostly affected\nby intermittent issues(SSH Tempest failures) and job\ntimeouts. Also nested virt nodes are provided only by a\nfew nodepool providers.\n\nAlso switching non-scenario jobs to use cirros uec\nimage to avoid kernel panic issue.\n\nInitial tests were done with [2] and issues/improvements\nare being tracked at [3].\n\n[1] https://bugs.launchpad.net/nova/+bug/1939108\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/819590\n[3] https://etherpad.opendev.org/p/neutron-ci-improvements\n\nRelated-Bug: #1952066\nRelated-Bug: #1953479\nChange-Id: I2f78f9de1ad1dc8c34688951c6bb2d5648d5dc3f\n'}]",13,821067,165e40922470ae26f9bd99fb28e51abf832ee798,22,5,3,13861,,,0,"Switch scenario jobs to nested-virt nodes

To avoid intermittent failures and job timeouts
in scenario jobs, move these jobs to nested virt nodes.

Only moving scenario jobs as those are mostly affected
by intermittent issues(SSH Tempest failures) and job
timeouts. Also nested virt nodes are provided only by a
few nodepool providers.

Also switching non-scenario jobs to use cirros uec
image to avoid kernel panic issue.

Initial tests were done with [2] and issues/improvements
are being tracked at [3].

[1] https://bugs.launchpad.net/nova/+bug/1939108
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/819590
[3] https://etherpad.opendev.org/p/neutron-ci-improvements

Related-Bug: #1952066
Related-Bug: #1953479
Change-Id: I2f78f9de1ad1dc8c34688951c6bb2d5648d5dc3f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/67/821067/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/base.yaml']",2,4958a3723bf5a7261de540b6043198cac51b74a4,neutron-ci-improvements, DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-uec DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-uec.tar.gz nodeset: nodes: - name: controller label: nested-virt-ubuntu-focal groups: - name: tempest nodes: - controller LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough DEFAULT_IMAGE_NAME: cirros-0.5.1-x86_64-disk DEFAULT_IMAGE_FILE_NAME: cirros-0.5.1-x86_64-disk.img,,16,0
openstack%2Fkolla-ansible~stable%2Frocky~I1310eb5573a469b1a0e9549e853734455307a8b3,openstack/kolla-ansible,stable/rocky,I1310eb5573a469b1a0e9549e853734455307a8b3,Allow octavia services to use independent hostnames,ABANDONED,2019-03-06 18:41:54.000000000,2021-12-14 17:03:11.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 18:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1c33cd0ac542abd75c0ecc89a43ddd54fcc248b', 'message': 'Allow octavia services to use independent hostnames\n\nThis allows octavia service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* octavia_internal_fqdn\n* octavia_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds a octavia_api_listen_port option, which defaults to\noctavia_api_port for backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I1310eb5573a469b1a0e9549e853734455307a8b3\nImplements: blueprint service-hostnames\n(cherry picked from commit ed3bdc0597dc5cbf588a8caa8b78f4fc359fe8a0)\n'}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6af3fe7969e18b379a8a20d13a4b2ca962c0693', 'message': 'Allow octavia services to use independent hostnames\n\nThis allows octavia service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* octavia_internal_fqdn\n* octavia_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds a octavia_api_listen_port option, which defaults to\noctavia_api_port for backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I1310eb5573a469b1a0e9549e853734455307a8b3\nImplements: blueprint service-hostnames\n(cherry picked from commit ed3bdc0597dc5cbf588a8caa8b78f4fc359fe8a0)\n'}]",0,641463,d6af3fe7969e18b379a8a20d13a4b2ca962c0693,7,2,2,10343,,,0,"Allow octavia services to use independent hostnames

This allows octavia service endpoints to use custom hostnames, and adds the
following variables:

* octavia_internal_fqdn
* octavia_external_fqdn

These default to the old values of kolla_internal_fqdn or
kolla_external_fqdn.

This also adds a octavia_api_listen_port option, which defaults to
octavia_api_port for backward compatibility.

This option allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: I1310eb5573a469b1a0e9549e853734455307a8b3
Implements: blueprint service-hostnames
(cherry picked from commit ed3bdc0597dc5cbf588a8caa8b78f4fc359fe8a0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/641463/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml']",5,a1c33cd0ac542abd75c0ecc89a43ddd54fcc248b,626927,"octavia_internal_fqdn: ""{{ kolla_internal_fqdn }}"" octavia_external_fqdn: ""{{ kolla_external_fqdn }}""octavia_api_listen_port: ""{{ octavia_api_port }}""",,9,6
openstack%2Fkolla-ansible~stable%2Frocky~I207d77870e2535c1cdcbc5eaf704f0448ac85a7a,openstack/kolla-ansible,stable/rocky,I207d77870e2535c1cdcbc5eaf704f0448ac85a7a,Use keystone_*_url var in all configs,ABANDONED,2018-12-21 15:15:47.000000000,2021-12-14 17:02:57.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-21 15:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd0ec84c39ae306a979dc3fc0320cba76bbf88cc', 'message': ""Use keystone_*_url var in all configs\n\nWe're duplicating code to build the keystone URLs in nearly every\nconfig, where we've already done it in group_vars. Replace the\nredundancy with a variable that does the same thing.\n\nChange-Id: I207d77870e2535c1cdcbc5eaf704f0448ac85a7a\n""}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2', 'ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/glance/templates/glance-registry.conf.j2', 'ansible/roles/neutron/templates/neutron_lbaas.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/karbor/templates/providers.d/openstack-infra.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/congress/templates/congress.conf.j2', 'ansible/roles/ceph/templates/ceph.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/karbor/templates/karbor.conf.j2', 'ansible/roles/nova-hyperv/templates/wsgate.ini.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/horizon/templates/local_settings.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20b759747ed4ab56808993139c6ef60522034a18', 'message': ""Use keystone_*_url var in all configs\n\nWe're duplicating code to build the keystone URLs in nearly every\nconfig, where we've already done it in group_vars. Replace the\nredundancy with a variable that does the same thing.\n\nChange-Id: I207d77870e2535c1cdcbc5eaf704f0448ac85a7a\n""}]",0,626927,20b759747ed4ab56808993139c6ef60522034a18,7,2,2,10343,,,0,"Use keystone_*_url var in all configs

We're duplicating code to build the keystone URLs in nearly every
config, where we've already done it in group_vars. Replace the
redundancy with a variable that does the same thing.

Change-Id: I207d77870e2535c1cdcbc5eaf704f0448ac85a7a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/626927/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/log-api.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/neutron/templates/ironic_neutron_agent.ini.j2', 'ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/glance/templates/glance-registry.conf.j2', 'ansible/roles/neutron/templates/neutron_lbaas.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/karbor/templates/providers.d/openstack-infra.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/congress/templates/congress.conf.j2', 'ansible/roles/ceph/templates/ceph.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/karbor/templates/karbor.conf.j2', 'ansible/roles/nova-hyperv/templates/wsgate.ini.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/horizon/templates/local_settings.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",50,dd0ec84c39ae306a979dc3fc0320cba76bbf88cc,,www_authenticate_uri = {{ keystone_internal_url }}auth_url = {{ keystone_admin_url }}auth_url = {{ keystone_internal_url }},www_authenticate_uri = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}auth_url = {{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }}auth_url = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }},125,125
openstack%2Fkolla-ansible~stable%2Frocky~I50c46c674134f9958ee4357f0f4eed5483af2214,openstack/kolla-ansible,stable/rocky,I50c46c674134f9958ee4357f0f4eed5483af2214,Allow keystone services to use independent hostnames,ABANDONED,2018-12-21 15:15:47.000000000,2021-12-14 17:02:47.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-21 15:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f63049e69fc51317c3ab53869cc52a20b1ab7f0', 'message': 'Allow keystone services to use independent hostnames\n\nThis allows keystone service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* keystone_internal_fqdn\n* keystone_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds the following variables:\n\n* keystone_admin_listen_port\n* keystone_public_listen_port\n\nThese default to keystone_admin_port and keystone_public_port,\nrespectively, for backward compatibility.\n\nThese options allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I50c46c674134f9958ee4357f0f4eed5483af2214\n'}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89707a6fdd08612458d5c5e08661b3192386d3a8', 'message': 'Allow keystone services to use independent hostnames\n\nThis allows keystone service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* keystone_internal_fqdn\n* keystone_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds the following variables:\n\n* keystone_admin_listen_port\n* keystone_public_listen_port\n\nThese default to keystone_admin_port and keystone_public_port,\nrespectively, for backward compatibility.\n\nThese options allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I50c46c674134f9958ee4357f0f4eed5483af2214\n'}]",0,626926,89707a6fdd08612458d5c5e08661b3192386d3a8,7,2,2,10343,,,0,"Allow keystone services to use independent hostnames

This allows keystone service endpoints to use custom hostnames, and adds the
following variables:

* keystone_internal_fqdn
* keystone_external_fqdn

These default to the old values of kolla_internal_fqdn or
kolla_external_fqdn.

This also adds the following variables:

* keystone_admin_listen_port
* keystone_public_listen_port

These default to keystone_admin_port and keystone_public_port,
respectively, for backward compatibility.

These options allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: I50c46c674134f9958ee4357f0f4eed5483af2214
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/626926/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/haproxy/tasks/precheck.yml']",5,3f63049e69fc51317c3ab53869cc52a20b1ab7f0,," port: ""{{ keystone_admin_listen_port }}"" port: ""{{ keystone_public_listen_port }}"" port: ""{{ keystone_public_listen_port }}"""," port: ""{{ keystone_admin_port }}"" port: ""{{ keystone_public_port }}"" port: ""{{ keystone_public_port }}""",19,15
openstack%2Fkolla-ansible~stable%2Frocky~I7bcce56a2138eeadcabac79dd07c8dba1c5af644,openstack/kolla-ansible,stable/rocky,I7bcce56a2138eeadcabac79dd07c8dba1c5af644,Allow nova services to use independent hostnames,ABANDONED,2018-12-21 15:15:47.000000000,2021-12-14 17:02:39.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-21 15:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05d079a2a7638a686e8af5acd1074bb4d24f09da', 'message': 'Allow nova services to use independent hostnames\n\nThis allows nova service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* nova_internal_fqdn\n* nova_external_fqdn\n* placement_internal_fqdn\n* placement_external_fqdn\n* nova_novncproxy_fqdn\n* nova_spicehtml5proxy_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds the following variables:\n\n* nova_api_listen_port\n* nova_metadata_listen_port\n* nova_novncproxy_listen_port\n* nova_spicehtml5proxy_listen_port\n* nova_serialproxy_listen_port\n* placement_api_listen_port\n\nThese default to <service>_port, e.g. nova_api_port, for backward\ncompatibility.\n\nThese options allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I7bcce56a2138eeadcabac79dd07c8dba1c5af644\n'}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/neutron/templates/metadata_agent.ini.j2', 'ansible/roles/nova/templates/placement-api-wsgi.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/722ebac751c291627fc8854fd1d82132fe1380eb', 'message': 'Allow nova services to use independent hostnames\n\nThis allows nova service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* nova_internal_fqdn\n* nova_external_fqdn\n* placement_internal_fqdn\n* placement_external_fqdn\n* nova_novncproxy_fqdn\n* nova_spicehtml5proxy_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds the following variables:\n\n* nova_api_listen_port\n* nova_metadata_listen_port\n* nova_novncproxy_listen_port\n* nova_spicehtml5proxy_listen_port\n* nova_serialproxy_listen_port\n* placement_api_listen_port\n\nThese default to <service>_port, e.g. nova_api_port, for backward\ncompatibility.\n\nThese options allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I7bcce56a2138eeadcabac79dd07c8dba1c5af644\n'}]",0,626923,722ebac751c291627fc8854fd1d82132fe1380eb,7,2,2,10343,,,0,"Allow nova services to use independent hostnames

This allows nova service endpoints to use custom hostnames, and adds the
following variables:

* nova_internal_fqdn
* nova_external_fqdn
* placement_internal_fqdn
* placement_external_fqdn
* nova_novncproxy_fqdn
* nova_spicehtml5proxy_fqdn

These default to the old values of kolla_internal_fqdn or
kolla_external_fqdn.

This also adds the following variables:

* nova_api_listen_port
* nova_metadata_listen_port
* nova_novncproxy_listen_port
* nova_spicehtml5proxy_listen_port
* nova_serialproxy_listen_port
* placement_api_listen_port

These default to <service>_port, e.g. nova_api_port, for backward
compatibility.

These options allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: I7bcce56a2138eeadcabac79dd07c8dba1c5af644
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/626923/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/neutron/templates/metadata_agent.ini.j2', 'ansible/roles/nova/templates/placement-api-wsgi.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml']",7,05d079a2a7638a686e8af5acd1074bb4d24f09da,," nova_legacy_admin_endpoint: ""{{ admin_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2/%(tenant_id)s"" nova_legacy_internal_endpoint: ""{{ internal_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2/%(tenant_id)s"" nova_legacy_public_endpoint: ""{{ public_protocol }}://{{ nova_external_fqdn }}:{{ nova_api_port }}/v2/%(tenant_id)s"" nova_admin_endpoint: ""{{ admin_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" nova_internal_endpoint: ""{{ internal_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" nova_public_endpoint: ""{{ public_protocol }}://{{ nova_external_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" placement_admin_endpoint: ""{{ admin_protocol }}://{{ placement_internal_fqdn }}:{{ placement_api_port }}"" placement_internal_endpoint: ""{{ internal_protocol }}://{{ placement_internal_fqdn }}:{{ placement_api_port }}"" placement_public_endpoint: ""{{ public_protocol }}://{{ placement_external_fqdn }}:{{ placement_api_port }}""","nova_legacy_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ nova_api_port }}/v2/%(tenant_id)s"" nova_legacy_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ nova_api_port }}/v2/%(tenant_id)s"" nova_legacy_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ nova_api_port }}/v2/%(tenant_id)s"" nova_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" nova_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" nova_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" placement_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ placement_api_port }}"" placement_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ placement_api_port }}"" placement_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ placement_api_port }}""",51,38
openstack%2Fkolla-ansible~stable%2Frocky~I26e8cfdde54aaf0648473f54136cf5350f356917,openstack/kolla-ansible,stable/rocky,I26e8cfdde54aaf0648473f54136cf5350f356917,Allow senlin services to use independent hostnames,ABANDONED,2019-03-05 19:55:21.000000000,2021-12-14 17:02:29.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-05 19:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/341c95d1bffe6af5e7bc3df62d84f380062f58c6', 'message': 'Allow senlin services to use independent hostnames\n\nThis allows senlin service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* senlin_internal_fqdn\n* senlin_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds a senlin_api_listen_port option, which defaults to\nsenlin_api_port for backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I26e8cfdde54aaf0648473f54136cf5350f356917\nImplements: blueprint service-hostnames\n(cherry picked from commit 0f9208e3b583d806987fe6465c4efebc767dd990)\n'}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/senlin/defaults/main.yml', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/senlin/tasks/precheck.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c8697cc76eacb292625734d4de8ceb83d8e1806', 'message': 'Allow senlin services to use independent hostnames\n\nThis allows senlin service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* senlin_internal_fqdn\n* senlin_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds a senlin_api_listen_port option, which defaults to\nsenlin_api_port for backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I26e8cfdde54aaf0648473f54136cf5350f356917\nImplements: blueprint service-hostnames\n(cherry picked from commit 0f9208e3b583d806987fe6465c4efebc767dd990)\n'}]",0,641112,7c8697cc76eacb292625734d4de8ceb83d8e1806,7,2,2,10343,,,0,"Allow senlin services to use independent hostnames

This allows senlin service endpoints to use custom hostnames, and adds the
following variables:

* senlin_internal_fqdn
* senlin_external_fqdn

These default to the old values of kolla_internal_fqdn or
kolla_external_fqdn.

This also adds a senlin_api_listen_port option, which defaults to
senlin_api_port for backward compatibility.

This option allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: I26e8cfdde54aaf0648473f54136cf5350f356917
Implements: blueprint service-hostnames
(cherry picked from commit 0f9208e3b583d806987fe6465c4efebc767dd990)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/641112/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/senlin/defaults/main.yml', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/senlin/tasks/precheck.yml', 'ansible/group_vars/all.yml']",4,341c95d1bffe6af5e7bc3df62d84f380062f58c6,626927,"senlin_internal_fqdn: ""{{ kolla_internal_fqdn }}"" senlin_external_fqdn: ""{{ kolla_external_fqdn }}""senlin_api_listen_port: ""{{ senlin_api_port }}""",,8,5
openstack%2Fkolla-ansible~stable%2Frocky~Icb91f728533e2db1908b23dabb0501cf9f8a2b75,openstack/kolla-ansible,stable/rocky,Icb91f728533e2db1908b23dabb0501cf9f8a2b75,Allow glance services to use independent hostnames,ABANDONED,2018-12-21 15:15:47.000000000,2021-12-14 17:02:17.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-21 15:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d46da8e4f297409c0d125a57fe7701fd3ba2bd3', 'message': 'Allow glance services to use independent hostnames\n\nThis allows glance service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* glance_internal_fqdn\n* glance_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nAllow glance listening ports to be different than endpoint\n\nThis also adds glance_api_listen_port and glance_registry_listen_port\noptions, which default to glance_api_port and glance_registry_port for\nbackward compatibility.\n\nThese options allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: Icb91f728533e2db1908b23dabb0501cf9f8a2b75\n'}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/glance/templates/glance-registry.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/glance/tasks/precheck.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db5ae6652edb58432956898efe69453d10893193', 'message': 'Allow glance services to use independent hostnames\n\nThis allows glance service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* glance_internal_fqdn\n* glance_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nAllow glance listening ports to be different than endpoint\n\nThis also adds glance_api_listen_port and glance_registry_listen_port\noptions, which default to glance_api_port and glance_registry_port for\nbackward compatibility.\n\nThese options allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: Icb91f728533e2db1908b23dabb0501cf9f8a2b75\n'}]",0,626924,db5ae6652edb58432956898efe69453d10893193,7,2,2,10343,,,0,"Allow glance services to use independent hostnames

This allows glance service endpoints to use custom hostnames, and adds the
following variables:

* glance_internal_fqdn
* glance_external_fqdn

These default to the old values of kolla_internal_fqdn or
kolla_external_fqdn.

Allow glance listening ports to be different than endpoint

This also adds glance_api_listen_port and glance_registry_listen_port
options, which default to glance_api_port and glance_registry_port for
backward compatibility.

These options allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: Icb91f728533e2db1908b23dabb0501cf9f8a2b75
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/626924/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/glance/templates/glance-registry.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/glance/tasks/precheck.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml']",9,7d46da8e4f297409c0d125a57fe7701fd3ba2bd3,," glance_admin_endpoint: ""{{ admin_protocol }}://{{ glance_internal_fqdn }}:{{ glance_api_port }}"" glance_internal_endpoint: ""{{ internal_protocol }}://{{ glance_internal_fqdn }}:{{ glance_api_port }}"" glance_public_endpoint: ""{{ public_protocol }}://{{ glance_external_fqdn }}:{{ glance_api_port }}""","glance_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ glance_api_port }}"" glance_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ glance_api_port }}"" glance_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ glance_api_port }}""",19,14
openstack%2Fkolla-ansible~stable%2Frocky~I17238e9fc55d62333bfb017ff31a2a1615a288a6,openstack/kolla-ansible,stable/rocky,I17238e9fc55d62333bfb017ff31a2a1615a288a6,DNM: allow deploying without compute host inventory,ABANDONED,2019-04-05 12:10:33.000000000,2021-12-14 17:02:07.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8d83fc45423532f28636d66466517e4e977e72d', 'message': 'DNM: allow deploying without compute host inventory\n\nChange-Id: I17238e9fc55d62333bfb017ff31a2a1615a288a6\n'}]",0,650268,a8d83fc45423532f28636d66466517e4e977e72d,4,2,1,10343,,,0,"DNM: allow deploying without compute host inventory

Change-Id: I17238e9fc55d62333bfb017ff31a2a1615a288a6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/650268/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/tasks/precheck.yml']",2,a8d83fc45423532f28636d66466517e4e977e72d,,"#- name: Checking available compute nodes in inventory # vars: # nova_compute_ironic: ""{{ nova_services['nova-compute-ironic'] }}"" # fail: # msg: > # At least 1 compute node required in inventory when ironic is disabled. # when: # - groups['compute'] | length < 1 # - not nova_compute_ironic.enabled | bool","- name: Checking available compute nodes in inventory vars: nova_compute_ironic: ""{{ nova_services['nova-compute-ironic'] }}"" fail: msg: > At least 1 compute node required in inventory when ironic is disabled. when: - groups['compute'] | length < 1 - not nova_compute_ironic.enabled | bool",30,30
openstack%2Fkolla-ansible~stable%2Frocky~I87d7387326b6eaa6adae1600b48d480319d10676,openstack/kolla-ansible,stable/rocky,I87d7387326b6eaa6adae1600b48d480319d10676,Allow neutron services to use independent hostnames,ABANDONED,2018-12-21 15:15:47.000000000,2021-12-14 17:01:51.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-21 15:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf5103935ad73d6a7f960bdecaf8977df19ce1de', 'message': 'Allow neutron services to use independent hostnames\n\nThis allows neutron service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* neutron_internal_fqdn\n* neutron_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds a neutron_server_listen_port option, which defaults to\nneutron_server_port for backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I87d7387326b6eaa6adae1600b48d480319d10676\n'}, {'number': 2, 'created': '2019-04-05 12:10:33.000000000', 'files': ['ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3608ef30f06f098960b985b813d91ed7456bd61f', 'message': 'Allow neutron services to use independent hostnames\n\nThis allows neutron service endpoints to use custom hostnames, and adds the\nfollowing variables:\n\n* neutron_internal_fqdn\n* neutron_external_fqdn\n\nThese default to the old values of kolla_internal_fqdn or\nkolla_external_fqdn.\n\nThis also adds a neutron_server_listen_port option, which defaults to\nneutron_server_port for backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I87d7387326b6eaa6adae1600b48d480319d10676\n'}]",0,626925,3608ef30f06f098960b985b813d91ed7456bd61f,7,2,2,10343,,,0,"Allow neutron services to use independent hostnames

This allows neutron service endpoints to use custom hostnames, and adds the
following variables:

* neutron_internal_fqdn
* neutron_external_fqdn

These default to the old values of kolla_internal_fqdn or
kolla_external_fqdn.

This also adds a neutron_server_listen_port option, which defaults to
neutron_server_port for backward compatibility.

This option allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: I87d7387326b6eaa6adae1600b48d480319d10676
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/626925/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/neutron/defaults/main.yml']",9,cf5103935ad73d6a7f960bdecaf8977df19ce1de,,"neutron_admin_endpoint: ""{{ admin_protocol }}://{{ neutron_internal_fqdn }}:{{ neutron_server_port }}"" neutron_internal_endpoint: ""{{ internal_protocol }}://{{ neutron_internal_fqdn }}:{{ neutron_server_port }}"" neutron_public_endpoint: ""{{ public_protocol }}://{{ neutron_external_fqdn }}:{{ neutron_server_port }}""","neutron_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ neutron_server_port }}"" neutron_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ neutron_server_port }}"" neutron_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ neutron_server_port }}""",14,11
openstack%2Fkolla-ansible~stable%2Frocky~I1e47e9524fd9c41bbb2cd2fc80560e53d9296599,openstack/kolla-ansible,stable/rocky,I1e47e9524fd9c41bbb2cd2fc80560e53d9296599,Allow horizon listening port to be different than reachable port,ABANDONED,2019-04-25 13:51:24.000000000,2021-12-14 17:01:44.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 13:51:24.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/horizon/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fb173555d1255453ae86f6165da8b45c6fe01a4', 'message': 'Allow horizon listening port to be different than reachable port\n\nThis adds a horizon_listen_port option, which defaults to horizon_port\nfor backward compatibility.\n\nThis option allow the user to differentiate between the port the\nservice listens on, and the port the service is reachable on. This is\nuseful for external load balancers which live on the same host as the\nservice itself.\n\nChange-Id: I1e47e9524fd9c41bbb2cd2fc80560e53d9296599\nImplements: blueprint service-hostnames\n(cherry picked from commit 3ee1a7ce3c52015cc73b002595ca0ec7262ea401)\n'}]",0,655697,4fb173555d1255453ae86f6165da8b45c6fe01a4,4,2,1,10343,,,0,"Allow horizon listening port to be different than reachable port

This adds a horizon_listen_port option, which defaults to horizon_port
for backward compatibility.

This option allow the user to differentiate between the port the
service listens on, and the port the service is reachable on. This is
useful for external load balancers which live on the same host as the
service itself.

Change-Id: I1e47e9524fd9c41bbb2cd2fc80560e53d9296599
Implements: blueprint service-hostnames
(cherry picked from commit 3ee1a7ce3c52015cc73b002595ca0ec7262ea401)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/655697/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/horizon/tasks/precheck.yml']",3,4fb173555d1255453ae86f6165da8b45c6fe01a4,626927," port: ""{{ horizon_listen_port }}"""," port: ""{{ horizon_port }}""",4,3
openstack%2Fkolla-ansible~stable%2Frocky~I08b4325ec1e0cb6bc405ef54616b9f0200066509,openstack/kolla-ansible,stable/rocky,I08b4325ec1e0cb6bc405ef54616b9f0200066509,Add ability to have RabbitMQ do its own SSL,ABANDONED,2019-04-26 14:48:34.000000000,2021-12-14 17:01:22.000000000,,"[{'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 14:48:34.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/rabbitmq/templates/rabbitmq.config.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6394aca0a7b93f0c593021e4b5fa16b7406f1a04', 'message': ""Add ability to have RabbitMQ do its own SSL\n\nThis is necessary if you'd like to secure RabbitMQ traffic. The HAProxy\nsolution has a number of disadvantages, and RabbitMQ/erlang are very\ngood at providing native TLS/SSL.\n\nThe options for CA certs and keys and such can be handled in\ninventory/globals/passwords. By default this will do nothing and users\nwho want TLS/SSL for their RabbitMQ can do so via HAProxy.\n\nChange-Id: I08b4325ec1e0cb6bc405ef54616b9f0200066509\n""}]",0,655918,6394aca0a7b93f0c593021e4b5fa16b7406f1a04,4,2,1,10343,,,0,"Add ability to have RabbitMQ do its own SSL

This is necessary if you'd like to secure RabbitMQ traffic. The HAProxy
solution has a number of disadvantages, and RabbitMQ/erlang are very
good at providing native TLS/SSL.

The options for CA certs and keys and such can be handled in
inventory/globals/passwords. By default this will do nothing and users
who want TLS/SSL for their RabbitMQ can do so via HAProxy.

Change-Id: I08b4325ec1e0cb6bc405ef54616b9f0200066509
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/655918/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/rabbitmq/templates/rabbitmq.config.j2']",9,6394aca0a7b93f0c593021e4b5fa16b7406f1a04,626927,"{% if not enable_rabbitmq_ssl | bool %}{% endif %}{% if enable_rabbitmq_ssl | bool %} {ssl_listeners, [ {""{{ api_interface_address }}"", {{ role_rabbitmq_ssl_port }}} ]}, {ssl_options, [ {certfile,""/etc/rabbitmq/rabbitmq.crt""}, {keyfile,""/etc/rabbitmq/rabbitmq.key""}{% if rabbitmq_ssl_options | bool %},{% endif %} {% for ssl_option, ssl_value in rabbitmq_ssl_options.items() %} {{ ""{"" + ssl_option + "","" + ssl_value + ""}"" }}{% if not loop.last %},{% endif %} {% endfor %} ]}, {% endif %}",,88,0
openstack%2Fopenstack-manuals~master~I552ad11dfbfa5afbc095e74698c1df75a205bc0b,openstack/openstack-manuals,master,I552ad11dfbfa5afbc095e74698c1df75a205bc0b,Reflect URL changes for openinfra projects,MERGED,2021-11-23 10:11:11.000000000,2021-12-14 16:59:39.000000000,2021-12-14 16:33:31.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-23 10:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/32e09c98c755fb6a223edbdb78a9629faaea998f', 'message': 'Update URL for documentation of python-tempestconf\n\nThe URL for documentation of python-tempestconf has changed with this\npatch [1].\n\nThis patch updates the URL for documentation of python-tempestconf\nto make it consistent across all repositories.\n\n[1] https://review.opendev.org/c/openinfra/python-tempestconf/+/815473\n\nChange-Id: I552ad11dfbfa5afbc095e74698c1df75a205bc0b\n'}, {'number': 2, 'created': '2021-12-06 10:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/145b6a62b5e2d243421648fd565e9fa1f2552b70', 'message': 'Update URL for documentation of python-tempestconf\n\nThe URL for documentation of python-tempestconf has changed with this\npatch [1].\n\nThis patch updates the URL for documentation of python-tempestconf\nto make it consistent across all repositories.\n\n[1] https://review.opendev.org/c/openinfra/python-tempestconf/+/815473\n\nChange-Id: I552ad11dfbfa5afbc095e74698c1df75a205bc0b\n'}, {'number': 3, 'created': '2021-12-07 10:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d839e91c9e73abea189407a25245c7314aeed3f0', 'message': 'Reflect URL changes for openinfra projects\n\nThe URL for documentation of python-tempestconf and refstack has\nchanged with this patches [1][2] (docs.openstack.org -> docs.opendev.org).\n\nThis patch makes sure that URLs for documentation of python-tempestconf\nand refstack are redirected to corresponding docs.opendev.org URLs.\n\n[1] https://review.opendev.org/c/openinfra/python-tempestconf/+/815473\n[2] https://review.opendev.org/c/openinfra/refstac\n\nChange-Id: I552ad11dfbfa5afbc095e74698c1df75a205bc0b\n'}, {'number': 4, 'created': '2021-12-07 11:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/40ba466e58319c8eafd0f33154afde4e1ec16ae5', 'message': 'Reflect URL changes for openinfra projects\n\nThe URL for documentation of python-tempestconf and refstack has\nchanged with this patches [1][2] (docs.openstack.org -> docs.opendev.org).\n\nThis patch makes sure that URLs for documentation of python-tempestconf\nand refstack are redirected to corresponding docs.opendev.org URLs.\n\n[1] https://review.opendev.org/c/openinfra/python-tempestconf/+/815473\n[2] https://review.opendev.org/c/openinfra/refstac\n\nChange-Id: I552ad11dfbfa5afbc095e74698c1df75a205bc0b\n'}, {'number': 5, 'created': '2021-12-14 08:26:57.000000000', 'files': ['www/.htaccess', 'www/static/sitemap.xml', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1f550af06911cedc2237bb234b6bd5dbd1dc292e', 'message': 'Reflect URL changes for openinfra projects\n\nThe URL for documentation of python-tempestconf and refstack has\nchanged with this patches [1][2] (docs.openstack.org -> docs.opendev.org).\n\nThis patch makes sure that URLs for documentation of python-tempestconf\nand refstack are redirected to corresponding docs.opendev.org URLs.\n\n[1] https://review.opendev.org/c/openinfra/python-tempestconf/+/815473\n[2] https://review.opendev.org/c/openinfra/refstac\n\nChange-Id: I552ad11dfbfa5afbc095e74698c1df75a205bc0b\n'}]",12,818875,1f550af06911cedc2237bb234b6bd5dbd1dc292e,24,4,5,30674,,,0,"Reflect URL changes for openinfra projects

The URL for documentation of python-tempestconf and refstack has
changed with this patches [1][2] (docs.openstack.org -> docs.opendev.org).

This patch makes sure that URLs for documentation of python-tempestconf
and refstack are redirected to corresponding docs.opendev.org URLs.

[1] https://review.opendev.org/c/openinfra/python-tempestconf/+/815473
[2] https://review.opendev.org/c/openinfra/refstac

Change-Id: I552ad11dfbfa5afbc095e74698c1df75a205bc0b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/75/818875/5 && git format-patch -1 --stdout FETCH_HEAD,['www/static/sitemap.xml'],1,32e09c98c755fb6a223edbdb78a9629faaea998f,change-818875, <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/user/profile.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/cli/cli_options.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/index.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/search.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/contributor/contributing.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/admin/admin_usage.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/install/installation.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/contributor/index.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/admin/index.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/user/usage.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/user/index.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/cli/index.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/install/index.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/overview.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/user/default.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/user/import.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/releasenotes/</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/releasenotes/unreleased.html</loc> <loc>https://docs.opendev.org/openinfra/python-tempestconf/latest/releasenotes/index.html</loc>, <loc>https://docs.openstack.org/python-tempestconf/latest/user/profile.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/cli/cli_options.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/index.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/search.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/contributor/contributing.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/admin/admin_usage.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/install/installation.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/contributor/index.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/admin/index.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/user/usage.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/user/index.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/cli/index.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/install/index.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/overview.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/user/default.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/user/import.html</loc> <loc>https://docs.openstack.org/python-tempestconf/latest/</loc> <loc>https://docs.openstack.org/releasenotes/python-tempestconf/</loc> <loc>https://docs.openstack.org/releasenotes/python-tempestconf/unreleased.html</loc> <loc>https://docs.openstack.org/releasenotes/python-tempestconf/index.html</loc>,20,20
openstack%2Fsenlin-tempest-plugin~master~If0c66938ff1b505aba53d17293ff70612a3bd889,openstack/senlin-tempest-plugin,master,If0c66938ff1b505aba53d17293ff70612a3bd889,Add doc/requirements,MERGED,2021-01-07 16:02:32.000000000,2021-12-14 16:48:11.000000000,2021-12-14 16:48:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-01-07 16:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/19aa8c7dc01f48ee494cba56995807caa48984ac', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n/!\\/!\\/!\\\nNotice that I voluntarily added the doc directory even if no docs\nare generated here because zuul will try to pull this requirements from\nthere first and the contained requirements are needed for reno but AFAIK\nthe releasenotes dir is ignored by zuul. c.f [4] for further details.\n/!\\/!\\/!\\\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: If0c66938ff1b505aba53d17293ff70612a3bd889\n""}, {'number': 2, 'created': '2021-11-29 05:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/044073cb49b0648cd5c20031a6c93663b8c28ff6', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n/!\\/!\\/!\\\nNotice that I voluntarily added the doc directory even if no docs\nare generated here because zuul will try to pull this requirements from\nthere first and the contained requirements are needed for reno but AFAIK\nthe releasenotes dir is ignored by zuul. c.f [4] for further details.\n/!\\/!\\/!\\\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: If0c66938ff1b505aba53d17293ff70612a3bd889\n""}, {'number': 3, 'created': '2021-12-14 05:20:53.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/9cc23899db98eac70a62a7a3b170a2e4b21e3415', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n/!\\/!\\/!\\\nNotice that I voluntarily added the doc directory even if no docs\nare generated here because zuul will try to pull this requirements from\nthere first and the contained requirements are needed for reno but AFAIK\nthe releasenotes dir is ignored by zuul. c.f [4] for further details.\n/!\\/!\\/!\\\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: If0c66938ff1b505aba53d17293ff70612a3bd889\n""}]",0,769780,9cc23899db98eac70a62a7a3b170a2e4b21e3415,11,2,3,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

/!\/!\/!\
Notice that I voluntarily added the doc directory even if no docs
are generated here because zuul will try to pull this requirements from
there first and the contained requirements are needed for reno but AFAIK
the releasenotes dir is ignored by zuul. c.f [4] for further details.
/!\/!\/!\

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: If0c66938ff1b505aba53d17293ff70612a3bd889
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/80/769780/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,19aa8c7dc01f48ee494cba56995807caa48984ac,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,,4,4
openstack%2Foperations-guide~master~I576646905da56053c6527ac0cd4e36b41b5a0e8a,openstack/operations-guide,master,I576646905da56053c6527ac0cd4e36b41b5a0e8a,Updated from openstack-manuals,MERGED,2021-12-13 14:14:02.000000000,2021-12-14 16:45:17.000000000,2021-12-14 16:36:32.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:14:02.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/74f8aba6b0b8595546d3d85c554ab2a7671f0ac0', 'message': 'Updated from openstack-manuals\n\nChange-Id: I576646905da56053c6527ac0cd4e36b41b5a0e8a\n'}]",0,821573,74f8aba6b0b8595546d3d85c554ab2a7671f0ac0,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I576646905da56053c6527ac0cd4e36b41b5a0e8a
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/73/821573/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,74f8aba6b0b8595546d3d85c554ab2a7671f0ac0,openstack/openstack-manuals," Interop Working Group. Currently, consists of Interop Working Group. Currently, consists of"," DefCore Committee. Currently, consists of DefCore Committee. Currently, consists of",2,2
openstack%2Fglance_store~master~I8c8283efd0e7bb030b886e4a4e27a29d56e71288,openstack/glance_store,master,I8c8283efd0e7bb030b886e4a4e27a29d56e71288,Imported Translations from Zanata,MERGED,2021-09-19 06:36:23.000000000,2021-12-14 16:43:42.000000000,2021-12-14 16:41:22.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-19 06:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f9a0e151b5400ada34775c4091be231557255c1d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8c8283efd0e7bb030b886e4a4e27a29d56e71288\n'}, {'number': 2, 'created': '2021-11-16 02:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a912275cb47d295483039f75739daf0846818ae8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8c8283efd0e7bb030b886e4a4e27a29d56e71288\n'}, {'number': 3, 'created': '2021-11-20 02:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/42eba0d39946c2cd46e93d57fe30e7cbde7f1c8f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8c8283efd0e7bb030b886e4a4e27a29d56e71288\n'}, {'number': 4, 'created': '2021-11-22 02:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/be27bc971349d20405c1e1dc9e68e88e27940eed', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8c8283efd0e7bb030b886e4a4e27a29d56e71288\n'}, {'number': 5, 'created': '2021-12-11 02:38:48.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6295d2eead3e492959f5861ded6a6c3e3f8cc9d0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8c8283efd0e7bb030b886e4a4e27a29d56e71288\n'}]",1,809947,6295d2eead3e492959f5861ded6a6c3e3f8cc9d0,15,2,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8c8283efd0e7bb030b886e4a4e27a29d56e71288
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/47/809947/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,f9a0e151b5400ada34775c4091be231557255c1d,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2021. #zanata""POT-Creation-Date: 2021-09-10 21:08+0000\n""""PO-Revision-Date: 2021-09-18 07:44+0000\n""msgid ""2.5.0"" msgstr ""2.5.0"" msgid ""2.6.0"" msgstr ""2.6.0"" msgid ""2.7.0"" msgstr ""2.7.0"" msgid ""Bug 1885651_: swift_store_endpoint doesn't override keystone catalog"" msgstr ""Bug 1885651_: swift_store_endpoint doesn't override Keystone catalogue"" msgid ""Bug 1915602_: Cinder store: Use v3 API by default"" msgstr ""Bug 1915602_: Cinder store: Use v3 API by default"" msgid """" ""Bug 1926404_: HTTP 413 : Failed to add object to Swift. Got error from Swift"" msgstr """" ""Bug 1926404_: HTTP 413 : Failed to add object to Swift. Got error from Swift"" msgid ""Bug 1934849_: s3 backend takes time exponentially"" msgstr ""Bug 1934849_: s3 backend takes time exponentially"" msgid """" ""Default value of the ``cinder_catalog_info`` parameter has been changed from "" ""``volumev2::publicURL`` to ``volumev3::publicURL``, so that the current v3 "" ""API is used by default instead of the deprecated v2 API."" msgstr """" ""Default value of the ``cinder_catalog_info`` parameter has been changed from "" ""``volumev2::publicURL`` to ``volumev3::publicURL``, so that the current v3 "" ""API is used by default instead of the deprecated v2 API."" ""Fixed creating multiple instances/volumes from image if multiattach volumes "" ""are used."" msgstr """" ""Fixed creating multiple instances/volumes from image if multiattach volumes "" ""are used."" msgid """"""For the Cinder store, if using an internal user to store images, it is now "" ""possible to have the internal user and the internal project in Keystone "" ""domains other than the ``Default`` one. Two new config options "" ""``cinder_store_user_domain_name`` and ``cinder_store_project_domain_name`` "" ""are added (both default to ``Default``) and now are possible to use in the "" ""configuration of the Cinder store."" msgstr """" ""For the Cinder store, if using an internal user to store images, it is now "" ""possible to have the internal user and the internal project in Keystone "" ""domains other than the ``Default`` one. Two new config options "" ""``cinder_store_user_domain_name`` and ``cinder_store_project_domain_name`` "" ""are added (both default to ``Default``) and now are possible to use in the "" ""configuration of the Cinder store."" msgid """"msgid ""Glance cinder store now supports handling of multiattach volumes."" msgstr ""Glance Cinder store now supports handling of multiattach volumes."" ""Previously, during service startup, the check to validate volume types used "" ""to raise ``BackendException`` or ``BadStoreConfiguration`` exceptions when "" ""an invalid volume type was configured hence failing the service startup. It "" ""now logs a warning and the glance service starts normally."" msgstr """" ""Previously, during service startup, the check to validate volume types used "" ""to raise ``BackendException`` or ``BadStoreConfiguration`` exceptions when "" ""an invalid volume type was configured hence failing the service startup. It "" ""now logs a warning and the Glance service starts normally."" msgid """"""This release adds support for handling cinder's multiattach volumes in "" ""glance cinder store."" msgstr """" ""This release adds support for handling cinder's multiattach volumes in "" ""Glance Cinder store."" msgid """"msgid """" ""This was a quiet development cycle for the ``glance_store`` library. Several "" ""bugs were fixed and some code changes were committed to increase stability."" msgstr """" ""This was a quiet development cycle for the ``glance_store`` library. Several "" ""bugs were fixed and some code changes were committed to increase stability."" msgid ""Wallaby Series Release Notes"" msgstr ""Wallaby Series Release Notes"" msgid ""Xena Series Release Notes"" msgstr ""Xena Series Release Notes"" ""`Bug #1901138 <https://bugs.launchpad.net/glance-store/+bug/1901138>`_: "" ""Blocked creation of images when glance store is cinder, cinder backend is "" ""nfs and volumes created are qcow2 format."" msgstr """" ""`Bug #1901138 <https://bugs.launchpad.net/glance-store/+bug/1901138>`_: "" ""Blocked creation of images when Glance store is Cinder, Cinder backend is "" ""NFS and volumes created are qcow2 format."" msgid ""`Bug #1904546 <https://bugs.launchpad.net/cinder/+bug/1904546>`_:"" msgstr ""`Bug #1904546 <https://bugs.launchpad.net/cinder/+bug/1904546>`_:"" msgid """" ""`Bug #1915163 <https://bugs.launchpad.net/glance-store/+bug/1915163>`_: "" ""Added handling to log and raise proper exception during image create when an "" ""invalid volume type is configured."" msgstr """" ""`Bug #1915163 <https://bugs.launchpad.net/glance-store/+bug/1915163>`_: "" ""Added handling to log and raise proper exception during image create when an "" ""invalid volume type is configured."" msgid """"","""POT-Creation-Date: 2020-09-16 18:23+0000\n""""PO-Revision-Date: 2020-10-03 10:13+0000\n""",112,2
openstack%2Fopenstack-ansible~master~Idc7b1c8908b150eaaf12980612083d31d3a5b669,openstack/openstack-ansible,master,Idc7b1c8908b150eaaf12980612083d31d3a5b669,Add documentation of security improvements made to Openstack Ansible,MERGED,2021-12-03 10:46:00.000000000,2021-12-14 16:41:53.000000000,2021-12-14 16:38:11.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-03 10:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7dfe4b21bfa7866805f1509bce7393b9ad5a1cf2', 'message': 'Add documentation of security improvements made to Openstack Ansible\n\nIn the past couple of weeks a number of security patches have\nbeen made to openstack-ansible, this patch documents these\nchanges. Hopefully the level of the documentation gives the users\nenough background on what the changes are and how to use them,\nwithout going into the detailed specifics of each feature.\n\nRegarding the upgrade to TLS for haproxy internal VIP and backends\nin existing deployments, I have some ideas on how this could be\ndone without causing downtime but have not had chance to test\nthis yet. The idea is to use a TCP frontend that accepts both\nHTTP and HTTPS traffic and redirects to correct frontend for each.\n\nChange-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669\n'}, {'number': 2, 'created': '2021-12-03 17:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b1a80ea9b86a2850c8a95ed6001a7daab0b1985f', 'message': 'Add documentation of security improvements made to Openstack Ansible\n\nIn the past couple of weeks a number of security patches have\nbeen made to openstack-ansible, this patch documents these\nchanges. Hopefully the level of the documentation gives the users\nenough background on what the changes are and how to use them,\nwithout going into the detailed specifics of each feature.\n\nRegarding the upgrade to TLS for haproxy internal VIP and backends\nin existing deployments, I have some ideas on how this could be\ndone without causing downtime but have not had chance to test\nthis yet. The idea is to use a TCP frontend that accepts both\nHTTP and HTTPS traffic and redirects to correct frontend for each.\n\nChange-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669\n'}, {'number': 3, 'created': '2021-12-06 08:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/200f393945b2f74b046c604cfe20ed22db26f570', 'message': 'Add documentation of security improvements made to Openstack Ansible\n\nIn the past couple of weeks a number of security patches have\nbeen made to openstack-ansible, this patch documents these\nchanges. Hopefully the level of the documentation gives the users\nenough background on what the changes are and how to use them,\nwithout going into the detailed specifics of each feature.\n\nRegarding the upgrade to TLS for haproxy internal VIP and backends\nin existing deployments, I have some ideas on how this could be\ndone without causing downtime but have not had chance to test\nthis yet. The idea is to use a TCP frontend that accepts both\nHTTP and HTTPS traffic and redirects to correct frontend for each.\n\nChange-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669\n'}, {'number': 4, 'created': '2021-12-06 08:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8b2509ea10644ac8cc3586dafbe206b0e8ddb1cf', 'message': 'Add documentation of security improvements made to Openstack Ansible\n\nIn the past couple of weeks a number of security patches have\nbeen made to openstack-ansible, this patch documents these\nchanges. Hopefully the level of the documentation gives the users\nenough background on what the changes are and how to use them,\nwithout going into the detailed specifics of each feature.\n\nRegarding the upgrade to TLS for haproxy internal VIP and backends\nin existing deployments, I have some ideas on how this could be\ndone without causing downtime but have not had chance to test\nthis yet. The idea is to use a TCP frontend that accepts both\nHTTP and HTTPS traffic and redirects to correct frontend for each.\n\nChange-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669\n'}, {'number': 5, 'created': '2021-12-08 10:24:58.000000000', 'files': ['doc/source/user/security/security-txt.rst', 'doc/source/user/security/security-headers.rst', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/haproxy/haproxy.yml', 'doc/source/user/security/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ad37b254d47238d50a249beb06996df4fcbad37', 'message': 'Add documentation of security improvements made to Openstack Ansible\n\nIn the past couple of weeks a number of security patches have\nbeen made to openstack-ansible, this patch documents these\nchanges. Hopefully the level of the documentation gives the users\nenough background on what the changes are and how to use them,\nwithout going into the detailed specifics of each feature.\n\nRegarding the upgrade to TLS for haproxy internal VIP and backends\nin existing deployments, I have some ideas on how this could be\ndone without causing downtime but have not had chance to test\nthis yet. The idea is to use a TCP frontend that accepts both\nHTTP and HTTPS traffic and redirects to correct frontend for each.\n\nChange-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669\n'}]",83,820370,8ad37b254d47238d50a249beb06996df4fcbad37,26,3,5,31749,,,0,"Add documentation of security improvements made to Openstack Ansible

In the past couple of weeks a number of security patches have
been made to openstack-ansible, this patch documents these
changes. Hopefully the level of the documentation gives the users
enough background on what the changes are and how to use them,
without going into the detailed specifics of each feature.

Regarding the upgrade to TLS for haproxy internal VIP and backends
in existing deployments, I have some ideas on how this could be
done without causing downtime but have not had chance to test
this yet. The idea is to use a TCP frontend that accepts both
HTTP and HTTPS traffic and redirects to correct frontend for each.

Change-Id: Idc7b1c8908b150eaaf12980612083d31d3a5b669
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/820370/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/security/security-txt.rst', 'doc/source/user/security/security-headers.rst', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/haproxy/haproxy.yml', 'doc/source/user/security/index.rst']",5,7dfe4b21bfa7866805f1509bce7393b9ad5a1cf2,docs,.. include:: security-headers.rst .. include:: security-txt.rst,,305,11
openstack%2Farch-design~master~Ic2af4622a299d4cbf420d153e4140b33faf2f0ef,openstack/arch-design,master,Ic2af4622a299d4cbf420d153e4140b33faf2f0ef,Update Interop doc,MERGED,2021-11-08 11:05:00.000000000,2021-12-14 16:39:04.000000000,2021-12-14 16:37:13.000000000,"[{'_account_id': 6547}, {'_account_id': 7160}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 11:05:00.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/arch-design/commit/031898f75246cb47fe6ceb85e7b3d944987656e3', 'message': 'Update Interop doc\n\nThe commit replaces DefCore committee (a former name) by\nInterop Working Group (the current name) and updates a few\nmore old interop references.\n\nChange-Id: Ic2af4622a299d4cbf420d153e4140b33faf2f0ef\n'}]",6,816987,031898f75246cb47fe6ceb85e7b3d944987656e3,10,3,1,22873,,,0,"Update Interop doc

The commit replaces DefCore committee (a former name) by
Interop Working Group (the current name) and updates a few
more old interop references.

Change-Id: Ic2af4622a299d4cbf420d153e4140b33faf2f0ef
",git fetch https://review.opendev.org/openstack/arch-design refs/changes/87/816987/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,031898f75246cb47fe6ceb85e7b3d944987656e3,update-interop-doc," Interop Working Group. Currently, consists of Interop Working Group. Currently, consists of"," DefCore Committee. Currently, consists of DefCore Committee. Currently, consists of",2,2
openstack%2Fha-guide~master~I0c5867a8cf4f63aa24c10a7d83d80878b2585ba1,openstack/ha-guide,master,I0c5867a8cf4f63aa24c10a7d83d80878b2585ba1,Updated from openstack-manuals,MERGED,2021-12-13 14:13:54.000000000,2021-12-14 16:35:31.000000000,2021-12-14 16:33:44.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 14:13:54.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/ddea58da9151ac2f62504aa7cc609f231dff3372', 'message': 'Updated from openstack-manuals\n\nChange-Id: I0c5867a8cf4f63aa24c10a7d83d80878b2585ba1\n'}]",0,821572,ddea58da9151ac2f62504aa7cc609f231dff3372,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I0c5867a8cf4f63aa24c10a7d83d80878b2585ba1
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/72/821572/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,ddea58da9151ac2f62504aa7cc609f231dff3372,openstack/openstack-manuals," Interop Working Group. Currently, consists of Interop Working Group. Currently, consists of"," DefCore Committee. Currently, consists of DefCore Committee. Currently, consists of",2,2
openstack%2Fpuppet-neutron~stable%2Fxena~Ie8b347a4705045dfa0363284ec41e9e519ec19f9,openstack/puppet-neutron,stable/xena,Ie8b347a4705045dfa0363284ec41e9e519ec19f9,Change authentication method for Mellanox sdn controller,MERGED,2021-11-18 09:27:03.000000000,2021-12-14 16:28:41.000000000,2021-12-14 16:26:28.000000000,"[{'_account_id': 9816}, {'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-18 09:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e51ed9c17e792c6fbb6124fe6203f8d4d73e1a85', 'message': 'Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username, password) to token\nauthentication, deprecate username and password and add a new\nparameter token\n\nDepends-on: https://review.opendev.org/817257\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n(cherry picked from commit 8ce1ea3d936856354beff4a8df18d05fd5e2c6c7)\n'}, {'number': 2, 'created': '2021-12-12 06:52:00.000000000', 'files': ['releasenotes/notes/add_token_auth-daa888e87da725da.yaml', 'manifests/plugins/ml2/mellanox/mlnx_sdn_assist.pp', 'spec/classes/neutron_plugins_ml2_mlnx_sdn_assist_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4f2eda540e02ddeaf2f7b5d8b00c21a356009810', 'message': ""Change authentication method for Mellanox sdn controller\n\nChange sdn authentication from basic(username, password) to token\nauthentication, and as we are in stable branch, we are going to\nbackport only the new parameter 'token'\nand avoid backporting deprecation part.\n\nDepends-on: https://review.opendev.org/817257\nChange-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9\n(cherry picked from commit 8ce1ea3d936856354beff4a8df18d05fd5e2c6c7)\n""}]",3,818319,4f2eda540e02ddeaf2f7b5d8b00c21a356009810,14,5,2,25241,,,0,"Change authentication method for Mellanox sdn controller

Change sdn authentication from basic(username, password) to token
authentication, and as we are in stable branch, we are going to
backport only the new parameter 'token'
and avoid backporting deprecation part.

Depends-on: https://review.opendev.org/817257
Change-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9
(cherry picked from commit 8ce1ea3d936856354beff4a8df18d05fd5e2c6c7)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/818319/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_token_auth-daa888e87da725da.yaml', 'manifests/plugins/ml2/mellanox/mlnx_sdn_assist.pp', 'spec/classes/neutron_plugins_ml2_mlnx_sdn_assist_spec.rb']",3,e51ed9c17e792c6fbb6124fe6203f8d4d73e1a85,," :sdn_token => 'token', should contain_neutron_plugin_ml2('sdn/token').with_value(params[:sdn_token]).with_secret(true)"," :sdn_username => 'user', :sdn_password => 'password', should contain_neutron_plugin_ml2('sdn/password').with_value(params[:sdn_password]).with_secret(true) should contain_neutron_plugin_ml2('sdn/username').with_value(params[:sdn_username])",49,17
openstack%2Fcharm-keystone~master~I4d32c78ddf83f6deb86c5b84d359929d23b94ba5,openstack/charm-keystone,master,I4d32c78ddf83f6deb86c5b84d359929d23b94ba5,Fix keystone charm path setting in test bundles,MERGED,2021-10-22 16:04:58.000000000,2021-12-14 16:13:04.000000000,2021-12-14 16:13:04.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-22 16:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cec07829c1963c04a65341f9e83458bfa7147f49', 'message': 'Bug fix for https://bugs.launchpad.net/charm-keystone/+bug/1947793\n  - set keystone charm path to ../../\n\nChange-Id: I4d32c78ddf83f6deb86c5b84d359929d23b94ba5\n'}, {'number': 2, 'created': '2021-10-22 16:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/17170b16e5cdd8de664e9a9c86e7c5368492b0c9', 'message': 'Bug fix for https://bugs.launchpad.net/charm-keystone/+bug/1947793\n  -  Set keystone charm path in test/bundle/*.yaml to ""../../""\n\nChange-Id: I4d32c78ddf83f6deb86c5b84d359929d23b94ba5\n'}, {'number': 3, 'created': '2021-11-03 15:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9a6a3225042bf9b1d9adafaecab5dae00f50232f', 'message': 'Fix keystone charm path setting in test bundles\n\nSet keystone charm path in test/bundle/*.yaml to ""../../""\n\nCloses-Bug: #1947793\n\nChange-Id: I4d32c78ddf83f6deb86c5b84d359929d23b94ba5\n'}, {'number': 4, 'created': '2021-12-14 10:32:51.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5d19a1fab336857ff82f7809a14182267b860d8f', 'message': 'Fix keystone charm path setting in test bundles\n\nSet keystone charm path in test/bundle/*.yaml to ""../../""\n\nCloses-Bug: #1947793\n\nChange-Id: I4d32c78ddf83f6deb86c5b84d359929d23b94ba5\n'}]",5,815131,5d19a1fab336857ff82f7809a14182267b860d8f,19,4,4,34059,,,0,"Fix keystone charm path setting in test bundles

Set keystone charm path in test/bundle/*.yaml to ""../../""

Closes-Bug: #1947793

Change-Id: I4d32c78ddf83f6deb86c5b84d359929d23b94ba5
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/31/815131/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/impish-xena.yaml']",17,cec07829c1963c04a65341f9e83458bfa7147f49,bug/1947793, charm: ../../, charm: ../../../keystone,17,17
openstack%2Foslo.messaging~master~I68dde630571b5c1aca1cd942c1a4fe4a16c8129e,openstack/oslo.messaging,master,I68dde630571b5c1aca1cd942c1a4fe4a16c8129e,Stop to define `TCP_USER_TIMEOUT` and socket constant,ABANDONED,2020-06-03 15:00:46.000000000,2021-12-14 16:11:17.000000000,,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-03 15:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/de751c667f865dbfc2878d613ada34960cae47bb', 'message': ""Only define `TCP_USER_TIMEOUT` for OSX and Windows\n\nTCP_USER_TIMEOUT was introduced [1] few years ago to ensure that\ntimeouts are respected and also because our code supported python 2.7\nwhere the socket module don't defined few constants.\n\nThis constant is now supported since python 3.6 and only OSX and Windows\nplatform need her.\n\nAt the begining this constant were used all the time [4] but now we\ndon't need her anymore.\n\n[1] https://github.com/openstack/oslo.messaging/commit/98bc5fc2fadce089b6f47421929651606e5e9ab6\n[2] https://bugs.python.org/issue26273\n[3] https://docs.python.org/3.8/library/socket.html#constants\n[4] https://github.com/openstack/oslo.messaging/commit/98bc5fc2fadce089b6f47421929651606e5e9ab6#diff-0dabf284596ae79f183fc9eee20b4d9cR870\n\nChange-Id: I68dde630571b5c1aca1cd942c1a4fe4a16c8129e\n""}, {'number': 2, 'created': '2020-06-05 17:14:07.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/96a443369b3a08e72a9f13a5ec7c56ce5236de31', 'message': ""Stop to define `TCP_USER_TIMEOUT` and socket constant\n\nTCP_USER_TIMEOUT was introduced [1] few years ago to ensure that\ntimeouts are respected and also because our code supported python 2.7\nwhere the socket module don't defined few constants.\n\nThis constant is now supported since python 3.6 [2][3] so prefer to use this\nmodule constant.\n\nAt the begining this constant were used all the time [4] but now we\ndon't need her anymore.\n\n[1] https://github.com/openstack/oslo.messaging/commit/98bc5fc2fadce089b6f47421929651606e5e9ab6\n[2] https://bugs.python.org/issue26273\n[3] https://docs.python.org/3.8/library/socket.html#constants\n[4] https://github.com/openstack/oslo.messaging/commit/98bc5fc2fadce089b6f47421929651606e5e9ab6#diff-0dabf284596ae79f183fc9eee20b4d9cR870\n\nChange-Id: I68dde630571b5c1aca1cd942c1a4fe4a16c8129e\n""}]",4,733163,96a443369b3a08e72a9f13a5ec7c56ce5236de31,14,3,2,28522,,,0,"Stop to define `TCP_USER_TIMEOUT` and socket constant

TCP_USER_TIMEOUT was introduced [1] few years ago to ensure that
timeouts are respected and also because our code supported python 2.7
where the socket module don't defined few constants.

This constant is now supported since python 3.6 [2][3] so prefer to use this
module constant.

At the begining this constant were used all the time [4] but now we
don't need her anymore.

[1] https://github.com/openstack/oslo.messaging/commit/98bc5fc2fadce089b6f47421929651606e5e9ab6
[2] https://bugs.python.org/issue26273
[3] https://docs.python.org/3.8/library/socket.html#constants
[4] https://github.com/openstack/oslo.messaging/commit/98bc5fc2fadce089b6f47421929651606e5e9ab6#diff-0dabf284596ae79f183fc9eee20b4d9cR870

Change-Id: I68dde630571b5c1aca1cd942c1a4fe4a16c8129e
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/63/733163/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,de751c667f865dbfc2878d613ada34960cae47bb,tcp-user-timeout, TCP_USER_TIMEOUT = 18,# NOTE(sileht): don't exist in py2 socket module TCP_USER_TIMEOUT = 18,1,2
openstack%2Fcharm-ceph-mon~master~I6c950390b0f02ce3016506fc630d3e4a7859e73c,openstack/charm-ceph-mon,master,I6c950390b0f02ce3016506fc630d3e4a7859e73c,Use unittest.mock instead of mock,ABANDONED,2020-06-08 20:32:01.000000000,2021-12-14 15:37:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 20:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/aeeb410624dd4e5494dc888582887d12b467b148', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I6c950390b0f02ce3016506fc630d3e4a7859e73c\n'}, {'number': 2, 'created': '2020-06-09 13:27:24.000000000', 'files': ['unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_actions.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions_mon.py', 'unit_tests/test_ceph_ops.py', 'unit_tests/test_status.py', 'unit_tests/test_upgrade.py', 'unit_tests/test_ceph_utils.py', 'unit_tests/test_check_ceph_status.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7fa873e8c92047f4459412148b9115bfa142cfa7', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nNote that https://github.com/openstack/charms.openstack is used during tests\nand he need `mock`, unfortunatelly it doesn't declare `mock` in its\nrequirements so it retrieve mock from other charm project (cross dependency).\nSo we depend on charms.openstack first and when\nIb1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI\nwill pass without errors.\n\nDepends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142\nChange-Id: I6c950390b0f02ce3016506fc630d3e4a7859e73c\n""}]",0,734236,7fa873e8c92047f4459412148b9115bfa142cfa7,7,2,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Note that https://github.com/openstack/charms.openstack is used during tests
and he need `mock`, unfortunatelly it doesn't declare `mock` in its
requirements so it retrieve mock from other charm project (cross dependency).
So we depend on charms.openstack first and when
Ib1ed5b598a52375e29e247db9ab4786df5b6d142 will be merged then CI
will pass without errors.

Depends-On: Ib1ed5b598a52375e29e247db9ab4786df5b6d142
Change-Id: I6c950390b0f02ce3016506fc630d3e4a7859e73c
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/36/734236/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_actions.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/test_actions_mon.py', 'unit_tests/test_ceph_ops.py', 'unit_tests/test_status.py', 'unit_tests/test_ceph_utils.py', 'unit_tests/test_check_ceph_status.py', 'unit_tests/test_upgrade.py']",10,aeeb410624dd4e5494dc888582887d12b467b148,drop_mock,from unittest.mock import patch,from mock import patch,9,10
openstack%2Fopenstack-ansible-os_almanach~stable%2Fstein~Ie0fcf73b5f40d0ecc7c23baa4ac33747e638fc86,openstack/openstack-ansible-os_almanach,stable/stein,Ie0fcf73b5f40d0ecc7c23baa4ac33747e638fc86,Updated from OpenStack Ansible Tests,ABANDONED,2019-05-11 23:58:10.000000000,2021-12-14 15:34:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-11 23:58:10.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_almanach/commit/d626100ed4fcec653ffb1d31a6e6fb06a145b0fb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0fcf73b5f40d0ecc7c23baa4ac33747e638fc86\n'}]",0,658585,d626100ed4fcec653ffb1d31a6e6fb06a145b0fb,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ie0fcf73b5f40d0ecc7c23baa4ac33747e638fc86
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_almanach refs/changes/85/658585/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'Vagrantfile']",3,d626100ed4fcec653ffb1d31a6e6fb06a145b0fb,openstack/openstack-ansible-tests/sync-tests,# https://opendev.org/openstack/openstack-ansible-tests/src/Vagrantfile,# https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/Vagrantfile,6,6
openstack%2Fopenstack-ansible-pip_install~stable%2Ftrain~I178611e51fe0534143146a6191576b039e961b70,openstack/openstack-ansible-pip_install,stable/train,I178611e51fe0534143146a6191576b039e961b70,Updated from OpenStack Ansible Tests,ABANDONED,2020-04-15 07:10:15.000000000,2021-12-14 15:33:57.000000000,,[],"[{'number': 1, 'created': '2020-04-15 07:10:15.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/fcc804b979b9ab8b196b3fb853894f9b03b3e0f2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I178611e51fe0534143146a6191576b039e961b70\n'}]",0,720133,fcc804b979b9ab8b196b3fb853894f9b03b3e0f2,2,0,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I178611e51fe0534143146a6191576b039e961b70
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/33/720133/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,fcc804b979b9ab8b196b3fb853894f9b03b3e0f2,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fpuppet-heat~master~I684e077d03b318cef01688c1b11ea37d7fc2f664,openstack/puppet-heat,master,I684e077d03b318cef01688c1b11ea37d7fc2f664,Use native support to define RequestHeader statement,MERGED,2021-12-08 15:23:26.000000000,2021-12-14 15:27:00.000000000,2021-12-14 15:25:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 15:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/b7e471e31c9ef93ffd8e40fe906606782aec8224', 'message': 'Use native support to define RequestHeader statement\n\n... instead of injecting it by vhost_custom_fragment.\n\nDepends-on: https://review.opendev.org/821082\nChange-Id: I684e077d03b318cef01688c1b11ea37d7fc2f664\n'}, {'number': 2, 'created': '2021-12-08 15:26:26.000000000', 'files': ['releasenotes/notes/apache-request_headers-fa752fc465ffad7a.yaml', 'manifests/wsgi/apache_api.pp', 'spec/defines/heat_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/a06217b8382e2d95eeb0f541ba409b3a395b553f', 'message': 'Use native support to define RequestHeader statement\n\n... instead of injecting it by vhost_custom_fragment.\n\nDepends-on: https://review.opendev.org/821082\nChange-Id: I684e077d03b318cef01688c1b11ea37d7fc2f664\n'}]",2,821091,a06217b8382e2d95eeb0f541ba409b3a395b553f,15,3,2,9816,,,0,"Use native support to define RequestHeader statement

... instead of injecting it by vhost_custom_fragment.

Depends-on: https://review.opendev.org/821082
Change-Id: I684e077d03b318cef01688c1b11ea37d7fc2f664
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/91/821091/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache-request_headers-fa752fc465ffad7a.yaml', 'manifests/wsgi/apache_api.pp', 'spec/defines/heat_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb']",6,b7e471e31c9ef93ffd8e40fe906606782aec8224,apache-request_headers," :vhost_custom_fragment => nil, :request_headers => ['set Content-Type ""application/json""'],)"," :vhost_custom_fragment => 'RequestHeader set Content-Type ""application/json""',)",36,4
openstack%2Fpuppet-heat~master~I88684f7f246b226844dc724a35d1cec95742704e,openstack/puppet-heat,master,I88684f7f246b226844dc724a35d1cec95742704e,Clean up direct dependencies on puppetlabs-apache,MERGED,2021-12-08 15:26:26.000000000,2021-12-14 15:25:04.000000000,2021-12-14 15:25:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 15:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/ae0a3d31e80603222c5ac6a87ddd82d631f94e51', 'message': ""Clean up direct dependencies on puppetlabs-apache\n\nThis change removes direct reference to some classes in\npuppetlabs-apache. Details are explained below.\n\n- The api class doesn't need access to anything defined in\n  apache::params\n\n- The following classes are included by the openstacklib::wsgi::apache\n  resource type, and current inclusions are just redundant.\n\nChange-Id: I88684f7f246b226844dc724a35d1cec95742704e\n""}, {'number': 2, 'created': '2021-12-09 01:21:36.000000000', 'files': ['spec/defines/heat_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'manifests/api.pp', 'manifests/api_cfn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/43105f313011fe4cf3284f9c86047e36d1ee5f6a', 'message': ""Clean up direct dependencies on puppetlabs-apache\n\nThis change removes direct reference to some classes in\npuppetlabs-apache. Details are explained below.\n\n- The api class doesn't need access to anything defined in\n  apache::params\n\n- The following classes are included by the openstacklib::wsgi::apache\n  resource type, and current inclusions are just redundant.\n\nChange-Id: I88684f7f246b226844dc724a35d1cec95742704e\n""}]",1,821092,43105f313011fe4cf3284f9c86047e36d1ee5f6a,11,3,2,9816,,,0,"Clean up direct dependencies on puppetlabs-apache

This change removes direct reference to some classes in
puppetlabs-apache. Details are explained below.

- The api class doesn't need access to anything defined in
  apache::params

- The following classes are included by the openstacklib::wsgi::apache
  resource type, and current inclusions are just redundant.

Change-Id: I88684f7f246b226844dc724a35d1cec95742704e
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/92/821092/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/heat_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'manifests/api.pp', 'manifests/api_cfn.pp']",4,ae0a3d31e80603222c5ac6a87ddd82d631f94e51,puppetlabs-apache,, include apache::params,6,20
openstack%2Fneutron-tempest-plugin~master~Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f,openstack/neutron-tempest-plugin,master,Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f,Add test_create_port_with_dns_name,MERGED,2021-12-05 16:30:40.000000000,2021-12-14 14:45:48.000000000,2021-12-14 14:45:48.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 29088}, {'_account_id': 29350}, {'_account_id': 31291}, {'_account_id': 31450}]","[{'number': 1, 'created': '2021-12-05 16:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/392916da9f1778eceb86de383dd8dbf6a9a32fc9', 'message': 'Add test_create_port_with_dns_name (WIP)\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 2, 'created': '2021-12-06 10:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/387cef7eb25bb5a8ca92b40a5e9283263c9db335', 'message': 'Add test_create_port_with_dns_name (WIP)\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 3, 'created': '2021-12-06 16:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/55a3262eee608f451ecbf021d4dd35eb104f8a12', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 4, 'created': '2021-12-07 11:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/edf237f3f96f075fa88c4fbcca3ce265be8a68f9', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 5, 'created': '2021-12-07 12:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3b65b89496b63c05751a060d76a479b22123e5dd', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 6, 'created': '2021-12-08 07:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6efc9024fd9dbfa560576bf49aded89388a474f8', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 7, 'created': '2021-12-08 08:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ef6ac19d8d60e40fd2ab6410469debdf978fc788', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 8, 'created': '2021-12-08 09:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e8a27596787d3290443c3fb654ce9b8e1c094724', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 9, 'created': '2021-12-09 08:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/00a66096b454951f775d47c43a98fcdb69285393', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 10, 'created': '2021-12-09 08:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/235439939b8a0b9d568243266b4a8e72d8bd004f', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}, {'number': 11, 'created': '2021-12-09 12:23:15.000000000', 'files': ['neutron_tempest_plugin/scenario/test_internal_dns.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/518c1f84357febde0b38c632d3f83d99c15573ef', 'message': 'Add test_create_port_with_dns_name\n\nTest the creation of port with a correct predefined\ninternal dns-name (hostname).\n\nChange-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f\n'}]",71,820456,518c1f84357febde0b38c632d3f83d99c15573ef,44,9,11,33341,,,0,"Add test_create_port_with_dns_name

Test the creation of port with a correct predefined
internal dns-name (hostname).

Change-Id: Ic5f884fb1cb0e0acf80cfd0b1e039900a9ade10f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/56/820456/10 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_internal_dns.py'],1,392916da9f1778eceb86de383dd8dbf6a9a32fc9,internal_dns,"from oslo_log import logfrom tempest.lib.common.utils import data_utilsLOG = log.getLogger(__name__) class InternalDNSBase(base.BaseTempestTestCase): """"""Base class of useful resources and functionalities for test class."""""" # reused strings name_prefix = 'internal-dns-test' hostname_cmd = 'cat /etc/hostname' port_error_msg = ('Openstack command returned incorrect' 'hostname value in port.') ssh_error_msg = ('Remote shell command returned incorrect hostname value' f' (command: {hostname_cmd}).') def _rand_name(self, name): """""" 'data_utils.rand_name' wrapper, presents a name related to test suite. """""" return data_utils.rand_name(f'{self.name_prefix}-{name}') @classmethod def resource_setup(cls): super(InternalDNSBase, cls).resource_setup() cls.router = cls.create_router_by_client() cls.keypair = cls.create_keypair( name=cls._rand_name(cls, 'shared-keypair')) cls.secgroup = cls.create_security_group( name=cls._rand_name(cls, 'shared-secgroup')) cls.security_groups.append(cls.secgroup) cls.create_loginable_secgroup_rule( secgroup_id=cls.secgroup['id']) cls.create_pingable_secgroup_rule( secgroup_id=cls.secgroup['id']) cls.vm_kwargs = { 'flavor_ref': CONF.compute.flavor_ref, 'image_ref': CONF.compute.image_ref, 'key_name': cls.keypair['name'], 'security_groups': [{'name': cls.secgroup['name']}] } def _create_ssh_client(self, ip_addr): return ssh.Client(ip_addr, CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) def _validate_port_dns_details(self, checked_hostname, checked_port): """"""Validtes reused objects for correct dns values in tests."""""" dns_details = checked_port['dns_assignment'][0] self.assertEquals(checked_port['dns_name'], checked_hostname, self.port_error_msg) self.assertEquals(dns_details['hostname'], checked_hostname, self.port_error_msg) self.assertIn(checked_hostname, dns_details['fqdn'], self.port_error_msg) def _validate_ssh_dns_details(self, checked_hostname, ssh_client): """"""Validates correct dns values returned from ssh command in tests."""""" ssh_output = ssh_client.exec_command(self.hostname_cmd) self.assertIn(checked_hostname, ssh_output, self.ssh_error_msg) class InternalDNSTest(InternalDNSBase): """"""Tests internal DNS capabilities."""""" @utils.requires_ext(extension=""dns-integration"", service=""network"") @decorators.idempotent_id('db5e612f-f17f-4974-b5f1-9fe89f4a6fc9') def test_create_port_with_dns_name(self): """""" Test the creation of port with a correct predefined internal dns-name (hostname). 1) Create network and subnet. 2) Create a port with dns-name. 3) Verify that correct port dns-name details were queried from openstack. 4) Boot a VM with predefined port. 5) Verify port's dns-name is changed to be as VM's name. NOTE: Port's dns-name will change, it has to be the same as VM's name when a VM is created, it is a known limitation. Therefore port's dns-name is only checked to be as VM's name. """""" # port_hostname = self._rand_name('hostname') vm_name = self._rand_name('vm') # create resources network = self.create_network(name=self._rand_name('network')) subnet = self.create_subnet(network, name=self._rand_name('subnet')) self.create_router_interface(self.router['id'], subnet['id']) # create port with dns-name dns_port = self.create_port(network, # dns_name=port_hostname, name=self._rand_name('port')) # validate dns port # self._validate_port_dns_details(port_hostname, dns_port) # create VM with predefined dns-name on port self.create_server(name=vm_name, networks=[{'port': dns_port['id']}], **self.vm_kwargs) # validate port's dns-name is changed to be as VM's name. vm_fip = self.create_floatingip(port=dns_port) vm_ssh_client = self._create_ssh_client( vm_fip['floating_ip_address']) # import ipdb; ipdb.set_trace() self._validate_ssh_dns_details(vm_name, vm_ssh_client)", class InternalDNSTest(base.BaseTempestTestCase): self.wait_for_server_active(leia['server']) self.wait_for_guest_os_ready(leia['server']),105,3
openstack%2Fcinder-specs~master~Ia44f199243be8f862520d7923007e7182b32f67d,openstack/cinder-specs,master,Ia44f199243be8f862520d7923007e7182b32f67d,Remove the need for project_id from API endpoints,MERGED,2021-11-11 18:48:17.000000000,2021-12-14 14:24:53.000000000,2021-12-14 14:23:23.000000000,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-11 18:48:17.000000000', 'files': ['specs/yoga/project-id-optional-in-urls.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/19fe7038579b5826f0d1097c3c391e6c601726a3', 'message': 'Remove the need for project_id from API endpoints\n\nblueprint project-id-optional-in-urls\n\nChange-Id: Ia44f199243be8f862520d7923007e7182b32f67d\n'}]",18,817638,19fe7038579b5826f0d1097c3c391e6c601726a3,12,4,1,21129,,,0,"Remove the need for project_id from API endpoints

blueprint project-id-optional-in-urls

Change-Id: Ia44f199243be8f862520d7923007e7182b32f67d
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/38/817638/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/project-id-optional-in-urls.rst'],1,19fe7038579b5826f0d1097c3c391e6c601726a3,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Remove the need for project_id from API endpoints ================================================= https://blueprints.launchpad.net/cinder/+spec/project-id-optional-in-urls Problem description =================== Cinder currently assumes API URLs include an associated project_id. Including a project_id in the URL is redundant because the project_id is typically available in the keystone context for the API request. In addition, requiring a project_id is incompatible with keystone's notion of system scope, in which an API is not associated with a specific project. System scoped API requests will not have a project_id, and therefore the URL for those requests should not include a project_id. Furthermore, cinder's inclusion of a project_id in its API URLs is out of sync with other OpenStack services. The Images (glance API v2), Compute (nova API as of v2.16), Identity (keystone API v3) and Shared File Systems (manila API as of v2.60) services do not require a project_id in their API URLs. Use Cases ========= A cloud administrator wishes to utilize keystone personas in order to grant appropriate access permissions to users that are assigned to different roles, e.g. lab operators and project administrators. Lab personnel are typically required to manage system-wide cinder resources, such a storage backends and volume types. However, these personnel should not have access to project specific resources, such as the cinder volumes. Likewise, project administrators need the ability to manage the resources owned by projects for which they have been given responsibility, but should have limited access to system wide resources, such as the ability to configure volume types. In order to support system scoped personas, the URL for API requests should not be required to include a project_id. Proposed change =============== This spec proposes the cinder API be enhanced to not require a project_id in the API's URL. Inclusion of a project_id in the URL would be optional, which means the proposed change retains backward compatibility. A new microversion will be introduced so that clients may know whether inclusion of a project_id in API URLs is optional or mandatory. The microversion will only be used as an indicator that the API can handle URLs without project IDs, and this applies to all requests reqardless of the microversion in the request. For example, if the new proposed microversion is v3.67, an API node serving v3.67 or greater will properly route requests without project_id even if you ask for v3.0. Likewise, it will properly route requests to URLs containing project_id even if you ask for v3.67. The proposal does not introduce any behavioral or functional changes to the API. The same API method will be invoked regardless of whether the URL includes a project_id, and the actual project_id associated with the call will be the one contained in the keystone context for the API request. The current behavior of returning HTTP 400 will be retained if the request URL contains a project_id that doesn't match the one in the keystone context. Alternatives ------------ A dummy project_id value (perhaps all zeroes) could be defined for use by system scoped API requests. This would not be an elegant solution, and would require changes in keystone. Cloud administrators could be required to create an actual project solely for use when making system scoped API requests. This is also not elegant, a shifts the burden of managing system scope onto cloud administrators. Data model impact ----------------- None REST API impact --------------- The behavior of each API method will be unchanged. However, the API routing will be enhanced to provide duplicate routes to each method. #. The existing route for which a project_id is in the URL #. A new route for when the URL does not include a project_id Security impact --------------- There is no security impact because keystone will continue to provide an authorization context for every API request, regardless of whether the request URL includes a project_id. Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- End users typically interact with the cinder API through other clients, such as the python-cinderclient, python-openstackclient, or openstacksdk. In that regard, there is no direct impact on the end user. End users who interact with the API directly using tools such as ``curl`` may continue to include a project_id in the URL. They will have the option of not including a project_id in the URL. Performance Impact ------------------ None Other deployer impact --------------------- Deployment tools that create cinder endpoints in the keystone catalog no longer need to use project_id templating. Endpoints in the catalog should look like this: .. code-block:: console $ openstack endpoint list --service cinderv3 -c 'Service Name' -c URL +--------------+---------------------------------+ | Service Name | URL | +--------------+---------------------------------+ | cinderv3 | http://192.168.100.30/volume/v3 | +--------------+---------------------------------+ rather than this: .. code-block:: console $ openstack endpoint list --service cinderv3 -c 'Service Name' -c URL +--------------+------------------------------------------------+ | Service Name | URL | +--------------+------------------------------------------------+ | cinderv3 | http://192.168.100.30/volume/v3/$(project_id)s | +--------------+------------------------------------------------+ Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: abishop Work Items ---------- - Define a new microversion - Add API routes to connect API requests with no project_id in the URL to the associated method - Add or enhance unit tests - Update devstack so the cinder endpoint doesn't use project_id templating Dependencies ============ None Testing ======= Existing tempest tests will certainly verify whether the API functions correctly. The challenge is verifying both the legacy behavior, where URLs include a project_id, and the new behavior when URLs don't include a project_id. One possiblity is to employ a periodic zuul job that specifically tests the legacy behavior. The details can be worked out during the development phase. Documentation Impact ==================== The existing API reference is largely unaffected. This is because the reference guide is unbranched, and older versions of cinder require a project_id. A brief note will be added to explain the project_id in the API reference is optional as of the new microversion. References ========== - OpenStack's `Support Common Operator & End User Personas <https://review.opendev.org/c/openstack/governance/+/815158>`_ community goal - Cinder's `Secure RBAC Ready <https://review.opendev.org/c/openstack/cinder-specs/+/809741>`_ spec ",,205,0
openstack%2Fcharm-ceilometer-agent~master~Ia22b53b52b541250f7f803c6708968d75e64475c,openstack/charm-ceilometer-agent,master,Ia22b53b52b541250f7f803c6708968d75e64475c,Remove pause/resume logic,MERGED,2021-12-01 08:47:20.000000000,2021-12-14 14:21:59.000000000,2021-12-14 14:21:59.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 08:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/a6291ecfd924e653649be4606bfa691ce5191002', 'message': ""Remove pause/resume logic\n\nThis is a subordinate charm and since a recent\ncommit [1] it shares a list of its services with\nthe principal charm nova-compute, which has now\nthe responsibility to pause and resume services.\n\nThe ceilometer-agent-compute service has a\ndependency to the nova-compute service anyway, so\nit is impossible for this charm to resume its\nservice if its principal charm nova-compute is\npaused. This is what also led to errors in\nceilometer-agent's post-series-upgrade hook. This\nhook attempted to resume its service although\nthe principal service was still paused. Removing\nthis logic entirely solves this issue.\n\nValidated by running openstack-upgrade and\nseries-upgrade tests. [2]\n\n[1]: https://opendev.org/openstack/charm-ceilometer-agent/commit/be45f779\n[2]: https://github.com/openstack-charmers/charmed-openstack-tester\n\nCloses-Bug: #1952882\nChange-Id: Ia22b53b52b541250f7f803c6708968d75e64475c\n""}, {'number': 2, 'created': '2021-12-01 09:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/2580a6a480e6aed62fe2210bfbaff3d07c674e9c', 'message': ""Remove pause/resume logic\n\nThis is a subordinate charm and since a recent\ncommit [1] it shares a list of its services with\nthe principal charm nova-compute, which has now\nthe responsibility to pause and resume services.\n\nThe ceilometer-agent-compute service has a\ndependency to the nova-compute service anyway, so\nit is impossible for this charm to resume its\nservice if its principal charm nova-compute is\npaused. This is what also led to errors in\nceilometer-agent's post-series-upgrade hook. This\nhook attempted to resume its service although\nthe principal service was still paused. Removing\nthis logic entirely solves this issue.\n\nValidated by running openstack-upgrade and\nseries-upgrade tests. [2]\n\n[1]: https://opendev.org/openstack/charm-ceilometer-agent/commit/be45f779\n[2]: https://github.com/openstack-charmers/charmed-openstack-tester\n\nCloses-Bug: #1952882\nChange-Id: Ia22b53b52b541250f7f803c6708968d75e64475c\n""}, {'number': 3, 'created': '2021-12-01 10:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/006c1dc66df084079277ae8925357190a904cd6a', 'message': ""Remove pause/resume logic\n\nThis is a subordinate charm and since a recent\ncommit [1] it shares a list of its services with\nthe principal charm nova-compute, which has now\nthe responsibility to pause and resume services.\n\nThe ceilometer-agent-compute service has a\ndependency to the nova-compute service anyway, so\nit is impossible for this charm to resume its\nservice if its principal charm nova-compute is\npaused. This is what also led to errors in\nceilometer-agent's post-series-upgrade hook. This\nhook attempted to resume its service although\nthe principal service was still paused. Removing\nthis logic entirely solves this issue.\n\nValidated by running openstack-upgrade and\nseries-upgrade tests. [2]\n\n[1]: https://opendev.org/openstack/charm-ceilometer-agent/commit/be45f779\n[2]: https://github.com/openstack-charmers/charmed-openstack-tester\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/681\nCloses-Bug: #1952882\nChange-Id: Ia22b53b52b541250f7f803c6708968d75e64475c\n""}, {'number': 4, 'created': '2021-12-13 15:21:26.000000000', 'files': ['actions/actions.py', 'actions/.gitkeep', 'actions/resume', 'hooks/ceilometer_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_ceilometer_hooks.py', 'hooks/ceilometer_utils.py', 'actions/pause', 'unit_tests/test_ceilometer_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/43a23127949e035506b89afd6fb01b5cfec04b63', 'message': ""Remove pause/resume logic\n\nThis is a subordinate charm and since a recent\ncommit [1] it shares a list of its services with\nthe principal charm nova-compute, which has now\nthe responsibility to pause and resume services. [2]\n\nThe ceilometer-agent-compute service has a\ndependency to the nova-compute service anyway, so\nit is impossible for this charm to resume its\nservice if its principal charm nova-compute is\npaused. This is what also led to errors in\nceilometer-agent's post-series-upgrade hook. This\nhook attempted to resume its service although\nthe principal service was still paused. Removing\nthis logic entirely solves this issue.\n\nValidated by running openstack-upgrade and\nseries-upgrade tests. [3]\n\n[1]: https://opendev.org/openstack/charm-ceilometer-agent/commit/be45f779\n[2]: https://opendev.org/openstack/charm-nova-compute/commit/8fb37dc0\n[3]: https://github.com/openstack-charmers/charmed-openstack-tester\n\nCloses-Bug: #1952882\nChange-Id: Ia22b53b52b541250f7f803c6708968d75e64475c\n""}]",8,820001,43a23127949e035506b89afd6fb01b5cfec04b63,18,3,4,31289,,,0,"Remove pause/resume logic

This is a subordinate charm and since a recent
commit [1] it shares a list of its services with
the principal charm nova-compute, which has now
the responsibility to pause and resume services. [2]

The ceilometer-agent-compute service has a
dependency to the nova-compute service anyway, so
it is impossible for this charm to resume its
service if its principal charm nova-compute is
paused. This is what also led to errors in
ceilometer-agent's post-series-upgrade hook. This
hook attempted to resume its service although
the principal service was still paused. Removing
this logic entirely solves this issue.

Validated by running openstack-upgrade and
series-upgrade tests. [3]

[1]: https://opendev.org/openstack/charm-ceilometer-agent/commit/be45f779
[2]: https://opendev.org/openstack/charm-nova-compute/commit/8fb37dc0
[3]: https://github.com/openstack-charmers/charmed-openstack-tester

Closes-Bug: #1952882
Change-Id: Ia22b53b52b541250f7f803c6708968d75e64475c
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/01/820001/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'actions/resume', 'hooks/ceilometer_hooks.py', 'unit_tests/test_actions.py', 'unit_tests/test_ceilometer_hooks.py', 'actions/pause', 'hooks/ceilometer_utils.py', 'unit_tests/test_ceilometer_utils.py', 'actions.yaml']",9,a6291ecfd924e653649be4606bfa691ce5191002,rm-pause-resume,,pause: description: Pause the ceilometer-agent unit. This action will stop ceilometer-agent services. resume: descrpition: Resume the ceilometer-agent unit. This action will start ceilometer-agent services. ,1,253
openstack%2Fsushy~master~I728baf9eb5aecb7b1dbe25c58536b6b336868f97,openstack/sushy,master,I728baf9eb5aecb7b1dbe25c58536b6b336868f97,[trivial] fix Xena release versions,MERGED,2021-12-08 15:02:53.000000000,2021-12-14 14:20:56.000000000,2021-12-14 14:18:43.000000000,"[{'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 15:02:53.000000000', 'files': ['releasenotes/source/xena.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/d9ef22f4b586ad6d315eb226bb1d0def87bb2ca8', 'message': '[trivial] fix Xena release versions\n\nChange-Id: I728baf9eb5aecb7b1dbe25c58536b6b336868f97\n'}]",2,821081,d9ef22f4b586ad6d315eb226bb1d0def87bb2ca8,13,3,1,23851,,,0,"[trivial] fix Xena release versions

Change-Id: I728baf9eb5aecb7b1dbe25c58536b6b336868f97
",git fetch https://review.opendev.org/openstack/sushy refs/changes/81/821081/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/xena.rst'],1,d9ef22f4b586ad6d315eb226bb1d0def87bb2ca8,fix-xena-versions,========================================== Xena Series (3.8.0 - 3.12.x) Release Notes ==========================================,========================= Xena Series Release Notes =========================,3,3
openstack%2Fcharm-ironic-conductor~stable%2F21.04~I255df773bd1e034f77756c20d24981c2b438cc3c,openstack/charm-ironic-conductor,stable/21.04,I255df773bd1e034f77756c20d24981c2b438cc3c,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:50:26.000000000,2021-12-14 14:04:50.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/1d98926bd778121826e47056b908ae4431dff09c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n(cherry picked from commit 861d12af6cd7c6bd59afe6e15bada66419be63fc)\n'}, {'number': 2, 'created': '2021-09-15 09:03:30.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/db28655fb9f8a42dcbc93bb97928ac2c8a1008d0', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n(cherry picked from commit 861d12af6cd7c6bd59afe6e15bada66419be63fc)\n'}]",0,806367,db28655fb9f8a42dcbc93bb97928ac2c8a1008d0,26,4,2,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I255df773bd1e034f77756c20d24981c2b438cc3c
(cherry picked from commit 861d12af6cd7c6bd59afe6e15bada66419be63fc)
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/67/806367/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,1d98926bd778121826e47056b908ae4431dff09c,wallaby-bundles-stable/21.04,- focal-wallaby dev_bundles: - hirsute-wallaby smoke_bundles: - focal-ussuri - hirsute-wallaby,smoke_bundles: - bionic-ussuri - groovy-victoria,584,3
openstack%2Fproject-config~master~Ieec19163268e43e70f57a54e4c0400c501d49bbe,openstack/project-config,master,Ieec19163268e43e70f57a54e4c0400c501d49bbe,Update Neutron's Grafana as per recent changes,MERGED,2021-12-14 13:30:53.000000000,2021-12-14 14:02:55.000000000,2021-12-14 13:56:45.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 13:30:53.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1a1bcee6cc041e4a929f6e8ce33b5cf1b6c3f94f', 'message': ""Update Neutron's Grafana as per recent changes\n\nSome jobs were moved from check/gate to periodic\nwith [1], update the dashboard as per it.\n\nAlso drop neutron-tempest-with-os-ken-master and\nfix grenade job name.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/818715\n\nChange-Id: Ieec19163268e43e70f57a54e4c0400c501d49bbe\n""}]",0,821706,1a1bcee6cc041e4a929f6e8ce33b5cf1b6c3f94f,7,4,1,13861,,,0,"Update Neutron's Grafana as per recent changes

Some jobs were moved from check/gate to periodic
with [1], update the dashboard as per it.

Also drop neutron-tempest-with-os-ken-master and
fix grenade job name.

[1] https://review.opendev.org/c/openstack/neutron/+/818715

Change-Id: Ieec19163268e43e70f57a54e4c0400c501d49bbe
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/821706/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,1a1bcee6cc041e4a929f6e8ce33b5cf1b6c3f94f,neutron_dashboard," - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovs-grenade-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovs-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-slow') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-slow') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovs-tempest-slow') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-slow') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-grenade-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovs-tempest-slow') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-slow') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovs-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovs-tempest-slow') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-slow') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-tempest-with-os-ken-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-with-os-ken-master')",3,18
openstack%2Fceilometer~master~I9165b0252bee79135a2699027ad135f0a06a5321,openstack/ceilometer,master,I9165b0252bee79135a2699027ad135f0a06a5321,Remove the wrong release note file,MERGED,2021-12-14 12:24:15.000000000,2021-12-14 13:47:04.000000000,2021-12-14 13:44:58.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 12:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6559fc22c96ed4aa6314539cb8232e08a42b6717', 'message': 'Remove the wrong release note file.\n\nThis is follow-up of Id46679933cf96ecaca864aeae271052386b51815 and\nremoves the release note file which was added unintentionally.\n\nChange-Id: I9165b0252bee79135a2699027ad135f0a06a5321\n'}, {'number': 2, 'created': '2021-12-14 12:26:31.000000000', 'files': ['releasenotes/notes/deprecate-notification-batch_size-b739264a223d279d.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9325ae36dc9066073b79fdfbe4757b14536679c7', 'message': 'Remove the wrong release note file\n\nThis is follow-up of Id46679933cf96ecaca864aeae271052386b51815 and\nremoves the release note file which was added unintentionally.\n\nChange-Id: I9165b0252bee79135a2699027ad135f0a06a5321\n'}]",1,821696,9325ae36dc9066073b79fdfbe4757b14536679c7,9,2,2,9816,,,0,"Remove the wrong release note file

This is follow-up of Id46679933cf96ecaca864aeae271052386b51815 and
removes the release note file which was added unintentionally.

Change-Id: I9165b0252bee79135a2699027ad135f0a06a5321
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/96/821696/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-notification-batch_size-b739264a223d279d.yaml'],1,6559fc22c96ed4aa6314539cb8232e08a42b6717,,,--- deprecations: - | The ``[notification] batch_size`` parameter has been deprecated. The parameter has not used since the Stein release. ,0,5
openstack%2Ftripleo-common~master~I2e26e1d938d47230b31eb116cbea6f6656b4aad2,openstack/tripleo-common,master,I2e26e1d938d47230b31eb116cbea6f6656b4aad2,Bump Ceph container daemons to v6.0.6,MERGED,2021-12-13 09:27:10.000000000,2021-12-14 13:32:29.000000000,2021-12-14 13:30:57.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 09:27:10.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fbf7abfd89df05125fe666e2293df91903adfd7c', 'message': 'Bump Ceph container daemons to v6.0.6\n\nThe stable Ceph containers v16.2.7 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.6 for the daemon images).\n\nChange-Id: I2e26e1d938d47230b31eb116cbea6f6656b4aad2\n'}]",0,821536,fbf7abfd89df05125fe666e2293df91903adfd7c,9,6,1,25402,,,0,"Bump Ceph container daemons to v6.0.6

The stable Ceph containers v16.2.7 are now released.
This change aligns the new tag with the latest released stable
content (which is v6.0.6 for the daemon images).

Change-Id: I2e26e1d938d47230b31eb116cbea6f6656b4aad2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/821536/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,fbf7abfd89df05125fe666e2293df91903adfd7c,cephadm_container_promotion,- imagename: quay.io/ceph/daemon:v6.0.6-stable-6.0-pacific-centos-8-x86_64,- imagename: quay.io/ceph/daemon:v6.0.4-stable-6.0-pacific-centos-8-x86_64,2,2
openstack%2Ftripleo-heat-templates~master~Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2,openstack/tripleo-heat-templates,master,Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2,Fix external-ceph deployment directory reference,MERGED,2021-12-13 14:39:47.000000000,2021-12-14 13:25:42.000000000,2021-12-14 13:25:42.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14345}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30958}]","[{'number': 1, 'created': '2021-12-13 14:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa455cdae2d6a0ca1d0161e77f4902ad567d4593', 'message': 'Fix external-ceph deployment directory reference\n\nWhen external-ceph.yaml is included, the CephExternal resource points\nto the right tht deployment path.\nThis change fixes the wrong level that was set to the related Heat\nresource.\n\nChange-Id: Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2\n'}, {'number': 2, 'created': '2021-12-13 15:01:58.000000000', 'files': ['environments/external-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97da97edac4b40de8be0ceadbd73708f122d3ee8', 'message': 'Fix external-ceph deployment directory reference\n\nWhen external-ceph.yaml is included, the CephExternal resource points\nto the right tht deployment path.\nThis change fixes the wrong level that was set to the related Heat\nresource.\n\nCloses-Bug: #1954673\nChange-Id: Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2\n'}]",1,821583,97da97edac4b40de8be0ceadbd73708f122d3ee8,11,9,2,25402,,,0,"Fix external-ceph deployment directory reference

When external-ceph.yaml is included, the CephExternal resource points
to the right tht deployment path.
This change fixes the wrong level that was set to the related Heat
resource.

Closes-Bug: #1954673
Change-Id: Ie31fa16202535c96683ac7f5dc3bbf965d8ad5e2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/821583/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/external-ceph.yaml'],1,fa455cdae2d6a0ca1d0161e77f4902ad567d4593,ext_ceph_fix, OS::TripleO::Services::CephExternal: ../deployment/cephadm/ceph-external.yaml, OS::TripleO::Services::CephExternal: ../../deployment/cephadm/ceph-external.yaml,1,1
openstack%2Fcharms.openstack~master~I1afe987ff26af0e10604dd507daef4ac282d9aab,openstack/charms.openstack,master,I1afe987ff26af0e10604dd507daef4ac282d9aab,Register previously vip set for deletion.,MERGED,2021-11-30 18:53:04.000000000,2021-12-14 13:12:34.000000000,2021-12-14 13:12:34.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 18:53:04.000000000', 'files': ['unit_tests/charms_openstack/charm/utils.py', 'charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/58fc4dadac4a40ab0d2e78897e0c77ffeeacb051', 'message': ""Register previously vip set for deletion.\n\nWhen the vip is changed the ones that are no longer present need to be\nregistered for deletion from pacemaker's configuration. This change\nrelies on hookenv.config.changed() to determine what vip(s) are no\nlonger present in the configuration and ask hacluster to remove them.\n\nCloses-Bug: #1952363\nChange-Id: I1afe987ff26af0e10604dd507daef4ac282d9aab\n""}]",1,819912,58fc4dadac4a40ab0d2e78897e0c77ffeeacb051,6,2,1,2424,,,0,"Register previously vip set for deletion.

When the vip is changed the ones that are no longer present need to be
registered for deletion from pacemaker's configuration. This change
relies on hookenv.config.changed() to determine what vip(s) are no
longer present in the configuration and ask hacluster to remove them.

Closes-Bug: #1952363
Change-Id: I1afe987ff26af0e10604dd507daef4ac282d9aab
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/12/819912/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/charm/utils.py', 'charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py']",3,58fc4dadac4a40ab0d2e78897e0c77ffeeacb051,bug/1952363,"from unit_tests.charms_openstack.charm.utils import ( BaseOpenStackCharmTest, TestConfig, ) self.test_config = TestConfig() self.test_config.set('vip', 'vip1 vip2') self.patch_target('config', new=self.test_config) def test__add_ha_vips_config_changed(self): nics = { 'vip1': ('eth1', 'netmask1', False), 'vip2': ('eth2', 'netmask2', False)} self.test_config.set('vip', 'vip1 vip2') self.test_config.set_previous('vip', 'vip1 vip3') interface_mock = mock.Mock() self.patch_target('name', new='myservice') self.patch_target('config', new=self.test_config) self.patch_object(chm.os_ha_utils, 'get_vip_settings') self.get_vip_settings.side_effect = lambda x: nics[x] self.target._add_ha_vips_config(interface_mock) add_vip_calls = [ mock.call('myservice', 'vip1'), mock.call('myservice', 'vip2')] interface_mock.add_vip.assert_has_calls(add_vip_calls) interface_mock.remove_vip.assert_called_with('myservice', 'vip3') add_vip_calls = [ mock.call('res_myservice_eth1_vip'), mock.call('res_myservice_eth2_vip')] interface_mock.delete_resource.assert_has_calls(add_vip_calls) self.test_config.set('vip', 'vip1 vip2') self.patch_target('config', new=self.test_config)","from unit_tests.charms_openstack.charm.utils import BaseOpenStackCharmTest self.patch_target('config', new={'vip': 'vip1 vip2'}) self.patch_target('config', new={'vip': 'vip1 vip2'})",90,4
openstack%2Ftripleo-quickstart-extras~master~I4c9b265d2e956c7ef76e53c0ede80d029683a56c,openstack/tripleo-quickstart-extras,master,I4c9b265d2e956c7ef76e53c0ede80d029683a56c,"Revert ""Downgrade pcs in upgrade workflow - workaround""",ABANDONED,2021-12-13 23:55:40.000000000,2021-12-14 12:43:05.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-12-13 23:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cf855b28eb43c399dbe84bfea6e61fe301e07a14', 'message': 'Revert ""Downgrade pcs in upgrade workflow - workaround""\n\nThis reverts commit 64c54bf399f6206ab8baee65b183c7ffc96d1fae.\n\nReason for revert: New version of pcs available: \n pcs-0.10.12-1.el8.x86_64 \n\nChange-Id: I4c9b265d2e956c7ef76e53c0ede80d029683a56c\n'}, {'number': 2, 'created': '2021-12-14 09:19:12.000000000', 'files': ['roles/standalone-upgrade/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f281bf389cfbe94ce63ed3c4676e37c7ad6cf24', 'message': 'Revert ""Downgrade pcs in upgrade workflow - workaround""\n\nThis reverts commit 64c54bf399f6206ab8baee65b183c7ffc96d1fae.\n\nReason for revert: New version of pcs available: \n pcs-0.10.12-1.el8.x86_64\n \nCloses-Bug: #1953326\n\nChange-Id: I4c9b265d2e956c7ef76e53c0ede80d029683a56c\n'}]",5,821521,4f281bf389cfbe94ce63ed3c4676e37c7ad6cf24,14,6,2,9976,,,0,"Revert ""Downgrade pcs in upgrade workflow - workaround""

This reverts commit 64c54bf399f6206ab8baee65b183c7ffc96d1fae.

Reason for revert: New version of pcs available: 
 pcs-0.10.12-1.el8.x86_64
 
Closes-Bug: #1953326

Change-Id: I4c9b265d2e956c7ef76e53c0ede80d029683a56c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/21/821521/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone-upgrade/tasks/main.yml'],1,cf855b28eb43c399dbe84bfea6e61fe301e07a14,workaround_promotions,,"# TODO: (rlandy) remove workaround for LP bug #1953326 - name: Downgrade pcs version when: - release is defined - release in ['ussuri', 'victoria'] block: - name: Downgrade pcs shell: | dnf downgrade pcs -y; rpm -qa | grep pcs become: true register: downgrade_result - name: Return current pcs version debug: msg: ""{{ downgrade_result.stdout }}"" - name: Ensure the version is not upgraded again become: true lineinfile: path: /etc/dnf/dnf.conf state: present line: 'exclude=pcs' ",0,24
openstack%2Fceilometer~master~Id46679933cf96ecaca864aeae271052386b51815,openstack/ceilometer,master,Id46679933cf96ecaca864aeae271052386b51815,Fix ignored [notification] batch_size,MERGED,2021-11-12 11:33:16.000000000,2021-12-14 12:26:15.000000000,2021-12-14 12:06:38.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-12 11:33:16.000000000', 'files': ['releasenotes/notes/fix-notification-batch-9bb42cbdf817e7f9.yaml', 'releasenotes/notes/deprecate-notification-batch_size-b739264a223d279d.yaml', 'ceilometer/notification.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ec5b90e98f605626ec766e3f8b823044e34ddc2d', 'message': 'Fix ignored [notification] batch_size\n\nThe [notification] batch_size parameter has had no effect since\nworkload partitioning was removed during Stein cycle[1]. This change\nfixes the ignored parameter and ensure the parameter is used to enable\nbatch processing of notifications.\n\n[1] 9d90ce8d37c0020077e4429f41c1ea937c1b3c1e\n\nChange-Id: Id46679933cf96ecaca864aeae271052386b51815\n'}]",3,817749,ec5b90e98f605626ec766e3f8b823044e34ddc2d,14,4,1,9816,,,0,"Fix ignored [notification] batch_size

The [notification] batch_size parameter has had no effect since
workload partitioning was removed during Stein cycle[1]. This change
fixes the ignored parameter and ensure the parameter is used to enable
batch processing of notifications.

[1] 9d90ce8d37c0020077e4429f41c1ea937c1b3c1e

Change-Id: Id46679933cf96ecaca864aeae271052386b51815
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/49/817749/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-notification-batch-9bb42cbdf817e7f9.yaml', 'releasenotes/notes/deprecate-notification-batch_size-b739264a223d279d.yaml', 'ceilometer/notification.py']",3,ec5b90e98f605626ec766e3f8b823044e34ddc2d,fix-batch," default=1, min=1, 'publishing them.'), cfg.IntOpt('batch_timeout', help='Number of seconds to wait before dispatching samples ' 'when batch_size is not reached (None means indefinitely).' ), transport, targets, endpoints, allow_requeue=True, batch_size=self.conf.notification.batch_size, batch_timeout=self.conf.notification.batch_timeout)"," default=100, min=1, 'publishing them. Batching is advised when transformations are ' 'applied in pipeline.'), transport, targets, endpoints, allow_requeue=True)",21,4
openstack%2Ftripleo-quickstart~master~If366f1c544b85e25940bfda2fb49b350fbe33516,openstack/tripleo-quickstart,master,If366f1c544b85e25940bfda2fb49b350fbe33516,[Victoria] Remove usage of the latest puppet-mistral/zaqar,MERGED,2021-07-12 23:14:21.000000000,2021-12-14 12:12:00.000000000,2021-12-14 12:10:03.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-12 23:14:21.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7e1e28ef68ecb273ce367713af18f59d9d5c227', 'message': ""[Victoria] Remove usage of the latest puppet-mistral/zaqar\n\nThis is a follow up of 68cbcf43c022c0c2ff213bbe43e1c7dd0299ac14 which\nimplemented the same for master and wallaby.\n\nMistral and Zaqar are no longer enabled in undercloud since Victoria,\nand we have already removed tripleo jobs from puppet-mistral and\npuppet-zaqar in stable/victoria as well.\n\nZaqar: c4709a1e905476a675251344c7f7660309393d58\nMistral: b51039d1bd2639f035317642dba6bdc686c848f2\n\nBecause we require tripleo jobs in puppet repos side to use the latest\nversion, let's stop using the latest puppet-mistral and puppet-zaqar.\n\nChange-Id: If366f1c544b85e25940bfda2fb49b350fbe33516\n""}]",1,800572,b7e1e28ef68ecb273ce367713af18f59d9d5c227,18,5,1,9816,,,0,"[Victoria] Remove usage of the latest puppet-mistral/zaqar

This is a follow up of 68cbcf43c022c0c2ff213bbe43e1c7dd0299ac14 which
implemented the same for master and wallaby.

Mistral and Zaqar are no longer enabled in undercloud since Victoria,
and we have already removed tripleo jobs from puppet-mistral and
puppet-zaqar in stable/victoria as well.

Zaqar: c4709a1e905476a675251344c7f7660309393d58
Mistral: b51039d1bd2639f035317642dba6bdc686c848f2

Because we require tripleo jobs in puppet repos side to use the latest
version, let's stop using the latest puppet-mistral and puppet-zaqar.

Change-Id: If366f1c544b85e25940bfda2fb49b350fbe33516
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/72/800572/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml']",2,b7e1e28ef68ecb273ce367713af18f59d9d5c227,puppet-cleanup,, - puppet-mistral - puppet-zaqar,0,4
openstack%2Ftripleo-ci~master~If964d64d15c0866e594a25627fa6e75937309912,openstack/tripleo-ci,master,If964d64d15c0866e594a25627fa6e75937309912,Allow override for install and target hash in emit releases undercloud,ABANDONED,2021-12-14 12:06:22.000000000,2021-12-14 12:07:00.000000000,,[{'_account_id': 8367}],"[{'number': 1, 'created': '2021-12-14 12:06:22.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0670afd8e3f3ffa27022d9feeb95edfdaafb57ca', 'message': 'Allow override for install and target hash in emit releases undercloud\n\nAs described in related-bug, this allows us to override the install\nand target delorean hash for use by consumer jobs. There was a previous\nattempt with [1] which added the ability to override the target hash.\n\nAs commented in the bug (see comment #7) we need to override both target\nand install versions. Since this is nested bash/jinja/python :/ we do this\nby passing the content provider branches as a string\n""branch1:hash1;branch2:hash2"" generated in the jinja templating\nwhich is then decoded on the emit-releases python side.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/813629\nRelated-Bug: 1946659\nChange-Id: I9e0162f88cf262957234bf946ad3c013f6213891\n\nChange-Id: If964d64d15c0866e594a25627fa6e75937309912\n'}]",0,821694,0670afd8e3f3ffa27022d9feeb95edfdaafb57ca,2,1,1,8449,,,0,"Allow override for install and target hash in emit releases undercloud

As described in related-bug, this allows us to override the install
and target delorean hash for use by consumer jobs. There was a previous
attempt with [1] which added the ability to override the target hash.

As commented in the bug (see comment #7) we need to override both target
and install versions. Since this is nested bash/jinja/python :/ we do this
by passing the content provider branches as a string
""branch1:hash1;branch2:hash2"" generated in the jinja templating
which is then decoded on the emit-releases python side.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/813629
Related-Bug: 1946659
Change-Id: I9e0162f88cf262957234bf946ad3c013f6213891

Change-Id: If964d64d15c0866e594a25627fa6e75937309912
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/821694/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-test/templates/toci_gate_test.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py']",2,0670afd8e3f3ffa27022d9feeb95edfdaafb57ca,upgrades-content-provider," target_branch_override=None, install_branch_override=None, content_provider_hashes=None, elif content_provider_hashes is not None and content_provider_hashes.get( target_branch_override ): current_hash = content_provider_hashes[target_branch_override] logger.info( ""Using hash override {} for branch {}"".format( current_hash, target_branch_override ) else: current_hash = get_dlrn_hash( stable_release, CURRENT_HASH_NAME, distro_name, distro_version ) install_hash = '' if content_provider_hashes is not None and content_provider_hashes.get( install_branch_override ): install_hash = content_provider_hashes[install_branch_override] logger.info( ""Using hash override {} for branch {}"".format( install_hash, install_branch_override ) ) else: install_hash = get_dlrn_hash( install_release, CURRENT_HASH_NAME, distro_name, distro_version ) '--target-branch-override', help='Override to use this branch for the target version - required\n' 'with the --content-provider-hashes argument', parser.add_argument( '--install-branch-override', help='Override to use this branch for the install version - required\n' 'with the --content-provider-hashes argument', ) parser.add_argument( '--content-provider-hashes', help='A string representing the content provider branches and hashes\n' 'e.g. master:abcd;wallaby:defg i.e. branch1:hash1;branch2:hash2', ) # when overriding with content-provider-hashes we expect to have # --install-branch-override and --target-branch-override in args # and that these branches exist in the passed content-provider-hashes if args.content_provider_hashes: if args.target_branch_override is None or args.install_branch_override is None: raise RuntimeError( ""Missing --target-branch-override or --install-branch-override"" "". These are required when using --content-provider-hashes"" ) if ( args.target_branch_override not in args.content_provider_hashes or args.install_branch_override not in args.content_provider_hashes ): raise RuntimeError( ""The passed content provider hashes ({}) does not contain"" "" the branches specified by --target-branch-override ({}) or"" "" --install-branch-override ({})"".format( args.content_provider_hashes, args.target_branch_override, args.install_branch_override, ) ) # args.content_provider_hashes 'master:1;wallaby:2' _content_provider_hashes = {} for keyval in args.content_provider_hashes.split(';'): dict_key = keyval.split(':')[0] dict_val = keyval.split(':')[1] _content_provider_hashes.update({dict_key: dict_val}) args.target_branch_override, args.install_branch_override, _content_provider_hashes,"," hash_override=None, else: if hash_override: current_hash = hash_override else: current_hash = get_dlrn_hash( stable_release, CURRENT_HASH_NAME, distro_name, distro_version install_hash = get_dlrn_hash( install_release, CURRENT_HASH_NAME, distro_name, distro_version ) '--hash-override', help='Force an specific hash instead of current-tripleo', args.hash_override,",79,18
openstack%2Foslo.cache~master~I21ad7023b14ff2ad33ddd036bfecc905d2c68871,openstack/oslo.cache,master,I21ad7023b14ff2ad33ddd036bfecc905d2c68871,Drop pymongo useless and removed attribute,MERGED,2021-12-13 09:40:35.000000000,2021-12-14 11:59:54.000000000,2021-12-14 11:57:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-13 09:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/0232f6ddc13544a90f8000979bd717d229a74d59', 'message': ""Pin pymongo at a version lower than 4.0\n\nThe current version of oslo.cache isn't compatible with the recent\nmajor upgrade of pymongo [1].\n\nWithout an update of our code our unit tests will failed due to\nmissing attribute that we try to access. Those attributes have\nbeen removed from pymongo.\n\nWhile oslo.cache' code isn't updated I propose to pin the version\nof pymongo to avoid error and unlock our CI.\n\n[1] https://opendev.org/openstack/requirements/commit/7ea81016529904ba3c1d593fea4ee05e5a66e5ad\n\nChange-Id: I21ad7023b14ff2ad33ddd036bfecc905d2c68871\n""}, {'number': 2, 'created': '2021-12-13 09:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/648b6e1ca99f5b387d4b565eb4e871208ef32afd', 'message': ""Cap pymongo at a version lower than 4.0\n\nThe current version of oslo.cache isn't compatible with the recent\nmajor upgrade of pymongo [1].\n\nWithout an update of our code our unit tests will failed due to\nmissing attribute that we try to access. Those attributes have\nbeen removed from pymongo.\n\nWhile oslo.cache' code isn't updated I propose to pin the version\nof pymongo to avoid error and unlock our CI.\n\n[1] https://opendev.org/openstack/requirements/commit/7ea81016529904ba3c1d593fea4ee05e5a66e5ad\n\nChange-Id: I21ad7023b14ff2ad33ddd036bfecc905d2c68871\n""}, {'number': 3, 'created': '2021-12-13 13:13:17.000000000', 'files': ['oslo_cache/tests/unit/test_cache_backend_mongo.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8290f80e8bd0c7966abc4bd74cd5f24c7abb9a67', 'message': ""Drop pymongo useless and removed attribute\n\nThe current version of oslo.cache isn't compatible with the recent\nmajor upgrade of pymongo [1].\n\nThese changes remove the usage of this attribut as it is useless\nand removed from the recent versions of pymongo [2]. That will\nfix our gates.\n\n[1] https://opendev.org/openstack/requirements/commit/7ea81016529904ba3c1d593fea4ee05e5a66e5ad\n[2] https://pymongo.readthedocs.io/en/stable/migrate-to-pymongo4.html?highlight=MongoReplicaSetClient#mongoreplicasetclient\n\nChange-Id: I21ad7023b14ff2ad33ddd036bfecc905d2c68871\n""}]",1,821540,8290f80e8bd0c7966abc4bd74cd5f24c7abb9a67,11,3,3,28522,,,0,"Drop pymongo useless and removed attribute

The current version of oslo.cache isn't compatible with the recent
major upgrade of pymongo [1].

These changes remove the usage of this attribut as it is useless
and removed from the recent versions of pymongo [2]. That will
fix our gates.

[1] https://opendev.org/openstack/requirements/commit/7ea81016529904ba3c1d593fea4ee05e5a66e5ad
[2] https://pymongo.readthedocs.io/en/stable/migrate-to-pymongo4.html?highlight=MongoReplicaSetClient#mongoreplicasetclient

Change-Id: I21ad7023b14ff2ad33ddd036bfecc905d2c68871
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/40/821540/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.cfg']",2,0232f6ddc13544a90f8000979bd717d229a74d59,test," pymongo!=3.1,>=3.0.2,<4.0 # Apache-2.0"," pymongo!=3.1,>=3.0.2 # Apache-2.0",2,2
openstack%2Freleases~master~I46e782a3df96cf8ade2c26ba43b0f4b226a56e06,openstack/releases,master,I46e782a3df96cf8ade2c26ba43b0f4b226a56e06,Release OpenStack-Ansible Xena,ABANDONED,2021-12-14 09:53:30.000000000,2021-12-14 11:50:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-14 09:53:30.000000000', 'files': ['deliverables/xena/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f03f56e00679a8d449d0273df8c19068e5a87d9d', 'message': 'Release OpenStack-Ansible Xena\n\nChange-Id: I46e782a3df96cf8ade2c26ba43b0f4b226a56e06\n'}]",1,821683,f03f56e00679a8d449d0273df8c19068e5a87d9d,5,1,1,28619,,,0,"Release OpenStack-Ansible Xena

Change-Id: I46e782a3df96cf8ade2c26ba43b0f4b226a56e06
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/821683/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstack-ansible.yaml'],1,f03f56e00679a8d449d0273df8c19068e5a87d9d,release_osa, - diff-start: 23.0.0.0rc1 projects: - hash: 9fd96ddc94bc2909912e57e0ae799ffed5d41408 repo: openstack/openstack-ansible version: 24.0.0,,5,0
openstack%2Fcharm-designate~master~Idd8168f297ae3d969b4c52c93ecfbc7ef02bf791,openstack/charm-designate,master,Idd8168f297ae3d969b4c52c93ecfbc7ef02bf791,Stop to use the __future__ module.,MERGED,2020-06-02 17:41:03.000000000,2021-12-14 11:41:11.000000000,2021-12-14 11:41:11.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:41:03.000000000', 'files': ['unit_tests/test_lib_charm_openstack_designate.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/b6d8796ce5c668db89e29d38d0f5b7c277837983', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Idd8168f297ae3d969b4c52c93ecfbc7ef02bf791\n""}]",1,732779,b6d8796ce5c668db89e29d38d0f5b7c277837983,12,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Idd8168f297ae3d969b4c52c93ecfbc7ef02bf791
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/79/732779/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_lib_charm_openstack_designate.py'],1,b6d8796ce5c668db89e29d38d0f5b7c277837983,drop_future_imports,,from __future__ import absolute_import from __future__ import print_function ,0,3
openstack%2Fcharm-layer-openstack~master~I4a3aa544f98049c83db576f95de826038e8e1afc,openstack/charm-layer-openstack,master,I4a3aa544f98049c83db576f95de826038e8e1afc,Do not execute certificate handlers in update-status hook,MERGED,2021-12-14 10:44:56.000000000,2021-12-14 11:20:20.000000000,2021-12-14 11:20:20.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 10:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/3db1d9e7933bff5525408e966e716cb2eb58edf0', 'message': 'Do not execute certificate handlers in update-status hook\n\nThe certificate handler code does a bit of work and should not\nrun during the update-status hook.\n\nCloses-Bug: #1954748\nChange-Id: I4a3aa544f98049c83db576f95de826038e8e1afc\n'}, {'number': 2, 'created': '2021-12-14 10:50:40.000000000', 'files': ['reactive/layer_openstack.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/93bc9e1837b71cd80536c67ed8c1a64d9ee43872', 'message': ""Do not execute certificate handlers in update-status hook\n\nThe certificate handler code does a bit of work and should not\nrun during the update-status hook.\n\nAs documented in the charms.reactive dispatch [0] function\nhandlers registered with the @hook decorator will execute before\nother handlers.  So we can rely on the 'is-update-status-hook'\nflag being consistently set when in update-status hook before\nother handlers are evaluated for dispatch.\n\n0: https://github.com/juju-solutions/charms.reactive/blob/3d27f3d24a2dcdc81f2a2299355b110c5c68d48c/charms/reactive/bus.py#L325\n\nCloses-Bug: #1954748\nChange-Id: I4a3aa544f98049c83db576f95de826038e8e1afc\n""}]",1,821690,93bc9e1837b71cd80536c67ed8c1a64d9ee43872,7,2,2,13686,,,0,"Do not execute certificate handlers in update-status hook

The certificate handler code does a bit of work and should not
run during the update-status hook.

As documented in the charms.reactive dispatch [0] function
handlers registered with the @hook decorator will execute before
other handlers.  So we can rely on the 'is-update-status-hook'
flag being consistently set when in update-status hook before
other handlers are evaluated for dispatch.

0: https://github.com/juju-solutions/charms.reactive/blob/3d27f3d24a2dcdc81f2a2299355b110c5c68d48c/charms/reactive/bus.py#L325

Closes-Bug: #1954748
Change-Id: I4a3aa544f98049c83db576f95de826038e8e1afc
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/90/821690/1 && git format-patch -1 --stdout FETCH_HEAD,['reactive/layer_openstack.py'],1,3db1d9e7933bff5525408e966e716cb2eb58edf0,bug/1954748,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,2,0
openstack%2Fneutron~stable%2Fussuri~I736fef3a10bc2887efb26c95e9fc1eea14969ccf,openstack/neutron,stable/ussuri,I736fef3a10bc2887efb26c95e9fc1eea14969ccf,"[stable-only] ""_clean_logs_by_target_id"" to use old notifications",MERGED,2021-12-13 13:57:34.000000000,2021-12-14 11:18:35.000000000,2021-12-14 11:16:38.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:57:34.000000000', 'files': ['neutron/services/logapi/logging_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d384849918218ece9ed3d3a0835d21f8c7a481b8', 'message': '[stable-only] ""_clean_logs_by_target_id"" to use old notifications\n\n""LoggingPlugin._clean_logs_by_resource_id"" method receives PORT,\nAFTER_DELETE events, in the old format (not using payloads but\nkwargs). New implementation was added in Xena release.\n\nCloses-Bug: #1954666\nChange-Id: I736fef3a10bc2887efb26c95e9fc1eea14969ccf\n(cherry picked from commit aaa0e99bacabe8d97f7090f42c21b3a80bf6d384)\n'}]",0,821565,d384849918218ece9ed3d3a0835d21f8c7a481b8,9,3,1,16688,,,0,"[stable-only] ""_clean_logs_by_target_id"" to use old notifications

""LoggingPlugin._clean_logs_by_resource_id"" method receives PORT,
AFTER_DELETE events, in the old format (not using payloads but
kwargs). New implementation was added in Xena release.

Closes-Bug: #1954666
Change-Id: I736fef3a10bc2887efb26c95e9fc1eea14969ccf
(cherry picked from commit aaa0e99bacabe8d97f7090f42c21b3a80bf6d384)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/821565/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/logging_plugin.py'],1,d384849918218ece9ed3d3a0835d21f8c7a481b8,bug/1954666," def _clean_logs_by_target_id(self, resource, event, trigger, **kwargs): context = kwargs['context'] port_id = kwargs['port']['id'] self._clean_logs(context.elevated(), port_id=port_id)"," def _clean_logs_by_target_id(self, resource, event, trigger, payload): self._clean_logs(payload.context.elevated(), port_id=payload.resource_id)",4,3
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~Iee678535d6e96dc8db30c24be24d5c6b152262c0,openstack/openstack-ansible-openstack_hosts,stable/victoria,Iee678535d6e96dc8db30c24be24d5c6b152262c0,Add CentOS 8.4 support,MERGED,2021-11-19 12:28:45.000000000,2021-12-14 11:05:00.000000000,2021-12-14 11:02:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-11-19 12:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5bd40f32abd9150dc7cf3400f068b6d05478b735', 'message': 'Add CentOS 8.4 support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795\nChange-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0\n(cherry picked from commit 6525d563fe1af93fc92e24964b9c2944447034ca)\n'}, {'number': 2, 'created': '2021-12-06 11:18:49.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/2b3bba63a2ecdd21c507319d4aaa4fce2eee3d0d', 'message': 'Add CentOS 8.4 support\n\nChange-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0\n(cherry picked from commit 6525d563fe1af93fc92e24964b9c2944447034ca)\n'}]",2,818487,2b3bba63a2ecdd21c507319d4aaa4fce2eee3d0d,15,3,2,28619,,,0,"Add CentOS 8.4 support

Change-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0
(cherry picked from commit 6525d563fe1af93fc92e24964b9c2944447034ca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/87/818487/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,5bd40f32abd9150dc7cf3400f068b6d05478b735,osa/el84-stable/victoria,," - name: ""centos-openstack-release-*"" state: absent",0,2
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~Iee678535d6e96dc8db30c24be24d5c6b152262c0,openstack/openstack-ansible-openstack_hosts,stable/ussuri,Iee678535d6e96dc8db30c24be24d5c6b152262c0,Add CentOS 8.4 support,MERGED,2021-11-19 12:28:58.000000000,2021-12-14 11:04:51.000000000,2021-12-14 11:02:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-11-19 12:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/bf5bd0669970d0c16a7179c5f1356c740f510010', 'message': 'Add CentOS 8.4 support\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/794795\nChange-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0\n(cherry picked from commit 6525d563fe1af93fc92e24964b9c2944447034ca)\n'}, {'number': 2, 'created': '2021-12-06 11:18:28.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/b91aafda944c01175f081ad6d844ca34ff52a148', 'message': 'Add CentOS 8.4 support\n\nChange-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0\n(cherry picked from commit 6525d563fe1af93fc92e24964b9c2944447034ca)\n'}]",1,818488,b91aafda944c01175f081ad6d844ca34ff52a148,11,3,2,28619,,,0,"Add CentOS 8.4 support

Change-Id: Iee678535d6e96dc8db30c24be24d5c6b152262c0
(cherry picked from commit 6525d563fe1af93fc92e24964b9c2944447034ca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/88/818488/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,bf5bd0669970d0c16a7179c5f1356c740f510010,osa/el84-stable/ussuri,," - name: ""centos-openstack-release-*"" state: absent",0,2
openstack%2Fcharm-keystone~master~Icdebc8e30a82e2cc3f7343bc9d635d8486355774,openstack/charm-keystone,master,Icdebc8e30a82e2cc3f7343bc9d635d8486355774,Use unittest.mock instead of mock,ABANDONED,2021-01-03 02:56:56.000000000,2021-12-14 10:50:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 02:56:56.000000000', 'files': ['unit_tests/test_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/972b3af755477dbd10a5553f0fe1c15b8b398ea0', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.\n\nChange-Id: Icdebc8e30a82e2cc3f7343bc9d635d8486355774\n'}]",0,768924,972b3af755477dbd10a5553f0fe1c15b8b398ea0,6,3,1,31828,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2 runtimes. Since we now only support py36 and later, we can use the standard lib unittest.mock module instead.

Change-Id: Icdebc8e30a82e2cc3f7343bc9d635d8486355774
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/24/768924/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_actions.py'],1,972b3af755477dbd10a5553f0fe1c15b8b398ea0,,from unittest import mock,import mock,1,1
openstack%2Fneutron~stable%2Fvictoria~I736fef3a10bc2887efb26c95e9fc1eea14969ccf,openstack/neutron,stable/victoria,I736fef3a10bc2887efb26c95e9fc1eea14969ccf,"[stable-only] ""_clean_logs_by_target_id"" to use old notifications",MERGED,2021-12-13 13:57:17.000000000,2021-12-14 10:47:56.000000000,2021-12-14 10:45:45.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:57:17.000000000', 'files': ['neutron/services/logapi/logging_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c68ce94f014549f46094e67a2fba92676522dd21', 'message': '[stable-only] ""_clean_logs_by_target_id"" to use old notifications\n\n""LoggingPlugin._clean_logs_by_resource_id"" method receives PORT,\nAFTER_DELETE events, in the old format (not using payloads but\nkwargs). New implementation was added in Xena release.\n\nCloses-Bug: #1954666\nChange-Id: I736fef3a10bc2887efb26c95e9fc1eea14969ccf\n(cherry picked from commit aaa0e99bacabe8d97f7090f42c21b3a80bf6d384)\n'}]",1,821564,c68ce94f014549f46094e67a2fba92676522dd21,11,3,1,16688,,,0,"[stable-only] ""_clean_logs_by_target_id"" to use old notifications

""LoggingPlugin._clean_logs_by_resource_id"" method receives PORT,
AFTER_DELETE events, in the old format (not using payloads but
kwargs). New implementation was added in Xena release.

Closes-Bug: #1954666
Change-Id: I736fef3a10bc2887efb26c95e9fc1eea14969ccf
(cherry picked from commit aaa0e99bacabe8d97f7090f42c21b3a80bf6d384)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/821564/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/logging_plugin.py'],1,c68ce94f014549f46094e67a2fba92676522dd21,bug/1954666," def _clean_logs_by_target_id(self, resource, event, trigger, **kwargs): context = kwargs['context'] port_id = kwargs['port']['id'] self._clean_logs(context.elevated(), port_id=port_id)"," def _clean_logs_by_target_id(self, resource, event, trigger, payload): self._clean_logs(payload.context.elevated(), port_id=payload.resource_id)",4,3
openstack%2Fcharm-cinder-ceph~master~I494aad7520674a167ff8038b586b5c304c8fd4f5,openstack/charm-cinder-ceph,master,I494aad7520674a167ff8038b586b5c304c8fd4f5,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:40:29.000000000,2021-12-14 10:45:24.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:40:29.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/6df13cf7c4c1d2600e1ac58aea1b3257ec986aff', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I494aad7520674a167ff8038b586b5c304c8fd4f5\n""}]",0,732777,6df13cf7c4c1d2600e1ac58aea1b3257ec986aff,6,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I494aad7520674a167ff8038b586b5c304c8fd4f5
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/77/732777/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",4,6df13cf7c4c1d2600e1ac58aea1b3257ec986aff,drop_future_imports,,from __future__ import print_function from __future__ import absolute_import,0,8
openstack%2Fcharm-cinder-backup~master~I91f21ae710a30beff2d59cc9788f17a7ec615415,openstack/charm-cinder-backup,master,I91f21ae710a30beff2d59cc9788f17a7ec615415,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:39:54.000000000,2021-12-14 10:45:16.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:39:54.000000000', 'files': ['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/3eea2b0deeeb984096fa5e8a84f9ebe2b695d911', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I91f21ae710a30beff2d59cc9788f17a7ec615415\n""}]",0,732775,3eea2b0deeeb984096fa5e8a84f9ebe2b695d911,7,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I91f21ae710a30beff2d59cc9788f17a7ec615415
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/75/732775/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py']",4,3eea2b0deeeb984096fa5e8a84f9ebe2b695d911,drop_future_imports,, from __future__ import print_function,0,8
openstack%2Fcharm-ceph-osd~master~I1622be6b4c4c8084bbae4d1a570f23675619292d,openstack/charm-ceph-osd,master,I1622be6b4c4c8084bbae4d1a570f23675619292d,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:38:40.000000000,2021-12-14 10:45:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:38:40.000000000', 'files': ['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e912f4ba798121a2ec566919c715463927f44376', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I1622be6b4c4c8084bbae4d1a570f23675619292d\n""}]",0,732771,e912f4ba798121a2ec566919c715463927f44376,7,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I1622be6b4c4c8084bbae4d1a570f23675619292d
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/71/732771/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py']",5,e912f4ba798121a2ec566919c715463927f44376,drop_future_imports,, from __future__ import absolute_import # required for external apt import,0,10
openstack%2Fcharm-heat~master~Ia718f1fb6a5d98d41f191729eca2991b2f8ac79c,openstack/charm-heat,master,Ia718f1fb6a5d98d41f191729eca2991b2f8ac79c,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:54:14.000000000,2021-12-14 10:44:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 17:54:14.000000000', 'files': ['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/37348a04f24e58a4fd87623abfe11137742f9197', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Ia718f1fb6a5d98d41f191729eca2991b2f8ac79c\n""}]",0,732789,37348a04f24e58a4fd87623abfe11137742f9197,10,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Ia718f1fb6a5d98d41f191729eca2991b2f8ac79c
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/89/732789/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/python.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py']",5,37348a04f24e58a4fd87623abfe11137742f9197,drop_future_imports,, from __future__ import absolute_import # required for external apt import,0,10
openstack%2Fcharm-ceilometer~master~Ie03b448bf244181f80313640dff09220c424851c,openstack/charm-ceilometer,master,Ie03b448bf244181f80313640dff09220c424851c,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:37:45.000000000,2021-12-14 10:44:45.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:37:45.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/0c41fbef50e497ec498cc1b31c293d76b40e1471', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Ie03b448bf244181f80313640dff09220c424851c\n""}]",0,732768,0c41fbef50e497ec498cc1b31c293d76b40e1471,9,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Ie03b448bf244181f80313640dff09220c424851c
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/68/732768/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",5,0c41fbef50e497ec498cc1b31c293d76b40e1471,drop_future_imports,,from __future__ import print_function from __future__ import absolute_import,0,10
openstack%2Fcharm-openstack-dashboard~master~If4ef75517a66d0c63b655ea388c1959b24e84692,openstack/charm-openstack-dashboard,master,If4ef75517a66d0c63b655ea388c1959b24e84692,Stop to use the __future__ module.,ABANDONED,2020-06-02 18:03:12.000000000,2021-12-14 10:44:35.000000000,,"[{'_account_id': 1736}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:03:12.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/16e613aee384d6f5fecd080432f606140977da83', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: If4ef75517a66d0c63b655ea388c1959b24e84692\n""}]",0,732809,16e613aee384d6f5fecd080432f606140977da83,10,7,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: If4ef75517a66d0c63b655ea388c1959b24e84692
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/09/732809/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",5,16e613aee384d6f5fecd080432f606140977da83,drop_future_imports,,from __future__ import print_function from __future__ import absolute_import,0,10
openstack%2Fcharm-ceilometer-agent~master~Iddbabfa13066b5b4dc0e7c9db8e0c9ff7e3422f9,openstack/charm-ceilometer-agent,master,Iddbabfa13066b5b4dc0e7c9db8e0c9ff7e3422f9,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:38:03.000000000,2021-12-14 10:44:25.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:38:03.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/9c376dbb4b69638bca095777cfb80e94bcec2f4c', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Iddbabfa13066b5b4dc0e7c9db8e0c9ff7e3422f9\n""}]",0,732769,9c376dbb4b69638bca095777cfb80e94bcec2f4c,18,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Iddbabfa13066b5b4dc0e7c9db8e0c9ff7e3422f9
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/69/732769/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",4,9c376dbb4b69638bca095777cfb80e94bcec2f4c,drop_future_imports,,from __future__ import print_function from __future__ import absolute_import,0,8
openstack%2Fcharm-ceph-mon~master~Iaf45c1f8b705f2bb470684e1a18764ceb9364843,openstack/charm-ceph-mon,master,Iaf45c1f8b705f2bb470684e1a18764ceb9364843,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:38:21.000000000,2021-12-14 10:44:16.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:38:21.000000000', 'files': ['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5ab62a222773f072825c2f24dcbad497c5cc4d38', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Iaf45c1f8b705f2bb470684e1a18764ceb9364843\n""}]",0,732770,5ab62a222773f072825c2f24dcbad497c5cc4d38,8,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Iaf45c1f8b705f2bb470684e1a18764ceb9364843
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/70/732770/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py']",4,5ab62a222773f072825c2f24dcbad497c5cc4d38,drop_future_imports,, from __future__ import absolute_import # required for external apt import,0,8
openstack%2Fcharm-keystone~master~Ie56bb285b0e8fd450f2c8cd50e2206594f109a94,openstack/charm-keystone,master,Ie56bb285b0e8fd450f2c8cd50e2206594f109a94,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:54:50.000000000,2021-12-14 10:43:30.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:54:50.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'scripts/fernet_rotate_and_sync.py', 'hooks/manager.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f333e7715bd03d27366547811503457058a65e5c', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Ie56bb285b0e8fd450f2c8cd50e2206594f109a94\n""}]",0,732791,f333e7715bd03d27366547811503457058a65e5c,10,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Ie56bb285b0e8fd450f2c8cd50e2206594f109a94
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/91/732791/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/core/hookenv.py', 'scripts/fernet_rotate_and_sync.py', 'hooks/manager.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",7,f333e7715bd03d27366547811503457058a65e5c,drop_future_imports,,from __future__ import print_function from __future__ import absolute_import,0,13
openstack%2Fcharm-glance-simplestreams-sync~master~I1cd19ec1a09d459f9d5c61fe5563e458046f8b1a,openstack/charm-glance-simplestreams-sync,master,I1cd19ec1a09d459f9d5c61fe5563e458046f8b1a,Stop to use the __future__ module.,ABANDONED,2020-06-02 17:41:56.000000000,2021-12-14 10:40:12.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 17:41:56.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/6d7312ec1a09453ca7f67f3f9e6c61b903971e6f', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I1cd19ec1a09d459f9d5c61fe5563e458046f8b1a\n""}]",0,732782,6d7312ec1a09453ca7f67f3f9e6c61b903971e6f,6,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I1cd19ec1a09d459f9d5c61fe5563e458046f8b1a
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/82/732782/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",4,6d7312ec1a09453ca7f67f3f9e6c61b903971e6f,drop_future_imports,,from __future__ import print_function from __future__ import absolute_import,0,8
