id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foctavia~master~I81af508e7df5ffef343f1614335ffe1a98540912,openstack/octavia,master,I81af508e7df5ffef343f1614335ffe1a98540912,Workaround to fix amphora-agent on centos,MERGED,2021-10-08 13:26:37.000000000,2021-11-15 16:11:50.000000000,2021-11-15 16:07:58.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-10-08 13:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b63bd85bae565fb356548d884af95ddda58ab955', 'message': ""WIP Workaround to fix amphora-agent on centos\n\ndnspython now requires to have at least one nameserver in\n/etc/resolv.conf.\nThe amphora image doesn't need and doesn't use any dns servers, add a\ndummy dns server as a workaround on centos (on ubuntu, resolv.conf\ncontains the systemd resolver).\nWe will revert this patch when we find a more convenient fix for this\nissue\n\nStory: 2009281\nTask: 43552\n\nChange-Id: I81af508e7df5ffef343f1614335ffe1a98540912\n""}, {'number': 2, 'created': '2021-10-08 14:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a77d418736c7918e2de038d1e4eb0d8bacf98f1', 'message': ""WIP Workaround to fix amphora-agent on centos\n\ndnspython now requires to have at least one nameserver in\n/etc/resolv.conf.\nThe amphora image doesn't need and doesn't use any dns servers, add a\ndummy dns server as a workaround on centos (on ubuntu, resolv.conf\ncontains the systemd resolver).\nWe will revert this patch when we find a more convenient fix for this\nissue\n\nStory: 2009281\nTask: 43552\n\nChange-Id: I81af508e7df5ffef343f1614335ffe1a98540912\n""}, {'number': 3, 'created': '2021-10-12 16:49:51.000000000', 'files': ['elements/amphora-agent/static/etc/NetworkManager/conf.d/dns-none.conf', 'elements/no-resolvconf/finalise.d/99-disable-resolv-conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2043788473a8cd6707bfc9aaedbc2065688f0db0', 'message': ""Workaround to fix amphora-agent on centos\n\ndnspython now requires to have at least one nameserver in\n/etc/resolv.conf.\nThe amphora image doesn't need and doesn't use any dns servers, add a\ndummy dns server as a workaround on centos (on ubuntu, resolv.conf\ncontains the systemd resolver).\nWe will revert this patch when we find a more convenient fix for this\nissue\n\nStory: 2009281\nTask: 43552\n\nChange-Id: I81af508e7df5ffef343f1614335ffe1a98540912\n""}]",2,813190,2043788473a8cd6707bfc9aaedbc2065688f0db0,15,4,3,29244,,,0,"Workaround to fix amphora-agent on centos

dnspython now requires to have at least one nameserver in
/etc/resolv.conf.
The amphora image doesn't need and doesn't use any dns servers, add a
dummy dns server as a workaround on centos (on ubuntu, resolv.conf
contains the systemd resolver).
We will revert this patch when we find a more convenient fix for this
issue

Story: 2009281
Task: 43552

Change-Id: I81af508e7df5ffef343f1614335ffe1a98540912
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/813190/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/no-resolvconf/finalise.d/99-disable-resolv-conf'],1,b63bd85bae565fb356548d884af95ddda58ab955,wip," # Override resolv.conf file from DIB with a custom one. # Having at least one nameserver is now required by dnfpython (>=) echo ""nameserver 127.0.0.1"" > /etc/resolv.conf echo ""nameserver 127.0.0.1"" > /etc/resolv.conf.ORIG","echo """" > /etc/resolv.conf echo """" > /etc/resolv.conf.ORIG",5,2
openstack%2Foctavia~master~I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,openstack/octavia,master,I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,Fix LB set in ERROR too early in the revert flow,MERGED,2021-10-29 15:18:19.000000000,2021-11-15 16:09:51.000000000,2021-11-15 16:03:38.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-10-29 15:18:19.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'releasenotes/notes/fix-provisioning-status-on-errors-7f3736ef6e94d453.yaml', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b8b198fecee802e1031c014f811eb766329a1a0', 'message': 'Fix LB set in ERROR too early in the revert flow\n\nWhen an error occurs in a flow, the provisioning status of the load\nbalancer should be set to ERROR in the revert method of the first task\nof the flow. This update acts as an unlock of the LB object and cannot\noccur in any other revert method because the API might consider the LB\nas mutable before finishing a task/flow.\n\nRemove all occurrences of mark_loadbalancer_prov_status_error calls in\nrevert method of tasks that are not specifically designed for unlocking\nthe load balancers. Add a LoadBalancerToErrorOnRevertTask task in the\namphora failover flow to prevent a LB to be in an immutable state.\n\nStory 2009651\nTask 43810\nStory 2009652\nTask 43811\n\nChange-Id: I48b0f5a773209b1c1b056d71c0da05d6fd82ca73\n'}]",1,815973,4b8b198fecee802e1031c014f811eb766329a1a0,10,5,1,29244,,,0,"Fix LB set in ERROR too early in the revert flow

When an error occurs in a flow, the provisioning status of the load
balancer should be set to ERROR in the revert method of the first task
of the flow. This update acts as an unlock of the LB object and cannot
occur in any other revert method because the API might consider the LB
as mutable before finishing a task/flow.

Remove all occurrences of mark_loadbalancer_prov_status_error calls in
revert method of tasks that are not specifically designed for unlocking
the load balancers. Add a LoadBalancerToErrorOnRevertTask task in the
amphora failover flow to prevent a LB to be in an immutable state.

Story 2009651
Task 43810
Story 2009652
Task 43811

Change-Id: I48b0f5a773209b1c1b056d71c0da05d6fd82ca73
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/815973/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'releasenotes/notes/fix-provisioning-status-on-errors-7f3736ef6e94d453.yaml', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py']",11,4b8b198fecee802e1031c014f811eb766329a1a0,, repo.LoadBalancerRepository.update.assert_not_called() repo.LoadBalancerRepository.update.assert_not_called()," repo.LoadBalancerRepository.update.assert_called_once_with( _session_mock, id=LB_ID, provisioning_status=constants.ERROR) repo.LoadBalancerRepository.update.assert_called_once_with( _session_mock, id=LB_ID, provisioning_status=constants.ERROR) # Test revert amp = amphora_post_vip_plug_obj.revert(None, _LB_mock) repo.LoadBalancerRepository.update.assert_called_once_with( _session_mock, id=LB_ID, provisioning_status=constants.ERROR) self.assertIsNone(amp) # Test revert with exception repo.LoadBalancerRepository.update.reset_mock() mock_loadbalancer_repo_update.side_effect = Exception('fail') amp = amphora_post_vip_plug_obj.revert(None, _LB_mock) repo.LoadBalancerRepository.update.assert_called_once_with( _session_mock, id=LB_ID, provisioning_status=constants.ERROR) self.assertIsNone(amp) # Test revert when this task failed repo.AmphoraRepository.update.reset_mock() amp = amphora_post_vip_plug_obj.revert( failure.Failure.from_exception(Exception('boom')), _amphora_mock, None) repo.AmphoraRepository.update.assert_not_called() ",46,360
openstack%2Foctavia~master~Ida88bac532b1cc247d7c8751c6ebfeaa38de2144,openstack/octavia,master,Ida88bac532b1cc247d7c8751c6ebfeaa38de2144,"fix amphora-agent-install script, typo, heath -> health",MERGED,2021-07-15 14:23:39.000000000,2021-11-15 16:06:12.000000000,2021-11-15 16:03:35.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-15 14:23:39.000000000', 'files': ['elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install'], 'web_link': 'https://opendev.org/openstack/octavia/commit/06a1862af151ad87e2f7313038c9aff673146489', 'message': 'fix amphora-agent-install script, typo, heath -> health\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\nChange-Id: Ida88bac532b1cc247d7c8751c6ebfeaa38de2144\n'}]",2,800953,06a1862af151ad87e2f7313038c9aff673146489,10,4,1,21715,,,0,"fix amphora-agent-install script, typo, heath -> health

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>
Change-Id: Ida88bac532b1cc247d7c8751c6ebfeaa38de2144
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/800953/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install'],1,06a1862af151ad87e2f7313038c9aff673146489,fix/typo-amphora-agent-install,# Link health checker script,# Link heath checker script,1,1
openstack%2Fmanila-ui~stable%2Fwallaby~I923cb2ae90612fb8d5d3af467654a71b83266ffc,openstack/manila-ui,stable/wallaby,I923cb2ae90612fb8d5d3af467654a71b83266ffc,"API v2.46, added 'is_default' field to share types",ABANDONED,2021-11-05 14:30:26.000000000,2021-11-15 15:35:45.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-11-05 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/76d87e17ef29d08279b7858eff47840972729899', 'message': ""API v2.46, added 'is_default' field to share types\n\nAdded 'is_default' field to share types and share group\ntypes list. 'is_default' field will show Yes if the share type\nor share group type is default.\n\nPartial-Bug: #1823078\n\nChange-Id: I923cb2ae90612fb8d5d3af467654a71b83266ffc\n(cherry picked from commit 957240e77877262df1556777c72f98f51fc13b23)\n""}, {'number': 2, 'created': '2021-11-08 11:36:55.000000000', 'files': ['releasenotes/notes/add-is-default-field-to-share-types-list-a76fed8ebe7eef03.yaml', 'manila_ui/api/manila.py', 'manila_ui/dashboards/admin/share_types/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/5e9e711738a419851d2d1d52f861da564518b6d9', 'message': ""API v2.46, added 'is_default' field to share types\n\nAdded 'is_default' field to share types and share group\ntypes list. 'is_default' field will show Yes if the share type\nor share group type is default.\n\nPartial-Bug: #1823078\n\nChange-Id: I923cb2ae90612fb8d5d3af467654a71b83266ffc\n(cherry picked from commit 957240e77877262df1556777c72f98f51fc13b23)\n""}]",12,816872,5e9e711738a419851d2d1d52f861da564518b6d9,10,5,2,6413,,,0,"API v2.46, added 'is_default' field to share types

Added 'is_default' field to share types and share group
types list. 'is_default' field will show Yes if the share type
or share group type is default.

Partial-Bug: #1823078

Change-Id: I923cb2ae90612fb8d5d3af467654a71b83266ffc
(cherry picked from commit 957240e77877262df1556777c72f98f51fc13b23)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/72/816872/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-is-default-field-to-share-types-list-a76fed8ebe7eef03.yaml', 'manila_ui/api/manila.py', 'manila_ui/dashboards/admin/share_types/tables.py']",3,76d87e17ef29d08279b7858eff47840972729899,add-is-default-field-to-share-type-stable/wallaby," is_default = tables.Column( ""is_default"", verbose_name=_(""Is default""), filters=(lambda d: 'Yes' if d is True else '-', ), )",,13,0
openstack%2Fmanila-ui~stable%2Fwallaby~I3f2b4e6ebf715615b0f65cc26451f9ba406ba236,openstack/manila-ui,stable/wallaby,I3f2b4e6ebf715615b0f65cc26451f9ba406ba236,"API v2.46, added 'is_default' field to share group types",ABANDONED,2021-11-05 14:30:11.000000000,2021-11-15 15:34:52.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-11-05 14:30:11.000000000', 'files': ['manila_ui/dashboards/admin/share_group_types/tables.py', 'releasenotes/notes/add-is-default-field-to-share-group-types-list-e0ed183e2e8df9ea.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/9a456c06b429f90a4e41734b3d6dfc309df842be', 'message': ""API v2.46, added 'is_default' field to share group types\n\nPartial-Bug: #1823078\nChange-Id: I3f2b4e6ebf715615b0f65cc26451f9ba406ba236\n(cherry picked from commit 748b25f04f1078d94e687d3a87d289fedf3efeb7)\n""}]",2,816871,9a456c06b429f90a4e41734b3d6dfc309df842be,5,5,1,6413,,,0,"API v2.46, added 'is_default' field to share group types

Partial-Bug: #1823078
Change-Id: I3f2b4e6ebf715615b0f65cc26451f9ba406ba236
(cherry picked from commit 748b25f04f1078d94e687d3a87d289fedf3efeb7)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/71/816871/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/admin/share_group_types/tables.py', 'releasenotes/notes/add-is-default-field-to-share-group-types-list-e0ed183e2e8df9ea.yaml']",2,9a456c06b429f90a4e41734b3d6dfc309df842be,add_is_default_field-stable/wallaby,--- features: - | Adds ‘is_default’ field to share group types list. the Is_default Column will show 'Yes' if the share group type is default share group type. ,,9,0
openstack%2Fmanila-ui~stable%2Fwallaby~Iec3a3fad5e2bdf854f04ae974248d899f90bd894,openstack/manila-ui,stable/wallaby,Iec3a3fad5e2bdf854f04ae974248d899f90bd894,"API v2.45, adds metadata support to access rules",ABANDONED,2021-11-05 14:29:11.000000000,2021-11-15 15:34:12.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-11-05 14:29:11.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'doc/source/user/index.rst', 'manila_ui/tests/dashboards/project/test_data.py', 'manila_ui/dashboards/project/shares/tables.py', 'releasenotes/notes/add-share-access-rules-66a86a45a1f4a9c8.yaml', 'manila_ui/dashboards/project/shares/templates/shares/update_rule_metadata.html', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/api/manila.py', 'manila_ui/dashboards/project/shares/templates/shares/_update_rule_metadata.html', 'manila_ui/dashboards/project/shares/views.py', 'manila_ui/tests/api/test_manila.py', 'manila_ui/dashboards/project/shares/urls.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/93286b526de9f80e493a69910a70199aa24a0517', 'message': 'API v2.45, adds metadata support to access rules\n\nAdded access metadata for share access and also introduced the GET /share-access-rules API.\nThe prior API to retrieve access rules will not work with API version >=2.45\n\nCloses-Bug: #1920687\nChange-Id: Iec3a3fad5e2bdf854f04ae974248d899f90bd894\n(cherry picked from commit 8b5b9cb83be616bdcfd4fb3b9d62fc41a9bcbca4)\n'}]",3,816870,93286b526de9f80e493a69910a70199aa24a0517,8,6,1,6413,,,0,"API v2.45, adds metadata support to access rules

Added access metadata for share access and also introduced the GET /share-access-rules API.
The prior API to retrieve access rules will not work with API version >=2.45

Closes-Bug: #1920687
Change-Id: Iec3a3fad5e2bdf854f04ae974248d899f90bd894
(cherry picked from commit 8b5b9cb83be616bdcfd4fb3b9d62fc41a9bcbca4)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/70/816870/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'doc/source/user/index.rst', 'manila_ui/tests/dashboards/project/test_data.py', 'manila_ui/dashboards/project/shares/tables.py', 'releasenotes/notes/add-share-access-rules-66a86a45a1f4a9c8.yaml', 'manila_ui/dashboards/project/shares/templates/shares/update_rule_metadata.html', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/api/manila.py', 'manila_ui/dashboards/project/shares/templates/shares/_update_rule_metadata.html', 'manila_ui/dashboards/project/shares/views.py', 'manila_ui/tests/api/test_manila.py', 'manila_ui/dashboards/project/shares/urls.py']",12,93286b526de9f80e493a69910a70199aa24a0517,bug/1920687," r'^rules/(?P<rule_id>[^/]+)/update_rule_metadata/$', shares_views.UpdateRuleMetadataView.as_view(), name='update_rule_metadata'), urls.url(",,316,36
openstack%2Fhorizon~master~I5a81344ea3aaa182d8b4d6a15a6240d3c99557cf,openstack/horizon,master,I5a81344ea3aaa182d8b4d6a15a6240d3c99557cf,Create Keystone admin endpoint for horizon integartion job,MERGED,2021-11-11 13:21:15.000000000,2021-11-15 15:31:27.000000000,2021-11-15 15:24:53.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8313}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32349}]","[{'number': 1, 'created': '2021-11-11 13:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e3a124abdf9b8806b202cd94ce63c5a608f00a61', 'message': '[DNM] Test Create Keystone admin endpoint for horizon integartion job\n\nChange-Id: I5a81344ea3aaa182d8b4d6a15a6240d3c99557cf\n'}, {'number': 2, 'created': '2021-11-11 14:35:34.000000000', 'files': ['.zuul.d/tempest-and-integrated.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9bab3fe195eb13635aa70cb910d94df98d66cf3', 'message': 'Create Keystone admin endpoint for horizon integartion job\n\nCI job ""horizon-integration-tests"" needs an admin endpoint. Since\n[1] devstack does not create it by default. This patch enables it\nin this job now.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/777345\n\nRelated-Bug: #1950659\nChange-Id: I5a81344ea3aaa182d8b4d6a15a6240d3c99557cf\n'}]",6,817558,f9bab3fe195eb13635aa70cb910d94df98d66cf3,17,8,2,29313,,,0,"Create Keystone admin endpoint for horizon integartion job

CI job ""horizon-integration-tests"" needs an admin endpoint. Since
[1] devstack does not create it by default. This patch enables it
in this job now.

[1] https://review.opendev.org/c/openstack/devstack/+/777345

Related-Bug: #1950659
Change-Id: I5a81344ea3aaa182d8b4d6a15a6240d3c99557cf
",git fetch https://review.opendev.org/openstack/horizon refs/changes/58/817558/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/tempest-and-integrated.yaml'],1,e3a124abdf9b8806b202cd94ce63c5a608f00a61,, devstack_localrc: KEYSTONE_ADMIN_ENDPOINT: true,,2,0
openstack%2Fproject-config~master~I13ea989bc6d5ed647eecd4f17fd5c32b39d4251a,openstack/project-config,master,I13ea989bc6d5ed647eecd4f17fd5c32b39d4251a,Add Vault role to Zuul jobs,MERGED,2021-07-07 13:22:07.000000000,2021-11-15 15:08:12.000000000,2021-11-15 15:08:12.000000000,"[{'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 13:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cae0a4b44c73ea51efb3a0a6e6994ba07fcafe67', 'message': 'Add Vault role to Zuul jobs\n\nChange-Id: I13ea989bc6d5ed647eecd4f17fd5c32b39d4251a\n'}, {'number': 2, 'created': '2021-07-09 08:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/739f62ee792f07341924f240ede33cd3b0cdc811', 'message': 'Add Vault role to Zuul jobs\n\nChange-Id: I13ea989bc6d5ed647eecd4f17fd5c32b39d4251a\n'}, {'number': 3, 'created': '2021-07-14 13:41:01.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/66bba7008a62ce8a6b8c5d1c0352ac0eb161a8c0', 'message': 'Add Vault role to Zuul jobs\n\nChange-Id: I13ea989bc6d5ed647eecd4f17fd5c32b39d4251a\n'}]",3,799825,66bba7008a62ce8a6b8c5d1c0352ac0eb161a8c0,14,4,3,28619,,,0,"Add Vault role to Zuul jobs

Change-Id: I13ea989bc6d5ed647eecd4f17fd5c32b39d4251a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/799825/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cae0a4b44c73ea51efb3a0a6e6994ba07fcafe67,osa/vault, name: openstack/ansible-role-vault templates: - official-openstack-repo-jobs - project:,,5,0
openstack%2Foslo.db~master~I4c47a690a94abcb3b4b6fb087a1bf86c5350b523,openstack/oslo.db,master,I4c47a690a94abcb3b4b6fb087a1bf86c5350b523,Replace use of 'Engine.execute()',MERGED,2021-07-27 17:30:19.000000000,2021-11-15 15:02:31.000000000,2021-11-15 14:59:26.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9b4700aaab0b110433f7ef32146b48c1581449f3', 'message': ""Replace use of 'Engine.execute()'\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.execute() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session.\n\nChange-Id: I4c47a690a94abcb3b4b6fb087a1bf86c5350b523\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/593d6d10e983ea0bbf429f67b3ba3da64116001e', 'message': ""Replace use of 'Engine.execute()'\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.execute() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session.\n\nChange-Id: I4c47a690a94abcb3b4b6fb087a1bf86c5350b523\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/de636e9b78b0234bc1481af89b5920ea417f38ef', 'message': ""Replace use of 'Engine.execute()'\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.execute() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session.\n\nChange-Id: I4c47a690a94abcb3b4b6fb087a1bf86c5350b523\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e19c47e336ea1925983f6f941498ce3b703252b8', 'message': ""Replace use of 'Engine.execute()'\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.execute() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session.\n\nChange-Id: I4c47a690a94abcb3b4b6fb087a1bf86c5350b523\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/df901a1c765c16de77c2f734760e9ecf95483737', 'message': ""Replace use of 'Engine.execute()'\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.execute() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session.\n\nChange-Id: I4c47a690a94abcb3b4b6fb087a1bf86c5350b523\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,802586,df901a1c765c16de77c2f734760e9ecf95483737,23,4,5,15334,,,0,"Replace use of 'Engine.execute()'

Resolve the following RemovedIn20Warning warning:

  The Engine.execute() method is considered legacy as of the 1.x series
  of SQLAlchemy and will be removed in 2.0. All statement execution in
  SQLAlchemy 2.0 is performed by the Connection.execute() method of
  Connection, or in the ORM by the Session.execute() method of Session.

Change-Id: I4c47a690a94abcb3b4b6fb087a1bf86c5350b523
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/86/802586/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",5,9b4700aaab0b110433f7ef32146b48c1581449f3,sqlalchemy-20," warnings.filterwarnings( 'ignore', message=r'The Engine.execute\(\) method is considered legacy .*', module='migrate', category=sqla_exc.SADeprecationWarning) "," message=r'The Engine.execute\(\) method is considered legacy .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",214,172
openstack%2Fglance-specs~master~Ifb14d54fe80094a32ea7c68b639852564d377a69,openstack/glance-specs,master,Ifb14d54fe80094a32ea7c68b639852564d377a69,Spec Lite: Add ability to purge all rows by glance-manage,ABANDONED,2021-11-15 14:56:22.000000000,2021-11-15 14:57:38.000000000,,[],"[{'number': 1, 'created': '2021-11-15 14:56:22.000000000', 'files': ['specs/yoga/approved/glance/purge_all_rows.rst', 'specs/yoga/approved/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/894b7cee0f3be76c63ff7d98ea177554055c57ff', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nrelated blueprint <purge-all-rows>\nChange-Id: I53c395f416f4388b8a34cebbff11e47ada52762f\n\nChange-Id: Ifb14d54fe80094a32ea7c68b639852564d377a69\n'}]",0,817962,894b7cee0f3be76c63ff7d98ea177554055c57ff,2,0,1,32927,,,0,"Spec Lite: Add ability to purge all rows by glance-manage

related blueprint <purge-all-rows>
Change-Id: I53c395f416f4388b8a34cebbff11e47ada52762f

Change-Id: Ifb14d54fe80094a32ea7c68b639852564d377a69
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/62/817962/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/approved/glance/purge_all_rows.rst', 'specs/yoga/approved/index.rst']",2,894b7cee0f3be76c63ff7d98ea177554055c57ff,,Xena approved specs for glance: .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in until a new approved space is added. ,40,1
openstack%2Fpython-cloudkittyclient~master~Ibab4d14764372298cc0055f168ff44eabdc873f0,openstack/python-cloudkittyclient,master,Ibab4d14764372298cc0055f168ff44eabdc873f0,Replace deprecated assertRaisesRegexp,MERGED,2021-11-08 06:14:28.000000000,2021-11-15 14:54:01.000000000,2021-11-15 14:51:48.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-11-08 06:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/34738294aac848f6a95854c1571861c4b68fb990', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2 .\n\nhttps: //docs.python.org/3/library/unittest.html#deprecated-aliases\nChange-Id: Ibab4d14764372298cc0055f168ff44eabdc873f0\n'}, {'number': 2, 'created': '2021-11-09 01:04:58.000000000', 'files': ['cloudkittyclient/tests/functional/v2/test_dataframes.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/64ab6b412ab98a753166b8d9ab3545b2cf30f49c', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2.\n\nhttps://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: Ibab4d14764372298cc0055f168ff44eabdc873f0\n'}]",5,816934,64ab6b412ab98a753166b8d9ab3545b2cf30f49c,11,3,2,32291,,,0,"Replace deprecated assertRaisesRegexp

The assertRaisesRegexp method has been deprecated since it was renamed
to assertRaisesRegex in Python 3.2.

https://docs.python.org/3/library/unittest.html#deprecated-aliases

Change-Id: Ibab4d14764372298cc0055f168ff44eabdc873f0
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/34/816934/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittyclient/tests/functional/v2/test_dataframes.py'],1,34738294aac848f6a95854c1571861c4b68fb990,, self.assertRaisesRegex(, self.assertRaisesRegexp(,1,1
openstack%2Fkolla-ansible~master~I86eeabbc3843104079024992cc93dbf4fb31e731,openstack/kolla-ansible,master,I86eeabbc3843104079024992cc93dbf4fb31e731,[docs] Change quickstart guide ansible version,ABANDONED,2021-11-15 08:57:19.000000000,2021-11-15 14:51:55.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29880}]","[{'number': 1, 'created': '2021-11-15 08:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e64453b9ee1e9e2fee5abaa6ff37b2ffec1c35ce', 'message': '[docs] Change quickstart guide ansible version\n\nThe quickstart guide asks you to install ansible version up to 4.0.\nHowever, the bootstrat will require the ansible version to be between\n2.9 and 2.10.\n\nChange-Id: I86eeabbc3843104079024992cc93dbf4fb31e731\n'}, {'number': 2, 'created': '2021-11-15 08:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09cd11a2ef7202b26140cdf6b302fc2134b478d2', 'message': '[docs] Change quickstart guide ansible version\n\nThe quickstart guide asks you to install ansible version up to 4.0.\nHowever, the bootstrat will require the ansible version to be between\n2.9 and 2.10.\n\nChange-Id: I86eeabbc3843104079024992cc93dbf4fb31e731\n'}, {'number': 3, 'created': '2021-11-15 09:16:06.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ac0a2f76d1a156308dcb313e07d2f10638659a2', 'message': '[docs] Change quickstart guide ansible version\n\nThe quickstart guide asks you to install ansible version up to 4.0.\nHowever, the bootstrap will require the ansible version to be between\n2.9 and 2.10.\nCloses-Bug: #1950818\n\nChange-Id: I86eeabbc3843104079024992cc93dbf4fb31e731\n'}]",3,817915,8ac0a2f76d1a156308dcb313e07d2f10638659a2,9,3,3,34185,,,0,"[docs] Change quickstart guide ansible version

The quickstart guide asks you to install ansible version up to 4.0.
However, the bootstrap will require the ansible version to be between
2.9 and 2.10.
Closes-Bug: #1950818

Change-Id: I86eeabbc3843104079024992cc93dbf4fb31e731
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/817915/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,e64453b9ee1e9e2fee5abaa6ff37b2ffec1c35ce,docs-update-ansible-version, Ansible ``2.10`` and supports up to ``2.10``. pip install 'ansible<3.0' Ansible ``2.9`` and supports up to ``2.10``., Ansible ``2.10`` and supports up to ``4``. pip install 'ansible<5.0' Ansible ``2.10`` and supports up to ``4``.,3,3
openstack%2Foslo.db~master~I92a7ccdd48eedd4c788384033743daf50a9dc113,openstack/oslo.db,master,I92a7ccdd48eedd4c788384033743daf50a9dc113,Don't call mapper() outside of declarative registry,MERGED,2021-07-27 17:30:19.000000000,2021-11-15 14:47:31.000000000,2021-11-15 14:45:18.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/86860c4607c7f952760d54272b8ea3d4f325c317', 'message': ""Don't call mapper() outside of declarative registry\n\nResolve the following RemovedIn20Warning:\n\n  Calling the mapper() function directly outside of a declarative\n  registry is deprecated. Please use the\n  sqlalchemy.orm.registry.map_imperatively() function for a classical\n  mapping.\n\nChange-Id: I92a7ccdd48eedd4c788384033743daf50a9dc113\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/33ec04e99562818a8bc6ab634f9a95fe61125fc1', 'message': ""Don't call mapper() outside of declarative registry\n\nResolve the following RemovedIn20Warning:\n\n  Calling the mapper() function directly outside of a declarative\n  registry is deprecated. Please use the\n  sqlalchemy.orm.registry.map_imperatively() function for a classical\n  mapping.\n\nChange-Id: I92a7ccdd48eedd4c788384033743daf50a9dc113\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7558498b96c896e1af879c1fd2b276cbfa84ffc5', 'message': ""Don't call mapper() outside of declarative registry\n\nResolve the following RemovedIn20Warning:\n\n  Calling the mapper() function directly outside of a declarative\n  registry is deprecated. Please use the\n  sqlalchemy.orm.registry.map_imperatively() function for a classical\n  mapping.\n\nChange-Id: I92a7ccdd48eedd4c788384033743daf50a9dc113\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d59f3bc21481e5d5bfb9647374dda16d8a612a90', 'message': ""Don't call mapper() outside of declarative registry\n\nResolve the following RemovedIn20Warning:\n\n  Calling the mapper() function directly outside of a declarative\n  registry is deprecated. Please use the\n  sqlalchemy.orm.registry.map_imperatively() function for a classical\n  mapping.\n\nChange-Id: I92a7ccdd48eedd4c788384033743daf50a9dc113\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ecb15c4ac63772e3332ac0f475e852f414ca3bbb', 'message': ""Don't call mapper() outside of declarative registry\n\nResolve the following RemovedIn20Warning:\n\n  Calling the mapper() function directly outside of a declarative\n  registry is deprecated. Please use the\n  sqlalchemy.orm.registry.map_imperatively() function for a classical\n  mapping.\n\nChange-Id: I92a7ccdd48eedd4c788384033743daf50a9dc113\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,802585,ecb15c4ac63772e3332ac0f475e852f414ca3bbb,21,4,5,15334,,,0,"Don't call mapper() outside of declarative registry

Resolve the following RemovedIn20Warning:

  Calling the mapper() function directly outside of a declarative
  registry is deprecated. Please use the
  sqlalchemy.orm.registry.map_imperatively() function for a classical
  mapping.

Change-Id: I92a7ccdd48eedd4c788384033743daf50a9dc113
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/85/802585/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",3,86860c4607c7f952760d54272b8ea3d4f325c317,sqlalchemy-20,," message=r'Calling the mapper\(\) function directly outside .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",9,9
openstack%2Fpuppet-nova~master~I5a9168e4e14b31f62135e12427120103ebb9ef9c,openstack/puppet-nova,master,I5a9168e4e14b31f62135e12427120103ebb9ef9c,Override default mkisofs_cmd in CentOS 9.,ABANDONED,2021-11-15 14:32:42.000000000,2021-11-15 14:34:22.000000000,,[],"[{'number': 1, 'created': '2021-11-15 14:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/86ef2adce9bf2fe8f0275555a53a2877f9f3c73d', 'message': 'Override default mkisofs_cmd in CentOS 9.\n\nIn [1] the parameter mkisofs_cmd was introduced in puppet-nova to set\nthis parameter as CentOS Stream 9 requires a different value that the\ndefault one.\n\nThis change overrides the default value in CentOS9 so that no\nadditional tuning is needed.\n\n[1] https://review.opendev.org/c/openstack/puppet-nova/+/812195\n\nChange-Id: I5a9168e4e14b31f62135e12427120103ebb9ef9c\n'}, {'number': 2, 'created': '2021-11-15 14:33:30.000000000', 'files': ['manifests/compute.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8d7278b12df619bf666b5d93f9b47587c219460d', 'message': 'Override default mkisofs_cmd in CentOS 9.\n\nIn [1] the parameter mkisofs_cmd was introduced in puppet-nova to set\nthis parameter as CentOS Stream 9 requires a different value that the\ndefault one.\n\nThis change overrides the default value in CentOS9 so that no\nadditional tuning is needed.\n\n[1] https://review.opendev.org/c/openstack/puppet-nova/+/812195\n\nChange-Id: I5a9168e4e14b31f62135e12427120103ebb9ef9c\n'}]",0,817958,8d7278b12df619bf666b5d93f9b47587c219460d,3,0,2,9816,,,0,"Override default mkisofs_cmd in CentOS 9.

In [1] the parameter mkisofs_cmd was introduced in puppet-nova to set
this parameter as CentOS Stream 9 requires a different value that the
default one.

This change overrides the default value in CentOS9 so that no
additional tuning is needed.

[1] https://review.opendev.org/c/openstack/puppet-nova/+/812195

Change-Id: I5a9168e4e14b31f62135e12427120103ebb9ef9c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/58/817958/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'manifests/params.pp']",2,86ef2adce9bf2fe8f0275555a53a2877f9f3c73d,, $mkisofs_cmd = 'mkisofs' $mkisofs_cmd = false $mkisofs_cmd = false,,15,1
openstack%2Fcharm-mysql-innodb-cluster~master~I1b545c61ec97d4497023e8788135bf0fa53875e4,openstack/charm-mysql-innodb-cluster,master,I1b545c61ec97d4497023e8788135bf0fa53875e4,Add more explanation to the update-unit-acls action,MERGED,2021-10-28 11:39:47.000000000,2021-11-15 14:32:53.000000000,2021-11-15 14:32:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-28 11:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/333141cd2641ece5577176362587de8763bbac5b', 'message': 'Add more explanation to the update-unit-acls action\n\nChange-Id: I1b545c61ec97d4497023e8788135bf0fa53875e4\n'}, {'number': 2, 'created': '2021-11-15 10:39:49.000000000', 'files': ['src/actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/504091badb2f45f2cf04b58198f2f18b8ec3cfe0', 'message': 'Add more explanation to the update-unit-acls action\n\nChange-Id: I1b545c61ec97d4497023e8788135bf0fa53875e4\n'}]",2,815829,504091badb2f45f2cf04b58198f2f18b8ec3cfe0,12,3,2,12549,,,0,"Add more explanation to the update-unit-acls action

Change-Id: I1b545c61ec97d4497023e8788135bf0fa53875e4
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/29/815829/1 && git format-patch -1 --stdout FETCH_HEAD,['src/actions.yaml'],1,333141cd2641ece5577176362587de8763bbac5b,update-update-unit-acls-doc-str," WARNING When this action is run, group replication is stopped, the acls updated and the group replication is started again. Group replication should be running after this action has completed.", WARNING Group replication is stopped on each unit to allow the update to happen.,3,2
openstack%2Fceilometer~master~I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981,openstack/ceilometer,master,I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981,Update compute.discovery to get nova domain meta,MERGED,2021-10-05 14:06:15.000000000,2021-11-15 14:27:54.000000000,2021-11-15 14:25:49.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-05 14:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8cf5315492620ecff73465cf1fa6f4189034390b', 'message': 'Update compute.discovery to get nova domain meta\n\nCeilometer compute agent fails to get libvirt do\nmain metadata. This is hitting us both on Ubuntu\n20.04 and 21.04, but only starting with Wallaby\n(ceilometer 16.0.0-0ubuntu1~cloud0).\nAll older releases from Rocky to Victoria\n(ceilometer 15.0.0-0ubuntu2~cloud0) are fine.\n\nCloses-Bug: #1930446\nChange-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n'}, {'number': 2, 'created': '2021-10-05 15:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dd681492319f6f6c3f4da302b9deaa7281accb29', 'message': 'Update compute.discovery to get nova domain meta\n\nNova changed the namespace for nova specific\ndata to version 1.1 for the wallaby cycle.\n\nCloses-Bug: #1930446\nChange-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n'}, {'number': 3, 'created': '2021-10-07 09:59:16.000000000', 'files': ['ceilometer/compute/discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/252698de6a3ebdae0b2793c941b6117868e5574e', 'message': 'Update compute.discovery to get nova domain meta\n\nNova changed the namespace for nova specific\ndata to version 1.1 for the wallaby cycle .\n\nCloses-Bug: #1930446\nChange-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n'}]",6,812508,252698de6a3ebdae0b2793c941b6117868e5574e,22,2,3,29500,,,0,"Update compute.discovery to get nova domain meta

Nova changed the namespace for nova specific
data to version 1.1 for the wallaby cycle .

Closes-Bug: #1930446
Change-Id: I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/08/812508/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/discovery.py'],1,8cf5315492620ecff73465cf1fa6f4189034390b,bug/1930446," ""http://openstack.org/xmlns/libvirt/nova/1.1"")"," ""http://openstack.org/xmlns/libvirt/nova/1.0"")",1,1
openstack%2Ftempest~master~I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28,openstack/tempest,master,I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28,Remove race from wait_for_interface_detach waiter,MERGED,2021-10-05 09:39:37.000000000,2021-11-15 14:17:50.000000000,2021-11-15 14:14:11.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-10-05 09:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b821df0cc71278bccd0e584e9707f9eefec729cb', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 2, 'created': '2021-10-05 10:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa7ecbf3c0527611b539975de134b1fefe9975ab', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 3, 'created': '2021-10-05 12:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/457b66360c879037cae58d64fa6705f440580a37', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 4, 'created': '2021-10-05 16:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e705d44e8ea1efdcdc2d2fb295dcbc554e19be12', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 5, 'created': '2021-10-19 10:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86ed8de340f69bf1a84e1cd1030969ddddf1c312', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 6, 'created': '2021-10-19 11:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/24079805859c70c46bfe9194dff220c1a0fdceee', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 7, 'created': '2021-10-19 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6eb139968d9b9a21d0d1c1cbb9416c76e26fbe4c', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 8, 'created': '2021-10-20 09:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d52d8bc8123291a58bfaacd00b1348af86e7b70f', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 9, 'created': '2021-10-20 13:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cd1869855c1ab2c0f4a2d29dc36b6eefbeb40627', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 10, 'created': '2021-10-27 16:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/72f1849ca586dfff5d2f3ecc8656f0035099e961', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 11, 'created': '2021-11-02 17:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8626397626bb150e544e60b3062b167d33be51a9', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 12, 'created': '2021-11-02 17:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa601808367e21d2c608f4fc2f3721253f6b574e', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}, {'number': 13, 'created': '2021-11-04 12:33:23.000000000', 'files': ['tempest/tests/common/test_waiters.py', 'tempest/common/waiters.py', 'tempest/api/compute/servers/test_device_tagging.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/55414580c24384df8bb2854b2c71249848dfbdf6', 'message': 'Remove race from wait_for_interface_detach waiter\n\nNova list the interfaces attached to a server based on list of ports\nbound to the server. However during detach interface nova unbounds the\nport first and then deallocates the resources used by that port in\nplacement. The current detach waiter only waits until the interface\ndisappears from the interface list. This can cause that waiter returns\nbefore the resource allocation is removed from placement cause a race in\nthe test asserting such allocation.\n\nSo this patch changes the waiter to wait for the successful detach\nos-instance-action event for the server as that is only recorded after\nthe port is fully deallocated.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28\n'}]",5,812472,55414580c24384df8bb2854b2c71249848dfbdf6,32,3,13,9708,,,0,"Remove race from wait_for_interface_detach waiter

Nova list the interfaces attached to a server based on list of ports
bound to the server. However during detach interface nova unbounds the
port first and then deallocates the resources used by that port in
placement. The current detach waiter only waits until the interface
disappears from the interface list. This can cause that waiter returns
before the resource allocation is removed from placement cause a race in
the test asserting such allocation.

So this patch changes the waiter to wait for the successful detach
os-instance-action event for the server as that is only recorded after
the port is fully deallocated.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: I8740f8e0cc18ffea31a9a068bccee50bf4e6fe28
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/812472/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/waiters.py', 'tempest/api/compute/servers/test_device_tagging.py']",2,b821df0cc71278bccd0e584e9707f9eefec729cb,bp/qos-minimum-guaranteed-packet-rate," req_id = self.interfaces_client.delete_interface( server['id'], interface['port_id'] ).response['x-openstack-request-id'] interface['port_id'], req_id)"," self.interfaces_client.delete_interface(server['id'], interface['port_id']) interface['port_id'])",29,11
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I9a62b2cf24b2dd020de74e18af8c7bc0535d12d9,openstack/tripleo-heat-templates,stable/victoria,I9a62b2cf24b2dd020de74e18af8c7bc0535d12d9,Default CephDashboardNetwork to storage_dashboard,MERGED,2021-11-13 15:18:03.000000000,2021-11-15 14:05:43.000000000,2021-11-15 14:05:43.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-11-13 15:18:03.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3930cc5b18daaf49d215229fff26db0c3286cc7', 'message': ""Default CephDashboardNetwork to storage_dashboard\n\nThe default CephDashboardNetwork in ServiceNetMap was\n'ctlplane'. Change this to default to storage_dashboard\nwith a fallback to 'ctlplane'.\n\nThis will allow us to remove the hard-coded conditionals\non 'StorageDashboard' network name in tripleo_hiera_data.\n\nConflicts:\n  overcloud-resource-registry-puppet.j2.yaml\n\nRelated-Bug: #1946239\nChange-Id: I9a62b2cf24b2dd020de74e18af8c7bc0535d12d9\n(cherry picked from commit 28161b58682ac6d4e86b49ccf01395e40ffd613b)\n(cherry picked from commit 5d4785bd61f5ff8b9edde370aa251dbddd7a2d63)\n""}]",2,817835,f3930cc5b18daaf49d215229fff26db0c3286cc7,12,4,1,25402,,,0,"Default CephDashboardNetwork to storage_dashboard

The default CephDashboardNetwork in ServiceNetMap was
'ctlplane'. Change this to default to storage_dashboard
with a fallback to 'ctlplane'.

This will allow us to remove the hard-coded conditionals
on 'StorageDashboard' network name in tripleo_hiera_data.

Conflicts:
  overcloud-resource-registry-puppet.j2.yaml

Related-Bug: #1946239
Change-Id: I9a62b2cf24b2dd020de74e18af8c7bc0535d12d9
(cherry picked from commit 28161b58682ac6d4e86b49ccf01395e40ffd613b)
(cherry picked from commit 5d4785bd61f5ff8b9edde370aa251dbddd7a2d63)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/817835/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,f3930cc5b18daaf49d215229fff26db0c3286cc7,bug/1946239," CephDashboardNetwork: {{ _service_nets.get('storage_dashboard', 'ctlplane') }}", CephDashboardNetwork: ctlplane,1,1
openstack%2Fneutron-tempest-plugin~master~Ib58f0cf251b84c21db0f4b8defd213c770739134,openstack/neutron-tempest-plugin,master,Ib58f0cf251b84c21db0f4b8defd213c770739134,[train]: add designate-tempest-plugin as req,MERGED,2021-11-10 18:07:16.000000000,2021-11-15 14:01:43.000000000,2021-11-15 14:01:43.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 18:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6275e7e13ba1627d276e62f608afc80687421032', 'message': '[train]: add designate-tempest-plugin as req\n\nAdd designate-tempest-plugin to required-projects of\nneutron-tempest-plugin-designate-scenario-train and pin it to 0.7.0.\nThis should avoid the client initialization issue bring in by [1].\n\n[1]: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/800291\n\nChange-Id: Ib58f0cf251b84c21db0f4b8defd213c770739134\nCloses-Bug: #1950346\n'}, {'number': 2, 'created': '2021-11-11 07:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9324ac799550103e8c800c8af7d09893fd0cec90', 'message': '[train]: add designate-tempest-plugin as req\n\nAdd designate-tempest-plugin to required-projects of\nneutron-tempest-plugin-designate-scenario-train and pin it to 0.7.0.\nThis should avoid the client initialization issue bring in by [1].\n\n[1]: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/800291\n\nChange-Id: Ib58f0cf251b84c21db0f4b8defd213c770739134\nCloses-Bug: #1950346\n'}, {'number': 3, 'created': '2021-11-11 07:37:30.000000000', 'files': ['zuul.d/train_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/82cd7afa96a03d14660810889e4486cb6f560081', 'message': '[train]: add designate-tempest-plugin as req\n\nAdd designate-tempest-plugin to required-projects of\nneutron-tempest-plugin-designate-scenario-train and pin it to 0.7.0.\nThis should avoid the client initialization issue bring in by [1].\n\n[1]: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/800291\n\nChange-Id: Ib58f0cf251b84c21db0f4b8defd213c770739134\nCloses-Bug: #1950346\n'}]",7,817465,82cd7afa96a03d14660810889e4486cb6f560081,24,4,3,8313,,,0,"[train]: add designate-tempest-plugin as req

Add designate-tempest-plugin to required-projects of
neutron-tempest-plugin-designate-scenario-train and pin it to 0.7.0.
This should avoid the client initialization issue bring in by [1].

[1]: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/800291

Change-Id: Ib58f0cf251b84c21db0f4b8defd213c770739134
Closes-Bug: #1950346
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/65/817465/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/train_jobs.yaml'],1,6275e7e13ba1627d276e62f608afc80687421032,bug/1950346, - openstack/designate-tempest-plugin override-checkout: 0.7.0,,2,0
openstack%2Ftempest~master~I7e1e30a1832f292b6c405e4d23c0fe3818a07cdb,openstack/tempest,master,I7e1e30a1832f292b6c405e4d23c0fe3818a07cdb,add delete group type testcase,MERGED,2021-11-10 08:08:08.000000000,2021-11-15 13:39:58.000000000,2021-11-15 13:37:23.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-11-10 08:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2623fb8c9a078dcfe0f1159beda81ba0f7f2950f', 'message': 'add delete group type testcase\n\nadd delete group type api testcase for cinder module\nChange-Id: Ib86cc859eeda235a4ef2d2d8e15462d002961c28\n\nChange-Id: I7e1e30a1832f292b6c405e4d23c0fe3818a07cdb\n'}, {'number': 2, 'created': '2021-11-10 08:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7230a9087231ef928893b77f8d19eb485eb08151', 'message': 'add delete group type testcase\n\nadd delete group type api testcase for cinder module\n\nChange-Id: I7e1e30a1832f292b6c405e4d23c0fe3818a07cdb\n'}, {'number': 3, 'created': '2021-11-11 00:29:08.000000000', 'files': ['tempest/api/volume/admin/test_group_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a27e6b41a8b86406c2152bc3a513350ae0fa7407', 'message': 'add delete group type testcase\n\nadd delete group type api testcase for cinder module\n\nChange-Id: I7e1e30a1832f292b6c405e4d23c0fe3818a07cdb\n'}]",6,817355,a27e6b41a8b86406c2152bc3a513350ae0fa7407,18,4,3,30409,,,0,"add delete group type testcase

add delete group type api testcase for cinder module

Change-Id: I7e1e30a1832f292b6c405e4d23c0fe3818a07cdb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/817355/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_types.py'],1,2623fb8c9a078dcfe0f1159beda81ba0f7f2950f,master1," def test_group_type_create_list_update_show_delete(self): """"""Test create/list/update/show/delete group type"""""" body = self.admin_group_types_client.create_group_type(**params) self.admin_group_types_client.delete_group_type(body['id']) group_list = ( self.admin_group_types_client.list_group_types()['group_types']) group_ids = [it['id'] for it in group_list] self.assertNotIn(body['id'], group_ids)"," def test_group_type_create_list_update_show(self): """"""Test create/list/update/show group type"""""" body = self.create_group_type(**params)",9,3
openstack%2Fheat~master~Iff64ab84a5cf645e721375c79bb13a17360e8f47,openstack/heat,master,Iff64ab84a5cf645e721375c79bb13a17360e8f47,Print the path as a debug output,NEW,2021-05-25 21:29:56.000000000,2021-11-15 13:39:22.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 21:29:56.000000000', 'files': ['heat/engine/environment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/87884a632a6366af1edbf12e79b5f141cbb0359f', 'message': 'Print the path as a debug output\n\nPrint the path as a debug output in order to ease troubleshooting\nof templates issues.   In this use case, the customer forgot to\nadd parameter_defaults: after resource_registry: but they had 2000\nfiles to parse.\n\nChange-Id: Iff64ab84a5cf645e721375c79bb13a17360e8f47\n'}]",3,793066,87884a632a6366af1edbf12e79b5f141cbb0359f,6,2,1,7130,,,0,"Print the path as a debug output

Print the path as a debug output in order to ease troubleshooting
of templates issues.   In this use case, the customer forgot to
add parameter_defaults: after resource_registry: but they had 2000
files to parse.

Change-Id: Iff64ab84a5cf645e721375c79bb13a17360e8f47
",git fetch https://review.opendev.org/openstack/heat refs/changes/66/793066/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/environment.py'],1,87884a632a6366af1edbf12e79b5f141cbb0359f,debugregistry, LOG.debug('Path: %s' % descriptive_path),,1,0
openstack%2Fneutron~stable%2Fstein~Ibd8f78fc822b04965c6a79b57b13be364934f64f,openstack/neutron,stable/stein,Ibd8f78fc822b04965c6a79b57b13be364934f64f,[Functional] Wait for the initial state of ha router before test,MERGED,2021-09-13 07:09:18.000000000,2021-11-15 13:39:18.000000000,2021-11-15 13:37:27.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 07:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6054d9a27565734c782e2b7dfc56ca8fe6461de9', 'message': '[Functional] Wait for the initial state of ha router before test\n\nIn functional tests of the HA and DVR HA routers, when e.g.\nfailover is tested, we should always wait for routers to be in the\nexpected initial state (primary or backup) before router failover\nwill actually be done.\nWithout that, we may hit race condition when initial router\'s state\nis enqueued but not processed yet and then state will be changed thus\nno any action will be performed by L3 agent and test may fail.\n\nAdditionally in that patch there is ""master"" instead of ""primary"" used\nfor router state.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nCloses-Bug: #1939507\nChange-Id: Ibd8f78fc822b04965c6a79b57b13be364934f64f\n(cherry picked from commit b8ef8e722af761dd394064ab70e159aa05639e56)\n'}, {'number': 2, 'created': '2021-09-23 15:24:37.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9243c7f3668d50d13c3db000d542a774b49a9bd4', 'message': '[Functional] Wait for the initial state of ha router before test\n\nIn functional tests of the HA and DVR HA routers, when e.g.\nfailover is tested, we should always wait for routers to be in the\nexpected initial state (primary or backup) before router failover\nwill actually be done.\nWithout that, we may hit race condition when initial router\'s state\nis enqueued but not processed yet and then state will be changed thus\nno any action will be performed by L3 agent and test may fail.\n\nAdditionally in that patch there is ""master"" instead of ""primary"" used\nfor router state.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nCloses-Bug: #1939507\nChange-Id: Ibd8f78fc822b04965c6a79b57b13be364934f64f\n(cherry picked from commit b8ef8e722af761dd394064ab70e159aa05639e56)\n'}]",18,808501,9243c7f3668d50d13c3db000d542a774b49a9bd4,74,3,2,11975,,,0,"[Functional] Wait for the initial state of ha router before test

In functional tests of the HA and DVR HA routers, when e.g.
failover is tested, we should always wait for routers to be in the
expected initial state (primary or backup) before router failover
will actually be done.
Without that, we may hit race condition when initial router's state
is enqueued but not processed yet and then state will be changed thus
no any action will be performed by L3 agent and test may fail.

Additionally in that patch there is ""master"" instead of ""primary"" used
for router state.

Conflicts:
    neutron/tests/functional/agent/l3/test_dvr_router.py

Closes-Bug: #1939507
Change-Id: Ibd8f78fc822b04965c6a79b57b13be364934f64f
(cherry picked from commit b8ef8e722af761dd394064ab70e159aa05639e56)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/808501/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",2,6054d9a27565734c782e2b7dfc56ca8fe6461de9,bug/1939507-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein, common_utils.wait_until_true(lambda: router.ha_state == 'master') common_utils.wait_until_true( lambda: master_router.ha_state == 'master') common_utils.wait_until_true( lambda: backup_router.ha_state == 'backup') ,,13,0
openstack%2Fmistral~stable%2Ftrain~I7bda444d7d7017b4f42306763e180e31597248e4,openstack/mistral,stable/train,I7bda444d7d7017b4f42306763e180e31597248e4,Translating context object to string in DEBUG msg,ABANDONED,2020-12-16 17:08:42.000000000,2021-11-15 13:36:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-16 17:08:42.000000000', 'files': ['mistral/actions/openstack/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0407014b92c79e78f461ec9b095d5b83bc8c486b', 'message': 'Translating context object to string in DEBUG msg\n\nTranslating context object to string in DEBUG msg to make\ntroubleshooting of errors easier as actually we only see\nthe object adress which is not helping in solving authentication\nissue.\n\nChange-Id: I7bda444d7d7017b4f42306763e180e31597248e4\n'}]",3,767380,0407014b92c79e78f461ec9b095d5b83bc8c486b,13,1,1,7130,,,0,"Translating context object to string in DEBUG msg

Translating context object to string in DEBUG msg to make
troubleshooting of errors easier as actually we only see
the object adress which is not helping in solving authentication
issue.

Change-Id: I7bda444d7d7017b4f42306763e180e31597248e4
",git fetch https://review.opendev.org/openstack/mistral refs/changes/80/767380/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/actions.py'],1,0407014b92c79e78f461ec9b095d5b83bc8c486b,str_exception," LOG.debug(""Swift action security context: %s"", str(context))"," LOG.debug(""Swift action security context: %s"", context)",1,1
openstack%2Fhorizon~master~Ic61a3958461a4a939acc40d1039881e2d4c3a1cd,openstack/horizon,master,Ic61a3958461a4a939acc40d1039881e2d4c3a1cd,Escape unicode characters when setting logout_reason cookie,MERGED,2021-09-01 16:03:21.000000000,2021-11-15 13:26:16.000000000,2021-09-17 19:49:31.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-09-01 16:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/733581aac0dae072a175953272b8898e53260d6d', 'message': 'Escape unicode characters when setting logout_reason cookie\n\nChange-Id: Ic61a3958461a4a939acc40d1039881e2d4c3a1cd\nCloses-bug: #1894801\n'}, {'number': 2, 'created': '2021-09-01 16:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8f896110d685b221695842ed8d2645f1bb4e9c7', 'message': 'Escape unicode characters when setting logout_reason cookie\n\nChange-Id: Ic61a3958461a4a939acc40d1039881e2d4c3a1cd\nCloses-bug: #1894801\n'}, {'number': 3, 'created': '2021-09-07 13:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/604cf33705da7d0ac1aabf98e433d64e369e56c5', 'message': 'Escape unicode characters when setting logout_reason cookie\n\nChange-Id: Ic61a3958461a4a939acc40d1039881e2d4c3a1cd\nCloses-bug: #1894801\n'}, {'number': 4, 'created': '2021-09-08 14:26:40.000000000', 'files': ['horizon/templates/auth/_password_form.html', 'horizon/templates/auth/_login_form.html', 'openstack_auth/views.py', 'horizon/utils/functions.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e68e23937341d03be7475d71903f31a61403c1e2', 'message': 'Escape unicode characters when setting logout_reason cookie\n\nChange-Id: Ic61a3958461a4a939acc40d1039881e2d4c3a1cd\nCloses-bug: #1894801\n'}]",57,806949,e68e23937341d03be7475d71903f31a61403c1e2,23,5,4,8648,,,0,"Escape unicode characters when setting logout_reason cookie

Change-Id: Ic61a3958461a4a939acc40d1039881e2d4c3a1cd
Closes-bug: #1894801
",git fetch https://review.opendev.org/openstack/horizon refs/changes/49/806949/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/auth/_password_form.html', 'horizon/templates/auth/_login_form.html', 'horizon/utils/functions.py', 'openstack_auth/views.py']",4,733581aac0dae072a175953272b8898e53260d6d,cookie-logout-reason-encoding,"def set_logout_reason(res, msg): msg = msg.encode('unicode_escape').decode('ascii') res.set_cookie('logout_reason', msg, max_age=10) 'logout_reason': request.COOKIES.get( 'logout_reason', '').encode('ascii').decode('unicode_escape'), 'logout_status': request.COOKIES.get('logout_status'), set_logout_reason(res, msg) set_logout_reason(res, msg) set_logout_reason(res, msg) set_logout_reason(res, msg)"," res.set_cookie('logout_reason', msg, max_age=10) res.set_cookie('logout_reason', msg, max_age=10) res.set_cookie('logout_reason', msg, max_age=10) res.set_cookie('logout_reason', msg, max_age=10)",19,11
openstack%2Fceilometer~master~If6456e8466013440c8d2340225ff56893f0ac37d,openstack/ceilometer,master,If6456e8466013440c8d2340225ff56893f0ac37d,Deprecate support for Neutron LBaaS,MERGED,2021-11-08 14:51:01.000000000,2021-11-15 13:26:08.000000000,2021-11-15 13:24:10.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 14:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/38a3971c9f5bd1106e028c96fc01e31516ad40bc', 'message': 'Deprecate support for Neutron LBaaS\n\nThis change deprecates the remaining support for Neutron LBaaS.\nThe Neutron LBaaS project has been retired in favor of the independent\nOctavia project and the current implementation is no longer valid.\n\nChange-Id: If6456e8466013440c8d2340225ff56893f0ac37d\n'}, {'number': 2, 'created': '2021-11-08 14:56:53.000000000', 'files': ['releasenotes/notes/deprecate-neutron-lbaas-5a36406cbe44bbe3.yaml', 'ceilometer/neutron_client.py', 'ceilometer/network/services/lbaas.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8917c73964eb764c3c4beb65d3713b36938181dd', 'message': 'Deprecate support for Neutron LBaaS\n\nThis change deprecates the remaining support for Neutron LBaaS.\nThe Neutron LBaaS project has been retired in favor of the independent\nOctavia project and the current implementation is no longer valid.\n\nChange-Id: If6456e8466013440c8d2340225ff56893f0ac37d\n'}]",6,817029,8917c73964eb764c3c4beb65d3713b36938181dd,16,2,2,9816,,,0,"Deprecate support for Neutron LBaaS

This change deprecates the remaining support for Neutron LBaaS.
The Neutron LBaaS project has been retired in favor of the independent
Octavia project and the current implementation is no longer valid.

Change-Id: If6456e8466013440c8d2340225ff56893f0ac37d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/29/817029/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/neutron_client.py', 'ceilometer/network/services/lbaas.py', 'releasenotes/notes/deprecate-neutron_lbaas_version-7737aef3d5f8ff8d.yaml']",3,38a3971c9f5bd1106e028c96fc01e31516ad40bc,neutron-lbass,--- deprecations: - | Support for Neutron LBaaS has been deprecated officially. The feature has been useless since the Neutron LBaaS project was retired. ,,12,0
openstack%2Ftempest~master~I04c3d6145fbc201355d38a7a058a37791227f733,openstack/tempest,master,I04c3d6145fbc201355d38a7a058a37791227f733,Change extra_size from hardcoded 1 to CONF.volume.volume_size_extend,MERGED,2021-11-05 02:39:04.000000000,2021-11-15 13:20:38.000000000,2021-11-15 13:17:30.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-05 02:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1e7e268c370b34bd1ad826c020c3c5c4df4d90d', 'message': 'Change extra_size from hardcoded 1 to CONF.volume.volume_size\n\ntest_volume_from_snapshot has extra_size hardcoded to 1 and it expects\nthe returned size increased by 1GB. This does not work with PowerFlex\ncinder driver because PowerFlex/VxFlex OS requires volumes to be sized\nin multiples of 8GB. Even if 1GB is given, 8GB will be actually used\nwhen powerflex_round_volume_capacity = True.\n\nCloses-Bug: #1949927\nChange-Id: I04c3d6145fbc201355d38a7a058a37791227f733\n'}, {'number': 2, 'created': '2021-11-09 10:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5708f173941f6e260472866470420558d8c1db1f', 'message': 'Change extra_size from hardcoded 1 to CONF.volume.volume_size_extend\n\ntest_volume_from_snapshot has extra_size hardcoded to 1 and it expects\nthe returned size increased by 1GB. This does not work with PowerFlex\ncinder driver because PowerFlex/VxFlex OS requires volumes to be sized\nin multiples of 8GB. Even if 1GB is given, 8GB will be actually used\nwhen powerflex_round_volume_capacity = True.\n\nCloses-Bug: #1949927\nChange-Id: I04c3d6145fbc201355d38a7a058a37791227f733\n'}, {'number': 3, 'created': '2021-11-15 04:58:30.000000000', 'files': ['tempest/api/volume/test_volumes_snapshots.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0bacf984313a337cdfce49d61949e585aa134e19', 'message': 'Change extra_size from hardcoded 1 to CONF.volume.volume_size_extend\n\ntest_volume_from_snapshot has extra_size hardcoded to 1 and it expects\nthe returned size increased by 1GB. This does not work with PowerFlex\ncinder driver because PowerFlex/VxFlex OS requires volumes to be sized\nin multiples of 8GB. Even if 1GB is given, 8GB will be actually used\nwhen powerflex_round_volume_capacity = True.\n\nCloses-Bug: #1949927\nChange-Id: I04c3d6145fbc201355d38a7a058a37791227f733\n'}]",7,816779,0bacf984313a337cdfce49d61949e585aa134e19,16,2,3,14624,,,0,"Change extra_size from hardcoded 1 to CONF.volume.volume_size_extend

test_volume_from_snapshot has extra_size hardcoded to 1 and it expects
the returned size increased by 1GB. This does not work with PowerFlex
cinder driver because PowerFlex/VxFlex OS requires volumes to be sized
in multiples of 8GB. Even if 1GB is given, 8GB will be actually used
when powerflex_round_volume_capacity = True.

Closes-Bug: #1949927
Change-Id: I04c3d6145fbc201355d38a7a058a37791227f733
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/816779/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_snapshots.py'],1,c1e7e268c370b34bd1ad826c020c3c5c4df4d90d,bug/1949927, self._create_volume_from_snapshot(extra_size=CONF.volume.volume_size), self._create_volume_from_snapshot(extra_size=1),1,1
openstack%2Foslo.middleware~stable%2Fwallaby~I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7,openstack/oslo.middleware,stable/wallaby,I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7,Add new basic auth middleware,ABANDONED,2021-10-26 03:05:09.000000000,2021-11-15 13:13:52.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-10-26 03:05:09.000000000', 'files': ['oslo_middleware/tests/test_auth_basic.py', 'releasenotes/notes/basic-auth-middleware-5f812399e325425f.yaml', 'requirements.txt', 'oslo_middleware/basic_auth.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/c65e56a7af6de96f543be3d2abdee59f17e2ab98', 'message': 'Add new basic auth middleware\n\nThis adds a middleware that can be used as an alternative to noauth in\nstandalone environments.\n\nThis middleware uses a password file which supports the Apache htpasswd\nsyntax. This file is read for every request, so no service restart is\nrequired when changes are made.\n\nThe only password digest supported is bcrypt, and the ``bcrypt``\npython library is used for password checks since it supports ``$2y$``\nprefixed bcrypt passwords as generated by the Apache htpasswd utility.\n\nAdapted from I874783b8ece0eedf27a94dfed5163d0c82f8b9de.\n\nChange-Id: I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7\n(cherry picked from commit da7987ca926e9bd82ff2989a920ea9740da24f95)\n'}]",5,815365,c65e56a7af6de96f543be3d2abdee59f17e2ab98,9,3,1,8833,,,0,"Add new basic auth middleware

This adds a middleware that can be used as an alternative to noauth in
standalone environments.

This middleware uses a password file which supports the Apache htpasswd
syntax. This file is read for every request, so no service restart is
required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

Adapted from I874783b8ece0eedf27a94dfed5163d0c82f8b9de.

Change-Id: I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7
(cherry picked from commit da7987ca926e9bd82ff2989a920ea9740da24f95)
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/65/815365/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/tests/test_auth_basic.py', 'releasenotes/notes/basic-auth-middleware-5f812399e325425f.yaml', 'requirements.txt', 'oslo_middleware/basic_auth.py']",4,c65e56a7af6de96f543be3d2abdee59f17e2ab98,basic_auth-stable/wallaby,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import base64 import binascii import logging import bcrypt import webob from oslo_config import cfg from oslo_middleware import base LOG = logging.getLogger(__name__) OPTS = [ cfg.StrOpt('http_basic_auth_user_file', default='/etc/htpasswd', help=""HTTP basic auth password file."") ] cfg.CONF.register_opts(OPTS, group='oslo_middleware') class ConfigInvalid(Exception): def __init__(self, error_msg): super().__init__( 'Invalid configuration file. %(error_msg)s') class BasicAuthMiddleware(base.ConfigurableMiddleware): """"""Middleware which performs HTTP basic authentication on requests"""""" def __init__(self, application, conf=None): super().__init__(application, conf) self.auth_file = cfg.CONF.oslo_middleware.http_basic_auth_user_file validate_auth_file(self.auth_file) def format_exception(self, e): result = {'error': {'message': str(e), 'code': 401}} headers = [('Content-Type', 'application/json')] return webob.Response(content_type='application/json', status_code=401, json_body=result, headerlist=headers) @webob.dec.wsgify def __call__(self, req): try: token = parse_header(req.environ) username, password = parse_token(token) req.environ.update(authenticate( self.auth_file, username, password)) return self.application except Exception as e: response = self.format_exception(e) return self.process_response(response) def authenticate(auth_file, username, password): """"""Finds username and password match in Apache style user auth file The user auth file format is expected to comply with Apache documentation[1] however the bcrypt password digest is the *only* digest format supported. [1] https://httpd.apache.org/docs/current/misc/password_encryptions.html :param: auth_file: Path to user auth file :param: username: Username to authenticate :param: password: Password encoded as bytes :returns: A dictionary of WSGI environment values to append to the request :raises: HTTPUnauthorized, if no file entries match username/password """""" line_prefix = username + ':' try: with open(auth_file, 'r') as f: for line in f: entry = line.strip() if entry and entry.startswith(line_prefix): return auth_entry(entry, password) except OSError as exc: LOG.error('Problem reading auth file: %s', exc) raise webob.exc.HTTPBadRequest( detail='Problem reading auth file') # reached end of file with no matches LOG.info('User %s not found', username) raise webob.exc.HTTPUnauthorized() def auth_entry(entry, password): """"""Compare a password with a single user auth file entry :param: entry: Line from auth user file to use for authentication :param: password: Password encoded as bytes :returns: A dictionary of WSGI environment values to append to the request :raises: HTTPUnauthorized, if the entry doesn't match supplied password or if the entry is crypted with a method other than bcrypt """""" username, crypted = parse_entry(entry) if not bcrypt.checkpw(password, crypted): LOG.info('Password for %s does not match', username) raise webob.exc.HTTPUnauthorized() return { 'HTTP_X_USER': username, 'HTTP_X_USER_NAME': username } def validate_auth_file(auth_file): """"""Read the auth user file and validate its correctness :param: auth_file: Path to user auth file :raises: ConfigInvalid on validation error """""" try: with open(auth_file, 'r') as f: for line in f: entry = line.strip() if entry and ':' in entry: parse_entry(entry) except OSError: raise ConfigInvalid(error_msg='Problem reading auth user file') def parse_entry(entry): """"""Extrace the username and crypted password from a user auth file entry :param: entry: Line from auth user file to use for authentication :returns: a tuple of username and crypted password :raises: ConfigInvalid if the password is not in the supported bcrypt format """""" username, crypted_str = entry.split(':', maxsplit=1) crypted = crypted_str.encode('utf-8') if crypted[:4] not in (b'$2y$', b'$2a$', b'$2b$'): error_msg = ('Only bcrypt digested passwords are supported for ' '%(username)s') % {'username': username} raise webob.exc.HTTPBadRequest(detail=error_msg) return username, crypted def parse_token(token): """"""Parse the token portion of the Authentication header value :param: token: Token value from basic authorization header :returns: tuple of username, password :raises: BadRequest, if username and password could not be parsed for any reason """""" try: if isinstance(token, str): token = token.encode('utf-8') auth_pair = base64.b64decode(token, validate=True) (username, password) = auth_pair.split(b':', maxsplit=1) return (username.decode('utf-8'), password) except (TypeError, binascii.Error, ValueError) as exc: LOG.info('Could not decode authorization token: %s', exc) raise webob.exc.HTTPBadRequest(detail=( 'Could not decode authorization token')) def parse_header(env): """"""Parse WSGI environment for Authorization header of type Basic :param: env: WSGI environment to get header from :returns: Token portion of the header value :raises: HTTPUnauthorized, if header is missing or if the type is not Basic """""" try: auth_header = env.pop('HTTP_AUTHORIZATION') except KeyError: LOG.info('No authorization token received') raise webob.exc.HTTPUnauthorized() try: auth_type, token = auth_header.strip().split(maxsplit=1) except (ValueError, AttributeError) as exc: LOG.info('Could not parse Authorization header: %s', exc) raise webob.exc.HTTPBadRequest(detail=( 'Could not parse Authorization header')) if auth_type.lower() != 'basic': error_msg = ('Unsupported authorization type ""%s""') % auth_type LOG.info(error_msg) raise webob.exc.HTTPBadRequest(detail=error_msg) return token ",,390,0
openstack%2Freleases~master~I1565158578d37548d898ca5d95b3b39cac9c817d,openstack/releases,master,I1565158578d37548d898ca5d95b3b39cac9c817d,Final ussuri releases for the Cinder project,MERGED,2021-11-12 16:09:39.000000000,2021-11-15 13:08:43.000000000,2021-11-15 13:08:43.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-12 16:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/66ff2adae64747c904d7dbd2ac827a9efee5fc99', 'message': 'Final ussuri releases for the Cinder project\n\nThe stable/ussuri branch is soon to enter Extended Maintenance\nphase [0], so here are the final releases in the ussuri series:\n- cinder: release 16.4.2\n- os-brick: release 3.0.8\n- python-cinderclient: release 7.0.2\n\nThe other Cinder deliverables do not require a new release.\nFor the record, their final ussuri series versions are:\n- cinderlib: 2.1.0\n- python-brick-cinderclient-ext: 1.0.2\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025276.html\n\nChange-Id: I1565158578d37548d898ca5d95b3b39cac9c817d\n'}, {'number': 2, 'created': '2021-11-12 16:17:18.000000000', 'files': ['deliverables/ussuri/python-cinderclient.yaml', 'deliverables/ussuri/os-brick.yaml', 'deliverables/ussuri/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ce9ead97c4b8c198fda93e96c7c673d8989118fd', 'message': 'Final ussuri releases for the Cinder project\n\nThe stable/ussuri branch is soon to enter Extended Maintenance\nphase [0], so here are the final releases in the ussuri series:\n- cinder: release 16.4.2\n- os-brick: release 3.0.8\n- python-cinderclient: release 7.0.2\n\nThe other Cinder deliverables do not require a new release.\nFor the record, their final ussuri series versions are:\n- cinderlib: 2.1.0\n- python-brick-cinderclient-ext: 1.0.2\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025276.html\n\nChange-Id: I1565158578d37548d898ca5d95b3b39cac9c817d\n'}]",8,817791,ce9ead97c4b8c198fda93e96c7c673d8989118fd,15,4,2,5314,,,0,"Final ussuri releases for the Cinder project

The stable/ussuri branch is soon to enter Extended Maintenance
phase [0], so here are the final releases in the ussuri series:
- cinder: release 16.4.2
- os-brick: release 3.0.8
- python-cinderclient: release 7.0.2

The other Cinder deliverables do not require a new release.
For the record, their final ussuri series versions are:
- cinderlib: 2.1.0
- python-brick-cinderclient-ext: 1.0.2

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025276.html

Change-Id: I1565158578d37548d898ca5d95b3b39cac9c817d
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/817791/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/python-cinderclient.yaml', 'deliverables/ussuri/os-brick.yaml', 'deliverables/ussuri/cinder.yaml']",3,66ff2adae64747c904d7dbd2ac827a9efee5fc99,ussuri-final, - version: 16.4.2 projects: - repo: openstack/cinder hash: 27e053bdc840a523eb22aef86e54a2b718279ed9,,12,0
openstack%2Fopenstack-tempest-skiplist~master~I0332f25744b0dbba3de41d807efa44897624c4c6,openstack/openstack-tempest-skiplist,master,I0332f25744b0dbba3de41d807efa44897624c4c6,Remove sc10 tests from skiplist,ABANDONED,2021-11-08 09:45:59.000000000,2021-11-15 12:46:40.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-11-08 09:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e144c7a330009be5ec74043fabd3b3137e3d9efc', 'message': 'Remove sc10 tests from skiplist\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I0332f25744b0dbba3de41d807efa44897624c4c6\n'}, {'number': 2, 'created': '2021-11-10 14:24:30.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a08cca5f6def871825c4285b849480458fdd20c5', 'message': 'Remove sc10 tests from skiplist\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I0332f25744b0dbba3de41d807efa44897624c4c6\n'}]",7,816975,a08cca5f6def871825c4285b849480458fdd20c5,11,8,2,30750,,,0,"Remove sc10 tests from skiplist

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I0332f25744b0dbba3de41d807efa44897624c4c6
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/75/816975/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,e144c7a330009be5ec74043fabd3b3137e3d9efc,scenario010-branchful,, - test: 'octavia_tempest_plugin.tests.scenario.v2.test_listener.ListenerScenarioTest.test_listener_CRUD' deployment: - 'overcloud' releases: - name: 'train' reason: 'insert-headers is not a valid option for a TCP protocol listener.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1895705' jobs: - periodic-tripleo-ci-centos-8-scenario010-ovn-provider-standalone-train - test: 'octavia_tempest_plugin.tests.scenario.v2.test_listener.ListenerScenarioTest.test_listener_CRUD' deployment: - 'overcloud' releases: - name: 'ussuri' reason: 'insert-headers is not a valid option for a TCP protocol listener.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1895705' jobs: - periodic-tripleo-ci-centos-8-scenario010-ovn-provider-standalone-ussuri,0,18
openstack%2Fopenstack-ansible-os_nova~master~Iafb788f80fd401c6ce6e4576bafd06c92431bd65,openstack/openstack-ansible-os_nova,master,Iafb788f80fd401c6ce6e4576bafd06c92431bd65,Enable TLS for VNC from novncproxy to compute hosts,MERGED,2021-11-09 14:39:27.000000000,2021-11-15 12:39:24.000000000,2021-11-15 12:37:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-09 14:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0346c00c0873aa8273021f3f0bee926ac98547a5', 'message': 'Enable TLS for VNC from novncproxy to compute hosts\n\nTo secure communications from the proxy server to the compute\nnodes using VeNCrypt authentication scheme.\n\nIn a previous patch a TLS server certificate was deployed to\ncompute nodes, this patch makes use of this same server cert for\nsecuring VNC sessions on compute nodes. It is recommended that\nthis certificate be issued by a dedicated certificate authority\nsolely for the VNC service, as libvirt does not currently have a\nmechanism to restrict what certificates can be presented by the\nproxy server. This has not been implemented to reduce complexity.\n\nIn addition the noVNC proxy needs to present a client certificate\nso only approved VNC proxy servers can connect to the Compute nodes.\nThe PKI role has been used to create a client certificate for the\nnova console nodes.\n\nRelated Nova docs:\nhttps://docs.openstack.org/nova/latest/admin/remote-console-access.html\n\nTo help with the transition from from unencrypted VNC to VeNCrypt,\ninitially compute nodes auth scheme allows for both encrypted and\nunencrypted sessions using the variable `nova_vencrypt_auth_scheme`, this\nwill be removed in future releases.\n\nChange-Id: Iafb788f80fd401c6ce6e4576bafd06c92431bd65\n'}, {'number': 2, 'created': '2021-11-09 14:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/288b2bc7b3fba551eb8e4d240c3a0ed858e1a3c8', 'message': 'Enable TLS for VNC from novncproxy to compute hosts\n\nTo secure communications from the proxy server to the compute\nnodes using VeNCrypt authentication scheme.\n\nIn a previous patch a TLS server certificate was deployed to\ncompute nodes, this patch makes use of this same server cert for\nsecuring VNC sessions on compute nodes. It is recommended that\nthis certificate be issued by a dedicated certificate authority\nsolely for the VNC service, as libvirt does not currently have a\nmechanism to restrict what certificates can be presented by the\nproxy server. This has not been implemented to reduce complexity.\n\nIn addition the noVNC proxy needs to present a client certificate\nso only approved VNC proxy servers can connect to the Compute nodes.\nThe PKI role has been used to create a client certificate for the\nnova console nodes.\n\nRelated Nova docs:\nhttps://docs.openstack.org/nova/latest/admin/remote-console-access.html\n\nTo help with the transition from from unencrypted VNC to VeNCrypt,\ninitially compute nodes auth scheme allows for both encrypted and\nunencrypted sessions using the variable `nova_vencrypt_auth_scheme`, this\nwill be removed in future releases.\n\nChange-Id: Iafb788f80fd401c6ce6e4576bafd06c92431bd65\n'}, {'number': 3, 'created': '2021-11-10 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/783387ac5a4297c0e837c5df4b299e05dbc62ffa', 'message': 'Enable TLS for VNC from novncproxy to compute hosts\n\nTo secure communications from the proxy server to the compute\nnodes using VeNCrypt authentication scheme.\n\nIn a previous patch a TLS server certificate was deployed to\ncompute nodes, this patch makes use of this same server cert for\nsecuring VNC sessions on compute nodes. It is recommended that\nthis certificate be issued by a dedicated certificate authority\nsolely for the VNC service, as libvirt does not currently have a\nmechanism to restrict what certificates can be presented by the\nproxy server. This has not been implemented to reduce complexity.\n\nIn addition the noVNC proxy needs to present a client certificate\nso only approved VNC proxy servers can connect to the Compute nodes.\nThe PKI role has been used to create a client certificate for the\nnova console nodes.\n\nRelated Nova docs:\nhttps://docs.openstack.org/nova/latest/admin/remote-console-access.html\n\nTo help with the transition from from unencrypted VNC to VeNCrypt,\ninitially compute nodes auth scheme allows for both encrypted and\nunencrypted sessions using the variable `nova_vencrypt_auth_scheme`, this\nwill be removed in future releases.\n\nChange-Id: Iafb788f80fd401c6ce6e4576bafd06c92431bd65\n'}, {'number': 4, 'created': '2021-11-11 14:23:48.000000000', 'files': ['tasks/main.yml', 'templates/nova.conf.j2', 'releasenotes/notes/VNC-proxy-security-520e6dac6bad0018.yaml', 'templates/qemu.conf.j2', 'handlers/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2b8d5a0b88b8109ddb2b047bb88ee75c37698645', 'message': 'Enable TLS for VNC from novncproxy to compute hosts\n\nTo secure communications from the proxy server to the compute\nnodes using VeNCrypt authentication scheme.\n\nIn a previous patch a TLS server certificate was deployed to\ncompute nodes, this patch makes use of this same server cert for\nsecuring VNC sessions on compute nodes. It is recommended that\nthis certificate be issued by a dedicated certificate authority\nsolely for the VNC service, as libvirt does not currently have a\nmechanism to restrict what certificates can be presented by the\nproxy server. This has not been implemented to reduce complexity.\n\nIn addition the noVNC proxy needs to present a client certificate\nso only approved VNC proxy servers can connect to the Compute nodes.\nThe PKI role has been used to create a client certificate for the\nnova console nodes.\n\nRelated Nova docs:\nhttps://docs.openstack.org/nova/latest/admin/remote-console-access.html\n\nTo help with the transition from from unencrypted VNC to VeNCrypt,\ninitially compute nodes auth scheme allows for both encrypted and\nunencrypted sessions using the variable `nova_vencrypt_auth_scheme`, this\nwill be removed in future releases.\n\nChange-Id: Iafb788f80fd401c6ce6e4576bafd06c92431bd65\n'}]",2,817222,2b8d5a0b88b8109ddb2b047bb88ee75c37698645,18,3,4,31749,,,0,"Enable TLS for VNC from novncproxy to compute hosts

To secure communications from the proxy server to the compute
nodes using VeNCrypt authentication scheme.

In a previous patch a TLS server certificate was deployed to
compute nodes, this patch makes use of this same server cert for
securing VNC sessions on compute nodes. It is recommended that
this certificate be issued by a dedicated certificate authority
solely for the VNC service, as libvirt does not currently have a
mechanism to restrict what certificates can be presented by the
proxy server. This has not been implemented to reduce complexity.

In addition the noVNC proxy needs to present a client certificate
so only approved VNC proxy servers can connect to the Compute nodes.
The PKI role has been used to create a client certificate for the
nova console nodes.

Related Nova docs:
https://docs.openstack.org/nova/latest/admin/remote-console-access.html

To help with the transition from from unencrypted VNC to VeNCrypt,
initially compute nodes auth scheme allows for both encrypted and
unencrypted sessions using the variable `nova_vencrypt_auth_scheme`, this
will be removed in future releases.

Change-Id: Iafb788f80fd401c6ce6e4576bafd06c92431bd65
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/22/817222/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/nova.conf.j2', 'releasenotes/notes/VNC-proxy-security-520e6dac6bad0018.yaml', 'templates/qemu.conf.j2', 'handlers/main.yml', 'defaults/main.yml']",6,0346c00c0873aa8273021f3f0bee926ac98547a5,tls-vnc,"# Enable TLS on VNC connection from novnc to compute hosts nova_qemu_vnc_tls: 1 nova_vencrypt_client_key: ""/etc/pki/nova-novncproxy/client-key.pem"" nova_vencrypt_client_cert: ""/etc/pki/nova-novncproxy/client-cert.pem"" nova_vencrypt_ca_certs: ""/etc/pki/nova-novncproxy/ca-cert.pem"" # The auth_schemes values should be listed in order of preference. # If enabling VeNCrypt on an existing deployment which already has instances running, # the noVNC proxy server must initially be allowed to use vencrypt and none. # Once it is confirmed that all Compute nodes have VeNCrypt enabled for VNC, # it is possible to remove the none option from the list nova_vencrypt_auth_scheme: ""vencrypt,none"" # This certiticate is used to secure TLS live migrations and VNC sessions nova_pki_compute_certificates:# Installation details for SSL certificates for compute hosts TLS live migration nova_pki_compute_install_certificates: # TLS certficates for console hosts nova_pki_console_certificates: # Client certificate used by novnv proxy to authenticate with compute hosts using vencrypt - name: ""nova_{{ ansible_facts['hostname'] }}-client"" provider: ownca cn: ""{{ ansible_facts['nodename'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',DNS:' ~ ansible_facts['nodename'] ~ ',IP:' ~ (nova_management_address == 'localhost') | ternary('127.0.0.1', nova_management_address) }}"" signed_by: ""{{ nova_pki_intermediate_cert_name }}"" key_usage: - digitalSignature - keyAgreement - keyEncipherment extended_key_usage: - clientAuth # Installation details for SSL certificates for console hosts nova_pki_console_install_certificates: - src: ""{{ nova_user_ssl_cert | default(nova_pki_certs_path ~ 'nova_' ~ ansible_facts['hostname'] ~ '-client-chain.crt') }}"" dest: ""{{ nova_vencrypt_client_cert }}"" owner: ""root"" group: ""root"" mode: ""0640"" - src: ""{{ nova_user_ssl_key | default(nova_pki_keys_path ~ 'nova_' ~ ansible_facts['hostname'] ~ '-client.key.pem') }}"" dest: ""{{ nova_vencrypt_client_key }}"" owner: ""root"" group: ""root"" mode: ""0600"" - src: ""{{ nova_user_ssl_ca_cert | default(nova_pki_intermediate_chain_path) }}"" dest: ""{{ nova_vencrypt_ca_certs }}"" owner: ""root"" group: ""root"" mode: ""0640""",# This certiticate is used during TLS live migrations nova_pki_certificates:# Installation details for SSL certificates for TLS live migration nova_pki_install_certificates: # Server certificate used by libvirt for live migrations,109,9
openstack%2Fnova~master~I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3,openstack/nova,master,I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3,WIP: Cyborg suspend/resume support,NEW,2020-05-21 12:36:09.000000000,2021-11-15 12:37:30.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28748}, {'_account_id': 29963}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-05-21 12:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b605d5c4b952845c31e3cef5e9ce21c869166c70', 'message': ""WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a resume.\n\nOn suspend an instance will be deleted the instance's ARQs\nbinding info to free up the bound ARQs in Cyborg service.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the arq_uuids.\nThis eliminates the need to lookup the uuids associated with the arqs\nassinged to the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n""}, {'number': 2, 'created': '2020-05-25 09:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70b97fd2993cd7c4bf21c5f0831075dd02c2b8a0', 'message': ""WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a resume.\n\nOn suspend an instance will be deleted the instance's ARQs\nbinding info to free up the bound ARQs in Cyborg service.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the arq_uuids.\nThis eliminates the need to lookup the uuids associated with the arqs\nassinged to the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n""}, {'number': 3, 'created': '2020-05-25 10:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c359e150f4796094dbe9ed25ac407b69437a6f0', 'message': ""WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a resume.\n\nOn suspend an instance will be deleted the instance's ARQs\nbinding info to free up the bound ARQs in Cyborg service.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the arq_uuids.\nThis eliminates the need to lookup the uuids associated with the arqs\nassinged to the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n""}, {'number': 4, 'created': '2020-05-26 01:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f905f109c290b9cda15ddd046050f9717db8c7a', 'message': 'WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a\nsuspend and resume.\n\nOn suspend just need to be exteded to hot unplug the acclerators,\nand on resume just need to hot plug them.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the ``accel_info``, which is the ARQs info\nassociated with the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n'}, {'number': 5, 'created': '2020-05-26 07:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57bcc0cca4ccd00983ba8f4c8ac65c68202a0d0b', 'message': 'WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a\nsuspend and resume.\n\nOn suspend just need to be exteded to hot unplug the acclerators,\nand on resume just need to hot plug them.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the ``accel_info``, which is the ARQs info\nassociated with the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n'}, {'number': 6, 'created': '2020-09-23 06:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1de5365ca1810abdc856e43dad57a799a2c498e', 'message': 'WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a\nsuspend and resume.\n\nOn suspend just need to be exteded to hot unplug the acclerators,\nand on resume just need to hot plug them.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the ``accel_info``, which is the ARQs info\nassociated with the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n'}, {'number': 7, 'created': '2020-09-23 06:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0b6a54f1fe52cad90e062bd3553b3a281bc5f1a', 'message': 'WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a\nsuspend and resume.\n\nOn suspend just need to be exteded to hot unplug the acclerators,\nand on resume just need to hot plug them.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the ``accel_info``, which is the ARQs info\nassociated with the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n'}, {'number': 8, 'created': '2020-11-13 00:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2101c2ae4b5f6615d020593f9679300db55c75b', 'message': 'WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a\nsuspend and resume.\n\nOn suspend just need to be exteded to hot unplug the acclerators,\nand on resume just need to hot plug them.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the ``accel_info``, which is the ARQs info\nassociated with the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n'}, {'number': 9, 'created': '2021-11-15 10:25:37.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/objects/service.py', 'api-guide/source/accelerator-support.rst', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57c4a848fb7244c1be54c88e83a53d3782dae04e', 'message': 'WIP: Cyborg suspend/resume support\n\nThis change extends the compute manager to append the cyborg\nresource request to the libvirt driver when performing a\nsuspend and resume.\n\nOn suspend just need to be exteded to hot unplug the acclerators,\nand on resume just need to hot plug them.\n\nThis change extends the ``suspend_instance`` and ``resume_instance``\nrpcapi function to carry the ``accel_info``, which is the ARQs info\nassociated with the instance by quering Cyborg.\n\nImplements: blueprint cyborg-suspend-and-resume\nChange-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3\n'}]",17,729945,57c4a848fb7244c1be54c88e83a53d3782dae04e,67,13,9,26458,,,0,"WIP: Cyborg suspend/resume support

This change extends the compute manager to append the cyborg
resource request to the libvirt driver when performing a
suspend and resume.

On suspend just need to be exteded to hot unplug the acclerators,
and on resume just need to hot plug them.

This change extends the ``suspend_instance`` and ``resume_instance``
rpcapi function to carry the ``accel_info``, which is the ARQs info
associated with the instance by quering Cyborg.

Implements: blueprint cyborg-suspend-and-resume
Change-Id: I1ae9c4b1c9525a3fc05fb696ee502fcc3c5271d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/729945/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/objects/service.py', 'api-guide/source/accelerator-support.rst', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py']",6,b605d5c4b952845c31e3cef5e9ce21c869166c70,bp/cyborg-suspend-and-resume," @block_accelerators(until_service=54) accel_uuids = [] device_profile = instance.flavor.extra_specs.get( 'accel:device_profile') if device_profile: cyclient = cyborg.get_client(context) accel_uuids = [arq['uuid'] for arq in cyclient.get_arqs_for_instance(instance.uuid)] self.compute_rpcapi.suspend_instance(context, instance, accel_uuids=accel_uuids) accel_uuids = [] device_profile = instance.flavor.extra_specs.get( 'accel:device_profile') if device_profile: cyclient = cyborg.get_client(context) accel_uuids = [arq['uuid'] for arq in cyclient.get_arqs_for_instance(instance.uuid)] self.compute_rpcapi.resume_instance(context, instance, accel_uuids=accel_uuids)"," @block_accelerators() self.compute_rpcapi.suspend_instance(context, instance) self.compute_rpcapi.resume_instance(context, instance)",87,20
openstack%2Fironic~bugfix%2F18.1~I91e9ba3024a85897aeead21cede57464294b409b,openstack/ironic,bugfix/18.1,I91e9ba3024a85897aeead21cede57464294b409b,Fix idrac-wsman deploy with existing non-BIOS jobs,MERGED,2021-11-09 13:27:25.000000000,2021-11-15 12:14:16.000000000,2021-11-15 12:11:56.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-11-09 13:27:25.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa4cc785760e2d9d3fdebf1db8662aa30105f884', 'message': 'Fix idrac-wsman deploy with existing non-BIOS jobs\n\nAs with WS-Man iDRAC API setting boot device requires creating BIOS\njob and there can be only 1 open job per subsystem present in iDRAC,\nthere is validation to check that the job queue is empty before\ncontinuing setting boot device. This does not work well for cases when\nusing autoupdatescheduler that creates `Repository Update` job that\nstays Scheduled until executed and then followed by new Scheduled\n`Repository Update` job.\n\nThis patch allows non-BIOS jobs to be present in the queue when setting\nboot device. This will still fail for cases when there are BIOS jobs\npresent. In such cases should consider moving to idrac-redfish that\ndoes not create BIOS or any other job to set boot device.\n\nStory: 2009251\nTask: 43437\nChange-Id: I91e9ba3024a85897aeead21cede57464294b409b\n(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)\n'}]",2,817107,fa4cc785760e2d9d3fdebf1db8662aa30105f884,22,3,1,23851,,,0,"Fix idrac-wsman deploy with existing non-BIOS jobs

As with WS-Man iDRAC API setting boot device requires creating BIOS
job and there can be only 1 open job per subsystem present in iDRAC,
there is validation to check that the job queue is empty before
continuing setting boot device. This does not work well for cases when
using autoupdatescheduler that creates `Repository Update` job that
stays Scheduled until executed and then followed by new Scheduled
`Repository Update` job.

This patch allows non-BIOS jobs to be present in the queue when setting
boot device. This will still fail for cases when there are BIOS jobs
present. In such cases should consider moving to idrac-redfish that
does not create BIOS or any other job to set boot device.

Story: 2009251
Task: 43437
Change-Id: I91e9ba3024a85897aeead21cede57464294b409b
(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/817107/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml']",3,fa4cc785760e2d9d3fdebf1db8662aa30105f884,wsman-reboot-bugfix/18.1,"--- fixes: - | Fixes ``idrac-wsman`` management interface ``set_boot_device`` method that would fail deployment when there are existing jobs present with error ""Failed to change power state to ''power on'' by ''rebooting''. Error: DRAC operation failed. Reason: Unfinished config jobs found: <list of existing jobs>. Make sure they are completed before retrying."". Now there can be non-BIOS jobs present during deployment. This will still fail for cases when there are BIOS jobs present. In such cases should consider moving to ``idrac-redfish`` that does not have this limitation when setting boot device.",,19,4
openstack%2Fcharm-magpie~master~Id088c6b2f14a06e4b3aace06a75db8be2853af6a,openstack/charm-magpie,master,Id088c6b2f14a06e4b3aace06a75db8be2853af6a,Fix a typo in the README file,MERGED,2021-10-08 08:15:55.000000000,2021-11-15 12:07:33.000000000,2021-11-15 12:07:33.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-08 08:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/383ed41ddf93c5e3349a040a8911d3b021a4eb5a', 'message': 'Fix a typo in the README file.\nThe fix is to remove a duplicated word ""actions"" from the overview part of the README file.\n\nChange-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a\n'}, {'number': 2, 'created': '2021-10-11 07:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/c27255d21a88ed73ee1c6707d788472b2a291221', 'message': 'Fix a typo in the README file.\nThe fix is to remove a duplicated word ""actions"" from the overview part of the README file.\n\nChange-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a\n'}, {'number': 3, 'created': '2021-10-14 14:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/283d9f5deee942e652e5b85efd10c44e3806f5a9', 'message': 'Fix a typo in the README file\n\nThe fix is to remove a duplicated word ""actions"" from the overview part of the README file.\n\nChange-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a\n'}, {'number': 4, 'created': '2021-10-15 11:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/67208d791ffdf38b59d759356a1a9f0d2ddfd4a5', 'message': 'Fix a typo in the README file\n\nThe fix is to remove a duplicated word ""actions"" from the overview\npart of the README file.\n\nChange-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a\n'}, {'number': 5, 'created': '2021-10-20 11:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/42c6e4013b63045e3af2713adda9e3e47e72749f', 'message': 'Fix a typo in the README file\n\nThe fix is to remove a duplicated word ""actions"" from the overview\npart of the README file.\n\nChange-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a\n'}, {'number': 6, 'created': '2021-11-15 10:39:15.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/bf2ab402d57a005879aab14eadf43ac28555ad18', 'message': 'Fix a typo in the README file\n\nThe fix is to remove a duplicated word ""actions"" from the overview\npart of the README file.\n\nChange-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a\n'}]",8,813143,bf2ab402d57a005879aab14eadf43ac28555ad18,30,4,6,34063,,,0,"Fix a typo in the README file

The fix is to remove a duplicated word ""actions"" from the overview
part of the README file.

Change-Id: Id088c6b2f14a06e4b3aace06a75db8be2853af6a
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/43/813143/3 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,383ed41ddf93c5e3349a040a8911d3b021a4eb5a,fixing-the-typo-in-readme,"All actions, strings and queries are logged in the juju logs.","All actions, strings, queries and actions are logged in the juju logs.",1,1
openstack%2Fneutron~stable%2Fwallaby~If2403803f8085d3f7d0f5db4b5629795e0e5a9f2,openstack/neutron,stable/wallaby,If2403803f8085d3f7d0f5db4b5629795e0e5a9f2,"Revert ""Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list""",ABANDONED,2021-11-14 18:47:50.000000000,2021-11-15 12:06:22.000000000,,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 20870}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-14 18:47:50.000000000', 'files': ['neutron/common/ovn/extensions.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab857352bb7513bdba660c7b5ea26f2bee62749c', 'message': 'Revert ""Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list""\n\nThis reverts commit dbde4d99794eeb47a2792dda798c96062cd2e368.\n\nReason for revert: possible impact https://bugs.launchpad.net/tripleo/+bug/1950815\n\nChange-Id: If2403803f8085d3f7d0f5db4b5629795e0e5a9f2\n'}]",1,817837,ab857352bb7513bdba660c7b5ea26f2bee62749c,7,6,1,9976,,,0,"Revert ""Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list""

This reverts commit dbde4d99794eeb47a2792dda798c96062cd2e368.

Reason for revert: possible impact https://bugs.launchpad.net/tripleo/+bug/1950815

Change-Id: If2403803f8085d3f7d0f5db4b5629795e0e5a9f2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/817837/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/extensions.py', 'neutron/services/ovn_l3/plugin.py']",2,ab857352bb7513bdba660c7b5ea26f2bee62749c,,"from neutron_lib.api.definitions import dns as dns_apideffrom neutron_lib.api import extensions as api_extensions @staticmethod def disable_dns_extension_by_extension_drivers(aliases): core_plugin = directory.get_plugin() if not api_extensions.is_extension_supported( core_plugin, dns_apidef.ALIAS): aliases.remove(dns_apidef.ALIAS) self.disable_dns_extension_by_extension_drivers(self._aliases)",,10,1
openstack%2Freleases~master~If9fb38c926821ab1a99ae5c6eb2f1503ac34ab06,openstack/releases,master,If9fb38c926821ab1a99ae5c6eb2f1503ac34ab06,[manila] Release manila 10.2.0,MERGED,2021-11-03 20:10:27.000000000,2021-11-15 12:00:24.000000000,2021-11-15 12:00:24.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 20:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f6abfb65b87cf2ca10ce097c4eba2552b6246bca', 'message': '[manila] Release manila 10.1.1\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/ussuri branch.\n\nChange-Id: If9fb38c926821ab1a99ae5c6eb2f1503ac34ab06\n'}, {'number': 2, 'created': '2021-11-08 22:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b3ae6261d11c016a1bc6dad8db12c7b078b28c54', 'message': '[manila] Release manila 10.1.1\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/ussuri branch.\n\nChange-Id: If9fb38c926821ab1a99ae5c6eb2f1503ac34ab06\n'}, {'number': 3, 'created': '2021-11-08 22:11:01.000000000', 'files': ['deliverables/ussuri/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/84085d99b69af8aefd363dba30585e642a4cb08e', 'message': '[manila] Release manila 10.2.0\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/ussuri branch.\n\nChange-Id: If9fb38c926821ab1a99ae5c6eb2f1503ac34ab06\n'}]",7,816557,84085d99b69af8aefd363dba30585e642a4cb08e,18,4,3,29632,,,0,"[manila] Release manila 10.2.0

This release includes several bugfixes and enhancements committed
against the stable/ussuri branch.

Change-Id: If9fb38c926821ab1a99ae5c6eb2f1503ac34ab06
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/816557/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/manila.yaml'],1,f6abfb65b87cf2ca10ce097c4eba2552b6246bca,manila, - version: 10.1.1 projects: - repo: openstack/manila hash: ad152a4717e66e19d0ad1bb209081cb7d61741b4,,4,0
openstack%2Freleases~master~I199de533f25336a6062b77cf132da0c424dc24e6,openstack/releases,master,I199de533f25336a6062b77cf132da0c424dc24e6,[searchlight] Transition Ussuri to EM,MERGED,2021-11-11 17:28:34.000000000,2021-11-15 11:58:59.000000000,2021-11-15 11:58:59.000000000,"[{'_account_id': 5314}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-11 17:28:34.000000000', 'files': ['deliverables/ussuri/python-searchlightclient.yaml', 'deliverables/ussuri/searchlight.yaml', 'deliverables/ussuri/searchlight-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3c391674a1e9c9cf34e2701154e9fc552c4c8871', 'message': '[searchlight] Transition Ussuri to EM\n\nThis transition the ussuri branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I199de533f25336a6062b77cf132da0c424dc24e6\n'}]",3,817614,3c391674a1e9c9cf34e2701154e9fc552c4c8871,8,4,1,17685,,,0,"[searchlight] Transition Ussuri to EM

This transition the ussuri branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I199de533f25336a6062b77cf132da0c424dc24e6
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/817614/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/python-searchlightclient.yaml', 'deliverables/ussuri/searchlight-ui.yaml', 'deliverables/ussuri/searchlight.yaml']",3,3c391674a1e9c9cf34e2701154e9fc552c4c8871,ussuri-em, - version: ussuri-em projects: - repo: openstack/searchlight hash: 395df5034091e7a7d53cc6c63d2687871d3b9d95,,12,0
openstack%2Freleases~master~I4716f20d70c3db9f49bf544a9aabfdd01dd2e8f7,openstack/releases,master,I4716f20d70c3db9f49bf544a9aabfdd01dd2e8f7,[zun] Transition Ussuri to EM,MERGED,2021-11-11 17:41:34.000000000,2021-11-15 11:58:56.000000000,2021-11-15 11:58:56.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-11 17:41:34.000000000', 'files': ['deliverables/ussuri/zun-ui.yaml', 'deliverables/ussuri/python-zunclient.yaml', 'deliverables/ussuri/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1e8212befa9d987a095f36a04aa8a72901c753b4', 'message': '[zun] Transition Ussuri to EM\n\nThis transition the ussuri branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I4716f20d70c3db9f49bf544a9aabfdd01dd2e8f7\n'}]",1,817630,1e8212befa9d987a095f36a04aa8a72901c753b4,9,4,1,17685,,,0,"[zun] Transition Ussuri to EM

This transition the ussuri branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I4716f20d70c3db9f49bf544a9aabfdd01dd2e8f7
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/817630/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/zun-ui.yaml', 'deliverables/ussuri/python-zunclient.yaml', 'deliverables/ussuri/zun.yaml']",3,1e8212befa9d987a095f36a04aa8a72901c753b4,ussuri-em, - version: ussuri-em projects: - repo: openstack/zun hash: 5d41a395f0b8a02c7c5970f4b54d77c22d548986,,12,0
openstack%2Freleases~master~I82985cdf442d9d0184e36f503f9e15a627a4b782,openstack/releases,master,I82985cdf442d9d0184e36f503f9e15a627a4b782,[neutron] Transition Ussuri to EM,MERGED,2021-11-11 17:21:02.000000000,2021-11-15 11:55:00.000000000,2021-11-15 11:55:00.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-11 17:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cd88d469791b4a3a121d155aaa660a50915a7a7e', 'message': '[neutron] Transition Ussuri to EM\n\nThis transition the ussuri branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I82985cdf442d9d0184e36f503f9e15a627a4b782\n'}, {'number': 2, 'created': '2021-11-14 09:07:01.000000000', 'files': ['deliverables/ussuri/networking-sfc.yaml', 'deliverables/ussuri/neutron-vpnaas-dashboard.yaml', 'deliverables/ussuri/os-ken.yaml', 'deliverables/ussuri/ovn-octavia-provider.yaml', 'deliverables/ussuri/ovsdbapp.yaml', 'deliverables/ussuri/neutron-lib.yaml', 'deliverables/ussuri/neutron-fwaas.yaml', 'deliverables/ussuri/neutron-vpnaas.yaml', 'deliverables/ussuri/neutron.yaml', 'deliverables/ussuri/neutron-fwaas-dashboard.yaml', 'deliverables/ussuri/python-neutronclient.yaml', 'deliverables/ussuri/networking-odl.yaml', 'deliverables/ussuri/networking-midonet.yaml', 'deliverables/ussuri/networking-bagpipe.yaml', 'deliverables/ussuri/networking-bgpvpn.yaml', 'deliverables/ussuri/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/26ebddada12c722d0beabff9b85eadf9c9bfd43c', 'message': '[neutron] Transition Ussuri to EM\n\nThis transition the ussuri branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I82985cdf442d9d0184e36f503f9e15a627a4b782\n'}]",4,817605,26ebddada12c722d0beabff9b85eadf9c9bfd43c,13,6,2,17685,,,0,"[neutron] Transition Ussuri to EM

This transition the ussuri branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I82985cdf442d9d0184e36f503f9e15a627a4b782
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/817605/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/networking-sfc.yaml', 'deliverables/ussuri/neutron-vpnaas-dashboard.yaml', 'deliverables/ussuri/os-ken.yaml', 'deliverables/ussuri/ovn-octavia-provider.yaml', 'deliverables/ussuri/ovsdbapp.yaml', 'deliverables/ussuri/neutron-lib.yaml', 'deliverables/ussuri/neutron-fwaas.yaml', 'deliverables/ussuri/neutron-vpnaas.yaml', 'deliverables/ussuri/neutron.yaml', 'deliverables/ussuri/neutron-fwaas-dashboard.yaml', 'deliverables/ussuri/python-neutronclient.yaml', 'deliverables/ussuri/networking-odl.yaml', 'deliverables/ussuri/networking-midonet.yaml', 'deliverables/ussuri/networking-bagpipe.yaml', 'deliverables/ussuri/networking-bgpvpn.yaml', 'deliverables/ussuri/neutron-dynamic-routing.yaml']",16,cd88d469791b4a3a121d155aaa660a50915a7a7e,ussuri-em, - version: ussuri-em projects: - repo: openstack/neutron-dynamic-routing hash: 31ea570fee8a4b5b7713aa9056c668d41b48ff82,,64,0
openstack%2Fneutron~master~Iae946d0194ab82e8b9aeaa005532c8540a20a0a4,openstack/neutron,master,Iae946d0194ab82e8b9aeaa005532c8540a20a0a4,Document the effects of admin_state_up,MERGED,2021-11-04 17:10:45.000000000,2021-11-15 11:49:31.000000000,2021-11-15 11:45:58.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 17:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bb850b7e02d7641f8aab5f8810e23a4838a9c3d', 'message': 'Document admin_state_up\n\nChange-Id: Iae946d0194ab82e8b9aeaa005532c8540a20a0a4\nRelated-bug: #1949202\n'}, {'number': 2, 'created': '2021-11-05 14:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/924b23eaafaec9faf05304fe0de2b5b8e40627eb', 'message': 'Document the effects of admin_state_up\n\nChange-Id: Iae946d0194ab82e8b9aeaa005532c8540a20a0a4\nRelated-bug: #1949202\n'}, {'number': 3, 'created': '2021-11-08 12:42:10.000000000', 'files': ['doc/source/admin/config-services-agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bb54a9c46fc5ed06b0cb19b415f67dfc7d994dc', 'message': 'Document the effects of admin_state_up\n\nChange-Id: Iae946d0194ab82e8b9aeaa005532c8540a20a0a4\nRelated-bug: #1949202\n'}]",4,816725,2bb54a9c46fc5ed06b0cb19b415f67dfc7d994dc,20,3,3,8313,,,0,"Document the effects of admin_state_up

Change-Id: Iae946d0194ab82e8b9aeaa005532c8540a20a0a4
Related-bug: #1949202
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/816725/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-services-agent.rst'],1,3bb850b7e02d7641f8aab5f8810e23a4838a9c3d,bug/1949202,"Agent's admin state specific config options ------------------------------------------- When creating a new agent the ``admin_state_up`` field will be set to the value of ``enable_new_agents``, the default value of this config option is true: .. code-block:: ini [DEFAULT] enable_new_agents = true It is possible to set the ``admin_state_up`` value of an agent to ``False`` via the API, or CLI: .. code-block:: console $ openstack network agent set agent-uuid --disable The effect of this varies by agent type: L2 agents ~~~~~~~~~ The ``admin_state_up`` field of the agent in the Neutron database is set to ``False``, but the agent is still capable of binding ports. This is true for openvswitch-agent, linuxbridge-agent, and sriov-agent. .. note:: In case of OVN based deployment Neutron keeps track of OVN controllers in the ``agents`` db table, but setting the ``admin_state_up`` is not allowed as Neutron has no control over OVN entities. Metadata agent ~~~~~~~~~~~~~~ Setting ``admin_state_up`` to False has no effect to the Metadata agent. L3 and DHCP agents ~~~~~~~~~~~~~~~~~~ ",,44,0
openstack%2Fneutron~stable%2Fwallaby~Icb92327a06486e168ce064532d819347e6031cc1,openstack/neutron,stable/wallaby,Icb92327a06486e168ce064532d819347e6031cc1,Delete log entries when SG or port is deleted,MERGED,2021-10-25 13:25:51.000000000,2021-11-15 11:47:51.000000000,2021-11-15 11:45:53.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 13:25:51.000000000', 'files': ['neutron/tests/unit/services/logapi/test_logging_plugin.py', 'neutron/services/logapi/common/sg_callback.py', 'neutron/services/logapi/common/db_api.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/services/logapi/logging_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5fd9f035ac38dde75e5cf89a062387d4d5512fc', 'message': 'Delete log entries when SG or port is deleted\n\nNOTE: this patch is an ammend of [1].\n\nWhen a SG or a port is deleted, the related log entry should be\ntoo. A log entry has the following fields:\n- log.resource_id = SG ID\n- log.target_id = port ID\n\n[1] was deleting all log entries, related or not with the SG ID\ndeleted. This is because ""get_logs_bound_sg"" returned all log entries,\nincluding those ones without any ""resource_id"" or ""target_id"".\n\nNow this method can return only the log entries related to a port or\na SG, excluding those ones without those two parameters populated.\n\nCloses-Bug: #1939558\n\n[1]https://review.opendev.org/c/openstack/neutron/+/804237\n\nChange-Id: Icb92327a06486e168ce064532d819347e6031cc1\n(cherry picked from commit 41f78c678bcc164cd77ed7302bacf086d24ab28c)\n(cherry picked from commit 2c4ab468ae53533db236809afaf0dd5f593db4dc)\n'}]",2,815298,d5fd9f035ac38dde75e5cf89a062387d4d5512fc,18,4,1,11975,,,0,"Delete log entries when SG or port is deleted

NOTE: this patch is an ammend of [1].

When a SG or a port is deleted, the related log entry should be
too. A log entry has the following fields:
- log.resource_id = SG ID
- log.target_id = port ID

[1] was deleting all log entries, related or not with the SG ID
deleted. This is because ""get_logs_bound_sg"" returned all log entries,
including those ones without any ""resource_id"" or ""target_id"".

Now this method can return only the log entries related to a port or
a SG, excluding those ones without those two parameters populated.

Closes-Bug: #1939558

[1]https://review.opendev.org/c/openstack/neutron/+/804237

Change-Id: Icb92327a06486e168ce064532d819347e6031cc1
(cherry picked from commit 41f78c678bcc164cd77ed7302bacf086d24ab28c)
(cherry picked from commit 2c4ab468ae53533db236809afaf0dd5f593db4dc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/815298/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/logapi/test_logging_plugin.py', 'neutron/services/logapi/common/sg_callback.py', 'neutron/services/logapi/common/db_api.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/services/logapi/logging_plugin.py']",5,d5fd9f035ac38dde75e5cf89a062387d4d5512fc,bug/1939558-stable/wallaby,"@registry.has_registry_receivers def _clean_logs(self, context, sg_id=None, port_id=None): with db_api.CONTEXT_WRITER.using(context): sg_logs = log_db_api.get_logs_bound_sg( context, sg_id=sg_id, port_id=port_id, exclusive=True) @registry.receives(resources.SECURITY_GROUP, [events.AFTER_DELETE]) def _clean_logs_by_resource_id(self, resource, event, trigger, payload): # log.resource_id == SG self._clean_logs(payload.context.elevated(), sg_id=payload.resource_id) @registry.receives(resources.PORT, [events.AFTER_DELETE]) def _clean_logs_by_target_id(self, resource, event, trigger, payload): # log.target_id == port self._clean_logs(payload.context.elevated(), port_id=payload.resource_id) "," registry.subscribe( self._clean_security_group_logs, resources.SECURITY_GROUP, events.AFTER_DELETE) def _clean_security_group_logs(self, resource, event, trigger, payload): context = payload.context.elevated() sg_id = payload.resource_id with db_api.CONTEXT_WRITER.using(context): sg_logs = log_db_api.get_logs_bound_sg(context, sg_id)",90,75
openstack%2Fneutron~master~I9dbb02a4bdb7435541a3438dceb3a5b2ecae6dfa,openstack/neutron,master,I9dbb02a4bdb7435541a3438dceb3a5b2ecae6dfa,Unify the states format for address group payloads,MERGED,2021-10-27 00:25:13.000000000,2021-11-15 11:47:47.000000000,2021-11-15 11:45:48.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-10-27 00:25:13.000000000', 'files': ['neutron/db/address_group_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02b72f7c961ef8f84d1a5a22f08464ff6ea7b482', 'message': ""Unify the states format for address group payloads\n\nThis patch removes the additional key 'address_group' from the new\nstates of the address group's address update callback payloads. So that all\nthe address group callbacks will have similar states format in the payloads.\n\nChange-Id: I9dbb02a4bdb7435541a3438dceb3a5b2ecae6dfa\n""}]",24,815575,02b72f7c961ef8f84d1a5a22f08464ff6ea7b482,134,4,1,28159,,,0,"Unify the states format for address group payloads

This patch removes the additional key 'address_group' from the new
states of the address group's address update callback payloads. So that all
the address group callbacks will have similar states format in the payloads.

Change-Id: I9dbb02a4bdb7435541a3438dceb3a5b2ecae6dfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/815575/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/address_group_db.py'],1,02b72f7c961ef8f84d1a5a22f08464ff6ea7b482,ag-payload," states=(original_address_group, ag_dict['address_group'],))) states=(original_address_group, ag_dict['address_group'],)))"," states=(original_address_group, ag_dict,))) states=(original_address_group, ag_dict,)))",4,2
openstack%2Ftraining-guides~master~I21ec3dde83a1c11b9611b3cc1df6c3f0d14d5cae,openstack/training-guides,master,I21ec3dde83a1c11b9611b3cc1df6c3f0d14d5cae,Remove retired training-labs repo,MERGED,2021-11-11 02:19:22.000000000,2021-11-15 11:30:58.000000000,2021-11-15 11:28:32.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-11 02:19:22.000000000', 'files': ['labs/README.md', 'doc/upstream-training/source/slides/docs.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/b7f1817902769f5d92dbb8522652af7687bb22bd', 'message': 'Remove retired training-labs repo\n\ntraining-labs repo is retired now[1], this\ncommit removes the reference of it.\n\nDepends-On: https://review.opendev.org/c/openstack/training-labs/+/817505\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html\n\nChange-Id: I21ec3dde83a1c11b9611b3cc1df6c3f0d14d5cae\n'}]",0,817510,b7f1817902769f5d92dbb8522652af7687bb22bd,8,3,1,8556,,,0,"Remove retired training-labs repo

training-labs repo is retired now[1], this
commit removes the reference of it.

Depends-On: https://review.opendev.org/c/openstack/training-labs/+/817505

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html

Change-Id: I21ec3dde83a1c11b9611b3cc1df6c3f0d14d5cae
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/10/817510/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/README.md', 'doc/upstream-training/source/slides/docs.rst']",2,b7f1817902769f5d92dbb8522652af7687bb22bd,retire-training-labs," , and `training-guides <https://review.opendev.org/#/admin/groups/360,members>`_"," , `training-guides <https://review.opendev.org/#/admin/groups/360,members>`_ , and `training-labs <https://review.opendev.org/#/admin/groups/1118,members>`_",1,10
openstack%2Fironic~stable%2Ftrain~I91e9ba3024a85897aeead21cede57464294b409b,openstack/ironic,stable/train,I91e9ba3024a85897aeead21cede57464294b409b,Fix idrac-wsman deploy with existing non-BIOS jobs,MERGED,2021-11-08 16:22:47.000000000,2021-11-15 11:22:49.000000000,2021-11-15 11:20:39.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 16:22:47.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/be7cff6508c0aad1d2e2b30b726328c404329fee', 'message': 'Fix idrac-wsman deploy with existing non-BIOS jobs\n\nAs with WS-Man iDRAC API setting boot device requires creating BIOS\njob and there can be only 1 open job per subsystem present in iDRAC,\nthere is validation to check that the job queue is empty before\ncontinuing setting boot device. This does not work well for cases when\nusing autoupdatescheduler that creates `Repository Update` job that\nstays Scheduled until executed and then followed by new Scheduled\n`Repository Update` job.\n\nThis patch allows non-BIOS jobs to be present in the queue when setting\nboot device. This will still fail for cases when there are BIOS jobs\npresent. In such cases should consider moving to idrac-redfish that\ndoes not create BIOS or any other job to set boot device.\n\nStory: 2009251\nTask: 43437\nChange-Id: I91e9ba3024a85897aeead21cede57464294b409b\n(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)\n'}]",0,816967,be7cff6508c0aad1d2e2b30b726328c404329fee,9,3,1,27909,,,0,"Fix idrac-wsman deploy with existing non-BIOS jobs

As with WS-Man iDRAC API setting boot device requires creating BIOS
job and there can be only 1 open job per subsystem present in iDRAC,
there is validation to check that the job queue is empty before
continuing setting boot device. This does not work well for cases when
using autoupdatescheduler that creates `Repository Update` job that
stays Scheduled until executed and then followed by new Scheduled
`Repository Update` job.

This patch allows non-BIOS jobs to be present in the queue when setting
boot device. This will still fail for cases when there are BIOS jobs
present. In such cases should consider moving to idrac-redfish that
does not create BIOS or any other job to set boot device.

Story: 2009251
Task: 43437
Change-Id: I91e9ba3024a85897aeead21cede57464294b409b
(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/816967/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml']",3,be7cff6508c0aad1d2e2b30b726328c404329fee,wsman-reboot-stable/train,"--- fixes: - | Fixes ``idrac-wsman`` management interface ``set_boot_device`` method that would fail deployment when there are existing jobs present with error ""Failed to change power state to ''power on'' by ''rebooting''. Error: DRAC operation failed. Reason: Unfinished config jobs found: <list of existing jobs>. Make sure they are completed before retrying."". Now there can be non-BIOS jobs present during deployment. This will still fail for cases when there are BIOS jobs present. In such cases should consider moving to ``idrac-redfish`` that does not have this limitation when setting boot device.",,19,4
openstack%2Fironic~stable%2Fvictoria~I91e9ba3024a85897aeead21cede57464294b409b,openstack/ironic,stable/victoria,I91e9ba3024a85897aeead21cede57464294b409b,Fix idrac-wsman deploy with existing non-BIOS jobs,MERGED,2021-11-08 16:21:35.000000000,2021-11-15 11:22:42.000000000,2021-11-15 11:20:20.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 16:21:35.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/969cfefee2131ccfc888f85164198f677b6d54e8', 'message': 'Fix idrac-wsman deploy with existing non-BIOS jobs\n\nAs with WS-Man iDRAC API setting boot device requires creating BIOS\njob and there can be only 1 open job per subsystem present in iDRAC,\nthere is validation to check that the job queue is empty before\ncontinuing setting boot device. This does not work well for cases when\nusing autoupdatescheduler that creates `Repository Update` job that\nstays Scheduled until executed and then followed by new Scheduled\n`Repository Update` job.\n\nThis patch allows non-BIOS jobs to be present in the queue when setting\nboot device. This will still fail for cases when there are BIOS jobs\npresent. In such cases should consider moving to idrac-redfish that\ndoes not create BIOS or any other job to set boot device.\n\nStory: 2009251\nTask: 43437\nChange-Id: I91e9ba3024a85897aeead21cede57464294b409b\n(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)\n'}]",0,816965,969cfefee2131ccfc888f85164198f677b6d54e8,10,3,1,27909,,,0,"Fix idrac-wsman deploy with existing non-BIOS jobs

As with WS-Man iDRAC API setting boot device requires creating BIOS
job and there can be only 1 open job per subsystem present in iDRAC,
there is validation to check that the job queue is empty before
continuing setting boot device. This does not work well for cases when
using autoupdatescheduler that creates `Repository Update` job that
stays Scheduled until executed and then followed by new Scheduled
`Repository Update` job.

This patch allows non-BIOS jobs to be present in the queue when setting
boot device. This will still fail for cases when there are BIOS jobs
present. In such cases should consider moving to idrac-redfish that
does not create BIOS or any other job to set boot device.

Story: 2009251
Task: 43437
Change-Id: I91e9ba3024a85897aeead21cede57464294b409b
(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/816965/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml']",3,969cfefee2131ccfc888f85164198f677b6d54e8,wsman-reboot-stable/victoria,"--- fixes: - | Fixes ``idrac-wsman`` management interface ``set_boot_device`` method that would fail deployment when there are existing jobs present with error ""Failed to change power state to ''power on'' by ''rebooting''. Error: DRAC operation failed. Reason: Unfinished config jobs found: <list of existing jobs>. Make sure they are completed before retrying."". Now there can be non-BIOS jobs present during deployment. This will still fail for cases when there are BIOS jobs present. In such cases should consider moving to ``idrac-redfish`` that does not have this limitation when setting boot device.",,19,4
openstack%2Fironic~stable%2Fussuri~I91e9ba3024a85897aeead21cede57464294b409b,openstack/ironic,stable/ussuri,I91e9ba3024a85897aeead21cede57464294b409b,Fix idrac-wsman deploy with existing non-BIOS jobs,MERGED,2021-11-08 16:22:07.000000000,2021-11-15 11:22:34.000000000,2021-11-15 11:20:29.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 16:22:07.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f360d0db32430c76dda15bccdca31e57ede7e199', 'message': 'Fix idrac-wsman deploy with existing non-BIOS jobs\n\nAs with WS-Man iDRAC API setting boot device requires creating BIOS\njob and there can be only 1 open job per subsystem present in iDRAC,\nthere is validation to check that the job queue is empty before\ncontinuing setting boot device. This does not work well for cases when\nusing autoupdatescheduler that creates `Repository Update` job that\nstays Scheduled until executed and then followed by new Scheduled\n`Repository Update` job.\n\nThis patch allows non-BIOS jobs to be present in the queue when setting\nboot device. This will still fail for cases when there are BIOS jobs\npresent. In such cases should consider moving to idrac-redfish that\ndoes not create BIOS or any other job to set boot device.\n\nStory: 2009251\nTask: 43437\nChange-Id: I91e9ba3024a85897aeead21cede57464294b409b\n(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)\n'}]",0,816966,f360d0db32430c76dda15bccdca31e57ede7e199,10,3,1,27909,,,0,"Fix idrac-wsman deploy with existing non-BIOS jobs

As with WS-Man iDRAC API setting boot device requires creating BIOS
job and there can be only 1 open job per subsystem present in iDRAC,
there is validation to check that the job queue is empty before
continuing setting boot device. This does not work well for cases when
using autoupdatescheduler that creates `Repository Update` job that
stays Scheduled until executed and then followed by new Scheduled
`Repository Update` job.

This patch allows non-BIOS jobs to be present in the queue when setting
boot device. This will still fail for cases when there are BIOS jobs
present. In such cases should consider moving to idrac-redfish that
does not create BIOS or any other job to set boot device.

Story: 2009251
Task: 43437
Change-Id: I91e9ba3024a85897aeead21cede57464294b409b
(cherry picked from commit b1d08ae80542b6b3aa9fab99cdc64b449d113115)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/816966/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix-idrac-wsman-deploy-with-existing-non-bios-jobs-78aa2195d0c3016f.yaml']",3,f360d0db32430c76dda15bccdca31e57ede7e199,wsman-reboot-stable/ussuri,"--- fixes: - | Fixes ``idrac-wsman`` management interface ``set_boot_device`` method that would fail deployment when there are existing jobs present with error ""Failed to change power state to ''power on'' by ''rebooting''. Error: DRAC operation failed. Reason: Unfinished config jobs found: <list of existing jobs>. Make sure they are completed before retrying."". Now there can be non-BIOS jobs present during deployment. This will still fail for cases when there are BIOS jobs present. In such cases should consider moving to ``idrac-redfish`` that does not have this limitation when setting boot device.",,19,4
openstack%2Frequirements~master~I753804b3e2498d65282ed6e4c4a30ca1cf64de15,openstack/requirements,master,I753804b3e2498d65282ed6e4c4a30ca1cf64de15,Bump Django version to 3.2 in upper-constraints.txt,MERGED,2021-10-22 08:18:32.000000000,2021-11-15 11:01:50.000000000,2021-11-15 10:59:17.000000000,"[{'_account_id': 841}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-22 08:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/81489de5baea4b0b5c7e7236a903118a85507361', 'message': '[DNM] Test requirements after updating horizon to Django 3.2\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/811412\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n'}, {'number': 2, 'created': '2021-10-22 16:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb238a34d804fa1e828fffec67d2c495e9e52c0c', 'message': 'Bump Django version to 3.2 in upper-constraints.txt\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/811412\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n'}, {'number': 3, 'created': '2021-10-22 20:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a18769597513cf1c17824b9c37a9aacd09846318', 'message': ""Bump Django version to 3.2 in upper-constraints.txt\n\nThis patch bump django version to 3.2 which is current LTS\nversion of django [1] in ``upper-constraints.txt``.\nhorizon and all its plugins already support Django 3.2 version,\nSo let's make this the default version.\n\n[1] https://www.djangoproject.com/download/\n\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n""}, {'number': 4, 'created': '2021-10-25 15:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/99a9ec6c2c94be49f87a306908e1721755c096c2', 'message': ""Bump Django version to 3.2 in upper-constraints.txt\n\nThis patch bump django version to 3.2 which is current LTS\nversion of django [1] in ``upper-constraints.txt``.\nhorizon and all its plugins already support Django 3.2 version,\nSo let's make this the default version.\n\n[1] https://www.djangoproject.com/download/\n\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n""}, {'number': 5, 'created': '2021-10-25 16:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/857c887771569c4c33c4828194cae69f2c5f93c9', 'message': ""Bump Django version to 3.2 in upper-constraints.txt\n\nThis patch bump django version to 3.2 which is current LTS\nversion of django [1] in ``upper-constraints.txt``.\nhorizon and all its plugins already support Django 3.2 version,\nSo let's make this the default version.\n\n[1] https://www.djangoproject.com/download/\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/815334\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n""}, {'number': 6, 'created': '2021-10-25 16:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/41cd75c75bad10671b750cc5f206c65b7ab2559c', 'message': ""Bump Django version to 3.2 in upper-constraints.txt\n\nThis patch bump django version to 3.2 which is current LTS\nversion of django [1] in ``upper-constraints.txt``.\nhorizon and all its plugins already support Django 3.2 version,\nSo let's make this the default version.\n\n[1] https://www.djangoproject.com/download/\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/815334\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n""}, {'number': 7, 'created': '2021-11-12 21:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1975758936a2936a3a78a0e278ec903257b3a65', 'message': ""Bump Django version to 3.2 in upper-constraints.txt\n\nThis patch bump django version to 3.2 which is current LTS\nversion of django [1] in ``upper-constraints.txt``.\nhorizon and all its plugins already support Django 3.2 version,\nSo let's make this the default version.\n\n[1] https://www.djangoproject.com/download/\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/815334\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n""}, {'number': 8, 'created': '2021-11-15 05:04:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8536ad68a2a2172275027b081d9163bbd9587ea3', 'message': ""Bump Django version to 3.2 in upper-constraints.txt\n\nThis patch bump django version to 3.2 which is current LTS\nversion of django [1] in ``upper-constraints.txt``.\nhorizon and all its plugins already support Django 3.2 version,\nSo let's make this the default version.\n\n[1] https://www.djangoproject.com/download/\n\nChange-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15\n""}]",8,815096,8536ad68a2a2172275027b081d9163bbd9587ea3,43,3,8,29313,,,0,"Bump Django version to 3.2 in upper-constraints.txt

This patch bump django version to 3.2 which is current LTS
version of django [1] in ``upper-constraints.txt``.
horizon and all its plugins already support Django 3.2 version,
So let's make this the default version.

[1] https://www.djangoproject.com/download/

Change-Id: I753804b3e2498d65282ed6e4c4a30ca1cf64de15
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/815096/8 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,81489de5baea4b0b5c7e7236a903118a85507361,,,,1,0
openstack%2Fcharm-ceph-rbd-mirror~master~I0cfa38dacad0c9ef449a080299772bc98077e233,openstack/charm-ceph-rbd-mirror,master,I0cfa38dacad0c9ef449a080299772bc98077e233,Re-add Ussuri+ to the test gate,ABANDONED,2021-06-21 12:36:02.000000000,2021-11-15 10:38:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-21 12:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/39819da3805397fcb979fd529b03089f5ce05825', 'message': 'Re-add Ussuri+ to the test gate\n\nThe linked bug, which was preventing us from having\nUssuri+ in the gate, got fixed meanwhile.\n\nChange-Id: I0cfa38dacad0c9ef449a080299772bc98077e233\nCloses-Bug: #1865754\n'}, {'number': 2, 'created': '2021-06-21 14:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/a872db624cae5d9ae444f51c06a72a06d7c5ebd8', 'message': 'Re-add Ussuri+ to the test gate\n\nThe linked bug, which was preventing us from having\nUssuri+ in the gate, got fixed meanwhile.\n\nChange-Id: I0cfa38dacad0c9ef449a080299772bc98077e233\nCloses-Bug: #1865754\n'}, {'number': 3, 'created': '2021-11-01 17:21:44.000000000', 'files': ['osci.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/3c11287f04da2be27796a617035f7d5e5f91e965', 'message': 'Re-add Ussuri+ to the test gate\n\nThe linked bug, which was preventing us from having\nUssuri+ in the gate, got fixed meanwhile.\n\nChange-Id: I0cfa38dacad0c9ef449a080299772bc98077e233\nCloses-Bug: #1865754\n'}]",2,797287,3c11287f04da2be27796a617035f7d5e5f91e965,12,3,3,31289,,,0,"Re-add Ussuri+ to the test gate

The linked bug, which was preventing us from having
Ussuri+ in the gate, got fixed meanwhile.

Change-Id: I0cfa38dacad0c9ef449a080299772bc98077e233
Closes-Bug: #1865754
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/87/797287/3 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,39819da3805397fcb979fd529b03089f5ce05825,bug/1865754, - hirsute-wallaby_ceph-rbd-mirror - groovy-victoria_ceph-rbd-mirror - focal-wallaby_ceph-rbd-mirror - focal-victoria_ceph-rbd-mirror - focal-ussuri_ceph-rbd-mirror - bionic-ussuri_ceph-rbd-mirror dependencies: *smoke-jobs - job: name: bionic-ussuri_ceph-rbd-mirror parent: bionic-ussuri dependencies: *smoke-jobs - job: name: focal-ussuri_ceph-rbd-mirror parent: focal-ussuri dependencies: *smoke-jobs - job: name: focal-victoria_ceph-rbd-mirror parent: focal-victoria dependencies: *smoke-jobs - job: name: focal-wallaby_ceph-rbd-mirror parent: focal-wallaby dependencies: *smoke-jobs - job: name: groovy-victoria_ceph-rbd-mirror parent: groovy-victoria dependencies: *smoke-jobs - job: name: hirsute-wallaby_ceph-rbd-mirror parent: hirsute-wallaby dependencies: *smoke-jobs , dependencies: *smoke-jobs,31,1
openstack%2Fcharm-ceph-rbd-mirror~master~I6fb07b4d2ac03db5b31f275ae816a822d411dc5b,openstack/charm-ceph-rbd-mirror,master,I6fb07b4d2ac03db5b31f275ae816a822d411dc5b,WIP: Add xena bundles,ABANDONED,2021-09-22 09:27:38.000000000,2021-11-15 10:34:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-22 09:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/28d2c349f6942e07ad3f9c65e7351e517898ba8b', 'message': 'WIP: Add xena bundles\n\nNote: a LOT of bundles have been enabled for CI to find out which ones\nare failing.  Most of them will be removed to simplify the gate.\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- refactor/rewrite of osci.yaml to pick up tests.\n\nChange-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b\n'}, {'number': 2, 'created': '2021-10-03 17:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/a392e47aa2146c2a60a6adf614839c92dc1353ae', 'message': 'WIP: Add xena bundles\n\nNote: a LOT of bundles have been enabled for CI to find out which ones\nare failing.  Most of them will be removed to simplify the gate.\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- refactor/rewrite of osci.yaml to pick up tests.\n\nChange-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b\n'}, {'number': 3, 'created': '2021-10-04 10:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/6419407fb93441af31edc89ac9f99d46880aa97f', 'message': 'WIP: Add xena bundles\n\nNote: a LOT of bundles have been enabled for CI to find out which ones\nare failing.  Most of them will be removed to simplify the gate.\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- refactor/rewrite of osci.yaml to pick up tests.\n\nChange-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b\n'}, {'number': 4, 'created': '2021-10-04 11:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7e2ccc373d0a3cfa4986e6e9a74cf71a658814e0', 'message': 'WIP: Add xena bundles\n\nNote: a LOT of bundles have been enabled for CI to find out which ones\nare failing.  Most of them will be removed to simplify the gate.\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- refactor/rewrite of osci.yaml to pick up tests.\n\nChange-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b\n'}, {'number': 5, 'created': '2021-10-04 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/f03809c174ff787feba70bceb2bbc4ead1742cb7', 'message': 'WIP: Add xena bundles\n\nNote: a LOT of bundles have been enabled for CI to find out which ones\nare failing.  Most of them will be removed to simplify the gate.\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- refactor/rewrite of osci.yaml to pick up tests.\n\nChange-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b\n'}, {'number': 6, 'created': '2021-11-05 10:48:35.000000000', 'files': ['rebuild', 'osci.yaml', 'test-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/impish-xena-image-mirroring.yaml', 'src/tests/tests.yaml', 'requirements.txt', 'src/tests/bundles/focal-xena-image-mirroring.yaml', 'pip.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/fdf1fbe124b73bc83b7788f502a7c232b85382b7', 'message': 'WIP: Add xena bundles\n\nNote: a LOT of bundles have been enabled for CI to find out which ones\nare failing.  Most of them will be removed to simplify the gate.\n\n- add non-voting focal-xena bundle\n- add non-voting impish-xena bundle\n- rebuild to pick up charm-helpers changes\n- update tox/pip.sh to ensure setuptools<50.0.0\n- pin cffi and pyparsing\n- refactor/rewrite of osci.yaml to pick up tests.\n\nChange-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",1,810374,fdf1fbe124b73bc83b7788f502a7c232b85382b7,25,3,6,20870,,,0,"WIP: Add xena bundles

Note: a LOT of bundles have been enabled for CI to find out which ones
are failing.  Most of them will be removed to simplify the gate.

- add non-voting focal-xena bundle
- add non-voting impish-xena bundle
- rebuild to pick up charm-helpers changes
- update tox/pip.sh to ensure setuptools<50.0.0
- pin cffi and pyparsing
- refactor/rewrite of osci.yaml to pick up tests.

Change-Id: I6fb07b4d2ac03db5b31f275ae816a822d411dc5b
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/74/810374/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'osci.yaml', 'src/tests/bundles/focal-xena-image-mirroring.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'pip.sh', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/impish-xena-image-mirroring.yaml', 'src/tests/tests.yaml', 'tox.ini']",10,28d2c349f6942e07ad3f9c65e7351e517898ba8b,xena-bundles,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0 {toxinidir}/pip.sh install {opts} {packages}", pip install {opts} {packages},789,22
openstack%2Fcharm-nova-compute~master~I212fd1f38c84ef11350209ad16b212020d005518,openstack/charm-nova-compute,master,I212fd1f38c84ef11350209ad16b212020d005518,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:23:06.000000000,2021-11-15 10:33:47.000000000,2021-11-15 10:33:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7f2e05aca3b963fe2466fea018752c34b73e0d80', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 2, 'created': '2021-11-01 13:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2b2165b1b118750dda35c9f00d10a2ebafbb3dec', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 3, 'created': '2021-11-01 15:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1a5b263b0beeb476e48d8946fe5c5cbd405f6381', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 4, 'created': '2021-11-03 22:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ffd16f21c562f6c8e14c7ab1e574740f866aeaad', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 5, 'created': '2021-11-05 17:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/29085a54339592d3bbef9384e29f8a1a104cb2c0', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 6, 'created': '2021-11-09 15:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0d691813004fd8e9449e940941d2a49704b42ed7', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 7, 'created': '2021-11-12 13:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/9ee63bf96f7b067be1435de582ba831072627ce1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 8, 'created': '2021-11-12 14:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/34a3cb0d0d73e3e4d449fc0994071b50cc421474', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}, {'number': 9, 'created': '2021-11-12 16:19:07.000000000', 'files': ['osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/80e0b1f8b117447fca4a835283dcc92614949329', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I212fd1f38c84ef11350209ad16b212020d005518\n'}]",4,816047,80e0b1f8b117447fca4a835283dcc92614949329,30,3,9,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I212fd1f38c84ef11350209ad16b212020d005518
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/47/816047/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/focal-yoga.yaml', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'hooks/charmhelpers/fetch/ubuntu.py']",10,7f2e05aca3b963fe2466fea018752c34b73e0d80,batch-update," ('jammy', 'yoga'),",,542,7
openstack%2Fironic-python-agent~bugfix%2F8.1~Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,openstack/ironic-python-agent,bugfix/8.1,Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,Delete EFI boot entry duplicate labels first,MERGED,2021-11-10 19:06:36.000000000,2021-11-15 10:31:30.000000000,2021-11-15 10:29:38.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 19:06:36.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/de-duplicate-by-label-baa090c5b1bff992.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b1e1f4d89abe984d0ed0baf8281e2f5d8cfd9f96', 'message': 'Delete EFI boot entry duplicate labels first\n\nSome firmware seems to take an objection with EFI nvram\nentries being deleted after one is added, resulting in the\nentire entry table being reset to the last known good state.\n\nThis is problematic, as ultimately deployments can time out\nif we previously booted with Networking, and the machine, while\ncommanded to do other wise, reboots back to networking regardless.\n\nWe will now delete entries first, before proceeding.\n\nAdditionally, for general use, this pattern may serve the\ncommunity better by avoiding cases where we would have\npreviously just relied upon efibootmgr[0] to warn us of duplicate\nentries.\n\n[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228\n\nChange-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc\nStory: 2009649\nTask: 43808\n(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)\n(cherry picked from commit 33b39705a50513c5af411216b48e2a6f6ac9ab14)\n'}]",0,817469,b1e1f4d89abe984d0ed0baf8281e2f5d8cfd9f96,7,2,1,11655,,,0,"Delete EFI boot entry duplicate labels first

Some firmware seems to take an objection with EFI nvram
entries being deleted after one is added, resulting in the
entire entry table being reset to the last known good state.

This is problematic, as ultimately deployments can time out
if we previously booted with Networking, and the machine, while
commanded to do other wise, reboots back to networking regardless.

We will now delete entries first, before proceeding.

Additionally, for general use, this pattern may serve the
community better by avoiding cases where we would have
previously just relied upon efibootmgr[0] to warn us of duplicate
entries.

[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228

Change-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc
Story: 2009649
Task: 43808
(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)
(cherry picked from commit 33b39705a50513c5af411216b48e2a6f6ac9ab14)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/69/817469/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/de-duplicate-by-label-baa090c5b1bff992.yaml']",3,b1e1f4d89abe984d0ed0baf8281e2f5d8cfd9f96,,"--- fixes: - | Fixes cases where duplicates may not be found in the UEFI firmware NVRAM boot entry table by explicitly looking for, and deleting for matching labels in advance of creating the EFI boot loader entry. ",,51,24
openstack%2Fkolla-ansible~master~Ibe51db5060e8d809539f5e929a65f285e0f7d343,openstack/kolla-ansible,master,Ibe51db5060e8d809539f5e929a65f285e0f7d343,docs: Get release name dynamically,MERGED,2021-11-03 21:15:57.000000000,2021-11-15 10:28:45.000000000,2021-11-15 10:26:00.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29880}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-03 21:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/334f083e630f92578723853bae0edb90643c1f2e', 'message': 'docs: Get release name dynamically\n\nAddress comments in https://review.opendev.org/c/openstack/kolla-ansible/+/815043\n\nRelated-Bug: #815043\nChange-Id: Ibe51db5060e8d809539f5e929a65f285e0f7d343\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 2, 'created': '2021-11-03 21:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8145e695b84ddd6a73f06ec61746dfbc6e25f8cc', 'message': 'docs: Get release name dynamically\n\nAddress comments in https://review.opendev.org/c/openstack/kolla-ansible/+/815043\n\nRelated-Bug: #1844710\nChange-Id: Ibe51db5060e8d809539f5e929a65f285e0f7d343\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 3, 'created': '2021-11-08 13:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aeaabec549c0964b6a09e5d98be3d4fd83d48781', 'message': 'docs: Get release name dynamically\n\nAddress comments in https://review.opendev.org/c/openstack/kolla-ansible/+/815043\n\nRelated-Bug: #1844710\nChange-Id: Ibe51db5060e8d809539f5e929a65f285e0f7d343\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 4, 'created': '2021-11-08 21:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb2b7a8b0f567efe16f9b681be2beee269ee0f9b', 'message': 'docs: Get release name dynamically\n\nAddress comments in https://review.opendev.org/c/openstack/kolla-ansible/+/815043\n\nRelated-Bug: #1844710\nChange-Id: Ibe51db5060e8d809539f5e929a65f285e0f7d343\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 5, 'created': '2021-11-09 13:11:27.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/conf.py', 'doc/source/user/operating-kolla.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dbd6d12e333920360fd36aa90c108c3bbae203a', 'message': 'docs: Get release name dynamically\n\nAddress comments in https://review.opendev.org/c/openstack/kolla-ansible/+/815043\n\nRelated-Bug: #1844710\nChange-Id: Ibe51db5060e8d809539f5e929a65f285e0f7d343\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}]",14,816582,9dbd6d12e333920360fd36aa90c108c3bbae203a,27,5,5,29880,,,0,"docs: Get release name dynamically

Address comments in https://review.opendev.org/c/openstack/kolla-ansible/+/815043

Related-Bug: #1844710
Change-Id: Ibe51db5060e8d809539f5e929a65f285e0f7d343
Signed-off-by: Adrian Andreias <adrian@fleio.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/816582/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/conf.py']",2,334f083e630f92578723853bae0edb90643c1f2e,bug/1844710,import openstackdocstheme KOLLA_OPENSTACK_RELEASE = openstackdocstheme.ext._get_series_name() if KOLLA_OPENSTACK_RELEASE == 'latest': KOLLA_BRANCH_NAME = 'master',"KOLLA_ANSIBLE_MAJOR_VERSION = '9' # use 'master' or release name, e.g. 'victoria', 'xena' etc. KOLLA_OPENSTACK_RELEASE = 'master' if KOLLA_OPENSTACK_RELEASE == 'master': KOLLA_BRANCH_NAME = KOLLA_OPENSTACK_RELEASE ""|KOLLA_ANSIBLE_MAJOR_VERSION|"": KOLLA_ANSIBLE_MAJOR_VERSION,",8,9
openstack%2Fironic-python-agent~bugfix%2F8.1~I6a1bb78acaf5a4284727bdf533d4be6db2099f50,openstack/ironic-python-agent,bugfix/8.1,I6a1bb78acaf5a4284727bdf533d4be6db2099f50,Output verbose info from efibootmgr,MERGED,2021-11-10 19:06:36.000000000,2021-11-15 10:25:50.000000000,2021-11-15 10:23:46.000000000,"[{'_account_id': 1926}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 19:06:36.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d8151dc32f3de6bb9f784029cce666490f208b90', 'message': 'Output verbose info from efibootmgr\n\nWhen debugging boot manager problems it can be advantageous to\nsee all the full entries rather then just their labels.\n\nChange-Id: I6a1bb78acaf5a4284727bdf533d4be6db2099f50\n(cherry picked from commit caf695f70ab366498b46cb6f07f6751369c67e30)\n'}]",0,817468,d8151dc32f3de6bb9f784029cce666490f208b90,8,3,1,11655,,,0,"Output verbose info from efibootmgr

When debugging boot manager problems it can be advantageous to
see all the full entries rather then just their labels.

Change-Id: I6a1bb78acaf5a4284727bdf533d4be6db2099f50
(cherry picked from commit caf695f70ab366498b46cb6f07f6751369c67e30)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/68/817468/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,d8151dc32f3de6bb9f784029cce666490f208b90,," utils.execute('efibootmgr', '-v') cmd = utils.execute('efibootmgr', '-v', '-c', '-d', device,"," utils.execute('efibootmgr') cmd = utils.execute('efibootmgr', '-c', '-d', device,",21,21
openstack%2Fcharm-magpie~master~I4e64eec7d4b0506c0db239bef512c12a469c5777,openstack/charm-magpie,master,I4e64eec7d4b0506c0db239bef512c12a469c5777,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:21:22.000000000,2021-11-15 10:25:13.000000000,2021-11-15 10:25:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/0c938ccf5449cfa5b7398b70b7304023f51248bc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 2, 'created': '2021-11-01 13:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/59c1b67c5f3f7cd4e5a04ff147802d111f5dd55d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 3, 'created': '2021-11-03 22:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/a6b66eb600dd907c2ff4614a7c28c38fe9d95515', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 4, 'created': '2021-11-05 17:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/0f031e9a069c0ee242e51915d858c6e534688d5e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 5, 'created': '2021-11-09 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/722d00a45242b7b9b3a80920cb27f81bae463a2e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 6, 'created': '2021-11-12 13:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/fe0015b4526226d4c5931848ce6968650aa1dfe3', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 7, 'created': '2021-11-12 14:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/26754a1a8c73548daabe38916664b415d4b50186', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}, {'number': 8, 'created': '2021-11-12 16:16:04.000000000', 'files': ['osci.yaml', 'requirements.txt', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/bundles/jammy.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/17788c986a642016f954deeef9cedd3e0b89f28e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777\n'}]",7,816027,17788c986a642016f954deeef9cedd3e0b89f28e,34,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I4e64eec7d4b0506c0db239bef512c12a469c5777
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/27/816027/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",5,0c938ccf5449cfa5b7398b70b7304023f51248bc,batch-update,- jammy - jammy,,8,0
openstack%2Fcharm-mysql-innodb-cluster~master~Ibb22cd736e8b500de9cab0905e389c1d9669cc62,openstack/charm-mysql-innodb-cluster,master,Ibb22cd736e8b500de9cab0905e389c1d9669cc62,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:22:08.000000000,2021-11-15 10:23:58.000000000,2021-11-15 10:23:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/0d494b1a3ee025039c262905cfdb14cc736d13a5', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 2, 'created': '2021-11-01 13:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/89f1110ab4ef89e35b782b6126cbde60ad835336', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 3, 'created': '2021-11-03 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/75439d65108767207f1810d6f58e755cb0eb7126', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 4, 'created': '2021-11-05 17:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7a9d86bb6f5735ddc931604581625067212e9489', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 5, 'created': '2021-11-09 15:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/fb9c37073df0dfed00a1befe9db298a641d6f36c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 6, 'created': '2021-11-12 13:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/0fc1c963a158a320e4bbabdee19e39b2e6a8426a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 7, 'created': '2021-11-12 14:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/352ef280d9e6f942c461d444a420634beaf57e04', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}, {'number': 8, 'created': '2021-11-12 16:17:23.000000000', 'files': ['osci.yaml', 'requirements.txt', 'test-requirements.txt', 'src/tests/bundles/jammy-full-ha.yaml', 'src/tests/bundles/jammy.yaml', 'src/tests/bundles/groovy-full-ha.yaml', 'src/tests/bundles/jammy-full.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/jammy-full-ha.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c960f2d024fd129cf8ee5716c9a3fa824cabfb3a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62\n'}]",4,816036,c960f2d024fd129cf8ee5716c9a3fa824cabfb3a,27,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: Ibb22cd736e8b500de9cab0905e389c1d9669cc62
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/36/816036/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",5,0d494b1a3ee025039c262905cfdb14cc736d13a5,batch-update,- scale_in_out: jammy- full_model: jammy-full-ha - jammy - jammy-full-ha,,13,0
openstack%2Fironic~master~I329cabe04662d0d668d4c3e04ecede5b4fdec6c6,openstack/ironic,master,I329cabe04662d0d668d4c3e04ecede5b4fdec6c6,Fix RedfishManagement.get_mac_addresses and related functions,MERGED,2021-11-04 17:14:36.000000000,2021-11-15 10:23:37.000000000,2021-11-15 10:21:25.000000000,"[{'_account_id': 6618}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-11-04 17:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c24d2f5bd763f3ccc8c085a2564563afae7d6f3d', 'message': ""Fix RedfishManagement.get_mac_addresses and related functions\n\nRedfishManagement.get_mac_addresses has two problems:\n* It returns a dict while the base class documents returning a list\n* The dict's values are Redfish-specific values\n\nThis change fixes this function to return a list and significantly\nsimplifies the related create_ports_if_not_exists.\n\nChange-Id: I329cabe04662d0d668d4c3e04ecede5b4fdec6c6\n""}, {'number': 2, 'created': '2021-11-09 17:00:44.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/test_inspect_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/drivers/modules/ilo/inspect.py', 'ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/drivers/modules/inspect_utils.py', 'ironic/drivers/modules/redfish/inspect.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/815705bc7deb877c2efaee750bbfaabcd3e635ff', 'message': ""Fix RedfishManagement.get_mac_addresses and related functions\n\nRedfishManagement.get_mac_addresses has two problems:\n* It returns a dict while the base class documents returning a list\n* The dict's values are Redfish-specific values\n\nThis change fixes this function to return a list and significantly\nsimplifies the related create_ports_if_not_exists.\n\nChange-Id: I329cabe04662d0d668d4c3e04ecede5b4fdec6c6\n""}]",11,816726,815705bc7deb877c2efaee750bbfaabcd3e635ff,23,5,2,10239,,,0,"Fix RedfishManagement.get_mac_addresses and related functions

RedfishManagement.get_mac_addresses has two problems:
* It returns a dict while the base class documents returning a list
* The dict's values are Redfish-specific values

This change fixes this function to return a list and significantly
simplifies the related create_ports_if_not_exists.

Change-Id: I329cabe04662d0d668d4c3e04ecede5b4fdec6c6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/816726/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/test_inspect_utils.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/drivers/modules/inspect_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/drivers/modules/redfish/inspect.py', 'ironic/drivers/modules/ilo/inspect.py', 'ironic/drivers/modules/inspector.py']",11,c24d2f5bd763f3ccc8c085a2564563afae7d6f3d,inspect," inspect_utils.create_ports_if_not_exist(task, enabled_macs)"," inspect_utils.create_ports_if_not_exist( task, enabled_macs, get_mac_address=lambda x: x[0])",33,36
openstack%2Fcharm-ceph-rbd-mirror~master~I3d5670334344384fb8be5855926f2c9441f793ba,openstack/charm-ceph-rbd-mirror,master,I3d5670334344384fb8be5855926f2c9441f793ba,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:18:01.000000000,2021-11-15 10:17:15.000000000,2021-11-15 10:17:15.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/864377cf7fd622b6e8ed3ffd08e96f8e60c57933', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 2, 'created': '2021-11-01 13:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/f27cd90605a2dbc56b0e6725fe4822173492a53b', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 3, 'created': '2021-11-03 22:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/ddcc423e2a0a4b587d73b4c0c9ac16d1199375f5', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 4, 'created': '2021-11-05 17:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/1d7fab91e0a52b89fdeed7898dd5437f75b83fb7', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 5, 'created': '2021-11-05 18:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/49e26debfb0ab6b1c420434d78fe11561db1d358', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 6, 'created': '2021-11-05 18:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7e378e173b5684cb040dfdcafb57163becd0bd29', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 7, 'created': '2021-11-05 18:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/06cabe3b29571d463ed6fd3af91e2516eac1dcc4', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 8, 'created': '2021-11-05 18:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/60bca8f3d1744a4f26d35385d281fa26ebbb10a9', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 9, 'created': '2021-11-05 19:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7ec1e32339ce71b39d87ca339e173c279c87798a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 10, 'created': '2021-11-09 15:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/f7ec7a0df5ede4cf66e2b4e1f1fb5653a0cf5ad3', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 11, 'created': '2021-11-12 13:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c7892d9c516aa1c0b0256d8bc1e21b396d54b45a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 12, 'created': '2021-11-12 14:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/5dff328badee4bfa8f5d1dc35282357d174290b9', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}, {'number': 13, 'created': '2021-11-12 16:14:07.000000000', 'files': ['osci.yaml', 'src/tests/bundles/groovy-victoria-image-mirroring.yaml', 'test-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'pip.sh', 'tox.ini', 'src/tests/bundles/xenial-pike.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/60e243dbf094266182539be663e6d6809cd619ce', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I3d5670334344384fb8be5855926f2c9441f793ba\n'}]",4,816006,60e243dbf094266182539be663e6d6809cd619ce,40,3,13,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I3d5670334344384fb8be5855926f2c9441f793ba
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/06/816006/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/metadata.yaml']",3,864377cf7fd622b6e8ed3ffd08e96f8e60c57933,batch-update,- jammy,,4,0
openstack%2Frequirements~master~I8595bca769d747dd6405bf77244489ec00f07716,openstack/requirements,master,I8595bca769d747dd6405bf77244489ec00f07716,Updated from generate-constraints,MERGED,2021-11-12 02:54:36.000000000,2021-11-15 10:06:36.000000000,2021-11-15 08:05:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 02:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/571818063dec65e005bde021c8d6cad3b27e6bbc', 'message': 'Updated from generate-constraints\n\nChange-Id: I8595bca769d747dd6405bf77244489ec00f07716\n'}, {'number': 2, 'created': '2021-11-13 02:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4a5e8a1f525d2c653a2a50cd2ad4a7ca08be6e9e', 'message': 'Updated from generate-constraints\n\nChange-Id: I8595bca769d747dd6405bf77244489ec00f07716\n'}, {'number': 3, 'created': '2021-11-14 02:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd279a31aa305f639945be35883b003e269584c8', 'message': 'Updated from generate-constraints\n\nChange-Id: I8595bca769d747dd6405bf77244489ec00f07716\n'}, {'number': 4, 'created': '2021-11-15 02:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ecbcd323e843f71b6035d1dcdf17bd25a6905d84', 'message': 'Updated from generate-constraints\n\nChange-Id: I8595bca769d747dd6405bf77244489ec00f07716\n'}, {'number': 5, 'created': '2021-11-15 04:25:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0c3401bbaeca30b64805bcaad53d66f829e3cdb6', 'message': 'Updated from generate-constraints\n\nChange-Id: I8595bca769d747dd6405bf77244489ec00f07716\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,817667,0c3401bbaeca30b64805bcaad53d66f829e3cdb6,22,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: I8595bca769d747dd6405bf77244489ec00f07716
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/817667/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,571818063dec65e005bde021c8d6cad3b27e6bbc,openstack/requirements/constraints/noclob,psycopg2===2.9.2XStatic-Angular===1.8.2.1doc8===0.10.1soupsieve===2.3.1SQLAlchemy===1.4.27jira===3.1.1psycopg2-binary===2.9.2pkg_resources===0.0.0coverage===6.1.2boto3===1.20.4Sphinx===4.3.0botocore===1.23.4Django===3.2.9cmd2===2.3.0oslo.policy===3.10.0xmlschema===1.8.2diskimage-builder===3.15.1alembic===1.7.5fasteners===0.16.3,psycopg2===2.9.1XStatic-Angular===1.5.8.0doc8===0.9.1soupsieve===2.3SQLAlchemy===1.4.26jira===3.0.1psycopg2-binary===2.9.1coverage===6.1.1boto3===1.20.2Sphinx===4.2.0botocore===1.23.2Django===2.2.24cmd2===2.2.0oslo.policy===3.9.0xmlschema===1.8.1diskimage-builder===3.15.0alembic===1.7.4fasteners===0.14.1setuptools===58.5.3,19,19
openstack%2Fcharm-glance~master~Ia21075352add103592ffcdf7666c28dee32fcd96,openstack/charm-glance,master,Ia21075352add103592ffcdf7666c28dee32fcd96,Remove trusty/xenial metadata and function tests,MERGED,2021-11-12 15:58:37.000000000,2021-11-15 10:04:38.000000000,2021-11-15 10:04:38.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 15:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/811a02c942ff3f6ae0e5cbc217236b7b6fda9097', 'message': ""Remove trusty/xenial metadata and function tests\n\nDrop xenial metadata and function tests as the next release of\nthe charms won't support xenial.\n\nChange-Id: Ia21075352add103592ffcdf7666c28dee32fcd96\n""}, {'number': 2, 'created': '2021-11-12 16:05:07.000000000', 'files': ['tests/bundles/xenial-pike.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1e24f0c4cfa9b11cd8d990eb5d193bd3b78a8dca', 'message': ""Remove trusty/xenial metadata and function tests\n\nDrop xenial metadata and function tests as the next release of\nthe charms won't support xenial.\n\nChange-Id: Ia21075352add103592ffcdf7666c28dee32fcd96\n""}]",0,817782,1e24f0c4cfa9b11cd8d990eb5d193bd3b78a8dca,8,3,2,11805,,,0,"Remove trusty/xenial metadata and function tests

Drop xenial metadata and function tests as the next release of
the charms won't support xenial.

Change-Id: Ia21075352add103592ffcdf7666c28dee32fcd96
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/82/817782/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xenial-pike.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml']",7,811a02c942ff3f6ae0e5cbc217236b7b6fda9097,batch-update,,"series: xenial comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': '2': relations: - [""keystone:shared-db"", ""mysql:shared-db""] - [""glance:shared-db"", ""mysql:shared-db""] - [""glance:identity-service"", ""keystone:identity-service""] applications: mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 to: - '0' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:xenial-queens to: - '1' glance: charm: ../../../glance num_units: 1 options: openstack-origin: cloud:xenial-queens to: - '2' ",0,185
openstack%2Fglance_store~master~I07b14385290cbaba570115a85233d35a88b4d586,openstack/glance_store,master,I07b14385290cbaba570115a85233d35a88b4d586,Fix documentation build with Sphinx>=4.2.0,MERGED,2021-10-12 19:15:10.000000000,2021-11-15 10:01:14.000000000,2021-11-15 09:59:03.000000000,"[{'_account_id': 5202}, {'_account_id': 9816}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-12 19:15:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e4930e5dc8b7e3102a4f32ffa6a18af8b4cb3a3a', 'message': 'Fix documentation build with Sphinx>=4.2.0\n\nChange-Id: I07b14385290cbaba570115a85233d35a88b4d586\nCloses-Bug: #1946789\n'}]",3,813696,e4930e5dc8b7e3102a4f32ffa6a18af8b4cb3a3a,9,4,1,8122,,,0,"Fix documentation build with Sphinx>=4.2.0

Change-Id: I07b14385290cbaba570115a85233d35a88b4d586
Closes-Bug: #1946789
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/96/813696/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,e4930e5dc8b7e3102a4f32ffa6a18af8b4cb3a3a,bug/1946789," # Since version 4.2.0, Sphinx emits a warning when encountering a mocked # object, leading to the following error: # ""A mocked object is detected: 'glance_store.common.cinder_utils'"" # To prevent this, we disable all warnings from the autodoc extension, since # there is no finer grain yet. suppress_warnings = ['autodoc.*']",,7,0
openstack%2Fcharm-barbican~master~Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb,openstack/charm-barbican,master,Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:17:11.000000000,2021-11-15 10:00:45.000000000,2021-11-15 10:00:45.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/4c8717e620108915ea887bdbb7a47382270fadb4', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 2, 'created': '2021-11-01 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/176127050ec8b9a578025c9f5c697e7eca3e7eff', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 3, 'created': '2021-11-03 20:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/2a89e40defeb8e025fe8ed4733722ba952bc7b22', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 4, 'created': '2021-11-05 17:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/2e02738337135d459376985d93230fa1a3c28ef7', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 5, 'created': '2021-11-05 17:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/3d47e0ddd80bc3f08d1c19407619f4c1bac38ee2', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 6, 'created': '2021-11-05 17:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/b86934ef70dfb7e0eddb634e7177276e373d83e3', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 7, 'created': '2021-11-09 15:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/f6b84ad6835071f2831dc850fbf9cac93d622524', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 8, 'created': '2021-11-12 13:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/1b815a3e2c0cdcba88fcbbc92f4bc7c5b4cbbeca', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 9, 'created': '2021-11-12 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/2b205128487fdf044d3b146b5ca0d0c71783bbda', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}, {'number': 10, 'created': '2021-11-12 16:11:58.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/5f3c1de4f1d49d866f3a37f3d3398322f3544281', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb\n'}]",2,815997,5f3c1de4f1d49d866f3a37f3d3398322f3544281,28,3,10,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: Ic01c91ede3d820e8eb9258fd0d19799efb4ebccb
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/97/815997/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",7,4c8717e620108915ea887bdbb7a47382270fadb4,batch-update,- jammy-yoga- focal-yoga - jammy-yoga,,159,0
openstack%2Fcharm-percona-cluster~master~I27005eb7c149f788a14a68fad1b700b374697dd3,openstack/charm-percona-cluster,master,I27005eb7c149f788a14a68fad1b700b374697dd3,Remove xenial metadata and function tests,MERGED,2021-11-12 15:56:15.000000000,2021-11-15 09:59:53.000000000,2021-11-15 09:59:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 15:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/8be529bab89bba365605caf1842956154e007364', 'message': ""Remove xenial metadata and function tests\n\nDrop xenial metadata and function tests as the next release of\nthe charms won't support xenial. xenial-queens-ha-series-upgrade\nwas not dropped as it still seems useful to test.\n\nChange-Id: I27005eb7c149f788a14a68fad1b700b374697dd3\n""}, {'number': 2, 'created': '2021-11-12 16:09:36.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/xenial-ha.yaml', 'tests/bundles/xenial.yaml', 'metadata.yaml', 'tests/bundles/overlays/xenial-ha.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1', 'message': ""Remove xenial metadata and function tests\n\nDrop xenial metadata and function tests as the next release of\nthe charms won't support xenial. xenial-queens-ha-series-upgrade\nwas not dropped as it still seems useful to test.\n\nChange-Id: I27005eb7c149f788a14a68fad1b700b374697dd3\n""}]",0,817780,393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1,9,3,2,11805,,,0,"Remove xenial metadata and function tests

Drop xenial metadata and function tests as the next release of
the charms won't support xenial. xenial-queens-ha-series-upgrade
was not dropped as it still seems useful to test.

Change-Id: I27005eb7c149f788a14a68fad1b700b374697dd3
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/80/817780/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'metadata.yaml']",3,8be529bab89bba365605caf1842956154e007364,batch-update,,- xenial,3,13
openstack%2Fcharm-manila-dashboard~master~I2418e402bf69129d95db287b892ee6391e04c0cb,openstack/charm-manila-dashboard,master,I2418e402bf69129d95db287b892ee6391e04c0cb,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:21:43.000000000,2021-11-15 09:59:23.000000000,2021-11-15 09:59:23.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/368510894b39efa23b821e4b11a8e5119addb30a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 2, 'created': '2021-11-01 13:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/382a55ca1cba4d95fae5c98cfd813c59b763327e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 3, 'created': '2021-11-03 21:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/ec29c312175a615a73d593dda1a9e9521636220c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 4, 'created': '2021-11-05 17:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/3ae40c2026ded480a6d7b9c1e324066442fa7429', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 5, 'created': '2021-11-09 15:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/85002ced25d21a5957d0f4b966d3cbe7bc63c8fc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 6, 'created': '2021-11-12 13:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/5f50a8f05c8da60241741eb52740df4b9722dc58', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 7, 'created': '2021-11-12 14:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/e2599a17a4d1c5c6bd74cd4d4b20283668b0ee24', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}, {'number': 8, 'created': '2021-11-12 16:16:42.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/0d227b0539ec8c15e66f1ff0bbde801af961c39a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I2418e402bf69129d95db287b892ee6391e04c0cb\n'}]",3,816031,0d227b0539ec8c15e66f1ff0bbde801af961c39a,28,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I2418e402bf69129d95db287b892ee6391e04c0cb
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/31/816031/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",7,368510894b39efa23b821e4b11a8e5119addb30a,batch-update,- focal-yoga- jammy-yoga - jammy-yoga,,207,0
openstack%2Fcharm-masakari~master~I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0,openstack/charm-masakari,master,I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:21:58.000000000,2021-11-15 09:57:34.000000000,2021-11-15 09:57:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/4474578ff028c92397c2383f78a3b3817eadc4fe', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 2, 'created': '2021-11-01 13:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/9d73021852c057cfba2aec60e1f0c2883ce04af1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 3, 'created': '2021-11-03 18:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/463e9ccc2fa9840613368261fcac54b9b047fbd8', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 4, 'created': '2021-11-05 17:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/6984efba0beef61e653ecfffa399608dfe3e82d3', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 5, 'created': '2021-11-09 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/9d2ca9fd7fa9d030a1f9790325a92cc6a3c54572', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 6, 'created': '2021-11-12 13:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/fdfdca79f8e3f539fc4e6f8fe6efd6cdd023830a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 7, 'created': '2021-11-12 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/0446e8a969296501ecc1bcd99dc92a2ec404c66e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}, {'number': 8, 'created': '2021-11-12 16:17:06.000000000', 'files': ['src/tests/bundles/overlays/focal-yoga-pacemaker-remote-ssl.yaml.j2', 'osci.yaml', 'requirements.txt', 'test-requirements.txt', 'src/tests/bundles/focal-yoga-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/jammy-yoga-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/jammy-yoga-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/3679b8811f66e8a7fa2144fca99c921a099c3348', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0\n'}]",1,816034,3679b8811f66e8a7fa2144fca99c921a099c3348,26,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I6cb91fec3168eb03d6b22ff941023e2a73a1a3e0
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/34/816034/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/metadata.yaml']",3,4474578ff028c92397c2383f78a3b3817eadc4fe,batch-update,- jammy,,4,0
openstack%2Fcharm-neutron-api-plugin-arista~master~Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a,openstack/charm-neutron-api-plugin-arista,master,Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:22:24.000000000,2021-11-15 09:48:50.000000000,2021-11-15 09:48:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/635a05d0e197d527ddd4ca53c6adb123f0001989', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 2, 'created': '2021-11-01 13:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/30d94cc406cf53303197781259fb570a7c50d0ad', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 3, 'created': '2021-11-03 20:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/b743f95d37d23509a0bca02749a4729e84cb8f1c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 4, 'created': '2021-11-05 17:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/e41a4daa804957ae7d44c3b3e90ea86ef666c7a8', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 5, 'created': '2021-11-09 15:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/04be5aea6b75e4eaefbdd92bbc93c13c4cee169b', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 6, 'created': '2021-11-12 13:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/0cd5a124d9054d860871bf8daa9992ad2d6f116e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 7, 'created': '2021-11-12 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/72b8650d96c7f5ab982477f7ca0b67b9a9097671', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}, {'number': 8, 'created': '2021-11-12 16:18:03.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/overlays/focal-yoga.yaml.j2', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/bundles/overlays/jammy-yoga.yaml.j2', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/98757059f360d64ab4a46d25accbc7f1643ed775', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a\n'}]",2,816039,98757059f360d64ab4a46d25accbc7f1643ed775,27,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: Ia6693051e5a4aec8be6a4a464ef5f57a3143ec5a
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/39/816039/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/overlays/focal-yoga.yaml.j2', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/bundles/overlays/jammy-yoga.yaml.j2', 'src/tests/tests.yaml']",9,635a05d0e197d527ddd4ca53c6adb123f0001989,batch-update,- focal-yoga- jammy-yoga - jammy-yoga,,383,0
openstack%2Fcharm-neutron-dynamic-routing~master~I11f3688718d11db7043a47d661b75e8ee629f180,openstack/charm-neutron-dynamic-routing,master,I11f3688718d11db7043a47d661b75e8ee629f180,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:22:40.000000000,2021-11-15 09:47:09.000000000,2021-11-15 09:47:09.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/a2a3448b24bab7a8294bb9ab56667c523ec9d5c2', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 2, 'created': '2021-11-01 13:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/385c3b4c60c57a6431c1d827bcb2acadb182086b', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 3, 'created': '2021-11-03 18:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/6f3a4c9afc30d6f7150c297ea4975bad9467e9d0', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 4, 'created': '2021-11-03 19:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/21af2d8d0e96455c3930174d19754cac2599eef6', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 5, 'created': '2021-11-03 19:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/d00470406d3b368e6e0b3022a166db816634c9dd', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 6, 'created': '2021-11-05 17:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/950f8c6df8d1db96b786c7ed89f67cf2ad886a49', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 7, 'created': '2021-11-09 15:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/8651ab69dec39f282e88d83e3b525e04386bd536', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 8, 'created': '2021-11-12 13:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/3cb58b630dbe3aa14f540c78dce703989d50265d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 9, 'created': '2021-11-12 14:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/a44ec2d7899100eea749d3785910e831bfbb82ad', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}, {'number': 10, 'created': '2021-11-12 16:18:26.000000000', 'files': ['osci.yaml', 'src/tests/bundles/hirsute-wallaby-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'test-requirements.txt', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/metadata.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/bundles/jammy-yoga-functional.yaml', 'src/tests/tests.yaml', 'requirements.txt', 'src/tests/bundles/focal-yoga-functional.yaml', 'src/tests/bundles/impish-xena-functional.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/594689b69970bde4cb3ef09f615de4adcf338f20', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I11f3688718d11db7043a47d661b75e8ee629f180\n'}]",1,816042,594689b69970bde4cb3ef09f615de4adcf338f20,32,3,10,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I11f3688718d11db7043a47d661b75e8ee629f180
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/42/816042/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/metadata.yaml']",3,a2a3448b24bab7a8294bb9ab56667c523ec9d5c2,batch-update,- jammy,,4,0
openstack%2Fcharm-octavia-dashboard~master~I490952f9273faa4ff75f2aef7574376ef6eb28ee,openstack/charm-octavia-dashboard,master,I490952f9273faa4ff75f2aef7574376ef6eb28ee,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:23:16.000000000,2021-11-15 09:43:56.000000000,2021-11-15 09:43:56.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/af957f3fe93dfa08e952498b4c3a790022ef94e5', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 2, 'created': '2021-11-01 13:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/d78e05b41c132a483ab80971aac0a5a7bb50a7e1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 3, 'created': '2021-11-03 21:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/f6a9233496951682b4f11b34d77d8241dd3a0f10', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 4, 'created': '2021-11-05 17:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/3c97aa6fb8f627aba9a64490256be48685abbc90', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 5, 'created': '2021-11-09 15:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/eb21b56075238bb7c4a0239c717bf13d335d268f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 6, 'created': '2021-11-12 13:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/19270962d718b3f12476a09196c903b21cdc91e1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 7, 'created': '2021-11-12 14:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/065b0e7d9a5f92e9580610c31f8d7a26b5e65b71', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}, {'number': 8, 'created': '2021-11-12 16:19:23.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/270e6f58b852be40b2afca010786164a650f88cc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee\n'}]",2,816049,270e6f58b852be40b2afca010786164a650f88cc,26,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I490952f9273faa4ff75f2aef7574376ef6eb28ee
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/49/816049/7 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",7,af957f3fe93dfa08e952498b4c3a790022ef94e5,batch-update,- focal-yoga- jammy-yoga - jammy-yoga,,283,0
openstack%2Fcharm-octavia-diskimage-retrofit~master~Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a,openstack/charm-octavia-diskimage-retrofit,master,Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:23:21.000000000,2021-11-15 09:38:02.000000000,2021-11-15 09:38:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/a561b0b6ed61dcaa3c995b088e4a65b9fd40707e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 2, 'created': '2021-11-01 13:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/6ba03704ee9011c3519a5af3716640cf90a5494e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 3, 'created': '2021-11-03 20:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/32396222ddaf318802efeacb54a268b3c58c9719', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 4, 'created': '2021-11-05 17:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/8cce5500cc648d321a11d1c26961121658b6aeda', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 5, 'created': '2021-11-09 15:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/0a5ebea9125eebdb3b3829b7d64f054b8d7ea29c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 6, 'created': '2021-11-12 13:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/7e686020f77222ef62dd08429fe012375afdabb5', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 7, 'created': '2021-11-12 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/07289569243de2d9f5ebd1e360d3a1efd446289d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}, {'number': 8, 'created': '2021-11-12 16:19:31.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/7a55478851dbf14b8f26f621ca0361c31d10565e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a\n'}]",2,816050,7a55478851dbf14b8f26f621ca0361c31d10565e,26,3,8,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: Ibb21cc5f3fb48d952f1648079dfa1435db6ae33a
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/50/816050/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/tests.yaml']",5,a561b0b6ed61dcaa3c995b088e4a65b9fd40707e,batch-update,- focal-yoga- jammy-yoga - jammy-yoga,,252,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I74cd5820389c86819c6884d3d61c9b2f7907cc88,openstack/networking-ovn,stable/train,I74cd5820389c86819c6884d3d61c9b2f7907cc88,[OVN Migration] Remove qr and dhcp ports from the nodes,MERGED,2021-10-25 12:22:01.000000000,2021-11-15 09:31:57.000000000,2021-11-15 09:30:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 12:22:01.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2354ee86a892923d0e31ab63b692490edabd3213', 'message': ""[OVN Migration] Remove qr and dhcp ports from the nodes\n\nAfter migration from ML2/OVS to ML2/OVN tap ports which were created\nby the DHCP agents and router ports (like e.g. qr- or qg-) which were\ncreated by the L3 agents aren't needed at all and should be deleted.\nPreviously those ports were set to be DOWN only. With this patch\nall such ports will be simply deleted from the openvswitch.\n\nRelated-bug: #1946479\nChange-Id: I74cd5820389c86819c6884d3d61c9b2f7907cc88\n(cherry picked from commit 5092f3fb98b4c6bf8334de0e71548ddd073f6234)\n(cherry picked from commit 0c5a5ef921ac8e8b6d207484f720b7ec40a32b33)\n""}]",3,815289,2354ee86a892923d0e31ab63b692490edabd3213,9,3,1,11975,,,0,"[OVN Migration] Remove qr and dhcp ports from the nodes

After migration from ML2/OVS to ML2/OVN tap ports which were created
by the DHCP agents and router ports (like e.g. qr- or qg-) which were
created by the L3 agents aren't needed at all and should be deleted.
Previously those ports were set to be DOWN only. With this patch
all such ports will be simply deleted from the openvswitch.

Related-bug: #1946479
Change-Id: I74cd5820389c86819c6884d3d61c9b2f7907cc88
(cherry picked from commit 5092f3fb98b4c6bf8334de0e71548ddd073f6234)
(cherry picked from commit 0c5a5ef921ac8e8b6d207484f720b7ec40a32b33)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/89/815289/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,2354ee86a892923d0e31ab63b692490edabd3213,bug/1946479-stable/train,- name: Cleanup neutron router and dhcp interfaces ovs-vsctl list interface | awk '/name[ ]*: qr-|ha-|qg-|rfp-/ { print $3 }' | xargs -n1 ovs-vsctl del-port ovs-vsctl del-port $dhcp_port,"- name: Quickly disable neutron router and dhcp interfaces for p in `ovs-vsctl show | egrep 'qr-|ha-|qg-|rfp-' | grep Interface | awk '{print $2}'` do # p will be having quotes. Eg. ""hr-xxxx"". So strip the quotes p=`echo $p | sed -e 's/""//g'` ovs-vsctl clear Interface $p external-ids ovs-vsctl set Interface $p admin-state=down done ovs-vsctl clear Interface $dhcp_port external-ids ovs-vsctl set Interface $dhcp_port admin-state=down",3,11
openstack%2Fcharm-keystone~master~I8af572e9fee7975643f15e5f43aec4d56eabac16,openstack/charm-keystone,master,I8af572e9fee7975643f15e5f43aec4d56eabac16,Fixing the typo in admin_and_matching_domain_id,ABANDONED,2021-11-09 20:32:23.000000000,2021-11-15 09:23:36.000000000,,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2021-11-09 20:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2fd3ade741270ae008b483c2a33b12a777882ac7', 'message': 'Fixing the typo in admin_and_matching_domain_id\n\n""target"" object, which has been introduced after the\ncommit cef78d47, does not have a ""domain_id"" property -\nit has ""domain"" object which has ""id"" property instead.\n\nThis commit fixes the charm templates to use the correct\nproperty reference.\n\nCo-Authored-By: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\nCloses-Bug: #1950379\nChange-Id: I8af572e9fee7975643f15e5f43aec4d56eabac16\n'}, {'number': 2, 'created': '2021-11-10 11:19:12.000000000', 'files': ['templates/queens/policy.json', 'templates/newton/policy.json', 'test-requirements.txt', 'templates/rocky/policy.json', 'templates/ocata/policy.json', 'templates/mitaka/policy.json'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cf32048733e68ccbf167e26f246ea095187b1d3e', 'message': 'Fixing the typo in admin_and_matching_domain_id\n\n""target"" object, which has been introduced after the\ncommit cef78d47, does not have a ""domain_id"" property -\nit has ""domain"" object which has ""id"" property instead.\n\nThis commit fixes the charm templates to use the correct\nproperty reference.\n\nCo-Authored-By: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>\nCloses-Bug: #1950379\nChange-Id: I8af572e9fee7975643f15e5f43aec4d56eabac16\n'}]",7,817306,cf32048733e68ccbf167e26f246ea095187b1d3e,18,5,2,28899,,,0,"Fixing the typo in admin_and_matching_domain_id

""target"" object, which has been introduced after the
commit cef78d47, does not have a ""domain_id"" property -
it has ""domain"" object which has ""id"" property instead.

This commit fixes the charm templates to use the correct
property reference.

Co-Authored-By: Dmitrii Shcherbakov <dmitrii.shcherbakov@canonical.com>
Closes-Bug: #1950379
Change-Id: I8af572e9fee7975643f15e5f43aec4d56eabac16
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/06/817306/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/policy.json', 'templates/newton/policy.json', 'templates/rocky/policy.json', 'templates/ocata/policy.json', 'templates/mitaka/policy.json']",5,2fd3ade741270ae008b483c2a33b12a777882ac7,lp1950379," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(target.domain.id)s"","," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(target.domain_id)s"",",5,5
openstack%2Fcharm-openstack-dashboard~master~I8c40cd3fbc732f6a127e9eed6391ac0014349b5c,openstack/charm-openstack-dashboard,master,I8c40cd3fbc732f6a127e9eed6391ac0014349b5c,Use target.domain.id in admin_and_matching_domain_id,ABANDONED,2021-11-10 15:18:14.000000000,2021-11-15 09:23:06.000000000,,[],"[{'number': 1, 'created': '2021-11-10 15:18:14.000000000', 'files': ['templates/rocky/keystonev3_policy.json', 'templates/mitaka/keystonev3_policy.json'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/c5e61caede13486477dc61f12cfedfa272e26511', 'message': 'Use target.domain.id in admin_and_matching_domain_id\n\nThis change makes the admin_and_matching_domain_id policy rule used in\nthe dashboard charm consistent with the respective policy rules\nintroduced as a part of a change to the Keystone charm:\nI8af572e9fee7975643f15e5f43aec4d56eabac16.\n\nDepends-On: I8af572e9fee7975643f15e5f43aec4d56eabac16\nCloses-Bug: #1950379\nChange-Id: I8c40cd3fbc732f6a127e9eed6391ac0014349b5c\n'}]",0,817446,c5e61caede13486477dc61f12cfedfa272e26511,2,0,1,24824,,,0,"Use target.domain.id in admin_and_matching_domain_id

This change makes the admin_and_matching_domain_id policy rule used in
the dashboard charm consistent with the respective policy rules
introduced as a part of a change to the Keystone charm:
I8af572e9fee7975643f15e5f43aec4d56eabac16.

Depends-On: I8af572e9fee7975643f15e5f43aec4d56eabac16
Closes-Bug: #1950379
Change-Id: I8c40cd3fbc732f6a127e9eed6391ac0014349b5c
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/46/817446/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rocky/keystonev3_policy.json', 'templates/mitaka/keystonev3_policy.json']",2,c5e61caede13486477dc61f12cfedfa272e26511,lp-1950379," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(target.domain.id)s"","," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"",",2,2
openstack%2Fcharm-vault~master~I8a26d0f2e116cfde9047da8d264739d9a0b623f8,openstack/charm-vault,master,I8a26d0f2e116cfde9047da8d264739d9a0b623f8,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:24:39.000000000,2021-11-15 09:20:36.000000000,2021-11-15 09:20:36.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/dff4f46fd3ba8354cb5840b10cca8cf29569fe7f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 2, 'created': '2021-11-01 13:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8f239d7b5f688b32eda9c38af936f5f80ae61ea7', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 3, 'created': '2021-11-03 21:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/19b7aadcd7e7eea3fa0eceb59c31e11429830c4b', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 4, 'created': '2021-11-04 10:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/22e08f10695879058b0ebb56998ec5f197766b7e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 5, 'created': '2021-11-05 17:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8fe18c86f6e0172ac3732bae6040371dc7f85b22', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 6, 'created': '2021-11-05 17:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/736c2bd416593d570897b8fc9d9e070d1e561c15', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 7, 'created': '2021-11-09 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/df5e758a6c55a2fd47cc0cc30c2fcb1e2caac988', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 8, 'created': '2021-11-12 14:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0a10fc610e676b1b25cce51c1185ad2af13dbe6b', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}, {'number': 9, 'created': '2021-11-12 16:24:05.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-mysql8.yaml', 'src/tests/bundles/xenial-ha-mysql.yaml', 'test-requirements.txt', 'src/tests/bundles/xenial-mysql.yaml', 'src/tests/bundles/xenial-postgres.yaml', 'src/metadata.yaml', 'src/tests/bundles/overlays/xenial-ha-mysql.yaml.j2', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e8174abd7520150c24cf069b7ce0b287a9c9f2d9', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove trusty, xenial, and groovy metadata and tests\n\nChange-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8\n'}]",4,816067,e8174abd7520150c24cf069b7ce0b287a9c9f2d9,32,3,9,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove trusty, xenial, and groovy metadata and tests

Change-Id: I8a26d0f2e116cfde9047da8d264739d9a0b623f8
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/67/816067/8 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",5,dff4f46fd3ba8354cb5840b10cca8cf29569fe7f,batch-update,- jammy-mysql8 - jammy-mysql8,,11,0
openstack%2Fneutron~master~I215923f6d1e2bcf7f9091289f42c9e792981986a,openstack/neutron,master,I215923f6d1e2bcf7f9091289f42c9e792981986a,DNM FIP - only testing why neutron LB fullstack tests are failing,ABANDONED,2021-11-08 13:50:22.000000000,2021-11-15 09:17:42.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 13:50:22.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21baef48c9261c6f12b32a58972e6e0aa18655e7', 'message': 'DNM FIP - only testing why neutron LB fullstack tests are failing\n\nChange-Id: I215923f6d1e2bcf7f9091289f42c9e792981986a\n'}]",5,817006,21baef48c9261c6f12b32a58972e6e0aa18655e7,15,2,1,11975,,,0,"DNM FIP - only testing why neutron LB fullstack tests are failing

Change-Id: I215923f6d1e2bcf7f9091289f42c9e792981986a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/817006/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py'],1,21baef48c9261c6f12b32a58972e6e0aa18655e7,improve-neutron-ci," LOG.error(""SK; transport_url: %s"", cfg.CONF.oslo_messaging_notifications.transport_url)",,2,0
openstack%2Fkolla-ansible~master~I912a3f7c226b15245d360f1c53eac52ce955ce1c,openstack/kolla-ansible,master,I912a3f7c226b15245d360f1c53eac52ce955ce1c,[docs] Change quickstart guide ansible version,ABANDONED,2021-11-15 09:07:36.000000000,2021-11-15 09:16:34.000000000,,[],"[{'number': 1, 'created': '2021-11-15 09:07:36.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2bec4cedcb86e9985571e365b6e3293cb4b17b1', 'message': '[docs] Change quickstart guide ansible version\n\nThe quickstart guide asks you to install ansible version up to 4.0.\nHowever, the bootstrap will require the ansible version to be between\n2.9 and 2.10.\nCloses-Bug: #1950818\nChange-Id: I86eeabbc3843104079024992cc93dbf4fb31e731\n\nChange-Id: I912a3f7c226b15245d360f1c53eac52ce955ce1c\n'}]",0,817916,a2bec4cedcb86e9985571e365b6e3293cb4b17b1,2,0,1,34185,,,0,"[docs] Change quickstart guide ansible version

The quickstart guide asks you to install ansible version up to 4.0.
However, the bootstrap will require the ansible version to be between
2.9 and 2.10.
Closes-Bug: #1950818
Change-Id: I86eeabbc3843104079024992cc93dbf4fb31e731

Change-Id: I912a3f7c226b15245d360f1c53eac52ce955ce1c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/817916/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,a2bec4cedcb86e9985571e365b6e3293cb4b17b1,docs-update-ansible-version, Ansible ``2.9`` and supports up to ``2.10``. pip install 'ansible<3.0' Ansible ``2.9`` and supports up to ``2.10``., Ansible ``2.10`` and supports up to ``4``. pip install 'ansible<5.0' Ansible ``2.10`` and supports up to ``4``.,3,3
openstack%2Fcharm-glance-simplestreams-sync~master~Ie2836e1625447658bd3e3713ad57c1822e3c8e5a,openstack/charm-glance-simplestreams-sync,master,Ie2836e1625447658bd3e3713ad57c1822e3c8e5a,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:02:30.000000000,2021-11-15 09:13:57.000000000,2021-11-15 09:13:57.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:02:30.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f2eac23ca2ffb1560372f4107f5f674013a75364', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: Ie2836e1625447658bd3e3713ad57c1822e3c8e5a\n""}]",1,817740,f2eac23ca2ffb1560372f4107f5f674013a75364,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: Ie2836e1625447658bd3e3713ad57c1822e3c8e5a
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/40/817740/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,f2eac23ca2ffb1560372f4107f5f674013a75364,remove-jammy,,- jammy,0,1
openstack%2Fcharm-designate~master~I2cecfdfa847eb7eaf996c18bf10687d277c481c3,openstack/charm-designate,master,I2cecfdfa847eb7eaf996c18bf10687d277c481c3,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 10:58:53.000000000,2021-11-15 09:13:18.000000000,2021-11-15 09:13:18.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 10:58:53.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/1d27b38c37d877df151001c2b0c8fbc779f35b29', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: I2cecfdfa847eb7eaf996c18bf10687d277c481c3\n""}]",1,817735,1d27b38c37d877df151001c2b0c8fbc779f35b29,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: I2cecfdfa847eb7eaf996c18bf10687d277c481c3
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/35/817735/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,1d27b38c37d877df151001c2b0c8fbc779f35b29,remove-jammy,,- jammy,0,1
openstack%2Fcharm-heat~master~Iaf08bd43e5d00dd96b685306e7adb1421ba1aa12,openstack/charm-heat,master,Iaf08bd43e5d00dd96b685306e7adb1421ba1aa12,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:04:41.000000000,2021-11-15 09:12:20.000000000,2021-11-15 09:12:20.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:04:41.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/cb20440e7e50ad754c2d069045513a18edf13f54', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: Iaf08bd43e5d00dd96b685306e7adb1421ba1aa12\n""}]",0,817743,cb20440e7e50ad754c2d069045513a18edf13f54,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: Iaf08bd43e5d00dd96b685306e7adb1421ba1aa12
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/43/817743/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,cb20440e7e50ad754c2d069045513a18edf13f54,remove-jammy,,- jammy,0,1
openstack%2Fcharm-ironic-api~master~I7ff5bc8bb86e0ba2db93d8b89eaf6d5e6de4c685,openstack/charm-ironic-api,master,I7ff5bc8bb86e0ba2db93d8b89eaf6d5e6de4c685,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:05:35.000000000,2021-11-15 09:11:57.000000000,2021-11-15 09:11:57.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:05:35.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/19c1c505c85ff005add381f7ec31aa475cd9c698', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: I7ff5bc8bb86e0ba2db93d8b89eaf6d5e6de4c685\n""}]",1,817744,19c1c505c85ff005add381f7ec31aa475cd9c698,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: I7ff5bc8bb86e0ba2db93d8b89eaf6d5e6de4c685
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/44/817744/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,19c1c505c85ff005add381f7ec31aa475cd9c698,remove-jammy,,- jammy,0,1
openstack%2Fcharm-gnocchi~master~If1fe74367ce23b13fe3fc2dd9b55a9b74d6bf797,openstack/charm-gnocchi,master,If1fe74367ce23b13fe3fc2dd9b55a9b74d6bf797,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:03:15.000000000,2021-11-15 09:09:35.000000000,2021-11-15 09:09:35.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:03:15.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/513bc9d91cace3f8df7c728a209627b67bfb7de2', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: If1fe74367ce23b13fe3fc2dd9b55a9b74d6bf797\n""}]",0,817741,513bc9d91cace3f8df7c728a209627b67bfb7de2,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: If1fe74367ce23b13fe3fc2dd9b55a9b74d6bf797
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/41/817741/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,513bc9d91cace3f8df7c728a209627b67bfb7de2,remove-jammy,,- jammy,0,1
openstack%2Fcharm-keystone~master~I871976669944b7e62b431ad3e86786e753cbded5,openstack/charm-keystone,master,I871976669944b7e62b431ad3e86786e753cbded5,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:06:13.000000000,2021-11-15 09:08:58.000000000,2021-11-15 09:08:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:06:13.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/6ff417cd4d8d127e6120e25e548693d3716cf857', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: I871976669944b7e62b431ad3e86786e753cbded5\n""}]",0,817745,6ff417cd4d8d127e6120e25e548693d3716cf857,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: I871976669944b7e62b431ad3e86786e753cbded5
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/45/817745/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,6ff417cd4d8d127e6120e25e548693d3716cf857,remove-jammy,,- jammy,0,1
openstack%2Fcharm-glance~master~Ib813e610c537b19d9f777765bd2af135e342f14c,openstack/charm-glance,master,Ib813e610c537b19d9f777765bd2af135e342f14c,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:01:34.000000000,2021-11-15 09:08:42.000000000,2021-11-15 09:08:42.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:01:34.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b84e235904601947bb468420c5dcc822bae6d787', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: Ib813e610c537b19d9f777765bd2af135e342f14c\n""}]",0,817737,b84e235904601947bb468420c5dcc822bae6d787,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: Ib813e610c537b19d9f777765bd2af135e342f14c
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/37/817737/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,b84e235904601947bb468420c5dcc822bae6d787,remove-jammy,,- jammy,0,1
openstack%2Fcharm-hacluster~master~I7ed399a95fc56fdb4a15e71e585a9be9408636fa,openstack/charm-hacluster,master,I7ed399a95fc56fdb4a15e71e585a9be9408636fa,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:04:03.000000000,2021-11-15 09:08:06.000000000,2021-11-15 09:08:06.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:04:03.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/67b120ee3679bff9e57af34db193fcdf451456dc', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: I7ed399a95fc56fdb4a15e71e585a9be9408636fa\n""}]",0,817742,67b120ee3679bff9e57af34db193fcdf451456dc,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: I7ed399a95fc56fdb4a15e71e585a9be9408636fa
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/42/817742/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,67b120ee3679bff9e57af34db193fcdf451456dc,remove-jammy,,- jammy,0,1
openstack%2Fcharm-designate-bind~master~I65fe68feb8b5a2e78000bebd392905643f4f5c4d,openstack/charm-designate-bind,master,I65fe68feb8b5a2e78000bebd392905643f4f5c4d,Remove 'jammy' metadata - unblock gate,MERGED,2021-11-12 11:00:39.000000000,2021-11-15 09:04:28.000000000,2021-11-15 09:04:28.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-12 11:00:39.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/89e0d5e708935681e1adfcda127bf003d50b7a40', 'message': ""Remove 'jammy' metadata - unblock gate\n\nThe charmstore doesn't accept charms with jammy metadata yet.\n\nChange-Id: I65fe68feb8b5a2e78000bebd392905643f4f5c4d\n""}]",0,817736,89e0d5e708935681e1adfcda127bf003d50b7a40,7,3,1,20870,,,0,"Remove 'jammy' metadata - unblock gate

The charmstore doesn't accept charms with jammy metadata yet.

Change-Id: I65fe68feb8b5a2e78000bebd392905643f4f5c4d
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/36/817736/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,89e0d5e708935681e1adfcda127bf003d50b7a40,remove-jammy,,- jammy,0,1
openstack%2Fcharm-specs~master~I06750a39744321ed4a7fac900219bcb80b702758,openstack/charm-specs,master,I06750a39744321ed4a7fac900219bcb80b702758,Fix backlog carry-over from Xena,ABANDONED,2021-11-11 14:02:02.000000000,2021-11-15 08:56:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-11 14:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/18105a23983aa66c8fb783d61f90eaf3d63e3460', 'message': 'Fix backlog carry-over from Xena\n\nxena/approved should have been carried over to\nyoga/backlog instead of yoga/approved.\n\nChange-Id: I06750a39744321ed4a7fac900219bcb80b702758\n'}, {'number': 2, 'created': '2021-11-11 14:27:44.000000000', 'files': ['doc/source/specs/yoga/index.rst', 'specs/yoga/backlog/memory-fragmentation-tuning.rst', 'specs/yoga/backlog/ncc-migration-ssh-auth-sharing.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/5b63298c010bfa227f847aae93af5b00bb56e915', 'message': 'Fix backlog carry-over from Xena\n\nxena/approved should have been carried over to\nyoga/backlog instead of yoga/approved.\n\nChange-Id: I06750a39744321ed4a7fac900219bcb80b702758\n'}]",0,817563,5b63298c010bfa227f847aae93af5b00bb56e915,5,1,2,31289,,,0,"Fix backlog carry-over from Xena

xena/approved should have been carried over to
yoga/backlog instead of yoga/approved.

Change-Id: I06750a39744321ed4a7fac900219bcb80b702758
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/63/817563/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/backlog/memory-fragmentation-tuning.rst', 'specs/yoga/backlog/ncc-migration-ssh-auth-sharing.rst']",2,18105a23983aa66c8fb783d61f90eaf3d63e3460,fix-xena-carryover,,,0,0
openstack%2Fopenstack-helm~master~I3ea6f12a4d165f9ff64e002e860e873a603f6a6d,openstack/openstack-helm,master,I3ea6f12a4d165f9ff64e002e860e873a603f6a6d,Make TLS job voting again,MERGED,2021-11-11 23:50:54.000000000,2021-11-15 07:58:46.000000000,2021-11-15 07:55:08.000000000,"[{'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-11-11 23:50:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f895ef79c1fe733303272daff6b49eae06903221', 'message': 'Make TLS job voting again\n\nThe TLS job was previously broken with the change to helm v3, but\nhas since been fixed. This change makes it voting again.\n\nChange-Id: I3ea6f12a4d165f9ff64e002e860e873a603f6a6d\n'}]",0,817657,f895ef79c1fe733303272daff6b49eae06903221,9,3,1,21420,,,0,"Make TLS job voting again

The TLS job was previously broken with the change to helm v3, but
has since been fixed. This change makes it voting again.

Change-Id: I3ea6f12a4d165f9ff64e002e860e873a603f6a6d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/57/817657/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f895ef79c1fe733303272daff6b49eae06903221,update-jobs, - openstack-helm-tls, - openstack-helm-tls: voting: false,1,2
openstack%2Fceilometer~master~Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,openstack/ceilometer,master,Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277,Fix broken test_discovery_with_libvirt_error,MERGED,2021-09-29 10:40:59.000000000,2021-11-15 07:27:01.000000000,2021-11-15 07:25:39.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 10:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2f25dc24402cec603b614c2b5db13c3c3b7f0993', 'message': ""Fix broken test_discovery_with_libvirt_error\n\nDon't mock libvirt when testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n""}, {'number': 2, 'created': '2021-10-11 07:50:30.000000000', 'files': ['ceilometer/tests/unit/compute/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0940d4f2318e7216486ad2d6ad11837c8f54797a', 'message': 'Fix broken test_discovery_with_libvirt_error\n\nMock only small parts of libvirt not the whole library,\nwhen testing libvirt discovery.\n\nCloses-Bug: #1774292\nChange-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277\n'}]",3,811709,0940d4f2318e7216486ad2d6ad11837c8f54797a,13,3,2,12825,,,0,"Fix broken test_discovery_with_libvirt_error

Mock only small parts of libvirt not the whole library,
when testing libvirt discovery.

Closes-Bug: #1774292
Change-Id: Ifbcf3fa0602d805b1e493f1ee6c3385edb87a277
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/09/811709/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/unit/compute/test_discovery.py'],1,2f25dc24402cec603b614c2b5db13c3c3b7f0993,," @mock.patch.object(libvirt, ""VIR_DOMAIN_METADATA_ELEMENT"", 2) @mock.patch.object(libvirt, ""openReadOnly"") def test_discovery_with_libvirt_error(self, openReadOnly): openReadOnly.return_value = FakeManualInstanceConn()"," @mock.patch.object(utils, ""libvirt"") @mock.patch.object(discovery, ""libvirt"") def test_discovery_with_libvirt_error(self, libvirt, libvirt2): libvirt.VIR_DOMAIN_METADATA_ELEMENT = 2 libvirt2.openReadOnly.return_value = FakeManualInstanceConn()",4,5
openstack%2Fskyline-console~master~I09ae91ef69f4d0865f9fbacfa8dfab8131821096,openstack/skyline-console,master,I09ae91ef69f4d0865f9fbacfa8dfab8131821096,fix: Fix for edit user with null phone,MERGED,2021-11-15 03:39:13.000000000,2021-11-15 07:14:12.000000000,2021-11-15 07:14:12.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-11-15 03:39:13.000000000', 'files': ['src/pages/identity/containers/User/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/eb12eb9e3e1927782d3b7789681808032fa4be3e', 'message': 'fix: Fix for edit user with null phone\n\nfix for edit user with null phone\n\nChange-Id: I09ae91ef69f4d0865f9fbacfa8dfab8131821096\n'}]",0,817882,eb12eb9e3e1927782d3b7789681808032fa4be3e,6,2,1,33636,,,0,"fix: Fix for edit user with null phone

fix for edit user with null phone

Change-Id: I09ae91ef69f4d0865f9fbacfa8dfab8131821096
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/82/817882/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/identity/containers/User/actions/Edit.jsx'],1,eb12eb9e3e1927782d3b7789681808032fa4be3e,," countryCallingCode: '86',"," country: 'CN',",1,1
openstack%2Fos-brick~stable%2Fvictoria~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/os-brick,stable/victoria,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,MERGED,2021-11-12 07:50:15.000000000,2021-11-15 07:00:30.000000000,2021-11-13 07:45:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 07:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/40ba2c8b805f50b7ef1b5fb9ee7d2a47052ab84b', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n""}, {'number': 2, 'created': '2021-11-12 09:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4668ad6ee7c298cc8ea6e75391901007f58ec6b3', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n""}, {'number': 3, 'created': '2021-11-12 09:07:01.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b03eca8353f1db7fed5dc630d225126b1edb1055', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit ecaf7f8962e12b43f9759ddc1b608f30eb9f5ebb)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n""}]",7,817711,b03eca8353f1db7fed5dc630d225126b1edb1055,34,4,3,27615,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)
(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)
Conflicts: os_brick/initiator/connectors/iscsi.py
(cherry picked from commit ecaf7f8962e12b43f9759ddc1b608f30eb9f5ebb)
Conflicts: os_brick/initiator/connectors/nvmeof.py
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/11/817711/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/huawei.py']",9,40ba2c8b805f50b7ef1b5fb9ee7d2a47052ab84b,bug/1947370," @synchronized('connect_volume', external=True) @synchronized('connect_volume', external=True)", @synchronized('connect_volume') @synchronized('connect_volume'),40,16
openstack%2Fneutron~master~I81e0db3059096c1e5d6073a905646d730f2101e4,openstack/neutron,master,I81e0db3059096c1e5d6073a905646d730f2101e4,Doc: follow-up for recent job renames,MERGED,2021-08-26 14:41:25.000000000,2021-11-15 06:51:32.000000000,2021-11-15 06:49:55.000000000,"[{'_account_id': 5948}, {'_account_id': 7634}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 14:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da254f5c0aebd59bf85032e655882dbfd136cb13', 'message': 'Doc: follow-up for recent job renames\n\n[0] made job names represent the backend they use, like add ovs or ovn\nto job names. This patch changes the documentation accordingly (see [1])\n\n[0]: https://review.opendev.org/c/openstack/neutron/+/797051\n[1]: https://docs.openstack.org/neutron/latest/contributor/testing/ci_scenario_jobs.html\n\nChange-Id: I81e0db3059096c1e5d6073a905646d730f2101e4\n'}, {'number': 2, 'created': '2021-11-08 13:16:18.000000000', 'files': ['doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34c909c9cbb3bbe4be7f7bf627aaa73591d8d4c6', 'message': 'Doc: follow-up for recent job renames\n\n[0] made job names represent the backend they use, like add ovs or ovn\nto job names. This patch changes the documentation accordingly (see [1])\n\n[0]: https://review.opendev.org/c/openstack/neutron/+/797051\n[1]: https://docs.openstack.org/neutron/latest/contributor/testing/ci_scenario_jobs.html\n\nChange-Id: I81e0db3059096c1e5d6073a905646d730f2101e4\n'}]",0,806200,34c909c9cbb3bbe4be7f7bf627aaa73591d8d4c6,15,5,2,8313,,,0,"Doc: follow-up for recent job renames

[0] made job names represent the backend they use, like add ovs or ovn
to job names. This patch changes the documentation accordingly (see [1])

[0]: https://review.opendev.org/c/openstack/neutron/+/797051
[1]: https://docs.openstack.org/neutron/latest/contributor/testing/ci_scenario_jobs.html

Change-Id: I81e0db3059096c1e5d6073a905646d730f2101e4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/806200/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing/ci_scenario_jobs.rst'],1,da254f5c0aebd59bf85032e655882dbfd136cb13,neutron_ci_jobs_backend," |neutron-ovs-tempest-multinode-full |tempest.api (without slow tests) | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | |neutron-ovs-tempest-dvr-ha-multinode-full |tempest.api (without slow tests) | 3.6 | 3 | openvswitch | openvswitch | dvr | True | True | True | No | |neutron-ovs-tempest-slow |tempest slow tests | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | |neutron-ovn-tempest-ipv6-only |tempest smoke + IPv6 tests | 3.6 | 1 | ovn | ovn | --- | False | False | True | Yes | |neutron-ovn-tempest-ovs-release-ipv6-only | tempest smoke + IPv6 tests | 3.6 | 1 | ovn | ovn | --- | False | False | True | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ +------------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | Job name | python | nodes | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | version | | | driver | mode | | | | queue | +====================================+=========+=======+=============+=============+==========+=======+========+============+=============+ | neutron-ovs-grenade-multinode | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | +------------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | neutron-ovs-grenade-dvr-multinode | 3.6 | 2 | openvswitch | openvswitch | dvr | False | False | True | Yes | | | | | | | dvr_snat | | | | | +------------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-with-uwsgi-loki |tempest.api (without slow tests) | 3.6 | 1 | ovn | ovn | --- | --- | --- | --- | No | |neutron-ovn-tempest-full-multinode-ovs-master |Various tempest api, scenario | 3.6 | 2 | ovn | ovn | --- | --- | --- | --- | No | |neutron-ovn-tempest-ovs-master |Various tempest api, scenario | 3.6 | 1 | ovn | ovn | --- | --- | --- | --- | No | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-with-neutron-lib-master |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | No | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ | neutron-ovn-grenade-multinode | 3.6 | 2 | OVN | --- | --- | --- | --- | False | no |"," |neutron-tempest-multinode-full-py3 |tempest.api (without slow tests) | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | |neutron-tempest-dvr-ha-multinode-full |tempest.api (without slow tests) | 3.6 | 3 | openvswitch | openvswitch | dvr | True | True | True | No | |neutron-tempest-slow-py3 |tempest slow tests | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | |neutron-tempest-ipv6-only |tempest smoke + IPv6 tests | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes | +--------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | Job name | python | nodes | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | version | | | driver | mode | | | | queue | +================================+=========+=======+=============+=============+==========+=======+========+============+=============+ | neutron-grenade-multinode | 3.6 | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | +--------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | neutron-grenade-dvr-multinode | 3.6 | 2 | openvswitch | openvswitch | dvr | False | False | True | Yes | | | | | | | dvr_snat | | | | | +--------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ |neutron-tempest-with-neutron-lib-master |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | No | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-with-uwsgi-loki |tempest.api (without slow tests) | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | No | |neutron-ovn-tempest-multinode-ovs-master |Various tempest api, scenario | 3.6 | 2 | ovn | ovn | --- | False | False | True | No | | neutron-grenade-ovn | 3.6 | 2 | OVN | --- | --- | --- | --- | False | no |",26,21
openstack%2Fheat~stable%2Fwallaby~I6433bd4e7e378fefccedaf96035f847bfb1efc60,openstack/heat,stable/wallaby,I6433bd4e7e378fefccedaf96035f847bfb1efc60,Install upper-constraints for testenv,NEW,2021-11-15 04:46:13.000000000,2021-11-15 06:32:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-15 04:46:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/124f765f83063430c50c2e214f11ffc95261e484', 'message': 'Install upper-constraints for testenv\n\nLatest sqlalchemy causes issues for us. We will\npip install upper-contraints in testenv to work\naround this issue.\n\nChange-Id: I6433bd4e7e378fefccedaf96035f847bfb1efc60\n'}]",0,817894,124f765f83063430c50c2e214f11ffc95261e484,3,1,1,30073,,,0,"Install upper-constraints for testenv

Latest sqlalchemy causes issues for us. We will
pip install upper-contraints in testenv to work
around this issue.

Change-Id: I6433bd4e7e378fefccedaf96035f847bfb1efc60
",git fetch https://review.opendev.org/openstack/heat refs/changes/94/817894/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,124f765f83063430c50c2e214f11ffc95261e484,wallaby_testenv_uc,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages},,1,0
openstack%2Fpuppet-ovn~master~I117a4059a8552100f5f22a35d4a86ca309fb04fa,openstack/puppet-ovn,master,I117a4059a8552100f5f22a35d4a86ca309fb04fa,WIP: Add option to not create insecure remote,ABANDONED,2021-11-01 08:21:17.000000000,2021-11-15 04:49:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-01 08:21:17.000000000', 'files': ['manifests/northd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/50e83f377a67e07c65311e0b419fe52fd1859fb2', 'message': 'WIP: Add option to not create insecure remote\n\nAllow the removal of insecure remote args so that the nb/sb ports\n(6641, 6642) can be used for SSL connections\n\nChange-Id: I117a4059a8552100f5f22a35d4a86ca309fb04fa\n'}]",0,816151,50e83f377a67e07c65311e0b419fe52fd1859fb2,4,1,1,8064,,,0,"WIP: Add option to not create insecure remote

Allow the removal of insecure remote args so that the nb/sb ports
(6641, 6642) can be used for SSL connections

Change-Id: I117a4059a8552100f5f22a35d4a86ca309fb04fa
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/51/816151/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/northd.pp'],1,50e83f377a67e07c65311e0b419fe52fd1859fb2,," $dbs_listen_ip = '0.0.0.0', $dbs_cluster_local_addr = undef, $dbs_insecure_remote = true, $ovn_northd_opts_addr = ""--db-nb-addr=${dbs_listen_ip} --db-sb-addr=${dbs_listen_ip}"" if $dbs_insecure_remote { $ovn_northd_opts_insecure = ""--db-nb-create-insecure-remote=yes --db-sb-create-insecure-remote=yes"" } else { $ovn_northd_opts_insecure = undef } $ovn_northd_opts_insecure,"," $dbs_listen_ip = '0.0.0.0', $dbs_cluster_local_addr = undef, $ovn_northd_opts_addr = ""--db-nb-addr=${dbs_listen_ip} --db-sb-addr=${dbs_listen_ip} \ --db-nb-create-insecure-remote=yes --db-sb-create-insecure-remote=yes""",11,4
openstack%2Fopenstacksdk~feature%2Fr1~Ib181fbd78bddb05eef5f6e8152366838d40a054a,openstack/openstacksdk,feature/r1,Ib181fbd78bddb05eef5f6e8152366838d40a054a,[WIP] Add share group snapshots to shared file system,ABANDONED,2021-10-18 02:50:15.000000000,2021-11-15 04:36:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 29260}]","[{'number': 1, 'created': '2021-10-18 02:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3319b237ce41a7784974ad4a141a0d4ab23a1108', 'message': '[WIP] Add share group snapshots to shared file system\n\nChange-Id: Ib181fbd78bddb05eef5f6e8152366838d40a054a\n'}, {'number': 2, 'created': '2021-10-25 03:51:33.000000000', 'files': ['openstack/tests/unit/cloud/test_caching.py', 'openstack/identity/v3/_proxy.py', 'openstack/tests/unit/cloud/test_shade.py', 'openstack/message/v2/_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/instance_ha/v1/_proxy.py', 'releasenotes/notes/drop-Resource-allow_get-attribute-fec75b551fb79465.yaml', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/accelerator/v2/_proxy.py', 'openstack/compute/v2/flavor.py', 'openstack/tests/unit/compute/v2/test_flavor.py', 'openstack/shared_file_system/v2/share_group_snapshots.py', 'openstack/resource.py', 'openstack/tests/unit/shared_file_system/v2/test_proxy.py', 'openstack/tests/unit/base.py', 'openstack/cloud/_compute.py', 'openstack/cloud/_security_group.py', 'openstack/tests/unit/placement/v1/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e84a0b106b2915333db63d7460b0aa9a7b6c7d02', 'message': '[WIP] Add share group snapshots to shared file system\n\nChange-Id: Ib181fbd78bddb05eef5f6e8152366838d40a054a\n'}]",50,814335,e84a0b106b2915333db63d7460b0aa9a7b6c7d02,5,2,2,34037,,,0,"[WIP] Add share group snapshots to shared file system

Change-Id: Ib181fbd78bddb05eef5f6e8152366838d40a054a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/35/814335/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/shared_file_system/v2/_proxy.py', 'openstack/cloud/_security_group.py', 'openstack/shared_file_system/v2/share_group_snapshots.py']",3,3319b237ce41a7784974ad4a141a0d4ab23a1108,share-group-snapshots,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class ShareGroupSnapshots(resource.Resource): resource_key = ""share_group_snapshots"" resources_key = ""share_groups_snapshots"" base_path = ""/share-group-snapshots"" # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True allow_head = False _query_mapping = resource.QueryParameters( ""group_snapshot_id"" ) _max_microversion = '2.31' #: Properties #id #name #links #: The ID of the project that owns the resource. project_id = resource.Body(""project_id"", type=str) #: Filters by a share group snapshot status. A valid value is creating, #: error, available, deleting, error_deleting. status = resource.Body(""status"", type=str) #: The UUID of the share group. share_group_id = resource.Body(""share_group_id"", type=str) #: The user defined description of the resource. description = resource.Body(""description"", type=str) #: The date and time stamp when the resource was created. created_at = resource.Body(""created_at"", type=str) #: The share group snapshot members. members = resource.Body(""members"", type=str) #: The snapshot size, in GiBs. size = resource.Body(""size"", type=int) #: NFS, CIFS, GlusterFS, HDFS, CephFS or MAPRFS. share_protocol = resource.Body(""share_proto"", type=str) #: The share group snapshot ID. #share_group_snapshot_id = resource.Body(""share_group_snapshot_id"", type=str) #: The UUID of the source share that was used to create the snapshot. share_id = resource.Body(""share_id"", type=str)",,145,3
openstack%2Ftripleo-common~master~I25be71542df1e738002063170138d5e66fabdaf4,openstack/tripleo-common,master,I25be71542df1e738002063170138d5e66fabdaf4,Deactivate LV's before disconnecting nbd device,MERGED,2021-11-10 16:17:51.000000000,2021-11-15 04:14:13.000000000,2021-11-12 02:40:11.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-10 16:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ca299601f90794200490896a348ee0e348652e7', 'message': ""Deactivate LV's before disconnecting nbd device\n\nIn tripleo-unmount-image, ensure the LV's is inactive\nprior to disconnection the NBD device. If the LV's are\nactive the device is locked, causing the disconnect to\nfail and subsequent attempts to mount using the same nbd\ndevice fails.\n\nChange-Id: I25be71542df1e738002063170138d5e66fabdaf4\nCloses-Bug: #1950137\n""}, {'number': 2, 'created': '2021-11-10 16:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02941066880241c14865589473bd471f8b37cd62', 'message': ""Deactivate LV's before disconnecting nbd device\n\nIn tripleo-unmount-image, ensure the LV's is inactive\nprior to disconnection the NBD device. If the LV's are\nactive the device is locked, causing the disconnect to\nfail and subsequent attempts to mount using the same nbd\ndevice fails.\n\nChange-Id: I25be71542df1e738002063170138d5e66fabdaf4\nCloses-Bug: #1950137\n""}, {'number': 3, 'created': '2021-11-11 10:25:27.000000000', 'files': ['scripts/tripleo-mount-image'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cc2a64572ddf90401476b1f1ce52b7c62b3b24ad', 'message': ""Deactivate LV's before disconnecting nbd device\n\nIn tripleo-unmount-image, ensure the LV's is inactive\nprior to disconnection the NBD device. If the LV's are\nactive the device is locked, causing the disconnect to\nfail and subsequent attempts to mount using the same nbd\ndevice fails.\n\nChange-Id: I25be71542df1e738002063170138d5e66fabdaf4\nCloses-Bug: #1950137\n""}]",10,817456,cc2a64572ddf90401476b1f1ce52b7c62b3b24ad,25,7,3,24245,,,0,"Deactivate LV's before disconnecting nbd device

In tripleo-unmount-image, ensure the LV's is inactive
prior to disconnection the NBD device. If the LV's are
active the device is locked, causing the disconnect to
fail and subsequent attempts to mount using the same nbd
device fails.

Change-Id: I25be71542df1e738002063170138d5e66fabdaf4
Closes-Bug: #1950137
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/817456/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-mount-image'],1,0ca299601f90794200490896a348ee0e348652e7,bug/1950137," # `--activate n` makes LVs inactive, they must be set # inactive so that the nbd device can be disconnected. # Ref bug: https://bugs.launchpad.net/tripleo/+bug/1950137 vgchange --activate n vg | truefi ",fi,5,1
openstack%2Fheat~master~I27ac04f8f4275094a8d817928b2201e6be22dede,openstack/heat,master,I27ac04f8f4275094a8d817928b2201e6be22dede,Use endpoint_type when creating keystoneclient,ABANDONED,2021-11-09 09:51:48.000000000,2021-11-15 03:42:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-11-09 09:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fafef4f14b8d98644b2f20ef35aa4095686a1540', 'message': 'Use endpoint_type when creating keystoneclient\n\nKeystone admin endpoint has been removed from devstack with[1].\nThis would use the public endpoint by default.\n\n[1] I0dc7d6cedd07e942b9f23b26a785b386aff41fbc\nChange-Id: I27ac04f8f4275094a8d817928b2201e6be22dede\n'}, {'number': 2, 'created': '2021-11-09 11:20:38.000000000', 'files': ['heat/tests/clients/test_heat_client.py', 'heat_integrationtests/common/clients.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c38401f87a8f91a2c889d4445dfdcd5be640abe7', 'message': 'Use endpoint_type when creating keystoneclient\n\nKeystone admin endpoint has been removed from devstack with[1].\nThis would use the public endpoint by default.\n\n[1] I0dc7d6cedd07e942b9f23b26a785b386aff41fbc\nChange-Id: I27ac04f8f4275094a8d817928b2201e6be22dede\n'}]",2,817175,c38401f87a8f91a2c889d4445dfdcd5be640abe7,10,2,2,8833,,,0,"Use endpoint_type when creating keystoneclient

Keystone admin endpoint has been removed from devstack with[1].
This would use the public endpoint by default.

[1] I0dc7d6cedd07e942b9f23b26a785b386aff41fbc
Change-Id: I27ac04f8f4275094a8d817928b2201e6be22dede
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/817175/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/clients/test_heat_client.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py']",2,fafef4f14b8d98644b2f20ef35aa4095686a1540,fedora-33-mirror,"from heat.common import config self._interface = config.get_client_option('keystone', 'endpoint_type') interface=self._interface, interface=self._interface,",,8,0
openstack%2Fopenstack-helm~master~Icc07e3915a3b07beb02e8c0845d8d6e18adfcfea,openstack/openstack-helm,master,Icc07e3915a3b07beb02e8c0845d8d6e18adfcfea,Removed the policy from values in favor of policy in code,MERGED,2021-11-11 14:50:56.000000000,2021-11-15 03:20:44.000000000,2021-11-15 03:18:52.000000000,"[{'_account_id': 1004}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-11-11 14:50:56.000000000', 'files': ['releasenotes/notes/barbican.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/420dac178edb051a7b53954e8ad98fce0150dee1', 'message': 'Removed the policy from values in favor of policy in code\n\nAs services have the default policy in code, the policy in values files is removed.\n\nChange-Id: Icc07e3915a3b07beb02e8c0845d8d6e18adfcfea\n'}]",0,817567,420dac178edb051a7b53954e8ad98fce0150dee1,9,4,1,33130,,,0,"Removed the policy from values in favor of policy in code

As services have the default policy in code, the policy in values files is removed.

Change-Id: Icc07e3915a3b07beb02e8c0845d8d6e18adfcfea
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/817567/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml']",3,420dac178edb051a7b53954e8ad98fce0150dee1,barbican-policy,version: 0.2.9,version: 0.2.8,3,97
openstack%2Fkolla-ansible~master~Ia105ab9f02695234d4fa14f0ce3361cc51922e8a,openstack/kolla-ansible,master,Ia105ab9f02695234d4fa14f0ce3361cc51922e8a,The ironic-ipxe service should be False when the enable_ironic_ipxe is no,ABANDONED,2021-11-12 09:26:10.000000000,2021-11-15 02:49:03.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 09:26:10.000000000', 'files': ['ansible/roles/ironic/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5224b2cf1d4b13d7aa72f8708c5b360f189365b', 'message': 'The ironic-ipxe service should be False when the enable_ironic_ipxe is no\n\nChange-Id: Ia105ab9f02695234d4fa14f0ce3361cc51922e8a\n'}]",2,817722,e5224b2cf1d4b13d7aa72f8708c5b360f189365b,5,2,1,32029,,,0,"The ironic-ipxe service should be False when the enable_ironic_ipxe is no

Change-Id: Ia105ab9f02695234d4fa14f0ce3361cc51922e8a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/817722/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/defaults/main.yml'],1,e5224b2cf1d4b13d7aa72f8708c5b360f189365b,pxe," enabled: ""{{ not enable_ironic_ipxe | bool }}"" enabled: ""{{ enable_ironic_ipxe | bool }}""", enabled: true enabled: true,2,2
openstack%2Fzaqar-specs~master~Ia65d8fd7886364fb89e39351843cf005091b3eef,openstack/zaqar-specs,master,Ia65d8fd7886364fb89e39351843cf005091b3eef,Add Xena and Yoga folders for specs,MERGED,2021-11-10 02:39:04.000000000,2021-11-15 01:52:46.000000000,2021-11-15 01:51:26.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 02:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/365c2ac1f999c82f790665197e5ec9aa6125736f', 'message': 'Add Xena and Yoga folders for specs\n\nChange-Id: Ia65d8fd7886364fb89e39351843cf005091b3eef\n'}, {'number': 2, 'created': '2021-11-15 01:30:26.000000000', 'files': ['specs/index.rst', 'specs/xena/index.rst', 'specs/yoga/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/abc208ec3b16d5bdcef6421bfe00f6b73ea8d3b3', 'message': 'Add Xena and Yoga folders for specs\n\nChange-Id: Ia65d8fd7886364fb89e39351843cf005091b3eef\n'}]",0,817334,abc208ec3b16d5bdcef6421bfe00f6b73ea8d3b3,9,2,2,8846,,,0,"Add Xena and Yoga folders for specs

Change-Id: Ia65d8fd7886364fb89e39351843cf005091b3eef
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/34/817334/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/index.rst', 'specs/yoga/index.rst']",2,365c2ac1f999c82f790665197e5ec9aa6125736f,add-spec-folders,===================== Yoga Specifications ===================== .. toctree:: :glob: :maxdepth: 2 ,,14,0
openstack%2Fpuppet-cinder~master~I1e5e301e64b026bbc2745a81515bef21b35dfb36,openstack/puppet-cinder,master,I1e5e301e64b026bbc2745a81515bef21b35dfb36,Install python3-boto3 when s3 backup driver is used,ABANDONED,2021-11-15 01:49:10.000000000,2021-11-15 01:49:56.000000000,,[],"[{'number': 1, 'created': '2021-11-15 01:49:10.000000000', 'files': ['spec/classes/cinder_backup_s3_spec.rb', 'manifests/backup/s3.pp', 'manifests/params.pp', 'releasenotes/notes/boto3-4d2cc93a9391aa3e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5d1f3f6a25fdcea528532060e3891fe52fe8025b', 'message': 'Install python3-boto3 when s3 backup driver is used\n\nThe python3-boto3 package is required to use s3 backup driver but now\nthe package is not required by the cinder package and should be\ninstalled additionally.\n\nThis change makes sure the dependent package is installed when s3\nbackup driver is used.\n\nChange-Id: I1e5e301e64b026bbc2745a81515bef21b35dfb36\n'}]",0,817880,5d1f3f6a25fdcea528532060e3891fe52fe8025b,2,0,1,9816,,,0,"Install python3-boto3 when s3 backup driver is used

The python3-boto3 package is required to use s3 backup driver but now
the package is not required by the cinder package and should be
installed additionally.

This change makes sure the dependent package is installed when s3
backup driver is used.

Change-Id: I1e5e301e64b026bbc2745a81515bef21b35dfb36
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/80/817880/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_backup_s3_spec.rb', 'manifests/backup/s3.pp', 'manifests/params.pp', 'releasenotes/notes/boto3-4d2cc93a9391aa3e.yaml']",4,5d1f3f6a25fdcea528532060e3891fe52fe8025b,,--- features: - | Now the ``python3-boto3`` package is automatucally installed when s3 backup driver is used. ,,22,2
openstack%2Fswift~master~I9ddf8a6684e804c2ae7e0994f0b0aaf6e8d6fbef,openstack/swift,master,I9ddf8a6684e804c2ae7e0994f0b0aaf6e8d6fbef,Replace deprecated assertRegexpMatches,ABANDONED,2021-11-12 05:59:37.000000000,2021-11-15 01:06:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-12 05:59:37.000000000', 'files': ['test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py', 'test/unit/obj/test_ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/11120324f96d19487f8255916417829f25e72eff', 'message': 'Replace deprecated assertRegexpMatches\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2.\n\nChange-Id: I9ddf8a6684e804c2ae7e0994f0b0aaf6e8d6fbef\nhttps: //docs.python.org/3/library/unittest.html#deprecated-aliases\n'}]",0,817698,11120324f96d19487f8255916417829f25e72eff,4,1,1,32291,,,0,"Replace deprecated assertRegexpMatches

The assertRaisesRegexp method has been deprecated since it was renamed
to assertRaisesRegex in Python 3.2.

Change-Id: I9ddf8a6684e804c2ae7e0994f0b0aaf6e8d6fbef
https: //docs.python.org/3/library/unittest.html#deprecated-aliases
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/817698/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py', 'test/unit/obj/test_ssync_receiver.py']",3,11120324f96d19487f8255916417829f25e72eff,, self.assertRegex(, self.assertRegexpMatches(,3,3
openstack%2Foslo.utils~master~I619bd513a1774bbecce055f2d282115ca9fd0c1e,openstack/oslo.utils,master,I619bd513a1774bbecce055f2d282115ca9fd0c1e,Replace deprecated assertAlmostEquals,ABANDONED,2021-11-12 03:15:57.000000000,2021-11-15 01:06:08.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 03:15:57.000000000', 'files': ['oslo_utils/tests/test_timeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/6a7a2d8548b69b009c9a0408adeb9abbede480cd', 'message': 'Replace deprecated assertAlmostEquals\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2.\n\nhttps: //docs.python.org/3/library/unittest.html#deprecated-aliases\nChange-Id: I619bd513a1774bbecce055f2d282115ca9fd0c1e\n'}]",3,817690,6a7a2d8548b69b009c9a0408adeb9abbede480cd,6,2,1,32291,,,0,"Replace deprecated assertAlmostEquals

The assertRaisesRegexp method has been deprecated since it was renamed
to assertRaisesRegex in Python 3.2.

https: //docs.python.org/3/library/unittest.html#deprecated-aliases
Change-Id: I619bd513a1774bbecce055f2d282115ca9fd0c1e
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/90/817690/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/tests/test_timeutils.py'],1,6a7a2d8548b69b009c9a0408adeb9abbede480cd,," self.assertAlmostEquas(604859.123456, timeutils.delta_seconds(before, after))"," self.assertAlmostEquals(604859.123456, timeutils.delta_seconds(before, after))",2,2
openstack%2Fpython-openstackclient~master~I06ab579f494a7c956fc382f882100ecd8e18be3d,openstack/python-openstackclient,master,I06ab579f494a7c956fc382f882100ecd8e18be3d,Switch compute service list to sdk.,ABANDONED,2021-11-14 23:55:59.000000000,2021-11-14 23:58:16.000000000,,[],"[{'number': 1, 'created': '2021-11-14 23:55:59.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/compute/v2/server_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/959b612786c8fdc42aee18cdb8d0effae0de98db', 'message': ""Switch compute service list to sdk.\n\nThis service doesn't return any value for the field 'Zone' for the SDK. Not sure if we can move forward with this command without that in place.\n\nSwitch the compute service list command from novaclient to SDK.\n\nChange-Id: I06ab579f494a7c956fc382f882100ecd8e18be3d\n""}]",0,817874,959b612786c8fdc42aee18cdb8d0effae0de98db,2,0,1,34060,,,0,"Switch compute service list to sdk.

This service doesn't return any value for the field 'Zone' for the SDK. Not sure if we can move forward with this command without that in place.

Switch the compute service list command from novaclient to SDK.

Change-Id: I06ab579f494a7c956fc382f882100ecd8e18be3d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/74/817874/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/compute/v2/server_volume.py']",3,959b612786c8fdc42aee18cdb8d0effae0de98db,nova-migration-NU2021fall-cloud,"from novaclient import api_versions compute_client = self.app.client_manager.compute server = utils.find_resource( compute_client.servers, parsed_args.server, ) volumes = compute_client.volumes.get_server_volumes(server.id) if compute_client.api_version < api_versions.APIVersion('2.89'): 'serverId', 'volumeId', if compute_client.api_version >= api_versions.APIVersion('2.70'): if compute_client.api_version >= api_versions.APIVersion('2.79'): if compute_client.api_version >= api_versions.APIVersion('2.89'): s, columns, mixed_case_fields=('serverId', 'volumeId') compute_client = self.app.client_manager.compute if compute_client.api_version < api_versions.APIVersion('2.85'): server = utils.find_resource( compute_client.servers, compute_client.volumes.update_server_volume( parsed_args.volume, parsed_args.volume, delete_on_termination=parsed_args.delete_on_termination,","from openstack import utils as sdk_utils compute_client = self.app.client_manager.sdk_connection.compute server = compute_client.find_server( parsed_args.server, ignore_missing=False) volumes = compute_client.volume_attachments(server.id) if not sdk_utils.supports_microversion(compute_client, '2.89'): 'server_id', 'volume_id', if sdk_utils.supports_microversion(compute_client, '2.70'): if sdk_utils.supports_microversion(compute_client, '2.79'): if sdk_utils.supports_microversion(compute_client, '2.89'): s, columns, mixed_case_fields=('server_id', 'volume_id') compute_client = self.app.client_manager.sdk_connection.compute if not sdk_utils.supports_microversion(compute_client, '2.85'): server = compute_client.find_server( ignore_missing=False # compute_client.volumes.update_server_volume( # server.id, # parsed_args.volume, # parsed_args.volume, # delete_on_termination=parsed_args.delete_on_termination, # ) compute_client.update_volume_attachment( parsed_args.volume, delete_on_termination=parsed_args.delete_on_termination",92,108
openstack%2Fpython-openstackclient~master~I3268e9fa00dc82936f8c971a736449d43cffcda4,openstack/python-openstackclient,master,I3268e9fa00dc82936f8c971a736449d43cffcda4,Switch list server volume to sdk.,ABANDONED,2021-11-10 01:24:21.000000000,2021-11-14 23:37:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-10 01:24:21.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/compute/v2/server_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c0e7825c15daaa3ce1284bac819be1b95760675a', 'message': ""Switch list server volume to sdk.\n\nAs far as I understand, VolumeAttachments is missing the field for 'BlockDeviceMapping UUID' in the SDK. As a result, one test case is failing. Would appreciate some feedback on how to resolve this!\n\nSwitch the server volume list command from novaclient to SDK. Use the SDK versions of test fakes to support fake Server resources\n\nChange-Id: I5b4ab7d0275aec2e02451c5371319ac350af6a5f\nwq\n\nChange-Id: I3268e9fa00dc82936f8c971a736449d43cffcda4\n""}]",24,817321,c0e7825c15daaa3ce1284bac819be1b95760675a,3,1,1,34060,,,0,"Switch list server volume to sdk.

As far as I understand, VolumeAttachments is missing the field for 'BlockDeviceMapping UUID' in the SDK. As a result, one test case is failing. Would appreciate some feedback on how to resolve this!

Switch the server volume list command from novaclient to SDK. Use the SDK versions of test fakes to support fake Server resources

Change-Id: I5b4ab7d0275aec2e02451c5371319ac350af6a5f
wq

Change-Id: I3268e9fa00dc82936f8c971a736449d43cffcda4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/21/817321/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/compute/v2/server_volume.py']",3,c0e7825c15daaa3ce1284bac819be1b95760675a,,"from openstack import utils as sdk_utils #compute_client = self.app.client_manager.compute compute_client = self.app.client_manager.sdk_connection.compute #if compute_client.api_version < api_versions.APIVersion('2.85'): if not sdk_utils.supports_microversion(compute_client, '2.85'): #server = utils.find_resource( # compute_client.servers, # parsed_args.server, #) server = compute_client.find_server(parsed_args.server, ignore_missing=False) #compute_client.volumes.update_server_volume( # server.id, # parsed_args.volume, # parsed_args.volume, # delete_on_termination=parsed_args.delete_on_termination, #) compute_client.update_volume_attachment( parsed_args.volume, delete_on_termination=parsed.args.delete_on_termination","from openstack import utils as sdk_utils compute_client = self.app.client_manager.compute if compute_client.api_version < api_versions.APIVersion('2.85'): server = utils.find_resource( compute_client.servers, parsed_args.server, ) compute_client.volumes.update_server_volume( parsed_args.volume, parsed_args.volume, delete_on_termination=parsed_args.delete_on_termination,",59,36
openstack%2Fpuppet-senlin~master~I8fd36bf00fee4d07bb35da36a2f7cca4e0b52a7d,openstack/puppet-senlin,master,I8fd36bf00fee4d07bb35da36a2f7cca4e0b52a7d,Retire puppet-senlin - Step 2: Remove Project Content,MERGED,2021-11-10 02:18:00.000000000,2021-11-14 23:36:13.000000000,2021-11-14 23:36:13.000000000,"[{'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 02:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/640978ccfe895a102295de355d1d09faff3caaac', 'message': 'Retire puppet-senlin - Step 2: Remove Project Content\n\nDepends-on: https://review.opendev.org/817324\nChange-Id: I8fd36bf00fee4d07bb35da36a2f7cca4e0b52a7d\n'}, {'number': 2, 'created': '2021-11-10 17:14:07.000000000', 'files': ['spec/classes/senlin_client_spec.rb', 'releasenotes/notes/keystone-authtoken-service_type-3bb225be3cf7811f.yaml', 'README.rst', 'manifests/db.pp', 'releasenotes/notes/service_token_roles_required-b9edb92dee509b67.yaml', 'setup.py', 'spec/shared_examples.rb', 'CONTRIBUTING.rst', 'lib/puppet/type/senlin_config.rb', 'lib/puppet/provider/senlin_config/ini_setting.rb', 'manifests/params.pp', 'manifests/deps.pp', 'LICENSE', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-a0c747725f2887cb.yaml', 'manifests/logging.pp', 'releasenotes/source/xena.rst', 'releasenotes/source/wallaby.rst', 'spec/unit/type/senlin_config_spec.rb', 'releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst', 'manifests/config.pp', 'README.md', 'spec/classes/senlin_db_postgresql_spec.rb', 'releasenotes/notes/policy-dirs-df7a15b005ca3fa2.yaml', 'metadata.json', 'spec/classes/senlin_db_sync_spec.rb', 'releasenotes/notes/policy-enforce_new_defaults-4f39602d8116263f.yaml', 'spec/classes/senlin_keystone_authtoken_spec.rb', 'spec/spec_helper.rb', 'setup.cfg', 'tox.ini', 'manifests/policy.pp', 'manifests/keystone/auth.pp', 'spec/classes/senlin_keystone_auth_spec.rb', '.gitignore', 'spec/classes/senlin_policy_spec.rb', 'examples/init.pp', 'manifests/db/sync.pp', 'Gemfile', 'releasenotes/source/victoria.rst', 'releasenotes/notes/add_watch_log_file-option-b9897b4c177aa927.yaml', 'manifests/db/mysql.pp', 'releasenotes/notes/add_db_sync_timeout-a15a96ab46ead40f.yaml', 'releasenotes/notes/deprecate_idle_timeout_parameter-a5ead4518eb1c9a3.yaml', 'bindep.txt', 'releasenotes/notes/keystone-authtoken-interface-a131d7b70280b297.yaml', 'releasenotes/notes/add_mysql_enable_ndb-option-b750388b7f014f3d.yaml', 'Rakefile', 'releasenotes/source/_static/.placeholder', 'spec/spec_helper_acceptance.rb', 'releasenotes/source/stein.rst', 'releasenotes/notes/add-service_token_roles-option-9a0c9608f64238c8.yaml', 'releasenotes/notes/deprecate_database_min_pool_size-option-aec8eb1e870c77a2.yaml', 'manifests/db/postgresql.pp', 'spec/classes/senlin_logging_spec.rb', '.zuul.yaml', 'manifests/init.pp', 'releasenotes/notes/puppet4-mysql-func-4cca3d1b4c9bbcb4.yaml', 'releasenotes/notes/remove_idle_timeout_option-a5c75beb1b568c15.yaml', 'releasenotes/notes/oslo_policy-enforce_scope-e0197030dc256765.yaml', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'releasenotes/notes/add-client-class-bfeb344f414b3719.yaml', 'spec/classes/senlin_db_mysql_spec.rb', 'spec/unit/provider/senlin_config/ini_setting_spec.rb', 'releasenotes/notes/policy_purge_config-b73fe2b70d70a740.yaml', 'doc/requirements.txt', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'spec/classes/senlin_db_spec.rb', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/d5037baedf15936a1bc2f44967b3b257e824e8de', 'message': 'Retire puppet-senlin - Step 2: Remove Project Content\n\nDepends-on: https://review.opendev.org/817324\nChange-Id: I8fd36bf00fee4d07bb35da36a2f7cca4e0b52a7d\n'}]",4,817325,d5037baedf15936a1bc2f44967b3b257e824e8de,15,4,2,9816,,,0,"Retire puppet-senlin - Step 2: Remove Project Content

Depends-on: https://review.opendev.org/817324
Change-Id: I8fd36bf00fee4d07bb35da36a2f7cca4e0b52a7d
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/25/817325/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/senlin_client_spec.rb', 'releasenotes/notes/keystone-authtoken-service_type-3bb225be3cf7811f.yaml', 'manifests/db.pp', 'releasenotes/notes/service_token_roles_required-b9edb92dee509b67.yaml', 'setup.py', 'spec/shared_examples.rb', 'CONTRIBUTING.rst', 'lib/puppet/type/senlin_config.rb', 'lib/puppet/provider/senlin_config/ini_setting.rb', 'manifests/params.pp', 'manifests/deps.pp', 'LICENSE', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-a0c747725f2887cb.yaml', 'manifests/logging.pp', 'releasenotes/source/xena.rst', 'releasenotes/source/wallaby.rst', 'spec/unit/type/senlin_config_spec.rb', 'releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst', 'manifests/config.pp', 'README.md', 'spec/classes/senlin_db_postgresql_spec.rb', 'releasenotes/notes/policy-dirs-df7a15b005ca3fa2.yaml', 'metadata.json', 'spec/classes/senlin_db_sync_spec.rb', 'releasenotes/notes/policy-enforce_new_defaults-4f39602d8116263f.yaml', 'spec/classes/senlin_keystone_authtoken_spec.rb', 'spec/spec_helper.rb', 'setup.cfg', 'tox.ini', 'manifests/policy.pp', 'manifests/keystone/auth.pp', 'spec/classes/senlin_keystone_auth_spec.rb', '.gitignore', 'spec/classes/senlin_policy_spec.rb', 'examples/init.pp', 'manifests/db/sync.pp', 'Gemfile', 'releasenotes/source/victoria.rst', 'releasenotes/notes/add_watch_log_file-option-b9897b4c177aa927.yaml', 'manifests/db/mysql.pp', 'releasenotes/notes/add_db_sync_timeout-a15a96ab46ead40f.yaml', 'releasenotes/notes/deprecate_idle_timeout_parameter-a5ead4518eb1c9a3.yaml', 'bindep.txt', 'releasenotes/notes/keystone-authtoken-interface-a131d7b70280b297.yaml', 'releasenotes/notes/add_mysql_enable_ndb-option-b750388b7f014f3d.yaml', 'Rakefile', 'releasenotes/source/_static/.placeholder', 'spec/spec_helper_acceptance.rb', 'releasenotes/source/stein.rst', 'releasenotes/notes/add-service_token_roles-option-9a0c9608f64238c8.yaml', 'releasenotes/notes/deprecate_database_min_pool_size-option-aec8eb1e870c77a2.yaml', 'manifests/db/postgresql.pp', 'spec/classes/senlin_logging_spec.rb', '.zuul.yaml', 'manifests/init.pp', 'releasenotes/notes/puppet4-mysql-func-4cca3d1b4c9bbcb4.yaml', 'releasenotes/notes/remove_idle_timeout_option-a5c75beb1b568c15.yaml', 'releasenotes/notes/oslo_policy-enforce_scope-e0197030dc256765.yaml', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'releasenotes/notes/add-client-class-bfeb344f414b3719.yaml', 'spec/classes/senlin_db_mysql_spec.rb', 'spec/unit/provider/senlin_config/ini_setting_spec.rb', 'releasenotes/notes/policy_purge_config-b73fe2b70d70a740.yaml', 'doc/requirements.txt', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'spec/classes/senlin_db_spec.rb', 'releasenotes/source/conf.py']",70,640978ccfe895a102295de355d1d09faff3caaac,retire-puppet-senlin,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. #sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. #needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. #source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. copyright = u'2018, Puppet OpenStack Developers' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: #today = '' # Else, today_fmt is used as the format for a strftime call. #today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. #default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. #add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). #add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. #show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. #modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. #keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. #html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". #html_title = None # A shorter title for the navigation bar. Default is the same as html_title. #html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. #html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. #html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. #html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. #html_use_smartypants = True # Custom sidebar templates, maps document names to template names. #html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. #html_additional_pages = {} # If false, no module index is generated. #html_domain_indices = True # If false, no index is generated. #html_use_index = True # If true, the index is split into individual pages for each letter. #html_split_index = False # If true, links to the reST sources are added to the pages. #html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. #html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. #html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. #html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). #html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'puppet-senlinReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'puppet-senlinReleaseNotes.tex', u'puppet-senlin Release Notes Documentation', u'2018, Puppet OpenStack Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. #latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. #latex_use_parts = False # If true, show page references after internal links. #latex_show_pagerefs = False # If true, show URL addresses after external links. #latex_show_urls = False # Documents to append as an appendix to all manuals. #latex_appendices = [] # If false, no module index is generated. #latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'puppet-senlinreleasenotes', u'puppet-senlin Release Notes Documentation', [u'2018, Puppet OpenStack Developers'], 1) ] # If true, show URL addresses after external links. #man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'puppet-senlinReleaseNotes', u'puppet-senlin Release Notes Documentation', u'2018, Puppet OpenStack Developers', 'puppet-senlinReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. #texinfo_appendices = [] # If false, no module index is generated. #texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. #texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. #texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] openstackdocs_auto_name = False ",0,2785
openstack%2Fproject-config~master~I6828383643aee1d6dadc71dfd6c25ba91a1bf561,openstack/project-config,master,I6828383643aee1d6dadc71dfd6c25ba91a1bf561,Add Fedora 35,MERGED,2021-11-08 04:15:27.000000000,2021-11-14 22:33:50.000000000,2021-11-14 22:19:52.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 04:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e99e140c8eccb2d6378e150db77af7f7ebd16fb0', 'message': 'Add Fedora 35\n\nDIB with support is deployed to builder nodes\n\nChange-Id: I6828383643aee1d6dadc71dfd6c25ba91a1bf561\n'}, {'number': 2, 'created': '2021-11-08 04:20:41.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8d93ea149cadae16b7bd3148b2085de980ffa6c', 'message': 'Add Fedora 35\n\nDIB with support is deployed to builder nodes\n\nChange-Id: I6828383643aee1d6dadc71dfd6c25ba91a1bf561\n'}]",2,816931,f8d93ea149cadae16b7bd3148b2085de980ffa6c,12,4,2,7118,,,0,"Add Fedora 35

DIB with support is deployed to builder nodes

Change-Id: I6828383643aee1d6dadc71dfd6c25ba91a1bf561
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/816931/2 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",5,e99e140c8eccb2d6378e150db77af7f7ebd16fb0,f35, - name: fedora-35 - name: fedora-35 config-drive: true - name: fedora-35 min-ram: 8000 flavor-name: 'A1.8' diskimage: fedora-35 key-name: infra-root-keys-2020-05-13 - name: fedora-35 min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: fedora-35 key-name: infra-root-keys-2020-05-13 - name: fedora-35,,65,0
openstack%2Frequirements~master~Icad8e95cbb78338b2e2d93a1af0de9ece04f09f0,openstack/requirements,master,Icad8e95cbb78338b2e2d93a1af0de9ece04f09f0,Increase cross-neutron job timeout,MERGED,2021-11-14 09:12:58.000000000,2021-11-14 19:30:28.000000000,2021-11-14 19:27:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-14 09:12:58.000000000', 'files': ['.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4b37a3d1ac102eefc6ab13db8f453a1e149c9c23', 'message': 'Increase cross-neutron job timeout\n\nNeutron tox jobs are getting ever slower, neutron itself has therefore\nrecently increased their tox job timeout to 1h[0]. Do the same here in\norder to avoid failures.\n\n[0] I415c1d67757354243855ac44862f245eb08887c8\n\nChange-Id: Icad8e95cbb78338b2e2d93a1af0de9ece04f09f0\n'}]",0,817867,4b37a3d1ac102eefc6ab13db8f453a1e149c9c23,7,2,1,13252,,,0,"Increase cross-neutron job timeout

Neutron tox jobs are getting ever slower, neutron itself has therefore
recently increased their tox job timeout to 1h[0]. Do the same here in
order to avoid failures.

[0] I415c1d67757354243855ac44862f245eb08887c8

Change-Id: Icad8e95cbb78338b2e2d93a1af0de9ece04f09f0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/817867/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cross-jobs.yaml'],1,4b37a3d1ac102eefc6ab13db8f453a1e149c9c23,neutron-timeout, timeout: 3600,,1,0
openstack%2Fneutron~stable%2Fwallaby~I456afcc9054627e74b18460d169052f262451c22,openstack/neutron,stable/wallaby,I456afcc9054627e74b18460d169052f262451c22,Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list,MERGED,2021-10-25 13:44:20.000000000,2021-11-14 18:47:50.000000000,2021-11-11 02:30:01.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 13:44:20.000000000', 'files': ['neutron/common/ovn/extensions.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbde4d99794eeb47a2792dda798c96062cd2e368', 'message': 'Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list\n\nCherry-picked from bc82a66 (I456afcc9054627e74b18460d169052f262451c22)\n\ndns-integration extension is actually implemented as ML2 extension\ndriver, so has nothing to do with the L3 plugin.\nIn OVN it was listed in the ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 but it\nshould be in ML2_SUPPORTED_API_EXTENSIONS. This patch moves it to the\ncorrect list.\nThis patch also removes disable_dns_extension_by_extension_drivers\nmethod from the OVN L3 plugin class as there is no need to disable this\nextension by L3 agent.\n\nRelated-Bug: #1929676\nChange-Id: I456afcc9054627e74b18460d169052f262451c22\n(cherry picked from commit bc82a664b637c72b49fd585a41350164103d6aaa)\n'}]",1,815306,dbde4d99794eeb47a2792dda798c96062cd2e368,17,4,1,20870,,,0,"Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list

Cherry-picked from bc82a66 (I456afcc9054627e74b18460d169052f262451c22)

dns-integration extension is actually implemented as ML2 extension
driver, so has nothing to do with the L3 plugin.
In OVN it was listed in the ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 but it
should be in ML2_SUPPORTED_API_EXTENSIONS. This patch moves it to the
correct list.
This patch also removes disable_dns_extension_by_extension_drivers
method from the OVN L3 plugin class as there is no need to disable this
extension by L3 agent.

Related-Bug: #1929676
Change-Id: I456afcc9054627e74b18460d169052f262451c22
(cherry picked from commit bc82a664b637c72b49fd585a41350164103d6aaa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/815306/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/extensions.py', 'neutron/services/ovn_l3/plugin.py']",2,dbde4d99794eeb47a2792dda798c96062cd2e368,,,"from neutron_lib.api.definitions import dns as dns_apideffrom neutron_lib.api import extensions as api_extensions @staticmethod def disable_dns_extension_by_extension_drivers(aliases): core_plugin = directory.get_plugin() if not api_extensions.is_extension_supported( core_plugin, dns_apidef.ALIAS): aliases.remove(dns_apidef.ALIAS) self.disable_dns_extension_by_extension_drivers(self._aliases)",1,10
openstack%2Fneutron~master~Ib08869fb1ad40cf1334352ea869b4727340df16b,openstack/neutron,master,Ib08869fb1ad40cf1334352ea869b4727340df16b,"Remove ""get_logical_port_chassis_and_datapath""",MERGED,2021-10-11 16:35:02.000000000,2021-11-14 18:18:45.000000000,2021-11-14 18:17:01.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32291}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-10-11 16:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a58fc6a2e8576fe3bf4d1bf20a1152d6adc2d533', 'message': 'Remove ""get_logical_port_chassis_and_datapath""\n\nSince [1], this method is not used anymore.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/791997\n\nChange-Id: Ib08869fb1ad40cf1334352ea869b4727340df16b\n'}, {'number': 2, 'created': '2021-11-02 17:51:08.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb022c1d5c708b7fe618d5a6903d4571f0e04106', 'message': 'Remove ""get_logical_port_chassis_and_datapath""\n\nSince [1], this method is not used anymore.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/791997\n\nChange-Id: Ib08869fb1ad40cf1334352ea869b4727340df16b\n'}]",2,813462,cb022c1d5c708b7fe618d5a6903d4571f0e04106,217,8,2,16688,,,0,"Remove ""get_logical_port_chassis_and_datapath""

Since [1], this method is not used anymore.

[1]https://review.opendev.org/c/openstack/neutron/+/791997

Change-Id: Ib08869fb1ad40cf1334352ea869b4727340df16b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/813462/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",3,a58fc6a2e8576fe3bf4d1bf20a1152d6adc2d533,trivial-fix,," def test_get_logical_port_chassis_and_datapath(self): chassis, switch, port, binding = self._add_switch_port( self.data['chassis'][0]['name']) self.api.lsp_bind(port.name, chassis.name).execute(check_error=True) self.assertEqual( (chassis.name, str(binding.datapath.uuid)), self.api.get_logical_port_chassis_and_datapath(port.name)) ",0,18
openstack%2Fneutron~master~Id393cbec31dd64a795e85d756b7b843c9dfc59f3,openstack/neutron,master,Id393cbec31dd64a795e85d756b7b843c9dfc59f3,[ovn] Add timeout option to ovsdb-client command,MERGED,2021-11-04 13:37:49.000000000,2021-11-14 12:24:05.000000000,2021-11-14 12:22:37.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-11-04 13:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62c54ab1c0ff7c5bc8644f27be3e4f6edc81db9d', 'message': ""[ovn] Add timeout option to ovsdb-client command\n\nToday, we invoke ovsdb-client to cleanup the MAC_Binding entries\nwithout specifying any timeout. This can lead to workers blocking\nforever if there's an issue with the connection to the server.\n\nThis patch is adding a timeout parameter to the command line to\nprevent this condition.\n\nCloses-Bug: #1948891\nRelated-Bug: #1946318\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id393cbec31dd64a795e85d756b7b843c9dfc59f3\n""}, {'number': 2, 'created': '2021-11-04 13:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b3b61ed8a9ad5a8411b3aa9608c931bb19b1889', 'message': ""[ovn] Add timeout option to ovsdb-client command\n\nToday, we invoke ovsdb-client to cleanup the MAC_Binding entries\nwithout specifying any timeout. This can lead to workers blocking\nforever if there's an issue with the connection to the server.\n\nThis patch is adding a timeout parameter to the command line to\nprevent this condition.\n\nCloses-Bug: #1948891\nRelated-Bug: #1946318\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id393cbec31dd64a795e85d756b7b843c9dfc59f3\n""}, {'number': 3, 'created': '2021-11-04 13:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b1c4b67851a2120fc7cb6177c86883a2a9ef9ed', 'message': ""[ovn] Add timeout option to ovsdb-client command\n\nToday, we invoke ovsdb-client to cleanup the MAC_Binding entries\nwithout specifying any timeout. This can lead to workers blocking\nforever if there's an issue with the connection to the server.\n\nThis patch is adding a timeout parameter to the command line to\nprevent this condition.\n\nCloses-Bug: #1948891\nRelated-Bug: #1946318\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id393cbec31dd64a795e85d756b7b843c9dfc59f3\n""}, {'number': 4, 'created': '2021-11-10 09:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fac636ecb7d60234feadb83df2263c4d10033e0', 'message': ""[ovn] Add timeout option to ovsdb-client command\n\nToday, we invoke ovsdb-client to cleanup the MAC_Binding entries\nwithout specifying any timeout. This can lead to workers blocking\nforever if there's an issue with the connection to the server.\n\nThis patch is adding a timeout parameter to the command line to\nprevent this condition.\n\nCloses-Bug: #1948891\nRelated-Bug: #1946318\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id393cbec31dd64a795e85d756b7b843c9dfc59f3\n""}, {'number': 5, 'created': '2021-11-11 07:48:32.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7874c576013928c036dca4d9c0a38e5b8ae06bb4', 'message': ""[ovn] Add timeout option to ovsdb-client command\n\nToday, we invoke ovsdb-client to cleanup the MAC_Binding entries\nwithout specifying any timeout. This can lead to workers blocking\nforever if there's an issue with the connection to the server.\n\nThis patch is adding a timeout parameter to the command line to\nprevent this condition.\n\nCloses-Bug: #1948891\nRelated-Bug: #1946318\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Id393cbec31dd64a795e85d756b7b843c9dfc59f3\n""}]",14,816698,7874c576013928c036dca4d9c0a38e5b8ae06bb4,93,7,5,23804,,,0,"[ovn] Add timeout option to ovsdb-client command

Today, we invoke ovsdb-client to cleanup the MAC_Binding entries
without specifying any timeout. This can lead to workers blocking
forever if there's an issue with the connection to the server.

This patch is adding a timeout parameter to the command line to
prevent this condition.

Closes-Bug: #1948891
Related-Bug: #1946318

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Id393cbec31dd64a795e85d756b7b843c9dfc59f3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/816698/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,62c54ab1c0ff7c5bc8644f27be3e4f6edc81db9d,," cmd = ['ovsdb-client', 'transact', ovn_conf.get_ovn_sb_connection(), '--timeout', ovn_conf.get_ovn_ovsdb_timeout()]"," cmd = ['ovsdb-client', 'transact', ovn_conf.get_ovn_sb_connection()]",4,3
openstack%2Fopenstack-manuals~master~I57797210209fd31820e88bce97b43c7c150fd165,openstack/openstack-manuals,master,I57797210209fd31820e88bce97b43c7c150fd165,Fix note markup syntax in install guide syntax,MERGED,2021-11-12 14:58:00.000000000,2021-11-14 11:46:25.000000000,2021-11-14 11:34:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-12 14:58:00.000000000', 'files': ['doc/install-guide/source/preface.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/72f121a4944ec023003dab4a82099afed022afeb', 'message': 'Fix note markup syntax in install guide syntax\n\nChange-Id: I57797210209fd31820e88bce97b43c7c150fd165\n'}]",1,817767,72f121a4944ec023003dab4a82099afed022afeb,7,2,1,15197,,,0,"Fix note markup syntax in install guide syntax

Change-Id: I57797210209fd31820e88bce97b43c7c150fd165
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/67/817767/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/preface.rst'],1,72f121a4944ec023003dab4a82099afed022afeb,, .. note:: OpenStack Wallaby is available for CentOS Stream 8. OpenStack Ussuri and Victoria are available for both CentOS 8 and RHEL 8. OpenStack Train and earlier are available on both CentOS 7 and RHEL 7., ..note:: OpenStack Wallaby is available for CentOS Stream 8. OpenStack Ussuri and Victoria are available for both CentOS 8 and RHEL 8. OpenStack Train and earlier are available on both CentOS 7 and RHEL 7.,4,4
openstack%2Fopenstacksdk~feature%2Fr1~Idc34738e42de7229a7c620b272c7385dde39eb1d,openstack/openstacksdk,feature/r1,Idc34738e42de7229a7c620b272c7385dde39eb1d,Switch Swift cloud layer to proxy,MERGED,2021-09-02 12:08:42.000000000,2021-11-14 10:15:07.000000000,2021-11-14 10:13:33.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-09-02 12:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/011a6ad9e55f79cb38213f226ab32db604395080', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 2, 'created': '2021-09-02 16:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/45a29aeef016ef6fea991ae6aa22d1af46824f26', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 3, 'created': '2021-09-03 06:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0555dbf33876e4e08f042db48bc5e5e159700628', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 4, 'created': '2021-09-03 09:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/52134b1f347962c84c862c288afbfef65ca529f8', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 5, 'created': '2021-09-03 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7ea21c46d9ffe73ba9c95394707824cbbbedaa36', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 6, 'created': '2021-09-08 07:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/87bf99f0952ffdaa34cf1f715e0e8b5366bff548', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 7, 'created': '2021-09-08 10:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/470d149281afdac5d3e0890ccf30374837fa42aa', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 8, 'created': '2021-09-08 12:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e442138732fdd76ebfd45dec5c61d9dc07bee91', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 9, 'created': '2021-09-08 13:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3f7f32c097042ccec5d059ce417e24b399e96466', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 10, 'created': '2021-09-09 13:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e54018b11de317756e2f9640fba95450c32101fd', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 11, 'created': '2021-09-09 15:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0e5c419adc88d0a2425090e72c97c5b8140e93db', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 12, 'created': '2021-09-10 07:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2690419e6994529d8093d1975335fd61204eb5c4', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 13, 'created': '2021-09-10 15:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a38e77fe2f22b7297bdfae12597bab8cc9c60eef', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 14, 'created': '2021-09-16 13:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0c5a7ba847bc53b6ce6abc38941d31e37ef11598', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 15, 'created': '2021-09-16 16:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1e682580a8a0a70114983afdde8ea0960df86993', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 16, 'created': '2021-09-24 07:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6961e0d90d1714361a1467f0ce446c1ceef84a17', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\nThis includes not only completely relying on proxy implementation of the\nfunctionality, but also extending proxy `get_object` method to be able\nto save data to the file or to store it as `data` attribute of the\nobject instance.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 17, 'created': '2021-09-24 16:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e77a57ecaa1bfbdd805f9ae44b25801d6e095c81', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\nThis includes not only completely relying on proxy implementation of the\nfunctionality, but also extending proxy `get_object` method to be able\nto save data to the file or to store it as `data` attribute of the\nobject instance.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}, {'number': 18, 'created': '2021-09-29 13:30:07.000000000', 'files': ['openstack/object_store/v1/_base.py', 'openstack/cloud/openstackcloud.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/functional/cloud/test_object.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/tests/unit/cloud/test_image.py', 'openstack/cloud/_object_store.py', 'openstack/object_store/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/16e557f411679ea587366de81774634f2183a4ff', 'message': ""Switch Swift cloud layer to proxy\n\nnow it's turn of the object storage service to be relying on the proxy\nfunctions in the cloud layer.\nThis includes not only completely relying on proxy implementation of the\nfunctionality, but also extending proxy `get_object` method to be able\nto save data to the file or to store it as `data` attribute of the\nobject instance.\n\nChange-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d\n""}]",4,807124,16e557f411679ea587366de81774634f2183a4ff,49,6,18,27900,,,0,"Switch Swift cloud layer to proxy

now it's turn of the object storage service to be relying on the proxy
functions in the cloud layer.
This includes not only completely relying on proxy implementation of the
functionality, but also extending proxy `get_object` method to be able
to save data to the file or to store it as `data` attribute of the
object instance.

Change-Id: Idc34738e42de7229a7c620b272c7385dde39eb1d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/807124/7 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_object_store.py', 'openstack/object_store/v1/_proxy.py']",2,011a6ad9e55f79cb38213f226ab32db604395080,," return self.put( endpoint, headers=headers, data=dt)"," return proxy._json_response(self.put( endpoint, headers=headers, data=dt))",8,216
openstack%2Fkolla-ansible~master~I211d9063742dfef202cf39c29c75a0ce3fefe510,openstack/kolla-ansible,master,I211d9063742dfef202cf39c29c75a0ce3fefe510,Fix freezer config template,ABANDONED,2021-11-02 14:15:56.000000000,2021-11-14 09:59:31.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-02 14:15:56.000000000', 'files': ['ansible/roles/freezer/templates/freezer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f84efa1b0446192ec930071177a2cffd8166c627', 'message': 'Fix freezer config template\n\nThe openstack_auth.domain_name variable is no longer being defined, the\ndomain_name for the keystone_admin_project is hardcoded to ""Default"" by\nkeystone-manage bootstrap.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I211d9063742dfef202cf39c29c75a0ce3fefe510\n'}]",11,816363,f84efa1b0446192ec930071177a2cffd8166c627,17,4,1,13252,,,0,"Fix freezer config template

The openstack_auth.domain_name variable is no longer being defined, the
domain_name for the keystone_admin_project is hardcoded to ""Default"" by
keystone-manage bootstrap.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I211d9063742dfef202cf39c29c75a0ce3fefe510
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/816363/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/freezer/templates/freezer.conf.j2'],1,f84efa1b0446192ec930071177a2cffd8166c627,fix-freezer-template,os_project_domain_name = Default,os_project_domain_name = {{ openstack_auth.domain_name }},1,1
openstack%2Fdevstack~master~Ib86071881f16de1b69c0f9b1b19b6df8b7e66a07,openstack/devstack,master,Ib86071881f16de1b69c0f9b1b19b6df8b7e66a07,Rehome functions to enable Neutron's placement integration,MERGED,2021-10-27 14:44:00.000000000,2021-11-14 08:37:38.000000000,2021-11-13 19:02:48.000000000,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-27 14:44:00.000000000', 'files': ['lib/neutron_plugins/services/placement', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f6d9283b85bb743d3224981c031d331f5e9608a', 'message': ""Rehome functions to enable Neutron's placement integration\n\nThose functions were part of the neutron devstack plugin but we\ndiscussed it during last PTG [1] and decided to move to the Devstack\nrepo as plugins which are used by e.g. CI jobs which are defined outside\nof the neutron repository.\nPlacement integration is used e.g. in the tempest-slow job which is\ndefined in tempest and used by many different OpenStack projects.\n\n[1] https://etherpad.opendev.org/p/neutron-yoga-ptg#L142\n\nChange-Id: Ib86071881f16de1b69c0f9b1b19b6df8b7e66a07\n""}]",0,815682,7f6d9283b85bb743d3224981c031d331f5e9608a,11,4,1,11975,,,0,"Rehome functions to enable Neutron's placement integration

Those functions were part of the neutron devstack plugin but we
discussed it during last PTG [1] and decided to move to the Devstack
repo as plugins which are used by e.g. CI jobs which are defined outside
of the neutron repository.
Placement integration is used e.g. in the tempest-slow job which is
defined in tempest and used by many different OpenStack projects.

[1] https://etherpad.opendev.org/p/neutron-yoga-ptg#L142

Change-Id: Ib86071881f16de1b69c0f9b1b19b6df8b7e66a07
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/815682/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/services/placement', 'lib/neutron-legacy']",2,7f6d9283b85bb743d3224981c031d331f5e9608a,rehome-neutron-plugins,source $TOP_DIR/lib/neutron_plugins/services/placement if is_service_enabled q-placement neutron-placement; then configure_placement_extension fi,,25,0
openstack%2Fneutron~master~I6f78750af34001b3707f1a6ee3a0882b427a5dcc,openstack/neutron,master,I6f78750af34001b3707f1a6ee3a0882b427a5dcc,[OVN] Execute OVN migration transactions independently,MERGED,2021-10-15 15:04:14.000000000,2021-11-14 07:51:45.000000000,2021-11-13 22:09:27.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-10-15 15:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2dc09c5d04d616f57213f1328eeea00b412f1510', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 2, 'created': '2021-10-20 13:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acbac21860d9381da97939c6d6dc5a5d1d6bb8f2', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 3, 'created': '2021-10-25 11:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c09372d5c74316b126cac07328aa7953c721da2', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 4, 'created': '2021-11-04 14:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a00d03a20f20e47b514f577a05240e730a62829a', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 5, 'created': '2021-11-05 08:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53c5fce3d94a83fb6b64807d3f9ff35da55553cc', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 6, 'created': '2021-11-08 08:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0496714ef93ca44aab15be59654f0c33e4ef18f8', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 7, 'created': '2021-11-09 08:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cae2969d42895cb12e77f78aec309b2708e456a4', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}, {'number': 8, 'created': '2021-11-11 07:11:47.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/objects/trunk.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/662045f519a164ae683a37f5cf1c4b30369a3386', 'message': '[OVN] Execute OVN migration transactions independently\n\nInstead of executing all Neutron DB changes in one single\ntransaction, in order to avoid clashes with other DB operations\neach element will be treated independently.\n\nFor the ""PortBinding"" registers update, each element will be updated\nin an independent transaction.\n\nFor the ""Trunk"" registers update, all subports ""PortBinding""\nregisters belonging to this trunk will be updated in an independent\ntransaction.\n\nCloses-Bug: #1939704\nChange-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc\n'}]",35,814181,662045f519a164ae683a37f5cf1c4b30369a3386,196,11,8,16688,,,0,"[OVN] Execute OVN migration transactions independently

Instead of executing all Neutron DB changes in one single
transaction, in order to avoid clashes with other DB operations
each element will be treated independently.

For the ""PortBinding"" registers update, each element will be updated
in an independent transaction.

For the ""Trunk"" registers update, all subports ""PortBinding""
registers belonging to this trunk will be updated in an independent
transaction.

Closes-Bug: #1939704
Change-Id: I6f78750af34001b3707f1a6ee3a0882b427a5dcc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/814181/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/objects/trunk.py', 'neutron/objects/ports.py']",3,2dc09c5d04d616f57213f1328eeea00b412f1510,bug/1939704,"from sqlalchemy import and_ @classmethod def get_port_id_and_host(cls, context, vif_type, vnic_type, status): """"""Returns only the port_id and the host of matching registers This method returns only the primary keys of a ""PortBinding"" register, reducing the query complexity and increasing the retrieval speed. This query does not check the ""PortBinding"" owner or RBACs. """""" with cls.db_context_reader(context): query = context.session.query(cls.db_model.port_id, cls.db_model.host) query = query.filter(and_( cls.db_model.vif_type == vif_type, cls.db_model.vnic_type == vnic_type, cls.db_model.status == status)) return query.all() ",,60,16
openstack%2Fnova~master~I582c89d8999db304923a51eb28c25f12046a4ebe,openstack/nova,master,I582c89d8999db304923a51eb28c25f12046a4ebe,"Set ""cache_ok=True"" in ""TypeDecorator"" inheriting classes",MERGED,2021-09-03 15:43:59.000000000,2021-11-14 07:45:17.000000000,2021-11-11 14:37:56.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-09-03 15:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f34a2ea3f558dfdfcb7ef194c0e05d1d2c00a1a', 'message': 'Set ""cache_ok=True"" in ""TypeDecorator"" inheriting classes\n\nBy setting this flag to True, it is assumed that the parameters\npassed to the object are safe to be used as a cache.\n\nCloses-Bug: #1942621\nChange-Id: I582c89d8999db304923a51eb28c25f12046a4ebe\n'}, {'number': 2, 'created': '2021-09-24 17:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea346a9b2da6b6bcf400e07153e9a2d3b51e394', 'message': 'Set ""cache_ok=True"" in ""TypeDecorator"" inheriting classes\n\nBy setting this flag to True, it is assumed that the parameters\npassed to the object are safe to be used as a cache.\n\nCloses-Bug: #1942621\nChange-Id: I582c89d8999db304923a51eb28c25f12046a4ebe\n'}, {'number': 3, 'created': '2021-10-14 09:01:07.000000000', 'files': ['nova/db/types.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c0d3b79ef8ba6625f95907816e2e6f861709b6e', 'message': 'Set ""cache_ok=True"" in ""TypeDecorator"" inheriting classes\n\nBy setting this flag to True, it is assumed that the parameters\npassed to the object are safe to be used as a cache.\n\nCloses-Bug: #1942621\nChange-Id: I582c89d8999db304923a51eb28c25f12046a4ebe\n'}]",4,807359,4c0d3b79ef8ba6625f95907816e2e6f861709b6e,92,6,3,16688,,,0,"Set ""cache_ok=True"" in ""TypeDecorator"" inheriting classes

By setting this flag to True, it is assumed that the parameters
passed to the object are safe to be used as a cache.

Closes-Bug: #1942621
Change-Id: I582c89d8999db304923a51eb28c25f12046a4ebe
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/807359/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/types.py'],1,1f34a2ea3f558dfdfcb7ef194c0e05d1d2c00a1a,bug/1942621, cache_ok = True cache_ok = True,,2,0
openstack%2Fneutron~stable%2Ftrain~I4aa24b3f423b95051268d83d9f9a54d9d882bedb,openstack/neutron,stable/train,I4aa24b3f423b95051268d83d9f9a54d9d882bedb,[DNM] Testing patch,ABANDONED,2021-11-11 10:55:51.000000000,2021-11-14 07:39:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-11 10:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc8169c9ba55fb4c6f219d636d6c03f571e89720', 'message': '[DNM] Testing patch\n\nDepends-On:\nhttps: //review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}, {'number': 2, 'created': '2021-11-11 10:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ac7e1c803fa119aaa35815d64db9cec49302bb2', 'message': '[DNM] Testing patch\n\nDepends-On:\nhttps: //review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}, {'number': 3, 'created': '2021-11-11 11:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5e5fd9d076731099d3d26b7014751181263235d', 'message': '[DNM] Testing patch\n\nDepends-On:\nhttps://review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}, {'number': 4, 'created': '2021-11-11 15:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fccfc7605373717da0bebd6d71d60591f781e411', 'message': '[DNM] Testing patch\n\nDepends-On:\nhttps: //review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}, {'number': 5, 'created': '2021-11-11 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/844d502f3e0a53934b0ef5d94e1705a95234ce78', 'message': '[DNM] Testing patch\n\nDepends-On:\nhttps: //review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}, {'number': 6, 'created': '2021-11-11 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c693ebf5626b89dd11998b123cf0afc61216477', 'message': '[DNM] Testing patch\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}, {'number': 7, 'created': '2021-11-12 08:02:57.000000000', 'files': ['neutron/api/rpc/handlers/metadata_rpc.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05337ab6c143df1a0cdddd3a246b41c3e396bd51', 'message': '[DNM] Testing patch\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465\nChange-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb\n'}]",2,817553,05337ab6c143df1a0cdddd3a246b41c3e396bd51,15,1,7,16688,,,0,"[DNM] Testing patch

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/817465
Change-Id: I4aa24b3f423b95051268d83d9f9a54d9d882bedb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/817553/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/metadata_rpc.py', '.zuul.yaml']",2,cc8169c9ba55fb4c6f219d636d6c03f571e89720,bug/1950346, #- neutron-functional #- neutron-functional-python27 #- neutron-fullstack #- neutron-rally-task #- neutron-tempest-dvr #- neutron-tempest-linuxbridge #- neutron-grenade-multinode #- neutron-grenade-dvr-multinode #- neutron-tempest-iptables_hybrid #- neutron-grenade #- networking-ovn-tempest-dsvm-ovs-release: # irrelevant-files: *tempest-irrelevant-files #- grenade-py3: # irrelevant-files: *tempest-irrelevant-files #- neutron-tempest-ipv6-only, - neutron-functional - neutron-functional-python27 - neutron-fullstack - neutron-rally-task - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-iptables_hybrid - neutron-grenade - networking-ovn-tempest-dsvm-ovs-release: irrelevant-files: *tempest-irrelevant-files - grenade-py3: irrelevant-files: *tempest-irrelevant-files - neutron-tempest-ipv6-only,16,15
openstack%2Fneutron~master~If193ff5bc6e1421f4fa9db3779872a82a36c8b69,openstack/neutron,master,If193ff5bc6e1421f4fa9db3779872a82a36c8b69,"[OVN] Check if OVN NB supports ""Port_Group""",MERGED,2021-10-01 17:04:18.000000000,2021-11-14 02:22:44.000000000,2021-11-14 02:05:58.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 17:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb8209197ac452865a8363538e8b9bce06246c3c', 'message': '[WIP] [OVN] Check if OVN NB supports Port_Group\n\nChange-Id: If193ff5bc6e1421f4fa9db3779872a82a36c8b69\n'}, {'number': 2, 'created': '2021-10-04 19:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35930eb569be7339ad14e400179025fc043c018c', 'message': '[OVN] Check if OVN NB supports ""Port_Group""\n\nAdded a check for OVN NB schema, looking for ""Port_Group"" table\n(added in OVN NB schema 5.11).\n\nThis patch removes the code to support OVN without ""Port_Group""\ntable. It is assumed that this table is always present.\n\nCloses-Bug: #1946023\n\nChange-Id: If193ff5bc6e1421f4fa9db3779872a82a36c8b69\n'}, {'number': 3, 'created': '2021-10-05 09:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65456c7eb64c2fc9484a6f079d3868dd60824610', 'message': '[OVN] Check if OVN NB supports ""Port_Group""\n\nAdded a check for OVN NB schema, looking for ""Port_Group"" table\n(added in OVN NB schema 5.11).\n\nThis patch removes the code to support OVN without ""Port_Group""\ntable. It is assumed that this table is always present.\n\nCloses-Bug: #1946023\n\nChange-Id: If193ff5bc6e1421f4fa9db3779872a82a36c8b69\n'}, {'number': 4, 'created': '2021-10-05 13:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea0a13afecc00b7b8099ef49b956f426744fa849', 'message': '[OVN] Check if OVN NB supports ""Port_Group""\n\nAdded a check for OVN NB schema, looking for ""Port_Group"" table\n(added in OVN NB schema 5.11).\n\nThis patch removes the code to support OVN without ""Port_Group""\ntable. It is assumed that this table is always present.\n\nCloses-Bug: #1946023\n\nChange-Id: If193ff5bc6e1421f4fa9db3779872a82a36c8b69\n'}, {'number': 5, 'created': '2021-10-14 09:07:49.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/cmd/sanity_check.py', 'releasenotes/notes/ovn-supports-Port_Group-96fc1a89e2da163d.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d94a10a1507625a861585bc83a295fb9442704e', 'message': '[OVN] Check if OVN NB supports ""Port_Group""\n\nAdded a check for OVN NB schema, looking for ""Port_Group"" table\n(added in OVN NB schema 5.11).\n\nThis patch removes the code to support OVN without ""Port_Group""\ntable. It is assumed that this table is always present.\n\nCloses-Bug: #1946023\n\nChange-Id: If193ff5bc6e1421f4fa9db3779872a82a36c8b69\n'}]",4,812176,5d94a10a1507625a861585bc83a295fb9442704e,81,5,5,16688,,,0,"[OVN] Check if OVN NB supports ""Port_Group""

Added a check for OVN NB schema, looking for ""Port_Group"" table
(added in OVN NB schema 5.11).

This patch removes the code to support OVN without ""Port_Group""
table. It is assumed that this table is always present.

Closes-Bug: #1946023

Change-Id: If193ff5bc6e1421f4fa9db3779872a82a36c8b69
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/812176/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/cmd/sanity_check.py']",2,cb8209197ac452865a8363538e8b9bce06246c3c,bug/1946023,"def check_ovn_nb_db_schema_port_group_support(): result = checks.ovn_nb_db_schema_port_group_supported() if not result: LOG.warning('OVN NB DB schema does not support Port_Group. This ' 'support was added in DB schema version 5.11.') return result BoolOptCallback('ovn_nb_db_schema_port_group_support', check_ovn_nb_db_schema_port_group_support, help=_('Check OVN NB DB schema support Port_Group'), default=False), if 'ovn' in cfg.CONF.ml2.mechanism_drivers: cfg.CONF.set_default('ovn_nb_db_schema_port_group_support', True)",,58,0
openstack%2Fneutron~master~Ie283ad3a4ec433c88ac23f798908cd143159394b,openstack/neutron,master,Ie283ad3a4ec433c88ac23f798908cd143159394b,Enable QoS minimum packet rate rule for OVS backend,MERGED,2021-08-20 14:18:48.000000000,2021-11-14 02:17:09.000000000,2021-11-14 02:05:50.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-08-20 14:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e618fcce5b8ae66a938ca62fa7455eac835830fe', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 2, 'created': '2021-08-23 13:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bae436655814edb478b44aced928fdd69ba84d13', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 3, 'created': '2021-08-25 14:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76551f825fd357bae85a246e8b3a145efd2f1c10', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 4, 'created': '2021-08-31 09:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f89b9566bfb0e45428930f1b93bd675e84f1c6c', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 5, 'created': '2021-09-16 14:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/067782ba9ba71e46981422d9755f4a36f14340e5', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 6, 'created': '2021-09-22 06:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96566c2513bc042c0512b0be375e22779f0efa53', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 7, 'created': '2021-09-28 12:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/277c88cb61b933e82b2816c55ba95d3e45d671ce', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 8, 'created': '2021-09-29 09:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d6d5ed420dfec4f1ee634f9d0a173d505c35c54', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 9, 'created': '2021-09-29 09:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d052b7f59dcc821b4f8d5a071af9cd8a48bbb82', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 10, 'created': '2021-09-29 10:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d58b10e0414ea2e57f7de2d0d9c2449adaebcc0', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 11, 'created': '2021-10-11 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f602aeefef8d501ee1d6fc96315a7ab3314b16d', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 12, 'created': '2021-10-12 13:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be888443f591729f311f29a4e65bdb5f98ada3e5', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}, {'number': 13, 'created': '2021-10-22 13:59:44.000000000', 'files': ['doc/source/admin/config-qos.rst', 'releasenotes/notes/qos_min_pps_rule_ovs-3fe3d73227980c53.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aada855f6dc4e0e8a6d087b47382fc4e30ac5dc5', 'message': 'Enable QoS minimum packet rate rule for OVS backend\n\nThis patch does *not* implement dataplane enforcement.\n\nQoS minimum packet rate rule is enabled in OVS backend driver and\ncreate/delete/update empty methods are added to enable placement\nenforcement.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b\n'}]",25,805391,aada855f6dc4e0e8a6d087b47382fc4e30ac5dc5,195,6,13,33652,,,0,"Enable QoS minimum packet rate rule for OVS backend

This patch does *not* implement dataplane enforcement.

QoS minimum packet rate rule is enabled in OVS backend driver and
create/delete/update empty methods are added to enable placement
enforcement.

Partial-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ie283ad3a4ec433c88ac23f798908cd143159394b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/805391/13 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-qos.rst', 'releasenotes/notes/qos_min_pps_rule_ovs-3fe3d73227980c53.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py']",5,e618fcce5b8ae66a938ca62fa7455eac835830fe,bp/qos-minimum-guaranteed-packet-rate," # TODO(przszc): Update tests when dataplane enforcement is implemented for # minimum packet rate rule def test_create_minimum_packet_rate(self): try: port = {'port_id': 'p_id'} rule = mock.MagicMock(id='rule_id') self.qos_driver.create_minimum_packet_rate(port, rule) except Exception: self.fail('create_minimum_packet_rate failed') def test_update_minimum_packet_rate(self): try: port = {'port_id': 'p_id'} rule = mock.MagicMock(id='rule_id') self.qos_driver.update_minimum_packet_rate(port, rule) except Exception: self.fail('update_minimum_packet_rate failed') def test_delete_minimum_packet_rate(self): try: port = {'port_id': 'p_id'} self.qos_driver.delete_minimum_packet_rate(port) except Exception: self.fail('delete_minimum_packet_rate failed') def test_delete_minimum_packet_rate_ingress(self): try: port = {'port_id': 'p_id'} self.qos_driver.delete_minimum_packet_rate_ingress(port) except Exception: self.fail('delete_minimum_packet_rate_ingress failed')",,80,8
openstack%2Fdesignate-tempest-plugin~master~I6d7c9358a336eedb313157ebad666d37d18f03d3,openstack/designate-tempest-plugin,master,I6d7c9358a336eedb313157ebad666d37d18f03d3,Unroll DDT API tests used for refstack/interop,MERGED,2021-10-18 22:51:40.000000000,2021-11-14 01:25:17.000000000,2021-11-14 01:23:49.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-10-18 22:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/89dc6679503bc446c31a510ec5d08a1887efab55', 'message': ""Unroll DDT API tests used for refstack/interop\n\nThis patch unrolls the test_create_all_recordset_types API tests from\nusing DDT. DDT is not OpenStack aware, so the idempotent_id's end up\nbeing duplicated and the test names can be inconsistent due to value\npadding.\nThis test has a limited number of combinations, so it is easy to unroll\nthese into stub tests that call a common, private, test method.\n\nCloses-Bug: 1943115\nChange-Id: I6d7c9358a336eedb313157ebad666d37d18f03d3\n""}, {'number': 2, 'created': '2021-10-25 19:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/847565b4c0c712e6e61275e2f84e7d3a07e82179', 'message': ""Unroll DDT API tests used for refstack/interop\n\nThis patch unrolls the test_create_all_recordset_types API tests from\nusing DDT. DDT is not OpenStack aware, so the idempotent_id's end up\nbeing duplicated and the test names can be inconsistent due to value\npadding.\nThis test has a limited number of combinations, so it is easy to unroll\nthese into stub tests that call a common, private, test method.\n\nCloses-Bug: 1943115\nChange-Id: I6d7c9358a336eedb313157ebad666d37d18f03d3\n""}, {'number': 3, 'created': '2021-10-25 19:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4b61ce03ddb4fc860b366313c1a7c4e8398e5b53', 'message': ""Unroll DDT API tests used for refstack/interop\n\nThis patch unrolls the test_create_all_recordset_types API tests from\nusing DDT. DDT is not OpenStack aware, so the idempotent_id's end up\nbeing duplicated and the test names can be inconsistent due to value\npadding.\nThis test has a limited number of combinations, so it is easy to unroll\nthese into stub tests that call a common, private, test method.\n\nCloses-Bug: 1943115\nChange-Id: I6d7c9358a336eedb313157ebad666d37d18f03d3\n""}, {'number': 4, 'created': '2021-10-26 20:46:23.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py', 'designate_tempest_plugin/tests/scenario/v2/recordset_data.json', 'designate_tempest_plugin/tests/api/v2/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f871a0e74f91e417adae5d7dd2a6cc17a62ba347', 'message': ""Unroll DDT API tests used for refstack/interop\n\nThis patch unrolls the test_create_all_recordset_types API tests from\nusing DDT. DDT is not OpenStack aware, so the idempotent_id's end up\nbeing duplicated and the test names can be inconsistent due to value\npadding.\nThis test has a limited number of combinations, so it is easy to unroll\nthese into stub tests that call a common, private, test method.\n\nCloses-Bug: 1943115\nChange-Id: I6d7c9358a336eedb313157ebad666d37d18f03d3\n""}]",11,814497,f871a0e74f91e417adae5d7dd2a6cc17a62ba347,22,4,4,11628,,,0,"Unroll DDT API tests used for refstack/interop

This patch unrolls the test_create_all_recordset_types API tests from
using DDT. DDT is not OpenStack aware, so the idempotent_id's end up
being duplicated and the test names can be inconsistent due to value
padding.
This test has a limited number of combinations, so it is easy to unroll
these into stub tests that call a common, private, test method.

Closes-Bug: 1943115
Change-Id: I6d7c9358a336eedb313157ebad666d37d18f03d3
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/97/814497/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py', 'designate_tempest_plugin/tests/scenario/v2/recordset_data.json', 'designate_tempest_plugin/tests/api/v2/test_recordset.py']",3,89dc6679503bc446c31a510ec5d08a1887efab55,bug/1943115," # We cannot use DDT here as these tests are part of the refstack # interoperability test suite and need to be unique for traceability. def _test_create_all_recordset_types(self, name, type, records): @decorators.idempotent_id('d03b69a5-5052-43bc-a38a-b511b6b34304') def test_create_all_recordset_types_A(self): self._test_create_all_recordset_types( ""www"", ""A"", [""192.0.2.1"", ""192.0.2.2"", ""192.0.2.3""]) @decorators.idempotent_id('ac110198-d58a-4a18-aceb-414d7e513d49') def test_create_all_recordset_types_AAAA(self): self._test_create_all_recordset_types( ""www"", ""AAAA"", [""2001:db8::1"", ""2001:db8::1"", ""2001:db8::""]) @decorators.idempotent_id('6c22a3f9-3f4d-4b32-bdf2-5237851ed25e') def test_create_all_recordset_types_SRV_TCP(self): self._test_create_all_recordset_types( ""_sip._tcp"", ""SRV"", [""10 60 5060 server1.example.com."", ""20 60 5060 server2.example.com."", ""20 30 5060 server3.example.com.""]) @decorators.idempotent_id('59c1aa42-278e-4f7b-a6a1-4320d5daf1fd') def test_create_all_recordset_types_SRV_UDP(self): self._test_create_all_recordset_types( ""_sip._udp"", ""SRV"", [""10 60 5060 server1.example.com."", ""10 60 5060 server2.example.com."", ""20 30 5060 server3.example.com.""]) @decorators.idempotent_id('1ac46f94-f03a-4f85-b84f-826a2660b927') def test_create_all_recordset_types_CNAME(self): self._test_create_all_recordset_types( ""alias-of-target"", ""CNAME"", [""target.example.org.""]) @decorators.idempotent_id('bf872487-7975-4a96-bb03-d24e393a0ce8') def test_create_all_recordset_types_MX_at_APEX(self): self._test_create_all_recordset_types( None, ""MX"", [""10 mail1.example.org."", ""20 mail2.example.org.""]) @decorators.idempotent_id('96fe72a4-a81c-4a01-a81f-39ebafad115c') def test_create_all_recordset_types_MX_under_APEX(self): self._test_create_all_recordset_types( ""under"", ""MX"", [""10 mail.example.org.""]) @decorators.idempotent_id('481496f1-917a-40d5-89fd-4a3794c24215') def test_create_all_recordset_types_SSHFP(self): self._test_create_all_recordset_types( ""www"", ""SSHFP"", [""2 1 123456789abcdef67890123456789abcdef67890""]) @decorators.idempotent_id('8e7ecedb-5c35-46f8-ae0e-39e4aaabc97d') def test_create_all_recordset_types_TXT(self): self._test_create_all_recordset_types( ""www"", ""TXT"", [""\""Any Old Text Goes Here\""""]) "," @decorators.idempotent_id('d03b69a5-5052-43bc-a38a-b511b6b34304') @ddt.file_data(""recordset_data.json"") def test_create_all_recordset_types(self, name, type, records):",53,4
openstack%2Fdesignate~master~I6286df0c73bc4192331838d9565de4fe083fa1fb,openstack/designate,master,I6286df0c73bc4192331838d9565de4fe083fa1fb,[DNM] Testing,ABANDONED,2021-11-11 01:10:19.000000000,2021-11-14 00:43:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-11 01:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5b45729a1711775e4fbe1f056284ed17f991f979', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 2, 'created': '2021-11-11 02:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3848aea480be5b3cedfbff122ad2809de162a5d9', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 3, 'created': '2021-11-11 07:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/435ee2dbe8c701059870d0a4b50cee0860e7338c', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 4, 'created': '2021-11-13 02:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/873792c4b008ef0567875f2e6699dbc70c5916c8', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 5, 'created': '2021-11-13 05:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/afa75df513b8512a409eefe4d28c4b7d834a55d0', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 6, 'created': '2021-11-13 05:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8a8e3fad46764a498abb9c5d0a09660b5398ea12', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 7, 'created': '2021-11-13 09:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1b854fc526db9b7789d541fd675a6e923f7a36ae', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}, {'number': 8, 'created': '2021-11-13 23:47:05.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/designate/commit/14c2521777fc627a8bfc7a0be7ce1800c413f9dc', 'message': '[DNM] Testing\n\nChange-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb\n'}]",0,817501,14c2521777fc627a8bfc7a0be7ce1800c413f9dc,15,1,8,22623,,,0,"[DNM] Testing

Change-Id: I6286df0c73bc4192331838d9565de4fe083fa1fb
",git fetch https://review.opendev.org/openstack/designate refs/changes/01/817501/7 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,5b45729a1711775e4fbe1f056284ed17f991f979,test,"DESIGNATE_WSGI_MODE=${DESIGNATE_WSGI_MODE:-""uwsgi""}","DESIGNATE_WSGI_MODE=${DESIGNATE_WSGI_MODE:-""mod_wsgi""}",4,1
openstack%2Frequirements~master~Id73eac731f7bb14d45a3f34387835530bced7afe,openstack/requirements,master,Id73eac731f7bb14d45a3f34387835530bced7afe,update constraint for python-openstackclient to new release 5.7.0,MERGED,2021-11-12 15:27:47.000000000,2021-11-13 19:49:20.000000000,2021-11-13 19:48:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 15:27:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fbfbcc8e013f5ebd9de4fe5a87dd420ca7a9b43e', 'message': 'update constraint for python-openstackclient to new release 5.7.0\n\nmeta: version: 5.7.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: Ia100592228ef511f1a9ec7da14ccf97a3cc905e9\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Id73eac731f7bb14d45a3f34387835530bced7afe\n'}]",0,817777,fbfbcc8e013f5ebd9de4fe5a87dd420ca7a9b43e,19,2,1,11131,,,0,"update constraint for python-openstackclient to new release 5.7.0

meta: version: 5.7.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: Ia100592228ef511f1a9ec7da14ccf97a3cc905e9
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Id73eac731f7bb14d45a3f34387835530bced7afe
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/817777/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fbfbcc8e013f5ebd9de4fe5a87dd420ca7a9b43e,new-release,python-openstackclient===5.7.0,python-openstackclient===5.6.0,1,1
openstack%2Fdevstack~master~I151f659babb8bb27662e4426bde065f46b7d3e52,openstack/devstack,master,I151f659babb8bb27662e4426bde065f46b7d3e52,nit: Fix typo in alt_demo user role assignments,ABANDONED,2021-03-11 17:00:20.000000000,2021-11-13 19:43:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-11 17:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf60d14349c307eb3928633cacc942ace67507fa', 'message': ""nit: Fix typo in alt_demo user role assignments\n\nThe role assignments for this user are randomly creating a project-admin\nrole assignment that already exists. This may have been an unnoticed\ntypo.\n\nThis commit updates the alt_demo user to have the 'admin' role on the\nalt_demo project.\n\nChange-Id: I151f659babb8bb27662e4426bde065f46b7d3e52\n""}, {'number': 2, 'created': '2021-03-11 17:15:06.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4cd0bff5e0dc80622085d56d3dff4ced4e1d1c17', 'message': ""nit: Fix typo in alt_demo user role assignments\n\nThe role assignments for this user are randomly creating a project-admin\nrole assignment that already exists. This may have been an unnoticed\ntypo.\n\nThis commit updates the alt_demo user to have the 'admin' role on the\nalt_demo project.\n\nChange-Id: I151f659babb8bb27662e4426bde065f46b7d3e52\n""}]",0,780040,4cd0bff5e0dc80622085d56d3dff4ced4e1d1c17,4,1,2,5046,,,0,"nit: Fix typo in alt_demo user role assignments

The role assignments for this user are randomly creating a project-admin
role assignment that already exists. This may have been an unnoticed
typo.

This commit updates the alt_demo user to have the 'admin' role on the
alt_demo project.

Change-Id: I151f659babb8bb27662e4426bde065f46b7d3e52
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/780040/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,bf60d14349c307eb3928633cacc942ace67507fa,, async_run ks-alt-admin get_or_add_user_project_role $admin_role $alt_demo_user $alt_demo_project, async_run ks-alt-admin get_or_add_user_project_role $admin_role $admin_user $alt_demo_project,1,1
openstack%2Fproject-config~master~Ie1b916725c50c3f06a7d8561886da37839864959,openstack/project-config,master,Ie1b916725c50c3f06a7d8561886da37839864959,Fork Gnocchi back to openstack as Farfalle,ABANDONED,2020-08-04 02:51:11.000000000,2021-11-13 19:30:08.000000000,,"[{'_account_id': 136}, {'_account_id': 308}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 3031}, {'_account_id': 4257}, {'_account_id': 4264}, {'_account_id': 6484}, {'_account_id': 6537}, {'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 7118}, {'_account_id': 7198}, {'_account_id': 7353}, {'_account_id': 10420}, {'_account_id': 11564}, {'_account_id': 13861}, {'_account_id': 13995}, {'_account_id': 14107}, {'_account_id': 15002}, {'_account_id': 16137}, {'_account_id': 16465}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-04 02:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c5a030d4709a0440acf7014343e75f9297e72c56', 'message': 'Return gnocchi back to openstack\n\nGiven that the codebase is unsupported elsewhere,\nwe are bringing it back in house to OpenStack as\nit is needed for telemetry and we have to support it.\n\nChange-Id: Ie1b916725c50c3f06a7d8561886da37839864959\n'}, {'number': 2, 'created': '2020-08-28 00:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/37415003d94f908fe1944481023160159cacb0aa', 'message': ""Fork Gnocchi back to openstack as Farfalle\n\nGnocchi is currently unmaintained:\nhttps://github.com/gnocchixyz/gnocchi/issues/1049\n\nPull requests to the Github repo to fix issues have been\nleft unreviewed and unmerged and there seems to be a lack\nof activity from the current devs behind the project.\n\nAn attempt was made to bring the project back over to OpenStack\nunder the same name where we could control governence for the\nproject and ideally still include existing contributors, but\ndespite no real activity from current project maintainers\nthey appear unwilling to relinquish control.\n\nAs such we are now proposing a fork back under a new namespace\n'openstack-telemetry' where we can bring the project back to\nactive maintainence while we decide its future within OpenStack.\n\nGnocchi currently is the defacto offical Telemetry API as used by\nAodh, Cloudkitty, and relied on by thirdparty application around\nOpenStack as well. As such we do need to bring it back somewhat\nand maintain it.\n\nChange-Id: Ie1b916725c50c3f06a7d8561886da37839864959\n""}, {'number': 3, 'created': '2020-08-28 12:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/eca389d565bfc660d6431edd2d89470f93d474af', 'message': ""Fork Gnocchi back to openstack as Farfalle\n\nGnocchi is currently unmaintained:\nhttps://github.com/gnocchixyz/gnocchi/issues/1049\n\nPull requests to the Github repo to fix issues have been\nleft unreviewed and unmerged and there seems to be a lack\nof activity from the current devs behind the project.\n\nAn attempt was made to bring the project back over to OpenStack\nunder the same name where we could control governence for the\nproject and ideally still include existing contributors, but\ndespite no real activity from current project maintainers\nthey appear unwilling to relinquish control.\n\nAs such we are now proposing a fork back under a new namespace\n'farfalle' where we can bring the project back to active\nmaintainence while we decide its future within OpenStack.\n\nGnocchi currently is the defacto offical Telemetry API as used by\nAodh, Cloudkitty, and relied on by thirdparty applications around\nOpenStack as well. As such we do need to bring it back somewhat\nand maintain it.\n\nChange-Id: Ie1b916725c50c3f06a7d8561886da37839864959\n""}, {'number': 4, 'created': '2020-08-28 13:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0c05ac3219fd5ccb39a3d9b6b192fc1dd03941e2', 'message': ""Fork Gnocchi back to openstack as Farfalle\n\nGnocchi is currently unmaintained:\nhttps://github.com/gnocchixyz/gnocchi/issues/1049\n\nPull requests to the Github repo to fix issues have been\nleft unreviewed and unmerged and there seems to be a lack\nof activity from the current devs behind the project.\n\nAn attempt was made to bring the project back over to OpenStack\nunder the same name where we could control governence for the\nproject and ideally still include existing contributors, but\ndespite no real activity from current project maintainers\nthey appear unwilling to relinquish control.\n\nAs such we are now proposing a fork back under a new namespace\n'farfalle' where we can bring the project back to active\nmaintainence while we decide its future within OpenStack.\n\nGnocchi currently is the defacto offical Telemetry API as used by\nAodh, Cloudkitty, and relied on by thirdparty applications around\nOpenStack as well. As such we do need to bring it back somewhat\nand maintain it.\n\nChange-Id: Ie1b916725c50c3f06a7d8561886da37839864959\n""}, {'number': 5, 'created': '2020-08-28 14:02:44.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cb7537523f0b17012887bbd615bc38d0e1510015', 'message': ""Fork Gnocchi back to openstack as Farfalle\n\nGnocchi is currently unmaintained:\nhttps://github.com/gnocchixyz/gnocchi/issues/1049\n\nPull requests to the Github repo to fix issues have been\nleft unreviewed and unmerged and there seems to be a lack\nof activity from the current devs behind the project.\n\nAn attempt was made to bring the project back over to OpenStack\nunder the same name where we could control governence for the\nproject and ideally still include existing contributors, but\ndespite no real activity from current project maintainers\nthey appear unwilling to relinquish control.\n\nAs such we are now proposing a fork back under a new namespace\n'farfalle' where we can bring the project back to active\nmaintainence while we decide its future within OpenStack.\n\nGnocchi currently is the defacto offical Telemetry API as used by\nAodh, Cloudkitty, and relied on by thirdparty applications around\nOpenStack as well. As such we do need to bring it back somewhat\nand maintain it.\n\nChange-Id: Ie1b916725c50c3f06a7d8561886da37839864959\n""}]",15,744592,cb7537523f0b17012887bbd615bc38d0e1510015,76,26,5,10420,,,0,"Fork Gnocchi back to openstack as Farfalle

Gnocchi is currently unmaintained:
https://github.com/gnocchixyz/gnocchi/issues/1049

Pull requests to the Github repo to fix issues have been
left unreviewed and unmerged and there seems to be a lack
of activity from the current devs behind the project.

An attempt was made to bring the project back over to OpenStack
under the same name where we could control governence for the
project and ideally still include existing contributors, but
despite no real activity from current project maintainers
they appear unwilling to relinquish control.

As such we are now proposing a fork back under a new namespace
'farfalle' where we can bring the project back to active
maintainence while we decide its future within OpenStack.

Gnocchi currently is the defacto offical Telemetry API as used by
Aodh, Cloudkitty, and relied on by thirdparty applications around
OpenStack as well. As such we do need to bring it back somewhat
and maintain it.

Change-Id: Ie1b916725c50c3f06a7d8561886da37839864959
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/744592/4 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,c5a030d4709a0440acf7014343e75f9297e72c56,new/return_gnocchi, description: A time series storage and resources index service. use-storyboard: true groups: - gnocchi upstream: https://github.com/gnocchixyz/gnocchi.git description: Gnocchi Client use-storyboard: true groups: - gnocchi upstream: https://github.com/gnocchixyz/python-gnocchiclient.git," description: RETIRED, A time series storage and resources index service. acl-config: /home/gerrit2/acls/openstack/retired.config description: RETIRED, Gnocchi Client acl-config: /home/gerrit2/acls/openstack/retired.config",10,4
openstack%2Fneutron~master~I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e,openstack/neutron,master,I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e,Increase the timeout for arm64 jobs,MERGED,2021-11-04 08:48:53.000000000,2021-11-13 17:35:25.000000000,2021-11-13 17:31:13.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 08:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e41de01f6d603ee8e5c05867d464cfa6dc298133', 'message': 'Increase the timeout for arm64 jobs\n\nChange-Id: I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e\n'}, {'number': 2, 'created': '2021-11-04 11:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96535194f228689384ada16022024b68a40060f1', 'message': 'Increase the timeout for arm64 jobs\n\nThe original timeout is 3660 for both openstack-tox-py38-arm64 and\nopenstack-tox-py39-arm64, change it to 4800.\n\nChange-Id: I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e\n'}, {'number': 3, 'created': '2021-11-04 17:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68f2be15368d7daf35710a098ca50be7889fb216', 'message': 'Increase the timeout for arm64 jobs\n\nThe original timeout is 3660 for both openstack-tox-py38-arm64 and\nopenstack-tox-py39-arm64, change it to 4800.\n\nRelated-Bug: #1949476\nRelated-Bug: #1949704\nChange-Id: I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e\n'}, {'number': 4, 'created': '2021-11-08 09:06:55.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4eada8932c535df3fb59b3bcae397fc1f8e3f4a9', 'message': 'Increase the timeout for arm64 jobs\n\nThe original timeout is 3660 for both openstack-tox-py38-arm64 and\nopenstack-tox-py39-arm64, change it to 4800.\n\nRelated-Bug: #1949476\nRelated-Bug: #1949704\nChange-Id: I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e\n'}]",9,816621,4eada8932c535df3fb59b3bcae397fc1f8e3f4a9,49,5,4,8313,,,0,"Increase the timeout for arm64 jobs

The original timeout is 3660 for both openstack-tox-py38-arm64 and
openstack-tox-py39-arm64, change it to 4800.

Related-Bug: #1949476
Related-Bug: #1949704
Change-Id: I2b0d2c8b60af0ab7398f38151ff0f62e451e7e3e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/816621/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e41de01f6d603ee8e5c05867d464cfa6dc298133,arm_job_timeout, - openstack-tox-py38-arm64: timeout: 4800 - openstack-tox-py39-arm64: timeout: 4800 - openstack-tox-py38-arm64: timeout: 4800 - openstack-tox-py39-arm64: timeout: 4800,,8,0
openstack%2Ftripleo-heat-templates~master~Ic3f400ff767354a4792db8106011ae9ba0a6189d,openstack/tripleo-heat-templates,master,Ic3f400ff767354a4792db8106011ae9ba0a6189d,Add ApacheTraceEnable to set ansible trace_enable,ABANDONED,2021-10-01 14:55:03.000000000,2021-11-13 16:08:06.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-01 14:55:03.000000000', 'files': ['deployment/image-serve/image-serve-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa7dc22b8780f06233760a5b39aad6f47e4ffc55', 'message': 'Add ApacheTraceEnable to set ansible trace_enable\n\nAdded ApaccheTraceEnable parameter allowing to enable or disable\napache trace in image serve in order to satisfy security scanners.\n\nChange-Id: Ic3f400ff767354a4792db8106011ae9ba0a6189d\n'}]",0,812158,aa7dc22b8780f06233760a5b39aad6f47e4ffc55,6,3,1,7130,,,0,"Add ApacheTraceEnable to set ansible trace_enable

Added ApaccheTraceEnable parameter allowing to enable or disable
apache trace in image serve in order to satisfy security scanners.

Change-Id: Ic3f400ff767354a4792db8106011ae9ba0a6189d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/812158/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/image-serve/image-serve-baremetal-ansible.yaml'],1,aa7dc22b8780f06233760a5b39aad6f47e4ffc55,trace_enable, ApacheTraceEnable: default: 'on' description: Set Apache TraceEnableSetting type: string trace_enable: {get_param: ApacheTraceEnable},,5,0
openstack%2Fpython-openstackclient~master~I56a30d55b01b645adf2508190876ce26123275ed,openstack/python-openstackclient,master,I56a30d55b01b645adf2508190876ce26123275ed,Adding 'custom-policy' to choices array.,ABANDONED,2021-06-22 00:18:45.000000000,2021-11-13 16:05:03.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 00:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/52a40071b9913805882a4e4c8adf5f526c7af5ee', 'message': ""Adding 'custom-policy' to choices array.\n\nAdding 'custom-policy' to choices array as some users lost the\nability to define a custom policy between 5.4.0 and 5.5.0 .\n\nChange-Id: I56a30d55b01b645adf2508190876ce26123275ed\n""}, {'number': 2, 'created': '2021-06-22 00:28:57.000000000', 'files': ['openstackclient/compute/v2/server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/08697a41cdc19ed3528582afaadeed68c9386954', 'message': ""Adding 'custom-policy' to choices array.\n\nAdding 'custom-policy' to choices array as some users lost the\nability to define a custom policy between 5.4.0 and 5.5.0 .\n\nChange-Id: I56a30d55b01b645adf2508190876ce26123275ed\nTask: 42663\n""}]",0,797368,08697a41cdc19ed3528582afaadeed68c9386954,5,2,2,7130,,,0,"Adding 'custom-policy' to choices array.

Adding 'custom-policy' to choices array as some users lost the
ability to define a custom policy between 5.4.0 and 5.5.0 .

Change-Id: I56a30d55b01b645adf2508190876ce26123275ed
Task: 42663
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/797368/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server_group.py'],1,52a40071b9913805882a4e4c8adf5f526c7af5ee,custom_policy," 'custom-policy',",,1,0
openstack%2Fkeystone~master~I943689a3e87c6f290b561a6ed829d82389f6fcda,openstack/keystone,master,I943689a3e87c6f290b561a6ed829d82389f6fcda,v3applicationcredential should be application_credential,ABANDONED,2021-06-10 13:29:11.000000000,2021-11-13 15:56:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 13:29:11.000000000', 'files': ['doc/source/user/application_credentials.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f69a538aa39cce40fae24c8c5a993170fbc5aee7', 'message': ""v3applicationcredential should be application_credential\n\nv3applicationcredential should be application_credential in\ndocumentation as there're no traces of v3applicationcredential\nanywhere in the code but here.\n\nChange-Id: I943689a3e87c6f290b561a6ed829d82389f6fcda\n""}]",0,795778,f69a538aa39cce40fae24c8c5a993170fbc5aee7,3,1,1,7130,,,0,"v3applicationcredential should be application_credential

v3applicationcredential should be application_credential in
documentation as there're no traces of v3applicationcredential
anywhere in the code but here.

Change-Id: I943689a3e87c6f290b561a6ed829d82389f6fcda
",git fetch https://review.opendev.org/openstack/keystone refs/changes/78/795778/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/application_credentials.rst'],1,f69a538aa39cce40fae24c8c5a993170fbc5aee7,application_credential, auth_type = application_credential auth_type = application_credential, auth_type = v3applicationcredential auth_type = v3applicationcredential,2,2
openstack%2Fcinder~master~Ic505b5ba0281bc00c5b8e47d6c1d2bcbcf8014da,openstack/cinder,master,Ic505b5ba0281bc00c5b8e47d6c1d2bcbcf8014da,Call driver.rbd.Image from tpool.Proxy,ABANDONED,2020-10-08 14:51:02.000000000,2021-11-13 15:55:51.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-10-08 14:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/406a4f2a9782effbcfb452ebc7e9c41715678d0b', 'message': 'Call driver.rbd.Image from tpool.Proxy\n\nCall driver.rbd.Image from tpool.Proxy instead of assigning\ndriver.rbd.Image to self.volume and then using tpool.Proxy\non self.volume.\n\nChange-Id: Ic505b5ba0281bc00c5b8e47d6c1d2bcbcf8014da\n'}, {'number': 2, 'created': '2020-10-09 22:16:32.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/192668be240926c4e4900b5c90266c77e60e8719', 'message': 'Call driver.rbd.Image from tpool.Proxy\n\nCall driver.rbd.Image from tpool.Proxy instead of assigning\ndriver.rbd.Image to self.volume and then using tpool.Proxy\non self.volume.\n\nChange-Id: Ic505b5ba0281bc00c5b8e47d6c1d2bcbcf8014da\n'}]",3,756862,192668be240926c4e4900b5c90266c77e60e8719,35,14,2,7130,,,0,"Call driver.rbd.Image from tpool.Proxy

Call driver.rbd.Image from tpool.Proxy instead of assigning
driver.rbd.Image to self.volume and then using tpool.Proxy
on self.volume.

Change-Id: Ic505b5ba0281bc00c5b8e47d6c1d2bcbcf8014da
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/756862/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,406a4f2a9782effbcfb452ebc7e9c41715678d0b,fix_tpool," self.volume = tpool.Proxy(driver.rbd.Image(rados_ioctx, read_only=read_only))"," self.volume = driver.rbd.Image(rados_ioctx, read_only=read_only) self.volume = tpool.Proxy(self.volume)",2,3
openstack%2Fglance_store~master~Ic9307f99e16942d641c6c8d2507630f33026b5a1,openstack/glance_store,master,Ic9307f99e16942d641c6c8d2507630f33026b5a1,Add chown_disk regext for /var/lib/cinder/mnt/,ABANDONED,2020-05-13 11:47:22.000000000,2021-11-13 15:54:43.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-05-13 11:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cb69fbeb97cc495bc96e93ec55ae3085498e7d43', 'message': ""When glance_store uses cinder storage backend, chown the cinder path.\n\nWhen glance_store uses cinder storage backend, chown the cinder path as\nthis is acutally failing with this error:\n2020-05-12 13:11:02.162 33 ERROR glance_store._drivers.cinder Stderr:\n'/usr/bin/glance-rootwrap: Unauthorized command: chown 42415 /var/lib/\ncinder/mnt/04e1bdb760091e51531be717730c8ab6/\nvolume-4bb3c895-b5ef-4604-8f47-7663fb8632b1 (no filter matched)\\n'\n\nChange-Id: Ic9307f99e16942d641c6c8d2507630f33026b5a1\n""}, {'number': 2, 'created': '2020-05-13 11:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/56cf3805e40e490da63dcdba15222d99905f4142', 'message': ""Add chown_disk regext for /var/lib/cinder/mnt/\n\nWhen glance_store uses cinder storage backend, chown the cinder path as\nthis is acutally failing with this error:\n2020-05-12 13:11:02.162 33 ERROR glance_store._drivers.cinder Stderr:\n'/usr/bin/glance-rootwrap: Unauthorized command: chown 42415 /var/lib/\ncinder/mnt/04e1bdb760091e51531be717730c8ab6/\nvolume-4bb3c895-b5ef-4604-8f47-7663fb8632b1 (no filter matched)\\n'\n\nChange-Id: Ic9307f99e16942d641c6c8d2507630f33026b5a1\n""}, {'number': 3, 'created': '2020-05-13 11:53:22.000000000', 'files': ['etc/glance/rootwrap.d/glance_cinder_store.filters'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9946c81435e8533ccf057e23b3f26c7db147be18', 'message': ""Add chown_disk regext for /var/lib/cinder/mnt/\n\nWhen glance_store uses cinder storage backend, chown the cinder path as\nthis is acutally failing with this error:\n2020-05-12 13:11:02.162 33 ERROR glance_store._drivers.cinder Stderr:\n'/usr/bin/glance-rootwrap: Unauthorized command: chown 42415 /var/lib/\ncinder/mnt/04e1bdb760091e51531be717730c8ab6/\nvolume-4bb3c895-b5ef-4604-8f47-7663fb8632b1 (no filter matched)\\n'\n\nChange-Id: Ic9307f99e16942d641c6c8d2507630f33026b5a1\nCloses-bug: #1878403\n""}]",1,727734,9946c81435e8533ccf057e23b3f26c7db147be18,8,4,3,7130,,,0,"Add chown_disk regext for /var/lib/cinder/mnt/

When glance_store uses cinder storage backend, chown the cinder path as
this is acutally failing with this error:
2020-05-12 13:11:02.162 33 ERROR glance_store._drivers.cinder Stderr:
'/usr/bin/glance-rootwrap: Unauthorized command: chown 42415 /var/lib/
cinder/mnt/04e1bdb760091e51531be717730c8ab6/
volume-4bb3c895-b5ef-4604-8f47-7663fb8632b1 (no filter matched)\n'

Change-Id: Ic9307f99e16942d641c6c8d2507630f33026b5a1
Closes-bug: #1878403
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/34/727734/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/glance/rootwrap.d/glance_cinder_store.filters'],1,cb69fbeb97cc495bc96e93ec55ae3085498e7d43,bug,"disk_chown: RegExpFilter, chown, root, chown, \d+, /dev/(?!.*/\.\.).*, chown, \d+, /var/lib/cinder/mnt/.*umount: CommandFilter, umount, root ","disk_chown: RegExpFilter, chown, root, chown, \d+, /dev/(?!.*/\.\.).*umount: CommandFilter, umount, root",2,2
openstack%2Ftripleo-heat-templates~master~Ie91e3f3c0d9e1a8f0b03e3727dc0d2945e58fa66,openstack/tripleo-heat-templates,master,Ie91e3f3c0d9e1a8f0b03e3727dc0d2945e58fa66,Fix bindep tox dependencies for fedora,ABANDONED,2020-11-15 14:12:32.000000000,2021-11-13 15:44:33.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-15 14:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb175c8880963dcda67f04f8a7191a1a4d5b6245', 'message': 'Fix bindep tox dependencies for f34\n\nFix bindep tox dependencies for f34 for python3-libselinux,\npython3-libsemanage and python3-devel\n\nChange-Id: Ie91e3f3c0d9e1a8f0b03e3727dc0d2945e58fa66\n'}, {'number': 2, 'created': '2020-11-15 14:20:52.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a34f77dfcc49e5c0b587eed5ce461efd17c1eb22', 'message': 'Fix bindep tox dependencies for fedora\n\nFix bindep tox dependencies for fedora for python3-libselinux,\npython3-libsemanage and python3-devel\n\nChange-Id: Ie91e3f3c0d9e1a8f0b03e3727dc0d2945e58fa66\n'}]",0,762755,a34f77dfcc49e5c0b587eed5ce461efd17c1eb22,6,3,2,7130,,,0,"Fix bindep tox dependencies for fedora

Fix bindep tox dependencies for fedora for python3-libselinux,
python3-libsemanage and python3-devel

Change-Id: Ie91e3f3c0d9e1a8f0b03e3727dc0d2945e58fa66
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/762755/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,eb175c8880963dcda67f04f8a7191a1a4d5b6245,fix_tox,python36-devel [platform:rpm !platform:f34] python3-devel [platform:f34]libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8 !platform:f34] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8 !platform:f34] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7 !platform:f34] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7 !platform:f34] python3-libselinux [platform:f34] python3-libsemanage [platform:f34],python36-devel [platform:rpm]libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7],8,5
openstack%2Ftripleo-heat-templates~master~I28d04e854e5fb0738a313fdb51e1c6cc40f884fa,openstack/tripleo-heat-templates,master,I28d04e854e5fb0738a313fdb51e1c6cc40f884fa,Implement EnforceScopedTokens to allow usage of scoped tokens,ABANDONED,2020-11-07 17:08:24.000000000,2021-11-13 15:42:52.000000000,,"[{'_account_id': 6926}, {'_account_id': 7130}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-07 17:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d66845f5962e9fbf4ddf42332b8a9ebd57d9a4d', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 2, 'created': '2020-11-14 20:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbd633fd8a0db101592924ed5cc5141238424c95', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 3, 'created': '2020-11-14 21:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ef051bc2f1303cadc59f8f1aa9cefacee2d218f', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 4, 'created': '2020-11-14 21:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f56cbd25c58dbb597e3a9173737f68576ca2df25', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 5, 'created': '2020-11-15 13:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89a7297ca1ead4ae17793ddb0176315485c55567', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 6, 'created': '2020-11-15 13:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1677784c299c8cb9f0059e770f769b3c6b6411e9', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 7, 'created': '2020-11-15 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a29d52f0c7198f6f0f26aa201f6bfa77fafcbae2', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 8, 'created': '2020-11-15 13:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69925c5d4abcc3ce46d58884713229b4a1fb2e85', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 9, 'created': '2020-11-16 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b536dffc34b8fbabc5890df912d1dcc416a1210', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 10, 'created': '2020-11-16 22:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f8358d53665f857e370e64e049dc6151aa97581', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}, {'number': 11, 'created': '2020-11-16 22:05:35.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ce384f0217d6c5dd3b7dd2fc260cd0a6dd650b2', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa\n'}]",4,761817,3ce384f0217d6c5dd3b7dd2fc260cd0a6dd650b2,25,5,11,7130,,,0,"Implement EnforceScopedTokens to allow usage of scoped tokens

Implement EnforceScopedTokens to allow usage of scoped tokens while
deploying.   At this point in time, we are able to configure the
following:
parameter_defaults:
  ControllerExtraConfig:
    keystone::config::keystone_config:
      oslo_policy/enforce_scope:
        value: true
but deployment fails due to admin credentiens being scoped on a
project instead of system-wide.

Change-Id: I28d04e854e5fb0738a313fdb51e1c6cc40f884fa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/761817/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,7d66845f5962e9fbf4ddf42332b8a9ebd57d9a4d,scoped_tokens_v2," EnforceScopedTokens: type: boolean description: > Set to true to enable keystone scoped token enforcement default: false enforce_scoped_tokens: - {get_param: EnforceScopedTokens} ### keystone::policy::enforce_scope when 759008 and 759010 merge - if: - enable_scoped_tokens - keystone::config::keystone_config: oslo_policy/enforce_scope: value: true - {} map_merge: - auth_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} password: {get_param: AdminPassword} user_domain_name: Default username: admin - if: - enforce_scoped_tokens - {} - project_domain_name: Default project_name: admin"," auth_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} password: {get_param: AdminPassword} project_domain_name: Default project_name: admin user_domain_name: Default username: admin",25,6
openstack%2Ftripleo-ansible~master~I19868518bdd70f5b4b261dc5f343e3caa7adb307,openstack/tripleo-ansible,master,I19868518bdd70f5b4b261dc5f343e3caa7adb307,Append lvm2_allow_list only if it's not empty,ABANDONED,2021-10-07 14:12:36.000000000,2021-11-13 15:30:58.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-07 14:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20a42a988e14cf14ca445e8827f511937e4aa850', 'message': 'Append lvm2_allow_list only if it\'s not empty\n\nAppend lvm2_allow_list only if it\'s not empty as in some case, we\nwant to simply disable LVM scanning for the host and not add any\nvalues.  If this scenario happens, LVM returns the following error:\n""devices/global_filter"" invalid. It cannot be set to an empty value\ndue to this: ""devices/global_filter=["""",""r|.*|""]""] which contains\n"""".\n\nChange-Id: I19868518bdd70f5b4b261dc5f343e3caa7adb307\n'}, {'number': 2, 'created': '2021-10-07 14:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1d4997ed5c50191817baf2c233175fe5ab2bb26', 'message': 'Append lvm2_allow_list only if it\'s not empty\n\nAppend lvm2_allow_list only if it\'s not empty as in some case, we\nwant to simply disable LVM scanning for the host and not add any\nvalues.  If this scenario happens, LVM returns the following error:\n""devices/global_filter"" invalid. It cannot be set to an empty value\ndue to this: ""devices/global_filter=["""",""r|.*|""]""] which contains\n"""".\n\nChange-Id: I19868518bdd70f5b4b261dc5f343e3caa7adb307\n'}, {'number': 3, 'created': '2021-10-07 14:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b805adb5a6bfbeaa44b4ca3342a0ca6d6f630cf', 'message': 'Append lvm2_allow_list only if it\'s not empty\n\nAppend lvm2_allow_list only if it\'s not empty as in some case, we\nwant to simply disable LVM scanning for the host and not add any\nvalues.  If this scenario happens, LVM returns the following error:\n""devices/global_filter"" invalid. It cannot be set to an empty value\ndue to this: ""devices/global_filter=["""",""r|.*|""]""] which contains\n"""".\n\nChange-Id: I19868518bdd70f5b4b261dc5f343e3caa7adb307\n'}, {'number': 4, 'created': '2021-10-07 14:45:18.000000000', 'files': ['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86f8e829d6d9f23b96f458568ab6d62b826b3e45', 'message': 'Append lvm2_allow_list only if it\'s not empty\n\nAppend lvm2_allow_list only if it\'s not empty as in some case, we\nwant to simply disable LVM scanning for the host and not add any\nvalues.  If this scenario happens, LVM returns the following error:\n""devices/global_filter"" invalid. It cannot be set to an empty value\ndue to this: ""devices/global_filter=["""",""r|.*|""]""] which contains\n"""".\n\nChange-Id: I19868518bdd70f5b4b261dc5f343e3caa7adb307\n'}]",0,813020,86f8e829d6d9f23b96f458568ab6d62b826b3e45,8,3,4,7130,,,0,"Append lvm2_allow_list only if it's not empty

Append lvm2_allow_list only if it's not empty as in some case, we
want to simply disable LVM scanning for the host and not add any
values.  If this scenario happens, LVM returns the following error:
""devices/global_filter"" invalid. It cannot be set to an empty value
due to this: ""devices/global_filter=["""",""r|.*|""]""] which contains
"""".

Change-Id: I19868518bdd70f5b4b261dc5f343e3caa7adb307
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/813020/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml'],1,20a42a988e14cf14ca445e8827f511937e4aa850,lvm_filter," lvm2_filter: ""{% if lvm2_allow_list != \""''\"" %} {lvm2_allow_list + ',' +} {%endif} {{lvm2_deny_list }}"""," lvm2_filter: ""{{ lvm2_allow_list + ',' + lvm2_deny_list }}""",1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Icc0c2cd896d4c9a01601d4d733f38443ad8400d4,openstack/openstack-ansible-os_nova,stable/ussuri,Icc0c2cd896d4c9a01601d4d733f38443ad8400d4,Add Virtual GPU Config to nova.conf template,MERGED,2021-11-11 10:48:31.000000000,2021-11-13 13:27:38.000000000,2021-11-13 13:26:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31750}]","[{'number': 1, 'created': '2021-11-11 10:48:31.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml', 'tasks/nova_vgpu_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6713967f6b7728af0ce5ccd0363a965befb535d4', 'message': 'Add Virtual GPU Config to nova.conf template\n\nCurrently, the list of supported vGPUs is populated automatically\nwithin the Nova playbook when the /sys/class/mdev_bus folder is\npresent. This will populate the `enabled_vgpu_types` variable with\nthe full list of vGPUs that are supported by default, with only\nthe first one listed being used.\n\nThis change provides the ability to define a new variable\n`nova_enabled_vgpu_types` that will populate the enabled_vgpu_types\nconfig option. It also adds the ability to map vgpu types to PCI\naddresses in line with Ussuri updates to provide multi-vGPU support.\n\nChange-Id: Icc0c2cd896d4c9a01601d4d733f38443ad8400d4\n(cherry picked from commit 3edfbe68963f26a2c11b87094504f8ab37e0abcc)\n'}]",2,817538,6713967f6b7728af0ce5ccd0363a965befb535d4,14,4,1,28619,,,0,"Add Virtual GPU Config to nova.conf template

Currently, the list of supported vGPUs is populated automatically
within the Nova playbook when the /sys/class/mdev_bus folder is
present. This will populate the `enabled_vgpu_types` variable with
the full list of vGPUs that are supported by default, with only
the first one listed being used.

This change provides the ability to define a new variable
`nova_enabled_vgpu_types` that will populate the enabled_vgpu_types
config option. It also adds the ability to map vgpu types to PCI
addresses in line with Ussuri updates to provide multi-vGPU support.

Change-Id: Icc0c2cd896d4c9a01601d4d733f38443ad8400d4
(cherry picked from commit 3edfbe68963f26a2c11b87094504f8ab37e0abcc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/38/817538/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml', 'tasks/nova_vgpu_detect.yml']",3,6713967f6b7728af0ce5ccd0363a965befb535d4,add-vgpu-config-stable/ussuri," discovered_vgpu_types: ""{{ mdev.stdout_lines | unique }}"""," enabled_vgpu_types: ""{{ mdev.stdout_lines | unique }}""",22,3
openstack%2Fneutron~master~I95e9e1bc553ac499d75c9280e45dfea61d135279,openstack/neutron,master,I95e9e1bc553ac499d75c9280e45dfea61d135279,Sanitize profile column of ml2_port_bindings table in the DB,MERGED,2021-09-28 12:43:13.000000000,2021-11-13 10:26:18.000000000,2021-11-13 10:24:07.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 12:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea4de88f6484d3613b1c8ab01052f162a981e6a4', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}, {'number': 2, 'created': '2021-09-29 09:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/305b4398c359d6b426187a3a383e50b85ca6db30', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}, {'number': 3, 'created': '2021-09-29 09:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1e4e1492621e4cb4f5c9e000e93106d769b419a', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}, {'number': 4, 'created': '2021-09-29 10:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c94d82b1ee9c7eb3536ddab5f5ab49ce158e4d4', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}, {'number': 5, 'created': '2021-10-11 13:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/053cf8559b0f5f2a24a1d2a8af6c0f29f75cdcad', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}, {'number': 6, 'created': '2021-10-12 13:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82e74240da4b43cb6febeeb4365ffb791d53d7a1', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}, {'number': 7, 'created': '2021-10-22 13:59:09.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'neutron/api/converters.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py', 'setup.cfg', 'releasenotes/notes/sanitize-port-binding-profile-5b0cba2566f7f950.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d699a955cd55a6401a787630d37f04c5691eea78', 'message': ""Sanitize profile column of ml2_port_bindings table in the DB\n\nWith the introduction of port-resource-request-groups extension,\nformat of binding-profile.allocation has changed. Since the DB,\nmay contain port bindings that were created before the introduction\nof the new format, it's necessary to perform upgrade check and\nsanitize those rows that are still using an older format.\n\nPartial-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279\n""}]",28,811411,d699a955cd55a6401a787630d37f04c5691eea78,137,7,7,33652,,,0,"Sanitize profile column of ml2_port_bindings table in the DB

With the introduction of port-resource-request-groups extension,
format of binding-profile.allocation has changed. Since the DB,
may contain port bindings that were created before the introduction
of the new format, it's necessary to perform upgrade check and
sanitize those rows that are still using an older format.

Partial-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: I95e9e1bc553ac499d75c9280e45dfea61d135279
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/811411/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/upgrade_checks/checks.py', 'neutron/api/converters.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py', 'setup.cfg', 'releasenotes/notes/sanitize-port-binding-profile-5b0cba2566f7f950.yaml']",6,ea4de88f6484d3613b1c8ab01052f162a981e6a4,bp/qos-minimum-guaranteed-packet-rate,"--- features: - | Added a check to verify if all rows of ``ml2_port_bindings`` table in the DB are using the new format for ``profile`` column. This check is part of upgrade check, that can be executed with ``neutron-status upgrade check`` command. If some rows are using obsolete format, they can be sanitized with a script that can be executed with ``neutron-sanitize-port-binding-profile-allocation`` command. ",,200,0
openstack%2Fdesignate~master~Ibc235c5a81d22566b3cd625f1840bcc2aad80668,openstack/designate,master,Ibc235c5a81d22566b3cd625f1840bcc2aad80668,[part2]:Remove six,ABANDONED,2020-05-23 08:52:10.000000000,2021-11-13 08:49:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-23 08:52:10.000000000', 'files': ['designate/backend/impl_infoblox/ibexceptions.py', 'designate/backend/agent_backend/impl_gdnsd.py', 'designate/backend/impl_nsd4.py', 'designate/backend/impl_bind9.py', 'designate/backend/impl_pdns4.py', 'designate/backend/impl_akamai_v2.py', 'designate/backend/impl_infoblox/connector.py', 'designate/backend/agent_backend/impl_djbdns.py', 'designate/backend/agent_backend/impl_msdns.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/backend/agent_backend/impl_knot2.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/6ce4eafe794baded670fc3e049de64afcbe47217', 'message': ""[part2]:Remove six\n\nWe don't need this in a Python 3-only world.\n\nThis ps from six from backend\n\nChange-Id: Ibc235c5a81d22566b3cd625f1840bcc2aad80668\n""}]",0,730438,6ce4eafe794baded670fc3e049de64afcbe47217,4,1,1,30356,,,0,"[part2]:Remove six

We don't need this in a Python 3-only world.

This ps from six from backend

Change-Id: Ibc235c5a81d22566b3cd625f1840bcc2aad80668
",git fetch https://review.opendev.org/openstack/designate refs/changes/38/730438/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/impl_infoblox/ibexceptions.py', 'designate/backend/agent_backend/impl_gdnsd.py', 'designate/backend/impl_nsd4.py', 'designate/backend/impl_bind9.py', 'designate/backend/impl_pdns4.py', 'designate/backend/impl_akamai_v2.py', 'designate/backend/impl_infoblox/connector.py', 'designate/backend/agent_backend/impl_djbdns.py', 'designate/backend/agent_backend/impl_msdns.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/backend/agent_backend/impl_knot2.py']",12,6ce4eafe794baded670fc3e049de64afcbe47217,," if isinstance(zone_name, bytes): if isinstance(zone_name, bytes):","import six if six.PY3 and isinstance(zone_name, bytes): if six.PY3 and isinstance(zone_name, bytes):",20,28
openstack%2Fironic-python-agent~master~I1d8ca1e7ed1462159e4ae5f0bcf58686f6a2681c,openstack/ironic-python-agent,master,I1d8ca1e7ed1462159e4ae5f0bcf58686f6a2681c,Simplify error messages when running clean/deploy step,MERGED,2021-11-09 13:00:34.000000000,2021-11-13 07:38:34.000000000,2021-11-13 07:35:50.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-09 13:00:34.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/extensions/deploy.py', 'ironic_python_agent/extensions/clean.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c5fb191393c9a7a7c958828360ff7034369848a0', 'message': ""Simplify error messages when running clean/deploy step\n\nThe caller knows what step it invokes, there is no point in repeating\nit in the error message. There is also no need to wrap the exception\nif it's a RESTError or an ironic-lib exception already since they\nare normally detailed enough.\n\nOnly leave a detailed message when an unexpected exception happens.\n\nChange-Id: I1d8ca1e7ed1462159e4ae5f0bcf58686f6a2681c\n""}]",1,817201,c5fb191393c9a7a7c958828360ff7034369848a0,9,4,1,10239,,,0,"Simplify error messages when running clean/deploy step

The caller knows what step it invokes, there is no point in repeating
it in the error message. There is also no need to wrap the exception
if it's a RESTError or an ironic-lib exception already since they
are normally detailed enough.

Only leave a detailed message when an unexpected exception happens.

Change-Id: I1d8ca1e7ed1462159e4ae5f0bcf58686f6a2681c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/01/817201/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/extensions/deploy.py', 'ironic_python_agent/extensions/clean.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py']",4,c5fb191393c9a7a7c958828360ff7034369848a0,error_msg," err = errors.BlockDeviceError(""I'm a teapot"") mock_dispatch.side_effect = err self.assertEqual(err, async_result.command_error) mock_version.assert_called_once_with(self.version) mock_dispatch.assert_called_once_with( self.step['GenericHardwareManager'][0]['step'], self.node, self.ports) mock_cache_node.assert_called_once_with(self.node) @mock.patch('ironic_python_agent.hardware.dispatch_to_managers', autospec=True) @mock.patch('ironic_python_agent.hardware.check_versions', autospec=True) def test_execute_deploy_step_exception(self, mock_version, mock_dispatch, mock_cache_node): mock_dispatch.side_effect = RuntimeError('boom') async_result = self.agent_extension.execute_deploy_step( step=self.step['GenericHardwareManager'][0], node=self.node, ports=self.ports, deploy_version=self.version) async_result.join() self.assertEqual('FAILED', async_result.command_status) self.assertIn('RuntimeError: boom', str(async_result.command_error))", mock_dispatch.side_effect = RuntimeError,66,6
openstack%2Fironic-python-agent~master~I4016e43f2cb102d4327bafcc8a2f90112a6f944a,openstack/ironic-python-agent,master,I4016e43f2cb102d4327bafcc8a2f90112a6f944a,Move rescan device function to general utils,MERGED,2021-11-06 11:10:52.000000000,2021-11-13 07:37:20.000000000,2021-11-13 07:35:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-06 11:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0b0f6308155b0d6d8bf3c07d9b9cc7fd59cc8355', 'message': ""[WIP] Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}, {'number': 2, 'created': '2021-11-08 17:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a32c0e270de98c77a7de4ef7b2a3ee12bf1aa3fd', 'message': ""Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}, {'number': 3, 'created': '2021-11-09 09:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/02f263d8c35ad6dc13f4c988a4311578b1d92624', 'message': ""Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}, {'number': 4, 'created': '2021-11-09 12:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9fb5d56d63ec5a024efea91f2857e151ac096376', 'message': ""Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}, {'number': 5, 'created': '2021-11-09 16:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/98cddfce6ef834be40c24a0b594bea6d86454132', 'message': ""Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}, {'number': 6, 'created': '2021-11-10 08:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/50e309baddb603fda7978bdcbfdd703333b76f58', 'message': ""Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}, {'number': 7, 'created': '2021-11-10 14:34:46.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a799dcc42288491549be72b43940815dfc684db8', 'message': ""Move rescan device function to general utils\n\nWe use basically the same function in two modules in the same way, let's\nput that in a common place.\n\nChange-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a\n""}]",11,816916,a799dcc42288491549be72b43940815dfc684db8,31,4,7,23851,,,0,"Move rescan device function to general utils

We use basically the same function in two modules in the same way, let's
put that in a common place.

Change-Id: I4016e43f2cb102d4327bafcc8a2f90112a6f944a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/16/816916/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/utils.py']",4,0b0f6308155b0d6d8bf3c07d9b9cc7fd59cc8355,move-rescan-device," def rescan_device(device): """"""Force the device to be rescanned :param device: device upon which to rescan and update kernel partition records. """""" try: execute('udevadm', 'settle') execute('partx', '-u', device, attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: LOG.error(""Couldn't re-read the partition table "" ""on device %s"", device) raise e",,202,142
openstack%2Fswift~master~Ia107c1c8ac051890bea00770f06c53a47eafb9d6,openstack/swift,master,Ia107c1c8ac051890bea00770f06c53a47eafb9d6,Make cmp_policy_info agree with the API behaviour,MERGED,2021-11-04 17:55:16.000000000,2021-11-13 06:09:24.000000000,2021-11-13 06:07:31.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 17:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d40a2a6bb4c140240ea65318a846cbfd3970f886', 'message': 'WIP: Make cmp_policy_index agree with the API behaviour\n\nWhen we try to determine the correct state from a set of inconsistent\nreplicas of the state, the outocme should always be the same as if the\noriginating requests had all been received at a singke service\nendpoint.\n\nIn the case of storage policy index, the least recently PUT index wins\nat the container server API, but cmp_policy_index favours the most\nrecently PUT index if after a DELETE.\n\nChange-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\n'}, {'number': 2, 'created': '2021-11-05 18:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8f6a9855839666adf624ee0906dccbfc5e49ce13', 'message': 'Make cmp_policy_info agree with the API behaviour\n\nWhen we try to determine the correct state from a set of inconsistent\nreplicas of the state, the outcome should always be the same as if the\noriginating requests had all been handled by a single API endpoint.\n\nIn the case of storage policy index, the least recently PUT index wins\nat the container server API, but previously cmp_policy_info favored\nthe most recently PUT index if after a DELETE.\n\nThis patch modifies cmp_policy_info to be consistent with the API\nbehavior.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\n'}, {'number': 3, 'created': '2021-11-09 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/501b25ed02f0a1e98897e513cfdcc8c45b3cf792', 'message': 'Make cmp_policy_info agree with the API behaviour\n\nWhen we try to determine the correct state from a set of inconsistent\nreplicas of the state, the outcome should always be the same as if the\noriginating requests had all been handled by a single API endpoint.\n\nIn the case of storage policy index, the least recently PUT index wins\nat the container server API, but previously cmp_policy_info favored\nthe most recently PUT index if after a DELETE.\n\nThis patch modifies cmp_policy_info to be consistent with the API\nbehavior.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\n'}, {'number': 4, 'created': '2021-11-12 17:10:40.000000000', 'files': ['test/unit/container/test_reconciler.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3ee262d8b3c58f6b7c582180d2a4fffa738e284b', 'message': 'Make cmp_policy_info agree with the API behaviour\n\nWhen we try to determine the correct state from a set of inconsistent\nreplicas of the state, the outcome should always be the same as if the\noriginating requests had all been handled by a single API endpoint.\n\nIn the case of storage policy index, the least recently PUT index wins\nat the container server API, but previously cmp_policy_info favored\nthe most recently PUT index if after a DELETE.\n\nThis patch modifies cmp_policy_info to be consistent with the API\nbehavior.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\n'}]",6,816731,3ee262d8b3c58f6b7c582180d2a4fffa738e284b,20,4,4,7847,,,0,"Make cmp_policy_info agree with the API behaviour

When we try to determine the correct state from a set of inconsistent
replicas of the state, the outcome should always be the same as if the
originating requests had all been handled by a single API endpoint.

In the case of storage policy index, the least recently PUT index wins
at the container server API, but previously cmp_policy_info favored
the most recently PUT index if after a DELETE.

This patch modifies cmp_policy_info to be consistent with the API
behavior.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/816731/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_reconciler.py', 'swift/container/reconciler.py']",2,d40a2a6bb4c140240ea65318a846cbfd3970f886,p-fix-cmp-spi,"def cmp_policy_info(local_info, remote_info): # WIP! events = [] for info, tag in ((local_info, 'local'), (remote_info, 'remote')): events.append((info['delete_timestamp'], 'delete', tag)) events.append((info['put_timestamp'], 'put', tag)) events.sort() deleted = True chosen = local_info # play the events back and make same decisions as the container server # would have done for requests to its API... for event in events: if event[1] == 'put' and deleted: deleted = False chosen = event[2] if event[1] == 'delete': # TODO: do repeated deletes at API increment delete_timestamp? deleted = True chosen = event[2] # I need to figure out how status_changed_at plays along - the server API # doesn't consider it at all, but the original cmp_policy_index did return -1 if chosen == 'local' else 1","def cmp_policy_info(info, remote_info): """""" You have to squint to see it, but the general strategy is just: if either has been recreated: return the newest (of the recreated) else return the oldest I tried cleaning it up for awhile, but settled on just writing a bunch of tests instead. Once you get an intuitive sense for the nuance here you can try and see there's a better way to spell the boolean logic but it all ends up looking sorta hairy. :returns: -1 if info is correct, 1 if remote_info is better """""" def is_deleted(info): return (info['delete_timestamp'] > info['put_timestamp'] and info.get('count', info.get('object_count', 0)) == 0) def cmp(a, b): if a < b: return -1 elif b < a: return 1 else: return 0 deleted = is_deleted(info) remote_deleted = is_deleted(remote_info) if any([deleted, remote_deleted]): if not deleted: return -1 elif not remote_deleted: return 1 return cmp(remote_info['status_changed_at'], info['status_changed_at']) def has_been_recreated(info): return (info['put_timestamp'] > info['delete_timestamp'] > Timestamp(0)) remote_recreated = has_been_recreated(remote_info) recreated = has_been_recreated(info) if any([remote_recreated, recreated]): if not recreated: return 1 elif not remote_recreated: return -1 return cmp(remote_info['status_changed_at'], info['status_changed_at']) return cmp(info['status_changed_at'], remote_info['status_changed_at'])",127,50
openstack%2Fcyborg~master~I1e59844ac8acbdbe4b4b02b5393bada927a2eb57,openstack/cyborg,master,I1e59844ac8acbdbe4b4b02b5393bada927a2eb57,Do not get non-inspur fpga devices when enable inspur_fpga_driver,MERGED,2021-11-03 01:56:11.000000000,2021-11-13 03:39:07.000000000,2021-11-13 03:37:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-11-03 01:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2ec971a5ae480b42a8de52456ca8f1156f9df99c', 'message': 'Do not get non-inspur fpga devices when enable inspur_fpga_driver\n\nThis patch uses `all()` instead of `any()` cause that FPGA devices\nfrom other manufacturers may also display ""Processing accelerators"".\n\nCloses-Bug: #1949534\nChange-Id: I1e59844ac8acbdbe4b4b02b5393bada927a2eb57\n'}, {'number': 2, 'created': '2021-11-10 03:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/54a206ee0ff72aa67b9bde117a8b82115ee0e6a9', 'message': ""Do not get non-inspur fpga devices when enable inspur_fpga_driver\n\nThis patch uses inspur's vendor_id to filter devices.\n\nCloses-Bug: #1949534\nChange-Id: I1e59844ac8acbdbe4b4b02b5393bada927a2eb57\n""}, {'number': 3, 'created': '2021-11-10 09:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bf386053e712a3e24ec6afee30a2b6523a7625cd', 'message': 'Do not get non-inspur fpga devices when enable inspur_fpga_driver\n\nThis patch uses `all()` instead of `any()` cause that FPGA devices\nfrom other manufacturers may also display ""Processing accelerators"".\nAlso add `vendor_id` to filter device.\n\nCloses-Bug: #1949534\nChange-Id: I1e59844ac8acbdbe4b4b02b5393bada927a2eb57\n'}, {'number': 4, 'created': '2021-11-11 08:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ac0b081b81c50ee46e2223032b1017b891efc62d', 'message': 'Do not get non-inspur fpga devices when enable inspur_fpga_driver\n\nThis patch uses `vendor_id` to filter cause that FPGA devices\nfrom other manufacturers may also display ""Processing accelerators"".\n\nCloses-Bug: #1949534\nChange-Id: I1e59844ac8acbdbe4b4b02b5393bada927a2eb57\n'}, {'number': 5, 'created': '2021-11-12 02:08:39.000000000', 'files': ['cyborg/tests/unit/accelerator/drivers/fpga/inspur/test_driver.py', 'cyborg/accelerator/drivers/fpga/inspur/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b4ad7f5cfab70ee4badf0122baced24df0ee0ff3', 'message': 'Do not get non-inspur fpga devices when enable inspur_fpga_driver\n\nThis patch uses `vendor_id` to filter cause that FPGA devices\nfrom other manufacturers may also display ""Processing accelerators"".\n\nCloses-Bug: #1949534\nChange-Id: I1e59844ac8acbdbe4b4b02b5393bada927a2eb57\n'}]",10,816424,b4ad7f5cfab70ee4badf0122baced24df0ee0ff3,25,4,5,23950,,,0,"Do not get non-inspur fpga devices when enable inspur_fpga_driver

This patch uses `vendor_id` to filter cause that FPGA devices
from other manufacturers may also display ""Processing accelerators"".

Closes-Bug: #1949534
Change-Id: I1e59844ac8acbdbe4b4b02b5393bada927a2eb57
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/24/816424/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/accelerator/drivers/fpga/inspur/test_driver.py', 'cyborg/accelerator/drivers/fpga/inspur/sysinfo.py']",2,2ec971a5ae480b42a8de52456ca8f1156f9df99c,bug/1949534, if all(x in lspci_out[i] for x in pci_flags):, if any(x in lspci_out[i] for x in pci_flags):,20,1
openstack%2Fpbr~master~I1f2b4d34e587389f7e11b99d000e14477cf5091b,openstack/pbr,master,I1f2b4d34e587389f7e11b99d000e14477cf5091b,Allow PEP517 without setup_requires,MERGED,2021-11-12 17:19:54.000000000,2021-11-13 03:10:46.000000000,2021-11-13 03:06:29.000000000,"[{'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 17:19:54.000000000', 'files': ['pbr/tests/test_packaging.py', 'pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/de0c717b17841b0b14019130872f8f02a6aed217', 'message': ""Allow PEP517 without setup_requires\n\nWhen using PBR PEP517 support without setup_requires were were\ninfinitely recursing because Distribution.finalize_options calls pbr()\nand pbr() calls Distribution.finalize_options. With a setup_requires\nthis doesn't seem to happen because something is resetting dist.pbr's\nvalue from True (callable) to None (not callable) after the initial\npbr() call and before further recursion can occur.\n\nExplicitly enforce this behavior in pbr() via an explicit update of\ndist.pbr to None to avoid calling pbr() more than once resulting in the\nunwanted loop.\n\nChange-Id: I1f2b4d34e587389f7e11b99d000e14477cf5091b\n""}]",1,817794,de0c717b17841b0b14019130872f8f02a6aed217,14,3,1,4146,,,0,"Allow PEP517 without setup_requires

When using PBR PEP517 support without setup_requires were were
infinitely recursing because Distribution.finalize_options calls pbr()
and pbr() calls Distribution.finalize_options. With a setup_requires
this doesn't seem to happen because something is resetting dist.pbr's
value from True (callable) to None (not callable) after the initial
pbr() call and before further recursion can occur.

Explicitly enforce this behavior in pbr() via an explicit update of
dist.pbr to None to avoid calling pbr() more than once resulting in the
unwanted loop.

Change-Id: I1f2b4d34e587389f7e11b99d000e14477cf5091b
",git fetch https://review.opendev.org/openstack/pbr refs/changes/94/817794/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_packaging.py', 'pbr/core.py']",2,de0c717b17841b0b14019130872f8f02a6aed217,no-pep517-setup-requires," # Distribution.finalize_options() is what calls this method. That means # there is potential for recursion here. Recursion seems to be an issue # particularly when using PEP517 build-system configs without # setup_requires in setup.py. We can avoid the recursion by setting # dist.pbr to a None value as the corresponding entrypoint (this function) # will only be called on a non None value. setattr(dist, ""pbr"", None) ",,14,1
openstack%2Fpuppet-neutron~master~I191cacaa0db1705a501d6a510136d9518fcba7d1,openstack/puppet-neutron,master,I191cacaa0db1705a501d6a510136d9518fcba7d1,Add support for [DEFAULT] rpc_state_report_workers,MERGED,2021-11-11 23:37:57.000000000,2021-11-13 00:22:29.000000000,2021-11-13 00:19:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 23:37:57.000000000', 'files': ['releasenotes/notes/rpc_state_report_workers-779d6cde164de3d2.yaml', 'spec/classes/neutron_server_spec.rb', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4c5bf0c01895824e3922add02aa3ca8a8251b2da', 'message': 'Add support for [DEFAULT] rpc_state_report_workers\n\nChange-Id: I191cacaa0db1705a501d6a510136d9518fcba7d1\n'}]",1,817654,4c5bf0c01895824e3922add02aa3ca8a8251b2da,10,3,1,9816,,,0,"Add support for [DEFAULT] rpc_state_report_workers

Change-Id: I191cacaa0db1705a501d6a510136d9518fcba7d1
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/54/817654/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rpc_state_report_workers-779d6cde164de3d2.yaml', 'spec/classes/neutron_server_spec.rb', 'manifests/server.pp']",3,4c5bf0c01895824e3922add02aa3ca8a8251b2da,,"# [*rpc_state_report_workers*] # (Optional) Number of RPC worker process dedicated to state reports queue. # Defaults to: $::os_service_default. # $rpc_state_report_workers = $::os_service_default, 'DEFAULT/rpc_state_report_workers': value => $rpc_state_report_workers;",,12,0
openstack%2Fpuppet-neutron~master~I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4,openstack/puppet-neutron,master,I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4,Support setting rpc_response_max_timeout per agent,MERGED,2021-11-12 00:27:23.000000000,2021-11-13 00:21:05.000000000,2021-11-13 00:19:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 00:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2bbb63f4ec540e0a35d2181dd9fef09c180a8ca2', 'message': 'Support setting rpc_response_max_timeout per agent\n\nThe rpc_response_max_timeout parameter can be set for specific agents.\nThis change allows configuring the parameter in agent config files so\nthat different values can be set for different agents.\n\nChange-Id: I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4\n'}, {'number': 2, 'created': '2021-11-12 00:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a9ab561c5958fe07796f535d848af411c817bfe2', 'message': 'Support setting rpc_response_max_timeout per agent\n\nThe rpc_response_max_timeout parameter can be set for specific agents.\nThis change allows configuring the parameter in agent config files so\nthat different values can be set for different agents.\n\nChange-Id: I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4\n'}, {'number': 3, 'created': '2021-11-12 02:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7147597520f101ba71ff14b64a722ab7b8d9b9a9', 'message': 'Support setting rpc_response_max_timeout per agent\n\nThe rpc_response_max_timeout parameter can be set for specific agents.\nThis change allows configuring the parameter in agent config files so\nthat different values can be set for different agents.\n\nChange-Id: I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4\n'}, {'number': 4, 'created': '2021-11-12 03:58:39.000000000', 'files': ['manifests/agents/ml2/linuxbridge.pp', 'spec/classes/neutron_agents_dhcp_spec.rb', 'spec/classes/neutron_agents_metadata_spec.rb', 'manifests/agents/ml2/ovs.pp', 'manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb', 'releasenotes/notes/agent-rpc_response_max_timeout-fbf636fb47193896.yaml', 'manifests/agents/ml2/sriov.pp', 'manifests/agents/dhcp.pp', 'manifests/agents/metering.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'spec/classes/neutron_agents_metering_spec.rb', 'spec/classes/neutron_agents_ml2_linuxbridge_spec.rb', 'manifests/agents/metadata.pp', 'spec/classes/neutron_agents_ml2_sriov_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5b760239474bac3693a26320ad65494cc242f77c', 'message': 'Support setting rpc_response_max_timeout per agent\n\nThe rpc_response_max_timeout parameter can be set for specific agents.\nThis change allows configuring the parameter in agent config files so\nthat different values can be set for different agents.\n\nChange-Id: I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4\n'}]",0,817658,5b760239474bac3693a26320ad65494cc242f77c,11,3,4,9816,,,0,"Support setting rpc_response_max_timeout per agent

The rpc_response_max_timeout parameter can be set for specific agents.
This change allows configuring the parameter in agent config files so
that different values can be set for different agents.

Change-Id: I6a52a91fe0d18eb0cb4483cb5f5ca3b16fe6afb4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/58/817658/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/linuxbridge.pp', 'releasenotes/notes/agent-rpc_response_max_timeout-fbf636fb47193896.yaml', 'manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_metadata_spec.rb', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'spec/classes/neutron_agents_ml2_linuxbridge_spec.rb', 'manifests/agents/metadata.pp', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp']",9,2bbb63f4ec540e0a35d2181dd9fef09c180a8ca2,agent-rpc,"# [*rpc_response_max_timeout*] # (Optional) Maximum seconds to wait for a response from an RPC call # Defaults to: $::os_service_default # $rpc_response_max_timeout = $::os_service_default, 'DEFAULT/rpc_response_max_timeout' value => $rpc_response_max_timeout;",,51,13
openstack%2Fironic-specs~master~I86b15bcfdb72aa933b255ac84184bcf1a860c3e4,openstack/ironic-specs,master,I86b15bcfdb72aa933b255ac84184bcf1a860c3e4,WIP: Enable improved power/state management,NEW,2021-11-03 19:49:11.000000000,2021-11-13 00:11:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-03 19:49:11.000000000', 'files': ['specs/backlog/power-management.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/207188082766da3474cc197eb7fd47ba69eec0fb', 'message': 'WIP: Enable improved power/state management\n\nChange-Id: I86b15bcfdb72aa933b255ac84184bcf1a860c3e4\n'}]",27,816551,207188082766da3474cc197eb7fd47ba69eec0fb,6,1,1,11655,,,0,"WIP: Enable improved power/state management

Change-Id: I86b15bcfdb72aa933b255ac84184bcf1a860c3e4
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/51/816551/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/power-management.rst'],1,207188082766da3474cc197eb7fd47ba69eec0fb,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================= Title of the Spec ================= https://storyboard.openstack.org/#!/story/XXXXXXX The biggest operating cost to running your own infrastucture, is generally electricity itself. For every watt used, an amount of waste heat is generated, and for every BTU of thermal energy put into the space, that thermal energy then needs to be removed from the chassis, and ultimately the data center as a whole. Even with as efficent air conditions can be, if active cooling is required, generally that power conumption is twice the power consumption by the underlying compute workload and support systems. Ironic, being so close to the physical metal, is one of the best places to drive the discussion of how to improve power efficency. Problem description =================== * The world is shifting from speed as the primary focus to efficency. * Aside from architecture chnages and shifts in industries based upon improved power efficency, many firmware settings have been traditionally encoded to the physical machines to ensure maximum power and performance. We need to be able to undo this from a deployed system with minimal downtime. * A running system may also need to be able to recieve operaitonal tuning, such as changes to utilize a lower power profile based on an operational state or task. Conceptually it is almost as if operators need a ""turbo"" button to apply new bios configuration on the dynamically. * An operator may need to put these changes in on a schedule, or be un-done on a schedule, as power billing often follows a ""Time Of Use"" or ""TOU"" model where electricity may cost $0.19 during ""off"" hours, but then increase to $0.49 during ""peak"". * Some operators are required, due to regulatory requirements, to keep hardware in an operational state, and even ``powered on`` without any production workloads. A ""known to the community"" case of this is what spawned the creation of the MOC (https://massopen.cloud) efforts and the MGHPCC (https://www.mghpcc.org/). Often these machines are for distater recovery or failure response, and don't need to be in active use, but on, monitored, and ""able"" to somehow take some workloads. These machines may be best viewed as ""warm standby"" machines. * Operators may wish to disable unused CPU cores from active use in order to prevent expending power resources * Ultimately, this is a problem further away from Ironic as it is part of the operational workload management of a system. Ultimately a number of potential solutions exist to manage internal core states and running power utilziation from within the OS. The likely best path for these sorts of things is workload or hypervisor ""self-management"". * Operators wish make scheduling decisions based on power utilization and power efficency of underlying hardware. For example: * Peak Power Load * Idle Power Load * Current power load - This may not be as important for Ironic deployed instances, but surfacing this information can be critical. Generally, Ironic already has hooks for telemetry collection and shipping via the BMC interface. However power consumption/utilization data is not exposed in any API usable. Additionally, secondary data collection may be needed, such as from an SNMP power strip. .. NOTE:: A secondary power management interface capability may be exceptionally useful for hardware which physically needs power completely removed from the chassis, in addition to multiple ports being monitored and load averaged. * Operators wish to see the higher level aggregate view, as a single pane of glass in services such as Ironic which can realistically be utilized to support any number of clusters or consumers. Higher level pan-""data center"" views, as opposed to numerous isolated ironic deployments. Higher level views allow for simpler workflows when having to orchustrate actions such as an A/B cluster failover, or numerous of such operations in the same data. * Operators wish to consolidate workloads dynamically for efficency, and then on demand spread them out, adjust settings, and workloads. In other words, if the compute node doesn't need to be on, and we have reserve, turn it off. If it needs to be in ""warm standby"", then put it in such state until it needs to be brought out. In all liklihood, functionality, at least at thie highest levels of orchustration, are largely best solved by projects such as OpenStack Watcher, yet at the lower levels, the machines still need power management, and/or settings management workflows and changes to enable the ability to support a union of operational requirements and energy savings. While all of these items are somewhat intertwined, and not all at the level of the physcial metal, lower level enablement of the higher levels is necessary to have the workflows and capabilities to meet the goals of operators. Proposed change =============== To enable active/standby power utilizations/models: * Add a ``standby`` state to the state machine * Add a capability to have a ``standby`` and ``active`` bios configuration to be applied through the bios configuration interface. * Augment watcher's support to have this concept. .. TODO:: A concept of reconfiguraiton could *also* be a thing maybe standby state -> reconfigure verb -> IPA! standby state -> active verb -> BMC reconfigure, reboot, -> active Expose power usage: * Expose power load information via the API. * If deemed necessary, support secondary power devices. While it may be an expansive task/capability, it could ultimately be useful, and underlying logic must always supply aggregate numbers when possible if power supplies are visible in a machine *as* there are always multiple devices. .. TODO:: does our snmp power interface have a defficency in it's model in that it likely only supports one plug per node? .. TODO:: 1) Stuff!!! 2) ... -> ??? 3) Savings -> Profit! Alternatives ------------ Do nothing, and help climate change? That doesn't seem like an alternative. ... What other ways could we do this thing? Has someone else done this thing in another project? In another language? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change? * How will the initial set of new data objects be generated? For example, if you need to take into account existing instances, or modify other existing data, describe how that will work. State Machine Impact -------------------- Interaction between the proposed change and the Ironic state machine should be documented here. Questions which need to be addressed by this section include: * Are you adding or removing any states or verbs? * Are you changing any state transitions? * What states are impacted by this change? This includes situations where an additional action is being performed on nodes in a given state. Any change to the state machine is also a REST API change, and should also be documented accordingly in the next section. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does, suitable for use in user documentation. * Method type (POST/PUT/GET/DELETE/PATCH) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included. Describe semantic errors which can cause it, such as inconsistent parameters supplied to the method, or when a resource is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * Parameters which can be passed via the url, including data types * JSON schema definition for the body data if allowed * JSON schema definition for the response data if any * Does the API microversion need to increment? * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. * Is a corresponding change in the client library and CLI necessary? * Is this change discoverable by clients? Not all clients will upgrade at the same time, so this change must work with older clients without breaking them. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted. Use of free-form JSON dicts should only be permitted where necessary to allow divergence in the drivers. In such case, the drivers must expose the expected content of the JSON dict and an ability to validate it. Reuse of existing predefined parameter types is highly encouraged. Client (CLI) impact ------------------- Typically, but not always, if there are any REST API changes, there are corresponding changes to python-ironicclient. If so, what does the user interface look like. If not, describe why there are REST API changes but no changes to the client. ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ Changes, if any, to the OpenStackClient plugin, ""openstack baremetal"" CLI. ""openstacksdk"" ~~~~~~~~~~~~~~ Changes, if any, to the `OpenStack SDK <https://docs.openstack.org/openstacksdk/latest/>`_, `baremetal <https://opendev.org/openstack/openstacksdk/src/branch/master/openstack/baremetal>`_ methods. RPC API impact -------------- Changes which affect the RPC API should be listed here. For example: * What are the changes, if any, to existing API calls? * What new API calls are being added? Will these be using cast() or call()? * ironic-api and ironic-conductor services must be upgradable independently. What is the upgrade process for rolling this change out to an existing deployment? Driver API impact ----------------- Changes which affect the driver API have a direct effect on all drivers, and often have a wider impact on the system. There are several things to consider in this section. * Is it a change to a ""core"" or ""common"" API? * Can all drivers support it initially, or is it specific to a particular vendor's hardware? * How will it be tested in the gate and in third-party CI systems? * If adding a new interface, explain the intended scope of the proposed interface, what functionality it enables, why it is needed, and whether it is supported by current drivers. * If adding or changing a method on an existing interface, the impact on existing drivers should be explored. * Will the new interface or method need to be invoked when the hash ring rebalances, for example to rebuild local state on a new conductor service? * How does this affect upgrades? Third-party drivers could be updated independently from this change, and care must be taken not to break backwards-compatibility within our Driver API. Nova driver impact ------------------ Chances are, if this change affects the REST or Driver APIs, it will also affect the Nova driver in some way. If this requires a functional change in Nova, chances are the Nova team will require a spec to discuss the changes to their project as well. Provide a link to that here, or a justification for why that is not needed. Questions which need to be addressed in this section include: * What is the impact on Nova? * If this change is enabling new functionality exposed via Nova, this section should cite the relevant components within other Nova drivers that already implement this. * Ironic and Nova services must be upgradable independently. If the change affects existing functionality of the nova.virt.ironic driver, how will an upgrade be performed? How will it be tested? Ramdisk impact -------------- The ``ironic-python-agent`` project has become an integral component in nearly every Ironic deployment, and is used throughout the life cycle of each Node from inspection to deployment and cleaning. There are multiple ways to build a ramdisk containing this agent which cater to different environments, and operators are encouraged to build their own ramdisks as well. In this section, please describe any changes you expect to make to the ``ironic-python-agent`` or its member classes, to the ramdisk build process, or that otherwise affect the resulting ramdisk and its contents. Be mindful of the downstream impact this may have, and to the impact on compatibility. If your change to the ramdisk will also require a change in Ironic, and you think they should be upgraded together, then you should approach the problem differently. Forward and backward compatibility, within at least one release, must be maintained between Ironic and the IPA ramdisk. This could include changes in any of the following: * Are you proposing a change to the ironic-python-agent API, or adding an extension to it? * Are you adding a new ironic-python-agent HardwareManager? This is like adding a new driver and should be documented, but will probably be easy to accept. * Are you changing the HardwareManager base class or interface definitions? This is considered an API change and needs to be considered closely for potential impact on downstream users. * Are you adding a new extension to IPA? This will require support in Ironic, and care will need to be taken to retain compatibility with ramdisks that lack this extension. * Are you adding or changing a method on an existing IPA extension? This is likely to break compatibility. * Are you changing the build process, or proposing a new one? * If you are adding any new dependencies, explicitly call them out, and indicate any expected change in the size of the resulting ramdisk. This may affect performance in some environments. * Are you proposing a change to the hardware inventory returned by list_hardware_info? This is part of the interface, and a change here will affect out of tree drivers. * Are you proposing changes to ironic-inspector, or changes that will affect it? This is now packaged with the default ramdisk capabilities. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or credentials? * Does this change affect the accessibility of hardware managed by Ironic? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Other end user impact --------------------- Aside from the API and client, are there other ways a user will interact with this feature? * Will this require changes in the Horizon panel, or any other OpenStack project? Scalability impact ------------------ Describe any potential scalability impact on the system, for example any increase in network, RPC, or database traffic, or whether the feature requires synchronization across multiple services. Examples of things to consider here include: * Additional network calls to internal or external services. * Additional disk or network traffic that will be required by the feature. * Any change in the number of physical nodes which can be managed by each conductor service. A question an author may wish to ask themselves is what about scales beyond their current context. We shouldn't afraid to ask ""What about in a deployment 10x or 100x larger than any we know of?"", or what if the nodes are on the Mars, and the conductor is running on a satellite in orbit? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition, but all periodic tasks run in a single thread so a periodic task that takes a long time to run will have an effect on the timing of other periodic tasks. * A small change in a utility function or a commonly used decorator can have a large impact on performance. * Calls which result in one or more database queries (whether in the api or conductor services) can have a profound impact on performance when called in critical sections of the code. * Will the change include any TaskManager locking, and if so what considerations are there on holding the lock? * How will the new code be affected if the hash ring rebalances while it is running? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example, a flag that other hardware drivers might want to implement as well)? Are the default values appropriate for production? Provide an explanation of why these defaults are reasonable. * Is this a change that takes immediate effect after it's merged, or is it something that has to be explicitly enabled? * If this change adds a new service that deployers will be required to run, how would it be deployed? Describe the expected topology, for example, what network connectivity the new service would need, what service(s) it would interact with, how many should run relative to the size of the deployment, and so on. * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we were to change the directory that PXE boot files were stored in, how would we update existing boot files created before the change landed? Would we require deployers to manually move them? Is there a special case in the code, which would be removed after some deprecation period? Would we require operators to delete and recreate all instances in order to perform the upgrade? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other drivers would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <IRC handle, email address, or None> Other contributors: <IRC handle, email address, None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in Ironic, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Ironic, document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? * Does this feature target specific hardware? If so, is it a common standard (eg IPMI) or a vendor-specific implementation (eg iLO)? Testing ======= Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc)? Upgrades and Backwards Compatibility ==================================== Care must be taken to support our users by not breaking backwards compatibility with either REST API or Driver API changes. * If your proposal includes any changes to the REST API, describe how existing clients will continue to function when interacting with an upgraded API server. * If your proposal includes any changes to the Driver API, describe how existing driver implementations will continue to function when loaded by a conductor running with the new driver base class. * Describe what testing you will be adding to ensure that backwards compatibility is maintained. * If deprecating an existing feature or API, describe the deprecation plan, and for how long compatibility will be maintained. Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to ",,612,0
openstack%2Fpuppet-nova~master~I3e45823c6843308e6ce588dc064ad3ff28de4fcd,openstack/puppet-nova,master,I3e45823c6843308e6ce588dc064ad3ff28de4fcd,Add support for [neutron] service_type,MERGED,2021-11-12 04:59:18.000000000,2021-11-12 23:20:38.000000000,2021-11-12 23:18:13.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 04:59:18.000000000', 'files': ['spec/classes/nova_network_neutron_spec.rb', 'releasenotes/notes/neutron-service_type-1c16eae07b330f87.yaml', 'manifests/network/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c49d72d42b138e4bb243627e4625117deb575f1b', 'message': 'Add support for [neutron] service_type\n\nChange-Id: I3e45823c6843308e6ce588dc064ad3ff28de4fcd\n'}]",0,817697,c49d72d42b138e4bb243627e4625117deb575f1b,9,4,1,9816,,,0,"Add support for [neutron] service_type

Change-Id: I3e45823c6843308e6ce588dc064ad3ff28de4fcd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/817697/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_network_neutron_spec.rb', 'releasenotes/notes/neutron-service_type-1c16eae07b330f87.yaml', 'manifests/network/neutron.pp']",3,c49d72d42b138e4bb243627e4625117deb575f1b,neutron-service_type,"# [*service_type*] # (optional) The default service_type for endpoint URL discovery. # Defaults to $::os_service_default # $service_type = $::os_service_default, 'neutron/http_retries': value => $http_retries; 'neutron/service_type': value => $service_type;", 'neutron/http_retries': value => $http_retries;,15,1
openstack%2Ftripleo-heat-templates~master~I0638dd35dedc14ecfece3b6b45ae245c41c2b6a8,openstack/tripleo-heat-templates,master,I0638dd35dedc14ecfece3b6b45ae245c41c2b6a8,Flattening the gateway ip list,ABANDONED,2021-11-12 17:15:51.000000000,2021-11-12 23:09:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-12 17:15:51.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e18d080783b7810fb0fdd3c0be493312c0c63e0', 'message': 'Flattening the gateway ip list\n\nIn python yaql 2, the expressions are returning a nested list but we\nneed a list of dictionaries in order to use map_merge.  This change adds\nflatten so it returns [] instead of [[]] when nothing is available.\n\nCloses-bug: #1950528\nChange-Id: I0638dd35dedc14ecfece3b6b45ae245c41c2b6a8\n'}]",0,817793,2e18d080783b7810fb0fdd3c0be493312c0c63e0,4,2,1,27419,,,0,"Flattening the gateway ip list

In python yaql 2, the expressions are returning a nested list but we
need a list of dictionaries in order to use map_merge.  This change adds
flatten so it returns [] instead of [[]] when nothing is available.

Closes-bug: #1950528
Change-Id: I0638dd35dedc14ecfece3b6b45ae245c41c2b6a8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/817793/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,2e18d080783b7810fb0fdd3c0be493312c0c63e0,, expression: list($.data.where($ != null)).flatten(), expression: list($.data.where($ != null)),1,1
openstack%2Fpuppet-glance~master~If495f7b6823970585d6ea2ee71933e3afb184a45,openstack/puppet-glance,master,If495f7b6823970585d6ea2ee71933e3afb184a45,Add missing parameter descriptions,MERGED,2021-11-12 12:37:03.000000000,2021-11-12 23:04:18.000000000,2021-11-12 23:04:18.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 12:37:03.000000000', 'files': ['manifests/backend/multistore/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/9284589fbe99ab4003379f7b6f18c9c70b4f76a1', 'message': 'Add missing parameter descriptions\n\nChange-Id: If495f7b6823970585d6ea2ee71933e3afb184a45\n'}]",1,817753,9284589fbe99ab4003379f7b6f18c9c70b4f76a1,7,3,1,9816,,,0,"Add missing parameter descriptions

Change-Id: If495f7b6823970585d6ea2ee71933e3afb184a45
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/53/817753/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/backend/multistore/swift.pp'],1,9284589fbe99ab4003379f7b6f18c9c70b4f76a1,,# Optional. Buffer image segments before upload to Swift. # Default: $::os_service_default.# Optional. Directory to buffer image segments before upload to Swift. # Default: $::os_service_default.,# Optional. Default: $::os_service_default.# Optional. Default: $::os_service_default.,4,2
openstack%2Fopenstack-ansible~master~If7f57e7eb7335d6bf19a739a25d1e06de3d0cd0d,openstack/openstack-ansible,master,If7f57e7eb7335d6bf19a739a25d1e06de3d0cd0d,Add playbook to generate any user defined certificates,MERGED,2021-11-03 14:49:29.000000000,2021-11-12 22:54:41.000000000,2021-11-12 22:52:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-03 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5512c49c9bc01cb579cf04a1fee1d4f75d626db5', 'message': 'Add playbook to generate any user defined certificates\n\nIf the user defines a list of certificates they require with the\nvariable prefix pki_certificates_, this playbook will create\nthe required certificates.\n\nThe use case for this functionality is to use the openstack\nprivate CA to generate certificates for an API or client that\nis not part of OSA, but needs a certificate\n\nChange-Id: If7f57e7eb7335d6bf19a739a25d1e06de3d0cd0d\n'}, {'number': 2, 'created': '2021-11-08 13:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4afe1d809ee2f263720113b2f3adf7b28027b41b', 'message': 'Add playbook to generate any user defined certificates\n\nIf the user defines a list of certificates they require with the\nvariable prefix user_pki_certificates_, this playbook will create\nthe required certificates.\n\nThe use case for this functionality is to use the openstack\nprivate CA to generate certificates for an API or client that\nis not part of OSA, but needs a certificate\n\nChange-Id: If7f57e7eb7335d6bf19a739a25d1e06de3d0cd0d\n'}, {'number': 3, 'created': '2021-11-09 08:23:06.000000000', 'files': ['doc/source/user/security/ssl-certificates.rst', 'playbooks/setup-hosts.yml', 'playbooks/certificate-generate.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d27d4daed68efa2c1a961c41a7fa26eede68dc45', 'message': 'Add playbook to generate any user defined certificates\n\nIf the user defines a list of certificates they require with the\nvariable prefix user_pki_certificates_, this playbook will create\nthe required certificates.\n\nThe use case for this functionality is to use the openstack\nprivate CA to generate certificates for an API or client that\nis not part of OSA, but needs a certificate\n\nChange-Id: If7f57e7eb7335d6bf19a739a25d1e06de3d0cd0d\n'}]",6,816522,d27d4daed68efa2c1a961c41a7fa26eede68dc45,17,3,3,31749,,,0,"Add playbook to generate any user defined certificates

If the user defines a list of certificates they require with the
variable prefix user_pki_certificates_, this playbook will create
the required certificates.

The use case for this functionality is to use the openstack
private CA to generate certificates for an API or client that
is not part of OSA, but needs a certificate

Change-Id: If7f57e7eb7335d6bf19a739a25d1e06de3d0cd0d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/816522/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/setup-hosts.yml', 'playbooks/certificate-generate.yml']",2,5512c49c9bc01cb579cf04a1fee1d4f75d626db5,gen-certs,"# Copyright 2021, BBC # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Generate any extra user certificates hosts: ""{{ openstack_pki_setup_host | default('localhost') }}"" gather_facts: ""{{ osa_gather_facts | default(True) }}"" tags: - always tasks: - name: Create user certificates include_role: name: pki tasks_from: main_certs.yml vars: pki_setup_host: ""{{ openstack_pki_setup_host | default('localhost') }}"" pki_dir: ""{{ openstack_pki_dir }}"" cert_dir: ""{{ pki_dir }}/certs"" when: - pki_create_certificates | default(true) ",,31,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fvictoria~I18a0ca9e32515194fbcf939bed53cdbef4de26f6,openstack/openstack-ansible-os_gnocchi,stable/victoria,I18a0ca9e32515194fbcf939bed53cdbef4de26f6,Fix gnocchi multi-node when storage_driver is file,MERGED,2021-11-11 01:05:18.000000000,2021-11-12 22:43:53.000000000,2021-11-12 22:41:05.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-11 01:05:18.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/61e63ffb546a5786a5b2d20eb54b85758f3a0780', 'message': 'Fix gnocchi multi-node when storage_driver is file\n\nWhen gnocchi_storage_driver is file, run the db sync on all nodes.\nBut if gnocchi_storage_driver is other than file, run only on first node.\n\nCloses-Bug: #1915618\nChange-Id: I18a0ca9e32515194fbcf939bed53cdbef4de26f6\n'}]",0,817429,61e63ffb546a5786a5b2d20eb54b85758f3a0780,8,4,1,28619,,,0,"Fix gnocchi multi-node when storage_driver is file

When gnocchi_storage_driver is file, run the db sync on all nodes.
But if gnocchi_storage_driver is other than file, run only on first node.

Closes-Bug: #1915618
Change-Id: I18a0ca9e32515194fbcf939bed53cdbef4de26f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/29/817429/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,61e63ffb546a5786a5b2d20eb54b85758f3a0780,," - (gnocchi_storage_driver == 'file') | ternary(True, _gnocchi_is_first_play_host)", - _gnocchi_is_first_play_host,1,1
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fwallaby~I18a0ca9e32515194fbcf939bed53cdbef4de26f6,openstack/openstack-ansible-os_gnocchi,stable/wallaby,I18a0ca9e32515194fbcf939bed53cdbef4de26f6,Fix gnocchi multi-node when storage_driver is file,MERGED,2021-11-11 01:04:58.000000000,2021-11-12 22:35:45.000000000,2021-11-12 22:34:00.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-11 01:04:58.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/09d669b9f2605635ef46b433d2d084f1b46a6628', 'message': 'Fix gnocchi multi-node when storage_driver is file\n\nWhen gnocchi_storage_driver is file, run the db sync on all nodes.\nBut if gnocchi_storage_driver is other than file, run only on first node.\n\nCloses-Bug: #1915618\nChange-Id: I18a0ca9e32515194fbcf939bed53cdbef4de26f6\n'}]",1,817428,09d669b9f2605635ef46b433d2d084f1b46a6628,9,4,1,28619,,,0,"Fix gnocchi multi-node when storage_driver is file

When gnocchi_storage_driver is file, run the db sync on all nodes.
But if gnocchi_storage_driver is other than file, run only on first node.

Closes-Bug: #1915618
Change-Id: I18a0ca9e32515194fbcf939bed53cdbef4de26f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/28/817428/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,09d669b9f2605635ef46b433d2d084f1b46a6628,," - (gnocchi_storage_driver == 'file') | ternary(True, _gnocchi_is_first_play_host)", - _gnocchi_is_first_play_host,1,1
openstack%2Frequirements~stable%2Fussuri~Ib3cd5666148727b0ab25bc2b17442fc852083409,openstack/requirements,stable/ussuri,Ib3cd5666148727b0ab25bc2b17442fc852083409,update constraint for neutron to new release 16.4.2,MERGED,2021-11-12 14:06:12.000000000,2021-11-12 22:23:40.000000000,2021-11-12 22:23:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-12 14:06:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9421fe30d9fb653905c3087a8a0b8aaaf5fc4c9b', 'message': 'update constraint for neutron to new release 16.4.2\n\nmeta: version: 16.4.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib3cd5666148727b0ab25bc2b17442fc852083409\n'}]",0,817760,9421fe30d9fb653905c3087a8a0b8aaaf5fc4c9b,7,3,1,11131,,,0,"update constraint for neutron to new release 16.4.2

meta: version: 16.4.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib3cd5666148727b0ab25bc2b17442fc852083409
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/817760/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9421fe30d9fb653905c3087a8a0b8aaaf5fc4c9b,new-release,neutron===16.4.2,neutron===16.4.1,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9a253e77178bfe1cdd867a31e8b9adc310238819,openstack/tripleo-heat-templates,stable/wallaby,I9a253e77178bfe1cdd867a31e8b9adc310238819,[ovn] Deleting ovn agents during scale down tasks,MERGED,2021-11-10 14:52:13.000000000,2021-11-12 22:22:10.000000000,2021-11-12 22:22:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-10 14:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b340dac962cd5fd76876c23003a85f8d5f06987', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nCloses-Bug: #1949203\n\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}, {'number': 2, 'created': '2021-11-10 14:52:47.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa28158da1c5c48215e15ba3282a7dfdfd150b20', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nCloses-Bug: #1949203\n\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n(cherry-picked from 1314f345fac2695ce1aef180880d6b1beb630a83)\n""}]",1,817416,aa28158da1c5c48215e15ba3282a7dfdfd150b20,11,3,2,27419,,,0,"[ovn] Deleting ovn agents during scale down tasks

When we scale down nodes, we need to make sure that the ovn agents are
deleted otherwise it's going to cause issues.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=2017827
Closes-Bug: #1949203

Change-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819
(cherry-picked from 1314f345fac2695ce1aef180880d6b1beb630a83)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/817416/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,5b340dac962cd5fd76876c23003a85f8d5f06987,," scale_tasks: - when: - step|int == 1 - container_cli == 'podman' tags: down environment: OS_CLOUD: {get_param: RootStackName} block: # Some tasks are running from the Undercloud which has # the OpenStack clients installed. - name: Get neutron agents ID command: openstack network agent list --column ID --column Host --column Binary --format yaml register: neutron_agents_result delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false changed_when: false - name: Filter only current host set_fact: neutron_agents: ""{{ neutron_agents_result.stdout | from_yaml | selectattr('Host', 'match', ansible_facts['fqdn'] ~ '.*') | list }}"" delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false - name: Deleting OVN agents block: - name: Stop OVN containers loop: - tripleo_ovn_controller - tripleo_ovn_metadata_agent service: name: ""{{ item }}"" state: stopped enabled: false become: true register: stop_containers failed_when: ""('msg' in stop_containers and 'Could not find the requested service' not in stop_containers.msg) or ('rc' in stop_containers and stop_containers.rc != 0)"" - name: Delete neutron agents loop: ""{{ neutron_agents }}"" loop_control: loop_var: agent label: ""{{ agent.Host }}/{{ agent.Binary }}"" command: openstack network agent delete {{ agent.ID }} delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false",,44,0
openstack%2Ftripleo-ansible~master~I958439e017efa45f316750a61fd7dfdee5afdc8e,openstack/tripleo-ansible,master,I958439e017efa45f316750a61fd7dfdee5afdc8e,bnr Configure ReaR to restore with ironic,MERGED,2021-10-08 07:06:54.000000000,2021-11-12 22:22:05.000000000,2021-11-12 22:22:05.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-10-08 07:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be0790306a9f5aea97c5b7bdaafda4cc5f755af8', 'message': 'bnr Configure ReaR to restore with ironic\n\nThis playbook configure Rear on the overcloud controllers\nto do the restoration with PXE and use the undercloud ironic.\n\nThe data will be backed up on the tripleo_backup_and_restore_server\n\nChange-Id: I958439e017efa45f316750a61fd7dfdee5afdc8e\n'}, {'number': 2, 'created': '2021-10-13 12:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80f331ffc62ca2a512dc0ed3690713012ef67d39', 'message': 'bnr Configure ReaR to restore with ironic\n\nThis playbook configure Rear on the overcloud controllers\nto do the restoration with PXE and use the undercloud ironic.\n\nThe data will be backed up on the tripleo_backup_and_restore_server\n\nChange-Id: I958439e017efa45f316750a61fd7dfdee5afdc8e\n'}, {'number': 3, 'created': '2021-11-03 19:17:29.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-conf-ironic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ecaf57cdc08b699a146808a4cd546794167791c', 'message': 'bnr Configure ReaR to restore with ironic\n\nThis playbook configure Rear on the overcloud controllers\nto do the restoration with PXE and use the undercloud ironic.\n\nThe data will be backed up on the tripleo_backup_and_restore_server\n\nChange-Id: I958439e017efa45f316750a61fd7dfdee5afdc8e\n'}]",5,813132,0ecaf57cdc08b699a146808a4cd546794167791c,23,7,3,22954,,,0,"bnr Configure ReaR to restore with ironic

This playbook configure Rear on the overcloud controllers
to do the restoration with PXE and use the undercloud ironic.

The data will be backed up on the tripleo_backup_and_restore_server

Change-Id: I958439e017efa45f316750a61fd7dfdee5afdc8e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/813132/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-conf-ironic.yaml'],1,be0790306a9f5aea97c5b7bdaafda4cc5f755af8,bnr_overcloud_ironic,"--- # Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Get undercloud data hosts: Undercloud tasks: - name: Get networking setup: gather_subset: network tags: - never - name: TripleO Ironic ReaR installation and configuration on Overcloud hosts: ""{{ tripleo_backup_and_restore_overcloud_prepare_ironic | default('Controller') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true vars: tripleo_backup_and_restore_pxe_output_url: ""nfs://{{ hostvars['undercloud']['ansible_facts']['br_ctlplane']['ipv4']['address'] }}{{ tripleo_backup_and_restore_ironic_images_path }}"" tripleo_backup_and_restore_local_config: OUTPUT: PXE OUTPUT_PREFIX_PXE: skyblue BACKUP: NETFS PXE_RECOVER_MODE: '""unattended""' PXE_CREATE_LINKS: '""IP""' USE_STATIC_NETWORKING: y PXE_CONFIG_GRUB_STYLE: y KERNEL_CMDLINE: '""unattended""' POST_RECOVERY_SCRIPT: poweroff USER_INPUT_TIMEOUT: ""10"" PXE_TFTP_URL: ""{{ tripleo_backup_and_restore_pxe_output_url }}"" BACKUP_URL: ""{{ tripleo_backup_and_restore_backup_url }}"" PXE_CONFIG_URL: ""{{ tripleo_backup_and_restore_pxe_output_url }}/pxelinux.cfg"" roles: - role: backup_and_restore ",,46,0
openstack%2Fdevstack~master~I9e9852f046fefb299b4ef4446323e9c86437212f,openstack/devstack,master,I9e9852f046fefb299b4ef4446323e9c86437212f,Clarify error message for ERROR_ON_CLONE=True,MERGED,2021-10-15 21:00:29.000000000,2021-11-12 22:20:49.000000000,2021-11-12 22:18:44.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-10-15 21:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5c23050ac9e2cde96e3bc476b2f784e4b3324f6', 'message': ""Clarify error message for ERROR_ON_CLONE=True\n\nIf ERROR_ON_CLONE is set to True which is case for\nall the devstack based job, devstack does not clone the\nrepo instead raise error. From current error message, it\nis difficult to know that ERROR_ON_CLONE is True until we\ntraceback the code or check devstack-base job set ERROR_ON_CLONE\nto True.\n\nCurrent error message is like:\n-------\n+ functions-common:git_clone:560           :   echo\n'The /opt/stack/oslo.limit project was not found; if this is a gate job, add'\n  The /opt/stack/oslo.limit project was not found; if this is a gate job, add\n+ functions-common:git_clone:561           :   echo 'the project to the\n $PROJECTS variable in the job definition.'\nthe project to the $PROJECTS variable in the job definition.\n+ functions-common:git_clone:562           :   die 562 'Cloning not\n  allowed in this configuration'\n--------\n\nAdding ERROR_ON_CLONE info in error message will help to\nknow the reason of devstack not cloning the repo.\n\nChange-Id: I9e9852f046fefb299b4ef4446323e9c86437212f\n""}, {'number': 2, 'created': '2021-11-03 19:34:19.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/325792d9b9238f9a8b8b493ba50572add99b9d82', 'message': ""Clarify error message for ERROR_ON_CLONE=True\n\nIf ERROR_ON_CLONE is set to True which is case for\nall the devstack based job, devstack does not clone the\nrepo instead raise error. From current error message, it\nis difficult to know that ERROR_ON_CLONE is True until we\ntraceback the code or check devstack-base job set ERROR_ON_CLONE\nto True.\n\nCurrent error message is like:\n-------\n+ functions-common:git_clone:560           :   echo\n'The /opt/stack/oslo.limit project was not found; if this is a gate job, add'\n  The /opt/stack/oslo.limit project was not found; if this is a gate job, add\n+ functions-common:git_clone:561           :   echo 'the project to the\n $PROJECTS variable in the job definition.'\nthe project to the $PROJECTS variable in the job definition.\n+ functions-common:git_clone:562           :   die 562 'Cloning not\n  allowed in this configuration'\n--------\n\nAdding ERROR_ON_CLONE info in error message will help to\nknow the reason of devstack not cloning the repo.\n\nChange-Id: I9e9852f046fefb299b4ef4446323e9c86437212f\n""}]",5,814233,325792d9b9238f9a8b8b493ba50572add99b9d82,18,5,2,8556,,,0,"Clarify error message for ERROR_ON_CLONE=True

If ERROR_ON_CLONE is set to True which is case for
all the devstack based job, devstack does not clone the
repo instead raise error. From current error message, it
is difficult to know that ERROR_ON_CLONE is True until we
traceback the code or check devstack-base job set ERROR_ON_CLONE
to True.

Current error message is like:
-------
+ functions-common:git_clone:560           :   echo
'The /opt/stack/oslo.limit project was not found; if this is a gate job, add'
  The /opt/stack/oslo.limit project was not found; if this is a gate job, add
+ functions-common:git_clone:561           :   echo 'the project to the
 $PROJECTS variable in the job definition.'
the project to the $PROJECTS variable in the job definition.
+ functions-common:git_clone:562           :   die 562 'Cloning not
  allowed in this configuration'
--------

Adding ERROR_ON_CLONE info in error message will help to
know the reason of devstack not cloning the repo.

Change-Id: I9e9852f046fefb299b4ef4446323e9c86437212f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/33/814233/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,e5c23050ac9e2cde96e3bc476b2f784e4b3324f6,," echo ""the project to 'required-projects' in the job definition or set ERROR_ON_CLONE=False."" die $LINENO ""ERROR_ON_CLONE is set to True so cloning not allowed in this configuration"" echo ""the project to the \$PROJECTS variable in the job definition or set ERROR_ON_CLONE=False."" die $LINENO ""ERROR_ON_CLONE is set to True so cloning not allowed in this configuration"""," echo ""the project to 'required-projects' in the job definition."" die $LINENO ""Cloning not allowed in this configuration"" echo ""the project to the \$PROJECTS variable in the job definition."" die $LINENO ""Cloning not allowed in this configuration""",4,4
openstack%2Fcinder~stable%2Fwallaby~I8ed3567f8ae6c6384244cc1d07f1eaafbd7bf58e,openstack/cinder,stable/wallaby,I8ed3567f8ae6c6384244cc1d07f1eaafbd7bf58e,Log connection info returned from driver,MERGED,2021-10-13 07:29:23.000000000,2021-11-12 22:20:47.000000000,2021-11-12 22:18:40.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-13 07:29:23.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/74c5a3332b0d08d360d1f1c1ddf73d5c73045430', 'message': 'Log connection info returned from driver\n\nCurrently there is no way to verify the connection info returned\nfrom the driver to cinder is the same as what cinder sends to nova\n(or other consumers) to connect to the volume.\nThis log will help narrow down issues during attachments since there\nare many components involved (nova, cinder, os-brick).\n\nChange-Id: I8ed3567f8ae6c6384244cc1d07f1eaafbd7bf58e\n(cherry picked from commit 6a0b41a8ffa3b82e4aa646f3d1eaa23b80e57db8)\n'}]",3,813751,74c5a3332b0d08d360d1f1c1ddf73d5c73045430,30,5,1,27615,,,0,"Log connection info returned from driver

Currently there is no way to verify the connection info returned
from the driver to cinder is the same as what cinder sends to nova
(or other consumers) to connect to the volume.
This log will help narrow down issues during attachments since there
are many components involved (nova, cinder, os-brick).

Change-Id: I8ed3567f8ae6c6384244cc1d07f1eaafbd7bf58e
(cherry picked from commit 6a0b41a8ffa3b82e4aa646f3d1eaa23b80e57db8)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/813751/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,74c5a3332b0d08d360d1f1c1ddf73d5c73045430,803696-stable/wallaby,"from oslo_utils import strutils LOG.debug(""Connection info returned from driver %(connection_info)s"", {'connection_info': strutils.mask_dict_password(connection_info)})",,4,0
openstack%2Ftripleo-common~master~I3c64b291079b968eb1462e1d37e2217e8fbe9820,openstack/tripleo-common,master,I3c64b291079b968eb1462e1d37e2217e8fbe9820,Add an API config image heat variable,MERGED,2021-11-10 15:14:53.000000000,2021-11-12 22:17:42.000000000,2021-11-12 22:16:02.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-10 15:14:53.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9fb5649f826df2276e046b9b228e0c2b3ed45906', 'message': 'Add an API config image heat variable\n\nThe designate API needs the API container image in order to setup the\nhttpd configuration.\n\nChange-Id: I3c64b291079b968eb1462e1d37e2217e8fbe9820\n'}]",1,817445,9fb5649f826df2276e046b9b228e0c2b3ed45906,11,4,1,6681,,,0,"Add an API config image heat variable

The designate API needs the API container image in order to setup the
httpd configuration.

Change-Id: I3c64b291079b968eb1462e1d37e2217e8fbe9820
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/817445/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,9fb5649f826df2276e046b9b228e0c2b3ed45906,designate-apache, - ContainerDesignateApiConfigImage,,1,0
openstack%2Fpuppet-ovn~stable%2Fussuri~Ia78c0873e7ac6488b3048ae8475cc87ec40022bb,openstack/puppet-ovn,stable/ussuri,Ia78c0873e7ac6488b3048ae8475cc87ec40022bb,Add ovn-monitor-all option to ovn-controller,MERGED,2021-11-08 12:53:40.000000000,2021-11-12 21:37:46.000000000,2021-11-12 21:35:59.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 12:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/aecf35b618cba5092b32cbbd2809dc0e47c447ee', 'message': 'Add ovn-monitor-all option to ovn-controller\n\nWith monitor-all option, all ovn-controllers\ndo not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\n\nPartial-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb\n(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)\n'}, {'number': 2, 'created': '2021-11-08 13:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f6a18cd6b31fe3fb35a6e0968c3aad03ba28201f', 'message': 'Add ovn-monitor-all option to ovn-controller\n\nWith monitor-all option, all ovn-controllers\ndo not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\n\nPartial-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb\n(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)\n'}, {'number': 3, 'created': '2021-11-08 14:02:10.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/ovn-monitor-all-001cafc946130936.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/65f3e99681af726ba016484d1488aa14c4b4033b', 'message': 'Add ovn-monitor-all option to ovn-controller\n\nWith monitor-all option, all ovn-controllers\ndo not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\n\nConflicts:\n\tmanifests/controller.pp\n\n(wallaby -> victoria)\nConflicts:\n\tmanifests/controller.pp\n\nResolved conflict caused by c60fdb9540bc5dfc60cf05d56ad9d8fe45164343\n\n(victoria -> ususri)\nConflicts:\n\tspec/classes/ovn_controller_spec.rb\n\nResolved conflict caused by dba349dad01edafab4a3fda3b9ad813cce814597\n\nPartial-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb\n(cherry picked from commit 7a1bb545198d8c864c619b30f4bc13417d764bbd)\n(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)\n(cherry picked from commit d2c29451c4c88fc97f08f78dc07642150ef6e463)\n'}]",1,816956,65f3e99681af726ba016484d1488aa14c4b4033b,13,3,3,11082,,,0,"Add ovn-monitor-all option to ovn-controller

With monitor-all option, all ovn-controllers
do not enable conditional monitoring there
by reducing the load on the Southbound ovsdb-server.

Conflicts:
	manifests/controller.pp

(wallaby -> victoria)
Conflicts:
	manifests/controller.pp

Resolved conflict caused by c60fdb9540bc5dfc60cf05d56ad9d8fe45164343

(victoria -> ususri)
Conflicts:
	spec/classes/ovn_controller_spec.rb

Resolved conflict caused by dba349dad01edafab4a3fda3b9ad813cce814597

Partial-Bug: #1936781
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb
(cherry picked from commit 7a1bb545198d8c864c619b30f4bc13417d764bbd)
(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)
(cherry picked from commit d2c29451c4c88fc97f08f78dc07642150ef6e463)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/56/816956/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/ovn-monitor-all-001cafc946130936.yaml']",3,aecf35b618cba5092b32cbbd2809dc0e47c447ee,ovn-monitor-all,--- features: - | The new ``ovn::controller::ovn_monitor_all`` parameter has been added. ,,29,0
openstack%2Fpbr~master~I0ebaff67634857216ca8d565311ed7c63f687a16,openstack/pbr,master,I0ebaff67634857216ca8d565311ed7c63f687a16,Add python2 testing back to PBR,MERGED,2021-11-12 18:01:41.000000000,2021-11-12 21:27:31.000000000,2021-11-12 21:20:44.000000000,"[{'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 18:01:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/a6006f608564d582b0e442c1a29ffa8e81e7e0ec', 'message': 'Add python2 testing back to PBR\n\nI think this was lost when we expanded the openstack-python job\ntemplates to include more versions of python3. Oops.\n\nChange-Id: I0ebaff67634857216ca8d565311ed7c63f687a16\n'}]",0,817800,a6006f608564d582b0e442c1a29ffa8e81e7e0ec,8,3,1,4146,,,0,"Add python2 testing back to PBR

I think this was lost when we expanded the openstack-python job
templates to include more versions of python3. Oops.

Change-Id: I0ebaff67634857216ca8d565311ed7c63f687a16
",git fetch https://review.opendev.org/openstack/pbr refs/changes/00/817800/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a6006f608564d582b0e442c1a29ffa8e81e7e0ec,python2-testing, - openstack-tox-py27 - openstack-tox-py27,,2,0
openstack%2Fopenstack-ansible-os_keystone~master~I9f46466943544168335b07198264adb8be49d261,openstack/openstack-ansible-os_keystone,master,I9f46466943544168335b07198264adb8be49d261,Fix apache ProxyPass arguments,MERGED,2021-09-28 12:04:42.000000000,2021-11-12 21:08:52.000000000,2021-11-12 21:06:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-09-28 12:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/84064de9faf88ed69997303c231abe2d9c1f3bcd', 'message': 'Fix apache ProxyPass arguments\n\nWith elimination of CVE-2021-36160 apache stops interpreting trailing\nwhitespaces in ProxyPass arguments. This is directly not supported based\non the apache documentation [1] and should be fixed\n\n[1] https://httpd.apache.org/docs/trunk/mod/mod_proxy.html#proxypass\n\nChange-Id: I9f46466943544168335b07198264adb8be49d261\nRelated-Bug: #1945274\n'}, {'number': 2, 'created': '2021-09-28 12:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/da74c9ddefe73675dbfadf46ba4df5f96b2cb0e5', 'message': 'Fix apache ProxyPass arguments\n\nWith elimination of CVE-2021-36160 apache stops interpreting trailing\nwhitespaces in ProxyPass arguments. This is directly not supported based\non the apache documentation [1] and should be fixed\n\n[1] https://httpd.apache.org/docs/trunk/mod/mod_proxy.html#proxypass\n\nChange-Id: I9f46466943544168335b07198264adb8be49d261\nRelated-Bug: #1945274\n'}, {'number': 3, 'created': '2021-09-28 17:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a05a8caa2cfdf7fceb9a8f1ad5611eaf6f5b703f', 'message': 'Fix apache ProxyPass arguments\n\nWith elimination of CVE-2021-36160 apache stops interpreting trailing\nwhitespaces in ProxyPass arguments. This is directly not supported based\non the apache documentation [1] and should be fixed\n\n[1] https://httpd.apache.org/docs/trunk/mod/mod_proxy.html#proxypass\n\nChange-Id: I9f46466943544168335b07198264adb8be49d261\nRelated-Bug: #1945274\n'}, {'number': 4, 'created': '2021-09-30 14:11:40.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c2281d2f2b53cef219c8e9e393460001db3df64e', 'message': 'Fix apache ProxyPass arguments\n\nWith elimination of CVE-2021-36160 apache stops interpreting trailing\nwhitespaces in ProxyPass arguments. This is directly not supported based\non the apache documentation [1] and should be fixed\n\n[1] https://httpd.apache.org/docs/trunk/mod/mod_proxy.html#proxypass\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/811742\nChange-Id: I9f46466943544168335b07198264adb8be49d261\nRelated-Bug: #1945274\n'}]",3,811402,c2281d2f2b53cef219c8e9e393460001db3df64e,21,3,4,28619,,,0,"Fix apache ProxyPass arguments

With elimination of CVE-2021-36160 apache stops interpreting trailing
whitespaces in ProxyPass arguments. This is directly not supported based
on the apache documentation [1] and should be fixed

[1] https://httpd.apache.org/docs/trunk/mod/mod_proxy.html#proxypass

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/811742
Change-Id: I9f46466943544168335b07198264adb8be49d261
Related-Bug: #1945274
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/02/811402/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,84064de9faf88ed69997303c231abe2d9c1f3bcd,bug/1945274, ProxyPass / uwsgi://127.0.0.1:{{ keystone_uwsgi_ports['keystone-wsgi-public']['socket'] }}ProxyPass /identity uwsgi://127.0.0.1:{{ keystone_uwsgi_ports['keystone-wsgi-public']['socket'] }}, ProxyPass / uwsgi://127.0.0.1:{{ keystone_uwsgi_ports['keystone-wsgi-public']['socket'] }}/ProxyPass /identity uwsgi://127.0.0.1:{{ keystone_uwsgi_ports['keystone-wsgi-public']['socket'] }}/,2,2
openstack%2Fswift~master~I04686788f01ced6992848caec4a42f5d1461b296,openstack/swift,master,I04686788f01ced6992848caec4a42f5d1461b296,Fix status_changed_at replication,NEW,2021-09-24 14:39:20.000000000,2021-11-12 20:59:46.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 14:39:20.000000000', 'files': ['test/probe/test_container_merge_policy_index.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7046989b5cde53049b4030dc73d9b92b0599a059', 'message': ""Fix status_changed_at replication\n\nWhen the container replicator detects that the local DB has the\nincorrect storage policy index it currently sets the correct storage\npolicy index and sets status_changed_at to a new value equal to the\ncurrent time. This is wrong on two counts: first, we shouldn't ever\nrecreate state with a timestamp other than that at which it was\ncreated; second, in the case of storage policy index, a newer\nstatus_changed_at time does not necessarily make the associated state\nvalue authoritative in the system, because unlike most state in Swift,\nan *older* storage policy index may be considered authoritative.\n\nWhen the local storage policy index is deemed incorrect, the\nreplicator should change the storage policy index *and* the\nstatus_changed_at values to match the remote info. However, the\nset_storage_policy_index() method would previously disallow\nstatus_changed_at being set to a value older than its current value,\npreventing the replicator from doing the right thing.\n\nThis patch changes set_storage_policy_index() to allow the\nstatus_changed_at to go backwards, and changes the container\nreplicator to set the status_changed_at to match the remote info.\n\nChange-Id: I04686788f01ced6992848caec4a42f5d1461b296\n""}]",11,810928,7046989b5cde53049b4030dc73d9b92b0599a059,15,2,1,7847,,,0,"Fix status_changed_at replication

When the container replicator detects that the local DB has the
incorrect storage policy index it currently sets the correct storage
policy index and sets status_changed_at to a new value equal to the
current time. This is wrong on two counts: first, we shouldn't ever
recreate state with a timestamp other than that at which it was
created; second, in the case of storage policy index, a newer
status_changed_at time does not necessarily make the associated state
value authoritative in the system, because unlike most state in Swift,
an *older* storage policy index may be considered authoritative.

When the local storage policy index is deemed incorrect, the
replicator should change the storage policy index *and* the
status_changed_at values to match the remote info. However, the
set_storage_policy_index() method would previously disallow
status_changed_at being set to a value older than its current value,
preventing the replicator from doing the right thing.

This patch changes set_storage_policy_index() to allow the
status_changed_at to go backwards, and changes the container
replicator to set the status_changed_at to match the remote info.

Change-Id: I04686788f01ced6992848caec4a42f5d1461b296
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/810928/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_container_merge_policy_index.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",4,7046989b5cde53049b4030dc73d9b92b0599a059,p-spi-replication," def set_storage_policy_index(self, policy_index, timestamp): :policy_index: a storage policy index :timestamp: the internal string representation of a Timestamp """""" status_changed_at = ?, reconciler_sync_point = 0"," def set_storage_policy_index(self, policy_index, timestamp=None): """""" if timestamp is None: timestamp = Timestamp.now().internal status_changed_at = MAX(?, status_changed_at)",93,18
openstack%2Fcharm-keystone~stable%2F21.10~I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae,openstack/charm-keystone,stable/21.10,I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae,Revert a admin_and_matching_domain_id rule change,MERGED,2021-11-11 12:47:19.000000000,2021-11-12 20:57:49.000000000,2021-11-12 20:57:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 12:47:19.000000000', 'files': ['templates/queens/policy.json', 'templates/newton/policy.json', 'test-requirements.txt', 'templates/rocky/policy.json', 'templates/ocata/policy.json', 'templates/mitaka/policy.json'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0bede6d93a9a7394376ed6d36b8c07f814600b67', 'message': 'Revert a admin_and_matching_domain_id rule change\n\nThis reverts commit cef78d47fb1dd865e4058e32460adc07b44a105d.\nRelated-Bug: #1950379\n\nChange-Id: I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae\n(cherry picked from commit f30d5e38f60c9c5abdf9c831dd28ffad306b135b)\n'}]",1,817557,0bede6d93a9a7394376ed6d36b8c07f814600b67,8,4,1,24824,,,0,"Revert a admin_and_matching_domain_id rule change

This reverts commit cef78d47fb1dd865e4058e32460adc07b44a105d.
Related-Bug: #1950379

Change-Id: I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae
(cherry picked from commit f30d5e38f60c9c5abdf9c831dd28ffad306b135b)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/57/817557/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/policy.json', 'templates/newton/policy.json', 'templates/rocky/policy.json', 'test-requirements.txt', 'templates/ocata/policy.json', 'templates/mitaka/policy.json']",6,0bede6d93a9a7394376ed6d36b8c07f814600b67,," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"","," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(target.domain_id)s"",",6,5
openstack%2Fcharm-keystone~master~I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae,openstack/charm-keystone,master,I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae,Revert a admin_and_matching_domain_id rule change,MERGED,2021-11-10 15:48:31.000000000,2021-11-12 20:18:52.000000000,2021-11-12 20:18:52.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/10167ff3ebd5c6f5a18c46f7a0117195cf39e2cd', 'message': 'Revert a admin_and_matching_domain_id rule change\n\nThis reverts commit cef78d47fb1dd865e4058e32460adc07b44a105d.\nRelated-Bug: #1950379\n\nChange-Id: I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae\n'}, {'number': 2, 'created': '2021-11-11 12:40:49.000000000', 'files': ['templates/queens/policy.json', 'templates/newton/policy.json', 'test-requirements.txt', 'templates/rocky/policy.json', 'templates/ocata/policy.json', 'templates/mitaka/policy.json'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f30d5e38f60c9c5abdf9c831dd28ffad306b135b', 'message': 'Revert a admin_and_matching_domain_id rule change\n\nThis reverts commit cef78d47fb1dd865e4058e32460adc07b44a105d.\nRelated-Bug: #1950379\n\nChange-Id: I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae\n'}]",4,817452,f30d5e38f60c9c5abdf9c831dd28ffad306b135b,14,4,2,24824,,,0,"Revert a admin_and_matching_domain_id rule change

This reverts commit cef78d47fb1dd865e4058e32460adc07b44a105d.
Related-Bug: #1950379

Change-Id: I871eac8af34e49e771ffa8a7d8076d0bbcbb40ae
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/52/817452/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/policy.json', 'templates/newton/policy.json', 'templates/rocky/policy.json', 'templates/ocata/policy.json', 'templates/mitaka/policy.json']",5,10167ff3ebd5c6f5a18c46f7a0117195cf39e2cd,," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"","," ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(target.domain_id)s"",",5,5
openstack%2Fmanila~stable%2Fxena~Ia99cc5313bed950e3363ae311b741395d60eb57b,openstack/manila,stable/xena,Ia99cc5313bed950e3363ae311b741395d60eb57b,Drop non-ASCII character from manila config,MERGED,2021-11-11 23:16:54.000000000,2021-11-12 20:01:23.000000000,2021-11-12 17:34:35.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-11 23:16:54.000000000', 'files': ['manila/share/drivers/netapp/options.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0fb10e6c5db11f2a980819db476d3fda80f521a2', 'message': ""Drop non-ASCII character from manila config\n\nNoticed the issue with packstack deployment\non CentOS 9-Stream[1]. The issue is raised\nby puppet when non-utf8 encoding is used like\nLANG=en_US or LANG=C.\n\nOther option is to force LANG=en_US.UTF-8\nwith the deployment but just for this\ndescription help(all other services working fine),\ndoesn't look good so proposing to drop that non-ASCII\ncharacter.\n\nIssue got caught in CentOS 9-Stream only as it\ndisabled locale forwarding in OpenSSH by default[2].\n\n[1] https://review.opendev.org/c/x/packstack/+/816796\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2002734\n\nChange-Id: Ia99cc5313bed950e3363ae311b741395d60eb57b\n(cherry picked from commit 5bf206285de3aa61b56ee6c83ffd36e9c1617860)\n""}]",2,817549,0fb10e6c5db11f2a980819db476d3fda80f521a2,16,3,1,16643,,,0,"Drop non-ASCII character from manila config

Noticed the issue with packstack deployment
on CentOS 9-Stream[1]. The issue is raised
by puppet when non-utf8 encoding is used like
LANG=en_US or LANG=C.

Other option is to force LANG=en_US.UTF-8
with the deployment but just for this
description help(all other services working fine),
doesn't look good so proposing to drop that non-ASCII
character.

Issue got caught in CentOS 9-Stream only as it
disabled locale forwarding in OpenSSH by default[2].

[1] https://review.opendev.org/c/x/packstack/+/816796
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2002734

Change-Id: Ia99cc5313bed950e3363ae311b741395d60eb57b
(cherry picked from commit 5bf206285de3aa61b56ee6c83ffd36e9c1617860)
",git fetch https://review.opendev.org/openstack/manila refs/changes/49/817549/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/netapp/options.py'],1,0fb10e6c5db11f2a980819db476d3fda80f521a2,," help=(""The path to a CA_BUNDLE file or directory with "" ""certificates of trusted CA. If set to a directory, it "" ""must have been processed using the c_rehash utility "" ""supplied with OpenSSL. If not informed, it will use the "" ""Mozilla's carefully curated collection of Root "" ""Certificates for validating the trustworthiness of SSL "" ""certificates."")), ]"," help=('The path to a CA_BUNDLE file or directory with ' 'certificates of trusted CA. If set to a directory, it ' 'must have been processed using the c_rehash utility ' 'supplied with OpenSSL. If not informed, it will use the ' 'Mozilla’s carefully curated collection of Root ' 'Certificates for validating the trustworthiness of SSL ' 'certificates.')), ]",7,7
openstack%2Fswift~master~I37a18dfbe3a6ea5ee01600fd4941943baa4b17d6,openstack/swift,master,I37a18dfbe3a6ea5ee01600fd4941943baa4b17d6,Improve storage policy index reconciliation unit tests,NEW,2021-11-05 18:49:36.000000000,2021-11-12 19:40:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-05 18:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ff552c94f05b351a11f9c4c8a18cc92d489a7f5', 'message': 'Improve storage policy index reconciliation unit tests\n\nChange reconciler unit tests to use headers returned from real\ncontainer server instances when testing the policy index\nreconciliation code. In doing so, verify that the reconciler code\nreaches same outcomes as the container server API.\n\nRelated-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: I37a18dfbe3a6ea5ee01600fd4941943baa4b17d6\n'}, {'number': 2, 'created': '2021-11-09 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f59d0c979bd31f75e0f08d7e3eecf43de1b8da7', 'message': 'Improve storage policy index reconciliation unit tests\n\nChange reconciler unit tests to use headers returned from real\ncontainer server instances when testing the policy index\nreconciliation code. In doing so, verify that the reconciler code\nreaches same outcomes as the container server API.\n\nRelated-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: I37a18dfbe3a6ea5ee01600fd4941943baa4b17d6\n'}, {'number': 3, 'created': '2021-11-12 17:10:40.000000000', 'files': ['test/unit/container/test_reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4cae9f0256d3ed9c38062edd0e7f862b3d8ee83e', 'message': 'Improve storage policy index reconciliation unit tests\n\nChange reconciler unit tests to use headers returned from real\ncontainer server instances when testing the policy index\nreconciliation code. In doing so, verify that the reconciler code\nreaches same outcomes as the container server API.\n\nRelated-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: I37a18dfbe3a6ea5ee01600fd4941943baa4b17d6\n'}]",0,816892,4cae9f0256d3ed9c38062edd0e7f862b3d8ee83e,9,1,3,7847,,,0,"Improve storage policy index reconciliation unit tests

Change reconciler unit tests to use headers returned from real
container server instances when testing the policy index
reconciliation code. In doing so, verify that the reconciler code
reaches same outcomes as the container server API.

Related-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6
Change-Id: I37a18dfbe3a6ea5ee01600fd4941943baa4b17d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/816892/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_reconciler.py'],1,1ff552c94f05b351a11f9c4c8a18cc92d489a7f5,p-fix-cmp-spi,"from swift.container.reconciler import cmp_policy_info, \ translate_container_headers_to_info@patch_policies( [StoragePolicy(0, 'zero', is_default=True), StoragePolicy(1, 'one'), StoragePolicy(2, 'two')]) def _make_container_controllers(self): # make 3 container replicas device_dirs = [os.path.join(self.tempdir, str(i)) for i in range(3)] for device_dir in device_dirs: mkdirs(os.path.join(device_dir, 'sda1')) return [ContainerController( {'devices': devices, 'mount_check': 'false', 'replication_server': 'true'}) for devices in device_dirs] def _put_container_storage_policy_index(self, controllers, timestamp, spi): responses = [] for controller in controllers: req = Request.blank('/sda1/p/a/c', method='PUT', headers={ 'X-Timestamp': timestamp.internal, 'X-Backend-Storage-Policy-Index': str(spi), }) responses.append(req.get_response(controller)) return responses def _delete_container(self, controllers, timestamp): responses = [] for controller in controllers: req = Request.blank('/sda1/p/a/c', method='DELETE', headers={ 'X-Timestamp': timestamp.internal, }) responses.append(req.get_response(controller)) return responses def _head_containers(self, controllers): responses = [] for controller in controllers: req = Request.blank('/sda1/p/a/c', method='HEAD') responses.append(req.get_response(controller)) return responses ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(2)] controllers = self._make_container_controllers() # PUT at t0 goes to replicas 0 and 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[0], 0) self.assertEqual([resp.status_int for resp in responses], [201, 201]) # PUT at t1 goes to replica 2 responses = self._put_container_storage_policy_index( controllers[2:], ts[1], 1) self.assertEqual([resp.status_int for resp in responses], [201]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [204, 204, 204]) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[0].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[0].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[1].internal, 'status_changed_at': ts[1].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(0, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) resp_headers = [resp_hdrs[i] for i in permutation] ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(6)] controllers = self._make_container_controllers() # PUT at t0 goes to all replicas responses = self._put_container_storage_policy_index( controllers, ts[0], 1) self.assertEqual([resp.status_int for resp in responses], [201, 201, 201]) # DELETE at t1 goes to all replicas responses = self._delete_container(controllers, ts[1]) self.assertEqual([resp.status_int for resp in responses], [204, 204, 204]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [404, 404, 404]) resp_hdrs = [resp.headers for resp in responses] exp_info = { 'storage_policy_index': 1, 'delete_timestamp': ts[1].internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[1].internal, } # replica 0 should be authoritative because it received all requests self.assertEqual(exp_info, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual(exp_info, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual(exp_info, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(0, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(0, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) http_status=404, http_reason='Not Found', http_headers=resp.headers) for resp in responses ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(6)] controllers = self._make_container_controllers() # PUT at t0 goes to all replicas responses = self._put_container_storage_policy_index( controllers, ts[0], 0) self.assertEqual([resp.status_int for resp in responses], [201, 201, 201]) # DELETE at t1 goes to all replicas responses = self._delete_container(controllers, ts[1]) self.assertEqual([resp.status_int for resp in responses], [204, 204, 204]) # PUT at t2 goes to replicas 0 and 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[2], 1) self.assertEqual([resp.status_int for resp in responses], [201, 201]) # DELETE at t3 goes to replicas 0 and 1 responses = self._delete_container(controllers[:2], ts[3]) self.assertEqual([resp.status_int for resp in responses], [204, 204]) # PUT at t4 goes to replica 0 responses = self._put_container_storage_policy_index( controllers[:1], ts[4], 2) self.assertEqual([resp.status_int for resp in responses], [201]) # DELETE at t5 goes to replica 0 responses = self._delete_container(controllers[:1], ts[5]) self.assertEqual([resp.status_int for resp in responses], [204]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [404, 404, 404]) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 2, 'delete_timestamp': ts[5].internal, 'put_timestamp': ts[4].internal, 'status_changed_at': ts[5].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[3].internal, 'put_timestamp': ts[2].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': ts[1].internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[1].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) http_status=404, http_reason='Not Found', http_headers=resp.headers) for resp in responses ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(5)] controllers = self._make_container_controllers() # PUT at t0 goes to all replicas responses = self._put_container_storage_policy_index( controllers, ts[0], 0) self.assertEqual([resp.status_int for resp in responses], [201, 201, 201]) # DELETE at t1 goes to replicas 0 and 1 responses = self._delete_container(controllers[:2], ts[1]) self.assertEqual([resp.status_int for resp in responses], [204, 204]) # PUT at t2 goes to replicas 0 and 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[2], 1) self.assertEqual([resp.status_int for resp in responses], [201, 201]) # DELETE at t3 goes to replicas 0 and 1 responses = self._delete_container(controllers[:2], ts[3]) self.assertEqual([resp.status_int for resp in responses], [204, 204]) # PUT at t4 goes to replica 0 responses = self._put_container_storage_policy_index( controllers[:1], ts[4], 2) self.assertEqual([resp.status_int for resp in responses], [201]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [204, 404, 204]) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 2, 'delete_timestamp': ts[3].internal, 'put_timestamp': ts[4].internal, 'status_changed_at': ts[4].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[3].internal, 'put_timestamp': ts[2].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[0].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) http_status=404, http_reason='Not Found', http_headers=resp.headers) if resp.status_int == 404 else resp.headers for resp in responses ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(5)] controllers = self._make_container_controllers() # PUT at t0 goes to replicas 0 and 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[0], 0) self.assertEqual([resp.status_int for resp in responses], [201, 201]) # DELETE at t1 goes to replica 0 responses = self._delete_container(controllers[:1], ts[1]) self.assertEqual([resp.status_int for resp in responses], [204]) # PUT at t2 goes to replica 0 responses = self._put_container_storage_policy_index( controllers[:1], ts[2], 1) self.assertEqual([resp.status_int for resp in responses], [201]) # PUT at t3 goes to replica 2 responses = self._put_container_storage_policy_index( controllers[2:], ts[3], 2) self.assertEqual([resp.status_int for resp in responses], [201]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [204, 204, 204]) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[1].internal, 'put_timestamp': ts[2].internal, 'status_changed_at': ts[2].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[0].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 2, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[3].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) random.shuffle(resp_hdrs) with mock.patch(mock_path) as direct_head: direct_head.side_effect = resp_hdrs def test_get_container_policy_index_recreate_vs_recreate(self): # container server that receives all requests in chronological order. # replica 0 gets PUT@0, DELETE@2, PUT@3, PUT@5 -> PUT@3 wins # replica 1 gets PUT@0, DELETE@2, PUT@3 # replica 2 gets PUT@0, DELETE@2, PUT@5 ts = [next(ts_iter) for _ in range(6)] controllers = self._make_container_controllers() responses = self._put_container_storage_policy_index( controllers, ts[0], 0) responses = self._delete_container(controllers, ts[2]) responses = self._put_container_storage_policy_index( controllers[:2], ts[3], 1) responses = self._put_container_storage_policy_index( [controllers[0], controllers[2]], ts[5], 2) responses = self._head_containers(controllers) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[2].internal, 'put_timestamp': ts[3].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[2].internal, 'put_timestamp': ts[3].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 2, 'delete_timestamp': ts[2].internal, 'put_timestamp': ts[5].internal, 'status_changed_at': ts[5].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(0, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) random.shuffle(resp_hdrs) with mock.patch(mock_path) as direct_head: direct_head.side_effect = resp_hdrs def test_get_container_policy_index_recreate_vs_put(self): # replica 0 gets PUT@0, DELETE@2, PUT@3, PUT@5 -> PUT@3 wins # replica 1 gets PUT@0, DELETE@2, PUT@3 # replica 2 gets PUT@5 ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(6)] controllers = self._make_container_controllers() # initial PUT goes to replicas 0, 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[0], 0) self.assertEqual([resp.status_int for resp in responses], [201, 201]) # DELETE to replicas 0, 1 responses = self._delete_container(controllers[:2], ts[2]) self.assertEqual([resp.status_int for resp in responses], [204, 204]) # first recreate PUT, SPI=1, goes to replicas 0 and 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[3], 1) # all ok self.assertEqual([resp.status_int for resp in responses], [201, 201]) # second recreate PUT, SPI=2, goes to replicas 0 and 2 responses = self._put_container_storage_policy_index( [controllers[0], controllers[2]], ts[5], 2) # note: 409 from replica 0 because PUT follows previous PUT self.assertEqual([resp.status_int for resp in responses], [409, 201]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [204, 204, 204]) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[2].internal, 'put_timestamp': ts[3].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': ts[2].internal, 'put_timestamp': ts[3].internal, 'status_changed_at': ts[3].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 2, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[5].internal, 'status_changed_at': ts[5].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(0, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) # now feed the headers from each replica to # direct_get_container_policy_index mock_path = 'swift.container.reconciler.direct_head_container' random.shuffle(resp_hdrs) with mock.patch(mock_path) as direct_head: direct_head.side_effect = resp_hdrs oldest_spi = reconciler.direct_get_container_policy_index( self.fake_ring, 'a', 'con') # expect the same outcome as the authoritative replica 0 self.assertEqual(oldest_spi, 1) def test_get_container_policy_index_put_vs_put(self): # replica 0 gets PUT@0, PUT@1 -> PUT@0 wins # replica 1 gets PUT@0 # replica 2 gets PUT@1 ts_iter = make_timestamp_iter() ts = [next(ts_iter) for _ in range(2)] controllers = self._make_container_controllers() # initial PUT goes to replicas 0, 1 responses = self._put_container_storage_policy_index( controllers[:2], ts[0], 0) self.assertEqual([resp.status_int for resp in responses], [201, 201]) # second PUT, SPI=1, goes to replicas 0 and 2 responses = self._put_container_storage_policy_index( [controllers[0], controllers[2]], ts[1], 1) self.assertEqual([resp.status_int for resp in responses], [409, 201]) # now do a HEAD on all replicas responses = self._head_containers(controllers) self.assertEqual([resp.status_int for resp in responses], [204, 204, 204]) resp_hdrs = [resp.headers for resp in responses] # replica 0 should be authoritative because it received all requests self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[0].internal, }, translate_container_headers_to_info(resp_hdrs[0])) self.assertEqual({ 'storage_policy_index': 0, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[0].internal, 'status_changed_at': ts[0].internal, }, translate_container_headers_to_info(resp_hdrs[1])) self.assertEqual({ 'storage_policy_index': 1, 'delete_timestamp': Timestamp(0).internal, 'put_timestamp': ts[1].internal, 'status_changed_at': ts[1].internal, }, translate_container_headers_to_info(resp_hdrs[2])) self.assertEqual(0, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[1]))) self.assertEqual(-1, cmp_policy_info( translate_container_headers_to_info(resp_hdrs[0]), translate_container_headers_to_info(resp_hdrs[2]))) # now feed the headers from each replica to # direct_get_container_policy_index mock_path = 'swift.container.reconciler.direct_head_container' random.shuffle(resp_hdrs) with mock.patch(mock_path) as direct_head: direct_head.side_effect = resp_hdrs oldest_spi = reconciler.direct_get_container_policy_index( self.fake_ring, 'a', 'con') # expect the same outcome as the authoritative replica 0 self.assertEqual(oldest_spi, 0)"," ts = itertools.count(int(time.time())) stub_resp_headers = [ container_resp_headers( status_changed_at=Timestamp(next(ts)).internal, storage_policy_index=0, ), container_resp_headers( status_changed_at=Timestamp(next(ts)).internal, storage_policy_index=1, ), container_resp_headers( status_changed_at=Timestamp(next(ts)).internal, storage_policy_index=0, ), ] resp_headers = [stub_resp_headers[i] for i in permutation] headers = container_resp_headers( status_changed_at=Timestamp.now().internal, storage_policy_index=1, ) http_status=404, http_reason='Not Found', http_headers=headers, ), ClientException( 'Container Not Found', http_status=404, http_reason='Not Found', http_headers=headers, ), ClientException( 'Container Not Found', http_status=404, http_reason='Not Found', http_headers=headers, ), ts = itertools.count(int(time.time())) http_status=404, http_reason='Not Found', http_headers=container_resp_headers( put_timestamp=next(ts), delete_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=0, ), ), ClientException( 'Container Not Found', http_status=404, http_reason='Not Found', http_headers=container_resp_headers( put_timestamp=next(ts), delete_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=1, ), ), ClientException( 'Container Not Found', http_status=404, http_reason='Not Found', http_headers=container_resp_headers( put_timestamp=next(ts), delete_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=2, ), ), ts = itertools.count(int(time.time())) # old put, no recreate container_resp_headers( delete_timestamp=0, put_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=0, ), # recently deleted http_status=404, http_reason='Not Found', http_headers=container_resp_headers( put_timestamp=next(ts), delete_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=1, ), ), # recently recreated container_resp_headers( delete_timestamp=next(ts), put_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=2, ), ts = itertools.count(int(time.time())) stub_resp_headers = [ # oldest put container_resp_headers( delete_timestamp=0, put_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=0, ), # old recreate container_resp_headers( delete_timestamp=next(ts), put_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=1, ), # recently put container_resp_headers( delete_timestamp=0, put_timestamp=next(ts), status_changed_at=next(ts), storage_policy_index=2, ), ] random.shuffle(stub_resp_headers) with mock.patch(mock_path) as direct_head: direct_head.side_effect = stub_resp_headers @patch_policies( [StoragePolicy(0, 'zero', is_default=True), StoragePolicy(1, 'one'), StoragePolicy(2, 'two')]) def test_get_container_policy_index_for_recently_split_recreated(self): # container server that receives all requests in chronological order ts = [next(ts_iter) for _ in range(8)] # make 3 container replicas device_dirs = [os.path.join(self.tempdir, str(i)) for i in range(3)] for device_dir in device_dirs: mkdirs(os.path.join(device_dir, 'sda1')) controllers = [ContainerController( {'devices': devices, 'mount_check': 'false', 'replication_server': 'true'}) for devices in device_dirs] responses = [] for controller in controllers: req = Request.blank('/sda1/p/a/c', method='PUT', headers={ 'X-Timestamp': ts[0].internal, 'X-Backend-Storage-Policy-Index': 0, }) responses.append(req.get_response(controller)) responses = [] for controller in controllers: req = Request.blank('/sda1/p/a/c', method='DELETE', headers={ 'X-Timestamp': ts[2].internal, }) responses.append(req.get_response(controller)) responses = [] for controller in controllers[:2]: req = Request.blank('/sda1/p/a/c', method='PUT', headers={ 'X-Timestamp': ts[3].internal, 'X-Backend-Storage-Policy-Index': 1, }) responses.append(req.get_response(controller)) responses = [] for controller in [controllers[0], controllers[2]]: req = Request.blank('/sda1/p/a/c', method='PUT', headers={ 'X-Timestamp': ts[5].internal, 'X-Backend-Storage-Policy-Index': 2, }) responses.append(req.get_response(controller)) responses = [] for controller in controllers: req = Request.blank('/sda1/p/a/c', method='HEAD') responses.append(req.get_response(controller)) resp_headers = [resp.headers for resp in responses] self.assertEqual(ts[3].internal, resp_headers[0]['X-Put-Timestamp']) self.assertEqual('1', resp_headers[0]['X-Backend-Storage-Policy-Index']) self.assertEqual(ts[3].internal, resp_headers[1]['X-Put-Timestamp']) self.assertEqual('1', resp_headers[1]['X-Backend-Storage-Policy-Index']) self.assertEqual(ts[5].internal, resp_headers[2]['X-Put-Timestamp']) self.assertEqual('2', resp_headers[2]['X-Backend-Storage-Policy-Index']) random.shuffle(resp_headers) with mock.patch(mock_path) as direct_head: direct_head.side_effect = resp_headers # oops, this fails because reconciler.cmp_policy_index favours the # newest of the recreated (and explicitly states that in its docstring)",539,174
openstack%2Fcharm-deployment-guide~master~Ib5339dd0ed881ebdf128a69e7bcd102b2f11d6d4,openstack/charm-deployment-guide,master,Ib5339dd0ed881ebdf128a69e7bcd102b2f11d6d4,Fix typo in 'Data plane flow tracing'.,MERGED,2021-11-12 18:18:42.000000000,2021-11-12 19:13:29.000000000,2021-11-12 19:10:15.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-11-12 18:18:42.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2113ae882184d4b11ae48f8c394a047acc076d99', 'message': ""Fix typo in 'Data plane flow tracing'.\n\nChange-Id: Ib5339dd0ed881ebdf128a69e7bcd102b2f11d6d4\n""}]",1,817803,2113ae882184d4b11ae48f8c394a047acc076d99,7,2,1,30028,,,0,"Fix typo in 'Data plane flow tracing'.

Change-Id: Ib5339dd0ed881ebdf128a69e7bcd102b2f11d6d4
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/03/817803/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,2113ae882184d4b11ae48f8c394a047acc076d99,typo-fix," in_port=enp3s0f0,icmp,nw_src=192.0.2.1,nw_dst=192.0.2.100"," in_port=enp3s0f0,icmp,nw_src=192.0.2.1,nw_dst=192.0.2.100'",1,1
openstack%2Fpuppet-glance~master~I5977d0cd62454d70028a25aaa6206b490884f325,openstack/puppet-glance,master,I5977d0cd62454d70028a25aaa6206b490884f325,Add support of keystone unified limits from glance to use quotas,MERGED,2021-10-05 11:24:07.000000000,2021-11-12 18:59:15.000000000,2021-11-12 18:57:13.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-05 11:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/dac0d59c9d0ff2d1a429c90b8809c7831dcd0ba1', 'message': ""Add support of keystone unified limits from glance to use quotas\n\nAdding 'use_keystone_limits, which will allow Glance to retrieve\nlimits set in keystone for resource consumption and enforce them\nagainst API users.\n\nChange-Id: I5977d0cd62454d70028a25aaa6206b490884f325\n""}, {'number': 2, 'created': '2021-10-08 11:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/b8c69da610530bb83459ee42595563c6e4a4708d', 'message': ""Add support of keystone unified limits from glance to use quotas\n\nAdding 'use_keystone_limits' parameter, which will allow Glance to\nretrieve limits set in keystone for resource consumption and enforce\nthem against API users.\n\nChange-Id: I5977d0cd62454d70028a25aaa6206b490884f325\n""}, {'number': 3, 'created': '2021-11-12 04:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f7955f44bcb5d40a7c5f55660f14c642290936b5', 'message': ""Add support of keystone unified limits from glance to use quotas\n\nAdding 'use_keystone_limits' parameter, which will allow Glance to\nretrieve limits set in keystone for resource consumption and enforce\nthem against API users.\n\nChange-Id: I5977d0cd62454d70028a25aaa6206b490884f325\n""}, {'number': 4, 'created': '2021-11-12 04:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a3e6fa2ecc7e2440048b7ee670bc598fb4b16e7c', 'message': ""Add support of keystone unified limits from glance to use quotas\n\nAdding 'use_keystone_limits' parameter, which will allow Glance to\nretrieve limits set in keystone for resource consumption and enforce\nthem against API users.\n\nDepends-on: https://review.opendev.org/812766\nChange-Id: I5977d0cd62454d70028a25aaa6206b490884f325\n""}, {'number': 5, 'created': '2021-11-12 08:26:06.000000000', 'files': ['manifests/limit.pp', 'releasenotes/notes/add_keystone_unified_quotas_support-09fa1262ea7d4e1e.yaml', 'spec/classes/glance_limit_spec.rb', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/26cd418b605b04ee3392f00a5ced414222356378', 'message': ""Add support of keystone unified limits from glance to use quotas\n\nAdding 'use_keystone_limits' parameter, which will allow Glance to\nretrieve limits set in keystone for resource consumption and enforce\nthem against API users.\n\nDepends-on: https://review.opendev.org/812766\nChange-Id: I5977d0cd62454d70028a25aaa6206b490884f325\n""}]",6,812483,26cd418b605b04ee3392f00a5ced414222356378,23,4,5,19138,,,0,"Add support of keystone unified limits from glance to use quotas

Adding 'use_keystone_limits' parameter, which will allow Glance to
retrieve limits set in keystone for resource consumption and enforce
them against API users.

Depends-on: https://review.opendev.org/812766
Change-Id: I5977d0cd62454d70028a25aaa6206b490884f325
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/83/812483/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/glance_api_spec.rb']",2,dac0d59c9d0ff2d1a429c90b8809c7831dcd0ba1,unified-quotas," :use_keystone_limits => '<SERVICE DEFAULT>', :use_keystone_limits => 'true', 'use_keystone_limits',",,10,0
openstack%2Ftempest~master~I010fbb4236ccaedb3de663e32eb22f89931d53c7,openstack/tempest,master,I010fbb4236ccaedb3de663e32eb22f89931d53c7,Add microversion schemas for os-instance-actions,MERGED,2021-10-05 09:39:30.000000000,2021-11-12 18:54:32.000000000,2021-11-12 18:52:05.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-10-05 09:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/141aa5ba6cfb9ee93eaafd711e9a379c6a5ef169', 'message': 'Add microversion schemas for os-instance-actions\n\nI need to use os-instance-actions API in a waiter that is called from\nmultiple microversion tests in a later patch. So this patch adds the\nmicroversion schemas for this API.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7\n'}, {'number': 2, 'created': '2021-10-19 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a09233114e7d17b950f06b980ce756c9a639f71c', 'message': 'Add microversion schemas for os-instance-actions\n\nI need to use os-instance-actions API in a waiter that is called from\nmultiple microversion tests in a later patch. So this patch adds the\nmicroversion schemas for this API.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7\n'}, {'number': 3, 'created': '2021-10-27 16:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1722666eb2dac3dfdeec835cfcd60b7b1b0f307b', 'message': 'Add microversion schemas for os-instance-actions\n\nI need to use os-instance-actions API in a waiter that is called from\nmultiple microversion tests in a later patch. So this patch adds the\nmicroversion schemas for this API.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7\n'}, {'number': 4, 'created': '2021-11-02 17:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c28f606ef773b0961217d740186c8ab735d45f2c', 'message': 'Add microversion schemas for os-instance-actions\n\nI need to use os-instance-actions API in a waiter that is called from\nmultiple microversion tests in a later patch. So this patch adds the\nmicroversion schemas for this API.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7\n'}, {'number': 5, 'created': '2021-11-02 17:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b1a48483ccbaeec4a0bf306166408fc2e50abef', 'message': 'Add microversion schemas for os-instance-actions\n\nI need to use os-instance-actions API in a waiter that is called from\nmultiple microversion tests in a later patch. So this patch adds the\nmicroversion schemas for this API.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7\n'}, {'number': 6, 'created': '2021-11-04 12:33:23.000000000', 'files': ['tempest/lib/api_schema/response/compute/v2_62/__init__.py', 'tempest/lib/api_schema/response/compute/v2_51/__init__.py', 'tempest/lib/api_schema/response/compute/v2_70/servers.py', 'tempest/lib/api_schema/response/compute/v2_19/servers.py', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/api_schema/response/compute/v2_57/servers.py', 'tempest/lib/api_schema/response/compute/v2_62/servers.py', 'tempest/lib/api_schema/response/compute/v2_16/servers.py', 'tempest/lib/api_schema/response/compute/v2_73/servers.py', 'tempest/lib/api_schema/response/compute/v2_79/servers.py', 'tempest/lib/api_schema/response/compute/v2_26/servers.py', 'tempest/lib/api_schema/response/compute/v2_8/servers.py', 'tempest/lib/api_schema/response/compute/v2_6/servers.py', 'tempest/lib/api_schema/response/compute/v2_58/servers.py', 'tempest/lib/api_schema/response/compute/v2_48/servers.py', 'tempest/lib/api_schema/response/compute/v2_51/servers.py', 'tempest/lib/api_schema/response/compute/v2_71/servers.py', 'tempest/lib/api_schema/response/compute/v2_63/servers.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_3/servers.py', 'tempest/lib/api_schema/response/compute/v2_9/servers.py', 'tempest/lib/api_schema/response/compute/v2_47/servers.py', 'tempest/lib/api_schema/response/compute/v2_58/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f46bcdf5e4510eec7f09579842b22745f093d676', 'message': 'Add microversion schemas for os-instance-actions\n\nI need to use os-instance-actions API in a waiter that is called from\nmultiple microversion tests in a later patch. So this patch adds the\nmicroversion schemas for this API.\n\nblueprint: qos-minimum-guaranteed-packet-rate\nChange-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7\n'}]",3,812471,f46bcdf5e4510eec7f09579842b22745f093d676,24,3,6,9708,,,0,"Add microversion schemas for os-instance-actions

I need to use os-instance-actions API in a waiter that is called from
multiple microversion tests in a later patch. So this patch adds the
microversion schemas for this API.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: I010fbb4236ccaedb3de663e32eb22f89931d53c7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/812471/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/compute/v2_62/__init__.py', 'tempest/lib/api_schema/response/compute/v2_51/__init__.py', 'tempest/lib/api_schema/response/compute/v2_70/servers.py', 'tempest/lib/api_schema/response/compute/v2_19/servers.py', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/api_schema/response/compute/v2_57/servers.py', 'tempest/lib/api_schema/response/compute/v2_62/servers.py', 'tempest/lib/api_schema/response/compute/v2_16/servers.py', 'tempest/lib/api_schema/response/compute/v2_73/servers.py', 'tempest/lib/api_schema/response/compute/v2_79/servers.py', 'tempest/lib/api_schema/response/compute/v2_26/servers.py', 'tempest/lib/api_schema/response/compute/v2_8/servers.py', 'tempest/lib/api_schema/response/compute/v2_6/servers.py', 'tempest/lib/api_schema/response/compute/v2_58/servers.py', 'tempest/lib/api_schema/response/compute/v2_48/servers.py', 'tempest/lib/api_schema/response/compute/v2_51/servers.py', 'tempest/lib/api_schema/response/compute/v2_71/servers.py', 'tempest/lib/api_schema/response/compute/v2_63/servers.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_3/servers.py', 'tempest/lib/api_schema/response/compute/v2_9/servers.py', 'tempest/lib/api_schema/response/compute/v2_47/servers.py', 'tempest/lib/api_schema/response/compute/v2_58/__init__.py']",23,141aa5ba6cfb9ee93eaafd711e9a379c6a5ef169,bp/qos-minimum-guaranteed-packet-rate,,,194,38
openstack%2Fos-brick~stable%2Fussuri~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/os-brick,stable/ussuri,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,MERGED,2021-11-12 08:12:14.000000000,2021-11-12 18:53:48.000000000,2021-11-12 18:51:17.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 08:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a83c184d0b6f58cde5b5e3313e3acc8fb2ffdaca', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n(cherry picked from commit 40ba2c8b805f50b7ef1b5fb9ee7d2a47052ab84b)\nConflicts: os_brick/tests/base.py\n""}, {'number': 2, 'created': '2021-11-12 08:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/07e461f9cd3b0179a79ba11ec1de0d1288129663', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n(cherry picked from commit 40ba2c8b805f50b7ef1b5fb9ee7d2a47052ab84b)\nConflicts: os_brick/tests/base.py\n""}, {'number': 3, 'created': '2021-11-12 09:09:30.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9d3ce01eabc0b95d50302dfa9891ae6f0bf4cc6c', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n(cherry picked from commit b03eca8353f1db7fed5dc630d225126b1edb1055)\nConflicts: os_brick/tests/base.py\n""}]",2,817712,9d3ce01eabc0b95d50302dfa9891ae6f0bf4cc6c,15,4,3,27615,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)
(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)
Conflicts: os_brick/initiator/connectors/iscsi.py
(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)
Conflicts: os_brick/initiator/connectors/nvmeof.py
(cherry picked from commit b03eca8353f1db7fed5dc630d225126b1edb1055)
Conflicts: os_brick/tests/base.py
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/12/817712/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/huawei.py']",9,a83c184d0b6f58cde5b5e3313e3acc8fb2ffdaca,bug/1947370," @synchronized('connect_volume', external=True) @synchronized('connect_volume', external=True)", @synchronized('connect_volume') @synchronized('connect_volume'),45,16
openstack%2Foslo.db~master~I44675fce86337696b6494abc03e8058af32686c6,openstack/oslo.db,master,I44675fce86337696b6494abc03e8058af32686c6,Don't pass kwargs to connection.execute(),MERGED,2021-07-27 17:30:19.000000000,2021-11-12 18:47:54.000000000,2021-11-12 18:46:06.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9177ba989412fcb44d3db519c6a27300195d5f57', 'message': ""Don't pass kwargs to connection.execute()\n\nResolve the following RemovedIn20Warning warning:\n\n  The connection.execute() method in SQLAlchemy 2.0 will accept\n  parameters as a single dictionary or a single sequence of dictionaries\n  only. Parameters passed as keyword arguments, tuples or positionally\n  oriented dictionaries and/or tuples will no longer be accepted.\n\nChange-Id: I44675fce86337696b6494abc03e8058af32686c6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/371dea3368bb5c738490532afc817d69e13b8439', 'message': ""Don't pass kwargs to connection.execute()\n\nResolve the following RemovedIn20Warning warning:\n\n  The connection.execute() method in SQLAlchemy 2.0 will accept\n  parameters as a single dictionary or a single sequence of dictionaries\n  only. Parameters passed as keyword arguments, tuples or positionally\n  oriented dictionaries and/or tuples will no longer be accepted.\n\nChange-Id: I44675fce86337696b6494abc03e8058af32686c6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b928ed659fab428fb21ffc0d2c55e598a0bea1c1', 'message': ""Don't pass kwargs to connection.execute()\n\nResolve the following RemovedIn20Warning warning:\n\n  The connection.execute() method in SQLAlchemy 2.0 will accept\n  parameters as a single dictionary or a single sequence of dictionaries\n  only. Parameters passed as keyword arguments, tuples or positionally\n  oriented dictionaries and/or tuples will no longer be accepted.\n\nChange-Id: I44675fce86337696b6494abc03e8058af32686c6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/33f67199f11bac21261a7549a1b593f4d2e2341b', 'message': ""Don't pass kwargs to connection.execute()\n\nResolve the following RemovedIn20Warning warning:\n\n  The connection.execute() method in SQLAlchemy 2.0 will accept\n  parameters as a single dictionary or a single sequence of dictionaries\n  only. Parameters passed as keyword arguments, tuples or positionally\n  oriented dictionaries and/or tuples will no longer be accepted.\n\nChange-Id: I44675fce86337696b6494abc03e8058af32686c6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e1039e0849890c6bd10516004c6dab89db1c9111', 'message': ""Don't pass kwargs to connection.execute()\n\nResolve the following RemovedIn20Warning warning:\n\n  The connection.execute() method in SQLAlchemy 2.0 will accept\n  parameters as a single dictionary or a single sequence of dictionaries\n  only. Parameters passed as keyword arguments, tuples or positionally\n  oriented dictionaries and/or tuples will no longer be accepted.\n\nChange-Id: I44675fce86337696b6494abc03e8058af32686c6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,802584,e1039e0849890c6bd10516004c6dab89db1c9111,21,4,5,15334,,,0,"Don't pass kwargs to connection.execute()

Resolve the following RemovedIn20Warning warning:

  The connection.execute() method in SQLAlchemy 2.0 will accept
  parameters as a single dictionary or a single sequence of dictionaries
  only. Parameters passed as keyword arguments, tuples or positionally
  oriented dictionaries and/or tuples will no longer be accepted.

Change-Id: I44675fce86337696b6494abc03e8058af32686c6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/84/802584/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/fixtures.py']",3,9177ba989412fcb44d3db519c6a27300195d5f57,sqlalchemy-20,," message=r'The connection.execute\(\) method in SQLAlchemy 2.0 .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",2,8
openstack%2Fcinder-tempest-plugin~master~Ibccc48c5afb402e899ebbb471e2fc2e90d4d8886,openstack/cinder-tempest-plugin,master,Ibccc48c5afb402e899ebbb471e2fc2e90d4d8886,volume: fix wrong snapshot_id for revert_to_snapshot_after_extended_negative,MERGED,2021-09-30 21:56:37.000000000,2021-11-12 18:17:51.000000000,2021-11-12 18:17:51.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-30 21:56:37.000000000', 'files': ['cinder_tempest_plugin/api/volume/test_volume_revert.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a30dd6ea3397602cee62847ab493837ecc32fd8c', 'message': 'volume: fix wrong snapshot_id for revert_to_snapshot_after_extended_negative\n\nrevert_to_snapshot receive snapshot_id not a snapshot object\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: Ibccc48c5afb402e899ebbb471e2fc2e90d4d8886\n'}]",13,812032,a30dd6ea3397602cee62847ab493837ecc32fd8c,21,4,1,33826,,,0,"volume: fix wrong snapshot_id for revert_to_snapshot_after_extended_negative

revert_to_snapshot receive snapshot_id not a snapshot object

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: Ibccc48c5afb402e899ebbb471e2fc2e90d4d8886
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/32/812032/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_volume_revert.py'],1,a30dd6ea3397602cee62847ab493837ecc32fd8c,revert-snapshot-after-extended," self.volume, self.snapshot['id'])"," self.volume, self.snapshot)",1,1
openstack%2Ftripleo-common~stable%2Fwallaby~I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,openstack/tripleo-common,stable/wallaby,I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,[EL8] Add nodejs:14 module stream,MERGED,2021-11-09 15:26:51.000000000,2021-11-12 18:15:27.000000000,2021-11-12 18:13:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31581}]","[{'number': 1, 'created': '2021-11-09 15:26:51.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e738cd0c9e515ddad743be420b52b36c9dc58872', 'message': '[EL8] Add nodejs:14 module stream\n\nnodejs is a dependency of novnc in EL8, so it gets installed in the\nnova-novncproxy image. Not specifying a module stream means that the\ninstall can default to an unsupported version of nodejs.\n\nExplicitly enabling nodejs:14 prevents that.\n\nThe EL9 build of novnc does not require nodejs so this is not a concern\nthere.\n\nChange-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0\n(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)\n'}]",4,817232,e738cd0c9e515ddad743be420b52b36c9dc58872,19,5,1,31581,,,0,"[EL8] Add nodejs:14 module stream

nodejs is a dependency of novnc in EL8, so it gets installed in the
nova-novncproxy image. Not specifying a module stream means that the
install can default to an unsupported version of nodejs.

Explicitly enabling nodejs:14 prevents that.

The EL9 build of novnc does not require nodejs so this is not a concern
there.

Change-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0
(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/817232/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,e738cd0c9e515ddad743be420b52b36c9dc58872,, - enable: nodejs:{{ tcib_rhel_modules['nodejs'] | default('14') }},,1,0
openstack%2Fbarbican~stable%2Fwallaby~I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1,openstack/barbican,stable/wallaby,I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1,Fix consumer name length validator,MERGED,2021-11-12 14:02:53.000000000,2021-11-12 17:38:26.000000000,2021-11-12 17:29:13.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f2a0abab60e0ed30ff469ff69c6f0e41641c04cc', 'message': 'Fix consumer name length validator\n\nThis patch fixes a mismatch between the size of the column for a\nconsumer ""name"" in the database and the value being checked by the api\nvalidator.\n\nThe maximum size in the database is 36 chars [1], so we must use that value\nin the validator.\n\n[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826\n\nStory: 2009672\nTask: 43934\n\nChange-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1\n(cherry picked from commit 31aa926175b62b347593acb8b147810b4b49b9de)\n(cherry picked from commit 059b4a080a40553dbba02b0f838cc33cacf5d44b)\n'}, {'number': 2, 'created': '2021-11-12 14:36:33.000000000', 'files': ['barbican/common/validators.py', 'releasenotes/notes/fix-story-2009672-d64ef6c10444f517.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c1204779b2802c5f1029b4bfed370414a610602f', 'message': 'Fix consumer name length validator\n\nThis patch fixes a mismatch between the size of the column for a\nconsumer ""name"" in the database and the value being checked by the api\nvalidator.\n\nThe maximum size in the database is 36 chars [1], so we must use that value\nin the validator.\n\n[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826\n\nStory: 2009672\nTask: 43938\n\nChange-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1\n(cherry picked from commit 31aa926175b62b347593acb8b147810b4b49b9de)\n(cherry picked from commit 059b4a080a40553dbba02b0f838cc33cacf5d44b)\n'}]",0,817683,c1204779b2802c5f1029b4bfed370414a610602f,10,2,2,7973,,,0,"Fix consumer name length validator

This patch fixes a mismatch between the size of the column for a
consumer ""name"" in the database and the value being checked by the api
validator.

The maximum size in the database is 36 chars [1], so we must use that value
in the validator.

[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826

Story: 2009672
Task: 43938

Change-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1
(cherry picked from commit 31aa926175b62b347593acb8b147810b4b49b9de)
(cherry picked from commit 059b4a080a40553dbba02b0f838cc33cacf5d44b)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/83/817683/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/validators.py', 'releasenotes/notes/fix-story-2009672-d64ef6c10444f517.yaml']",2,f2a0abab60e0ed30ff469ff69c6f0e41641c04cc,story/2009672,--- fixes: - | Fixed Story #2009672 - Fixed validator for Container Consumers to prevent 500 errors. ,,7,2
openstack%2Fheat~master~Ibc59f6653f611279488ce61b753ea4bbbff8ef0c,openstack/heat,master,Ibc59f6653f611279488ce61b753ea4bbbff8ef0c,Add support of online volume extension,NEW,2021-11-12 14:23:19.000000000,2021-11-12 17:35:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-12 14:23:19.000000000', 'files': ['heat/engine/clients/os/cinder.py', 'heat/engine/resources/openstack/cinder/volume.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fb4ae8761819e80ca1810f266a3b69a9864ef164', 'message': ""Add support of online volume extension\n\nCinder since api version 3.42 supports online volume extension\nbut heat do not use this feature. Heat engine is trying to detach\nvolume, then extend it and attach it again instead. Since Cinder\ndo not require volume to be detached to be extended the\ndettachment/attachment procedure is unnececery. Additionaly since\nsystem volumes can not be detached trying to resize it will result\nin timeout waiting for detachment and stack update failure. This\npatch solves this issue by setting api version to 3.42, removing\ndetachment and attachment steps, and accepting state 'in-use'\nas legal one to proceed with volume extension.\n\nStory: 2009677\nChange-Id: Ibc59f6653f611279488ce61b753ea4bbbff8ef0c\n""}]",0,817762,fb4ae8761819e80ca1810f266a3b69a9864ef164,3,1,1,29058,,,0,"Add support of online volume extension

Cinder since api version 3.42 supports online volume extension
but heat do not use this feature. Heat engine is trying to detach
volume, then extend it and attach it again instead. Since Cinder
do not require volume to be detached to be extended the
dettachment/attachment procedure is unnececery. Additionaly since
system volumes can not be detached trying to resize it will result
in timeout waiting for detachment and stack update failure. This
patch solves this issue by setting api version to 3.42, removing
detachment and attachment steps, and accepting state 'in-use'
as legal one to proceed with volume extension.

Story: 2009677
Change-Id: Ibc59f6653f611279488ce61b753ea4bbbff8ef0c
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/817762/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/cinder.py', 'heat/engine/resources/openstack/cinder/volume.py']",2,fb4ae8761819e80ca1810f266a3b69a9864ef164,story/2009677," if vol.status not in ('available', 'in-use'):"," if vol.status != 'available': prg_detach, prg_attach = self._detach_attach_progress(vol)",2,3
openstack%2Ftraining-labs~master~I02ef4109509b4a6b87979aedca367ca7f9dabc10,openstack/training-labs,master,I02ef4109509b4a6b87979aedca367ca7f9dabc10,Retire training-labs: remove repo content,MERGED,2021-11-11 01:30:43.000000000,2021-11-12 17:28:24.000000000,2021-11-12 17:28:24.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-11 01:30:43.000000000', 'files': ['labs/osbash/config/scripts.centos_base', 'labs/osbash/scripts/ubuntu/install_rabbitmq.sh', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v6.cfg', 'labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-loopback', 'labs/osbash/lib/osbash/kvm-install_base.sh', 'labs/stacktrain/setup.py', 'labs/osbash/lib/osbash/netboot/preseed-all-v2.cfg', 'labs/osbash/lib/osbash-ssh-keys/osbash_key', 'labs/osbash/scripts/zero_empty.sh', 'labs/stacktrain/kvm/install_node.py', 'labs/osbash/scripts/centos/yum_update.sh', 'labs/osbash/lib/osbash/kvm-functions.sh', 'labs.py', 'labs/osbash/config/credentials', 'labs/osbash/lib/wbatch/template-create_hostnet_bat', 'labs/stacktrain/config/virtualbox.py', 'labs/osbash/config/scripts.ubuntu_pxeserver', 'labs/osbash/scripts/centos/yum_init.sh', 'labs/stacktrain/core/ssh.py', 'labs/osbash/wbatch/README.rst', 'labs/autostart', 'labs/tools', 'labs/stacktrain/batch_for_windows_templates/config_bat', 'labs/osbash/lib/osbash-ssh-keys/osbash_key.pub', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v3.cfg', 'labs/tests/base.py', 'labs/osbash/config/README.rst', 'labs/osbash/config/scripts.ubuntu_nodes_only', 'labs/osbash/scripts/ubuntu/setup_self-service_controller.sh', 'labs/osbash/tools/restore-cluster.sh', 'bindep.txt', 'labs/osbash/config/deploy.osbash', 'labs/stacktrain/virtualbox/install_node.py', 'labs/osbash/config/config.base', 'labs/osbash/lib/wbatch/template-find_vbm_bat', 'labs/osbash/scripts/ubuntu/setup_neutron_compute_part_2.sh', 'labs/osbash/tools/get_node_logs.sh', 'labs/osbash/lib/osbash/functions-host.sh', 'labs/osbash/lib/osbash/netboot/ks-ssh.cfg', 'labs/stacktrain/config/__init__.py', '.zuul.yaml', 'labs/osbash/scripts/ubuntu/setup_neutron_controller.sh', 'labs/osbash/config/provider.virtualbox', 'doc/source/index.rst', 'labs/osbash/lib/osbash/virtualbox-keycodes.sh', 'labs/osbash/lib/osbash/lib.ubuntu-14.04-server-amd64.sh', 'labs/stacktrain/batch_for_windows_templates/template-file_header_bat', 'labs/osbash/scripts/ubuntu/setup_self-service_compute.sh', 'labs/osbash/scripts/etc_hosts.sh', 'labs/osbash/lib/functions.fedora.sh', 'labs/stacktrain/core/cond_sleep.py', 'README.rst', 'labs/stacktrain/core/__init__.py', 'labs/osbash/scripts/ubuntu/setup_nova_compute.sh', 'labs/osbash/lib/functions-common-devstack', 'labs/osbash/lib/osbash/netboot/preseed-vbadd.cfg', 'labs/osbash/config/admin-openstackrc.sh', 'playbooks/scripts/run.yaml', 'CONTRIBUTING.rst', 'labs/osbash/scripts/ubuntu/tacker/create_vim.sh', 'labs/stacktrain/__init__.py', 'labs/osbash/scripts/README.rst', 'labs/stacktrain/core/iso_image.py', 'LICENSE', 'labs/lib', 'labs/osbash/config/config.controller', 'labs/osbash/scripts/osbash/template-osbashauto', 'labs/osbash/scripts/ubuntu/setup_neutron_controller_part_2.sh', 'labs/osbash/config/scripts.ubuntu_pxecluster', 'labs/osbash/lib/wbatch/template-begin_hostnet_bat', 'labs/osbash/scripts/ubuntu/setup_neutron_compute.sh', 'labs/osbash/lib/osbash/netboot/ks-all.cfg', 'labs/osbash/tools/downloader.js', 'labs/osbash/scripts/ubuntu/apt_upgrade.sh', 'labs/osbash/scripts/pre-download.sh', 'labs/st.py', 'labs/osbash/config/config.pxeserver', 'doc/source/installation.rst', 'tools/generate-labs', 'labs/osbash/lib/functions.sh', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v2.cfg', 'labs/osbash/lib/wbatch/template-begin_base_bat', '.gitignore', 'labs/config', 'labs/osbash/lib/wbatch/template-end_file_bat', 'labs/stacktrain/virtualbox/keycodes.py', 'labs/stacktrain/core/download.py', 'labs/osbash/lib/osbash/lib.ubuntu-14.04-server-i386.sh', 'labs/osbash/tools/repeat-test.sh', 'labs/osbash/config/scripts.ubuntu_cluster', 'labs/osbash/lib/osbash/templates/template-fedora-ifcfg-static', 'labs/stacktrain/distros/ubuntu_14_04_server_i386.py', 'labs/stacktrain/kvm/keycodes.py', 'labs/osbash/img/README.rst', 'labs/stacktrain/core/functions_host.py', 'labs/stacktrain/core/node_builder.py', 'labs/tests/__init__.py', 'labs/stacktrain/batch_for_windows_templates/template-find_vbm_bat', 'labs/stacktrain/distros/ubuntu_18_04_server_amd64.py', 'labs/stacktrain/kvm/vm_create.py', 'labs/osbash/config/hosts.multi', 'labs/osbash/lib/osbash/netboot/ks-all-v2.cfg', 'labs/stacktrain/batch_for_windows_templates/template-mkdirs_bat', 'labs/stacktrain/distros/ubuntu_16_04_server_amd64.py', 'labs/stacktrain/virtualbox/vm_create.py', 'labs/osbash/config/openstack', 'labs/osbash/config/scripts.ubuntu_base', 'labs/osbash/scripts/TOP_DIR', 'labs/osbash/config/demo-openstackrc.sh', 'labs/osbash/tools/test-once.sh', 'labs/osbash/lib/wbatch/template-mkdirs_bat', 'doc/README.rst', 'labs/osbash/lib/wbatch/template-file_header_bat', 'labs/osbash/lib/osbash/netboot/preseed-ssh.cfg', 'labs/osbash/scripts/ubuntu/setup_cinder_controller.sh', 'labs/stacktrain/batch_for_windows_templates/template-create_hostnet_bat', 'labs/stacktrain/core/report.py', 'labs/stacktrain/tests/__init__.py', 'doc/source/usage.rst', 'labs/osbash/lib/functions.ubuntu.sh', 'labs/osbash/scripts/ubuntu/apt_init.sh', 'labs/osbash/scripts/ubuntu/setup_horizon.sh', 'labs/osbash/config/config.compute1', 'labs/stacktrain/distros/ubuntu_14_04_server_amd64.py', 'labs/osbash/log/README.rst', 'labs/osbash/lib/osbash/lib.ubuntu-12.04.4-server-amd64.sh', 'labs/osbash/lib/wbatch/template-elevate_privs_bat', 'labs/osbash/lib/wbatch/README.rst', 'labs/osbash/scripts/shutdown.sh', 'labs/osbash/tools/README.rst', 'labs/osbash/lib/functions.guest.sh', 'labs/osbash/scripts/test/launch_instance_private_net.sh', 'labs/osbash/scripts/ubuntu/tacker/setup_tacker_server.sh', 'labs/osbash/scripts/ubuntu/barbican/setup_barbican_server.sh', 'labs/stacktrain/kvm/install_base.py', 'labs/osbash/scripts/osbash/wait_debug.sh', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v4.cfg', 'labs/osbash/lib/osbash/kvm-keycodes.sh', 'labs/stacktrain/distros/__init__.py', 'labs/osbash/osbash.sh', 'labs/osbash/scripts/config_public_network.sh', 'labs/osbash/scripts/osbash/base_fixups.sh', 'labs/osbash/scripts/ubuntu/setup_cinder_volumes.sh', 'labs/osbash/lib/osbash/netboot/preseed-all-v7.cfg', 'labs/stacktrain/batch_for_windows_templates/template-begin_hostnet_bat', 'labs/osbash/lib/wbatch/batch_for_windows.sh', 'labs/osbash/lib/osbash/netboot/preseed-vbadd-v6.cfg', 'labs/osbash/scripts/osbash/activate_autostart.sh', 'labs/stacktrain/virtualbox/install_base.py', 'labs/wbatch', 'labs/osbash/config/provider.kvm', 'labs/osbash/scripts/ubuntu/apt_install_mysql.sh', 'labs/osbash/scripts/ubuntu/setup_glance.sh', 'labs/osbash/lib/wbatch/template-begin_node_bat', 'labs/osbash/scripts/ubuntu/tacker/systemd-tacker.service', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-dhcp', 'labs/osbash/scripts/test/README.rst', 'labs/stacktrain/batch_for_windows_templates/template-begin_node_bat', 'labs/osbash/scripts/config_private_network.sh', 'labs/osbash/scripts/ubuntu/install_memcached.sh', 'labs/stacktrain/core/keycodes.py', 'labs/osbash/scripts/ubuntu/create_xxx_node_pxeboot.sh', 'labs/osbash/scripts/ubuntu/tacker/create_vnf.sh', 'labs/osbash/lib/osbash-ssh-keys/README.rst', 'labs/osbash/config/paths', 'labs/osbash/lib/osbash/lib.centos-7-x86_64.sh', 'labs/osbash/scripts/ubuntu/tacker/tacker.conf', 'HACKING.rst', 'labs/osbash/lib/osbash/lib.ubuntu-16.04-server-amd64.sh', 'labs/stacktrain/batch_for_windows_templates/template-elevate_privs_bat', 'labs/osbash/config/localrc', 'labs/osbash/scripts/test/heat_stack.sh', 'labs/osbash/tools/log_snapshot_split.py', 'labs/osbash/scripts/test/get_auth_token.sh', 'labs/stacktrain/core/autostart.py', 'labs/osbash/lib/osbash/kvm-install_nodes.sh', 'labs/osbash/tools/git_info.sh', 'labs/osbash/scripts/osbash/copy_openrc.sh', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-manual', 'labs/osbash/lib/osbash/virtualbox-install_nodes.sh', 'labs/osbash/lib/wbatch/config_bat', 'labs/osbash/lib/osbash/lib.ubuntu-16.04-server-i386.sh', 'labs/stacktrain/core/helpers.py', 'labs/stacktrain/config/general.py', 'labs/osbash/scripts/test/test_horizon.sh', 'labs/osbash/lib/osbash/netboot/preseed-vbadd-v3.cfg', 'labs/stacktrain/kvm/__init__.py', 'labs/osbash/scripts/ubuntu/apt_pre-download.sh', 'labs/osbash/lib/osbash/lib-color.sh', 'labs/osbash/lib/osbash/netboot/ks-vbadd.cfg', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v5.cfg', 'labs/osbash/scripts/ubuntu/setup_heat_controller.sh', 'labs/stacktrain/batch_for_windows_templates/template-end_file_bat', 'labs/osbash/autostart/README.rst', 'labs/osbash/scripts/osbash/enable_osbash_ssh_keys.sh', 'labs/osbash/scripts/ubuntu/mistral/setup_mistral_server.sh', 'labs/stacktrain/distros/distro.py', 'tox.ini', 'labs/stacktrain/virtualbox/__init__.py', 'doc/source/contributing.rst', 'labs/osbash/lib/osbash/virtualbox-install_base.sh', 'labs/stacktrain/batch_for_windows_templates/template-begin_base_bat', 'labs/osbash/scripts/pxe_server/install_pxeserver.sh', 'labs/osbash/lib/osbash/netboot/ks-ssh-v2.cfg', 'labs/stacktrain/batch_for_windows_templates/__init__.py', 'labs/osbash/lib/osbash/netboot/preseed-all.cfg', 'labs/osbash/lib/osbash/netboot/preseed-vbadd-v7.cfg', 'labs/osbash/lib/osbash/netboot/preseed-all-v6.cfg', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-static', 'labs/osbash/scripts/ubuntu/setup_keystone.sh', 'labs/scripts', 'labs/osbash/lib/README.rst', 'labs/stacktrain/batch_for_windows.py', 'labs/osbash/config/scripts.centos_cluster', 'labs/osbash/scripts/osbash/init_xxx_node.sh', 'labs/osbash/scripts/ubuntu/setup_placement_controller.sh', 'doc/source/conf.py', 'labs/osbash/lib/osbash/templates/template-fedora-ifcfg-dhcp', 'labs/.pylintrc', 'doc/requirements.txt', 'doc/source/readme.rst', 'labs/osbash/lib/osbash/virtualbox-functions.sh'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/e78d74f10558ab3e6a9a6fd7d45e617c15e9c3d8', 'message': 'Retire training-labs: remove repo content\n\nAs there is no maintainer for training-labs and it\nis decided to retire[1].\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/817502\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html\n\nChange-Id: I02ef4109509b4a6b87979aedca367ca7f9dabc10\n'}]",2,817505,e78d74f10558ab3e6a9a6fd7d45e617c15e9c3d8,8,3,1,8556,,,0,"Retire training-labs: remove repo content

As there is no maintainer for training-labs and it
is decided to retire[1].

Depends-On: https://review.opendev.org/c/openstack/project-config/+/817502

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html

Change-Id: I02ef4109509b4a6b87979aedca367ca7f9dabc10
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/05/817505/1 && git format-patch -1 --stdout FETCH_HEAD,"['labs/osbash/config/scripts.centos_base', 'labs/osbash/scripts/ubuntu/install_rabbitmq.sh', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v6.cfg', 'labs/osbash/scripts/ubuntu/setup_nova_controller.sh', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-loopback', 'labs/osbash/lib/osbash/kvm-install_base.sh', 'labs/stacktrain/setup.py', 'labs/osbash/lib/osbash/netboot/preseed-all-v2.cfg', 'labs/osbash/lib/osbash-ssh-keys/osbash_key', 'labs/osbash/scripts/zero_empty.sh', 'labs/stacktrain/kvm/install_node.py', 'labs/osbash/scripts/centos/yum_update.sh', 'labs/osbash/lib/osbash/kvm-functions.sh', 'labs.py', 'labs/osbash/config/credentials', 'labs/osbash/lib/wbatch/template-create_hostnet_bat', 'labs/stacktrain/config/virtualbox.py', 'labs/osbash/config/scripts.ubuntu_pxeserver', 'labs/osbash/scripts/centos/yum_init.sh', 'labs/stacktrain/core/ssh.py', 'labs/osbash/wbatch/README.rst', 'labs/autostart', 'labs/tools', 'labs/stacktrain/batch_for_windows_templates/config_bat', 'labs/osbash/lib/osbash-ssh-keys/osbash_key.pub', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v3.cfg', 'labs/tests/base.py', 'labs/osbash/config/README.rst', 'labs/osbash/config/scripts.ubuntu_nodes_only', 'labs/osbash/scripts/ubuntu/setup_self-service_controller.sh', 'labs/osbash/tools/restore-cluster.sh', 'bindep.txt', 'labs/osbash/config/deploy.osbash', 'labs/stacktrain/virtualbox/install_node.py', 'labs/osbash/config/config.base', 'labs/osbash/lib/wbatch/template-find_vbm_bat', 'labs/osbash/scripts/ubuntu/setup_neutron_compute_part_2.sh', 'labs/osbash/tools/get_node_logs.sh', 'labs/osbash/lib/osbash/functions-host.sh', 'labs/osbash/lib/osbash/netboot/ks-ssh.cfg', 'labs/stacktrain/config/__init__.py', '.zuul.yaml', 'labs/osbash/scripts/ubuntu/setup_neutron_controller.sh', 'labs/osbash/config/provider.virtualbox', 'doc/source/index.rst', 'labs/osbash/lib/osbash/virtualbox-keycodes.sh', 'labs/osbash/lib/osbash/lib.ubuntu-14.04-server-amd64.sh', 'labs/stacktrain/batch_for_windows_templates/template-file_header_bat', 'labs/osbash/scripts/ubuntu/setup_self-service_compute.sh', 'labs/osbash/scripts/etc_hosts.sh', 'labs/osbash/lib/functions.fedora.sh', 'labs/stacktrain/core/cond_sleep.py', 'README.rst', 'labs/stacktrain/core/__init__.py', 'labs/osbash/scripts/ubuntu/setup_nova_compute.sh', 'labs/osbash/lib/functions-common-devstack', 'labs/osbash/lib/osbash/netboot/preseed-vbadd.cfg', 'labs/osbash/config/admin-openstackrc.sh', 'playbooks/scripts/run.yaml', 'CONTRIBUTING.rst', 'labs/osbash/scripts/ubuntu/tacker/create_vim.sh', 'labs/stacktrain/__init__.py', 'labs/osbash/scripts/README.rst', 'labs/stacktrain/core/iso_image.py', 'LICENSE', 'labs/lib', 'labs/osbash/config/config.controller', 'labs/osbash/scripts/osbash/template-osbashauto', 'labs/osbash/scripts/ubuntu/setup_neutron_controller_part_2.sh', 'labs/osbash/config/scripts.ubuntu_pxecluster', 'labs/osbash/lib/wbatch/template-begin_hostnet_bat', 'labs/osbash/scripts/ubuntu/setup_neutron_compute.sh', 'labs/osbash/lib/osbash/netboot/ks-all.cfg', 'labs/osbash/tools/downloader.js', 'labs/osbash/scripts/ubuntu/apt_upgrade.sh', 'labs/osbash/scripts/pre-download.sh', 'labs/st.py', 'labs/osbash/config/config.pxeserver', 'doc/source/installation.rst', 'tools/generate-labs', 'labs/osbash/lib/functions.sh', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v2.cfg', 'labs/osbash/lib/wbatch/template-begin_base_bat', '.gitignore', 'labs/config', 'labs/osbash/lib/wbatch/template-end_file_bat', 'labs/stacktrain/virtualbox/keycodes.py', 'labs/stacktrain/core/download.py', 'labs/osbash/lib/osbash/lib.ubuntu-14.04-server-i386.sh', 'labs/osbash/tools/repeat-test.sh', 'labs/osbash/config/scripts.ubuntu_cluster', 'labs/osbash/lib/osbash/templates/template-fedora-ifcfg-static', 'labs/stacktrain/distros/ubuntu_14_04_server_i386.py', 'labs/stacktrain/kvm/keycodes.py', 'labs/osbash/img/README.rst', 'labs/stacktrain/core/functions_host.py', 'labs/stacktrain/core/node_builder.py', 'labs/tests/__init__.py', 'labs/stacktrain/batch_for_windows_templates/template-find_vbm_bat', 'labs/stacktrain/distros/ubuntu_18_04_server_amd64.py', 'labs/stacktrain/kvm/vm_create.py', 'labs/osbash/config/hosts.multi', 'labs/osbash/lib/osbash/netboot/ks-all-v2.cfg', 'labs/stacktrain/batch_for_windows_templates/template-mkdirs_bat', 'labs/stacktrain/distros/ubuntu_16_04_server_amd64.py', 'labs/stacktrain/virtualbox/vm_create.py', 'labs/osbash/config/openstack', 'labs/osbash/config/scripts.ubuntu_base', 'labs/osbash/scripts/TOP_DIR', 'labs/osbash/config/demo-openstackrc.sh', 'labs/osbash/tools/test-once.sh', 'labs/osbash/lib/wbatch/template-mkdirs_bat', 'doc/README.rst', 'labs/osbash/lib/wbatch/template-file_header_bat', 'labs/osbash/lib/osbash/netboot/preseed-ssh.cfg', 'labs/osbash/scripts/ubuntu/setup_cinder_controller.sh', 'labs/stacktrain/batch_for_windows_templates/template-create_hostnet_bat', 'labs/stacktrain/core/report.py', 'labs/stacktrain/tests/__init__.py', 'doc/source/usage.rst', 'labs/osbash/lib/functions.ubuntu.sh', 'labs/osbash/scripts/ubuntu/apt_init.sh', 'labs/osbash/scripts/ubuntu/setup_horizon.sh', 'labs/osbash/config/config.compute1', 'labs/stacktrain/distros/ubuntu_14_04_server_amd64.py', 'labs/osbash/log/README.rst', 'labs/osbash/lib/osbash/lib.ubuntu-12.04.4-server-amd64.sh', 'labs/osbash/lib/wbatch/template-elevate_privs_bat', 'labs/osbash/lib/wbatch/README.rst', 'labs/osbash/scripts/shutdown.sh', 'labs/osbash/tools/README.rst', 'labs/osbash/lib/functions.guest.sh', 'labs/osbash/scripts/test/launch_instance_private_net.sh', 'labs/osbash/scripts/ubuntu/tacker/setup_tacker_server.sh', 'labs/osbash/scripts/ubuntu/barbican/setup_barbican_server.sh', 'labs/stacktrain/kvm/install_base.py', 'labs/osbash/scripts/osbash/wait_debug.sh', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v4.cfg', 'labs/osbash/lib/osbash/kvm-keycodes.sh', 'labs/stacktrain/distros/__init__.py', 'labs/osbash/osbash.sh', 'labs/osbash/scripts/config_public_network.sh', 'labs/osbash/scripts/osbash/base_fixups.sh', 'labs/osbash/scripts/ubuntu/setup_cinder_volumes.sh', 'labs/osbash/lib/osbash/netboot/preseed-all-v7.cfg', 'labs/stacktrain/batch_for_windows_templates/template-begin_hostnet_bat', 'labs/osbash/lib/wbatch/batch_for_windows.sh', 'labs/osbash/lib/osbash/netboot/preseed-vbadd-v6.cfg', 'labs/osbash/scripts/osbash/activate_autostart.sh', 'labs/stacktrain/virtualbox/install_base.py', 'labs/wbatch', 'labs/osbash/config/provider.kvm', 'labs/osbash/scripts/ubuntu/apt_install_mysql.sh', 'labs/osbash/scripts/ubuntu/setup_glance.sh', 'labs/osbash/lib/wbatch/template-begin_node_bat', 'labs/osbash/scripts/ubuntu/tacker/systemd-tacker.service', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-dhcp', 'labs/osbash/scripts/test/README.rst', 'labs/stacktrain/batch_for_windows_templates/template-begin_node_bat', 'labs/osbash/scripts/config_private_network.sh', 'labs/osbash/scripts/ubuntu/install_memcached.sh', 'labs/stacktrain/core/keycodes.py', 'labs/osbash/scripts/ubuntu/create_xxx_node_pxeboot.sh', 'labs/osbash/scripts/ubuntu/tacker/create_vnf.sh', 'labs/osbash/lib/osbash-ssh-keys/README.rst', 'labs/osbash/config/paths', 'labs/osbash/lib/osbash/lib.centos-7-x86_64.sh', 'labs/osbash/scripts/ubuntu/tacker/tacker.conf', 'HACKING.rst', 'labs/osbash/lib/osbash/lib.ubuntu-16.04-server-amd64.sh', 'labs/stacktrain/batch_for_windows_templates/template-elevate_privs_bat', 'labs/osbash/config/localrc', 'labs/osbash/scripts/test/heat_stack.sh', 'labs/osbash/tools/log_snapshot_split.py', 'labs/osbash/scripts/test/get_auth_token.sh', 'labs/stacktrain/core/autostart.py', 'labs/osbash/lib/osbash/kvm-install_nodes.sh', 'labs/osbash/tools/git_info.sh', 'labs/osbash/scripts/osbash/copy_openrc.sh', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-manual', 'labs/osbash/lib/osbash/virtualbox-install_nodes.sh', 'labs/osbash/lib/wbatch/config_bat', 'labs/osbash/lib/osbash/lib.ubuntu-16.04-server-i386.sh', 'labs/stacktrain/core/helpers.py', 'labs/stacktrain/config/general.py', 'labs/osbash/scripts/test/test_horizon.sh', 'labs/osbash/lib/osbash/netboot/preseed-vbadd-v3.cfg', 'labs/stacktrain/kvm/__init__.py', 'labs/osbash/scripts/ubuntu/apt_pre-download.sh', 'labs/osbash/lib/osbash/lib-color.sh', 'labs/osbash/lib/osbash/netboot/ks-vbadd.cfg', 'labs/osbash/lib/osbash/netboot/preseed-ssh-v5.cfg', 'labs/osbash/scripts/ubuntu/setup_heat_controller.sh', 'labs/stacktrain/batch_for_windows_templates/template-end_file_bat', 'labs/osbash/autostart/README.rst', 'labs/osbash/scripts/osbash/enable_osbash_ssh_keys.sh', 'labs/osbash/scripts/ubuntu/mistral/setup_mistral_server.sh', 'labs/stacktrain/distros/distro.py', 'tox.ini', 'labs/stacktrain/virtualbox/__init__.py', 'doc/source/contributing.rst', 'labs/osbash/lib/osbash/virtualbox-install_base.sh', 'labs/stacktrain/batch_for_windows_templates/template-begin_base_bat', 'labs/osbash/scripts/pxe_server/install_pxeserver.sh', 'labs/osbash/lib/osbash/netboot/ks-ssh-v2.cfg', 'labs/stacktrain/batch_for_windows_templates/__init__.py', 'labs/osbash/lib/osbash/netboot/preseed-all.cfg', 'labs/osbash/lib/osbash/netboot/preseed-vbadd-v7.cfg', 'labs/osbash/lib/osbash/netboot/preseed-all-v6.cfg', 'labs/osbash/lib/osbash/templates/template-ubuntu-interfaces-static', 'labs/osbash/scripts/ubuntu/setup_keystone.sh', 'labs/scripts', 'labs/osbash/lib/README.rst', 'labs/stacktrain/batch_for_windows.py', 'labs/osbash/config/scripts.centos_cluster', 'labs/osbash/scripts/osbash/init_xxx_node.sh', 'labs/osbash/scripts/ubuntu/setup_placement_controller.sh', 'doc/source/conf.py', 'labs/osbash/lib/osbash/templates/template-fedora-ifcfg-dhcp', 'labs/.pylintrc', 'doc/requirements.txt', 'doc/source/readme.rst', 'labs/osbash/lib/osbash/virtualbox-functions.sh']",223,e78d74f10558ab3e6a9a6fd7d45e617c15e9c3d8,retire-training-labs,,"source ""$CONFIG_DIR/provider.$PROVIDER"" #------------------------------------------------------------------------------- # VirtualBoxManage #------------------------------------------------------------------------------- VBM=vbm : ${VBM_LOG:=$LOG_DIR/vbm.log} # vbm is a wrapper around the VirtualBox VBoxManage executable; it handles # logging and conditional execution (set OSBASH= to prevent the actual call to # VBoxManage, or WBATCH= to keep a call from being recorded for Windows batch # files) function vbm { ${WBATCH:-:} wbatch_log_vbm ""$@"" mkdir -p ""$(dirname ""$VBM_LOG"")"" if [[ -n ""${OSBASH:-}"" ]]; then echo ""$@"" >> ""$VBM_LOG"" local rc=0 ""$VBM_EXE"" ""$@"" || rc=$? if [ $rc -ne 0 ]; then echo -e >&2 ""${CError:-}FAILURE: VBoxManage: ${*}${CReset:-}"" return 1 fi else echo ""(not executed) $@"" >> ""$VBM_LOG"" fi } # Return VirtualBox version string (without distro extensions) function get_vb_version { local version="""" # e.g. 4.1.32r92798 4.3.10_RPMFusionr93012 4.3.10_Debianr93012 local raw=$(WBATCH= $VBM --version) # Sanitize version string local re='([0-9]+\.[0-9]+\.[0-9]+).*' if [[ $raw =~ $re ]]; then version=${BASH_REMATCH[1]} fi echo ""$version"" } #------------------------------------------------------------------------------- # VM status #------------------------------------------------------------------------------- function vm_exists { local vm_name=$1 return $(WBATCH= $VBM list vms | grep -q ""\""$vm_name\"""") } function vm_is_running { local vm_name=$1 return $(WBATCH= $VBM showvminfo --machinereadable ""$vm_name"" | \ grep -q 'VMState=""running""') } function vm_wait_for_shutdown { local vm_name=$1 ${WBATCH:-:} wbatch_wait_poweroff ""$vm_name"" # Return if we are just faking it for wbatch ${OSBASH:+:} return 0 echo -e >&2 -n ""${CStatus:-}Machine shutting down${CReset:-}"" until WBATCH= $VBM showvminfo --machinereadable ""$vm_name"" 2>/dev/null | \ grep -q '=""poweroff""'; do echo -n . sleep 1 done echo >&2 -e ""${CStatus:-}\nMachine powered off.${CReset:-}"" } function vm_power_off { local vm_name=$1 if vm_is_running ""$vm_name""; then echo -e >&2 ""${CStatus:-}Powering off VM ${CData:-}\""$vm_name\""${CReset:-}"" $VBM controlvm ""$vm_name"" poweroff fi # VirtualBox VM needs a break before taking new commands conditional_sleep 1 } function vm_acpi_shutdown { local vm_name=$1 echo -e >&2 ""${CStatus:-}ACPI shutdown for VM ${CData:-}\""$vm_name\""${CReset:-}"" $VBM controlvm ""$vm_name"" acpipowerbutton # VirtualBox VM needs a break before taking new commands conditional_sleep 1 } # Shut down all VMs in group VM_GROUP function stop_running_cluster_vms { local vm_id # Get VM ID from a line looking like this: # ""My VM"" {0a13e26d-9543-460d-82d6-625fa657b7c4} $VBM list runningvms | sed 's/.* {\(.*\)}/\1/' | while read vm_id; do if $VBM showvminfo --machinereadable ""$vm_id"" | grep -qe '^groups=""/'$VM_GROUP; then # vm_id instead of vm_name works just as well vm_acpi_shutdown ""$vm_id"" vm_wait_for_shutdown ""$vm_id"" fi done } #------------------------------------------------------------------------------- # Snapshots #------------------------------------------------------------------------------- function vm_snapshot_list_tree { local vm_name=$1 local rc # Hide VBM error message on stderr if no snapshots exist and proceed even # if exit status indicates error $VBM snapshot ""$vm_name"" list 2>/dev/null || rc=$? } function vm_snapshot_list { local vm_name=$1 # Hide VBM error on stderr if no snapshots exist $VBM snapshot ""$vm_name"" list --machinereadable 2>/dev/null } function vm_snapshot_exists { local vm_name=$1 local shot_name=$2 vm_snapshot_list ""$vm_name"" | grep -q ""SnapshotName.*=\""$shot_name\"""" } function vm_snapshot { local vm_name=$1 local shot_name=$2 $VBM snapshot ""$vm_name"" take ""$shot_name"" # VirtualBox VM needs a break before taking new commands conditional_sleep 1 } function vm_snapshot_restore { local vm_name=$1 local shot_name=$2 $VBM snapshot ""$vm_name"" restore ""$shot_name"" # VirtualBox VM needs a break before taking new commands conditional_sleep 1 } function vm_snapshot_restore_current { local vm_name=$1 $VBM snapshot ""$vm_name"" restorecurrent # VirtualBox VM needs a break before taking new commands conditional_sleep 1 } #------------------------------------------------------------------------------- # Host-only network functions #------------------------------------------------------------------------------- # Get ssh port from node name and wait for node to respond function ssh_env_for_node { local node=$1 VM_SSH_PORT=$(source ""$CONFIG_DIR/config.$node""; echo ""$VM_SSH_PORT"") SSH_IP=127.0.0.1 if [ -n ""${PXE_TMP_NODE_IP:-""""}"" ]; then SSH_IP=$PXE_TMP_NODE_IP SSH_PORT=22 echo >&2 ""PXE_TMP_NODE_IP is set -> SSH_IP=$SSH_IP, SSH_PORT=$SSH_PORT."" fi } function hostonlyif_in_use { local if_name=$1 return $(WBATCH= $VBM list -l runningvms | \ grep -q ""Host-only Interface '$if_name'"") } function ip_to_hostonlyif { local ip=$1 local prevline="""" WBATCH= $VBM list hostonlyifs | grep -e ""^Name:"" -e ""^IPAddress:"" | \ while read line; do if [[ ""$line"" == *$ip* ]]; then # match longest string that ends with a space echo ${prevline##Name:* } break fi prevline=$line done } function create_hostonlyif { local out=$(WBATCH= $VBM hostonlyif create 2> /dev/null | grep ""^Interface"") # out is something like ""Interface 'vboxnet3' was successfully created"" local re=""Interface '(.*)' was successfully created"" if [[ $out =~ $re ]]; then echo ""${BASH_REMATCH[1]}"" else echo -e >&2 ""${CError:-}Host-only interface creation failed${CReset:-}"" return 1 fi } function fake_hostif { local numifs if [ ""${NET_IFNAME[0]:-""""}"" = """" ]; then numifs=0 else numifs=${#NET_IFNAME[@]} fi NET_IFNAME[index]=""vboxnet${numifs}"" } function create_network { local index=$1 # The host-side interface is the default gateway of the network local if_ip=${NET_GW[index]} # If we are here only for wbatch, ignore actual network interfaces; just # return a vboxnetX identifier (so it can be replaced with the interface # name used by Windows). ${OSBASH:+:} fake_hostif ${OSBASH:+:} return 0 local if_name=$(ip_to_hostonlyif ""$if_ip"") if [ -n ""$if_name"" ]; then if hostonlyif_in_use ""$if_name""; then echo >&2 ""Host-only interface $if_name ($if_ip) is in use."" \ ""Using it, too."" fi else echo -e >&2 ""${CStatus:-}Creating host-only interface${CReset:-}"" if_name=$(create_hostonlyif) fi echo -e >&2 ""${CStatus:-}Configuring host-only network ${CData:-}$if_ip ($if_name)${CReset:-}"" $VBM hostonlyif ipconfig ""$if_name"" \ --ip ""$if_ip"" \ --netmask 255.255.255.0 >/dev/null NET_IFNAME[index]=$if_name } #------------------------------------------------------------------------------- # Disk functions #------------------------------------------------------------------------------- function get_base_disk_path { echo ""$DISK_DIR/$(get_base_disk_name).vdi"" } function base_disk_exists { local base_disk_path=$(get_base_disk_path) test -f ""$base_disk_path"" } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Creating, registering and unregistering disk images with VirtualBox # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # disk can be either a path or a disk UUID function disk_registered { local disk=$1 return $(WBATCH= $VBM list hdds | grep -q ""$disk"") } # disk can be either a path or a disk UUID function disk_unregister { local disk=$1 echo >&2 -e ""${CStatus:-}Unregistering disk\n\t${CData:-}$disk${CReset:-}"" $VBM closemedium disk ""$disk"" } function create_vdi { local hd_path=$1 local size=$2 echo >&2 -e ""${CStatus:-}Creating disk:\n\t${CData:-}$hd_path${CReset:-}"" $VBM createhd --format VDI --filename ""$hd_path"" --size ""$size"" } # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # Attaching and detaching disks from VMs # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - # disk can be either a path or a disk UUID function get_next_child_uuid { local disk=$1 local child_uuid="""" local line="""" if disk_registered ""$disk""; then line=$(WBATCH= $VBM showhdinfo ""$disk"" | grep -e ""^Child UUIDs:"") child_uuid=${line##Child UUIDs:* } fi echo -e ""next_child_uuid $disk:\n\t$line\n\t$child_uuid"" >> ""$VBM_LOG"" echo ""$child_uuid"" } # disk can be either a path or a disk UUID function path_to_disk_uuid { local disk=$1 local uuid="""" local line=$(WBATCH= $VBM showhdinfo ""$disk"" | grep -e ""^UUID:"") local re='UUID:[ ]+([^ ]+)' if [[ $line =~ $re ]]; then uuid=${BASH_REMATCH[1]} fi echo -e ""path_to_disk_uuid $disk:\n\t$line\n\t$uuid"" >> ""$VBM_LOG"" echo ""$uuid"" } # disk can be either a path or a disk UUID function disk_to_path { local disk=$1 local fpath="""" local line=$(WBATCH= $VBM showhdinfo ""$disk"" | grep -e ""^Location:"") local re='Location:[ ]+([^ ]+)' if [[ $line =~ $re ]]; then fpath=${BASH_REMATCH[1]} fi echo -e ""disk_to_path $disk:\n\t$line\n\t$fpath"" >> ""$VBM_LOG"" echo ""$fpath"" } # disk can be either a path or a disk UUID function disk_to_vm { local disk=$1 local vm_name="""" local line=$(WBATCH= $VBM showhdinfo ""$disk"" | grep -e ""^In use by VMs:"") local re='In use by VMs:[ ]+([^ ]+) ' if [[ $line =~ $re ]]; then vm_name=${BASH_REMATCH[1]} fi echo -e ""disk_to_vm $disk:\n\t$line\n\t$vm_name"" >> ""$VBM_LOG"" echo ""$vm_name"" } function vm_get_disk_path { local vm_name=$1 local line=$(WBATCH= $VBM showvminfo --machinereadable ""$vm_name"" | \ grep '^""SATA-0-0""=.*vdi""$') local hd_path=${line##\""SATA-0-0\""=\""} hd_path=${hd_path%\""} echo ""$hd_path"" } function vm_detach_disk { local vm_name=$1 local port=${2:-0} echo >&2 ""Detaching disk from VM \""$vm_name\"""" $VBM storageattach ""$vm_name"" \ --storagectl SATA \ --port ""$port"" \ --device 0 \ --type hdd \ --medium none # VirtualBox VM needs a break before taking new commands conditional_sleep 1 } # disk can be either a path or a disk UUID function vm_attach_disk { local vm_name=$1 local disk=$2 local port=${3:-0} echo >&2 -e ""Attaching to VM \""$vm_name\"":\n\t$disk"" $VBM storageattach ""$vm_name"" \ --storagectl SATA \ --port ""$port"" \ --device 0 \ --type hdd \ --medium ""$disk"" } # disk can be either a path or a disk UUID function vm_attach_disk_multi { local vm_name=$1 local disk=$2 local port=${3:-0} $VBM modifyhd --type multiattach ""$disk"" echo >&2 -e ""Attaching to VM \""$vm_name\"":\n\t$disk"" $VBM storageattach ""$vm_name"" \ --storagectl SATA \ --port ""$port"" \ --device 0 \ --type hdd \ --medium ""$disk"" } function base_disk_delete { local base_disk_path=$(get_base_disk_path) if disk_registered ""$base_disk_path""; then # Remove users of base disk echo >&2 ""Unregistering and removing all disks attached to"" \ ""base disk path."" disk_delete_child_vms ""$base_disk_path"" echo >&2 ""Unregistering old base disk."" disk_unregister ""$base_disk_path"" fi echo -e >&2 ""${CStatus:-}Removing old base disk.${CReset:-}"" rm -f ""$base_disk_path"" } #------------------------------------------------------------------------------- # VM create and configure #------------------------------------------------------------------------------- function vm_mem { local vm_name=""$1"" local mem=""$2"" $VBM modifyvm ""$vm_name"" --memory ""$mem"" } function vm_cpus { local vm_name=""$1"" local cpus=""$2"" $VBM modifyvm ""$vm_name"" --cpus ""$cpus"" } # Port forwarding from host to VM (binding to host's 127.0.0.1) function vm_port { local vm_name=""$1"" local desc=""$2"" local hostport=""$3"" local guestport=""$4"" $VBM modifyvm ""$vm_name"" \ --natpf1 ""$desc,tcp,127.0.0.1,$hostport,,$guestport"" } function netname_to_hostif { local netname=$1 for index in ""${!NET_NAME[@]}""; do if [ ""$netname"" = ""${NET_NAME[index]}"" ]; then echo ""${NET_IFNAME[index]}"" return 0 fi done echo >&2 ""ERROR: No host interface for network $netname. Exiting."" exit 1 } function vm_nic_base { local vm_name=$1 # We start counting interfaces at 0, but VirtualBox starts NICs at 1 local nic=$(($2 + 1)) $VBM modifyvm ""$vm_name"" ""--nictype$nic"" ""$NICTYPE"" ""--nic$nic"" nat } function vm_nic_std { local vm_name=$1 local index=$2 # We start counting interfaces at 0, but VirtualBox starts NICs at 1 local nic=$((index + 1)) local netname=$(ip_to_netname ""${NODE_IF_IP[index]}"") local hostif=$(netname_to_hostif ""$netname"") $VBM modifyvm ""$vm_name"" \ ""--nictype$nic"" ""$NICTYPE"" \ ""--nic$nic"" hostonly \ ""--hostonlyadapter$nic"" ""$hostif"" \ ""--nicpromisc$nic"" allow-all } function vm_nic_set_boot_prio { local vm_name=$1 local index=$2 local prip=$3 # We start counting interfaces at 0, but VirtualBox starts NICs at 1 local nic=$((index + 1)) $VBM modifyvm ""$vm_name"" ""--nicbootprio$nic"" ""$3"" } function vm_create { # NOTE: We assume that a VM with a matching name is ours. # Remove and recreate just in case someone messed with it. local vm_name=$1 ${WBATCH:-:} wbatch_abort_if_vm_exists ""$vm_name"" # Don't write to wbatch scripts, and don't execute when we are faking it # it for wbatch WBATCH= ${OSBASH:-:} vm_delete ""$vm_name"" # XXX ostype is distro-specific; moving it to modifyvm disables networking # Note: The VirtualBox GUI may not notice group changes after VM creation # until GUI is restarted. Moving a VM with group membership will # fail in cases (lingering files from old VM) where creating a # VM in that location succeeds. # # XXX temporary hack # --groups not supported in VirtualBox 4.1 (Mac OS X 10.5) echo -e >&2 ""${CStatus:-}Creating VM ${CData:-}\""$vm_name\""${CReset:-}"" local ver=$(get_vb_version) if [[ $ver = 4.1* ]]; then $VBM createvm \ --name ""$vm_name"" \ --register \ --ostype ""$VBOX_OSTYPE"" >/dev/null else $VBM createvm \ --name ""$vm_name"" \ --register \ --ostype ""$VBOX_OSTYPE"" \ --groups ""/$VM_GROUP"" >/dev/null fi if WBATCH= $VBM showvminfo --machinereadable ""$vm_name"" | \ grep -q 'longmode=""off""'; then echo -e >&2 ""${CStatus:-}Nodes run 32-bit OS, enabling PAE.${CReset:-}"" # Ubuntu 14.04 LTS i386 needs PAE $VBM modifyvm ""$vm_name"" --pae on fi $VBM modifyvm ""$vm_name"" --rtcuseutc on $VBM modifyvm ""$vm_name"" --biosbootmenu disabled $VBM modifyvm ""$vm_name"" --largepages on $VBM modifyvm ""$vm_name"" --boot1 disk $VBM modifyvm ""$vm_name"" --boot3 net # XXX temporary hack # --portcount not supported in VirtualBox 4.1 (Mac OS X 10.5) if [[ $ver == 4.1* ]]; then $VBM storagectl ""$vm_name"" --name SATA --add sata else # Enough ports for three disks $VBM storagectl ""$vm_name"" --name SATA --add sata --portcount 3 fi $VBM storagectl ""$vm_name"" --name SATA --hostiocache on $VBM storagectl ""$vm_name"" --name IDE --add ide echo -e >&2 ""${CStatus:-}Created VM ${CData:-}\""$vm_name\""${CReset:-}"" } #------------------------------------------------------------------------------- # VM export #------------------------------------------------------------------------------- # Export node VMs to OVA package file function vm_export_ova { local ova_file=$1 local nodes=$2 echo >&2 ""Removing shared folders for export"" local -a share_paths local node for node in $nodes; do local share_path=$(vm_get_share_path ""$node"") share_paths+=(""$share_path"") if [ -n ""$share_path"" ]; then vm_rm_share ""$node"" ""$SHARE_NAME"" fi done rm -f ""$ova_file"" mkdir -pv ""$IMG_DIR"" $VBM export $nodes --output ""$ova_file"" echo >&2 ""Appliance exported"" echo >&2 ""Reattaching shared folders"" local ii=0 for node in $nodes; do if [ -n ""${share_paths[$ii]}"" ]; then vm_add_share ""$node"" ""${share_paths[$ii]}"" ""$SHARE_NAME"" fi ii=$((ii + 1)) done } # Export node VMs by cloning VMs to directory function vm_export_dir { local export_dir=$1 local nodes=$2 rm -rvf ""$export_dir"" for node in $nodes; do if vm_is_running ""$node""; then echo ""Powering off node VM $node."" echo ""$VBM controlvm $node poweroff"" $VBM controlvm ""$node"" poweroff fi sleep 1 local share_path=$(vm_get_share_path ""$node"") if [ -n ""$share_path"" ]; then echo >&2 ""Removing shared folder for export"" vm_rm_share ""$node"" ""$SHARE_NAME"" fi sleep 1 echo ""Exporting VM $node to $export_dir"" # Use all: machineandchildren works only if --snapshot is given as UUID $VBM clonevm ""$node"" \ --mode all \ --options keepallmacs,keepdisknames \ --name ""$node-e"" \ --groups ""/$VM_GROUP"" \ --basefolder ""$export_dir"" \ --register # VirtualBox registers disks and snapshots of the clone VM even if we # don't register the VM above. Unregistering the registered VM takes # care of the snapshots, but we still have to unregister the clone # basedisk. local snapshot_path=$(vm_get_disk_path ""$node-e"") local hd_dir=${snapshot_path%Snapshots/*} local hd_path=$hd_dir$(get_base_disk_name).vdi $VBM unregistervm ""$node-e"" if [ -n ""$hd_path"" ]; then disk_unregister ""$hd_path"" fi if [ -n ""$share_path"" ]; then echo >&2 ""Reattaching shared folder"" vm_add_share ""$node"" ""$share_path"" ""$SHARE_NAME"" fi done } #------------------------------------------------------------------------------- # VM unregister, remove, delete #------------------------------------------------------------------------------- function vm_unregister_del { local vm_name=$1 echo -e >&2 ""${CStatus:-}Unregistering and deleting VM ${CData:-}\""$vm_name\""${CReset:-}"" $VBM unregistervm ""$vm_name"" --delete } function vm_delete { local vm_name=$1 echo >&2 -n ""Asked to delete VM \""$vm_name\"" "" if vm_exists ""$vm_name""; then echo >&2 ""(found)"" vm_power_off ""$vm_name"" local hd_path=$(vm_get_disk_path ""$vm_name"") if [ -n ""$hd_path"" ]; then echo >&2 -e ""${CInfo:-}Disk attached: ${CData:-}$hd_path${CReset:-}"" vm_detach_disk ""$vm_name"" disk_unregister ""$hd_path"" echo >&2 -e ""Deleting: $hd_path"" rm -f ""$hd_path"" fi vm_unregister_del ""$vm_name"" else echo >&2 ""(not found)"" fi } # Remove VMs using disk and its children disks # disk can be either a path or a disk UUID function disk_delete_child_vms { local disk=$1 if ! disk_registered ""$disk""; then # VirtualBox doesn't know this disk; we are done echo >&2 -e ""${CError:-}Disk not registered with VirtualBox:\n\t${CData:-}$disk${CReset:-}"" return 0 fi # XXX temporary hack # No Child UUIDs through showhdinfo in VirtualBox 4.1 (Mac OS X 10.5) local ver=$(get_vb_version) if [[ $ver == 4.1* ]]; then local vm_name="""" for vm_name in controller network compute base; do vm_delete ""$vm_name"" done return 0 fi while : ; do local child_uuid=$(get_next_child_uuid ""$disk"") if [ -n ""$child_uuid"" ]; then local child_disk=$(disk_to_path ""$child_uuid"") echo >&2 -e ""\nChild disk UUID: $child_uuid\n\t$child_disk"" local vm_name=$(disk_to_vm ""$child_uuid"") if [ -n ""$vm_name"" ]; then echo 2>&1 -e ""\tstill attached to VM \""$vm_name\"""" vm_delete ""$vm_name"" else echo -e >&2 ""${CStatus:-}Unregistering and deleting: ${CData:-}$child_uuid${CReset:-}"" disk_unregister ""$child_uuid"" echo >&2 -e ""\t$child_disk"" rm -f ""$child_disk"" fi else break fi done } #------------------------------------------------------------------------------- # VM shared folders #------------------------------------------------------------------------------- # Return the host path for a VM's shared directory; assumes there is only one. function vm_get_share_path { local vm_name=$1 local line=$(WBATCH= $VBM showvminfo --machinereadable ""$vm_name"" | \ grep '^SharedFolderPathMachineMapping1=') local share_path=${line##SharedFolderPathMachineMapping1=\""} share_path=${share_path%\""} echo ""$share_path"" } function vm_add_share_automount { local vm_name=$1 local share_dir=$2 local share_name=$3 $VBM sharedfolder add ""$vm_name"" \ --name ""$share_name"" \ --hostpath ""$share_dir"" \ --automount } function vm_add_share { local vm_name=$1 local share_dir=$2 local share_name=$3 $VBM sharedfolder add ""$vm_name"" \ --name ""$share_name"" \ --hostpath ""$share_dir"" } function vm_rm_share { local vm_name=$1 local share_name=$2 $VBM sharedfolder remove ""$vm_name"" --name ""$share_name"" } #------------------------------------------------------------------------------- # VirtualBox guest add-ons #------------------------------------------------------------------------------- # Download VirtualBox guest-additions. Returns local path of ISO image. function _download_guestadd-iso { local iso=VBoxGuestAdditions.iso local ver=$(get_vb_version) if [[ -n ""$ver"" ]]; then local url=""http://download.virtualbox.org/virtualbox/$ver/VBoxGuestAdditions_$ver.iso"" download ""$url"" ""$ISO_DIR"" $iso fi echo ""$ISO_DIR/$iso"" } function _get_guestadd-iso { local iso=VBoxGuestAdditions.iso local add_iso=""$IMG_DIR/$iso"" if [ -f ""$add_iso"" ]; then echo ""$add_iso"" return 0 fi add_iso=""/Applications/VirtualBox.app/Contents/MacOS/$iso"" if [ -f ""$add_iso"" ]; then echo ""$add_iso"" return 0 fi echo >&2 ""Searching filesystem for VBoxGuestAdditions. This may take a while..."" add_iso=$(find / -name ""$iso"" 2>/dev/null) || true if [ -n ""$add_iso"" ]; then echo ""$add_iso"" return 0 fi echo >&2 ""Looking on the Internet"" add_iso=$(_download_guestadd-iso) if [ -f ""$add_iso"" ]; then echo ""$add_iso"" return 0 fi } function _vm_attach_guestadd-iso { local vm_name=$1 local guestadd_iso=$2 local rc=0 $VBM storageattach ""$vm_name"" --storagectl IDE --port 1 --device 0 --type dvddrive --medium ""$guestadd_iso"" 2>/dev/null || rc=$? return $rc } function vm_attach_guestadd-iso { local vm_name=$1 OSBASH= ${WBATCH:-:} _vm_attach_guestadd-iso ""$vm_name"" emptydrive OSBASH= ${WBATCH:-:} _vm_attach_guestadd-iso ""$vm_name"" additions # Return if we are just faking it for wbatch ${OSBASH:+:} return 0 if [ -z ""${GUESTADD_ISO-}"" ]; then # No location provided, asking VirtualBox for one # An existing drive is needed to make additions shortcut work # (at least VirtualBox 4.3.12 and below) WBATCH= _vm_attach_guestadd-iso ""$vm_name"" emptydrive if WBATCH= _vm_attach_guestadd-iso ""$vm_name"" additions; then echo >&2 ""Using VBoxGuestAdditions provided by VirtualBox"" return 0 fi # Neither user nor VirtualBox are helping, let's go guessing GUESTADD_ISO=$(_get_guestadd-iso) if [ -z ""GUESTADD_ISO"" ]; then # No ISO found return 2 fi fi if WBATCH= _vm_attach_guestadd-iso ""$vm_name"" ""$GUESTADD_ISO""; then echo >&2 ""Attached $GUESTADD_ISO"" return 0 else echo -e >&2 ""${CError:-}Failed to attach ${CData:-}$GUESTADD_ISO${CReset:-}"" return 3 fi } #------------------------------------------------------------------------------- # Booting a VM and passing boot parameters #------------------------------------------------------------------------------- source ""$OSBASH_LIB_DIR/virtualbox-keycodes.sh"" function _keyboard_push_scancode { local vm_name=$1 shift # Split string (e.g. '01 81') into arguments (works also if we # get each hexbyte as a separate argument) # Not quoting $@ is intentional -- we want to split on blanks local scan_code=( $@ ) $VBM controlvm ""$vm_name"" keyboardputscancode ""${scan_code[@]}"" } function vm_boot { local vm_name=$1 echo -e >&2 ""${CStatus:-}Starting VM ${CData:-}\""$vm_name\""${CReset:-}"" if [ -n ""${VM_UI:-}"" ]; then $VBM startvm ""$vm_name"" --type ""$VM_UI"" else $VBM startvm ""$vm_name"" fi } #------------------------------------------------------------------------------- # vim: set ai ts=4 sw=4 et ft=sh: ",11,21875
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I7096cb7f95b843b23424c3d7727d2a513bdca1dc,openstack/puppet-tripleo,stable/wallaby,I7096cb7f95b843b23424c3d7727d2a513bdca1dc,[Pure Storage] Add new params for FlashArray Cinder driver,ABANDONED,2021-11-12 15:06:23.000000000,2021-11-12 17:21:13.000000000,,[],"[{'number': 1, 'created': '2021-11-12 15:06:23.000000000', 'files': ['releasenotes/notes/pure_storage_update_cinder_params-94940d1d3ca46877.yaml', 'manifests/profile/base/cinder/volume/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cca6fa9bcb4a52c47a56d1b5a28a5e693a29ae20', 'message': '[Pure Storage] Add new params for FlashArray Cinder driver\n\nDepends-On: Ia05813d855da40165b9d213b20d6b13a05a3c3fb\nChange-Id: I7096cb7f95b843b23424c3d7727d2a513bdca1dc\n'}]",0,817773,cca6fa9bcb4a52c47a56d1b5a28a5e693a29ae20,2,0,1,13425,,,0,"[Pure Storage] Add new params for FlashArray Cinder driver

Depends-On: Ia05813d855da40165b9d213b20d6b13a05a3c3fb
Change-Id: I7096cb7f95b843b23424c3d7727d2a513bdca1dc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/817773/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_storage_update_cinder_params-94940d1d3ca46877.yaml', 'manifests/profile/base/cinder/volume/pure.pp']",2,cca6fa9bcb4a52c47a56d1b5a28a5e693a29ae20,," 'CinderPureAvailabilityZone' => hiera('cinder::backend::pure::backend_availability_zone', undef), 'CinderPureSanIp' => hiera('cinder::backend::pure::san_ip', undef), 'CinderPureAPIToken' => hiera('cinder::backend::pure::pure_api_token', undef), 'CinderPureStorageProtocol' => hiera('cinder::backend::pure::pure_storage_protocol', undef), 'CinderPureUseChap' => hiera('cinder::backend::pure::use_chap_auth', undef), 'CinderPureMultipathXfer' => hiera('cinder::backend::pure::use_multipath_for_image_xfer', undef), 'CinderPureImageCache' => hiera('cinder::backend::pure::image_volume_cache_enabled', undef), 'CinderPureIscsiCidr' => hiera('cinder::backend::pure::pure_iscsi_cidr', undef), 'CinderPureHostPersonality' => hiera('cinder::backend::pure::pure_host_personality', undef), 'CinderPureEradicateOnDelete' => hiera('cinder::backend::pure::pure_eradicate_on_delete', undef), pure_iscsi_cidr => $backend_config['CinderPureIscsiCidr'], pure_host_personality => $backend_config['CinderPureHostPersonality'], pure_eradicate_on_delete => $backend_config['CinderPureEradicateOnDelete'],"," 'CinderPureAvailabilityZone' => hiera('cinder::backend::pure::backend_availability_zone', undef), 'CinderPureSanIp' => hiera('cinder::backend::pure::san_ip', undef), 'CinderPureAPIToken' => hiera('cinder::backend::pure::pure_api_token', undef), 'CinderPureStorageProtocol' => hiera('cinder::backend::pure::pure_storage_protocol', undef), 'CinderPureUseChap' => hiera('cinder::backend::pure::use_chap_auth', undef), 'CinderPureMultipathXfer' => hiera('cinder::backend::pure::use_multipath_for_image_xfer', undef), 'CinderPureImageCache' => hiera('cinder::backend::pure::image_volume_cache_enabled', undef),",19,7
openstack%2Fpuppet-cinder~stable%2Fwallaby~Ia05813d855da40165b9d213b20d6b13a05a3c3fb,openstack/puppet-cinder,stable/wallaby,Ia05813d855da40165b9d213b20d6b13a05a3c3fb,[Pure Storage] Add new params for FlashArray Cinder backend,ABANDONED,2021-11-12 14:48:04.000000000,2021-11-12 17:20:41.000000000,,[{'_account_id': 21129}],"[{'number': 1, 'created': '2021-11-12 14:48:04.000000000', 'files': ['releasenotes/notes/purestorage_updated_params-b0f474d9ab08c37e.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c1e6ec75f0cafa74149f1ef667b706ea46c76e3a', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia05813d855da40165b9d213b20d6b13a05a3c3fb\n'}]",3,817765,c1e6ec75f0cafa74149f1ef667b706ea46c76e3a,5,1,1,13425,,,0,"[Pure Storage] Add new params for FlashArray Cinder backend

Change-Id: Ia05813d855da40165b9d213b20d6b13a05a3c3fb
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/65/817765/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/purestorage_updated_params-b0f474d9ab08c37e.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,c1e6ec75f0cafa74149f1ef667b706ea46c76e3a,add_pure_aprams,"# [*pure_host_personality*] # (Optional) Determines how the Purity system tunes the protocol used between # the array and the initiator. # Defaults to $::os_service_default # # [*pure_eradicate_on_delete*] # (Optional) Determines how the Purity system treates deleted volumes. # Whether to immeadiately eradicate on delete or leave for auto-eradication # in 24 hours # Defaults to $::os_service_default # # [*pure_iscsi_cidr*] # (Optional) Identifies which iSCSI network CIDR should be used for # iscsi connections to the FlashArray if the array is configured with # multiple iSCSI VLANs. # Defaults to $::os_service_default # $pure_host_personality = $::os_service_default, $pure_eradicate_on_delete = $::os_service_default, $pure_iscsi_cidr = $::os_service_default, ""${name}/pure_host_personality"": value => $pure_host_personality; ""${name}/pure_eradicate_on_delete"": value => $pure_eradicate_on_delete; ""${name}/pure_iscsi_cidr"": value => $pure_iscsi_cidr;",,46,0
openstack%2Freleases~master~I103160a0e21cdf9bad213cc9e6a2c7335e5c40a7,openstack/releases,master,I103160a0e21cdf9bad213cc9e6a2c7335e5c40a7,nova: Release Ussuri 21.2.4,MERGED,2021-11-09 15:09:40.000000000,2021-11-12 16:46:49.000000000,2021-11-12 16:46:49.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-09 15:09:40.000000000', 'files': ['deliverables/ussuri/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7f696c13c942a16c2f9fe9eb1fa1c6bd7a0fda86', 'message': ""nova: Release Ussuri 21.2.4\n\n$ git log --oneline --no-merges 21.2.3..HEAD\nb27f8e9adf [stable-only] Pin virtualenv and setuptools\nd0d7155457 Fix request path to query a resource provider by uuid\n35ec9357a1 Fix error that cannot overwrite policy rule for 'forced_host'\n\nChange-Id: I103160a0e21cdf9bad213cc9e6a2c7335e5c40a7\n""}]",1,817226,7f696c13c942a16c2f9fe9eb1fa1c6bd7a0fda86,9,4,1,17685,,,0,"nova: Release Ussuri 21.2.4

$ git log --oneline --no-merges 21.2.3..HEAD
b27f8e9adf [stable-only] Pin virtualenv and setuptools
d0d7155457 Fix request path to query a resource provider by uuid
35ec9357a1 Fix error that cannot overwrite policy rule for 'forced_host'

Change-Id: I103160a0e21cdf9bad213cc9e6a2c7335e5c40a7
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/817226/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/nova.yaml'],1,7f696c13c942a16c2f9fe9eb1fa1c6bd7a0fda86,, - version: 21.2.4 projects: - repo: openstack/nova hash: 6667fcb92bfaf03a8a274dc26806c137aace6b49,,4,0
openstack%2Fos-brick~stable%2Fxena~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/os-brick,stable/xena,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,MERGED,2021-11-12 05:46:58.000000000,2021-11-12 16:20:04.000000000,2021-11-12 16:17:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 05:46:58.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/19a4820f5c4ccca10d50d08198873b1515ee257b', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n""}]",1,817671,19a4820f5c4ccca10d50d08198873b1515ee257b,12,4,1,27615,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/71/817671/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/huawei.py']",9,19a4820f5c4ccca10d50d08198873b1515ee257b,external-locks-stable/xena," @synchronized('connect_volume', external=True) @synchronized('connect_volume', external=True)", @synchronized('connect_volume') @synchronized('connect_volume'),40,24
openstack%2Fhorizon~stable%2Fstein~I269130ab0852a682ee8ecdf60a1e481202bd21a7,openstack/horizon,stable/stein,I269130ab0852a682ee8ecdf60a1e481202bd21a7,Test stable/stein with tempest 24.0.0,ABANDONED,2021-10-20 17:02:08.000000000,2021-11-12 15:21:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-10-20 17:02:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8efc43019484ba8603110edab9cb7998ec65eeba', 'message': 'Test stable/stein with tempest 24.0.0\n\nFor every stable branch, Tempest as a range of versions\nto work[1] and we can pick either first supported\nor last supported version to test the specific EM stable\nbranch (when Tempest master is in not used).\n\nFor stable/stein, first supported version is Tempest 20.0.0\nand last supported verson is 26.0.0.\n\nTill now we used the last supported version and it was working\nfine until jsonschema latest release 4.0.0 has some incompatible\nchanges. Now we can say our upper constraints should protect us\nfrom this (like it protect in Tempest master case). But thing\nis little tricky here on whether we use the compatible constraints\nwith tempest 26.0.0. or not.\n\nCompatible constraints for Tempest 26.0.0 is stable/victoria constraints\n(the time tag 26.0.0 was cut) but we used stable/stein constraints with\ntempest 26.0.0 in stable/stein[2].\n\nWe should always use the compatible constraints and tag combination.\n\nWe have two option here to solve:\n\n1. Use Tempest 24.0.0 and compatible stable/stein constraints (this commit)\n2. Use Tempest 26.0.0 and compatible stable/victoria constraints\n\nI am going with the 1st approach as it is simple and 2nd approach need\nmodification in run-tempest roles etc.\n\nSame fix is done at devstack side for stable/stein gate fix\n- https://review.opendev.org/c/openstack/devstack/+/812092\n\nChange-Id: I269130ab0852a682ee8ecdf60a1e481202bd21a7\n'}]",4,814811,8efc43019484ba8603110edab9cb7998ec65eeba,7,2,1,8556,,,0,"Test stable/stein with tempest 24.0.0

For every stable branch, Tempest as a range of versions
to work[1] and we can pick either first supported
or last supported version to test the specific EM stable
branch (when Tempest master is in not used).

For stable/stein, first supported version is Tempest 20.0.0
and last supported verson is 26.0.0.

Till now we used the last supported version and it was working
fine until jsonschema latest release 4.0.0 has some incompatible
changes. Now we can say our upper constraints should protect us
from this (like it protect in Tempest master case). But thing
is little tricky here on whether we use the compatible constraints
with tempest 26.0.0. or not.

Compatible constraints for Tempest 26.0.0 is stable/victoria constraints
(the time tag 26.0.0 was cut) but we used stable/stein constraints with
tempest 26.0.0 in stable/stein[2].

We should always use the compatible constraints and tag combination.

We have two option here to solve:

1. Use Tempest 24.0.0 and compatible stable/stein constraints (this commit)
2. Use Tempest 26.0.0 and compatible stable/victoria constraints

I am going with the 1st approach as it is simple and 2nd approach need
modification in run-tempest roles etc.

Same fix is done at devstack side for stable/stein gate fix
- https://review.opendev.org/c/openstack/devstack/+/812092

Change-Id: I269130ab0852a682ee8ecdf60a1e481202bd21a7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/11/814811/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8efc43019484ba8603110edab9cb7998ec65eeba,," TEMPEST_BRANCH: ""24.0.0"""," TEMPEST_BRANCH: ""26.0.0""",1,1
openstack%2Freleases~master~Idb160198d52d3bc6b0fa00095b143b19a1f130eb,openstack/releases,master,Idb160198d52d3bc6b0fa00095b143b19a1f130eb,List cycle's releases with process_auto_release,MERGED,2021-09-17 09:55:24.000000000,2021-11-12 15:18:45.000000000,2021-11-12 15:18:45.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-17 09:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/356c4775101dc853e6e6f59be22a8f4c0c601628', 'message': ""List cycle's releases with process_auto_release\n\nWithout knowing which releases have been made within the given\nseries either we shoots in dark in choising the kind of release\n(bugfix, feature, major, etc...) or we need to check manually\nwhat are the existing versions. That's time consuming.\n\nThese changes simply display the current versions available in\nthe given series.\n\nChange-Id: Idb160198d52d3bc6b0fa00095b143b19a1f130eb\n""}, {'number': 2, 'created': '2021-09-17 09:56:45.000000000', 'files': ['tools/process_auto_releases.sh', 'openstack_releases/cmds/get_versions_on_series.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/releases/commit/6d7482db5b9d82ce9fc56747c18164ecb892de87', 'message': ""List cycle's releases with process_auto_release\n\nWithout knowing which releases have been made within the given\nseries either we shoots in dark in choising the kind of release\n(bugfix, feature, major, etc...) or we need to check manually\nwhat are the existing versions. That's time consuming.\n\nThese changes simply display the current versions available in\nthe given series.\n\nChange-Id: Idb160198d52d3bc6b0fa00095b143b19a1f130eb\n""}]",3,809623,6d7482db5b9d82ce9fc56747c18164ecb892de87,10,3,2,28522,,,0,"List cycle's releases with process_auto_release

Without knowing which releases have been made within the given
series either we shoots in dark in choising the kind of release
(bugfix, feature, major, etc...) or we need to check manually
what are the existing versions. That's time consuming.

These changes simply display the current versions available in
the given series.

Change-Id: Idb160198d52d3bc6b0fa00095b143b19a1f130eb
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/809623/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/process_auto_releases.sh', 'openstack_releases/cmds/get_versions_on_series.py', 'setup.cfg']",3,356c4775101dc853e6e6f59be22a8f4c0c601628,, get-versions-on-series = openstack_releases.cmds.get_versions_on_series:main,,46,0
openstack%2Freleases~master~Ia100592228ef511f1a9ec7da14ccf97a3cc905e9,openstack/releases,master,Ia100592228ef511f1a9ec7da14ccf97a3cc905e9,python-openstackclient 5.7.0,MERGED,2021-11-10 15:33:11.000000000,2021-11-12 15:04:38.000000000,2021-11-12 15:04:38.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-10 15:33:11.000000000', 'files': ['deliverables/yoga/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c42e35f369482114f016ee95e457a2ad6b94b8fc', 'message': 'python-openstackclient 5.7.0\n\nEnough has built up here to warrant a new release.\n\nChange-Id: Ia100592228ef511f1a9ec7da14ccf97a3cc905e9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,817448,c42e35f369482114f016ee95e457a2ad6b94b8fc,9,4,1,15334,,,0,"python-openstackclient 5.7.0

Enough has built up here to warrant a new release.

Change-Id: Ia100592228ef511f1a9ec7da14ccf97a3cc905e9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/817448/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-openstackclient.yaml'],1,c42e35f369482114f016ee95e457a2ad6b94b8fc,python-openstackclient,releases: - version: 5.7.0 projects: - repo: openstack/python-openstackclient hash: 163cb01e46fc3f906154a7045fdbe9342cd446c7,,5,0
openstack%2Freleases~master~I041644fd7f2db80b712e4b7429aa04813b0202cd,openstack/releases,master,I041644fd7f2db80b712e4b7429aa04813b0202cd,Release OpenStack-Ansible Ussuri,MERGED,2021-11-11 17:35:21.000000000,2021-11-12 15:04:33.000000000,2021-11-12 15:04:33.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-11 17:35:21.000000000', 'files': ['deliverables/ussuri/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/db8c770ea0e0c878d00303bd655aaea21f7238b4', 'message': 'Release OpenStack-Ansible Ussuri\n\nChange-Id: I041644fd7f2db80b712e4b7429aa04813b0202cd\n'}]",0,817619,db8c770ea0e0c878d00303bd655aaea21f7238b4,8,3,1,28619,,,0,"Release OpenStack-Ansible Ussuri

Change-Id: I041644fd7f2db80b712e4b7429aa04813b0202cd
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/817619/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstack-ansible.yaml'],1,db8c770ea0e0c878d00303bd655aaea21f7238b4,release_osa, - version: 21.2.11 projects: - repo: openstack/openstack-ansible hash: 766e477968d48b03ddb325c27b6bbb7d70e9feef,,4,0
openstack%2Ftripleo-ansible~master~I9016045b10506e20220059f87eca18f297ab8ec9,openstack/tripleo-ansible,master,I9016045b10506e20220059f87eca18f297ab8ec9,"Revert ""Add the MTU size to ping to catch network issues""",ABANDONED,2021-11-09 16:01:12.000000000,2021-11-12 14:56:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-09 16:01:12.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d448f0ce620080dceedf24872a7322ba20515967', 'message': 'Revert ""Add the MTU size to ping to catch network issues""\n\nThis reverts commit c3e7f7d889eb9876d3a9ad19dac35cb4e618e676.\n\nChange-Id: I9016045b10506e20220059f87eca18f297ab8ec9\n'}]",1,817248,d448f0ce620080dceedf24872a7322ba20515967,5,3,1,7130,,,0,"Revert ""Add the MTU size to ping to catch network issues""

This reverts commit c3e7f7d889eb9876d3a9ad19dac35cb4e618e676.

Change-Id: I9016045b10506e20220059f87eca18f297ab8ec9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/817248/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",2,d448f0ce620080dceedf24872a7322ba20515967,mtu4," command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -c 1 {{ controller }}"" retries: 10 delay: 60 changed_when: false", include_tasks: ping.yml,4,41
openstack%2Fopenstack-ansible~master~I646120b8fcaf27c1453e65bba7962ff9c35b608e,openstack/openstack-ansible,master,I646120b8fcaf27c1453e65bba7962ff9c35b608e,Bump ansible and collection versions,MERGED,2021-11-10 09:57:42.000000000,2021-11-12 14:27:28.000000000,2021-11-12 14:24:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-11-10 09:57:42.000000000', 'files': ['ansible-collection-requirements.yml', 'global-requirement-pins.txt', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e4fffec97f60f466c3e21240e1eb4f2c39b35b8', 'message': 'Bump ansible and collection versions\n\nChange-Id: I646120b8fcaf27c1453e65bba7962ff9c35b608e\n'}]",1,817375,3e4fffec97f60f466c3e21240e1eb4f2c39b35b8,12,3,1,28619,,,0,"Bump ansible and collection versions

Change-Id: I646120b8fcaf27c1453e65bba7962ff9c35b608e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/817375/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'global-requirement-pins.txt', 'scripts/bootstrap-ansible.sh']",3,3e4fffec97f60f466c3e21240e1eb4f2c39b35b8,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.11.6""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible-core==2.11.5""}",7,7
openstack%2Fpuppet-placement~master~I6d81a14fb6842458e763dbd5ce494697768407c0,openstack/puppet-placement,master,I6d81a14fb6842458e763dbd5ce494697768407c0,update file name for apache config on Debian,MERGED,2021-11-09 15:52:47.000000000,2021-11-12 14:17:03.000000000,2021-11-12 14:17:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 15:52:47.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/467c0b0a4da61826d72e3af8f781b010ad519feb', 'message': 'update file name for apache config on Debian\n\nThe newer placement-api package on Debian and Ubuntu uses the\nupdated file location.\n\nCloses-Bug: #1950338\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\nChange-Id: I6d81a14fb6842458e763dbd5ce494697768407c0\n'}]",1,817244,467c0b0a4da61826d72e3af8f781b010ad519feb,8,3,1,33634,,,0,"update file name for apache config on Debian

The newer placement-api package on Debian and Ubuntu uses the
updated file location.

Closes-Bug: #1950338
Signed-off-by: Jan Hartkopf <jhartkopf@inovex.de>
Change-Id: I6d81a14fb6842458e763dbd5ce494697768407c0
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/44/817244/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,467c0b0a4da61826d72e3af8f781b010ad519feb,bug/1950338, $httpd_config_file = '/etc/apache2/sites-available/placement-api.conf', $httpd_config_file = '/etc/apache2/sites-available/nova-placement-api.conf',1,1
openstack%2Freleases~master~I71e79d8a544b368f83ec3f8f6f3f967f3075d8e8,openstack/releases,master,I71e79d8a544b368f83ec3f8f6f3f967f3075d8e8,Release neutron-lib 2.17.0,MERGED,2021-11-10 08:14:08.000000000,2021-11-12 14:06:18.000000000,2021-11-12 14:06:18.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 08:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0b0653d0c7d57cd7f07a23f338c903a9f8cdae0a', 'message': 'Release neutron-lib 2.17.0\n\nIncluded commits:\n1d4da16 Add Local IP constants needed for policy checks\n6386995 Move QosPlacementAllocationUpdateConflict to neutron-lib\nd5195d8 Addition of status and name field to bgp_associations API\n44de255 Add qos-pps-minimum-rule-alias api-def and api-ref\nd126257 BFD validator\n65e188e Add binding-profile.allocation converter\ne1534b6 [Doc] Update callbacks guide\n916326d Add API extension ""security-groups-shared-filtering""\n\nChange-Id: I71e79d8a544b368f83ec3f8f6f3f967f3075d8e8\n'}, {'number': 2, 'created': '2021-11-12 10:03:33.000000000', 'files': ['deliverables/yoga/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8219ea60909d8838df5c47b3358d9bb22e2d515c', 'message': 'Release neutron-lib 2.17.0\n\nIncluded commits:\n1d4da16 Add Local IP constants needed for policy checks\n6386995 Move QosPlacementAllocationUpdateConflict to neutron-lib\nd5195d8 Addition of status and name field to bgp_associations API\n44de255 Add qos-pps-minimum-rule-alias api-def and api-ref\nd126257 BFD validator\n65e188e Add binding-profile.allocation converter\ne1534b6 [Doc] Update callbacks guide\n916326d Add API extension ""security-groups-shared-filtering""\n\nChange-Id: I71e79d8a544b368f83ec3f8f6f3f967f3075d8e8\n'}]",4,817359,8219ea60909d8838df5c47b3358d9bb22e2d515c,15,8,2,8313,,,0,"Release neutron-lib 2.17.0

Included commits:
1d4da16 Add Local IP constants needed for policy checks
6386995 Move QosPlacementAllocationUpdateConflict to neutron-lib
d5195d8 Addition of status and name field to bgp_associations API
44de255 Add qos-pps-minimum-rule-alias api-def and api-ref
d126257 BFD validator
65e188e Add binding-profile.allocation converter
e1534b6 [Doc] Update callbacks guide
916326d Add API extension ""security-groups-shared-filtering""

Change-Id: I71e79d8a544b368f83ec3f8f6f3f967f3075d8e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/817359/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/neutron-lib.yaml'],1,0b0653d0c7d57cd7f07a23f338c903a9f8cdae0a,neutron_lib_2170, - version: 2.17.0 projects: - repo: openstack/neutron-lib hash: 1d4da16374ff378543f03d85dbf5d564c8f38391,,4,0
openstack%2Fbarbican~stable%2Fxena~I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1,openstack/barbican,stable/xena,I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1,Fix consumer name length validator,MERGED,2021-11-12 01:37:01.000000000,2021-11-12 13:52:15.000000000,2021-11-12 13:50:04.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 01:37:01.000000000', 'files': ['barbican/common/validators.py', 'releasenotes/notes/fix-story-2009672-d64ef6c10444f517.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/059b4a080a40553dbba02b0f838cc33cacf5d44b', 'message': 'Fix consumer name length validator\n\nThis patch fixes a mismatch between the size of the column for a\nconsumer ""name"" in the database and the value being checked by the api\nvalidator.\n\nThe maximum size in the database is 36 chars [1], so we must use that value\nin the validator.\n\n[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826\n\nStory: 2009672\nTask: 43934\n\nChange-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1\n(cherry picked from commit 31aa926175b62b347593acb8b147810b4b49b9de)\n'}]",0,817670,059b4a080a40553dbba02b0f838cc33cacf5d44b,9,2,1,7973,,,0,"Fix consumer name length validator

This patch fixes a mismatch between the size of the column for a
consumer ""name"" in the database and the value being checked by the api
validator.

The maximum size in the database is 36 chars [1], so we must use that value
in the validator.

[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826

Story: 2009672
Task: 43934

Change-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1
(cherry picked from commit 31aa926175b62b347593acb8b147810b4b49b9de)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/70/817670/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/validators.py', 'releasenotes/notes/fix-story-2009672-d64ef6c10444f517.yaml']",2,059b4a080a40553dbba02b0f838cc33cacf5d44b,story/2009672,--- fixes: - | Fixed Story #2009672 - Fixed validator for Container Consumers to prevent 500 errors. ,,7,2
openstack%2Freleases~master~I07da177f9ecd35fecdc6f01e718a6200614f2964,openstack/releases,master,I07da177f9ecd35fecdc6f01e718a6200614f2964,Final Ussuri release for networking projects,MERGED,2021-11-10 10:16:35.000000000,2021-11-12 13:47:17.000000000,2021-11-12 13:47:17.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-10 10:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b9b88f275eba5b74352d0a7016e191a7090d88d3', 'message': 'Final Ussuri release for networking projects\n\nChange-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964\n'}, {'number': 2, 'created': '2021-11-11 08:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9d42fc7b4745503a8daa457327633cfbb14ae76c', 'message': 'Final Ussuri release for networking projects\n\nChange-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964\n'}, {'number': 3, 'created': '2021-11-12 10:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4b24c386465521f7562bbcdfc0c5472f3f40f690', 'message': 'Final Ussuri release for networking projects\n\nChange-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964\n'}, {'number': 4, 'created': '2021-11-12 10:44:28.000000000', 'files': ['deliverables/ussuri/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4590c998dcfaecf16d6a6b50c206e81ea184dadb', 'message': 'Final Ussuri release for networking projects\n\nChange-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964\n'}]",13,817381,4590c998dcfaecf16d6a6b50c206e81ea184dadb,28,9,4,8313,,,0,"Final Ussuri release for networking projects

Change-Id: I07da177f9ecd35fecdc6f01e718a6200614f2964
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/817381/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/networking-odl.yaml', 'deliverables/ussuri/networking-bgpvpn.yaml', 'deliverables/ussuri/neutron-dynamic-routing.yaml', 'deliverables/ussuri/neutron-vpnaas.yaml', 'deliverables/ussuri/neutron.yaml']",5,b9b88f275eba5b74352d0a7016e191a7090d88d3,neutron_final_ussuri, - version: 16.4.2 projects: - repo: openstack/neutron hash: 1a54650d484b222c22124b91288a71660352e93a,,20,0
openstack%2Fheat~master~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,master,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2021-11-03 23:07:37.000000000,2021-11-12 13:46:21.000000000,2021-11-12 13:43:25.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-03 23:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8bcb596a9c99e2710518d6388b26c1bd54d322a0', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 2, 'created': '2021-11-03 23:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 3, 'created': '2021-11-04 01:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/acad26b5123a6a52b784d8da3435101146dc7f29', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/816601\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 4, 'created': '2021-11-11 03:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4db90bfbba5ecd7106768d9b5cea12ac46d986e4', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nAlso, use endpoint_type when creating keystoneclient\n\nKeystone admin endpoint has been removed from devstack with[1].\nThis would use the public endpoint by default.\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/816601\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 5, 'created': '2021-11-11 07:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/16da43cced21e4d6c89e96301b2b10d37a4fd2cb', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nAlso, use endpoint_type when creating keystoneclient\n\nKeystone admin endpoint has been removed from devstack with[1].\nThis would use the public endpoint by default.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 6, 'created': '2021-11-12 09:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba615d80806160e5d028bea3b0df634b1e954068', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nAlso, use endpoint_type when creating keystoneclient\n\nKeystone admin endpoint has been removed from devstack with[1].\nThis would use the public endpoint by default.\n\nAlso, bans SQLAlchemy 1.4.27 which breaks docs build.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 7, 'created': '2021-11-12 10:02:56.000000000', 'files': ['heat/tests/clients/test_heat_client.py', 'devstack/lib/heat', 'heat/db/sqlalchemy/types.py', 'heat_integrationtests/common/clients.py', 'tox.ini', 'heat/engine/clients/os/keystone/heat_keystoneclient.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bf9186a37e77cb105fd50b4dc2cb89a2556037cc', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nAlso, use endpoint_type when creating keystoneclient\n\nKeystone admin endpoint has been removed from devstack with[1].\nThis would use the public endpoint by default.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}]",16,816592,bf9186a37e77cb105fd50b4dc2cb89a2556037cc,57,7,7,7118,,,0,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

Also, use endpoint_type when creating keystoneclient

Keystone admin endpoint has been removed from devstack with[1].
This would use the public endpoint by default.

Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
",git fetch https://review.opendev.org/openstack/heat refs/changes/92/816592/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,8bcb596a9c99e2710518d6388b26c1bd54d322a0,fedora-33-mirror," # NOTE(ianw) OpenDev infra only keeps the latest two Fedora's # around; prefer the mirror but allow fallback HEAT_TEST_FEDORA_IMAGE_UPSTREAM=https://download.fedoraproject.org/pub/fedora/linux HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 if curl --output /dev/null --silent --head --fail ""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then export HEAT_TEST_FEDORA_IMAGE=""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" else export HEAT_TEST_FEDORA_IMAGE=""${TEST_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" fi", export HEAT_TEST_FEDORA_IMAGE=${NODEPOOL_FEDORA_MIRROR:-https://download.fedoraproject.org/pub/fedora/linux}/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2,10,1
openstack%2Freleases~master~I59e77ecf565becd8e3ca40dff1724de3b77f83b4,openstack/releases,master,I59e77ecf565becd8e3ca40dff1724de3b77f83b4,Release Tempest 29.2.0,MERGED,2021-11-10 13:19:18.000000000,2021-11-12 13:37:17.000000000,2021-11-12 13:37:17.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-11-10 13:19:18.000000000', 'files': ['deliverables/yoga/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/040c7722074e3e6579f45aaad6626f10bc52c4c3', 'message': 'Release Tempest 29.2.0\n\nAdd intermediate release for Tempest Yoga which includes new OpenStack\nclient required for neutron-tempest-plugin\n\nChange-Id: I59e77ecf565becd8e3ca40dff1724de3b77f83b4\n'}]",6,817401,040c7722074e3e6579f45aaad6626f10bc52c4c3,13,6,1,9708,,,0,"Release Tempest 29.2.0

Add intermediate release for Tempest Yoga which includes new OpenStack
client required for neutron-tempest-plugin

Change-Id: I59e77ecf565becd8e3ca40dff1724de3b77f83b4
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/817401/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/tempest.yaml'],1,040c7722074e3e6579f45aaad6626f10bc52c4c3,tempest, - version: 29.2.0 projects: - repo: openstack/tempest hash: ed89c77222917235290c8cc51974835528ed4cfa,,4,0
openstack%2Fos-brick~master~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/os-brick,master,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,MERGED,2021-10-15 12:55:14.000000000,2021-11-12 12:34:13.000000000,2021-11-12 05:29:52.000000000,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-10-15 12:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/58cf44a2f5426f36fb2d295c404258c34a0d7211', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n""}, {'number': 2, 'created': '2021-10-15 16:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b321b592a649d26e7d4ec933f87ec5ec8b928f2c', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n""}, {'number': 3, 'created': '2021-10-28 08:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8d4a1fa41c3d220299d82a817d86fe5744d9c83b', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n""}, {'number': 4, 'created': '2021-10-28 08:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e46cad6e536036c71bcd3d1900df0d6fdeaa92c0', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n""}, {'number': 5, 'created': '2021-11-11 14:52:27.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n""}]",12,814139,6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7,98,6,5,9535,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/39/814139/5 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py']",6,58cf44a2f5426f36fb2d295c404258c34a0d7211,external-locks," @synchronized('connect_volume', external=True) @synchronized('connect_volume', external=True)", @synchronized('connect_volume') @synchronized('connect_volume'),24,22
openstack%2Foslo.db~master~Ie0acba4a315c85ec7236e44a22449e0ad920ca9b,openstack/oslo.db,master,Ie0acba4a315c85ec7236e44a22449e0ad920ca9b,Replace use of Executable.execute method,MERGED,2021-07-27 17:30:19.000000000,2021-11-12 12:24:29.000000000,2021-11-12 12:20:49.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/20ab6c380f1db0abc69cdd42c15a8f6e996b8521', 'message': 'Replace use of Executable.execute method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Executable.execute() method is considered legacy as of the 1.x\n  series of SQLAlchemy and will be removed in 2.0. All statement\n  execution in SQLAlchemy 2.0 is performed by the Connection.execute()\n  method of Connection, or in the ORM by the Session.execute() method of\n  Session.\n\nChange-Id: Ie0acba4a315c85ec7236e44a22449e0ad920ca9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e9fc6a0eaa0a99c5d70dffca292cbe2ec225019c', 'message': 'Replace use of Executable.execute method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Executable.execute() method is considered legacy as of the 1.x\n  series of SQLAlchemy and will be removed in 2.0. All statement\n  execution in SQLAlchemy 2.0 is performed by the Connection.execute()\n  method of Connection, or in the ORM by the Session.execute() method of\n  Session.\n\nChange-Id: Ie0acba4a315c85ec7236e44a22449e0ad920ca9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/471eb88d2790e95d564b448002c2465f68f2e041', 'message': 'Replace use of Executable.execute method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Executable.execute() method is considered legacy as of the 1.x\n  series of SQLAlchemy and will be removed in 2.0. All statement\n  execution in SQLAlchemy 2.0 is performed by the Connection.execute()\n  method of Connection, or in the ORM by the Session.execute() method of\n  Session.\n\nChange-Id: Ie0acba4a315c85ec7236e44a22449e0ad920ca9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9659ec980cc8973d4c00e12f1a5c9e2781d7c8b3', 'message': 'Replace use of Executable.execute method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Executable.execute() method is considered legacy as of the 1.x\n  series of SQLAlchemy and will be removed in 2.0. All statement\n  execution in SQLAlchemy 2.0 is performed by the Connection.execute()\n  method of Connection, or in the ORM by the Session.execute() method of\n  Session.\n\nChange-Id: Ie0acba4a315c85ec7236e44a22449e0ad920ca9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/62d77fc6df9bf27a334613d42a2ffa14c9711928', 'message': 'Replace use of Executable.execute method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Executable.execute() method is considered legacy as of the 1.x\n  series of SQLAlchemy and will be removed in 2.0. All statement\n  execution in SQLAlchemy 2.0 is performed by the Connection.execute()\n  method of Connection, or in the ORM by the Session.execute() method of\n  Session.\n\nChange-Id: Ie0acba4a315c85ec7236e44a22449e0ad920ca9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,802583,62d77fc6df9bf27a334613d42a2ffa14c9711928,18,4,5,15334,,,0,"Replace use of Executable.execute method

Resolve the following RemovedIn20Warning warning:

  The Executable.execute() method is considered legacy as of the 1.x
  series of SQLAlchemy and will be removed in 2.0. All statement
  execution in SQLAlchemy 2.0 is performed by the Connection.execute()
  method of Connection, or in the ORM by the Session.execute() method of
  Session.

Change-Id: Ie0acba4a315c85ec7236e44a22449e0ad920ca9b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/83/802583/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/fixtures.py']",2,20ab6c380f1db0abc69cdd42c15a8f6e996b8521,sqlalchemy-20,," message=r'The Executable.execute\(\) method is considered .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",71,63
openstack%2Foslo.db~master~I0f8f358a49a83366d7dec17e7bac346453f3027b,openstack/oslo.db,master,I0f8f358a49a83366d7dec17e7bac346453f3027b,Configure driver for postgres,MERGED,2021-09-24 11:10:51.000000000,2021-11-12 12:22:44.000000000,2021-11-12 12:20:38.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-24 11:10:51.000000000', 'files': ['oslo_db/sqlalchemy/provision.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8360df736d377d02cb7f22e6c32c10295476086b', 'message': ""Configure driver for postgres\n\nAvoid the following warning seen in e.g. nova unit tests:\n\n  WARNING oslo_db.sqlalchemy.engines [-] URL postgresql://.../foo does\n  not contain a '+drivername' portion, and will make use of a default\n  driver.\n  A full dbname+drivername:// protocol is recommended.\n\nThe 'psycopg2' driver is chosen since this is the default for SQLAlchemy\n[1] and therefore what we're currently using.\n\n[1] https://docs.sqlalchemy.org/en/14/core/engines.html#postgresql\n\nChange-Id: I0f8f358a49a83366d7dec17e7bac346453f3027b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,810854,8360df736d377d02cb7f22e6c32c10295476086b,9,4,1,15334,,,0,"Configure driver for postgres

Avoid the following warning seen in e.g. nova unit tests:

  WARNING oslo_db.sqlalchemy.engines [-] URL postgresql://.../foo does
  not contain a '+drivername' portion, and will make use of a default
  driver.
  A full dbname+drivername:// protocol is recommended.

The 'psycopg2' driver is chosen since this is the default for SQLAlchemy
[1] and therefore what we're currently using.

[1] https://docs.sqlalchemy.org/en/14/core/engines.html#postgresql

Change-Id: I0f8f358a49a83366d7dec17e7bac346453f3027b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/54/810854/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/provision.py'],1,8360df736d377d02cb7f22e6c32c10295476086b,trivial," return ""postgresql+psycopg2://openstack_citest:openstack_citest@localhost/postgres"" # noqa: E501"," return ""postgresql://openstack_citest:openstack_citest""\ ""@localhost/postgres""",1,2
openstack%2Fpuppet-heat~master~I046b32f01eb73e6989b3b18390e4103aab970554,openstack/puppet-heat,master,I046b32f01eb73e6989b3b18390e4103aab970554,aph/api_cfn: Clear the related parameters when ssl is disabled,MERGED,2021-11-10 13:47:32.000000000,2021-11-12 12:21:25.000000000,2021-11-12 12:21:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/16a55a3152d3e39e48810a9fdb44fa9a12ba443e', 'message': 'aph/api_cfn: Clear the related parameters when ssl is disabled\n\n... instead of leaving these parameters unmanaged.\n\nChange-Id: I046b32f01eb73e6989b3b18390e4103aab970554\n'}, {'number': 2, 'created': '2021-11-10 23:13:37.000000000', 'files': ['manifests/api.pp', 'spec/classes/heat_api_cfn_spec.rb', 'manifests/api_cfn.pp', 'spec/classes/heat_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/8645f8d70cbe3995563d65de03ff6f5970f53c93', 'message': 'aph/api_cfn: Clear the related parameters when ssl is disabled\n\n... instead of leaving these parameters unmanaged.\n\nChange-Id: I046b32f01eb73e6989b3b18390e4103aab970554\n'}]",0,817409,8645f8d70cbe3995563d65de03ff6f5970f53c93,9,3,2,9816,,,0,"aph/api_cfn: Clear the related parameters when ssl is disabled

... instead of leaving these parameters unmanaged.

Change-Id: I046b32f01eb73e6989b3b18390e4103aab970554
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/09/817409/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/heat_api_cfn_spec.rb', 'manifests/api_cfn.pp', 'spec/classes/heat_api_spec.rb']",4,16a55a3152d3e39e48810a9fdb44fa9a12ba443e,clear-ssl-params, it { is_expected.to contain_heat_config('heat_api/cert_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_heat_config('heat_api/key_file').with_value('<SERVICE DEFAYLT>') },,14,0
openstack%2Foslo.db~master~I50469e58fe3fae695316cb344fea44ec18fffe60,openstack/oslo.db,master,I50469e58fe3fae695316cb344fea44ec18fffe60,Remove unnecessary warning filter,MERGED,2021-07-27 17:30:19.000000000,2021-11-12 12:20:47.000000000,2021-11-12 12:20:47.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9280e726730d2c22b6eeedc7c9dab4dc57b4e4dd', 'message': 'Remove unnecessary warning filter\n\nLooks like we solved this along the way.\n\nChange-Id: I50469e58fe3fae695316cb344fea44ec18fffe60\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3346d87187afc3d02decc30b550aa14d364f9677', 'message': 'Remove unnecessary warning filter\n\nLooks like we solved this along the way.\n\nChange-Id: I50469e58fe3fae695316cb344fea44ec18fffe60\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2fb4a5aa6aaa7d98861a9ae735c69f850a1f7f08', 'message': 'Remove unnecessary warning filter\n\nLooks like we solved this along the way.\n\nChange-Id: I50469e58fe3fae695316cb344fea44ec18fffe60\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/26d30ec7303c3bef86c4135b77f06cee7295ad03', 'message': 'Remove unnecessary warning filter\n\nLooks like we solved this along the way.\n\nChange-Id: I50469e58fe3fae695316cb344fea44ec18fffe60\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c320df474636ac22e9e778b1cce8975afae8100c', 'message': 'Remove unnecessary warning filter\n\nLooks like we solved this along the way.\n\nChange-Id: I50469e58fe3fae695316cb344fea44ec18fffe60\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802582,c320df474636ac22e9e778b1cce8975afae8100c,17,4,5,15334,,,0,"Remove unnecessary warning filter

Looks like we solved this along the way.

Change-Id: I50469e58fe3fae695316cb344fea44ec18fffe60
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/82/802582/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/tests/fixtures.py'],1,9280e726730d2c22b6eeedc7c9dab4dc57b4e4dd,sqlalchemy-20,," message=r'Retrieving row members using strings or other .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",0,5
openstack%2Foslo.db~master~Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d,openstack/oslo.db,master,Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d,Replace use of Engine.scalar(),MERGED,2021-07-27 17:30:19.000000000,2021-11-12 12:20:45.000000000,2021-11-12 12:20:45.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5743f8c1ecb933580a76ddf2d365c973f5be6d51', 'message': 'Replace use of Engine.scalar()\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.scalar() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session;\n  the Result.scalar() method can then be used to return a scalar result.\n\nChange-Id: Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c66ae42aec4b6f1209f70209ee58eeea7611faa6', 'message': 'Replace use of Engine.scalar()\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.scalar() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session;\n  the Result.scalar() method can then be used to return a scalar result.\n\nChange-Id: Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f7a9143e5d6afcf4430f465ac6aefcc228093356', 'message': 'Replace use of Engine.scalar()\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.scalar() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session;\n  the Result.scalar() method can then be used to return a scalar result.\n\nChange-Id: Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7b18b0284b75c28d67502e5c95592dc550f46cef', 'message': 'Replace use of Engine.scalar()\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.scalar() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session;\n  the Result.scalar() method can then be used to return a scalar result.\n\nChange-Id: Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/fadc0ef9022a360016d2e9af756fb93c9c308467', 'message': 'Replace use of Engine.scalar()\n\nResolve the following RemovedIn20Warning warning:\n\n  The Engine.scalar() method is considered legacy as of the 1.x series\n  of SQLAlchemy and will be removed in 2.0. All statement execution in\n  SQLAlchemy 2.0 is performed by the Connection.execute() method of\n  Connection, or in the ORM by the Session.execute() method of Session;\n  the Result.scalar() method can then be used to return a scalar result.\n\nChange-Id: Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,802581,fadc0ef9022a360016d2e9af756fb93c9c308467,17,4,5,15334,,,0,"Replace use of Engine.scalar()

Resolve the following RemovedIn20Warning warning:

  The Engine.scalar() method is considered legacy as of the 1.x series
  of SQLAlchemy and will be removed in 2.0. All statement execution in
  SQLAlchemy 2.0 is performed by the Connection.execute() method of
  Connection, or in the ORM by the Session.execute() method of Session;
  the Result.scalar() method can then be used to return a scalar result.

Change-Id: Ic3c9c5bb008b6299f2ed9a59bda0329fab9d554d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/81/802581/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",3,5743f8c1ecb933580a76ddf2d365c973f5be6d51,sqlalchemy-20,," warnings.filterwarnings( 'once', message=r'The Engine.scalar\(\) method is considered legacy .*', category=sqla_exc.SADeprecationWarning) ",12,12
openstack%2Foslo.db~master~I647a57909df56fec7b570ae29efbc731126df14d,openstack/oslo.db,master,I647a57909df56fec7b570ae29efbc731126df14d,Don't use the 'Row.keys()' method,MERGED,2021-07-27 17:30:19.000000000,2021-11-12 12:20:42.000000000,2021-11-12 12:20:42.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a30ca84ec5f159e41de6b9948306189dde4db2ec', 'message': ""Don't use the 'Row.keys()' method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Row.keys() method is considered legacy as of the 1.x series of\n  SQLAlchemy and will be removed in 2.0. Use the namedtuple standard\n  accessor Row._fields, or for full mapping behavior use\n  row._mapping.keys()\n\nChange-Id: I647a57909df56fec7b570ae29efbc731126df14d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8f259eb2ea58442bb610180cfeb658ecd7d956ad', 'message': ""Don't use the 'Row.keys()' method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Row.keys() method is considered legacy as of the 1.x series of\n  SQLAlchemy and will be removed in 2.0. Use the namedtuple standard\n  accessor Row._fields, or for full mapping behavior use\n  row._mapping.keys()\n\nChange-Id: I647a57909df56fec7b570ae29efbc731126df14d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d07a437173a6abbab575b5b31cca10b0efdca672', 'message': ""Don't use the 'Row.keys()' method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Row.keys() method is considered legacy as of the 1.x series of\n  SQLAlchemy and will be removed in 2.0. Use the namedtuple standard\n  accessor Row._fields, or for full mapping behavior use\n  row._mapping.keys()\n\nChange-Id: I647a57909df56fec7b570ae29efbc731126df14d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5018ffbcc3afbc26fda4ffb8ffc908e466c5f837', 'message': ""Don't use the 'Row.keys()' method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Row.keys() method is considered legacy as of the 1.x series of\n  SQLAlchemy and will be removed in 2.0. Use the namedtuple standard\n  accessor Row._fields, or for full mapping behavior use\n  row._mapping.keys()\n\nChange-Id: I647a57909df56fec7b570ae29efbc731126df14d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8772fcc349226b152e8a04a8ed3e883231412043', 'message': ""Don't use the 'Row.keys()' method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Row.keys() method is considered legacy as of the 1.x series of\n  SQLAlchemy and will be removed in 2.0. Use the namedtuple standard\n  accessor Row._fields, or for full mapping behavior use\n  row._mapping.keys()\n\nChange-Id: I647a57909df56fec7b570ae29efbc731126df14d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,802580,8772fcc349226b152e8a04a8ed3e883231412043,16,4,5,15334,,,0,"Don't use the 'Row.keys()' method

Resolve the following RemovedIn20Warning warning:

  The Row.keys() method is considered legacy as of the 1.x series of
  SQLAlchemy and will be removed in 2.0. Use the namedtuple standard
  accessor Row._fields, or for full mapping behavior use
  row._mapping.keys()

Change-Id: I647a57909df56fec7b570ae29efbc731126df14d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/80/802580/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/fixtures.py']",2,a30ca84ec5f159e41de6b9948306189dde4db2ec,sqlalchemy-20,," message=r'The Row.keys\(\) method is considered legacy .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",1,6
openstack%2Foslo.db~master~I3a4845216914635e5802a70c2b1be757d82b7a49,openstack/oslo.db,master,I3a4845216914635e5802a70c2b1be757d82b7a49,Don't use dict-style attribute accesses,MERGED,2021-07-27 17:30:19.000000000,2021-11-12 12:20:40.000000000,2021-11-12 12:20:40.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/43acdc430727d5efec44c36b48eb92775a55f4f8', 'message': ""Don't use dict-style attribute accesses\n\nResolve the following RemovedIn20Warning warning:\n\n  Using non-integer/slice indices on Row is deprecated and will be\n  removed in version 2.0; please use row._mapping[<key>], or the\n  mappings() accessor on the Result object.\n\nChange-Id: I3a4845216914635e5802a70c2b1be757d82b7a49\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2156e3e8f791b7d346aaf1304ede104cc66b55b4', 'message': ""Don't use dict-style attribute accesses\n\nResolve the following RemovedIn20Warning warning:\n\n  Using non-integer/slice indices on Row is deprecated and will be\n  removed in version 2.0; please use row._mapping[<key>], or the\n  mappings() accessor on the Result object.\n\nChange-Id: I3a4845216914635e5802a70c2b1be757d82b7a49\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/dc6a2060057949f079b08ea155175584f0f37126', 'message': ""Don't use dict-style attribute accesses\n\nResolve the following RemovedIn20Warning warning:\n\n  Using non-integer/slice indices on Row is deprecated and will be\n  removed in version 2.0; please use row._mapping[<key>], or the\n  mappings() accessor on the Result object.\n\nChange-Id: I3a4845216914635e5802a70c2b1be757d82b7a49\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e04a3d635990f877bd945dc5528b44f0519df4d8', 'message': ""Don't use dict-style attribute accesses\n\nResolve the following RemovedIn20Warning warning:\n\n  Using non-integer/slice indices on Row is deprecated and will be\n  removed in version 2.0; please use row._mapping[<key>], or the\n  mappings() accessor on the Result object.\n\nChange-Id: I3a4845216914635e5802a70c2b1be757d82b7a49\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-10 16:45:25.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5544f1033fdbbfe7fba170c82407df0dbb78ad10', 'message': ""Don't use dict-style attribute accesses\n\nResolve the following RemovedIn20Warning warning:\n\n  Using non-integer/slice indices on Row is deprecated and will be\n  removed in version 2.0; please use row._mapping[<key>], or the\n  mappings() accessor on the Result object.\n\nChange-Id: I3a4845216914635e5802a70c2b1be757d82b7a49\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,802579,5544f1033fdbbfe7fba170c82407df0dbb78ad10,17,4,5,15334,,,0,"Don't use dict-style attribute accesses

Resolve the following RemovedIn20Warning warning:

  Using non-integer/slice indices on Row is deprecated and will be
  removed in version 2.0; please use row._mapping[<key>], or the
  mappings() accessor on the Result object.

Change-Id: I3a4845216914635e5802a70c2b1be757d82b7a49
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/79/802579/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/fixtures.py']",4,43acdc430727d5efec44c36b48eb92775a55f4f8,sqlalchemy-20,," message=r'Using non-integer/slice indices on Row is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",9,12
openstack%2Ftempest~master~I7ee5dc7f4dda0b772025ce5e03d8968352662a3a,openstack/tempest,master,I7ee5dc7f4dda0b772025ce5e03d8968352662a3a,DNM: Example of a compute schema change,NEW,2021-10-11 16:30:56.000000000,2021-11-12 12:18:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-11 16:30:56.000000000', 'files': ['tempest/lib/api_schema/response/compute/v2_58/servers.py', 'tempest/lib/api_schema/response/compute/v2_62/__init__.py', 'tempest/lib/api_schema/response/compute/v2_51/__init__.py', 'tempest/lib/api_schema/response/compute/v2_51/servers.py', 'tempest/lib/api_schema/response/compute/v2_63/servers.py', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/api_schema/response/compute/v2_62/servers.py', 'tempest/lib/api_schema/response/compute/v2_58/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/decc265e58b970c1c4d4851ce078690e965b9fae', 'message': 'DNM: Example of a compute schema change\n\nThis is an example how\nhttps://review.opendev.org/c/openstack/tempest/+/812471/1 could be\nsimplified if we merge the refactoring of the schema handling proposed\nin the parent patch\n\nChange-Id: I7ee5dc7f4dda0b772025ce5e03d8968352662a3a\n'}]",4,813460,decc265e58b970c1c4d4851ce078690e965b9fae,10,1,1,9708,,,0,"DNM: Example of a compute schema change

This is an example how
https://review.opendev.org/c/openstack/tempest/+/812471/1 could be
simplified if we merge the refactoring of the schema handling proposed
in the parent patch

Change-Id: I7ee5dc7f4dda0b772025ce5e03d8968352662a3a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/813460/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/compute/v2_58/servers.py', 'tempest/lib/api_schema/response/compute/v2_62/__init__.py', 'tempest/lib/api_schema/response/compute/v2_51/__init__.py', 'tempest/lib/api_schema/response/compute/v2_51/servers.py', 'tempest/lib/api_schema/response/compute/v2_63/servers.py', 'tempest/lib/api_schema/response/compute/v2_54/servers.py', 'tempest/lib/api_schema/response/compute/v2_62/servers.py', 'tempest/lib/api_schema/response/compute/v2_58/__init__.py']",8,decc265e58b970c1c4d4851ce078690e965b9fae,microversion-schema-handling-refactor,,,98,11
openstack%2Fpuppet-heat~master~I40e3ef55255eeb13dd3d27d91570b955801aa99e,openstack/puppet-heat,master,I40e3ef55255eeb13dd3d27d91570b955801aa99e,Do not manage services when manage_service is disabled,MERGED,2021-11-10 13:42:06.000000000,2021-11-12 12:11:44.000000000,2021-11-12 12:11:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:42:06.000000000', 'files': ['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'manifests/api.pp', 'spec/classes/heat_api_cfn_spec.rb', 'manifests/api_cfn.pp', 'spec/classes/heat_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/3703f8805a43dd3259c1785391953a23c10fccbb', 'message': 'Do not manage services when manage_service is disabled\n\nChange-Id: I40e3ef55255eeb13dd3d27d91570b955801aa99e\n'}]",0,817407,3703f8805a43dd3259c1785391953a23c10fccbb,7,3,1,9816,,,0,"Do not manage services when manage_service is disabled

Change-Id: I40e3ef55255eeb13dd3d27d91570b955801aa99e
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/07/817407/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/engine.pp', 'spec/classes/heat_engine_spec.rb', 'manifests/api.pp', 'spec/classes/heat_api_cfn_spec.rb', 'manifests/api_cfn.pp', 'spec/classes/heat_api_spec.rb']",6,3703f8805a43dd3259c1785391953a23c10fccbb,manage_service, it 'does not configure heat-api service' do is_expected.to_not contain_service('heat-api')," it 'configures heat-api service' do is_expected.to contain_service('heat-api').with( :ensure => nil, :name => platform_params[:api_service_name], :enable => false, :hasstatus => true, :hasrestart => true, :tag => 'heat-service', ) is_expected.to contain_service('heat-api').that_subscribes_to(nil)",59,84
openstack%2Fcinder~stable%2Fwallaby~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/cinder,stable/wallaby,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,ABANDONED,2021-11-12 07:09:09.000000000,2021-11-12 12:06:45.000000000,,[{'_account_id': 9535}],"[{'number': 1, 'created': '2021-11-12 07:09:09.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c4b2537d3daabeee4aebc494f47a3e11f7fafdc', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\n""}]",0,817707,0c4b2537d3daabeee4aebc494f47a3e11f7fafdc,3,1,1,27615,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)
(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/817707/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/huawei.py']",9,0c4b2537d3daabeee4aebc494f47a3e11f7fafdc,bug/1947370,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from oslo_concurrency import lockutils from oslo_log import log as logging from os_brick import exception from os_brick.i18n import _ from os_brick.initiator.connectors import base from os_brick import utils LOG = logging.getLogger(__name__) synchronized = lockutils.synchronized_with_prefix('os-brick-') class HuaweiStorHyperConnector(base.BaseLinuxConnector): """"""""Connector class to attach/detach SDSHypervisor volumes."""""" attached_success_code = 0 has_been_attached_code = 50151401 attach_mnid_done_code = 50151405 vbs_unnormal_code = 50151209 not_mount_node_code = 50155007 iscliexist = True def __init__(self, root_helper, driver=None, *args, **kwargs): self.cli_path = os.getenv('HUAWEISDSHYPERVISORCLI_PATH') if not self.cli_path: self.cli_path = '/usr/local/bin/sds/sds_cli' LOG.debug(""CLI path is not configured, using default %s."", self.cli_path) if not os.path.isfile(self.cli_path): self.iscliexist = False LOG.error('SDS CLI file not found, ' 'HuaweiStorHyperConnector init failed.') super(HuaweiStorHyperConnector, self).__init__(root_helper, driver=driver, *args, **kwargs) @staticmethod def get_connector_properties(root_helper, *args, **kwargs): """"""The HuaweiStor connector properties."""""" return {} def get_search_path(self): # TODO(walter-boring): Where is the location on the filesystem to # look for Huawei volumes to show up? return None def get_all_available_volumes(self, connection_properties=None): # TODO(walter-boring): what to return here for all Huawei volumes ? return [] def get_volume_paths(self, connection_properties): volume_path = None try: volume_path = self._get_volume_path(connection_properties) except Exception: msg = _(""Couldn't find a volume."") LOG.warning(msg) raise exception.BrickException(message=msg) return [volume_path] def _get_volume_path(self, connection_properties): out = self._query_attached_volume( connection_properties['volume_id']) if not out or int(out['ret_code']) != 0: msg = _(""Couldn't find attached volume."") LOG.error(msg) raise exception.BrickException(message=msg) return out['dev_addr'] @utils.trace @synchronized('connect_volume', external=True) def connect_volume(self, connection_properties): """"""Connect to a volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :returns: dict """""" LOG.debug(""Connect_volume connection properties: %s."", connection_properties) out = self._attach_volume(connection_properties['volume_id']) if not out or int(out['ret_code']) not in (self.attached_success_code, self.has_been_attached_code, self.attach_mnid_done_code): msg = (_(""Attach volume failed, "" ""error code is %s"") % out['ret_code']) raise exception.BrickException(message=msg) try: volume_path = self._get_volume_path(connection_properties) except Exception: msg = _(""query attached volume failed or volume not attached."") LOG.error(msg) raise exception.BrickException(message=msg) device_info = {'type': 'block', 'path': volume_path} return device_info @utils.trace @synchronized('connect_volume', external=True) def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): """"""Disconnect a volume from the local host. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :param device_info: historical difference, but same as connection_props :type device_info: dict """""" LOG.debug(""Disconnect_volume: %s."", connection_properties) out = self._detach_volume(connection_properties['volume_id']) if not out or int(out['ret_code']) not in (self.attached_success_code, self.vbs_unnormal_code, self.not_mount_node_code): msg = (_(""Disconnect_volume failed, "" ""error code is %s"") % out['ret_code']) raise exception.BrickException(message=msg) def is_volume_connected(self, volume_name): """"""Check if volume already connected to host"""""" LOG.debug('Check if volume %s already connected to a host.', volume_name) out = self._query_attached_volume(volume_name) if out: return int(out['ret_code']) == 0 return False def _attach_volume(self, volume_name): return self._cli_cmd('attach', volume_name) def _detach_volume(self, volume_name): return self._cli_cmd('detach', volume_name) def _query_attached_volume(self, volume_name): return self._cli_cmd('querydev', volume_name) def _cli_cmd(self, method, volume_name): LOG.debug(""Enter into _cli_cmd."") if not self.iscliexist: msg = _(""SDS command line doesn't exist, "" ""can't execute SDS command."") raise exception.BrickException(message=msg) if not method or volume_name is None: return cmd = [self.cli_path, '-c', method, '-v', volume_name] out, clilog = self._execute(*cmd, run_as_root=False, root_helper=self._root_helper) analyse_result = self._analyze_output(out) LOG.debug('%(method)s volume returns %(analyse_result)s.', {'method': method, 'analyse_result': analyse_result}) if clilog: LOG.error(""SDS CLI output some log: %s."", clilog) return analyse_result def _analyze_output(self, out): LOG.debug(""Enter into _analyze_output."") if out: analyse_result = {} out_temp = out.split('\n') for line in out_temp: LOG.debug(""Line is %s."", line) if line.find('=') != -1: key, val = line.split('=', 1) LOG.debug(""%(key)s = %(val)s"", {'key': key, 'val': val}) if key in ['ret_code', 'ret_desc', 'dev_addr']: analyse_result[key] = val return analyse_result else: return None def extend_volume(self, connection_properties): # TODO(walter-boring): is this possible? raise NotImplementedError ",,3474,0
openstack%2Fpuppet-barbican~master~Ie8a5a259444b6a816977a4d296a1fe1ec4b181ad,openstack/puppet-barbican,master,Ie8a5a259444b6a816977a4d296a1fe1ec4b181ad,Add support for [DEFAULT] *_limit_paging,MERGED,2021-11-11 12:37:50.000000000,2021-11-12 11:58:02.000000000,2021-11-12 11:55:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 12:37:50.000000000', 'files': ['spec/classes/barbican_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/api-limit_paging-9994bae6e53697ca.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f6ca184ac03d22bfd88db0f070489117e30a3a4a', 'message': 'Add support for [DEFAULT] *_limit_paging\n\nChange-Id: Ie8a5a259444b6a816977a4d296a1fe1ec4b181ad\n'}]",0,817556,f6ca184ac03d22bfd88db0f070489117e30a3a4a,8,3,1,9816,,,0,"Add support for [DEFAULT] *_limit_paging

Change-Id: Ie8a5a259444b6a816977a4d296a1fe1ec4b181ad
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/56/817556/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/api-limit_paging-9994bae6e53697ca.yaml']",3,f6ca184ac03d22bfd88db0f070489117e30a3a4a,limit_paging,--- features: - | The following two new parameters have been added to the ``barbican::api`` class. - ``max_limit_paging`` - ``default_limit_paging`` ,,27,0
openstack%2Fpuppet-horizon~master~I4ca96f7ba11401a99bf5827f17066a4f934f1e83,openstack/puppet-horizon,master,I4ca96f7ba11401a99bf5827f17066a4f934f1e83,Allow using a different syslog facility for syslog log handler,MERGED,2021-11-10 13:04:40.000000000,2021-11-12 11:58:01.000000000,2021-11-12 11:55:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3591347cc1fc42fcd203f3e9ff98fee0624c0007', 'message': 'Allow using a different syslog facility for syslog log handler\n\nChange-Id: I4ca96f7ba11401a99bf5827f17066a4f934f1e83\n'}, {'number': 2, 'created': '2021-11-10 13:07:50.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/init.pp', 'releasenotes/notes/syslog_facility-0fee14adc9a7de4f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c13e8df1b7dc62c6a318f937b75ed6225701c8a8', 'message': 'Allow using a different syslog facility for syslog log handler\n\nChange-Id: I4ca96f7ba11401a99bf5827f17066a4f934f1e83\n'}]",0,817398,c13e8df1b7dc62c6a318f937b75ed6225701c8a8,9,3,2,9816,,,0,"Allow using a different syslog facility for syslog log handler

Change-Id: I4ca96f7ba11401a99bf5827f17066a4f934f1e83
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/98/817398/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'manifests/init.pp', 'releasenotes/notes/syslog_facility-0fee14adc9a7de4f.yaml']",3,3591347cc1fc42fcd203f3e9ff98fee0624c0007,syslog_facility,--- features: - | The new ``horizon::syslog_facility`` parameter has been added. ,,10,1
openstack%2Ftripleo-ansible~master~I2048de62700ae46896a77b4fd59f272032ef719c,openstack/tripleo-ansible,master,I2048de62700ae46896a77b4fd59f272032ef719c,Explicitly define infra_image in containers.conf,MERGED,2021-11-09 13:13:06.000000000,2021-11-12 11:55:32.000000000,2021-11-12 11:55:32.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-11-09 13:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cfa99cf43af4cefc03c91028bb6d3133d67bab2', 'message': 'Explicitly define infra_image in containers.conf\n\nCurrently in /usr/share/containers/containers.conf,\nunder engine,\ninfra_image = ""registry.access.redhat.com/ubi9/pause"" is set\nby default but, ubi9/pause container image does not exists.\n\nThis patch sets infra_image and sets ubi8/pause as a\ndefault for infra_image till it gets available.\n\nCloses-Bug: #1950279\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2048de62700ae46896a77b4fd59f272032ef719c\n'}, {'number': 2, 'created': '2021-11-09 14:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d5b471ad841b26679877ab8a4be38b862aca61b', 'message': 'Explicitly define infra_image in containers.conf\n\nCurrently in /usr/share/containers/containers.conf,\nunder engine,\ninfra_image = ""registry.access.redhat.com/ubi9/pause"" is set\nby default but, ubi9/pause container image does not exists.\n\nThis patch sets infra_image and sets ubi8/pause as a\ndefault for infra_image till it gets available.\n\nCloses-Bug: #1950279\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2048de62700ae46896a77b4fd59f272032ef719c\n'}, {'number': 3, 'created': '2021-11-11 08:08:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46a09438e19650eb33bb6074148b2e802bea3fcd', 'message': 'Explicitly define infra_image in containers.conf\n\nCurrently in /usr/share/containers/containers.conf,\nunder engine,\ninfra_image = ""registry.access.redhat.com/ubi9/pause"" is set\nby default but, ubi9/pause container image does not exists.\n\nThis patch sets infra_image and sets ubi8/pause as a\ndefault for infra_image till it gets available.\n\nCloses-Bug: #1950279\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2048de62700ae46896a77b4fd59f272032ef719c\n'}]",8,817202,46a09438e19650eb33bb6074148b2e802bea3fcd,30,12,3,12393,,,0,"Explicitly define infra_image in containers.conf

Currently in /usr/share/containers/containers.conf,
under engine,
infra_image = ""registry.access.redhat.com/ubi9/pause"" is set
by default but, ubi9/pause container image does not exists.

This patch sets infra_image and sets ubi8/pause as a
default for infra_image till it gets available.

Closes-Bug: #1950279

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I2048de62700ae46896a77b4fd59f272032ef719c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/817202/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,0cfa99cf43af4cefc03c91028bb6d3133d67bab2,cs9," - section: engine option: infra_image value: ""\""{{ tripleo_container_default_infra_image }}\""""",,4,0
openstack%2Fpuppet-glance~master~Ie953021f975cc009a329b23ed0c933066b6541c9,openstack/puppet-glance,master,Ie953021f975cc009a329b23ed0c933066b6541c9,Do not manage the glance-api service when manage_service is disabled,MERGED,2021-11-10 13:38:41.000000000,2021-11-12 11:46:39.000000000,2021-11-12 11:46:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:38:41.000000000', 'files': ['manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d40184a77c19c9564eba28c9e5d9a552b5671793', 'message': 'Do not manage the glance-api service when manage_service is disabled\n\nChange-Id: Ie953021f975cc009a329b23ed0c933066b6541c9\n'}]",0,817405,d40184a77c19c9564eba28c9e5d9a552b5671793,7,3,1,9816,,,0,"Do not manage the glance-api service when manage_service is disabled

Change-Id: Ie953021f975cc009a329b23ed0c933066b6541c9
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/05/817405/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/glance_api_spec.rb']",2,d40184a77c19c9564eba28c9e5d9a552b5671793,manage_service, it { is_expected.to_not contain_service('glance-api') }," it { is_expected.to contain_service('glance-api').with( 'ensure' => nil, 'enable' => false, 'hasstatus' => true, 'hasrestart' => true, 'tag' => 'glance-service', ) }",9,15
openstack%2Fpuppet-cinder~stable%2Fxena~Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8,openstack/puppet-cinder,stable/xena,Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8,[Pure Storage] Add new params for FlashArray Cinder backend,MERGED,2021-11-11 02:49:46.000000000,2021-11-12 11:33:44.000000000,2021-11-12 11:29:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 02:49:46.000000000', 'files': ['releasenotes/notes/purestorage_updated_params-b0f474d9ab08c37e.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e8ecf159616e169332daaace722f912962a805d0', 'message': '[Pure Storage] Add new params for FlashArray Cinder backend\n\nChange-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\n(cherry picked from commit 2eea9e71a140c46f7eeb1ec105988b5edd8df493)\n'}]",0,817530,e8ecf159616e169332daaace722f912962a805d0,10,3,1,13425,,,0,"[Pure Storage] Add new params for FlashArray Cinder backend

Change-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8
(cherry picked from commit 2eea9e71a140c46f7eeb1ec105988b5edd8df493)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/30/817530/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/purestorage_updated_params-b0f474d9ab08c37e.yaml', 'spec/defines/cinder_backend_pure_spec.rb', 'manifests/backend/pure.pp']",3,e8ecf159616e169332daaace722f912962a805d0,add_pure_params-stable/xena,"# [*pure_eradicate_on_delete*] # (Optional) Determines how the Purity system treates deleted volumes. # Whether to immeadiately eradicate on delete or leave for auto-eradication # in 24 hours # Defaults to $::os_service_default # # [*pure_iscsi_cidr*] # (Optional) Identifies which iSCSI network CIDR should be used for # iscsi connections to the FlashArray if the array is configured with # multiple iSCSI VLANs. # Defaults to $::os_service_default # $pure_eradicate_on_delete = $::os_service_default, $pure_iscsi_cidr = $::os_service_default, ""${name}/pure_eradicate_on_delete"": value => $pure_eradicate_on_delete; ""${name}/pure_iscsi_cidr"": value => $pure_iscsi_cidr;",,32,0
openstack%2Ftripleo-docs~master~I2207d3acc3c5e330bbe79483d1292c4100eed0c7,openstack/tripleo-docs,master,I2207d3acc3c5e330bbe79483d1292c4100eed0c7,Add note about update converge being removed,MERGED,2021-11-10 08:21:13.000000000,2021-11-12 11:26:34.000000000,2021-11-12 11:24:11.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-11-10 08:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5b4ccd9e8cb054d1fd0f73fc5cb7cc6cf784a74a', 'message': 'Add note about update converge being removed\n\nStarting in Wallaby, update converge has now been removed.\nThis is because there is no longer a persistent Heat stack\nthat requires updating due to Ephemeral Heat changes\n\nChange-Id: I2207d3acc3c5e330bbe79483d1292c4100eed0c7\n'}, {'number': 2, 'created': '2021-11-10 08:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/21040bf0b7d60c4f2139de8c56b612561005747c', 'message': 'Add note about update converge being removed\n\nStarting in Wallaby, update converge has now been removed.\nThis is because there is no longer a persistent Heat stack\nthat requires updating due to Ephemeral Heat changes\n\nChange-Id: I2207d3acc3c5e330bbe79483d1292c4100eed0c7\n'}, {'number': 3, 'created': '2021-11-10 08:28:49.000000000', 'files': ['deploy-guide/source/post_deployment/upgrade/minor_update.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/81e5e39f0551f4323a4bd9acd08481cf76177f97', 'message': 'Add note about update converge being removed\n\nStarting in Wallaby, update converge has now been removed.\nThis is because there is no longer a persistent Heat stack\nthat requires updating due to Ephemeral Heat changes\n\nChange-Id: I2207d3acc3c5e330bbe79483d1292c4100eed0c7\n'}]",1,817360,81e5e39f0551f4323a4bd9acd08481cf76177f97,11,4,3,30073,,,0,"Add note about update converge being removed

Starting in Wallaby, update converge has now been removed.
This is because there is no longer a persistent Heat stack
that requires updating due to Ephemeral Heat changes

Change-Id: I2207d3acc3c5e330bbe79483d1292c4100eed0c7
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/60/817360/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/post_deployment/upgrade/minor_update.rst', 'doc/source/upgrade/developer/upgrades/minor_update.rst']",2,5b4ccd9e8cb054d1fd0f73fc5cb7cc6cf784a74a,remove_update_converge,.. note:: Update Converge is only required for versions less than Wallaby. Update Converge has been removed for Wallaby and beyond. ,,9,1
openstack%2Freleases~master~I5d352d6bc91a465df1f61d09d74ffaeb04da400f,openstack/releases,master,I5d352d6bc91a465df1f61d09d74ffaeb04da400f,[masakari] Transition Ussuri to EM,MERGED,2021-11-11 17:14:29.000000000,2021-11-12 11:14:53.000000000,2021-11-12 11:14:53.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-11 17:14:29.000000000', 'files': ['deliverables/ussuri/masakari-monitors.yaml', 'deliverables/ussuri/python-masakariclient.yaml', 'deliverables/ussuri/masakari-dashboard.yaml', 'deliverables/ussuri/masakari.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b97d6deb60c89f7745c8eff1b06058e9dfc509a', 'message': '[masakari] Transition Ussuri to EM\n\nThis transition the ussuri branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5d352d6bc91a465df1f61d09d74ffaeb04da400f\n'}]",1,817600,0b97d6deb60c89f7745c8eff1b06058e9dfc509a,9,4,1,17685,,,0,"[masakari] Transition Ussuri to EM

This transition the ussuri branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I5d352d6bc91a465df1f61d09d74ffaeb04da400f
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/817600/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/masakari-monitors.yaml', 'deliverables/ussuri/python-masakariclient.yaml', 'deliverables/ussuri/masakari-dashboard.yaml', 'deliverables/ussuri/masakari.yaml']",4,0b97d6deb60c89f7745c8eff1b06058e9dfc509a,ussuri-em, - version: ussuri-em projects: - repo: openstack/masakari hash: b965f3a253e7eca08ac765be90b7c1ae3d86369f,,16,0
openstack%2Fkolla-ansible~master~I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a,openstack/kolla-ansible,master,I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a,docs: Install openstack-client with upper constraints,MERGED,2021-10-30 00:01:55.000000000,2021-11-12 11:04:49.000000000,2021-11-12 10:59:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-30 00:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee6779b3cf53edfa163c715d89af22834b64eda1', 'message': 'Install python-openstackclient in post-deploy\n\nCloses-Bug: #1554049\nRelated-Bug: #1949198\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\nChange-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a\n'}, {'number': 2, 'created': '2021-11-04 21:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af4596bb2524af3384db8b75264912508238b662', 'message': 'docs: Install openstack-client with upper constraints\n\nRelated-Bug: #1554049\nRelated-Bug: #1949198\nChange-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 3, 'created': '2021-11-09 13:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa015956a397d8c074e4861ae9c90daf51ef2cdb', 'message': 'docs: Install openstack-client with upper constraints\n\nRelated-Bug: #1554049\nRelated-Bug: #1949198\nChange-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 4, 'created': '2021-11-09 22:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b6e7e228d128ccaefb55b47c9a3bed62fbcfe0c', 'message': 'docs: Install openstack-client with upper constraints\n\nRelated-Bug: #1554049\nRelated-Bug: #1949198\nChange-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 5, 'created': '2021-11-09 23:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f544a669f83e832fd942da32d61459812c1bb4f0', 'message': 'docs: Install openstack-client with upper constraints\n\nChange-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 6, 'created': '2021-11-10 10:45:51.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16acc3edfe458408678a988061cca08c3a5daf61', 'message': 'docs: Install openstack-client with upper constraints\n\nChange-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}]",18,816076,16acc3edfe458408678a988061cca08c3a5daf61,36,4,6,29880,,,0,"docs: Install openstack-client with upper constraints

Change-Id: I0419c68c18597bba4ff894b0a6c4a5ec007a8b4a
Signed-off-by: Adrian Andreias <adrian@fleio.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/816076/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/post-deploy.yml', 'doc/source/user/quickstart.rst']",2,ee6779b3cf53edfa163c715d89af22834b64eda1,bug/1554049, are set. To generate this file and to install OpenStack CLI client:,#. Install the OpenStack CLI client: .. code-block:: console pip install python3-openstackclient are set. To generate this file:,8,7
openstack%2Freleases~master~I0949320f2a611e9a9ae209ea79f3b2bae22f15be,openstack/releases,master,I0949320f2a611e9a9ae209ea79f3b2bae22f15be,[manila] Release manila 11.1.0,MERGED,2021-11-03 20:08:24.000000000,2021-11-12 11:02:44.000000000,2021-11-12 11:02:44.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 20:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/202b65c7676afabe76613ed3ca3903b61c49b76f', 'message': '[manila] Release manila 11.0.2\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/victoria branch.\n\nChange-Id: I0949320f2a611e9a9ae209ea79f3b2bae22f15be\n'}, {'number': 2, 'created': '2021-11-08 22:13:20.000000000', 'files': ['deliverables/victoria/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7bf75b88464cbf761f9a75ecbcabf2b3edfe5bab', 'message': '[manila] Release manila 11.1.0\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/victoria branch.\n\nChange-Id: I0949320f2a611e9a9ae209ea79f3b2bae22f15be\n'}]",4,816556,7bf75b88464cbf761f9a75ecbcabf2b3edfe5bab,14,4,2,29632,,,0,"[manila] Release manila 11.1.0

This release includes several bugfixes and enhancements committed
against the stable/victoria branch.

Change-Id: I0949320f2a611e9a9ae209ea79f3b2bae22f15be
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/816556/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/manila.yaml'],1,202b65c7676afabe76613ed3ca3903b61c49b76f,manila, - version: 11.0.2 projects: - repo: openstack/manila hash: da73ae0aba130836fbd92592e2de75d5c7d51116,,4,0
openstack%2Fkolla-ansible~master~I79a5fd84b071b2a127c09ac41c3de9074289fca0,openstack/kolla-ansible,master,I79a5fd84b071b2a127c09ac41c3de9074289fca0,Stop creating unused cron/logrotate directory,MERGED,2021-10-08 14:49:14.000000000,2021-11-12 11:02:30.000000000,2021-11-12 10:59:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-10-08 14:49:14.000000000', 'files': ['ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/834e68a0c4a0ef1ceda2cc8d4ade14e0282ee5e9', 'message': 'Stop creating unused cron/logrotate directory\n\nThis is unused since we switched to a single config file for logrotate.\n\nChange-Id: I79a5fd84b071b2a127c09ac41c3de9074289fca0\n'}]",1,813199,834e68a0c4a0ef1ceda2cc8d4ade14e0282ee5e9,18,6,1,15197,,,0,"Stop creating unused cron/logrotate directory

This is unused since we switched to a single config file for logrotate.

Change-Id: I79a5fd84b071b2a127c09ac41c3de9074289fca0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/813199/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/config.yml'],1,834e68a0c4a0ef1ceda2cc8d4ade14e0282ee5e9,cron-logrotate,," - ""cron/logrotate""",0,1
openstack%2Fkolla-ansible~master~I81d2dae0f8f4d0d4c6e359e1d7d954d6e190b742,openstack/kolla-ansible,master,I81d2dae0f8f4d0d4c6e359e1d7d954d6e190b742,docs: stop installing kolla in quickstart,MERGED,2021-11-11 09:13:40.000000000,2021-11-12 10:59:50.000000000,2021-11-12 10:59:50.000000000,"[{'_account_id': 22348}, {'_account_id': 29880}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-11 09:13:40.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c966bcf9ace2abd1f2666b699cde2c93daa04dd5', 'message': ""docs: stop installing kolla in quickstart\n\nWe don't need kolla to use kolla-ansible, and installing it makes the\nstart less quick.\n\nChange-Id: I81d2dae0f8f4d0d4c6e359e1d7d954d6e190b742\n""}]",0,817523,c966bcf9ace2abd1f2666b699cde2c93daa04dd5,7,3,1,14826,,,0,"docs: stop installing kolla in quickstart

We don't need kolla to use kolla-ansible, and installing it makes the
start less quick.

Change-Id: I81d2dae0f8f4d0d4c6e359e1d7d954d6e190b742
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/817523/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,c966bcf9ace2abd1f2666b699cde2c93daa04dd5,,#. Clone ``kolla-ansible`` repository from git.,#. Clone ``kolla`` and ``kolla-ansible`` repositories from git. git clone --branch |KOLLA_BRANCH_NAME| https://opendev.org/openstack/kolla pip install ./kolla sudo pip3 install ./kolla,1,4
openstack%2Fopenstack-ansible-os_nova~stable%2Fvictoria~Icc0c2cd896d4c9a01601d4d733f38443ad8400d4,openstack/openstack-ansible-os_nova,stable/victoria,Icc0c2cd896d4c9a01601d4d733f38443ad8400d4,Add Virtual GPU Config to nova.conf template,MERGED,2021-11-11 10:48:21.000000000,2021-11-12 10:57:09.000000000,2021-11-12 10:54:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31750}]","[{'number': 1, 'created': '2021-11-11 10:48:21.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml', 'tasks/nova_vgpu_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b6160301c881aab352ae993b1c978b47fe59b0ca', 'message': 'Add Virtual GPU Config to nova.conf template\n\nCurrently, the list of supported vGPUs is populated automatically\nwithin the Nova playbook when the /sys/class/mdev_bus folder is\npresent. This will populate the `enabled_vgpu_types` variable with\nthe full list of vGPUs that are supported by default, with only\nthe first one listed being used.\n\nThis change provides the ability to define a new variable\n`nova_enabled_vgpu_types` that will populate the enabled_vgpu_types\nconfig option. It also adds the ability to map vgpu types to PCI\naddresses in line with Ussuri updates to provide multi-vGPU support.\n\nChange-Id: Icc0c2cd896d4c9a01601d4d733f38443ad8400d4\n(cherry picked from commit 3edfbe68963f26a2c11b87094504f8ab37e0abcc)\n'}]",0,817537,b6160301c881aab352ae993b1c978b47fe59b0ca,8,4,1,28619,,,0,"Add Virtual GPU Config to nova.conf template

Currently, the list of supported vGPUs is populated automatically
within the Nova playbook when the /sys/class/mdev_bus folder is
present. This will populate the `enabled_vgpu_types` variable with
the full list of vGPUs that are supported by default, with only
the first one listed being used.

This change provides the ability to define a new variable
`nova_enabled_vgpu_types` that will populate the enabled_vgpu_types
config option. It also adds the ability to map vgpu types to PCI
addresses in line with Ussuri updates to provide multi-vGPU support.

Change-Id: Icc0c2cd896d4c9a01601d4d733f38443ad8400d4
(cherry picked from commit 3edfbe68963f26a2c11b87094504f8ab37e0abcc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/37/817537/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml', 'tasks/nova_vgpu_detect.yml']",3,b6160301c881aab352ae993b1c978b47fe59b0ca,add-vgpu-config-stable/victoria," discovered_vgpu_types: ""{{ mdev.stdout_lines | unique }}"""," enabled_vgpu_types: ""{{ mdev.stdout_lines | unique }}""",22,3
openstack%2Ftrove~stable%2Fussuri~I2fbc295151a916410ae5b3adb18ca8209a530a22,openstack/trove,stable/ussuri,I2fbc295151a916410ae5b3adb18ca8209a530a22,Raise error when returncode != 0 and have error,ABANDONED,2020-06-05 07:32:48.000000000,2021-11-12 10:47:51.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 31662}]","[{'number': 1, 'created': '2020-06-05 07:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3b8b8f20597074406ede60531570b8feaf30b16d', 'message': 'Raise error when returncode != 0 and have error\n\nChange-Id: I2fbc295151a916410ae5b3adb18ca8209a530a22\nStory: 2007587\n'}, {'number': 2, 'created': '2020-06-06 08:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2b498788481efa3cf21e5561eea217f2b5ce32de', 'message': 'Raise error when returncode != 0 and have error\n\nChange-Id: I2fbc295151a916410ae5b3adb18ca8209a530a22\nStory: #2007758\n'}, {'number': 3, 'created': '2020-10-22 08:02:10.000000000', 'files': ['trove/common/utils.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/2e8021a4de1a7876dd40bbe8ba37dac0959cb560', 'message': 'Raise error when returncode != 0 and have error\n\nChange-Id: I2fbc295151a916410ae5b3adb18ca8209a530a22\nStory: #2007758\nTask: #39966\n'}]",1,733759,2e8021a4de1a7876dd40bbe8ba37dac0959cb560,19,3,3,31662,,,0,"Raise error when returncode != 0 and have error

Change-Id: I2fbc295151a916410ae5b3adb18ca8209a530a22
Story: #2007758
Task: #39966
",git fetch https://review.opendev.org/openstack/trove refs/changes/59/733759/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/utils.py'],1,3b8b8f20597074406ede60531570b8feaf30b16d,, if process.returncode and err:, if err:,1,1
openstack%2Fpuppet-octavia~master~I2df9ac2fc6c59191a1ce1f9826e2eedb7151c91b,openstack/puppet-octavia,master,I2df9ac2fc6c59191a1ce1f9826e2eedb7151c91b,health_manager: support more tunable parameters,MERGED,2021-11-09 15:13:33.000000000,2021-11-12 10:24:36.000000000,2021-11-12 10:21:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/5434258d310545dbd79c56d812ed7916d43b2de9', 'message': 'health_manager: support more tunable parameters\n\nChange-Id: I2df9ac2fc6c59191a1ce1f9826e2eedb7151c91b\n'}, {'number': 2, 'created': '2021-11-09 16:17:42.000000000', 'files': ['manifests/health_manager.pp', 'spec/classes/octavia_health_manager_spec.rb', 'releasenotes/notes/health_manager-tunables-a6fc91c0c1af0e15.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ceb5c9deaf1fda99768fa228b1aeb3e7af937dc0', 'message': 'health_manager: support more tunable parameters\n\nChange-Id: I2df9ac2fc6c59191a1ce1f9826e2eedb7151c91b\n'}]",0,817227,ceb5c9deaf1fda99768fa228b1aeb3e7af937dc0,10,3,2,9816,,,0,"health_manager: support more tunable parameters

Change-Id: I2df9ac2fc6c59191a1ce1f9826e2eedb7151c91b
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/27/817227/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/health_manager.pp', 'spec/classes/octavia_health_manager_spec.rb', 'releasenotes/notes/health_manager-tunables-a6fc91c0c1af0e15.yaml']",3,5434258d310545dbd79c56d812ed7916d43b2de9,,--- features: - | The following parameters have been added to the ``octavia::health_manager`` class. - ``failover_threads`` - ``hearteat_timeout`` - ``health_check_interval`` - ``sock_rlimit`` ,,50,5
openstack%2Fdebtcollector~master~Ia16572985a46afe39b53a199ebabb695cd05ae2d,openstack/debtcollector,master,Ia16572985a46afe39b53a199ebabb695cd05ae2d,Remove six,MERGED,2021-11-04 10:45:42.000000000,2021-11-12 10:11:49.000000000,2021-11-12 10:09:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-04 10:45:42.000000000', 'files': ['debtcollector/_utils.py', 'requirements.txt', 'debtcollector/removals.py', 'debtcollector/moves.py'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/d0b61a66b59ff5f98d63a5e7591bee3a6fcc3178', 'message': 'Remove six\n\ndebtcollector is one of the few remaining OpenStack libraries still\nusing six. Like the other libraries that have since removed it,\ndebtcollector no longer actually needs this since it only supports\nPython 3. Remove the library.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ia16572985a46afe39b53a199ebabb695cd05ae2d\n'}]",1,816638,d0b61a66b59ff5f98d63a5e7591bee3a6fcc3178,7,2,1,15334,,,0,"Remove six

debtcollector is one of the few remaining OpenStack libraries still
using six. Like the other libraries that have since removed it,
debtcollector no longer actually needs this since it only supports
Python 3. Remove the library.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ia16572985a46afe39b53a199ebabb695cd05ae2d
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/38/816638/1 && git format-patch -1 --stdout FETCH_HEAD,"['debtcollector/_utils.py', 'requirements.txt', 'debtcollector/removals.py', 'debtcollector/moves.py']",4,d0b61a66b59ff5f98d63a5e7591bee3a6fcc3178,six,"import functools @functools.wraps(new_func, assigned=_utils.get_assigned(new_func)) @functools.wraps(f, assigned=_utils.get_assigned(f))","import six @six.wraps(new_func, assigned=_utils.get_assigned(new_func)) @six.wraps(f, assigned=_utils.get_assigned(f))",9,20
openstack%2Fcharm-ceilometer~stable%2F21.10~Ie40a99281f1f60de7a409e1e3a2025a850a8a446,openstack/charm-ceilometer,stable/21.10,Ie40a99281f1f60de7a409e1e3a2025a850a8a446,"Revert ""Add meter-sink as an option""",MERGED,2021-11-05 14:49:54.000000000,2021-11-12 10:05:03.000000000,2021-11-12 10:05:03.000000000,"[{'_account_id': 935}, {'_account_id': 9247}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 14:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/783b05365cd9a8a0583269122ada3f489bde989a', 'message': 'Revert ""Add meter-sink as an option""\n\nThis reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.\n\nThe meter_sink is actually required in pipeline.yaml and not in\nevent_pipline.yaml, and this is something that needs to be enabled\nfor newton and above as the ceilometer-collector is not the\ndependancy for this.\n\nChange-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446\n(cherry picked from commit f046895cdb0f8193e9374ef1a8aeb43a7c7b19a0)\n'}, {'number': 2, 'created': '2021-11-08 13:36:51.000000000', 'files': ['unit_tests/test_ceilometer_contexts.py', 'lib/ceilometer_utils.py', 'templates/mitaka/event_pipeline.yaml', 'templates/queens/event_pipeline.yaml', 'config.yaml', 'lib/ceilometer_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/7cdafac3148924094d3db8e67d976426bf5f57e0', 'message': 'Revert ""Add meter-sink as an option""\n\nThis reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.\n\nThe meter_sink is actually required in pipeline.yaml and not in\nevent_pipline.yaml, and this is something that needs to be enabled\nfor newton and above as the ceilometer-collector is not the\ndependancy for this.\n\nChange-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446\n(cherry picked from commit f046895cdb0f8193e9374ef1a8aeb43a7c7b19a0)\n'}]",4,816874,7cdafac3148924094d3db8e67d976426bf5f57e0,16,5,2,31289,,,0,"Revert ""Add meter-sink as an option""

This reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.

The meter_sink is actually required in pipeline.yaml and not in
event_pipline.yaml, and this is something that needs to be enabled
for newton and above as the ceilometer-collector is not the
dependancy for this.

Change-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446
(cherry picked from commit f046895cdb0f8193e9374ef1a8aeb43a7c7b19a0)
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/74/816874/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceilometer_contexts.py', 'lib/ceilometer_utils.py', 'templates/mitaka/event_pipeline.yaml', 'templates/queens/event_pipeline.yaml', 'config.yaml', 'lib/ceilometer_contexts.py']",6,783b05365cd9a8a0583269122ada3f489bde989a,revert_meter_sinks-stable/21.10,class RemoteSinksContext(OSContextGenerator):,class CustomSinksContext(OSContextGenerator): if config('meter-sink'): ctxt['meter_sinks'] = config('meter-sink').split(' '),19,71
openstack%2Fnova~master~I63f57980e01f472a25821790610f0836f1882a7f,openstack/nova,master,I63f57980e01f472a25821790610f0836f1882a7f,tests: Restore - don't reset - warning filters,MERGED,2021-11-11 19:19:24.000000000,2021-11-12 09:55:24.000000000,2021-11-12 09:52:33.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 19:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1fe37de569458629ad77046247d6ad16adda3f2', 'message': ""test: Restore - don't reset - warning filters\n\nThere are more various warning filters pre-configured in a typical\nPython environment, including a few from third-party libraries such as\nrequests [1][2] and urllib3 [2] as well as stdlib [3]. Our fixture to\nconfigure warnings, 'WarningsFixture', called 'warnings.resetwarnings'\nwhich *reset* all the warning filters [5]. This is clearly not something\nwe want to do, and resulted in tests puking warnings after the initial\ntest run.\n\nResolve this by backing up the existing warning filters before applying\nthe filter, and then *restoring* this original list of warning filters\nafter the test run.\n\n[1] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L127\n[2] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L152\n[3] https://github.com/urllib3/urllib3/blob/1.26.7/src/urllib3/__init__.py#L68-L78\n[4] https://docs.python.org/3.8/library/warnings.html#default-warning-filter\n[5] https://docs.python.org/3.8/library/warnings.html#warnings.resetwarnings\n\nChange-Id: I63f57980e01f472a25821790610f0836f1882a7f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-11-11 19:31:03.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e28afc564700a1a35e3bf0269687d5734251b88a', 'message': ""tests: Restore - don't reset - warning filters\n\nThere are more various warning filters pre-configured in a typical\nPython environment, including a few from third-party libraries such as\nrequests [1][2] and urllib3 [3] as well as stdlib [4]. Our fixture to\nconfigure warnings, 'WarningsFixture', called 'warnings.resetwarnings'\nwhich *reset* all the warning filters [5]. This is clearly not something\nwe want to do, and resulted in tests puking warnings after the initial\ntest run.\n\nResolve this by backing up the existing warning filters before applying\nthe filter, and then *restoring* this original list of warning filters\nafter the test run.\n\n[1] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L127\n[2] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L152\n[3] https://github.com/urllib3/urllib3/blob/1.26.7/src/urllib3/__init__.py#L68-L78\n[4] https://docs.python.org/3.8/library/warnings.html#default-warning-filter\n[5] https://docs.python.org/3.8/library/warnings.html#warnings.resetwarnings\n\nChange-Id: I63f57980e01f472a25821790610f0836f1882a7f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,817641,e28afc564700a1a35e3bf0269687d5734251b88a,16,4,2,15334,,,0,"tests: Restore - don't reset - warning filters

There are more various warning filters pre-configured in a typical
Python environment, including a few from third-party libraries such as
requests [1][2] and urllib3 [3] as well as stdlib [4]. Our fixture to
configure warnings, 'WarningsFixture', called 'warnings.resetwarnings'
which *reset* all the warning filters [5]. This is clearly not something
we want to do, and resulted in tests puking warnings after the initial
test run.

Resolve this by backing up the existing warning filters before applying
the filter, and then *restoring* this original list of warning filters
after the test run.

[1] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L127
[2] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L152
[3] https://github.com/urllib3/urllib3/blob/1.26.7/src/urllib3/__init__.py#L68-L78
[4] https://docs.python.org/3.8/library/warnings.html#default-warning-filter
[5] https://docs.python.org/3.8/library/warnings.html#warnings.resetwarnings

Change-Id: I63f57980e01f472a25821790610f0836f1882a7f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/817641/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,b1fe37de569458629ad77046247d6ad16adda3f2,sqlalchemy-20, self._original_warning_filters = warnings.filters[:] self.addCleanup(self._reset_warning_filters) def _reset_warning_filters(self): warnings.filters[:] = self._original_warning_filters, self.addCleanup(warnings.resetwarnings),7,1
openstack%2Ftrove~master~I0e1e6db3f258074197b37dcf4594e33fbfeff03a,openstack/trove,master,I0e1e6db3f258074197b37dcf4594e33fbfeff03a,Require oslo_log version >= 4.3.0,ABANDONED,2020-12-10 02:50:22.000000000,2021-11-12 09:41:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-10 02:50:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/f5e66a69856bb5df7fa3d34589d05e98222530ec', 'message': 'Require oslo_log version >= 4.3.0\n\nChange-Id: I0e1e6db3f258074197b37dcf4594e33fbfeff03a\n'}]",0,766396,f5e66a69856bb5df7fa3d34589d05e98222530ec,4,1,1,31662,,,0,"Require oslo_log version >= 4.3.0

Change-Id: I0e1e6db3f258074197b37dcf4594e33fbfeff03a
",git fetch https://review.opendev.org/openstack/trove refs/changes/96/766396/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f5e66a69856bb5df7fa3d34589d05e98222530ec,,oslo.log>=4.3.0 # Apache-2.0,oslo.log>=3.36.0 # Apache-2.0,1,1
openstack%2Ftrove~master~Icbb13bd9552c99b23f38204b001e83dee4809138,openstack/trove,master,Icbb13bd9552c99b23f38204b001e83dee4809138,Support rootdisk volume for database instance,ABANDONED,2020-07-17 02:12:23.000000000,2021-11-12 09:40:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-17 02:12:23.000000000', 'files': ['trove/common/cfg.py', 'trove/taskmanager/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f5d60829f646d1e11c38fd2c078c7c9831abccf6', 'message': 'Support rootdisk volume for database instance\n\nWhen use cinder to store data dir of database, also create rootdisk in cinder.\nStory: #2007903\n\nChange-Id: Icbb13bd9552c99b23f38204b001e83dee4809138\n'}]",2,741565,f5d60829f646d1e11c38fd2c078c7c9831abccf6,3,1,1,31662,,,0,"Support rootdisk volume for database instance

When use cinder to store data dir of database, also create rootdisk in cinder.
Story: #2007903

Change-Id: Icbb13bd9552c99b23f38204b001e83dee4809138
",git fetch https://review.opendev.org/openstack/trove refs/changes/65/741565/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/cfg.py', 'trove/taskmanager/models.py']",2,f5d60829f646d1e11c38fd2c078c7c9831abccf6,," if CONF.trove_volume_support: block_device_mapping_v2.insert(0, self._create_root_volume( image_id, CONF.volume_rootdisk_size, volume_type)) image_id = None def _create_root_volume(self, image_id, volume_size, volume_type): LOG.debug(""Begin _create_root_volume for id: %s"", self.id) volume_client = create_cinder_client(self.context, self.region_name) volume_desc = (""root volume for %s"" % self.id) volume_ref = volume_client.volumes.create( volume_size, name=""trove-%s"" % self.id, imageRef=image_id, description=volume_desc, volume_type=volume_type) utils.poll_until( lambda: volume_client.volumes.get(volume_ref.id), lambda v_ref: v_ref.status in ['available', 'error'], sleep_time=2, time_out=CONF.volume_time_out) v_ref = volume_client.volumes.get(volume_ref.id) if v_ref.status in ['error']: raise VolumeCreationFailure() block_device_mapping_v2 = { ""uuid"": v_ref.id, ""boot_index"": 0, ""source_type"": ""volume"", ""destination_type"": ""volume"", ""delete_on_termination"": True } LOG.debug(""End _create_root_volume for id: %s"", self.id) return block_device_mapping_v2 ",,39,0
openstack%2Fpython-troveclient~master~I36a5d084e9e19294f6fe08fbde301107548c4177,openstack/python-troveclient,master,I36a5d084e9e19294f6fe08fbde301107548c4177,Fix save & tail log wrong type,ABANDONED,2020-06-16 04:26:46.000000000,2021-11-12 09:40:40.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 31662}]","[{'number': 1, 'created': '2020-06-16 04:26:46.000000000', 'files': ['troveclient/v1/instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/239dcf6176e49d575a816f86602edd15a2f3c372', 'message': 'Fix save & tail log wrong type\n\nconvert byte to string when save & tail log\n\nChange-Id: I36a5d084e9e19294f6fe08fbde301107548c4177\n'}]",0,735768,239dcf6176e49d575a816f86602edd15a2f3c372,12,3,1,31662,,,0,"Fix save & tail log wrong type

convert byte to string when save & tail log

Change-Id: I36a5d084e9e19294f6fe08fbde301107548c4177
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/68/735768/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/v1/instances.py'],1,239dcf6176e49d575a816f86602edd15a2f3c372,," log_obj = log_obj.decode(""utf-8"") f.write(log_obj.decode(""utf-8""))", f.write(log_obj),2,1
openstack%2Ftrove~master~I508213613ae467ce35b901f47fc7744a474eb3ff,openstack/trove,master,I508213613ae467ce35b901f47fc7744a474eb3ff,Return instances by created order,ABANDONED,2021-01-25 11:03:20.000000000,2021-11-12 09:40:09.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 11:03:20.000000000', 'files': ['trove/extensions/mgmt/instances/views.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/ec9f84bf33ef8ec3c670ca3adf8f12d1e50f5eee', 'message': 'Return instances by created order\n\nChange-Id: I508213613ae467ce35b901f47fc7744a474eb3ff\n'}]",0,772312,ec9f84bf33ef8ec3c670ca3adf8f12d1e50f5eee,6,2,1,31662,,,0,"Return instances by created order

Change-Id: I508213613ae467ce35b901f47fc7744a474eb3ff
",git fetch https://review.opendev.org/openstack/trove refs/changes/12/772312/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/extensions/mgmt/instances/views.py'],1,ec9f84bf33ef8ec3c670ca3adf8f12d1e50f5eee,," # Return instances in the order of 'created' for instance in sorted(self.instances, key=lambda ins: ins.created, reverse=True):", for instance in self.instances:,4,1
openstack%2Fbashate~master~I3baff60fe272440bbcbe5dd809f264bca1092b78,openstack/bashate,master,I3baff60fe272440bbcbe5dd809f264bca1092b78,Check indents on comment lines,MERGED,2021-11-10 02:51:22.000000000,2021-11-12 09:27:33.000000000,2021-11-12 09:25:22.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-10 02:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/bf39e738ec7df642133f9c8cb07f3c6bc2dbd8ea', 'message': 'Check indents on comment lines\n\nThe check makes sense for comment lines as well.\n\nAn example:\n\n    if :; then\n    <tab># comment\n    <spaces>echo hello\n    fi\n\nChange-Id: I3baff60fe272440bbcbe5dd809f264bca1092b78\n'}, {'number': 2, 'created': '2021-11-10 10:07:44.000000000', 'files': ['bashate/bashate.py', 'bashate/tests/samples/comments.sh', 'bashate/tests/test_bashate.py'], 'web_link': 'https://opendev.org/openstack/bashate/commit/0feb84a83fca92789d2a154b33b959ef6ffbff11', 'message': 'Check indents on comment lines\n\nThe check makes sense for comment lines as well.\n\nAn example:\n\n    if :; then\n    <tab># comment\n    <spaces>echo hello\n    fi\n\nChange-Id: I3baff60fe272440bbcbe5dd809f264bca1092b78\n'}]",2,817335,0feb84a83fca92789d2a154b33b959ef6ffbff11,10,3,2,6854,,,0,"Check indents on comment lines

The check makes sense for comment lines as well.

An example:

    if :; then
    <tab># comment
    <spaces>echo hello
    fi

Change-Id: I3baff60fe272440bbcbe5dd809f264bca1092b78
",git fetch https://review.opendev.org/openstack/bashate refs/changes/35/817335/2 && git format-patch -1 --stdout FETCH_HEAD,['bashate/bashate.py'],1,bf39e738ec7df642133f9c8cb07f3c6bc2dbd8ea,check-indents-on-comment-line," logical_line = [line] check_indents(logical_line, report)",,2,0
openstack%2Freleases~master~I513dca577c3c994cbf692e1859044de03f74c08f,openstack/releases,master,I513dca577c3c994cbf692e1859044de03f74c08f,[OpenStackSDK] Transition Ussuri to EM,MERGED,2021-11-11 17:22:07.000000000,2021-11-12 09:23:06.000000000,2021-11-12 09:23:06.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-11 17:22:07.000000000', 'files': ['deliverables/ussuri/python-openstackclient.yaml', 'deliverables/ussuri/shade.yaml', 'deliverables/ussuri/os-client-config.yaml', 'deliverables/ussuri/cliff.yaml', 'deliverables/ussuri/osc-lib.yaml', 'deliverables/ussuri/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/04c1885c811d1977addb5a3fe84874381d9e0f51', 'message': '[OpenStackSDK] Transition Ussuri to EM\n\nThis transition the ussuri branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I513dca577c3c994cbf692e1859044de03f74c08f\n'}]",1,817609,04c1885c811d1977addb5a3fe84874381d9e0f51,10,5,1,17685,,,0,"[OpenStackSDK] Transition Ussuri to EM

This transition the ussuri branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I513dca577c3c994cbf692e1859044de03f74c08f
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/817609/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/python-openstackclient.yaml', 'deliverables/ussuri/shade.yaml', 'deliverables/ussuri/os-client-config.yaml', 'deliverables/ussuri/cliff.yaml', 'deliverables/ussuri/osc-lib.yaml', 'deliverables/ussuri/openstacksdk.yaml']",6,04c1885c811d1977addb5a3fe84874381d9e0f51,ussuri-em, - version: ussuri-em projects: - repo: openstack/openstacksdk hash: 1a7d8a3296cdeeb3c7fab3cedf2164d1adb8a74a,,24,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I2bd1a3674f8dd254b55634903a4c046293557e18,openstack/kolla-ansible,stable/victoria,I2bd1a3674f8dd254b55634903a4c046293557e18,docs: Fix python-openstackclient package name and init-runonce path,MERGED,2021-11-10 09:15:36.000000000,2021-11-12 09:19:47.000000000,2021-11-12 09:17:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29880}]","[{'number': 1, 'created': '2021-11-10 09:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46581689865d154a3465b2c0c2f8f47d702851f2', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)\n'}, {'number': 2, 'created': '2021-11-11 09:51:19.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11451cc9efe6fbfa626a748e33b49391a00643cd', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)\n'}]",7,817266,11451cc9efe6fbfa626a748e33b49391a00643cd,20,4,2,14826,,,0,"docs: Fix python-openstackclient package name and init-runonce path

Related-Bug: #1949198
Change-Id: I2bd1a3674f8dd254b55634903a4c046293557e18
Signed-off-by: Adrian Andreias <adrian@fleio.com>
(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/817266/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,46581689865d154a3465b2c0c2f8f47d702851f2,bug/1949198-stable/xena-stable/victoria," pip install python-openstackclient * For deployment or evaluation, run ``init-runonce`` script. If using a virtual environment: .. code-block:: console /path/to/venv/share/share/kolla-ansible/init-runonce If not using a virtual environment:"," pip install python3-openstackclient * For deployment or evaluation, run ``init-runonce`` script:",10,3
openstack%2Fansible-config_template~master~I2f49028fbea09a2f38b54544ae96dee9d0156f6f,openstack/ansible-config_template,master,I2f49028fbea09a2f38b54544ae96dee9d0156f6f,Add option to install as collection,MERGED,2021-09-06 13:55:38.000000000,2021-11-12 09:14:04.000000000,2021-11-11 22:50:58.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-09-06 13:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/6c7e998516cb8f0b6e3a0a8e8a6fa5a562b5a026', 'message': 'Add option to install as collection\n\nWe create symlink and galaxy.yml file so that this module\ncould be installed as an ansible collection in addition\nto already used methods.\n\nChange-Id: I2f49028fbea09a2f38b54544ae96dee9d0156f6f\n'}, {'number': 2, 'created': '2021-10-21 08:51:34.000000000', 'files': ['galaxy.yml', 'plugins/action'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/bb1d445a08e4a2dccb3503625199c9d11368adda', 'message': 'Add option to install as collection\n\nWe create symlink and galaxy.yml file so that this module\ncould be installed as an ansible collection in addition\nto already used methods.\n\nChange-Id: I2f49028fbea09a2f38b54544ae96dee9d0156f6f\n'}]",2,807581,bb1d445a08e4a2dccb3503625199c9d11368adda,13,4,2,28619,,,0,"Add option to install as collection

We create symlink and galaxy.yml file so that this module
could be installed as an ansible collection in addition
to already used methods.

Change-Id: I2f49028fbea09a2f38b54544ae96dee9d0156f6f
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/81/807581/2 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'plugins/action']",2,6c7e998516cb8f0b6e3a0a8e8a6fa5a562b5a026,,../action,,20,0
openstack%2Fproject-config~master~I0269687520b33d69fec979667afce43386da23e1,openstack/project-config,master,I0269687520b33d69fec979667afce43386da23e1,New Iotronic Service components:,MERGED,2017-04-04 14:01:33.000000000,2021-11-12 09:06:09.000000000,2017-04-10 13:29:01.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 20746}]","[{'number': 1, 'created': '2017-04-04 14:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/902c69c475d1c8a73b62361b74def922540f9c05', 'message': 'new iotronic components\n\nChange-Id: I0269687520b33d69fec979667afce43386da23e1\n'}, {'number': 2, 'created': '2017-04-04 14:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/856b40939ee5a6e57a437c6aee1d99a66bee7c85', 'message': 'New Iotronic Service components:\niotronic-Lightning-rod: the IoT board-side agent for the IoTronic service\npython-iotronicclient: the client for the IoTronic service.\n\nChange-Id: I0269687520b33d69fec979667afce43386da23e1\n'}, {'number': 3, 'created': '2017-04-05 10:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6355c8d612416d2b73b8287eccb45b9bd36abf44', 'message': 'New Iotronic Service components:\n\niotronic-lightning-rod: the IoT board-side agent for the IoTronic service\npython-iotronicclient: the client for the IoTronic service.\n\nChange-Id: I0269687520b33d69fec979667afce43386da23e1\n'}, {'number': 4, 'created': '2017-04-06 08:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2b47f433459d08362e1cefe03b788edded124cb5', 'message': 'New Iotronic Service components:\n\niotronic-lightning-rod: the IoT board-side agent for the IoTronic service\npython-iotronicclient: the client for the IoTronic service.\n\ngerribot has been configured to announce on #openstack-iotronic\n\nChange-Id: I0269687520b33d69fec979667afce43386da23e1\n'}, {'number': 5, 'created': '2017-04-06 09:14:51.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eac11e52e7c1cc759e60a7004fb5bdace1139167', 'message': 'New Iotronic Service components:\n\niotronic-lightning-rod: the IoT board-side agent for the IoTronic service\npython-iotronicclient: the client for the IoTronic service.\n\ngerribot has been configured to announce on #openstack-iotronic\n\nChange-Id: I0269687520b33d69fec979667afce43386da23e1\n'}]",7,453184,eac11e52e7c1cc759e60a7004fb5bdace1139167,32,5,5,20746,,,0,"New Iotronic Service components:

iotronic-lightning-rod: the IoT board-side agent for the IoTronic service
python-iotronicclient: the client for the IoTronic service.

gerribot has been configured to announce on #openstack-iotronic

Change-Id: I0269687520b33d69fec979667afce43386da23e1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/453184/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",3,902c69c475d1c8a73b62361b74def922540f9c05,iotronic, - name: openstack/iotronic-lightning-rod template: - name: merge-check - name: python-jobs - name: check-requirements - name: publish-to-pypi - name: openstack/python-iotronicclient template: - name: merge-check - name: python-jobs - name: check-requirements - name: publish-to-pypi ,,35,1
openstack%2Fcyborg~master~I74edc9f886635b6af532271c4f6169dc66970034,openstack/cyborg,master,I74edc9f886635b6af532271c4f6169dc66970034,Bump WSME and sphinxcontrib-pecanwsme version,MERGED,2021-05-25 10:09:29.000000000,2021-11-12 08:56:47.000000000,2021-11-12 08:54:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-05-25 10:09:29.000000000', 'files': ['requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6d3ebe4ec1d7178fa121633d92a950bc79bb5e80', 'message': 'Bump WSME and sphinxcontrib-pecanwsme version\n\nWhile pep8 failed in [1], it was required wsme===0.10.1, and in\nrequirements it has bumped WSME===0.10.1 and\nsphinxcontrib-pecanwsme===0.10.0 in [2].\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/790328\n[2] https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L327\n    https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L415\n\nCloses-Bug: #1929535\n\nChange-Id: I74edc9f886635b6af532271c4f6169dc66970034\n'}]",0,792928,6d3ebe4ec1d7178fa121633d92a950bc79bb5e80,8,5,1,26458,,,0,"Bump WSME and sphinxcontrib-pecanwsme version

While pep8 failed in [1], it was required wsme===0.10.1, and in
requirements it has bumped WSME===0.10.1 and
sphinxcontrib-pecanwsme===0.10.0 in [2].

[1] https://review.opendev.org/c/openstack/cyborg/+/790328
[2] https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L327
    https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L415

Closes-Bug: #1929535

Change-Id: I74edc9f886635b6af532271c4f6169dc66970034
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/28/792928/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/requirements.txt']",2,6d3ebe4ec1d7178fa121633d92a950bc79bb5e80,bug/1929535,sphinxcontrib-pecanwsme>=0.10.0 # Apache-2.0,sphinxcontrib-pecanwsme>=0.2 # Apache-2.0,2,2
openstack%2Fopenstack-tempest-skiplist~master~I25519a7e925f7b0990dacdd6dae9046d153397d7,openstack/openstack-tempest-skiplist,master,I25519a7e925f7b0990dacdd6dae9046d153397d7,Remove entry for Queens,MERGED,2021-10-21 12:01:13.000000000,2021-11-12 07:50:40.000000000,2021-11-12 07:48:50.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-10-21 12:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a593c808690d4b7530402ce35fccd81a2344b712', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}, {'number': 2, 'created': '2021-10-28 09:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/04403cd9914c0030054a90fab8256da0c740f5c3', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}, {'number': 3, 'created': '2021-10-28 09:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/62614715caf672acf428556561ad361744abff85', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}, {'number': 4, 'created': '2021-10-28 11:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/461ec6964ff69402d694740a3d0597413d59e510', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}, {'number': 5, 'created': '2021-11-09 07:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/307cb029e88f1ae9f520bdb86cfef9fac094b31c', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}, {'number': 6, 'created': '2021-11-11 10:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/91db14acadc162c6a471570f0c0ed725e2691058', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}, {'number': 7, 'created': '2021-11-11 11:49:50.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7728619f47a989a305e1551f9936edc680b134c2', 'message': 'Remove entry for Queens\n\nSince we are no longer testing queens, we\ncan remove entries for the same.\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7\n'}]",7,814903,7728619f47a989a305e1551f9936edc680b134c2,27,6,7,30742,,,0,"Remove entry for Queens

Since we are no longer testing queens, we
can remove entries for the same.
Signed-off-by: Soniya Vyas <svyas@redhat.com>
Change-Id: I25519a7e925f7b0990dacdd6dae9046d153397d7
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/03/814903/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,a593c808690d4b7530402ce35fccd81a2344b712,remove_queens_test,, - name: 'queens' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'queens' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940',0,6
openstack%2Ftripleo-quickstart-extras~master~I7a6912f28f8db3b345b62692ed3768f1f93377b5,openstack/tripleo-quickstart-extras,master,I7a6912f28f8db3b345b62692ed3768f1f93377b5,[workaround]Set permission for /dev/pts/ptmx to 666,ABANDONED,2021-11-09 06:57:01.000000000,2021-11-12 06:16:59.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-11-09 06:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ce096c8893d3d35f38ca280f160cfdd1af9d5f4', 'message': ""Set permission for /dev/pts/ptmx to 666\n\nWhen forking a pty as regular user, we get a failure to\nread/write on /dev/ptmx since it's just a symlink to /dev/pts/ptmx.\n\nIt happens only on CS9 once undercloud installation finishes\nand some containers having bad mount points.\n\nSetting the permission for /dev/pts/ptmx to 666 fixex the issue.\n\nRelated-Bug: #1950176\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7a6912f28f8db3b345b62692ed3768f1f93377b5\n""}, {'number': 2, 'created': '2021-11-09 08:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/231a2186207ed2ff5b97255b7aa14d58b52d618b', 'message': ""Set permission for /dev/pts/ptmx to 666\n\nWhen forking a pty as regular user, we get a failure to\nread/write on /dev/ptmx since it's just a symlink to /dev/pts/ptmx.\n\nIt happens only on CS9 once undercloud installation finishes\nand some containers having bad mount points.\n\nSetting the permission for /dev/pts/ptmx to 666 fixex the issue.\n\nRelated-Bug: #1950176\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7a6912f28f8db3b345b62692ed3768f1f93377b5\n""}, {'number': 3, 'created': '2021-11-11 08:06:36.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26bb66b7a5d207fbc2e5441c2a0e8d4ad3947884', 'message': ""[workaround]Set permission for /dev/pts/ptmx to 666\n\nWhen forking a pty as regular user, we get a failure to\nread/write on /dev/ptmx since it's just a symlink to /dev/pts/ptmx.\n\nIt happens only on CS9 once undercloud installation finishes\nand some containers having bad mount points.\n\nAdding the workaround by setting the permission for /dev/pts/ptmx to\n666 temprorly fixes the issue in CI.\n\nProper fix will come later.\n\nRelated-Bug: #1950176\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7a6912f28f8db3b345b62692ed3768f1f93377b5\n""}]",15,817141,26bb66b7a5d207fbc2e5441c2a0e8d4ad3947884,34,10,3,12393,,,0,"[workaround]Set permission for /dev/pts/ptmx to 666

When forking a pty as regular user, we get a failure to
read/write on /dev/ptmx since it's just a symlink to /dev/pts/ptmx.

It happens only on CS9 once undercloud installation finishes
and some containers having bad mount points.

Adding the workaround by setting the permission for /dev/pts/ptmx to
666 temprorly fixes the issue in CI.

Proper fix will come later.

Related-Bug: #1950176

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I7a6912f28f8db3b345b62692ed3768f1f93377b5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/817141/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,8ce096c8893d3d35f38ca280f160cfdd1af9d5f4,cs9,"# FIXME(chandankumar): Workaround for fixing OSError: out of pty devices # It needs to be removed once lp#1950176 closes. {% if ansible_distribution_major_version is version(9, '>=') %} chmod 666 /dev/pts/ptmx {% endif %} ",,6,0
openstack%2Ftripleo-common~stable%2Fussuri~I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,openstack/tripleo-common,stable/ussuri,I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,[EL8] Add nodejs:14 module stream,MERGED,2021-11-09 15:28:49.000000000,2021-11-12 04:20:27.000000000,2021-11-12 04:17:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-09 15:28:49.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fe9f5d85d07ffa829400c9f23c0cbfe692e9e00b', 'message': '[EL8] Add nodejs:14 module stream\n\nnodejs is a dependency of novnc in EL8, so it gets installed in the\nnova-novncproxy image. Not specifying a module stream means that the\ninstall can default to an unsupported version of nodejs.\n\nExplicitly enabling nodejs:14 prevents that.\n\nThe EL9 build of novnc does not require nodejs so this is not a concern\nthere.\n\nChange-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0\n(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)\n'}]",0,817234,fe9f5d85d07ffa829400c9f23c0cbfe692e9e00b,8,4,1,31581,,,0,"[EL8] Add nodejs:14 module stream

nodejs is a dependency of novnc in EL8, so it gets installed in the
nova-novncproxy image. Not specifying a module stream means that the
install can default to an unsupported version of nodejs.

Explicitly enabling nodejs:14 prevents that.

The EL9 build of novnc does not require nodejs so this is not a concern
there.

Change-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0
(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/817234/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,fe9f5d85d07ffa829400c9f23c0cbfe692e9e00b,, - enable: nodejs:{{ tcib_rhel_modules['nodejs'] | default('14') }},,1,0
openstack%2Ftripleo-common~master~I806d596c3930c1846f7dd1941e99a38bef717b89,openstack/tripleo-common,master,I806d596c3930c1846f7dd1941e99a38bef717b89,Add designate dashboard to the horizon container,MERGED,2021-11-09 19:16:28.000000000,2021-11-12 04:20:13.000000000,2021-11-12 04:17:34.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 19:16:28.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5439651d34b1796f0568dd18d2a0b1a1de50a23a', 'message': 'Add designate dashboard to the horizon container\n\nNeeded for enabling the designate dashboard in overcloud deployments.\n\nChange-Id: I806d596c3930c1846f7dd1941e99a38bef717b89\n'}]",1,817297,5439651d34b1796f0568dd18d2a0b1a1de50a23a,12,4,1,6681,,,0,"Add designate dashboard to the horizon container

Needed for enabling the designate dashboard in overcloud deployments.

Change-Id: I806d596c3930c1846f7dd1941e99a38bef717b89
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/817297/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/horizon/horizon.yaml'],1,5439651d34b1796f0568dd18d2a0b1a1de50a23a,, - openstack-designate-ui,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1b1ffdd68501d61a03d8153c4fc538b6d26c8344,openstack/tripleo-heat-templates,stable/wallaby,I1b1ffdd68501d61a03d8153c4fc538b6d26c8344,Wallaby and older: Remove heat-dashboard parameters from local_settings,MERGED,2021-09-21 00:30:07.000000000,2021-11-12 04:18:26.000000000,2021-11-12 04:18:26.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-21 00:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a0ac43793e239e5008009c21d5c97d52ed18d94', 'message': 'Horizon: Remove heat specific parameters from local_settings\n\nThis change ensures that parameters for heat-dashboards are removed\nfrom the base local_settings, because independent setting files for\nindividual dashboards have been added.\n\nDepends-on: https://review.opendev.org/810055\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n'}, {'number': 2, 'created': '2021-09-21 00:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd060495956dacf5bcffbe22d1c087c0b36ad4aa', 'message': 'stable-only: Remove heat-dashboard parameters from local_settings\n\nThis change ensures the parameters for heat-dashboards are removed\nfrom the base local_settings, because the parameters are now configured\nin the independent setting files.\n\nNote this change is required only in Wallaby and older and since Xena\nthe parameters are not included in the base local_settings by default.\n\nDepends-on: https://review.opendev.org/810055\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n'}, {'number': 3, 'created': '2021-09-21 00:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43946d9a6bf4e478bbef1bf254d7d598a9a8da05', 'message': 'stable-only: Remove heat-dashboard parameters from local_settings\n\nThis change ensures the parameters for heat-dashboard are removed\nfrom the base local_settings, because the parameters are now configured\nin the independent setting files.\n\nNote this change is required only in Wallaby and older and since Xena\nthe parameters are not included in the base local_settings by default.\n\nDepends-on: https://review.opendev.org/810055\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n'}, {'number': 4, 'created': '2021-10-26 00:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de1d5342ee141a9a9223545a901ce29a78bb319f', 'message': 'stable-only: Remove heat-dashboard parameters from local_settings\n\nThis change ensures the parameters for heat-dashboard are removed\nfrom the base local_settings, because the parameters are now configured\nin the independent setting files.\n\nNote this change is required only in Wallaby and older and since Xena\nthe parameters are not included in the base local_settings by default.\n\nDepends-on: https://review.opendev.org/810055\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n'}, {'number': 5, 'created': '2021-11-01 01:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e971fe3afb30307862888a9aa7c89196990e13f1', 'message': 'Wallaby and older: Remove heat-dashboard parameters from local_settings\n\nThis change ensures the parameters for heat-dashboard are removed\nfrom the base local_settings, because the parameters are now configured\nin the independent setting files.\n\nNote this change is required only in Wallaby and older and since Xena\nthe parameters are not included in the base local_settings by default.\n\nDepends-on: https://review.opendev.org/810055\nDepends-on: https://review.opendev.org/816108\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n'}, {'number': 6, 'created': '2021-11-01 01:26:29.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff66c15547e6b1dbfe31d79b5852099ba16384ac', 'message': 'Wallaby and older: Remove heat-dashboard parameters from local_settings\n\nThis change ensures the parameters for heat-dashboard are removed\nfrom the base local_settings, because the parameters are now configured\nin the independent setting files.\n\nNote this change is required only in Wallaby and older and since Xena\nthe parameters are no longer included in the base local_settings.\n\nDepends-on: https://review.opendev.org/810055\nDepends-on: https://review.opendev.org/816108\nChange-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344\n'}]",0,810133,ff66c15547e6b1dbfe31d79b5852099ba16384ac,18,5,6,9816,,,0,"Wallaby and older: Remove heat-dashboard parameters from local_settings

This change ensures the parameters for heat-dashboard are removed
from the base local_settings, because the parameters are now configured
in the independent setting files.

Note this change is required only in Wallaby and older and since Xena
the parameters are no longer included in the base local_settings.

Depends-on: https://review.opendev.org/810055
Depends-on: https://review.opendev.org/816108
Change-Id: I1b1ffdd68501d61a03d8153c4fc538b6d26c8344
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/810133/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,8a0ac43793e239e5008009c21d5c97d52ed18d94,puppet-horizon-dashboards, horizon::enable_user_pass: null,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9c649fecb6e742d9e1a4154f2b6d43fb333e83cb,openstack/tripleo-heat-templates,stable/wallaby,I9c649fecb6e742d9e1a4154f2b6d43fb333e83cb,Explicitly point undercloud instead of localhost,MERGED,2021-10-12 00:22:46.000000000,2021-11-12 04:18:18.000000000,2021-11-12 04:18:18.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-10-12 00:22:46.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a01843b963d0669deabf0a325df3b57254f8acdc', 'message': 'Explicitly point undercloud instead of localhost\n\nThis is a follow up of https://review.opendev.org/810389 and replaces\nusage of localhost by explicit undercloud to delegate configuration\nactions.\n\nChange-Id: I9c649fecb6e742d9e1a4154f2b6d43fb333e83cb\n(cherry picked from commit b0de138b41dddcee21b3db58a00e20223cddd841)\n'}]",1,813349,a01843b963d0669deabf0a325df3b57254f8acdc,14,7,1,9816,,,0,"Explicitly point undercloud instead of localhost

This is a follow up of https://review.opendev.org/810389 and replaces
usage of localhost by explicit undercloud to delegate configuration
actions.

Change-Id: I9c649fecb6e742d9e1a4154f2b6d43fb333e83cb
(cherry picked from commit b0de138b41dddcee21b3db58a00e20223cddd841)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/813349/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,a01843b963d0669deabf0a325df3b57254f8acdc,fix_delegate_master-stable/wallaby," delegate_to: ""{{ groups['Undercloud'] | first }}"" delegate_to: ""{{ groups['Undercloud'] | first }}"" delegate_to: ""{{ groups['Undercloud'] | first }}"" delegate_to: ""{{ groups['Undercloud'] | first }}""", delegate_to: localhost delegate_to: localhost delegate_to: localhost delegate_to: localhost,4,4
openstack%2Ftripleo-heat-templates~master~I9a253e77178bfe1cdd867a31e8b9adc310238819,openstack/tripleo-heat-templates,master,I9a253e77178bfe1cdd867a31e8b9adc310238819,[ovn] Deleting ovn agents during scale down tasks,MERGED,2021-10-27 13:49:56.000000000,2021-11-12 04:18:10.000000000,2021-11-12 04:18:10.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-27 13:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fac460b9bf2ed35685489b2a5f8a5f3312196432', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}, {'number': 2, 'created': '2021-10-28 00:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff1efa211e32dd1307765699f6e18fc21722f198', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nCurrently, the network agent disable doesn't work and will be fixed in\nbz#2018013.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}, {'number': 3, 'created': '2021-10-28 01:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3866f9b445b576fbdcf6eb3f995f5561abf83f40', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nCurrently, the network agent disable doesn't work and will be fixed in\nbz#2018013.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}, {'number': 4, 'created': '2021-10-29 14:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/facbb70bca1e965e0e8f630d38a0fd57ce6884e7', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nCurrently, the network agent disable doesn't work and will be looked at\nin lp#1949202\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nCloses-Bug: #1949203\n\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}, {'number': 5, 'created': '2021-11-03 13:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89453217cdc4c33005bc16e74c99b1c8c6802a15', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nCloses-Bug: #1949203\n\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}, {'number': 6, 'created': '2021-11-04 17:52:38.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1314f345fac2695ce1aef180880d6b1beb630a83', 'message': ""[ovn] Deleting ovn agents during scale down tasks\n\nWhen we scale down nodes, we need to make sure that the ovn agents are\ndeleted otherwise it's going to cause issues.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2017827\nCloses-Bug: #1949203\n\nChange-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819\n""}]",14,815667,1314f345fac2695ce1aef180880d6b1beb630a83,35,8,6,27419,,,0,"[ovn] Deleting ovn agents during scale down tasks

When we scale down nodes, we need to make sure that the ovn agents are
deleted otherwise it's going to cause issues.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=2017827
Closes-Bug: #1949203

Change-Id: I9a253e77178bfe1cdd867a31e8b9adc310238819
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/815667/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,fac460b9bf2ed35685489b2a5f8a5f3312196432,," scale_tasks: - when: - step|int == 1 - container_cli == 'podman' tags: down environment: OS_CLOUD: {get_param: RootStackName} block: # Some tasks are running from the Undercloud which has # the OpenStack clients installed. - name: Get neutron agents ID command: openstack network agent list --column ID --column Host --column Binary --format yaml register: neutron_agents_result delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false changed_when: false - name: Filter only current host set_fact: neutron_agents: ""{{ neutron_agents_result.stdout | from_yaml | selectattr('Host', 'match', ansible_facts['fqdn'] ~ '\..*') | list }}"" delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false - name: Disable neutron agents block: - name: Disable agents loop: ""{{ neutron_agents }}"" loop_control: loop_var: agent label: ""{{ agent.Host }}/{{ agent.Binary }}"" command: openstack neutron agent set {{ agent.Host }} {{ agent.Binary }} --disable delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false - name: Stop ovn containers loop: - ovn_controller - ovn_metadata_agent service: name: ""{{ item }}"" state: stopped enabled: false become: true register: stop_containers failed_when: ""('msg' in stop_containers and 'Could not find the requested service' not in stop_containers.msg) or ('rc' in stop_containers and stop_containers.rc != 0)"" - name: Disable agents loop: ""{{ neutron_agents }}"" loop_control: loop_var: agent label: ""{{ agent.Host }}/{{ agent.Binary }}"" command: openstack neutron agent delete {{ agent.Host }} {{ agent.Binary }} delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false",,52,0
openstack%2Ftripleo-heat-templates~master~Id05b48c97d5d9f2cdeba5dfad67616bf97b7fcae,openstack/tripleo-heat-templates,master,Id05b48c97d5d9f2cdeba5dfad67616bf97b7fcae,Use a designate specific directory for the bind persistent storage,MERGED,2021-11-08 19:42:06.000000000,2021-11-12 04:17:53.000000000,2021-11-12 04:17:53.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-08 19:42:06.000000000', 'files': ['deployment/designate/designate-bind-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f04caaf468fbba3be430238cc6075d672645538', 'message': ""Use a designate specific directory for the bind persistent storage\n\nGive the designate bind instance it's own persistent storage path to\navoid collisions with non-tripleo-owned bind instances.\n\nChange-Id: Id05b48c97d5d9f2cdeba5dfad67616bf97b7fcae\n""}]",0,817072,7f04caaf468fbba3be430238cc6075d672645538,9,5,1,6681,,,0,"Use a designate specific directory for the bind persistent storage

Give the designate bind instance it's own persistent storage path to
avoid collisions with non-tripleo-owned bind instances.

Change-Id: Id05b48c97d5d9f2cdeba5dfad67616bf97b7fcae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/817072/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-bind-container.yaml'],1,7f04caaf468fbba3be430238cc6075d672645538,, - /var/lib/designate/named-persistent:/var/named-persistent:z path: /var/lib/designate/named-persistent, - /var/named-persistent:/var/named-persistent:z path: /var/named-persistent,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I01bdd04fd7643672b45415271be5c9c63ad498e2,openstack/tripleo-heat-templates,stable/wallaby,I01bdd04fd7643672b45415271be5c9c63ad498e2,Fix logic related to CinderEtcdLocalConnect parameter,MERGED,2021-11-09 18:21:34.000000000,2021-11-12 04:17:44.000000000,2021-11-12 04:17:44.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 18:21:34.000000000', 'files': ['deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/870ace7c5646a5efa5ee8048f680105e9d975cf1', 'message': ""Fix logic related to CinderEtcdLocalConnect parameter\n\nI0ffb201c7c0a453a022cca45255afc7ab2c08046 simplified a number of\ncinder's templates, but the logic related to CinderEtcdLocalConnect\nwas inadvertently inverted. This patch fixes the logic so that the\nassociated config data is generated when CinderEtcdLocalConnect is\nTrue.\n\nChange-Id: I01bdd04fd7643672b45415271be5c9c63ad498e2\n(cherry picked from commit 8cb2fd898c3a275a319fb590ec4b3557bb7ef1b8)\n""}]",0,817259,870ace7c5646a5efa5ee8048f680105e9d975cf1,7,4,1,21129,,,0,"Fix logic related to CinderEtcdLocalConnect parameter

I0ffb201c7c0a453a022cca45255afc7ab2c08046 simplified a number of
cinder's templates, but the logic related to CinderEtcdLocalConnect
was inadvertently inverted. This patch fixes the logic so that the
associated config data is generated when CinderEtcdLocalConnect is
True.

Change-Id: I01bdd04fd7643672b45415271be5c9c63ad498e2
(cherry picked from commit 8cb2fd898c3a275a319fb590ec4b3557bb7ef1b8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/817259/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,870ace7c5646a5efa5ee8048f680105e9d975cf1,simplify_tht-stable/wallaby, - {get_param: CinderEtcdLocalConnect}," - not: {equals : [{get_param: CinderEtcdLocalConnect}, true]}",1,1
openstack%2Ftripleo-quickstart-extras~master~I5d02ae06f0f8cd199754ef83300ee90a10c1a0bb,openstack/tripleo-quickstart-extras,master,I5d02ae06f0f8cd199754ef83300ee90a10c1a0bb,Use whole_disk_images if this is passed through job vars,MERGED,2021-11-09 15:48:18.000000000,2021-11-12 04:17:29.000000000,2021-11-12 04:17:29.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-09 15:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/994ee961e8ba5c87e960b9549843ba4a4ff3ffa9', 'message': 'Use whole_disk_images if this is passed through job vars\n\nChange-Id: I5d02ae06f0f8cd199754ef83300ee90a10c1a0bb\nRelated-Bug: 1949765\n'}, {'number': 2, 'created': '2021-11-11 13:46:29.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0610a8875ab6610e561df74a8c11cad6a12a4c7c', 'message': 'Use whole_disk_images if this is passed through job vars\n\nChange-Id: I5d02ae06f0f8cd199754ef83300ee90a10c1a0bb\nRelated-Bug: 1949765\n'}]",5,817243,0610a8875ab6610e561df74a8c11cad6a12a4c7c,22,8,2,8449,,,0,"Use whole_disk_images if this is passed through job vars

Change-Id: I5d02ae06f0f8cd199754ef83300ee90a10c1a0bb
Related-Bug: 1949765
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/817243/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,994ee961e8ba5c87e960b9549843ba4a4ff3ffa9,," {% if job.whole_disk_images is defined -%} {{ job.whole_disk_images }} {%- elif release in ['train','ussuri','victoria','wallaby'] -%}"," {% if release in ['train','ussuri','victoria','wallaby'] -%}",3,1
openstack%2Fskyline-console~master~I25bb8006646d8f54b5e4bd0f84f713823f45ec5f,openstack/skyline-console,master,I25bb8006646d8f54b5e4bd0f84f713823f45ec5f,feat: Make phone number input international & change library related,MERGED,2021-11-08 11:01:37.000000000,2021-11-12 04:03:51.000000000,2021-11-12 04:03:51.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-11-08 11:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/006fce434c6c1b489e3645416f9ae34c3602ba04', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 2, 'created': '2021-11-09 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/55b71714308d7cedd16c4b7b7e2147f2f8370bb8', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 3, 'created': '2021-11-09 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d68ed2af47644ce7afef8f379810ac453d1c35be', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 4, 'created': '2021-11-10 02:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7f94dfeff8410ebaf39258a36d63e369190002c0', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 5, 'created': '2021-11-10 03:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6591cb235fd7e9a7bf786c19f8fbec7004aa6bed', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 6, 'created': '2021-11-10 05:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9c05411bf3a144391c06dbaafac1d0a9049bbe86', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 7, 'created': '2021-11-10 06:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5e647907f7c07acadcb94c71de3ec476f2df2f89', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 8, 'created': '2021-11-10 08:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b4cce552ee8875e039eeea2c2bfde70435dbda4e', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 9, 'created': '2021-11-10 09:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/967c0b3cb8e8e73a8b6a0c7bd6a3ab7edf1b55ac', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}, {'number': 10, 'created': '2021-11-11 10:55:20.000000000', 'files': ['src/components/FormItem/InternationalPhoneNumberInput/index.jsx', 'src/locales/zh.json', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/pages/identity/containers/User/actionsInDomain/Create.jsx', 'src/pages/identity/containers/User/actions/Edit.jsx', 'src/utils/validate.js', 'src/locales/en.json', 'src/components/FormItem/InternationalPhoneNumberInput/countries.js', 'yarn.lock', 'test/e2e/support/form-commands.js', 'test/e2e/integration/pages/identity/user.spec.js', 'package.json', 'test/e2e/support/resource-commands.js', 'src/components/FormItem/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/98cf22128f561143f750fba802d5d9afd72ae567', 'message': 'feat: Make phone number input international & change library related\n\n1. make phone number input international\n2. change phone number library to libphonenumber\n\nChange-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f\n'}]",5,816986,98cf22128f561143f750fba802d5d9afd72ae567,33,2,10,33636,,,0,"feat: Make phone number input international & change library related

1. make phone number input international
2. change phone number library to libphonenumber

Change-Id: I25bb8006646d8f54b5e4bd0f84f713823f45ec5f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/86/816986/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/FormItem/InternationalPhoneNumberInput/index.jsx', 'src/locales/en.json', 'src/components/FormItem/InternationalPhoneNumberInput/countries.js', 'src/locales/zh.json', 'yarn.lock', 'package.json', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/utils/validate.js', 'src/components/FormItem/InternationalPhoneNumberInput/components/CountrySelect.jsx', 'src/components/FormItem/index.jsx']",10,006fce434c6c1b489e3645416f9ae34c3602ba04,,"import SelectWithInput from './SelectWithInput'; import InternationPhoneNumberInput from './InternationalPhoneNumberInput'; phone: InternationPhoneNumberInput,",import SelectWithInput from './SelectWithInput',1749,14
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I97f1b73abb550c7fb549eda0d29b011e56ec3425,openstack/tripleo-heat-templates,stable/wallaby,I97f1b73abb550c7fb549eda0d29b011e56ec3425,Clean up implementation to manage volume type by puppet,MERGED,2021-11-09 15:58:39.000000000,2021-11-12 03:48:06.000000000,2021-11-12 03:48:06.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 15:58:39.000000000', 'files': ['deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4424dc9b7392da1abf715b0a4e2e3dbc0afd97de', 'message': 'Clean up implementation to manage volume type by puppet\n\nNow the default volume type in cinder is created by Ansible instead\nof Puppet, so there is no need to invoke management of volume types\nby puppet.\n\nChange-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425\n(cherry picked from commit 040859a739fd0d5a09949abece42a148a9cda969)\n'}]",3,817254,4424dc9b7392da1abf715b0a4e2e3dbc0afd97de,17,4,1,9816,,,0,"Clean up implementation to manage volume type by puppet

Now the default volume type in cinder is created by Ansible instead
of Puppet, so there is no need to invoke management of volume types
by puppet.

Change-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425
(cherry picked from commit 040859a739fd0d5a09949abece42a148a9cda969)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/817254/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-api-container-puppet.yaml'],1,4424dc9b7392da1abf715b0a4e2e3dbc0afd97de,," puppet_tags: cinder_config,file,concat,file_line,cinder_api_paste_ini"," puppet_tags: cinder_config,cinder_type,file,concat,file_line,cinder_api_paste_ini container_puppet_tasks: # Create the default volume type after the cinder-api service is # running. The puppet code will ensure this is only done once, on # the bootstrap node. step_4: config_volume: 'cinder_init_tasks' puppet_tags: cinder_config,cinder_type,file,concat,file_line step_config: 'include tripleo::profile::base::cinder::api' config_image: *cinder_api_image volumes: - /var/lib/config-data/puppet-generated/cinder/etc/cinder/:/etc/cinder/:ro ",1,13
openstack%2Ftripleo-ansible~stable%2Fwallaby~I17222ebd53fd39ee751fc8a2db83848111be99dd,openstack/tripleo-ansible,stable/wallaby,I17222ebd53fd39ee751fc8a2db83848111be99dd,Make KillMode configurable for service units,MERGED,2021-11-09 09:13:06.000000000,2021-11-12 03:34:21.000000000,2021-11-12 03:34:21.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 09:13:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10f908b1e9bcd4addc539a14cf98025cd1cbfc7d', 'message': 'Make KillMode configurable for service units\n\nLibvirt container is a special beast that needs custom\nkillmode value for its tripleo-manager service unit.\nAdd kill_mode for the container values that defaults to\ncontrol-group.\n\nChange-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd\nRelated: rhbz#2010135\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit e89f88036be54c5fd69a9703afb5c8ba7c66056d)\n'}]",2,817102,10f908b1e9bcd4addc539a14cf98025cd1cbfc7d,21,4,1,6926,,,0,"Make KillMode configurable for service units

Libvirt container is a special beast that needs custom
killmode value for its tripleo-manager service unit.
Add kill_mode for the container values that defaults to
control-group.

Change-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd
Related: rhbz#2010135
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit e89f88036be54c5fd69a9703afb5c8ba7c66056d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/817102/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,10f908b1e9bcd4addc539a14cf98025cd1cbfc7d,rhbz2010135-stable/wallaby,"KillMode={{ lookup('dict', container_data_unit).value.kill_mode | default('control-group') }}",,1,0
openstack%2Fswift~master~I99a926aab0c001d9de310b225debed642d52fd35,openstack/swift,master,I99a926aab0c001d9de310b225debed642d52fd35,Replace deprecated assertNotRegexpMatches,ABANDONED,2021-11-12 01:53:33.000000000,2021-11-12 03:25:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-12 01:53:33.000000000', 'files': ['test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py', 'test/unit/obj/test_ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/02f9637c2d65712ab2deec5bafa3eb2623227aed', 'message': 'Replace deprecated assertNotRegexpMatches\n\nThe assertNotRegexpMatches method has been deprecated since it was renamed\nto assertNotRegexpMatche in Python 3.2.\n\nhttps://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: I99a926aab0c001d9de310b225debed642d52fd35\n'}]",0,817664,02f9637c2d65712ab2deec5bafa3eb2623227aed,3,1,1,32029,,,0,"Replace deprecated assertNotRegexpMatches

The assertNotRegexpMatches method has been deprecated since it was renamed
to assertNotRegexpMatche in Python 3.2.

https://docs.python.org/3/library/unittest.html#deprecated-aliases

Change-Id: I99a926aab0c001d9de310b225debed642d52fd35
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/817664/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py', 'test/unit/obj/test_ssync_receiver.py']",3,02f9637c2d65712ab2deec5bafa3eb2623227aed,, self.assertRegexpMatche(, self.assertRegexpMatches(,3,3
openstack%2Fzun~master~I5309414a1cf166efeb7b978db763949c5f52ce20,openstack/zun,master,I5309414a1cf166efeb7b978db763949c5f52ce20,Increase the weight of the scheduling strategy.,ABANDONED,2021-11-10 12:24:25.000000000,2021-11-12 01:49:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-10 12:24:25.000000000', 'files': ['zun/scheduler/weights/ram.py', 'test-requirements.txt', 'zun/tests/unit/scheduler/weights/test_weights_ram.py', 'zun/scheduler/weights/__init__.py', 'zun/scheduler/filter_scheduler.py', 'zun/scheduler/weights/cpu.py', 'zun/scheduler/weights/disk.py', 'zun/scheduler/weights.py', 'zun/tests/unit/scheduler/test_weights.py', 'zun/scheduler/utils.py', 'zun/tests/unit/scheduler/weights/test_weights_cpu.py', 'zun/tests/unit/scheduler/weights/test_weights_disk.py', 'zun/conf/scheduler.py', 'zun/tests/unit/scheduler/weights/__init__.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e208d045a1b240be5606e00c726d84554c43ae45', 'message': 'Increase the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n\nIn ""zun.scheduler.FilterScheduler._schedule"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\n# * A string, where the string corresponds to the class name of a scheduler\n#   driver. There are a number of options available:\n# ** \'chance_scheduler\', which simply picks a host at random\n# ** A custom scheduler driver. In this case, you will be responsible for\n#    creating and maintaining the entry point in your \'setup.cfg\' file\n#  (string value)\n# Possible values:\n# chance_scheduler - <No description provided>\n# fake_scheduler - <No description provided>\n# filter_scheduler - <No description provided>\n#driver = filter_scheduler\ndriver = filter_scheduler\n\n# * A list of zero or more strings, where each string corresponds to the name\n# of a filter that may be used for selecting a host\navailable_filters = zun.scheduler.filters.all_filters\n\n#enabled_filters = AvailabilityZoneFilter,CPUFilter,RamFilter,ComputeFilter,DiskFilter,RuntimeFilter\nenabled_filters = CPUFilter\n\n#\n# Size of subset of best hosts selected by scheduler. For more information,\n# refer to the documentation. (integer value)\n# Minimum value: 1\n# Deprecated group;name - DEFAULT;scheduler_host_subset_size\n#host_subset_size=1\n#\n# Weighers that the scheduler will use. For more information, refer to the\n# documentation. (list value)\n# Deprecated group;name - DEFAULT;scheduler_weight_classes\n#weight_classes=nova.scheduler.weights.all_weighers\nweight_classes=nova.scheduler.weights.all_weighers\n\n#\n# RAM weight multipler ratio. For more information, refer to the documentation.\n# (floating point value)\n#ram_weight_multiplier=1.0\n\n#\n# CPU weight multiplier ratio. For more information, refer to the documentation.\n# (floating point value)\n#cpu_weight_multiplier=1.0\n\n#\n# Disk weight multipler ratio. For more information, refer to the documentation.\n# (floating point value)\n#disk_weight_multiplier=1.0\n\n#\n# Enable spreading the instances between hosts with the same best weight. For\n# more information, refer to the documentation. (boolean value)\n#shuffle_best_same_weighed_hosts=false\n```\n\nChange-Id: I5309414a1cf166efeb7b978db763949c5f52ce20\n'}]",21,817394,e208d045a1b240be5606e00c726d84554c43ae45,4,1,1,34189,,,0,"Increase the weight of the scheduling strategy.

In the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun's overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun's scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.

For the current version, the node hardware configuration of our environment:
```
computer01	16H64G7T	zun-compute
computer02	16H64G7T	zun-compute
computer03	16H64G40T	nova-compute
computer04	16H64G7T	nova-compute
controller01	16H64G40T	controller

```
The ""scheduler"" config of ""zun.conf"" is:

In ""zun.scheduler.FilterScheduler._schedule"", we can get node info:
```
[
ComputeNode(architecture='x86_64',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,
disk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname='computer02',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),
ComputeNode(architecture='x86_64',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,
disk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname='computer01',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)
]
```

But the final selected node is:
```
computer02 ram: 57234MB disk: 5126GB cpus: 3.0
```

Finally, the ""scheduler"" sample config of ""zun.conf"" is:
```
[scheduler]
# * A string, where the string corresponds to the class name of a scheduler
#   driver. There are a number of options available:
# ** 'chance_scheduler', which simply picks a host at random
# ** A custom scheduler driver. In this case, you will be responsible for
#    creating and maintaining the entry point in your 'setup.cfg' file
#  (string value)
# Possible values:
# chance_scheduler - <No description provided>
# fake_scheduler - <No description provided>
# filter_scheduler - <No description provided>
#driver = filter_scheduler
driver = filter_scheduler

# * A list of zero or more strings, where each string corresponds to the name
# of a filter that may be used for selecting a host
available_filters = zun.scheduler.filters.all_filters

#enabled_filters = AvailabilityZoneFilter,CPUFilter,RamFilter,ComputeFilter,DiskFilter,RuntimeFilter
enabled_filters = CPUFilter

#
# Size of subset of best hosts selected by scheduler. For more information,
# refer to the documentation. (integer value)
# Minimum value: 1
# Deprecated group;name - DEFAULT;scheduler_host_subset_size
#host_subset_size=1
#
# Weighers that the scheduler will use. For more information, refer to the
# documentation. (list value)
# Deprecated group;name - DEFAULT;scheduler_weight_classes
#weight_classes=nova.scheduler.weights.all_weighers
weight_classes=nova.scheduler.weights.all_weighers

#
# RAM weight multipler ratio. For more information, refer to the documentation.
# (floating point value)
#ram_weight_multiplier=1.0

#
# CPU weight multiplier ratio. For more information, refer to the documentation.
# (floating point value)
#cpu_weight_multiplier=1.0

#
# Disk weight multipler ratio. For more information, refer to the documentation.
# (floating point value)
#disk_weight_multiplier=1.0

#
# Enable spreading the instances between hosts with the same best weight. For
# more information, refer to the documentation. (boolean value)
#shuffle_best_same_weighed_hosts=false
```

Change-Id: I5309414a1cf166efeb7b978db763949c5f52ce20
",git fetch https://review.opendev.org/openstack/zun refs/changes/94/817394/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/scheduler/weights/ram.py', 'test-requirements.txt', 'zun/tests/unit/scheduler/weights/test_weights_ram.py', 'zun/scheduler/weights/__init__.py', 'zun/scheduler/filter_scheduler.py', 'zun/scheduler/weights/cpu.py', 'zun/scheduler/weights/disk.py', 'zun/scheduler/weights.py', 'zun/tests/unit/scheduler/test_weights.py', 'zun/scheduler/utils.py', 'zun/tests/unit/scheduler/weights/test_weights_cpu.py', 'zun/tests/unit/scheduler/weights/test_weights_disk.py', 'zun/conf/scheduler.py', 'zun/tests/unit/scheduler/weights/__init__.py']",14,e208d045a1b240be5606e00c726d84554c43ae45,ycj,,,1162,1
openstack%2Fpuppet-neutron~master~I03aa2c63a82ffaba0fadd09aedc8c37512a8cc3c,openstack/puppet-neutron,master,I03aa2c63a82ffaba0fadd09aedc8c37512a8cc3c,Remove ineffective notification,MERGED,2021-11-09 13:49:15.000000000,2021-11-12 00:51:58.000000000,2021-11-12 00:51:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 13:49:15.000000000', 'files': ['manifests/services/l2gw.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3c63347cf73aed1d10a34a8e50c88f4ae6b70ca1', 'message': 'Remove ineffective notification\n\nTitle of the resource to manage l2gw package is not the package name\nbut the hardcoded string, so current definition has never been used.\nAlso, the necessary notification is defined by neutron::deps and there\nis no need to re-define the same in an independent class.\n\nChange-Id: I03aa2c63a82ffaba0fadd09aedc8c37512a8cc3c\n'}]",0,817207,3c63347cf73aed1d10a34a8e50c88f4ae6b70ca1,7,3,1,9816,,,0,"Remove ineffective notification

Title of the resource to manage l2gw package is not the package name
but the hardcoded string, so current definition has never been used.
Also, the necessary notification is defined by neutron::deps and there
is no need to re-define the same in an independent class.

Change-Id: I03aa2c63a82ffaba0fadd09aedc8c37512a8cc3c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/07/817207/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/services/l2gw.pp'],1,3c63347cf73aed1d10a34a8e50c88f4ae6b70ca1,,, Package<| title == $::neutron::params::l2gw_package |> ~> Exec['l2gw-db-sync'],0,1
openstack%2Fopenstack-ansible-os_nova~master~Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662,openstack/openstack-ansible-os_nova,master,Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662,Enable TLS for live migrations,MERGED,2021-10-25 07:34:26.000000000,2021-11-12 00:51:18.000000000,2021-11-12 00:49:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-10-25 07:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9c4e9afbd6d6120f3ae56832527766fc45c1736e', 'message': ""[WIP] Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 2, 'created': '2021-10-27 10:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/251799b85a7462f4ff10677771b88a2900072b9b', 'message': ""[WIP] Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 3, 'created': '2021-10-27 11:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/06fae860d7da7de5e189baf971517f6bdec13143', 'message': ""[WIP] Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 4, 'created': '2021-10-27 14:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4fbdabfe4c3a13abed46996824b608c35714bdd4', 'message': ""[WIP] Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 5, 'created': '2021-10-28 08:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d0bba58fe085c09e4df393968dd2f9c943029df9', 'message': ""[WIP] Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 6, 'created': '2021-10-28 15:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c4ea816e9aad623a4fc5b28f5c20fb699be43453', 'message': ""Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 7, 'created': '2021-10-28 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/571a025c57f7f0c20f60b7353ccf7f36664ff35a', 'message': ""Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815849\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 8, 'created': '2021-10-28 15:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c88ddedbaf7a77a7666b0cb6b0bd1c6b49a773be', 'message': ""Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815849\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 9, 'created': '2021-11-03 16:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/924e9299ec1367f3ce418bb06d8c6ea3944cc660', 'message': ""Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815849\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 10, 'created': '2021-11-05 15:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fde86738a4ce4dc6d784f0df14a22d88e1e3a1a6', 'message': ""Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815849\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/816857\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}, {'number': 11, 'created': '2021-11-09 09:41:56.000000000', 'files': ['tasks/main.yml', 'tasks/nova_compute.yml', 'templates/nova.conf.j2', 'templates/libvirtd.conf.j2', 'templates/qemu.conf.j2', 'handlers/main.yml', 'defaults/main.yml', 'releasenotes/notes/tls-migration-3ed93cc04dab5eee.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ad8bda5f641c88bb74055197aa248d2b16993d16', 'message': ""Enable TLS for live migrations\n\nInstead of using SSH to live migrate VM's use TLS as this is more\nsecure and SSH migrations are deprecated.\nhttps://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html\nA pre-existing PKI (Public Key Infrastruture) setup is required.\n\nTLS live migrations require that all compute hosts can communcate\nwith each other on port 16514 and port range 49152 to 49261.\n\nTo enable TLS live migrations, both libvirt and QEMU require server\nand client certificates, the server certicicates is used to verify\nservers and the client cert is used by servers to authenticate\nclients. A single cert is created by the pki role, that can be\nused by both libvirt and QEMU for both client and server auth.\n\nThe client, server and CA certifcates need to installed in a\nnumber of locations on each compute host:\n* For Libvirt https://libvirt.org/tlscerts.html\n* For QEMU https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu.conf\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815849\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/816857\n\nChange-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662\n""}]",42,815224,ad8bda5f641c88bb74055197aa248d2b16993d16,38,3,11,31749,,,0,"Enable TLS for live migrations

Instead of using SSH to live migrate VM's use TLS as this is more
secure and SSH migrations are deprecated.
https://docs.openstack.org/nova/xena/admin/secure-live-migration-with-qemu-native-tls.html
A pre-existing PKI (Public Key Infrastruture) setup is required.

TLS live migrations require that all compute hosts can communcate
with each other on port 16514 and port range 49152 to 49261.

To enable TLS live migrations, both libvirt and QEMU require server
and client certificates, the server certicicates is used to verify
servers and the client cert is used by servers to authenticate
clients. A single cert is created by the pki role, that can be
used by both libvirt and QEMU for both client and server auth.

The client, server and CA certifcates need to installed in a
number of locations on each compute host:
* For Libvirt https://libvirt.org/tlscerts.html
* For QEMU https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu.conf

Depends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815007
Depends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/815849
Depends-On: https://review.opendev.org/c/openstack/ansible-role-pki/+/816857

Change-Id: Iddbe8764bb6d3cd3eaee122b2d5ddc02fa3f7662
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/24/815224/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/nova.conf.j2', 'templates/qemu.conf.j2', 'defaults/main.yml']",4,9c4e9afbd6d6120f3ae56832527766fc45c1736e,tls-migration,"nova_libvirtd_listen_tls: 1 nova_libvirtd_listen_tcp: 1 # Storage location for SSL certificate authority nova_pki_dir: ""{{ openstack_pki_dir | default('/etc/pki/nova-ca') }}"" # Delegated host for operating the certificate authority nova_pki_setup_host: ""{{ openstack_pki_setup_host | default('localhost') }}"" # Create a certificate authority if one does not already exist nova_pki_create_ca: ""{{ openstack_pki_authorities is not defined | bool }}"" nova_pki_regen_ca: '' nova_pki_authorities: - name: ""novaRoot"" country: ""GB"" state_or_province_name: ""England"" organization_name: ""Example Corporation"" organizational_unit_name: ""IT Security"" cn: ""nova Root CA"" provider: selfsigned basic_constraints: ""CA:TRUE"" key_usage: - digitalSignature - cRLSign - keyCertSign not_after: ""+3650d"" - name: ""novaIntermediate"" country: ""GB"" state_or_province_name: ""England"" organization_name: ""Example Corporation"" organizational_unit_name: ""IT Security"" cn: ""nova Intermediate CA"" provider: ownca basic_constraints: ""CA:TRUE,pathlen:0"" key_usage: - digitalSignature - cRLSign - keyCertSign not_after: ""+3650d"" signed_by: ""novaRoot"" # Installation details for certificate authorities nova_pki_install_ca: - name: ""novaRoot"" condition: ""{{ nova_pki_create_ca }}"" # nova server certificate nova_pki_keys_path: ""{{ nova_pki_dir ~ '/certs/private/' }}"" nova_pki_certs_path: ""{{ nova_pki_dir ~ '/certs/certs/' }}"" nova_pki_intermediate_cert_name: ""{{ openstack_pki_service_intermediate_cert_name | default('novaIntermediate') }}"" nova_pki_intermediate_cert_path: ""{{ nova_pki_dir ~ '/roots/' ~ nova_pki_intermediate_cert_name ~ '/certs/' ~ nova_pki_intermediate_cert_name ~ '.crt' }}"" nova_pki_regen_cert: '' nova_pki_certificates: - name: ""nova_{{ ansible_facts['hostname'] }}"" provider: ownca cn: ""{{ ansible_facts['hostname'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ ansible_host }}"" signed_by: ""{{ nova_pki_intermediate_cert_name }}"" key_usage: - digitalSignature - keyAgreement extended_key_usage: - clientAuth - serverAuth # libvirt destination files for SSL certificates nova_libvirt_ssl_dir: /etc/pki/qemu/ nova_ssl_server_cert: ""{{ nova_libvirt_ssl_dir }}server-cert.pem"" nova_ssl_server_key: ""{{ nova_libvirt_ssl_dir }}server-key.pem"" nova_ssl_client_cert: ""{{ nova_libvirt_ssl_dir }}client-cert.pem"" nova_ssl_client_key: ""{{ nova_libvirt_ssl_dir }}client-key.pem"" nova_ssl_ca_cert: ""{{ nova_libvirt_ssl_dir }}ca-cert.pem"" # Installation details for SSL certificates nova_pki_install_certificates: - src: ""{{ nova_user_ssl_cert | default(nova_pki_certs_path ~ 'nova_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ nova_ssl_server_cert }}"" owner: ""root"" group: ""root"" mode: ""0640"" - src: ""{{ nova_user_ssl_key | default(nova_pki_keys_path ~ 'nova_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ nova_ssl_server_key }}"" owner: ""root"" group: ""root"" mode: ""0640"" - src: ""{{ nova_user_ssl_cert | default(nova_pki_certs_path ~ 'nova_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ nova_ssl_client_cert }}"" owner: ""root"" group: ""root"" mode: ""0640"" - src: ""{{ nova_user_ssl_key | default(nova_pki_keys_path ~ 'nova_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ nova_ssl_client_key }}"" owner: ""root"" group: ""root"" mode: ""0640"" - src: ""{{ nova_user_ssl_ca_cert | default(nova_pki_intermediate_cert_path) }}"" dest: ""{{ nova_ssl_ca_cert }}"" owner: ""root"" group: ""root"" mode: ""0644"" # Define user-provided SSL certificates in: # /etc/openstack_deploy/user_variables.yml #nova_user_ssl_cert: <path to cert on ansible deployment host> #nova_user_ssl_key: <path to cert on ansible deployment host> #nova_user_ssl_ca_cert: <path to cert on ansible deployment host> nova_live_migration_secure: true",nova_libvirtd_listen_tls: 0 nova_libvirtd_listen_tcp: 0,132,19
openstack%2Fpbr~master~If4320da1e89a5c765e0bfe56b724364f9cba34f3,openstack/pbr,master,If4320da1e89a5c765e0bfe56b724364f9cba34f3,Clarify the need for setup.py with PEP517,MERGED,2021-11-08 16:57:31.000000000,2021-11-12 00:23:20.000000000,2021-11-12 00:20:30.000000000,"[{'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 16:57:31.000000000', 'files': ['pbr/tests/test_packaging.py', 'doc/source/user/using.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/d21c2caf1dbd69ba630075e48254131499f01afe', 'message': 'Clarify the need for setup.py with PEP517\n\nThere was a misunderstanding that PBRs PEP517 build hooks meant we no\nlonger needed a setup.py. But it turns out the setuptools build_meta\nhooks that we wrap call out to setup.py. This means PBR will continue to\nneed to be used in conjunction with a setup.py.\n\nThis is better for backward compatibiltiy anyway so not a huge loss.\n\nDocument this more properly and update the test to reflect it.\n\nChange-Id: If4320da1e89a5c765e0bfe56b724364f9cba34f3\n'}]",2,817054,d21c2caf1dbd69ba630075e48254131499f01afe,12,3,1,4146,,,0,"Clarify the need for setup.py with PEP517

There was a misunderstanding that PBRs PEP517 build hooks meant we no
longer needed a setup.py. But it turns out the setuptools build_meta
hooks that we wrap call out to setup.py. This means PBR will continue to
need to be used in conjunction with a setup.py.

This is better for backward compatibiltiy anyway so not a huge loss.

Document this more properly and update the test to reflect it.

Change-Id: If4320da1e89a5c765e0bfe56b724364f9cba34f3
",git fetch https://review.opendev.org/openstack/pbr refs/changes/54/817054/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_packaging.py', 'doc/source/user/using.rst']",2,d21c2caf1dbd69ba630075e48254131499f01afe,pep517-clarification,"PBR can be configured as a PEP517 build-system in ``pyproject.toml``. This currently continues to rely on setuptools which means you need the above ``setup.py`` file to be present. The main benefits to using a ``pyproject.toml`` file with PBR are that you can control the versions of PBR, setuptools, and wheel that are used avoiding easy_install invocation. Eventually PBR may grow its own direct support for PEP517 build hooks, but until then it will continue to need setuptools and ``setup.py``. ",As an alternative to writing a ``setup.py`` you can instead setup PBR through the PEP 517 build-system configuration in ``pyproject.toml``.,12,7
openstack%2Fpuppet-ovn~stable%2Fvictoria~Ia78c0873e7ac6488b3048ae8475cc87ec40022bb,openstack/puppet-ovn,stable/victoria,Ia78c0873e7ac6488b3048ae8475cc87ec40022bb,Add ovn-monitor-all option to ovn-controller,MERGED,2021-11-08 12:43:54.000000000,2021-11-12 00:09:06.000000000,2021-11-11 23:54:54.000000000,"[{'_account_id': 9816}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/18977a2e37ba385944f6218e13c670dd24bffb56', 'message': 'Add ovn-monitor-all option to ovn-controller\n\nWith monitor-all option, all ovn-controllers\ndo not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\n\nConflicts:\n\tmanifests/controller.pp\n\nPartial-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb\n(cherry picked from commit 7a1bb545198d8c864c619b30f4bc13417d764bbd)\n(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)\n'}, {'number': 2, 'created': '2021-11-08 12:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/0d64b4f336d725884531c97b88ba3c12cd642384', 'message': 'Add ovn-monitor-all option to ovn-controller\n\nWith monitor-all option, all ovn-controllers\ndo not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\n\nPartial-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb\n(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)\n'}, {'number': 3, 'created': '2021-11-08 14:00:04.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/ovn-monitor-all-001cafc946130936.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/d2c29451c4c88fc97f08f78dc07642150ef6e463', 'message': 'Add ovn-monitor-all option to ovn-controller\n\nWith monitor-all option, all ovn-controllers\ndo not enable conditional monitoring there\nby reducing the load on the Southbound ovsdb-server.\n\nConflicts:\n\tmanifests/controller.pp\n\n(wallaby -> victoria)\nConflicts:\n\tmanifests/controller.pp\n\nResolved conflict caused by c60fdb9540bc5dfc60cf05d56ad9d8fe45164343\n\nPartial-Bug: #1936781\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb\n(cherry picked from commit 7a1bb545198d8c864c619b30f4bc13417d764bbd)\n(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)\n'}]",2,816955,d2c29451c4c88fc97f08f78dc07642150ef6e463,15,4,3,11082,,,0,"Add ovn-monitor-all option to ovn-controller

With monitor-all option, all ovn-controllers
do not enable conditional monitoring there
by reducing the load on the Southbound ovsdb-server.

Conflicts:
	manifests/controller.pp

(wallaby -> victoria)
Conflicts:
	manifests/controller.pp

Resolved conflict caused by c60fdb9540bc5dfc60cf05d56ad9d8fe45164343

Partial-Bug: #1936781
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: Ia78c0873e7ac6488b3048ae8475cc87ec40022bb
(cherry picked from commit 7a1bb545198d8c864c619b30f4bc13417d764bbd)
(cherry picked from commit 9879556556e9cb2bc9139799e93da5feb60124b3)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/55/816955/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/ovn-monitor-all-001cafc946130936.yaml']",3,18977a2e37ba385944f6218e13c670dd24bffb56,ovn-monitor-all,--- features: - | The new ``ovn::controller::ovn_monitor_all`` parameter has been added. ,,33,0
openstack%2Fproject-config~master~I62783d6180eddfff3c0e8014011e6bb90c819ed4,openstack/project-config,master,I62783d6180eddfff3c0e8014011e6bb90c819ed4,Remove debian-stretch nodes and builds,MERGED,2021-11-10 04:11:04.000000000,2021-11-11 23:48:31.000000000,2021-11-11 23:35:15.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 04:11:04.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b48f6b8f70c9337e89c991ac3d46ecf7c75f3081', 'message': 'Remove debian-stretch nodes and builds\n\nChange-Id: I62783d6180eddfff3c0e8014011e6bb90c819ed4\n'}]",1,817339,b48f6b8f70c9337e89c991ac3d46ecf7c75f3081,7,2,1,7118,,,0,"Remove debian-stretch nodes and builds

Change-Id: I62783d6180eddfff3c0e8014011e6bb90c819ed4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/817339/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'nodepool/nb03.opendev.org.yaml']",6,b48f6b8f70c9337e89c991ac3d46ecf7c75f3081,debian-stretch,," - name: debian-stretch-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: debian-stretch-arm64 parent: base-debuntu elements: - debian-minimal release: stretch env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/debian' ",0,102
openstack%2Fproject-config~master~I35d880b1a6c23d3ac399b940e565b0dcf63f43bd,openstack/project-config,master,I35d880b1a6c23d3ac399b940e565b0dcf63f43bd,"Retire training-labs: add noop-jobs, update acl",MERGED,2021-11-11 01:15:13.000000000,2021-11-11 23:41:43.000000000,2021-11-11 23:15:22.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 01:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f7cfe27822b64b6130131227aef29cd4057ea8a2', 'message': 'Retire training-labs: add noop-jobs\n\ntraining-labs is decided to retire[1], this commit\nadds the noop-jobs to start the retirement.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html\n\nChange-Id: I35d880b1a6c23d3ac399b940e565b0dcf63f43bd\n'}, {'number': 2, 'created': '2021-11-11 01:24:33.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/55ffda006d8c774ffdc874e08b35209d9f9a819b', 'message': 'Retire training-labs: add noop-jobs, update acl\n\ntraining-labs is decided to retire[1], this commit\nadds the noop-jobs to start the retirement.\n\nAlso updating the ACL so that we can merge the\nrepo content removal.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html\n\nChange-Id: I35d880b1a6c23d3ac399b940e565b0dcf63f43bd\n'}]",0,817502,55ffda006d8c774ffdc874e08b35209d9f9a819b,8,2,2,8556,,,0,"Retire training-labs: add noop-jobs, update acl

training-labs is decided to retire[1], this commit
adds the noop-jobs to start the retirement.

Also updating the ACL so that we can merge the
repo content removal.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025586.html

Change-Id: I35d880b1a6c23d3ac399b940e565b0dcf63f43bd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/817502/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f7cfe27822b64b6130131227aef29cd4057ea8a2,retire-training-labs, - noop-jobs,,1,0
openstack%2Fpuppet-openstack-integration~master~Ifaba379d497893c5ff858d0e4151f93f97994510,openstack/puppet-openstack-integration,master,Ifaba379d497893c5ff858d0e4151f93f97994510,Neutron: Fix missing configurations of l2gw-agent,MERGED,2021-11-10 14:46:51.000000000,2021-11-11 23:23:42.000000000,2021-11-11 23:23:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 14:46:51.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ff00f5488dddc0f27d2d43693b28e22e1dbf07ce', 'message': 'Neutron: Fix missing configurations of l2gw-agent\n\nChange-Id: Ifaba379d497893c5ff858d0e4151f93f97994510\n'}]",0,817442,ff00f5488dddc0f27d2d43693b28e22e1dbf07ce,7,3,1,9816,,,0,"Neutron: Fix missing configurations of l2gw-agent

Change-Id: Ifaba379d497893c5ff858d0e4151f93f97994510
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/42/817442/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,ff00f5488dddc0f27d2d43693b28e22e1dbf07ce,l2gw, class { 'neutron::services::l2gw': } class { 'neutron::services::l2gw': class { 'neutron::agents::l2gw': }, class {'neutron::services::l2gw': } class {'neutron::services::l2gw':,3,2
openstack%2Fproject-config~master~I2da0562f831fb976d88aea246fcf93dccb22fb96,openstack/project-config,master,I2da0562f831fb976d88aea246fcf93dccb22fb96,Retire puppet-senlin - Step 1: End project Gating,MERGED,2021-11-10 02:14:50.000000000,2021-11-11 23:11:35.000000000,2021-11-11 23:11:35.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 02:14:50.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9cdfcf37a9192e166dee3fd6528de8ab650f87b0', 'message': ""Retire puppet-senlin - Step 1: End project Gating\n\nThis module has been incomplete and doesn't support very fundamental\nresources like packages, services and so on. Because we haven't seen\nany effort to complete its implementation for a long and we have\nreceived no objections to dropping the module[1], I'd propose retiring\nthis module from Puppet OpenStack now.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025655.html\n\nChange-Id: I2da0562f831fb976d88aea246fcf93dccb22fb96\n""}]",0,817324,9cdfcf37a9192e166dee3fd6528de8ab650f87b0,9,4,1,9816,,,0,"Retire puppet-senlin - Step 1: End project Gating

This module has been incomplete and doesn't support very fundamental
resources like packages, services and so on. Because we haven't seen
any effort to complete its implementation for a long and we have
received no objections to dropping the module[1], I'd propose retiring
this module from Puppet OpenStack now.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025655.html

Change-Id: I2da0562f831fb976d88aea246fcf93dccb22fb96
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/817324/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9cdfcf37a9192e166dee3fd6528de8ab650f87b0,retire-puppet-senlin, - noop-jobs, - puppet-release-jobs,1,1
openstack%2Fopenstack-ansible~master~I39082bee2435781d87f653e66fd55a92397c5572,openstack/openstack-ansible,master,I39082bee2435781d87f653e66fd55a92397c5572,Fix error in dynamic-address-fact task,MERGED,2021-10-20 16:08:01.000000000,2021-11-11 23:07:57.000000000,2021-11-11 23:06:01.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-10-20 16:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf9720f44b45db3a5f0c46df777b404372bb70ad', 'message': ""Fix error in dynamic-address-fact task when no tunnel interface\n\nIf no container_networks[network_address]['bridge'] interface\ndefined and you have set a dynamic_address_gather_filter the\njinja default filter will try still try to evelaute and fail\nas container_networks[network_address]['bridge'] not defined\n\nChange-Id: I39082bee2435781d87f653e66fd55a92397c5572\n""}, {'number': 2, 'created': '2021-10-21 06:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93ed49df2d34dff927374bdc8b7a470399cb8d5f', 'message': ""Fix error in dynamic-address-fact task when no tunnel interface\n\nIf no container_networks[network_address]['bridge'] interface\ndefined and you have set a dynamic_address_gather_filter the\njinja default filter will try still try to evelaute and fail\nas container_networks[network_address]['bridge'] not defined\n\nChange-Id: I39082bee2435781d87f653e66fd55a92397c5572\n""}, {'number': 3, 'created': '2021-11-11 14:50:58.000000000', 'files': ['playbooks/common-tasks/dynamic-address-fact.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3504694b4afb4792357c816631c6ddd6cfdde9e3', 'message': ""Fix error in dynamic-address-fact task\n\nWhen a dynamic_address_gather_filter is set and the inventory\ndata does not generate the dynamic inventory variable\ncontainer_networks[network_address]['bridge'], the task will\nfail, as even though dynamic_address_gather_filter is defined\nthe jinja template will still try to evaluate\ncontainer_networks[network_address]['bridge'].\n\nThis patch fixes this by setting a default value if\ncontainer_networks[network_address]['bridge'] is not defined\n\nChange-Id: I39082bee2435781d87f653e66fd55a92397c5572\n""}]",3,814804,3504694b4afb4792357c816631c6ddd6cfdde9e3,14,3,3,31749,,,0,"Fix error in dynamic-address-fact task

When a dynamic_address_gather_filter is set and the inventory
data does not generate the dynamic inventory variable
container_networks[network_address]['bridge'], the task will
fail, as even though dynamic_address_gather_filter is defined
the jinja template will still try to evaluate
container_networks[network_address]['bridge'].

This patch fixes this by setting a default value if
container_networks[network_address]['bridge'] is not defined

Change-Id: I39082bee2435781d87f653e66fd55a92397c5572
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/814804/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/dynamic-address-fact.yml'],1,bf9720f44b45db3a5f0c46df777b404372bb70ad,ansible-facts," filter: ""{{ dynamic_address_gather_filter | default(('ansible_' ~ default_tunnel_interface_name) | replace('-','_')) }}"" vars: default_tunnel_interface_name: ""{{ container_networks[network_address]['bridge'] | default }}"" - (dynamic_address_gather_filter is defined) or (default_tunnel_name | length > 0)"," filter: ""{{ dynamic_address_gather_filter | default(('ansible_' ~ container_networks[network_address]['bridge']) | replace('-','_')) }}"" - (dynamic_address_gather_filter is defined) or (container_networks[network_address] is defined and container_networks[network_address]['bridge'] is defined)",4,2
openstack%2Fopenstack-ansible-os_gnocchi~master~If4103a28235b0127b5e2220577a7cd2451154c1d,openstack/openstack-ansible-os_gnocchi,master,If4103a28235b0127b5e2220577a7cd2451154c1d,Do not provide ceph_alternative extra for ceph,MERGED,2021-11-11 08:36:22.000000000,2021-11-11 22:56:33.000000000,2021-11-11 22:55:00.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-11-11 08:36:22.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/2938fadcf3bc662495c5a135ba3fcd63b1e2040b', 'message': 'Do not provide ceph_alternative extra for ceph\n\nWhen adding ceph_alternative in pip extras, pip tries to install\npython-rados which is not available from pypi and this fails installation\nWe symlink all required packages inside venv with ceph_client role so\nproviding ceph_alternative as extras makes no sense.\n\nChange-Id: If4103a28235b0127b5e2220577a7cd2451154c1d\n'}]",0,817521,2938fadcf3bc662495c5a135ba3fcd63b1e2040b,8,3,1,28619,,,0,"Do not provide ceph_alternative extra for ceph

When adding ceph_alternative in pip extras, pip tries to install
python-rados which is not available from pypi and this fails installation
We symlink all required packages inside venv with ceph_client role so
providing ceph_alternative as extras makes no sense.

Change-Id: If4103a28235b0127b5e2220577a7cd2451154c1d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/21/817521/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,2938fadcf3bc662495c5a135ba3fcd63b1e2040b,,"# NOTE(noonedeadpunk): We prefer using ceph_alternative when storage driver is ceph. # However, if we define ceph_alternative here, gnocchi with setup.cfg # will attempt to install python-rados which is not available from pypi # anyway. We symlink required package with ceph_client role. {% if gnocchi_storage_driver not in ['ceph', 'file'] %} {{ extra_package | default('') }}", {% if gnocchi_storage_driver == 'ceph' %} {% set extra_package = 'ceph_alternative' %} {% elif gnocchi_storage_driver == 'file' %} {% set extra_package = '' %} {% else %} {{ extra_package }},6,6
openstack%2Fbarbican~master~I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1,openstack/barbican,master,I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1,Fix consumer name length validator,MERGED,2021-11-10 21:22:43.000000000,2021-11-11 22:52:46.000000000,2021-11-11 22:51:00.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 21:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d52d4c46e3614dac17fd617b697f53dd5158dad', 'message': 'Fix consumer name length validator\n\nThis patch fixes a mismatch between the size of the column for a\nconsumer ""name"" in the database and the value being checked by the api\nvalidator.\n\nThe maximum size in the database is 36 chars [1], so we must use that value\nin the validator.\n\n[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826\n\nStory: 2009672\nTask: 43939\n\nChange-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1\n'}, {'number': 2, 'created': '2021-11-10 21:24:22.000000000', 'files': ['barbican/common/validators.py', 'releasenotes/notes/fix-story-2009672-d64ef6c10444f517.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/31aa926175b62b347593acb8b147810b4b49b9de', 'message': 'Fix consumer name length validator\n\nThis patch fixes a mismatch between the size of the column for a\nconsumer ""name"" in the database and the value being checked by the api\nvalidator.\n\nThe maximum size in the database is 36 chars [1], so we must use that value\nin the validator.\n\n[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826\n\nStory: 2009672\nTask: 43939\n\nChange-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1\n'}]",1,817477,31aa926175b62b347593acb8b147810b4b49b9de,9,3,2,7973,,,0,"Fix consumer name length validator

This patch fixes a mismatch between the size of the column for a
consumer ""name"" in the database and the value being checked by the api
validator.

The maximum size in the database is 36 chars [1], so we must use that value
in the validator.

[1] https://opendev.org/openstack/barbican/src/branch/stable/xena/barbican/model/models.py#L826

Story: 2009672
Task: 43939

Change-Id: I76f075a94056aa65cd44fd1d7f5d4b24109b6ed1
",git fetch https://review.opendev.org/openstack/barbican refs/changes/77/817477/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/validators.py', 'releasenotes/notes/fix-story-2009672-d64ef6c10444f517.yaml']",2,0d52d4c46e3614dac17fd617b697f53dd5158dad,story/2009672,--- fixes: - | Fixed Story #2009672 - Fixed validator for Container Consumers to prevent 500 errors. ,,6,1
openstack%2Fproject-config~master~I5ccc7f07f91d64b485e3dd81be89ae60d243cfb1,openstack/project-config,master,I5ccc7f07f91d64b485e3dd81be89ae60d243cfb1,Set debian-stretch to min-ready: 0,MERGED,2021-11-10 04:11:04.000000000,2021-11-11 22:47:21.000000000,2021-11-11 22:40:38.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 04:11:04.000000000', 'files': ['nodepool/nl01.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0cfaf9e4765aff3b1d6244e68ad9e36727e908b1', 'message': 'Set debian-stretch to min-ready: 0\n\nThere should be no more references to these nodes\n\nChange-Id: I5ccc7f07f91d64b485e3dd81be89ae60d243cfb1\n'}]",0,817338,0cfaf9e4765aff3b1d6244e68ad9e36727e908b1,8,3,1,7118,,,0,"Set debian-stretch to min-ready: 0

There should be no more references to these nodes

Change-Id: I5ccc7f07f91d64b485e3dd81be89ae60d243cfb1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/817338/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl01.opendev.org.yaml'],1,0cfaf9e4765aff3b1d6244e68ad9e36727e908b1,debian-stretch, min-ready: 0, min-ready: 1,1,1
openstack%2Fansible-role-systemd_service~master~I60d321fcdce3d3a94233cc25c92898d9e9f2a9b8,openstack/ansible-role-systemd_service,master,I60d321fcdce3d3a94233cc25c92898d9e9f2a9b8,Update run and lock path for systemd,MERGED,2021-11-04 18:27:37.000000000,2021-11-11 22:32:20.000000000,2021-11-11 22:30:30.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-11-04 18:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/bf0a2629aac34d493ca78e10af770d637f8b0237', 'message': 'Update run and lock path for systemd\n\nSince /var/run is a symlink to /run and /var/lock is a symlink to\n/run/lock for all modern operationg systems, it makes sense to\nchange default paths that are used.\n\nTo make such changes more flexible, ``systemd_run_dir`` and\n``systemd_lock_dir`` are introduced.\n\nChange-Id: I60d321fcdce3d3a94233cc25c92898d9e9f2a9b8\n'}, {'number': 2, 'created': '2021-11-04 18:30:54.000000000', 'files': ['tasks/main.yml', 'templates/systemd-tmpfiles.j2', 'releasenotes/notes/systemd_run_lock_dir-5b4b0cad9c860ce0.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/46185f389eb8dc14c70b82b820cfe288df4a20e8', 'message': 'Update run and lock path for systemd\n\nSince /var/run is a symlink to /run and /var/lock is a symlink to\n/run/lock for all modern operationg systems, it makes sense to\nchange default paths that are used.\n\nTo make such changes more flexible, ``systemd_run_dir`` and\n``systemd_lock_dir`` are introduced.\n\nChange-Id: I60d321fcdce3d3a94233cc25c92898d9e9f2a9b8\n'}]",0,816735,46185f389eb8dc14c70b82b820cfe288df4a20e8,9,3,2,28619,,,0,"Update run and lock path for systemd

Since /var/run is a symlink to /run and /var/lock is a symlink to
/run/lock for all modern operationg systems, it makes sense to
change default paths that are used.

To make such changes more flexible, ``systemd_run_dir`` and
``systemd_lock_dir`` are introduced.

Change-Id: I60d321fcdce3d3a94233cc25c92898d9e9f2a9b8
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/35/816735/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/systemd-tmpfiles.j2', 'releasenotes/notes/systemd_run_lock_dir-5b4b0cad9c860ce0.yaml', 'defaults/main.yml']",4,bf0a2629aac34d493ca78e10af770d637f8b0237,,"# System run directory used for services by default. # Service name will be added to make a unique path. # This option can also be defined for specific service entries under ""systemd_services"". systemd_run_dir: ""/run"" # System lock directory used for services by default. # Service name will be added to make a unique path. # This option can also be defined for specific service entries under ""systemd_services"". systemd_lock_dir: ""/run/lock"" ",,31,5
openstack%2Fopenstack-ansible-os_nova~master~I7fcc6f6fbfd8e6e358036e72a82348b9cefe74ef,openstack/openstack-ansible-os_nova,master,I7fcc6f6fbfd8e6e358036e72a82348b9cefe74ef,Rename nova_enabled_vgpu_types,MERGED,2021-11-03 11:49:36.000000000,2021-11-11 22:32:11.000000000,2021-11-11 22:30:23.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-11-03 11:49:36.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/nova_mdev_types-df92fb3d1ce339ec.yaml', 'templates/nova.conf.j2', 'defaults/main.yml', 'tasks/nova_mdev_detect.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/af44f385d75b0e97c0fd1cf43e289eec39a42fe2', 'message': 'Rename nova_enabled_vgpu_types\n\nIn order to reflect upstream nova variable change [1] we rename\nnova_enabled_vgpu_types to nova_enabled_mdev_types.\n\n[1] https://docs.openstack.org/nova/latest/configuration/config.html#devices.enabled_mdev_types\n\nChange-Id: I7fcc6f6fbfd8e6e358036e72a82348b9cefe74ef\n'}]",0,816466,af44f385d75b0e97c0fd1cf43e289eec39a42fe2,8,3,1,28619,,,0,"Rename nova_enabled_vgpu_types

In order to reflect upstream nova variable change [1] we rename
nova_enabled_vgpu_types to nova_enabled_mdev_types.

[1] https://docs.openstack.org/nova/latest/configuration/config.html#devices.enabled_mdev_types

Change-Id: I7fcc6f6fbfd8e6e358036e72a82348b9cefe74ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/66/816466/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/nova_mdev_types-df92fb3d1ce339ec.yaml', 'templates/nova.conf.j2', 'defaults/main.yml', 'tasks/nova_mdev_detect.yml']",5,af44f385d75b0e97c0fd1cf43e289eec39a42fe2,,"- name: Register a fact for nova enabled_mdev_types set_fact: discovered_mdev_types: ""{{ mdev.stdout_lines | unique }}""","- name: Register a fact for nova enabled_vgpu_types set_fact: discovered_vgpu_types: ""{{ mdev.stdout_lines | unique }}""",15,10
openstack%2Fansible-role-pki~master~I193e1f0ac09370844be83d658ee7ff06315d3d85,openstack/ansible-role-pki,master,I193e1f0ac09370844be83d658ee7ff06315d3d85,Ensure key and certificate regenerated when pki_regen_cert is defined,MERGED,2021-09-09 08:30:48.000000000,2021-11-11 22:28:10.000000000,2021-11-11 22:25:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-09-09 08:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/1b929b0edb80152fcf472800dbbcbaef2cbf8a37', 'message': 'Ensure key and certificate when pki_regen_cert is defined\n\nCurrently we we regenerating only CSR request but certificate and keys\nwere left intact. We fix behaviour of pki_regen_cert by forcing cert and\nkey generation.\n\nChange-Id: I193e1f0ac09370844be83d658ee7ff06315d3d85\n'}, {'number': 2, 'created': '2021-09-09 08:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/b90faf26ff34dea3a18c181d90c06c081e69d065', 'message': 'Ensure key and certificate regenerated when pki_regen_cert is defined\n\nCurrently we we regenerating only CSR request but certificate and keys\nwere left intact. We fix behaviour of pki_regen_cert by forcing cert and\nkey generation.\n\nChange-Id: I193e1f0ac09370844be83d658ee7ff06315d3d85\n'}, {'number': 3, 'created': '2021-09-09 10:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/9e6dee302b650c3886866f9b4717cfc53726c4c8', 'message': 'Ensure key and certificate regenerated when pki_regen_cert is defined\n\nCurrently we we regenerating only CSR request but certificate and keys\nwere left intact. We fix behaviour of pki_regen_cert by forcing cert and\nkey generation.\n\nChange-Id: I193e1f0ac09370844be83d658ee7ff06315d3d85\n'}, {'number': 4, 'created': '2021-09-09 10:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/e9917a90d2d2dffd0d5240a21fd79e1bc6ce719b', 'message': 'Ensure key and certificate regenerated when pki_regen_cert is defined\n\nCurrently we we regenerating only CSR request but certificate and keys\nwere left intact. We fix behaviour of pki_regen_cert by forcing cert and\nkey generation.\n\nChange-Id: I193e1f0ac09370844be83d658ee7ff06315d3d85\n'}, {'number': 5, 'created': '2021-10-29 09:49:18.000000000', 'files': ['tasks/standalone/create_cert.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/04010f44212057611c51f7d3b25b0b1129ba1c1a', 'message': 'Ensure key and certificate regenerated when pki_regen_cert is defined\n\nCurrently we we regenerating only CSR request but certificate and keys\nwere left intact. We fix behaviour of pki_regen_cert by forcing cert and\nkey generation.\n\nChange-Id: I193e1f0ac09370844be83d658ee7ff06315d3d85\n'}]",3,808022,04010f44212057611c51f7d3b25b0b1129ba1c1a,16,3,5,28619,,,0,"Ensure key and certificate regenerated when pki_regen_cert is defined

Currently we we regenerating only CSR request but certificate and keys
were left intact. We fix behaviour of pki_regen_cert by forcing cert and
key generation.

Change-Id: I193e1f0ac09370844be83d658ee7ff06315d3d85
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/22/808022/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_cert.yml'],1,1b929b0edb80152fcf472800dbbcbaef2cbf8a37,808022," force: ""{{ pki_regen_cert == cert.name or ((pki_regen_cert | lower) == 'true') }}"" force: ""{{ pki_regen_cert == cert.name or ((pki_regen_cert | lower) == 'true') }}""",,2,0
openstack%2Fkayobe~master~I7dbd643fec72223bfda20cbbc37809ae78073804,openstack/kayobe,master,I7dbd643fec72223bfda20cbbc37809ae78073804,CI: add Infra VM jobs,MERGED,2021-10-07 15:54:03.000000000,2021-11-11 22:26:22.000000000,2021-11-11 22:20:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-10-07 15:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4c8368e7ba75d5eb4f82fefa6318ceb04312167b', 'message': 'CI: add Infra VM jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/812670\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/805239\n\nChange-Id: I7dbd643fec72223bfda20cbbc37809ae78073804\n'}, {'number': 2, 'created': '2021-10-08 07:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/91f994238f79ed24a3944323c5a46c41fa162543', 'message': 'CI: add Infra VM jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/812670\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/805239\n\nChange-Id: I7dbd643fec72223bfda20cbbc37809ae78073804\n'}, {'number': 3, 'created': '2021-10-08 15:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/30d068f70452b60cb3108a19d9079999f0fa275e', 'message': 'CI: add Infra VM jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/812670\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/805239\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/813212\n\nChange-Id: I7dbd643fec72223bfda20cbbc37809ae78073804\n'}, {'number': 4, 'created': '2021-10-25 19:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0705cebb8ec720117e9b0bdd007d78cd76889039', 'message': 'CI: add Infra VM jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/812670\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/805239\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/813212\n\nChange-Id: I7dbd643fec72223bfda20cbbc37809ae78073804\n'}, {'number': 5, 'created': '2021-10-26 08:35:54.000000000', 'files': ['playbooks/kayobe-infra-vm-base/infra-vms-group-vars.j2', 'playbooks/kayobe-infra-vm-base/overrides.yml.j2', 'dev/functions', 'dev/infra-vm-deploy.sh', 'zuul.d/project.yaml', 'playbooks/kayobe-infra-vm-base/run.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-infra-vm-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/104e383fc7b2bdd3f0b26036d169afd63313db24', 'message': 'CI: add Infra VM jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/812670\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/805239\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/813212\n\nChange-Id: I7dbd643fec72223bfda20cbbc37809ae78073804\n'}]",3,813048,104e383fc7b2bdd3f0b26036d169afd63313db24,30,3,5,14826,,,0,"CI: add Infra VM jobs

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/812670
Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/805239
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/813212

Change-Id: I7dbd643fec72223bfda20cbbc37809ae78073804
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/48/813048/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-infra-vm-base/infra-vms-group-vars.j2', 'playbooks/kayobe-infra-vm-base/overrides.yml.j2', 'dev/functions', 'dev/infra-vm-deploy.sh', 'zuul.d/project.yaml', 'playbooks/kayobe-infra-vm-base/run.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-infra-vm-base/pre.yml']",8,4c8368e7ba75d5eb4f82fefa6318ceb04312167b,,"--- - hosts: primary environment: KAYOBE_CONFIG_SOURCE_PATH: ""{{ kayobe_config_src_dir }}"" tasks: # NOTE(mgoddard): The kayobe dev config by default expects a bridge - # braio - to exist with an IP address of 192.168.33.4. - import_role: name: kayobe-network-bootstrap vars: bridge_interface: braio bridge_ip: 192.168.33.4 bridge_prefix: 24 bridge_port_interface: dummy1 # NOTE(mgoddard): Configure IP forwarding and NAT to allow communication # from the infra VM to the outside world. # FIXME(mgoddard): use a libvirt network? - name: Ensure NAT is configured iptables: chain: POSTROUTING table: nat out_interface: ""{{ ansible_default_ipv4.interface }}"" jump: MASQUERADE become: true # FIXME(mgoddard): use a libvirt network? - name: Ensure IP forwarding is enabled sysctl: name: net.ipv4.conf.all.forwarding value: 1 become: true - name: Ensure SELinux is disabled selinux: state: disabled become: True when: ansible_os_family == 'RedHat' # NOTE(mgoddard): Use the name zz-overrides.yml to ensure this takes # precedence over the standard config files. - name: Ensure kayobe-config override config file exists template: src: overrides.yml.j2 dest: ""{{ kayobe_config_src_dir }}/etc/kayobe/zz-overrides.yml"" - name: Ensure infra-vms group variables exist template: src: infra-vms-group-vars.j2 dest: ""{{ kayobe_config_src_dir }}/etc/kayobe/inventory/group_vars/infra-vms/network-interfaces"" - name: Ensure kayobe is installed shell: cmd: dev/install.sh &> {{ logs_dir }}/ansible/install chdir: ""{{ kayobe_src_dir }}"" executable: /bin/bash ",,210,21
openstack%2Fkayobe-config-dev~master~I21873b5a0bc480992a9f52881deb751ba857e4fe,openstack/kayobe-config-dev,master,I21873b5a0bc480992a9f52881deb751ba857e4fe,Define infra VMs for testing,MERGED,2021-08-19 14:47:54.000000000,2021-11-11 22:20:54.000000000,2021-11-11 22:20:54.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-08-19 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e0a395913e7d64ba37aa270b088b4cec7188cf4e', 'message': 'Define infra VMs for testing\n\nUsed by CI to test infra VM functionality works.\n\nChange-Id: I21873b5a0bc480992a9f52881deb751ba857e4fe\n'}, {'number': 2, 'created': '2021-10-07 16:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/f048f9c3ed79d55ca8962dd752db512b68607a67', 'message': 'Define infra VMs for testing\n\nUsed by CI to test infra VM functionality works.\n\nChange-Id: I21873b5a0bc480992a9f52881deb751ba857e4fe\n'}, {'number': 3, 'created': '2021-10-25 16:42:38.000000000', 'files': ['etc/kayobe/inventory/infra-vms', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces', 'etc/kayobe/network-allocation.yml', 'etc/kayobe/inventory/host_vars/infra-vm-1'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/de111158d29855d154c58c8eda2594b3f396e239', 'message': 'Define infra VMs for testing\n\nUsed by CI to test infra VM functionality works.\n\nChange-Id: I21873b5a0bc480992a9f52881deb751ba857e4fe\n'}]",2,805239,de111158d29855d154c58c8eda2594b3f396e239,18,4,3,28048,,,0,"Define infra VMs for testing

Used by CI to test infra VM functionality works.

Change-Id: I21873b5a0bc480992a9f52881deb751ba857e4fe
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/39/805239/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/ansible/filter_plugins', 'etc/kayobe/ansible/configure-infra-vm.yml', 'etc/kayobe/ansible/group_vars', 'etc/kayobe/inventory/infra-vms', 'etc/kayobe/network-allocation.yml', 'etc/kayobe/inventory/host_vars/custom-vm-2', 'etc/kayobe/inventory/host_vars/custom-vm-1', 'etc/kayobe/hooks/infra-vm-service-deploy/post.d/10-configure-infra-vm.yml']",8,e0a395913e7d64ba37aa270b088b4cec7188cf4e,kayobe-infrastructure-vms,../../../ansible/configure-infra-vm.yml,,36,2
openstack%2Fopenstack-ansible-lxc_hosts~master~I6527d2c0c361c03cbb6fc43aa3a03896894fb8e1,openstack/openstack-ansible-lxc_hosts,master,I6527d2c0c361c03cbb6fc43aa3a03896894fb8e1,allow release info change on apt update,MERGED,2021-10-05 16:59:17.000000000,2021-11-11 22:19:51.000000000,2021-11-11 22:18:09.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-10-05 16:59:17.000000000', 'files': ['templates/prep-scripts/debian_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f7ea823d80e1d831e23ec14f4e9ece8c2bdc30a3', 'message': 'allow release info change on apt update\n\ndebian buster changed from stable to oldstable, without this change\napt-get update fails to run on old systems.\n\nChange-Id: I6527d2c0c361c03cbb6fc43aa3a03896894fb8e1\n'}]",0,812528,f7ea823d80e1d831e23ec14f4e9ece8c2bdc30a3,16,3,1,14288,,,0,"allow release info change on apt update

debian buster changed from stable to oldstable, without this change
apt-get update fails to run on old systems.

Change-Id: I6527d2c0c361c03cbb6fc43aa3a03896894fb8e1
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/28/812528/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/prep-scripts/debian_prep.sh.j2'],1,f7ea823d80e1d831e23ec14f4e9ece8c2bdc30a3,allow-releaseinfo-change-on-apt-update,apt-get update --allow-releaseinfo-change,apt-get update,1,1
openstack%2Fopenstack-ansible-os_murano~master~I731716385fe5499f36ab43bfd2ce94a4f83a7075,openstack/openstack-ansible-os_murano,master,I731716385fe5499f36ab43bfd2ce94a4f83a7075,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:34:26.000000000,2021-11-11 22:18:38.000000000,2021-11-11 22:16:55.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-12 11:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/ce1e83cd67f55c9dfdba950e60cce5b532955ad2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}, {'number': 2, 'created': '2020-09-01 15:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/a0b4d1d6ab9c64721e8e5beb9de7497560d93cdd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}, {'number': 3, 'created': '2020-10-01 14:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/66554adf66f9d39a9469ace3e8a804832f8aeb92', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}, {'number': 4, 'created': '2020-10-19 09:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/6acc3fe0045d8f80580bbdb6566b520ee9867aca', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}, {'number': 5, 'created': '2021-03-12 22:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/cf16d920c48c5d24d951c242e4a08057d07cdd91', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}, {'number': 6, 'created': '2021-04-19 09:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/70056f6d3b307dec149c307ba63f388919181a71', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}, {'number': 7, 'created': '2021-11-10 17:20:18.000000000', 'files': ['bindep.txt', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/bf793973aca660e1a4ac25bc3f8d4c70347179fa', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075\n'}]",0,745856,bf793973aca660e1a4ac25bc3f8d4c70347179fa,30,5,7,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I731716385fe5499f36ab43bfd2ce94a4f83a7075
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/56/745856/5 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,ce1e83cd67f55c9dfdba950e60cce5b532955ad2,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fcinder~master~Ieb9f667ef1b710382d726450af4dc9565459d4c2,openstack/cinder,master,Ieb9f667ef1b710382d726450af4dc9565459d4c2,QoS support for the Ceph Cinder driver,ABANDONED,2020-11-16 08:11:07.000000000,2021-11-11 21:49:09.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26355}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-11-16 08:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16e21e9279679b6fa1cbfe254f1c8ae9ac0f84db', 'message': 'QoS support for the Coho Data Cinder driver\n\n- Support injecting QoS metadata into ceph when creating a volume\n- Supports updating QoS parameters when retype operation is performed\n\nChange-Id: Ieb9f667ef1b710382d726450af4dc9565459d4c2\nImplements: blueprint ceph-backend-qos\n'}, {'number': 2, 'created': '2020-11-16 08:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7e319a4098a28adc8a23149290782a6be491b21', 'message': 'QoS support for the Ceph Cinder driver\n\n- Support injecting QoS metadata into ceph when creating a volume\n- Supports updating QoS parameters when retype operation is performed\n\nChange-Id: Ieb9f667ef1b710382d726450af4dc9565459d4c2\nImplements: blueprint ceph-backend-qos\n'}, {'number': 3, 'created': '2020-11-16 08:19:30.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/tests/unit/fake_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/85f552f89208becaf39b79c12465598cd9bf0403', 'message': 'QoS support for the Ceph Cinder driver\n\n- Support injecting QoS metadata into ceph when creating a volume\n- Supports updating QoS parameters when retype operation is performed\n\nChange-Id: Ieb9f667ef1b710382d726450af4dc9565459d4c2\nImplements: blueprint ceph-backend-qos\n'}]",2,762794,85f552f89208becaf39b79c12465598cd9bf0403,42,28,3,26355,,,0,"QoS support for the Ceph Cinder driver

- Support injecting QoS metadata into ceph when creating a volume
- Supports updating QoS parameters when retype operation is performed

Change-Id: Ieb9f667ef1b710382d726450af4dc9565459d4c2
Implements: blueprint ceph-backend-qos
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/762794/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/tests/unit/fake_volume.py']",3,16e21e9279679b6fa1cbfe254f1c8ae9ac0f84db,," 'qos_specs_id': 'fake-qos-spec-id', 'qos_specs': { 'id': 'fake-qos-spec-id', 'name': 'fake-qos-spec-name' }, expected_attrs = ['extra_specs', 'projects', 'qos_specs'] return objects.VolumeType._from_db_object(context, objects.VolumeType(), fake_db_volume_type(**updates), expected_attrs=expected_attrs)"," return objects.VolumeType._from_db_object( context, objects.VolumeType(), fake_db_volume_type(**updates))",115,5
openstack%2Fcinder~master~I0da9cd0780680ee4e4c378c3aae6ec624c4864f0,openstack/cinder,master,I0da9cd0780680ee4e4c378c3aae6ec624c4864f0,WIP: Ceph: Cinder volume revert to snapshot support,ABANDONED,2019-05-17 10:07:08.000000000,2021-11-11 21:46:52.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27614}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-17 10:07:08.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a73bb1657f1a20c62d549447d54c75b2f17d7178', 'message': 'WIP: Ceph: Cinder volume revert to snapshot support\n\nThis commit implements reverting volume to a snapshot when\nbackend_storage is ceph\n\nChange-Id: I0da9cd0780680ee4e4c378c3aae6ec624c4864f0\n'}]",1,659768,a73bb1657f1a20c62d549447d54c75b2f17d7178,39,35,1,27614,,,0,"WIP: Ceph: Cinder volume revert to snapshot support

This commit implements reverting volume to a snapshot when
backend_storage is ceph

Change-Id: I0da9cd0780680ee4e4c378c3aae6ec624c4864f0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/659768/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,a73bb1657f1a20c62d549447d54c75b2f17d7178,revert-volume-to-snapshot," def revert_to_snapshot(self, context, volume, snapshot): """"""Revert volume to snapshot"""""" volume_name = utils.convert_str(snapshot.volume_name) snap_name = utils.convert_str(snapshot.name) with RBDVolumeProxy(self, volume_name) as volume: is_protected = volume.is_protected_snap(snap_name) if is_protected: try: volume.unprotect_snap(snap_name) except self.rbd.InvalidArgument: LOG.info( ""InvalidArgument: Unable to unprotect snapshot %s."", snap_name) except self.rbd.ImageNotFound: LOG.info( ""ImageNotFound: Unable to unprotect snapshot %s."", snap_name) except self.rbd.ImageBusy: raise exception.SnapshotIsBusy(snapshot_name=snap_name) try: volume.rollback_to_snap(snap_name) except self.rbd.ImageNotFound: LOG.info(""Snapshot %s does not exist in backend."", snap_name) if is_protected: try: volume.protect_snap(snap_name) except self.rbd.InvalidArgument: LOG.info( ""InvalidArgument: Unable to protect snapshot %s."", snap_name) except self.rbd.ImageNotFound: LOG.info( ""ImageNotFound: Unable to protect snapshot %s."", snap_name) except self.rbd.ImageBusy: raise exception.SnapshotIsBusy(snapshot_name=snap_name)",,41,0
openstack%2Fcinder~master~If2b189f12d10b0b108430308f54e98b11ffef113,openstack/cinder,master,If2b189f12d10b0b108430308f54e98b11ffef113,Fix create RBD volume from encrypted snapshot,ABANDONED,2019-11-12 06:18:17.000000000,2021-11-11 21:41:19.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-12 06:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b017e75adb1dd3dc27d8c4749aefefbe134c4bc', 'message': ""Extends RBD volume if required\n\nEn encrypted Ceph RBD volume is a little larger than the volume'size\nin cinder DB. So doing resize when create a volume form snapshot will\nreduce the capacity of the volume which will cause the volume can't be\nused in VMs.\nThis patch fix it just by checking the size from cinder DB, which is\nthe same with cloning volume.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n""}, {'number': 2, 'created': '2019-11-12 06:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f248f33c0681e7768d08b0ea0ca5e374417662c', 'message': ""Extends RBD volume if required\n\nEn encrypted Ceph RBD volume is a little larger than the volume'size\nin cinder DB. So doing resize when create a volume form snapshot will\nreduce the capacity of the volume which will cause the volume can't be\nused in VMs.\nThis patch fix it just by checking the size from cinder DB, which is\nthe same with cloning volume.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n""}, {'number': 3, 'created': '2019-11-12 06:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30692ee939073ac857ad7bd6996063279994a48d', 'message': ""Extends RBD volume if required\n\nEn encrypted Ceph RBD volume is a little larger than the volume'size\nin cinder DB. So doing resize when create a volume form snapshot will\nreduce the capacity of the volume which will cause the volume can't be\nused in VMs.\nThis patch fix it just by checking the size from cinder DB, which is\nthe same with cloning volume.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n""}, {'number': 4, 'created': '2019-11-13 06:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/055e865b0dad659f563613982f25701d2f73f921', 'message': ""Extends RBD volume if required\n\nEn encrypted Ceph RBD volume is a little larger than the volume'size\nin cinder DB. So doing resize when create a volume form snapshot will\nreduce the capacity of the volume which will cause the volume can't be\nused in VMs.\nThis patch fix it just by checking the size from cinder DB, which is\nthe same with cloning volume.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n""}, {'number': 5, 'created': '2019-11-13 08:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57b213f4bae9d562bf9c9f307fd145578aadd4f6', 'message': 'Fix create RBD volume from encrypted snapshot\n\nEn encrypted Ceph RBD volume is a little larger than the volume\'s\nsize in cinder DB. So doing resize when create a volume from\nsnapshot will reduce the capacity of the volume and make the volume\nunusable by VMs. The message we see in dmesg is ""bad geometry:\nblock count xxx exceeds size of device"".\n\nThis patch fix it just by checking the size from cinder DB, skipping\nresizing when it\'s the same size.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n'}, {'number': 6, 'created': '2019-11-13 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe542d096c2e59a66dd77365231ffee2ee774b27', 'message': 'Fix create RBD volume from encrypted snapshot\n\nEn encrypted Ceph RBD volume is a little larger than the volume\'s\nsize in cinder DB. So doing resize when create a volume from\nsnapshot will reduce the capacity of the volume and make the volume\nunusable by VMs. The message we see in dmesg is ""bad geometry:\nblock count xxx exceeds size of device"".\n\nThis patch fix it just by checking the size from cinder DB, skipping\nresizing when it\'s the same size.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n'}, {'number': 7, 'created': '2020-04-09 03:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a4bda56825918e2b17f53b17c6f14d1ab1a1a5e', 'message': 'Fix create RBD volume from encrypted snapshot\n\nEncrypted Ceph RBD volume is a little larger than the volume\'s\nsize in cinder DB. So doing resize when create a volume from\nsnapshot will reduce the capacity of the volume and make the volume\nunusable by VMs. The message we see in dmesg is ""bad geometry:\nblock count xxx exceeds size of device"".\n\nThis patch fix it just by checking the size from cinder DB, skipping\nresizing when it\'s the same size.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n'}, {'number': 8, 'created': '2020-04-09 03:15:14.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1852168-fix-create-RBD-volume-from-encrypted-snapshot-896bfd34ad6c1915.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ac818ccb932033bece6df843974f9d25c26d3d7', 'message': 'Fix create RBD volume from encrypted snapshot\n\nEncrypted Ceph RBD volume is a little larger than the volume\'s\nsize in cinder DB. So doing resize when create a volume from\nsnapshot will reduce the capacity of the volume and make the volume\nunusable by VMs. The message we see in dmesg is ""bad geometry:\nblock count xxx exceeds size of device"".\n\nThis patch fix it just by checking the size from cinder DB, skipping\nresizing when it\'s the same size.\n\nChange-Id: If2b189f12d10b0b108430308f54e98b11ffef113\nCloses-Bug: #1852168\n'}]",21,693772,8ac818ccb932033bece6df843974f9d25c26d3d7,136,40,8,25837,,,0,"Fix create RBD volume from encrypted snapshot

Encrypted Ceph RBD volume is a little larger than the volume's
size in cinder DB. So doing resize when create a volume from
snapshot will reduce the capacity of the volume and make the volume
unusable by VMs. The message we see in dmesg is ""bad geometry:
block count xxx exceeds size of device"".

This patch fix it just by checking the size from cinder DB, skipping
resizing when it's the same size.

Change-Id: If2b189f12d10b0b108430308f54e98b11ffef113
Closes-Bug: #1852168
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/693772/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,2b017e75adb1dd3dc27d8c4749aefefbe134c4bc,fix_snapshot_rbd," self._extend_if_required(volume, snapshot)", if int(volume.size): self._resize(volume),1,2
openstack%2Fmanila~master~Ia99cc5313bed950e3363ae311b741395d60eb57b,openstack/manila,master,Ia99cc5313bed950e3363ae311b741395d60eb57b,Drop non-ASCII character from manila config,MERGED,2021-11-11 14:36:49.000000000,2021-11-11 21:36:04.000000000,2021-11-11 21:34:03.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-11 14:36:49.000000000', 'files': ['manila/share/drivers/netapp/options.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5bf206285de3aa61b56ee6c83ffd36e9c1617860', 'message': ""Drop non-ASCII character from manila config\n\nNoticed the issue with packstack deployment\non CentOS 9-Stream[1]. The issue is raised\nby puppet when non-utf8 encoding is used like\nLANG=en_US or LANG=C.\n\nOther option is to force LANG=en_US.UTF-8\nwith the deployment but just for this\ndescription help(all other services working fine),\ndoesn't look good so proposing to drop that non-ASCII\ncharacter.\n\nIssue got caught in CentOS 9-Stream only as it\ndisabled locale forwarding in OpenSSH by default[2].\n\n[1] https://review.opendev.org/c/x/packstack/+/816796\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2002734\n\nChange-Id: Ia99cc5313bed950e3363ae311b741395d60eb57b\n""}]",3,817565,5bf206285de3aa61b56ee6c83ffd36e9c1617860,13,3,1,13861,,,0,"Drop non-ASCII character from manila config

Noticed the issue with packstack deployment
on CentOS 9-Stream[1]. The issue is raised
by puppet when non-utf8 encoding is used like
LANG=en_US or LANG=C.

Other option is to force LANG=en_US.UTF-8
with the deployment but just for this
description help(all other services working fine),
doesn't look good so proposing to drop that non-ASCII
character.

Issue got caught in CentOS 9-Stream only as it
disabled locale forwarding in OpenSSH by default[2].

[1] https://review.opendev.org/c/x/packstack/+/816796
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2002734

Change-Id: Ia99cc5313bed950e3363ae311b741395d60eb57b
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/817565/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/netapp/options.py'],1,5bf206285de3aa61b56ee6c83ffd36e9c1617860,," help=(""The path to a CA_BUNDLE file or directory with "" ""certificates of trusted CA. If set to a directory, it "" ""must have been processed using the c_rehash utility "" ""supplied with OpenSSL. If not informed, it will use the "" ""Mozilla's carefully curated collection of Root "" ""Certificates for validating the trustworthiness of SSL "" ""certificates."")), ]"," help=('The path to a CA_BUNDLE file or directory with ' 'certificates of trusted CA. If set to a directory, it ' 'must have been processed using the c_rehash utility ' 'supplied with OpenSSL. If not informed, it will use the ' 'Mozilla’s carefully curated collection of Root ' 'Certificates for validating the trustworthiness of SSL ' 'certificates.')), ]",7,7
openstack%2Fdesignate~stable%2Fxena~I867600eb48a3e30a4d17471ab794ca717706823d,openstack/designate,stable/xena,I867600eb48a3e30a4d17471ab794ca717706823d,Fix race condition in the sink when deleting records,MERGED,2021-11-11 14:27:00.000000000,2021-11-11 21:13:37.000000000,2021-11-11 21:11:16.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-11-11 14:27:00.000000000', 'files': ['designate/notification_handler/base.py', 'designate/tests/test_notification_handler/test_neutron.py', 'designate/tests/test_notification_handler/test_nova.py', 'designate/tests/resources/sample_notifications/nova/compute.instance.create.end-2.json'], 'web_link': 'https://opendev.org/openstack/designate/commit/8634d531f2d993901527ecc67ddc40eb9dc0a575', 'message': 'Fix race condition in the sink when deleting records\n\nUpdated the sink to behave closer to how we handle this type\nof operations in designate.api.v2.\n\n- Added object validation to all requests.\n- Better test coverage.\n- Use recordset update / delete instead of just record delete.\n\nCloses-Bug: #1947765\nChange-Id: I867600eb48a3e30a4d17471ab794ca717706823d\n(cherry picked from commit 4807c23228fbb23af3087ee072bf73d7fc43aff5)\n'}]",1,817542,8634d531f2d993901527ecc67ddc40eb9dc0a575,9,3,1,27339,,,0,"Fix race condition in the sink when deleting records

Updated the sink to behave closer to how we handle this type
of operations in designate.api.v2.

- Added object validation to all requests.
- Better test coverage.
- Use recordset update / delete instead of just record delete.

Closes-Bug: #1947765
Change-Id: I867600eb48a3e30a4d17471ab794ca717706823d
(cherry picked from commit 4807c23228fbb23af3087ee072bf73d7fc43aff5)
",git fetch https://review.opendev.org/openstack/designate refs/changes/42/817542/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/notification_handler/base.py', 'designate/tests/test_notification_handler/test_neutron.py', 'designate/tests/test_notification_handler/test_nova.py', 'designate/tests/resources/sample_notifications/nova/compute.instance.create.end-2.json']",4,8634d531f2d993901527ecc67ddc40eb9dc0a575,,"{ ""_context_roles"": [""Member"", ""admin""], ""_context_request_id"": ""req-14a1f71e-78a4-484f-94c5-5d6233533772"", ""_context_quota_class"": null, ""event_type"": ""compute.instance.create.end"", ""_context_user_name"": ""user-name"", ""_context_project_name"": ""tenant-name"", ""_context_service_catalog"": [{ ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://compute/v2/33a88272e06a49c1a0f653abc374b56b"", ""region"": ""dub01"", ""publicURL"": ""http://compute/v2/33a88272e06a49c1a0f653abc374b56b"", ""internalURL"": ""http://compute/v2/33a88272e06a49c1a0f653abc374b56b"", ""id"": ""9d4044f4601145eebb60fe0446d640ab"" }], ""type"": ""compute"", ""name"": ""nova"" }, { ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://s3"", ""region"": ""dub01"", ""publicURL"": ""http://s3"", ""internalURL"": ""http://s3"", ""id"": ""97e22c600c7141ac916a9be13d8ffbb8"" }], ""type"": ""s3"", ""name"": ""s3"" }, { ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://image:9292/v1"", ""region"": ""dub01"", ""publicURL"": ""http://image/v1"", ""internalURL"": ""http://image:9292/v1"", ""id"": ""c5b95f59ccb841e293dfdcafcaaf0a4a"" }], ""type"": ""image"", ""name"": ""glance"" }, { ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://volume/v1/33a88272e06a49c1a0f653abc374b56b"", ""region"": ""dub01"", ""publicURL"": ""http://volume/v1/33a88272e06a49c1a0f653abc374b56b"", ""internalURL"": ""http://volume/v1/33a88272e06a49c1a0f653abc374b56b"", ""id"": ""8e9b87c7e3a94697b8656ab845c74017"" }], ""type"": ""volume"", ""name"": ""cinder"" }, { ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://ec2/services/Admin"", ""region"": ""dub01"", ""publicURL"": ""http://ec2/services/Cloud"", ""internalURL"": ""http://ec2/services/Cloud"", ""id"": ""e465f3ed91534fe3a3a457f9ff90d839"" }], ""type"": ""ec2"", ""name"": ""ec2"" }, { ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://dns/v1.0"", ""region"": ""dub01"", ""publicURL"": ""http://dns/v1.0"", ""internalURL"": ""http://dns/v1.0"", ""id"": ""6dc68974176140c5b1eacd4329e94ae2"" }], ""type"": ""dns"", ""name"": ""designate"" }, { ""endpoints_links"": [], ""endpoints"": [{ ""adminURL"": ""http://identity:35357/v2.0"", ""region"": ""dub01"", ""publicURL"": ""http://identity/v2.0"", ""internalURL"": ""http://identity/v2.0"", ""id"": ""4034b8fb88df41e2abd7b3056fc908fd"" }], ""type"": ""identity"", ""name"": ""keystone"" }], ""timestamp"": ""2012-11-03 17:54:48.797009"", ""_context_is_admin"": true, ""message_id"": ""1b378216-3f76-46db-9989-933172c1d4b2"", ""_context_auth_token"": ""d7f4118a789f47b8ab708a00f239268f"", ""_context_instance_lock_checked"": false, ""_context_project_id"": ""33a88272e06a49c1a0f653abc374b56b"", ""_context_timestamp"": ""2012-11-03T17:54:27.320555"", ""_context_read_deleted"": ""no"", ""_context_user_id"": ""953f8394fa044302b7d42f47228e427d"", ""_context_remote_address"": ""127.0.0.1"", ""publisher_id"": ""compute.stack01"", ""payload"": { ""state_description"": """", ""availability_zone"": null, ""ramdisk_id"": """", ""instance_type_id"": 2, ""deleted_at"": """", ""fixed_ips"": [{ ""floating_ips"": [], ""label"": ""private"", ""version"": 4, ""meta"": {}, ""address"": ""172.16.0.15"", ""type"": ""fixed"" }], ""memory_mb"": 512, ""user_id"": ""953f8394fa044302b7d42f47228e427d"", ""reservation_id"": ""r-1ekblkfw"", ""state"": ""active"", ""launched_at"": ""2012-11-03 17:54:48.514631"", ""metadata"": [], ""ephemeral_gb"": 0, ""access_ip_v6"": null, ""disk_gb"": 0, ""access_ip_v4"": null, ""kernel_id"": """", ""image_name"": ""ubuntu-precise"", ""host"": ""stack01"", ""display_name"": ""TestInstance"", ""image_ref_url"": ""http://192.0.2.98:9292/images/e52f1321-fb9e-40fb-8057-555a850462e8"", ""root_gb"": 0, ""tenant_id"": ""33a88272e06a49c1a0f653abc374b56b"", ""created_at"": ""2012-11-03 17:54:27"", ""instance_id"": ""c71977ac-d2e3-479f-8549-3c56a2bfa24a"", ""instance_type"": ""m1.tiny"", ""vcpus"": 1, ""image_meta"": { ""base_image_ref"": ""e52f1321-fb9e-40fb-8057-555a850462e8"" }, ""architecture"": null, ""os_type"": null }, ""payload_v6"": { ""state_description"": """", ""availability_zone"": null, ""ramdisk_id"": """", ""instance_type_id"": 2, ""deleted_at"": """", ""fixed_ips"": [{ ""floating_ips"": [], ""label"": ""private"", ""version"": 6, ""meta"": {}, ""address"": ""172.16.0.15"", ""type"": ""fixed"" }], ""memory_mb"": 512, ""user_id"": ""953f8394fa044302b7d42f47228e427d"", ""reservation_id"": ""r-1ekblkfw"", ""state"": ""active"", ""launched_at"": ""2012-11-03 17:54:48.514631"", ""metadata"": [], ""ephemeral_gb"": 0, ""access_ip_v6"": null, ""disk_gb"": 0, ""access_ip_v4"": null, ""kernel_id"": """", ""image_name"": ""ubuntu-precise"", ""host"": ""stack01"", ""display_name"": ""TestInstance"", ""image_ref_url"": ""http://192.0.2.98:9292/images/e52f1321-fb9e-40fb-8057-555a850462e8"", ""root_gb"": 0, ""tenant_id"": ""33a88272e06a49c1a0f653abc374b56b"", ""created_at"": ""2012-11-03 17:54:27"", ""instance_id"": ""c71977ac-d2e3-479f-8549-3c56a2bfa24a"", ""instance_type"": ""m1.tiny"", ""vcpus"": 1, ""image_meta"": { ""base_image_ref"": ""e52f1321-fb9e-40fb-8057-555a850462e8"" }, ""architecture"": null, ""os_type"": null }, ""priority"": ""INFO"" } ",,337,52
openstack%2Ftempest~master~I8bd05246e42c0e98a9825a4621ac9c3ed714d1dc,openstack/tempest,master,I8bd05246e42c0e98a9825a4621ac9c3ed714d1dc,Update Interop doc,MERGED,2021-11-08 10:42:35.000000000,2021-11-11 21:05:27.000000000,2021-11-11 21:02:18.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 10:42:35.000000000', 'files': ['doc/source/test_removal.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/425b486d9b7cd55265bef51587769c82e1aaba22', 'message': 'Update Interop doc\n\nThe commit replaces DefCore committee (a former name) by\nInterop Working Group (the current name) and updates a few\nmore old interop references.\n\nChange-Id: I8bd05246e42c0e98a9825a4621ac9c3ed714d1dc\n'}]",0,816983,425b486d9b7cd55265bef51587769c82e1aaba22,7,2,1,22873,,,0,"Update Interop doc

The commit replaces DefCore committee (a former name) by
Interop Working Group (the current name) and updates a few
more old interop references.

Change-Id: I8bd05246e42c0e98a9825a4621ac9c3ed714d1dc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/816983/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/test_removal.rst'],1,425b486d9b7cd55265bef51587769c82e1aaba22,update-interop-doc,intent of this prong was mostly for interop/refstack and also for things thatinterop/refstack is depending on being in Tempest. It's worth pointing out that if a test is used in `interop_wg`_ as part of `interop`_ testing then it will probably have continuing value being in Tempest as part of the.. _interop_wg: https://docs.opendev.org/openinfra/interop/latest/,intent of this prong was mostly for refstack/defcore and also for things thatdefcore/refstack is depending on being in Tempest. It's worth pointing out that if a test is used in `defcore`_ as part of `interop`_ testing then it will probably have continuing value being in Tempest as part of the.. _defcore: https://wiki.openstack.org/wiki/Governance/InteropWG,5,5
openstack%2Fopenstack-ansible-os_keystone~master~I431dd557a90a9fbf086ff7af992363d666937e4b,openstack/openstack-ansible-os_keystone,master,I431dd557a90a9fbf086ff7af992363d666937e4b,Refactor galera_use_ssl behaviour,MERGED,2021-09-20 10:08:47.000000000,2021-11-11 19:56:57.000000000,2021-11-11 19:54:58.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-09-20 10:08:47.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c5145fd12065981ebfcc88c7de444337601bb2f8', 'message': ""Refactor galera_use_ssl behaviour\n\nWith PKI role in place in most cases you don't need to explicitly\nprovide path to the CA file because PKI role ensures that CA is trusted\nby the system overall. In the meanwhile in PyMySQL [1] you must either\nprovide CA file or cert/key or enable verify.\n\nSince current behaviour is to provide path to the custom CA we expect\ncertificate being trusted overall. Thus we enable cert verification when\ngalera_use_ssl is True.\n\n[1] https://github.com/PyMySQL/PyMySQL/blob/78f0cf99e5d5351df0821442e4dc35c49a6390c6/pymysql/connections.py#L267\n\nChange-Id: I431dd557a90a9fbf086ff7af992363d666937e4b\n""}]",5,809995,c5145fd12065981ebfcc88c7de444337601bb2f8,20,3,1,28619,,,0,"Refactor galera_use_ssl behaviour

With PKI role in place in most cases you don't need to explicitly
provide path to the CA file because PKI role ensures that CA is trusted
by the system overall. In the meanwhile in PyMySQL [1] you must either
provide CA file or cert/key or enable verify.

Since current behaviour is to provide path to the custom CA we expect
certificate being trusted overall. Thus we enable cert verification when
galera_use_ssl is True.

[1] https://github.com/PyMySQL/PyMySQL/blob/78f0cf99e5d5351df0821442e4dc35c49a6390c6/pymysql/connections.py#L267

Change-Id: I431dd557a90a9fbf086ff7af992363d666937e4b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/95/809995/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,c5145fd12065981ebfcc88c7de444337601bb2f8,osa/galera_pki," mysql+pymysql://{{ keystone_galera_user }}:{{ keystone_container_mysql_password }}@{{ keystone_galera_address }}:{{keystone_galera_port}}/{{ keystone_galera_database }}?charset=utf8{% if keystone_galera_use_ssl | bool %}&ssl_verify_cert=true{% if keystone_galera_ssl_ca_cert | length > 0 %}&ssl_ca={{ keystone_galera_ssl_ca_cert }}{% endif %}{% endif %}keystone_galera_ssl_ca_cert: ""{{ galera_ssl_ca_cert | default('') }}"""," mysql+pymysql://{{ keystone_galera_user }}:{{ keystone_container_mysql_password }}@{{ keystone_galera_address }}:{{keystone_galera_port}}/{{ keystone_galera_database }}?charset=utf8{% if keystone_galera_use_ssl | bool %}&ssl_ca={{ keystone_galera_ssl_ca_cert }}{% endif %}keystone_galera_ssl_ca_cert: ""{{ galera_ssl_ca_cert | default('/etc/ssl/certs/galera-ca.pem') }}""",2,2
openstack%2Frequirements~master~If719ffc105e953c7a51d9c7374a4fd68d44bc0ef,openstack/requirements,master,If719ffc105e953c7a51d9c7374a4fd68d44bc0ef,Updated from generate-constraints,MERGED,2021-11-10 02:52:04.000000000,2021-11-11 19:17:36.000000000,2021-11-11 19:10:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 02:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d2b644e7aaee1234c72e00d0e030d2ef4851b45c', 'message': 'Updated from generate-constraints\n\nChange-Id: If719ffc105e953c7a51d9c7374a4fd68d44bc0ef\n'}, {'number': 2, 'created': '2021-11-10 04:40:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/956161c8a3334aa70828c1841ac3a56b373eb849', 'message': 'Updated from generate-constraints\n\nChange-Id: If719ffc105e953c7a51d9c7374a4fd68d44bc0ef\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,817336,956161c8a3334aa70828c1841ac3a56b373eb849,20,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: If719ffc105e953c7a51d9c7374a4fd68d44bc0ef
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/817336/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d2b644e7aaee1234c72e00d0e030d2ef4851b45c,openstack/requirements/constraints/noclob,backports.entry-points-selectable===1.1.1XStatic-Angular===1.8.2.1types-paramiko===2.7.4imagesize===1.3.0pkg_resources===0.0.0Jinja2===3.0.3google-api-python-client===2.30.0importlib-metadata===4.8.2boto3===1.20.2elementpath===2.4.0more-itertools===8.11.0botocore===1.23.2Django===3.2.9oslo.policy===3.10.0fasteners===0.16.3,backports.entry-points-selectable===1.1.0XStatic-Angular===1.5.8.0types-paramiko===2.7.3imagesize===1.2.0Jinja2===3.0.2google-api-python-client===2.29.0importlib-metadata===4.8.1boto3===1.19.12elementpath===2.3.2more-itertools===8.10.0botocore===1.22.12Django===2.2.24oslo.policy===3.9.0fasteners===0.14.1setuptools===58.5.3,15,15
openstack%2Fgovernance~master~Ie745e91e6a0edb8adf6ce5b36dbef22a338d8ca5,openstack/governance,master,Ie745e91e6a0edb8adf6ce5b36dbef22a338d8ca5,Merge 'Technical Writing' SIG into TC,MERGED,2021-10-28 16:58:45.000000000,2021-11-11 19:05:14.000000000,2021-11-11 19:02:10.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-28 16:58:45.000000000', 'files': ['reference/sigs-repos.yaml', 'reference/technical-committee-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/158e2be5a9b7aad43214517ebc6aa0560fdc87f4', 'message': ""Merge 'Technical Writing' SIG into TC\n\nNowadays, Technical Writing SIG is lacking maintainer and the\ncurrent Chair Stephen Finucane would not be able to continue\nleading this SIG.\n\nIn TC weekly meetings and PTG[1], we decided to merge this\nSIG responsibility in TC and a few repos which are related\nto upstream institute training will be moved to First Contact\nSIG.\n\nOne repo 'training-labs' is left for now, which will be called\nfor the maintainer, and if there is no one, we can retire it.\nWe are not even sure who is using it. Upstream training and CoA\ndo not use this repo.\n\n[1] https://etherpad.opendev.org/p/tc-yoga-ptg\n    http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025554.html\n\nNeeded-By: https://review.opendev.org/c/openstack/governance-sigs/+/815868\n\nChange-Id: Ie745e91e6a0edb8adf6ce5b36dbef22a338d8ca5\n""}]",4,815869,158e2be5a9b7aad43214517ebc6aa0560fdc87f4,14,7,1,8556,,,0,"Merge 'Technical Writing' SIG into TC

Nowadays, Technical Writing SIG is lacking maintainer and the
current Chair Stephen Finucane would not be able to continue
leading this SIG.

In TC weekly meetings and PTG[1], we decided to merge this
SIG responsibility in TC and a few repos which are related
to upstream institute training will be moved to First Contact
SIG.

One repo 'training-labs' is left for now, which will be called
for the maintainer, and if there is no one, we can retire it.
We are not even sure who is using it. Upstream training and CoA
do not use this repo.

[1] https://etherpad.opendev.org/p/tc-yoga-ptg
    http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025554.html

Needed-By: https://review.opendev.org/c/openstack/governance-sigs/+/815868

Change-Id: Ie745e91e6a0edb8adf6ce5b36dbef22a338d8ca5
",git fetch https://review.opendev.org/openstack/governance refs/changes/69/815869/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/sigs-repos.yaml', 'reference/technical-committee-repos.yaml']",2,158e2be5a9b7aad43214517ebc6aa0560fdc87f4,formal-vote, - repo: openstack/api-site - repo: openstack/constellations - repo: openstack/openstack-manuals,,7,6
openstack%2Fplacement~stable%2Fxena~If7e6060c867df21360a1f588ca872d65d75eb3c1,openstack/placement,stable/xena,If7e6060c867df21360a1f588ca872d65d75eb3c1,Use 'functional-without-sample-db-tests' tox env for placement nova job,MERGED,2021-11-09 17:02:06.000000000,2021-11-11 19:02:12.000000000,2021-11-11 18:56:02.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 17:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0b05da31f601ee5edd32226e349d6b7cfeae2d86', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/813679\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n""}, {'number': 2, 'created': '2021-11-09 17:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/68db7eacf2f40deb3ca495daa01b5c29599ea51a', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/817256\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n""}, {'number': 3, 'created': '2021-11-10 13:35:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/7422ed4d7adb26868602a3f4652119ff0392d298', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/817256\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n""}]",7,817255,7422ed4d7adb26868602a3f4652119ff0392d298,21,6,3,9708,,,0,"Use 'functional-without-sample-db-tests' tox env for placement nova job

Nova defines (depends-on) a new tox env 'functional-without-sample-db-tests'
to run the nova functional test by exlcuding the api|notification
sample_tests, and db-related tests.

We can use that to fix the error  are facing currently for this job
- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Depends-On: https://review.opendev.org/c/openstack/nova/+/817256
Change-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1
(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/817255/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0b05da31f601ee5edd32226e349d6b7cfeae2d86,fix-placement-gate, # 'functional-without-sample-db-tests' tox env is defined in nova tox.ini # to skip the api|notification _sample_tests and db-related tests. tox_envlist: functional-without-sample-db-tests," # Skip the api and notification _sample_tests, and db-related tests tox_extra_args: '^((?!(?:api|notification)_sample_tests|functional\.db\.).)*$'",3,2
openstack%2Foslo.utils~master~If83289882e79a973bc77f332408f8f7317351f6f,openstack/oslo.utils,master,If83289882e79a973bc77f332408f8f7317351f6f,Add backing file format to the output,MERGED,2021-05-01 09:13:01.000000000,2021-11-11 18:59:13.000000000,2021-11-11 18:55:31.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-01 09:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/71cd81b9b26c16af27a9978a979fd4569b00a528', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}, {'number': 2, 'created': '2021-05-01 09:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d464be6bac2d51256eb11411c5c9497a792c6a5d', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}, {'number': 3, 'created': '2021-05-01 11:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a2aa96a3b6a962b1404e7971db2dc90ec7b529fa', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}, {'number': 4, 'created': '2021-06-22 11:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/512cc2d961608dde1dd365082ee3e250eaaf3f35', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}, {'number': 5, 'created': '2021-06-22 11:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e0167402646bbf1c8e4d79fee1261fe60a8e1a66', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}, {'number': 6, 'created': '2021-06-22 13:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3ffea7cc2cacbd152b64f112b307442c1bbe694f', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}, {'number': 7, 'created': '2021-11-11 10:57:50.000000000', 'files': ['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/3b5eebdc1c8606552ca00cff8f675f556e076d0e', 'message': 'Add backing file format to the output\n\nSince libvirt 6, it might be important to understand the\nformat of the backing image [1] and verify it before operations.\n\nSo we adding backing file format to the output of the QemuImgInfo\n\n[1] https://libvirt.org/kbase/backing_chains.html\n\nChange-Id: If83289882e79a973bc77f332408f8f7317351f6f\n'}]",8,789051,3b5eebdc1c8606552ca00cff8f675f556e076d0e,26,4,7,28619,,,0,"Add backing file format to the output

Since libvirt 6, it might be important to understand the
format of the backing image [1] and verify it before operations.

So we adding backing file format to the output of the QemuImgInfo

[1] https://libvirt.org/kbase/backing_chains.html

Change-Id: If83289882e79a973bc77f332408f8f7317351f6f
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/51/789051/7 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py']",2,71cd81b9b26c16af27a9978a979fd4569b00a528,789051," _qcow2_backing_file_format = [ ('no_backing_file format', dict(backing_file_format=None)), ('qcow2', dict(backing_file_format='qcow2', exp_backing_file_format='qcow2')), ] cls._qcow2_backing_file, cls._qcow2_backing_file_format) if self.backing_file_format is not None: img_info = img_info + ('backing file format: %s' % self.backing_file_format,) if self.backing_file_format is not None: self.assertEqual(image_info.backing_file_format, self.exp_backing_file_format)", cls._qcow2_backing_file),17,1
openstack%2Fpuppet-neutron~stable%2Ftrain~I35c0a76cade37ccbaf7920b30ac162fe0f49e173,openstack/puppet-neutron,stable/train,I35c0a76cade37ccbaf7920b30ac162fe0f49e173,Add support for the resource_provider_default_hypervisor parameter,MERGED,2021-11-10 13:41:06.000000000,2021-11-11 18:52:49.000000000,2021-11-11 18:50:10.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8ab1ccc54857fb8497d9be8bcdf7ca3b2af092cf', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/763563\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n'}, {'number': 2, 'created': '2021-11-10 14:17:06.000000000', 'files': ['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/db82fc60d8bb6f28c00207b64db3da80f375d58c', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/796836\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n(cherry picked from commit 768c15c4ec676a661ac214adacd8ab2defbcc38e)\n(cherry picked from commit 15a3ccaefcb32e7de53e32d4de9db15fca98d022)\n(cherry picked from commit 863a7d2253f514e74fe1089fe23a085759d2dc5b)\n'}]",0,817414,db82fc60d8bb6f28c00207b64db3da80f375d58c,12,4,2,11975,,,0,"Add support for the resource_provider_default_hypervisor parameter

Conflicts:
    manifests/agents/ml2/ovs.pp

Related-Bug: #1926693
Depends-on: https://review.opendev.org/796836
Change-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173
(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)
(cherry picked from commit 768c15c4ec676a661ac214adacd8ab2defbcc38e)
(cherry picked from commit 15a3ccaefcb32e7de53e32d4de9db15fca98d022)
(cherry picked from commit 863a7d2253f514e74fe1089fe23a085759d2dc5b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/817414/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp']",5,8ab1ccc54857fb8497d9be8bcdf7ca3b2af092cf,bug/1926693-stable/train,"# [*resource_provider_default_hypervisor*] # (optional) The default hypervisor name used to locate the parent of # the resource provider. # Defaults to $::os_service_default # $resource_provider_default_hypervisor = $::os_service_default, 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real; 'ovs/resource_provider_default_hypervisor': value => $resource_provider_default_hypervisor;", 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real;,53,20
openstack%2Fpuppet-neutron~stable%2Fwallaby~I35c0a76cade37ccbaf7920b30ac162fe0f49e173,openstack/puppet-neutron,stable/wallaby,I35c0a76cade37ccbaf7920b30ac162fe0f49e173,Add support for the resource_provider_default_hypervisor parameter,MERGED,2021-11-10 13:40:06.000000000,2021-11-11 18:52:24.000000000,2021-11-11 18:50:03.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/61a20084ad097a82a7e91ed4313efa70df2e9351', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/763563\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n'}, {'number': 2, 'created': '2021-11-10 14:13:21.000000000', 'files': ['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/768c15c4ec676a661ac214adacd8ab2defbcc38e', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/796230\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n'}]",2,817406,768c15c4ec676a661ac214adacd8ab2defbcc38e,11,4,2,11975,,,0,"Add support for the resource_provider_default_hypervisor parameter

Conflicts:
    manifests/agents/ml2/ovs.pp

Related-Bug: #1926693
Depends-on: https://review.opendev.org/796230
Change-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173
(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/06/817406/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp']",5,61a20084ad097a82a7e91ed4313efa70df2e9351,bug/1926693-stable/wallaby,"# [*resource_provider_default_hypervisor*] # (optional) The default hypervisor name used to locate the parent of # the resource provider. # Defaults to $::os_service_default # $resource_provider_default_hypervisor = $::os_service_default, 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real; 'ovs/resource_provider_default_hypervisor': value => $resource_provider_default_hypervisor;", 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real;,53,20
openstack%2Fpuppet-neutron~stable%2Fussuri~I35c0a76cade37ccbaf7920b30ac162fe0f49e173,openstack/puppet-neutron,stable/ussuri,I35c0a76cade37ccbaf7920b30ac162fe0f49e173,Add support for the resource_provider_default_hypervisor parameter,MERGED,2021-11-10 13:40:57.000000000,2021-11-11 18:52:16.000000000,2021-11-11 18:50:07.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6a1157dcf4fbed82b2f56a8c2a047a570cea98a7', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/763563\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n'}, {'number': 2, 'created': '2021-11-10 14:16:01.000000000', 'files': ['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/863a7d2253f514e74fe1089fe23a085759d2dc5b', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/796853\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n(cherry picked from commit 768c15c4ec676a661ac214adacd8ab2defbcc38e)\n(cherry picked from commit 15a3ccaefcb32e7de53e32d4de9db15fca98d022)\n'}]",0,817413,863a7d2253f514e74fe1089fe23a085759d2dc5b,12,4,2,11975,,,0,"Add support for the resource_provider_default_hypervisor parameter

Conflicts:
    manifests/agents/ml2/ovs.pp

Related-Bug: #1926693
Depends-on: https://review.opendev.org/796853
Change-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173
(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)
(cherry picked from commit 768c15c4ec676a661ac214adacd8ab2defbcc38e)
(cherry picked from commit 15a3ccaefcb32e7de53e32d4de9db15fca98d022)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/13/817413/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp']",5,6a1157dcf4fbed82b2f56a8c2a047a570cea98a7,bug/1926693-stable/ussuri,"# [*resource_provider_default_hypervisor*] # (optional) The default hypervisor name used to locate the parent of # the resource provider. # Defaults to $::os_service_default # $resource_provider_default_hypervisor = $::os_service_default, 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real; 'ovs/resource_provider_default_hypervisor': value => $resource_provider_default_hypervisor;", 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real;,53,20
openstack%2Fpuppet-neutron~stable%2Fvictoria~I35c0a76cade37ccbaf7920b30ac162fe0f49e173,openstack/puppet-neutron,stable/victoria,I35c0a76cade37ccbaf7920b30ac162fe0f49e173,Add support for the resource_provider_default_hypervisor parameter,MERGED,2021-11-10 13:40:48.000000000,2021-11-11 18:52:09.000000000,2021-11-11 18:50:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 13:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a4d91560f3ad20f506f82d45e3923c58b43836a9', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/763563\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n'}, {'number': 2, 'created': '2021-11-10 14:15:28.000000000', 'files': ['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/15a3ccaefcb32e7de53e32d4de9db15fca98d022', 'message': 'Add support for the resource_provider_default_hypervisor parameter\n\nConflicts:\n    manifests/agents/ml2/ovs.pp\n\nRelated-Bug: #1926693\nDepends-on: https://review.opendev.org/796672\nChange-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173\n(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)\n(cherry picked from commit 768c15c4ec676a661ac214adacd8ab2defbcc38e)\n'}]",0,817412,15a3ccaefcb32e7de53e32d4de9db15fca98d022,12,4,2,11975,,,0,"Add support for the resource_provider_default_hypervisor parameter

Conflicts:
    manifests/agents/ml2/ovs.pp

Related-Bug: #1926693
Depends-on: https://review.opendev.org/796672
Change-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173
(cherry picked from commit 38d85c0e7822fca68662371fe11018d7a457a19b)
(cherry picked from commit 768c15c4ec676a661ac214adacd8ab2defbcc38e)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/12/817412/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_default_hypervisor-0d27eb32e2cde997.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp']",5,a4d91560f3ad20f506f82d45e3923c58b43836a9,bug/1926693-stable/victoria,"# [*resource_provider_default_hypervisor*] # (optional) The default hypervisor name used to locate the parent of # the resource provider. # Defaults to $::os_service_default # $resource_provider_default_hypervisor = $::os_service_default, 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real; 'ovs/resource_provider_default_hypervisor': value => $resource_provider_default_hypervisor;", 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real;,53,20
openstack%2Fgovernance~master~I1ce58b1c42ce1e24116a54b6fc136bf6bbcdc818,openstack/governance,master,I1ce58b1c42ce1e24116a54b6fc136bf6bbcdc818,Unselect RBAC goal to rework the implementation,MERGED,2021-11-02 00:29:23.000000000,2021-11-11 18:41:31.000000000,2021-11-11 18:38:43.000000000,"[{'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-02 00:29:23.000000000', 'files': ['goals/selected/yoga/index.rst', 'goals/proposed/consistent-and-secure-rbac.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/1a9355677454b9d2491be624f11874b6dc16bc47', 'message': 'Unselect RBAC goal to rework the implementation\n\nAs discussed in Yoga PTG, we need to rework the implementation\nfor the new secure RBAC.\n- https://etherpad.opendev.org/p/tc-yoga-ptg\n\nWe will continue to rework the implementation in\ngoals/proposed folder and once it is ready then we will select this\nas goal.\n\nChange-Id: I1ce58b1c42ce1e24116a54b6fc136bf6bbcdc818\n'}]",1,816253,1a9355677454b9d2491be624f11874b6dc16bc47,10,5,1,8556,,,0,"Unselect RBAC goal to rework the implementation

As discussed in Yoga PTG, we need to rework the implementation
for the new secure RBAC.
- https://etherpad.opendev.org/p/tc-yoga-ptg

We will continue to rework the implementation in
goals/proposed folder and once it is ready then we will select this
as goal.

Change-Id: I1ce58b1c42ce1e24116a54b6fc136bf6bbcdc818
",git fetch https://review.opendev.org/openstack/governance refs/changes/53/816253/1 && git format-patch -1 --stdout FETCH_HEAD,"['goals/selected/yoga/index.rst', 'goals/proposed/consistent-and-secure-rbac.rst']",2,1a9355677454b9d2491be624f11874b6dc16bc47,formal-vote,,,0,9
openstack%2Fgovernance~master~I6a3120193147cd0d46c04106283fa7d5519f9cb0,openstack/governance,master,I6a3120193147cd0d46c04106283fa7d5519f9cb0,Decouple the community-wide goals from cycle release,MERGED,2021-11-02 18:14:57.000000000,2021-11-11 18:39:54.000000000,2021-11-11 18:37:21.000000000,"[{'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-02 18:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/672ffdf539b5fdc568a0621f18e9c9f8bc5c9b3b', 'message': 'Decouple the community-wide goals from cycle release\n\nAs discussed in Yoga PTG[1], we are decoupling the\ncommunity-wide goals from release cycle which will\ngive us benefit to:\n- have a set of goals always active for community to work\nwhenever we get help or bandwidth.\n- Divide the goal into different milestones\n- Complete the goal as per set targets instead of fogetting\nit once cycle is completed.\n\n[1] https://etherpad.opendev.org/p/tc-yoga-ptg\n\nChange-Id: I6a3120193147cd0d46c04106283fa7d5519f9cb0\n'}, {'number': 2, 'created': '2021-11-02 23:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6b3abdd78ecc564e5c356be993f3ae6780ec1f25', 'message': 'Decouple the community-wide goals from cycle release\n\nAs discussed in Yoga PTG[1], we are decoupling the\ncommunity-wide goals from release cycle which will\ngive us benefit to:\n- have a set of goals always active for community to work\nwhenever we get help or bandwidth.\n- Divide the goal into different milestones\n- Complete the goal as per set targets instead of fogetting\nit once cycle is completed.\n\n[1] https://etherpad.opendev.org/p/tc-yoga-ptg\n\nChange-Id: I6a3120193147cd0d46c04106283fa7d5519f9cb0\n'}, {'number': 3, 'created': '2021-11-04 16:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3d1f43f9d138ee8ab888a1e9c0c540b8dd7436c2', 'message': 'Decouple the community-wide goals from cycle release\n\nAs discussed in Yoga PTG[1], we are decoupling the\ncommunity-wide goals from release cycle which will\ngive us benefit to:\n- have a set of goals always active for community to work\nwhenever we get help or bandwidth.\n- Divide the goal into different milestones\n- Complete the goal as per set targets instead of fogetting\nit once cycle is completed.\n\n[1] https://etherpad.opendev.org/p/tc-yoga-ptg\n\nChange-Id: I6a3120193147cd0d46c04106283fa7d5519f9cb0\n'}, {'number': 4, 'created': '2021-11-04 17:07:45.000000000', 'files': ['goals/index.rst', 'goals/template.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/3d8d0e0b1737d6b64407ebdb192bb05f00f0b43c', 'message': 'Decouple the community-wide goals from cycle release\n\nAs discussed in Yoga PTG[1], we are decoupling the\ncommunity-wide goals from release cycle which will\ngive us benefit to:\n- have a set of goals always active for community to work\nwhenever we get help or bandwidth.\n- Divide the goal into different milestones\n- Complete the goal as per set targets instead of fogetting\nit once cycle is completed.\n\n[1] https://etherpad.opendev.org/p/tc-yoga-ptg\n\nChange-Id: I6a3120193147cd0d46c04106283fa7d5519f9cb0\n'}]",45,816387,3d8d0e0b1737d6b64407ebdb192bb05f00f0b43c,30,9,4,8556,,,0,"Decouple the community-wide goals from cycle release

As discussed in Yoga PTG[1], we are decoupling the
community-wide goals from release cycle which will
give us benefit to:
- have a set of goals always active for community to work
whenever we get help or bandwidth.
- Divide the goal into different milestones
- Complete the goal as per set targets instead of fogetting
it once cycle is completed.

[1] https://etherpad.opendev.org/p/tc-yoga-ptg

Change-Id: I6a3120193147cd0d46c04106283fa7d5519f9cb0
",git fetch https://review.opendev.org/openstack/governance refs/changes/87/816387/3 && git format-patch -1 --stdout FETCH_HEAD,"['goals/index.rst', 'goals/template.rst']",2,672ffdf539b5fdc568a0621f18e9c9f8bc5c9b3b,formal-vote,"OR :Etherpad: <put the link to etherpad where progress is tracked>Completion Date & Criteria ========================== Set the target dates or different milestones with the items that must be true in order to call the milestone and goal ""completed"" for a given project. Completion Date: Items to complete:OR Milestone 1 Date: Items to complete: #. one #. two Milestone 2 Date: Items to complete: #. one #. two . . ","Completion Criteria =================== Enumerate the items that must be true in order to call the goal ""completed"" for a given project. ",68,36
openstack%2Fcinder~stable%2Fwallaby~I8287460b902dd525aa5313861142f5fb8490e60a,openstack/cinder,stable/wallaby,I8287460b902dd525aa5313861142f5fb8490e60a,RBD: Open RBD images read-only where possible,MERGED,2021-11-09 14:39:51.000000000,2021-11-11 17:31:38.000000000,2021-11-09 21:14:49.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 14:39:51.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2fe6cc115da08670e7aab39fc21b354ce55d3cd', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nCloses-Bug: #1947518\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n(cherry picked from commit e644e3584b040823f3b3d9d73730b861a3ec413f)\n(cherry picked from commit 5b169aeea76baecf0b6795efd09dfb1c58ff20d9)\n""}]",3,817223,f2fe6cc115da08670e7aab39fc21b354ce55d3cd,24,4,1,4523,,,0,"RBD: Open RBD images read-only where possible

In cases where we don't need to modify the image,
open rbd images in read-only mode.

Closes-Bug: #1947518
Change-Id: I8287460b902dd525aa5313861142f5fb8490e60a
(cherry picked from commit e644e3584b040823f3b3d9d73730b861a3ec413f)
(cherry picked from commit 5b169aeea76baecf0b6795efd09dfb1c58ff20d9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/817223/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml']",2,f2fe6cc115da08670e7aab39fc21b354ce55d3cd,,--- fixes: - | RBD driver `bug #1947518 <https://bugs.launchpad.net/cinder/+bug/1947518>`_: Corrected a regression caused by the fix for `Bug #1931004 <https://bugs.launchpad.net/cinder/+bug/1931004>`_ that was attempting to access the glance images RBD pool with write privileges when creating a volume from an image. ,,19,5
openstack%2Fcinder~master~I0f63a043385e8df0966b4f5795e68e0fab2c37b2,openstack/cinder,master,I0f63a043385e8df0966b4f5795e68e0fab2c37b2,RBD: add support for snapshot mirroring based replication,NEW,2021-04-06 12:50:44.000000000,2021-11-11 16:20:58.000000000,,"[{'_account_id': 4523}, {'_account_id': 5575}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-06 12:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e28cc6cea2a38d895a0d2d7a748a518c506acf8d', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable enable the mirroring with the\nsnapshot mode in RBD.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 2, 'created': '2021-04-06 12:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d607b81c59c350265c482d9c09d3519697c2951a', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 3, 'created': '2021-04-06 13:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0ab153dce0f3df2363ad7b8298df716df4b5fdf', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 4, 'created': '2021-04-15 12:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00c4d00162e687414ace0daf99254dde0e3d951f', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 5, 'created': '2021-04-15 12:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a927f2e270920f35e536d9ea5c794ee307bd59d1', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 6, 'created': '2021-05-10 10:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3219c3e4745c04d84614cb1e260983b4354e4c98', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 7, 'created': '2021-05-10 12:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5191c8ec3246549c1ef79753651601620dcd466', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 8, 'created': '2021-05-10 14:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8babffd0d8a676f9c184a63154783b10920cd156', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 9, 'created': '2021-06-07 06:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab1864b4b61763cddf55a0ecdeaab7e691e6c12d', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 10, 'created': '2021-06-07 07:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/081c346463570a049af87ac44d1dbabda39b2f9c', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournaling or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 11, 'created': '2021-06-07 07:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e9605ea995d20b0ffe6578c82a1a004f656aeaa', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournal or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 12, 'created': '2021-07-08 07:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6527c3771d9fa47f13875e6f3afbee096864297', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournal or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 13, 'created': '2021-07-08 09:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2163bd5b098b2a130a62db903a3421955c1e24c3', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournal or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}, {'number': 14, 'created': '2021-09-14 09:08:59.000000000', 'files': ['releasenotes/notes/add-rbd-snap-mirroring-e1a2c30698a30180.yaml', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f23f7da1a990b6973f9ce154088f2414640ae128', 'message': 'RBD: add support for snapshot mirroring based replication\n\nAdd a new configration option `rbd_replication_mode` to choose between\njournal or snapshot based replication.\n\nIf enabled the snapshot replication will make sure that fast diff is\nenabled on the image and will enable mirroring on the RBD image with\nthe snapshot mode.\n\nSigned-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>\nPartial-Implements: blueprint rbd-snapshot-mirroring\nChange-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2\n'}]",6,784945,f23f7da1a990b6973f9ce154088f2414640ae128,214,7,14,32712,,,0,"RBD: add support for snapshot mirroring based replication

Add a new configration option `rbd_replication_mode` to choose between
journal or snapshot based replication.

If enabled the snapshot replication will make sure that fast diff is
enabled on the image and will enable mirroring on the RBD image with
the snapshot mode.

Signed-off-by: Arthur Outhenin-Chalandre <arthur.outhenin-chalandre@cern.ch>
Partial-Implements: blueprint rbd-snapshot-mirroring
Change-Id: I0f63a043385e8df0966b4f5795e68e0fab2c37b2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/784945/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,e28cc6cea2a38d895a0d2d7a748a518c506acf8d,rbd-snapshot-mirroring,"try: import rbd except ImportError: rbd = None @ddt.data(True, False) @common_mocks def test_enable_replication_snapshot(self, fast_diff_enabled): """"""Test _enable_replication method with snapshot mode. We want to confirm that if the Ceph backend has globally enabled 'fast_diff'. we don't try to enable them again and we properly indicate with our return value that they were already enabled. In this test case, there are three test scenarios: """""" self.driver.rbd_replication_mode = \ self.driver.RBD_REPLICATION_MODE_JOURNALING image = self.mock_proxy.return_value.__enter__.return_value image_features = 0 if fast_diff_enabled: image_features |= self.driver.RBD_FEATURE_FAST_DIFF image.features.return_value = image_features fast_diff_status = str(fast_diff_enabled).lower() expected = { 'replication_driver_data': ('{""had_fast_diff:%s}' % (fast_diff_status)), 'replication_status': 'enabled', } res = self.driver._enable_replication(self.volume_a) self.assertEqual(expected, res) if fast_diff_enabled: image.update_features.assert_not_called() elif not fast_diff_enabled: image.update_features.assert_called_once_with( self.driver.RBD_FEATURE_JOURNALING, True) image.mirror_image_enable.assert_called_once_with( rbd.RBD_MIRROR_IMAGE_MODE_SNAPSHOT) def test_enable_replication_journaling(self, exclusive_lock_enabled, journaling_enabled): """"""Test _enable_replication method with journaling mode. self.driver.rbd_replication_mode = \ self.driver.RBD_REPLICATION_MODE_JOURNALING image.mirror_image_enable.assert_called_once_with( rbd.RBD_MIRROR_IMAGE_MODE_JOURNAL)"," def test_enable_replication(self, exclusive_lock_enabled, journaling_enabled): """"""Test _enable_replication method. image.mirror_image_enable.assert_called_once_with()",101,18
openstack%2Fcinder~master~I6bd0f75bff9008f29389794a22b6c79e4ee834f2,openstack/cinder,master,I6bd0f75bff9008f29389794a22b6c79e4ee834f2,Revert to any snapshot support for allowed driver.,NEW,2020-08-08 05:55:10.000000000,2021-11-11 16:20:09.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28706}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 30754}]","[{'number': 1, 'created': '2020-08-08 05:55:10.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/api/v3/volumes.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/15f64ad4270bc8e11c6bc73a088a2ad8b1e6c693', 'message': 'Revert to any snapshot support for allowed driver.\n\nAdd support to revert to any snapshot for specified driver.\nWhen revert_to_any_snapshot return false, the operation is\nthe same as before. If false, perform revert to snapshot\neven if a non-latest snapshot_id is entered. For drivers\nsupported revert to any snapshot, they can enable the function\nof restoring to any snapshot by returning true from its own\nrevert_to_any_snapshot.\n\nChange-Id: I6bd0f75bff9008f29389794a22b6c79e4ee834f2\nImplements: blueprint suport-revert-any-snapshot\n'}]",1,745436,15f64ad4270bc8e11c6bc73a088a2ad8b1e6c693,76,29,1,30754,,,0,"Revert to any snapshot support for allowed driver.

Add support to revert to any snapshot for specified driver.
When revert_to_any_snapshot return false, the operation is
the same as before. If false, perform revert to snapshot
even if a non-latest snapshot_id is entered. For drivers
supported revert to any snapshot, they can enable the function
of restoring to any snapshot by returning true from its own
revert_to_any_snapshot.

Change-Id: I6bd0f75bff9008f29389794a22b6c79e4ee834f2
Implements: blueprint suport-revert-any-snapshot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/745436/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/api/v3/volumes.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/rpcapi.py']",7,15f64ad4270bc8e11c6bc73a088a2ad8b1e6c693,revert-to-any-snapshot-allowed," def revert_to_any_snapshot_allowed(self, ctxt, volume): cctxt = self._get_cctxt(volume.service_topic_queue) return cctxt.call(ctxt, 'revert_to_any_snapshot_allowed') ",,67,9
openstack%2Fcinder~master~I8dfa3f51f51027396da38b10da71126e455fed0c,openstack/cinder,master,I8dfa3f51f51027396da38b10da71126e455fed0c,Fix: _get_stripe_unit should open glance image read-only,ABANDONED,2021-10-27 16:02:19.000000000,2021-11-11 15:27:29.000000000,,"[{'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 16:02:19.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d87136846a6b6775227e085060eb99bc2c7d1e0a', 'message': 'Fix: _get_stripe_unit should open glance image read-only\n\nWhen cinder tries to get the stripe unit of a glance image it should\ndo it in read-only mode.\n\nIn a standard configuration cinder caps only allow read access to glance\nimages, so this function will raise a rbd.PermissionError.\n\nSigned-off-by: Javier Cacheiro <javier.cacheiro.lopez@cesga.es>\nCloses-Bug: #1947518\nChange-Id: I8dfa3f51f51027396da38b10da71126e455fed0c\n'}]",2,815701,d87136846a6b6775227e085060eb99bc2c7d1e0a,21,3,1,34195,,,0,"Fix: _get_stripe_unit should open glance image read-only

When cinder tries to get the stripe unit of a glance image it should
do it in read-only mode.

In a standard configuration cinder caps only allow read access to glance
images, so this function will raise a rbd.PermissionError.

Signed-off-by: Javier Cacheiro <javier.cacheiro.lopez@cesga.es>
Closes-Bug: #1947518
Change-Id: I8dfa3f51f51027396da38b10da71126e455fed0c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/815701/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,d87136846a6b6775227e085060eb99bc2c7d1e0a,bug/1947518," image = self.rbd.Image(ioctx, volume_name, read_only=True)"," image = self.rbd.Image(ioctx, volume_name)",1,1
openstack%2Fcinder~master~Ida363ddc949f37e6fc5aa026b7a1c215a56398bf,openstack/cinder,master,Ida363ddc949f37e6fc5aa026b7a1c215a56398bf,RBD: Delete snapshots with volume dependency,ABANDONED,2020-09-25 13:55:47.000000000,2021-11-11 15:22:44.000000000,,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-09-25 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a33e734646bf23675cbe9e845d5cdebb53ee8643', 'message': 'WIP: delete volumes with snapshot dependency\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n'}, {'number': 2, 'created': '2020-09-25 17:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e9f481c17268fa65128ffab216ab2c78d449819', 'message': 'WIP: delete volumes with snapshot dependency\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n'}, {'number': 3, 'created': '2020-09-28 17:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c159c5ac3c4a4e198c3861ed8fcb17fbc229d971', 'message': ""RBD: Delete snapshots with volume dependency\n\nIncase of RBD driver, volumes and snapshots are treated as images\nand their dependencies are maintained.\nCurrently if there is a volume dependent on (created from) snapshot,\nwe are unable to delete the snapshot.\nThis patch fixes the issue by renaming the parent file with\n'.deleted' extension and deleting it only when it's last dependency\nis deleted.\n\nCloses-Bug: 1677525\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n""}, {'number': 4, 'created': '2021-02-02 12:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05fa777f610ae7e23da4aa3269588a4c679c1140', 'message': ""RBD: Delete snapshots with volume dependency\n\nIncase of RBD driver, volumes and snapshots are treated as images\nand their dependencies are maintained.\nCurrently if there is a volume dependent on (created from) snapshot,\nwe are unable to delete the snapshot.\nThis patch fixes the issue by renaming the parent file with\n'.deleted' extension and deleting it only when it's last dependency\nis deleted.\n\nCloses-Bug: 1677525\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n""}, {'number': 5, 'created': '2021-02-02 12:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/293764366ae493aedf81ce2edc5c52f22adb86af', 'message': ""RBD: Delete snapshots with volume dependency\n\nIncase of RBD driver, volumes and snapshots are treated as images\nand their dependencies are maintained.\nCurrently if there is a volume dependent on (created from) snapshot,\nwe are unable to delete the snapshot.\nThis patch fixes the issue by renaming the parent file with\n'.deleted' extension and deleting it only when it's last dependency\nis deleted.\n\nCloses-Bug: 1677525\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n""}, {'number': 6, 'created': '2021-02-03 09:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53e9398c002eebcb35e0fd2a5787c45d6ff24d8e', 'message': ""RBD: Delete snapshots with volume dependency\n\nIn case of RBD driver, volumes and snapshots are treated as images\nand their dependencies are maintained.\nCurrently if there is a volume dependent on (created from) snapshot,\nwe are unable to delete the snapshot.\nThis patch fixes the issue by renaming the parent file with\n'.deleted' extension and deleting it only when it's last dependency\nis deleted.\n\nCloses-Bug: 1677525\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n""}, {'number': 7, 'created': '2021-03-30 06:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4120ebce5d8c2160fa0b2d9569090cb2e5da4ff3', 'message': ""RBD: Delete snapshots with volume dependency\n\nIn case of RBD driver, volumes and snapshots are treated as images\nand their dependencies are maintained.\nCurrently if there is a volume dependent on (created from) snapshot,\nwe are unable to delete the snapshot.\nThis patch fixes the issue by renaming the parent file with\n'.deleted' extension and deleting it only when it's last dependency\nis deleted.\n\nCloses-Bug: 1677525\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n""}, {'number': 8, 'created': '2021-03-30 07:04:06.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-defer-snap-deletion-52bd52781a9bbe72.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3459dd919363f3d6e4724cef6fd1cb959ebd8826', 'message': ""RBD: Delete snapshots with volume dependency\n\nIn case of RBD driver, volumes and snapshots are treated as images\nand their dependencies are maintained.\nCurrently if there exists a volume dependent on (created from) snapshot,\nwe are unable to delete the snapshot.\nThis patch fixes the issue by renaming the parent file with\n'.deleted' extension and deleting it only when it's last dependency\nis deleted.\n\nCloses-Bug: 1677525\n\nChange-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf\n""}]",3,754397,3459dd919363f3d6e4724cef6fd1cb959ebd8826,197,29,8,27615,,,0,"RBD: Delete snapshots with volume dependency

In case of RBD driver, volumes and snapshots are treated as images
and their dependencies are maintained.
Currently if there exists a volume dependent on (created from) snapshot,
we are unable to delete the snapshot.
This patch fixes the issue by renaming the parent file with
'.deleted' extension and deleting it only when it's last dependency
is deleted.

Closes-Bug: 1677525

Change-Id: Ida363ddc949f37e6fc5aa026b7a1c215a56398bf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/754397/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/volume/api.py']",3,a33e734646bf23675cbe9e845d5cdebb53ee8643,754397, import pdb; pdb.set_trace(),,34,6
openstack%2Fcinder~master~I5059176d860f8d94429f2949a71b816874e569e7,openstack/cinder,master,I5059176d860f8d94429f2949a71b816874e569e7,[PoC] Retype to encrypted type,ABANDONED,2021-04-15 05:15:29.000000000,2021-11-11 15:10:43.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 05:15:29.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2569f6b56f0b8ad3f5ef4c109b5cdab73eef4bfb', 'message': '[PoC] Retype to encrypted type\n\nChange-Id: I5059176d860f8d94429f2949a71b816874e569e7\n'}]",12,786356,2569f6b56f0b8ad3f5ef4c109b5cdab73eef4bfb,19,2,1,20813,,,0,"[PoC] Retype to encrypted type

Change-Id: I5059176d860f8d94429f2949a71b816874e569e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/786356/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,2569f6b56f0b8ad3f5ef4c109b5cdab73eef4bfb,," def _migrate_to_encrypted_type(self, context, source_vol): """""" PoC - Fix uncrypted volume to encrypted type Steps - rbd export the image to a file - qemu-img rezise the file - qemu-img convert from raw to luks - rbd import the encrypted volume """""" LUKS_header_size = 3 encryption = {'cipher': 'aes-256', 'key_size': 'plain64', 'encryption_key_id': '55555-555'} src_format = 'raw' # Export the rbd image to raw tmp_dir = volume_utils.image_conversion_dir() src_image_path = os.path.join(tmp_dir, source_vol.name) dest_image_path = src_image_path + '.luks' with fileutils.remove_path_on_error(src_image_path): args = ['rbd', 'export', '--pool', self.configuration.rbd_pool, source_vol.name, src_image_path] args.extend(self._ceph_args()) self._try_execute(*args) # Increase the source size to be slightly # larger in order to fit the the encryption header message = _(""The destination file needs to be encrypted so it "" ""is necessary to increase the size by %(size)s M "" ""before conversion."") % {'size': LUKS_header_size} LOG.info(message) # resize resize_cmd = ('qemu-img', 'resize', src_image_path, '-f', src_format, '+%sM' % (LUKS_header_size)) self._execute(*resize_cmd) # Fetch the key associated with the volume and decode the passphrase # keymgr = key_manager.API(CONF) # key = keymgr.get(context, encryption['encryption_key_id']) # passphrase = binascii.hexlify(key.get_encoded()).decode('utf-8') # Decode the dm-crypt style cipher spec into something qemu-img can use # cipher_spec = image_utils.decode_cipher(encryption['cipher'], # encryption['key_size']) with tempfile.NamedTemporaryFile(prefix='luks_', dir=tmp_dir) as pass_file: with open(pass_file.name, 'w') as f: f.write(""very secure passphrase"") # Convert the raw image to luks secret = 'secret,id=luks_sec,format=raw,file=%s' % pass_file.name try: convert_cmd = ('qemu-img', 'convert', '-O', 'luks', '-f', 'raw', '-o', 'cipher-alg=aes-256,cipher-mode=xts,ivgen-alg=plain64', '--object', secret, '-o', 'key-secret=luks_sec', src_image_path, dest_image_path) self._execute(*convert_cmd) # Replace the original image with the now encrypted image os.rename(dest_image_path, src_image_path) finally: fileutils.delete_if_exists(dest_image_path) # Copy image into RBD chunk_size = self.configuration.rbd_store_chunk_size * units.Mi order = int(math.log(chunk_size, 2)) volume_name_luks = source_vol.name + '1' cmd = ['rbd', 'import', '--pool', self.configuration.rbd_pool, '--order', order, src_image_path, volume_name_luks] cmd.extend(self._ceph_args()) self._execute(*cmd) return def migrate_volume(self, context, volume, host, encrypted=False): encrypted = True if encrypted: self._migrate_to_encrypted_type(context, volume) else: LOG.debug('Migration in the same pool, just need to update ' ""volume's host value to destination host."") return (True, None)"," def migrate_volume(self, context, volume, host): LOG.debug('Migration in the same pool, just need to update ' ""volume's host value to destination host."") return (True, None)",91,4
openstack%2Fansible-role-pki~master~Id3f54e65e2026185160f6aa7998c173b51c55ded,openstack/ansible-role-pki,master,Id3f54e65e2026185160f6aa7998c173b51c55ded,Add tasks to generate intermediate cert chain,MERGED,2021-11-05 15:51:58.000000000,2021-11-11 15:09:09.000000000,2021-11-11 15:07:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-05 15:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/f478cf4ac73cd825ec9a5a2eef497cf2b6f0811a', 'message': 'Add tasks to generate intermediate cert chain\n\nTo start libvirtd with TLS enabled the CA cert must contain any\nintermediate certificates required by the server cert even if the\nserver certificate contains them otherwise it wont start.\n\nI have tried putting the root cert into the server cert chain,\nbut this did not fix the issue.\n\nChange-Id: Id3f54e65e2026185160f6aa7998c173b51c55ded\n'}, {'number': 2, 'created': '2021-11-08 12:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/46bad18cef6cf20d2d83a8eaa2f78dfca8cb8294', 'message': 'Add tasks to generate intermediate cert chain\n\nThis task will create a chain of trust certificate that includes\nthe certificate authority used to sign the intermediate\ncertificate.\n\nTo start libvirtd with TLS enabled the CA cert must contain any\nintermediate certificates required by the server cert even if the\nserver certificate contains them otherwise it wont start.\n\nI have tried putting the root cert into the server cert chain,\nbut this did not fix the issue.\n\nChange-Id: Id3f54e65e2026185160f6aa7998c173b51c55ded\n'}, {'number': 3, 'created': '2021-11-08 13:50:54.000000000', 'files': ['tasks/standalone/create_ca.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/a3713a22292c16171863a1151790b4f35f409a9c', 'message': 'Add tasks to generate intermediate cert chain\n\nThis task will create a chain of trust certificate that includes\nthe certificate authority used to sign the intermediate\ncertificate.\n\nTo start libvirtd with TLS enabled the CA cert must contain any\nintermediate certificates required by the server cert even if the\nserver certificate contains them otherwise it wont start.\n\nI have tried putting the root cert into the server cert chain,\nbut this did not fix the issue.\n\nChange-Id: Id3f54e65e2026185160f6aa7998c173b51c55ded\n'}]",4,816857,a3713a22292c16171863a1151790b4f35f409a9c,19,3,3,31749,,,0,"Add tasks to generate intermediate cert chain

This task will create a chain of trust certificate that includes
the certificate authority used to sign the intermediate
certificate.

To start libvirtd with TLS enabled the CA cert must contain any
intermediate certificates required by the server cert even if the
server certificate contains them otherwise it wont start.

I have tried putting the root cert into the server cert chain,
but this did not fix the issue.

Change-Id: Id3f54e65e2026185160f6aa7998c173b51c55ded
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/57/816857/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_ca.yml'],1,f478cf4ac73cd825ec9a5a2eef497cf2b6f0811a,intermediate-chain," - name: Create intermediate certificate chain vars: ownca_path: ""{{ pki_dir ~ '/roots/' ~ ca.signed_by ~ '/certs/' ~ ca.signed_by ~ '.crt' }}"" cert_path: ""{{ ca_cert_prefix ~ '.crt' }}"" cert_chain_path: ""{{ ca_cert_prefix ~ '-chain.crt' }}"" shell: cmd: ""cat {{ cert_path }} {{ ownca_path }} > {{ cert_chain_path }}"" creates: ""{{ cert_chain_path }}"" when: - ca_ownca_crt is changed or ca_selfsigned_crt is changed - ca.provider == 'ownca'",,12,0
openstack%2Fopenstack-ansible-os_glance~master~I71ebc2fc4e386f3a1599fe73d49fae185ec9d2ff,openstack/openstack-ansible-os_glance,master,I71ebc2fc4e386f3a1599fe73d49fae185ec9d2ff,Refactor galera_use_ssl behaviour,MERGED,2021-09-17 11:39:13.000000000,2021-11-11 14:45:50.000000000,2021-11-11 14:43:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-09-17 11:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ec6638d000fdbdc98ece1ce7d86c8af7775190e0', 'message': ""Refactor galera_use_ssl behaviour\n\nWith PKI role in place in most cases you don't need to explicitly\nprovide path to the CA file because PKI role ensures that CA is trusted\nby the system overall. In the meanwhile in PyMySQL [1] you must either\nprovide CA file or cert/key or enable verify.\n\nSince current behaviour is to provide path to the custom CA we expect\ncertificate being trusted overall. Thus we enable cert verification when\ngalera_use_ssl is True.\n\n[1] https://github.com/PyMySQL/PyMySQL/blob/78f0cf99e5d5351df0821442e4dc35c49a6390c6/pymysql/connections.py#L267\n\nChange-Id: I71ebc2fc4e386f3a1599fe73d49fae185ec9d2ff\n""}, {'number': 2, 'created': '2021-09-17 13:58:45.000000000', 'files': ['templates/glance-manage.conf.j2', 'templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/7b719c7ffb3554576aadb0da9b2f655659c86b15', 'message': ""Refactor galera_use_ssl behaviour\n\nWith PKI role in place in most cases you don't need to explicitly\nprovide path to the CA file because PKI role ensures that CA is trusted\nby the system overall. In the meanwhile in PyMySQL [1] you must either\nprovide CA file or cert/key or enable verify.\n\nSince current behaviour is to provide path to the custom CA we expect\ncertificate being trusted overall. Thus we enable cert verification when\ngalera_use_ssl is True.\n\n[1] https://github.com/PyMySQL/PyMySQL/blob/78f0cf99e5d5351df0821442e4dc35c49a6390c6/pymysql/connections.py#L267\n\nChange-Id: I71ebc2fc4e386f3a1599fe73d49fae185ec9d2ff\n""}]",3,809635,7b719c7ffb3554576aadb0da9b2f655659c86b15,20,3,2,28619,,,0,"Refactor galera_use_ssl behaviour

With PKI role in place in most cases you don't need to explicitly
provide path to the CA file because PKI role ensures that CA is trusted
by the system overall. In the meanwhile in PyMySQL [1] you must either
provide CA file or cert/key or enable verify.

Since current behaviour is to provide path to the custom CA we expect
certificate being trusted overall. Thus we enable cert verification when
galera_use_ssl is True.

[1] https://github.com/PyMySQL/PyMySQL/blob/78f0cf99e5d5351df0821442e4dc35c49a6390c6/pymysql/connections.py#L267

Change-Id: I71ebc2fc4e386f3a1599fe73d49fae185ec9d2ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/35/809635/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-manage.conf.j2', 'templates/glance-api.conf.j2', 'defaults/main.yml']",3,ec6638d000fdbdc98ece1ce7d86c8af7775190e0,osa/galera_pki,"glance_galera_ssl_ca_cert: ""{{ galera_ssl_ca_cert | default('') }}""","glance_galera_ssl_ca_cert: ""{{ galera_ssl_ca_cert | default('/etc/ssl/certs/galera-ca.pem') }}""",3,3
openstack%2Fnova~master~Iadca69fee24ec89408f9fca68d1da46c918577bc,openstack/nova,master,Iadca69fee24ec89408f9fca68d1da46c918577bc,Log failed metadata retrievals,MERGED,2021-10-28 15:39:36.000000000,2021-11-11 14:41:39.000000000,2021-11-11 14:37:33.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 15:39:36.000000000', 'files': ['nova/api/metadata/handler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7320817799527a093c573b95f0cf434d7fd5cc92', 'message': ""Log failed metadata retrievals\n\nIn our cloud environments, we're observing a weird issue where\nthis function is returning `None` for systems that are already\nrunning and exist.\n\nDue to the fact that it returns `None` right away, we don't\nactually get a reason as to why the request failed and it is\nreturning a 404.\n\nThis should not clobber up the logs much more, due to the fact\nthat if you are sending a request to the metadata service, you're\nsupposed to already exist, so not being able to find the metadata\nfor an instance seems like a broken case.\n\nThis patch should help operators at least uncover why exactly\ntheir instances are failing to get the metadata to further\ntroubleshoot.\n\nChange-Id: Iadca69fee24ec89408f9fca68d1da46c918577bc\n""}]",3,815859,7320817799527a093c573b95f0cf434d7fd5cc92,21,3,1,1004,,,0,"Log failed metadata retrievals

In our cloud environments, we're observing a weird issue where
this function is returning `None` for systems that are already
running and exist.

Due to the fact that it returns `None` right away, we don't
actually get a reason as to why the request failed and it is
returning a 404.

This should not clobber up the logs much more, due to the fact
that if you are sending a request to the metadata service, you're
supposed to already exist, so not being able to find the metadata
for an instance seems like a broken case.

This patch should help operators at least uncover why exactly
their instances are failing to get the metadata to further
troubleshoot.

Change-Id: Iadca69fee24ec89408f9fca68d1da46c918577bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/815859/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/metadata/handler.py'],1,7320817799527a093c573b95f0cf434d7fd5cc92,," LOG.exception('Failed to get metadata for IP %s', address)",,1,0
openstack%2Fneutron~stable%2Fxena~I8a95e80ca74edc8f8f394cefc749c4065a8e0575,openstack/neutron,stable/xena,I8a95e80ca74edc8f8f394cefc749c4065a8e0575,Set RPC timeout in PluginReportStateAPI to report_interval,MERGED,2021-10-28 17:58:01.000000000,2021-11-11 14:41:36.000000000,2021-11-11 14:37:29.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 17:58:01.000000000', 'files': ['neutron/tests/unit/agent/test_rpc.py', 'releasenotes/notes/set-report_state-rpc-timeout-to-report_interval-1265a70b0728e08c.yaml', 'neutron/agent/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/551d36362aa7129bbca4bde56c6957124a13c835', 'message': 'Set RPC timeout in PluginReportStateAPI to report_interval\n\nSee more details on why this is need in the referenced\nbug #1948676\n\nChange-Id: I8a95e80ca74edc8f8f394cefc749c4065a8e0575\nCloses-Bug: #1948676\n(cherry picked from commit 7d552848c272b4fbfdafdc552e54cefd25b6d46a)\n'}]",6,815879,551d36362aa7129bbca4bde56c6957124a13c835,39,4,1,16137,,,0,"Set RPC timeout in PluginReportStateAPI to report_interval

See more details on why this is need in the referenced
bug #1948676

Change-Id: I8a95e80ca74edc8f8f394cefc749c4065a8e0575
Closes-Bug: #1948676
(cherry picked from commit 7d552848c272b4fbfdafdc552e54cefd25b6d46a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/815879/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/test_rpc.py', 'releasenotes/notes/set-report_state-rpc-timeout-to-report_interval-1265a70b0728e08c.yaml', 'neutron/agent/rpc.py']",3,551d36362aa7129bbca4bde56c6957124a13c835,, self.timeout = cfg.CONF.AGENT.report_interval cctxt = self.client.prepare(timeout=self.timeout), cctxt = self.client.prepare( timeout=lib_rpc.TRANSPORT.conf.rpc_response_timeout),12,2
openstack%2Fnova~stable%2Fxena~I20d6339a5203aed058f432f68e2ec1af57030401,openstack/nova,stable/xena,I20d6339a5203aed058f432f68e2ec1af57030401,Define new functional test tox env for placement gate to run,MERGED,2021-11-09 17:02:07.000000000,2021-11-11 14:41:29.000000000,2021-11-11 14:37:40.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 17:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/889817e9e4ceb6922deb758edc25951b359c3d77', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n""}, {'number': 2, 'created': '2021-11-10 13:33:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/64f5c1cfb0e7223603c06e22a204716919d05294', 'message': ""Define new functional test tox env for placement gate to run\n\nWe have placement-nova-tox-functional-py38 job defined and run\non placement gate[1] to run the nova functional test excluding\napi and notification _sample_tests, and db-related tests but that\njob skip those tests via tox_extra_args which is not right way\nto do as we currently facing error when tox_extra_args is included\nin tox siblings task\n- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d\n\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nLet's define a new tox env which can exclude the required test\nin stestr command itself.\n\n[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83\n\nChange-Id: I20d6339a5203aed058f432f68e2ec1af57030401\n(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)\n""}]",6,817256,64f5c1cfb0e7223603c06e22a204716919d05294,20,6,2,9708,,,0,"Define new functional test tox env for placement gate to run

We have placement-nova-tox-functional-py38 job defined and run
on placement gate[1] to run the nova functional test excluding
api and notification _sample_tests, and db-related tests but that
job skip those tests via tox_extra_args which is not right way
to do as we currently facing error when tox_extra_args is included
in tox siblings task
- https://opendev.org/zuul/zuul-jobs/commit/c02c28a982da8d5a9e7b4ca38d30967f6cd1531d

- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Let's define a new tox env which can exclude the required test
in stestr command itself.

[1] https://opendev.org/openstack/placement/src/commit/bd5b19c00e1ab293fc157f4699bc4f4719731c25/.zuul.yaml#L83

Change-Id: I20d6339a5203aed058f432f68e2ec1af57030401
(cherry picked from commit 7b063e4d0518af3e57872bc0288a94edcd33c19d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/817256/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,889817e9e4ceb6922deb758edc25951b359c3d77,fix-placement-gate,[testenv:functional-without-sample-db-tests] description = Run functional tests by excluding the API|Notification sample tests and DB tests. This env is used in placement-nova-tox-functional-py38 job which is defined and run in placement. deps = {[testenv:functional]deps} commands = stestr --test-path=./nova/tests/functional run --exclude-regex '((?:api|notification)_sample_tests|functional\.db\.)' {posargs} ,,10,0
openstack%2Fansible-role-python_venv_build~stable%2Fstein~I336d44ede6452e4931c1a0c14585501a336a2fb1,openstack/ansible-role-python_venv_build,stable/stein,I336d44ede6452e4931c1a0c14585501a336a2fb1,"Revert ""Set centos-7 jobs to non voting""",MERGED,2021-10-20 13:22:55.000000000,2021-11-11 14:40:25.000000000,2021-11-11 14:33:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-10-20 13:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/7ddbbd46f09379f0af9ea6e15fc5a917b032545e', 'message': 'Revert ""Set centos-7 jobs to non voting""\n\nThis reverts commit b7087efa99e34fe6e2340e579ac96b1645c53753.\n\nChange-Id: I336d44ede6452e4931c1a0c14585501a336a2fb1\n'}, {'number': 2, 'created': '2021-10-20 16:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/bf04cb362809b2a8d56d400c2424e7e8e24b90d2', 'message': 'Revert ""Set centos-7 jobs to non voting""\n\nThis reverts commit b7087efa99e34fe6e2340e579ac96b1645c53753.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/814560\nChange-Id: I336d44ede6452e4931c1a0c14585501a336a2fb1\n'}, {'number': 3, 'created': '2021-11-11 13:36:57.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/64f14662616375b3b4de04fcb1559b8442be317e', 'message': 'Revert ""Set centos-7 jobs to non voting""\n\nThis reverts commit b7087efa99e34fe6e2340e579ac96b1645c53753.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/814560\nChange-Id: I336d44ede6452e4931c1a0c14585501a336a2fb1\n'}]",2,814776,64f14662616375b3b4de04fcb1559b8442be317e,17,3,3,25023,,,0,"Revert ""Set centos-7 jobs to non voting""

This reverts commit b7087efa99e34fe6e2340e579ac96b1645c53753.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/814560
Change-Id: I336d44ede6452e4931c1a0c14585501a336a2fb1
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/76/814776/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7ddbbd46f09379f0af9ea6e15fc5a917b032545e,, - tripleo-ci-centos-7-standalone-os-tempest - tripleo-ci-centos-7-standalone-os-tempest, - openstack-ansible-functional-centos-7: voting: false - tripleo-ci-centos-7-standalone-os-tempest: voting: false - openstack-ansible-functional-centos-7: voting: false - tripleo-ci-centos-7-standalone-os-tempest: voting: false,2,8
openstack%2Ftripleo-quickstart~master~I1b8ffeff357019ddca2232efd3ca3e1b58cd120d,openstack/tripleo-quickstart,master,I1b8ffeff357019ddca2232efd3ca3e1b58cd120d,Feature matrix regeneration,MERGED,2021-11-09 08:46:21.000000000,2021-11-11 14:16:22.000000000,2021-11-11 14:14:29.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-09 08:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6af40b5376ab1e8473b2f07ed1cbb0b1b6b880e0', 'message': 'DNM Feature matrix regeneration\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1b8ffeff357019ddca2232efd3ca3e1b58cd120d\n'}, {'number': 2, 'created': '2021-11-09 11:49:32.000000000', 'files': ['doc/source/feature-configuration-generated.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a868d64047b75d16366dcd43cc643f44cab02a2d', 'message': ""Feature matrix regeneration\n\nIt appears that the generated description of oooq feature sets\nwas not updated in some time. This isn't an issue as long as the documentation\nis build before publishing, as this regenerates the matrix.\n\nHowever the version of the matrix within repository was out of sync\nwith the version shown in the upstream docs.[0]\n\nFurthermore, patches to the feature sets, or their documentation,\ncould contain changes to the feature matrix, that were seemingly inconsistent\nwith the changes to the '*.yml' files.\n\nTo remedy these issues, the matrix was regenerated locally and new version\nsubmitted as a patch.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I1b8ffeff357019ddca2232efd3ca3e1b58cd120d\n""}]",3,817165,a868d64047b75d16366dcd43cc643f44cab02a2d,16,6,2,32926,,,0,"Feature matrix regeneration

It appears that the generated description of oooq feature sets
was not updated in some time. This isn't an issue as long as the documentation
is build before publishing, as this regenerates the matrix.

However the version of the matrix within repository was out of sync
with the version shown in the upstream docs.[0]

Furthermore, patches to the feature sets, or their documentation,
could contain changes to the feature matrix, that were seemingly inconsistent
with the changes to the '*.yml' files.

To remedy these issues, the matrix was regenerated locally and new version
submitted as a patch.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I1b8ffeff357019ddca2232efd3ca3e1b58cd120d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/65/817165/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/feature-configuration-generated.rst'],1,6af40b5376ab1e8473b2f07ed1cbb0b1b6b880e0,matrix-regenerated,+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Fset# | BrowB | Cephd | ConOC | ConUC | HAval | HConv | IPv6 | Idemp | Intro | NIsol | NItyp | PingT | SSLoc | Scen# | Stdln | Temps | UPDoc | UPGff | UPGoc | UPGuc | +=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+ | 001_ | | ❍ | | | | | | | ◉ | ◉ | ☰ | ❍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 002_ | | ❍ | | | | | | ❍ | ◉ | ◉ | ☰ | ❍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 003_ | | | | ❍ | | | | ◉ | | | | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 004_ | | | | | | | | | | | | ◉ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 005_ | | | | | | | | | | | | ◍ | | 001 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 006_ | | | | | | | | | | | | ◍ | | 002 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 007_ | | | | | | | | | | | | ◍ | | 003 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 008_ | | | | | | | | | | | | ◍ | | 004 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 009_ | | | | | | | | | | | | ◉ | | 005 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 010_ | | ◍ | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 011_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | | | | | | ◉ | ❍ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 012_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 001 | | | | | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 013_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 002 | | | | | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 014_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 003 | | | | | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 015_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 004 | | | | | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 016_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 001 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 017_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | | 002 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 018_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 003 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 019_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 004 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 020_ | | ◍ | ◍ | ◍ | | | | ◍ | ◉ | ◉ | ☰ | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 021_ | | ❍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 022_ | | ❍ | ◉ | | | | ❍ | | ◉ | ❍ | | ◉ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 023_ | | | | | | | | | | | | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 024_ | | ◉ | | | | | ◉ | | ◉ | ◉ | ☰ | ◉ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 025_ | | ❍ | | | | ◉ | | | ◉ | ◉ | ☰ | ◉ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 026_ | | ❍ | ◉ | | | | ❍ | | | ❍ | | ❍ | ❍ | 006 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 027_ | | ❍ | ❍ | ◉ | | | ❍ | | ❍ | ❍ | | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 028_ | | ❍ | ❍ | | | | ❍ | | | ❍ | | ❍ | ❍ | 007 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 030_ | | ❍ | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | 007 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 031_ | | ❍ | ◉ | | | | ❍ | | | ❍ | | ❍ | ❍ | 008 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 032_ | | | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 033_ | | ❍ | ◉ | ◉ | | | ❍ | | | ❍ | | ❍ | ❍ | 009 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 035_ | | ❍ | ◉ | ◍ | | | ◉ | | ◉ | ◉ | ☰ | ❍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 036_ | | | | | | | | | | | | ❍ | | 002 | | | | ◉ | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 037_ | | ◍ | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | 000 | | | ◉ | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 038_ | | | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | 010 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 039_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ◍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 040_ | | | ◉ | ◍ | | | ❍ | | ❍ | | | ❍ | ❍ | 003 | | | | | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 041_ | | ◍ | ◍ | ◍ | ◉ | | | | ◉ | ◉ | ☰ | ◍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 042_ | | ❍ | ◉ | | | | | | ◉ | ◉ | ☰ | ❍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 043_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ─ | ◍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 045_ | | | ◉ | | | | ❍ | | ❍ | | | ◉ | ❍ | 000 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 047_ | | | ❍ | ❍ | | | | ◉ | | | | ❍ | ❍ | | | | | | ❍ | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 048_ | | ❍ | ◍ | | | | | | ◉ | ❍ | | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 049_ | | ◉ | ◉ | | | | | | ❍ | ◉ | ─ | ❍ | ❍ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 050_ | | | ◍ | ◍ | | | | | | | | ❍ | ❍ | | | | | | ❍ | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 051_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ❍ | ❍ | 000 | | | | | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 052_ | | | | | | | | | | | | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 054_ | | | ◉ | | | | ❍ | | | ❍ | | ❍ | ❍ | 012 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 055_ | | | ◉ | | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 002 | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 056_ | | | | | | | | | | | | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 058_ | | | | | | | | | | | | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 060_ | | | | | | | | | | | | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 061_ | | ❍ | ❍ | ◉ | | | ❍ | | ❍ | ❍ | | ❍ | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 062_ | | | | | | | | | | | | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 063_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ❍ | ◉ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 099_ | | | | | | | | | | | | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+,+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Fset# | BrowB | Cephd | ConOC | ConUC | HAval | HConv | IPv6 | Idemp | Intro | NIsol | NItyp | PingT | SSLoc | Scen# | Stdln | Temps | UPDoc | UPGff | UPGoc | UPGuc | Valid | +=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+ | 001_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ◍ | ◉ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 002_ | | ◍ | ◍ | ◍ | | | | ❍ | ◉ | ◉ | ☰ | ◍ | ◉ | | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 003_ | | | | ❍ | | | | ◉ | | | | ❍ | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 004_ | | | | | | | | | | | | ◉ | ❍ | | | | | | | | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 005_ | | | | | | | | | | | | ◍ | | 001 | | ◍ | | | | | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 006_ | | | | | | | | | | | | ◍ | | 002 | | ◍ | | | | | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 007_ | | | | | | | | | | | | ◍ | | 003 | | ◍ | | | | | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 008_ | | | | | | | | | | | | ◍ | | 004 | | ◍ | | | | | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 009_ | | | | | | | | | | | | ◉ | | 005 | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 010_ | | | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | | | ◍ | | | | | ◉ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 011_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | | | ❍ | | | ◉ | ❍ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 012_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 001 | | ❍ | | | ◉ | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 013_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 002 | | ❍ | | | ◉ | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 014_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 003 | | ❍ | | | ◉ | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 015_ | | | ❍ | | | | ❍ | | ❍ | ❍ | | ◉ | ❍ | 004 | | ❍ | | | ◉ | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 016_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 001 | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 017_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | | 002 | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 018_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 003 | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 019_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 004 | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 020_ | | ❍ | ◍ | ◍ | | | | ◍ | ◉ | ◉ | ☰ | ❍ | ❍ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 021_ | | ❍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ❍ | ❍ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 022_ | | ❍ | ◉ | | | | ❍ | | ◉ | ❍ | | ◉ | ❍ | | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 023_ | | | | | | | | | | | | ❍ | ❍ | | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 024_ | | ◉ | | | | | ◉ | | ◉ | ◉ | ☰ | ◉ | ❍ | | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 025_ | | ❍ | | | | ◉ | | | ◉ | ◉ | ☰ | ◉ | ◉ | | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 026_ | | ❍ | ◉ | | | | ❍ | | | ❍ | | ❍ | ❍ | 006 | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 027_ | | ❍ | ❍ | ◉ | | | ❍ | | ❍ | ❍ | | ❍ | ❍ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 028_ | | ❍ | ❍ | | | | ❍ | | | ❍ | | ❍ | ❍ | 007 | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 030_ | | ◍ | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | 007 | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 031_ | | ❍ | ◉ | | | | ❍ | | | ❍ | | ❍ | ❍ | 008 | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 032_ | | | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 033_ | | ❍ | ◉ | ◉ | | | ❍ | | | ❍ | | ❍ | ❍ | 009 | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 035_ | | ◍ | ◉ | ◍ | | | ◉ | | ◉ | ◉ | ☰ | ❍ | ◉ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 036_ | | | | | | | | | | | | ❍ | | 002 | | ❍ | | ◉ | ◉ | | ❍ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 037_ | | | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | 000 | | ❍ | ◉ | | | | ❍ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 038_ | | | ◉ | ◍ | | | ❍ | | | ❍ | | ❍ | ❍ | 010 | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 039_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ◍ | ◉ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 040_ | | | ◉ | ◍ | | | ❍ | | ❍ | | | ❍ | ❍ | 003 | | ◉ | | | ◉ | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 041_ | | ◍ | ◍ | ◍ | ◉ | | | | ◉ | ◉ | ☰ | ◍ | ◉ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 042_ | | ❍ | ◉ | | | | | | ◉ | ◉ | ☰ | ❍ | ◉ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 043_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ─ | ◍ | ◉ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 045_ | | | ◉ | | | | ❍ | | ❍ | | | ◉ | ❍ | 000 | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 047_ | | | ❍ | ❍ | | | | ◉ | | | | ❍ | ❍ | | | ❍ | | | ❍ | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 048_ | | ❍ | ◍ | | | | | | ◉ | ❍ | | ❍ | ❍ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 049_ | | ◉ | ◉ | | | | | | ❍ | ◉ | ─ | ❍ | ❍ | | | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 050_ | | | ◍ | ◍ | | | | | | | | ❍ | ❍ | | | ❍ | | | ❍ | ◉ | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 051_ | | | ◉ | ◍ | | | ❍ | | ❍ | ❍ | | ❍ | ❍ | 000 | | ❍ | | | ◉ | | ❍ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 052_ | | | | | | | | | | | | ❍ | | | ◉ | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 053_ | ◉ | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ◍ | ❍ | | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 054_ | | | ◉ | | | | ❍ | | | ❍ | | ❍ | ❍ | 012 | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 055_ | | | ◉ | | | | ❍ | | ❍ | ❍ | | ◍ | ❍ | 002 | | ◍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 056_ | | | | | | | | | | | | ❍ | | | ◉ | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 058_ | | | | | | | | | | | | ❍ | | | ◉ | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 060_ | | | | | | | | | | | | ❍ | | | ◉ | ❍ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 061_ | | ❍ | ❍ | ◉ | | | ❍ | | ❍ | ❍ | | ❍ | | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 062_ | | | | | | | | | | | | ❍ | | | ◉ | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 063_ | | ◍ | ◍ | ◍ | | | | | ◉ | ◉ | ☰ | ❍ | ◉ | | | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 099_ | | | | | | | | | | | | ❍ | | | ◉ | ◉ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+| Valid | Validations | +---------+----------------------------------+.. _053: https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config//featureset053.yml,117,122
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0b199e47cce9dc72490110105f6a4ff94f90934d,openstack/tripleo-heat-templates,stable/wallaby,I0b199e47cce9dc72490110105f6a4ff94f90934d,Add rgw max attributes constraints,MERGED,2021-11-11 06:51:09.000000000,2021-11-11 14:14:25.000000000,2021-11-11 14:14:25.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-11 06:51:09.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70de86859e105d929d2828b36e027706db0a9f7f', 'message': 'Add rgw max attributes constraints\n\nWhen the swift /info endpoint is queried, Tempest fails checking the\nfollowing missing keys:\n\n1. max_meta_count\n2. max_meta_name_length\n3. max_meta_value_length\n\nThose keys are not present because the related rgw settings are missing,\nand as per [1], nothing is generated if the rgw_max_* are not set.\nThis patch is a workaround, on the TripleO side, to provide the missing\nkeys to the cluster.\n\n[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900\n\nCloses-Bug: #1950486\nChange-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d\n(cherry picked from commit 632afe18c061061fb1f69d8fe522bfdcc2724d4d)\n'}]",0,817534,70de86859e105d929d2828b36e027706db0a9f7f,7,5,1,25402,,,0,"Add rgw max attributes constraints

When the swift /info endpoint is queried, Tempest fails checking the
following missing keys:

1. max_meta_count
2. max_meta_name_length
3. max_meta_value_length

Those keys are not present because the related rgw settings are missing,
and as per [1], nothing is generated if the rgw_max_* are not set.
This patch is a workaround, on the TripleO side, to provide the missing
keys to the cluster.

[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900

Closes-Bug: #1950486
Change-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d
(cherry picked from commit 632afe18c061061fb1f69d8fe522bfdcc2724d4d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/817534/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-rgw.yaml'],1,70de86859e105d929d2828b36e027706db0a9f7f,rgw_max_settings-stable/wallaby, # NOTE(fpantano) swift defaults # https://github.com/openstack/swift/blob/master/swift/common/constraints.py rgw_max_attr_name_len: 128 rgw_max_attrs_num_in_req: 90 rgw_max_attr_size: 256,,5,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic0a13ab453ae8d3c1882b3719df295a2b0b510c5,openstack/tripleo-heat-templates,stable/wallaby,Ic0a13ab453ae8d3c1882b3719df295a2b0b510c5,Enable support for Libvirt modular daemons,MERGED,2021-10-19 12:45:45.000000000,2021-11-11 14:13:25.000000000,2021-11-02 13:47:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-10-19 12:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d707550876eda3b444118a857ddcd3340091126e', 'message': 'Enable support for Libvirt modular daemons\n\nThis change adds configuration for modular libvirt\ndaemons running in separate containers.\n\nThis change also deprecates nova-libvirt-container-puppet.yaml\nheat-template which configure monolithic libvirt daemon on\ncompute nodes and use newly added heat-template\nnova-modular-libvirt-container-puppet.yaml to configure modular\nlibvirt daemons on compute nodes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/814000\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/814001\n\nBelow change [1] is a follow-up change in master branch and squashed\ninto main change for wallaby backport.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/813394\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nCo-Authored-By: David Vallee Delisle <dvd@redhat.com>\nChange-Id: Ic0a13ab453ae8d3c1882b3719df295a2b0b510c5\n(cherry picked from commit 768b66f885cd43552e63acfeb6c2ab68a5668e90)\n'}, {'number': 2, 'created': '2021-10-25 10:26:22.000000000', 'files': ['deployment/logging/files/nova-libvirt.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/modular-libvirt-daemons-b5ad6043d6510077.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d72ca706781ef5ee13d821f93c7e36996c910a1', 'message': 'Enable support for Libvirt modular daemons\n\nThis change adds configuration for modular libvirt\ndaemons running in separate containers.\n\nThis change also deprecates nova-libvirt-container-puppet.yaml\nheat-template which configure monolithic libvirt daemon on\ncompute nodes and use newly added heat-template\nnova-modular-libvirt-container-puppet.yaml to configure modular\nlibvirt daemons on compute nodes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/814000\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/814001\n\nBelow change [1] is a follow-up change in master branch and squashed\ninto main change for wallaby backport.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/813394\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nCo-Authored-By: David Vallee Delisle <dvd@redhat.com>\nChange-Id: Ic0a13ab453ae8d3c1882b3719df295a2b0b510c5\n(cherry picked from commit 768b66f885cd43552e63acfeb6c2ab68a5668e90)\n'}]",3,814568,1d72ca706781ef5ee13d821f93c7e36996c910a1,19,9,2,20733,,,0,"Enable support for Libvirt modular daemons

This change adds configuration for modular libvirt
daemons running in separate containers.

This change also deprecates nova-libvirt-container-puppet.yaml
heat-template which configure monolithic libvirt daemon on
compute nodes and use newly added heat-template
nova-modular-libvirt-container-puppet.yaml to configure modular
libvirt daemons on compute nodes.

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/814000
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/814001

Below change [1] is a follow-up change in master branch and squashed
into main change for wallaby backport.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/813394

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Co-Authored-By: David Vallee Delisle <dvd@redhat.com>
Change-Id: Ic0a13ab453ae8d3c1882b3719df295a2b0b510c5
(cherry picked from commit 768b66f885cd43552e63acfeb6c2ab68a5668e90)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/814568/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/files/nova-libvirt.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/modular-libvirt-daemons-b5ad6043d6510077.yaml']",7,d707550876eda3b444118a857ddcd3340091126e,,--- features: - | This change adds functionality to enable modular libvirt daemons. All these daemons runs in its respective container. Also the default configuration is to use modular libvirt daemons instead of monolithic libvirt daemon. Here is the list of libvirt daemon which are added in this change. - virtnodedevd - virtproxyd - virtqemud - virtsecretd - virtstoraged It's possible to define the individual log filters for each one of these daemon using the following new parameters: - ``LibvirtVirtlogdLogFilters`` - ``LibvirtVirtsecretdLogFilters`` - ``LibvirtVirtnodedevdLogFilters`` - ``LibvirtVirtstoragedLogFilters`` - ``LibvirtVirtqemudLogFilters`` - ``LibvirtVirtproxydLogFilters`` More information regarding modular libvirt daemons is available here. `Libvirt Daemons <https://libvirt.org/daemons.html>` _. deprecations: - | This change deprecates the nova-libvirt-container-puppet.yaml heat-template which configures monolithic modular libvirt daemon. The newly added heat-template for modular libvirt daemons will be used to configure libvirt services in different containers. ,,739,299
openstack%2Fnova~master~Id01aaf532a8ef9a138a49ad47e2afcb38d8a9db5,openstack/nova,master,Id01aaf532a8ef9a138a49ad47e2afcb38d8a9db5,DNM: troubleshoot kernel panic,ABANDONED,2021-11-11 14:01:15.000000000,2021-11-11 14:09:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-11 14:01:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b80db3c3dd2030db58058df18f3a397be48a48', 'message': 'DNM: troubleshoot kernel panic\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/817560\n\nChange-Id: Id01aaf532a8ef9a138a49ad47e2afcb38d8a9db5\nRelated-Bug: #1950310\n'}]",0,817562,c1b80db3c3dd2030db58058df18f3a397be48a48,7,1,1,9708,,,0,"DNM: troubleshoot kernel panic

Depends-On: https://review.opendev.org/c/openstack/tempest/+/817560

Change-Id: Id01aaf532a8ef9a138a49ad47e2afcb38d8a9db5
Related-Bug: #1950310
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/817562/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c1b80db3c3dd2030db58058df18f3a397be48a48,bug/1950310,, # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-lvm - nova-multi-cell - nova-next - nova-tox-validate-backport: voting: false - nova-tox-functional-centos8-py36 - nova-tox-functional-py38 - nova-tox-functional-py39: voting: false - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false,0,53
openstack%2Fpuppet-zaqar~master~I03fae4fb56812ca5e421d4bec95c0f74fbdba70e,openstack/puppet-zaqar,master,I03fae4fb56812ca5e421d4bec95c0f74fbdba70e,Accept lists for *_pipeline parameters,MERGED,2021-11-09 11:29:48.000000000,2021-11-11 13:51:45.000000000,2021-11-11 13:51:45.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 11:29:48.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/c5a0cabd458baf677e17df5dbb0b5923e40cef73', 'message': 'Accept lists for *_pipeline parameters\n\nThis change allows usage of list values to define The *_pipeline\nparameters, because these parameters are defined as ListOpt and accept\ncomma-separated strings.\n\nChange-Id: I03fae4fb56812ca5e421d4bec95c0f74fbdba70e\n'}]",0,817192,c5a0cabd458baf677e17df5dbb0b5923e40cef73,7,3,1,9816,,,0,"Accept lists for *_pipeline parameters

This change allows usage of list values to define The *_pipeline
parameters, because these parameters are defined as ListOpt and accept
comma-separated strings.

Change-Id: I03fae4fb56812ca5e421d4bec95c0f74fbdba70e
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/92/817192/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,c5a0cabd458baf677e17df5dbb0b5923e40cef73,pipeline-list," 'storage/queue_pipeline': value => join(any2array($queue_pipeline), ','); 'storage/message_pipeline': value => join(any2array($message_pipeline), ','); 'storage/claim_pipeline': value => join(any2array($claim_pipeline), ','); 'storage/subscription_pipeline': value => join(any2array($subscription_pipeline), ',');", 'storage/queue_pipeline': value => $queue_pipeline; 'storage/message_pipeline': value => $message_pipeline; 'storage/claim_pipeline': value => $claim_pipeline; 'storage/subscription_pipeline': value => $subscription_pipeline;,4,4
openstack%2Fansible-collections-openstack~master~I90f72c7ea5869331633ad655275722fdb69570aa,openstack/ansible-collections-openstack,master,I90f72c7ea5869331633ad655275722fdb69570aa,Release 1.5.3 version with bugfixes,MERGED,2021-11-11 11:59:19.000000000,2021-11-11 12:44:09.000000000,2021-11-11 12:44:09.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 11:59:19.000000000', 'files': ['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/de54be5ecda0004fc70a146e18387596073aad45', 'message': 'Release 1.5.3 version with bugfixes\n\nChange-Id: I90f72c7ea5869331633ad655275722fdb69570aa\n'}]",0,817555,de54be5ecda0004fc70a146e18387596073aad45,6,2,1,10969,,,0,"Release 1.5.3 version with bugfixes

Change-Id: I90f72c7ea5869331633ad655275722fdb69570aa
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/55/817555/1 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst']",3,de54be5ecda0004fc70a146e18387596073aad45,153,v1.5.3 ====== Release Summary --------------- Bugfixes Bugfixes -------- - Don't require allowed_address_pairs for port - server_volume - check specified server is found ,,22,1
openstack%2Fansible-collections-openstack~master~I6d7f793b4058fdcaffd015724ae9b53aa21e5367,openstack/ansible-collections-openstack,master,I6d7f793b4058fdcaffd015724ae9b53aa21e5367,server_volume: check specified server is found,MERGED,2021-11-11 10:23:24.000000000,2021-11-11 12:44:07.000000000,2021-11-11 12:44:07.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 10:23:24.000000000', 'files': ['plugins/modules/server_volume.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3f1a693bd67d9947fe7c63174861d314b8f5306d', 'message': 'server_volume: check specified server is found\n\n... in order to fail nicely instead of throwing an exception.\n\nChange-Id: I6d7f793b4058fdcaffd015724ae9b53aa21e5367\n'}]",0,817551,3f1a693bd67d9947fe7c63174861d314b8f5306d,7,2,1,32110,,,0,"server_volume: check specified server is found

... in order to fail nicely instead of throwing an exception.

Change-Id: I6d7f793b4058fdcaffd015724ae9b53aa21e5367
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/51/817551/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/server_volume.py'],1,3f1a693bd67d9947fe7c63174861d314b8f5306d,, if not server: self.fail(msg='server %s is not found' % self.params['server']) ,,3,0
openstack%2Fneutron-lib~master~I1ec3185becf03bdc208b0af8c00d2794113a88d5,openstack/neutron-lib,master,I1ec3185becf03bdc208b0af8c00d2794113a88d5,Add Local IP constants needed for policy checks,MERGED,2021-11-03 11:54:07.000000000,2021-11-11 12:26:45.000000000,2021-11-11 12:25:12.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-03 11:54:07.000000000', 'files': ['neutron_lib/services/constants.py', 'neutron_lib/api/definitions/local_ip.py', 'neutron_lib/plugins/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1d4da16374ff378543f03d85dbf5d564c8f38391', 'message': 'Add Local IP constants needed for policy checks\n\nAdditionally adds required small fixes to API def\n\nPartial-Bug: #1930200\nChange-Id: I1ec3185becf03bdc208b0af8c00d2794113a88d5\n'}]",8,816468,1d4da16374ff378543f03d85dbf5d564c8f38391,27,4,1,5948,,,0,"Add Local IP constants needed for policy checks

Additionally adds required small fixes to API def

Partial-Bug: #1930200
Change-Id: I1ec3185becf03bdc208b0af8c00d2794113a88d5
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/68/816468/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/services/constants.py', 'neutron_lib/api/definitions/local_ip.py', 'neutron_lib/plugins/constants.py']",3,1d4da16374ff378543f03d85dbf5d564c8f38391,bug/1930200,"LOCAL_IP = ""LOCAL_IP""",,9,4
openstack%2Ftripleo-quickstart~master~I560babefc66b81d80470cdc0bc5713746be0d2f5,openstack/tripleo-quickstart,master,I560babefc66b81d80470cdc0bc5713746be0d2f5,DNM hostgroup override,ABANDONED,2021-11-08 11:09:10.000000000,2021-11-11 12:07:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-08 11:09:10.000000000', 'files': ['config/nodes/1ctlr_1comp.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7dcca2d4c3be0b30fbe8f77666eb223d80b7ba70', 'message': 'DNM hostgroup override\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I560babefc66b81d80470cdc0bc5713746be0d2f5\n'}]",0,816989,7dcca2d4c3be0b30fbe8f77666eb223d80b7ba70,6,2,1,32926,,,0,"DNM hostgroup override

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I560babefc66b81d80470cdc0bc5713746be0d2f5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/816989/1 && git format-patch -1 --stdout FETCH_HEAD,['config/nodes/1ctlr_1comp.yml'],1,7dcca2d4c3be0b30fbe8f77666eb223d80b7ba70,althostname," hostnamemap_override: ""{{ hostvars[groups['overcloud'][0]].ansible_hostname }}"" hostnamemap_override: ""{{ hostvars[groups['overcloud'][0]].ansible_hostname }}""", hostnamemap_override: overcloud-controller-foo-0 hostnamemap_override: overcloud-novacompute-bar-0,2,2
openstack%2Fkolla-ansible~stable%2Fxena~I2bd1a3674f8dd254b55634903a4c046293557e18,openstack/kolla-ansible,stable/xena,I2bd1a3674f8dd254b55634903a4c046293557e18,docs: Fix python-openstackclient package name and init-runonce path,MERGED,2021-11-10 09:15:16.000000000,2021-11-11 11:58:55.000000000,2021-11-11 11:57:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29880}]","[{'number': 1, 'created': '2021-11-10 09:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/860c9cdf0756f2b25f4ccc6e850e6e445eb12fea', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)\n'}, {'number': 2, 'created': '2021-11-11 09:50:46.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/543096c93f70fc18d885c83a197c72b42f905ae7', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)\n'}]",1,817264,543096c93f70fc18d885c83a197c72b42f905ae7,12,4,2,14826,,,0,"docs: Fix python-openstackclient package name and init-runonce path

Related-Bug: #1949198
Change-Id: I2bd1a3674f8dd254b55634903a4c046293557e18
Signed-off-by: Adrian Andreias <adrian@fleio.com>
(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/817264/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,860c9cdf0756f2b25f4ccc6e850e6e445eb12fea,bug/1949198-stable/xena," pip install python-openstackclient * For deployment or evaluation, run ``init-runonce`` script. If using a virtual environment: .. code-block:: console /path/to/venv/share/share/kolla-ansible/init-runonce If not using a virtual environment:"," pip install python3-openstackclient * For deployment or evaluation, run ``init-runonce`` script:",10,3
openstack%2Fkolla-ansible~stable%2Fwallaby~I2bd1a3674f8dd254b55634903a4c046293557e18,openstack/kolla-ansible,stable/wallaby,I2bd1a3674f8dd254b55634903a4c046293557e18,docs: Fix python-openstackclient package name and init-runonce path,MERGED,2021-11-10 09:15:26.000000000,2021-11-11 11:58:07.000000000,2021-11-11 11:56:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29880}]","[{'number': 1, 'created': '2021-11-10 09:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7894ad01eb989b60ecceb77eb98e7c07379765f9', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)\n'}, {'number': 2, 'created': '2021-11-11 09:51:02.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6a04b0f2837680b899158ac3ff49dd7dec1b3eb', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)\n'}]",2,817265,c6a04b0f2837680b899158ac3ff49dd7dec1b3eb,12,4,2,14826,,,0,"docs: Fix python-openstackclient package name and init-runonce path

Related-Bug: #1949198
Change-Id: I2bd1a3674f8dd254b55634903a4c046293557e18
Signed-off-by: Adrian Andreias <adrian@fleio.com>
(cherry picked from commit 6f0783ffa7d4663b01e5fd86efd503385051348e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/817265/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,7894ad01eb989b60ecceb77eb98e7c07379765f9,bug/1949198-stable/xena-stable/wallaby," pip install python-openstackclient * For deployment or evaluation, run ``init-runonce`` script. If using a virtual environment: .. code-block:: console /path/to/venv/share/share/kolla-ansible/init-runonce If not using a virtual environment:"," pip install python3-openstackclient * For deployment or evaluation, run ``init-runonce`` script:",10,3
openstack%2Ftripleo-ci-health-queries~master~Iac992e4a48e30c2468c0de46a10090dd98fb498c,openstack/tripleo-ci-health-queries,master,Iac992e4a48e30c2468c0de46a10090dd98fb498c,Updating no key value pair query for c9 sc001,MERGED,2021-11-05 14:10:45.000000000,2021-11-11 11:53:56.000000000,2021-11-11 11:53:56.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 14:10:45.000000000', 'files': ['output/elastic-recheck/1949033.yaml', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/9270774d71caa15c628e37ba7606b3e7ee8a664b', 'message': 'Updating no key value pair query for c9 sc001\n\nUpdating no key value pair query as sc007 is also hitting it\n\nChange-Id: Iac992e4a48e30c2468c0de46a10090dd98fb498c\n'}]",1,816851,9270774d71caa15c628e37ba7606b3e7ee8a664b,7,3,1,32458,,,0,"Updating no key value pair query for c9 sc001

Updating no key value pair query as sc007 is also hitting it

Change-Id: Iac992e4a48e30c2468c0de46a10090dd98fb498c
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/51/816851/1 && git format-patch -1 --stdout FETCH_HEAD,"['output/elastic-recheck/1949033.yaml', 'src/data/queries.yml']",2,9270774d71caa15c628e37ba7606b3e7ee8a664b,," logstash: 'message:""No key/value pairs provided""'"," logstash: 'message:""No key/value pairs provided"" AND build_name:""periodic-tripleo-ci-centos-9-scenario004-standalone-master""'",2,2
openstack%2Fkayobe~stable%2Fxena~I7812c4b66bac30648c00054381703e390671a821,openstack/kayobe,stable/xena,I7812c4b66bac30648c00054381703e390671a821,Ubuntu: add upgrade jobs to gate,MERGED,2021-11-11 09:36:03.000000000,2021-11-11 11:52:33.000000000,2021-11-11 11:47:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-11 09:36:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/98e7817ea7815efea2a828c581020147c59184e9', 'message': 'Ubuntu: add upgrade jobs to gate\n\nFollow up to I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n\nChange-Id: I7812c4b66bac30648c00054381703e390671a821\n(cherry picked from commit 8df7b75c06b32a21ea313aa42a63e7def6305ba8)\n'}]",0,817536,98e7817ea7815efea2a828c581020147c59184e9,7,2,1,15197,,,0,"Ubuntu: add upgrade jobs to gate

Follow up to I69868dca6e1f3e4a1bf123c9e7f1f3412162b264

Change-Id: I7812c4b66bac30648c00054381703e390671a821
(cherry picked from commit 8df7b75c06b32a21ea313aa42a63e7def6305ba8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/36/817536/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,98e7817ea7815efea2a828c581020147c59184e9,, - kayobe-overcloud-upgrade-ubuntu-focal - kayobe-seed-upgrade-ubuntu-focal,,2,0
openstack%2Fcharm-specs~master~I1ac5964b3adda8696e791ff369283137f386dcb3,openstack/charm-specs,master,I1ac5964b3adda8696e791ff369283137f386dcb3,Open Yoga specs,MERGED,2021-11-10 13:23:45.000000000,2021-11-11 11:29:42.000000000,2021-11-11 11:28:05.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-10 13:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/d7d9cd38064a432ed6e59269c97e977f5d59c5b0', 'message': 'Bring up to date\n\nChange-Id: I1ac5964b3adda8696e791ff369283137f386dcb3\n'}, {'number': 2, 'created': '2021-11-10 16:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/d3df4f65c2f314ff7a2766804fa4e8746ec2250c', 'message': 'Bring up to date\n\nChange-Id: I1ac5964b3adda8696e791ff369283137f386dcb3\n'}, {'number': 3, 'created': '2021-11-11 09:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/93c8dde5efb9ce2e1b948f336b277215a1c2a7ad', 'message': 'Open Yoga specs\n\nChange-Id: I1ac5964b3adda8696e791ff369283137f386dcb3\n'}, {'number': 4, 'created': '2021-11-11 09:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/98208bd6efb17c0ee22b83fcc4e5c6674b9187d8', 'message': 'Open Yoga specs\n\nChange-Id: I1ac5964b3adda8696e791ff369283137f386dcb3\n'}, {'number': 5, 'created': '2021-11-11 11:09:56.000000000', 'files': ['doc/source/specs/xena/index.rst', 'specs/yoga/approved/memory-fragmentation-tuning.rst', 'doc/source/specs/wallaby/approved', 'doc/source/specs/yoga/approved', 'specs/yoga/backlog/release-notes-migration-to-reno.rst', 'specs/xena/implemented/ceph-dashboard.rst', 'specs/yoga/backlog/ceph-storage-action.rst', 'doc/source/specs/yoga/index.rst', 'specs/yoga/backlog/numa-live-migration.rst', 'specs/yoga/backlog/audit-middleware.rst', 'doc/source/specs/yoga/implemented', 'doc/source/specs/yoga/redirects', 'specs/yoga/redirects', 'specs/yoga/implemented/.keep', 'doc/source/specs/yoga/template.rst', 'specs/yoga/backlog/service-discovery.rst', 'specs/yoga/approved/.keep', 'specs/xena/implemented/openstack-load-balancer.rst', 'specs/yoga/approved/ncc-migration-ssh-auth-sharing.rst', 'specs/yoga/backlog/cinder-backup-swift.rst', 'doc/source/index.rst', 'doc/source/specs/yoga/backlog', 'specs/xena/implemented/cinder-lvm.rst', 'specs/xena/implemented/controlled-service-restarts.rst', 'specs/yoga/backlog/swift-extended-cluster-operations.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/1e2ca741265bac489a2f969dfed8498bb286764e', 'message': 'Open Yoga specs\n\nChange-Id: I1ac5964b3adda8696e791ff369283137f386dcb3\n'}]",3,817402,1e2ca741265bac489a2f969dfed8498bb286764e,18,2,5,12549,,,0,"Open Yoga specs

Change-Id: I1ac5964b3adda8696e791ff369283137f386dcb3
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/02/817402/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/yoga/backlog/ceph-storage-action.rst', 'specs/yoga/backlog/cinder-backup-swift.rst', 'specs/yoga/backlog/numa-live-migration.rst', 'specs/yoga/backlog/audit-middleware.rst', 'specs/yoga/backlog/service-discovery.rst', 'specs/xena/implemented/cinder-lvm.rst', 'specs/xena/implemented/controlled-service-restarts.rst', 'specs/yoga/backlog/release-notes-migration-to-reno.rst', 'specs/yoga/backlog/swift-extended-cluster-operations.rst', 'specs/xena/implemented/ceph-dashboard.rst', 'specs/xena/implemented/openstack-load-balancer.rst']",11,d7d9cd38064a432ed6e59269c97e977f5d59c5b0,yoga-rejig,,,0,0
openstack%2Ftripleo-ci-health-queries~master~I25cfa5edf1669cd9ce20e07dee49631ff7a0c1c7,openstack/tripleo-ci-health-queries,master,I25cfa5edf1669cd9ce20e07dee49631ff7a0c1c7,Adding ovb current failure pattern,ABANDONED,2021-10-01 15:37:54.000000000,2021-11-11 11:18:41.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 15:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/8b3ba7183b9c8bc1d896626605a27e45c61233c5', 'message': 'Adding ovb current failure pattern\n\nAdding ovb current failure pattern for bug\nhttps://bugs.launchpad.net/tripleo/+bug/1945678\n\nChange-Id: I25cfa5edf1669cd9ce20e07dee49631ff7a0c1c7\n'}, {'number': 2, 'created': '2021-10-01 16:14:46.000000000', 'files': ['output/elastic-recheck/stack_status_CREATE_FAILED.yaml', 'requirements.txt', 'output/sova-pattern-generated.json', 'output/elastic-recheck/1945678.yaml', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/632ca7cc7c99f5acd1450f0a01aad7e0873200b3', 'message': 'Adding ovb current failure pattern\n\n- Adding ovb current failure pattern for bug\nhttps://bugs.launchpad.net/tripleo/+bug/1945678\n- Updating requirements.txt to install elastic-recheck from\nrdo branch rather than master\n\nChange-Id: I25cfa5edf1669cd9ce20e07dee49631ff7a0c1c7\n'}]",0,812163,632ca7cc7c99f5acd1450f0a01aad7e0873200b3,10,2,2,32458,,,0,"Adding ovb current failure pattern

- Adding ovb current failure pattern for bug
https://bugs.launchpad.net/tripleo/+bug/1945678
- Updating requirements.txt to install elastic-recheck from
rdo branch rather than master

Change-Id: I25cfa5edf1669cd9ce20e07dee49631ff7a0c1c7
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/63/812163/1 && git format-patch -1 --stdout FETCH_HEAD,"['output/elastic-recheck/stack_status_CREATE_FAILED.yaml', 'output/sova-pattern-generated.json', 'output/elastic-recheck/1945678.yaml', 'src/data/queries.yml']",4,8b3ba7183b9c8bc1d896626605a27e45c61233c5,," pattern: - ""stack_status: CREATE_FAILED"" - ""CREATE failed: WaitConditionFailure: resources.baremetal_env.resources.bmc.resources.bmc_wait_condition: Signal 1 received"" url: https://bugs.launchpad.net/tripleo/+bug/1945678"," pattern: ""stack_status: CREATE_FAILED""",23,7
openstack%2Fopenstack-tempest-skiplist~master~I134584ca4c0da4b606b7b6f0163bd5af80b52962,openstack/openstack-tempest-skiplist,master,I134584ca4c0da4b606b7b6f0163bd5af80b52962,Adding periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-tempest-master to TrunkTest.test_trunk_subport_lifecycle,ABANDONED,2021-09-20 12:23:19.000000000,2021-11-11 11:09:49.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-20 12:23:19.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3fd5387998377f92a8d57059df1a9432d4e6d5b1', 'message': 'Adding periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-tempest-master to TrunkTest.test_trunk_subport_lifecycle\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1943708\nChange-Id: I134584ca4c0da4b606b7b6f0163bd5af80b52962\n'}]",0,810002,3fd5387998377f92a8d57059df1a9432d4e6d5b1,3,2,1,32458,,,0,"Adding periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-tempest-master to TrunkTest.test_trunk_subport_lifecycle

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1943708
Change-Id: I134584ca4c0da4b606b7b6f0163bd5af80b52962
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/02/810002/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,3fd5387998377f92a8d57059df1a9432d4e6d5b1,, - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-tempest-master,,1,0
openstack%2Ftripleo-quickstart~master~Ibef67622f0d16e263e776961a99ba8e55e4a8003,openstack/tripleo-quickstart,master,Ibef67622f0d16e263e776961a99ba8e55e4a8003,"Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1",ABANDONED,2021-09-21 09:48:20.000000000,2021-11-11 11:09:11.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-09-21 09:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e70051261994b2b0d61a1a8bdfd4581f63594b2e', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 2, 'created': '2021-09-21 10:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c1778d0022585ce53c36eadd6b26b43328c3e3ff', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 3, 'created': '2021-09-21 12:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8e1dad441d0388652cd3c1c4698dfc1d95206f89', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 4, 'created': '2021-09-22 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03b78831cacc4ab20714c3588208e11c0d37dbab', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 5, 'created': '2021-09-23 10:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/acd545e350fe579f0d10cf06ddf1775866a4acca', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 6, 'created': '2021-09-23 10:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d37899d04f030a0dcaad2f1909304c5424a7e01d', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 7, 'created': '2021-09-23 10:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c58be9288f61d8624977226f84833d727a12f62c', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 8, 'created': '2021-09-23 11:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/35e9d86263d2823d23bfc87d1f048abb7a402b99', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 9, 'created': '2021-09-23 11:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4105feeaaaf64760e0482eab4094d65bcde70659', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 10, 'created': '2021-09-23 21:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/87029fddf7f88b3b43b5a289fa693432e8dc9366', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nrelated patch: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 11, 'created': '2021-09-24 09:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f85996d6dd037dcb1ac1d16afd0b556705fe9547', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nrelated patch: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 12, 'created': '2021-09-24 12:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/323a34569abe5f2fc523b5145a67411aa30a916e', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nrelated patch: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}, {'number': 13, 'created': '2021-09-24 20:25:14.000000000', 'files': ['roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6955915bedda0c0ba42a5c97b5f5a195587fed39', 'message': 'Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1\n\nAdding a fail condition to Task ""fetch overcloud node names and IPs""\n\nrelated patch: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546\n\nCloses-Bug: #1944416\nChange-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003\n'}]",10,810175,6955915bedda0c0ba42a5c97b5f5a195587fed39,81,9,13,32458,,,0,"Fail collect-logs playbook when ""fetch overcloud node names and IPs"" returns 1

Adding a fail condition to Task ""fetch overcloud node names and IPs""

related patch: https://review.opendev.org/c/openstack/tripleo-quickstart/+/810546

Closes-Bug: #1944416
Change-Id: Ibef67622f0d16e263e776961a99ba8e55e4a8003
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/810175/11 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/tasks/inventory.yml'],1,e70051261994b2b0d61a1a8bdfd4581f63594b2e,Ibef67622f0d16e263e776961a99ba8e55e4a8003, failed_when: > (registered_overcloud_nodes.rc != 0) or (registered_overcloud_nodes.stderr != ''),,3,0
openstack%2Ftripleo-ci~master~I968ada0b6ee31cee8e27427ea98c51cde008edce,openstack/tripleo-ci,master,I968ada0b6ee31cee8e27427ea98c51cde008edce,Moving ussuri standalone upgrade to non voting,ABANDONED,2021-09-08 13:17:57.000000000,2021-11-11 11:09:00.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-08 13:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/44279d6f586da3ff964cba92ced4261f4b0e6e54', 'message': 'Moving ussuri standalone upgrade to non voting\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1940844\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1895822\nChange-Id: I968ada0b6ee31cee8e27427ea98c51cde008edce\n'}, {'number': 2, 'created': '2021-09-08 13:20:31.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a16ba2005a7ce311a1fea0c61af4d0481efdde89', 'message': 'Moving ussuri standalone upgrade to non voting\n\nRelated-Change: https://review.opendev.org/c/openstack/tripleo-quickstart/+/806955\nWe can try to fix ovs w/ a restart as well.\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1940844\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1895822\nChange-Id: I968ada0b6ee31cee8e27427ea98c51cde008edce\n'}]",0,807872,a16ba2005a7ce311a1fea0c61af4d0481efdde89,6,3,2,32458,,,0,"Moving ussuri standalone upgrade to non voting

Related-Change: https://review.opendev.org/c/openstack/tripleo-quickstart/+/806955
We can try to fix ovs w/ a restart as well.

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1940844
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1895822
Change-Id: I968ada0b6ee31cee8e27427ea98c51cde008edce
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/72/807872/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,44279d6f586da3ff964cba92ced4261f4b0e6e54,, voting: false, voting: true,1,1
openstack%2Ftripleo-ci-health-queries~master~Iacf866cdd185af795f0650ce9ba05bf23339e830,openstack/tripleo-ci-health-queries,master,Iacf866cdd185af795f0650ce9ba05bf23339e830,Updating query for fs35 wallaby bug,ABANDONED,2021-09-08 15:40:11.000000000,2021-11-11 11:08:55.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-08 15:40:11.000000000', 'files': ['output/elastic-recheck/1939023.yaml', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/9c46a5346c00c729909d48ce4714b0a1e720cef6', 'message': 'Updating query for fs35 wallaby bug\n\nThis patch updates the missing build name for Bug https://bugs.launchpad.net/tripleo/+bug/1939023\n\nChange-Id: Iacf866cdd185af795f0650ce9ba05bf23339e830\n'}]",0,807902,9c46a5346c00c729909d48ce4714b0a1e720cef6,4,3,1,32458,,,0,"Updating query for fs35 wallaby bug

This patch updates the missing build name for Bug https://bugs.launchpad.net/tripleo/+bug/1939023

Change-Id: Iacf866cdd185af795f0650ce9ba05bf23339e830
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/02/807902/1 && git format-patch -1 --stdout FETCH_HEAD,"['output/elastic-recheck/1939023.yaml', 'src/data/queries.yml']",2,9c46a5346c00c729909d48ce4714b0a1e720cef6,," - build_name: ""*featureset035-wallaby"" id: periodic fs35 wallaby times out", - id: periodic fs35 wallaby times out,4,2
openstack%2Fansible-role-collect-logs~master~I1c2e6ba27b91771183307d31abefc195b503ab57,openstack/ansible-role-collect-logs,master,I1c2e6ba27b91771183307d31abefc195b503ab57,Override sova variables to fix openstack-tox-molecule,ABANDONED,2021-10-14 12:00:26.000000000,2021-11-11 11:07:45.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-10-14 12:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a872d726402bd0cb8616c57e65b46f335daabf9e', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 2, 'created': '2021-10-14 12:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/07467dbfc9e0661545ef18b4c6653d5feac0057f', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 3, 'created': '2021-10-14 14:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4ecc14e258e0a4ba0bec52ed26766683f8ed065b', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 4, 'created': '2021-10-14 14:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/df13cbb0208e220585c21c8c1ed3fda68cb69daa', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 5, 'created': '2021-10-14 15:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/fbb2dc25a8c5a85d8c050e51a7e3cb28154df92c', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 6, 'created': '2021-10-14 15:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f9b2019deb8858ef035a7343a9c685a8fd10508f', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 7, 'created': '2021-10-14 16:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2819ab8be018c4989560c0624354fa4ce019c3f4', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 8, 'created': '2021-10-15 07:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c137c50067e1bf49f88a406ced58030bb96b465f', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 9, 'created': '2021-10-15 07:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e6bfdba304e0c80ff277198be77aa86122d94e2d', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 10, 'created': '2021-10-15 09:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/edd08808b547edfcb5a62c44cbc082324d01ab8c', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 11, 'created': '2021-10-15 09:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3f6831381f63c24b5ff76e6b5f708f4a880d2020', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 12, 'created': '2021-10-15 09:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/040a0c324ea1c1c2ae1fec3bfb72caee28ad402c', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 13, 'created': '2021-10-15 10:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f49c5b8c871565428f4ddda562e96221070ad2e1', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}, {'number': 14, 'created': '2021-10-15 11:54:39.000000000', 'files': ['roles/collect_logs/molecule/sova/prepare.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2d40193953bee995663c585753c3a7abbff8fa75', 'message': 'Override sova variables to fix openstack-tox-molecule\n\nThis makes sova look only into the error file introduced\nintentionally for the molecule test.\n\nCloses-Bug: #1947133\n\nChange-Id: I1c2e6ba27b91771183307d31abefc195b503ab57\n'}]",1,813988,2d40193953bee995663c585753c3a7abbff8fa75,30,4,14,32458,,,0,"Override sova variables to fix openstack-tox-molecule

This makes sova look only into the error file introduced
intentionally for the molecule test.

Closes-Bug: #1947133

Change-Id: I1c2e6ba27b91771183307d31abefc195b503ab57
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/88/813988/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/molecule/sova/converge.yml'],1,a872d726402bd0cb8616c57e65b46f335daabf9e,," vars: console: ""{{ ansible_user_dir }}/workspace/logs/quickstart_install.log"" errors: ""{{ ansible_user_dir }}/workspace/logs/quickstart_install.log"" ironic-conductor: ""{{ ansible_user_dir }}/workspace/logs/quickstart_install.log"" syslog: ""{{ ansible_user_dir }}/workspace/logs/quickstart_install.log"" logstash: ""{{ ansible_user_dir }}/workspace/logs/quickstart_install.log"" registry_log: ""{{ ansible_user_dir }}/workspace/logs/quickstart_install.log"" ",,8,0
openstack%2Fansible-collections-openstack~master~I8fcc19889eaaec6342c8d7910a55f06e98dbd368,openstack/ansible-collections-openstack,master,I8fcc19889eaaec6342c8d7910a55f06e98dbd368,Don't require allowed_address_pairs for port,MERGED,2021-11-10 16:14:37.000000000,2021-11-11 10:58:06.000000000,2021-11-11 10:58:06.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 16:14:37.000000000', 'files': ['plugins/modules/port.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8e87ad651f2e4e23a3c55fbb86e3053aea4e164f', 'message': ""Don't require allowed_address_pairs for port\n\nPort can miss allowed_address_pairs parameter.\n\nStory: 2009192\nTask: 43246\nResolves: rhbz#2021810\n\nChange-Id: I8fcc19889eaaec6342c8d7910a55f06e98dbd368\n""}]",0,817454,8e87ad651f2e4e23a3c55fbb86e3053aea4e164f,6,2,1,10969,,,0,"Don't require allowed_address_pairs for port

Port can miss allowed_address_pairs parameter.

Story: 2009192
Task: 43246
Resolves: rhbz#2021810

Change-Id: I8fcc19889eaaec6342c8d7910a55f06e98dbd368
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/54/817454/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/port.py'],1,8e87ad651f2e4e23a3c55fbb86e3053aea4e164f,, if port.get(key): if not port.get(key):, if port[key]: if not port[key]:,2,2
openstack%2Fopenstack-ansible~stable%2Ftrain~Ia5c80ff18836b08d4caff82b2ac69a11d6e54210,openstack/openstack-ansible,stable/train,Ia5c80ff18836b08d4caff82b2ac69a11d6e54210,Fetch upper constraints file with curl rather than allow pip to download it,MERGED,2021-10-27 14:03:08.000000000,2021-11-11 10:51:21.000000000,2021-11-11 10:49:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-10-27 14:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/704ebd513b13bc9a7cd481665e6f4162d5d53859', 'message': 'Fetch upper constraints file with curl rather than allow pip to download it\n\nOn centos-7 the distro provided trust store for pip is out of date and\ncannot validate LetsEncrypt certificates issued against their new root\nCA.\n\nUse curl to download a local copy of upper-constraints.txt so that we can\npass it to pip as a file instead of a url in order to boostrap the ansible\nvirtualenv and upgrade pip/setuptools/wheel to more modern versions.\n\nChange-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210\n(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)\n'}, {'number': 2, 'created': '2021-11-03 12:19:43.000000000', 'files': ['scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a23746732a3531d9e62a10953d2d1e93216be239', 'message': 'Fetch upper constraints file with curl rather than allow pip to download it\n\nOn centos-7 the distro provided trust store for pip is out of date and\ncannot validate LetsEncrypt certificates issued against their new root\nCA.\n\nUse curl to download a local copy of upper-constraints.txt so that we can\npass it to pip as a file instead of a url in order to boostrap the ansible\nvirtualenv and upgrade pip/setuptools/wheel to more modern versions.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/816473\nChange-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210\n(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)\n'}]",0,815633,a23746732a3531d9e62a10953d2d1e93216be239,10,3,2,28619,,,0,"Fetch upper constraints file with curl rather than allow pip to download it

On centos-7 the distro provided trust store for pip is out of date and
cannot validate LetsEncrypt certificates issued against their new root
CA.

Use curl to download a local copy of upper-constraints.txt so that we can
pass it to pip as a file instead of a url in order to boostrap the ansible
virtualenv and upgrade pip/setuptools/wheel to more modern versions.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/816473
Change-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210
(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/33/815633/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,704ebd513b13bc9a7cd481665e6f4162d5d53859,,# Settings which are specific to opendev CI,"# Copy /etc/pip.conf into containers to get mirrors for wheels # and due to extra-index-url bugs in Ubuntu, we workaround it # by ignoring the config file during PIP upgrade time venv_pip_upgrade_noconf: true",8,4
openstack%2Fironic~master~I405c483506f79a830e9378db3dd45c8c235a6817,openstack/ironic,master,I405c483506f79a830e9378db3dd45c8c235a6817,Add description to the mod_wsgi part,MERGED,2021-10-21 13:36:03.000000000,2021-11-11 10:35:58.000000000,2021-11-11 10:33:56.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-10-21 13:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba97ee2c6eb40bda7e01639f2b342e61ab817611', 'message': 'Add description to the mod_wsgi part\n\nAccording to the current document, people who do not understand the\nrelevant principles may think that ""Configuring ironic-api behind\nmod_wsgi"" is necessary.\n\nIndicate that mod_wsgi part is not necessary but\nrecommended.\n\ntask: 43714\nChange-Id: I405c483506f79a830e9378db3dd45c8c235a6817\n'}, {'number': 2, 'created': '2021-10-21 13:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6503e6ec512063f996690e08a6579da9c332ba6', 'message': 'Add description to the mod_wsgi part\n\nAccording to the current document, people who do not understand the\nrelevant principles may think that ""Configuring ironic-api behind\nmod_wsgi"" is necessary.\n\nIndicate that mod_wsgi part is not necessary but recommended.\n\ntask: 43714\nChange-Id: I405c483506f79a830e9378db3dd45c8c235a6817\n'}, {'number': 3, 'created': '2021-10-21 13:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b179034d8c7d3068a53dc83ae64eca2037874f5', 'message': 'Add description to the mod_wsgi part\n\nAccording to the current document, people who do not understand the\nrelevant principles may think that ""Configuring ironic-api behind\nmod_wsgi"" is necessary.\n\nIndicate that mod_wsgi part is not necessary but recommended.\n\ntask: 43714\nChange-Id: I405c483506f79a830e9378db3dd45c8c235a6817\n'}, {'number': 4, 'created': '2021-10-22 02:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/733640298e799f882395bef888274967c29486dc', 'message': 'Add description to the mod_wsgi part\n\nAccording to the current document, people who do not understand the\nrelevant principles may think that ""Configuring ironic-api behind\nmod_wsgi"" is necessary.\n\nIndicate that mod_wsgi part is not necessary but recommended.\n\ntask: 43714\nChange-Id: I405c483506f79a830e9378db3dd45c8c235a6817\n'}, {'number': 5, 'created': '2021-10-28 05:19:07.000000000', 'files': ['doc/source/install/include/configure-ironic-api-mod_wsgi.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/287425e15969e231ab31e1824fc540d6523e6c1e', 'message': 'Add description to the mod_wsgi part\n\nAccording to the current document, people who do not understand the\nrelevant principles may think that ""Configuring ironic-api behind\nmod_wsgi"" is necessary.\n\nIndicate that mod_wsgi part is not necessary but recommended.\n\ntask: 43714\nChange-Id: I405c483506f79a830e9378db3dd45c8c235a6817\n'}]",7,814916,287425e15969e231ab31e1824fc540d6523e6c1e,27,5,5,33786,,,0,"Add description to the mod_wsgi part

According to the current document, people who do not understand the
relevant principles may think that ""Configuring ironic-api behind
mod_wsgi"" is necessary.

Indicate that mod_wsgi part is not necessary but recommended.

task: 43714
Change-Id: I405c483506f79a830e9378db3dd45c8c235a6817
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/814916/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/include/configure-ironic-api-mod_wsgi.inc'],1,ba97ee2c6eb40bda7e01639f2b342e61ab817611,task/43714,"``ironic-api`` service to run behind Apache with mod_wsgi. .. note:: This part is not necessary, the ironic APIs can be run using independent scripts that provide HTTP servers. But it is generally considered more performant and flexible to run them using a generic HTTP server that supports WSGI (such as Apache or nginx).",``ironic-api`` service to run behind Apache with mod_wsgi.,7,1
openstack%2Fansible-collections-openstack~master~I00511b314bbc8a6c03a2ee1e6c626147bfe8f49d,openstack/ansible-collections-openstack,master,I00511b314bbc8a6c03a2ee1e6c626147bfe8f49d,Add a link for issue report and feature request,MERGED,2020-07-04 09:31:41.000000000,2021-11-11 10:24:56.000000000,2020-07-04 16:44:47.000000000,"[{'_account_id': 10068}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 09:31:41.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bbe1d844488c7d5607f7d8fd183d05111d064ab3', 'message': 'Add a link for issue report and feature request\n\nChange-Id: I00511b314bbc8a6c03a2ee1e6c626147bfe8f49d\n'}]",0,739300,bbe1d844488c7d5607f7d8fd183d05111d064ab3,7,3,1,32110,,,0,"Add a link for issue report and feature request

Change-Id: I00511b314bbc8a6c03a2ee1e6c626147bfe8f49d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/00/739300/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,bbe1d844488c7d5607f7d8fd183d05111d064ab3,,"- Submit [bugs and feature requests](https://storyboard.openstack.org/#!/project/openstack/ansible-collections-openstack), and help us verify them","- Submit bugs and feature requests, and help us verify them",1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,openstack/kolla-ansible,stable/victoria,Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,Fix octavia doesn't set subnet gateway_ip,MERGED,2021-11-10 09:17:16.000000000,2021-11-11 10:15:09.000000000,2021-11-11 10:13:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-11-10 09:17:16.000000000', 'files': ['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4305edb2f01de6ca6f841889b36f6b31841ffee1', 'message': ""Fix octavia doesn't set subnet gateway_ip\n\nthe gateway_ip should be in subnet dict.\n\nCloses-Bug: #1949260\nChange-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b\n(cherry picked from commit d7706aac1b1d356eaaa04ef57f4b920adcfe3668)\n""}]",0,817269,4305edb2f01de6ca6f841889b36f6b31841ffee1,8,3,1,14826,,,0,"Fix octavia doesn't set subnet gateway_ip

the gateway_ip should be in subnet dict.

Closes-Bug: #1949260
Change-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b
(cherry picked from commit d7706aac1b1d356eaaa04ef57f4b920adcfe3668)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/817269/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml']",2,4305edb2f01de6ca6f841889b36f6b31841ffee1,bug/1949260-stable/victoria," gateway_ip: ""{{ octavia_amp_network['subnet']['gateway_ip'] | default(omit, true) }}"""," gateway_ip: ""{{ octavia_amp_network['gateway_ip'] | default(omit, true) }}""",6,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,openstack/kolla-ansible,stable/wallaby,Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,Fix octavia doesn't set subnet gateway_ip,MERGED,2021-11-10 09:16:31.000000000,2021-11-11 10:15:08.000000000,2021-11-11 10:13:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-11-10 09:16:31.000000000', 'files': ['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/951a25facdcdc9af3bd59646670f42de0de91d68', 'message': ""Fix octavia doesn't set subnet gateway_ip\n\nthe gateway_ip should be in subnet dict.\n\nCloses-Bug: #1949260\nChange-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b\n(cherry picked from commit d7706aac1b1d356eaaa04ef57f4b920adcfe3668)\n""}]",0,817268,951a25facdcdc9af3bd59646670f42de0de91d68,8,3,1,14826,,,0,"Fix octavia doesn't set subnet gateway_ip

the gateway_ip should be in subnet dict.

Closes-Bug: #1949260
Change-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b
(cherry picked from commit d7706aac1b1d356eaaa04ef57f4b920adcfe3668)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/817268/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml']",2,951a25facdcdc9af3bd59646670f42de0de91d68,bug/1949260-stable/wallaby," gateway_ip: ""{{ octavia_amp_network['subnet']['gateway_ip'] | default(omit, true) }}"""," gateway_ip: ""{{ octavia_amp_network['gateway_ip'] | default(omit, true) }}""",6,1
openstack%2Fkolla-ansible~stable%2Fxena~Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,openstack/kolla-ansible,stable/xena,Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,Fix octavia doesn't set subnet gateway_ip,MERGED,2021-11-10 09:16:02.000000000,2021-11-11 10:14:58.000000000,2021-11-11 10:10:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-11-10 09:16:02.000000000', 'files': ['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7659f1e3204a578b32294bba226e174b112498be', 'message': ""Fix octavia doesn't set subnet gateway_ip\n\nthe gateway_ip should be in subnet dict.\n\nCloses-Bug: #1949260\nChange-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b\n(cherry picked from commit d7706aac1b1d356eaaa04ef57f4b920adcfe3668)\n""}]",0,817267,7659f1e3204a578b32294bba226e174b112498be,8,3,1,14826,,,0,"Fix octavia doesn't set subnet gateway_ip

the gateway_ip should be in subnet dict.

Closes-Bug: #1949260
Change-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b
(cherry picked from commit d7706aac1b1d356eaaa04ef57f4b920adcfe3668)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/817267/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml']",2,7659f1e3204a578b32294bba226e174b112498be,bug/1949260-stable/xena," gateway_ip: ""{{ octavia_amp_network['subnet']['gateway_ip'] | default(omit, true) }}"""," gateway_ip: ""{{ octavia_amp_network['gateway_ip'] | default(omit, true) }}""",6,1
openstack%2Fkayobe-config-dev~master~Iea94a598c7cc1793b5f145bd41e158aa43612890,openstack/kayobe-config-dev,master,Iea94a598c7cc1793b5f145bd41e158aa43612890,Synchronise job config with kayobe,MERGED,2021-11-10 21:24:23.000000000,2021-11-11 10:09:59.000000000,2021-11-11 10:09:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 21:24:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/33e5928d6abe96b84780f9a8082b51eb862c4320', 'message': 'Synchronise job config with kayobe\n\nChange-Id: Iea94a598c7cc1793b5f145bd41e158aa43612890\n'}]",0,817478,33e5928d6abe96b84780f9a8082b51eb862c4320,6,2,1,15197,,,0,"Synchronise job config with kayobe

Change-Id: Iea94a598c7cc1793b5f145bd41e158aa43612890
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/78/817478/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,33e5928d6abe96b84780f9a8082b51eb862c4320,, - kayobe-overcloud-upgrade-ubuntu-focal - kayobe-seed-upgrade-ubuntu-focal - kayobe-overcloud-upgrade-ubuntu-focal - kayobe-seed-upgrade-ubuntu-focal,,4,0
openstack%2Fneutron~stable%2Fussuri~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,stable/ussuri,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-11-04 14:31:18.000000000,2021-11-11 10:09:27.000000000,2021-11-11 10:07:34.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 14:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6715c4c19d5112997bf3b2e5374c7f0faecdd55', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}, {'number': 2, 'created': '2021-11-10 10:37:30.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c99c719d08242f1ced941407d19d09d9d5add1e', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_dvr_router.py\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}]",4,816661,3c99c719d08242f1ced941407d19d09d9d5add1e,21,4,2,11975,,,0,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Conflicts:
    neutron/tests/functional/agent/l3/test_dvr_router.py

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/816661/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",4,e6715c4c19d5112997bf3b2e5374c7f0faecdd55,bug/1933273-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," def _set_snat_interfce_mtu(self, port): def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if port: self._set_snat_interfce_mtu(port) "," def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if not port: return",35,9
openstack%2Fnova~stable%2Fxena~Id96f1795034490c13125ebbab49b029fb96af1c7,openstack/nova,stable/xena,Id96f1795034490c13125ebbab49b029fb96af1c7,Fix interference in db unit test,NEW,2021-11-09 15:35:06.000000000,2021-11-11 09:23:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-09 15:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a71c9d6d31dbbb1b4a728f758ccb4260fdbcdfde', 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happened because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion do not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case ran first in an executor then that initialized the\ntransaction factory globally and a later test that uses our Database\nfixture tried to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nConflicts:\n      nova/tests/unit/db/api/test_migrations.py\n      nova/tests/unit/db/main/test_migrations.py\n      nova/tests/unit/db/test_migration.py\n\nAll these conflicts are due to I2e970ec4a185cd28611855004b6d9786bf2ce217\nnot in stable/xena\n\nCloses-Bug: #1948963\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n(cherry picked from commit a7bccff06b871765fb87ee3e9edd9458c7f73701)\n'}, {'number': 2, 'created': '2021-11-10 15:05:10.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f0cf6550bbf2d0133a91ab6a13235ab18bdbc05', 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happened because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion do not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case ran first in an executor then that initialized the\ntransaction factory globally and a later test that uses our Database\nfixture tried to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nConflicts:\n      nova/tests/unit/db/api/test_migrations.py\n      nova/tests/unit/db/main/test_migrations.py\n      nova/tests/unit/db/test_migration.py\n\nAll these conflicts are due to I2e970ec4a185cd28611855004b6d9786bf2ce217\nnot in stable/xena\n\nCloses-Bug: #1948963\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n(cherry picked from commit a7bccff06b871765fb87ee3e9edd9458c7f73701)\n'}]",4,817240,6f0cf6550bbf2d0133a91ab6a13235ab18bdbc05,11,1,2,9708,,,0,"Fix interference in db unit test

We discovered that two unit test cases added in
I0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like
  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:
  this TransactionFactory is already started

when the db tests run selectively with tox -e py38 nova.tests.unit.db
but does not cause errors if the whole unit test suit is run.

This error happened because our db code uses two global transaction
factory, one for the api DB and one for the main DB. There was a global
flag SESSION_CONFIGURED in our Database fixture that guarded against
double initialization of the factory. But the faulty test cases in
question do not use our Database fixture but use the
OpportunisticDBTestMixin from oslo_db. Obviously that fixture does not
know about our SESSION_CONFIGURED global. So if one of the offending
test case ran first in an executor then that initialized the
transaction factory globally and a later test that uses our Database
fixture tried to configure it again leading to the error. For some
unknown reason if these tests were run in the opposite order the faulty
re-initialization did not happen. Probably the OpportunisticDBTestMixin
was able to prevent that.

A previous patch already removed the global SESSION_CONFIGURED flag
from our fixture and replaced it with a per DB specific patch_factory
calls that allow resetting the state of the factory at the end of each
test case. This would already solve the current test case issue as only
our offending test cases would initialize the global factory without
cleanup and we have one test case per DB. So there would be no
interference. However if in the future we add similar test cases then
those can still interfere through the global factory.

So this patch fixes the two offending test case. Also it extends the
DatabasePoisonFixture used for the NoDbTestCase tesst. The poison now
detects if the test case starts any transaction factory.

This poison caught another offender test case,
test_db_sync_with_special_symbols_in_connection_string, that was marked
NoDb but actually using the database. It is now changed to declare
itself as a test that sets up the DB manually and also it is changed to
use the Database fixture instead of touching the global factory
directly.

Conflicts:
      nova/tests/unit/db/api/test_migrations.py
      nova/tests/unit/db/main/test_migrations.py
      nova/tests/unit/db/test_migration.py

All these conflicts are due to I2e970ec4a185cd28611855004b6d9786bf2ce217
not in stable/xena

Closes-Bug: #1948963

Change-Id: Id96f1795034490c13125ebbab49b029fb96af1c7
(cherry picked from commit a7bccff06b871765fb87ee3e9edd9458c7f73701)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/817240/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_migration.py']",4,a71c9d6d31dbbb1b4a728f758ccb4260fdbcdfde,bug/1948963,from nova.tests import fixtures as nova_fixtures USES_DB_SELF = True self.useFixture(nova_fixtures.Database()) ," import fixturesfrom oslo_db.sqlalchemy import enginefacade # since the engine.url is immutable it will never get updated # once its created so reusing the engine instance would break # this test. engine = enginefacade.writer.get_engine() self.useFixture( fixtures.MonkeyPatch( 'nova.db.migration._get_engine', mock.Mock(return_value=engine)))",30,20
openstack%2Fpuppet-tripleo~master~I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498,openstack/puppet-tripleo,master,I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498,[Pure Storage] Add new params for FlashArray Cinder driver,MERGED,2021-11-05 12:38:51.000000000,2021-11-11 09:20:44.000000000,2021-11-11 09:19:01.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 12:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/398c61432b47b63a74d2e6b898b86a93dd2778f1', 'message': '[Pure Storage] Add new params for FlashArray Cinder driver\n\nChange-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498\n'}, {'number': 2, 'created': '2021-11-05 13:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c0ba80934849d4dcc082c1f02d4e68a3275fe67a', 'message': '[Pure Storage] Add new params for FlashArray Cinder driver\n\nChange-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498\n'}, {'number': 3, 'created': '2021-11-05 13:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8adb335a42c4b0c0d4aab313b480a0203c691df5', 'message': '[Pure Storage] Add new params for FlashArray Cinder driver\n\nDepends-On: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\nChange-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498\n'}, {'number': 4, 'created': '2021-11-05 13:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fd194a27161cd341fed848f1fcc6518f14b385d0', 'message': '[Pure Storage] Add new params for FlashArray Cinder driver\n\nDepends-On: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\nChange-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498\n'}, {'number': 5, 'created': '2021-11-05 15:34:33.000000000', 'files': ['releasenotes/notes/pure_storage_update_cinder_params-94940d1d3ca46877.yaml', 'manifests/profile/base/cinder/volume/pure.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb89515468a7cb771227eed98b33b6b771f2744e', 'message': '[Pure Storage] Add new params for FlashArray Cinder driver\n\nDepends-On: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8\nChange-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498\n'}]",11,816835,bb89515468a7cb771227eed98b33b6b771f2744e,29,3,5,13425,,,0,"[Pure Storage] Add new params for FlashArray Cinder driver

Depends-On: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8
Change-Id: I9ab50d6c0835ea69044249f1cbbbf10f9b6a2498
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/816835/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pure_storage_update_cinder_params-94940d1d3ca46877.yaml', 'manifests/profile/base/cinder/volume/pure.pp']",2,398c61432b47b63a74d2e6b898b86a93dd2778f1,add_pure_params," 'CinderPureIscsiCidr' => hiera('cinder::backend::pure::pure_iscsi_cidr', undef), 'CinderPureHostPersonality' => hiera('cinder::backend::pure::pure_host_personality', undef), 'pure_iscsi_cidr' => $backend_config['CinderPureIscsiCidr'], 'pure_host_personality' => $backend_config['CinderPureHostPersonality'],",,9,0
openstack%2Fcharm-keystone~master~Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f,openstack/charm-keystone,master,Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:21:02.000000000,2021-11-11 09:17:01.000000000,2021-11-11 09:17:01.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/32e8f409d9720ea92554da5044b90978edfeefa0', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f\n'}, {'number': 2, 'created': '2021-11-01 13:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7544a2817cfbbfab8c8637462e431a602a0ae32c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f\n'}, {'number': 3, 'created': '2021-11-03 21:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7f0bb605e99ecf0fafeb14c5595fa463422ea1e6', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f\n'}, {'number': 4, 'created': '2021-11-05 17:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2748897425639cfcec507c5e6e0d7bcd1656a45e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f\n'}, {'number': 5, 'created': '2021-11-09 15:31:07.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/18afefd965f70f5ca43b7e816fa1a9d2860213d7', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f\n'}]",7,816023,18afefd965f70f5ca43b7e816fa1a9d2860213d7,30,3,5,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: Ie5d197e42c8c1fff5a757400ed3edadb07caaa5f
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/23/816023/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml']",10,32e8f409d9720ea92554da5044b90978edfeefa0,batch-update,variables: openstack-origin: &openstack-origin distro series: jammy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': applications: glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: ../../../keystone num_units: 3 options: openstack-origin: *openstack-origin token-provider: 'fernet' token-expiration: 300 to: - '3' - '4' - '5' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '6' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' ,,173,7
openstack%2Fkolla-ansible~master~Icf4d804416723308e6e1c2bbf2b8636032eb16ca,openstack/kolla-ansible,master,Icf4d804416723308e6e1c2bbf2b8636032eb16ca,"docs: fix venv path ""share/share""",MERGED,2021-11-10 14:02:56.000000000,2021-11-11 09:16:52.000000000,2021-11-11 09:15:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-11-10 14:02:56.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/831c31600a1d3a67fbb59b4a0eac2a7c7f9e5842', 'message': 'docs: fix venv path ""share/share""\n\nWrong venv path\n/path/to/venv/share/share/kolla-ansible/init-runonce\nadded in\nhttps://review.opendev.org/c/openstack/kolla-ansible/+/816074\n\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\nChange-Id: Icf4d804416723308e6e1c2bbf2b8636032eb16ca\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}]",0,817432,831c31600a1d3a67fbb59b4a0eac2a7c7f9e5842,8,3,1,29880,,,0,"docs: fix venv path ""share/share""

Wrong venv path
/path/to/venv/share/share/kolla-ansible/init-runonce
added in
https://review.opendev.org/c/openstack/kolla-ansible/+/816074

Signed-off-by: Adrian Andreias <adrian@fleio.com>
Change-Id: Icf4d804416723308e6e1c2bbf2b8636032eb16ca
Signed-off-by: Adrian Andreias <adrian@fleio.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/817432/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,831c31600a1d3a67fbb59b4a0eac2a7c7f9e5842,venv-path/1949198, /path/to/venv/share/kolla-ansible/init-runonce, /path/to/venv/share/share/kolla-ansible/init-runonce,1,1
openstack%2Fcharm-ironic-api~master~I68c00f50be23851d01cb537a41a3e05fd2172df4,openstack/charm-ironic-api,master,I68c00f50be23851d01cb537a41a3e05fd2172df4,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:51.000000000,2021-11-11 09:15:32.000000000,2021-11-11 09:15:32.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/8332864e2038ba7f44426e985340e277d1edbbe1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I68c00f50be23851d01cb537a41a3e05fd2172df4\n'}, {'number': 2, 'created': '2021-11-01 13:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/87cd1241e1bd07c47d332720337f3b2a5a6fce3a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I68c00f50be23851d01cb537a41a3e05fd2172df4\n'}, {'number': 3, 'created': '2021-11-03 20:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/4554ab1f79256e825864068360a5b9992aa6087f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I68c00f50be23851d01cb537a41a3e05fd2172df4\n'}, {'number': 4, 'created': '2021-11-05 17:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/abdb12d6923db0b77aabeb0141901341808bb99a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I68c00f50be23851d01cb537a41a3e05fd2172df4\n'}, {'number': 5, 'created': '2021-11-09 15:31:02.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/4424c4a40955647dc933ea3ecc1f931fb133ed4c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I68c00f50be23851d01cb537a41a3e05fd2172df4\n'}]",3,816021,4424c4a40955647dc933ea3ecc1f931fb133ed4c,19,3,5,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: I68c00f50be23851d01cb537a41a3e05fd2172df4
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/21/816021/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/metadata.yaml']",3,8332864e2038ba7f44426e985340e277d1edbbe1,batch-update,- jammy,,4,0
openstack%2Fcharm-hacluster~master~I7cce3b8034bcc118cb0765cfb00c050e9c55f847,openstack/charm-hacluster,master,I7cce3b8034bcc118cb0765cfb00c050e9c55f847,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:41.000000000,2021-11-11 09:11:34.000000000,2021-11-11 09:11:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a6c27516f04d76199d12abc9f3a68da616398827', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I7cce3b8034bcc118cb0765cfb00c050e9c55f847\n'}, {'number': 2, 'created': '2021-11-01 13:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/07e70064db1bc50af99a6b274f37edf0fae646fc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I7cce3b8034bcc118cb0765cfb00c050e9c55f847\n'}, {'number': 3, 'created': '2021-11-03 20:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6189611bc904873b7146515de7718ca6b298d0a1', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I7cce3b8034bcc118cb0765cfb00c050e9c55f847\n'}, {'number': 4, 'created': '2021-11-05 17:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/87d59426f444252477e79d80a914ad66f32f8b04', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I7cce3b8034bcc118cb0765cfb00c050e9c55f847\n'}, {'number': 5, 'created': '2021-11-09 15:30:56.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/cc493c3ff581e818300fa3fdb1562e810f1b9f5d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I7cce3b8034bcc118cb0765cfb00c050e9c55f847\n'}]",2,816019,cc493c3ff581e818300fa3fdb1562e810f1b9f5d,19,3,5,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: I7cce3b8034bcc118cb0765cfb00c050e9c55f847
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/19/816019/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml']",10,a6c27516f04d76199d12abc9f3a68da616398827,batch-update,"variables: openstack-origin: &openstack-origin distro series: jammy machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 3 options: token-expiration: 60 openstack-origin: *openstack-origin to: - '3' - '4' - '5' hacluster: charm: ../../../hacluster subordinate-to: - keystone relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'hacluster:ha' - 'keystone:ha' - - ""keystone-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" ",,147,7
openstack%2Fcharm-heat~master~Ie8a5fe3f3dd10de1b4f180ce05b542896f594393,openstack/charm-heat,master,Ie8a5fe3f3dd10de1b4f180ce05b542896f594393,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:46.000000000,2021-11-11 09:08:46.000000000,2021-11-11 09:08:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a09eac490dc33a3063c9e80b3ad1807dbc3ecc5c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ie8a5fe3f3dd10de1b4f180ce05b542896f594393\n'}, {'number': 2, 'created': '2021-11-01 13:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/2e2aea73f0f8f5112df068341704427cce8d9ac5', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ie8a5fe3f3dd10de1b4f180ce05b542896f594393\n'}, {'number': 3, 'created': '2021-11-03 20:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/470914f8d59570341b5676b1fe277e18bc4a1e9d', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ie8a5fe3f3dd10de1b4f180ce05b542896f594393\n'}, {'number': 4, 'created': '2021-11-05 17:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/2d893bf7d2e10821e0857810504b075310a34e86', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ie8a5fe3f3dd10de1b4f180ce05b542896f594393\n'}, {'number': 5, 'created': '2021-11-09 15:30:59.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/focal-yoga.yaml', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/33a3898114df6914a3d31aff31032d831d35fa17', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ie8a5fe3f3dd10de1b4f180ce05b542896f594393\n'}]",2,816020,33a3898114df6914a3d31aff31032d831d35fa17,19,3,5,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: Ie8a5fe3f3dd10de1b4f180ce05b542896f594393
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/20/816020/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/focal-yoga.yaml', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'hooks/charmhelpers/fetch/ubuntu.py']",10,a09eac490dc33a3063c9e80b3ad1807dbc3ecc5c,batch-update," ('jammy', 'yoga'),",,491,7
openstack%2Fcharm-gnocchi~master~Ic43f7c55f6b71ca8835d89629284de313290a62f,openstack/charm-gnocchi,master,Ic43f7c55f6b71ca8835d89629284de313290a62f,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:35.000000000,2021-11-11 09:07:06.000000000,2021-11-11 09:07:06.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/f66a72e59fd4769614c670e2f790a2c9b6df6f05', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f\n'}, {'number': 2, 'created': '2021-11-01 13:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/e18b5dd5ddefbccb81e3fdd45aa0c7781794f207', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f\n'}, {'number': 3, 'created': '2021-11-01 15:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/cd8c678bfcb14c70049c151807559ed69c70e310', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f\n'}, {'number': 4, 'created': '2021-11-03 22:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/16cc23170dc496555e300f1db9e9695ef2658ef2', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f\n'}, {'number': 5, 'created': '2021-11-05 17:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/e9673bb0279729391bf796b5cbd91b5fd0a69cb2', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f\n'}, {'number': 6, 'created': '2021-11-09 15:30:52.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-yoga-s3.yaml', 'src/tests/bundles/jammy-yoga-s3.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/dbd399354d2d3c3fb2a557de8b363d2a7fe61cd2', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f\n'}]",2,816018,dbd399354d2d3c3fb2a557de8b363d2a7fe61cd2,22,3,6,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: Ic43f7c55f6b71ca8835d89629284de313290a62f
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/18/816018/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-yoga-s3.yaml', 'src/tests/bundles/jammy-yoga-s3.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml']",9,f66a72e59fd4769614c670e2f790a2c9b6df6f05,batch-update, - focal-yoga - test-s3: focal-yoga-s3 - jammy-yoga - jammy-yoga-s3,,601,0
openstack%2Fcharm-glance~master~I8226658c97575e3a0ccf0989a2690716afb2ac5e,openstack/charm-glance,master,I8226658c97575e3a0ccf0989a2690716afb2ac5e,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:25.000000000,2021-11-11 09:00:54.000000000,2021-11-11 09:00:54.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ddd8b70ea7ee12c074def3d56bde8ac7e898021e', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e\n'}, {'number': 2, 'created': '2021-11-01 13:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ab686965cee4d09b458626d07a54a5e11c1d8c24', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e\n'}, {'number': 3, 'created': '2021-11-01 15:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/c1b2657e3f36fbd17c9382f4aebf746837ef6caa', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e\n'}, {'number': 4, 'created': '2021-11-03 22:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/10ce657d37c3a3d52e8eba4867c65dbba1a73cbe', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e\n'}, {'number': 5, 'created': '2021-11-05 17:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/225e0d4c29e3c8250b43c1bd6f2bdfc7136ec44f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e\n'}, {'number': 6, 'created': '2021-11-09 15:30:46.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/7704576a46b0846c12b4e82a85e46c81a4e40ddf', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e\n'}]",3,816016,7704576a46b0846c12b4e82a85e46c81a4e40ddf,24,3,6,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: I8226658c97575e3a0ccf0989a2690716afb2ac5e
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/16/816016/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml']",10,ddd8b70ea7ee12c074def3d56bde8ac7e898021e,batch-update,variables: openstack-origin: &openstack-origin distro series: jammy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '3' - '4' - '5' - '6' - '7' - '8' ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *openstack-origin to: - '15' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '9' - '10' - '11' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '12' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '13' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 ec-profile-plugin: jerasure to: - '14' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:identity-service' - 'keystone:identity-service' - - 'ceph-radosgw:object-store' - 'glance:object-store' ,,321,7
openstack%2Fcharm-glance-simplestreams-sync~master~Icd1043fb0841908caeba593be2dbd07597fccb8b,openstack/charm-glance-simplestreams-sync,master,Icd1043fb0841908caeba593be2dbd07597fccb8b,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:30.000000000,2021-11-11 09:00:46.000000000,2021-11-11 09:00:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/b13b227da37e778c4e1b8f636bbfdd8f0be9efcf', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b\n'}, {'number': 2, 'created': '2021-11-01 13:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3342545fdfd218fe7450ac23702df8c591e7383c', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b\n'}, {'number': 3, 'created': '2021-11-03 20:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/7c9ed206b664be55d04d43d34800cc87e92e047a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b\n'}, {'number': 4, 'created': '2021-11-03 21:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/fd705589306d9303af5325caf3625a7c48fc0c30', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b\n'}, {'number': 5, 'created': '2021-11-05 17:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/8ba1260d02cf73a55fde20885fe7a7b6d85c00f0', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b\n'}, {'number': 6, 'created': '2021-11-09 15:30:49.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/b9bfe131d7d3976781080fc0dec9875178cdb611', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b\n'}]",2,816017,b9bfe131d7d3976781080fc0dec9875178cdb611,20,3,6,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: Icd1043fb0841908caeba593be2dbd07597fccb8b
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/17/816017/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml']",10,b13b227da37e778c4e1b8f636bbfdd8f0be9efcf,batch-update,"variables: source: &source distro series: jammy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': '1': '2': '3': '4': '5': '6': '7': '8': constraints: ""mem=2048"" '9': constraints: ""mem=2048"" '10': constraints: ""mem=2048"" '11': '12': '13': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *source to: - '0' - '1' - '2' vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '3' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source to: - '4' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *source to: - '5' glance-simplestreams-sync: charm: ../../glance-simplestreams-sync num_units: 1 to: - '6' ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *source to: - '7' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source to: - '8' - '9' - '10' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '11' - '12' - '13' relations: - ['keystone:certificates', 'vault:certificates'] - ['glance:certificates', 'vault:certificates'] - ['glance-simplestreams-sync:certificates', 'vault:certificates'] - ['glance:identity-service', 'keystone:identity-service'] - ['glance-simplestreams-sync:identity-service', 'keystone:identity-service'] - ['keystone:shared-db','keystone-mysql-router:shared-db'] - ['glance:shared-db','glance-mysql-router:shared-db'] - ['glance:ceph', 'ceph-mon:client'] - ['vault:shared-db','vault-mysql-router:shared-db'] - ['keystone-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['glance-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['vault-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['ceph-osd:mon', 'ceph-mon:osd'] - ['ceph-radosgw:mon', 'ceph-mon:radosgw'] - ['ceph-radosgw:identity-service', 'keystone:identity-service'] - ['ceph-radosgw:certificates', 'vault:certificates'] ",,283,7
openstack%2Fcharm-designate-bind~master~Ibc20974155e5029047f753600f625567173744ec,openstack/charm-designate-bind,master,Ibc20974155e5029047f753600f625567173744ec,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:19.000000000,2021-11-11 08:59:42.000000000,2021-11-11 08:59:42.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/1ebb4f8a4389cce6b7e744238faef1825109d1f9', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ibc20974155e5029047f753600f625567173744ec\n'}, {'number': 2, 'created': '2021-11-01 13:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/aa0430c7ab8bba078c46d5d5d87c1c4fcbbe722a', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ibc20974155e5029047f753600f625567173744ec\n'}, {'number': 3, 'created': '2021-11-03 22:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/ed44d590d0b9d356b4888237c73566bce66b48ab', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibc20974155e5029047f753600f625567173744ec\n'}, {'number': 4, 'created': '2021-11-05 17:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/f79798cd616621681c67644f0847ad594ad86598', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibc20974155e5029047f753600f625567173744ec\n'}, {'number': 5, 'created': '2021-11-09 15:30:43.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/b2f0dda387ff7abe4c31b16471a4e0a34ada83fe', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ibc20974155e5029047f753600f625567173744ec\n'}]",3,816015,b2f0dda387ff7abe4c31b16471a4e0a34ada83fe,21,3,5,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: Ibc20974155e5029047f753600f625567173744ec
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/15/816015/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",7,1ebb4f8a4389cce6b7e744238faef1825109d1f9,batch-update, - focal-yoga - jammy-yoga - jammy-yoga,,276,0
openstack%2Fcharm-designate~master~Ia5771347736c27f3ebde2b08eec94252800dd91a,openstack/charm-designate,master,Ia5771347736c27f3ebde2b08eec94252800dd91a,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:20:14.000000000,2021-11-11 08:58:33.000000000,2021-11-11 08:58:33.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-10-29 21:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c8d8dbcc19742743ba497f822937d1236c5d61c0', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ia5771347736c27f3ebde2b08eec94252800dd91a\n'}, {'number': 2, 'created': '2021-11-01 13:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/a37f5143fc42a01893fb293c1f44397468673dcc', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n\nChange-Id: Ia5771347736c27f3ebde2b08eec94252800dd91a\n'}, {'number': 3, 'created': '2021-11-03 21:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/5dcc3fc5213e7836a70e72b49675e62092712e61', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia5771347736c27f3ebde2b08eec94252800dd91a\n'}, {'number': 4, 'created': '2021-11-05 17:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/ce50f082a91b61e8057f62e56309fbab7aca3d7f', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia5771347736c27f3ebde2b08eec94252800dd91a\n'}, {'number': 5, 'created': '2021-11-09 15:30:40.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/a0b16b90588dbb7d55d0540633103b9f37a3e3cd', 'message': 'Add yoga bundles and release-tool syncs\n\n* charm-helpers sync for classic charms\n* pin pyparsing for aodhclient\n* pin cffi for py35\n* add non-voting focal-yoga bundle\n* add non-voting jammy-yoga bundle\n* add series metadata for jammy\n* switch xena bundles to voting\n* run focal-ussuri as smoke tests\n* remove groovy bundles\n\nChange-Id: Ia5771347736c27f3ebde2b08eec94252800dd91a\n'}]",2,816014,a0b16b90588dbb7d55d0540633103b9f37a3e3cd,19,3,5,11805,,,0,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: Ia5771347736c27f3ebde2b08eec94252800dd91a
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/14/816014/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'test-requirements.txt', 'src/metadata.yaml', 'src/tests/tests.yaml']",7,c8d8dbcc19742743ba497f822937d1236c5d61c0,batch-update, - focal-yoga - jammy-yoga - jammy-yoga,,275,0
openstack%2Fskyline-console~master~I82cda19a2b92b29498238b85c75181848e51e072,openstack/skyline-console,master,I82cda19a2b92b29498238b85c75181848e51e072,refactor: Refactor path jump,MERGED,2021-11-10 09:55:05.000000000,2021-11-11 07:02:27.000000000,2021-11-11 07:02:27.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-11-10 09:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/49438dc236b5c37c703b837ec1f0612a8e9670d1', 'message': 'refactor: Refactor path jump\n\nRefactor path jump by routeName which is defined in menu as key\n\nChange-Id: I82cda19a2b92b29498238b85c75181848e51e072\n'}, {'number': 2, 'created': '2021-11-11 02:00:23.000000000', 'files': ['docs/en/develop/3-6-FormAction-introduction.md', 'src/containers/List/index.jsx', 'src/pages/network/containers/SecurityGroup/index.jsx', 'src/resources/qos-policy.jsx', 'src/utils/route-map.spec.js', 'src/pages/compute/containers/Keypair/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/index.jsx', 'src/utils/route-map.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/identity/containers/Role/index.jsx', 'src/pages/compute/containers/Instance/Detail/index.jsx', 'src/pages/storage/containers/Backup/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Backup/index.jsx', 'src/containers/TabList/index.jsx', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'src/pages/compute/containers/Flavor/actions/StepCreate/index.jsx', 'src/pages/identity/containers/Domain/index.jsx', 'src/pages/network/containers/Router/Port/index.jsx', 'docs/en/develop/3-4-BaseDetailInfo-introduction.md', 'src/layouts/menu.jsx', 'src/pages/compute/containers/Keypair/Detail/index.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/Detail/index.jsx', 'docs/en/develop/3-2-BaseTabList-introduction.md', 'src/pages/network/containers/SecurityGroup/Detail/index.jsx', 'src/utils/table.jsx', 'src/resources/port.jsx', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/identity/containers/Domain/actions/Edit.jsx', 'docs/zh/develop/3-1-BaseList-introduction.md', 'src/pages/network/containers/VirtualAdapter/Detail/BaseDetail/index.jsx', 'src/resources/network.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/index.jsx', 'src/pages/identity/containers/UserGroup/index.jsx', 'src/layouts/Base/Menu.jsx', 'src/components/FormItem/NetworkSelectTable/index.jsx', 'docs/zh/develop/3-2-BaseTabList-introduction.md', 'src/pages/identity/containers/User/index.jsx', 'src/pages/heat/containers/Stack/Detail/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/layouts/Base/index.jsx', 'src/pages/storage/containers/Volume/Detail/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/index.jsx', 'src/components/Tables/Base/index.jsx', 'src/pages/user-center/containers/Credentials/actions/Create.jsx', 'src/components/StepForm/index.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/resources/flavor.js', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/StepCreate/index.jsx', 'src/pages/identity/containers/UserGroup/Detail/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/index.jsx', 'src/components/FormItem/MemberAllocator/index.jsx', 'docs/en/develop/3-1-BaseList-introduction.md', 'src/pages/storage/containers/Volume/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/configuration/containers/Metadata/Detail/index.jsx', 'src/utils/table.test.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/network/containers/Network/Detail/index.jsx', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/index.jsx', 'src/pages/storage/containers/Backup/Detail/index.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/Detail/index.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/index.jsx', 'src/components/Form/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/Detail/index.jsx', 'src/pages/compute/containers/Flavor/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'docs/zh/develop/3-6-FormAction-introduction.md', 'src/pages/compute/containers/BareMetalNode/actions/Edit.jsx', 'src/containers/Action/StepAction/index.jsx', 'src/pages/compute/containers/BareMetalNode/Detail/index.jsx', 'src/pages/compute/containers/BareMetalNode/actions/Create/index.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/index.jsx', 'src/resources/router.jsx', 'src/pages/storage/containers/Snapshot/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/containers/BaseDetail/index.jsx', 'docs/zh/develop/3-9-StepAction-introduction.md', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/layouts/Base/Right.jsx', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'src/pages/network/containers/Router/Port/Detail/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/Detail/index.jsx', 'src/pages/management/containers/RecycleBin/index.jsx', 'src/pages/compute/containers/ServerGroup/Detail/index.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/components/FormItem/VolumeSelectTable/index.jsx', 'src/pages/heat/containers/Stack/Detail/Resource.jsx', 'src/containers/TabDetail/index.jsx', 'src/pages/network/containers/FloatingIp/Detail/BaseDetail.jsx', 'docs/en/develop/3-9-StepAction-introduction.md', 'src/pages/identity/containers/Domain/actions/Create.jsx', 'src/pages/network/containers/FloatingIp/Detail/index.jsx', 'src/utils/render.js', 'src/pages/identity/containers/Role/Detail/index.jsx', 'src/pages/network/containers/QoSPolicy/Detail/index.jsx', 'src/pages/compute/containers/BareMetalNode/index.jsx', 'src/pages/compute/containers/ServerGroup/index.jsx', 'src/components/TableButton/RuleButton.jsx', 'docs/zh/develop/3-4-BaseDetailInfo-introduction.md', 'src/pages/heat/containers/Stack/index.jsx', 'src/pages/compute/containers/Instance/index.jsx', 'src/resources/volume.jsx', 'src/pages/heat/containers/Stack/actions/Edit.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx', 'src/resources/instance.jsx', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/pages/network/containers/Router/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/identity/containers/Project/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/SecurityGroups/index.jsx', 'src/containers/Action/FormAction/index.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/storage/containers/Snapshot/Detail/index.jsx', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/identity/containers/Domain/Detail/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6d2ea1bf3402e4042b5bd225136b2b9fea36520b', 'message': 'refactor: Refactor path jump\n\nRefactor path jump by routeName which is defined in menu as key\n\nChange-Id: I82cda19a2b92b29498238b85c75181848e51e072\n'}]",2,817374,6d2ea1bf3402e4042b5bd225136b2b9fea36520b,11,2,2,30434,,,0,"refactor: Refactor path jump

Refactor path jump by routeName which is defined in menu as key

Change-Id: I82cda19a2b92b29498238b85c75181848e51e072
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/74/817374/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/en/develop/3-6-FormAction-introduction.md', 'src/containers/List/index.jsx', 'src/pages/network/containers/SecurityGroup/index.jsx', 'src/resources/qos-policy.jsx', 'src/utils/route-map.spec.js', 'src/pages/compute/containers/Keypair/index.jsx', 'src/pages/heat/containers/Stack/actions/Create/index.jsx', 'src/utils/route-map.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/identity/containers/Role/index.jsx', 'src/pages/compute/containers/Instance/Detail/index.jsx', 'src/pages/storage/containers/Backup/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Backup/index.jsx', 'src/containers/TabList/index.jsx', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'src/pages/compute/containers/Flavor/actions/StepCreate/index.jsx', 'src/pages/identity/containers/Domain/index.jsx', 'src/pages/network/containers/Router/Port/index.jsx', 'docs/en/develop/3-4-BaseDetailInfo-introduction.md', 'src/layouts/menu.jsx', 'src/pages/compute/containers/Keypair/Detail/index.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/Detail/index.jsx', 'docs/en/develop/3-2-BaseTabList-introduction.md', 'src/pages/network/containers/SecurityGroup/Detail/index.jsx', 'src/utils/table.jsx', 'src/resources/port.jsx', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/identity/containers/Domain/actions/Edit.jsx', 'docs/zh/develop/3-1-BaseList-introduction.md', 'src/pages/network/containers/VirtualAdapter/Detail/BaseDetail/index.jsx', 'src/resources/network.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/index.jsx', 'src/pages/identity/containers/UserGroup/index.jsx', 'src/layouts/Base/Menu.jsx', 'src/components/FormItem/NetworkSelectTable/index.jsx', 'docs/zh/develop/3-2-BaseTabList-introduction.md', 'src/pages/identity/containers/User/index.jsx', 'src/pages/heat/containers/Stack/Detail/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/index.jsx', 'src/layouts/Base/index.jsx', 'src/pages/storage/containers/Volume/Detail/index.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/index.jsx', 'src/components/Tables/Base/index.jsx', 'src/pages/user-center/containers/Credentials/actions/Create.jsx', 'src/components/StepForm/index.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/resources/flavor.js', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/StepCreate/index.jsx', 'src/pages/identity/containers/UserGroup/Detail/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/index.jsx', 'src/components/FormItem/MemberAllocator/index.jsx', 'docs/en/develop/3-1-BaseList-introduction.md', 'src/pages/storage/containers/Volume/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/configuration/containers/Metadata/Detail/index.jsx', 'src/utils/table.test.js', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/network/containers/Network/Detail/index.jsx', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/index.jsx', 'src/pages/storage/containers/Backup/Detail/index.jsx', 'src/pages/storage/containers/VolumeType/QosSpec/Detail/index.jsx', 'src/pages/network/containers/VPN/IPsecSiteConnection/index.jsx', 'src/components/Form/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/Detail/index.jsx', 'src/pages/compute/containers/Flavor/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'docs/zh/develop/3-6-FormAction-introduction.md', 'src/pages/compute/containers/BareMetalNode/actions/Edit.jsx', 'src/containers/Action/StepAction/index.jsx', 'src/pages/compute/containers/BareMetalNode/Detail/index.jsx', 'src/pages/compute/containers/BareMetalNode/actions/Create/index.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/index.jsx', 'src/resources/router.jsx', 'src/pages/storage/containers/Snapshot/Detail/BaseDetail.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/containers/BaseDetail/index.jsx', 'docs/zh/develop/3-9-StepAction-introduction.md', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/layouts/Base/Right.jsx', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'src/pages/network/containers/Router/Port/Detail/index.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/Detail/index.jsx', 'src/pages/management/containers/RecycleBin/index.jsx', 'src/pages/compute/containers/ServerGroup/Detail/index.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/components/FormItem/VolumeSelectTable/index.jsx', 'src/pages/heat/containers/Stack/Detail/Resource.jsx', 'src/containers/TabDetail/index.jsx', 'src/pages/network/containers/FloatingIp/Detail/BaseDetail.jsx', 'docs/en/develop/3-9-StepAction-introduction.md', 'src/pages/identity/containers/Domain/actions/Create.jsx', 'src/pages/network/containers/FloatingIp/Detail/index.jsx', 'src/utils/render.js', 'src/pages/identity/containers/Role/Detail/index.jsx', 'src/pages/network/containers/QoSPolicy/Detail/index.jsx', 'src/pages/compute/containers/BareMetalNode/index.jsx', 'src/pages/compute/containers/ServerGroup/index.jsx', 'src/components/TableButton/RuleButton.jsx', 'docs/zh/develop/3-4-BaseDetailInfo-introduction.md', 'src/pages/heat/containers/Stack/index.jsx', 'src/pages/compute/containers/Instance/index.jsx', 'src/resources/volume.jsx', 'src/pages/heat/containers/Stack/actions/Edit.jsx', 'src/pages/network/containers/FloatingIp/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/network/containers/VirtualAdapter/index.jsx', 'src/resources/instance.jsx', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/pages/network/containers/Router/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/identity/containers/Project/index.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/SecurityGroups/index.jsx', 'src/containers/Action/FormAction/index.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/storage/containers/Snapshot/Detail/index.jsx', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/identity/containers/Domain/Detail/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/index.jsx']",123,49438dc236b5c37c703b837ec1f0612a8e9670d1,master3,"import { getPath } from 'utils/route-map'; const key = this.isAdminPage ? 'securityGroupDetailAdmin' : 'securityGroupDetail'; return getPath({ key, params: { id } });", return `${this.getUrl('/network/security-group')}/detail/${id}`;,838,607
openstack%2Fos-net-config~master~I03d709f59e9550409f42747c4593cd85dd1380c9,openstack/os-net-config,master,I03d709f59e9550409f42747c4593cd85dd1380c9,Add ifcfg-* scripts on boot for Mellanox NIC interface,MERGED,2021-10-13 14:24:17.000000000,2021-11-11 05:32:57.000000000,2021-11-11 05:31:28.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 25241}, {'_account_id': 33688}]","[{'number': 1, 'created': '2021-10-13 14:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/73d621396a32f76f593faef9d8842dbb5615ffaf', 'message': 'Add ifcfg-* scripts on boot for Mellanox NIC interface\n\nWhen OvsDpdkPort is configured on compute node using Mellanox NIC interface,\nthe NetworkManager-wait-online service fails after compute boot.\nThis fix creates a seperate ifcfg-* interface with nm_controll and dhcp\ndisabled for these Mellanox ports (used as OvsDpdkPort)\n\nChange-Id: I03d709f59e9550409f42747c4593cd85dd1380c9\n'}, {'number': 2, 'created': '2021-10-26 05:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9779d853c8c787fbccb324c23015d25842672de4', 'message': 'Add ifcfg-* scripts on boot for Mellanox NIC interface\n\nWhen OvsDpdkPort is configured on compute node using Mellanox NIC interface,\nthe NetworkManager-wait-online service fails after compute boot.\nThis fix creates a seperate ifcfg-* interface with nm_controll and dhcp\ndisabled for these Mellanox ports (used as OvsDpdkPort)\n\nChange-Id: I03d709f59e9550409f42747c4593cd85dd1380c9\n'}, {'number': 3, 'created': '2021-11-09 08:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/78f69db88f2b30818939a3665fe56d6978329fdb', 'message': 'Add ifcfg-* scripts on boot for Mellanox NIC interface\n\nWhen OvsDpdkPort is configured on compute node using Mellanox NIC interface,\nthe NetworkManager-wait-online service fails after compute boot.\nThis fix creates a seperate ifcfg-* interface with nm_controll and dhcp\ndisabled for these Mellanox ports (used as OvsDpdkPort/DpdkBond)\n\nChange-Id: I03d709f59e9550409f42747c4593cd85dd1380c9\n'}, {'number': 4, 'created': '2021-11-10 04:18:57.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e5c50e8cf3c5d9f23ddbcd2123f227d95be79bae', 'message': 'Add ifcfg-* scripts on boot for Mellanox NIC interface\n\nWhen OvsDpdkPort is configured on compute node using Mellanox NIC interface,\nthe NetworkManager-wait-online service fails after compute boot.\nThis fix creates a seperate ifcfg-* interface with nm_controll and dhcp\ndisabled for these Mellanox ports (used as OvsDpdkPort/DpdkBond)\n\nChange-Id: I03d709f59e9550409f42747c4593cd85dd1380c9\n'}]",8,813838,e5c50e8cf3c5d9f23ddbcd2123f227d95be79bae,24,7,4,33688,,,0,"Add ifcfg-* scripts on boot for Mellanox NIC interface

When OvsDpdkPort is configured on compute node using Mellanox NIC interface,
the NetworkManager-wait-online service fails after compute boot.
This fix creates a seperate ifcfg-* interface with nm_controll and dhcp
disabled for these Mellanox ports (used as OvsDpdkPort/DpdkBond)

Change-Id: I03d709f59e9550409f42747c4593cd85dd1380c9
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/38/813838/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,73d621396a32f76f593faef9d8842dbb5615ffaf,mlnx_dpdk_nm_fix," MLNX_VENDOR_ID = ""0x15b3"" vendor_id = utils.get_vendor_id(ifname) """"""Add an extra ifcfg entry for mellanox NICs, for the interface which is a member of ovs_dpdk_port with NM and DHCP disabled """""" if vendor_id == MLNX_VENDOR_ID: self.nm_controlled = False self.use_dhcp = False dpdk_if_name = objects.Interface(ifname) self.add_interface(dpdk_if_name) ",,62,0
openstack%2Ftripleo-heat-templates~master~Iaefd5b91ef4e24897c57b0113b551295f443dca3,openstack/tripleo-heat-templates,master,Iaefd5b91ef4e24897c57b0113b551295f443dca3,Add note indicating only Controllers use network VIPs,MERGED,2021-05-11 22:10:52.000000000,2021-11-11 05:31:26.000000000,2021-11-11 05:31:26.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 22:10:52.000000000', 'files': ['network_data_routed.yaml', 'network_data.yaml', 'network_data_ganesha.yaml', 'network_data_dashboard.yaml', 'network_data_subnets_routed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e5472337038c76b3fe34a21b082cf23df34f7de', 'message': 'Add note indicating only Controllers use network VIPs\n\nNetworks defined in the network_data YAML files should only set\nvip: true on networks that are attached to the roles hosting\nhigh-availability endpoints (Controller by default). Only these\nroles are wired to take advantage of the virtual IPs.\n\nChange-Id: Iaefd5b91ef4e24897c57b0113b551295f443dca3\nCloses-bug: 1928142\n'}]",1,790833,5e5472337038c76b3fe34a21b082cf23df34f7de,14,5,1,12398,,,0,"Add note indicating only Controllers use network VIPs

Networks defined in the network_data YAML files should only set
vip: true on networks that are attached to the roles hosting
high-availability endpoints (Controller by default). Only these
roles are wired to take advantage of the virtual IPs.

Change-Id: Iaefd5b91ef4e24897c57b0113b551295f443dca3
Closes-bug: 1928142
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/790833/1 && git format-patch -1 --stdout FETCH_HEAD,"['network_data_routed.yaml', 'network_data.yaml', 'network_data_ganesha.yaml', 'network_data_dashboard.yaml', 'network_data_subnets_routed.yaml']",5,5e5472337038c76b3fe34a21b082cf23df34f7de,bug/1928142,# vip: Enable creation of a virtual IP on this network. Only for networks attached # to the roles running high-availability clustering (Controller by default).,# vip: Enable creation of a virtual IP on this network,10,5
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~Ic0144db231864197cb92d1c911efd8c37a40c317,openstack/openstack-ansible-os_tempest,stable/ussuri,Ic0144db231864197cb92d1c911efd8c37a40c317,Revert Set CentOS 7 jobs non-voting,MERGED,2021-11-04 11:54:41.000000000,2021-11-11 04:52:13.000000000,2021-11-11 04:48:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-04 11:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/86299ce1184f74e2695491ebc4e5a01e95405442', 'message': 'Revert Set CentOS 7 jobs non-voting\n\nChange-Id: Ic0144db231864197cb92d1c911efd8c37a40c317\n'}, {'number': 2, 'created': '2021-11-04 11:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/092a67086f0ea8c2e6169817db727faeafcce1bb', 'message': 'Revert Set CentOS 7 jobs non-voting\n\nChange-Id: Ic0144db231864197cb92d1c911efd8c37a40c317\n'}, {'number': 3, 'created': '2021-11-05 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/fa7ee733139c502ec08593c773bf6d011950e702', 'message': 'Revert Set CentOS 7 jobs non-voting\n\nChange-Id: Ic0144db231864197cb92d1c911efd8c37a40c317\n'}, {'number': 4, 'created': '2021-11-05 14:10:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f67ff8ec4e92bdfe8e36edfa5a60f68bbda2fe73', 'message': 'Revert Set CentOS 7 jobs non-voting\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/815632/4\nChange-Id: Ic0144db231864197cb92d1c911efd8c37a40c317\n'}]",1,816675,f67ff8ec4e92bdfe8e36edfa5a60f68bbda2fe73,16,3,4,28619,,,0,"Revert Set CentOS 7 jobs non-voting

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/815632/4
Change-Id: Ic0144db231864197cb92d1c911efd8c37a40c317
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/75/816675/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,86299ce1184f74e2695491ebc4e5a01e95405442,816675, - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7 - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7, - openstack-ansible-deploy-aio_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7: voting: false - openstack-ansible-deploy-aio_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-7: voting: false - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-7: voting: false,2,12
openstack%2Ftacker-specs~master~I04e0e0a332edc2f8408431748bb2c5fbffa48229,openstack/tacker-specs,master,I04e0e0a332edc2f8408431748bb2c5fbffa48229,Delete placeholder in xena,MERGED,2021-11-10 01:12:45.000000000,2021-11-11 04:48:20.000000000,2021-11-11 04:46:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-11-10 01:12:45.000000000', 'files': ['specs/xena/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0aedec4a6b7fdc4cd2eabed7f3dd577fd83f0045', 'message': 'Delete placeholder in xena\n\nThis patch deletes placeholder.rst left in xena directory.\n\nChange-Id: I04e0e0a332edc2f8408431748bb2c5fbffa48229\n'}]",1,817320,0aedec4a6b7fdc4cd2eabed7f3dd577fd83f0045,9,4,1,17255,,,0,"Delete placeholder in xena

This patch deletes placeholder.rst left in xena directory.

Change-Id: I04e0e0a332edc2f8408431748bb2c5fbffa48229
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/20/817320/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/placeholder.rst'],1,0aedec4a6b7fdc4cd2eabed7f3dd577fd83f0045,rm-placeholder,,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== (Placeholder Spec) ================== This file is just a placeholder for the specs directory. It will be removed soon after some spec is merged. The latest spec template is found at ``specs/template.rst`` in the ``tacker-specs`` repository. Problem description =================== Sphinx toctree complains if no file exists in a directory specified in toctree glob. Use Cases --------- None Proposed change =============== Add this file. Please remove later when the another spec is approved. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- None Work Items ---------- None Dependencies ============ None Testing ======= None Documentation Impact ==================== None References ========== None History ======= None ,0,124
openstack%2Fcinder~stable%2Fvictoria~I8287460b902dd525aa5313861142f5fb8490e60a,openstack/cinder,stable/victoria,I8287460b902dd525aa5313861142f5fb8490e60a,RBD: Open RBD images read-only where possible,MERGED,2021-11-09 21:11:58.000000000,2021-11-11 04:09:11.000000000,2021-11-10 22:58:06.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-09 21:11:58.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5379af08f0a821f6d4cf1571e83680d55e5c17b8', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nCloses-Bug: #1947518\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n(cherry picked from commit e644e3584b040823f3b3d9d73730b861a3ec413f)\n(cherry picked from commit 5b169aeea76baecf0b6795efd09dfb1c58ff20d9)\n(cherry picked from commit f2fe6cc115da08670e7aab39fc21b354ce55d3cd)\n""}]",4,817261,5379af08f0a821f6d4cf1571e83680d55e5c17b8,38,4,1,20813,,,0,"RBD: Open RBD images read-only where possible

In cases where we don't need to modify the image,
open rbd images in read-only mode.

Closes-Bug: #1947518
Change-Id: I8287460b902dd525aa5313861142f5fb8490e60a
(cherry picked from commit e644e3584b040823f3b3d9d73730b861a3ec413f)
(cherry picked from commit 5b169aeea76baecf0b6795efd09dfb1c58ff20d9)
(cherry picked from commit f2fe6cc115da08670e7aab39fc21b354ce55d3cd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/817261/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml']",2,5379af08f0a821f6d4cf1571e83680d55e5c17b8,,--- fixes: - | RBD driver `bug #1947518 <https://bugs.launchpad.net/cinder/+bug/1947518>`_: Corrected a regression caused by the fix for `Bug #1931004 <https://bugs.launchpad.net/cinder/+bug/1931004>`_ that was attempting to access the glance images RBD pool with write privileges when creating a volume from an image. ,,19,5
openstack%2Frequirements~master~Icaab6a881ed68f88f996fc704e8c2557b15dc72d,openstack/requirements,master,Icaab6a881ed68f88f996fc704e8c2557b15dc72d,Updated from generate-constraints,ABANDONED,2021-11-11 02:45:01.000000000,2021-11-11 03:35:53.000000000,,[],"[{'number': 1, 'created': '2021-11-11 02:45:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ef08ba66b6105f474f64bb02565031348dcb71c9', 'message': 'Updated from generate-constraints\n\nChange-Id: Icaab6a881ed68f88f996fc704e8c2557b15dc72d\n'}]",0,817512,ef08ba66b6105f474f64bb02565031348dcb71c9,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Icaab6a881ed68f88f996fc704e8c2557b15dc72d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/817512/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ef08ba66b6105f474f64bb02565031348dcb71c9,openstack/requirements/constraints,backports.entry-points-selectable===1.1.1XStatic-Angular===1.8.2.1types-paramiko===2.7.4doc8===0.10.1imagesize===1.3.0pkg_resources===0.0.0Jinja2===3.0.3google-api-python-client===2.30.0coverage===6.1.2importlib-metadata===4.8.2boto3===1.20.3elementpath===2.4.0more-itertools===8.11.0Sphinx===4.3.0botocore===1.23.3Django===3.2.9oslo.policy===3.10.0diskimage-builder===3.15.1fasteners===0.16.3,backports.entry-points-selectable===1.1.0XStatic-Angular===1.5.8.0types-paramiko===2.7.3doc8===0.9.1imagesize===1.2.0Jinja2===3.0.2google-api-python-client===2.29.0coverage===6.1.1importlib-metadata===4.8.1boto3===1.19.12elementpath===2.3.2more-itertools===8.10.0Sphinx===4.2.0botocore===1.22.12Django===2.2.24oslo.policy===3.9.0diskimage-builder===3.15.0fasteners===0.14.1setuptools===58.5.3,19,19
openstack%2Fneutron~stable%2Fwallaby~Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d,openstack/neutron,stable/wallaby,Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d,[stable only][ovn]Update get datapath id to network from Port_Binding,MERGED,2021-10-11 05:49:52.000000000,2021-11-11 03:06:28.000000000,2021-11-11 03:02:47.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 28056}]","[{'number': 1, 'created': '2021-10-11 05:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d95af7c36d98bcb5b92994b1998f1fce596566a5', 'message': ""[ovn]Update get datapath id to network from Port_Binding\n\nThe value about neutron-metadata-proxy-networks of Chassis's\n external_ids are network_id, and the datapath field of\n Port_Binding table is the uuid of Datapath_Binding tables.\nWhen call function set_port_status_up after boot server instance,\n it check datapath in neutron-metadata-proxy-networks of\n Chassis's external_ids, the datapath id is not match with\n network id, so change get datapath id from Port_Binding\n to get network id.\n\nCloses-Bug: #1946588\nChange-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d\n""}, {'number': 2, 'created': '2021-10-11 11:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c27489df6f4deb899bb6b56610872660e94e9d0', 'message': ""[ovn]Update get datapath id to network from Port_Binding\n\nThe value about neutron-metadata-proxy-networks of Chassis's\n external_ids are network_id, and the datapath field of\n Port_Binding table is the uuid of Datapath_Binding tables.\nWhen call function set_port_status_up after boot server instance,\n it check datapath in neutron-metadata-proxy-networks of\n Chassis's external_ids, the datapath id is not match with\n network id, so change get datapath id from Port_Binding\n to get network id.\n\nCloses-Bug: #1946588\nChange-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d\n""}, {'number': 3, 'created': '2021-10-12 01:44:01.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5ea47b09507e7bd620ba3bcd1af771238d79d6d', 'message': ""[stable only][ovn]Update get datapath id to network from Port_Binding\n\nThe value about neutron-metadata-proxy-networks of Chassis's\n external_ids are network_id, and the datapath field of\n Port_Binding table is the uuid of Datapath_Binding tables.\nWhen call function set_port_status_up after boot server instance,\n it check datapath in neutron-metadata-proxy-networks of\n Chassis's external_ids, the datapath id is not match with\n network id, so change get datapath id from Port_Binding\n to get network id.\nSince [1], this is not needed in Xena.\n[1]https://review.opendev.org/c/openstack/neutron/+/791997\n\nCloses-Bug: #1946588\nChange-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d\n""}]",12,813376,f5ea47b09507e7bd620ba3bcd1af771238d79d6d,49,6,3,34125,,,0,"[stable only][ovn]Update get datapath id to network from Port_Binding

The value about neutron-metadata-proxy-networks of Chassis's
 external_ids are network_id, and the datapath field of
 Port_Binding table is the uuid of Datapath_Binding tables.
When call function set_port_status_up after boot server instance,
 it check datapath in neutron-metadata-proxy-networks of
 Chassis's external_ids, the datapath id is not match with
 network id, so change get datapath id from Port_Binding
 to get network id.
Since [1], this is not needed in Xena.
[1]https://review.opendev.org/c/openstack/neutron/+/791997

Closes-Bug: #1946588
Change-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/813376/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",2,d95af7c36d98bcb5b92994b1998f1fce596566a5,bug/1946588," (chassis.name, utils.get_network_name_from_datapath( binding.datapath)),"," (chassis.name, str(binding.datapath.uuid)),",5,3
openstack%2Fpuppet-nova~stable%2Fwallaby~I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,openstack/puppet-nova,stable/wallaby,I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,Use service anchor to ensure API is up,MERGED,2021-11-09 00:00:58.000000000,2021-11-11 02:55:47.000000000,2021-11-11 02:55:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 00:00:58.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a812cf96612a168b62462c3cecb9d2e3edf04f5f', 'message': 'Use service anchor to ensure API is up\n\n... instead of the individual service resource which can be named\ndifferently according to service_name.\n\nCloses-Bug: #1949658\nChange-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097\n(cherry picked from commit f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b)\n(cherry picked from commit 3fc355a18b698948034f08e76dcd07c904b62810)\n'}]",1,817098,a812cf96612a168b62462c3cecb9d2e3edf04f5f,11,3,1,9816,,,0,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097
(cherry picked from commit f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b)
(cherry picked from commit 3fc355a18b698948034f08e76dcd07c904b62810)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/98/817098/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp']",2,a812cf96612a168b62462c3cecb9d2e3edf04f5f,bug/1949658-stable/xena-stable/wallaby," create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Anchor[nova::service::end]'})"," create_resources('openstacklib::service_validation', $validation_options_hash, {'subscribe' => 'Service[nova-api]'})",3,3
openstack%2Fneutron~stable%2Ftrain~Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d,openstack/neutron,stable/train,Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d,Remove dhcp_extra_opt name after first newline character,MERGED,2021-09-24 10:32:31.000000000,2021-11-11 02:37:48.000000000,2021-11-11 02:29:57.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 10:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce6002e4c46567945c0a1fde907af4e9d40d3a2a', 'message': ""Remove dhcp_extra_opt name after first newline character\n\nPassing newline as extra dhcp option name to the DHCP agent causes\nissues with configuration of the dnsmasq process for the network.\nThis patch removes everything what is after first newline character\nin the dhcp_extra_opt's name before building dnsmasq's config.\n\nCloses-bug: #1943930\nChange-Id: Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d\n(cherry picked from commit 5abd1fb61018e497b369712a0952bb1a18022142)\n""}, {'number': 2, 'created': '2021-10-26 15:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a08e95cd5a70a2b7264cb15ca91eac78aa11d420', 'message': ""Remove dhcp_extra_opt name after first newline character\n\nPassing newline as extra dhcp option name to the DHCP agent causes\nissues with configuration of the dnsmasq process for the network.\nThis patch removes everything what is after first newline character\nin the dhcp_extra_opt's name before building dnsmasq's config.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518\nCloses-bug: #1943930\nChange-Id: Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d\n(cherry picked from commit 5abd1fb61018e497b369712a0952bb1a18022142)\n""}, {'number': 3, 'created': '2021-11-10 14:40:46.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07d594434015686e094599e6a0f2038e82a2fe34', 'message': ""Remove dhcp_extra_opt name after first newline character\n\nPassing newline as extra dhcp option name to the DHCP agent causes\nissues with configuration of the dnsmasq process for the network.\nThis patch removes everything what is after first newline character\nin the dhcp_extra_opt's name before building dnsmasq's config.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518\nCloses-bug: #1943930\nChange-Id: Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d\n(cherry picked from commit 5abd1fb61018e497b369712a0952bb1a18022142)\n""}]",10,810878,07d594434015686e094599e6a0f2038e82a2fe34,38,3,3,11975,,,0,"Remove dhcp_extra_opt name after first newline character

Passing newline as extra dhcp option name to the DHCP agent causes
issues with configuration of the dnsmasq process for the network.
This patch removes everything what is after first newline character
in the dhcp_extra_opt's name before building dnsmasq's config.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/815518
Closes-bug: #1943930
Change-Id: Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d
(cherry picked from commit 5abd1fb61018e497b369712a0952bb1a18022142)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/810878/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,ce6002e4c46567945c0a1fde907af4e9d40d3a2a,bug/1943930-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," option = option.split(""\n"", 1)[0]",,2,1
openstack%2Fneutron~stable%2Fvictoria~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,stable/victoria,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-11-04 14:31:03.000000000,2021-11-11 02:37:25.000000000,2021-11-11 02:30:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 14:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f062a9d7314f601493ff64ebcccc5a9c5263e64', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}, {'number': 2, 'created': '2021-11-10 20:26:01.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/40f2ec340c94988b8fc7c2e5e4128cfe5ae9cbdb', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}]",1,816660,40f2ec340c94988b8fc7c2e5e4128cfe5ae9cbdb,13,3,2,11975,,,0,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/816660/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",4,9f062a9d7314f601493ff64ebcccc5a9c5263e64,bug/1933273-stable/xena-stable/wallaby-stable/victoria," def _set_snat_interfce_mtu(self, port): def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if port: self._set_snat_interfce_mtu(port) "," def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if not port: return",35,9
openstack%2Fpuppet-zaqar~master~I29b7a7e16ea1f8a2b5a80bb44cdd8e902a3b3350,openstack/puppet-zaqar,master,I29b7a7e16ea1f8a2b5a80bb44cdd8e902a3b3350,Add support for Redis management store driver,MERGED,2021-11-09 11:26:15.000000000,2021-11-11 02:24:02.000000000,2021-11-11 02:16:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 11:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/29a1e2faa33e88f9982c4c970edda44b2cd5ff08', 'message': 'Add support for Redis management store driver\n\nChange-Id: I29b7a7e16ea1f8a2b5a80bb44cdd8e902a3b3350\n'}, {'number': 2, 'created': '2021-11-09 13:24:41.000000000', 'files': ['spec/classes/zaqar_management_redis_spec.rb', 'manifests/management/redis.pp', 'releasenotes/notes/redis-management-store-a06031ff32e5cd12.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/484d14fb2c8b5b8d7072c6daefe7c3c2a1d6efad', 'message': 'Add support for Redis management store driver\n\nChange-Id: I29b7a7e16ea1f8a2b5a80bb44cdd8e902a3b3350\n'}]",1,817191,484d14fb2c8b5b8d7072c6daefe7c3c2a1d6efad,14,3,2,9816,,,0,"Add support for Redis management store driver

Change-Id: I29b7a7e16ea1f8a2b5a80bb44cdd8e902a3b3350
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/91/817191/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_management_redis_spec.rb', 'manifests/management/redis.pp', 'releasenotes/notes/redis-management-store-a06031ff32e5cd12.yaml']",3,29a1e2faa33e88f9982c4c970edda44b2cd5ff08,redis-mgmt-store,--- features: - | The new ``zaqar::management::redis`` class has been added. This class can be used to manage parameters to use the redis management store driver. ,,97,0
openstack%2Fneutron~stable%2Fwallaby~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,stable/wallaby,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-11-04 14:30:47.000000000,2021-11-11 02:21:48.000000000,2021-11-11 02:12:45.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-04 14:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17924491afda9ba5604c1dde94ce134f41c44c83', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}, {'number': 2, 'created': '2021-11-10 20:30:49.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ad894e032b345ed62da03fe197bb4bbd265a038', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}]",4,816659,3ad894e032b345ed62da03fe197bb4bbd265a038,28,5,2,11975,,,0,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/816659/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",4,17924491afda9ba5604c1dde94ce134f41c44c83,bug/1933273-stable/xena-stable/wallaby," def _set_snat_interfce_mtu(self, port): def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if port: self._set_snat_interfce_mtu(port) "," def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if not port: return",35,9
openstack%2Fskyline-apiserver~master~I61b3079ab88e78a53b8b2afa6c09463138cb3bbc,openstack/skyline-apiserver,master,I61b3079ab88e78a53b8b2afa6c09463138cb3bbc,feat: Improve the enum value for port device owner,MERGED,2021-11-05 08:44:53.000000000,2021-11-11 02:06:01.000000000,2021-11-11 02:06:01.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-11-05 08:44:53.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/schemas/extension.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2fa6e6bd39b643a1b868068a11b3cbd501a2645e', 'message': 'feat: Improve the enum value for port device owner\n\nImprove the enum value for port device owner.\nRefer: https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/constants.py#L43-L73\n\nChange-Id: I61b3079ab88e78a53b8b2afa6c09463138cb3bbc\n'}]",0,816793,2fa6e6bd39b643a1b868068a11b3cbd501a2645e,6,4,1,28706,,,0,"feat: Improve the enum value for port device owner

Improve the enum value for port device owner.
Refer: https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/constants.py#L43-L73

Change-Id: I61b3079ab88e78a53b8b2afa6c09463138cb3bbc
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/93/816793/1 && git format-patch -1 --stdout FETCH_HEAD,['libs/skyline-apiserver/skyline_apiserver/schemas/extension.py'],1,2fa6e6bd39b643a1b868068a11b3cbd501a2645e,," # prefix compute # prefix network network_router_interface = ""network:router_interface"" network_router_gateway = ""network:router_gateway"" network_floatingip = ""network:floatingip"" network_local_ip = ""network:local_ip"" network_dhcp = ""network:dhcp"" network_router_interface_distributed = ""network:router_interface_distributed"" network_floatingip_agent_gateway = ""network:floatingip_agent_gateway"" network_router_centralized_snat = ""network:router_centralized_snat"" network_routed = ""network:routed"" network_distributed = ""network:distributed"""," network_dhcp = ""network:dhcp"" network_floatingip = ""network:floatingip"" network_router_gateway = ""network:router_gateway""",12,3
openstack%2Ftripleo-quickstart-extras~master~I09c32ef99006d1475beb186c01f863b15731dc77,openstack/tripleo-quickstart-extras,master,I09c32ef99006d1475beb186c01f863b15731dc77,DNM Adding fetch_validations role to the validations.yml playbook,ABANDONED,2021-11-10 07:30:55.000000000,2021-11-11 01:52:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-10 07:30:55.000000000', 'files': ['playbooks/validations.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dc3e1724c9663674c2b2532c6080d6b74af2311f', 'message': 'DNM Adding fetch_validations role to the validations.yml playbook\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09c32ef99006d1475beb186c01f863b15731dc77\n'}]",0,817349,dc3e1724c9663674c2b2532c6080d6b74af2311f,7,2,1,32926,,,0,"DNM Adding fetch_validations role to the validations.yml playbook

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09c32ef99006d1475beb186c01f863b15731dc77
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/49/817349/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/validations.yml'],1,dc3e1724c9663674c2b2532c6080d6b74af2311f,include/fetch-val-logs, - include_role: name: fetch_validations when: - job.enable_validation|default(false)|bool,,4,0
openstack%2Ftripleo-heat-templates~master~I0b199e47cce9dc72490110105f6a4ff94f90934d,openstack/tripleo-heat-templates,master,I0b199e47cce9dc72490110105f6a4ff94f90934d,Add rgw max attributes constraints,MERGED,2021-11-10 12:26:52.000000000,2021-11-11 01:37:12.000000000,2021-11-11 01:37:12.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-11-10 12:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6da2d3656d3a9bc6d590ccfc33b2def92743e043', 'message': 'Add rgw max attributes constraints\n\nWhen the swift /info endpoint is queried, Tempest fails checking the\nfollowing missing keys:\n\n1. max_meta_count\n2. max_meta_name_length\n3. max_meta_value_length\n\nThose keys are not present because the related rgw settings are missing,\nand as per [1], nothing is generated if the rgw_max_* are not set.\nThis patch is a workaround, on the TripleO side, to provide the missing\nkeys to the cluster.\n\n[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900\n\nChange-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d\n'}, {'number': 2, 'created': '2021-11-10 15:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/befe4b8075d327419d3c3a7f8fcc184d5e3ffa69', 'message': 'Add rgw max attributes constraints\n\nWhen the swift /info endpoint is queried, Tempest fails checking the\nfollowing missing keys:\n\n1. max_meta_count\n2. max_meta_name_length\n3. max_meta_value_length\n\nThose keys are not present because the related rgw settings are missing,\nand as per [1], nothing is generated if the rgw_max_* are not set.\nThis patch is a workaround, on the TripleO side, to provide the missing\nkeys to the cluster.\n\n[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900\n\nChange-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d\n'}, {'number': 3, 'created': '2021-11-10 16:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec2f552859298d7a325be9d0c173c87b57f05508', 'message': 'Add rgw max attributes constraints\n\nWhen the swift /info endpoint is queried, Tempest fails checking the\nfollowing missing keys:\n\n1. max_meta_count\n2. max_meta_name_length\n3. max_meta_value_length\n\nThose keys are not present because the related rgw settings are missing,\nand as per [1], nothing is generated if the rgw_max_* are not set.\nThis patch is a workaround, on the TripleO side, to provide the missing\nkeys to the cluster.\n\n[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900\n\nChange-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d\n'}, {'number': 4, 'created': '2021-11-10 16:10:30.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/632afe18c061061fb1f69d8fe522bfdcc2724d4d', 'message': 'Add rgw max attributes constraints\n\nWhen the swift /info endpoint is queried, Tempest fails checking the\nfollowing missing keys:\n\n1. max_meta_count\n2. max_meta_name_length\n3. max_meta_value_length\n\nThose keys are not present because the related rgw settings are missing,\nand as per [1], nothing is generated if the rgw_max_* are not set.\nThis patch is a workaround, on the TripleO side, to provide the missing\nkeys to the cluster.\n\n[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900\n\nCloses-Bug: #1950486\nChange-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d\n'}]",12,817395,632afe18c061061fb1f69d8fe522bfdcc2724d4d,24,5,4,25402,,,0,"Add rgw max attributes constraints

When the swift /info endpoint is queried, Tempest fails checking the
following missing keys:

1. max_meta_count
2. max_meta_name_length
3. max_meta_value_length

Those keys are not present because the related rgw settings are missing,
and as per [1], nothing is generated if the rgw_max_* are not set.
This patch is a workaround, on the TripleO side, to provide the missing
keys to the cluster.

[1] https://github.com/ceph/ceph/blob/master/src/rgw/rgw_rest_swift.cc#L1883-L1900

Closes-Bug: #1950486
Change-Id: I0b199e47cce9dc72490110105f6a4ff94f90934d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/817395/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-rgw.yaml'],1,6da2d3656d3a9bc6d590ccfc33b2def92743e043,rgw_max_settings, rgw_max_attr_name_len: 64 rgw_max_attrs_num_in_req: 32 rgw_max_attr_size: 1024,,3,0
openstack%2Fheat~stable%2Fxena~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/xena,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2021-11-04 01:17:21.000000000,2021-11-11 01:34:21.000000000,2021-11-11 01:32:44.000000000,"[{'_account_id': 8833}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 01:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/552eb1b561f287dbe6806c74d0fa8ab3dfe21e38', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 2, 'created': '2021-11-04 01:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/60b250df3d6177b8bbf32e65f0097b94f87c2bc0', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 3, 'created': '2021-11-04 01:29:53.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/07ebedefb9a6e2cdedb29eef99496b1c0a4203b6', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/816602\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}]",2,816601,07ebedefb9a6e2cdedb29eef99496b1c0a4203b6,20,3,3,7118,,,0,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

Depends-On: https://review.opendev.org/c/openstack/heat/+/816602
Cherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff
Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
",git fetch https://review.opendev.org/openstack/heat refs/changes/01/816601/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,552eb1b561f287dbe6806c74d0fa8ab3dfe21e38,," # NOTE(ianw) OpenDev infra only keeps the latest two Fedora's # around; prefer the mirror but allow fallback HEAT_TEST_FEDORA_IMAGE_UPSTREAM=https://download.fedoraproject.org/pub/fedora/linux HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 if curl --output /dev/null --silent --head --fail ""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then export HEAT_TEST_FEDORA_IMAGE=""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" else export HEAT_TEST_FEDORA_IMAGE=""${HEAT_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" fi", export HEAT_TEST_FEDORA_IMAGE=${NODEPOOL_FEDORA_MIRROR:-https://download.fedoraproject.org/pub/fedora/linux}/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2,10,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I67e6a877f551de3dd620ce1257968b6b3affbb98,openstack/tripleo-ansible,stable/wallaby,I67e6a877f551de3dd620ce1257968b6b3affbb98,Correct how we fetch certificate for cephadm/rgw,MERGED,2021-11-06 09:39:34.000000000,2021-11-11 01:12:00.000000000,2021-11-11 01:12:00.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-06 09:39:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a93f4984ab451f096702dcc02e08e6ead71d7b1e', 'message': ""Correct how we fetch certificate for cephadm/rgw\n\nlookup is a local thing, so it's trying to get the certificate from the\nundercloud instead of the remote node.\n\nChange-Id: I67e6a877f551de3dd620ce1257968b6b3affbb98\n(cherry picked from commit 88de955d0d20d2a39bbaaf010eed9ee3418f49e8)\n""}]",2,816880,a93f4984ab451f096702dcc02e08e6ead71d7b1e,10,6,1,25402,,,0,"Correct how we fetch certificate for cephadm/rgw

lookup is a local thing, so it's trying to get the certificate from the
undercloud instead of the remote node.

Change-Id: I67e6a877f551de3dd620ce1257968b6b3affbb98
(cherry picked from commit 88de955d0d20d2a39bbaaf010eed9ee3418f49e8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/816880/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml'],1,a93f4984ab451f096702dcc02e08e6ead71d7b1e,cephadm/slurp-cert-stable/wallaby," - name: Get certificate from remote node if needed become: true when: - tripleo_cephadm_internal_tls_enabled | bool register: slurp_cert ansible.builtin.slurp: src: ""{{ radosgw_frontend_ssl_certificate | default('/etc/pki/tls/certs/ceph_rgw.crt')}}"" rgw_frontend_cert: ""{{ slurp_cert.get('content', '') | b64decode }}"""," rgw_frontend_cert: |- {% set fcert_lookup = '' %} {% if tripleo_cephadm_internal_tls_enabled | bool %} {% set fcert_lookup = lookup('file', radosgw_frontend_ssl_certificate) %} {% endif %} {{ fcert_lookup }}",9,6
openstack%2Ftacker~master~I280141fe6c66b56c8bb7cbbe446ddd61722d5785,openstack/tacker,master,I280141fe6c66b56c8bb7cbbe446ddd61722d5785,[DNM] Test if Fenix errors in CI have been fixed,ABANDONED,2021-11-08 10:01:04.000000000,2021-11-11 01:02:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 10:01:04.000000000', 'files': ['dummy-file-for-ci-test'], 'web_link': 'https://opendev.org/openstack/tacker/commit/527bca506bf61b3155c924157cfea58d5976acab', 'message': '[DNM] Test if Fenix errors in CI have been fixed\n\nDepends-On: https://review.opendev.org/c/x/fenix/+/816974\nChange-Id: I280141fe6c66b56c8bb7cbbe446ddd61722d5785\n'}]",2,816977,527bca506bf61b3155c924157cfea58d5976acab,6,1,1,31857,,,0,"[DNM] Test if Fenix errors in CI have been fixed

Depends-On: https://review.opendev.org/c/x/fenix/+/816974
Change-Id: I280141fe6c66b56c8bb7cbbe446ddd61722d5785
",git fetch https://review.opendev.org/openstack/tacker refs/changes/77/816977/1 && git format-patch -1 --stdout FETCH_HEAD,['dummy-file-for-ci-test'],1,527bca506bf61b3155c924157cfea58d5976acab,ci-devstack,,,0,0
openstack%2Fopenstack-ansible-os_gnocchi~master~I18a0ca9e32515194fbcf939bed53cdbef4de26f6,openstack/openstack-ansible-os_gnocchi,master,I18a0ca9e32515194fbcf939bed53cdbef4de26f6,Fix gnocchi multi-node when storage_driver is file,MERGED,2021-11-10 16:46:02.000000000,2021-11-11 00:07:30.000000000,2021-11-11 00:06:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-10 16:46:02.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/b9d2f805e3658bdbb387ac810003c5f1e70e96df', 'message': 'Fix gnocchi multi-node when storage_driver is file\n\nWhen gnocchi_storage_driver is file, run the db sync on all nodes.\nBut if gnocchi_storage_driver is other than file, run only on first node.\n\nCloses-Bug: #1915618\nChange-Id: I18a0ca9e32515194fbcf939bed53cdbef4de26f6\n'}]",1,817457,b9d2f805e3658bdbb387ac810003c5f1e70e96df,8,3,1,18279,,,0,"Fix gnocchi multi-node when storage_driver is file

When gnocchi_storage_driver is file, run the db sync on all nodes.
But if gnocchi_storage_driver is other than file, run only on first node.

Closes-Bug: #1915618
Change-Id: I18a0ca9e32515194fbcf939bed53cdbef4de26f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/57/817457/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,b9d2f805e3658bdbb387ac810003c5f1e70e96df,," - (gnocchi_storage_driver == 'file') | ternary(True, _gnocchi_is_first_play_host)", - _gnocchi_is_first_play_host,1,1
openstack%2Fgovernance~master~I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2,openstack/governance,master,I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2,Propose changes to the stable core team,MERGED,2021-09-23 15:46:08.000000000,2021-11-10 23:56:12.000000000,2021-11-10 23:54:44.000000000,"[{'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-23 15:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c50d5b137b02810927d8b3e022148614bef38096', 'message': 'wip: stable core team\n\nChange-Id: I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2\n'}, {'number': 2, 'created': '2021-10-01 20:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d63be604f4f05630560dfffa609fd2fd38e692da', 'message': 'wip: stable core team\n\nChange-Id: I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2\n'}, {'number': 3, 'created': '2021-10-07 13:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/26e6f2a33a4941573ca5cef9123e10c86a912d49', 'message': 'Propose changes to the stable core team\n\nThis resolution is proposing that we rename the\nExtended Maintenance SIG to the Stable Maintenance\nSIG and empower project teams to further manage\ntheir stable core team and policies.\n\nChange-Id: I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2\n'}, {'number': 4, 'created': '2021-10-07 13:37:16.000000000', 'files': ['resolutions/20210923-stable-core-team.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/c688a93ae7a1763007f1132008f4bb0ed96c6167', 'message': 'Propose changes to the stable core team\n\nThis resolution is proposing that we rename the\nExtended Maintenance SIG to the Stable Maintenance\nSIG and empower project teams to further manage\ntheir stable core team and policies.\n\nChange-Id: I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2\n'}]",25,810721,c688a93ae7a1763007f1132008f4bb0ed96c6167,31,8,4,1004,,,0,"Propose changes to the stable core team

This resolution is proposing that we rename the
Extended Maintenance SIG to the Stable Maintenance
SIG and empower project teams to further manage
their stable core team and policies.

Change-Id: I2e5dbc5132ec70ac2ffe6e088ba2f77db8f944c2
",git fetch https://review.opendev.org/openstack/governance refs/changes/21/810721/2 && git format-patch -1 --stdout FETCH_HEAD,['resolutions/20210923-stable-core-team.rst'],1,c50d5b137b02810927d8b3e022148614bef38096,formal-vote,"====================================== 2021-09-23 Stable Core Team Process ====================================== During the past Shanghai PTG, the TC discussed the Stable Core team process, there were some concerns which include: * Projects can't get things done because of the stable policy * The stable core team is overworked as it is. * The OpenStack community isn't getting enough stable reviewers on teams. The idea of removing or changing the stable policy was raised since most consumers of OpenStack assume that releases will be stable and the stable tag is barely used anymore. Also, a much more conservative group of people are working on OpenStack; hence, they have experience and are less likely to break things now. Recently, during the TC Xena PTG, this issue was brought up again because the Stable Maintenance Core Team is not as active as it used to be, so we are wondering if we still need a Stable Maintenance Core Team or if it should become more of an advisory team. Current Challenges ------------------ * A few of the team members still pop in and out. * We still have Stable Core members in each project. * There may be some teams that don't have any stable core team members. Proposed Solution ----------------- To create a stable SIG or advisory group. A group of people with experience, that teams can reach out to ask questions when needed. TBC?",,35,0
openstack%2Fpuppet-pacemaker~master~Ie0f549ba968f4f11b30705cc9c80856186dfccda,openstack/puppet-pacemaker,master,Ie0f549ba968f4f11b30705cc9c80856186dfccda,Fix idempotency regex during scale-up check,MERGED,2021-11-09 10:29:45.000000000,2021-11-10 23:30:07.000000000,2021-11-10 23:30:07.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 10:29:45.000000000', 'files': ['manifests/corosync.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/e3df586ef75605cf3a047591921fcbfd94419ec8', 'message': ""Fix idempotency regex during scale-up check\n\nWhen a new node must be added in the cluster, an Exec resource\ncalls pcs, only if the node is not already present in the cluster.\nThe current regex doesn't match pcs' output because of a\nunecessary beg-of-line marker, so fix it accordingly.\n\nChange-Id: Ie0f549ba968f4f11b30705cc9c80856186dfccda\nCloses-Bug: #1950294\n""}]",0,817184,e3df586ef75605cf3a047591921fcbfd94419ec8,7,3,1,20778,,,0,"Fix idempotency regex during scale-up check

When a new node must be added in the cluster, an Exec resource
calls pcs, only if the node is not already present in the cluster.
The current regex doesn't match pcs' output because of a
unecessary beg-of-line marker, so fix it accordingly.

Change-Id: Ie0f549ba968f4f11b30705cc9c80856186dfccda
Closes-Bug: #1950294
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/84/817184/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/corosync.pp'],1,e3df586ef75605cf3a047591921fcbfd94419ec8,bug/1950294," unless => ""${::pacemaker::pcs_bin} status 2>&1 | grep -we \""Online:.* ${node_name} .*\"""", unless => ""${::pacemaker::pcs_bin} status 2>&1 | grep -we \""Online:.* ${node_name} .*\"""","," unless => ""${::pacemaker::pcs_bin} status 2>&1 | grep -e \""^Online:.* ${node_name} .*\"""", unless => ""${::pacemaker::pcs_bin} status 2>&1 | grep -e \""^Online:.* ${node_name} .*\"""",",2,2
openstack%2Fpuppet-pacemaker~master~If4e2277781711ca96b7ddc2bb8d3115107940a4d,openstack/puppet-pacemaker,master,If4e2277781711ca96b7ddc2bb8d3115107940a4d,Replace the deprecated is_ipv6_address function,MERGED,2021-10-13 11:34:04.000000000,2021-11-10 23:30:05.000000000,2021-11-10 23:30:05.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 11:34:04.000000000', 'files': ['manifests/resource/ip.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c08236d8c70fd8ff5030727749e3b807e2f42dff', 'message': 'Replace the deprecated is_ipv6_address function\n\nThe is_ipv6_address function in puppetlabs-stdlib is deprecated since\n4.13.0[1] and usage of the function shows the warning message.\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955\n\nChange-Id: If4e2277781711ca96b7ddc2bb8d3115107940a4d\n'}]",0,813799,c08236d8c70fd8ff5030727749e3b807e2f42dff,8,4,1,9816,,,0,"Replace the deprecated is_ipv6_address function

The is_ipv6_address function in puppetlabs-stdlib is deprecated since
4.13.0[1] and usage of the function shows the warning message.

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/6d185bdaa19f698270a0df4b0a0c05618864b955

Change-Id: If4e2277781711ca96b7ddc2bb8d3115107940a4d
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/99/813799/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/resource/ip.pp'],1,c08236d8c70fd8ff5030727749e3b807e2f42dff,,) { if !($ip_address =~ Stdlib::Compat::Ipv6) and $ipv6_addrlabel != '' {, ) { if !is_ipv6_address($ip_address) and $ipv6_addrlabel != '' {,2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id138cedba7d27c645e4b42992b6cdb34c1233143,openstack/tripleo-heat-templates,stable/train,Id138cedba7d27c645e4b42992b6cdb34c1233143,[Train-only] Do not stop logrotate during system_upgrade_transfer_data,MERGED,2021-11-08 17:18:24.000000000,2021-11-10 23:30:02.000000000,2021-11-10 23:30:02.000000000,"[{'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-11-08 17:18:24.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5f690783e8d1ddf781f7cea97163014094a432c', 'message': ""[Train-only] Do not stop logrotate during system_upgrade_transfer_data\n\nDo not stop logrotate service during system_upgrade_transfer_data.\nlogrotate containers and services do not interact with database at all.\nHowever, this step makes system_upgrade_transfer_data step to be\ndependant on control plane nodes only and doesn't interact with compute\nnode. This allows to finish control plane fast forward upgrade even when\none compute node is down.\n\nCloses-Bug: rhbz#1996958\n\nChange-Id: Id138cedba7d27c645e4b42992b6cdb34c1233143\n""}]",0,817057,b5f690783e8d1ddf781f7cea97163014094a432c,9,7,1,11090,,,0,"[Train-only] Do not stop logrotate during system_upgrade_transfer_data

Do not stop logrotate service during system_upgrade_transfer_data.
logrotate containers and services do not interact with database at all.
However, this step makes system_upgrade_transfer_data step to be
dependant on control plane nodes only and doesn't interact with compute
node. This allows to finish control plane fast forward upgrade even when
one compute node is down.

Closes-Bug: rhbz#1996958

Change-Id: Id138cedba7d27c645e4b42992b6cdb34c1233143
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/817057/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,b5f690783e8d1ddf781f7cea97163014094a432c,,, - system_upgrade_transfer_data,0,1
openstack%2Fcinder~master~I426bb8cc4a01b64b2551f36fd0004bb03aa53e47,openstack/cinder,master,I426bb8cc4a01b64b2551f36fd0004bb03aa53e47,mypy: filter scheduler,MERGED,2021-04-27 21:46:11.000000000,2021-11-10 23:16:03.000000000,2021-11-08 20:48:59.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-04-27 21:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc6f38a93193862af81b4c87ee8a8f979715d625', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 2, 'created': '2021-04-30 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e8977131125a58982358321641ed6a3971dcdb7', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 3, 'created': '2021-05-10 18:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78aa349e2edd3aac70abfc6c398a626bc9e63013', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 4, 'created': '2021-07-13 13:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0e8a38f7e214e7e482af3e7b66eee6f1c59ede3', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 5, 'created': '2021-08-02 16:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4366984065409704f98672fdc18562918c737e25', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 6, 'created': '2021-08-09 13:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5075b0ed0bc851d711dcbc83c9821419030cdf8d', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 7, 'created': '2021-08-11 19:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/894aefdd741b8170bed2b19cfb64170927a883b6', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 8, 'created': '2021-08-16 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d62cc3456f07a1b3af404ecf0b76b1ca58563317', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 9, 'created': '2021-08-17 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc25f03c89526c9cf11cf65e57e8317d471c2fd5', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 10, 'created': '2021-08-17 19:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb1baab18c2302bbb640ef550a7e2c561b10ec52', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}, {'number': 11, 'created': '2021-11-08 14:44:10.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/weights/stochastic.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/scheduler/scheduler_options.py', 'cinder/scheduler/base_handler.py', 'cinder/scheduler/weights/volume_number.py', 'cinder/scheduler/base_weight.py', 'cinder/scheduler/host_manager.py', 'cinder/scheduler/weights/capacity.py', 'cinder/scheduler/evaluator/evaluator.py', 'cinder/scheduler/base_filter.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5df7daabeead6f99ddae36f0a275135e3338a484', 'message': 'mypy: filter scheduler\n\nChange-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47\n'}]",36,788365,5df7daabeead6f99ddae36f0a275135e3338a484,273,9,11,4523,,,0,"mypy: filter scheduler

Change-Id: I426bb8cc4a01b64b2551f36fd0004bb03aa53e47
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/788365/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/scheduler_options.py', 'cinder/scheduler/weights/capacity.py', 'cinder/scheduler/base_handler.py', 'cinder/scheduler/base_weight.py', 'mypy-files.txt', 'cinder/scheduler/host_manager.py']",7,cc6f38a93193862af81b4c87ee8a8f979715d625,mypy,"import typing from typing import Any, Dict, Optional # noqa: H301 self.capabilities: Optional[ReadOnlyDict] = None self.pools: Optional[dict] = {} self.pools = typing.cast(dict, self.pools) self.capabilities = typing.cast(ReadOnlyDict, self.capabilities) def consume_from_volume(self, volume: 'objects.Volume', update_time: bool = True) -> None: self.pools: Optional[dict] = None self.backend_state_map: Dict[str, Any] = {} weigher_class_names=None) -> list: cap = new_pool.get('capabilities').\ get(attr) # type: ignore"," self.capabilities = None self.pools = {} def consume_from_volume(self, volume, update_time=True): self.pools = None self.backend_state_map = {} weigher_class_names=None): cap = new_pool.get('capabilities').get(attr)",67,36
openstack%2Fopenstack-helm-infra~master~I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12,openstack/openstack-helm-infra,master,I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12,Added Grafana iDRAC dashboard,MERGED,2021-11-09 19:14:45.000000000,2021-11-10 23:02:41.000000000,2021-11-10 23:00:44.000000000,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 27499}, {'_account_id': 30777}, {'_account_id': 33671}]","[{'number': 1, 'created': '2021-11-09 19:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f52d9d643b7f4e500823c552dbda54944b8aa0ef', 'message': 'Added Grafana iDRAC dashboard\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 2, 'created': '2021-11-09 19:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bfc4e8b8eeae19cc3f4abd852b1e8d065127eae3', 'message': 'Added Grafana iDRAC dashboard\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 3, 'created': '2021-11-09 23:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8c651919335bb46e9a0c3a1cf396ccde60591a2', 'message': 'Added Grafana iDRAC dashboard\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 4, 'created': '2021-11-09 23:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e2aab6ee64c82eb13bb8b79dbe60066e0b24396', 'message': 'Added Grafana iDRAC dashboard\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 5, 'created': '2021-11-10 00:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/620ba656840e3a36d235cd210de61bce46bbc9ce', 'message': 'Added Grafana iDRAC dashboard\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 6, 'created': '2021-11-10 01:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee09c2a6734271f0a055e9c96d500a2f5fa8a832', 'message': 'Added Grafana iDRAC dashboard\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 7, 'created': '2021-11-10 16:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2bc06c51237b19df5377073858bc3f73d823c49', 'message': 'Added Grafana iDRAC dashboard\n\nThis patchset also refactor the handling of dashboards yaml\nfiles so that multiple configmaps, grouped by functinality\nwill be created.\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 8, 'created': '2021-11-10 16:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77a69efe8e38f8abc852842af77404f3b1c18519', 'message': 'Added Grafana iDRAC dashboard\n\nThis patchset also refactor the handling of dashboards yaml\nfiles so that multiple configmaps, grouped by functinality\nwill be created.\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 9, 'created': '2021-11-10 18:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f082e8d738ffa2ef90661d77ef56f10b6e4ef83', 'message': 'Added Grafana iDRAC dashboard\n\nThis patchset also refactor the handling of dashboards yaml\nfiles so that multiple configmaps, grouped by functionality\nwill be created.\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}, {'number': 10, 'created': '2021-11-10 21:05:05.000000000', 'files': ['grafana/values_overrides/containers.yaml', 'grafana/templates/configmap-dashboards.yaml', 'grafana/values.yaml', 'grafana/values_overrides/nginx.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/templates/deployment.yaml', 'grafana/values_overrides/ceph.yaml', 'grafana/values_overrides/persistentvolume.yaml', 'grafana/values_overrides/prometheus.yaml', 'grafana/values_overrides/nodes.yaml', 'grafana/values_overrides/calico.yaml', 'grafana/values_overrides/elasticsearch.yaml', 'grafana/values_overrides/coredns.yaml', 'grafana/values_overrides/kubernetes.yaml', 'grafana/Chart.yaml', 'grafana/values_overrides/home_dashboard.yaml', 'grafana/templates/configmap-dashboards-alertmanager.yaml', 'grafana/values_overrides/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92818273e3fed5f944391b284b43934b2e9b6dd4', 'message': 'Added Grafana iDRAC dashboard\n\nThis patchset also refactor the handling of dashboards yaml\nfiles so that multiple configmaps, grouped by functionality\nwill be created.\n\nChange-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12\n'}]",9,817296,92818273e3fed5f944391b284b43934b2e9b6dd4,38,6,10,19391,,,0,"Added Grafana iDRAC dashboard

This patchset also refactor the handling of dashboards yaml
files so that multiple configmaps, grouped by functionality
will be created.

Change-Id: I9849e2a2744e1d2ae895d3e18647b9b3a1c38b12
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/817296/8 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/templates/configmap-dashboards-idrac.yaml', 'grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml']",4,f52d9d643b7f4e500823c552dbda54944b8aa0ef,,version: 0.1.12,version: 0.1.11,29,1
openstack%2Fnova~stable%2Fvictoria~Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,openstack/nova,stable/victoria,Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,Store old_flavor already on source host during resize,MERGED,2021-09-24 13:56:04.000000000,2021-11-10 23:00:14.000000000,2021-11-10 22:58:10.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81b84777b50c41ec0d76ad10fe6b8a1834edd7f4', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit 1b0c5a11526a649d330f7de281ed33f90e49e255)\n(cherry picked from commit c8b92ddad5787a222b9dc8a78fbb050332170c65)\n(cherry picked from commit 1d65c313a7dc30ffb9bd07b8c013a37c17516470)\n""}, {'number': 2, 'created': '2021-09-27 12:49:50.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/34e0c0205b1053d3bbe064177740aba654997fe0', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)\n(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)\n(cherry picked from commit c8b04d183f560a616a79577c4d4ae9465d03e541)\n""}]",6,810915,34e0c0205b1053d3bbe064177740aba654997fe0,36,3,2,9708,,,0,"Store old_flavor already on source host during resize

During resize, on the source host, in resize_instance(), the instance.host
and .node is updated to point to the destination host. This indicates to
the source host's resource tracker that the allocation of this instance
does not need to be tracked as an instance but as an outbound migration
instead. However for the source host's resource tracker to do that it,
needs to use the instance.old_flavor. Unfortunately the
instance.old_flavor is only set during finish_resize() on the
destination host. (resize_instance cast to the finish_resize). So it is
possible that a running resize_instance() set the instance.host to point
to the destination and then before the finish_resize could set the
old_flavor an update_available_resources periodic runs on the source
host. This causes that the allocation of this instance is not tracked as
an instance as the instance.host point to the destination but it is not
tracked as a migration either as the instance.old_flavor is not yet set.
So the allocation on the source host is simply dropped by the periodic
job.

When such migration is confirmed the confirm_resize() tries to drop
the same resource allocation again but fails as the pinned CPUs of the
instance already freed.

When such migration is reverted instead, then revert succeeds but the
source host resource allocation will not contain the resource allocation
of the instance until the next update_available_resources periodic runs
and corrects it.

This does not affect resources tracked exclusively in placement (e.g.
VCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that
are still tracked in the resource tracker (e.g. huge pages, pinned
CPUs).

This patch moves the instance.old_flavor setting to the source node to
the same transaction that sets the instance.host to point to the
destination host. Hence solving the race condition.

Change-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9
Closes-Bug: #1944759
(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)
(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)
(cherry picked from commit c8b04d183f560a616a79577c4d4ae9465d03e541)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/810915/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,81b84777b50c41ec0d76ad10fe6b8a1834edd7f4,bug/1944759," # we have 2 cpus pinned on both computes. The source should have it # due to the outbound migration and the destination due to the # instance running there self._assert_pinned_cpus(src_host, 2) self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # the resource allocation reflects that the VM is running on the dest # node # and running periodics does not break it either # After the revert the source host should have 2 cpus pinned due to # the instance. self._assert_pinned_cpus(src_host, 2) # running the periodic job will not break it either"," # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) # running the periodic job will fix the resource accounting # this is now correct",21,28
openstack%2Fneutron~stable%2Fstein~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/stein,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:16:36.000000000,2021-11-10 23:00:04.000000000,2021-11-10 22:57:40.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-03 11:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3287072ac11535ec0874c3e679f9123af6f14931', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)\n(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)\n""}, {'number': 2, 'created': '2021-11-04 12:19:33.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2cc54977e27c307f80bbfffde4b16e976ab004e', 'message': ""Don't setup bridge controller if it is already set\n\nSetting new controller for bridge every time when neutron-ovs-agent\nis restarted or is doing full-sync may cause some short data plane\nconnectivity loss and is not needed if same controller is already\nconfigured for the bridge.\nWith this patch neutron-ovs-agent will first check if controller is\nconfigured for the bridge and if it's the same as what should be\nconfigured, it will skip setting it up.\n\nWith this patch also protocols added to the bridge will be first checked\nif they aren't already there and only missing ones will be added if\nnecessary.\n\nSetting of the connectivity mode and inactivity probe is\nalways performed as this don't cause connectivity issues and is cheap\nso we can always ensure that those parameters are configured properly.\n\nConflicts:\n    neutron/agent/common/ovs_lib.py\n    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py\n\nCloses-Bug: #1948642\nChange-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67\n(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)\n(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)\n(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)\n""}]",1,816470,e2cc54977e27c307f80bbfffde4b16e976ab004e,12,4,2,11975,,,0,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/816470/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py']",4,3287072ac11535ec0874c3e679f9123af6f14931,bug/1948642-stable/train-stable/stein," def _test_setup_controllers(self, existing_controllers): cfg.OVS.of_listen_address = ""127.0.0.1"" cfg.OVS.of_listen_port = ""6633"" m_get_controller = mock.patch.object(self.br, 'get_controller') with m_set_ccm as set_ccm, \ m_add_protocols as add_protocols, \ m_set_controller as set_controller, \ m_get_controller as get_controller, \ m_set_probe: get_controller.return_value = existing_controllers self.br.setup_controllers(cfg) if existing_controllers: set_controller.assert_not_called() else: set_controller.assert_called_once_with([""tcp:127.0.0.1:6633""]) set_ccm.assert_called_once_with(""out-of-band"") add_protocols.assert_called_once_with(constants.OPENFLOW13) def test_setup_controllers(self): self._test_setup_controllers(existing_controllers=[]) def test_setup_controllers_when_already_exists(self): self._test_setup_controllers( existing_controllers=[""tcp:127.0.0.1:6633""])"," def test__setup_controllers__out_of_band(self): cfg.OVS.of_listen_address = """" cfg.OVS.of_listen_port = """" with m_set_ccm as set_ccm: with m_set_controller, m_add_protocols, m_set_probe: self.br.setup_controllers(cfg) set_ccm.assert_called_once_with(""out-of-band"")",64,14
openstack%2Fneutron~stable%2Fstein~Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d,openstack/neutron,stable/stein,Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d,Remove dhcp_extra_opt name after first newline character,MERGED,2021-09-24 10:32:47.000000000,2021-11-10 22:56:16.000000000,2021-11-10 22:53:30.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 10:32:47.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c85abee26de55d4ec37619c2cc691612414546ac', 'message': ""Remove dhcp_extra_opt name after first newline character\n\nPassing newline as extra dhcp option name to the DHCP agent causes\nissues with configuration of the dnsmasq process for the network.\nThis patch removes everything what is after first newline character\nin the dhcp_extra_opt's name before building dnsmasq's config.\n\nCloses-bug: #1943930\nChange-Id: Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d\n(cherry picked from commit 5abd1fb61018e497b369712a0952bb1a18022142)\n""}]",5,810879,c85abee26de55d4ec37619c2cc691612414546ac,39,3,1,11975,,,0,"Remove dhcp_extra_opt name after first newline character

Passing newline as extra dhcp option name to the DHCP agent causes
issues with configuration of the dnsmasq process for the network.
This patch removes everything what is after first newline character
in the dhcp_extra_opt's name before building dnsmasq's config.

Closes-bug: #1943930
Change-Id: Iab2832e750ff5ef09c5dcacae4dbff4f9e62bc2d
(cherry picked from commit 5abd1fb61018e497b369712a0952bb1a18022142)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/810879/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,c85abee26de55d4ec37619c2cc691612414546ac,bug/1943930-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein," option = option.split(""\n"", 1)[0]",,2,1
openstack%2Fkayobe~master~I7812c4b66bac30648c00054381703e390671a821,openstack/kayobe,master,I7812c4b66bac30648c00054381703e390671a821,Ubuntu: add upgrade jobs to gate,MERGED,2021-11-10 09:19:32.000000000,2021-11-10 22:55:48.000000000,2021-11-10 22:50:31.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 09:19:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8df7b75c06b32a21ea313aa42a63e7def6305ba8', 'message': 'Ubuntu: add upgrade jobs to gate\n\nFollow up to I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n\nChange-Id: I7812c4b66bac30648c00054381703e390671a821\n'}]",0,817367,8df7b75c06b32a21ea313aa42a63e7def6305ba8,8,2,1,14826,,,0,"Ubuntu: add upgrade jobs to gate

Follow up to I69868dca6e1f3e4a1bf123c9e7f1f3412162b264

Change-Id: I7812c4b66bac30648c00054381703e390671a821
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/817367/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8df7b75c06b32a21ea313aa42a63e7def6305ba8,, - kayobe-overcloud-upgrade-ubuntu-focal - kayobe-seed-upgrade-ubuntu-focal,,2,0
openstack%2Fovn-octavia-provider~stable%2Fxena~Icf6701ecb4d21b4924373429a4c5fffa3a46074e,openstack/ovn-octavia-provider,stable/xena,Icf6701ecb4d21b4924373429a4c5fffa3a46074e,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-23 17:47:04.000000000,2021-11-10 22:47:57.000000000,2021-11-10 22:45:56.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-23 17:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/799088ca87d1df4425d7d35cdc7b0c2e1edccb8c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icf6701ecb4d21b4924373429a4c5fffa3a46074e\n'}, {'number': 2, 'created': '2021-11-10 13:59:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/051ec719afe256d63d7610bb29ade4a93c38a251', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icf6701ecb4d21b4924373429a4c5fffa3a46074e\n'}]",0,810757,051ec719afe256d63d7610bb29ade4a93c38a251,11,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icf6701ecb4d21b4924373429a4c5fffa3a46074e
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/57/810757/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,799088ca87d1df4425d7d35cdc7b0c2e1edccb8c,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fdiskimage-builder~master~I6e36e3fc65981f85fad12ea2cd10780fde9c37da,openstack/diskimage-builder,master,I6e36e3fc65981f85fad12ea2cd10780fde9c37da,containerfile: fix tar extraction,MERGED,2021-11-10 00:01:41.000000000,2021-11-10 22:37:52.000000000,2021-11-10 21:51:13.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 00:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8200a3a15a921fc2d818b167b899deae7588d965', 'message': 'containerfile: fix tar extraction\n\nIc68e8c5b839cbc2852326747c68ef89f630f26a3 removed the sudo from the\ntar extraction here, meaning that production is failing to create the\nchroot.  This is hidden in testing because\nDIB_CONTAINERFILE_PODMAN_ROOT is set.  Make the sudo here\nunconditional.\n\nChange-Id: I6e36e3fc65981f85fad12ea2cd10780fde9c37da\n'}, {'number': 2, 'created': '2021-11-10 00:43:58.000000000', 'files': ['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'releasenotes/notes/containerfile-root-extraction-430148dd669cb3da.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3833c2e59c63a4785885ff1b6dac69a5a1b24dce', 'message': 'containerfile: fix tar extraction\n\nIc68e8c5b839cbc2852326747c68ef89f630f26a3 removed the sudo from the\ntar extraction here, meaning that production is failing to create the\nchroot.  This is hidden in testing because\nDIB_CONTAINERFILE_PODMAN_ROOT is set.  Make the sudo here\nunconditional.\n\nChange-Id: I6e36e3fc65981f85fad12ea2cd10780fde9c37da\n'}]",1,817317,3833c2e59c63a4785885ff1b6dac69a5a1b24dce,14,3,2,7118,,,0,"containerfile: fix tar extraction

Ic68e8c5b839cbc2852326747c68ef89f630f26a3 removed the sudo from the
tar extraction here, meaning that production is failing to create the
chroot.  This is hidden in testing because
DIB_CONTAINERFILE_PODMAN_ROOT is set.  Make the sudo here
unconditional.

Change-Id: I6e36e3fc65981f85fad12ea2cd10780fde9c37da
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/17/817317/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'releasenotes/notes/containerfile-root-extraction-430148dd669cb3da.yaml']",2,8200a3a15a921fc2d818b167b899deae7588d965,containerfile-trap-cleanup,--- fixes: - | This release fixes an regression in the ``containerfile`` element that prevented it extracting root images correctly. ,,8,1
openstack%2Fansible-role-python_venv_build~stable%2Ftrain~I72fd009bf3084fd89545c228af4b1970ca3211c5,openstack/ansible-role-python_venv_build,stable/train,I72fd009bf3084fd89545c228af4b1970ca3211c5,Workaround distro provided pip having old CA certs on centos-7,MERGED,2021-11-03 12:19:21.000000000,2021-11-10 22:33:50.000000000,2021-11-10 22:31:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-03 12:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/34e1844e08fbd81c9f2a70ce5df31e2157412d75', 'message': 'Workaround distro provided pip having old CA certs on centos-7\n\nUse the system trust store when upgrading versions of pip/setuptools/\nwheel on centos-7\n\nChange-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5\n'}, {'number': 2, 'created': '2021-11-09 14:09:00.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/864d5f96fe1f5db511f545c0232bb68448f37ef6', 'message': 'Workaround distro provided pip having old CA certs on centos-7\n\nUse the system trust store when upgrading versions of pip/setuptools/\nwheel on centos-7\n\nChange-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5\n'}]",1,816473,864d5f96fe1f5db511f545c0232bb68448f37ef6,13,3,2,28619,,,0,"Workaround distro provided pip having old CA certs on centos-7

Use the system trust store when upgrading versions of pip/setuptools/
wheel on centos-7

Change-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/73/816473/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",2,34e1844e08fbd81c9f2a70ce5df31e2157412d75,,- name: Workaround pip issues on CentOS 7 ini_file: path: /etc/pip.conf section: global option: cert value: /etc/pki/tls/certs/ca-bundle.crt when: - ansible_distribution == 'CentOS' - ansible_distribution_major_version == '7' ,,20,0
openstack%2Fovn-octavia-provider~stable%2Fxena~I7f3145c193fc9392c51315999ecd4432d5d00f89,openstack/ovn-octavia-provider,stable/xena,I7f3145c193fc9392c51315999ecd4432d5d00f89,Update .gitreview for stable/xena,MERGED,2021-09-23 17:46:33.000000000,2021-11-10 22:22:34.000000000,2021-11-10 22:20:26.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-23 17:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fbb319bc3e38f4baae6d1c6a680014ecb0ba8998', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I7f3145c193fc9392c51315999ecd4432d5d00f89\n'}, {'number': 2, 'created': '2021-11-10 13:59:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8b23aee29a3ad76e8cecee35ea935e7f84091f3a', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I7f3145c193fc9392c51315999ecd4432d5d00f89\n'}]",1,810756,8b23aee29a3ad76e8cecee35ea935e7f84091f3a,13,3,2,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I7f3145c193fc9392c51315999ecd4432d5d00f89
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/56/810756/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,fbb319bc3e38f4baae6d1c6a680014ecb0ba8998,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fneutron~master~Ic0bc3d951d32efadc116708bfe518a711730429d,openstack/neutron,master,Ic0bc3d951d32efadc116708bfe518a711730429d,Cleanup router for which processing added router failed,MERGED,2021-10-21 10:09:06.000000000,2021-11-10 22:19:24.000000000,2021-11-10 22:15:47.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-21 10:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9615f90e5010a3e3ad20089e0fcf174179b79a64', 'message': ""Remove router_info from agent's cache when processing failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be removed from the router cache\nso it will not be treated as updated router in next iteration of the\nagent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n""}, {'number': 2, 'created': '2021-10-25 20:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/619b96543ac6ac3b17f06cb3fae50866f53e5aba', 'message': ""Remove router_info from agent's cache when processing failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be removed from the router cache\nso it will not be treated as updated router in next iteration of the\nagent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n""}, {'number': 3, 'created': '2021-10-27 14:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5a7a7d9859069dfa354d1965bbdb9a2f78ab399', 'message': ""Remove router_info from agent's cache when processing failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be removed from the router cache\nso it will not be treated as updated router in next iteration of the\nagent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n""}, {'number': 4, 'created': '2021-10-27 14:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/064cc0bd3eac4c047c762eb2c44da43c53d0e5b8', 'message': 'Cleanup router for which processing added router failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be cleaned to e.g. be removed from\nthe router cache so it will not be treated as updated router in next\niteration of the agent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n'}, {'number': 5, 'created': '2021-11-03 14:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2db8a45bc9533aa7e4111278423d441763c5034a', 'message': 'Cleanup router for which processing added router failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be cleaned to e.g. be removed from\nthe router cache so it will not be treated as updated router in next\niteration of the agent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n'}, {'number': 6, 'created': '2021-11-07 15:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ce361b988d584a5492d0d91286017d43691b651', 'message': 'Cleanup router for which processing added router failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be cleaned to e.g. be removed from\nthe router cache so it will not be treated as updated router in next\niteration of the agent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n'}, {'number': 7, 'created': '2021-11-08 15:42:30.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/41159bd9a4178a5f8a4fdc90b034c48fa9880cac', 'message': 'Cleanup router for which processing added router failed\n\nIn the _process_added_router() method of the L3 agent, if processing\nrouter will fail, router_info should be cleaned to e.g. be removed from\nthe router cache so it will not be treated as updated router in next\niteration of the agent.\n\nCloses-Bug: #1947993\nChange-Id: Ic0bc3d951d32efadc116708bfe518a711730429d\n'}]",20,814892,41159bd9a4178a5f8a4fdc90b034c48fa9880cac,64,5,7,11975,,,0,"Cleanup router for which processing added router failed

In the _process_added_router() method of the L3 agent, if processing
router will fail, router_info should be cleaned to e.g. be removed from
the router cache so it will not be treated as updated router in next
iteration of the agent.

Closes-Bug: #1947993
Change-Id: Ic0bc3d951d32efadc116708bfe518a711730429d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/814892/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,9615f90e5010a3e3ad20089e0fcf174179b79a64,bug/1947993," def test__process_router_added_router_not_in_cache_after_failure(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router_id = _uuid() router = {'id': router_id} ri_mock = mock.Mock() class TestRouterProcessingException(Exception): pass with mock.patch.object(agent, ""_router_added""), \ mock.patch.dict(agent.router_info, {router_id: ri_mock}): ri_mock.process.side_effect = TestRouterProcessingException() self.assertRaises( TestRouterProcessingException, agent._process_added_router, router) self.assertNotIn(router_id, agent.router_info) ",,24,1
openstack%2Fmagnum~stable%2Fwallaby~Ia6a848eae11bc38ff71ef4575247010a8ffaa47b,openstack/magnum,stable/wallaby,Ia6a848eae11bc38ff71ef4575247010a8ffaa47b,[fix] Detect virtio-scsi volumes correctly,MERGED,2021-10-15 12:57:04.000000000,2021-11-10 22:18:21.000000000,2021-11-10 22:15:53.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-15 12:57:04.000000000', 'files': ['magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/31b0aec56b3dfc220e1a8e9d1864eddcc3f3b4e7', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n(cherry picked from commit 68e6c0e48ddeab37af43b9ef553ddefaf1e54d8c)\n'}]",4,813949,31b0aec56b3dfc220e1a8e9d1864eddcc3f3b4e7,17,3,1,16137,,,0,"[fix] Detect virtio-scsi volumes correctly

When the Cinder volume is presented as a virtio-scsi volume, the
device_name detection fails. This change allows the device name to be
retrieved correctly for both virtio-pci and virtio-scsi cases.

Story: 2008618
Task: 41808
Change-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b
(cherry picked from commit 68e6c0e48ddeab37af43b9ef553ddefaf1e54d8c)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/49/813949/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",2,31b0aec56b3dfc220e1a8e9d1864eddcc3f3b4e7,virtio-scsi-stable/wallaby, device_name=$($ssh_cmd ls /dev/disk/by-id | grep ${ETCD_VOLUME:0:20} | head -n1), device_name=$($ssh_cmd ls /dev/disk/by-id | grep ${ETCD_VOLUME:0:20}$),2,2
openstack%2Fmagnum~stable%2Fvictoria~Ia6a848eae11bc38ff71ef4575247010a8ffaa47b,openstack/magnum,stable/victoria,Ia6a848eae11bc38ff71ef4575247010a8ffaa47b,[fix] Detect virtio-scsi volumes correctly,MERGED,2021-10-15 12:58:37.000000000,2021-11-10 22:01:24.000000000,2021-11-10 21:59:40.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-10-15 12:58:37.000000000', 'files': ['magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7b6c844d92dd083b496617918e8da78f226a0400', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n(cherry picked from commit 68e6c0e48ddeab37af43b9ef553ddefaf1e54d8c)\n(cherry picked from commit 31b0aec56b3dfc220e1a8e9d1864eddcc3f3b4e7)\n'}]",6,814140,7b6c844d92dd083b496617918e8da78f226a0400,21,4,1,16137,,,0,"[fix] Detect virtio-scsi volumes correctly

When the Cinder volume is presented as a virtio-scsi volume, the
device_name detection fails. This change allows the device name to be
retrieved correctly for both virtio-pci and virtio-scsi cases.

Story: 2008618
Task: 41808
Change-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b
(cherry picked from commit 68e6c0e48ddeab37af43b9ef553ddefaf1e54d8c)
(cherry picked from commit 31b0aec56b3dfc220e1a8e9d1864eddcc3f3b4e7)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/40/814140/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",2,7b6c844d92dd083b496617918e8da78f226a0400,, device_name=$($ssh_cmd ls /dev/disk/by-id | grep ${ETCD_VOLUME:0:20} | head -n1), device_name=$($ssh_cmd ls /dev/disk/by-id | grep ${ETCD_VOLUME:0:20}$),2,2
openstack%2Fdiskimage-builder~master~Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c,openstack/diskimage-builder,master,Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c,containerfile: handle errors better,MERGED,2021-11-09 06:24:26.000000000,2021-11-10 21:58:53.000000000,2021-11-10 21:56:06.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 06:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/22f56926bdd1424aaca4f853dd32664ae8826f9f', 'message': ""containerfile: handle errors better\n\nRefactor things to use explicit names, and put in a trap to cleanup\nafter any errors.\n\nCurrently, if the build/run/export steps fail, it leaves behind images\nwhich eventually clog things to the point podman won't run any more\n(see also https://github.com/containers/podman/pull/12233 about errors\nseen due to this)\n\nChange-Id: Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c\n""}, {'number': 2, 'created': '2021-11-09 22:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7c9e7257bc47e42863ae80108c6e23af2f264b62', 'message': ""containerfile: handle errors better\n\nRefactor things to use explicit names, and put in a trap to cleanup\nafter any errors.\n\nCurrently, if the build/run/export steps fail, it leaves behind images\nwhich eventually clog things to the point podman won't run any more\n(see also https://github.com/containers/podman/pull/12233 about errors\nseen due to this)\n\nChange-Id: Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c\n""}, {'number': 3, 'created': '2021-11-10 00:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c45bbb582d4ae744c2ae7b5626e3c89f8ddd96a7', 'message': ""containerfile: handle errors better\n\nRefactor things to use explicit names, and put in a trap to cleanup\nafter any errors.\n\nCurrently, if the build/run/export steps fail, it leaves behind images\nwhich eventually clog things to the point podman won't run any more\n(see also https://github.com/containers/podman/pull/12233 about errors\nseen due to this)\n\nChange-Id: Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c\n""}, {'number': 4, 'created': '2021-11-10 00:43:58.000000000', 'files': ['diskimage_builder/elements/containerfile/root.d/08-containerfile'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/85e20d9852b34b307fad0cd4fae722f8f9161930', 'message': ""containerfile: handle errors better\n\nRefactor things to use explicit names, and put in a trap to cleanup\nafter any errors.\n\nCurrently, if the build/run/export steps fail, it leaves behind images\nwhich eventually clog things to the point podman won't run any more\n(see also https://github.com/containers/podman/pull/12233 about errors\nseen due to this)\n\nChange-Id: Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c\n""}]",2,817139,85e20d9852b34b307fad0cd4fae722f8f9161930,28,3,4,7118,,,0,"containerfile: handle errors better

Refactor things to use explicit names, and put in a trap to cleanup
after any errors.

Currently, if the build/run/export steps fail, it leaves behind images
which eventually clog things to the point podman won't run any more
(see also https://github.com/containers/podman/pull/12233 about errors
seen due to this)

Change-Id: Ib328a07ad67e3f71f379fbf34ae7ef74e212ef1c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/39/817139/4 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/containerfile/root.d/08-containerfile'],1,22f56926bdd1424aaca4f853dd32664ae8826f9f,containerfile-trap-cleanup,"_podman_build_image=""dib-tmp-work-image-$RANDOM"" _podman_export_container=""dib-tmp-export-$RANDOM"" function podman_cleanup() { echo ""Cleaning up container ${_podman_export_container}"" ${_sudo} podman rm ${_podman_export_container} || true echo ""Cleaning up build image ${_podman_build_image}"" ${_sudo} podman rmi ${_podman_build_image} || true } trap ""podman_cleanup"" EXIT ${_sudo} podman build -t ${_podman_build_image} -f $DIB_CONTAINERFILE_DOCKERFILE $DIB_CONTAINER_CONTEXT ${_sudo} podman run --name ${_podman_export_container} -d ${_podman_build_image} /bin/sh ${_sudo} podman export ${_podman_export_container} | ${_sudo} tar -C $TARGET_ROOT --numeric-owner -xf -",${_sudo} podman build -t dib-work-image -f $DIB_CONTAINERFILE_DOCKERFILE $DIB_CONTAINER_CONTEXT container=$(${_sudo} podman run -d dib-work-image /bin/sh) ${_sudo} podman export $container | ${_sudo} tar -C $TARGET_ROOT --numeric-owner -xf - ${_sudo} podman rm $container ${_sudo} podman rmi dib-work-image,15,5
openstack%2Fdiskimage-builder~master~I9dc5015e4f3f6a710329e024913abe822cac3ee1,openstack/diskimage-builder,master,I9dc5015e4f3f6a710329e024913abe822cac3ee1,centos 9-stream: make non-voting for mirror issues,MERGED,2021-11-09 22:32:02.000000000,2021-11-10 21:57:21.000000000,2021-11-10 21:51:10.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 22:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8df54fd7426da79b834e97748f70eb566848ffaf', 'message': 'centos 9-stream: make non-voting for mirror issues\n\nChange-Id: I9dc5015e4f3f6a710329e024913abe822cac3ee1\n'}, {'number': 2, 'created': '2021-11-10 00:43:58.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a1debc726d17b090197f4202e8e0b90ce45bb1ff', 'message': 'centos 9-stream: make non-voting for mirror issues\n\nChange-Id: I9dc5015e4f3f6a710329e024913abe822cac3ee1\n'}]",3,817312,a1debc726d17b090197f4202e8e0b90ce45bb1ff,23,3,2,7118,,,0,"centos 9-stream: make non-voting for mirror issues

Change-Id: I9dc5015e4f3f6a710329e024913abe822cac3ee1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/12/817312/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,8df54fd7426da79b834e97748f70eb566848ffaf,containerfile-trap-cleanup, # NOTE(ianw) 2021-11-10 : temporary due to mirror issues # https://pagure.io/centos-infra/issue/514 - dib-nodepool-functional-openstack-centos-9-stream-src: voting: false, - dib-nodepool-functional-openstack-centos-9-stream-src - dib-nodepool-functional-openstack-centos-9-stream-src,4,2
openstack%2Fcinder~stable%2Fxena~I8287460b902dd525aa5313861142f5fb8490e60a,openstack/cinder,stable/xena,I8287460b902dd525aa5313861142f5fb8490e60a,RBD: Open RBD images read-only where possible,MERGED,2021-11-08 13:11:19.000000000,2021-11-10 21:51:50.000000000,2021-11-09 16:11:58.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-08 13:11:19.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b169aeea76baecf0b6795efd09dfb1c58ff20d9', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nCloses-Bug: #1947518\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n(cherry picked from commit e644e3584b040823f3b3d9d73730b861a3ec413f)\n""}]",2,816957,5b169aeea76baecf0b6795efd09dfb1c58ff20d9,24,4,1,5314,,,0,"RBD: Open RBD images read-only where possible

In cases where we don't need to modify the image,
open rbd images in read-only mode.

Closes-Bug: #1947518
Change-Id: I8287460b902dd525aa5313861142f5fb8490e60a
(cherry picked from commit e644e3584b040823f3b3d9d73730b861a3ec413f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/816957/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml']",2,5b169aeea76baecf0b6795efd09dfb1c58ff20d9,,--- fixes: - | RBD driver `bug #1947518 <https://bugs.launchpad.net/cinder/+bug/1947518>`_: Corrected a regression caused by the fix for `Bug #1931004 <https://bugs.launchpad.net/cinder/+bug/1931004>`_ that was attempting to access the glance images RBD pool with write privileges when creating a volume from an image. ,,19,5
openstack%2Fbarbican-tempest-plugin~master~I03c1126c416f7c3aacce431bab99606b4a80eccd,openstack/barbican-tempest-plugin,master,I03c1126c416f7c3aacce431bab99606b4a80eccd,Testing - DNM,ABANDONED,2021-10-01 17:15:27.000000000,2021-11-10 21:42:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-01 17:15:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/d648c7a92a6463c66d974a9e32b00ce82ce29368', 'message': 'Testing - DNM\n\nChange-Id: I03c1126c416f7c3aacce431bab99606b4a80eccd\n'}]",0,812178,d648c7a92a6463c66d974a9e32b00ce82ce29368,3,1,1,9914,,,0,"Testing - DNM

Change-Id: I03c1126c416f7c3aacce431bab99606b4a80eccd
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/78/812178/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d648c7a92a6463c66d974a9e32b00ce82ce29368,test_branch,This is just a test. Really just a test. ,,2,0
openstack%2Ftripleo-heat-templates~master~I9e76f21e41e2891f959cbf41b89cba07b2e67632,openstack/tripleo-heat-templates,master,I9e76f21e41e2891f959cbf41b89cba07b2e67632,Keystone: Remove unused container_puppet_tasks,MERGED,2021-11-09 16:03:23.000000000,2021-11-10 21:07:36.000000000,2021-11-10 21:07:36.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 16:03:23.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/925e2db462c76b01f46611b8052e127d9d61b408', 'message': 'Keystone: Remove unused container_puppet_tasks\n\nThis was introduced to manage keystone resources (users, projects and\nso on) by puppet but now these resources are managed by ansible.\n\nChange-Id: I9e76f21e41e2891f959cbf41b89cba07b2e67632\n'}]",1,817270,925e2db462c76b01f46611b8052e127d9d61b408,10,4,1,9816,,,0,"Keystone: Remove unused container_puppet_tasks

This was introduced to manage keystone resources (users, projects and
so on) by puppet but now these resources are managed by ansible.

Change-Id: I9e76f21e41e2891f959cbf41b89cba07b2e67632
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/817270/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,925e2db462c76b01f46611b8052e127d9d61b408,,, container_puppet_tasks: # Keystone endpoint creation occurs only on single node step_3: config_volume: 'keystone_init_tasks' puppet_tags: 'keystone_config' step_config: 'include tripleo::profile::base::keystone' config_image: *keystone_config_image,0,7
openstack%2Ftripleo-common~master~I3f08fe0efef1e830b034fab06574a05dff89ccc0,openstack/tripleo-common,master,I3f08fe0efef1e830b034fab06574a05dff89ccc0,Fix namespace-less containers in image-serve,MERGED,2021-11-09 18:08:14.000000000,2021-11-10 20:59:36.000000000,2021-11-10 20:57:35.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 18:08:14.000000000', 'files': ['tripleo_common/image/image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f8eeb0dd834ecd0faae05161cef4a38211894a7a', 'message': 'Fix namespace-less containers in image-serve\n\nThe build_catalog() function expects the manifests, tags and blobs be\navailable before the catalog will recognized a container image. The\nprevious spot where this function was called was after the manifests but\nbefore the tags are created.  This causes the newly uploaded container\nnot to be listed in the catalog. This change moves the build_catalog()\nto last so new images get correctly added to the catalog.\n\nChange-Id: I3f08fe0efef1e830b034fab06574a05dff89ccc0\nCloses-Bug: #1950352\n'}]",1,817288,f8eeb0dd834ecd0faae05161cef4a38211894a7a,13,5,1,14985,,,0,"Fix namespace-less containers in image-serve

The build_catalog() function expects the manifests, tags and blobs be
available before the catalog will recognized a container image. The
previous spot where this function was called was after the manifests but
before the tags are created.  This causes the newly uploaded container
not to be listed in the catalog. This change moves the build_catalog()
to last so new images get correctly added to the catalog.

Change-Id: I3f08fe0efef1e830b034fab06574a05dff89ccc0
Closes-Bug: #1950352
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/817288/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_export.py'],1,f8eeb0dd834ecd0faae05161cef4a38211894a7a,bug/1950352, build_catalog(), build_catalog(),1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I699b9283c7dbdb59923007488b4ac6c359d6eced,openstack/tripleo-heat-templates,stable/wallaby,I699b9283c7dbdb59923007488b4ac6c359d6eced,Add <service>_api_paste_ini in puppet_tags,MERGED,2021-11-09 15:57:52.000000000,2021-11-10 20:57:32.000000000,2021-11-10 20:57:32.000000000,"[{'_account_id': 8833}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 15:57:52.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6cf4bcd690f1dd021c71fd445c37e4545e75b6f', 'message': 'Add <service>_api_paste_ini in puppet_tags\n\nMost of the services are either missing or using deprecated tags for\npaste deploy configuration. Add those for us to be able to customize\npaste deploy.\n\nAlso, removes the unnecessary tag from nova-compute.\n\nChange-Id: I699b9283c7dbdb59923007488b4ac6c359d6eced\n(cherry picked from commit 6d2901345aefba76ca1086db938a45ba37380630)\n'}]",0,817253,f6cf4bcd690f1dd021c71fd445c37e4545e75b6f,8,4,1,9816,,,0,"Add <service>_api_paste_ini in puppet_tags

Most of the services are either missing or using deprecated tags for
paste deploy configuration. Add those for us to be able to customize
paste deploy.

Also, removes the unnecessary tag from nova-compute.

Change-Id: I699b9283c7dbdb59923007488b4ac6c359d6eced
(cherry picked from commit 6d2901345aefba76ca1086db938a45ba37380630)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/817253/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",8,f6cf4bcd690f1dd021c71fd445c37e4545e75b6f,," puppet_tags: neutron_config,neutron_api_paste_ini"," puppet_tags: neutron_config,neutron_api_config",8,8
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I0f005146ae75e85b428061eeb30864767f546fff,openstack/puppet-tripleo,stable/victoria,I0f005146ae75e85b428061eeb30864767f546fff,Horizon: Enable manila-dashboard configurations,MERGED,2021-10-26 00:45:55.000000000,2021-11-10 20:57:26.000000000,2021-11-10 20:57:26.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-26 00:45:55.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02f31798101e7430c2ddc720171fcda6831057e1', 'message': 'Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/800385\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n(cherry picked from commit 8966029af1445c09891bf8864bf5b00991a98ca0)\n(cherry picked from commit f52ae4c055ded84cc30571f05ded9583a0d7572a)\n'}]",1,815364,02f31798101e7430c2ddc720171fcda6831057e1,16,4,1,9816,,,0,"Horizon: Enable manila-dashboard configurations

Depends-on: https://review.opendev.org/800385
Change-Id: I0f005146ae75e85b428061eeb30864767f546fff
(cherry picked from commit 8966029af1445c09891bf8864bf5b00991a98ca0)
(cherry picked from commit f52ae4c055ded84cc30571f05ded9583a0d7572a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/815364/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,02f31798101e7430c2ddc720171fcda6831057e1,puppet-horizon-dashboards-stable/victoria," is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and manila enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :manila_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to contain_class('horizon::dashboards::manila')",,32,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Idcb1aa7c496c6d158791c6d499069d919b9d363a,openstack/puppet-tripleo,stable/victoria,Idcb1aa7c496c6d158791c6d499069d919b9d363a,Horizon: Enable octavia-dashboard configurations,MERGED,2021-10-26 00:44:50.000000000,2021-11-10 20:57:24.000000000,2021-11-10 20:57:24.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-26 00:44:50.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d30b18cdb62ef4706d3dba34fe20a271287359d9', 'message': 'Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/800384\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n(cherry picked from commit 8a00edfa0b46440910a20b86fbfedeb377c87bd5)\n(cherry picked from commit 34712a303fc3f5be4f91601aae4177fa72502827)\n'}]",3,815363,d30b18cdb62ef4706d3dba34fe20a271287359d9,23,3,1,9816,,,0,"Horizon: Enable octavia-dashboard configurations

Depends-on: https://review.opendev.org/800384
Change-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a
(cherry picked from commit 8a00edfa0b46440910a20b86fbfedeb377c87bd5)
(cherry picked from commit 34712a303fc3f5be4f91601aae4177fa72502827)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/815363/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,d30b18cdb62ef4706d3dba34fe20a271287359d9,puppet-horizon-dashboards-stable/victoria," is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and octavia enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :octavia_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to contain_class('horizon::dashboards::octavia')",,30,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,openstack/networking-ovn,stable/train,Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,[OVN Migration] Remove trunk's subports from the nodes,MERGED,2021-10-26 10:41:58.000000000,2021-11-10 20:49:48.000000000,2021-11-10 20:46:04.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 10:41:58.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9ba29568e22a3dda3b56fed424ea4221362d1e4f', 'message': ""[OVN Migration] Remove trunk's subports from the nodes\n\nAfter migration from ML2/OVS to ML2/OVN trunk subports which were created\nby the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)\naren't needed anymore and should be deleted.\n\nCloses-Bug: #1946479\nChange-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f\n(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)\n""}]",0,815469,9ba29568e22a3dda3b56fed424ea4221362d1e4f,9,3,1,11975,,,0,"[OVN Migration] Remove trunk's subports from the nodes

After migration from ML2/OVS to ML2/OVN trunk subports which were created
by the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)
aren't needed anymore and should be deleted.

Closes-Bug: #1946479
Change-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f
(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/69/815469/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,9ba29568e22a3dda3b56fed424ea4221362d1e4f,bug/1946479-stable/train,- name: Cleanup neutron trunk subports shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | xargs -n1 ovs-vsctl del-port,,3,0
openstack%2Fovn-octavia-provider~stable%2Fxena~Id7d8422f07475aee58c2f283da67cc5e171f889b,openstack/ovn-octavia-provider,stable/xena,Id7d8422f07475aee58c2f283da67cc5e171f889b,[Stable only] Fix CI jobs,MERGED,2021-11-10 09:07:22.000000000,2021-11-10 20:49:09.000000000,2021-11-10 20:41:09.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 09:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/071d3347b57d8a5a469fcf06acb1870c279b0c65', 'message': ""[Stable only] Fix CI jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209. That part is\ncherry-picked from commit [1] in master branch.\n\nThis patch also removes lower-constraints job as we agreed some time ago\nto not run that job in the stable branches.\n\nFinally it also removes functional and tempest jobs which runs OVS and\nOVN from master/main branches. We don't need to test that in the stable\nrelease. Those jobs should be run in the master branch and in stable\nbranches are not needed anymore.\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/816829\n\nChange-Id: Id7d8422f07475aee58c2f283da67cc5e171f889b\n""}, {'number': 2, 'created': '2021-11-10 12:08:10.000000000', 'files': ['lower-constraints.txt', 'ovn_octavia_provider/helper.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'ovn_octavia_provider/hacking/checks.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9ee0059eb89a703d0943bb05dfcb86a620def328', 'message': ""[Stable only] Fix CI jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209. That part is\ncherry-picked from commit [1] in master branch.\n\nThis patch also removes lower-constraints job as we agreed some time ago\nto not run that job in the stable branches.\n\nFinally it also removes functional and tempest jobs which runs OVS and\nOVN from master/main branches. We don't need to test that in the stable\nrelease. Those jobs should be run in the master branch and in stable\nbranches are not needed anymore.\n\n[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/816829\n\nChange-Id: Id7d8422f07475aee58c2f283da67cc5e171f889b\n""}]",3,817364,9ee0059eb89a703d0943bb05dfcb86a620def328,14,4,2,11975,,,0,"[Stable only] Fix CI jobs

This patch switches using f-strings instead of regular ones in places
where pep8 was complaining about with error C0209. That part is
cherry-picked from commit [1] in master branch.

This patch also removes lower-constraints job as we agreed some time ago
to not run that job in the stable branches.

Finally it also removes functional and tempest jobs which runs OVS and
OVN from master/main branches. We don't need to test that in the stable
release. Those jobs should be run in the master branch and in stable
branches are not needed anymore.

[1] https://review.opendev.org/c/openstack/ovn-octavia-provider/+/816829

Change-Id: Id7d8422f07475aee58c2f283da67cc5e171f889b
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/64/817364/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tox.ini']",4,071d3347b57d8a5a469fcf06acb1870c279b0c65,Id7d8422f07475aee58c2f283da67cc5e171f889b,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,174
openstack%2Fopenstack-helm-infra~master~Ibd8abdc10906ca4648bfcaa91d0f122e56690606,openstack/openstack-helm-infra,master,Ibd8abdc10906ca4648bfcaa91d0f122e56690606,Set Security Context to ks-user job,MERGED,2021-11-02 15:50:06.000000000,2021-11-10 20:17:31.000000000,2021-11-10 20:14:53.000000000,"[{'_account_id': 13511}, {'_account_id': 17887}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28719}]","[{'number': 1, 'created': '2021-11-02 15:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac0c83d5f4d2d8e59be9a766b5aa4a78f6f7cbcc', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel\n, so that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}, {'number': 2, 'created': '2021-11-03 04:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebb15ec300b62528797926d8d9055a1462873b84', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel\n, so that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}, {'number': 3, 'created': '2021-11-03 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75277ecd99708983d3dda4c00b891b2646afde0d', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel\n, so that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}, {'number': 4, 'created': '2021-11-03 17:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b304d9ed986dfa76034f8fe5cafb237787af35cf', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel\n, so that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}, {'number': 5, 'created': '2021-11-03 19:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53dc5309b308810559f4347d2bb2e2dd5b33823a', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel\n, so that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}, {'number': 6, 'created': '2021-11-08 15:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19aeed93c7ff201a45fd517d87105d4124260e1e', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel\n, so that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}, {'number': 7, 'created': '2021-11-08 15:45:42.000000000', 'files': ['helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fddbb0a0592084b7f18fbd287c8510d73bf33e1c', 'message': 'Set Security Context to ks-user job\n\nWe need flexibility to add securityContext to ks-user job at pod and containerlevel,\nso that it can be executed without elevated privileges.\n\nChange-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606\n'}]",6,816367,fddbb0a0592084b7f18fbd287c8510d73bf33e1c,38,8,7,29982,,,0,"Set Security Context to ks-user job

We need flexibility to add securityContext to ks-user job at pod and containerlevel,
so that it can be executed without elevated privileges.

Change-Id: Ibd8abdc10906ca4648bfcaa91d0f122e56690606
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/816367/4 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl']",3,ac0c83d5f4d2d8e59be9a766b5aa4a78f6f7cbcc,,"{{ dict ""envAll"" $envAll ""application"" ""ks-user"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""ks_user"" ""container"" ""ks_user"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",,4,1
openstack%2Fansible-role-python_venv_build~stable%2Ftrain~Icb359299db6d841e379ee5036db10119af394eab,openstack/ansible-role-python_venv_build,stable/train,Icb359299db6d841e379ee5036db10119af394eab,Set centos-7 jobs to non voting,MERGED,2021-11-09 14:08:19.000000000,2021-11-10 20:07:29.000000000,2021-11-10 20:00:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-09 14:08:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/8c1e8e472e91adcdcf0fba96376416453dbb0870', 'message': 'Set centos-7 jobs to non voting\n\nChange-Id: Icb359299db6d841e379ee5036db10119af394eab\n'}]",5,817219,8c1e8e472e91adcdcf0fba96376416453dbb0870,19,3,1,25023,,,0,"Set centos-7 jobs to non voting

Change-Id: Icb359299db6d841e379ee5036db10119af394eab
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/19/817219/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8c1e8e472e91adcdcf0fba96376416453dbb0870,, - openstack-ansible-deploy-aio_metal-centos-7: voting: false - openstack-ansible-deploy-aio_metal-centos-7: voting: false,,4,0
openstack%2Fpuppet-ironic~master~Ie90977158a3f25108845e6999c1eaaef5d1dceaa,openstack/puppet-ironic,master,Ie90977158a3f25108845e6999c1eaaef5d1dceaa,Remove sqllite referenced default,ABANDONED,2021-08-26 23:48:57.000000000,2021-11-10 20:05:05.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-26 23:48:57.000000000', 'files': ['releasenotes/notes/removes-sqllite-reference-e774b0b6fd9c5517.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/46cb2f6b030d6d781567850c1e2db0c374404709', 'message': 'Remove sqllite referenced default\n\nFor some crazy reason ``puppet-ironic`` indicates a database\nproperty is optional and by default populates a unsupported sqllite\ndatabase file.\n\nWhile ironic *can* start and maybe partially work with such a backend\ndata file, the locking which occurs causes blocking access while write\nlocks are open to the API surface, which is functionally fairly blocking.\n\nAs such, the setting is now required.\n\nChange-Id: Ie90977158a3f25108845e6999c1eaaef5d1dceaa\n'}]",1,806289,46cb2f6b030d6d781567850c1e2db0c374404709,13,3,1,11655,,,0,"Remove sqllite referenced default

For some crazy reason ``puppet-ironic`` indicates a database
property is optional and by default populates a unsupported sqllite
database file.

While ironic *can* start and maybe partially work with such a backend
data file, the locking which occurs causes blocking access while write
locks are open to the API surface, which is functionally fairly blocking.

As such, the setting is now required.

Change-Id: Ie90977158a3f25108845e6999c1eaaef5d1dceaa
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/89/806289/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/removes-sqllite-reference-e774b0b6fd9c5517.yaml', 'manifests/db.pp']",2,46cb2f6b030d6d781567850c1e2db0c374404709,,"# (Required) Defaults to $::os_service_default $database_connection = $::os_service_default, if !$::ironic::database::database_connection { fail('An ironic::db::database_connection setting must be defined. Ironic must use a back-end database by default and cannot use a shared SQLLite DB.') } ","# (Optional) Defaults to 'sqlite:////var/lib/ironic/ovs.sqlite'. $database_connection = 'sqlite:////var/lib/ironic/ovs.sqlite',",12,2
openstack%2Fcharm-guide~master~I5fd2200455156db5fa25b6b5aab89223ea7fe315,openstack/charm-guide,master,I5fd2200455156db5fa25b6b5aab89223ea7fe315,Add a page on how to submit bugs,MERGED,2021-10-29 23:43:03.000000000,2021-11-10 19:52:31.000000000,2021-11-10 19:48:16.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-29 23:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/393bcd03d76c9546b611498ac649e6faf84dcf5f', 'message': 'Add a page on how to file bugs\n\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 2, 'created': '2021-10-30 01:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d6e14f912747fb6e1258686a8b6f5d0f98b594eb', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 3, 'created': '2021-10-30 16:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4f7effed45abcd587423f7f41408cdc4e07bda44', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 4, 'created': '2021-10-30 19:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8c8aecb261dbce7a4167b5ff7e718703b15ae272', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 5, 'created': '2021-10-30 22:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4c40ee8a6fb76e1ada25d42e26b294321ba3ba50', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 6, 'created': '2021-10-30 23:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d806224f192bf8a059413b546a1908f2da5d0237', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 7, 'created': '2021-10-30 23:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/68c7643a1960caf061e011aa0c17cf98e04b9273', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 8, 'created': '2021-10-31 19:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/97cfc644354e82ce9c9ae33ee74cd069fd122d32', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 9, 'created': '2021-11-01 16:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0623305de8b18db60175956d45660c6af67f7396', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 10, 'created': '2021-11-01 18:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/577cf9b439d4806fd88ae5a5672741a9a5e1167f', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 11, 'created': '2021-11-02 18:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0d4ceeab93d453ca920b4433e03ef21ec10430ff', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 12, 'created': '2021-11-03 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f2c0dadee97b4960c6ff6b97161ba76825d65c4b', 'message': 'Add a page on how to file bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 13, 'created': '2021-11-03 17:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2791c3eb4a1f2e358ce34f3c3acfec7ff8f3c360', 'message': 'Add a page on how to submit bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 14, 'created': '2021-11-03 17:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6799af3bc6063f10ae764bf7c1a1a8575afe099b', 'message': 'Add a page on how to submit bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 15, 'created': '2021-11-03 20:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e0f8d062b3d2fb49b95da7dec55b9b326afe445f', 'message': 'Add a page on how to submit bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}, {'number': 16, 'created': '2021-11-03 21:38:11.000000000', 'files': ['doc/source/community/index.rst', 'doc/source/community/bug-submitting.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/30e8e90177db2295e1653a98ab7d842f56a91c06', 'message': 'Add a page on how to submit bugs\n\nCloses-Bug: #1936186\nChange-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315\n'}]",19,816075,30e8e90177db2295e1653a98ab7d842f56a91c06,41,2,16,30561,,,0,"Add a page on how to submit bugs

Closes-Bug: #1936186
Change-Id: I5fd2200455156db5fa25b6b5aab89223ea7fe315
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/75/816075/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/bug-submit.rst'],1,393bcd03d76c9546b611498ac649e6faf84dcf5f,add-how-to-file-a-bug,"========================= Submitting a software bug ========================= Things to check prior to submitting a bug: * Release notes - the observed issue may be known to the dev team, and a workaround may be available * Existing bugs - someone else may have encountered the issue already The latest release of the OpenStack charms contain the latest fixes. Ideally, upgrade to latest stable charms and confirm whether the problem persists. Cloud stack ~~~~~~~~~~~ Charmed OpenStack is the result of a multi-layered ""stack"", and the root cause of a problem may reside at any one of its layers. The stack is pictured below. The bug you are submitting is for an individual OpenStack charm (the charms layer). * charm payload - OpenStack service (e.g. Nova Compute) * charms - OpenStack charm (e.g. nova-compute) * Juju - modelling software * Juju-managed cloud - typically MAAS * hardware and networking configuration Information dumps ~~~~~~~~~~~~~~~~~ * Output to :command:`juju status` * Output to :command:`jujucrashdump` File attachments ~~~~~~~~~~~~~~~~ When providing verbose supporting data (e.g. logs or a series of CLI commands and their output) attach an appropriately-named text file to the bug. If there are multiple such files, consider including a description of their respective contents in the bug. Do not provide this kind of information via services whose hosted data is not considered permanent (e.g. pastebins) and/or requires authentication to read the data. Extra information ~~~~~~~~~~~~~~~~~ * Regressions - It is extremely useful if you can determine whether the observed issue is a regression. The main variables include Ubuntu series, OpenStack release, and charm revision. ",,52,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I60c8d845b0b0035364e19ac6aa8cad0bc9e614d3,openstack/python-tripleoclient,stable/wallaby,I60c8d845b0b0035364e19ac6aa8cad0bc9e614d3,UC/Standalone - Set ip_version in DeployedServerPortMap,MERGED,2021-11-09 12:17:10.000000000,2021-11-10 19:52:30.000000000,2021-11-10 19:48:09.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 12:17:10.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/293b843478b4ed9ecbfb3fa6d46d5ac3e051bb2c', 'message': ""UC/Standalone - Set ip_version in DeployedServerPortMap\n\nSet ip_version property in the subnets section in DeployedServerPortMap\nset up in the environment for Undercloud and Standalone deployments.\n\nThis will ensure that the NetIpVersionMapValue is populated properly,\nand puppet parameters like 'rabbit_ipv6' will be correctly populated\nfor IPv6 undercloud deployment.\n\nCloses-Bug: #1947177\nChange-Id: I60c8d845b0b0035364e19ac6aa8cad0bc9e614d3\n(cherry picked from commit e05b6083c211fcf9a9b636ac3dfc5c1565e77cb4)\n""}]",0,817106,293b843478b4ed9ecbfb3fa6d46d5ac3e051bb2c,8,3,1,24245,,,0,"UC/Standalone - Set ip_version in DeployedServerPortMap

Set ip_version property in the subnets section in DeployedServerPortMap
set up in the environment for Undercloud and Standalone deployments.

This will ensure that the NetIpVersionMapValue is populated properly,
and puppet parameters like 'rabbit_ipv6' will be correctly populated
for IPv6 undercloud deployment.

Closes-Bug: #1947177
Change-Id: I60c8d845b0b0035364e19ac6aa8cad0bc9e614d3
(cherry picked from commit e05b6083c211fcf9a9b636ac3dfc5c1565e77cb4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/817106/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,293b843478b4ed9ecbfb3fa6d46d5ac3e051bb2c,bug/1947177-stable/wallaby," 'subnets': [{'cidr': str(ip_nw.cidr), 'ip_version': ip_nw.version}], 'subnets': [{'cidr': str(ip_nw.cidr), 'ip_version': ip_nw.version}], 'subnets': [{'cidr': str(ip_nw.cidr), 'ip_version': ip_nw.version}],"," 'subnets': [{'cidr': str(ip_nw.cidr)}], 'subnets': [{'cidr': str(ip_nw.cidr)}], 'subnets': [{'cidr': str(ip_nw.cidr)}],",6,3
openstack%2Ftripleo-common~stable%2Ftrain~I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,openstack/tripleo-common,stable/train,I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,[EL8] Add nodejs:14 module stream,MERGED,2021-11-09 15:29:23.000000000,2021-11-10 19:52:30.000000000,2021-11-10 19:48:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-09 15:29:23.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b26f4d4e8e33f7c7730373575beef3153654abf8', 'message': '[EL8] Add nodejs:14 module stream\n\nnodejs is a dependency of novnc in EL8, so it gets installed in the\nnova-novncproxy image. Not specifying a module stream means that the\ninstall can default to an unsupported version of nodejs.\n\nExplicitly enabling nodejs:14 prevents that.\n\nThe EL9 build of novnc does not require nodejs so this is not a concern\nthere.\n\nChange-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0\n(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)\n'}]",0,817235,b26f4d4e8e33f7c7730373575beef3153654abf8,9,4,1,31581,,,0,"[EL8] Add nodejs:14 module stream

nodejs is a dependency of novnc in EL8, so it gets installed in the
nova-novncproxy image. Not specifying a module stream means that the
install can default to an unsupported version of nodejs.

Explicitly enabling nodejs:14 prevents that.

The EL9 build of novnc does not require nodejs so this is not a concern
there.

Change-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0
(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/817235/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,b26f4d4e8e33f7c7730373575beef3153654abf8,, - enable: nodejs:{{ tcib_rhel_modules['nodejs'] | default('14') }},,1,0
openstack%2Ftripleo-common~stable%2Fvictoria~I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,openstack/tripleo-common,stable/victoria,I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,[EL8] Add nodejs:14 module stream,MERGED,2021-11-09 15:27:46.000000000,2021-11-10 19:52:28.000000000,2021-11-10 19:48:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-09 15:27:46.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/867f6aee54db595edfd05bdedcfb0b97da34990b', 'message': '[EL8] Add nodejs:14 module stream\n\nnodejs is a dependency of novnc in EL8, so it gets installed in the\nnova-novncproxy image. Not specifying a module stream means that the\ninstall can default to an unsupported version of nodejs.\n\nExplicitly enabling nodejs:14 prevents that.\n\nThe EL9 build of novnc does not require nodejs so this is not a concern\nthere.\n\nChange-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0\n(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)\n'}]",0,817233,867f6aee54db595edfd05bdedcfb0b97da34990b,9,4,1,31581,,,0,"[EL8] Add nodejs:14 module stream

nodejs is a dependency of novnc in EL8, so it gets installed in the
nova-novncproxy image. Not specifying a module stream means that the
install can default to an unsupported version of nodejs.

Explicitly enabling nodejs:14 prevents that.

The EL9 build of novnc does not require nodejs so this is not a concern
there.

Change-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0
(cherry picked from commit 2b4dd668ec90149ad7b80f3500e5a397eb4b8be4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/817233/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,867f6aee54db595edfd05bdedcfb0b97da34990b,, - enable: nodejs:{{ tcib_rhel_modules['nodejs'] | default('14') }},,1,0
openstack%2Fswift~master~I66f6fd712cd14f60be39e2ee7ddd0a089cedabab,openstack/swift,master,I66f6fd712cd14f60be39e2ee7ddd0a089cedabab,Clean up devstack job definitions,MERGED,2021-11-10 05:40:04.000000000,2021-11-10 19:51:25.000000000,2021-11-10 19:41:59.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 05:40:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d190dba5d3889c4b9950e074335e5f5bb137437', 'message': 'Clean up devstack job definitions\n\nKeystone can only provide v3 now, remove variables that no longer have\nany effect within devstack.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66f6fd712cd14f60be39e2ee7ddd0a089cedabab\n'}]",0,817345,3d190dba5d3889c4b9950e074335e5f5bb137437,8,2,1,13252,,,0,"Clean up devstack job definitions

Keystone can only provide v3 now, remove variables that no longer have
any effect within devstack.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I66f6fd712cd14f60be39e2ee7ddd0a089cedabab
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/817345/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3d190dba5d3889c4b9950e074335e5f5bb137437,cleanup-devstack-jobs,," # Keystone v3 is currently the default, but may as well be explicit ENABLE_IDENTITY_V2: False IDENTITY_API_VERSION: 3",0,3
openstack%2Ftripleo-ansible~master~I9f5175d7b5cfacf8241c27cb49fb29e6c0a28975,openstack/tripleo-ansible,master,I9f5175d7b5cfacf8241c27cb49fb29e6c0a28975,"Revert ""Add the MTU size to ping to catch network issues""",MERGED,2021-11-09 15:42:06.000000000,2021-11-10 19:48:11.000000000,2021-11-10 19:48:11.000000000,"[{'_account_id': 6681}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-09 15:42:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1ed0408b0525b10eef7b604304169acaa223ef8e', 'message': 'Revert ""Add the MTU size to ping to catch network issues""\n\nThis reverts commit c3e7f7d889eb9876d3a9ad19dac35cb4e618e676.\n\nReason for revert: Patch caused issue with ipv6 CI and needs to be reworked.\n\nChange-Id: I9f5175d7b5cfacf8241c27cb49fb29e6c0a28975\n'}]",2,817251,1ed0408b0525b10eef7b604304169acaa223ef8e,17,6,1,7130,,,0,"Revert ""Add the MTU size to ping to catch network issues""

This reverts commit c3e7f7d889eb9876d3a9ad19dac35cb4e618e676.

Reason for revert: Patch caused issue with ipv6 CI and needs to be reworked.

Change-Id: I9f5175d7b5cfacf8241c27cb49fb29e6c0a28975
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/817251/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",2,1ed0408b0525b10eef7b604304169acaa223ef8e,mtu," command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -c 1 {{ controller }}"" retries: 10 delay: 60 changed_when: false", include_tasks: ping.yml,4,41
openstack%2Fmetalsmith~master~I1ee693b9f1e05fd03ba2e7b2b280d0566a3759a3,openstack/metalsmith,master,I1ee693b9f1e05fd03ba2e7b2b280d0566a3759a3,CI: Fix jobs for UEFI default change,ABANDONED,2021-10-08 20:10:36.000000000,2021-11-10 19:33:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-08 20:10:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/40f0dfe4d4fcffe5e68c657bc0ff2123de8f753a', 'message': 'CI: Fix jobs for UEFI default change\n\nIronic no longer runs bios by default, but UEFI by default,\nso jobs need to be aware so we launch correctly configured\nVMs.\n\nChange-Id: I1ee693b9f1e05fd03ba2e7b2b280d0566a3759a3\n'}]",0,813248,40f0dfe4d4fcffe5e68c657bc0ff2123de8f753a,5,1,1,11655,,,0,"CI: Fix jobs for UEFI default change

Ironic no longer runs bios by default, but UEFI by default,
so jobs need to be aware so we launch correctly configured
VMs.

Change-Id: I1ee693b9f1e05fd03ba2e7b2b280d0566a3759a3
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/48/813248/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,40f0dfe4d4fcffe5e68c657bc0ff2123de8f753a,, IRONIC_VM_SPECS_RAM: 3072 IRONIC_BOOT_MODE: uefi devstack_localrc: IRONIC_VM_SPECS_RAM: 1024 IRONIC_BOOT_MODE: bios devstack_localrc: IRONIC_VM_SPECS_RAM: 1024 IRONIC_BOOT_MODE: bios, IRONIC_VM_SPECS_RAM: 1024 IRONIC_BOOT_MODE: uefi IRONIC_VM_SPECS_RAM: 3072,8,3
openstack%2Fironic-python-agent~master~I2336e22dadc790cfbde87904612fcaa3b8c501db,openstack/ironic-python-agent,master,I2336e22dadc790cfbde87904612fcaa3b8c501db,"Re-read the partition table with partx -a, part 2",MERGED,2021-11-09 12:03:21.000000000,2021-11-10 19:22:19.000000000,2021-11-10 19:19:12.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 12:03:21.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-rescan-device-raid-29aa1558b036b496.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/23e67b5fea58295d0320f99d4513a66d720f09ee', 'message': 'Re-read the partition table with partx -a, part 2\n\nUse add instead of update to re-read the partition table with partx.\n\nSee [1] for more details.\n\nCo-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>\n\n[1] https: //opendev.org/openstack/ironic-python-agent/commit/dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0\n\nChange-Id: I2336e22dadc790cfbde87904612fcaa3b8c501db\n'}]",1,817197,23e67b5fea58295d0320f99d4513a66d720f09ee,10,3,1,23851,,,0,"Re-read the partition table with partx -a, part 2

Use add instead of update to re-read the partition table with partx.

See [1] for more details.

Co-authored-by: Arne Wiebalck <arne.wiebalck@cern.ch>

[1] https: //opendev.org/openstack/ironic-python-agent/commit/dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0

Change-Id: I2336e22dadc790cfbde87904612fcaa3b8c501db
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/97/817197/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-rescan-device-raid-29aa1558b036b496.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,23e67b5fea58295d0320f99d4513a66d720f09ee,partx-a-ftw," mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sdc', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sdc', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sdc', check_exit_code=False), mock.call('partx', '-a', '/dev/sdd', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sdc', check_exit_code=False), mock.call('partx', '-a', '/dev/sdd', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/sda', check_exit_code=False), mock.call('partx', '-a', '/dev/sdb', check_exit_code=False), mock.call('partx', '-a', '/dev/nvme0n1', check_exit_code=False), mock.call('partx', '-a', '/dev/nvme1n1', check_exit_code=False), mock.call('partx', '-a', '/dev/nvme0n1', check_exit_code=False), mock.call('partx', '-a', '/dev/nvme1n1', check_exit_code=False),"," mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sdc', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sdc', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sdc', check_exit_code=False), mock.call('partx', '-u', '/dev/sdd', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sdc', check_exit_code=False), mock.call('partx', '-u', '/dev/sdd', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/sda', check_exit_code=False), mock.call('partx', '-u', '/dev/sdb', check_exit_code=False), mock.call('partx', '-u', '/dev/nvme0n1', check_exit_code=False), mock.call('partx', '-u', '/dev/nvme1n1', check_exit_code=False), mock.call('partx', '-u', '/dev/nvme0n1', check_exit_code=False), mock.call('partx', '-u', '/dev/nvme1n1', check_exit_code=False),",50,43
openstack%2Fcinder~master~I8287460b902dd525aa5313861142f5fb8490e60a,openstack/cinder,master,I8287460b902dd525aa5313861142f5fb8490e60a,RBD: Open RBD images read-only where possible,MERGED,2021-03-29 12:40:14.000000000,2021-11-10 19:17:01.000000000,2021-11-08 06:37:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 18511}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-29 12:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/230f7f0f66f6a2e8b11003091eec3b9927a9736b', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n""}, {'number': 2, 'created': '2021-10-27 15:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1aa07874b42495afb08748c7d3a8fd66a07256ec', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nCloses-Bug: #1947518\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n""}, {'number': 3, 'created': '2021-10-28 14:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4fbcafc7bc8e687519b6419cfbf9d285afbb669', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nCloses-Bug: #1947518\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n""}, {'number': 4, 'created': '2021-11-05 13:53:26.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1947518-rbd-open-readonly-ba523c4b0ddbba76.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e644e3584b040823f3b3d9d73730b861a3ec413f', 'message': ""RBD: Open RBD images read-only where possible\n\nIn cases where we don't need to modify the image,\nopen rbd images in read-only mode.\n\nCloses-Bug: #1947518\nChange-Id: I8287460b902dd525aa5313861142f5fb8490e60a\n""}]",11,783643,e644e3584b040823f3b3d9d73730b861a3ec413f,160,10,4,4523,,,0,"RBD: Open RBD images read-only where possible

In cases where we don't need to modify the image,
open rbd images in read-only mode.

Closes-Bug: #1947518
Change-Id: I8287460b902dd525aa5313861142f5fb8490e60a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/783643/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,230f7f0f66f6a2e8b11003091eec3b9927a9736b,," parent_volume = self.rbd.Image(client.ioctx, volume_name, read_only=True) rbd_image = self.rbd.Image(client.ioctx, rbd_name, read_only=True) snapshot=snapshot_name, read_only=True)"," parent_volume = self.rbd.Image(client.ioctx, volume_name) rbd_image = self.rbd.Image(client.ioctx, rbd_name) snapshot=snapshot_name)",8,3
openstack%2Fcharm-keystone~master~Ib1a631275aa8cbea95052f9df8a52b257bb08bb2,openstack/charm-keystone,master,Ib1a631275aa8cbea95052f9df8a52b257bb08bb2,DNM: Test gate,ABANDONED,2021-11-08 21:43:09.000000000,2021-11-10 19:09:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 21:43:09.000000000', 'files': ['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0f7e502b686a93b451ddf38467031d950c2d9839', 'message': 'DNM: Test gate\n\nThis is the same as the following review, except that it will have\niterative reverts to determine if that review includes changes\nthat are preventing zosci functional test from running.\n\nhttps: //review.opendev.org/c/openstack/charm-keystone/+/816023\nChange-Id: Ib1a631275aa8cbea95052f9df8a52b257bb08bb2\n'}]",0,817088,0f7e502b686a93b451ddf38467031d950c2d9839,3,1,1,11805,,,0,"DNM: Test gate

This is the same as the following review, except that it will have
iterative reverts to determine if that review includes changes
that are preventing zosci functional test from running.

https: //review.opendev.org/c/openstack/charm-keystone/+/816023
Change-Id: Ib1a631275aa8cbea95052f9df8a52b257bb08bb2
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/88/817088/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml']",10,0f7e502b686a93b451ddf38467031d950c2d9839,batch-update,series: jammy,series: groovy,50,25
openstack%2Fpuppet-neutron~master~I9a93b65aa5dbf4bca934aec82aad2f7f6ab3d73c,openstack/puppet-neutron,master,I9a93b65aa5dbf4bca934aec82aad2f7f6ab3d73c,ml2+ovn: Add more tunable parameters for OVN DB connections,MERGED,2021-11-09 12:17:35.000000000,2021-11-10 19:06:16.000000000,2021-11-10 19:03:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 12:17:35.000000000', 'files': ['releasenotes/notes/ovn-tunables-0f917de23d4c1274.yaml', 'spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/plugins/ml2/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/85db34491e152ff677c952310206a24270803a84', 'message': 'ml2+ovn: Add more tunable parameters for OVN DB connections\n\nChange-Id: I9a93b65aa5dbf4bca934aec82aad2f7f6ab3d73c\n'}]",1,817198,85db34491e152ff677c952310206a24270803a84,8,3,1,9816,,,0,"ml2+ovn: Add more tunable parameters for OVN DB connections

Change-Id: I9a93b65aa5dbf4bca934aec82aad2f7f6ab3d73c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/98/817198/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn-tunables-0f917de23d4c1274.yaml', 'spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/plugins/ml2/ovn.pp']",3,85db34491e152ff677c952310206a24270803a84,ovn-tunables,"# [*ovsdb_retry_max_interval*] # (optional) Max intervla in seconds between each retry to get the OVN NB # and SB IDLs. # Defaults to $::os_service_default # # [*ovsdb_probe_interval*] # (optional) The probe interval for the OVSDB session in milliseconds. # Defaults to $::os_service_default. # $ovsdb_retry_max_interval = $::os_service_default, $ovsdb_probe_interval = $::os_service_default, 'ovn/ovsdb_retry_max_interval' : value => $ovsdb_retry_max_interval; 'ovn/ovsdb_probe_interval' : value => $ovsdb_probe_interval;",,26,1
openstack%2Fopenstack-ansible~master~Iea876ba0ef0836b02ac10e1da2eca1cf76893271,openstack/openstack-ansible,master,Iea876ba0ef0836b02ac10e1da2eca1cf76893271,Remove reference to deprecated python-ceilometerclient,MERGED,2021-10-25 14:33:09.000000000,2021-11-10 18:52:48.000000000,2021-11-10 18:49:36.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-10-25 14:33:09.000000000', 'files': ['doc/source/user/ceph/ceilometer.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/002fb0910d98c34aa2b1cb6e3eeba016c1e7f813', 'message': 'Remove reference to deprecated python-ceilometerclient\n\nThis repo is now deprecated, so remove references to it.\n\nChange-Id: Iea876ba0ef0836b02ac10e1da2eca1cf76893271\n'}]",0,815315,002fb0910d98c34aa2b1cb6e3eeba016c1e7f813,12,3,1,25023,,,0,"Remove reference to deprecated python-ceilometerclient

This repo is now deprecated, so remove references to it.

Change-Id: Iea876ba0ef0836b02ac10e1da2eca1cf76893271
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/815315/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/ceph/ceilometer.rst'],1,002fb0910d98c34aa2b1cb6e3eeba016c1e7f813,,, - python-ceilometerclient,0,1
openstack%2Fopenstack-ansible~stable%2Fussuri~I648c7b85d36d67f6edca9c2cb1f3f8a1ee168088,openstack/openstack-ansible,stable/ussuri,I648c7b85d36d67f6edca9c2cb1f3f8a1ee168088,Bump OpenStack-Ansible Ussuri,MERGED,2021-10-27 06:34:16.000000000,2021-11-10 18:52:27.000000000,2021-11-10 18:49:34.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-10-27 06:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/108cfb422c953174ef5196999c20a20ab64ca700', 'message': 'Bump OpenStack-Ansible Ussuri\n\nChange-Id: I648c7b85d36d67f6edca9c2cb1f3f8a1ee168088\n'}, {'number': 2, 'created': '2021-11-02 10:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea28c8da1db4c0276580df21bc01b65da3ebfad5', 'message': 'Bump OpenStack-Ansible Ussuri\n\nChange-Id: I648c7b85d36d67f6edca9c2cb1f3f8a1ee168088\n'}, {'number': 3, 'created': '2021-11-04 10:56:02.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/766e477968d48b03ddb325c27b6bbb7d70e9feef', 'message': 'Bump OpenStack-Ansible Ussuri\n\nChange-Id: I648c7b85d36d67f6edca9c2cb1f3f8a1ee168088\n'}]",2,815589,766e477968d48b03ddb325c27b6bbb7d70e9feef,18,3,3,28619,,,0,"Bump OpenStack-Ansible Ussuri

Change-Id: I648c7b85d36d67f6edca9c2cb1f3f8a1ee168088
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/815589/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,108cfb422c953174ef5196999c20a20ab64ca700,bump_osa, version: 78fcf28f2c7be772d16740e8154c21a78a19e775 version: fc55b10b8771b603be90a304a2c1906a89c7bae2 version: 904e55d56f82f36e3e9e9fbc5b3bd932a1151f7b, version: b5fe49d98601f62055365645df47ef1bae30ee74 version: d134e6849165578301ef74611a8b6b47ff97a479 version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c,54,54
openstack%2Fnova~master~I0bacb8884a75b5ae604383d73d60fc618123a8d3,openstack/nova,master,I0bacb8884a75b5ae604383d73d60fc618123a8d3,Apply common irrelevant_files for centos 8 job,MERGED,2021-11-09 16:48:51.000000000,2021-11-10 18:43:20.000000000,2021-11-10 18:35:54.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 16:48:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed3abea3b239044bf72277d548da5e2277aed8f5', 'message': 'Apply common irrelevant_files for centos 8 job\n\nApply the common nova irrelevant files filter for the new\ntempest-integrated-compute-centos-8-stream job\n\nChange-Id: I0bacb8884a75b5ae604383d73d60fc618123a8d3\n'}]",2,817278,ed3abea3b239044bf72277d548da5e2277aed8f5,17,3,1,9708,,,0,"Apply common irrelevant_files for centos 8 job

Apply the common nova irrelevant files filter for the new
tempest-integrated-compute-centos-8-stream job

Change-Id: I0bacb8884a75b5ae604383d73d60fc618123a8d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/817278/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed3abea3b239044bf72277d548da5e2277aed8f5,, - tempest-integrated-compute-centos-8-stream: irrelevant-files: *nova-base-irrelevant-files - tempest-integrated-compute-centos-8-stream: irrelevant-files: *nova-base-irrelevant-files,,4,0
openstack%2Fnetworking-bgpvpn~stable%2Fvictoria~Idf95bbc893a235176baaea4ad38a99444a17ed75,openstack/networking-bgpvpn,stable/victoria,Idf95bbc893a235176baaea4ad38a99444a17ed75,[stable/victoria] Dropping lower-constraints testing,MERGED,2021-11-03 12:25:09.000000000,2021-11-10 18:40:26.000000000,2021-11-10 18:28:55.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-03 12:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/094a4955e5da0111c85922ab30def2b639fa4fa1', 'message': 'Make lower-constraints job non-voting\n\nChange-Id: Idf95bbc893a235176baaea4ad38a99444a17ed75\n'}, {'number': 2, 'created': '2021-11-08 14:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/37fbf407221c9098abe5fbc333b3a350cfb228c5', 'message': 'Make lower-constraints job non-voting\n\nChange-Id: Idf95bbc893a235176baaea4ad38a99444a17ed75\n'}, {'number': 3, 'created': '2021-11-09 13:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f8ed73d3d95d5817e7609579fc439dede7ec7b46', 'message': '[stable/victoria] Dropping lower-constraints testing\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\nFor stable/rocky and older in Neutron meeting ([3]) the decision was to\nmake non-voting and faulty jobs (see [4]) dropped.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n[3]https://meetings.opendev.org/irclogs/%23openstack-neutron/%23openstack-neutron.2021-06-29.log.html#t2021-06-29T15:13:37\n[4]http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Idf95bbc893a235176baaea4ad38a99444a17ed75\n'}, {'number': 4, 'created': '2021-11-09 13:17:51.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3bf3c084fa8b57e4010c2dfe7d78fe121f3cebce', 'message': '[stable/victoria] Dropping lower-constraints testing\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\nFor stable/rocky and older in Neutron meeting ([3]) the decision was to\nmake non-voting and faulty jobs (see [4]) dropped.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n[3]https://meetings.opendev.org/irclogs/%23openstack-neutron/%23openstack-neutron.2021-06-29.log.html#t2021-06-29T15:13:37\n[4]http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Idf95bbc893a235176baaea4ad38a99444a17ed75\n'}]",3,816500,3bf3c084fa8b57e4010c2dfe7d78fe121f3cebce,19,6,4,8313,,,0,"[stable/victoria] Dropping lower-constraints testing

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].
For stable/rocky and older in Neutron meeting ([3]) the decision was to
make non-voting and faulty jobs (see [4]) dropped.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html
[3]https://meetings.opendev.org/irclogs/%23openstack-neutron/%23openstack-neutron.2021-06-29.log.html#t2021-06-29T15:13:37
[4]http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: Idf95bbc893a235176baaea4ad38a99444a17ed75
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/00/816500/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,094a4955e5da0111c85922ab30def2b639fa4fa1,l_c_non_vote, voting: false,,1,0
openstack%2Fpuppet-swift~master~I6cf3e63839a2044ded0e5c4af2fe6f1312b42fdf,openstack/puppet-swift,master,I6cf3e63839a2044ded0e5c4af2fe6f1312b42fdf,Deprecate support for the allow_versions parameter,MERGED,2021-11-10 07:39:02.000000000,2021-11-10 18:34:06.000000000,2021-11-10 18:26:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 07:39:02.000000000', 'files': ['manifests/storage/all.pp', 'spec/classes/swift_storage_all_spec.rb', 'templates/container-server.conf.erb', 'releasenotes/notes/deprecate-allow_versions-2f161fbe7522c218.yaml', 'manifests/storage/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a1088139ec254f3e8283a854cc78534abfb6ac08', 'message': 'Deprecate support for the allow_versions parameter\n\n... which was deprecated since swift 2.16.0[1] in favor of\nthe versioned_writes middleware.\n\n[1] 5e673a542401a2d95249c3c03f26175214f08c79\n\nChange-Id: I6cf3e63839a2044ded0e5c4af2fe6f1312b42fdf\n'}]",0,817350,a1088139ec254f3e8283a854cc78534abfb6ac08,9,3,1,9816,,,0,"Deprecate support for the allow_versions parameter

... which was deprecated since swift 2.16.0[1] in favor of
the versioned_writes middleware.

[1] 5e673a542401a2d95249c3c03f26175214f08c79

Change-Id: I6cf3e63839a2044ded0e5c4af2fe6f1312b42fdf
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/50/817350/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/all.pp', 'spec/classes/swift_storage_all_spec.rb', 'templates/container-server.conf.erb', 'releasenotes/notes/deprecate-allow_versions-2f161fbe7522c218.yaml', 'manifests/storage/server.pp']",5,a1088139ec254f3e8283a854cc78534abfb6ac08,allow_versions,"# DEPRECATED PARAMETERS # # [*allow_versions*] # (optional) Enable/Disable object versioning feature # Defaults to undef. # # DEPRECATED PARAMETERS $allow_versions = undef, if $allow_versions != undef { warning('The allow_versions parameter is deprecated and will be removed in a future release') } ","# [*allow_versions*] # (optional) Enable/Disable object versioning feature # Defaults to 'false'. # $allow_versions = false, validate_legacy(Boolean, 'validate_bool', $allow_versions)",35,14
openstack%2Fnova~master~I8858faa14119f4daa9630b0ff6dcf082d0ff8fba,openstack/nova,master,I8858faa14119f4daa9630b0ff6dcf082d0ff8fba,db: Remove nova-network models,MERGED,2021-10-01 14:34:34.000000000,2021-11-10 18:09:43.000000000,2021-11-10 18:04:36.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1de87e586c73478134834f5d1a92f2b6121ed237', 'message': ""db: Remove nova-network models\n\nThere are a number of nova-network tables which we can now drop.\n\nnova-network\n  Feature removed entirely in Ussuri.\n\n  - dns_domains\n  - fixed_ips\n  - floating_ips\n  - networks\n  - provider_fw_rules\n  - security_group_default_rules\n\nUnfortunately we can't get rid of the security group-related entries due\nto the unfortunate presence of the 'security_groups' attribute on the\n'Instance' object and corresponding table, which in turn brings in a\nload of other tables. We'll address that separately. For now, just drop\nwhat we can easily drop.\n\nChange-Id: I8858faa14119f4daa9630b0ff6dcf082d0ff8fba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86ac9a3a370863ca035c4bed1b3a36c8b15278d0', 'message': ""db: Remove nova-network models\n\nThere are a number of nova-network tables which we can now drop.\n\nnova-network\n  Feature removed entirely in Ussuri.\n\n  - dns_domains\n  - fixed_ips\n  - floating_ips\n  - networks\n  - provider_fw_rules\n  - security_group_default_rules\n\nUnfortunately we can't get rid of the security group-related entries due\nto the unfortunate presence of the 'security_groups' attribute on the\n'Instance' object and corresponding table, which in turn brings in a\nload of other tables. We'll address that separately. For now, just drop\nwhat we can easily drop.\n\nChange-Id: I8858faa14119f4daa9630b0ff6dcf082d0ff8fba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-10-22 13:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5868ea86e668e35762a8ba9e26d292abe74304e', 'message': ""db: Remove nova-network models\n\nThere are a number of nova-network tables which we can now drop.\n\nnova-network\n  Feature removed entirely in Ussuri.\n\n  - dns_domains\n  - fixed_ips\n  - floating_ips\n  - networks\n  - provider_fw_rules\n  - security_group_default_rules\n\nUnfortunately we can't get rid of the security group-related entries due\nto the unfortunate presence of the 'security_groups' attribute on the\n'Instance' object and corresponding table, which in turn brings in a\nload of other tables. We'll address that separately. For now, just drop\nwhat we can easily drop.\n\nChange-Id: I8858faa14119f4daa9630b0ff6dcf082d0ff8fba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-11-03 17:34:01.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/db/test_models.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f4c7bfcc1ed2462117e86351487f675b799e691', 'message': ""db: Remove nova-network models\n\nThere are a number of nova-network tables which we can now drop.\n\nnova-network\n  Feature removed entirely in Ussuri.\n\n  - dns_domains\n  - fixed_ips\n  - floating_ips\n  - networks\n  - provider_fw_rules\n  - security_group_default_rules\n\nUnfortunately we can't get rid of the security group-related entries due\nto the unfortunate presence of the 'security_groups' attribute on the\n'Instance' object and corresponding table, which in turn brings in a\nload of other tables. We'll address that separately. For now, just drop\nwhat we can easily drop.\n\nChange-Id: I8858faa14119f4daa9630b0ff6dcf082d0ff8fba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,812151,7f4c7bfcc1ed2462117e86351487f675b799e691,25,3,4,15334,,,0,"db: Remove nova-network models

There are a number of nova-network tables which we can now drop.

nova-network
  Feature removed entirely in Ussuri.

  - dns_domains
  - fixed_ips
  - floating_ips
  - networks
  - provider_fw_rules
  - security_group_default_rules

Unfortunately we can't get rid of the security group-related entries due
to the unfortunate presence of the 'security_groups' attribute on the
'Instance' object and corresponding table, which in turn brings in a
load of other tables. We'll address that separately. For now, just drop
what we can easily drop.

Change-Id: I8858faa14119f4daa9630b0ff6dcf082d0ff8fba
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/812151/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/objects/instance.py', 'nova/tests/unit/db/test_models.py', 'nova/db/main/migrations/env.py', 'nova/db/main/models.py']",6,1de87e586c73478134834f5d1a92f2b6121ed237,bp/remove-sqlalchemy-migrate,"# TODO(stephenfin): Remove once we drop the security_groups field from the # Instance table. Until then, this is tied to the SecurityGroup table# TODO(stephenfin): Remove once we drop the security_groups field from the # Instance table# TODO(stephenfin): Remove once we drop the security_groups field from the # Instance table. Until then, this is tied to the SecurityGroup table","# TODO(stephenfin): Remove this in the V release or later, once we're sure we # won't want it back (it's for nova-network, so we won't)# TODO(stephenfin): Remove this in the V release or later, once we're sure we # won't want it back (it's for nova-network, so we won't) class SecurityGroupIngressDefaultRule(BASE, NovaBase, models.SoftDeleteMixin): __tablename__ = 'security_group_default_rules' __table_args__ = () id = sa.Column(sa.Integer, primary_key=True, nullable=False) protocol = sa.Column(sa.String(5)) # ""tcp"", ""udp"" or ""icmp"" from_port = sa.Column(sa.Integer) to_port = sa.Column(sa.Integer) cidr = sa.Column(types.CIDR()) # TODO(stephenfin): Remove this in the V release or later, once we're sure we # won't want it back (it's for nova-network, so we won't) class ProviderFirewallRule(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a rule in a security group."""""" __tablename__ = 'provider_fw_rules' __table_args__ = () id = sa.Column(sa.Integer, primary_key=True, nullable=False) protocol = sa.Column(sa.String(5)) # ""tcp"", ""udp"", or ""icmp"" from_port = sa.Column(sa.Integer) to_port = sa.Column(sa.Integer) cidr = sa.Column(types.CIDR()) # TODO(stephenfin): Remove this in the V release or later, once we're sure we # won't want it back (it's for nova-network, so we won't) class Network(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a network."""""" __tablename__ = 'networks' __table_args__ = ( schema.UniqueConstraint(""vlan"", ""deleted"", name=""uniq_networks0vlan0deleted""), sa.Index('networks_bridge_deleted_idx', 'bridge', 'deleted'), sa.Index('networks_host_idx', 'host'), sa.Index('networks_project_id_deleted_idx', 'project_id', 'deleted'), sa.Index('networks_uuid_project_id_deleted_idx', 'uuid', 'project_id', 'deleted'), sa.Index('networks_vlan_deleted_idx', 'vlan', 'deleted'), sa.Index('networks_cidr_v6_idx', 'cidr_v6') ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) label = sa.Column(sa.String(255)) injected = sa.Column(sa.Boolean, default=False) cidr = sa.Column(types.CIDR()) cidr_v6 = sa.Column(types.CIDR()) multi_host = sa.Column(sa.Boolean, default=False) gateway_v6 = sa.Column(types.IPAddress()) netmask_v6 = sa.Column(types.IPAddress()) netmask = sa.Column(types.IPAddress()) bridge = sa.Column(sa.String(255)) bridge_interface = sa.Column(sa.String(255)) gateway = sa.Column(types.IPAddress()) broadcast = sa.Column(types.IPAddress()) dns1 = sa.Column(types.IPAddress()) dns2 = sa.Column(types.IPAddress()) vlan = sa.Column(sa.Integer) vpn_public_address = sa.Column(types.IPAddress()) vpn_public_port = sa.Column(sa.Integer) vpn_private_address = sa.Column(types.IPAddress()) dhcp_start = sa.Column(types.IPAddress()) rxtx_base = sa.Column(sa.Integer) project_id = sa.Column(sa.String(255)) priority = sa.Column(sa.Integer) host = sa.Column(sa.String(255)) uuid = sa.Column(sa.String(36)) mtu = sa.Column(sa.Integer) dhcp_server = sa.Column(types.IPAddress()) enable_dhcp = sa.Column(sa.Boolean, default=True) share_address = sa.Column(sa.Boolean, default=False) # TODO(stephenfin): Remove this in the V release or later, once we're sure we # won't want it back (it's for nova-network, so we won't) class FixedIp(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a fixed IP for an instance."""""" __tablename__ = 'fixed_ips' __table_args__ = ( schema.UniqueConstraint( ""address"", ""deleted"", name=""uniq_fixed_ips0address0deleted""), sa.Index( 'fixed_ips_virtual_interface_id_fkey', 'virtual_interface_id'), sa.Index('network_id', 'network_id'), sa.Index('address', 'address'), sa.Index('fixed_ips_instance_uuid_fkey', 'instance_uuid'), sa.Index('fixed_ips_host_idx', 'host'), sa.Index('fixed_ips_network_id_host_deleted_idx', 'network_id', 'host', 'deleted'), sa.Index('fixed_ips_address_reserved_network_id_deleted_idx', 'address', 'reserved', 'network_id', 'deleted'), sa.Index('fixed_ips_deleted_allocated_idx', 'address', 'deleted', 'allocated'), sa.Index('fixed_ips_deleted_allocated_updated_at_idx', 'deleted', 'allocated', 'updated_at') ) id = sa.Column(sa.Integer, primary_key=True) address = sa.Column(types.IPAddress()) network_id = sa.Column(sa.Integer) virtual_interface_id = sa.Column(sa.Integer) instance_uuid = sa.Column(sa.String(36), sa.ForeignKey('instances.uuid')) # associated means that a fixed_ip has its instance_id column set # allocated means that a fixed_ip has its virtual_interface_id column set # TODO(sshturm) add default in db allocated = sa.Column(sa.Boolean, default=False) # leased means dhcp bridge has leased the ip # TODO(sshturm) add default in db leased = sa.Column(sa.Boolean, default=False) # TODO(sshturm) add default in db reserved = sa.Column(sa.Boolean, default=False) host = sa.Column(sa.String(255)) network = orm.relationship(Network, backref=orm.backref('fixed_ips'), foreign_keys=network_id, primaryjoin='and_(' 'FixedIp.network_id == Network.id,' 'FixedIp.deleted == 0,' 'Network.deleted == 0)') instance = orm.relationship(Instance, foreign_keys=instance_uuid, primaryjoin='and_(' 'FixedIp.instance_uuid == Instance.uuid,' 'FixedIp.deleted == 0,' 'Instance.deleted == 0)') virtual_interface = orm.relationship(VirtualInterface, backref=orm.backref('fixed_ips'), foreign_keys=virtual_interface_id, primaryjoin='and_(' 'FixedIp.virtual_interface_id == ' 'VirtualInterface.id,' 'FixedIp.deleted == 0,' 'VirtualInterface.deleted == 0)') # TODO(stephenfin): Remove this in the V release or later, once we're sure we # won't want it back (it's for nova-network, so we won't) class FloatingIp(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a floating IP that dynamically forwards to a fixed IP."""""" __tablename__ = 'floating_ips' __table_args__ = ( schema.UniqueConstraint(""address"", ""deleted"", name=""uniq_floating_ips0address0deleted""), sa.Index('fixed_ip_id', 'fixed_ip_id'), sa.Index('floating_ips_host_idx', 'host'), sa.Index('floating_ips_project_id_idx', 'project_id'), sa.Index('floating_ips_pool_deleted_fixed_ip_id_project_id_idx', 'pool', 'deleted', 'fixed_ip_id', 'project_id') ) id = sa.Column(sa.Integer, primary_key=True) address = sa.Column(types.IPAddress()) fixed_ip_id = sa.Column(sa.Integer) project_id = sa.Column(sa.String(255)) host = sa.Column(sa.String(255)) auto_assigned = sa.Column(sa.Boolean, default=False) # TODO(sshturm) add default in db pool = sa.Column(sa.String(255)) interface = sa.Column(sa.String(255)) fixed_ip = orm.relationship(FixedIp, backref=orm.backref('floating_ips'), foreign_keys=fixed_ip_id, primaryjoin='and_(' 'FloatingIp.fixed_ip_id == FixedIp.id,' 'FloatingIp.deleted == 0,' 'FixedIp.deleted == 0)') # TODO(stephenfin): Remove in V or later class DNSDomain(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a DNS domain with availability zone or project info."""""" __tablename__ = 'dns_domains' __table_args__ = ( sa.Index('dns_domains_project_id_idx', 'project_id'), sa.Index('dns_domains_domain_deleted_idx', 'domain', 'deleted'), ) deleted = sa.Column(sa.Boolean, default=False) domain = sa.Column(sa.String(255), primary_key=True) scope = sa.Column(sa.String(255)) availability_zone = sa.Column(sa.String(255)) project_id = sa.Column(sa.String(255)) ",35,197
openstack%2Fnova~master~I774c50fca99bc655ca5010e3b9d8247b739293b3,openstack/nova,master,I774c50fca99bc655ca5010e3b9d8247b739293b3,objects: Remove 'bandwidth' fields from notifications,MERGED,2021-10-01 14:34:34.000000000,2021-11-10 18:06:12.000000000,2021-11-10 18:02:50.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae66fde512fc83cc740aa43092acef226a2728a', 'message': ""objects: Remove 'bandwidth' fields from notifications\n\nFinish up removing these entries from the versioned instance\nnotifications. They're useless since we dropped support for the XenAPI\nvirt driver. The underlying model is retained for now: that will be\nhandled separately.\n\nChange-Id: I774c50fca99bc655ca5010e3b9d8247b739293b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/705e3f82a95bdf6c1a3be09fdc45b07ffb38e848', 'message': ""objects: Remove 'bandwidth' fields from notifications\n\nFinish up removing these entries from the versioned instance\nnotifications. They're useless since we dropped support for the XenAPI\nvirt driver. The underlying model is retained for now: that will be\nhandled separately.\n\nChange-Id: I774c50fca99bc655ca5010e3b9d8247b739293b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-11-03 17:34:01.000000000', 'files': ['nova/db/main/api.py', 'nova/objects/bandwidth_usage.py', 'nova/tests/unit/test_notifications.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/objects/__init__.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/notifications/base.py', 'nova/tests/unit/objects/test_objects.py', 'doc/notification_samples/common_payloads/InstanceExistsPayload.json', 'nova/tests/unit/compute/test_utils.py', 'doc/notification_samples/common_payloads/InstanceUpdatePayload.json', 'nova/compute/utils.py', 'releasenotes/notes/drop-bandwidth-field-from-notifications-d98812a3256cd573.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b02b66bae7fba5103839e48bc4c48bb30cffead', 'message': ""objects: Remove 'bandwidth' fields from notifications\n\nFinish up removing these entries from the versioned instance\nnotifications. They're useless since we dropped support for the XenAPI\nvirt driver. The underlying model is retained for now: that will be\nhandled separately.\n\nChange-Id: I774c50fca99bc655ca5010e3b9d8247b739293b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,812148,2b02b66bae7fba5103839e48bc4c48bb30cffead,28,3,3,15334,,,0,"objects: Remove 'bandwidth' fields from notifications

Finish up removing these entries from the versioned instance
notifications. They're useless since we dropped support for the XenAPI
virt driver. The underlying model is retained for now: that will be
handled separately.

Change-Id: I774c50fca99bc655ca5010e3b9d8247b739293b3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/812148/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/base.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/main/api.py', 'nova/objects/bandwidth_usage.py', 'nova/tests/unit/test_notifications.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/compute/test_utils.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/objects/__init__.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/compute/utils.py']",11,9ae66fde512fc83cc740aa43092acef226a2728a,bp/remove-sqlalchemy-migrate," image_meta=image_meta) audit_period_beginning=audit_start, audit_period_ending=audit_end, ) ) host=host, source=fields.NotificationSource.COMPUTE, ), action=fields.NotificationAction.EXISTS, ), payload=payload, )"," bandwidth={}, image_meta=image_meta) audit_period_beginning=audit_start, audit_period_ending=audit_end) bandwidth=[]) host=host, source=fields.NotificationSource.COMPUTE), action=fields.NotificationAction.EXISTS), payload=payload)",28,398
openstack%2Fpuppet-openstack-integration~master~Idd44bf82632279d3fc7104fa8bae95d721544833,openstack/puppet-openstack-integration,master,Idd44bf82632279d3fc7104fa8bae95d721544833,neutron: Stop setting the allow_overlapping_ips parameter,MERGED,2021-11-09 12:47:06.000000000,2021-11-10 18:05:54.000000000,2021-11-10 18:05:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 12:47:06.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a8dfff3e3b71f134ca37d34938d06016d7d3345d', 'message': 'neutron: Stop setting the allow_overlapping_ips parameter\n\n... because the parameter was already deprecated[1].\n\n[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be\n\nChange-Id: Idd44bf82632279d3fc7104fa8bae95d721544833\n'}]",0,817200,a8dfff3e3b71f134ca37d34938d06016d7d3345d,7,3,1,9816,,,0,"neutron: Stop setting the allow_overlapping_ips parameter

... because the parameter was already deprecated[1].

[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be

Change-Id: Idd44bf82632279d3fc7104fa8bae95d721544833
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/00/817200/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,a8dfff3e3b71f134ca37d34938d06016d7d3345d,allow_overlapping_ips,," allow_overlapping_ips => true,",0,1
openstack%2Fnova~master~I5e3d022fdf7328a1132f6e00998a3286b19be69a,openstack/nova,master,I5e3d022fdf7328a1132f6e00998a3286b19be69a,"db: Remove models for removed services, features",MERGED,2021-10-01 14:34:34.000000000,2021-11-10 18:02:59.000000000,2021-11-10 18:02:59.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a4f7bb33cb2a4603717c00fb66a82b1f544d92c', 'message': ""db: Remove models for removed services, features\n\nWe've built up a large amount of tables that are no longer used for\nanything, given the removal of their users in past releases. We'd like\nto remove those, but before we do that we need to drop the models. This\nmeans there are no references to the tables come N+2, at which point we\ncan remove the tables themselves.\n\nXenAPI virt driver\n  Feature removed entirely in Victoria.\n\n  - agent_builds\n  - bw_usage_cache\n  - console_pools\n  - consoles\n\nCells v1\n  Feature removed entirely in Train.\n\n  - cells\n\nVolume Snapshots\n  Feature removed entirely in Liberty.\n\n  - snapshots\n\nEC2 API\n  Feature removed entirely in Mitaka. Note that these tables are *not*\n  used by the separate ec2-api project.\n\n  - snapshot_id_mappings\n  - volume_id_mappings\n\nThere are still some tables related to nova-network left here. Those are\nunfortunately referenced from elsewhere, so we need to clean them up\nseparately.\n\nChange-Id: I5e3d022fdf7328a1132f6e00998a3286b19be69a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1238a4d5f3808ccff6842b32aa6869eeeac4a744', 'message': ""db: Remove models for removed services, features\n\nWe've built up a large amount of tables that are no longer used for\nanything, given the removal of their users in past releases. We'd like\nto remove those, but before we do that we need to drop the models. This\nmeans there are no references to the tables come N+2, at which point we\ncan remove the tables themselves.\n\nXenAPI virt driver\n  Feature removed entirely in Victoria.\n\n  - agent_builds\n  - bw_usage_cache\n  - console_pools\n  - consoles\n\nCells v1\n  Feature removed entirely in Train.\n\n  - cells\n\nVolume Snapshots\n  Feature removed entirely in Liberty.\n\n  - snapshots\n\nEC2 API\n  Feature removed entirely in Mitaka. Note that these tables are *not*\n  used by the separate ec2-api project.\n\n  - snapshot_id_mappings\n  - volume_id_mappings\n\nThere are still some tables related to nova-network left here. Those are\nunfortunately referenced from elsewhere, so we need to clean them up\nseparately.\n\nChange-Id: I5e3d022fdf7328a1132f6e00998a3286b19be69a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-10-22 13:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ba6bdb1d0ffd7cc8ae8e7937300596c86be8149', 'message': ""db: Remove models for removed services, features\n\nWe've built up a large amount of tables that are no longer used for\nanything, given the removal of their users in past releases. We'd like\nto remove those, but before we do that we need to drop the models. This\nmeans there are no references to the tables come N+2, at which point we\ncan remove the tables themselves.\n\nXenAPI virt driver\n  Feature removed entirely in Victoria.\n\n  - agent_builds\n  - bw_usage_cache\n  - console_pools\n  - consoles\n\nCells v1\n  Feature removed entirely in Train.\n\n  - cells\n\nVolume Snapshots\n  Feature removed entirely in Liberty.\n\n  - snapshots\n\nEC2 API\n  Feature removed entirely in Mitaka. Note that these tables are *not*\n  used by the separate ec2-api project.\n\n  - snapshot_id_mappings\n  - volume_id_mappings\n\nThere are still some tables related to nova-network left here. Those are\nunfortunately referenced from elsewhere, so we need to clean them up\nseparately.\n\nChange-Id: I5e3d022fdf7328a1132f6e00998a3286b19be69a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-11-03 17:34:01.000000000', 'files': ['nova/tests/unit/db/test_models.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a213019d29c761ddf8ef658d8721518e41f4a9e', 'message': ""db: Remove models for removed services, features\n\nWe've built up a large amount of tables that are no longer used for\nanything, given the removal of their users in past releases. We'd like\nto remove those, but before we do that we need to drop the models. This\nmeans there are no references to the tables come N+2, at which point we\ncan remove the tables themselves.\n\nXenAPI virt driver\n  Feature removed entirely in Victoria.\n\n  - agent_builds\n  - bw_usage_cache\n  - console_pools\n  - consoles\n\nCells v1\n  Feature removed entirely in Train.\n\n  - cells\n\nVolume Snapshots\n  Feature removed entirely in Liberty.\n\n  - snapshots\n\nEC2 API\n  Feature removed entirely in Mitaka. Note that these tables are *not*\n  used by the separate ec2-api project.\n\n  - snapshot_id_mappings\n  - volume_id_mappings\n\nThere are still some tables related to nova-network left here. Those are\nunfortunately referenced from elsewhere, so we need to clean them up\nseparately.\n\nChange-Id: I5e3d022fdf7328a1132f6e00998a3286b19be69a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,812150,0a213019d29c761ddf8ef658d8721518e41f4a9e,28,3,4,15334,,,0,"db: Remove models for removed services, features

We've built up a large amount of tables that are no longer used for
anything, given the removal of their users in past releases. We'd like
to remove those, but before we do that we need to drop the models. This
means there are no references to the tables come N+2, at which point we
can remove the tables themselves.

XenAPI virt driver
  Feature removed entirely in Victoria.

  - agent_builds
  - bw_usage_cache
  - console_pools
  - consoles

Cells v1
  Feature removed entirely in Train.

  - cells

Volume Snapshots
  Feature removed entirely in Liberty.

  - snapshots

EC2 API
  Feature removed entirely in Mitaka. Note that these tables are *not*
  used by the separate ec2-api project.

  - snapshot_id_mappings
  - volume_id_mappings

There are still some tables related to nova-network left here. Those are
unfortunately referenced from elsewhere, so we need to clean them up
separately.

Change-Id: I5e3d022fdf7328a1132f6e00998a3286b19be69a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/812150/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_models.py', 'nova/db/main/migrations/env.py', 'nova/db/main/models.py']",5,2a4f7bb33cb2a4603717c00fb66a82b1f544d92c,bp/remove-sqlalchemy-migrate,,"# TODO(macsz) This class can be removed. It might need a DB migration to drop # this. class Snapshot(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a block storage device that can be attached to a VM."""""" __tablename__ = 'snapshots' __table_args__ = () id = sa.Column(sa.String(36), primary_key=True, nullable=False) deleted = sa.Column(sa.String(36), default="""") @property def volume_name(self): return CONF.volume_name_template % self.volume_id user_id = sa.Column(sa.String(255)) project_id = sa.Column(sa.String(255)) volume_id = sa.Column(sa.String(36), nullable=False) status = sa.Column(sa.String(255)) progress = sa.Column(sa.String(255)) volume_size = sa.Column(sa.Integer) scheduled_at = sa.Column(sa.DateTime) display_name = sa.Column(sa.String(255)) display_description = sa.Column(sa.String(255)) # TODO(stephenfin): Remove in V or later class ConsolePool(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents pool of consoles on the same physical node."""""" __tablename__ = 'console_pools' __table_args__ = ( schema.UniqueConstraint( ""host"", ""console_type"", ""compute_host"", ""deleted"", name=""uniq_console_pools0host0console_type0compute_host0deleted""), ) id = sa.Column(sa.Integer, primary_key=True) address = sa.Column(types.IPAddress()) username = sa.Column(sa.String(255)) password = sa.Column(sa.String(255)) console_type = sa.Column(sa.String(255)) public_hostname = sa.Column(sa.String(255)) host = sa.Column(sa.String(255)) compute_host = sa.Column(sa.String(255)) # TODO(stephenfin): Remove in V or later class Console(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a console session for an instance."""""" __tablename__ = 'consoles' __table_args__ = ( sa.Index('consoles_instance_uuid_idx', 'instance_uuid'), ) id = sa.Column(sa.Integer, primary_key=True) instance_name = sa.Column(sa.String(255)) instance_uuid = sa.Column(sa.String(36), sa.ForeignKey('instances.uuid')) password = sa.Column(sa.String(255)) port = sa.Column(sa.Integer) pool_id = sa.Column(sa.Integer, sa.ForeignKey('console_pools.id')) pool = orm.relationship(ConsolePool, backref=orm.backref('consoles')) # TODO(stephenfin): Remove this in the U release or later, once we're sure we # won't want it back (it's for cells v1, so we won't) class Cell(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents parent and child cells of this cell. Cells can have multiple parents and children, so there could be any number of entries with is_parent=True or False """""" __tablename__ = 'cells' __table_args__ = (schema.UniqueConstraint( ""name"", ""deleted"", name=""uniq_cells0name0deleted"" ), ) id = sa.Column(sa.Integer, primary_key=True) # Name here is the 'short name' of a cell. For instance: 'child1' name = sa.Column(sa.String(255)) api_url = sa.Column(sa.String(255)) transport_url = sa.Column(sa.String(255), nullable=False) weight_offset = sa.Column(sa.Float(), default=0.0) weight_scale = sa.Column(sa.Float(), default=1.0) is_parent = sa.Column(sa.Boolean()) # TODO(stephenfin): Remove this in the W release or later, once we're sure we # won't want it back (it's for a XenAPI-only feature) class AgentBuild(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents an agent build."""""" __tablename__ = 'agent_builds' __table_args__ = ( sa.Index('agent_builds_hypervisor_os_arch_idx', 'hypervisor', 'os', 'architecture'), schema.UniqueConstraint(""hypervisor"", ""os"", ""architecture"", ""deleted"", name=""uniq_agent_builds0hypervisor0os0architecture0deleted""), ) id = sa.Column(sa.Integer, primary_key=True) hypervisor = sa.Column(sa.String(255)) os = sa.Column(sa.String(255)) architecture = sa.Column(sa.String(255)) version = sa.Column(sa.String(255)) url = sa.Column(sa.String(255)) md5hash = sa.Column(sa.String(255)) # TODO(stephenfin): Remove this in the W release or later, once we're sure we # won't want it back (it's for a XenAPI-only feature) class BandwidthUsage(BASE, NovaBase, models.SoftDeleteMixin): """"""Cache for instance bandwidth usage data pulled from the hypervisor."""""" __tablename__ = 'bw_usage_cache' __table_args__ = ( sa.Index('bw_usage_cache_uuid_start_period_idx', 'uuid', 'start_period'), ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) uuid = sa.Column(sa.String(36)) mac = sa.Column(sa.String(255)) start_period = sa.Column(sa.DateTime, nullable=False) last_refreshed = sa.Column(sa.DateTime) bw_in = sa.Column(sa.BigInteger) bw_out = sa.Column(sa.BigInteger) last_ctr_in = sa.Column(sa.BigInteger) last_ctr_out = sa.Column(sa.BigInteger) class VolumeIdMapping(BASE, NovaBase, models.SoftDeleteMixin): """"""Compatibility layer for the EC2 volume service."""""" __tablename__ = 'volume_id_mappings' __table_args__ = () id = sa.Column( sa.Integer, primary_key=True, nullable=False, autoincrement=True) uuid = sa.Column(sa.String(36), nullable=False) class SnapshotIdMapping(BASE, NovaBase, models.SoftDeleteMixin): """"""Compatibility layer for the EC2 snapshot service."""""" __tablename__ = 'snapshot_id_mappings' __table_args__ = () id = sa.Column( sa.Integer, primary_key=True, nullable=False, autoincrement=True) uuid = sa.Column(sa.String(36), nullable=False) ",60,151
openstack%2Fpuppet-vswitch~stable%2Fxena~Idac29b0ea6794a52ae9146da8105ebbaf65ee9a3,openstack/puppet-vswitch,stable/xena,Idac29b0ea6794a52ae9146da8105ebbaf65ee9a3,Do not use service resource to restart openvswitch service,MERGED,2021-11-09 11:04:09.000000000,2021-11-10 18:01:19.000000000,2021-11-10 18:01:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 11:04:09.000000000', 'files': ['lib/puppet/type/vs_config.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f5ee885fffca3d079a014fb19aa96b5579375a6b', 'message': 'Do not use service resource to restart openvswitch service\n\nCloses-Bug: #1946985\nChange-Id: Idac29b0ea6794a52ae9146da8105ebbaf65ee9a3\n(cherry picked from commit 1fe71cf5e359c8f83f11b2673620be822423bf47)\n'}]",0,817105,f5ee885fffca3d079a014fb19aa96b5579375a6b,7,3,1,9816,,,0,"Do not use service resource to restart openvswitch service

Closes-Bug: #1946985
Change-Id: Idac29b0ea6794a52ae9146da8105ebbaf65ee9a3
(cherry picked from commit 1fe71cf5e359c8f83f11b2673620be822423bf47)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/05/817105/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/vs_config.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",5,f5ee885fffca3d079a014fb19aa96b5579375a6b,bug/1946985-stable/xena," value => 'true', restart => true, wait => true, # NOTE(tkajinam): This resource is defined to restart the openvswitch services # when any vs_config resource with restart => true is enabled. exec { 'restart openvswitch': path => ['/sbin', '/usr/sbin', '/bin', '/usr/bin'], command => ""systemctl -q restart ${::vswitch::params::ovs_service_name}.service"", refreshonly => true, } "," value => 'true', notify => Service['openvswitch'], wait => true,",39,8
openstack%2Fnova~master~Ib327f47b889dbccd5279f43c39203ed27689748b,openstack/nova,master,Ib327f47b889dbccd5279f43c39203ed27689748b,db: Remove models that were moved to the API database,MERGED,2021-10-01 14:34:34.000000000,2021-11-10 18:00:29.000000000,2021-11-10 17:56:48.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-01 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84729094fc7727ac38b7b37eb73a78dc071b7dcd', 'message': 'db: Remove models that were moved to the API database\n\nRemove all of the models that were moved to the API database many many\ncycles ago.\n\nChange-Id: Ib327f47b889dbccd5279f43c39203ed27689748b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-10-18 19:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3deb577edd62711776d47f635e65bd81ca23c3b9', 'message': 'db: Remove models that were moved to the API database\n\nRemove all of the models that were moved to the API database many many\ncycles ago.\n\nChange-Id: Ib327f47b889dbccd5279f43c39203ed27689748b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-10-22 13:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0c15a5bb7e2e8fb1140b687e47fd0ceb1ec80e4', 'message': 'db: Remove models that were moved to the API database\n\nRemove all of the models that were moved to the API database many many\ncycles ago.\n\nChange-Id: Ib327f47b889dbccd5279f43c39203ed27689748b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-11-03 17:34:01.000000000', 'files': ['nova/db/main/api.py', 'nova/tests/functional/db/test_flavor_model.py', 'nova/tests/unit/db/test_models.py', 'nova/tests/functional/db/test_aggregate_model.py', 'nova/db/main/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55fe6a7644c2a3a16714b7f42adcaf806a8f6c63', 'message': 'db: Remove models that were moved to the API database\n\nRemove all of the models that were moved to the API database many many\ncycles ago.\n\nChange-Id: Ib327f47b889dbccd5279f43c39203ed27689748b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,812149,55fe6a7644c2a3a16714b7f42adcaf806a8f6c63,27,3,4,15334,,,0,"db: Remove models that were moved to the API database

Remove all of the models that were moved to the API database many many
cycles ago.

Change-Id: Ib327f47b889dbccd5279f43c39203ed27689748b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/812149/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_models.py', 'nova/db/main/migrations/env.py', 'nova/db/main/models.py']",5,84729094fc7727ac38b7b37eb73a78dc071b7dcd,bp/remove-sqlalchemy-migrate,,"# NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class InstanceTypes(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents possible flavors for instances. Note: instance_type and flavor are synonyms and the term instance_type is deprecated and in the process of being removed. """""" __tablename__ = ""instance_types"" __table_args__ = ( schema.UniqueConstraint(""flavorid"", ""deleted"", name=""uniq_instance_types0flavorid0deleted""), schema.UniqueConstraint(""name"", ""deleted"", name=""uniq_instance_types0name0deleted"") ) # Internal only primary key/id id = sa.Column(sa.Integer, primary_key=True) name = sa.Column(sa.String(255)) memory_mb = sa.Column(sa.Integer, nullable=False) vcpus = sa.Column(sa.Integer, nullable=False) root_gb = sa.Column(sa.Integer) ephemeral_gb = sa.Column(sa.Integer) # Public facing id will be renamed public_id flavorid = sa.Column(sa.String(255)) swap = sa.Column(sa.Integer, nullable=False, default=0) rxtx_factor = sa.Column(sa.Float, default=1) vcpu_weight = sa.Column(sa.Integer) disabled = sa.Column(sa.Boolean, default=False) is_public = sa.Column(sa.Boolean, default=True) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class KeyPair(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a public key pair for ssh / WinRM."""""" __tablename__ = 'key_pairs' __table_args__ = ( schema.UniqueConstraint(""user_id"", ""name"", ""deleted"", name=""uniq_key_pairs0user_id0name0deleted""), ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) name = sa.Column(sa.String(255), nullable=False) user_id = sa.Column(sa.String(255)) fingerprint = sa.Column(sa.String(255)) public_key = sa.Column(types.MediumText()) type = sa.Column(sa.Enum('ssh', 'x509', name='keypair_types'), nullable=False, server_default='ssh') # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class InstanceTypeProjects(BASE, NovaBase, models.SoftDeleteMixin): """"""Represent projects associated instance_types."""""" __tablename__ = ""instance_type_projects"" __table_args__ = (schema.UniqueConstraint( ""instance_type_id"", ""project_id"", ""deleted"", name=""uniq_instance_type_projects0instance_type_id0project_id0deleted"" ), ) id = sa.Column(sa.Integer, primary_key=True) instance_type_id = sa.Column( sa.Integer, sa.ForeignKey('instance_types.id'), nullable=False) project_id = sa.Column(sa.String(255)) instance_type = orm.relationship(InstanceTypes, backref=""projects"", foreign_keys=instance_type_id, primaryjoin='and_(' 'InstanceTypeProjects.instance_type_id == InstanceTypes.id,' 'InstanceTypeProjects.deleted == 0)') # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class InstanceTypeExtraSpecs(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents additional specs as key/value pairs for an instance_type."""""" __tablename__ = 'instance_type_extra_specs' __table_args__ = ( sa.Index('instance_type_extra_specs_instance_type_id_key_idx', 'instance_type_id', 'key'), schema.UniqueConstraint( ""instance_type_id"", ""key"", ""deleted"", name=(""uniq_instance_type_extra_specs0"" ""instance_type_id0key0deleted"") ), {'mysql_collate': 'utf8_bin'}, ) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) instance_type_id = sa.Column( sa.Integer, sa.ForeignKey('instance_types.id'), nullable=False) instance_type = orm.relationship( InstanceTypes, backref=""extra_specs"", foreign_keys=instance_type_id, primaryjoin=( 'and_(' 'InstanceTypeExtraSpecs.instance_type_id == InstanceTypes.id,' 'InstanceTypeExtraSpecs.deleted == 0)'), ) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class AggregateHost(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a host that is member of an aggregate."""""" __tablename__ = 'aggregate_hosts' __table_args__ = (schema.UniqueConstraint( ""host"", ""aggregate_id"", ""deleted"", name=""uniq_aggregate_hosts0host0aggregate_id0deleted"" ), ) id = sa.Column(sa.Integer, primary_key=True, autoincrement=True) host = sa.Column(sa.String(255)) aggregate_id = sa.Column( sa.Integer, sa.ForeignKey('aggregates.id'), nullable=False) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class AggregateMetadata(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a metadata key/value pair for an aggregate."""""" __tablename__ = 'aggregate_metadata' __table_args__ = ( schema.UniqueConstraint(""aggregate_id"", ""key"", ""deleted"", name=""uniq_aggregate_metadata0aggregate_id0key0deleted"" ), sa.Index('aggregate_metadata_key_idx', 'key'), sa.Index('aggregate_metadata_value_idx', 'value'), ) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255), nullable=False) value = sa.Column(sa.String(255), nullable=False) aggregate_id = sa.Column( sa.Integer, sa.ForeignKey('aggregates.id'), nullable=False) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class Aggregate(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents a cluster of hosts that exists in this zone."""""" __tablename__ = 'aggregates' __table_args__ = (sa.Index('aggregate_uuid_idx', 'uuid'),) id = sa.Column(sa.Integer, primary_key=True, autoincrement=True) uuid = sa.Column(sa.String(36)) name = sa.Column(sa.String(255)) _hosts = orm.relationship(AggregateHost, primaryjoin='and_(' 'Aggregate.id == AggregateHost.aggregate_id,' 'AggregateHost.deleted == 0,' 'Aggregate.deleted == 0)') _metadata = orm.relationship(AggregateMetadata, primaryjoin='and_(' 'Aggregate.id == AggregateMetadata.aggregate_id,' 'AggregateMetadata.deleted == 0,' 'Aggregate.deleted == 0)') @property def _extra_keys(self): return ['hosts', 'metadetails', 'availability_zone'] @property def hosts(self): return [h.host for h in self._hosts] @property def metadetails(self): return {m.key: m.value for m in self._metadata} @property def availability_zone(self): if 'availability_zone' not in self.metadetails: return None return self.metadetails['availability_zone'] # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class InstanceGroupMember(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents the members for an instance group."""""" __tablename__ = 'instance_group_member' __table_args__ = ( sa.Index('instance_group_member_instance_idx', 'instance_id'), ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) instance_id = sa.Column(sa.String(255)) group_id = sa.Column(sa.Integer, sa.ForeignKey('instance_groups.id'), nullable=False) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class InstanceGroupPolicy(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents the policy type for an instance group."""""" __tablename__ = 'instance_group_policy' __table_args__ = ( sa.Index('instance_group_policy_policy_idx', 'policy'), ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) policy = sa.Column(sa.String(255)) group_id = sa.Column(sa.Integer, sa.ForeignKey('instance_groups.id'), nullable=False) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class InstanceGroup(BASE, NovaBase, models.SoftDeleteMixin): """"""Represents an instance group. A group will maintain a collection of instances and the relationship between them. """""" __tablename__ = 'instance_groups' __table_args__ = ( schema.UniqueConstraint(""uuid"", ""deleted"", name=""uniq_instance_groups0uuid0deleted""), ) id = sa.Column(sa.Integer, primary_key=True, autoincrement=True) user_id = sa.Column(sa.String(255)) project_id = sa.Column(sa.String(255)) uuid = sa.Column(sa.String(36), nullable=False) name = sa.Column(sa.String(255)) _policies = orm.relationship(InstanceGroupPolicy, primaryjoin='and_(' 'InstanceGroup.id == InstanceGroupPolicy.group_id,' 'InstanceGroupPolicy.deleted == 0,' 'InstanceGroup.deleted == 0)') _members = orm.relationship(InstanceGroupMember, primaryjoin='and_(' 'InstanceGroup.id == InstanceGroupMember.group_id,' 'InstanceGroupMember.deleted == 0,' 'InstanceGroup.deleted == 0)') @property def policies(self): return [p.policy for p in self._policies] @property def members(self): return [m.instance_id for m in self._members] # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class ResourceProvider(BASE, models.ModelBase): """"""Represents a mapping to a providers of resources."""""" __tablename__ = ""resource_providers"" __table_args__ = ( sa.Index('resource_providers_uuid_idx', 'uuid'), schema.UniqueConstraint('uuid', name='uniq_resource_providers0uuid'), sa.Index('resource_providers_name_idx', 'name'), schema.UniqueConstraint('name', name='uniq_resource_providers0name') ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) uuid = sa.Column(sa.String(36), nullable=False) name = sa.Column(sa.Unicode(200), nullable=True) generation = sa.Column(sa.Integer, default=0) can_host = sa.Column(sa.Integer, default=0) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class Inventory(BASE, models.ModelBase): """"""Represents a quantity of available resource."""""" __tablename__ = ""inventories"" __table_args__ = ( sa.Index('inventories_resource_provider_id_idx', 'resource_provider_id'), sa.Index('inventories_resource_class_id_idx', 'resource_class_id'), sa.Index('inventories_resource_provider_resource_class_idx', 'resource_provider_id', 'resource_class_id'), schema.UniqueConstraint('resource_provider_id', 'resource_class_id', name='uniq_inventories0resource_provider_resource_class') ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) resource_provider_id = sa.Column(sa.Integer, nullable=False) resource_class_id = sa.Column(sa.Integer, nullable=False) total = sa.Column(sa.Integer, nullable=False) reserved = sa.Column(sa.Integer, nullable=False) min_unit = sa.Column(sa.Integer, nullable=False) max_unit = sa.Column(sa.Integer, nullable=False) step_size = sa.Column(sa.Integer, nullable=False) allocation_ratio = sa.Column(sa.Float, nullable=False) resource_provider = orm.relationship( ""ResourceProvider"", primaryjoin=('and_(Inventory.resource_provider_id == ' 'ResourceProvider.id)'), foreign_keys=resource_provider_id) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class Allocation(BASE, models.ModelBase): """"""A use of inventory."""""" __tablename__ = ""allocations"" __table_args__ = ( sa.Index('allocations_resource_provider_class_used_idx', 'resource_provider_id', 'resource_class_id', 'used'), sa.Index('allocations_resource_class_id_idx', 'resource_class_id'), sa.Index('allocations_consumer_id_idx', 'consumer_id') ) id = sa.Column(sa.Integer, primary_key=True, nullable=False) resource_provider_id = sa.Column(sa.Integer, nullable=False) consumer_id = sa.Column(sa.String(36), nullable=False) resource_class_id = sa.Column(sa.Integer, nullable=False) used = sa.Column(sa.Integer, nullable=False) # NOTE(alaski): This table exists in the nova_api database and its usage here # is deprecated. class ResourceProviderAggregate(BASE, models.ModelBase): """"""Associate a resource provider with an aggregate."""""" __tablename__ = 'resource_provider_aggregates' __table_args__ = ( sa.Index('resource_provider_aggregates_aggregate_id_idx', 'aggregate_id'), ) resource_provider_id = sa.Column( sa.Integer, primary_key=True, nullable=False) aggregate_id = sa.Column(sa.Integer, primary_key=True, nullable=False) ",67,351
openstack%2Fpuppet-designate~master~Id3fab4c74d05a29c0784a9a44055e382f8ee66df,openstack/puppet-designate,master,Id3fab4c74d05a29c0784a9a44055e382f8ee66df,agent: Add support for workers and threads,MERGED,2021-11-10 00:27:57.000000000,2021-11-10 18:00:05.000000000,2021-11-10 17:57:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 00:27:57.000000000', 'files': ['releasenotes/notes/agent-workers-and-threads-633a885034e47a00.yaml', 'spec/classes/designate_agent_spec.rb', 'manifests/agent.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/751360a9b022702343c35d8c0d75000524e197ce', 'message': 'agent: Add support for workers and threads\n\nChange-Id: Id3fab4c74d05a29c0784a9a44055e382f8ee66df\n'}]",0,817319,751360a9b022702343c35d8c0d75000524e197ce,8,3,1,9816,,,0,"agent: Add support for workers and threads

Change-Id: Id3fab4c74d05a29c0784a9a44055e382f8ee66df
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/19/817319/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/agent-workers-and-threads-633a885034e47a00.yaml', 'manifests/agent.pp', 'spec/classes/designate_agent_spec.rb']",3,751360a9b022702343c35d8c0d75000524e197ce,agent-workers," is_expected.to contain_designate_config('service:agent/workers').with_value(8) is_expected.to contain_designate_config('service:agent/threads').with_value('<SERVICE DEFAULT>') params.merge!({ :workers => 2, :threads => 1000, :listen => '127.0.0.1:9002', }) is_expected.to contain_designate_config('service:agent/workers').with_value( params[:workers] ) is_expected.to contain_designate_config('service:agent/threads').with_value( params[:threads] ) facts.merge!(OSDefaults.get_facts({ :os_workers => 8 }))", params.merge!({ :listen => '127.0.0.1:9002' }) facts.merge!(OSDefaults.get_facts()),27,3
openstack%2Fheat~stable%2Fvictoria~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/victoria,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2021-11-04 01:22:30.000000000,2021-11-10 17:57:14.000000000,2021-11-10 17:54:24.000000000,"[{'_account_id': 8833}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 01:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1fd907a8c2cf06d2d735a62db6c587a70743f3cf', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 2, 'created': '2021-11-04 01:36:11.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/c062de4f24f1c29d8e7c7bb031a9c9672a183fc9', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/816603\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}]",1,816604,c062de4f24f1c29d8e7c7bb031a9c9672a183fc9,11,3,2,7118,,,0,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

Depends-On: https://review.opendev.org/c/openstack/heat/+/816603
Cherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff
Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/816604/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,1fd907a8c2cf06d2d735a62db6c587a70743f3cf,," # NOTE(ianw) OpenDev infra only keeps the latest two Fedora's # around; prefer the mirror but allow fallback HEAT_TEST_FEDORA_IMAGE_UPSTREAM=https://download.fedoraproject.org/pub/fedora/linux HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 if curl --output /dev/null --silent --head --fail ""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then export HEAT_TEST_FEDORA_IMAGE=""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" else export HEAT_TEST_FEDORA_IMAGE=""${HEAT_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" fi", export HEAT_TEST_FEDORA_IMAGE=${NODEPOOL_FEDORA_MIRROR:-https://download.fedoraproject.org/pub/fedora/linux}/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2,10,1
openstack%2Fheat~stable%2Fwallaby~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/wallaby,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2021-11-04 01:18:18.000000000,2021-11-10 17:57:11.000000000,2021-11-10 17:54:28.000000000,"[{'_account_id': 8833}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 01:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8e84d3cb2593f971ee64fc6fd5f58bff5933deb', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 2, 'created': '2021-11-04 01:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e98a5ad9a0aa97ba3fd153c29239f8e5521efbdd', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 3, 'created': '2021-11-04 01:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8c7a2487ed01b2d9ec99dffeef64a29050ab6121', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/816603\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 4, 'created': '2021-11-04 01:35:09.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/6211913213cdfb78e35a0e4096d51a7ef71c13f8', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/816604\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}]",1,816602,6211913213cdfb78e35a0e4096d51a7ef71c13f8,16,3,4,7118,,,0,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

Depends-On: https://review.opendev.org/c/openstack/heat/+/816604
Cherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff
Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/816602/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,c8e84d3cb2593f971ee64fc6fd5f58bff5933deb,," # NOTE(ianw) OpenDev infra only keeps the latest two Fedora's # around; prefer the mirror but allow fallback HEAT_TEST_FEDORA_IMAGE_UPSTREAM=https://download.fedoraproject.org/pub/fedora/linux HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 if curl --output /dev/null --silent --head --fail ""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then export HEAT_TEST_FEDORA_IMAGE=""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" else export HEAT_TEST_FEDORA_IMAGE=""${HEAT_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" fi", export HEAT_TEST_FEDORA_IMAGE=${NODEPOOL_FEDORA_MIRROR:-https://download.fedoraproject.org/pub/fedora/linux}/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2,10,1
openstack%2Fheat~stable%2Fussuri~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/ussuri,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2021-11-04 01:21:37.000000000,2021-11-10 17:57:07.000000000,2021-11-10 17:54:21.000000000,"[{'_account_id': 8833}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 01:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/28ea8a11c67cf6cc1c8c271a8bd9e30dabd1ee63', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 2, 'created': '2021-11-04 01:23:15.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/7e333cdc72038bc984715e916b0e393a2bf6e86d', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nCherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}]",1,816603,7e333cdc72038bc984715e916b0e393a2bf6e86d,11,3,2,7118,,,0,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

Cherry-Picked-From: f7574531d3dc3bbbf55fd7c17d55a10b5320c5ff
Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/816603/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,28ea8a11c67cf6cc1c8c271a8bd9e30dabd1ee63,," # NOTE(ianw) OpenDev infra only keeps the latest two Fedora's # around; prefer the mirror but allow fallback HEAT_TEST_FEDORA_IMAGE_UPSTREAM=https://download.fedoraproject.org/pub/fedora/linux HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 if curl --output /dev/null --silent --head --fail ""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then export HEAT_TEST_FEDORA_IMAGE=""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" else export HEAT_TEST_FEDORA_IMAGE=""${HEAT_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" fi", export HEAT_TEST_FEDORA_IMAGE=${NODEPOOL_FEDORA_MIRROR:-https://download.fedoraproject.org/pub/fedora/linux}/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2,10,1
openstack%2Fpuppet-ceilometer~master~I58be60247bba1483f49f830802d422109ff13930,openstack/puppet-ceilometer,master,I58be60247bba1483f49f830802d422109ff13930,Add support for polling Radosgw metrics,MERGED,2021-11-08 15:42:47.000000000,2021-11-10 17:53:54.000000000,2021-11-10 17:50:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 15:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/80997bfe7a2171547d323831dc0b1cdc34e3b3cc', 'message': 'Add support for polling Radosgw metrics\n\nCeilometer supports polling metrics from the Radosgw service using\nradosgw.* pollsters. This change introduces support for the parameters\nrequired to use that feature.\n\nChange-Id: I58be60247bba1483f49f830802d422109ff13930\n'}, {'number': 2, 'created': '2021-11-08 23:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/2b1dc7caf5611c8dea11834a28d18c8842e9de43', 'message': 'Add support for polling Radosgw metrics\n\nCeilometer supports polling metrics from the Radosgw service using\nradosgw.* pollsters. This change introduces support for the parameters\nrequired to use that feature.\n\nChange-Id: I58be60247bba1483f49f830802d422109ff13930\n'}, {'number': 3, 'created': '2021-11-08 23:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/03fdb8440d916fe31f8abe00a0022ec4d7786eec', 'message': 'Add support for polling Radosgw metrics\n\nCeilometer supports polling metrics from the Radosgw service using\nradosgw.* pollsters. This change introduces support for the parameters\nrequired to use that feature.\n\nChange-Id: I58be60247bba1483f49f830802d422109ff13930\n'}, {'number': 4, 'created': '2021-11-09 02:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/022ceb1f6c3fde895479010f16fb9128034b267c', 'message': 'Add support for polling Radosgw metrics\n\nCeilometer supports polling metrics from the Radosgw service using\nradosgw.* pollsters. This change introduces support for the parameters\nrequired to use that feature.\n\nChange-Id: I58be60247bba1483f49f830802d422109ff13930\n'}, {'number': 5, 'created': '2021-11-09 02:30:55.000000000', 'files': ['spec/classes/ceilometer_agent_polling_service_types_spec.rb', 'manifests/agent/polling/service_types.pp', 'spec/classes/ceilometer_agent_polling_rgw_spec.rb', 'manifests/agent/polling/rgw.pp', 'releasenotes/notes/rgw-support-35ca7afb8e5ec322.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/7fbd758d72d347c66f3431fc6ed475266b263081', 'message': 'Add support for polling Radosgw metrics\n\nCeilometer supports polling metrics from the Radosgw service using\nradosgw.* pollsters. This change introduces support for the parameters\nrequired to use that feature.\n\nChange-Id: I58be60247bba1483f49f830802d422109ff13930\n'}]",0,817040,7fbd758d72d347c66f3431fc6ed475266b263081,14,3,5,9816,,,0,"Add support for polling Radosgw metrics

Ceilometer supports polling metrics from the Radosgw service using
radosgw.* pollsters. This change introduces support for the parameters
required to use that feature.

Change-Id: I58be60247bba1483f49f830802d422109ff13930
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/40/817040/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agent/polling/service_types.pp', 'spec/classes/ceilometer_agent_polling_service_types_spec.rb', 'spec/classes/ceilometer_agent_polling_rgw_spec.rb', 'manifests/agent/polling/rgw.pp', 'releasenotes/notes/rgw-support-35ca7afb8e5ec322.yaml']",5,80997bfe7a2171547d323831dc0b1cdc34e3b3cc,service_types,--- features: - | Support for the parameters used to poll metrics from the Radosgw service has been added. ,,87,0
openstack%2Fpuppet-ceilometer~master~Ia81c9c3da067cacf131262a0ad9cfa575ff3c246,openstack/puppet-ceilometer,master,Ia81c9c3da067cacf131262a0ad9cfa575ff3c246,Add support for the [service_types] parameters,MERGED,2021-11-08 15:11:00.000000000,2021-11-10 17:52:16.000000000,2021-11-10 17:50:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 15:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/4268a4ed79e5a445d37ffbdc0a6d449c59b71df0', 'message': 'Add support for the [service_types] parameters\n\nChange-Id: Ia81c9c3da067cacf131262a0ad9cfa575ff3c246\n'}, {'number': 2, 'created': '2021-11-08 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f0f71a36f3368dce6c9aecfedca41690a1a57721', 'message': 'Add support for the [service_types] parameters\n\nChange-Id: Ia81c9c3da067cacf131262a0ad9cfa575ff3c246\n'}, {'number': 3, 'created': '2021-11-08 15:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a6c5f73407a921a5836f37d839fb7df03ae39998', 'message': 'Add support for the [service_types] parameters\n\nChange-Id: Ia81c9c3da067cacf131262a0ad9cfa575ff3c246\n'}, {'number': 4, 'created': '2021-11-08 23:34:32.000000000', 'files': ['spec/classes/ceilometer_agent_polling_service_types_spec.rb', 'manifests/agent/polling/service_types.pp', 'releasenotes/notes/service_types-2a672cdceff9227f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/89923f7eb120a1139d13af84f15c04aef261db48', 'message': 'Add support for the [service_types] parameters\n\nChange-Id: Ia81c9c3da067cacf131262a0ad9cfa575ff3c246\n'}]",3,817033,89923f7eb120a1139d13af84f15c04aef261db48,19,3,4,9816,,,0,"Add support for the [service_types] parameters

Change-Id: Ia81c9c3da067cacf131262a0ad9cfa575ff3c246
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/33/817033/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/polling/service_types.pp', 'spec/classes/ceilometer_polling_service_types_spec.rb', 'releasenotes/notes/service_types-2a672cdceff9227f.yaml']",3,4268a4ed79e5a445d37ffbdc0a6d449c59b71df0,service_types,"--- features: - | The new ``ceilometer::polling::service_types`` class, to manage parameters in the ``[service_types]`` section, has been added. ",,100,0
openstack%2Fpuppet-aodh~master~I2b367c92125b0a08d0da1795eda080727bcfa1e5,openstack/puppet-aodh,master,I2b367c92125b0a08d0da1795eda080727bcfa1e5,Add support for [DEFAULT] additional_ingestion_lag,MERGED,2021-11-10 05:49:39.000000000,2021-11-10 17:48:40.000000000,2021-11-10 17:46:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 05:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/9693a4d9b9208ddc6f0b8f9f714f01bc112a6347', 'message': 'Add support for [DEFAULT] additional_ingestion_lag\n\nChange-Id: I2b367c92125b0a08d0da1795eda080727bcfa1e5\n'}, {'number': 2, 'created': '2021-11-10 07:20:38.000000000', 'files': ['releasenotes/notes/additional_ingestion_lag-3027455ab31bc9b2.yaml', 'spec/classes/aodh_evaluator_spec.rb', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/89ddb1b8f2fa802c217a5fdd0b63f952c3d144c2', 'message': 'Add support for [DEFAULT] additional_ingestion_lag\n\nChange-Id: I2b367c92125b0a08d0da1795eda080727bcfa1e5\n'}]",0,817346,89ddb1b8f2fa802c217a5fdd0b63f952c3d144c2,10,3,2,9816,,,0,"Add support for [DEFAULT] additional_ingestion_lag

Change-Id: I2b367c92125b0a08d0da1795eda080727bcfa1e5
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/46/817346/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/additional_ingestion_lag-3027455ab31bc9b2.yaml', 'spec/classes/aodh_evaluator_spec.rb', 'manifests/evaluator.pp']",3,9693a4d9b9208ddc6f0b8f9f714f01bc112a6347,,"# [*additional_ingestion_lag*] # (optional) The number of seconds to extend the evaluation windows to # compensate the reporting/ingestion lag. # Defaults to $::os_service_default. # $manage_service = true, $enabled = true, $package_ensure = 'present', $workers = $::os_workers, $evaluation_interval = $::os_service_default, $event_alarm_cache_ttl = $::os_service_default, $additional_ingestion_lag = $::os_service_default, $coordination_url = undef, 'DEFAULT/evaluation_interval' : value => $evaluation_interval; 'DEFAULT/event_alarm_cache_ttl': value => $event_alarm_cache_ttl; 'DEFAULTadditional_ingestion_lag': value => $additional_ingestion_lag; 'evaluator/workers' : value => $workers;"," $manage_service = true, $enabled = true, $package_ensure = 'present', $workers = $::os_workers, $evaluation_interval = $::os_service_default, $event_alarm_cache_ttl = $::os_service_default, $coordination_url = undef, 'DEFAULT/evaluation_interval' : value => $evaluation_interval; 'DEFAULT/event_alarm_cache_ttl': value => $event_alarm_cache_ttl; 'evaluator/workers' : value => $workers;",27,12
openstack%2Fpuppet-aodh~master~I38389fffaf8128f5ac10b150332f546c609b7b9a,openstack/puppet-aodh,master,I38389fffaf8128f5ac10b150332f546c609b7b9a,Add support for the [DEFAULT] event_alarm_cache_ttl parameter,MERGED,2021-11-10 02:38:29.000000000,2021-11-10 17:46:10.000000000,2021-11-10 17:43:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 02:38:29.000000000', 'files': ['releasenotes/notes/event_alarm_cache_ttl-7ffe150d90e87649.yaml', 'spec/classes/aodh_evaluator_spec.rb', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/09c0b809377ccb30b1f1dfad58d36763b187b4b2', 'message': 'Add support for the [DEFAULT] event_alarm_cache_ttl parameter\n\nChange-Id: I38389fffaf8128f5ac10b150332f546c609b7b9a\n'}]",0,817333,09c0b809377ccb30b1f1dfad58d36763b187b4b2,8,3,1,9816,,,0,"Add support for the [DEFAULT] event_alarm_cache_ttl parameter

Change-Id: I38389fffaf8128f5ac10b150332f546c609b7b9a
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/33/817333/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/event_alarm_cache_ttl-7ffe150d90e87649.yaml', 'spec/classes/aodh_evaluator_spec.rb', 'manifests/evaluator.pp']",3,09c0b809377ccb30b1f1dfad58d36763b187b4b2,,"# [*event_alarm_cache_ttl*] # (optional) TTL of event alram caches, in seconds. # Defaults to $::os_service_default. # $manage_service = true, $enabled = true, $package_ensure = 'present', $workers = $::os_workers, $evaluation_interval = $::os_service_default, $event_alarm_cache_ttl = $::os_service_default, $coordination_url = undef, 'DEFAULT/evaluation_interval' : value => $evaluation_interval; 'DEFAULT/event_alarm_cache_ttl': value => $event_alarm_cache_ttl; 'evaluator/workers' : value => $workers;"," $manage_service = true, $enabled = true, $package_ensure = 'present', $workers = $::os_workers, $evaluation_interval = $::os_service_default, $coordination_url = undef, 'DEFAULT/evaluation_interval' : value => $evaluation_interval; 'evaluator/workers' : value => $workers;",28,12
openstack%2Fcharm-vault~master~Ie4573ac3a75e994d8762ca6c7b96cc32acbe4479,openstack/charm-vault,master,Ie4573ac3a75e994d8762ca6c7b96cc32acbe4479,Add changes to the README.md,NEW,2021-11-10 14:34:27.000000000,2021-11-10 17:25:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-11-10 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c5a905ebc9752ab70e47bd6026f3bfc41bf95281', 'message': 'Add changes to the README.md\n\nChange-Id: Ie4573ac3a75e994d8762ca6c7b96cc32acbe4479\n'}, {'number': 2, 'created': '2021-11-10 14:39:28.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/782d137bf448f08b6efc79aaca5594edabb175f2', 'message': 'Add changes to the README.md\n\nChange-Id: Ie4573ac3a75e994d8762ca6c7b96cc32acbe4479\n'}]",1,817439,782d137bf448f08b6efc79aaca5594edabb175f2,4,2,2,34063,,,0,"Add changes to the README.md

Change-Id: Ie4573ac3a75e994d8762ca6c7b96cc32acbe4479
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/39/817439/2 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,c5a905ebc9752ab70e47bd6026f3bfc41bf95281,anna-savchenko-readme-fix,"> **Important**: Before building the vault charm (if required), it is recommended to install libpq-dev (sudo apt install libpq-dev). ",,3,0
openstack%2Fpuppet-octavia~master~I171da249fbe6e372f1b5ef57e7e6f641aa13ad6b,openstack/puppet-octavia,master,I171da249fbe6e372f1b5ef57e7e6f641aa13ad6b,Remove deprecated octavia::api::ovn_nb_connection,MERGED,2021-11-09 23:14:52.000000000,2021-11-10 17:19:10.000000000,2021-11-10 17:11:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 23:14:52.000000000', 'files': ['releasenotes/notes/remove-api-ovn_nb_connection-2d85f0ece3db7576.yaml', 'manifests/provider/ovn.pp', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/045272a8ce0c4e20f6ceef3bea9876fabf276524', 'message': 'Remove deprecated octavia::api::ovn_nb_connection\n\n... which was deprecated during the Ussuri cycle[1] in favor of the new\nindependent octavia::provider::ovn class.\n\n[1] 8777b5031c611b7a4dd9cc9afbf0e65a0069ccf1\n\nChange-Id: I171da249fbe6e372f1b5ef57e7e6f641aa13ad6b\n'}]",0,817316,045272a8ce0c4e20f6ceef3bea9876fabf276524,8,3,1,9816,,,0,"Remove deprecated octavia::api::ovn_nb_connection

... which was deprecated during the Ussuri cycle[1] in favor of the new
independent octavia::provider::ovn class.

[1] 8777b5031c611b7a4dd9cc9afbf0e65a0069ccf1

Change-Id: I171da249fbe6e372f1b5ef57e7e6f641aa13ad6b
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/16/817316/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/provider/ovn.pp', 'releasenotes/notes/remove-api-ovn_nb_connection-2d85f0ece3db7576.yaml', 'manifests/api.pp']",3,045272a8ce0c4e20f6ceef3bea9876fabf276524,ovn-cleanup,,# DEPRECATED PARAMETERS # # [*ovn_nb_connection*] # (optional) The connection string for the OVN_Northbound OVSDB. # Defaults to undef # # DEPRECATED PARAMETERS $ovn_nb_connection = undef if $ovn_nb_connection { warning('The ovn_nb_connection parameter is deprecated from octavia::api. Use octavia::provider::ovn::ovn_nb_connection.') } ,5,20
openstack%2Fpuppet-octavia~master~Ie260a82c96b3e5f847a12027ccc7f416b6d456e4,openstack/puppet-octavia,master,Ie260a82c96b3e5f847a12027ccc7f416b6d456e4,ovn: Add support for ovn_sb_* parameters,MERGED,2021-11-09 15:44:16.000000000,2021-11-10 17:16:13.000000000,2021-11-10 17:11:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 15:44:16.000000000', 'files': ['manifests/provider/ovn.pp', 'releasenotes/notes/ovnsb-params-e7bdca2b53465ed9.yaml', 'spec/classes/octavia_provider_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/728d549daff0290ffc0c656bb85df9c3416d8702', 'message': 'ovn: Add support for ovn_sb_* parameters\n\nThis change introduces support for the [ovn] ovn_sb_* parameters, which\nare required to use health monitors for ovn-octavia-provider[1].\n\n[1] 8bbd8f1b62d7811433079bff8ce940fbdd041a0c\n\nChange-Id: Ie260a82c96b3e5f847a12027ccc7f416b6d456e4\n'}]",0,817242,728d549daff0290ffc0c656bb85df9c3416d8702,8,3,1,9816,,,0,"ovn: Add support for ovn_sb_* parameters

This change introduces support for the [ovn] ovn_sb_* parameters, which
are required to use health monitors for ovn-octavia-provider[1].

[1] 8bbd8f1b62d7811433079bff8ce940fbdd041a0c

Change-Id: Ie260a82c96b3e5f847a12027ccc7f416b6d456e4
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/42/817242/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/provider/ovn.pp', 'releasenotes/notes/ovnsb-params-e7bdca2b53465ed9.yaml', 'spec/classes/octavia_provider_ovn_spec.rb']",3,728d549daff0290ffc0c656bb85df9c3416d8702,ovn-sbdb," it { is_expected.to contain_octavia_config('ovn/ovn_sb_connection').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_octavia_config('ovn/ovn_sb_private_key').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_octavia_config('ovn/ovn_sb_certificate').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_octavia_config('ovn/ovn_sb_ca_cert').with_value('<SERVICE DEFAULT>') } :ovn_sb_connection => 'tcp:127.0.0.1:6642', :ovn_sb_private_key => '/bar.key', :ovn_sb_certificate => '/bar.pem', :ovn_sb_ca_cert => '/ca_bar.pem', it { is_expected.to contain_octavia_config('ovn/ovn_sb_connection').with_value('tcp:127.0.0.1:6642') } it { is_expected.to contain_octavia_config('ovn/ovn_sb_private_key').with_value('/bar.key') } it { is_expected.to contain_octavia_config('ovn/ovn_sb_certificate').with_value('/bar.pem') } it { is_expected.to contain_octavia_config('ovn/ovn_sb_ca_cert').with_value('/ca_bar.pem') }",,43,0
openstack%2Ftripleo-docs~master~I3e98a1f051f1ea981fae6ac60d9cd16ac93e83b6,openstack/tripleo-docs,master,I3e98a1f051f1ea981fae6ac60d9cd16ac93e83b6,Document managed flag for baremetal provisioning,MERGED,2021-08-17 12:22:41.000000000,2021-11-10 17:12:06.000000000,2021-11-10 17:08:34.000000000,"[{'_account_id': 8833}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-17 12:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8b5485b2f157d46d1833b711f98c4377e9e4adc7', 'message': 'Document managed flag for baremetal provisioning\n\nChange-Id: I3e98a1f051f1ea981fae6ac60d9cd16ac93e83b6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-11-03 16:49:03.000000000', 'files': ['deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4fe522ffb5e1e134f4d0b72a7d50a90f80e74874', 'message': 'Document managed flag for baremetal provisioning\n\nChange-Id: I3e98a1f051f1ea981fae6ac60d9cd16ac93e83b6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,804870,4fe522ffb5e1e134f4d0b72a7d50a90f80e74874,15,5,2,7144,,,0,"Document managed flag for baremetal provisioning

Change-Id: I3e98a1f051f1ea981fae6ac60d9cd16ac93e83b6
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/70/804870/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/baremetal_provision.rst'],1,8b5485b2f157d46d1833b711f98c4377e9e4adc7,ephemeral-heat,"* ``managed``: Boolean to determine whether the instance is actually provisioned with metalsmith, or should be treated as preprovisioned. ",,3,0
openstack%2Fpuppet-octavia~master~I9542ca07f8fd7da442ce3d6aab0f88286db021ad,openstack/puppet-octavia,master,I9542ca07f8fd7da442ce3d6aab0f88286db021ad,ovn: Add more tunables related to OVN DB connection,MERGED,2021-11-09 15:33:49.000000000,2021-11-10 17:10:01.000000000,2021-11-10 17:07:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 15:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d81fdc381a09aa1005a69d5f2a80292c238dcf3f', 'message': 'ovn-provider: Add more tunables related to OVN DB connection\n\nChange-Id: I9542ca07f8fd7da442ce3d6aab0f88286db021ad\n'}, {'number': 2, 'created': '2021-11-09 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f9a77e94527ed39a77a1219de5620530566be7e1', 'message': 'ovn-provider: Add more tunables related to OVN DB connection\n\nChange-Id: I9542ca07f8fd7da442ce3d6aab0f88286db021ad\n'}, {'number': 3, 'created': '2021-11-09 15:44:16.000000000', 'files': ['releasenotes/notes/ovn-tunables-103622c80b71d03d.yaml', 'manifests/provider/ovn.pp', 'spec/classes/octavia_provider_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/2a6d6b8b4d124b16536c782030b768d9b0294c5e', 'message': 'ovn: Add more tunables related to OVN DB connection\n\nChange-Id: I9542ca07f8fd7da442ce3d6aab0f88286db021ad\n'}]",0,817238,2a6d6b8b4d124b16536c782030b768d9b0294c5e,12,3,3,9816,,,0,"ovn: Add more tunables related to OVN DB connection

Change-Id: I9542ca07f8fd7da442ce3d6aab0f88286db021ad
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/38/817238/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn-tunables-103622c80b71d03d.yaml', 'manifests/provider/ovn.pp', 'spec/classes/octavia_provider_ovn_spec.rb']",3,d81fdc381a09aa1005a69d5f2a80292c238dcf3f,ovn-tunables," it { is_expected.to contain_octavia_config('ovn/ovsdb_connection_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_octavia_config('ovn/ovsdb_retry_max_interval').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_octavia_config('ovn/ovsdb_probe_interval').with_value('<SERVICE DEFAULT>') } :ovn_nb_connection => 'tcp:127.0.0.1:6641', :ovn_nb_private_key => '/foo.key', :ovn_nb_certificate => '/foo.pem', :ovn_nb_ca_cert => '/ca_foo.pem', :ovsdb_connection_timeout => 180, :ovsdb_retry_max_interval => 180, :ovsdb_probe_interval => 60000, it { is_expected.to contain_octavia_config('ovn/ovsdb_connection_timeout').with_value(180) } it { is_expected.to contain_octavia_config('ovn/ovsdb_retry_max_interval').with_value(180) } it { is_expected.to contain_octavia_config('ovn/ovsdb_probe_interval').with_value(60000) }"," :ovn_nb_connection => 'tcp:127.0.0.1:6641', :ovn_nb_private_key => '/foo.key', :ovn_nb_certificate => '/foo.pem', :ovn_nb_ca_cert => '/ca_foo.pem'",37,13
openstack%2Fopenstack-helm~master~Ia188193929143cb6ae52266a5a87d2662626d42e,openstack/openstack-helm,master,Ia188193929143cb6ae52266a5a87d2662626d42e,Only run cinder jobs on cinder changes,MERGED,2021-11-04 20:19:48.000000000,2021-11-10 17:07:46.000000000,2021-11-10 16:54:53.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-11-04 20:19:48.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f42a54532cb76bc81ba9acd9ef90a9376d256ebe', 'message': 'Only run cinder jobs on cinder changes\n\nWe currently run multiple jobs that deploy cinder on changes\nthat have no relation to the service. This change modifies the\njob to only run when we modify the cinder chart, test scripts,\nor the zuul files themselves.\n\nChange-Id: Ia188193929143cb6ae52266a5a87d2662626d42e\n'}]",0,816747,f42a54532cb76bc81ba9acd9ef90a9376d256ebe,10,4,1,21420,,,0,"Only run cinder jobs on cinder changes

We currently run multiple jobs that deploy cinder on changes
that have no relation to the service. This change modifies the
job to only run when we modify the cinder chart, test scripts,
or the zuul files themselves.

Change-Id: Ia188193929143cb6ae52266a5a87d2662626d42e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/47/816747/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,f42a54532cb76bc81ba9acd9ef90a9376d256ebe,, files: - ^cinder/.*$ - ^zuul\.d/.*$ - ^tools/deployment/component/cinder/.,,4,0
openstack%2Fopenstack-ansible-tests~master~If67c448dcefb0fcd7a345fe48da5cebc372c2432,openstack/openstack-ansible-tests,master,If67c448dcefb0fcd7a345fe48da5cebc372c2432,Bump ansible and collection versions,MERGED,2021-10-06 13:47:10.000000000,2021-11-10 17:06:59.000000000,2021-11-10 17:03:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-10-06 13:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1f3bbc5a186830bce4b76bbb88e52f33da11e360', 'message': 'Bump ansible and collection versions\n\nChange-Id: If67c448dcefb0fcd7a345fe48da5cebc372c2432\n'}, {'number': 2, 'created': '2021-10-06 14:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c9b4934fd4421060cf0de720ec29c34d6dd2f62c', 'message': 'Bump ansible and collection versions\n\nChange-Id: If67c448dcefb0fcd7a345fe48da5cebc372c2432\n'}, {'number': 3, 'created': '2021-11-10 09:54:12.000000000', 'files': ['test-ansible-deps.txt', 'test-ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6345b19bca84eddcd564a3fdcda70ab9650ae52b', 'message': 'Bump ansible and collection versions\n\nChange-Id: If67c448dcefb0fcd7a345fe48da5cebc372c2432\n'}]",0,812684,6345b19bca84eddcd564a3fdcda70ab9650ae52b,14,3,3,28619,,,0,"Bump ansible and collection versions

Change-Id: If67c448dcefb0fcd7a345fe48da5cebc372c2432
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/84/812684/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-deps.txt', 'test-ansible-collection-requirements.yml']",2,1f3bbc5a186830bce4b76bbb88e52f33da11e360,, version: 1.5.1 version: 3.6.0 version: 1.1.0 version: 2.1.1 version: 1.9.2 version: 1.3.0 version: 2.0.0, version: 1.2.1 version: 2.1.1 version: 1.0.1 version: 1.2.0 version: 1.4.0 version: 1.1.1 version: 1.1.0,8,8
openstack%2Ftripleo-docs~master~I4674cbfaae157b3795477e89096a21b471a3a61c,openstack/tripleo-docs,master,I4674cbfaae157b3795477e89096a21b471a3a61c,Update deployed-server docs for using deployed network resources,MERGED,2021-08-17 12:22:41.000000000,2021-11-10 17:06:05.000000000,2021-11-10 17:01:55.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-17 12:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4e14fc110a72ff1d8354cfb8279be470b0f4e005', 'message': 'Update deployed-server docs for using deployed network resources\n\nChange-Id: I4674cbfaae157b3795477e89096a21b471a3a61c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-11-03 16:49:03.000000000', 'files': ['deploy-guide/source/features/deployed_server.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/db3e7cf06bd5f89e0749728cf4cc786abcb1ae65', 'message': 'Update deployed-server docs for using deployed network resources\n\nChange-Id: I4674cbfaae157b3795477e89096a21b471a3a61c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,804849,db3e7cf06bd5f89e0749728cf4cc786abcb1ae65,12,4,2,7144,,,0,"Update deployed-server docs for using deployed network resources

Change-Id: I4674cbfaae157b3795477e89096a21b471a3a61c
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/49/804849/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_server.rst'],1,4e14fc110a72ff1d8354cfb8279be470b0f4e005,ephemeral-heat,"In this deployment scenario, Ironic from the Undercloud is not usedAdditionally, Neutron can be optionally used or not. Provision networks and ports if using Neutron ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ If using Neutron for resource managment, Network resources for the deployment still must be provisioned with the ``openstack overcloud network provision`` command as documented in :ref:`custom_networks`. Port resources for the deployment still must be provisioned with the ``openstack overcloud node provision`` command as documented in :ref:`baremetal_provision`. Set the ``managed`` key to false in either the ``defaults`` dictionary for each role, or on each instances dictionary in the baremetal provision configuration file. The generated file must then be passed to the ``openstack overcloud deploy`` command. With generated baremetal and network environments _________________________________________________ Include the generated environment files with the deployment command:: openstack overcloud deploy \ --deployed-server \ -e ~/overcloud-networks-deployed.yaml \ -e ~/overcloud-baremetal-deployed.yaml \ <other arguments> Without generated environments (no Neutron) ___________________________________________ The following command would be used when the ``openstack overcloud network provision`` and ``openstack overcloud node provision`` commands were not used. Additional environment files need to be passed to the deployment command:: openstack overcloud deploy \ --deployed-server \ -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-environment.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-networks.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-ports.yaml \ -e ~/hostnamemap.yaml \ -e ~/deployed-server-network-environment.yaml \ <other arguments> The environment file ``deployed-server-environment.yaml`` contains the necessary ``resource_registry`` mappings to disable Nova management of overcloud servers so that deployed servers are used instead. ``deployed-networks.yaml`` and ``deployed-ports.yaml`` enable the necessary mappings to disable the Neutron management of network resources. ``hostnamemap.yaml`` is optional and should define the ``HostnameMap`` parameter if the actual server hostnames do not match the default role hostname format. For example::``deployed-server-network-environment.yaml`` should define the following parameters:: NodePortMap DeployedNetworkEnvironment ControlPlaneVipData VipPortMap OVNDBsVirtualFixedIPs RedisVirtualFixedIPs EC2MetadataIp ControlPlaneDefaultRoute The following is a sample environment file that shows setting these values:: DeployedNetworkEnvironment: net_attributes_map: external: network: dns_domain: external.tripleodomain. mtu: 1400 name: external tags: - tripleo_network_name=External - tripleo_net_idx=0 - tripleo_vip=true subnets: external_subnet: cidr: 10.0.0.0/24 dns_nameservers: [] gateway_ip: null host_routes: [] ip_version: 4 name: external_subnet tags: - tripleo_vlan_id=10 internal_api: network: dns_domain: internalapi.tripleodomain. mtu: 1400 name: internal_api tags: - tripleo_net_idx=1 - tripleo_vip=true - tripleo_network_name=InternalApi subnets: internal_api_subnet: cidr: 172.16.2.0/24 dns_nameservers: [] gateway_ip: null host_routes: [] ip_version: 4 name: internal_api_subnet tags: - tripleo_vlan_id=20 management: network: dns_domain: management.tripleodomain. mtu: 1400 name: management tags: - tripleo_net_idx=5 - tripleo_network_name=Management subnets: management_subnet: cidr: 192.168.1.0/24 dns_nameservers: [] gateway_ip: 192.168.1.1 host_routes: [] ip_version: 4 name: management_subnet tags: - tripleo_vlan_id=60 storage: network: dns_domain: storage.tripleodomain. mtu: 1400 name: storage tags: - tripleo_net_idx=3 - tripleo_vip=true - tripleo_network_name=Storage subnets: storage_subnet: cidr: 172.16.1.0/24 dns_nameservers: [] gateway_ip: null host_routes: [] ip_version: 4 name: storage_subnet tags: - tripleo_vlan_id=30 storage_mgmt: network: dns_domain: storagemgmt.tripleodomain. mtu: 1400 name: storage_mgmt tags: - tripleo_net_idx=4 - tripleo_vip=true - tripleo_network_name=StorageMgmt subnets: storage_mgmt_subnet: cidr: 172.16.3.0/24 dns_nameservers: [] gateway_ip: null host_routes: [] ip_version: 4 name: storage_mgmt_subnet tags: - tripleo_vlan_id=40 tenant: network: dns_domain: tenant.tripleodomain. mtu: 1400 name: tenant tags: - tripleo_net_idx=2 - tripleo_network_name=Tenant subnets: tenant_subnet: cidr: 172.16.0.0/24 dns_nameservers: [] gateway_ip: null host_routes: [] ip_version: 4 name: tenant_subnet tags: - tripleo_vlan_id=50 net_cidr_map: external: - 10.0.0.0/24 internal_api: - 172.16.2.0/24 management: - 192.168.1.0/24 storage: - 172.16.1.0/24 storage_mgmt: - 172.16.3.0/24 tenant: - 172.16.0.0/24 net_ip_version_map: external: 4 internal_api: 4 management: 4 storage: 4 storage_mgmt: 4 tenant: 4 .. note:: Beginning in Wallaby, the above parameter values and the ``deployed-networks.yaml`` and ``deployed-ports.yaml`` environments replace the use of the ``DeployedServerPortMap`` parameter, the ``environments/deployed-server-deployed-neutron-ports.yaml`` environment, and the ``deployed-neutron-port.yaml`` template. The previous parameters and environments can still be used but are considered deprecated in Wallaby. .. admonition:: Victoria and prior releases The ``DeployedServerPortMap`` parameter can be used to assign fixed IP's from either the ctlplane network or the IP address range for the overcloud. If the deployed servers were preconfigured with IP addresses from the ctlplane network for the initial undercloud connectivity, then the same IP addresses can be reused during the overcloud deployment. Add the following to a new environment file and specify the environment file as part of the deployment command:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: ../deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: controller0-ctlplane: fixed_ips: - ip_address: 192.168.24.9 subnets: - cidr: 192.168.24.0/24 network: tags: - 192.168.24.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.24.8 subnets: - cidr: 192.168.24..0/24 network: tags: - 192.168.24.0/24 The value of the DeployedServerPortMap variable is a map. The keys correspond to the ``<short hostname>-ctlplane`` of the deployed servers. Specify the ip addresses and subnet CIDR to be assigned under ``fixed_ips``. In the case where the ctlplane is not routable from the deployed servers, the virtual IPs on the ControlPlane, as well as the virtual IPs for services (Redis and OVNDBs) must be statically assigned. Use ``DeployedServerPortMap`` to assign an IP address from any CIDR:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::ControlPlaneVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml # Set VIP's for redis and OVN to noop to default to the ctlplane VIP # The ctlplane VIP is set with control_virtual_ip in # DeployedServerPortMap below. # # Alternatively, these can be mapped to deployed-neutron-port.yaml as # well and redis_virtual_ip and ovn_dbs_virtual_ip added to the # DeployedServerPortMap value to set fixed IP's. OS::TripleO::Network::Ports::RedisVipPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml OS::TripleO::Network::Ports::OVNDBsVipPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml parameter_defaults: NeutronPublicInterface: eth1 EC2MetadataIp: 192.168.100.1 ControlPlaneDefaultRoute: 192.168.100.1 DeployedServerPortMap: control_virtual_ip: fixed_ips: - ip_address: 192.168.100.1 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 controller0-ctlplane: fixed_ips: - ip_address: 192.168.100.2 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.100.3 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 In the above example, notice how ``RedisVipPort`` and ``OVNDBsVipPort`` are mapped to ``network/ports/noop.yaml``. This mapping is due to the fact that these VIP IP addresses comes from the ctlplane by default, and they will use the same VIP address that is used for ``ControlPlanePort``. Alternatively these VIP's can be mapped to their own fixed IP's, in which case a VIP will be created for each. In this case, the following mappings and values would be added to the above example:: resource_registry: OS::TripleO::Network::Ports::RedisVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::OVNDBsVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: redis_virtual_ip: fixed_ips: - ip_address: 192.168.100.10 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 ovn_dbs_virtual_ip: fixed_ips: - ip_address: 192.168.100.11 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 Use ``DeployedServerPortMap`` to assign an ControlPlane Virtual IP address from any CIDR, and the ``RedisVirtualFixedIPs`` and ``OVNDBsVirtualFixedIPs`` parameters to assing the ``RedisVip`` and ``OVNDBsVip``:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::ControlPlaneVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: NeutronPublicInterface: eth1 EC2MetadataIp: 192.168.100.1 ControlPlaneDefaultRoute: 192.168.100.1 # Set VIP's for redis and OVN RedisVirtualFixedIPs: - ip_address: 192.168.100.10 use_neutron: false OVNDBsVirtualFixedIPs: - ip_address: 192.168.100.11 use_neutron: false DeployedServerPortMap: control_virtual_ip: fixed_ips: - ip_address: 192.168.100.1 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 controller0-ctlplane: fixed_ips: - ip_address: 192.168.100.2 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.100.3 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 Starting in Train and onward, `openstack overcloud node delete` can take a list of server hostnames instead of instance ids. However they can't be mixed while running the command. Example: if you use hostnames, it would have to be for all the nodes to delete. .. admonition:: Victoria and prior releases :class: victoria The following instructions should be used when the cloud is deployed on Victoria or a prior release. When scaling down the Overcloud, follow the scale down instructions as normal as shown in :doc:`../post_deployment/delete_nodes`, however use the following command to get the uuid values to pass to `openstack overcloud node delete` instead of using `nova list`:: openstack stack resource list overcloud -n5 --filter type=OS::TripleO::<RoleName>Server Replace `<RoleName>` in the above command with the actual name of the role that you are scaling down. The `stack_name` column in the command output can be used to identify the uuid associated with each node. The `stack_name` will include the integer value of the index of the node in the Heat resource group. For example, in the following sample output:: $ openstack stack resource list overcloud -n5 --filter type=OS::TripleO::ComputeDeployedServerServer +-----------------------+--------------------------------------+------------------------------------------+-----------------+----------------------+-------------------------------------------------------------+ | resource_name | physical_resource_id | resource_type | resource_status | updated_time | stack_name | +-----------------------+--------------------------------------+------------------------------------------+-----------------+----------------------+-------------------------------------------------------------+ | ComputeDeployedServer | 66b1487c-51ee-4fd0-8d8d-26e9383207f5 | OS::TripleO::ComputeDeployedServerServer | CREATE_COMPLETE | 2017-10-31T23:45:18Z | overcloud-ComputeDeployedServer-myztzg7pn54d-0-pixawichjjl3 | | ComputeDeployedServer | 01cf59d7-c543-4f50-95df-6562fd2ed7fb | OS::TripleO::ComputeDeployedServerServer | CREATE_COMPLETE | 2017-10-31T23:45:18Z | overcloud-ComputeDeployedServer-myztzg7pn54d-1-ooCahg1vaequ | | ComputeDeployedServer | 278af32c-c3a4-427e-96d2-3cda7e706c50 | OS::TripleO::ComputeDeployedServerServer | CREATE_COMPLETE | 2017-10-31T23:45:18Z | overcloud-ComputeDeployedServer-myztzg7pn54d-2-xooM5jai2ees | +-----------------------+--------------------------------------+------------------------------------------+-----------------+----------------------+-------------------------------------------------------------+ The index 0, 1, or 2 can be seen in the `stack_name` column. These indices correspond to the order of the nodes in the Heat resource group. Pass the corresponding uuid value from the `physical_resource_id` column to `openstack overcloud node delete` command.and could remain functional as part of the deployment, since there are no steps to unconfigure, uninstall software, or stop services on nodes when scaling down.","In this deployment scenario, Nova and Ironic from the Undercloud are not usedThe functionality of using already deployed servers is enabled by passing additional Heat environment files to the ``openstack overcloud deploy`` command.:: openstack overcloud deploy \ <other cli arguments> \ -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-environment.yaml .. admonition:: Until Victoria :class: stable Note that, until Victoria, you have to pass ``--disable-validations`` in order to disable the basics Nova, Ironic and Glance validations executed by python-tripleoclient. These validations are not necessary since those services will not be used to deploy the Overcloud. The ``deployed-server.yaml`` environment takes advantage of the template composition nature of Heat and tripleo-heat-templates to substitute ``OS::Heat::DeployedServer`` resources in place of ``OS::Nova::Server``. .. note:: Previously a custom roles file was needed when using deployed-server. The custom roles file was located in the templates directory at deployed-server/deployed-server-roles-data.yaml. The custom roles file addressed setting ``disable_constraints: true`` on each of the roles. This is no longer required starting in the train release. .. note:: Previously, environment files were used to enable bootstrap tasks on the deployed servers. These files were environments/deployed-server-bootstrap-environment-centos.yaml and environments/deployed-server-bootstrap-environment-rhel.yaml. Starting in the train release, these environment files are no longer required and they have been removed from tripleo-heat-templates. .. note:: Starting in the train release, support for setting DeploymentSwiftDataMap parameter and configuring deployed servers using heat has been removed. deployed-server with config-download ____________________________________ When using :doc:`config-download <../deployment/ansible_config_download>` with ``deployed-server`` (pre-provisioned nodes), a ``HostnameMap`` parameter must be provided. Create an environment file to define the parameter, and assign the node hostnames in the parameter value. The following example shows a sample value::Write the contents to an environment file such as ``hostnamemap.yaml``, and pass it the environment as part of the deployment command. It's imperative that the ``HostnameMap`` keys correspond to the ``HostnameFormatDefault`` for the appropriate role. For example, using ``overcloud-controller-0`` matches ``HostnameFormatDefault: '%stackname%-controller-%index%'`` in the ``Controller`` role. Similarly, ``overcloud-novacompute-0`` matches ``HostnameFormatDefault: '%stackname%-novacompute-%index%'`` for the ``Compute`` role. If you decide to change the ``HostnameFormatDefault`` to a different value, you'll need to account for this in your ``hostnamemap.yaml`` file. Mismatched values between the ``HostnameMap`` keys and ``HostnameFormatDefault`` causes failures during overcloud installation because TripleO can't find the appropriate hosts, as it's using the wrong names. Network Configuration _____________________ The default network interface configuration mappings for the deployed-server roles are:: OS::TripleO::ControllerDeployedServer::Net::SoftwareConfig: net-config-static-bridge.yaml OS::TripleO::ComputeDeployedServer::Net::SoftwareConfig: net-config-static.yaml OS::TripleO::BlockStorageDeployedServer::Net::SoftwareConfig: net-config-static.yaml OS::TripleO::ObjectStorageDeployedServer::Net::SoftwareConfig: net-config-static.yaml OS::TripleO::CephStorageDeployedServer::Net::SoftwareConfig: net-config-static.yaml The default NIC configs use static IP assignment instead of the default of DHCP. This is due to there being no requirement of L2 connectivity between the undercloud and overcloud. However, the NIC config templates can be overridden to use whatever configuration is desired (including DHCP). As is the case when not using deployed-servers, the following parameters need to also be specified:: parameter_defaults: NeutronPublicInterface: eth1 ControlPlaneDefaultRoute: 192.168.24.1 EC2MetadataIp: 192.168.24.1 ``ControlPlaneDefaultRoute`` and ``EC2MetadataIp`` are not necessarily meaningful parameters depending on the network architecture in use with deployed servers. However, they still must be specified as they are required parameters for the template interface. .. admonition:: Victoria and prior releases The ``DeployedServerPortMap`` parameter can be used to assign fixed IP's from either the ctlplane network or the IP address range for the overcloud. If the deployed servers were preconfigured with IP addresses from the ctlplane network for the initial undercloud connectivity, then the same IP addresses can be reused during the overcloud deployment. Add the following to a new environment file and specify the environment file as part of the deployment command:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: ../deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: controller0-ctlplane: fixed_ips: - ip_address: 192.168.24.9 subnets: - cidr: 192.168.24.0/24 network: tags: - 192.168.24.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.24.8 subnets: - cidr: 192.168.24..0/24 network: tags: - 192.168.24.0/24 The value of the DeployedServerPortMap variable is a map. The keys correspond to the ``<short hostname>-ctlplane`` of the deployed servers. Specify the ip addresses and subnet CIDR to be assigned under ``fixed_ips``. In the case where the ctlplane is not routable from the deployed servers, the virtual IPs on the ControlPlane, as well as the virtual IPs for services (Redis and OVNDBs) must be statically assigned. Use ``DeployedServerPortMap`` to assign an IP address from any CIDR:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::ControlPlaneVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml # Set VIP's for redis and OVN to noop to default to the ctlplane VIP # The ctlplane VIP is set with control_virtual_ip in # DeployedServerPortMap below. # # Alternatively, these can be mapped to deployed-neutron-port.yaml as # well and redis_virtual_ip and ovn_dbs_virtual_ip added to the # DeployedServerPortMap value to set fixed IP's. OS::TripleO::Network::Ports::RedisVipPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml OS::TripleO::Network::Ports::OVNDBsVipPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml parameter_defaults: NeutronPublicInterface: eth1 EC2MetadataIp: 192.168.100.1 ControlPlaneDefaultRoute: 192.168.100.1 DeployedServerPortMap: control_virtual_ip: fixed_ips: - ip_address: 192.168.100.1 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 controller0-ctlplane: fixed_ips: - ip_address: 192.168.100.2 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.100.3 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 In the above example, notice how ``RedisVipPort`` and ``OVNDBsVipPort`` are mapped to ``network/ports/noop.yaml``. This mapping is due to the fact that these VIP IP addresses comes from the ctlplane by default, and they will use the same VIP address that is used for ``ControlPlanePort``. Alternatively these VIP's can be mapped to their own fixed IP's, in which case a VIP will be created for each. In this case, the following mappings and values would be added to the above example:: resource_registry: OS::TripleO::Network::Ports::RedisVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::OVNDBsVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: DeployedServerPortMap: redis_virtual_ip: fixed_ips: - ip_address: 192.168.100.10 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 ovn_dbs_virtual_ip: fixed_ips: - ip_address: 192.168.100.11 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 Use ``DeployedServerPortMap`` to assign an ControlPlane Virtual IP address from any CIDR, and the ``RedisVirtualFixedIPs`` and ``OVNDBsVirtualFixedIPs`` parameters to assing the ``RedisVip`` and ``OVNDBsVip``:: resource_registry: OS::TripleO::DeployedServer::ControlPlanePort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml OS::TripleO::Network::Ports::ControlPlaneVipPort: /usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml parameter_defaults: NeutronPublicInterface: eth1 EC2MetadataIp: 192.168.100.1 ControlPlaneDefaultRoute: 192.168.100.1 # Set VIP's for redis and OVN RedisVirtualFixedIPs: - ip_address: 192.168.100.10 use_neutron: false OVNDBsVirtualFixedIPs: - ip_address: 192.168.100.11 use_neutron: false DeployedServerPortMap: control_virtual_ip: fixed_ips: - ip_address: 192.168.100.1 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 controller0-ctlplane: fixed_ips: - ip_address: 192.168.100.2 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 compute0-ctlplane: fixed_ips: - ip_address: 192.168.100.3 subnets: - cidr: 192.168.100.0/24 network: tags: - 192.168.100.0/24 Beginning in Wallaby, the ``environments/deployed-server-deployed-neutron-ports.yaml`` environment, the deployed-neutron-port.yaml template the DeployedServerPortMap parameter, are deprecated in favor of using ``NodePortMap``, ``ControlPlaneVipData``, and ``VipPortMap`` with the generated ``environments/deployed-ports.yaml`` environment from ``environments/deployed-ports.j2.yaml``. Using the previous example with ``DeployedServerPortMap``, that would be migrated to use ``NodePortMap``, ``ControlPlaneVipData``, and ``VipPortMap`` as follows. The example is expanded to also show parameter values as they would be used when using network isolation:: The environment file ``environments/deployed-ports.yaml`` must then be included with the deployment command. The ``EC2MetadataIp`` and ``ControlPlaneDefaultRoute`` parameters are set to the value of the control virtual IP address. These parameters are required to be set by the sample NIC configs, and must be set to a pingable IP address in order to pass the validations performed during deployment. Alternatively, the NIC configs could be further customized to not require these parameters... admonition:: Train :class: train Starting in Train and onward, `openstack overcloud node delete` can take a list of server hostnames instead of instance ids. However they can't be mixed while running the command. Example: if you use hostnames, it would have to be for all the nodes to delete. The following instructions are only useful when the cloud is deployed on Stein or backward. When scaling down the Overcloud, follow the scale down instructions as normal as shown in :doc:`../post_deployment/delete_nodes`, however use the following command to get the uuid values to pass to `openstack overcloud node delete` instead of using `nova list`:: openstack stack resource list overcloud -n5 --filter type=OS::TripleO::<RoleName>Server Replace `<RoleName>` in the above command with the actual name of the role that you are scaling down. The `stack_name` column in the command output can be used to identify the uuid associated with each node. The `stack_name` will include the integer value of the index of the node in the Heat resource group. For example, in the following sample output:: $ openstack stack resource list overcloud -n5 --filter type=OS::TripleO::ComputeDeployedServerServer +-----------------------+--------------------------------------+------------------------------------------+-----------------+----------------------+-------------------------------------------------------------+ | resource_name | physical_resource_id | resource_type | resource_status | updated_time | stack_name | +-----------------------+--------------------------------------+------------------------------------------+-----------------+----------------------+-------------------------------------------------------------+ | ComputeDeployedServer | 66b1487c-51ee-4fd0-8d8d-26e9383207f5 | OS::TripleO::ComputeDeployedServerServer | CREATE_COMPLETE | 2017-10-31T23:45:18Z | overcloud-ComputeDeployedServer-myztzg7pn54d-0-pixawichjjl3 | | ComputeDeployedServer | 01cf59d7-c543-4f50-95df-6562fd2ed7fb | OS::TripleO::ComputeDeployedServerServer | CREATE_COMPLETE | 2017-10-31T23:45:18Z | overcloud-ComputeDeployedServer-myztzg7pn54d-1-ooCahg1vaequ | | ComputeDeployedServer | 278af32c-c3a4-427e-96d2-3cda7e706c50 | OS::TripleO::ComputeDeployedServerServer | CREATE_COMPLETE | 2017-10-31T23:45:18Z | overcloud-ComputeDeployedServer-myztzg7pn54d-2-xooM5jai2ees | +-----------------------+--------------------------------------+------------------------------------------+-----------------+----------------------+-------------------------------------------------------------+ The index 0, 1, or 2 can be seen in the `stack_name` column. These indices correspond to the order of the nodes in the Heat resource group. Pass the corresponding uuid value from the `physical_resource_id` column to `openstack overcloud node delete` command.and could be part of the deployment, since there are no steps to unconfigure, uninstall software, or stop services on nodes when scaling down.",405,304
openstack%2Fopenstack-helm~master~I90397f437595016a5f7fb0ff9388319101027b5c,openstack/openstack-helm,master,I90397f437595016a5f7fb0ff9388319101027b5c,Fix helm test method,MERGED,2021-11-02 06:48:03.000000000,2021-11-10 17:04:26.000000000,2021-11-10 16:54:50.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-11-02 06:48:03.000000000', 'files': ['tools/deployment/component/barbican/barbican.sh', 'tools/deployment/developer/common/100-horizon.sh', 'tools/deployment/developer/common/085-barbican.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b3f420ede5d9d2e72c3b9a8352c0a33af265656', 'message': 'Fix helm test method\n\nThis patch makes the helm test command more standard by calling script of common.\n\nChange-Id: I90397f437595016a5f7fb0ff9388319101027b5c\n'}]",2,816302,7b3f420ede5d9d2e72c3b9a8352c0a33af265656,13,5,1,34017,,,0,"Fix helm test method

This patch makes the helm test command more standard by calling script of common.

Change-Id: I90397f437595016a5f7fb0ff9388319101027b5c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/02/816302/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/barbican/barbican.sh', 'tools/deployment/developer/common/100-horizon.sh', 'tools/deployment/developer/common/085-barbican.sh']",3,7b3f420ede5d9d2e72c3b9a8352c0a33af265656,,": ${RUN_HELM_TESTS:=""yes""}# Run helm tests if [ ""x${RUN_HELM_TESTS}"" != ""xno"" ]; then ./tools/deployment/common/run-helm-tests.sh barbican fi","# Delete the test pod if it still exists kubectl delete pods -l application=barbican,release_group=barbican,component=test --namespace=openstack --ignore-not-found helm test barbican",15,7
openstack%2Fnova~stable%2Fxena~Icd25adcc931cae2126e03c00af7e4420d3781b9a,openstack/nova,stable/xena,Icd25adcc931cae2126e03c00af7e4420d3781b9a,Use ReplaceEngineFacade fixture,NEW,2021-11-09 15:35:06.000000000,2021-11-10 16:49:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-09 15:35:06.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95400ec6509e1b04fc27e5f3837d5a4d3341e265', 'message': 'Use ReplaceEngineFacade fixture\n\nNow that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved\nmost of the logic to the setUp of the Database fixture we can replace\nour direct factory patching with the ReplaceEngineFacade fixture from\noslo_db.\n\nChange-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a\n(cherry picked from commit 063ed41174c27c20871696f7c6dcb1eddb4310ee)\n'}]",0,817239,95400ec6509e1b04fc27e5f3837d5a4d3341e265,4,1,1,9708,,,0,"Use ReplaceEngineFacade fixture

Now that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved
most of the logic to the setUp of the Database fixture we can replace
our direct factory patching with the ReplaceEngineFacade fixture from
oslo_db.

Change-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a
(cherry picked from commit 063ed41174c27c20871696f7c6dcb1eddb4310ee)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/817239/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,95400ec6509e1b04fc27e5f3837d5a4d3341e265,bug/1948963,"from oslo_db.sqlalchemy import test_fixtures as db_fixtures # NOTE(gibi): this injects a new factory for each test and # cleans it up at then end of the test case. This way we can # let each test configure the factory so we can avoid having a # global flag guarding against factory re-configuration new_engine = enginefacade.transaction_context() self.useFixture( db_fixtures.ReplaceEngineFacadeFixture( main_db_api.context_manager, new_engine)) new_engine = enginefacade.transaction_context() self.useFixture( db_fixtures.ReplaceEngineFacadeFixture( api_db_api.context_manager, new_engine))", # NOTE(gibi): this inject a new factory for each test and # registers a cleanup that cleans the factory at the end # of the test case. This way we can let each test configure the # factory so we can avoid having a global flag guarding against # factory re-configuration self.addCleanup(main_db_api.context_manager.patch_factory( enginefacade._TransactionFactory())) self.addCleanup(api_db_api.context_manager.patch_factory( enginefacade._TransactionFactory())),13,9
openstack%2Fnova~stable%2Fxena~Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,openstack/nova,stable/xena,Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,Refactor Database fixture,NEW,2021-11-09 15:33:48.000000000,2021-11-10 16:49:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-09 15:33:48.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67a9eff24eeb461c38e13a3a36a4e84aef2a05a8', 'message': 'Refactor Database fixture\n\nThis patch apply the following changes to the fixture to make the\nintention clearer and remove some unnecessary complexity:\n\n* the fixture does a lot of dynamic thing in its __init__, these are\n  moved to setUp() instead to facilitate proper reset functionality of\n  the fixture\n\n* the caching and applying of the DB schema is made a explicit and\n  moved to setUp() too\n\n* the explicit reset() function is removed as it is probably\n  unintentionally overwrote the Fixture.reset(). Now the Fixture can be\n  properly reset by calling the Fixture.reset() which is by default\n  implemented by calling cleanUp() and setUp()\n\nChange-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01\n(cherry picked from commit c7ccbfe403f100b5cb420fb12ac6244c4a7ae381)\n'}]",0,817237,67a9eff24eeb461c38e13a3a36a4e84aef2a05a8,4,1,1,9708,,,0,"Refactor Database fixture

This patch apply the following changes to the fixture to make the
intention clearer and remove some unnecessary complexity:

* the fixture does a lot of dynamic thing in its __init__, these are
  moved to setUp() instead to facilitate proper reset functionality of
  the fixture

* the caching and applying of the DB schema is made a explicit and
  moved to setUp() too

* the explicit reset() function is removed as it is probably
  unintentionally overwrote the Fixture.reset(). Now the Fixture can be
  properly reset by calling the Fixture.reset() which is by default
  implemented by calling cleanUp() and setUp()

Change-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01
(cherry picked from commit c7ccbfe403f100b5cb420fb12ac6244c4a7ae381)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/817237/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures/nova.py', 'nova/tests/unit/test_fixtures.py']",2,67a9eff24eeb461c38e13a3a36a4e84aef2a05a8,bug/1948963, db_fixture = fixtures.Database() self.useFixture(db_fixture) db_fixture.reset() engine = main_db_api.get_engine() db_fixture = fixtures.Database(database='api') self.useFixture(db_fixture) db_fixture.reset() engine = api_db_api.get_engine(), self.useFixture(fixtures.Database()) # reset by invoking the fixture again # self.useFixture(fixtures.Database()) self.useFixture(fixtures.Database(database='api')) # reset by invoking the fixture again # self.useFixture(fixtures.Database(database='api')),39,38
openstack%2Fnova~stable%2Fxena~Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,openstack/nova,stable/xena,Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,Remove SESSION_CONFIGURED global from DB fixture,NEW,2021-11-09 15:32:31.000000000,2021-11-10 16:49:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-09 15:32:31.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2d6338caa60baa8917bbb8cd3ecf6ae9e47f673', 'message': 'Remove SESSION_CONFIGURED global from DB fixture\n\nThe SESSION_CONFIGURED global flag is used in the Database fixture to\nguard against the reconfiguration of the DB context in each test as the\nglobal transaction factory does not allow such reconfiguration. However\nthis global is error prone for multiple reasons:\n\n * there are tests that actually configure the factory outside of the\n   fixture causing tests to interfere\n\n * we use one single global flag but we always have two separate\n   Database fixture one for the api DB and one for the main DB. Still\n   the fixture instantiated first will do the configuration of both\n   DB factory.\n\nThis patch replaces the global with two individual oslo_db enginefacade\npatch_factory() calls that allows patching and resetting the global\nfactory per test case.\n\nChange-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e\n(cherry picked from commit f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a)\n'}]",0,817236,e2d6338caa60baa8917bbb8cd3ecf6ae9e47f673,4,1,1,9708,,,0,"Remove SESSION_CONFIGURED global from DB fixture

The SESSION_CONFIGURED global flag is used in the Database fixture to
guard against the reconfiguration of the DB context in each test as the
global transaction factory does not allow such reconfiguration. However
this global is error prone for multiple reasons:

 * there are tests that actually configure the factory outside of the
   fixture causing tests to interfere

 * we use one single global flag but we always have two separate
   Database fixture one for the api DB and one for the main DB. Still
   the fixture instantiated first will do the configuration of both
   DB factory.

This patch replaces the global with two individual oslo_db enginefacade
patch_factory() calls that allows patching and resetting the global
factory per test case.

Change-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e
(cherry picked from commit f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/817236/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,e2d6338caa60baa8917bbb8cd3ecf6ae9e47f673,bug/1948963,from oslo_db.sqlalchemy import enginefacade # NOTE(gibi): this inject a new factory for each test and # self.factory_reset is used to clean up the factory at the end # of the test case. This way we can let each test configure the # factory so we can avoid having a global flag guarding against # factory re-configuration self.factory_reset = main_db_api.context_manager.patch_factory( enginefacade._TransactionFactory()) main_db_api.configure(CONF) # NOTE(gibi): similar note applies here as for the main_db_api # above self.factory_reset = api_db_api.context_manager.patch_factory( enginefacade._TransactionFactory()) api_db_api.configure(CONF) self.factory_reset(),SESSION_CONFIGURED = False # NOTE(pkholkin): oslo_db.enginefacade is configured in tests the # same way as it is done for any other service that uses DB global SESSION_CONFIGURED if not SESSION_CONFIGURED: main_db_api.configure(CONF) api_db_api.configure(CONF) SESSION_CONFIGURED = True ,17,9
openstack%2Fsushy-tools~master~I30a5c673ab91486cafbe1383c5fe58142102a7c2,openstack/sushy-tools,master,I30a5c673ab91486cafbe1383c5fe58142102a7c2,Support uploading certificates for virtual media,MERGED,2021-08-26 17:19:27.000000000,2021-11-10 16:48:08.000000000,2021-11-10 16:45:01.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-26 17:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6e70f0408d2fb3d47f334af6292b0749d4fe0ef9', 'message': '[WIP] Support uploading certificates for virtual media\n\nChange-Id: I30a5c673ab91486cafbe1383c5fe58142102a7c2\n'}, {'number': 2, 'created': '2021-08-27 16:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0f79b690b47354376beb2cd73e1476d56dd0ecb0', 'message': '[WIP] Support uploading certificates for virtual media\n\nChange-Id: I30a5c673ab91486cafbe1383c5fe58142102a7c2\n'}, {'number': 3, 'created': '2021-08-30 14:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8eecdd593bbe973e13af1ba738ef370ac0a3f074', 'message': '[WIP] Support uploading certificates for virtual media\n\nChange-Id: I30a5c673ab91486cafbe1383c5fe58142102a7c2\n'}, {'number': 4, 'created': '2021-09-01 16:01:27.000000000', 'files': ['sushy_tools/emulator/resources/vmedia.py', 'sushy_tools/emulator/api_utils.py', 'sushy_tools/emulator/templates/certificate.json', 'sushy_tools/emulator/controllers/virtual_media.py', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/certificate_service.json', 'sushy_tools/emulator/templates/root.json', 'sushy_tools/emulator/controllers/certificate_service.py', 'sushy_tools/tests/unit/emulator/controllers/test_certificate_service.py', 'sushy_tools/tests/unit/emulator/resources/test_vmedia.py', 'releasenotes/notes/certificate-service-ff8061143d454313.yaml', 'sushy_tools/tests/unit/emulator/controllers/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0051bd4be05ee11f8033a744a04c106a24045518', 'message': 'Support uploading certificates for virtual media\n\nThis change implements the new feature of VirtualMedia 1.4.0: custom TLS\ncertificates. Adding/listing/deleting/replacing certificates is supported,\nbut creating a CSR is not.\n\nChange-Id: I30a5c673ab91486cafbe1383c5fe58142102a7c2\n'}]",0,806253,0051bd4be05ee11f8033a744a04c106a24045518,14,3,4,10239,,,0,"Support uploading certificates for virtual media

This change implements the new feature of VirtualMedia 1.4.0: custom TLS
certificates. Adding/listing/deleting/replacing certificates is supported,
but creating a CSR is not.

Change-Id: I30a5c673ab91486cafbe1383c5fe58142102a7c2
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/53/806253/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/certificate_service.json', 'sushy_tools/emulator/templates/root.json']",3,6e70f0408d2fb3d47f334af6292b0749d4fe0ef9,certificate-service," ""@odata.type"": ""#ServiceRoot.v1_5_0.ServiceRoot"", ""RedfishVersion"": ""1.5.0"", ""CertificateService"": { ""@odata.id"": ""/redfish/v1/CertificateService"" },"," ""@odata.type"": ""#ServiceRoot.v1_0_2.ServiceRoot"", ""RedfishVersion"": ""1.0.2"",",99,4
openstack%2Ftripleo-quickstart-extras~master~I28b53ba4c4ef45c6b0505ae737525d286bfe24a3,openstack/tripleo-quickstart-extras,master,I28b53ba4c4ef45c6b0505ae737525d286bfe24a3,"Revert ""Revert ""Revert ""Use tripleo-mount-image for modify-image""""""",ABANDONED,2021-11-09 18:32:33.000000000,2021-11-10 16:22:11.000000000,,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-11-09 18:32:33.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/221c275a9bc13b20a75d6467eb1a6da63043ed1d', 'message': 'Revert ""Revert ""Revert ""Use tripleo-mount-image for modify-image""""""\n\nThis reverts commit c3f417bddf8909b1b1151429ca41fe60d2217524.\n\nReason for revert: still failing - see https://logserver.rdoproject.org/51/817251/1/openstack-check/tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001/7430611/job-output.txt\n\nChange-Id: I28b53ba4c4ef45c6b0505ae737525d286bfe24a3\n'}]",3,817260,221c275a9bc13b20a75d6467eb1a6da63043ed1d,14,9,1,9976,,,0,"Revert ""Revert ""Revert ""Use tripleo-mount-image for modify-image""""""

This reverts commit c3f417bddf8909b1b1151429ca41fe60d2217524.

Reason for revert: still failing - see https://logserver.rdoproject.org/51/817251/1/openstack-check/tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001/7430611/job-output.txt

Change-Id: I28b53ba4c4ef45c6b0505ae737525d286bfe24a3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/817260/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,221c275a9bc13b20a75d6467eb1a6da63043ed1d,bp/whole-disk-default," set -e modprobe nbd IMAGE_FILE={{ image_to_modify_raw }} MOUNT_DIR={{ mount_tempdir }} NBD_DEVICE=/dev/nbd0 mount_volume () { if [ -b ""$1"" ]; then if [ ! -d $2 ]; then mkdir $2 fi mount $1 $2 fi } set -x qemu-nbd --format raw --connect $NBD_DEVICE $IMAGE_FILE # search for the vg volume group, this is automatic in some environments vgscan # refresh for when this script is called with different values of $NBD_DEVICE vgchange --refresh # activate new logical volumes, this is automatic in some environments vgchange -ay if [ -b ""${NBD_DEVICE}p3"" ]; then # 3 partitions in the image, so assume the first 2 are boot partitions if [ -b ""/dev/mapper/vg-lv_root"" ]; then # a whole-disk overcloud with lvm volumes # for example, overcloud-hardened-uefi-full.qcow2 mount /dev/mapper/vg-lv_root $MOUNT_DIR mount_volume /dev/mapper/vg-lv_var $MOUNT_DIR/var mount_volume /dev/mapper/vg-lv_log $MOUNT_DIR/var/log mount_volume /dev/mapper/vg-lv_audit $MOUNT_DIR/var/log/audit mount_volume /dev/mapper/vg-lv_home $MOUNT_DIR/home mount_volume /dev/mapper/vg-lv_tmp $MOUNT_DIR/tmp mount_volume /dev/mapper/vg-lv_srv $MOUNT_DIR/srv else # a whole-disk overcloud with a single root partition # for example, overcloud-hardened-full.qcow2 mount ${NBD_DEVICE}p3 $MOUNT_DIR fi # a partition image # for example, overcloud-full.qcow2 if [ -b ""${NBD_DEVICE}p1"" ]; then mount ${NBD_DEVICE}p1 $MOUNT_DIR else mount ${NBD_DEVICE} $MOUNT_DIR fi MOUNT_DIR={{ mount_tempdir }} NBD_DEVICE=/dev/nbd0 unmount_volume () { if mountpoint ""$1""; then umount $1 fi } remove_device () { if [ -b ""/dev/mapper/$1"" ]; then dmsetup remove $1 fi } if mountpoint ""$MOUNT_DIR""; then unmount_volume $MOUNT_DIR/var/log/audit unmount_volume $MOUNT_DIR/var/log unmount_volume $MOUNT_DIR/var unmount_volume $MOUNT_DIR/home unmount_volume $MOUNT_DIR/tmp unmount_volume $MOUNT_DIR/srv umount $MOUNT_DIR qemu-nbd --disconnect $NBD_DEVICE vgchange --refresh vg || true remove_device vg-lv_root remove_device vg-lv_var remove_device vg-lv_log remove_device vg-lv_audit remove_device vg-lv_home remove_device vg-lv_tmp remove_device vg-lv_srv "," set -ex if type tripleo-mount-image >/dev/null; then tripleo-mount-image -a {{ image_to_modify_raw }} -m {{ mount_tempdir }} # stable branches do not have tripleo-mount-image, and only use # partition images modprobe nbd if qemu-img info --output json {{ image_to_modify_raw }} |grep '""format"": ""raw""' ; then image_format='--format raw' elif qemu-img info --output json {{ image_to_modify_raw }} |grep '""format"": ""qcow2""' ; then image_format='--format qcow2' else image_format='' fi qemu-nbd $image_format --connect /dev/nbd0 {{ image_to_modify_raw }} mount /dev/nbd0 {{ mount_tempdir }} if type tripleo-unmount-image >/dev/null; then tripleo-unmount-image -m {{ mount_tempdir }} else umount {{ mount_tempdir }} qemu-nbd --disconnect /dev/nbd0",87,20
openstack%2Fhorizon~stable%2Fstein~I3f4367817cdf04eacacba8b2ba2bbc06b09d3132,openstack/horizon,stable/stein,I3f4367817cdf04eacacba8b2ba2bbc06b09d3132,Dropping lower constraints testing from stable branches,MERGED,2021-09-22 17:24:35.000000000,2021-11-10 16:18:45.000000000,2021-11-10 16:09:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-22 17:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e7b56195672848fef2cbe937f04013ecc1ded0a9', 'message': 'Dropping lower constraints testing from stable branches\n\nThis topic was discussed on the ML and QA team proposed to test\nlower constraints [1]. As decided in horizon weekly meeting in\nthe past[2], stable branches will drop the lower-constraints job from CI.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]https://meetings.opendev.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-03-24.log.html#t2021-03-24T15:12:58\n\nChange-Id: I3f4367817cdf04eacacba8b2ba2bbc06b09d3132\n(cherry picked from commit 38ccf26b174c071f2ada5e65aa210634668786a3)\n(cherry picked from commit e96945376c1cdc69ab28e7820e3bcaf2a45fee71)\n(cherry picked from commit 0b7a77e8a1484fb2e1aa105f7f617655c1dd4ee6)\n(cherry picked from commit 852e372d1da69dca243601d299ff42bec90ecb1c)\n'}, {'number': 2, 'created': '2021-10-21 18:48:43.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4e260cb53c361be8d8468edf4a58b0a6b5fb0fa0', 'message': 'Dropping lower constraints testing from stable branches\n\nThis topic was discussed on the ML and QA team proposed to test\nlower constraints [1]. As decided in horizon weekly meeting in\nthe past[2], stable branches will drop the lower-constraints job from CI.\n\nThis patch also update ``.zuul.yaml`` to test stable/stein with\ntempest 24.0.0 for the below reasons:\n\nFor every stable branch, Tempest as a range of versions\nto work[3] and we can pick either first supported\nor last supported version to test the specific EM stable\nbranch (when Tempest master is in not used).\n\nFor stable/stein, first supported version is Tempest 20.0.0\nand last supported verson is 26.0.0.\n\nTill now we used the last supported version and it was working\nfine until jsonschema latest release 4.0.0 has some incompatible\nchanges. Now we can say our upper constraints should protect us\nfrom this (like it protect in Tempest master case). But thing\nis little tricky here on whether we use the compatible constraints\nwith tempest 26.0.0. or not.\n\nCompatible constraints for Tempest 26.0.0 is stable/victoria constraints\n(the time tag 26.0.0 was cut) but we used stable/stein constraints with\ntempest 26.0.0 in stable/stein[4].\n\nWe should always use the compatible constraints and tag combination.\n\nWe have two option here to solve:\n\n3. Use Tempest 24.0.0 and compatible stable/stein constraints (this commit)\n4. Use Tempest 26.0.0 and compatible stable/victoria constraints\n\nI am going with the 1st approach as it is simple and 2nd approach need\nmodification in run-tempest roles etc.\n\nSame fix is done at devstack side for stable/stein gate fix\n- https://review.opendev.org/c/openstack/devstack/+/812092\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]https://meetings.opendev.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-03-24.log.html#t2021-03-24T15:12:58\n\nCo-Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: I3f4367817cdf04eacacba8b2ba2bbc06b09d3132\n(cherry picked from commit 38ccf26b174c071f2ada5e65aa210634668786a3)\n(cherry picked from commit e96945376c1cdc69ab28e7820e3bcaf2a45fee71)\n(cherry picked from commit 0b7a77e8a1484fb2e1aa105f7f617655c1dd4ee6)\n(cherry picked from commit 852e372d1da69dca243601d299ff42bec90ecb1c)\n'}]",4,810492,4e260cb53c361be8d8468edf4a58b0a6b5fb0fa0,23,5,2,29313,,,0,"Dropping lower constraints testing from stable branches

This topic was discussed on the ML and QA team proposed to test
lower constraints [1]. As decided in horizon weekly meeting in
the past[2], stable branches will drop the lower-constraints job from CI.

This patch also update ``.zuul.yaml`` to test stable/stein with
tempest 24.0.0 for the below reasons:

For every stable branch, Tempest as a range of versions
to work[3] and we can pick either first supported
or last supported version to test the specific EM stable
branch (when Tempest master is in not used).

For stable/stein, first supported version is Tempest 20.0.0
and last supported verson is 26.0.0.

Till now we used the last supported version and it was working
fine until jsonschema latest release 4.0.0 has some incompatible
changes. Now we can say our upper constraints should protect us
from this (like it protect in Tempest master case). But thing
is little tricky here on whether we use the compatible constraints
with tempest 26.0.0. or not.

Compatible constraints for Tempest 26.0.0 is stable/victoria constraints
(the time tag 26.0.0 was cut) but we used stable/stein constraints with
tempest 26.0.0 in stable/stein[4].

We should always use the compatible constraints and tag combination.

We have two option here to solve:

3. Use Tempest 24.0.0 and compatible stable/stein constraints (this commit)
4. Use Tempest 26.0.0 and compatible stable/victoria constraints

I am going with the 1st approach as it is simple and 2nd approach need
modification in run-tempest roles etc.

Same fix is done at devstack side for stable/stein gate fix
- https://review.opendev.org/c/openstack/devstack/+/812092

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]https://meetings.opendev.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-03-24.log.html#t2021-03-24T15:12:58

Co-Author: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: I3f4367817cdf04eacacba8b2ba2bbc06b09d3132
(cherry picked from commit 38ccf26b174c071f2ada5e65aa210634668786a3)
(cherry picked from commit e96945376c1cdc69ab28e7820e3bcaf2a45fee71)
(cherry picked from commit 0b7a77e8a1484fb2e1aa105f7f617655c1dd4ee6)
(cherry picked from commit 852e372d1da69dca243601d299ff42bec90ecb1c)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/810492/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,e7b56195672848fef2cbe937f04013ecc1ded0a9,drop-l-c,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,170
openstack%2Ftripleo-heat-templates~master~Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec,openstack/tripleo-heat-templates,master,Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec,Use KillMode=process for Libvirt containers,ABANDONED,2021-10-19 09:26:38.000000000,2021-11-10 16:14:14.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-19 09:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfbe1487420026c8e8f3822d3596d462412296c2', 'message': '[WIP] Libvirt to escape Podman-managed cgroups\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. Otherwise, libvirt does not move qemu out of\nthe name=systemd mount. And if systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well. Also as we do not have systemd-container\nworking in the nova_libvirt contaienr, nor systemd machine, libvirt\nis falling back to its legacy cgroup support.\n\nTo mitigate that, run libvirtd as a transient unit on the host with the\ncustom tripleo-libvirt cgroups applied. This also requires\nKillMode=process. As we change the cgroup for libvirtd, that ensures\nthat termination signals would be routed by dumb-init in a container to\nits child processes properly.\n\nThe source for the podman cgroup escaping script:\nhttps://github.com/openstack-k8s-operators/nova-operator/blob/master/templates/libvirtd/bin/libvirtd.sh\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-10-19 09:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d8266db46b71eee5a42eff7c1c2750306b4c637', 'message': '[WIP] Libvirt to escape Podman-managed cgroups\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. Otherwise, libvirt does not move qemu out of\nthe name=systemd mount. And if systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well. Also as we do not have systemd-container\nworking in the nova_libvirt contaienr, nor systemd machine, libvirt\nis falling back to its legacy cgroup support.\n\nTo mitigate that, run libvirtd as a transient unit on the host with the\ncustom tripleo-libvirt cgroups applied. This also requires\nKillMode=process. As we change the cgroup for libvirtd, that ensures\nthat termination signals would be routed by dumb-init in a container to\nits child processes properly.\n\nThe source for the podman cgroup escaping script:\nhttps://github.com/openstack-k8s-operators/nova-operator/blob/master/templates/libvirtd/bin/libvirtd.sh\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-10-19 15:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7b61a6aabfb42fc025d94d21e9ef4ad3b3d6ada', 'message': '[WIP] Libvirt to escape Podman-managed cgroups\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. If libvirt does not move qemu out of\nthe name=systemd mount, and systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well.\n\nTo mitigate that, run libvirtd as a transient unit in the container.\nThis also requires KillMode=process. As we change the cgroup for\nlibvirtd, that ensures that termination signals would be routed by\ndumb-init in a container to its child processes properly.\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-10-20 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3e5d596f369c5b8f8ceb7ce7efc1da889a17752', 'message': '[WIP] Libvirt to escape Podman-managed cgroups\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. If libvirt does not move qemu out of\nthe name=systemd mount, and systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well.\n\nTo mitigate that, run libvirtd as a transient unit in the container.\nThis also requires KillMode=process. As we change the cgroup for\nlibvirtd, that ensures that termination signals would be routed by\ndumb-init in a container to its child processes properly.\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-10-26 16:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55ce0eef080404177296935e2e50d406210d9a5c', 'message': 'Use KillMode=process for Libvirt containers\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. If libvirt does not move qemu out of\nthe name=systemd mount, and systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well.\n\nBecause of that, the (default) control-group KillMode should not be\nused. Switch libvirt container to the process KillMode to mitigate\nthat.\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2021-11-03 09:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1ed3e5f1a2a3baff6a761e042cd4489121b481c', 'message': 'Use KillMode=process for Libvirt containers\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. If libvirt does not move qemu out of\nthe name=systemd mount, and systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well.\n\nBecause of that, the (default) control-group KillMode should not be\nused. Switch libvirt container to the process KillMode to mitigate\nthat.\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2021-11-03 09:01:50.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd8c89ea23d032228748c7dd8f6c8ca16be9c77a', 'message': 'Use KillMode=process for Libvirt containers\n\nPodman isn\'t really well-equipped to handle processes that manage their\nown cgroups (like libvirtd that manages cgroups for QEMU), as\nrhbz#2009106 shows.\n\nWe have a systemd-managed podman container ""nova_libvirt"" which hosts\na service in charge of spawning qemu VMs. On first start, the\ncontainer\'s processes are all attached to the same cgroup created by\nrunc.\n\n└─machine.slice\n  ├─libpod-xxx.scope\n  │ ├─  2913 dumb-init --single-child -- kolla_start\n  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh\n  │ ├─  3213 /usr/sbin/libvirtd --listen\n\nthe conmon process that checks the container runs under another cgroup:\n\n├─system.slice\n│ ├─tripleo_nova_libvirt.service\n│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......\n\nAny time the nova_libvirt\'s service is called, a new daemon process (a\nqemu VM) will be started inside that container:\n\n│ └─402633 /usr/libexec/qemu-kvm .......\n\nThis process shares the same libpod-xxx cgroup, but also uses other\nones (this is expected libvirt behaviour):\n\n[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup\n12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator\n10:rdma:/\n9:pids:/machine.slice/libpod-xxx.scope\n8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu\n7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu\n6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu\n5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu\n4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu\n3:hugetlb:/machine.slice/libpod-xxx.scope\n2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu\n1:name=systemd:/machine.slice/libpod-xxx.scope\n\nThis cgroups placement shows libvirt using the direct cgroups apis and\nnot sytstemd. This is sufficient to let this process run even after we\nstop this container with systemd/podman. Or recreate it with paunch or\ncontainer manager, which is essential for non-disruptive minor updates.\n\nThis configuration exposes the podman bug rhbz#2009106 that makes it\ncrash under a specific succession of actions. Within this particular\nchange scope, when we stop the container, the qemu process remains as\nexpected, but it also remains attached to the libpod-xxx cgroup, which\nis not that we really want.\n\nName=systemd is a mount point systemd uses for accounting purposes.\nIt is what systemd uses when it wants to enumerate pids on a cgroup\nthat it needs to kill, whenever it tears things down. We dont want that\none to have libpod in it. If libvirt does not move qemu out of\nthe name=systemd mount, and systemd kills the libpid-xxxxxx.scope,\nit might kill qemu as well.\n\nBecause of that, the (default) control-group KillMode should not be\nused. Switch libvirt container to the process KillMode to mitigate\nthat.\n\nRelated: rhbz#2010135\nDepends-On: https://review.opendev.org/814536\nChange-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nCo-Authored-By: Sean Mooney <smooney@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",20,814537,dd8c89ea23d032228748c7dd8f6c8ca16be9c77a,49,4,7,6926,,,0,"Use KillMode=process for Libvirt containers

Podman isn't really well-equipped to handle processes that manage their
own cgroups (like libvirtd that manages cgroups for QEMU), as
rhbz#2009106 shows.

We have a systemd-managed podman container ""nova_libvirt"" which hosts
a service in charge of spawning qemu VMs. On first start, the
container's processes are all attached to the same cgroup created by
runc.

└─machine.slice
  ├─libpod-xxx.scope
  │ ├─  2913 dumb-init --single-child -- kolla_start
  │ ├─  2983 /bin/bash /nova_libvirt_launcher.sh
  │ ├─  3213 /usr/sbin/libvirtd --listen

the conmon process that checks the container runs under another cgroup:

├─system.slice
│ ├─tripleo_nova_libvirt.service
│ │ └─2852 /usr/bin/conmon ...... -r /usr/bin/runc ......

Any time the nova_libvirt's service is called, a new daemon process (a
qemu VM) will be started inside that container:

│ └─402633 /usr/libexec/qemu-kvm .......

This process shares the same libpod-xxx cgroup, but also uses other
ones (this is expected libvirt behaviour):

[heat-admin@compute-1 ~]$ cat /proc/402633/cgroup
12:cpuset:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator
11:cpu,cpuacct:/machine/qemu-1-instance-00000003.libvirt-qemu/emulator
10:rdma:/
9:pids:/machine.slice/libpod-xxx.scope
8:freezer:/machine/qemu-1-instance-00000003.libvirt-qemu
7:memory:/machine/qemu-1-instance-00000003.libvirt-qemu
6:devices:/machine/qemu-1-instance-00000003.libvirt-qemu
5:perf_event:/machine/qemu-1-instance-00000003.libvirt-qemu
4:blkio:/machine/qemu-1-instance-00000003.libvirt-qemu
3:hugetlb:/machine.slice/libpod-xxx.scope
2:net_cls,net_prio:/machine/qemu-1-instance-00000003.libvirt-qemu
1:name=systemd:/machine.slice/libpod-xxx.scope

This cgroups placement shows libvirt using the direct cgroups apis and
not sytstemd. This is sufficient to let this process run even after we
stop this container with systemd/podman. Or recreate it with paunch or
container manager, which is essential for non-disruptive minor updates.

This configuration exposes the podman bug rhbz#2009106 that makes it
crash under a specific succession of actions. Within this particular
change scope, when we stop the container, the qemu process remains as
expected, but it also remains attached to the libpod-xxx cgroup, which
is not that we really want.

Name=systemd is a mount point systemd uses for accounting purposes.
It is what systemd uses when it wants to enumerate pids on a cgroup
that it needs to kill, whenever it tears things down. We dont want that
one to have libpod in it. If libvirt does not move qemu out of
the name=systemd mount, and systemd kills the libpid-xxxxxx.scope,
it might kill qemu as well.

Because of that, the (default) control-group KillMode should not be
used. Switch libvirt container to the process KillMode to mitigate
that.

Related: rhbz#2010135
Depends-On: https://review.opendev.org/814536
Change-Id: Idc4bd94e18fd678cafcdd7b08e9ae32ae2739eec
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Co-Authored-By: Sean Mooney <smooney@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/814537/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml'],1,cfbe1487420026c8e8f3822d3596d462412296c2,rhbz2010135," #Setup Cgroups to use when breaking out of Podman defined groups CGROUPS="""" for CGROUP in cpu rdma pids hugetlb; do if [ -d /sys/fs/cgroup/${CGROUP} ]; then CGROUPS+=""${CGROUP},"" fi done cgcreate -g ${CGROUPS%,}:/tripleo-libvirt #NOTE(bogdando): run libvirtd as a transient unit on the host with the tripleo-libvirt cgroups applied. exec cgexec -g ${CGROUPS%,}:/tripleo-libvirt systemd-run --scope --slice=system /usr/sbin/libvirtd LIBVIRTD_ARGS", /usr/sbin/libvirtd LIBVIRTD_ARGS,11,1
openstack%2Fovn-octavia-provider~master~Ie503fa211f9d6ec0e4ac62ee39aa9e781e0ff1b0,openstack/ovn-octavia-provider,master,Ie503fa211f9d6ec0e4ac62ee39aa9e781e0ff1b0,Disable some high failure rate tempest tests,MERGED,2021-07-07 16:24:17.000000000,2021-11-10 14:13:48.000000000,2021-07-08 21:25:27.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 16:24:17.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a9ad5dfeef6443622000add5380e007653cd3fba', 'message': 'Disable some high failure rate tempest tests\n\nThese two tests are failing a significant amount of the time,\ndisable while we investigate the reason so we can continue to\nmerge other code.\n\nRelated-bug: #1934915\nChange-Id: Ie503fa211f9d6ec0e4ac62ee39aa9e781e0ff1b0\n'}]",0,799864,a9ad5dfeef6443622000add5380e007653cd3fba,11,3,1,1131,,,0,"Disable some high failure rate tempest tests

These two tests are failing a significant amount of the time,
disable while we investigate the reason so we can continue to
merge other code.

Related-bug: #1934915
Change-Id: Ie503fa211f9d6ec0e4ac62ee39aa9e781e0ff1b0
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/64/799864/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,a9ad5dfeef6443622000add5380e007653cd3fba,sip-scenario-disable," (^octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest.test_basic_sctp_traffic)|\ (^octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest.test_source_ip_port_tcp_traffic)|\ (^octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest.test_source_ip_port_udp_traffic)"""," (^octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest.test_basic_sctp_traffic)""",3,1
openstack%2Ftripleo-quickstart-extras~master~I1e305d31acba2f2b49fca675a0c6cb4eec5c5946,openstack/tripleo-quickstart-extras,master,I1e305d31acba2f2b49fca675a0c6cb4eec5c5946,Set default whole_disk_images based off release,MERGED,2021-11-04 22:17:39.000000000,2021-11-10 12:43:37.000000000,2021-11-09 00:43:51.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-11-04 22:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2d0adaf3a88b5452aad5cecb3514b3e7f24ef3f5', 'message': 'Set default whole_disk_images based off release\n\nThere is a need to stop setting this in the releases file so that some\njobs in the release can have a different value (See\nI0b555676ce565d142a08e9d38d9e3c8ee7cb1a92). This change sets the\ndefault based off the release.\n\nIt needs to be determined if the release config in\ntripleo-quickstart[1] picks up on this default setting so that\nwhole_disk_images:true can be reliably set in the required jobs.\n\n[1] https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/release/tripleo-ci/CentOS-8/master.yml#L33\n\nChange-Id: I1e305d31acba2f2b49fca675a0c6cb4eec5c5946\n'}, {'number': 2, 'created': '2021-11-05 11:22:19.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a3c463517e3d4d7d256560dee78b72b5d342154', 'message': 'Set default whole_disk_images based off release\n\nThere is a need to stop setting this in the releases file so that some\njobs in the release can have a different value (See\nI0b555676ce565d142a08e9d38d9e3c8ee7cb1a92). This change sets the\ndefault based off the release.\n\nIt needs to be determined if the release config in\ntripleo-quickstart[1] picks up on this default setting so that\nwhole_disk_images:true can be reliably set in the required jobs.\n\n[1] https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/release/tripleo-ci/CentOS-8/master.yml#L33\n\nChange-Id: I1e305d31acba2f2b49fca675a0c6cb4eec5c5946\n'}]",5,816759,7a3c463517e3d4d7d256560dee78b72b5d342154,27,8,2,4571,,,0,"Set default whole_disk_images based off release

There is a need to stop setting this in the releases file so that some
jobs in the release can have a different value (See
I0b555676ce565d142a08e9d38d9e3c8ee7cb1a92). This change sets the
default based off the release.

It needs to be determined if the release config in
tripleo-quickstart[1] picks up on this default setting so that
whole_disk_images:true can be reliably set in the required jobs.

[1] https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/release/tripleo-ci/CentOS-8/master.yml#L33

Change-Id: I1e305d31acba2f2b49fca675a0c6cb4eec5c5946
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/816759/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,2d0adaf3a88b5452aad5cecb3514b3e7f24ef3f5,bp/whole-disk-default,"whole_disk_images: >- {% if release in ['queens','stein','train','ussuri','victoria','wallaby'] -%} false {%- else -%} true {%- endif -%}",whole_disk_images: false,6,1
openstack%2Fironic-python-agent-builder~master~I244d7fdfa4967199be15a3669421b31992ff6044,openstack/ironic-python-agent-builder,master,I244d7fdfa4967199be15a3669421b31992ff6044,"new element burn-in for package stress-ng, added fio",MERGED,2021-10-26 09:22:01.000000000,2021-11-10 10:11:49.000000000,2021-11-09 11:52:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-10-26 09:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/f0f552e403be6a0306bbcaabcef027694c7b573e', 'message': ""add stress-ng package to extra-hardware\n\nthe following message will be present in ironic-conductor.log\nERROR ironic.conductor.utils [-] Agent returned error for clean step {'interface': 'deploy', 'step': 'burnin_cpu', 'abortable': True, 'priority': 0} on node afcbed0f-9ae4-4796-890b-127608126c27 : Error performing clean_step burnin_cpu: Command execution failed: ('stress-ng (cpu) failed with error %(err)s', {'err': FileNotFoundError(2, 'No such file or directory')}).\n\nvia ironic-python-agent/burnin.py\nhttps://opendev.org/openstack/ironic-python-agent/src/branch/master/ironic_python_agent/burnin.py#L51\n\nin documentation\nhttps://docs.openstack.org/ironic/latest/admin/hardware-burn-in.html\nhttps://opendev.org/openstack/ironic/src/branch/master/doc/source/admin/hardware-burn-in.rst\n\nChange-Id: I7de31a7555da39d949ea79e8b094304c1bde10db\n\n---\nThe burn-in steps rely on standard tools such as stress-ng for CPU and memory, or fio for disk and network. The burn-in cleaning steps are part of the generic hardware manager in the Ironic Python Agent (IPA) and therefore the agent ramdisk does not need to be bundled with a specific IPA hardware manager <admin/hardware_managers.html> to have them available.\n---\n\nis this correct to expect the package stress-ng in deploy\nkernel/ramdisk? if yes, then this patchset will fix this\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\n\nChange-Id: I244d7fdfa4967199be15a3669421b31992ff6044\n""}, {'number': 2, 'created': '2021-10-26 12:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/6521800df0e4aa95ac92e43b52d2ef617f1254ae', 'message': 'new element burn-in for package stress-ng\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\n\nChange-Id: I244d7fdfa4967199be15a3669421b31992ff6044\n'}, {'number': 3, 'created': '2021-10-26 13:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b795fb6f2c03af1cf2801c02717e2d9694207d84', 'message': 'new element burn-in for package stress-ng, added fio\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\n\nChange-Id: I244d7fdfa4967199be15a3669421b31992ff6044\n'}, {'number': 4, 'created': '2021-10-27 11:15:38.000000000', 'files': ['dib/burn-in/package-installs.yaml', 'dib/burn-in/README.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/09640d3d0f55e8d3fd64c5d06c343b3b6dcc71ab', 'message': 'new element burn-in for package stress-ng, added fio\n\nSigned-off-by: Bernd Mueller <mueller@b1-systems.de>\n\nChange-Id: I244d7fdfa4967199be15a3669421b31992ff6044\n'}]",8,815453,09640d3d0f55e8d3fd64c5d06c343b3b6dcc71ab,20,4,4,21715,,,0,"new element burn-in for package stress-ng, added fio

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>

Change-Id: I244d7fdfa4967199be15a3669421b31992ff6044
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/53/815453/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/extra-hardware/package-installs.yaml'],1,f0f552e403be6a0306bbcaabcef027694c7b573e,fix/add-stress-ng-package-to-extra-hardware,stress-ng:,,1,0
openstack%2Fopenstack-ansible-os_heat~master~Iba46712eb3a27ded4874e25bf1a7879a338e2451,openstack/openstack-ansible-os_heat,master,Iba46712eb3a27ded4874e25bf1a7879a338e2451,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2021-11-10 09:26:24.000000000,2021-11-10 09:42:30.000000000,,[{'_account_id': 28619}],"[{'number': 1, 'created': '2021-11-10 09:26:24.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/423f2a1ac78ce0c8b175de99ae9a2f01f30104de', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iba46712eb3a27ded4874e25bf1a7879a338e2451\n'}]",1,817370,423f2a1ac78ce0c8b175de99ae9a2f01f30104de,3,1,1,32029,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Iba46712eb3a27ded4874e25bf1a7879a338e2451
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/70/817370/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,423f2a1ac78ce0c8b175de99ae9a2f01f30104de,,# https://opendev.org/openstack/openstack-ansible-tests/src/branch/master/sync/tasks/db_setup.yml,# https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml,1,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I5aed94ecedac4a147f76a8eccf7845756456525e,openstack/openstack-ansible-os_cloudkitty,master,I5aed94ecedac4a147f76a8eccf7845756456525e,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2021-11-10 09:24:54.000000000,2021-11-10 09:42:22.000000000,,[{'_account_id': 28619}],"[{'number': 1, 'created': '2021-11-10 09:24:54.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/7e67e59d452689a6e8ad4fdf31e35fde81041293', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I5aed94ecedac4a147f76a8eccf7845756456525e\n'}]",1,817369,7e67e59d452689a6e8ad4fdf31e35fde81041293,3,1,1,32029,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I5aed94ecedac4a147f76a8eccf7845756456525e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/69/817369/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,7e67e59d452689a6e8ad4fdf31e35fde81041293,update,# https://opendev.org/openstack/openstack-ansible-tests/src/branch/master/sync/tasks/db_setup.yml,# https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml,1,1
openstack%2Fopenstack-ansible-os_placement~master~I9abcda51a014eb187b607032660ded3cf8656d72,openstack/openstack-ansible-os_placement,master,I9abcda51a014eb187b607032660ded3cf8656d72,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2021-11-10 09:20:48.000000000,2021-11-10 09:42:10.000000000,,[{'_account_id': 28619}],"[{'number': 1, 'created': '2021-11-10 09:20:48.000000000', 'files': ['tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/314e95cd1bed2608bdb1b5ebd3ed16cf86eab887', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I9abcda51a014eb187b607032660ded3cf8656d72\n'}]",1,817368,314e95cd1bed2608bdb1b5ebd3ed16cf86eab887,3,1,1,32029,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I9abcda51a014eb187b607032660ded3cf8656d72
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/68/817368/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/db_setup.yml'],1,314e95cd1bed2608bdb1b5ebd3ed16cf86eab887,update,# https://opendev.org/openstack/openstack-ansible-tests/src/branch/master/sync/tasks/db_setup.yml,# https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml,1,1
openstack%2Ftripleo-heat-templates~master~Ieb16db2ddd3bf5bc053a49e7b5a87ed3b1266a37,openstack/tripleo-heat-templates,master,Ieb16db2ddd3bf5bc053a49e7b5a87ed3b1266a37,Special treatment for containers that mount /dev,ABANDONED,2021-11-09 11:04:38.000000000,2021-11-10 09:38:42.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-09 11:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/044a8e923501af65d630f6142d854ad97dcc9ead', 'message': 'Special treatment for containers that mount /dev\n\nStart containers that bind-mount /dev without a pseudoterminal\nallocated (no -t flag set).\n\nAlso protect the host PTY from changes from a container by\nbind-mounting /dev/null instead of PTY. RO mode would also signal a\nfailure, if it tries to use PTY in such a container.\n\nChange-Id: Ieb16db2ddd3bf5bc053a49e7b5a87ed3b1266a37\nRelated: rhbz#2021203\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-11-09 13:18:55.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f857706f3ab2b1e85f47c6946e2dc90d86aa3620', 'message': 'Special treatment for containers that mount /dev\n\nStart containers that bind-mount /dev without a pseudoterminal\nallocated (no -t flag set).\n\nAlso protect the host PTY from changes from a container by\nbind-mounting /dev/null instead of PTY. RO mode would also signal a\nfailure, if it tries to use PTY in such a container.\n\nChange-Id: Ieb16db2ddd3bf5bc053a49e7b5a87ed3b1266a37\nCloses-bug: #1950176\nRelated: rhbz#2021203\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",9,817189,f857706f3ab2b1e85f47c6946e2dc90d86aa3620,13,8,2,6926,,,0,"Special treatment for containers that mount /dev

Start containers that bind-mount /dev without a pseudoterminal
allocated (no -t flag set).

Also protect the host PTY from changes from a container by
bind-mounting /dev/null instead of PTY. RO mode would also signal a
failure, if it tries to use PTY in such a container.

Change-Id: Ieb16db2ddd3bf5bc053a49e7b5a87ed3b1266a37
Closes-bug: #1950176
Related: rhbz#2021203
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/817189/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml']",2,044a8e923501af65d630f6142d854ad97dcc9ead,, tty: false - /dev/null:/dev/pts/ptmx:ro - /dev/null:/dev/ptmx:ro,,6,0
openstack%2Fkolla~master~I528f1da8a6ab33bedec742e30bf22cb73e1d7df0,openstack/kolla,master,I528f1da8a6ab33bedec742e30bf22cb73e1d7df0,docs: add master branch preparation to release management,ABANDONED,2021-11-09 17:46:06.000000000,2021-11-10 09:22:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-09 17:46:06.000000000', 'files': ['doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/85f6fe52f93b485b467d6d64eedef1379af67624', 'message': 'docs: add master branch preparation to release management\n\nChange-Id: I528f1da8a6ab33bedec742e30bf22cb73e1d7df0\n'}]",2,817285,85f6fe52f93b485b467d6d64eedef1379af67624,5,2,1,14826,,,0,"docs: add master branch preparation to release management

Change-Id: I528f1da8a6ab33bedec742e30bf22cb73e1d7df0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/817285/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-management.rst'],1,85f6fe52f93b485b467d6d64eedef1379af67624,,"R+0 to R+13: Prepare master branch for development -------------------------------------------------- After the stable branches have been cut, we may prepare the master branches for development. * [kolla-ansible] Set previous release variables to the most recent release. * example: https://review.opendev.org/c/openstack/kolla-ansible/+/796422 * [kayobe] Revert the patch pinning dependencies to stable branches. * example: https://review.opendev.org/c/openstack/kayobe/+/791764 * [kayobe] Set previous release variable to the most recent release. * example: https://review.opendev.org/c/openstack/kayobe/+/789768 ",,18,0
openstack%2Fkayobe~master~I69868dca6e1f3e4a1bf123c9e7f1f3412162b264,openstack/kayobe,master,I69868dca6e1f3e4a1bf123c9e7f1f3412162b264,Ubuntu: add upgrade jobs in CI,MERGED,2021-06-23 12:12:16.000000000,2021-11-10 09:18:11.000000000,2021-10-04 09:45:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-23 12:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a92eba77c4544598ece8ae471b6f80589f542207', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 2, 'created': '2021-06-23 12:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7fe178ba61564627c2ef0582cf4de04a94dca4b7', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 3, 'created': '2021-06-23 16:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37431585048f5a401926c230f0f14e59c9e7ff40', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 4, 'created': '2021-07-26 16:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fe601aaf9d0dff059f70374dc3fb60b681566224', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 5, 'created': '2021-07-27 08:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9a07e04318dc5846a76166b05c8a653bb5d18d24', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 6, 'created': '2021-07-27 10:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ffecdf7217f6d36f2e096c9b20b619c4a3a3b0ca', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 7, 'created': '2021-07-27 10:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6508358f3ea957bc164c45e1e6c8e1fd068438a6', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 8, 'created': '2021-09-17 13:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a5b1c1fab39eb3f36362322061eff84613493b48', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 9, 'created': '2021-09-20 08:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/193650cb4d78be69b8c0441f5c619e01b71be3e4', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 10, 'created': '2021-09-28 14:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4d49b246f4b73dad67d3fe5c58fbd8e168ae82da', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 11, 'created': '2021-09-29 08:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ec37a82d75faf26a6e73c7009919ec9839c4f12', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 12, 'created': '2021-10-01 10:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/26568609685d7e77fac27d9f286eee93536228d8', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 13, 'created': '2021-10-01 13:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fa79464d918ba1f77258af313c88e3c1b715df4d', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}, {'number': 14, 'created': '2021-10-01 14:06:56.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3b901641025bc9dd2f9bcf1c53798958539bd3eb', 'message': 'Ubuntu: add upgrade jobs in CI\n\nNow that the previous release is Wallaby, we can add overcloud and seed\nupgrades on Ubuntu.\n\nChange-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264\n'}]",5,797626,3b901641025bc9dd2f9bcf1c53798958539bd3eb,45,4,14,14826,,,0,"Ubuntu: add upgrade jobs in CI

Now that the previous release is Wallaby, we can add overcloud and seed
upgrades on Ubuntu.

Change-Id: I69868dca6e1f3e4a1bf123c9e7f1f3412162b264
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/26/797626/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,a92eba77c4544598ece8ae471b6f80589f542207,, name: kayobe-overcloud-upgrade-ubuntu-focal parent: kayobe-overcloud-upgrade-base nodeset: kayobe-ubuntu-focal - job: name: kayobe-seed-upgrade-ubuntu-focal parent: kayobe-seed-upgrade-base nodeset: kayobe-ubuntu-focal - job:,,12,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,openstack/ovn-octavia-provider,stable/wallaby,I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,Fix lower-constanints and pep8 jobs,ABANDONED,2021-11-08 12:04:03.000000000,2021-11-10 09:11:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 12:04:03.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'ovn_octavia_provider/helper.py', 'zuul.d/base.yaml', 'ovn_octavia_provider/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7e6d9146dd8880785e2ee16e1657ddd1427eab66', 'message': 'Fix lower-constanints and pep8 jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209.\n\nIt also updates some of the lower-constraints to align them with\nNeutron\'s lower-constraints and to make ci job happy.\n\nIt also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed\nin the OVN repo some time ago.\n\nConflicts:\n    lower-constraints.txt\n    requirements.txt\n\nChange-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40\n(cherry picked from commit e9bf916b928005ee232a637e5e49d829cc84f074)\n(cherry picked from commit 2bf41b0b0f5a1150273240c71b581b475987d20d)\n'}]",0,816994,7e6d9146dd8880785e2ee16e1657ddd1427eab66,3,1,1,11975,,,0,"Fix lower-constanints and pep8 jobs

This patch switches using f-strings instead of regular ones in places
where pep8 was complaining about with error C0209.

It also updates some of the lower-constraints to align them with
Neutron's lower-constraints and to make ci job happy.

It also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed
in the OVN repo some time ago.

Conflicts:
    lower-constraints.txt
    requirements.txt

Change-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40
(cherry picked from commit e9bf916b928005ee232a637e5e49d829cc84f074)
(cherry picked from commit 2bf41b0b0f5a1150273240c71b581b475987d20d)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/94/816994/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'ovn_octavia_provider/helper.py', 'zuul.d/base.yaml', 'ovn_octavia_provider/hacking/checks.py']",5,7e6d9146dd8880785e2ee16e1657ddd1427eab66,fix-ci-stable/wallaby," reg = fr""assertEqual\(([^,]*,\s*)+?{empties}\)\s*$"""," reg = r""assertEqual\(([^,]*,\s*)+?%s\)\s*$"" % empties",30,35
openstack%2Ftripleo-ansible~master~I2d09bc769e1bb7f31cbe285b2f97af4ae79f0885,openstack/tripleo-ansible,master,I2d09bc769e1bb7f31cbe285b2f97af4ae79f0885,Remove unicode from code in api-ref conf,ABANDONED,2021-10-27 01:07:51.000000000,2021-11-10 09:10:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-27 01:07:51.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98cbc758da0e6c0043296f67a3a9d098cd266195', 'message': 'Remove unicode from code in api-ref conf\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I2d09bc769e1bb7f31cbe285b2f97af4ae79f0885\n'}]",0,815576,98cbc758da0e6c0043296f67a3a9d098cd266195,4,2,1,32029,,,0,"Remove unicode from code in api-ref conf

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: I2d09bc769e1bb7f31cbe285b2f97af4ae79f0885
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/815576/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,98cbc758da0e6c0043296f67a3a9d098cd266195,unicode,"project = 'tripleo-ansible Release Notes' copyright = '2019, TripleO Developers' ('index', 'tripleo-ansibleReleaseNotes.tex', 'tripleo-ansible Release Notes Documentation', '2016, TripleO Developers', 'manual'), ('index', 'tripleo-ansiblereleasenotes', 'tripleo-ansible Release Notes Documentation', ['2016, TripleO Developers'], 1) ('index', 'tripleo-ansibleReleaseNotes', 'tripleo-ansible Release Notes Documentation', '2016, TripleO Developers', 'tripleo-ansibleReleaseNotes', 'One line description of project.',","project = u'tripleo-ansible Release Notes' copyright = u'2019, TripleO Developers' ('index', 'tripleo-ansibleReleaseNotes.tex', u'tripleo-ansible Release Notes Documentation', u'2016, TripleO Developers', 'manual'), ('index', 'tripleo-ansiblereleasenotes', u'tripleo-ansible Release Notes Documentation', [u'2016, TripleO Developers'], 1) ('index', 'tripleo-ansibleReleaseNotes', u'tripleo-ansible Release Notes Documentation', u'2016, TripleO Developers', 'tripleo-ansibleReleaseNotes', 'One line description of project.',",17,17
openstack%2Fovn-octavia-provider~stable%2Fxena~I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,openstack/ovn-octavia-provider,stable/xena,I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,Fix lower-constanints and pep8 jobs,ABANDONED,2021-11-08 12:01:41.000000000,2021-11-10 09:07:50.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 12:01:41.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'ovn_octavia_provider/helper.py', 'zuul.d/base.yaml', 'ovn_octavia_provider/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2bf41b0b0f5a1150273240c71b581b475987d20d', 'message': 'Fix lower-constanints and pep8 jobs\n\nThis patch switches using f-strings instead of regular ones in places\nwhere pep8 was complaining about with error C0209.\n\nIt also updates some of the lower-constraints to align them with\nNeutron\'s lower-constraints and to make ci job happy.\n\nIt also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed\nin the OVN repo some time ago.\n\nChange-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40\n(cherry picked from commit e9bf916b928005ee232a637e5e49d829cc84f074)\n'}]",1,816951,2bf41b0b0f5a1150273240c71b581b475987d20d,4,2,1,11975,,,0,"Fix lower-constanints and pep8 jobs

This patch switches using f-strings instead of regular ones in places
where pep8 was complaining about with error C0209.

It also updates some of the lower-constraints to align them with
Neutron's lower-constraints and to make ci job happy.

It also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed
in the OVN repo some time ago.

Change-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40
(cherry picked from commit e9bf916b928005ee232a637e5e49d829cc84f074)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/51/816951/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'ovn_octavia_provider/helper.py', 'zuul.d/base.yaml', 'ovn_octavia_provider/hacking/checks.py']",5,2bf41b0b0f5a1150273240c71b581b475987d20d,fix-ci-stable/xena," reg = fr""assertEqual\(([^,]*,\s*)+?{empties}\)\s*$"""," reg = r""assertEqual\(([^,]*,\s*)+?%s\)\s*$"" % empties",32,37
openstack%2Ftripleo-heat-templates~master~I7b6a5ceb93533af662cb7db2e12cc4780ae544dc,openstack/tripleo-heat-templates,master,I7b6a5ceb93533af662cb7db2e12cc4780ae544dc,Adding heat engine among services for container multinode,ABANDONED,2021-11-01 10:54:43.000000000,2021-11-10 07:54:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-01 10:54:43.000000000', 'files': ['ci/environments/multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39421a45977fa3c1929ad51991a109cd4219e1ad', 'message': 'Adding heat engine among services for container multinode\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7b6a5ceb93533af662cb7db2e12cc4780ae544dc\n'}]",2,816161,39421a45977fa3c1929ad51991a109cd4219e1ad,6,2,1,32926,,,0,"Adding heat engine among services for container multinode

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7b6a5ceb93533af662cb7db2e12cc4780ae544dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/816161/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/multinode-containers.yaml'],1,39421a45977fa3c1929ad51991a109cd4219e1ad,heatengine-multinode, - OS::TripleO::Services::HeatEngine,,1,0
openstack%2Ftempest~master~I465687d61f21dabd43059a1620038662e660be92,openstack/tempest,master,I465687d61f21dabd43059a1620038662e660be92,delete group type testcase,ABANDONED,2021-09-29 03:03:17.000000000,2021-11-10 07:54:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-09-29 03:03:17.000000000', 'files': ['tempest/api/volume/admin/test_group_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/148ce2bbbcf343a7ca9a9acc268e45e5ef5e78b8', 'message': 'delete group type testcase\n\nadd delete group type api testcase for cinder module\nChange-Id: I25aa8e813cf668ee4eb7f8cd1372c60b92e6b34e\n\nChange-Id: I465687d61f21dabd43059a1620038662e660be92\n'}]",3,811525,148ce2bbbcf343a7ca9a9acc268e45e5ef5e78b8,12,3,1,30409,,,0,"delete group type testcase

add delete group type api testcase for cinder module
Change-Id: I25aa8e813cf668ee4eb7f8cd1372c60b92e6b34e

Change-Id: I465687d61f21dabd43059a1620038662e660be92
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/811525/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_types.py'],1,148ce2bbbcf343a7ca9a9acc268e45e5ef5e78b8,master25," def test_group_type_create_list_update_show_delete(self): """"""Test create/list/update/show/delete group type"""""" self.admin_group_types_client.delete_group_type(body['id']) group_list = ( self.admin_group_types_client.list_group_types()['group_types']) group_ids = [it['id'] for it in group_list] self.assertNotIn(body['id'], group_ids)"," def test_group_type_create_list_update_show(self): """"""Test create/list/update/show group type""""""",8,2
openstack%2Fneutron~master~I63e81aebce2621226ff2cfe91f16c97913c137e8,openstack/neutron,master,I63e81aebce2621226ff2cfe91f16c97913c137e8,[OVN][Placement] Add a SB Chassis event to track changes in BW config,MERGED,2021-07-22 07:47:25.000000000,2021-11-10 03:54:39.000000000,2021-11-10 03:52:31.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-07-22 07:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/031d77992f12996c352f45afb105526605b4dac7', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 2, 'created': '2021-07-26 11:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d9864eed34606cb171fabb6afffda0534dd606e', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 3, 'created': '2021-07-26 11:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c015b907e69c45dad8aac18561e485cab3c056f', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 4, 'created': '2021-07-27 09:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80d50f4d0e4ccd5b383eadc4ee35fa20208d6d64', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 5, 'created': '2021-07-27 14:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0b2224ed58889ab5a2c46aa6e41b03e7d817b7f', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 6, 'created': '2021-07-28 11:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcbea7c37ab4f51fede9792032e549e74f7a7a44', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 7, 'created': '2021-09-02 14:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/565a7b5cdc69fe8577c88f53018e8c0e390c627e', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 8, 'created': '2021-09-03 08:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0e494482c7b64aef4221af4bb7c9a3cc9e647b5', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 9, 'created': '2021-09-24 17:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7edc81bcf49948b30a35316560edb76c0574cf82', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 10, 'created': '2021-09-27 11:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/194592b9deaac00d33251812754840f90816577c', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 11, 'created': '2021-09-27 14:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2feb54f7baebf3cc4248c1b1b255ef7cfa5eaf89', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 12, 'created': '2021-10-15 10:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ad132e9c33f053fbf6f2ec89b345d494b3abd78', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 13, 'created': '2021-10-27 09:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e274240ef754ef84179f92359d7cac137a9fa88f', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}, {'number': 14, 'created': '2021-10-27 14:55:42.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'doc/source/admin/config-qos-min-bw.rst', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6f975ac035ca7c67d0d126b76eb280e1b9d1829', 'message': '[OVN][Placement] Add a SB Chassis event to track changes in BW config\n\nAdded a new OVN Client extension: OVNClientPlacementExtension. This\nextension is in charge of handling the bandwidth information stored\nin the OVN database, in the ""Chassis"" registers on the\n""ovn-cms-options"" dictionary.\n\nThree new keys are created to store the resource provider information\nneeded to parameterize the network backend bandwidth information,\nfollowing the implementation done in OVS and SR-IOV:\n- resource_provider_bandwidths\n- resource_provider_inventory_defaults\n- resource_provider_hypervisors\n\nWhen the OVN Client is started, the Placement extension will check if\nthe ""placement"" extension is loaded. It will also create an event to\ncheck any configuration change done in any ""Chassis"" register.\n\nThe Placement extension will read the initial configuration stored\nin the OVN database and will populate it to Placement API, creating\nthe needed resource providers, traits and inventories.\n\nNOTE: This patch belongs to a series of patches to implement\nminimum bandwidth scheduling blueprint in OVN backend. The next\npatch will make OVN backend scheduling aware using the information\nstored in Placement API and the port information passed by Nova when\na VM is created.\n\nNOTE: this patch improves [1], fixing the error [2] reported in [3].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/776701\n[2]https://paste.opendev.org/show/807614/\n[3]https://launchpad.net/bugs/1936983\n\nPartial-Bug: #1578989\nChange-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8\n'}]",30,801712,a6f975ac035ca7c67d0d126b76eb280e1b9d1829,319,9,14,16688,,,0,"[OVN][Placement] Add a SB Chassis event to track changes in BW config

Added a new OVN Client extension: OVNClientPlacementExtension. This
extension is in charge of handling the bandwidth information stored
in the OVN database, in the ""Chassis"" registers on the
""ovn-cms-options"" dictionary.

Three new keys are created to store the resource provider information
needed to parameterize the network backend bandwidth information,
following the implementation done in OVS and SR-IOV:
- resource_provider_bandwidths
- resource_provider_inventory_defaults
- resource_provider_hypervisors

When the OVN Client is started, the Placement extension will check if
the ""placement"" extension is loaded. It will also create an event to
check any configuration change done in any ""Chassis"" register.

The Placement extension will read the initial configuration stored
in the OVN database and will populate it to Placement API, creating
the needed resource providers, traits and inventories.

NOTE: This patch belongs to a series of patches to implement
minimum bandwidth scheduling blueprint in OVN backend. The next
patch will make OVN backend scheduling aware using the information
stored in Placement API and the port information passed by Nova when
a VM is created.

NOTE: this patch improves [1], fixing the error [2] reported in [3].

[1]https://review.opendev.org/c/openstack/neutron/+/776701
[2]https://paste.opendev.org/show/807614/
[3]https://launchpad.net/bugs/1936983

Partial-Bug: #1578989
Change-Id: I63e81aebce2621226ff2cfe91f16c97913c137e8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/801712/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'doc/source/admin/config-qos-min-bw.rst', 'neutron/common/ovn/constants.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",10,031d77992f12996c352f45afb105526605b4dac7,bug/1578989,"OVN_RP_UUID = uuid.UUID('5533233b-800c-11eb-b1f4-000056b2f5b8') OVN_SUPPORTED_VNIC_TYPES = [portbindings.VNIC_NORMAL, portbindings.VNIC_DIRECT, portbindings.VNIC_DIRECT_PHYSICAL, portbindings.VNIC_MACVTAP, portbindings.VNIC_VHOST_VDPA, ] resource_provider_uuid5_namespace = OVN_RP_UUID self.supported_vnic_types = OVN_SUPPORTED_VNIC_TYPES"," resource_provider_uuid5_namespace = uuid.UUID( '5533233b-800c-11eb-b1f4-000056b2f5b8') self.supported_vnic_types = [portbindings.VNIC_NORMAL, portbindings.VNIC_DIRECT, portbindings.VNIC_DIRECT_PHYSICAL, portbindings.VNIC_MACVTAP, portbindings.VNIC_VHOST_VDPA, ]",732,12
openstack%2Fopenstack-tempest-skiplist~master~I639898fb8bed2c52c88e1e4bea80ab474b4efb76,openstack/openstack-tempest-skiplist,master,I639898fb8bed2c52c88e1e4bea80ab474b4efb76,Remove depricated releases from the tempest skiplist,MERGED,2021-11-08 09:36:47.000000000,2021-11-10 03:52:27.000000000,2021-11-10 03:50:51.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30742}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-11-08 09:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/fab3a676e0ec1f70bf12958be3937187d801ee47', 'message': 'Remove depricated releases from the tempest skiplist\n\nQueens, Rocky, Stein releases are no longer support\nin upstream.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I639898fb8bed2c52c88e1e4bea80ab474b4efb76\n'}, {'number': 2, 'created': '2021-11-09 07:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/bddc1b2e6f0bc9db270e8b501b30f92d28b17fc9', 'message': 'Remove depricated releases from the tempest skiplist\n\nRocky, Stein releases are no longer support\nin upstream.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I639898fb8bed2c52c88e1e4bea80ab474b4efb76\n'}, {'number': 3, 'created': '2021-11-09 13:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c82194c861a099c1783660fa2e24a6215981b820', 'message': 'Remove depricated releases from the tempest skiplist\n\nRocky, Stein releases are no longer support\nin upstream.\n\nRelated-Bug: 1821690\nRelated-Bug: 1736950\nRelated-Bug: 1793482\nRelated-Bug: 1817705\nRelated-Bug: 1792862\nRelated-Bug: 1857365\nRelated-Bug: 1737940\nRelated-Bug: 1863750\nRelated-Bug: 1820668\nRelated-Bug: 1820671\nRelated-Bug: 1878248\nRelated-Bug: 1895248\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I639898fb8bed2c52c88e1e4bea80ab474b4efb76\n'}, {'number': 4, 'created': '2021-11-09 13:33:43.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a7896a8e9b9b936c6079146d3e025a573479186a', 'message': 'Remove depricated releases from the tempest skiplist\n\nRocky, Stein releases are no longer support\nin upstream.\n\nRelated-Bug: 1821690\nRelated-Bug: 1736950\nRelated-Bug: 1793482\nRelated-Bug: 1817705\nRelated-Bug: 1792862\nRelated-Bug: 1857365\nRelated-Bug: 1737940\nRelated-Bug: 1863750\nRelated-Bug: 1820668\nRelated-Bug: 1820671\nRelated-Bug: 1878248\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I639898fb8bed2c52c88e1e4bea80ab474b4efb76\n'}]",12,816971,a7896a8e9b9b936c6079146d3e025a573479186a,23,7,4,30750,,,0,"Remove depricated releases from the tempest skiplist

Rocky, Stein releases are no longer support
in upstream.

Related-Bug: 1821690
Related-Bug: 1736950
Related-Bug: 1793482
Related-Bug: 1817705
Related-Bug: 1792862
Related-Bug: 1857365
Related-Bug: 1737940
Related-Bug: 1863750
Related-Bug: 1820668
Related-Bug: 1820671
Related-Bug: 1878248

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I639898fb8bed2c52c88e1e4bea80ab474b4efb76
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/71/816971/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,fab3a676e0ec1f70bf12958be3937187d801ee47,remove_depricated, ," - name: 'queens' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' - name: 'stein' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'stein' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'stein' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'stein' reason: 'mismatch error, mistral team is investigating' lp: 'https://bugs.launchpad.net/tripleo/+bug/1736950' - name: 'rocky' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'rocky' reason: 'Test is failing due to microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'stein' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'Possible bug for QoS + FIP in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'telemetry tests failed due to One or more ports have an IP allocation from this subnet' lp: 'https://bugs.launchpad.net/tripleo/+bug/1792862' - test: 'tempest.api.compute.admin.test_servers_on_multinodes.ServersOnMultiNodesTest.test_create_servers_on_different_hosts_with_list_of_servers' deployment: - 'overcloud' releases: - name: 'queens' reason: 'Errors with servres on multiple nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_boot_into_disabled_port_security_network_without_secgroup' deployment: - 'overcloud' releases: - name: 'queens' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' - name: 'rocky' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_port_update_new_security_group' deployment: - 'overcloud' releases: - name: 'queens' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' - name: 'rocky' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - name: 'rocky' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940' - name: 'queens' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940' - test: 'tempest.api.compute.admin.test_servers_on_multinodes.ServersOnMultiNodesTest.test_create_servers_on_same_host' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'Errors with servres on multiple nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_qos.QoSTest' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940' jobs: [] - test: 'tempest_horizon' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'octavia_tempest_plugin' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ironic_tempest_plugin' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'barbican_tempest_plugin' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron_tempest_plugin.api.test_trunk_negative.TrunkTestMtusJSON' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_security_groups.RbacSharedSecurityGroupTest' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers_negative.DvrRoutersNegativeTestExtended' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers_negative.DvrRoutersNegativeTest' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers.DvrRoutersTestToCentralized' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers.DvrRoutersTestUpdateDistributedExtended' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers.DvrRoutersTest' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_qos.QosMinimumBandwidthRuleTestJSON' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_ports.PortsTestJSON' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_floating_ips.FloatingIPPoolTestJSON' deployment: - 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_create_server_from_volume_snapshot' deployment: - 'overcloud' releases: - name: 'stein' reason: 'Invalid volume type' lp: 'https://bugs.launchpad.net/tripleo/+bug/1863750' jobs: [] - test: 'neutron_tempest_plugin.api.test_qos.QosDscpMarkingRuleTestJSON' deployment: - 'overcloud' releases: - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_floating_ips.FloatingIPPoolTestJSON.test_create_floatingip_from_specific_pool' deployment: - 'overcloud' releases: - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - name: 'stein' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820668' - name: 'stein' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820671' - name: 'stein' reason: 'timeout on test_security_groups' lp: 'https://bugs.launchpad.net/tripleo/+bug/1878248' - test: 'octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest.test_load_balancer_ipv4_CRUD' deployment: - 'overcloud' releases: - name: 'stein' reason: 'show_loadbalancer provisioning_status updated to an invalid state of ERROR' lp: 'https://bugs.launchpad.net/tripleo/+bug/1895248' jobs: - periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset038-stein - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_remove_host_as_user' deployment: - 'undercloud' releases: - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' jobs: [] - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_existent_host' deployment: - 'undercloud' releases: - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' jobs: [] - test: 'tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON.test_list_security_groups_by_server' deployment: - 'undercloud' releases: - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' jobs: [] - test: 'tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON.test_server_security_groups' deployment: - 'undercloud' releases: - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' jobs: [] - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo' - test: 'tempest.api.network.test_ports.PortsTestJSON.test_port_list_filter_by_router_id' deployment: - 'undercloud' releases: - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo'",6,412
openstack%2Fpuppet-senlin~master~Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d,openstack/puppet-senlin,master,Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d,Adds classes for the api and engine and fills in many missing pieces.,ABANDONED,2018-07-20 13:50:24.000000000,2021-11-10 02:21:35.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 13:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/eb59aef638f0fb94c7ee963bd5670973037bd623', 'message': 'Add ability to configure senlin api_paste.ini\n\nAdd sync_db option to senlin::db\n\nImprovements to senlin::keystone::auth\n\n* Fixed class documentation and default parameters\n* Added configure_service parameter\n\nAdded package names, service names and wsgi paths to senlin::params\n\nAdded senlin::cors class\n\nAdded senlin::client class\n\nFixed the documentation format for a few classes\n\nImprovements to some class tests\n\n* senlin_db_postegresql_spec.rb now checks for the existence of\nopenstacklib::db::psogresql class\n* senlin_db_postegresql_spec.rb has an extra test case with specific parameters\n* senlin_db_sync_spec.rb has an extra test case for overriding the value of\nextra_params parameter\n* senlin_keystone_authtoken_spec.rb now tests for the existence of\nkeystone::resource::authtoken class instead of config values\n* senlin_policy_spec.rb now also checks for the existence of oslo::policy class\n\nCompleted senlin::init and added tests for it\n\n* added parameters and oslo::messaging::rabbit class for rabbitmq\n* added parameters and oslo::messaging::amqp class for amqp\n* added parameters and oslo::messaging::notifications class for\nnotifications\n* added parameters and oslo::messaging::default class for messaging\n* added oslo::midleware class and parameters for it\n* added parameters for senlin configs\n* added test cases for senlin::init\n\nAdded senlin api classes\n\n* added senlin::api\n* added senlin::wsgi::apache\n* added tests for senlin::api and senlin::wsgi::apache\n\nAdded senlin::engine class and tests for it\n\nAdded test for senlin::deps\n\nAdded a basic acceptance test for senlin\n\nChange-Id: Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d\n'}, {'number': 2, 'created': '2018-07-20 13:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/9a4fc6411d6412665975ca8e8e489b1ab9c5cbd9', 'message': ""Adds classes for the api and engine and fills in many missing pieces.\n\nAdd ability to configure senlin api_paste.ini\n\nAdd sync_db option to senlin::db\n\nImprovements to senlin::keystone::auth\n\n* Fixed class documentation and default parameters\n* Added configure_service parameter\n\nAdded package names, service names and wsgi paths to senlin::params\n\nAdded senlin::cors class\n\nAdded senlin::client class\n\nFixed the documentation format for a few classes\n\nImprovements to some class tests\n\n* senlin_db_postegresql_spec.rb now checks for the existence of\nopenstacklib::db::psogresql class\n* senlin_db_postegresql_spec.rb has an extra test case with specific parameters\n* senlin_db_sync_spec.rb has an extra test case for overriding the value of\nextra_params parameter\n* senlin_keystone_authtoken_spec.rb now tests for the existence of\nkeystone::resource::authtoken class instead of config values\n* senlin_policy_spec.rb now also checks for the existence of oslo::policy class\n\nCompleted senlin::init and added tests for it\n\n* added parameters and oslo::messaging::rabbit class for rabbitmq\n* added parameters and oslo::messaging::amqp class for amqp\n* added parameters and oslo::messaging::notifications class for\nnotifications\n* added parameters and oslo::messaging::default class for messaging\n* added oslo::midleware class and parameters for it\n* added parameters for senlin configs\n* added test cases for senlin::init\n\nAdded senlin api classes\n\n* added senlin::api\n* added senlin::wsgi::apache\n* added tests for senlin::api and senlin::wsgi::apache\n\nAdded senlin::engine class and tests for it\n\nAdded test for senlin::deps\n\nAdded a basic acceptance test for senlin\n\nNote: I haven't managed to run the acceptance test sucessfully.\nHopefully someone who is more experienced can look into it.\n\nChange-Id: Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d\n""}, {'number': 3, 'created': '2018-07-25 15:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/2320ac824b1a93d3f001b40e025a26359f46c235', 'message': 'Adds classes for the api and engine and fills in many missing pieces.\n\nAdd ability to configure senlin api_paste.ini\n\nAdd sync_db option to senlin::db\n\nImprovements to senlin::keystone::auth\n\n* Fixed class documentation and default parameters\n* Added configure_service parameter\n\nAdded package names, service names and wsgi paths to senlin::params\n\nAdded senlin::cors class\n\nAdded senlin::client class\n\nFixed the documentation format for a few classes\n\nImprovements to some class tests\n\n* senlin_db_postegresql_spec.rb now checks for the existence of\nopenstacklib::db::psogresql class\n* senlin_db_postegresql_spec.rb has an extra test case with specific parameters\n* senlin_db_sync_spec.rb has an extra test case for overriding the value of\nextra_params parameter\n* senlin_keystone_authtoken_spec.rb now tests for the existence of\nkeystone::resource::authtoken class instead of config values\n* senlin_policy_spec.rb now also checks for the existence of oslo::policy class\n\nCompleted senlin::init and added tests for it\n\n* added parameters and oslo::messaging::rabbit class for rabbitmq\n* added parameters and oslo::messaging::amqp class for amqp\n* added parameters and oslo::messaging::notifications class for\nnotifications\n* added parameters and oslo::messaging::default class for messaging\n* added oslo::midleware class and parameters for it\n* added parameters for senlin configs\n* added test cases for senlin::init\n\nAdded senlin api classes\n\n* added senlin::api\n* added senlin::wsgi::apache\n* added tests for senlin::api and senlin::wsgi::apache\n\nAdded senlin::engine class and tests for it\n\nAdded test for senlin::deps\n\nAdded a basic acceptance test for senlin\n\nFixed dependencies related to senlin::db::sync\n\nUpdated metadata.json\n\nChange-Id: Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d\n'}, {'number': 4, 'created': '2018-08-01 08:50:00.000000000', 'files': ['spec/classes/senlin_keystone_auth_spec.rb', 'spec/classes/senlin_client_spec.rb', 'spec/classes/senlin_policy_spec.rb', 'manifests/db/sync.pp', 'manifests/api.pp', 'manifests/db.pp', 'spec/classes/senlin_api_spec.rb', 'manifests/db/mysql.pp', 'spec/unit/provider/senlin_api_paste_init/ini_setting_spec.rb', 'lib/puppet/type/senlin_api_paste_ini.rb', 'spec/acceptance/nodesets/ubuntu-server-1604-x64.yml', 'spec/classes/senlin_wsgi_apache_spec.rb', 'spec/acceptance/nodesets/ubuntu-server-1404-x64.yml', 'lib/puppet/provider/senlin_api_paste_ini/ini_setting.rb', 'manifests/params.pp', 'manifests/cors.pp', 'spec/classes/senlin_deps_spec.rb', 'spec/classes/senlin_engine_spec.rb', 'spec/acceptance/nodesets/default.yml', 'manifests/logging.pp', 'spec/classes/senlin_cors_spec.rb', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'spec/acceptance/basic_senlin_spec.rb', 'manifests/config.pp', 'spec/classes/senlin_db_postgresql_spec.rb', 'spec/classes/senlin_init_spec.rb', 'manifests/engine.pp', 'metadata.json', 'manifests/wsgi/apache.pp', 'spec/classes/senlin_db_sync_spec.rb', 'spec/classes/senlin_keystone_authtoken_spec.rb', 'spec/unit/type/senlin_api_paste_ini_spec.rb', 'manifests/client.pp', 'manifests/keystone/authtoken.pp', 'spec/classes/senlin_db_spec.rb', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/f390047b06bba831bc7dcf1513b36cc815dbacab', 'message': 'Adds classes for the api and engine and fills in many missing pieces.\n\nAdd ability to configure senlin api_paste.ini\n\nAdd sync_db option to senlin::db\n\nImprovements to senlin::keystone::auth\n\n* Fixed class documentation and default parameters\n* Added configure_service parameter\n\nAdded package names, service names and wsgi paths to senlin::params\n\nAdded senlin::cors class\n\nAdded senlin::client class\n\nFixed the documentation format for a few classes\n\nImprovements to some class tests\n\n* senlin_db_postegresql_spec.rb now checks for the existence of\nopenstacklib::db::psogresql class\n* senlin_db_postegresql_spec.rb has an extra test case with specific parameters\n* senlin_db_sync_spec.rb has an extra test case for overriding the value of\nextra_params parameter\n* senlin_keystone_authtoken_spec.rb now tests for the existence of\nkeystone::resource::authtoken class instead of config values\n* senlin_policy_spec.rb now also checks for the existence of oslo::policy class\n\nCompleted senlin::init and added tests for it\n\n* added parameters and oslo::messaging::rabbit class for rabbitmq\n* added parameters and oslo::messaging::amqp class for amqp\n* added parameters and oslo::messaging::notifications class for\nnotifications\n* added parameters and oslo::messaging::default class for messaging\n* added oslo::midleware class and parameters for it\n* added parameters for senlin configs\n* added test cases for senlin::init\n\nAdded senlin api classes\n\n* added senlin::api\n* added senlin::wsgi::apache\n* added tests for senlin::api and senlin::wsgi::apache\n\nAdded senlin::engine class and tests for it\n\nAdded test for senlin::deps\n\nAdded a basic acceptance test for senlin\n\nFixed dependencies related to senlin::db::sync\n\nUpdated metadata.json\n\nChange-Id: Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d\n'}]",4,584378,f390047b06bba831bc7dcf1513b36cc815dbacab,9,2,4,28655,,,0,"Adds classes for the api and engine and fills in many missing pieces.

Add ability to configure senlin api_paste.ini

Add sync_db option to senlin::db

Improvements to senlin::keystone::auth

* Fixed class documentation and default parameters
* Added configure_service parameter

Added package names, service names and wsgi paths to senlin::params

Added senlin::cors class

Added senlin::client class

Fixed the documentation format for a few classes

Improvements to some class tests

* senlin_db_postegresql_spec.rb now checks for the existence of
openstacklib::db::psogresql class
* senlin_db_postegresql_spec.rb has an extra test case with specific parameters
* senlin_db_sync_spec.rb has an extra test case for overriding the value of
extra_params parameter
* senlin_keystone_authtoken_spec.rb now tests for the existence of
keystone::resource::authtoken class instead of config values
* senlin_policy_spec.rb now also checks for the existence of oslo::policy class

Completed senlin::init and added tests for it

* added parameters and oslo::messaging::rabbit class for rabbitmq
* added parameters and oslo::messaging::amqp class for amqp
* added parameters and oslo::messaging::notifications class for
notifications
* added parameters and oslo::messaging::default class for messaging
* added oslo::midleware class and parameters for it
* added parameters for senlin configs
* added test cases for senlin::init

Added senlin api classes

* added senlin::api
* added senlin::wsgi::apache
* added tests for senlin::api and senlin::wsgi::apache

Added senlin::engine class and tests for it

Added test for senlin::deps

Added a basic acceptance test for senlin

Fixed dependencies related to senlin::db::sync

Updated metadata.json

Change-Id: Ia72a9949f5fa9da43d8929c5421a97fda48a9c1d
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/78/584378/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/senlin_keystone_auth_spec.rb', 'spec/classes/senlin_client_spec.rb', 'spec/classes/senlin_policy_spec.rb', 'manifests/db/sync.pp', 'manifests/api.pp', 'manifests/db.pp', 'spec/classes/senlin_api_spec.rb', 'manifests/db/mysql.pp', 'spec/unit/provider/senlin_api_paste_init/ini_setting_spec.rb', 'lib/puppet/type/senlin_api_paste_ini.rb', 'spec/classes/senlin_wsgi_apache_spec.rb', 'lib/puppet/provider/senlin_api_paste_ini/ini_setting.rb', 'manifests/params.pp', 'manifests/cors.pp', 'spec/classes/senlin_deps_spec.rb', 'spec/classes/senlin_engine_spec.rb', 'manifests/logging.pp', 'spec/classes/senlin_cors_spec.rb', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'spec/acceptance/basic_senlin_spec.rb', 'manifests/config.pp', 'spec/classes/senlin_db_postgresql_spec.rb', 'spec/classes/senlin_init_spec.rb', 'manifests/engine.pp', 'manifests/wsgi/apache.pp', 'spec/classes/senlin_db_sync_spec.rb', 'spec/classes/senlin_keystone_authtoken_spec.rb', 'spec/unit/type/senlin_api_paste_ini_spec.rb', 'manifests/client.pp', 'spec/classes/senlin_db_spec.rb', 'manifests/keystone/auth.pp']",32,eb59aef638f0fb94c7ee963bd5670973037bd623,work-on-module,"# [*configure_service*] # (Optional) Should the senlin service be configured? # Defaults to 'true'. ## Type of service. Defaults to 'clustering'.# Default to 'Senlin Clustering Service V1'# (optional) The endpoint's public url. (Defaults to 'http://127.0.0.1:8778')# (optional) The endpoint's admin url. (Defaults to 'http://127.0.0.1:8778')# (optional) The endpoint's internal url. (Defaults to 'http://127.0.0.1:8778') $configure_service = true, $service_description = 'Senlin Clustering Service V1', $service_type = 'clustering', $public_url = 'http://127.0.0.1:8778', $admin_url = 'http://127.0.0.1:8778', $internal_url = 'http://127.0.0.1:8778', validate_string($password) configure_service => $configure_service,","# Type of service. Defaults to 'key-manager'.# Default to 'senlin FIXME Service'# (optional) The endpoint's public url. (Defaults to 'http://127.0.0.1:FIXME')# (optional) The endpoint's admin url. (Defaults to 'http://127.0.0.1:FIXME')# (optional) The endpoint's internal url. (Defaults to 'http://127.0.0.1:FIXME') $service_description = 'senlin FIXME Service', $service_type = 'FIXME', $public_url = 'http://127.0.0.1:FIXME', $admin_url = 'http://127.0.0.1:FIXME', $internal_url = 'http://127.0.0.1:FIXME',",2433,159
openstack%2Fpyeclib~master~Ic839ab02189103975985fc0557d6846052635b14,openstack/pyeclib,master,Ic839ab02189103975985fc0557d6846052635b14,Clean up compile warning,MERGED,2021-10-26 04:54:50.000000000,2021-11-10 01:27:16.000000000,2021-11-10 01:27:16.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 04:54:50.000000000', 'files': ['src/c/pyeclib_c/pyeclib_c.c'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/033fc066f386c4af854f8fad0adb2933fdbee662', 'message': 'Clean up compile warning\n\nPreviously, compiling would complain\n\n   warning: comparison of integer expressions of different signedness:\n   ‘int’ and ‘uint32_t’\n\nChange-Id: Ic839ab02189103975985fc0557d6846052635b14\n'}]",0,815408,033fc066f386c4af854f8fad0adb2933fdbee662,7,2,1,15343,,,0,"Clean up compile warning

Previously, compiling would complain

   warning: comparison of integer expressions of different signedness:
   ‘int’ and ‘uint32_t’

Change-Id: Ic839ab02189103975985fc0557d6846052635b14
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/08/815408/1 && git format-patch -1 --stdout FETCH_HEAD,['src/c/pyeclib_c/pyeclib_c.c'],1,033fc066f386c4af854f8fad0adb2933fdbee662,," uint32_t i; hex_encoded_ptr += sprintf(hex_encoded_ptr, ""%.2x"", (unsigned char)buf[i]); return hex_encoded_buf;"," int i; hex_encoded_ptr += sprintf(hex_encoded_ptr, ""%.2x"", (unsigned char)buf[i]); return hex_encoded_buf; ",4,4
openstack%2Fneutron~master~I4356ac3dfd91f4abd8c1ada0ea7b659940038da8,openstack/neutron,master,I4356ac3dfd91f4abd8c1ada0ea7b659940038da8,Add QoS pps limit rule to support list,ABANDONED,2021-11-05 09:33:14.000000000,2021-11-10 01:26:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-05 09:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e152b1dffd2307e13adb1e9df2be360fd00aa80c', 'message': 'Add QoS pps limit rule to support list\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list.\n\nChange-Id: I4356ac3dfd91f4abd8c1ada0ea7b659940038da8\n'}, {'number': 2, 'created': '2021-11-09 03:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7540ea6c29bc8fe764a40e9a040ae168a7350aa', 'message': 'Add QoS pps limit rule to support list\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list.\n\nChange-Id: I4356ac3dfd91f4abd8c1ada0ea7b659940038da8\n'}, {'number': 3, 'created': '2021-11-09 09:09:11.000000000', 'files': ['neutron/services/qos/drivers/openvswitch/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a007354b37f47900809faabb6723fe821c63279', 'message': 'Add QoS pps limit rule to support list\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list.\n\nChange-Id: I4356ac3dfd91f4abd8c1ada0ea7b659940038da8\n'}]",1,816801,1a007354b37f47900809faabb6723fe821c63279,17,1,3,9531,,,0,"Add QoS pps limit rule to support list

Add packet rate limit rule to the openvswitch QoS
driver SUPPORTED_RULES list.

Change-Id: I4356ac3dfd91f4abd8c1ada0ea7b659940038da8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/816801/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/drivers/openvswitch/driver.py'],1,e152b1dffd2307e13adb1e9df2be360fd00aa80c,packet_rate_limit," qos_consts.RULE_TYPE_PACKET_RATE_LIMIT: { qos_consts.MAX_KPPS: { 'type:range': [0, db_consts.DB_INTEGER_MAX_VALUE]}, qos_consts.MAX_BURST_KPPS: { 'type:range': [0, db_consts.DB_INTEGER_MAX_VALUE]}, qos_consts.DIRECTION: { 'type:values': constants.VALID_DIRECTIONS} },",,8,0
openstack%2Fpyeclib~master~I05dd64c63fe07e152b89a7f48ae7a4ab889e9b64,openstack/pyeclib,master,I05dd64c63fe07e152b89a7f48ae7a4ab889e9b64,Clean up install warning,MERGED,2021-10-26 04:54:50.000000000,2021-11-10 01:25:15.000000000,2021-11-10 01:25:15.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-26 04:54:50.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/61d1dd7d1e8e2c231a23258d9c5fcfcde7b88f29', 'message': ""Clean up install warning\n\nPreviously, running `python setup.py install` would include a\n\n   UserWarning: Unknown distribution option: bugtrack_url\n\nApparently, bugtrack_url isn't really a thing (anymore?), so include a\ncustom project URL instead.\n\nChange-Id: I05dd64c63fe07e152b89a7f48ae7a4ab889e9b64\n""}]",0,815407,61d1dd7d1e8e2c231a23258d9c5fcfcde7b88f29,7,2,1,15343,,,0,"Clean up install warning

Previously, running `python setup.py install` would include a

   UserWarning: Unknown distribution option: bugtrack_url

Apparently, bugtrack_url isn't really a thing (anymore?), so include a
custom project URL instead.

Change-Id: I05dd64c63fe07e152b89a7f48ae7a4ab889e9b64
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/07/815407/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,61d1dd7d1e8e2c231a23258d9c5fcfcde7b88f29,," project_urls={ 'Bug Tracker': 'https://bugs.launchpad.net/pyeclib', },"," bugtrack_url='https://bugs.launchpad.net/pyeclib',",3,1
openstack%2Fmanila-tempest-plugin~master~Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8,openstack/manila-tempest-plugin,master,Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8,[DNM] Temporarily disable IPv6 setup on LVM and CEPH NFS,NEW,2021-10-11 16:59:05.000000000,2021-11-10 00:53:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-11 16:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/3fd264991382a89d12a38508e45c2c44d4591840', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 2, 'created': '2021-10-11 18:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a74f99dcb1ea5df181afad1beae6293246dcb967', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 3, 'created': '2021-10-11 20:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ea3bb8b8dbeb20750cc3993bbf26170f485a7860', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 4, 'created': '2021-10-26 17:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/53b40788af9f8e38069e0a425cc50a6a1a20247f', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 5, 'created': '2021-10-26 22:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/dac42f46e889457804bc2df6a72c09e40453a704', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 6, 'created': '2021-10-28 21:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cd878cbd13247535c7d7d4dc7b7d577a1a80f773', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 7, 'created': '2021-10-28 23:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8b222d30d4e55dc820d2dc556cb28a55ce485b7f', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 8, 'created': '2021-11-09 20:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f53ab96d7444d5fc6a254dd5ac19aa9535870d9a', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 9, 'created': '2021-11-09 20:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b4ceadc109341870fabc1b94023e1b8950672d02', 'message': 'DNM - Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}, {'number': 10, 'created': '2021-11-09 21:44:22.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9714e948160046592de6589a03319c6adbba13fa', 'message': '[DNM] Temporarily disable IPv6 setup on LVM and CEPH NFS\n\nChange-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8\n'}]",2,813463,9714e948160046592de6589a03319c6adbba13fa,34,1,10,29632,,,0,"[DNM] Temporarily disable IPv6 setup on LVM and CEPH NFS

Change-Id: Id7860ba14ffb8b64ece5f9c2e13f2f4c96b9b8e8
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/63/813463/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,3fd264991382a89d12a38508e45c2c44d4591840,, MANILA_SETUP_IPV6: false MANILA_SETUP_IPV6: false, MANILA_SETUP_IPV6: true MANILA_SETUP_IPV6: true,2,2
openstack%2Fproject-config~master~Ic75dd3b93291e364fef8ff08b715fcb955fa5406,openstack/project-config,master,Ic75dd3b93291e364fef8ff08b715fcb955fa5406,Pause Fedora 34 builds,MERGED,2021-11-10 00:10:58.000000000,2021-11-10 00:36:38.000000000,2021-11-10 00:24:58.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 00:10:58.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/85975b92201a07525ae7efc616822f889eaad1e4', 'message': 'Pause Fedora 34 builds\n\nProduction Fedora builds are currently broken until [1].  Pause them\nto avoid a constantly failing loop.\n\n[1] https://review.opendev.org/c/openstack/diskimage-builder/+/817317\n\nChange-Id: Ic75dd3b93291e364fef8ff08b715fcb955fa5406\n'}]",0,817318,85975b92201a07525ae7efc616822f889eaad1e4,7,2,1,7118,,,0,"Pause Fedora 34 builds

Production Fedora builds are currently broken until [1].  Pause them
to avoid a constantly failing loop.

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/817317

Change-Id: Ic75dd3b93291e364fef8ff08b715fcb955fa5406
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/817318/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,85975b92201a07525ae7efc616822f889eaad1e4,pause-f34, pause: true, pause: false,1,1
openstack%2Ftripleo-quickstart~master~I02b378550552f0564dc5519d234ecae1c4ae2bc8,openstack/tripleo-quickstart,master,I02b378550552f0564dc5519d234ecae1c4ae2bc8,Enable use of yum-config module in master branch,NEW,2021-11-09 18:56:42.000000000,2021-11-10 00:17:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 18:56:42.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eea3c265fe733632839063dea61886451eaa3812', 'message': 'Enable use of yum-config module in master branch\n\nThis patch enables the use yum-config module, in master branch, to setup\nsome of the repos inside repo-setup role.\n\nChange-Id: I02b378550552f0564dc5519d234ecae1c4ae2bc8\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",1,817295,eea3c265fe733632839063dea61886451eaa3812,6,2,1,30002,,,0,"Enable use of yum-config module in master branch

This patch enables the use yum-config module, in master branch, to setup
some of the repos inside repo-setup role.

Change-Id: I02b378550552f0564dc5519d234ecae1c4ae2bc8
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/95/817295/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml']",4,eea3c265fe733632839063dea61886451eaa3812,wire-up-yum-config," # Save environment variables, to be used afterwards echo ""export NODEPOOL_RDO_PROXY=${NODEPOOL_RDO_PROXY}"" >> {{ repo_setup_env_filepath }} echo ""export RDO_DLRN_REPO=${RDO_DLRN_REPO}"" >> {{ repo_setup_env_filepath }} # Try to setup repos using yum-config module if available use_yum_config_module: true ",,34,0
openstack%2Fopenstack-helm~master~I1a4c0f0ae96389456db75f57fdee1b7a574b8d70,openstack/openstack-helm,master,I1a4c0f0ae96389456db75f57fdee1b7a574b8d70,Remove cinder v1/v2 defaults,ABANDONED,2021-07-16 01:54:56.000000000,2021-11-09 23:14:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-16 01:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6fce9d4501bc648faefe8c52cf6e18814b837a73', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 2, 'created': '2021-07-27 02:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/590f3c444359f6ffe7eb9bb3078742c7b199c7b1', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 3, 'created': '2021-08-09 21:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d9c492099a178882515bc5303d10226e1e436f5d', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 4, 'created': '2021-08-09 21:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbf5485d37e93d457356f9b27909451217e98122', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 5, 'created': '2021-08-09 21:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b29ff7d5ba415002faa458078290a640a712ae7', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 6, 'created': '2021-08-11 20:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/633471926443f801aacf2cf96c76ebf5b2964e9b', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 7, 'created': '2021-10-20 20:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e7fc02703a746edc42d9f33e604d69d8eac44a0a', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 8, 'created': '2021-10-20 20:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b477960bf31b53b68c8b159dd263423208a20d0e', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 9, 'created': '2021-10-20 20:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/25e7be878cd4e08f91b61675cdea6b25fa1fe5ad', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 10, 'created': '2021-10-20 20:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7d726b792f7e3445f82c92d4bdbd327ecedaf24', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 11, 'created': '2021-10-21 20:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b8f64ca17c1109dbda977b12dcb59637439e42c', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 12, 'created': '2021-10-22 04:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3baf7fbb5b9e280aba823ee0d8001d48e35bf6d', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 13, 'created': '2021-10-22 10:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3f47755630f7e3b06efe1c22ffd8fe07ab1ed1d', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 14, 'created': '2021-10-25 19:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52acbf45d528489392e34f1392c581952158e920', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 15, 'created': '2021-10-25 19:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77fa647d4f983ae6d1d7c61f8d8704a2f85526a7', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 16, 'created': '2021-10-25 19:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/928ab3c59379b6a47dcf55ead2b4a6c3194962a4', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 17, 'created': '2021-10-25 19:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2443d1e13ac716328e31ec21e75f0009e70483a7', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 18, 'created': '2021-10-25 20:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3b18456f8a36c9992ab0a0bc4f04af01e129ba3', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 19, 'created': '2021-10-26 20:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77c766bdc1ade6909e683ec7858f703ee77d043d', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 20, 'created': '2021-10-26 20:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ceffa4128576ec622ad8b3bad58111431a4116eb', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 21, 'created': '2021-10-28 14:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/907a8c80f36e88ef2168e601cf7aab221b5deda2', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 22, 'created': '2021-10-28 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3765e1f23c272307f77115a211d449923c725e1d', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 23, 'created': '2021-11-01 20:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/caebb742ba4f9bd57ef1d9accf0dc1f5b677172a', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 24, 'created': '2021-11-02 19:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1efe60764cf448d5327b5320efdf6093535e85bf', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 25, 'created': '2021-11-02 19:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/daf4575426e623ac6e416f4b933267a08a579838', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 26, 'created': '2021-11-02 19:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a30b0e3d9a0a26855d4ff618f09d1fba2e4078ae', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 27, 'created': '2021-11-03 14:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae7325e52d6a09fad7d585a9e443778c7aae72b7', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 28, 'created': '2021-11-03 18:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47b889028edc8d9bff60e7446cc9417f984f7b44', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 29, 'created': '2021-11-03 20:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c1ca6d99bfdb90326af7907f1b3bbfadb01ed9e', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 30, 'created': '2021-11-03 22:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b49d9f5663afbf8f63f3d434723f8410f83fc7c', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 31, 'created': '2021-11-03 22:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0bd43f7dc1a89b8f3e6318929b82c71510a2eed8', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 32, 'created': '2021-11-04 13:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d9fe95608645c82367f4b5e145ab2e2885624bd', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 33, 'created': '2021-11-04 17:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84cf723436ea043b6e48cff5cb83b0dafc913c47', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 34, 'created': '2021-11-04 19:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8df3600b249b43717e8e1da7e2c51f5936853995', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 35, 'created': '2021-11-05 17:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae5b3f69dc15ba2a0130760db1bea4d4b8dca133', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 36, 'created': '2021-11-05 19:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81132c4a94cab5d4fb9dc89450657c76490f3bb6', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 37, 'created': '2021-11-05 21:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc6c7816b3d7f160709323306e314fe3b7ceb9d0', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 38, 'created': '2021-11-07 21:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a4e573dc41179a3038a98da4cac46ed4870bacf9', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 39, 'created': '2021-11-07 21:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e27b7f88034d4d83b932d98825e12a6f54d33996', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 40, 'created': '2021-11-08 21:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/066e7d8822ee97d1fe3bc1e0df8e2dabc97c87be', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 41, 'created': '2021-11-08 22:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2de23ef4abd9c1917057746899e76974d8eaa6ed', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 42, 'created': '2021-11-09 13:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c4bdedd3f167585bfa6e80fa54ae00219231c31', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 43, 'created': '2021-11-09 20:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd82c55e8a8b4dcfec89e13275bf8cc4edfdfdb2', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 44, 'created': '2021-11-09 20:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/85c7253ed659d81be891d2bd0b847bf0d87e0659', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 45, 'created': '2021-11-09 21:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50f9932e285d35a0b86ba0e61c11b968fa7a1410', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}, {'number': 46, 'created': '2021-11-09 21:59:58.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'cinder/values.yaml', 'doc/source/specs/tenant-ceph.rst', 'cinder/templates/job-ks-endpoints.yaml', 'tools/deployment/common/setup-certificates.sh', 'cinder/values_overrides/tls.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/service-api.yaml', 'cinder/templates/service-ingress-api.yaml', 'cinder/templates/ingress-api.yaml', 'cinder/templates/job-ks-service.yaml', 'cinder/templates/secret-ingress-tls.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e57b8c39c8f982a1a672848db4c5e79d4c096d5e', 'message': 'Remove cinder v1/v2 defaults\n\nThis change removes the cinder v1 and v2 endpoint definitions\nfrom the default values in the cinder chart.\n\nChange-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70\n'}]",2,801014,e57b8c39c8f982a1a672848db4c5e79d4c096d5e,81,1,46,21420,,,0,"Remove cinder v1/v2 defaults

This change removes the cinder v1 and v2 endpoint definitions
from the default values in the cinder chart.

Change-Id: I1a4c0f0ae96389456db75f57fdee1b7a574b8d70
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/801014/46 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/Chart.yaml', 'cinder/values.yaml', 'doc/source/specs/tenant-ceph.rst', 'releasenotes/notes/cinder.yaml']",4,6fce9d4501bc648faefe8c52cf6e18814b837a73,cinder-version-master-master, - 0.2.5 Remove cinder v1/v2 defaults,,2,47
openstack%2Fswift~master~I0c2cbf7b44c6e564e5bea444dfd44ffcf37935e8,openstack/swift,master,I0c2cbf7b44c6e564e5bea444dfd44ffcf37935e8,Ignoring status_changed_at is one way to fix it,NEW,2021-11-09 19:52:49.000000000,2021-11-09 22:34:16.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 19:52:49.000000000', 'files': ['test/probe/test_container_merge_policy_index.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ae145a037c8fedf4c4098916eb7b05793e14157f', 'message': 'Ignoring status_changed_at is one way to fix it\n\nCurious to see if the cmp_policy_info re-write side-steps the issue with\nreplication bouncing around status_changed_at.\n\nChange-Id: I0c2cbf7b44c6e564e5bea444dfd44ffcf37935e8\nRelated-Change-Id: I04686788f01ced6992848caec4a42f5d1461b296\n'}]",1,817302,ae145a037c8fedf4c4098916eb7b05793e14157f,4,2,1,1179,,,0,"Ignoring status_changed_at is one way to fix it

Curious to see if the cmp_policy_info re-write side-steps the issue with
replication bouncing around status_changed_at.

Change-Id: I0c2cbf7b44c6e564e5bea444dfd44ffcf37935e8
Related-Change-Id: I04686788f01ced6992848caec4a42f5d1461b296
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/817302/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_container_merge_policy_index.py'],1,ae145a037c8fedf4c4098916eb7b05793e14157f,p-fix-cmp-spi," def test_replicate_storage_policy_index(self): # verify that replication progresses towards correct SPI on all nodes. # split brain setup: primary node p0 has correct SPI; primary nodes p1, # p2 have incorrect SPI p0, p1, p2 = self.brain.node_numbers[:3] self.brain.servers.stop(number=p1) self.brain.servers.stop(number=p2) self.brain.put_container() self.brain.servers.start(number=p1) self.brain.servers.start(number=p2) self.brain.servers.stop(number=p0) self.brain.put_container() self.brain.servers.start(number=p0) # check initial SPIs head_responses = [] for node in self.brain.nodes: metadata = direct_client.direct_head_container( node, self.brain.part, self.account, self.container_name) head_responses.append((node, metadata)) found_spi = [ metadata['X-Backend-Storage-Policy-Index'] for node, metadata in head_responses] self.assertNotEqual(found_spi[0], found_spi[2]) self.assertEqual(found_spi[1], found_spi[2]) correct_spi = found_spi[0] # oldest SPI is considered correct incorrect_spi = found_spi[1] # replicate p1 with p0 self.brain.servers.stop(number=p2) self.replicators.once(number=p1) self.brain.servers.start(number=p2) # check p1 now has correct SPI head_responses = [] for node in self.brain.nodes: metadata = direct_client.direct_head_container( node, self.brain.part, self.account, self.container_name) head_responses.append((node, metadata)) found_spi = [ metadata['X-Backend-Storage-Policy-Index'] for node, metadata in head_responses] self.assertEqual([correct_spi, correct_spi, incorrect_spi], found_spi) # replicate p2 with p1 self.brain.servers.stop(number=p0) self.replicators.once(number=p2) self.brain.servers.start(number=p0) # check p2 now has correct SPI head_responses = [] for node in self.brain.nodes: metadata = direct_client.direct_head_container( node, self.brain.part, self.account, self.container_name) head_responses.append((node, metadata)) found_spi = [ metadata['X-Backend-Storage-Policy-Index'] for node, metadata in head_responses] self.assertEqual([correct_spi, correct_spi, correct_spi], found_spi) ",,62,0
openstack%2Fneutron-specs~master~Ic8db22d1b6570f68bd6400ecc653dc893a4b6184,openstack/neutron-specs,master,Ic8db22d1b6570f68bd6400ecc653dc893a4b6184,Off-path SmartNIC Port Binding with OVN,MERGED,2021-04-29 18:54:18.000000000,2021-11-09 21:59:28.000000000,2021-11-09 21:57:53.000000000,"[{'_account_id': 935}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9708}, {'_account_id': 12171}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28714}]","[{'number': 1, 'created': '2021-04-29 18:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ad79d6f7e2fb3c528a74aa9395959d287a656129', 'message': 'Off-path SmartNIC Port Binding and Offload\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-port-binding-and-offload\n\nOff-path SmartNICs (or DPUs) introduce an architecture change where\nnetwork agents responsible for eSwitch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC (DPU) hostnames which are\nseen by OVS and OVN agents while the existing port binding code relies\non that. The goal of this specification is to introduce changes into the\nOVN mechanism driver code necessary to extend the existing hardware\noffload-related code to cope with the hostname mismatch and related\ndesign challenges while reusing the rest of the code. To do that, the\nOVN mechanism driver code is extended to accept additional information\nfrom port updates coming from Nova in a port\'s ""binding:profile""\nattribute in order to identify a correct transport node (chassis) and\nrepresentor port at the transport node host side.\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 2, 'created': '2021-05-04 07:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2e469faff5ae3a7541506451c17a923799468b8f', 'message': 'Off-path SmartNIC Port Binding and Offload\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-port-binding-and-offload\n\nOff-path SmartNICs (or DPUs) introduce an architecture change where\nnetwork agents responsible for eSwitch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC (DPU) hostnames which are\nseen by OVS and OVN agents while the existing port binding code relies\non that. The goal of this specification is to introduce changes into the\nOVN mechanism driver code necessary to extend the existing hardware\noffload-related code to cope with the hostname mismatch and related\ndesign challenges while reusing the rest of the code. To do that, the\nOVN mechanism driver code is extended to accept additional information\nfrom port updates coming from Nova in a port\'s ""binding:profile""\nattribute in order to identify a correct transport node (chassis) and\nrepresentor port at the transport node host side.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 3, 'created': '2021-05-27 16:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/94980b17b321b4d0de04298a3ba8b9c2e640f834', 'message': 'Off-path SmartNIC Port Binding and Offload\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN [3]_ agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 4, 'created': '2021-05-28 08:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/348058fa8eac72f1df9d897e45fe60f5c9bb356b', 'message': 'Off-path SmartNIC Port Binding\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN [3]_ agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 5, 'created': '2021-06-04 05:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/092462342f3a5b25f19218f77732bf9397ee7740', 'message': 'Off-path SmartNIC Port Binding\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN [3]_ agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 6, 'created': '2021-07-13 08:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/79de2fa60ce08facf98b2b57316529ab6872f26c', 'message': 'Off-path SmartNIC Port Binding with OVN\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding-with-ovn\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN [3]_ agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 7, 'created': '2021-07-13 08:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e7a0d95ea4c91c9b0cc822d55ab0158116a86acb', 'message': 'Off-path SmartNIC Port Binding with OVN\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding-with-ovn\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN [3]_ agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\n'}, {'number': 8, 'created': '2021-10-20 10:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cd755464825baaf5dfa1d77c3e696ed6fe987b5a', 'message': 'Off-path SmartNIC Port Binding with OVN\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding-with-ovn\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN [3]_ agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\nCloses-Bug: #1932154\n'}, {'number': 9, 'created': '2021-11-03 12:06:42.000000000', 'files': ['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8ff7a77df9ec4fb3b5cb21ca42fc302b855a63fb', 'message': 'Off-path SmartNIC Port Binding with OVN\n\nhttps://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding-with-ovn\n\nOff-path SmartNIC DPUs introduce an architecture change where network\nagents responsible for NIC switch configuration and representor\ninterface plugging run on a separate SoC with its own CPU, memory and\nthat runs a separate OS kernel. The side-effect of that is that\nhypervisor hostnames no longer match SmartNIC DPU hostnames which are\nseen by ovs-vswitchd and OVN agents while the existing port binding\ncode relies on that. The goal of this specification is to introduce\nchanges necessary to extend the existing hardware offload code to cope\nwith the hostname mismatch and related design challenges while reusing\nthe rest of the code. To do that, PCI(e) add-in card tracking is\nintroduced for boards with unique serial numbers so that it can be used\nto determine the correct hostname of a SmartNIC DPU which is responsible\nfor a particular VF. Additionally, more information is suggested to be\npassed in the ""binding:profile"" during a port update to facilitate\nrepresentor port plugging.\n\nWIP code: https://review.opendev.org/c/openstack/neutron/+/808961\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nNeeded-By: I07ef52769da72cde8867f996111b7df4a80e4d79\nChange-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184\nCloses-Bug: #1932154\n'}]",28,788821,8ff7a77df9ec4fb3b5cb21ca42fc302b855a63fb,49,11,9,24824,,,0,"Off-path SmartNIC Port Binding with OVN

https://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-dpu-port-binding-with-ovn

Off-path SmartNIC DPUs introduce an architecture change where network
agents responsible for NIC switch configuration and representor
interface plugging run on a separate SoC with its own CPU, memory and
that runs a separate OS kernel. The side-effect of that is that
hypervisor hostnames no longer match SmartNIC DPU hostnames which are
seen by ovs-vswitchd and OVN agents while the existing port binding
code relies on that. The goal of this specification is to introduce
changes necessary to extend the existing hardware offload code to cope
with the hostname mismatch and related design challenges while reusing
the rest of the code. To do that, PCI(e) add-in card tracking is
introduced for boards with unique serial numbers so that it can be used
to determine the correct hostname of a SmartNIC DPU which is responsible
for a particular VF. Additionally, more information is suggested to be
passed in the ""binding:profile"" during a port update to facilitate
representor port plugging.

WIP code: https://review.opendev.org/c/openstack/neutron/+/808961
Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends

Needed-By: I07ef52769da72cde8867f996111b7df4a80e4d79
Change-Id: Ic8db22d1b6570f68bd6400ecc653dc893a4b6184
Closes-Bug: #1932154
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/21/788821/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/off-path-smartnic-port-binding-and-offload.rst'],1,ad79d6f7e2fb3c528a74aa9395959d287a656129,off-path-smartnic-dpu-port-binding-with-ovn,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Off-path SmartNIC Port Binding and Offload ========================================== https://blueprints.launchpad.net/neutron/+spec/off-path-smartnic-port-binding-and-offload Off-path SmartNICs (or DPUs) introduce an architecture change where network agents responsible for eSwitch configuration and representor interface plugging run on a separate SoC with its own CPU, memory and that runs a separate OS kernel. The side-effect of that is that hypervisor hostnames no longer match SmartNIC (DPU) hostnames which are seen by OVS and OVN agents while the existing port binding code relies on that. The goal of this specification is to introduce changes into the OVN mechanism driver code necessary to extend the existing hardware offload-related code to cope with the hostname mismatch and related design challenges while reusing the rest of the code. To do that, the OVN mechanism driver code is extended to accept additional information from port updates coming from Nova in a port's ""binding:profile"" attribute in order to identify a correct transport node (chassis) and representor port at the transport node host side. Problem Description =================== Terminology ----------- * Off-path SmartNIC architecture [1]_ [2]_ - an architecture where NIC cores are responsible for programming an eSwitch and are bypassed when rules programmed into the eSwitch are enough to make a decision on where to deliver packets. Normally, NIC cores only participate in packet forwarding for the ""slow path"" only and the ""fast path"" is handled via an ASIC; * On-path SmartNIC architecture [1]_ [2]_ - an architecture where NIC cores participate in processing of every packet going through the NIC as a whole. In other words, NIC cores are always on the ""fast path"" of all packets. This type of SmartNICs typically contains FPGAs; * Transport Node - a term used in OVN to refer collectively to hypervisors and gateways per ovn-architecture(7) [3]_. Used in this specification to refer more generically to SmartNICs or DPUs; * eSwitch - a programmable embedded switch present in various types of NICs (SR-IOV-capable NICs, off-path SmartNICs). Typically relies on ASICs for packet processing; * switchdev [4]_ - in-kernel driver model for switch devices which offload the forwarding (data) plane from the kernel. * Representor ports [5]_ - a concept introduced in the switchdev model which models netdevs representing switch ports. This applies to eSwitch ports (which can be physical uplink ports, PFs or VFs); * devlink [6]_ - a kernel API to expose device information and resources not directly related to any device class, such as chip-wide/switch-ASIC-wide configuration; * PCI/PCIe Vital Product Data (VPD) - a standard capability exposed by PCI(e) endpoints which, among other information, includes a unique serial number (read-only, persistent, factory-generated) of a card shared by all functions exposed by it. Present in PCI local bus 2.1+ and PCIe 4.0+ specifications. Detailed overview ----------------- The related Nova specification [7]_ is an integral part of the cross-project effort and its problem description is assumed to be a part of this specification. There are also relevant changes to OVN itself [8]_ [9]_ [10]_ that need to happen in order to facilitate the implementation of this specification in Neutron. In the context of off-path DPUs/SmartNICs, the main problems that need to be addressed in this change are: * OVN transport node (chassis) hostname selection such that the correct host is selected for representor port plugging; * VF representor selection corresponding the VF and a PF it is associated with selected at the hypervisor host side by Nova. Some practical challenges are as follows: * PCI addresses seen by the hypervisor and the SmartNIC/DPU host differ as they have their own root complexes and see isolated PCIe topologies (while communicating with the same NIC). Therefore, PCI addresses from the host side have no meaning at the transport node side; * An eSwitch is not exposed to PFs at the hypervisor host side. Meanwhile, PF representor numbers are tied to a particular eSwitch (to a controller number) at the transport node side. There may be multiple controllers per transport node in a general case so simply passing PF logical numbers from the host side is not enough to identify a PF representor at the transport node side; * VF logical numbering seen via devlink port attributes depends on a device driver implementation at the hypervisor host and does not always match what is seen at the transport node via the eSwitch. It is possible to retrieve VF logical numbers tied to PFs at the hypervisor side based on the VF PCI address assignment process governed by the PCI SIG SR-IOV specification; * During port binding, the OVN mechanism driver needs to differentiate between the 3 different cases involving ports of type ``direct``: * Legacy SR-IOV (just the ``direct`` port type); * Hardware offload for the non-SmartNIC use-case (``direct`` type and the ``switchdev`` capability passed via the ``binding:profile`` attribute); * Binding a ``direct`` port tied to an off-path SmartNIC. The following diagram illustrates various components that play a role in the context of this specification:: ┌────────────────────────────────────┐ │ Hypervisor │ LoM Ports │ ┌───────────┐ ┌───────────┐ │ (on-board, │ │ Instance │ │ Nova │ ├──┐ optional) │ │ (QEMU) │ │ Compute │ │ ├─────────┐ │ │ │ │ │ ├──┘ │ │ └───────────┘ └───────────┘ │ │ │ │ │ └────────────────┬─┬───────┬─┬──┬────┘ │ │ │ │ │ │ │ │ │ │ │ │ Control Traffic │ Instance VF │ │ │ │ │ PF associated │ │ │ │ │ │ with an uplink │ │ │ │ │ │ port or a VF. │ │ │ │ │ │ (used to replace│ │ │ │ │ │ LoM) │ ┌────────────────────────────────────┼─┼───────┼─┼──┼─┐ │ │ DPU/SmartNIC Board │ │ │ │ │ │ │ │ (transport node) │ │ │ │ │ │ │ │ ┌──────────────┐ Control traffic │ │ │ │ │ │ │ │ │ App. CPU │ via PFs or VFs ┌┴─┴───────┴─┴┐ │ │ │ │ ├──────────────┤ (DC Fabric) │ │ │ │ │ │ │ovn-controller├─────────────────┼─┐ │ │ │ │ │ ├──────────────┤ │ │ │ │ │ │ │ │ovs-vswitchd │ Port │ │ eSwitch │ │ │ │ │ ├──────────────┤ Representors │ │ ASIC │ │ │ │ │ │ br-int ├─────────────────┤ │ │ │ │ │ │ │ ├─────────────────┤ │ │ │ │ │ │ └──────────────┘ │ │ │ │ │ │ │ │ │ │ │ │ │ │ └─┼───┬─┬─────┘ │ │ │ ┌─┴──────┐Initial eSwitch │ │ │ │ │ │ ─┤OOB Port│configuration is done via │ │ │uplink │ │ │ └─┬──────┘the OOB port to create │ │ │ │ │ │ │ ports for control traffic. │ │ │ │ │ │ └─────────────────────────────────────┼───┼─┼───────┼─┘ │ │ │ │ │ │ ┌──┼───┴─┴───────┼────────┐ │ │ │ │ │ │ │ │ DC Fabric ├────────┼────────┘ │ │ │ │ └──┼─────────────┼────────┘ │ │ │ ┌───┴──────┐ │ │ │ ┌───▼──┐ ┌───▼───┐ ┌────▼────┐ │OVN SB│ │Neutron│ │Placement│ └──────┘ │Server │ │ │ └───────┘ └─────────┘ Proposed Change =============== Identifying a Transport Node and Port Representor ------------------------------------------------- The related Nova specification [7]_ introduces add-in-card (board) serial number collection via PCIe VPD and forwarding of that information in port updates to Neutron, therefore, it becomes possible to match that against what is seen at the transport node side. Those serial numbers are unique, read-only, and assigned at the manufacturing time (per the PCI and PCIe specs). The board serial number can be stored in the OVN SB database as an external-id for a particular OVN chassis:: external_ids:ovn-board-serial-number=UNIQUEBOARDSERIAL The responsibility of placing it there can be given to: * A deployer who will be responsible of configuring the ovn-controller agent to be responsible for a particular transport node; * ovn-controller itself based on some default behavior of looking up a card serial number based on the switchdev-capable devices available on the transport node host. Regardless of the chosen method of populating this value, Neutron will then be able to lookup which OVN chassis should handle representor plugging and flow programming for a particular port update that has a board serial included. VF logical numbers are relevant in the context of a particular PF. In turn, PF logical numbers are tied to a particular controller. Since an eSwitch is not exposed to the hypervisor host, it cannot determine the controller logical number as visible by the transport node host and while PF numbers could be inferred indirectly from their PCI address function numbers. To address that, a PF MAC seen by the hypervisor host can be passed to the transport node host. While port representors have a different MAC address from the port they represent, it is possible to use generic in-kernel API to retrieve a MAC address of a function via its representer (as of kernel 5.9 [11]_, subject to the switchdev-aware device driver support, for example [12]_). While Neutron will not be responsible for doing this lookup (OVN will), it needs to accept and forward this information to OVN. As a result, the ``binding:profile`` attribute for a port updated by Nova is expected to contain the following information:: binding:profile={ ""board_serial_number"": ""UNIQUEBOARDSERIAL"", ""pf_mac"": ""de:ad:be:ef:ca:fe"", ""vf_num"": 42 } With this information both the right OVN chassis/transport node and port representor can be identified at the transport node side. In order to track which transport node a port got bound to, Neutron can add the following attribute to a port during the port update initiated by Nova:: binding_transport_node_id=<fqdn-of-a-transport-node> This is to avoid confusion with the existing ``binding_host_attribute`` logic where a hypervisor host name is used. The OVN mechanism driver also needs to be changed (where relevant) to use the hostname looked up based on a serial number instead of relying on the hypervisor hostname passed in ``binding_host_id``. After receiving a port update from Nova Neutron needs to create relevant Logical Switch Ports in the OVN database:: Logical_Switch_Port options:requested-chassis=fqdn-of-a-transport-node options:ovn-plugged=true options:pf-mac=de:ad:be:ef:ca:fe options:vf-num=0 If ``vf-num`` is not specified, then a PF representor should be plugged instead of a VF representor. Port Binding and Port Capabilities ---------------------------------- Currently, to support hardware offload, the ``bind_port`` method of the OVN mechanism driver is able to bind ports of type ``direct`` if they also have the ""switchdev"" capability supplied in their ``binding:profile`` attribute:: binding:profile='{""capabilities"": [""switchdev""]}' This capability is discovered by Nova from PCI(e) endpoints via devlink - when an eSwitch is visible via a PF, the ""switchdev"" capability is added to both PFs and VFs tracked in Nova. SmartNICs/DPUs do not expose the eSwitch to the hypervisor host, therefore, this capability is not discovered. To address that, the related Nova specification [7]_ introduces a new capability called ``transportnode`` which is added to the tracked PCI devices based on an operator-supplied config that lists device and vendor IDs of matching PFs and VFs, as a result, port updates from Nova will have this capability in the ``binding:profile`` attribute:: binding:profile='{""capabilities"": [""transportnode""]}' The OVN mechanism driver needs to be extended to also handle ``direct`` ports with this new capability. It will allow the port binding code to pick the right code-path and trigger the newly introduced logic while preserving compatibility with both the legacy SR-IOV and hardware offload use-cases. Implementation ============== Primary Assignees ----------------- * Dmitrii Shcherbakov (lp: ~dmitriis, freenode: Dmitrii-Sh) * Frode Nordahl (lp: ~fnordahl, freenode: fnordahl) Dependencies ============ * Nova specification approval and implementation [7]_; * Upstreaming of OVN changes [7]_ [8]_ [9]_. References ========== .. [1] https://netdevconf.info/0x14/pub/slides/39/Netdev%200x14%20--%20Taking%20Control%20of%20your%20SmartNIC%20v1.pdf .. [2] https://homes.cs.washington.edu/~arvind/papers/ipipe.pdf .. [3] https://man7.org/linux/man-pages/man7/ovn-architecture.7.html .. [4] https://www.kernel.org/doc/Documentation/networking/switchdev.txt .. [5] https://lwn.net/Articles/692942/ .. [6] https://www.kernel.org/doc/html/latest/networking/devlink/index.html .. [7] https://review.opendev.org/c/openstack/nova-specs/+/787458 .. [8] https://github.com/fnordahl/ovs/commits/devlink .. [9] https://patchwork.ozlabs.org/project/openvswitch/patch/20210323145032.453120-1-frode.nordahl@canonical.com/ .. [10] https://github.com/fnordahl/ovn/commits/plugging .. [11] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2a916ecc405686c1d86f632281bc06aa75ebae4e .. [12] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f099fde16db3d2594a54ba8c94ce9fa3557aa3e1 ",,294,0
openstack%2Fkolla-ansible~master~I2bd1a3674f8dd254b55634903a4c046293557e18,openstack/kolla-ansible,master,I2bd1a3674f8dd254b55634903a4c046293557e18,docs: Fix python-openstackclient package name and init-runonce path,MERGED,2021-10-29 23:14:51.000000000,2021-11-09 21:10:46.000000000,2021-11-09 21:07:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-29 23:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8e545dc62fa0cae8cbb9a4f99e3ab9f8b141ba7', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 2, 'created': '2021-11-01 12:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2aba223c1749ad9df8a4385b6061213a3023460f', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}, {'number': 3, 'created': '2021-11-04 20:33:39.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f0783ffa7d4663b01e5fd86efd503385051348e', 'message': 'docs: Fix python-openstackclient package name and init-runonce path\n\nRelated-Bug: #1949198\nChange-Id: I2bd1a3674f8dd254b55634903a4c046293557e18\nSigned-off-by: Adrian Andreias <adrian@fleio.com>\n'}]",3,816074,6f0783ffa7d4663b01e5fd86efd503385051348e,15,3,3,29880,,,0,"docs: Fix python-openstackclient package name and init-runonce path

Related-Bug: #1949198
Change-Id: I2bd1a3674f8dd254b55634903a4c046293557e18
Signed-off-by: Adrian Andreias <adrian@fleio.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/816074/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,b8e545dc62fa0cae8cbb9a4f99e3ab9f8b141ba7,bug/1949198," If you installed Ansible in a virtual environment, create the directory first: .. code-block:: console mkdir -p /etc/ansible pip install python-openstackclient * For deployment or evaluation, run ``init-runonce`` script. If using a virtual environment: .. code-block:: console /path/to/venv/share/share/kolla-ansible/init-runonce If not using a virtual environment:"," pip install python3-openstackclient * For deployment or evaluation, run ``init-runonce`` script:",17,3
openstack%2Fkolla-ansible~master~Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,openstack/kolla-ansible,master,Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b,Fix octavia doesn't set subnet gateway_ip,MERGED,2021-11-08 15:11:05.000000000,2021-11-09 21:09:10.000000000,2021-11-09 21:07:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-08 15:11:05.000000000', 'files': ['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7706aac1b1d356eaaa04ef57f4b920adcfe3668', 'message': ""Fix octavia doesn't set subnet gateway_ip\n\nthe gateway_ip should be in subnet dict.\n\nCloses-Bug: #1949260\nChange-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b\n""}]",0,817034,d7706aac1b1d356eaaa04ef57f4b920adcfe3668,10,3,1,26285,,,0,"Fix octavia doesn't set subnet gateway_ip

the gateway_ip should be in subnet dict.

Closes-Bug: #1949260
Change-Id: Iaa3fc69ee7954b5b202b0a6052c30bfb1780e84b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/817034/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1949260-34d82ecd677dd8ff.yaml', 'ansible/roles/octavia/tasks/prepare.yml']",2,d7706aac1b1d356eaaa04ef57f4b920adcfe3668,bug/1949260," gateway_ip: ""{{ octavia_amp_network['subnet']['gateway_ip'] | default(omit, true) }}"""," gateway_ip: ""{{ octavia_amp_network['gateway_ip'] | default(omit, true) }}""",6,1
openstack%2Fkolla-ansible~master~I38ed4bebee3617267463d13d8f12bc083ab74ac2,openstack/kolla-ansible,master,I38ed4bebee3617267463d13d8f12bc083ab74ac2,Replace deprecated assertRaisesRegexp,MERGED,2021-11-08 06:38:03.000000000,2021-11-09 21:07:20.000000000,2021-11-09 21:07:20.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-08 06:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e71a7a0a5130e3ce7d57f29bc913b67dac45a7c', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2 .\n\nhttps: //docs.python.org/3/library/unittest.html#deprecated-aliases\nChange-Id: I38ed4bebee3617267463d13d8f12bc083ab74ac2\n'}, {'number': 2, 'created': '2021-11-08 06:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b7cbe28ad8efa9930afda826876d27e6bf20797', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2 .\n\nhttps: //docs.python.org/3/library/unittest.html#deprecated-aliases\nChange-Id: I38ed4bebee3617267463d13d8f12bc083ab74ac2\n'}, {'number': 3, 'created': '2021-11-09 01:03:23.000000000', 'files': ['kolla_ansible/tests/unit/test_nova_filters.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b218b29c383d13dfe662ce72fe82f288c69d4048', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2.\n\nhttps://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: I38ed4bebee3617267463d13d8f12bc083ab74ac2\n'}]",8,816938,b218b29c383d13dfe662ce72fe82f288c69d4048,13,3,3,32291,,,0,"Replace deprecated assertRaisesRegexp

The assertRaisesRegexp method has been deprecated since it was renamed
to assertRaisesRegex in Python 3.2.

https://docs.python.org/3/library/unittest.html#deprecated-aliases

Change-Id: I38ed4bebee3617267463d13d8f12bc083ab74ac2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/816938/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/tests/unit/test_nova_filters.py'],1,7e71a7a0a5130e3ce7d57f29bc913b67dac45a7c,," self.assertRaisesRegex(jinja2.TemplateRuntimeError, 'duplicates',"," self.assertRaisesRegexp(jinja2.TemplateRuntimeError, 'duplicates',",1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5941bf9948c5f17e7406d34c21b8de9bd174c063,openstack/python-tripleoclient,stable/wallaby,I5941bf9948c5f17e7406d34c21b8de9bd174c063,Ensure we're using the stackname for the inventory,MERGED,2021-11-09 06:33:32.000000000,2021-11-09 20:19:44.000000000,2021-11-09 20:16:49.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 06:33:32.000000000', 'files': ['tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/914709dd74d4a0ea09dedc3aacc06a0488ef89e4', 'message': 'Ensure we\'re using the stackname for the inventory\n\nUntil now, the inventory path used by the overcloud_delete.py was wrong,\nsince it wasn\'t using the ""stackname"", leading to a wrong\n/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.\n\nWhile it\'s not a big issue with non-TLS-e deploy, it becomes an actual\nproblem when we involve FreeIPA and TLS-e, since the deletion won\'t\nremove the nodes nor services from FreeIPA.\n\nCloses-Bug: #1950155\n\nChange-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063\n(cherry picked from commit 9fd913f57cd5584c65c069af90037d72aa9db7cf)\n'}]",0,817101,914709dd74d4a0ea09dedc3aacc06a0488ef89e4,9,5,1,28223,,,0,"Ensure we're using the stackname for the inventory

Until now, the inventory path used by the overcloud_delete.py was wrong,
since it wasn't using the ""stackname"", leading to a wrong
/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.

While it's not a big issue with non-TLS-e deploy, it becomes an actual
problem when we involve FreeIPA and TLS-e, since the deletion won't
remove the nodes nor services from FreeIPA.

Closes-Bug: #1950155

Change-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063
(cherry picked from commit 9fd913f57cd5584c65c069af90037d72aa9db7cf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/817101/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/v2/overcloud_delete.py']",2,914709dd74d4a0ea09dedc3aacc06a0488ef89e4,overcloud_delete/inventory_path-stable/wallaby," constants.ANSIBLE_INVENTORY.format(parsed_args.stack),"," constants.ANSIBLE_INVENTORY,",4,4
openstack%2Fkolla-ansible~stable%2Fstein~I0bd5e296f1368cbb30334c256817c0d8fda6c1ca,openstack/kolla-ansible,stable/stein,I0bd5e296f1368cbb30334c256817c0d8fda6c1ca,Specific the release of kolla-ansible in quickstart guide,ABANDONED,2019-09-23 07:44:21.000000000,2021-11-09 20:03:18.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-23 07:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e510604542bab01901a30be5f94001e68c325ee', 'message': 'Specific the release of kolla-ansible in quickstart guide\n\nChange-Id: I0bd5e296f1368cbb30334c256817c0d8fda6c1ca\nPatial-Bug: #1844710\n'}, {'number': 2, 'created': '2019-09-23 07:58:54.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/259aa0913bb0a2e2f4bb9c985bd6fa481346207c', 'message': 'Specific the release of kolla-ansible in quickstart guide\n\nChange-Id: I0bd5e296f1368cbb30334c256817c0d8fda6c1ca\nPatial-Bug: #1844710\n'}]",2,683855,259aa0913bb0a2e2f4bb9c985bd6fa481346207c,7,3,2,19779,,,0,"Specific the release of kolla-ansible in quickstart guide

Change-Id: I0bd5e296f1368cbb30334c256817c0d8fda6c1ca
Patial-Bug: #1844710
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/683855/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,5e510604542bab01901a30be5f94001e68c325ee,bug/1844710, pip install kolla-ansible==7.1.2 sudo pip install kolla-ansible==7.1.2 git clone --branch stein https://github.com/openstack/kolla git clone --branch stein https://github.com/openstack/kolla-ansible, pip install kolla-ansible sudo pip install kolla-ansible git clone https://github.com/openstack/kolla git clone https://github.com/openstack/kolla-ansible,4,4
openstack%2Fkolla-ansible~stable%2Frocky~Ic76688a425e78c384ce7a32cca4d44df1757ccab,openstack/kolla-ansible,stable/rocky,Ic76688a425e78c384ce7a32cca4d44df1757ccab,Specific the release of kolla-ansible in quickstart guide,ABANDONED,2019-09-23 07:50:39.000000000,2021-11-09 20:03:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-23 07:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e5720c0f23c1b62f80018a68e8048dcd4531ee9', 'message': 'Specific the release of kolla-ansible in quickstart guide\n\nChange-Id: Ic76688a425e78c384ce7a32cca4d44df1757ccab\nCloses-Bug: #1844710\n'}, {'number': 2, 'created': '2019-09-23 07:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dec5db5d2fbf041f730d05291df405c2470b5ab3', 'message': 'Specific the release of kolla-ansible in quickstart guide\n\nChange-Id: Ic76688a425e78c384ce7a32cca4d44df1757ccab\nCloses-Bug: #1844710\n'}, {'number': 3, 'created': '2019-09-23 07:54:32.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f949be4cdbd68ba7baa0867fac9b40b2326cf236', 'message': 'Specific the release of kolla-ansible in quickstart guide\n\nChange-Id: Ic76688a425e78c384ce7a32cca4d44df1757ccab\nPatial-Bug: #1844710\n'}]",0,683856,f949be4cdbd68ba7baa0867fac9b40b2326cf236,7,3,3,19779,,,0,"Specific the release of kolla-ansible in quickstart guide

Change-Id: Ic76688a425e78c384ce7a32cca4d44df1757ccab
Patial-Bug: #1844710
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/683856/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,6e5720c0f23c1b62f80018a68e8048dcd4531ee9,bug/1844710, pip install kolla-ansible==6.2.2 git clone --branch rocky https://github.com/openstack/kolla git clone --branch rocky https://github.com/openstack/kolla-ansible, pip install kolla-ansible git clone https://github.com/openstack/kolla git clone https://github.com/openstack/kolla-ansible,3,3
openstack%2Fkolla-ansible~master~I43c1b5682523cf05adb3609b65eff080e82bfd9e,openstack/kolla-ansible,master,I43c1b5682523cf05adb3609b65eff080e82bfd9e,Specific the release of kolla-ansible in quickstart guide,ABANDONED,2019-09-23 07:57:00.000000000,2021-11-09 20:02:53.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-23 07:57:00.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/254b1bd0ed84cf478670239fd41286f6d5f25677', 'message': 'Specific the release of kolla-ansible in quickstart guide\n\nChange-Id: I43c1b5682523cf05adb3609b65eff080e82bfd9e\nCloses-Bug: #1844710\n'}]",6,683857,254b1bd0ed84cf478670239fd41286f6d5f25677,5,3,1,19779,,,0,"Specific the release of kolla-ansible in quickstart guide

Change-Id: I43c1b5682523cf05adb3609b65eff080e82bfd9e
Closes-Bug: #1844710
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/683857/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,254b1bd0ed84cf478670239fd41286f6d5f25677,bug/1844710, pip install 'kolla-ansible<9' sudo pip install 'kolla-ansible<9' git clone --branch master https://github.com/openstack/kolla git clone --branch master https://github.com/openstack/kolla-ansible, pip install kolla-ansible sudo pip install kolla-ansible git clone https://github.com/openstack/kolla git clone https://github.com/openstack/kolla-ansible,4,4
openstack%2Fpython-tripleoclient~master~Ia5498cc74ff7db785daa0d6a0b8b7349c86295c6,openstack/python-tripleoclient,master,Ia5498cc74ff7db785daa0d6a0b8b7349c86295c6,Replace deprecated assertRaisesRegexp,MERGED,2021-11-08 06:16:59.000000000,2021-11-09 19:44:21.000000000,2021-11-09 19:42:21.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 06:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/63d048e35ad5a3c957ccb78bc3b18cf96ad54c8e', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2 .\n\nhttps: //docs.python.org/3/library/unittest.html#deprecated-aliases\nChange-Id: Ia5498cc74ff7db785daa0d6a0b8b7349c86295c6\n'}, {'number': 2, 'created': '2021-11-09 01:05:25.000000000', 'files': ['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e7ac07edbcc7eabb4ef6fadeb9490f181c6f858', 'message': 'Replace deprecated assertRaisesRegexp\n\nThe assertRaisesRegexp method has been deprecated since it was renamed\nto assertRaisesRegex in Python 3.2.\n\nhttps://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: Ia5498cc74ff7db785daa0d6a0b8b7349c86295c6\n'}]",0,816936,5e7ac07edbcc7eabb4ef6fadeb9490f181c6f858,10,3,2,32291,,,0,"Replace deprecated assertRaisesRegexp

The assertRaisesRegexp method has been deprecated since it was renamed
to assertRaisesRegex in Python 3.2.

https://docs.python.org/3/library/unittest.html#deprecated-aliases

Change-Id: Ia5498cc74ff7db785daa0d6a0b8b7349c86295c6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/816936/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py']",2,63d048e35ad5a3c957ccb78bc3b18cf96ad54c8e,, self.assertRaisesRegex( self.assertRaisesRegex(, self.assertRaisesRegexp( self.assertRaisesRegexp(,4,4
openstack%2Ftempest~master~I802c0cdb3c8875e33819aed335877f1caef39fef,openstack/tempest,master,I802c0cdb3c8875e33819aed335877f1caef39fef,zuul: Limit tempest-integrated-compute-centos-8-stream to >= stable/wallaby,MERGED,2021-11-09 10:24:28.000000000,2021-11-09 19:33:04.000000000,2021-11-09 19:28:04.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-09 10:24:28.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed89c77222917235290c8cc51974835528ed4cfa', 'message': ""zuul: Limit tempest-integrated-compute-centos-8-stream to >= stable/wallaby\n\nFull support for CentOS8Stream in devstack didn't land until\nI39ccefbd06f46adf5077f8d8001f37d3b190f040 fixed is_fedora to include the\nnewly introduced name.\n\nAs such the recently introduced\ntempest-integrated-compute-centos-8-stream job within tempest that forms\npart of the integrated-gate-compute template needs to be restricted to\nbranches >= stable/wallaby.\n\nCloses-Bug: 1950296\nChange-Id: I802c0cdb3c8875e33819aed335877f1caef39fef\n""}]",3,817179,ed89c77222917235290c8cc51974835528ed4cfa,10,4,1,10135,,,0,"zuul: Limit tempest-integrated-compute-centos-8-stream to >= stable/wallaby

Full support for CentOS8Stream in devstack didn't land until
I39ccefbd06f46adf5077f8d8001f37d3b190f040 fixed is_fedora to include the
newly introduced name.

As such the recently introduced
tempest-integrated-compute-centos-8-stream job within tempest that forms
part of the integrated-gate-compute template needs to be restricted to
branches >= stable/wallaby.

Closes-Bug: 1950296
Change-Id: I802c0cdb3c8875e33819aed335877f1caef39fef
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/817179/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,ed89c77222917235290c8cc51974835528ed4cfa,, branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train|ussuri|victoria)).*$,,1,0
openstack%2Frequirements~master~I27e4f167c8e70a0ca6b036e252dfea58d3bb7c0a,openstack/requirements,master,I27e4f167c8e70a0ca6b036e252dfea58d3bb7c0a,Updated from generate-constraints,MERGED,2021-11-08 02:49:14.000000000,2021-11-09 19:32:49.000000000,2021-11-09 19:28:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 02:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ff48f7ec14ad6297521d224f6f58917cd6eb68f5', 'message': 'Updated from generate-constraints\n\nChange-Id: I27e4f167c8e70a0ca6b036e252dfea58d3bb7c0a\n'}, {'number': 2, 'created': '2021-11-08 04:16:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e2c156be87ac80dc24ecd7ad2a3b9f289bac22be', 'message': 'Updated from generate-constraints\n\nChange-Id: I27e4f167c8e70a0ca6b036e252dfea58d3bb7c0a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,816930,e2c156be87ac80dc24ecd7ad2a3b9f289bac22be,18,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I27e4f167c8e70a0ca6b036e252dfea58d3bb7c0a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/816930/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ff48f7ec14ad6297521d224f6f58917cd6eb68f5,openstack/requirements/constraints/noclob,moto===2.2.13XStatic-Angular===1.8.2.1zeroconf===0.36.12scipy===1.7.2;python_version=='3.8'jsonpointer===2.2graphviz===0.18pycparser===2.21pkg_resources===0.0.0dogtag-pki===10.7.4.1boto3===1.19.12sphinxcontrib-svg2pdfconverter===1.2.0py===1.11.0iso8601===1.0.0python-nss===1.0.1numpy===1.21.4;python_version=='3.8'botocore===1.22.12Django===3.2.9kombu===5.2.1;python_version=='3.8'oslo.policy===3.10.0fasteners===0.16.3,moto===2.2.12XStatic-Angular===1.5.8.0zeroconf===0.36.11scipy===1.7.1;python_version=='3.8'jsonpointer===2.1graphviz===0.17pycparser===2.20dogtag-pki===10.3.0.0.2;python_version=='3.8' dogtag-pki===10.7.4.1;python_version=='3.6'boto3===1.19.10sphinxcontrib-svg2pdfconverter===1.1.1py===1.10.0iso8601===0.1.16python-nss===1.0.1;python_version=='3.6'numpy===1.21.3;python_version=='3.8'botocore===1.22.10Django===2.2.24kombu===5.2.0;python_version=='3.8'oslo.policy===3.9.0fasteners===0.14.1setuptools===58.5.2,20,21
openstack%2Fcinder~master~Ic5470b7fccfb7e84f36dfb7da6ed6733e38d6dd0,openstack/cinder,master,Ic5470b7fccfb7e84f36dfb7da6ed6733e38d6dd0,Correct type annotations for utils.retry(),MERGED,2021-09-07 18:21:31.000000000,2021-11-09 19:24:24.000000000,2021-11-09 18:24:32.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-09-07 18:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d082e5ef963900b0d1f72a16edfb6c08365c4f2', 'message': 'Correct type annotations for utils.retry()\n\nThe interval and backoff_rate parameters passed\nto tenacity are floats, not ints.\n\nChange-Id: Ic5470b7fccfb7e84f36dfb7da6ed6733e38d6dd0\n'}, {'number': 2, 'created': '2021-10-19 14:20:10.000000000', 'files': ['cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e0398ff92f3c022c60a4f06ce264aaab3f6a22a', 'message': 'Correct type annotations for utils.retry()\n\nThe interval and backoff_rate parameters passed\nto tenacity are floats, not ints.\n\nChange-Id: Ic5470b7fccfb7e84f36dfb7da6ed6733e38d6dd0\n'}]",9,807789,8e0398ff92f3c022c60a4f06ce264aaab3f6a22a,79,5,2,4523,,,0,"Correct type annotations for utils.retry()

The interval and backoff_rate parameters passed
to tenacity are floats, not ints.

Change-Id: Ic5470b7fccfb7e84f36dfb7da6ed6733e38d6dd0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/807789/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,9d082e5ef963900b0d1f72a16edfb6c08365c4f2,," interval: float = 1, backoff_rate: float = 2,"," interval: int = 1, backoff_rate: int = 2,",2,2
openstack%2Fkayobe~master~I010a1f4c6acf60d6ac161b4eb14cb1ae3495d522,openstack/kayobe,master,I010a1f4c6acf60d6ac161b4eb14cb1ae3495d522,Allow overriding the hardcoded neutron_plugin_agent,ABANDONED,2021-11-08 20:49:48.000000000,2021-11-09 19:05:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-08 20:49:48.000000000', 'files': ['ansible/roles/kolla-ansible/templates/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ba1a76c7c1cf5dd775d5c3d888223075e102862', 'message': 'Allow overriding the hardcoded neutron_plugin_agent\n\nThis change fixes the hardcoded value of the neutron_plugin_agent to\nallow override it for example for linuxbridge configuration.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I010a1f4c6acf60d6ac161b4eb14cb1ae3495d522\n'}]",3,817082,1ba1a76c7c1cf5dd775d5c3d888223075e102862,6,1,1,14200,,,0,"Allow overriding the hardcoded neutron_plugin_agent

This change fixes the hardcoded value of the neutron_plugin_agent to
allow override it for example for linuxbridge configuration.

Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Change-Id: I010a1f4c6acf60d6ac161b4eb14cb1ae3495d522
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/817082/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/templates/kolla/globals.yml'],1,1ba1a76c7c1cf5dd775d5c3d888223075e102862,override-neutron-plugin-agent,"# Valid options are [ openvswitch, ovn, linuxbridge ] {% if neutron_plugin_agent is defined %} neutron_plugin_agent: ""{{ neutron_plugin_agent }}"" {% else %}{% endif %}","# Valid options are [ openvswitch, linuxbridge ]",5,1
openstack%2Fos-brick~master~Ifcb69f86798d63d1fc2ba6acd91cdc6c71b9e5ea,openstack/os-brick,master,Ifcb69f86798d63d1fc2ba6acd91cdc6c71b9e5ea,Update notes about hacking on os-brick,MERGED,2021-06-03 17:54:21.000000000,2021-11-09 19:03:06.000000000,2021-11-09 18:55:43.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-06-03 17:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/56d149e0412128b1d85e4cf549b09b06bac6c61f', 'message': 'Update notes about hacking on os-brick\n\nPython 3.6+, drop note about gdbm.\n\nChange-Id: Ifcb69f86798d63d1fc2ba6acd91cdc6c71b9e5ea\n'}, {'number': 2, 'created': '2021-06-03 18:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/26fc7d920400258897c57312cebba6745cabeceb', 'message': 'Update notes about hacking on os-brick\n\nPython 3.6+, drop note about gdbm.\n\nChange-Id: Ifcb69f86798d63d1fc2ba6acd91cdc6c71b9e5ea\n'}, {'number': 3, 'created': '2021-11-08 18:39:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3d1ae08abe259da813f6b22700277de26959f5f0', 'message': 'Update notes about hacking on os-brick\n\nPython 3.6+, drop note about gdbm.\n\nChange-Id: Ifcb69f86798d63d1fc2ba6acd91cdc6c71b9e5ea\n'}]",6,794658,3d1ae08abe259da813f6b22700277de26959f5f0,32,5,3,4523,,,0,"Update notes about hacking on os-brick

Python 3.6+, drop note about gdbm.

Change-Id: Ifcb69f86798d63d1fc2ba6acd91cdc6c71b9e5ea
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/58/794658/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,56d149e0412128b1d85e4cf549b09b06bac6c61f,,"Hacking on brick requires Python 3.6+. A recent tox is required, as is a recent virtualenv (13.1.0 or newer).","Hacking on brick requires python-gdbm (for Debian derived distributions), Python 2.7 and Python 3.4. A recent tox is required, as is a recent virtualenv (13.1.0 or newer).",1,3
openstack%2Fpython-cinderclient~master~I3bb7d9f9bede063573b24fb5a33a364c53d52434,openstack/python-cinderclient,master,I3bb7d9f9bede063573b24fb5a33a364c53d52434,"Correct ""Increase default quotas for zuul jobs""",MERGED,2021-09-23 23:25:37.000000000,2021-11-09 18:40:49.000000000,2021-11-09 18:33:42.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-23 23:25:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/39a0a92760b4f17772b26a25797cefe4a8047584', 'message': 'Correct ""Increase default quotas for zuul jobs""\n\nIt turns out that you can\'t use the devstack post_config phase\nfor this because it happens too late.  The quota settings must\nbe made to cinder.conf before cinder-manage db_sync is called\nwhere they\'re used to set the max limit for the tables used by\nthe db quotas driver.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/803521\nChange-Id: I3bb7d9f9bede063573b24fb5a33a364c53d52434\n'}]",2,810789,39a0a92760b4f17772b26a25797cefe4a8047584,12,4,1,5314,,,0,"Correct ""Increase default quotas for zuul jobs""

It turns out that you can't use the devstack post_config phase
for this because it happens too late.  The quota settings must
be made to cinder.conf before cinder-manage db_sync is called
where they're used to set the max limit for the tables used by
the db quotas driver.

Depends-on: https://review.opendev.org/c/openstack/devstack/+/803521
Change-Id: I3bb7d9f9bede063573b24fb5a33a364c53d52434
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/89/810789/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,39a0a92760b4f17772b26a25797cefe4a8047584,cinder-quota-config, CINDER_QUOTA_VOLUMES: 25 CINDER_QUOTA_BACKUPS: 25 CINDER_QUOTA_SNAPSHOTS: 25, devstack_local_conf: post-config: $CINDER_CONF: DEFAULT: quota_volumes: 25,3,5
openstack%2Fpython-cinderclient~master~Ib4237f2799a9425945978503e068a4b42f6e2263,openstack/python-cinderclient,master,Ib4237f2799a9425945978503e068a4b42f6e2263,DNM: testing default quotas,ABANDONED,2021-09-27 14:12:24.000000000,2021-11-09 18:37:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-27 14:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f3ead16a245195a9f702cfa4ad09feabfdca94e5', 'message': 'DNM: testing default quotas\n\nChange-Id: Ib4237f2799a9425945978503e068a4b42f6e2263\n'}, {'number': 2, 'created': '2021-09-27 16:35:22.000000000', 'files': ['cinderclient/tests/functional/test_volume_create_cli.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/02cdd392afb8ee5372d5a6ee2f7227a752b7a6c4', 'message': 'DNM: testing default quotas\n\nChange-Id: Ib4237f2799a9425945978503e068a4b42f6e2263\n'}]",0,811140,02cdd392afb8ee5372d5a6ee2f7227a752b7a6c4,10,1,2,5314,,,0,"DNM: testing default quotas

Change-Id: Ib4237f2799a9425945978503e068a4b42f6e2263
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/40/811140/2 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/tests/functional/test_volume_create_cli.py'],1,f3ead16a245195a9f702cfa4ad09feabfdca94e5,cinder-quota-config," def test_volume_create_fifteen(self): """"""Create more volumes than the default limit."""""" src_id = self.volume['id'] new_vols = [] for num in range(15): volume_from_volume = self.object_create( 'volume', params=f'--source-volid {src_id} 1') new_vols.append(volume_from_volume['id']) cinder_list = self.cinder('list') for vol_id in new_vols: self.assertIn(vol_id, cinder_list) ",,13,0
openstack%2Ftripleo-quickstart-extras~master~I0354a7f8804949916cfccfc22c59f26b54c4c134,openstack/tripleo-quickstart-extras,master,I0354a7f8804949916cfccfc22c59f26b54c4c134,"Revert ""Revert ""Use tripleo-mount-image for modify-image""""",MERGED,2021-10-31 20:20:56.000000000,2021-11-09 18:32:33.000000000,2021-11-04 12:18:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-31 20:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1f7c2408abd5e55946a537cdd6a935e1771589dc', 'message': 'Revert ""Revert ""Use tripleo-mount-image for modify-image""""\n\nThis reverts commit a7a05c4371bf894a58b63622a7995e6e4ee31098.\n\nThis was failing on train, ussuri, victoria because the fallback path\nassumed the overcloud-full partition image is in raw format, but is\nqcow2 on these stable branches.\n\nThis revert now includes the same image format detection that was\nintroduced to tripleo-mount-image in change\nI628abc4cb8c46c3b2e5bfd3cd16bb6d5cc95fabe.\n\nChange-Id: I0354a7f8804949916cfccfc22c59f26b54c4c134\n'}, {'number': 2, 'created': '2021-10-31 22:44:35.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c3f417bddf8909b1b1151429ca41fe60d2217524', 'message': 'Revert ""Revert ""Use tripleo-mount-image for modify-image""""\n\nThis reverts commit a7a05c4371bf894a58b63622a7995e6e4ee31098.\n\nThis was failing on train, ussuri, victoria because the fallback path\nassumed the overcloud-full partition image is in raw format, but is\nqcow2 on these stable branches.\n\nThis revert now includes the same image format detection that was\nintroduced to tripleo-mount-image in change\nI628abc4cb8c46c3b2e5bfd3cd16bb6d5cc95fabe.\n\nChange-Id: I0354a7f8804949916cfccfc22c59f26b54c4c134\n'}]",9,816103,c3f417bddf8909b1b1151429ca41fe60d2217524,23,5,2,4571,,,0,"Revert ""Revert ""Use tripleo-mount-image for modify-image""""

This reverts commit a7a05c4371bf894a58b63622a7995e6e4ee31098.

This was failing on train, ussuri, victoria because the fallback path
assumed the overcloud-full partition image is in raw format, but is
qcow2 on these stable branches.

This revert now includes the same image format detection that was
introduced to tripleo-mount-image in change
I628abc4cb8c46c3b2e5bfd3cd16bb6d5cc95fabe.

Change-Id: I0354a7f8804949916cfccfc22c59f26b54c4c134
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/03/816103/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,1f7c2408abd5e55946a537cdd6a935e1771589dc,bp/whole-disk-default," set -ex if type tripleo-mount-image >/dev/null; then tripleo-mount-image -a {{ image_to_modify_raw }} -m {{ mount_tempdir }} # stable branches do not have tripleo-mount-image, and only use # partition images modprobe nbd if qemu-img info --output json $IMAGE_FILE |grep '""format"": ""raw""' ; then image_format='--format raw' elif qemu-img info --output json $IMAGE_FILE |grep '""format"": ""qcow2""' ; then image_format='--format qcow2' else image_format='' fi qemu-nbd $image_format --connect /dev/nbd0 {{ image_to_modify_raw }} mount /dev/nbd0 {{ mount_tempdir }} if type tripleo-unmount-image >/dev/null; then tripleo-unmount-image -m {{ mount_tempdir }} else umount {{ mount_tempdir }} qemu-nbd --disconnect /dev/nbd0"," set -e modprobe nbd IMAGE_FILE={{ image_to_modify_raw }} MOUNT_DIR={{ mount_tempdir }} NBD_DEVICE=/dev/nbd0 mount_volume () { if [ -b ""$1"" ]; then if [ ! -d $2 ]; then mkdir $2 fi mount $1 $2 fi } set -x qemu-nbd --format raw --connect $NBD_DEVICE $IMAGE_FILE # search for the vg volume group, this is automatic in some environments vgscan # refresh for when this script is called with different values of $NBD_DEVICE vgchange --refresh # activate new logical volumes, this is automatic in some environments vgchange -ay if [ -b ""${NBD_DEVICE}p3"" ]; then # 3 partitions in the image, so assume the first 2 are boot partitions if [ -b ""/dev/mapper/vg-lv_root"" ]; then # a whole-disk overcloud with lvm volumes # for example, overcloud-hardened-uefi-full.qcow2 mount /dev/mapper/vg-lv_root $MOUNT_DIR mount_volume /dev/mapper/vg-lv_var $MOUNT_DIR/var mount_volume /dev/mapper/vg-lv_log $MOUNT_DIR/var/log mount_volume /dev/mapper/vg-lv_audit $MOUNT_DIR/var/log/audit mount_volume /dev/mapper/vg-lv_home $MOUNT_DIR/home mount_volume /dev/mapper/vg-lv_tmp $MOUNT_DIR/tmp mount_volume /dev/mapper/vg-lv_srv $MOUNT_DIR/srv else # a whole-disk overcloud with a single root partition # for example, overcloud-hardened-full.qcow2 mount ${NBD_DEVICE}p3 $MOUNT_DIR fi # a partition image # for example, overcloud-full.qcow2 if [ -b ""${NBD_DEVICE}p1"" ]; then mount ${NBD_DEVICE}p1 $MOUNT_DIR else mount ${NBD_DEVICE} $MOUNT_DIR fi MOUNT_DIR={{ mount_tempdir }} NBD_DEVICE=/dev/nbd0 unmount_volume () { if mountpoint ""$1""; then umount $1 fi } remove_device () { if [ -b ""/dev/mapper/$1"" ]; then dmsetup remove $1 fi } if mountpoint ""$MOUNT_DIR""; then unmount_volume $MOUNT_DIR/var/log/audit unmount_volume $MOUNT_DIR/var/log unmount_volume $MOUNT_DIR/var unmount_volume $MOUNT_DIR/home unmount_volume $MOUNT_DIR/tmp unmount_volume $MOUNT_DIR/srv umount $MOUNT_DIR qemu-nbd --disconnect $NBD_DEVICE vgchange --refresh vg || true remove_device vg-lv_root remove_device vg-lv_var remove_device vg-lv_log remove_device vg-lv_audit remove_device vg-lv_home remove_device vg-lv_tmp remove_device vg-lv_srv ",20,87
openstack%2Ftripleo-ansible~stable%2Fussuri~I17222ebd53fd39ee751fc8a2db83848111be99dd,openstack/tripleo-ansible,stable/ussuri,I17222ebd53fd39ee751fc8a2db83848111be99dd,Make KillMode configurable for service units,MERGED,2021-11-09 09:13:30.000000000,2021-11-09 18:13:16.000000000,2021-11-09 18:13:16.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 09:13:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/511d597ad2365e53969ec6d8642fe7235509bf87', 'message': 'Make KillMode configurable for service units\n\nLibvirt container is a special beast that needs custom\nkillmode value for its tripleo-manager service unit.\nAdd kill_mode for the container values that defaults to\ncontrol-group.\n\nChange-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd\nRelated: rhbz#2010135\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit e89f88036be54c5fd69a9703afb5c8ba7c66056d)\n'}]",0,817104,511d597ad2365e53969ec6d8642fe7235509bf87,9,5,1,6926,,,0,"Make KillMode configurable for service units

Libvirt container is a special beast that needs custom
killmode value for its tripleo-manager service unit.
Add kill_mode for the container values that defaults to
control-group.

Change-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd
Related: rhbz#2010135
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit e89f88036be54c5fd69a9703afb5c8ba7c66056d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/817104/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,511d597ad2365e53969ec6d8642fe7235509bf87,rhbz2010135-stable/wallaby-stable/victoria-stable/ussuri,"KillMode={{ lookup('dict', container_data_unit).value.kill_mode | default('control-group') }}",,1,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Ia5c80ff18836b08d4caff82b2ac69a11d6e54210,openstack/openstack-ansible,stable/ussuri,Ia5c80ff18836b08d4caff82b2ac69a11d6e54210,Fetch upper constraints file with curl rather than allow pip to download it,MERGED,2021-10-27 14:02:36.000000000,2021-11-09 18:12:59.000000000,2021-11-09 18:10:32.000000000,"[{'_account_id': 819}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-10-27 14:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bebcabac071edd26eee31262e559c33060d77d38', 'message': 'Fetch upper constraints file with curl rather than allow pip to download it\n\nOn centos-7 the distro provided trust store for pip is out of date and\ncannot validate LetsEncrypt certificates issued against their new root\nCA.\n\nUse curl to download a local copy of upper-constraints.txt so that we can\npass it to pip as a file instead of a url in order to boostrap the ansible\nvirtualenv and upgrade pip/setuptools/wheel to more modern versions.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/814559\nChange-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210\n(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)\n'}, {'number': 2, 'created': '2021-10-27 14:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c6be8e77562562ee01c800d76f63b9b6021d3b13', 'message': 'Fetch upper constraints file with curl rather than allow pip to download it\n\nOn centos-7 the distro provided trust store for pip is out of date and\ncannot validate LetsEncrypt certificates issued against their new root\nCA.\n\nUse curl to download a local copy of upper-constraints.txt so that we can\npass it to pip as a file instead of a url in order to boostrap the ansible\nvirtualenv and upgrade pip/setuptools/wheel to more modern versions.\n\nChange-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210\n(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)\n'}, {'number': 3, 'created': '2021-11-02 10:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7881b9cd8b2178aabd33ff4178c0205d9307a742', 'message': 'Fetch upper constraints file with curl rather than allow pip to download it\n\nOn centos-7 the distro provided trust store for pip is out of date and\ncannot validate LetsEncrypt certificates issued against their new root\nCA.\n\nUse curl to download a local copy of upper-constraints.txt so that we can\npass it to pip as a file instead of a url in order to boostrap the ansible\nvirtualenv and upgrade pip/setuptools/wheel to more modern versions.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/814559/2\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631\nChange-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210\n(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)\n'}, {'number': 4, 'created': '2021-11-03 12:18:28.000000000', 'files': ['scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf854c2423530a48c009f0b8e8336125a5633353', 'message': 'Fetch upper constraints file with curl rather than allow pip to download it\n\nOn centos-7 the distro provided trust store for pip is out of date and\ncannot validate LetsEncrypt certificates issued against their new root\nCA.\n\nUse curl to download a local copy of upper-constraints.txt so that we can\npass it to pip as a file instead of a url in order to boostrap the ansible\nvirtualenv and upgrade pip/setuptools/wheel to more modern versions.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/816317\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631\nChange-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210\n(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)\n'}]",1,815632,bf854c2423530a48c009f0b8e8336125a5633353,14,4,4,28619,,,0,"Fetch upper constraints file with curl rather than allow pip to download it

On centos-7 the distro provided trust store for pip is out of date and
cannot validate LetsEncrypt certificates issued against their new root
CA.

Use curl to download a local copy of upper-constraints.txt so that we can
pass it to pip as a file instead of a url in order to boostrap the ansible
virtualenv and upgrade pip/setuptools/wheel to more modern versions.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/816317
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631
Change-Id: Ia5c80ff18836b08d4caff82b2ac69a11d6e54210
(cherry picked from commit 1f707ccf21e4c39ec8a0d32220f4e777e28ae2cc)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/32/815632/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,bebcabac071edd26eee31262e559c33060d77d38,,# Settings which are specific to opendev CI,"# Copy /etc/pip.conf into containers to get mirrors for wheels # and due to extra-index-url bugs in Ubuntu, we workaround it # by ignoring the config file during PIP upgrade time venv_pip_upgrade_noconf: true",8,4
openstack%2Ftripleo-ansible~stable%2Fvictoria~I17222ebd53fd39ee751fc8a2db83848111be99dd,openstack/tripleo-ansible,stable/victoria,I17222ebd53fd39ee751fc8a2db83848111be99dd,Make KillMode configurable for service units,MERGED,2021-11-09 09:13:16.000000000,2021-11-09 18:00:01.000000000,2021-11-09 18:00:01.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-09 09:13:16.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/545a9d15c690a04749f7f017002840de274d7425', 'message': 'Make KillMode configurable for service units\n\nLibvirt container is a special beast that needs custom\nkillmode value for its tripleo-manager service unit.\nAdd kill_mode for the container values that defaults to\ncontrol-group.\n\nChange-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd\nRelated: rhbz#2010135\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit e89f88036be54c5fd69a9703afb5c8ba7c66056d)\n'}]",0,817103,545a9d15c690a04749f7f017002840de274d7425,8,4,1,6926,,,0,"Make KillMode configurable for service units

Libvirt container is a special beast that needs custom
killmode value for its tripleo-manager service unit.
Add kill_mode for the container values that defaults to
control-group.

Change-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd
Related: rhbz#2010135
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit e89f88036be54c5fd69a9703afb5c8ba7c66056d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/817103/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,545a9d15c690a04749f7f017002840de274d7425,rhbz2010135-stable/wallaby-stable/victoria,"KillMode={{ lookup('dict', container_data_unit).value.kill_mode | default('control-group') }}",,1,0
openstack%2Fswift~master~Ide10b07f96e6f91044c783b2c7381ebb4d16853d,openstack/swift,master,Ide10b07f96e6f91044c783b2c7381ebb4d16853d,Re-write reconciler.cmp_policy_info(),NEW,2021-11-05 18:49:36.000000000,2021-11-09 17:07:21.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-05 18:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0503c9970a5b926fecd8511809bcb7e0543e8940', 'message': 'WIP: rewrite reconciler.cmp_policy_info\n\nTODO:\n- address failing tests\n- docstring\n\nChange-Id: Ide10b07f96e6f91044c783b2c7381ebb4d16853d\n'}, {'number': 2, 'created': '2021-11-09 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c96f10eb1e55da19ef58ee3f734958bc3098e306', 'message': 'Re-write reconciler.cmp_policy_info()\n\nThe previous implementation was correct but difficult for some humans\nto understand.\n\nRelated-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: Ide10b07f96e6f91044c783b2c7381ebb4d16853d\n'}, {'number': 3, 'created': '2021-11-09 14:24:43.000000000', 'files': ['swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a132b9229f7234b4fadf7978e95f282a5a3635d9', 'message': 'Re-write reconciler.cmp_policy_info()\n\nThe previous implementation was correct but difficult for some humans\nto understand.\n\nRelated-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6\nChange-Id: Ide10b07f96e6f91044c783b2c7381ebb4d16853d\n'}]",5,816893,a132b9229f7234b4fadf7978e95f282a5a3635d9,9,3,3,7847,,,0,"Re-write reconciler.cmp_policy_info()

The previous implementation was correct but difficult for some humans
to understand.

Related-Change: Ia107c1c8ac051890bea00770f06c53a47eafb9d6
Change-Id: Ide10b07f96e6f91044c783b2c7381ebb4d16853d
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/816893/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/reconciler.py'],1,0503c9970a5b926fecd8511809bcb7e0543e8940,p-fix-cmp-spi,"def cmp_policy_info(local_info, remote_info): # WIP! events = [] for info, tag in ((local_info, 'local'), (remote_info, 'remote')): events.append((info['delete_timestamp'], 'delete', tag)) events.append((info['put_timestamp'], 'put', tag)) events.sort() deleted = True chosen = local_info # play the events back and make same decisions as the container server # would have done for requests to its API... for event in events: if event[1] == 'put' and deleted: deleted = False chosen = event[2] if event[1] == 'delete': # TODO: do repeated deletes at API increment delete_timestamp? deleted = True chosen = event[2] # I need to figure out how status_changed_at plays along - the server API # doesn't consider it at all, but the original cmp_policy_index did return -1 if chosen == 'local' else 1","def cmp_policy_info(info, remote_info): """""" You have to squint to see it, but the general strategy is just: if either has been recreated: return the newest (of the recreated) else return the oldest I tried cleaning it up for awhile, but settled on just writing a bunch of tests instead. Once you get an intuitive sense for the nuance here you can try and see there's a better way to spell the boolean logic but it all ends up looking sorta hairy. :returns: -1 if info is correct, 1 if remote_info is better """""" def is_deleted(info): return (info['delete_timestamp'] > info['put_timestamp'] and info.get('count', info.get('object_count', 0)) == 0) def cmp(a, b): if a < b: return -1 elif b < a: return 1 else: return 0 deleted = is_deleted(info) remote_deleted = is_deleted(remote_info) if any([deleted, remote_deleted]): if not deleted: return -1 elif not remote_deleted: return 1 return cmp(remote_info['status_changed_at'], info['status_changed_at']) def has_been_recreated(info): return (info['put_timestamp'] > info['delete_timestamp'] > Timestamp(0)) remote_recreated = has_been_recreated(remote_info) recreated = has_been_recreated(info) if any([remote_recreated, recreated]): if not recreated: return 1 elif not remote_recreated: return -1 # both have been recreated, everything devoles to here eventually most_recent_successful_delete = max(info['delete_timestamp'], remote_info['delete_timestamp']) if info['put_timestamp'] < most_recent_successful_delete: return 1 elif remote_info['put_timestamp'] < most_recent_successful_delete: return -1 return cmp(info['status_changed_at'], remote_info['status_changed_at'])",22,52
openstack%2Fcinder~master~I3e77c890c7abca85dab92500eae989b4dff9824d,openstack/cinder,master,I3e77c890c7abca85dab92500eae989b4dff9824d,Fixed copy-on-write mode in GPFS NFS driver,MERGED,2021-10-14 11:25:17.000000000,2021-11-09 17:05:19.000000000,2021-11-08 21:27:43.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32036}, {'_account_id': 34167}]","[{'number': 1, 'created': '2021-10-14 11:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13b4508c87ea91a4c1132381bd2d553221602af1', 'message': 'Enabling Copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bugs mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947123, #1947134\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 2, 'created': '2021-10-14 11:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/32519c2ff34ff2f0198a167a00837ff426ed8940', 'message': 'Enabling Copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bugs mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947123\nCloses-Bug: #1947134\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 3, 'created': '2021-10-19 04:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b04d740267eb18a98ca8f37c6cb7949d2b9a342', 'message': 'Enabling Copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bugs mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947123\nCloses-Bug: #1947134\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 4, 'created': '2021-10-23 19:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbb127f4b6faf500d0cf32460047531f91714555', 'message': 'Enabling Copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bugs mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947123\nCloses-Bug: #1947134\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 5, 'created': '2021-10-29 00:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9276d7e62673043d329cba1ae648c58cd05ab6fc', 'message': 'Fixed copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bug mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947134\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 6, 'created': '2021-10-29 16:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2bd1b88e8b552976f1da89014426e428e2ddcf42', 'message': 'Fixed copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bug mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947134\nCloses-Bug: #1947123\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 7, 'created': '2021-10-29 20:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f7936431c3028762e3ab8728404850bca3acc52', 'message': 'Fixed copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bug mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947134\nCloses-Bug: #1947123\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}, {'number': 8, 'created': '2021-11-02 22:55:32.000000000', 'files': ['releasenotes/notes/bug-gpfs-fix-nfs-cow.yaml', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcc191646985fa0be76ee763935ef37a8456d1e6', 'message': 'Fixed copy-on-write mode in GPFS NFS driver\n\nIBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature\nin all the configuration. Resolving the bug mentioned below will\nenable mmclone feature of the IBM Spectrum Scale filesystem to provide\nbetter performance while configured in GPFS NFS mode.\n\nCloses-Bug: #1947134\nCloses-Bug: #1947123\nChange-Id: I3e77c890c7abca85dab92500eae989b4dff9824d\n'}]",52,813984,dcc191646985fa0be76ee763935ef37a8456d1e6,202,8,8,19904,,,0,"Fixed copy-on-write mode in GPFS NFS driver

IBM Spectrum Scale cinder driver (GPFS) support copy-on-write feature
in all the configuration. Resolving the bug mentioned below will
enable mmclone feature of the IBM Spectrum Scale filesystem to provide
better performance while configured in GPFS NFS mode.

Closes-Bug: #1947134
Closes-Bug: #1947123
Change-Id: I3e77c890c7abca85dab92500eae989b4dff9824d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/813984/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/gpfs.py'],1,13b4508c87ea91a4c1132381bd2d553221602af1,," def _same_filesystem(self, path1, path2): """"""Return true if the two paths are in the same GPFS file system."""""" try: (out, err) = self.gpfs_execute('stat', '-f', '-c', '""%i""', path1, path2) lines = out.splitlines() return lines[0] == lines[1] except processutils.ProcessExecutionError as exc: LOG.error('Failed to issue stat command on path ' '%(path1)s and path %(path2)s, error: %(error)s', {'path1': path1, 'path2': path2, 'error': exc.stderr}) raise exception.VolumeBackendAPIException(data=exc.error) not self._same_filesystem(self.configuration.gpfs_mount_point_base, self.configuration.gpfs_images_dir)): if data.file_format == 'raw': vol_path = self._get_volume_path(volume) else: vol_path = self.local_path(volume) remotefs_share = self._find_share(volume)","def _same_filesystem(path1, path2): """"""Return true if the two paths are in the same GPFS file system."""""" return os.lstat(path1).st_dev == os.lstat(path2).st_dev not _same_filesystem(self.configuration.gpfs_mount_point_base, self.configuration.gpfs_images_dir)): vol_path = self.local_path(volume) remotefs_share = volume['provider_location']",21,10
openstack%2Fkayobe-config-dev~master~Ic21d883a83ff738b89a39ba35a4d63c7d1762649,openstack/kayobe-config-dev,master,Ic21d883a83ff738b89a39ba35a4d63c7d1762649,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:02:01.000000000,2021-11-09 16:54:23.000000000,2021-11-09 16:54:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-05 14:02:01.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/206f7f996876c0f261f1ebb0a19db5cb39fec67e', 'message': 'Fix configuration sync for infra-vms\n\nChange-Id: Ic21d883a83ff738b89a39ba35a4d63c7d1762649\n'}]",3,816848,206f7f996876c0f261f1ebb0a19db5cb39fec67e,16,3,1,15197,,,0,"Fix configuration sync for infra-vms

Change-Id: Ic21d883a83ff738b89a39ba35a4d63c7d1762649
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/48/816848/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/inventory/group_vars/infra-vms/ansible-python-interpreter', 'etc/kayobe/inventory/group_vars/infra-vms/network-interfaces']",3,206f7f996876c0f261f1ebb0a19db5cb39fec67e,,--- ############################################################################### # Network interface definitions for the infra-vms group. # Overcloud provisioning network IP information. # provision_oc_net_interface: # provision_oc_net_bridge_ports: # provision_oc_net_bond_slaves: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ,,16,1
openstack%2Fpaunch~stable%2Ftrain~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/paunch,stable/train,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-10-14 14:44:23.000000000,2021-11-09 16:35:24.000000000,2021-11-09 16:33:43.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-14 14:44:23.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/a783594fd40cb4593b236bdd9377c42cb1537393', 'message': 'Wrap stopping podman -t with systemd timeouts\n\nCurrently with KillMode=none, if podman -t hangs, the command repeats\nleaving the process and its cgroup around.\nBut if a stop/start command hangs, we should not start another one.\n\nInstead time it out properly via TimeoutStopSec set to the 2x of\nthe timeout given to the managed podman action. Then if it expires,\nkill its cgroup all the way (KillMode=control-group is a default)\nbefore rerunning the same operation. Also note that using KilMode\nprocess is not recommended by systemd man pages.\n\nIncrease the grace stop timeout defaults 10->42s to align it with:\nhttps://github.com/containers/podman/pull/8889\n\nCloses-bug: #1945791\nChange-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)\n'}]",3,814020,a783594fd40cb4593b236bdd9377c42cb1537393,12,7,1,6926,,,0,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/20/814020/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,a783594fd40cb4593b236bdd9377c42cb1537393,," 'kill_cgroup_period': 2 * stop_grace_period,TimeoutStopSec=%(kill_cgroup_period)s",KillMode=none,2,1
openstack%2Fkuryr-kubernetes~master~I41afc6fa67abfff62d2f0017db508051a1e7edf4,openstack/kuryr-kubernetes,master,I41afc6fa67abfff62d2f0017db508051a1e7edf4,Do not start kuryr-daemon when worker_num <= 1,MERGED,2021-11-04 13:32:50.000000000,2021-11-09 16:22:30.000000000,2021-11-09 16:20:18.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-11-04 13:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0589df6650093787f1ff4e09e7190ae834dadd4e', 'message': ""Do not start kuryr-daemon when worker_num <= 1\n\nWe've discovered that running kuryr-daemon with [cni_daemon]worker_num=1\nbreaks pyroute2.IPDB's ability to correctly close threads, leading to a\nprocess leak. This commit makes sure kuryr-daemon will fail to start\nwhen worker_num <= 1.\n\nThis required a few more changes in order to make sure that when any\nkuryr-daemon subservice dies, kuryr-daemon will shutdown too.\n\nChange-Id: I41afc6fa67abfff62d2f0017db508051a1e7edf4\n""}, {'number': 2, 'created': '2021-11-05 10:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f15cfb810ced7150a3eadf1ffe3832bec4f53ca5', 'message': ""Do not start kuryr-daemon when worker_num <= 1\n\nWe've discovered that running kuryr-daemon with [cni_daemon]worker_num=1\nbreaks pyroute2.IPDB's ability to correctly close threads, leading to a\nprocess leak. This commit makes sure kuryr-daemon will fail to start\nwhen worker_num <= 1.\n\nThis required a few more changes in order to make sure that when any\nkuryr-daemon subservice dies, kuryr-daemon will shutdown too.\n\nChange-Id: I41afc6fa67abfff62d2f0017db508051a1e7edf4\n""}, {'number': 3, 'created': '2021-11-05 13:25:38.000000000', 'files': ['requirements.txt', 'kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/exceptions.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/87981d06526230a406ea0b151cd8b051ff88529c', 'message': ""Do not start kuryr-daemon when worker_num <= 1\n\nWe've discovered that running kuryr-daemon with [cni_daemon]worker_num=1\nbreaks pyroute2.IPDB's ability to correctly close threads, leading to a\nprocess leak. This commit makes sure kuryr-daemon will fail to start\nwhen worker_num <= 1.\n\nThis required a few more changes in order to make sure that when any\nkuryr-daemon subservice dies, kuryr-daemon will shutdown too.\n\nChange-Id: I41afc6fa67abfff62d2f0017db508051a1e7edf4\n""}]",3,816696,87981d06526230a406ea0b151cd8b051ff88529c,14,4,3,11600,,,0,"Do not start kuryr-daemon when worker_num <= 1

We've discovered that running kuryr-daemon with [cni_daemon]worker_num=1
breaks pyroute2.IPDB's ability to correctly close threads, leading to a
process leak. This commit makes sure kuryr-daemon will fail to start
when worker_num <= 1.

This required a few more changes in order to make sure that when any
kuryr-daemon subservice dies, kuryr-daemon will shutdown too.

Change-Id: I41afc6fa67abfff62d2f0017db508051a1e7edf4
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/816696/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/exceptions.py']",2,0589df6650093787f1ff4e09e7190ae834dadd4e,daemon-check-config,class InvalidKuryrConfiguration(RuntimeError): pass ,,28,9
openstack%2Fneutron~master~Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439,openstack/neutron,master,Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439,Remove todo's in Y release,MERGED,2021-10-28 14:51:34.000000000,2021-11-09 16:17:28.000000000,2021-11-09 16:11:35.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 14:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e12563c48e05c3ad6fc997bf0a9a7810e8f3de8', 'message': ""Remove todo's in Y release\n\nRemoved todo and note that can be removed in Yoga release\n\nChange-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439\n""}, {'number': 2, 'created': '2021-10-28 18:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cdee150fb466e45b19563ec0a1c1d8c79f86ce6', 'message': ""Remove todo's in Y release\n\nRemoved todo and note that can be removed in Yoga release\n\nChange-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439\n""}, {'number': 3, 'created': '2021-10-29 07:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b9af7fd8f0f4dac4fb431fc52bcc2e3e6911f10', 'message': ""Remove todo's in Y release\n\nRemoved todo and note that can be removed in Yoga release\n\nChange-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439\n""}, {'number': 4, 'created': '2021-11-01 09:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e087e0585bbde57b0b08f1f382ff0626d1337fbe', 'message': ""Remove todo's in Y release\n\nRemoved todo and note that can be removed in Yoga release\n\nChange-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439\n""}, {'number': 5, 'created': '2021-11-08 16:43:08.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/53000704f211bbbd5e439890015891039ef6752e', 'message': ""Remove todo's in Y release\n\nRemoved todo and note that can be removed in Yoga release\n\nChange-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439\n""}]",25,815853,53000704f211bbbd5e439890015891039ef6752e,131,5,5,32667,,,0,"Remove todo's in Y release

Removed todo and note that can be removed in Yoga release

Change-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/815853/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,3e12563c48e05c3ad6fc997bf0a9a7810e8f3de8,dhcp_agent," if len(network.subnets): if self.call_driver('enable', network): self.update_isolated_metadata_proxy(network) self.cache.put(network) # After enabling dhcp for network, mark all existing # ports as ready. So that the status of ports which are # created before enabling dhcp can be updated. self.dhcp_ready_ports |= {p.id for p in network.ports}"," # NOTE(ralonsoh): both resources should have ""fixed_ips"" # information. That key was added to the deleted ports in this # patch but this code runs in the Neutron API (server). Both the # server and the DHCP agent should be updated. # This check could be removed in Y release. if ('fixed_ips' not in self.resource or 'fixed_ips' not in other.resource): return super().__lt__(other) for subnet in network.subnets: # TODO(isabek): in Y release below 'if' can be removed # because only dhcp enbaled subnets are returned from server if subnet.enable_dhcp: if self.call_driver('enable', network): self.update_isolated_metadata_proxy(network) self.cache.put(network) # After enabling dhcp for network, mark all existing # ports as ready. So that the status of ports which are # created before enabling dhcp can be updated. self.dhcp_ready_ports |= {p.id for p in network.ports} break",8,21
openstack%2Fcinder~master~Ie4694d52d592e596b9f8cfda575557e5c8d24533,openstack/cinder,master,Ie4694d52d592e596b9f8cfda575557e5c8d24533,PowerMax Driver - Retype fix for replication,MERGED,2021-06-22 16:56:35.000000000,2021-11-09 16:16:22.000000000,2021-11-09 16:11:53.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 16:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2544a82a4cb6e4cceab455f6a57c3c3c7f843f75', 'message': 'PowerMax Driver - Retype fix for replication\n\nIf a volume is asynchronous or metro it can belong to a\nmanagement group as well as default storage group.  This\nfix makes sure the service level of the default storage\ngroup is returned and not the management group\n\nChange-Id: Ie4694d52d592e596b9f8cfda575557e5c8d24533\n'}, {'number': 2, 'created': '2021-06-23 16:41:22.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ab6f711604f04cd63075e8658c1100ddca38f2f', 'message': 'PowerMax Driver - Retype fix for replication\n\nIf a volume is asynchronous or metro it can belong to a\nmanagement group as well as default storage group.  This\nfix makes sure the service level of the default storage\ngroup is returned and not the management group.\nAdded warnings if an array is not compression capable.\n\nChange-Id: Ie4694d52d592e596b9f8cfda575557e5c8d24533\n'}]",1,797510,6ab6f711604f04cd63075e8658c1100ddca38f2f,84,3,2,12670,,,0,"PowerMax Driver - Retype fix for replication

If a volume is asynchronous or metro it can belong to a
management group as well as default storage group.  This
fix makes sure the service level of the default storage
group is returned and not the management group.
Added warnings if an array is not compression capable.

Change-Id: Ie4694d52d592e596b9f8cfda575557e5c8d24533
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/797510/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py']",2,2544a82a4cb6e4cceab455f6a57c3c3c7f843f75,retype_async_metro, if self.utils.get_rdf_group_component_dict( found_storage_group_name): continue if target_combination.lower() == emc_fast_setting.lower():, if target_combination == emc_fast_setting:,21,1
openstack%2Fdevstack~master~Iceb7c5f517db20072e121dc7538abaa888423c67,openstack/devstack,master,Iceb7c5f517db20072e121dc7538abaa888423c67,Update lib/keystone to add more system users,MERGED,2021-03-11 15:50:00.000000000,2021-11-09 16:16:00.000000000,2021-11-09 16:11:47.000000000,"[{'_account_id': 5046}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-11 15:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d10c04100be05361eb96a45b20fce093566d69b9', 'message': ""Update lib/keystone to add more system users\n\nKeystone has supported system-scope since Queens and we already make\nsure we create a cloud profile for system-admin in\n/etc/openstack/clouds.yaml.\n\nThis commit ensures keystone creates a couple of new users to model\nsystem-member and system-reader personas. Doing this by default in\ndevstack makes it easier for people to use.\n\nWe've already taken a similar approach in tempest by setting up the\nvarious system personas for tempest clients to use.\n\nChange-Id: Iceb7c5f517db20072e121dc7538abaa888423c67\n""}, {'number': 2, 'created': '2021-03-11 17:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a81c58c406b90559c6b51fd92c6e43fcca67a13', 'message': ""Update lib/keystone to add more system users\n\nKeystone has supported system-scope since Queens and we already make\nsure we create a cloud profile for system-admin in\n/etc/openstack/clouds.yaml.\n\nThis commit ensures keystone creates a couple of new users to model\nsystem-member and system-reader personas. Doing this by default in\ndevstack makes it easier for people to use.\n\nWe've already taken a similar approach in tempest by setting up the\nvarious system personas for tempest clients to use.\n\nChange-Id: Iceb7c5f517db20072e121dc7538abaa888423c67\n""}, {'number': 3, 'created': '2021-11-04 20:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/62f949b7dfa1a7bb09a22579fba4ee586867b8bc', 'message': ""Update lib/keystone to add more system users\n\nKeystone has supported system-scope since Queens and we already make\nsure we create a cloud profile for system-admin in\n/etc/openstack/clouds.yaml.\n\nThis commit ensures keystone creates a couple of new users to model\nsystem-member and system-reader personas. Doing this by default in\ndevstack makes it easier for people to use.\n\nWe've already taken a similar approach in tempest by setting up the\nvarious system personas for tempest clients to use.\n\nChange-Id: Iceb7c5f517db20072e121dc7538abaa888423c67\n""}, {'number': 4, 'created': '2021-11-05 09:46:23.000000000', 'files': ['functions-common', 'lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/021ae0bcc8f67b6fd307aaf3c8ac59ba6cbe23b6', 'message': ""Update lib/keystone to add more system users\n\nKeystone has supported system-scope since Queens and we already make\nsure we create a cloud profile for system-admin in\n/etc/openstack/clouds.yaml.\n\nThis commit ensures keystone creates a couple of new users to model\nsystem-member and system-reader personas. Doing this by default in\ndevstack makes it easier for people to use.\n\nWe've already taken a similar approach in tempest by setting up the\nvarious system personas for tempest clients to use.\n\nChange-Id: Iceb7c5f517db20072e121dc7538abaa888423c67\n""}]",23,780024,021ae0bcc8f67b6fd307aaf3c8ac59ba6cbe23b6,21,4,4,5046,,,0,"Update lib/keystone to add more system users

Keystone has supported system-scope since Queens and we already make
sure we create a cloud profile for system-admin in
/etc/openstack/clouds.yaml.

This commit ensures keystone creates a couple of new users to model
system-member and system-reader personas. Doing this by default in
devstack makes it easier for people to use.

We've already taken a similar approach in tempest by setting up the
various system personas for tempest clients to use.

Change-Id: Iceb7c5f517db20072e121dc7538abaa888423c67
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/780024/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'lib/keystone']",2,d10c04100be05361eb96a45b20fce093566d69b9,," local reader_role=""reader"" # Create two user, give one the member role on the system and the other the # reader role on the system. These two users model system-member and # system-reader personas. The admin user already has the admin role on the # system and we can re-use this user as a system-admin. system_member_user=$(get_or_create_user ""system_member"" \ ""$ADMIN_PASSWORD"" ""default"" ""system_member@example.com"") async_run ks-system-member get_or_add_user_system_role $member_role $system_member_user ""all"" system_reader_user=$(get_or_create_user ""system_reader"" \ ""$ADMIN_PASSWORD"" ""default"" ""system_reader@example.com"") async_run ks-system-reader get_or_add_user_system_role $reader_role $system_reader_user ""all"" ",,65,0
openstack%2Fneutron~stable%2Fxena~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,stable/xena,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-11-04 14:30:30.000000000,2021-11-09 16:15:17.000000000,2021-11-09 16:06:15.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 14:30:30.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b2b6959716f95748bdfba1479f28b695cb80dab', 'message': '[DVR] Fix update of the MTU in the DVR HA routers\n\nThis is follow up of the patch [1] which fixed updating MTU in the\nsnat namespace for the DVR routers.\nIn case of DVR-HA routers there was additional issue with that as\nL3 agent tried to update MTU for the qr- interface in the\nself.ha_namespace which, for DVR-HA routers is snat namespace.\n\nThis patch fixes that issue by setting MTU on the qr- interface in\nqrouter namespace and also setting MTU on the snat interface in snat\nnamespace.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/799226\n\nCloses-bug: #1933273\nChange-Id: I409bc674b65e4f495ebd42d03e97a09d51482339\n(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)\n'}]",3,816658,7b2b6959716f95748bdfba1479f28b695cb80dab,19,4,1,11975,,,0,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/816658/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/agent/l3/dvr_edge_router.py']",4,7b2b6959716f95748bdfba1479f28b695cb80dab,bug/1933273-stable/xena," def _set_snat_interfce_mtu(self, port): def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if port: self._set_snat_interfce_mtu(port) "," def internal_network_updated(self, port): super(DvrEdgeRouter, self).internal_network_updated(port) if not port: return",35,9
openstack%2Fneutron~master~I6ded877b2b40929a4f4151a68a0de82ddfca0b71,openstack/neutron,master,I6ded877b2b40929a4f4151a68a0de82ddfca0b71,"Revert ""[Fullstack] Mark TestHAL3Agent fip_qos test as unstable""",MERGED,2021-10-25 12:10:38.000000000,2021-11-09 16:15:09.000000000,2021-11-09 16:06:08.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-10-25 12:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac7cabd762488de9b8aecb453cf5f86c17dc2d5b', 'message': 'Revert ""[Fullstack] Mark TestHAL3Agent fip_qos test as unstable""\n\nThis reverts commit ec89cd23d18a6ec2324e36c62991f1f749d5637f.\n\nReason for revert: as https://review.opendev.org/c/openstack/neutron/+/813128 is merged we don\'t use DHCP agent in those L3 agent tests at all so those tests should be stable now.\n\nChange-Id: I6ded877b2b40929a4f4151a68a0de82ddfca0b71\nRelated-Bug: #1946186\n'}, {'number': 2, 'created': '2021-10-25 12:10:58.000000000', 'files': ['neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbdba95f408aeaf6603327883ff6795cc8d7a5ce', 'message': 'Revert ""[Fullstack] Mark TestHAL3Agent fip_qos test as unstable""\n\nThis reverts commit ec89cd23d18a6ec2324e36c62991f1f749d5637f.\n\nReason for revert: as https://review.opendev.org/c/openstack/neutron/+/813128\nis merged we don\'t use DHCP agent in those L3 agent tests at all so\nthose tests should be stable now.\n\nChange-Id: I6ded877b2b40929a4f4151a68a0de82ddfca0b71\nRelated-Bug: #1946186\n'}]",7,815235,bbdba95f408aeaf6603327883ff6795cc8d7a5ce,43,8,2,11975,,,0,"Revert ""[Fullstack] Mark TestHAL3Agent fip_qos test as unstable""

This reverts commit ec89cd23d18a6ec2324e36c62991f1f749d5637f.

Reason for revert: as https://review.opendev.org/c/openstack/neutron/+/813128
is merged we don't use DHCP agent in those L3 agent tests at all so
those tests should be stable now.

Change-Id: I6ded877b2b40929a4f4151a68a0de82ddfca0b71
Related-Bug: #1946186
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/815235/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_l3_agent.py'],1,ac7cabd762488de9b8aecb453cf5f86c17dc2d5b,bug/1946186,," @tests_base.unstable_test(""bug 1946186"")",0,1
openstack%2Fkuryr-kubernetes~master~I6499898a42a21337455a3d793b6ddbc71765437d,openstack/kuryr-kubernetes,master,I6499898a42a21337455a3d793b6ddbc71765437d,Improve retrieval of Trunks info,MERGED,2021-11-02 19:28:01.000000000,2021-11-09 16:15:00.000000000,2021-11-09 16:06:20.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-02 19:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c07bf078c2676ce6ee4774d07c01465bebd0ca8f', 'message': 'Improve retrieval of Trunks info\n\nRight now the in use Ports info is retrieved\nby looking for the Pods and then for each\nKuryrPort correponding to the specific Pod,\nwhich can increase the time to recover precreated\nPorts upon restart. This commit fixes the issue\nby collecting all the KuryrPorts at once.\n\nChange-Id: I6499898a42a21337455a3d793b6ddbc71765437d\n'}, {'number': 2, 'created': '2021-11-02 19:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46c95f3cbf10d49f4d2dd351cd132f8303a90c88', 'message': 'Improve retrieval of Trunks info\n\nRight now the in use Ports info is retrieved\nby looking for the Pods and then for each\nKuryrPort correponding to the specific Pod,\nwhich can increase the time to recover precreated\nPorts upon restart. This commit fixes the issue\nby collecting all the KuryrPorts at once.\n\nChange-Id: I6499898a42a21337455a3d793b6ddbc71765437d\n'}, {'number': 3, 'created': '2021-11-03 17:42:37.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/731d9b81d1da0d5b6f844b04acdba3e5936e028d', 'message': 'Improve retrieval of Trunks info\n\nRight now the in use Ports info is retrieved\nby looking for the Pods and then for each\nKuryrPort correponding to the specific Pod,\nwhich can increase the time to recover precreated\nPorts upon restart. This commit fixes the issue\nby collecting all the KuryrPorts at once.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/816394\nChange-Id: I6499898a42a21337455a3d793b6ddbc71765437d\n'}]",0,816398,731d9b81d1da0d5b6f844b04acdba3e5936e028d,11,3,3,27032,,,0,"Improve retrieval of Trunks info

Right now the in use Ports info is retrieved
by looking for the Pods and then for each
KuryrPort correponding to the specific Pod,
which can increase the time to recover precreated
Ports upon restart. This commit fixes the issue
by collecting all the KuryrPorts at once.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/816394
Change-Id: I6499898a42a21337455a3d793b6ddbc71765437d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/98/816398/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py']",2,c07bf078c2676ce6ee4774d07c01465bebd0ca8f,speed-recover-precreated-ports, kuryr_ports = kubernetes.get(constants.K8S_API_CRD_KURYRPORTS) for kp in kuryr_ports['items']: vifs = c_utils.get_vifs(kp) network = in_use_networks.get(port.network_id) if network: subnets[subnet_id] = {subnet_id: network}, running_pods = kubernetes.get(constants.K8S_API_BASE + '/pods') for pod in running_pods['items']: vifs = c_utils.get_vifs(pod) if in_use_networks.get(port.network_id): subnets[subnet_id] = { subnet_id: in_use_networks.get( port.network_id)},7,9
openstack%2Fansible-collections-openstack~master~Id8eb73da64631e1f25b5febd8a9f6dbee9707476,openstack/ansible-collections-openstack,master,Id8eb73da64631e1f25b5febd8a9f6dbee9707476,Release 1.5.2 version,MERGED,2021-11-09 11:39:48.000000000,2021-11-09 16:13:02.000000000,2021-11-09 16:13:02.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 11:39:48.000000000', 'files': ['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b2f3cf3210868cc7b6ec5db38b5c50fe4468aa45', 'message': 'Release 1.5.2 version\n\nChange-Id: Id8eb73da64631e1f25b5febd8a9f6dbee9707476\n'}]",0,817194,b2f3cf3210868cc7b6ec5db38b5c50fe4468aa45,7,3,1,10969,,,0,"Release 1.5.2 version

Change-Id: Id8eb73da64631e1f25b5febd8a9f6dbee9707476
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/94/817194/1 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst']",3,b2f3cf3210868cc7b6ec5db38b5c50fe4468aa45,1.5.2,v1.5.2 ====== Release Summary --------------- Bugfixes Minor Changes ------------- - Add documentation links to README.md - Don't run functional jobs on galaxy.yml change - Move CI to use Ansible 2.12 version as main Bugfixes -------- - Add client and member listener timeouts for persistence (Ex. SSH) - Added missing warn() used in cloud.openstack.quota - Fix issue with same host and group names - Flavor properties are not deleted on changes and id will stay ,,37,1
openstack%2Fvalidations-common~master~Ic206e39f792b31d7f2adff89e4d38a2e8a656733,openstack/validations-common,master,Ic206e39f792b31d7f2adff89e4d38a2e8a656733,Validation Framework functional test expansion,MERGED,2021-08-06 06:01:57.000000000,2021-11-09 16:04:40.000000000,2021-11-09 16:04:40.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-06 06:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a451e8fbce5f9778f161bdf18da878dde39292a8', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 2, 'created': '2021-08-06 10:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/01e663fca8d9109300a63ac8b6266c1fff77fdd6', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 3, 'created': '2021-08-06 10:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8f3bef5fa638139b91a730abfae88ab7095f0520', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 4, 'created': '2021-08-06 11:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4b2e760d16b176ba15511a4277ab23ccd7d69783', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 5, 'created': '2021-08-10 12:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/edff7957b8829607f7a428b43cfe0aa1205d46a2', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 6, 'created': '2021-08-10 13:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/19b66ec5b57f7576d619272b40887ca91349457e', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 7, 'created': '2021-08-10 14:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2a79aaf6b08d224bd04f62fd59b5462b29576cd9', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 8, 'created': '2021-08-11 07:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/81167d35fbbd90c8c920a987c63fbc2aee2eaf41', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 9, 'created': '2021-08-11 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f27e423674b61cb4a36717b180bc959826f6e0f2', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 10, 'created': '2021-08-11 08:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3c730ea94ab87b4459b2284fb30004a12a24fea8', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 11, 'created': '2021-08-11 14:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9e0429f7a745f3f410c3bc329966ba89de05e3f6', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 12, 'created': '2021-08-11 14:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f7f8625bb5d99b1a07ea28c05e1b7fbfe6df78a1', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 13, 'created': '2021-08-11 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8ec19a4d472b21029532882030206c313f2e9d4b', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 14, 'created': '2021-08-25 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0b73df2e9f510f26a6877eee3c0962be9446c620', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 15, 'created': '2021-08-25 11:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/01da9b7d07e6c9522354c976b5dec2823ae5e6ad', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 16, 'created': '2021-08-25 14:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/50338554fee15e2f662266111926f6e82752af8a', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 17, 'created': '2021-08-25 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b50b4cdb50d6d111eb64c5807868340521b9f228', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 18, 'created': '2021-09-06 10:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5659f3d6379137a3edda4a18498fd8d5e44aa49f', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 19, 'created': '2021-09-13 11:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cf838ab8e03c9deafb8e3ad2f7be6b58e7fce1c5', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptevely named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrive more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 20, 'created': '2021-09-15 15:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bb8edd9f2039ab1e7076fef8304a8e832367ae94', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 21, 'created': '2021-09-15 15:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d75a13dda989e748e0a70dcf7903c386ea72b12a', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 22, 'created': '2021-09-15 16:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bb670d91503dbff909c28e2002fa42d648774af5', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 23, 'created': '2021-09-15 16:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3d0491cfae4682c14e55f2c7abcb9d003465cfb1', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 24, 'created': '2021-09-27 08:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1e38ef6a991ce3fadbad327357eaf467be9f01b4', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 25, 'created': '2021-11-02 08:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b556f7d9f392da94660fe033487fe2fdd2030ee9', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}, {'number': 26, 'created': '2021-11-08 08:20:51.000000000', 'files': ['roles/validations/tasks/main.yaml', 'roles/validations/tasks/show_validation_info.yaml', 'roles/validations/tasks/list_validation_history.yaml', 'roles/validations/tasks/show.yaml', 'roles/fetch_validations/tasks/main.yaml', 'roles/validations/tasks/list.yaml', 'roles/validations/tasks/run_extra_vars_file.yaml', 'roles/validations/tasks/show_results.yaml', 'roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7c2026616b0b440bd41ad14150508dad8c21f527', 'message': ""Validation Framework functional test expansion\n\nIssues present in the existing tests of the validation framework\nruntime and CLI behavior were resolved. New tests were added to ensure\ncorrect function of all of the most important commands, subcommands\nand combinations of parameters.\n\n* conflicting 'run_validations' variable was removed\n* show command tests were enabled\n* all test blocks are descriptively named\n* tests for listing installed validations in various formats\n* tests for running validations with parameters from a file\n* tests for history display, both with and without limit\n* tests for detailed validation information display\n* tests for validation parameter display and download\n\nValidation log fetch was modified to retrieve more data.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733\n""}]",24,803695,7c2026616b0b440bd41ad14150508dad8c21f527,68,7,26,32926,,,0,"Validation Framework functional test expansion

Issues present in the existing tests of the validation framework
runtime and CLI behavior were resolved. New tests were added to ensure
correct function of all of the most important commands, subcommands
and combinations of parameters.

* conflicting 'run_validations' variable was removed
* show command tests were enabled
* all test blocks are descriptively named
* tests for listing installed validations in various formats
* tests for running validations with parameters from a file
* tests for history display, both with and without limit
* tests for detailed validation information display
* tests for validation parameter display and download

Validation log fetch was modified to retrieve more data.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/95/803695/20 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validations/tasks/main.yaml', 'roles/validations/tasks/list_validation_history.yaml', 'roles/validations/tasks/show_validation_info.yaml', 'roles/validations/tasks/show.yaml', 'roles/validations/tasks/list.yaml', 'roles/validations/tasks/run_extra_vars_file.yaml', 'roles/validations/tasks/show_results.yaml', 'roles/validations/tasks/run.yaml', 'roles/validations/vars/main.yaml']",9,a451e8fbce5f9778f161bdf18da878dde39292a8,howitzer, validation_metadata: group: - no-op - prep category: - storage - container product: - tripleo validation_list_formats: - csv - json - table - value - yaml,,214,11
openstack%2Ftripleo-ci~master~I10a500644e19e4fdd6364e4e27d7175672bd110a,openstack/tripleo-ci,master,I10a500644e19e4fdd6364e4e27d7175672bd110a,Remove featureset 011 from the emit_releases conditional,MERGED,2021-11-09 07:27:30.000000000,2021-11-09 16:04:37.000000000,2021-11-09 16:04:37.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-11-09 07:27:30.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e6a036545aa0d3dd543562703b0f87f3267dacd2', 'message': 'Remove featureset 011 from the emit_releases conditional\n\nIn [1] featureset 011 is moving to deprecated it has not been\nused in a long time so we should also remove the relevant\nconditional for using emit_releases.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/816858\n\nChange-Id: I10a500644e19e4fdd6364e4e27d7175672bd110a\n'}]",0,817144,e6a036545aa0d3dd543562703b0f87f3267dacd2,10,7,1,8449,,,0,"Remove featureset 011 from the emit_releases conditional

In [1] featureset 011 is moving to deprecated it has not been
used in a long time so we should also remove the relevant
conditional for using emit_releases.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/816858

Change-Id: I10a500644e19e4fdd6364e4e27d7175672bd110a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/817144/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,e6a036545aa0d3dd543562703b0f87f3267dacd2,,"if [[ -f ""$RELEASES_SCRIPT"" ]] && [[ {{ featureset }} =~ 037|047|050|056 ]]; then","if [[ -f ""$RELEASES_SCRIPT"" ]] && [[ {{ featureset }} =~ 011|037|047|050|056 ]]; then",1,1
openstack%2Fcharm-deployment-guide~master~Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c,openstack/charm-deployment-guide,master,Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c,Fix the step numbers in DB series upgrade.,ABANDONED,2021-11-09 10:26:20.000000000,2021-11-09 15:56:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-09 10:26:20.000000000', 'files': ['deploy-guide/source/upgrade-series-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a456a480d00f70fa9aab0571083667521e0df8cc', 'message': 'Fix the step numbers in DB series upgrade.\n\nChange-Id: Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c\n'}]",0,817181,a456a480d00f70fa9aab0571083667521e0df8cc,3,1,1,12549,,,0,"Fix the step numbers in DB series upgrade.

Change-Id: Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/81/817181/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-series-openstack.rst'],1,a456a480d00f70fa9aab0571083667521e0df8cc,fix-upgrade-steps,#. Repeat steps 4 and 6 for the principal non-leader machines.,#. Repeat steps 5 and 7 for the principal non-leader machines.,1,1
openstack%2Ftripleo-ansible~master~Id1d9c7922b347a41cde6e0d57213a23ee01a053e,openstack/tripleo-ansible,master,Id1d9c7922b347a41cde6e0d57213a23ee01a053e,Fix ipv6 negative ping value,ABANDONED,2021-11-09 14:10:52.000000000,2021-11-09 15:47:26.000000000,,[{'_account_id': 14985}],"[{'number': 1, 'created': '2021-11-09 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1501eccf2f6414cfcdcb4157c77d64742c76fd95', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\n'}, {'number': 2, 'created': '2021-11-09 14:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16acf32a2a3219a6a50b0bec5ff6cd1567338bfd', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\n'}, {'number': 3, 'created': '2021-11-09 14:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7a56a40143acec2e70ae21e6ec6dd61c553e754', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-bug: #1950323\n'}, {'number': 4, 'created': '2021-11-09 14:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6400a741a10db09d48a857e2b25bbc08024a733f', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323\n'}, {'number': 5, 'created': '2021-11-09 14:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7ae06e75611c6cbeeb398d0be09c875495d9c2cd', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323\n'}, {'number': 6, 'created': '2021-11-09 14:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5a8d8de314464b335ac310cc0c9ea749f2a07d1', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323\n'}, {'number': 7, 'created': '2021-11-09 14:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0fd697443226101f816b2029035e53bc0add6fb9', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323\n'}, {'number': 8, 'created': '2021-11-09 14:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d28a440dca91c6d36ff3f0d4b19aeffc813cde8', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323\n'}, {'number': 9, 'created': '2021-11-09 14:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c3661d6e84c12362dea909ebe0041887b50b8d0', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 10, 'created': '2021-11-09 14:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fd4d2fdbd6b8d8c0092979b61c0b612ec4fffdbc', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 11, 'created': '2021-11-09 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b42c722bc0207f38f462c457ad50046d9ab7e92', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 12, 'created': '2021-11-09 15:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae7aced759ed189e586dbc519638da873d9456dc', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 13, 'created': '2021-11-09 15:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e1e005a3ad43b0c1a5bd994ff97dc099c0902a6a', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 14, 'created': '2021-11-09 15:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a385d1101fe36204803acd189045450f148eb2d', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 15, 'created': '2021-11-09 15:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c41f1ba7cf45607a76ddf7fc5a75e09b09079900', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 16, 'created': '2021-11-09 15:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e9620098ad269cc29bf8580ba948362587cd1a9', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 17, 'created': '2021-11-09 15:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84372eabc9b85201a7cfa7865e1daecb5b361cda', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 18, 'created': '2021-11-09 15:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf831b7ac1b8034d09756fd5e218d3bca5e93568', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}, {'number': 19, 'created': '2021-11-09 15:37:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a23f529aa8bc517870427c96fb95deb9092801e6', 'message': 'Fix ipv6 negative ping value\n\nFix ipv6 negative ping value issue brought by MTU check failure to\ndetermine br-ex MTU size.\n\nChange-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e\nCloses-Bug: #1950323t\n'}]",6,817220,a23f529aa8bc517870427c96fb95deb9092801e6,26,1,19,7130,,,0,"Fix ipv6 negative ping value

Fix ipv6 negative ping value issue brought by MTU check failure to
determine br-ex MTU size.

Change-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e
Closes-Bug: #1950323t
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/817220/13 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml'],1,1501eccf2f6414cfcdcb4157c77d64742c76fd95,mtu2, - name: Failed getting MTU size for {{ nic_for_ping.stdout }} debug: msg: >- {{ mtu_for_nic.stdout }} {{ mtu_for_nic.stderr }} when: - mtu_for_nic.stderr | length > 0 when: mtu_for_nic.stdout | length > 0,,9,0
openstack%2Ftripleo-quickstart~master~I74086259576407936c5b08958463a161e95fb1e4,openstack/tripleo-quickstart,master,I74086259576407936c5b08958463a161e95fb1e4,Remove no_log with conditions,MERGED,2021-11-09 07:39:46.000000000,2021-11-09 15:46:15.000000000,2021-11-09 15:36:08.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-11-09 07:39:46.000000000', 'files': ['roles/repo-setup/tasks/setup_repos_new.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/638311c15ff5bd67297b5dd0a412650984e866da', 'message': ""Remove no_log with conditions\n\n'no_log' with conditions never worked in Ansible, it's always\n'true' now and doesn't allow investigations.\nChange-Id: I74086259576407936c5b08958463a161e95fb1e4\n""}]",1,817147,638311c15ff5bd67297b5dd0a412650984e866da,12,5,1,10969,,,0,"Remove no_log with conditions

'no_log' with conditions never worked in Ansible, it's always
'true' now and doesn't allow investigations.
Change-Id: I74086259576407936c5b08958463a161e95fb1e4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/47/817147/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/tasks/setup_repos_new.yml'],1,638311c15ff5bd67297b5dd0a412650984e866da,,, no_log: result.rc == 0 no_log: result.rc == 0 no_log: result.rc == 0,0,3
openstack%2Freleases~master~I1cd4a0c3cf87f3fd8673d191db07519e4d365092,openstack/releases,master,I1cd4a0c3cf87f3fd8673d191db07519e4d365092,[manila-ui] Release manila-ui 4.1.0,MERGED,2021-11-03 21:11:22.000000000,2021-11-09 15:44:25.000000000,2021-11-09 15:44:25.000000000,"[{'_account_id': 308}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 21:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e20abc1b93bf91e8b8ccf5f180cb1063beee8eb2', 'message': '[manila-ui] Release manila-ui 4.0.1\n\nThis release includes some bugfixes and enhancements committed\nagainst the stable/victoria branch.\n\nChange-Id: I1cd4a0c3cf87f3fd8673d191db07519e4d365092\n'}, {'number': 2, 'created': '2021-11-05 20:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c8a5e0e57cf34f2e600135623d5899a10cc0d14b', 'message': '[manila-ui] Release manila-ui 4.0.1\n\nThis release includes some bugfixes and enhancements committed\nagainst the stable/victoria branch.\n\nChange-Id: I1cd4a0c3cf87f3fd8673d191db07519e4d365092\n'}, {'number': 3, 'created': '2021-11-05 20:08:32.000000000', 'files': ['deliverables/victoria/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e44922517358642c30d9021034b821a196ef73b0', 'message': '[manila-ui] Release manila-ui 4.1.0\n\nThis release includes some bugfixes and enhancements committed\nagainst the stable/victoria branch.\n\nChange-Id: I1cd4a0c3cf87f3fd8673d191db07519e4d365092\n'}]",6,816581,e44922517358642c30d9021034b821a196ef73b0,17,5,3,29632,,,0,"[manila-ui] Release manila-ui 4.1.0

This release includes some bugfixes and enhancements committed
against the stable/victoria branch.

Change-Id: I1cd4a0c3cf87f3fd8673d191db07519e4d365092
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/816581/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/manila-ui.yaml'],1,e20abc1b93bf91e8b8ccf5f180cb1063beee8eb2,manila, - version: 4.0.1 projects: - repo: openstack/manila-ui hash: bf820e10c742c3aff610665d7ec1b7c56a1fea9f,,4,0
openstack%2Ftripleo-ansible~master~I9e56c512a563c4b04f398581e87846901fe021d6,openstack/tripleo-ansible,master,I9e56c512a563c4b04f398581e87846901fe021d6,Add the MTU size to ping to catch network issues,MERGED,2021-10-20 22:35:59.000000000,2021-11-09 15:42:06.000000000,2021-11-09 00:43:48.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-20 22:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6681c0a810add86163977d2ac9145c10e649dcec', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 2, 'created': '2021-10-20 22:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e50d46c8707101fdf8ca1b3590edac0700a6dce', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 3, 'created': '2021-10-20 22:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc168a899d78b1e5da9bf7f6258d640f1b9fba0f', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 4, 'created': '2021-10-20 23:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4dd60721c5b2fd32b55c125e17fa4457fda262d5', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 5, 'created': '2021-10-20 23:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaf852d0e8b46d6fc8aa7b6d850e106138ed9a10', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 6, 'created': '2021-10-21 00:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10f78af6f67b095471d868db0a50d62de7d1c9a4', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 7, 'created': '2021-10-21 00:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38f316fe3ea308b1e8ff09f6b666665066829400', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 8, 'created': '2021-10-21 01:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49711d2318d104654d44b8d480faa8edee672461', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 9, 'created': '2021-10-21 01:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec3e9b42d0f063f3cec9129ee3ee3a65d26ae837', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 10, 'created': '2021-10-21 01:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/54067a1f8339ba1f0312283e1568e289406a326f', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 11, 'created': '2021-10-21 11:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb57f42a9d99fe2a57ed13f228ea60ce91b791f5', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 12, 'created': '2021-10-21 11:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d8142387cb337f6b25c229361aef429f3227a7a8', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 13, 'created': '2021-10-21 14:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abf919f68cf7b72a6d283dde9bd670abfa9c16f4', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 14, 'created': '2021-10-21 15:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c24435d31c2920bd90b9fb1ddc451efda24474bc', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 15, 'created': '2021-10-21 16:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/357fcc3dc6d5c1b5b26f66a35848f065b06745b4', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 16, 'created': '2021-10-21 17:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19750804aa76f6c66788d43694a39c14b3d6dc9e', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 17, 'created': '2021-10-21 17:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14104c89c426826336ef882a662e260b7c0b08a2', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 18, 'created': '2021-10-21 18:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2053ce8889451cbecbefdd555aa10612dd5fd8b4', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 19, 'created': '2021-10-21 19:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c9cabd854da7030c7dcab319d3c425dc8bc9eac', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 20, 'created': '2021-10-21 19:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5913b5496eefc35ffda2e9b8fec325f4f158cab', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 21, 'created': '2021-10-21 19:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/764625d5bbe7997431a1e2fe264a284a5aaa9778', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 22, 'created': '2021-10-27 21:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1bb65e687e473ce1a818be1a563a03f334a29676', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 23, 'created': '2021-10-27 22:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93d2120a7b91d6d71b81b0c4fdb2fee3302b25a0', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 24, 'created': '2021-11-08 14:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7f0be398c8204aaacdb0fda215cd93ead5a08ba', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 25, 'created': '2021-11-08 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f684cf0bbb0740fc2263b1f373b6f549a8509aea', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}, {'number': 26, 'created': '2021-11-08 14:12:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3e7f7d889eb9876d3a9ad19dac35cb4e618e676', 'message': 'Add the MTU size to ping to catch network issues\n\nMany times users hit this issue where nic templates set jumbo\nframes properly but switches are not properly configured and this\nsituation creates random issues hard to troubleshoot ranging from\na CEPH cluster not forming to swift not syncing properly.  Adding\nan early test for MTU sizes in the ansible playbooks should fail\nearly and put us on a path to early solve this issue instead of\nspending a week or more trying to figure out why CEPH batch LVM\nis not working.\n\nChange-Id: I9e56c512a563c4b04f398581e87846901fe021d6\n'}]",19,814832,c3e7f7d889eb9876d3a9ad19dac35cb4e618e676,70,4,26,7130,,,0,"Add the MTU size to ping to catch network issues

Many times users hit this issue where nic templates set jumbo
frames properly but switches are not properly configured and this
situation creates random issues hard to troubleshoot ranging from
a CEPH cluster not forming to swift not syncing properly.  Adding
an early test for MTU sizes in the ansible playbooks should fail
early and put us on a path to early solve this issue instead of
spending a week or more trying to figure out why CEPH batch LVM
is not working.

Change-Id: I9e56c512a563c4b04f398581e87846901fe021d6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/814832/26 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'],1,6681c0a810add86163977d2ac9145c10e649dcec,mtu,"- name: Get nic for ping shell: | ip ro get {{ controller }} | head -1 | awk '{ print $3 }' register: nic_for_ping - name: Get MTU for nic shell: | ip link show {{nic_for_ping}} | head -1 | sed 's/.*mtu \(.*\) qdisc.*/\1/' register: mtu_for_nic command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -s {{mtu_for_nic}} -c 1 {{ controller }}"""," command: ""{{ (':' in controller) | ternary('ping6', 'ping') }} -w 10 -c 1 {{ controller }}""",11,1
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~I72fd009bf3084fd89545c228af4b1970ca3211c5,openstack/ansible-role-python_venv_build,stable/ussuri,I72fd009bf3084fd89545c228af4b1970ca3211c5,Workaround distro provided pip having old CA certs on centos-7,MERGED,2021-11-02 10:43:03.000000000,2021-11-09 15:39:58.000000000,2021-11-09 15:34:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-02 10:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5f637005f4328653889365c801ab325b8dd7535f', 'message': 'Workaround distro provided pip having old CA certs on centos-7\n\nUse the system trust store when upgrading versions of pip/setuptools/\nwheel on centos-7\n\nChange-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5\n'}, {'number': 2, 'created': '2021-11-04 11:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/4cc2303c5b88ed0238523b435c69bf52223e4ac0', 'message': 'Workaround distro provided pip having old CA certs on centos-7\n\nUse the system trust store when upgrading versions of pip/setuptools/\nwheel on centos-7\n\nChange-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5\n'}, {'number': 3, 'created': '2021-11-04 12:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/a4db514ed02d393591d6bc21202dadeed7604825', 'message': 'Workaround distro provided pip having old CA certs on centos-7\n\nUse the system trust store when upgrading versions of pip/setuptools/\nwheel on centos-7\n\nChange-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5\n'}, {'number': 4, 'created': '2021-11-04 14:35:11.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e7eb57e8b66c959cb46a13a54002d935c4d95b48', 'message': 'Workaround distro provided pip having old CA certs on centos-7\n\nUse the system trust store when upgrading versions of pip/setuptools/\nwheel on centos-7\n\nChange-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5\n'}]",0,816317,e7eb57e8b66c959cb46a13a54002d935c4d95b48,17,3,4,28619,,,0,"Workaround distro provided pip having old CA certs on centos-7

Use the system trust store when upgrading versions of pip/setuptools/
wheel on centos-7

Change-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/17/816317/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",2,5f637005f4328653889365c801ab325b8dd7535f,,- name: Workaround pip issues on CentOS 7 ini_file: path: /etc/pip.conf section: global option: cert value: /etc/pki/tls/certs/ca-bundle.crt when: - ansible_distribution == 'CentOS' - ansible_distribution_major_version == '7' ,,20,0
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~Idb484d22e2348b97eac76801308c2140e3b9428c,openstack/ansible-role-python_venv_build,stable/ussuri,Idb484d22e2348b97eac76801308c2140e3b9428c,Set centos-7 jobs to non voting,MERGED,2021-11-02 10:42:21.000000000,2021-11-09 15:35:30.000000000,2021-11-09 15:13:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-11-02 10:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/3fcce73f869100fc501ffd9a3b188626ae877ae6', 'message': 'Set centos-7 jobs to non voting\n\nChange-Id: Idb484d22e2348b97eac76801308c2140e3b9428c\n'}, {'number': 2, 'created': '2021-11-04 10:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/0f2321a966f24bea6a01f1b6261ce789ce4e11c8', 'message': 'Set centos-7 jobs to non voting\n\nChange-Id: Idb484d22e2348b97eac76801308c2140e3b9428c\n'}, {'number': 3, 'created': '2021-11-04 12:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/fc5f06652dcba1e170198743f38be4702536b3e5', 'message': 'Set centos-7 jobs to non voting\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631\nChange-Id: Idb484d22e2348b97eac76801308c2140e3b9428c\n'}, {'number': 4, 'created': '2021-11-04 14:34:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/595c8c2443324cb62434c28ccd9542b7aeb10669', 'message': 'Set centos-7 jobs to non voting\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631\nChange-Id: Idb484d22e2348b97eac76801308c2140e3b9428c\n'}]",0,816316,595c8c2443324cb62434c28ccd9542b7aeb10669,18,4,4,28619,,,0,"Set centos-7 jobs to non voting

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631
Change-Id: Idb484d22e2348b97eac76801308c2140e3b9428c
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/16/816316/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3fcce73f869100fc501ffd9a3b188626ae877ae6,, - openstack-ansible-functional-centos-7: voting: false - openstack-ansible-functional-centos-7: voting: false,,4,0
openstack%2Fironic-python-agent~stable%2Fwallaby~Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,openstack/ironic-python-agent,stable/wallaby,Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,Delete EFI boot entry duplicate labels first,MERGED,2021-11-08 14:19:10.000000000,2021-11-09 15:31:25.000000000,2021-11-09 15:09:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 14:19:10.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/de-duplicate-by-label-baa090c5b1bff992.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8fca1457399ac7892427fac1b9ab74a4ac653f05', 'message': 'Delete EFI boot entry duplicate labels first\n\nSome firmware seems to take an objection with EFI nvram\nentries being deleted after one is added, resulting in the\nentire entry table being reset to the last known good state.\n\nThis is problematic, as ultimately deployments can time out\nif we previously booted with Networking, and the machine, while\ncommanded to do other wise, reboots back to networking regardless.\n\nWe will now delete entries first, before proceeding.\n\nAdditionally, for general use, this pattern may serve the\ncommunity better by avoiding cases where we would have\npreviously just relied upon efibootmgr[0] to warn us of duplicate\nentries.\n\n[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228\n\nChange-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc\nStory: 2009649\nTask: 43808\n(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)\n(cherry picked from commit 33b39705a50513c5af411216b48e2a6f6ac9ab14)\n'}]",0,817013,8fca1457399ac7892427fac1b9ab74a4ac653f05,8,2,1,11655,,,0,"Delete EFI boot entry duplicate labels first

Some firmware seems to take an objection with EFI nvram
entries being deleted after one is added, resulting in the
entire entry table being reset to the last known good state.

This is problematic, as ultimately deployments can time out
if we previously booted with Networking, and the machine, while
commanded to do other wise, reboots back to networking regardless.

We will now delete entries first, before proceeding.

Additionally, for general use, this pattern may serve the
community better by avoiding cases where we would have
previously just relied upon efibootmgr[0] to warn us of duplicate
entries.

[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228

Change-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc
Story: 2009649
Task: 43808
(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)
(cherry picked from commit 33b39705a50513c5af411216b48e2a6f6ac9ab14)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/13/817013/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/de-duplicate-by-label-baa090c5b1bff992.yaml']",3,8fca1457399ac7892427fac1b9ab74a4ac653f05,,"--- fixes: - | Fixes cases where duplicates may not be found in the UEFI firmware NVRAM boot entry table by explicitly looking for, and deleting for matching labels in advance of creating the EFI boot loader entry. ",,51,24
openstack%2Fironic~master~Ic84c04118b1a85b10a761fc58796827583a5b086,openstack/ironic,master,Ic84c04118b1a85b10a761fc58796827583a5b086,Avoid handling a deploy failure twice,MERGED,2021-11-04 12:52:19.000000000,2021-11-09 15:30:35.000000000,2021-11-09 15:12:52.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-04 12:52:19.000000000', 'files': ['ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f08938043a3d708478e9e293e5985c48a7f5e06', 'message': 'Avoid handling a deploy failure twice\n\nIn some cases we handle the same exception twice in a row: in agent_base\nand in deployments.do_next_deploy_step. This change avoids it.\n\nAlso make deploy step error messages more uniform across the board.\n\nChange-Id: Ic84c04118b1a85b10a761fc58796827583a5b086\n'}]",2,816684,4f08938043a3d708478e9e293e5985c48a7f5e06,17,3,1,10239,,,0,"Avoid handling a deploy failure twice

In some cases we handle the same exception twice in a row: in agent_base
and in deployments.do_next_deploy_step. This change avoids it.

Also make deploy step error messages more uniform across the board.

Change-Id: Ic84c04118b1a85b10a761fc58796827583a5b086
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/816684/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py']",3,4f08938043a3d708478e9e293e5985c48a7f5e06,double-fail," except exception.AgentInProgress as e: LOG.info('Conductor attempted to process deploy step for ' 'node %(node)s. Agent indicated it is presently ' 'executing a command. Error: %(error)s', {'node': task.node.uuid, 'error': e}) driver_internal_info['skip_current_deploy_step'] = False node.driver_internal_info = driver_internal_info task.process_event('wait') return # Avoid double handling of failures. For example, set_failed_state # from deploy_utils already calls deploying_error_handler. if task.node.provision_state != states.DEPLOYFAIL: log_msg = ('Node %(node)s failed deploy step %(step)s. Error: ' '%(err)s' % {'node': node.uuid, 'step': node.deploy_step, 'err': e}) utils.deploying_error_handler( task, log_msg, _(""Deploy step %(step)s failed: %(err)s."") % {'step': conductor_steps.step_id(step), 'err': e}) _(""Deploy step %(step)s failed with %(exc)s: %(err)s."") % {'step': conductor_steps.step_id(step), 'err': e, 'exc': e.__class__.__name__}, traceback=True)"," if isinstance(e, exception.AgentInProgress): LOG.info('Conductor attempted to process deploy step for ' 'node %(node)s. Agent indicated it is presently ' 'executing a command. Error: %(error)s', {'node': task.node.uuid, 'error': e}) driver_internal_info['skip_current_deploy_step'] = False node.driver_internal_info = driver_internal_info task.process_event('wait') return log_msg = ('Node %(node)s failed deploy step %(step)s. Error: ' '%(err)s' % {'node': node.uuid, 'step': node.deploy_step, 'err': e}) utils.deploying_error_handler( task, log_msg, _(""Deploy step %(step)s failed: %(err)s."") % {'step': conductor_steps.step_id(step), 'err': e}) _(""Failed to deploy. Exception: %s"") % e, traceback=True)",57,28
openstack%2Fironic-python-agent~stable%2Fwallaby~I6a1bb78acaf5a4284727bdf533d4be6db2099f50,openstack/ironic-python-agent,stable/wallaby,I6a1bb78acaf5a4284727bdf533d4be6db2099f50,Output verbose info from efibootmgr,MERGED,2021-11-08 14:19:10.000000000,2021-11-09 15:28:47.000000000,2021-11-09 15:09:03.000000000,"[{'_account_id': 1926}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-08 14:19:10.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9753b61a51008da4f0b948b0c89665b762eb95c4', 'message': 'Output verbose info from efibootmgr\n\nWhen debugging boot manager problems it can be advantageous to\nsee all the full entries rather then just their labels.\n\nChange-Id: I6a1bb78acaf5a4284727bdf533d4be6db2099f50\n(cherry picked from commit caf695f70ab366498b46cb6f07f6751369c67e30)\n'}]",0,817012,9753b61a51008da4f0b948b0c89665b762eb95c4,10,4,1,11655,,,0,"Output verbose info from efibootmgr

When debugging boot manager problems it can be advantageous to
see all the full entries rather then just their labels.

Change-Id: I6a1bb78acaf5a4284727bdf533d4be6db2099f50
(cherry picked from commit caf695f70ab366498b46cb6f07f6751369c67e30)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/12/817012/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,9753b61a51008da4f0b948b0c89665b762eb95c4,," LOG.debug(""Getting information about boot order."") utils.execute('efibootmgr', '-v') cmd = utils.execute('efibootmgr', '-v', '-c', '-d', device,"," LOG.debug(""Getting information about boot order"") utils.execute('efibootmgr') cmd = utils.execute('efibootmgr', '-c', '-d', device,",22,22
openstack%2Ftripleo-common~master~I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,openstack/tripleo-common,master,I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,[EL8] Add nodejs:14 module stream,MERGED,2021-11-08 15:59:38.000000000,2021-11-09 15:28:45.000000000,2021-11-09 15:08:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-08 15:59:38.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2b4dd668ec90149ad7b80f3500e5a397eb4b8be4', 'message': '[EL8] Add nodejs:14 module stream\n\nnodejs is a dependency of novnc in EL8, so it gets installed in the\nnova-novncproxy image. Not specifying a module stream means that the\ninstall can default to an unsupported version of nodejs.\n\nExplicitly enabling nodejs:14 prevents that.\n\nThe EL9 build of novnc does not require nodejs so this is not a concern\nthere.\n\nChange-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0\n'}]",0,817043,2b4dd668ec90149ad7b80f3500e5a397eb4b8be4,9,4,1,31581,,,0,"[EL8] Add nodejs:14 module stream

nodejs is a dependency of novnc in EL8, so it gets installed in the
nova-novncproxy image. Not specifying a module stream means that the
install can default to an unsupported version of nodejs.

Explicitly enabling nodejs:14 prevents that.

The EL9 build of novnc does not require nodejs so this is not a concern
there.

Change-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/817043/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,2b4dd668ec90149ad7b80f3500e5a397eb4b8be4,modules, - enable: nodejs:{{ tcib_rhel_modules['nodejs'] | default('14') }},,1,0
openstack%2Fneutron~master~I2e3d389552aeb4f454b01fe69198d759c8b2a039,openstack/neutron,master,I2e3d389552aeb4f454b01fe69198d759c8b2a039,Bump OVN version for functional job to 21.06,MERGED,2021-11-04 03:17:54.000000000,2021-11-09 15:23:09.000000000,2021-11-09 15:00:36.000000000,"[{'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 03:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c8ccd9b31e44d89a7f0d53ef908a06d2f796115', 'message': 'Bump OVN version for functional job to 21.06\n\nThis is needed to validate allow-stateless with the job.\n\nChange-Id: I2e3d389552aeb4f454b01fe69198d759c8b2a039\n'}, {'number': 2, 'created': '2021-11-04 13:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb5d3f7e1676919bb39f1fe8bc604179389dce64', 'message': 'Bump OVN version for functional job to 21.06\n\nThis is needed to validate allow-stateless with the job.\n\nChange-Id: I2e3d389552aeb4f454b01fe69198d759c8b2a039\n'}, {'number': 3, 'created': '2021-11-04 16:46:12.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/753693d315a79c84eabd3fd21f2b6f3f5bcef23f', 'message': 'Bump OVN version for functional job to 21.06\n\nThis is needed to validate allow-stateless with the job.\n\nRelated-Bug: #1949451\nChange-Id: I2e3d389552aeb4f454b01fe69198d759c8b2a039\n'}]",12,816614,753693d315a79c84eabd3fd21f2b6f3f5bcef23f,45,4,3,9656,,,0,"Bump OVN version for functional job to 21.06

This is needed to validate allow-stateless with the job.

Related-Bug: #1949451
Change-Id: I2e3d389552aeb4f454b01fe69198d759c8b2a039
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/816614/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,8c8ccd9b31e44d89a7f0d53ef908a06d2f796115,stateful-update-acl, OVN_BRANCH: v21.06.0, OVN_BRANCH: v20.06.1,1,1
openstack%2Freleases~master~I2b92c2d2d478552af26922aaf4a5976f8a0fa728,openstack/releases,master,I2b92c2d2d478552af26922aaf4a5976f8a0fa728,[manila-ui] Release manila-ui 5.1.0,MERGED,2021-11-03 21:08:11.000000000,2021-11-09 15:22:59.000000000,2021-11-09 15:22:59.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 21:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d6fe85be74b099bece285a1c5d009a3330308595', 'message': '[manila-ui] Release manila-ui 5.0.1\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/wallaby branch.\n\nChange-Id: I2b92c2d2d478552af26922aaf4a5976f8a0fa728\n'}, {'number': 2, 'created': '2021-11-05 20:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ad04155b9174be50e70574c50d841f49903ae9f7', 'message': '[manila-ui] Release manila-ui 5.0.1\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/wallaby branch.\n\nChange-Id: I2b92c2d2d478552af26922aaf4a5976f8a0fa728\n'}, {'number': 3, 'created': '2021-11-05 20:08:06.000000000', 'files': ['deliverables/wallaby/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5564a5cdb56776375bbed4916ff204b21f808776', 'message': '[manila-ui] Release manila-ui 5.1.0\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/wallaby branch.\n\nChange-Id: I2b92c2d2d478552af26922aaf4a5976f8a0fa728\n'}]",6,816579,5564a5cdb56776375bbed4916ff204b21f808776,17,4,3,29632,,,0,"[manila-ui] Release manila-ui 5.1.0

This release includes several bugfixes and enhancements committed
against the stable/wallaby branch.

Change-Id: I2b92c2d2d478552af26922aaf4a5976f8a0fa728
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/816579/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/manila-ui.yaml'],1,d6fe85be74b099bece285a1c5d009a3330308595,manila, - version: 5.0.1 projects: - repo: openstack/manila-ui hash: f421aeb1e18664411cbb20420fe2c4847767573b,,4,0
openstack%2Freleases~master~Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de,openstack/releases,master,Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de,Release OpenStack-Ansible Wallaby,MERGED,2021-11-09 07:45:24.000000000,2021-11-09 15:22:56.000000000,2021-11-09 15:22:56.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-09 07:45:24.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb5b44c3845c200c72edd475327e2e3072b4bc70', 'message': 'Release OpenStack-Ansible Wallaby\n\nChange-Id: Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de\n'}]",1,817149,fb5b44c3845c200c72edd475327e2e3072b4bc70,8,3,1,28619,,,0,"Release OpenStack-Ansible Wallaby

Change-Id: Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/817149/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,fb5b44c3845c200c72edd475327e2e3072b4bc70,release_osa, - version: 23.1.2 projects: - repo: openstack/openstack-ansible hash: 1a03031f0e2266b9735a93bcf77bc603883dbdd8,,4,0
openstack%2Freleases~master~I43d2523e72cded17c030ccfeac434f36e65c8540,openstack/releases,master,I43d2523e72cded17c030ccfeac434f36e65c8540,[manila] Release manila 12.1.0,MERGED,2021-11-03 20:06:32.000000000,2021-11-09 15:22:53.000000000,2021-11-09 15:22:53.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-03 20:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/519d3ecbc947fdb3cbf8a852af586cf0411f0264', 'message': '[manila] Release manila 12.0.1\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/wallaby branch.\n\nChange-Id: I43d2523e72cded17c030ccfeac434f36e65c8540\n'}, {'number': 2, 'created': '2021-11-08 22:14:07.000000000', 'files': ['deliverables/wallaby/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/078c033a23c4eb0480c7695080e09930d81ad33a', 'message': '[manila] Release manila 12.1.0\n\nThis release includes several bugfixes and enhancements committed\nagainst the stable/wallaby branch.\n\nChange-Id: I43d2523e72cded17c030ccfeac434f36e65c8540\n'}]",4,816554,078c033a23c4eb0480c7695080e09930d81ad33a,13,4,2,29632,,,0,"[manila] Release manila 12.1.0

This release includes several bugfixes and enhancements committed
against the stable/wallaby branch.

Change-Id: I43d2523e72cded17c030ccfeac434f36e65c8540
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/816554/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/manila.yaml'],1,519d3ecbc947fdb3cbf8a852af586cf0411f0264,, - version: 12.0.1 projects: - repo: openstack/manila hash: 7eca10bcb56574cd11fd6a929d87458b0aba20be,,4,0
